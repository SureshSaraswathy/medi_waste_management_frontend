var gD=Object.defineProperty;var vD=(r,e,n)=>e in r?gD(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n;var Yi=(r,e,n)=>vD(r,typeof e!="symbol"?e+"":e,n);function xD(r,e){for(var n=0;n<e.length;n++){const a=e[n];if(typeof a!="string"&&!Array.isArray(a)){for(const i in a)if(i!=="default"&&!(i in r)){const s=Object.getOwnPropertyDescriptor(a,i);s&&Object.defineProperty(r,i,s.get?s:{enumerable:!0,get:()=>a[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var cA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ts(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var py={exports:{}},zm={},my={exports:{}},Ei={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AS;function yD(){if(AS)return Ei;AS=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),o=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;function A(_e){return _e===null||typeof _e!="object"?null:(_e=d&&_e[d]||_e["@@iterator"],typeof _e=="function"?_e:null)}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function x(_e,Z,Oe){this.props=_e,this.context=Z,this.refs=m,this.updater=Oe||f}x.prototype.isReactComponent={},x.prototype.setState=function(_e,Z){if(typeof _e!="object"&&typeof _e!="function"&&_e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_e,Z,"setState")},x.prototype.forceUpdate=function(_e){this.updater.enqueueForceUpdate(this,_e,"forceUpdate")};function y(){}y.prototype=x.prototype;function b(_e,Z,Oe){this.props=_e,this.context=Z,this.refs=m,this.updater=Oe||f}var w=b.prototype=new y;w.constructor=b,g(w,x.prototype),w.isPureReactComponent=!0;var S=Array.isArray,N=Object.prototype.hasOwnProperty,C={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function W(_e,Z,Oe){var ee,re={},je=null,Ne=null;if(Z!=null)for(ee in Z.ref!==void 0&&(Ne=Z.ref),Z.key!==void 0&&(je=""+Z.key),Z)N.call(Z,ee)&&!O.hasOwnProperty(ee)&&(re[ee]=Z[ee]);var ye=arguments.length-2;if(ye===1)re.children=Oe;else if(1<ye){for(var me=Array(ye),ie=0;ie<ye;ie++)me[ie]=arguments[ie+2];re.children=me}if(_e&&_e.defaultProps)for(ee in ye=_e.defaultProps,ye)re[ee]===void 0&&(re[ee]=ye[ee]);return{$$typeof:r,type:_e,key:je,ref:Ne,props:re,_owner:C.current}}function K(_e,Z){return{$$typeof:r,type:_e.type,key:Z,ref:_e.ref,props:_e.props,_owner:_e._owner}}function te(_e){return typeof _e=="object"&&_e!==null&&_e.$$typeof===r}function q(_e){var Z={"=":"=0",":":"=2"};return"$"+_e.replace(/[=:]/g,function(Oe){return Z[Oe]})}var Y=/\/+/g;function P(_e,Z){return typeof _e=="object"&&_e!==null&&_e.key!=null?q(""+_e.key):Z.toString(36)}function ce(_e,Z,Oe,ee,re){var je=typeof _e;(je==="undefined"||je==="boolean")&&(_e=null);var Ne=!1;if(_e===null)Ne=!0;else switch(je){case"string":case"number":Ne=!0;break;case"object":switch(_e.$$typeof){case r:case e:Ne=!0}}if(Ne)return Ne=_e,re=re(Ne),_e=ee===""?"."+P(Ne,0):ee,S(re)?(Oe="",_e!=null&&(Oe=_e.replace(Y,"$&/")+"/"),ce(re,Z,Oe,"",function(ie){return ie})):re!=null&&(te(re)&&(re=K(re,Oe+(!re.key||Ne&&Ne.key===re.key?"":(""+re.key).replace(Y,"$&/")+"/")+_e)),Z.push(re)),1;if(Ne=0,ee=ee===""?".":ee+":",S(_e))for(var ye=0;ye<_e.length;ye++){je=_e[ye];var me=ee+P(je,ye);Ne+=ce(je,Z,Oe,me,re)}else if(me=A(_e),typeof me=="function")for(_e=me.call(_e),ye=0;!(je=_e.next()).done;)je=je.value,me=ee+P(je,ye++),Ne+=ce(je,Z,Oe,me,re);else if(je==="object")throw Z=String(_e),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(_e).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return Ne}function $(_e,Z,Oe){if(_e==null)return _e;var ee=[],re=0;return ce(_e,ee,"","",function(je){return Z.call(Oe,je,re++)}),ee}function R(_e){if(_e._status===-1){var Z=_e._result;Z=Z(),Z.then(function(Oe){(_e._status===0||_e._status===-1)&&(_e._status=1,_e._result=Oe)},function(Oe){(_e._status===0||_e._status===-1)&&(_e._status=2,_e._result=Oe)}),_e._status===-1&&(_e._status=0,_e._result=Z)}if(_e._status===1)return _e._result.default;throw _e._result}var se={current:null},fe={transition:null},Te={ReactCurrentDispatcher:se,ReactCurrentBatchConfig:fe,ReactCurrentOwner:C};function Ie(){throw Error("act(...) is not supported in production builds of React.")}return Ei.Children={map:$,forEach:function(_e,Z,Oe){$(_e,function(){Z.apply(this,arguments)},Oe)},count:function(_e){var Z=0;return $(_e,function(){Z++}),Z},toArray:function(_e){return $(_e,function(Z){return Z})||[]},only:function(_e){if(!te(_e))throw Error("React.Children.only expected to receive a single React element child.");return _e}},Ei.Component=x,Ei.Fragment=n,Ei.Profiler=i,Ei.PureComponent=b,Ei.StrictMode=a,Ei.Suspense=u,Ei.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Te,Ei.act=Ie,Ei.cloneElement=function(_e,Z,Oe){if(_e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_e+".");var ee=g({},_e.props),re=_e.key,je=_e.ref,Ne=_e._owner;if(Z!=null){if(Z.ref!==void 0&&(je=Z.ref,Ne=C.current),Z.key!==void 0&&(re=""+Z.key),_e.type&&_e.type.defaultProps)var ye=_e.type.defaultProps;for(me in Z)N.call(Z,me)&&!O.hasOwnProperty(me)&&(ee[me]=Z[me]===void 0&&ye!==void 0?ye[me]:Z[me])}var me=arguments.length-2;if(me===1)ee.children=Oe;else if(1<me){ye=Array(me);for(var ie=0;ie<me;ie++)ye[ie]=arguments[ie+2];ee.children=ye}return{$$typeof:r,type:_e.type,key:re,ref:je,props:ee,_owner:Ne}},Ei.createContext=function(_e){return _e={$$typeof:c,_currentValue:_e,_currentValue2:_e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_e.Provider={$$typeof:s,_context:_e},_e.Consumer=_e},Ei.createElement=W,Ei.createFactory=function(_e){var Z=W.bind(null,_e);return Z.type=_e,Z},Ei.createRef=function(){return{current:null}},Ei.forwardRef=function(_e){return{$$typeof:l,render:_e}},Ei.isValidElement=te,Ei.lazy=function(_e){return{$$typeof:h,_payload:{_status:-1,_result:_e},_init:R}},Ei.memo=function(_e,Z){return{$$typeof:o,type:_e,compare:Z===void 0?null:Z}},Ei.startTransition=function(_e){var Z=fe.transition;fe.transition={};try{_e()}finally{fe.transition=Z}},Ei.unstable_act=Ie,Ei.useCallback=function(_e,Z){return se.current.useCallback(_e,Z)},Ei.useContext=function(_e){return se.current.useContext(_e)},Ei.useDebugValue=function(){},Ei.useDeferredValue=function(_e){return se.current.useDeferredValue(_e)},Ei.useEffect=function(_e,Z){return se.current.useEffect(_e,Z)},Ei.useId=function(){return se.current.useId()},Ei.useImperativeHandle=function(_e,Z,Oe){return se.current.useImperativeHandle(_e,Z,Oe)},Ei.useInsertionEffect=function(_e,Z){return se.current.useInsertionEffect(_e,Z)},Ei.useLayoutEffect=function(_e,Z){return se.current.useLayoutEffect(_e,Z)},Ei.useMemo=function(_e,Z){return se.current.useMemo(_e,Z)},Ei.useReducer=function(_e,Z,Oe){return se.current.useReducer(_e,Z,Oe)},Ei.useRef=function(_e){return se.current.useRef(_e)},Ei.useState=function(_e){return se.current.useState(_e)},Ei.useSyncExternalStore=function(_e,Z,Oe){return se.current.useSyncExternalStore(_e,Z,Oe)},Ei.useTransition=function(){return se.current.useTransition()},Ei.version="18.3.1",Ei}var fS;function VN(){return fS||(fS=1,my.exports=yD()),my.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pS;function bD(){if(pS)return zm;pS=1;var r=VN(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(l,u,o){var h,d={},A=null,f=null;o!==void 0&&(A=""+o),u.key!==void 0&&(A=""+u.key),u.ref!==void 0&&(f=u.ref);for(h in u)a.call(u,h)&&!s.hasOwnProperty(h)&&(d[h]=u[h]);if(l&&l.defaultProps)for(h in u=l.defaultProps,u)d[h]===void 0&&(d[h]=u[h]);return{$$typeof:e,type:l,key:A,ref:f,props:d,_owner:i.current}}return zm.Fragment=n,zm.jsx=c,zm.jsxs=c,zm}var mS;function wD(){return mS||(mS=1,py.exports=bD()),py.exports}var t=wD(),k=VN();const xt=ts(k),jD=xD({__proto__:null,default:xt},[k]);var e1={},gy={exports:{}},Mu={},vy={exports:{}},xy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gS;function CD(){return gS||(gS=1,(function(r){function e(fe,Te){var Ie=fe.length;fe.push(Te);e:for(;0<Ie;){var _e=Ie-1>>>1,Z=fe[_e];if(0<i(Z,Te))fe[_e]=Te,fe[Ie]=Z,Ie=_e;else break e}}function n(fe){return fe.length===0?null:fe[0]}function a(fe){if(fe.length===0)return null;var Te=fe[0],Ie=fe.pop();if(Ie!==Te){fe[0]=Ie;e:for(var _e=0,Z=fe.length,Oe=Z>>>1;_e<Oe;){var ee=2*(_e+1)-1,re=fe[ee],je=ee+1,Ne=fe[je];if(0>i(re,Ie))je<Z&&0>i(Ne,re)?(fe[_e]=Ne,fe[je]=Ie,_e=je):(fe[_e]=re,fe[ee]=Ie,_e=ee);else if(je<Z&&0>i(Ne,Ie))fe[_e]=Ne,fe[je]=Ie,_e=je;else break e}}return Te}function i(fe,Te){var Ie=fe.sortIndex-Te.sortIndex;return Ie!==0?Ie:fe.id-Te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var c=Date,l=c.now();r.unstable_now=function(){return c.now()-l}}var u=[],o=[],h=1,d=null,A=3,f=!1,g=!1,m=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(fe){for(var Te=n(o);Te!==null;){if(Te.callback===null)a(o);else if(Te.startTime<=fe)a(o),Te.sortIndex=Te.expirationTime,e(u,Te);else break;Te=n(o)}}function S(fe){if(m=!1,w(fe),!g)if(n(u)!==null)g=!0,R(N);else{var Te=n(o);Te!==null&&se(S,Te.startTime-fe)}}function N(fe,Te){g=!1,m&&(m=!1,y(W),W=-1),f=!0;var Ie=A;try{for(w(Te),d=n(u);d!==null&&(!(d.expirationTime>Te)||fe&&!q());){var _e=d.callback;if(typeof _e=="function"){d.callback=null,A=d.priorityLevel;var Z=_e(d.expirationTime<=Te);Te=r.unstable_now(),typeof Z=="function"?d.callback=Z:d===n(u)&&a(u),w(Te)}else a(u);d=n(u)}if(d!==null)var Oe=!0;else{var ee=n(o);ee!==null&&se(S,ee.startTime-Te),Oe=!1}return Oe}finally{d=null,A=Ie,f=!1}}var C=!1,O=null,W=-1,K=5,te=-1;function q(){return!(r.unstable_now()-te<K)}function Y(){if(O!==null){var fe=r.unstable_now();te=fe;var Te=!0;try{Te=O(!0,fe)}finally{Te?P():(C=!1,O=null)}}else C=!1}var P;if(typeof b=="function")P=function(){b(Y)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,$=ce.port2;ce.port1.onmessage=Y,P=function(){$.postMessage(null)}}else P=function(){x(Y,0)};function R(fe){O=fe,C||(C=!0,P())}function se(fe,Te){W=x(function(){fe(r.unstable_now())},Te)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(fe){fe.callback=null},r.unstable_continueExecution=function(){g||f||(g=!0,R(N))},r.unstable_forceFrameRate=function(fe){0>fe||125<fe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<fe?Math.floor(1e3/fe):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_getFirstCallbackNode=function(){return n(u)},r.unstable_next=function(fe){switch(A){case 1:case 2:case 3:var Te=3;break;default:Te=A}var Ie=A;A=Te;try{return fe()}finally{A=Ie}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(fe,Te){switch(fe){case 1:case 2:case 3:case 4:case 5:break;default:fe=3}var Ie=A;A=fe;try{return Te()}finally{A=Ie}},r.unstable_scheduleCallback=function(fe,Te,Ie){var _e=r.unstable_now();switch(typeof Ie=="object"&&Ie!==null?(Ie=Ie.delay,Ie=typeof Ie=="number"&&0<Ie?_e+Ie:_e):Ie=_e,fe){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=Ie+Z,fe={id:h++,callback:Te,priorityLevel:fe,startTime:Ie,expirationTime:Z,sortIndex:-1},Ie>_e?(fe.sortIndex=Ie,e(o,fe),n(u)===null&&fe===n(o)&&(m?(y(W),W=-1):m=!0,se(S,Ie-_e))):(fe.sortIndex=Z,e(u,fe),g||f||(g=!0,R(N))),fe},r.unstable_shouldYield=q,r.unstable_wrapCallback=function(fe){var Te=A;return function(){var Ie=A;A=Te;try{return fe.apply(this,arguments)}finally{A=Ie}}}})(xy)),xy}var vS;function ND(){return vS||(vS=1,vy.exports=CD()),vy.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xS;function SD(){if(xS)return Mu;xS=1;var r=VN(),e=ND();function n(p){for(var v="https://reactjs.org/docs/error-decoder.html?invariant="+p,j=1;j<arguments.length;j++)v+="&args[]="+encodeURIComponent(arguments[j]);return"Minified React error #"+p+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,i={};function s(p,v){c(p,v),c(p+"Capture",v)}function c(p,v){for(i[p]=v,p=0;p<v.length;p++)a.add(v[p])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,o=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},d={};function A(p){return u.call(d,p)?!0:u.call(h,p)?!1:o.test(p)?d[p]=!0:(h[p]=!0,!1)}function f(p,v,j,V){if(j!==null&&j.type===0)return!1;switch(typeof v){case"function":case"symbol":return!0;case"boolean":return V?!1:j!==null?!j.acceptsBooleans:(p=p.toLowerCase().slice(0,5),p!=="data-"&&p!=="aria-");default:return!1}}function g(p,v,j,V){if(v===null||typeof v>"u"||f(p,v,j,V))return!0;if(V)return!1;if(j!==null)switch(j.type){case 3:return!v;case 4:return v===!1;case 5:return isNaN(v);case 6:return isNaN(v)||1>v}return!1}function m(p,v,j,V,pe,Be,Ve){this.acceptsBooleans=v===2||v===3||v===4,this.attributeName=V,this.attributeNamespace=pe,this.mustUseProperty=j,this.propertyName=p,this.type=v,this.sanitizeURL=Be,this.removeEmptyString=Ve}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(p){x[p]=new m(p,0,!1,p,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(p){var v=p[0];x[v]=new m(v,1,!1,p[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(p){x[p]=new m(p,2,!1,p.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(p){x[p]=new m(p,2,!1,p,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(p){x[p]=new m(p,3,!1,p.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(p){x[p]=new m(p,3,!0,p,null,!1,!1)}),["capture","download"].forEach(function(p){x[p]=new m(p,4,!1,p,null,!1,!1)}),["cols","rows","size","span"].forEach(function(p){x[p]=new m(p,6,!1,p,null,!1,!1)}),["rowSpan","start"].forEach(function(p){x[p]=new m(p,5,!1,p.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function b(p){return p[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(p){var v=p.replace(y,b);x[v]=new m(v,1,!1,p,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(p){var v=p.replace(y,b);x[v]=new m(v,1,!1,p,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(p){var v=p.replace(y,b);x[v]=new m(v,1,!1,p,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(p){x[p]=new m(p,1,!1,p.toLowerCase(),null,!1,!1)}),x.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(p){x[p]=new m(p,1,!1,p.toLowerCase(),null,!0,!0)});function w(p,v,j,V){var pe=x.hasOwnProperty(v)?x[v]:null;(pe!==null?pe.type!==0:V||!(2<v.length)||v[0]!=="o"&&v[0]!=="O"||v[1]!=="n"&&v[1]!=="N")&&(g(v,j,pe,V)&&(j=null),V||pe===null?A(v)&&(j===null?p.removeAttribute(v):p.setAttribute(v,""+j)):pe.mustUseProperty?p[pe.propertyName]=j===null?pe.type===3?!1:"":j:(v=pe.attributeName,V=pe.attributeNamespace,j===null?p.removeAttribute(v):(pe=pe.type,j=pe===3||pe===4&&j===!0?"":""+j,V?p.setAttributeNS(V,v,j):p.setAttribute(v,j))))}var S=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,N=Symbol.for("react.element"),C=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),te=Symbol.for("react.provider"),q=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),se=Symbol.for("react.offscreen"),fe=Symbol.iterator;function Te(p){return p===null||typeof p!="object"?null:(p=fe&&p[fe]||p["@@iterator"],typeof p=="function"?p:null)}var Ie=Object.assign,_e;function Z(p){if(_e===void 0)try{throw Error()}catch(j){var v=j.stack.trim().match(/\n( *(at )?)/);_e=v&&v[1]||""}return`
`+_e+p}var Oe=!1;function ee(p,v){if(!p||Oe)return"";Oe=!0;var j=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(v)if(v=function(){throw Error()},Object.defineProperty(v.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(v,[])}catch(gr){var V=gr}Reflect.construct(p,[],v)}else{try{v.call()}catch(gr){V=gr}p.call(v.prototype)}else{try{throw Error()}catch(gr){V=gr}p()}}catch(gr){if(gr&&V&&typeof gr.stack=="string"){for(var pe=gr.stack.split(`
`),Be=V.stack.split(`
`),Ve=pe.length-1,jt=Be.length-1;1<=Ve&&0<=jt&&pe[Ve]!==Be[jt];)jt--;for(;1<=Ve&&0<=jt;Ve--,jt--)if(pe[Ve]!==Be[jt]){if(Ve!==1||jt!==1)do if(Ve--,jt--,0>jt||pe[Ve]!==Be[jt]){var Rt=`
`+pe[Ve].replace(" at new "," at ");return p.displayName&&Rt.includes("<anonymous>")&&(Rt=Rt.replace("<anonymous>",p.displayName)),Rt}while(1<=Ve&&0<=jt);break}}}finally{Oe=!1,Error.prepareStackTrace=j}return(p=p?p.displayName||p.name:"")?Z(p):""}function re(p){switch(p.tag){case 5:return Z(p.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return p=ee(p.type,!1),p;case 11:return p=ee(p.type.render,!1),p;case 1:return p=ee(p.type,!0),p;default:return""}}function je(p){if(p==null)return null;if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case O:return"Fragment";case C:return"Portal";case K:return"Profiler";case W:return"StrictMode";case P:return"Suspense";case ce:return"SuspenseList"}if(typeof p=="object")switch(p.$$typeof){case q:return(p.displayName||"Context")+".Consumer";case te:return(p._context.displayName||"Context")+".Provider";case Y:var v=p.render;return p=p.displayName,p||(p=v.displayName||v.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case $:return v=p.displayName||null,v!==null?v:je(p.type)||"Memo";case R:v=p._payload,p=p._init;try{return je(p(v))}catch{}}return null}function Ne(p){var v=p.type;switch(p.tag){case 24:return"Cache";case 9:return(v.displayName||"Context")+".Consumer";case 10:return(v._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return p=v.render,p=p.displayName||p.name||"",v.displayName||(p!==""?"ForwardRef("+p+")":"ForwardRef");case 7:return"Fragment";case 5:return v;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return je(v);case 8:return v===W?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof v=="function")return v.displayName||v.name||null;if(typeof v=="string")return v}return null}function ye(p){switch(typeof p){case"boolean":case"number":case"string":case"undefined":return p;case"object":return p;default:return""}}function me(p){var v=p.type;return(p=p.nodeName)&&p.toLowerCase()==="input"&&(v==="checkbox"||v==="radio")}function ie(p){var v=me(p)?"checked":"value",j=Object.getOwnPropertyDescriptor(p.constructor.prototype,v),V=""+p[v];if(!p.hasOwnProperty(v)&&typeof j<"u"&&typeof j.get=="function"&&typeof j.set=="function"){var pe=j.get,Be=j.set;return Object.defineProperty(p,v,{configurable:!0,get:function(){return pe.call(this)},set:function(Ve){V=""+Ve,Be.call(this,Ve)}}),Object.defineProperty(p,v,{enumerable:j.enumerable}),{getValue:function(){return V},setValue:function(Ve){V=""+Ve},stopTracking:function(){p._valueTracker=null,delete p[v]}}}}function le(p){p._valueTracker||(p._valueTracker=ie(p))}function Ee(p){if(!p)return!1;var v=p._valueTracker;if(!v)return!0;var j=v.getValue(),V="";return p&&(V=me(p)?p.checked?"true":"false":p.value),p=V,p!==j?(v.setValue(p),!0):!1}function Re(p){if(p=p||(typeof document<"u"?document:void 0),typeof p>"u")return null;try{return p.activeElement||p.body}catch{return p.body}}function Ue(p,v){var j=v.checked;return Ie({},v,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:j??p._wrapperState.initialChecked})}function de(p,v){var j=v.defaultValue==null?"":v.defaultValue,V=v.checked!=null?v.checked:v.defaultChecked;j=ye(v.value!=null?v.value:j),p._wrapperState={initialChecked:V,initialValue:j,controlled:v.type==="checkbox"||v.type==="radio"?v.checked!=null:v.value!=null}}function Ce(p,v){v=v.checked,v!=null&&w(p,"checked",v,!1)}function ue(p,v){Ce(p,v);var j=ye(v.value),V=v.type;if(j!=null)V==="number"?(j===0&&p.value===""||p.value!=j)&&(p.value=""+j):p.value!==""+j&&(p.value=""+j);else if(V==="submit"||V==="reset"){p.removeAttribute("value");return}v.hasOwnProperty("value")?it(p,v.type,j):v.hasOwnProperty("defaultValue")&&it(p,v.type,ye(v.defaultValue)),v.checked==null&&v.defaultChecked!=null&&(p.defaultChecked=!!v.defaultChecked)}function $e(p,v,j){if(v.hasOwnProperty("value")||v.hasOwnProperty("defaultValue")){var V=v.type;if(!(V!=="submit"&&V!=="reset"||v.value!==void 0&&v.value!==null))return;v=""+p._wrapperState.initialValue,j||v===p.value||(p.value=v),p.defaultValue=v}j=p.name,j!==""&&(p.name=""),p.defaultChecked=!!p._wrapperState.initialChecked,j!==""&&(p.name=j)}function it(p,v,j){(v!=="number"||Re(p.ownerDocument)!==p)&&(j==null?p.defaultValue=""+p._wrapperState.initialValue:p.defaultValue!==""+j&&(p.defaultValue=""+j))}var Et=Array.isArray;function Ct(p,v,j,V){if(p=p.options,v){v={};for(var pe=0;pe<j.length;pe++)v["$"+j[pe]]=!0;for(j=0;j<p.length;j++)pe=v.hasOwnProperty("$"+p[j].value),p[j].selected!==pe&&(p[j].selected=pe),pe&&V&&(p[j].defaultSelected=!0)}else{for(j=""+ye(j),v=null,pe=0;pe<p.length;pe++){if(p[pe].value===j){p[pe].selected=!0,V&&(p[pe].defaultSelected=!0);return}v!==null||p[pe].disabled||(v=p[pe])}v!==null&&(v.selected=!0)}}function Bt(p,v){if(v.dangerouslySetInnerHTML!=null)throw Error(n(91));return Ie({},v,{value:void 0,defaultValue:void 0,children:""+p._wrapperState.initialValue})}function mr(p,v){var j=v.value;if(j==null){if(j=v.children,v=v.defaultValue,j!=null){if(v!=null)throw Error(n(92));if(Et(j)){if(1<j.length)throw Error(n(93));j=j[0]}v=j}v==null&&(v=""),j=v}p._wrapperState={initialValue:ye(j)}}function lr(p,v){var j=ye(v.value),V=ye(v.defaultValue);j!=null&&(j=""+j,j!==p.value&&(p.value=j),v.defaultValue==null&&p.defaultValue!==j&&(p.defaultValue=j)),V!=null&&(p.defaultValue=""+V)}function He(p){var v=p.textContent;v===p._wrapperState.initialValue&&v!==""&&v!==null&&(p.value=v)}function $t(p){switch(p){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nt(p,v){return p==null||p==="http://www.w3.org/1999/xhtml"?$t(v):p==="http://www.w3.org/2000/svg"&&v==="foreignObject"?"http://www.w3.org/1999/xhtml":p}var Dr,vr=(function(p){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(v,j,V,pe){MSApp.execUnsafeLocalFunction(function(){return p(v,j,V,pe)})}:p})(function(p,v){if(p.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in p)p.innerHTML=v;else{for(Dr=Dr||document.createElement("div"),Dr.innerHTML="<svg>"+v.valueOf().toString()+"</svg>",v=Dr.firstChild;p.firstChild;)p.removeChild(p.firstChild);for(;v.firstChild;)p.appendChild(v.firstChild)}});function an(p,v){if(v){var j=p.firstChild;if(j&&j===p.lastChild&&j.nodeType===3){j.nodeValue=v;return}}p.textContent=v}var Xr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qr=["Webkit","ms","Moz","O"];Object.keys(Xr).forEach(function(p){Qr.forEach(function(v){v=v+p.charAt(0).toUpperCase()+p.substring(1),Xr[v]=Xr[p]})});function Ir(p,v,j){return v==null||typeof v=="boolean"||v===""?"":j||typeof v!="number"||v===0||Xr.hasOwnProperty(p)&&Xr[p]?(""+v).trim():v+"px"}function hr(p,v){p=p.style;for(var j in v)if(v.hasOwnProperty(j)){var V=j.indexOf("--")===0,pe=Ir(j,v[j],V);j==="float"&&(j="cssFloat"),V?p.setProperty(j,pe):p[j]=pe}}var pr=Ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lr(p,v){if(v){if(pr[p]&&(v.children!=null||v.dangerouslySetInnerHTML!=null))throw Error(n(137,p));if(v.dangerouslySetInnerHTML!=null){if(v.children!=null)throw Error(n(60));if(typeof v.dangerouslySetInnerHTML!="object"||!("__html"in v.dangerouslySetInnerHTML))throw Error(n(61))}if(v.style!=null&&typeof v.style!="object")throw Error(n(62))}}function $r(p,v){if(p.indexOf("-")===-1)return typeof v.is=="string";switch(p){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dn=null;function zr(p){return p=p.target||p.srcElement||window,p.correspondingUseElement&&(p=p.correspondingUseElement),p.nodeType===3?p.parentNode:p}var Wn=null,Hr=null,Mr=null;function jn(p){if(p=ku(p)){if(typeof Wn!="function")throw Error(n(280));var v=p.stateNode;v&&(v=bd(v),Wn(p.stateNode,p.type,v))}}function cn(p){Hr?Mr?Mr.push(p):Mr=[p]:Hr=p}function Ln(){if(Hr){var p=Hr,v=Mr;if(Mr=Hr=null,jn(p),v)for(p=0;p<v.length;p++)jn(v[p])}}function ca(p,v){return p(v)}function Pt(){}var Kr=!1;function un(p,v,j){if(Kr)return p(v,j);Kr=!0;try{return ca(p,v,j)}finally{Kr=!1,(Hr!==null||Mr!==null)&&(Pt(),Ln())}}function tn(p,v){var j=p.stateNode;if(j===null)return null;var V=bd(j);if(V===null)return null;j=V[v];e:switch(v){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(V=!V.disabled)||(p=p.type,V=!(p==="button"||p==="input"||p==="select"||p==="textarea")),p=!V;break e;default:p=!1}if(p)return null;if(j&&typeof j!="function")throw Error(n(231,v,typeof j));return j}var cr=!1;if(l)try{var ga={};Object.defineProperty(ga,"passive",{get:function(){cr=!0}}),window.addEventListener("test",ga,ga),window.removeEventListener("test",ga,ga)}catch{cr=!1}function xi(p,v,j,V,pe,Be,Ve,jt,Rt){var gr=Array.prototype.slice.call(arguments,3);try{v.apply(j,gr)}catch(qr){this.onError(qr)}}var Cn=!1,Ts=null,Ni=!1,yi=null,Wi={onError:function(p){Cn=!0,Ts=p}};function Ii(p,v,j,V,pe,Be,Ve,jt,Rt){Cn=!1,Ts=null,xi.apply(Wi,arguments)}function Ds(p,v,j,V,pe,Be,Ve,jt,Rt){if(Ii.apply(this,arguments),Cn){if(Cn){var gr=Ts;Cn=!1,Ts=null}else throw Error(n(198));Ni||(Ni=!0,yi=gr)}}function Ga(p){var v=p,j=p;if(p.alternate)for(;v.return;)v=v.return;else{p=v;do v=p,(v.flags&4098)!==0&&(j=v.return),p=v.return;while(p)}return v.tag===3?j:null}function xs(p){if(p.tag===13){var v=p.memoizedState;if(v===null&&(p=p.alternate,p!==null&&(v=p.memoizedState)),v!==null)return v.dehydrated}return null}function Va(p){if(Ga(p)!==p)throw Error(n(188))}function Sc(p){var v=p.alternate;if(!v){if(v=Ga(p),v===null)throw Error(n(188));return v!==p?null:p}for(var j=p,V=v;;){var pe=j.return;if(pe===null)break;var Be=pe.alternate;if(Be===null){if(V=pe.return,V!==null){j=V;continue}break}if(pe.child===Be.child){for(Be=pe.child;Be;){if(Be===j)return Va(pe),p;if(Be===V)return Va(pe),v;Be=Be.sibling}throw Error(n(188))}if(j.return!==V.return)j=pe,V=Be;else{for(var Ve=!1,jt=pe.child;jt;){if(jt===j){Ve=!0,j=pe,V=Be;break}if(jt===V){Ve=!0,V=pe,j=Be;break}jt=jt.sibling}if(!Ve){for(jt=Be.child;jt;){if(jt===j){Ve=!0,j=Be,V=pe;break}if(jt===V){Ve=!0,V=Be,j=pe;break}jt=jt.sibling}if(!Ve)throw Error(n(189))}}if(j.alternate!==V)throw Error(n(190))}if(j.tag!==3)throw Error(n(188));return j.stateNode.current===j?p:v}function ys(p){return p=Sc(p),p!==null?Bl(p):null}function Bl(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){var v=Bl(p);if(v!==null)return v;p=p.sibling}return null}var Ec=e.unstable_scheduleCallback,Il=e.unstable_cancelCallback,$i=e.unstable_shouldYield,yo=e.unstable_requestPaint,fa=e.unstable_now,tc=e.unstable_getCurrentPriorityLevel,ai=e.unstable_ImmediatePriority,To=e.unstable_UserBlockingPriority,Ys=e.unstable_NormalPriority,_o=e.unstable_LowPriority,nl=e.unstable_IdlePriority,Oo=null,Vs=null;function Si(p){if(Vs&&typeof Vs.onCommitFiberRoot=="function")try{Vs.onCommitFiberRoot(Oo,p,void 0,(p.current.flags&128)===128)}catch{}}var ii=Math.clz32?Math.clz32:Wc,ml=Math.log,ko=Math.LN2;function Wc(p){return p>>>=0,p===0?32:31-(ml(p)/ko|0)|0}var ds=64,Gn=4194304;function Vi(p){switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return p&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return p}}function bs(p,v){var j=p.pendingLanes;if(j===0)return 0;var V=0,pe=p.suspendedLanes,Be=p.pingedLanes,Ve=j&268435455;if(Ve!==0){var jt=Ve&~pe;jt!==0?V=Vi(jt):(Be&=Ve,Be!==0&&(V=Vi(Be)))}else Ve=j&~pe,Ve!==0?V=Vi(Ve):Be!==0&&(V=Vi(Be));if(V===0)return 0;if(v!==0&&v!==V&&(v&pe)===0&&(pe=V&-V,Be=v&-v,pe>=Be||pe===16&&(Be&4194240)!==0))return v;if((V&4)!==0&&(V|=j&16),v=p.entangledLanes,v!==0)for(p=p.entanglements,v&=V;0<v;)j=31-ii(v),pe=1<<j,V|=p[j],v&=~pe;return V}function ws(p,v){switch(p){case 1:case 2:case 4:return v+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return v+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Po(p,v){for(var j=p.suspendedLanes,V=p.pingedLanes,pe=p.expirationTimes,Be=p.pendingLanes;0<Be;){var Ve=31-ii(Be),jt=1<<Ve,Rt=pe[Ve];Rt===-1?((jt&j)===0||(jt&V)!==0)&&(pe[Ve]=ws(jt,v)):Rt<=v&&(p.expiredLanes|=jt),Be&=~jt}}function Li(p){return p=p.pendingLanes&-1073741825,p!==0?p:p&1073741824?1073741824:0}function co(){var p=ds;return ds<<=1,(ds&4194240)===0&&(ds=64),p}function Ji(p){for(var v=[],j=0;31>j;j++)v.push(p);return v}function Di(p,v,j){p.pendingLanes|=v,v!==536870912&&(p.suspendedLanes=0,p.pingedLanes=0),p=p.eventTimes,v=31-ii(v),p[v]=j}function bo(p,v){var j=p.pendingLanes&~v;p.pendingLanes=v,p.suspendedLanes=0,p.pingedLanes=0,p.expiredLanes&=v,p.mutableReadLanes&=v,p.entangledLanes&=v,v=p.entanglements;var V=p.eventTimes;for(p=p.expirationTimes;0<j;){var pe=31-ii(j),Be=1<<pe;v[pe]=0,V[pe]=-1,p[pe]=-1,j&=~Be}}function Fo(p,v){var j=p.entangledLanes|=v;for(p=p.entanglements;j;){var V=31-ii(j),pe=1<<V;pe&v|p[V]&v&&(p[V]|=v),j&=~pe}}var va=0;function zi(p){return p&=-p,1<p?4<p?(p&268435455)!==0?16:536870912:4:1}var js,Zs,Ms,Do,Ht,H=!1,oe=[],he=null,M=null,Q=null,ne=new Map,we=new Map,Fe=[],qe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function st(p,v){switch(p){case"focusin":case"focusout":he=null;break;case"dragenter":case"dragleave":M=null;break;case"mouseover":case"mouseout":Q=null;break;case"pointerover":case"pointerout":ne.delete(v.pointerId);break;case"gotpointercapture":case"lostpointercapture":we.delete(v.pointerId)}}function I(p,v,j,V,pe,Be){return p===null||p.nativeEvent!==Be?(p={blockedOn:v,domEventName:j,eventSystemFlags:V,nativeEvent:Be,targetContainers:[pe]},v!==null&&(v=ku(v),v!==null&&Zs(v)),p):(p.eventSystemFlags|=V,v=p.targetContainers,pe!==null&&v.indexOf(pe)===-1&&v.push(pe),p)}function E(p,v,j,V,pe){switch(v){case"focusin":return he=I(he,p,v,j,V,pe),!0;case"dragenter":return M=I(M,p,v,j,V,pe),!0;case"mouseover":return Q=I(Q,p,v,j,V,pe),!0;case"pointerover":var Be=pe.pointerId;return ne.set(Be,I(ne.get(Be)||null,p,v,j,V,pe)),!0;case"gotpointercapture":return Be=pe.pointerId,we.set(Be,I(we.get(Be)||null,p,v,j,V,pe)),!0}return!1}function D(p){var v=Xo(p.target);if(v!==null){var j=Ga(v);if(j!==null){if(v=j.tag,v===13){if(v=xs(j),v!==null){p.blockedOn=v,Ht(p.priority,function(){Ms(j)});return}}else if(v===3&&j.stateNode.current.memoizedState.isDehydrated){p.blockedOn=j.tag===3?j.stateNode.containerInfo:null;return}}}p.blockedOn=null}function z(p){if(p.blockedOn!==null)return!1;for(var v=p.targetContainers;0<v.length;){var j=yt(p.domEventName,p.eventSystemFlags,v[0],p.nativeEvent);if(j===null){j=p.nativeEvent;var V=new j.constructor(j.type,j);dn=V,j.target.dispatchEvent(V),dn=null}else return v=ku(j),v!==null&&Zs(v),p.blockedOn=j,!1;v.shift()}return!0}function X(p,v,j){z(p)&&j.delete(v)}function ae(){H=!1,he!==null&&z(he)&&(he=null),M!==null&&z(M)&&(M=null),Q!==null&&z(Q)&&(Q=null),ne.forEach(X),we.forEach(X)}function Se(p,v){p.blockedOn===v&&(p.blockedOn=null,H||(H=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ae)))}function ge(p){function v(pe){return Se(pe,p)}if(0<oe.length){Se(oe[0],p);for(var j=1;j<oe.length;j++){var V=oe[j];V.blockedOn===p&&(V.blockedOn=null)}}for(he!==null&&Se(he,p),M!==null&&Se(M,p),Q!==null&&Se(Q,p),ne.forEach(v),we.forEach(v),j=0;j<Fe.length;j++)V=Fe[j],V.blockedOn===p&&(V.blockedOn=null);for(;0<Fe.length&&(j=Fe[0],j.blockedOn===null);)D(j),j.blockedOn===null&&Fe.shift()}var ve=S.ReactCurrentBatchConfig,Me=!0;function ze(p,v,j,V){var pe=va,Be=ve.transition;ve.transition=null;try{va=1,ot(p,v,j,V)}finally{va=pe,ve.transition=Be}}function et(p,v,j,V){var pe=va,Be=ve.transition;ve.transition=null;try{va=4,ot(p,v,j,V)}finally{va=pe,ve.transition=Be}}function ot(p,v,j,V){if(Me){var pe=yt(p,v,j,V);if(pe===null)lu(p,v,V,Pe,j),st(p,V);else if(E(pe,p,v,j,V))V.stopPropagation();else if(st(p,V),v&4&&-1<qe.indexOf(p)){for(;pe!==null;){var Be=ku(pe);if(Be!==null&&js(Be),Be=yt(p,v,j,V),Be===null&&lu(p,v,V,Pe,j),Be===pe)break;pe=Be}pe!==null&&V.stopPropagation()}else lu(p,v,V,null,j)}}var Pe=null;function yt(p,v,j,V){if(Pe=null,p=zr(V),p=Xo(p),p!==null)if(v=Ga(p),v===null)p=null;else if(j=v.tag,j===13){if(p=xs(v),p!==null)return p;p=null}else if(j===3){if(v.stateNode.current.memoizedState.isDehydrated)return v.tag===3?v.stateNode.containerInfo:null;p=null}else v!==p&&(p=null);return Pe=p,null}function gt(p){switch(p){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tc()){case ai:return 1;case To:return 4;case Ys:case _o:return 16;case nl:return 536870912;default:return 16}default:return 16}}var wt=null,nt=null,Ft=null;function qt(){if(Ft)return Ft;var p,v=nt,j=v.length,V,pe="value"in wt?wt.value:wt.textContent,Be=pe.length;for(p=0;p<j&&v[p]===pe[p];p++);var Ve=j-p;for(V=1;V<=Ve&&v[j-V]===pe[Be-V];V++);return Ft=pe.slice(p,1<V?1-V:void 0)}function It(p){var v=p.keyCode;return"charCode"in p?(p=p.charCode,p===0&&v===13&&(p=13)):p=v,p===10&&(p=13),32<=p||p===13?p:0}function tt(){return!0}function Wt(){return!1}function ur(p){function v(j,V,pe,Be,Ve){this._reactName=j,this._targetInst=pe,this.type=V,this.nativeEvent=Be,this.target=Ve,this.currentTarget=null;for(var jt in p)p.hasOwnProperty(jt)&&(j=p[jt],this[jt]=j?j(Be):Be[jt]);return this.isDefaultPrevented=(Be.defaultPrevented!=null?Be.defaultPrevented:Be.returnValue===!1)?tt:Wt,this.isPropagationStopped=Wt,this}return Ie(v.prototype,{preventDefault:function(){this.defaultPrevented=!0;var j=this.nativeEvent;j&&(j.preventDefault?j.preventDefault():typeof j.returnValue!="unknown"&&(j.returnValue=!1),this.isDefaultPrevented=tt)},stopPropagation:function(){var j=this.nativeEvent;j&&(j.stopPropagation?j.stopPropagation():typeof j.cancelBubble!="unknown"&&(j.cancelBubble=!0),this.isPropagationStopped=tt)},persist:function(){},isPersistent:tt}),v}var Yt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(p){return p.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ot=ur(Yt),or=Ie({},Yt,{view:0,detail:0}),at=ur(or),ht,Tt,_t,dr=Ie({},or,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jr,button:0,buttons:0,relatedTarget:function(p){return p.relatedTarget===void 0?p.fromElement===p.srcElement?p.toElement:p.fromElement:p.relatedTarget},movementX:function(p){return"movementX"in p?p.movementX:(p!==_t&&(_t&&p.type==="mousemove"?(ht=p.screenX-_t.screenX,Tt=p.screenY-_t.screenY):Tt=ht=0,_t=p),ht)},movementY:function(p){return"movementY"in p?p.movementY:Tt}}),xr=ur(dr),jr=Ie({},dr,{dataTransfer:0}),Jt=ur(jr),br=Ie({},or,{relatedTarget:0}),Zr=ur(br),Wr=Ie({},Yt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ze=ur(Wr),bt=Ie({},Yt,{clipboardData:function(p){return"clipboardData"in p?p.clipboardData:window.clipboardData}}),St=ur(bt),Vt=Ie({},Yt,{data:0}),Gt=ur(Vt),nr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pr(p){var v=this.nativeEvent;return v.getModifierState?v.getModifierState(p):(p=wr[p])?!!v[p]:!1}function Jr(){return Pr}var Nn=Ie({},or,{key:function(p){if(p.key){var v=nr[p.key]||p.key;if(v!=="Unidentified")return v}return p.type==="keypress"?(p=It(p),p===13?"Enter":String.fromCharCode(p)):p.type==="keydown"||p.type==="keyup"?yr[p.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jr,charCode:function(p){return p.type==="keypress"?It(p):0},keyCode:function(p){return p.type==="keydown"||p.type==="keyup"?p.keyCode:0},which:function(p){return p.type==="keypress"?It(p):p.type==="keydown"||p.type==="keyup"?p.keyCode:0}}),En=ur(Nn),ua=Ie({},dr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dt=ur(ua),An=Ie({},or,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jr}),xa=ur(An),hn=Ie({},Yt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vr=ur(hn),oa=Ie({},dr,{deltaX:function(p){return"deltaX"in p?p.deltaX:"wheelDeltaX"in p?-p.wheelDeltaX:0},deltaY:function(p){return"deltaY"in p?p.deltaY:"wheelDeltaY"in p?-p.wheelDeltaY:"wheelDelta"in p?-p.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=ur(oa),Zn=[9,13,27,32],Mn=l&&"CompositionEvent"in window,pi=null;l&&"documentMode"in document&&(pi=document.documentMode);var Qa=l&&"TextEvent"in window&&!pi,Fn=l&&(!Mn||pi&&8<pi&&11>=pi),oi=" ",la=!1;function On(p,v){switch(p){case"keyup":return Zn.indexOf(v.keyCode)!==-1;case"keydown":return v.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ha(p){return p=p.detail,typeof p=="object"&&"data"in p?p.data:null}var kn=!1;function Ca(p,v){switch(p){case"compositionend":return ha(v);case"keypress":return v.which!==32?null:(la=!0,oi);case"textInput":return p=v.data,p===oi&&la?null:p;default:return null}}function ui(p,v){if(kn)return p==="compositionend"||!Mn&&On(p,v)?(p=qt(),Ft=nt=wt=null,kn=!1,p):null;switch(p){case"paste":return null;case"keypress":if(!(v.ctrlKey||v.altKey||v.metaKey)||v.ctrlKey&&v.altKey){if(v.char&&1<v.char.length)return v.char;if(v.which)return String.fromCharCode(v.which)}return null;case"compositionend":return Fn&&v.locale!=="ko"?null:v.data;default:return null}}var qa={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xa(p){var v=p&&p.nodeName&&p.nodeName.toLowerCase();return v==="input"?!!qa[p.type]:v==="textarea"}function rs(p,v,j,V){cn(V),v=Ku(v,"onChange"),0<v.length&&(j=new Ot("onChange","change",null,j,V),p.push({event:j,listeners:v}))}var zn=null,Ti=null;function ya(p){ic(p,0)}function Vn(p){var v=xl(p);if(Ee(v))return p}function _i(p,v){if(p==="change")return v}var Na=!1;if(l){var Bn;if(l){var ei="oninput"in document;if(!ei){var au=document.createElement("div");au.setAttribute("oninput","return;"),ei=typeof au.oninput=="function"}Bn=ei}else Bn=!1;Na=Bn&&(!document.documentMode||9<document.documentMode)}function zs(){zn&&(zn.detachEvent("onpropertychange",wo),Ti=zn=null)}function wo(p){if(p.propertyName==="value"&&Vn(Ti)){var v=[];rs(v,Ti,p,zr(p)),un(ya,v)}}function Bc(p,v,j){p==="focusin"?(zs(),zn=v,Ti=j,zn.attachEvent("onpropertychange",wo)):p==="focusout"&&zs()}function pa(p){if(p==="selectionchange"||p==="keyup"||p==="keydown")return Vn(Ti)}function Cs(p,v){if(p==="click")return Vn(v)}function jo(p,v){if(p==="input"||p==="change")return Vn(v)}function Tl(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var Rs=typeof Object.is=="function"?Object.is:Tl;function Mi(p,v){if(Rs(p,v))return!0;if(typeof p!="object"||p===null||typeof v!="object"||v===null)return!1;var j=Object.keys(p),V=Object.keys(v);if(j.length!==V.length)return!1;for(V=0;V<j.length;V++){var pe=j[V];if(!u.call(v,pe)||!Rs(p[pe],v[pe]))return!1}return!0}function _s(p){for(;p&&p.firstChild;)p=p.firstChild;return p}function uo(p,v){var j=_s(p);p=0;for(var V;j;){if(j.nodeType===3){if(V=p+j.textContent.length,p<=v&&V>=v)return{node:j,offset:v-p};p=V}e:{for(;j;){if(j.nextSibling){j=j.nextSibling;break e}j=j.parentNode}j=void 0}j=_s(j)}}function iu(p,v){return p&&v?p===v?!0:p&&p.nodeType===3?!1:v&&v.nodeType===3?iu(p,v.parentNode):"contains"in p?p.contains(v):p.compareDocumentPosition?!!(p.compareDocumentPosition(v)&16):!1:!1}function Js(){for(var p=window,v=Re();v instanceof p.HTMLIFrameElement;){try{var j=typeof v.contentWindow.location.href=="string"}catch{j=!1}if(j)p=v.contentWindow;else break;v=Re(p.document)}return v}function al(p){var v=p&&p.nodeName&&p.nodeName.toLowerCase();return v&&(v==="input"&&(p.type==="text"||p.type==="search"||p.type==="tel"||p.type==="url"||p.type==="password")||v==="textarea"||p.contentEditable==="true")}function Ic(p){var v=Js(),j=p.focusedElem,V=p.selectionRange;if(v!==j&&j&&j.ownerDocument&&iu(j.ownerDocument.documentElement,j)){if(V!==null&&al(j)){if(v=V.start,p=V.end,p===void 0&&(p=v),"selectionStart"in j)j.selectionStart=v,j.selectionEnd=Math.min(p,j.value.length);else if(p=(v=j.ownerDocument||document)&&v.defaultView||window,p.getSelection){p=p.getSelection();var pe=j.textContent.length,Be=Math.min(V.start,pe);V=V.end===void 0?Be:Math.min(V.end,pe),!p.extend&&Be>V&&(pe=V,V=Be,Be=pe),pe=uo(j,Be);var Ve=uo(j,V);pe&&Ve&&(p.rangeCount!==1||p.anchorNode!==pe.node||p.anchorOffset!==pe.offset||p.focusNode!==Ve.node||p.focusOffset!==Ve.offset)&&(v=v.createRange(),v.setStart(pe.node,pe.offset),p.removeAllRanges(),Be>V?(p.addRange(v),p.extend(Ve.node,Ve.offset)):(v.setEnd(Ve.node,Ve.offset),p.addRange(v)))}}for(v=[],p=j;p=p.parentNode;)p.nodeType===1&&v.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<v.length;j++)p=v[j],p.element.scrollLeft=p.left,p.element.scrollTop=p.top}}var rc=l&&"documentMode"in document&&11>=document.documentMode,eo=null,il=null,_l=null,Ko=!1;function Mo(p,v,j){var V=j.window===j?j.document:j.nodeType===9?j:j.ownerDocument;Ko||eo==null||eo!==Re(V)||(V=eo,"selectionStart"in V&&al(V)?V={start:V.selectionStart,end:V.selectionEnd}:(V=(V.ownerDocument&&V.ownerDocument.defaultView||window).getSelection(),V={anchorNode:V.anchorNode,anchorOffset:V.anchorOffset,focusNode:V.focusNode,focusOffset:V.focusOffset}),_l&&Mi(_l,V)||(_l=V,V=Ku(il,"onSelect"),0<V.length&&(v=new Ot("onSelect","select",null,v,j),p.push({event:v,listeners:V}),v.target=eo)))}function nc(p,v){var j={};return j[p.toLowerCase()]=v.toLowerCase(),j["Webkit"+p]="webkit"+v,j["Moz"+p]="moz"+v,j}var Ol={animationend:nc("Animation","AnimationEnd"),animationiteration:nc("Animation","AnimationIteration"),animationstart:nc("Animation","AnimationStart"),transitionend:nc("Transition","TransitionEnd")},Tc={},fd={};l&&(fd=document.createElement("div").style,"AnimationEvent"in window||(delete Ol.animationend.animation,delete Ol.animationiteration.animation,delete Ol.animationstart.animation),"TransitionEvent"in window||delete Ol.transitionend.transition);function $c(p){if(Tc[p])return Tc[p];if(!Ol[p])return p;var v=Ol[p],j;for(j in v)if(v.hasOwnProperty(j)&&j in fd)return Tc[p]=v[j];return p}var pd=$c("animationend"),su=$c("animationiteration"),Go=$c("animationstart"),ou=$c("transitionend"),Nu=new Map,Wu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kl(p,v){Nu.set(p,v),s(v,[p])}for(var $u=0;$u<Wu.length;$u++){var Vu=Wu[$u],ac=Vu.toLowerCase(),zu=Vu[0].toUpperCase()+Vu.slice(1);kl(ac,"on"+zu)}kl(pd,"onAnimationEnd"),kl(su,"onAnimationIteration"),kl(Go,"onAnimationStart"),kl("dblclick","onDoubleClick"),kl("focusin","onFocus"),kl("focusout","onBlur"),kl(ou,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Su="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wa=new Set("cancel close invalid load scroll toggle".split(" ").concat(Su));function md(p,v,j){var V=p.type||"unknown-event";p.currentTarget=j,Ds(V,v,void 0,p),p.currentTarget=null}function ic(p,v){v=(v&4)!==0;for(var j=0;j<p.length;j++){var V=p[j],pe=V.event;V=V.listeners;e:{var Be=void 0;if(v)for(var Ve=V.length-1;0<=Ve;Ve--){var jt=V[Ve],Rt=jt.instance,gr=jt.currentTarget;if(jt=jt.listener,Rt!==Be&&pe.isPropagationStopped())break e;md(pe,jt,gr),Be=Rt}else for(Ve=0;Ve<V.length;Ve++){if(jt=V[Ve],Rt=jt.instance,gr=jt.currentTarget,jt=jt.listener,Rt!==Be&&pe.isPropagationStopped())break e;md(pe,jt,gr),Be=Rt}}}if(Ni)throw p=yi,Ni=!1,yi=null,p}function bi(p,v){var j=v[Gd];j===void 0&&(j=v[Gd]=new Set);var V=p+"__bubble";j.has(V)||(_c(v,p,2,!1),j.add(V))}function gd(p,v,j){var V=0;v&&(V|=4),_c(j,p,V,v)}var gl="_reactListening"+Math.random().toString(36).slice(2);function Os(p){if(!p[gl]){p[gl]=!0,a.forEach(function(j){j!=="selectionchange"&&(wa.has(j)||gd(j,!1,p),gd(j,!0,p))});var v=p.nodeType===9?p:p.ownerDocument;v===null||v[gl]||(v[gl]=!0,gd("selectionchange",!1,v))}}function _c(p,v,j,V){switch(gt(v)){case 1:var pe=ze;break;case 4:pe=et;break;default:pe=ot}j=pe.bind(null,v,j,p),pe=void 0,!cr||v!=="touchstart"&&v!=="touchmove"&&v!=="wheel"||(pe=!0),V?pe!==void 0?p.addEventListener(v,j,{capture:!0,passive:pe}):p.addEventListener(v,j,!0):pe!==void 0?p.addEventListener(v,j,{passive:pe}):p.addEventListener(v,j,!1)}function lu(p,v,j,V,pe){var Be=V;if((v&1)===0&&(v&2)===0&&V!==null)e:for(;;){if(V===null)return;var Ve=V.tag;if(Ve===3||Ve===4){var jt=V.stateNode.containerInfo;if(jt===pe||jt.nodeType===8&&jt.parentNode===pe)break;if(Ve===4)for(Ve=V.return;Ve!==null;){var Rt=Ve.tag;if((Rt===3||Rt===4)&&(Rt=Ve.stateNode.containerInfo,Rt===pe||Rt.nodeType===8&&Rt.parentNode===pe))return;Ve=Ve.return}for(;jt!==null;){if(Ve=Xo(jt),Ve===null)return;if(Rt=Ve.tag,Rt===5||Rt===6){V=Be=Ve;continue e}jt=jt.parentNode}}V=V.return}un(function(){var gr=Be,qr=zr(j),en=[];e:{var Gr=Nu.get(p);if(Gr!==void 0){var Rn=Ot,Yn=p;switch(p){case"keypress":if(It(j)===0)break e;case"keydown":case"keyup":Rn=En;break;case"focusin":Yn="focus",Rn=Zr;break;case"focusout":Yn="blur",Rn=Zr;break;case"beforeblur":case"afterblur":Rn=Zr;break;case"click":if(j.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Rn=xr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Rn=Jt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Rn=xa;break;case pd:case su:case Go:Rn=Ze;break;case ou:Rn=Vr;break;case"scroll":Rn=at;break;case"wheel":Rn=Dn;break;case"copy":case"cut":case"paste":Rn=St;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Rn=dt}var ta=(v&4)!==0,Al=!ta&&p==="scroll",sr=ta?Gr!==null?Gr+"Capture":null:Gr;ta=[];for(var Kt=gr,fr;Kt!==null;){fr=Kt;var on=fr.stateNode;if(fr.tag===5&&on!==null&&(fr=on,sr!==null&&(on=tn(Kt,sr),on!=null&&ta.push(Pl(Kt,on,fr)))),Al)break;Kt=Kt.return}0<ta.length&&(Gr=new Rn(Gr,Yn,null,j,qr),en.push({event:Gr,listeners:ta}))}}if((v&7)===0){e:{if(Gr=p==="mouseover"||p==="pointerover",Rn=p==="mouseout"||p==="pointerout",Gr&&j!==dn&&(Yn=j.relatedTarget||j.fromElement)&&(Xo(Yn)||Yn[sc]))break e;if((Rn||Gr)&&(Gr=qr.window===qr?qr:(Gr=qr.ownerDocument)?Gr.defaultView||Gr.parentWindow:window,Rn?(Yn=j.relatedTarget||j.toElement,Rn=gr,Yn=Yn?Xo(Yn):null,Yn!==null&&(Al=Ga(Yn),Yn!==Al||Yn.tag!==5&&Yn.tag!==6)&&(Yn=null)):(Rn=null,Yn=gr),Rn!==Yn)){if(ta=xr,on="onMouseLeave",sr="onMouseEnter",Kt="mouse",(p==="pointerout"||p==="pointerover")&&(ta=dt,on="onPointerLeave",sr="onPointerEnter",Kt="pointer"),Al=Rn==null?Gr:xl(Rn),fr=Yn==null?Gr:xl(Yn),Gr=new ta(on,Kt+"leave",Rn,j,qr),Gr.target=Al,Gr.relatedTarget=fr,on=null,Xo(qr)===gr&&(ta=new ta(sr,Kt+"enter",Yn,j,qr),ta.target=fr,ta.relatedTarget=Al,on=ta),Al=on,Rn&&Yn)t:{for(ta=Rn,sr=Yn,Kt=0,fr=ta;fr;fr=qo(fr))Kt++;for(fr=0,on=sr;on;on=qo(on))fr++;for(;0<Kt-fr;)ta=qo(ta),Kt--;for(;0<fr-Kt;)sr=qo(sr),fr--;for(;Kt--;){if(ta===sr||sr!==null&&ta===sr.alternate)break t;ta=qo(ta),sr=qo(sr)}ta=null}else ta=null;Rn!==null&&vd(en,Gr,Rn,ta,!1),Yn!==null&&Al!==null&&vd(en,Al,Yn,ta,!0)}}e:{if(Gr=gr?xl(gr):window,Rn=Gr.nodeName&&Gr.nodeName.toLowerCase(),Rn==="select"||Rn==="input"&&Gr.type==="file")var ia=_i;else if(Xa(Gr))if(Na)ia=jo;else{ia=pa;var _a=Bc}else(Rn=Gr.nodeName)&&Rn.toLowerCase()==="input"&&(Gr.type==="checkbox"||Gr.type==="radio")&&(ia=Cs);if(ia&&(ia=ia(p,gr))){rs(en,ia,j,qr);break e}_a&&_a(p,Gr,gr),p==="focusout"&&(_a=Gr._wrapperState)&&_a.controlled&&Gr.type==="number"&&it(Gr,"number",Gr.value)}switch(_a=gr?xl(gr):window,p){case"focusin":(Xa(_a)||_a.contentEditable==="true")&&(eo=_a,il=gr,_l=null);break;case"focusout":_l=il=eo=null;break;case"mousedown":Ko=!0;break;case"contextmenu":case"mouseup":case"dragend":Ko=!1,Mo(en,j,qr);break;case"selectionchange":if(rc)break;case"keydown":case"keyup":Mo(en,j,qr)}var Oa;if(Mn)e:{switch(p){case"compositionstart":var Za="onCompositionStart";break e;case"compositionend":Za="onCompositionEnd";break e;case"compositionupdate":Za="onCompositionUpdate";break e}Za=void 0}else kn?On(p,j)&&(Za="onCompositionEnd"):p==="keydown"&&j.keyCode===229&&(Za="onCompositionStart");Za&&(Fn&&j.locale!=="ko"&&(kn||Za!=="onCompositionStart"?Za==="onCompositionEnd"&&kn&&(Oa=qt()):(wt=qr,nt="value"in wt?wt.value:wt.textContent,kn=!0)),_a=Ku(gr,Za),0<_a.length&&(Za=new Gt(Za,p,null,j,qr),en.push({event:Za,listeners:_a}),Oa?Za.data=Oa:(Oa=ha(j),Oa!==null&&(Za.data=Oa)))),(Oa=Qa?Ca(p,j):ui(p,j))&&(gr=Ku(gr,"onBeforeInput"),0<gr.length&&(qr=new Gt("onBeforeInput","beforeinput",null,j,qr),en.push({event:qr,listeners:gr}),qr.data=Oa))}ic(en,v)})}function Pl(p,v,j){return{instance:p,listener:v,currentTarget:j}}function Ku(p,v){for(var j=v+"Capture",V=[];p!==null;){var pe=p,Be=pe.stateNode;pe.tag===5&&Be!==null&&(pe=Be,Be=tn(p,j),Be!=null&&V.unshift(Pl(p,Be,pe)),Be=tn(p,v),Be!=null&&V.push(Pl(p,Be,pe))),p=p.return}return V}function qo(p){if(p===null)return null;do p=p.return;while(p&&p.tag!==5);return p||null}function vd(p,v,j,V,pe){for(var Be=v._reactName,Ve=[];j!==null&&j!==V;){var jt=j,Rt=jt.alternate,gr=jt.stateNode;if(Rt!==null&&Rt===V)break;jt.tag===5&&gr!==null&&(jt=gr,pe?(Rt=tn(j,Be),Rt!=null&&Ve.unshift(Pl(j,Rt,jt))):pe||(Rt=tn(j,Be),Rt!=null&&Ve.push(Pl(j,Rt,jt)))),j=j.return}Ve.length!==0&&p.push({event:v,listeners:Ve})}var Eu=/\r\n?/g,xd=/\u0000|\uFFFD/g;function cu(p){return(typeof p=="string"?p:""+p).replace(Eu,`
`).replace(xd,"")}function Bu(p,v,j){if(v=cu(v),cu(p)!==v&&j)throw Error(n(425))}function Iu(){}var Tu=null,_u=null;function yd(p,v){return p==="textarea"||p==="noscript"||typeof v.children=="string"||typeof v.children=="number"||typeof v.dangerouslySetInnerHTML=="object"&&v.dangerouslySetInnerHTML!==null&&v.dangerouslySetInnerHTML.__html!=null}var Fl=typeof setTimeout=="function"?setTimeout:void 0,Hh=typeof clearTimeout=="function"?clearTimeout:void 0,Ou=typeof Promise=="function"?Promise:void 0,Kd=typeof queueMicrotask=="function"?queueMicrotask:typeof Ou<"u"?function(p){return Ou.resolve(null).then(p).catch(Qh)}:Fl;function Qh(p){setTimeout(function(){throw p})}function Sa(p,v){var j=v,V=0;do{var pe=j.nextSibling;if(p.removeChild(j),pe&&pe.nodeType===8)if(j=pe.data,j==="/$"){if(V===0){p.removeChild(pe),ge(v);return}V--}else j!=="$"&&j!=="$?"&&j!=="$!"||V++;j=pe}while(j);ge(v)}function Vc(p){for(;p!=null;p=p.nextSibling){var v=p.nodeType;if(v===1||v===3)break;if(v===8){if(v=p.data,v==="$"||v==="$!"||v==="$?")break;if(v==="/$")return null}}return p}function mh(p){p=p.previousSibling;for(var v=0;p;){if(p.nodeType===8){var j=p.data;if(j==="$"||j==="$!"||j==="$?"){if(v===0)return p;v--}else j==="/$"&&v++}p=p.previousSibling}return null}var Oc=Math.random().toString(36).slice(2),Co="__reactFiber$"+Oc,Dl="__reactProps$"+Oc,sc="__reactContainer$"+Oc,Gd="__reactEvents$"+Oc,vl="__reactListeners$"+Oc,Gu="__reactHandles$"+Oc;function Xo(p){var v=p[Co];if(v)return v;for(var j=p.parentNode;j;){if(v=j[sc]||j[Co]){if(j=v.alternate,v.child!==null||j!==null&&j.child!==null)for(p=mh(p);p!==null;){if(j=p[Co])return j;p=mh(p)}return v}p=j,j=p.parentNode}return null}function ku(p){return p=p[Co]||p[sc],!p||p.tag!==5&&p.tag!==6&&p.tag!==13&&p.tag!==3?null:p}function xl(p){if(p.tag===5||p.tag===6)return p.stateNode;throw Error(n(33))}function bd(p){return p[Dl]||null}var kc=[],oc=-1;function Ml(p){return{current:p}}function di(p){0>oc||(p.current=kc[oc],kc[oc]=null,oc--)}function Oi(p,v){oc++,kc[oc]=p.current,p.current=v}var Rl={},Ns=Ml(Rl),Ls=Ml(!1),Pc=Rl;function uu(p,v){var j=p.type.contextTypes;if(!j)return Rl;var V=p.stateNode;if(V&&V.__reactInternalMemoizedUnmaskedChildContext===v)return V.__reactInternalMemoizedMaskedChildContext;var pe={},Be;for(Be in j)pe[Be]=v[Be];return V&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=v,p.__reactInternalMemoizedMaskedChildContext=pe),pe}function Ro(p){return p=p.childContextTypes,p!=null}function lc(){di(Ls),di(Ns)}function zc(p,v,j){if(Ns.current!==Rl)throw Error(n(168));Oi(Ns,v),Oi(Ls,j)}function qd(p,v,j){var V=p.stateNode;if(v=v.childContextTypes,typeof V.getChildContext!="function")return j;V=V.getChildContext();for(var pe in V)if(!(pe in v))throw Error(n(108,Ne(p)||"Unknown",pe));return Ie({},j,V)}function Kc(p){return p=(p=p.stateNode)&&p.__reactInternalMemoizedMergedChildContext||Rl,Pc=Ns.current,Oi(Ns,p),Oi(Ls,Ls.current),!0}function Xd(p,v,j){var V=p.stateNode;if(!V)throw Error(n(169));j?(p=qd(p,v,Pc),V.__reactInternalMemoizedMergedChildContext=p,di(Ls),di(Ns),Oi(Ns,p)):di(Ls),Oi(Ls,j)}var Ae=null,Qe=!1,vt=!1;function kt(p){Ae===null?Ae=[p]:Ae.push(p)}function Xt(p){Qe=!0,kt(p)}function Cr(){if(!vt&&Ae!==null){vt=!0;var p=0,v=va;try{var j=Ae;for(va=1;p<j.length;p++){var V=j[p];do V=V(!0);while(V!==null)}Ae=null,Qe=!1}catch(pe){throw Ae!==null&&(Ae=Ae.slice(p+1)),Ec(ai,Cr),pe}finally{va=v,vt=!1}}return null}var Fr=[],In=0,Un=null,ma=0,na=[],Pa=0,Ri=null,Ui=1,Ai="";function hs(p,v){Fr[In++]=ma,Fr[In++]=Un,Un=p,ma=v}function T(p,v,j){na[Pa++]=Ui,na[Pa++]=Ai,na[Pa++]=Ri,Ri=p;var V=Ui;p=Ai;var pe=32-ii(V)-1;V&=~(1<<pe),j+=1;var Be=32-ii(v)+pe;if(30<Be){var Ve=pe-pe%5;Be=(V&(1<<Ve)-1).toString(32),V>>=Ve,pe-=Ve,Ui=1<<32-ii(v)+pe|j<<pe|V,Ai=Be+p}else Ui=1<<Be|j<<pe|V,Ai=p}function Le(p){p.return!==null&&(hs(p,1),T(p,1,0))}function J(p){for(;p===Un;)Un=Fr[--In],Fr[In]=null,ma=Fr[--In],Fr[In]=null;for(;p===Ri;)Ri=na[--Pa],na[Pa]=null,Ai=na[--Pa],na[Pa]=null,Ui=na[--Pa],na[Pa]=null}var Ye=null,At=null,lt=!1,er=null;function zt(p,v){var j=Qt(5,null,null,0);j.elementType="DELETED",j.stateNode=v,j.return=p,v=p.deletions,v===null?(p.deletions=[j],p.flags|=16):v.push(j)}function Sn(p,v){switch(p.tag){case 5:var j=p.type;return v=v.nodeType!==1||j.toLowerCase()!==v.nodeName.toLowerCase()?null:v,v!==null?(p.stateNode=v,Ye=p,At=Vc(v.firstChild),!0):!1;case 6:return v=p.pendingProps===""||v.nodeType!==3?null:v,v!==null?(p.stateNode=v,Ye=p,At=null,!0):!1;case 13:return v=v.nodeType!==8?null:v,v!==null?(j=Ri!==null?{id:Ui,overflow:Ai}:null,p.memoizedState={dehydrated:v,treeContext:j,retryLane:1073741824},j=Qt(18,null,null,0),j.stateNode=v,j.return=p,p.child=j,Ye=p,At=null,!0):!1;default:return!1}}function Dt(p){return(p.mode&1)!==0&&(p.flags&128)===0}function ir(p){if(lt){var v=At;if(v){var j=v;if(!Sn(p,v)){if(Dt(p))throw Error(n(418));v=Vc(j.nextSibling);var V=Ye;v&&Sn(p,v)?zt(V,j):(p.flags=p.flags&-4097|2,lt=!1,Ye=p)}}else{if(Dt(p))throw Error(n(418));p.flags=p.flags&-4097|2,lt=!1,Ye=p}}}function ba(p){for(p=p.return;p!==null&&p.tag!==5&&p.tag!==3&&p.tag!==13;)p=p.return;Ye=p}function fn(p){if(p!==Ye)return!1;if(!lt)return ba(p),lt=!0,!1;var v;if((v=p.tag!==3)&&!(v=p.tag!==5)&&(v=p.type,v=v!=="head"&&v!=="body"&&!yd(p.type,p.memoizedProps)),v&&(v=At)){if(Dt(p))throw Rr(),Error(n(418));for(;v;)zt(p,v),v=Vc(v.nextSibling)}if(ba(p),p.tag===13){if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));e:{for(p=p.nextSibling,v=0;p;){if(p.nodeType===8){var j=p.data;if(j==="/$"){if(v===0){At=Vc(p.nextSibling);break e}v--}else j!=="$"&&j!=="$!"&&j!=="$?"||v++}p=p.nextSibling}At=null}}else At=Ye?Vc(p.stateNode.nextSibling):null;return!0}function Rr(){for(var p=At;p;)p=Vc(p.nextSibling)}function Nr(){At=Ye=null,lt=!1}function Hi(p){er===null?er=[p]:er.push(p)}var ja=S.ReactCurrentBatchConfig;function aa(p,v,j){if(p=j.ref,p!==null&&typeof p!="function"&&typeof p!="object"){if(j._owner){if(j=j._owner,j){if(j.tag!==1)throw Error(n(309));var V=j.stateNode}if(!V)throw Error(n(147,p));var pe=V,Be=""+p;return v!==null&&v.ref!==null&&typeof v.ref=="function"&&v.ref._stringRef===Be?v.ref:(v=function(Ve){var jt=pe.refs;Ve===null?delete jt[Be]:jt[Be]=Ve},v._stringRef=Be,v)}if(typeof p!="string")throw Error(n(284));if(!j._owner)throw Error(n(290,p))}return p}function Ea(p,v){throw p=Object.prototype.toString.call(v),Error(n(31,p==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":p))}function ti(p){var v=p._init;return v(p._payload)}function sn(p){function v(sr,Kt){if(p){var fr=sr.deletions;fr===null?(sr.deletions=[Kt],sr.flags|=16):fr.push(Kt)}}function j(sr,Kt){if(!p)return null;for(;Kt!==null;)v(sr,Kt),Kt=Kt.sibling;return null}function V(sr,Kt){for(sr=new Map;Kt!==null;)Kt.key!==null?sr.set(Kt.key,Kt):sr.set(Kt.index,Kt),Kt=Kt.sibling;return sr}function pe(sr,Kt){return sr=bn(sr,Kt),sr.index=0,sr.sibling=null,sr}function Be(sr,Kt,fr){return sr.index=fr,p?(fr=sr.alternate,fr!==null?(fr=fr.index,fr<Kt?(sr.flags|=2,Kt):fr):(sr.flags|=2,Kt)):(sr.flags|=1048576,Kt)}function Ve(sr){return p&&sr.alternate===null&&(sr.flags|=2),sr}function jt(sr,Kt,fr,on){return Kt===null||Kt.tag!==6?(Kt=Xn(fr,sr.mode,on),Kt.return=sr,Kt):(Kt=pe(Kt,fr),Kt.return=sr,Kt)}function Rt(sr,Kt,fr,on){var ia=fr.type;return ia===O?qr(sr,Kt,fr.props.children,on,fr.key):Kt!==null&&(Kt.elementType===ia||typeof ia=="object"&&ia!==null&&ia.$$typeof===R&&ti(ia)===Kt.type)?(on=pe(Kt,fr.props),on.ref=aa(sr,Kt,fr),on.return=sr,on):(on=nn(fr.type,fr.key,fr.props,null,sr.mode,on),on.ref=aa(sr,Kt,fr),on.return=sr,on)}function gr(sr,Kt,fr,on){return Kt===null||Kt.tag!==4||Kt.stateNode.containerInfo!==fr.containerInfo||Kt.stateNode.implementation!==fr.implementation?(Kt=$n(fr,sr.mode,on),Kt.return=sr,Kt):(Kt=pe(Kt,fr.children||[]),Kt.return=sr,Kt)}function qr(sr,Kt,fr,on,ia){return Kt===null||Kt.tag!==7?(Kt=xn(fr,sr.mode,on,ia),Kt.return=sr,Kt):(Kt=pe(Kt,fr),Kt.return=sr,Kt)}function en(sr,Kt,fr){if(typeof Kt=="string"&&Kt!==""||typeof Kt=="number")return Kt=Xn(""+Kt,sr.mode,fr),Kt.return=sr,Kt;if(typeof Kt=="object"&&Kt!==null){switch(Kt.$$typeof){case N:return fr=nn(Kt.type,Kt.key,Kt.props,null,sr.mode,fr),fr.ref=aa(sr,null,Kt),fr.return=sr,fr;case C:return Kt=$n(Kt,sr.mode,fr),Kt.return=sr,Kt;case R:var on=Kt._init;return en(sr,on(Kt._payload),fr)}if(Et(Kt)||Te(Kt))return Kt=xn(Kt,sr.mode,fr,null),Kt.return=sr,Kt;Ea(sr,Kt)}return null}function Gr(sr,Kt,fr,on){var ia=Kt!==null?Kt.key:null;if(typeof fr=="string"&&fr!==""||typeof fr=="number")return ia!==null?null:jt(sr,Kt,""+fr,on);if(typeof fr=="object"&&fr!==null){switch(fr.$$typeof){case N:return fr.key===ia?Rt(sr,Kt,fr,on):null;case C:return fr.key===ia?gr(sr,Kt,fr,on):null;case R:return ia=fr._init,Gr(sr,Kt,ia(fr._payload),on)}if(Et(fr)||Te(fr))return ia!==null?null:qr(sr,Kt,fr,on,null);Ea(sr,fr)}return null}function Rn(sr,Kt,fr,on,ia){if(typeof on=="string"&&on!==""||typeof on=="number")return sr=sr.get(fr)||null,jt(Kt,sr,""+on,ia);if(typeof on=="object"&&on!==null){switch(on.$$typeof){case N:return sr=sr.get(on.key===null?fr:on.key)||null,Rt(Kt,sr,on,ia);case C:return sr=sr.get(on.key===null?fr:on.key)||null,gr(Kt,sr,on,ia);case R:var _a=on._init;return Rn(sr,Kt,fr,_a(on._payload),ia)}if(Et(on)||Te(on))return sr=sr.get(fr)||null,qr(Kt,sr,on,ia,null);Ea(Kt,on)}return null}function Yn(sr,Kt,fr,on){for(var ia=null,_a=null,Oa=Kt,Za=Kt=0,vc=null;Oa!==null&&Za<fr.length;Za++){Oa.index>Za?(vc=Oa,Oa=null):vc=Oa.sibling;var ss=Gr(sr,Oa,fr[Za],on);if(ss===null){Oa===null&&(Oa=vc);break}p&&Oa&&ss.alternate===null&&v(sr,Oa),Kt=Be(ss,Kt,Za),_a===null?ia=ss:_a.sibling=ss,_a=ss,Oa=vc}if(Za===fr.length)return j(sr,Oa),lt&&hs(sr,Za),ia;if(Oa===null){for(;Za<fr.length;Za++)Oa=en(sr,fr[Za],on),Oa!==null&&(Kt=Be(Oa,Kt,Za),_a===null?ia=Oa:_a.sibling=Oa,_a=Oa);return lt&&hs(sr,Za),ia}for(Oa=V(sr,Oa);Za<fr.length;Za++)vc=Rn(Oa,sr,Za,fr[Za],on),vc!==null&&(p&&vc.alternate!==null&&Oa.delete(vc.key===null?Za:vc.key),Kt=Be(vc,Kt,Za),_a===null?ia=vc:_a.sibling=vc,_a=vc);return p&&Oa.forEach(function(zA){return v(sr,zA)}),lt&&hs(sr,Za),ia}function ta(sr,Kt,fr,on){var ia=Te(fr);if(typeof ia!="function")throw Error(n(150));if(fr=ia.call(fr),fr==null)throw Error(n(151));for(var _a=ia=null,Oa=Kt,Za=Kt=0,vc=null,ss=fr.next();Oa!==null&&!ss.done;Za++,ss=fr.next()){Oa.index>Za?(vc=Oa,Oa=null):vc=Oa.sibling;var zA=Gr(sr,Oa,ss.value,on);if(zA===null){Oa===null&&(Oa=vc);break}p&&Oa&&zA.alternate===null&&v(sr,Oa),Kt=Be(zA,Kt,Za),_a===null?ia=zA:_a.sibling=zA,_a=zA,Oa=vc}if(ss.done)return j(sr,Oa),lt&&hs(sr,Za),ia;if(Oa===null){for(;!ss.done;Za++,ss=fr.next())ss=en(sr,ss.value,on),ss!==null&&(Kt=Be(ss,Kt,Za),_a===null?ia=ss:_a.sibling=ss,_a=ss);return lt&&hs(sr,Za),ia}for(Oa=V(sr,Oa);!ss.done;Za++,ss=fr.next())ss=Rn(Oa,sr,Za,ss.value,on),ss!==null&&(p&&ss.alternate!==null&&Oa.delete(ss.key===null?Za:ss.key),Kt=Be(ss,Kt,Za),_a===null?ia=ss:_a.sibling=ss,_a=ss);return p&&Oa.forEach(function(mD){return v(sr,mD)}),lt&&hs(sr,Za),ia}function Al(sr,Kt,fr,on){if(typeof fr=="object"&&fr!==null&&fr.type===O&&fr.key===null&&(fr=fr.props.children),typeof fr=="object"&&fr!==null){switch(fr.$$typeof){case N:e:{for(var ia=fr.key,_a=Kt;_a!==null;){if(_a.key===ia){if(ia=fr.type,ia===O){if(_a.tag===7){j(sr,_a.sibling),Kt=pe(_a,fr.props.children),Kt.return=sr,sr=Kt;break e}}else if(_a.elementType===ia||typeof ia=="object"&&ia!==null&&ia.$$typeof===R&&ti(ia)===_a.type){j(sr,_a.sibling),Kt=pe(_a,fr.props),Kt.ref=aa(sr,_a,fr),Kt.return=sr,sr=Kt;break e}j(sr,_a);break}else v(sr,_a);_a=_a.sibling}fr.type===O?(Kt=xn(fr.props.children,sr.mode,on,fr.key),Kt.return=sr,sr=Kt):(on=nn(fr.type,fr.key,fr.props,null,sr.mode,on),on.ref=aa(sr,Kt,fr),on.return=sr,sr=on)}return Ve(sr);case C:e:{for(_a=fr.key;Kt!==null;){if(Kt.key===_a)if(Kt.tag===4&&Kt.stateNode.containerInfo===fr.containerInfo&&Kt.stateNode.implementation===fr.implementation){j(sr,Kt.sibling),Kt=pe(Kt,fr.children||[]),Kt.return=sr,sr=Kt;break e}else{j(sr,Kt);break}else v(sr,Kt);Kt=Kt.sibling}Kt=$n(fr,sr.mode,on),Kt.return=sr,sr=Kt}return Ve(sr);case R:return _a=fr._init,Al(sr,Kt,_a(fr._payload),on)}if(Et(fr))return Yn(sr,Kt,fr,on);if(Te(fr))return ta(sr,Kt,fr,on);Ea(sr,fr)}return typeof fr=="string"&&fr!==""||typeof fr=="number"?(fr=""+fr,Kt!==null&&Kt.tag===6?(j(sr,Kt.sibling),Kt=pe(Kt,fr),Kt.return=sr,sr=Kt):(j(sr,Kt),Kt=Xn(fr,sr.mode,on),Kt.return=sr,sr=Kt),Ve(sr)):j(sr,Kt)}return Al}var Ta=sn(!0),ns=sn(!1),Jn=Ml(null),li=null,Fa=null,Hn=null;function Aa(){Hn=Fa=li=null}function No(p){var v=Jn.current;di(Jn),p._currentValue=v}function cc(p,v,j){for(;p!==null;){var V=p.alternate;if((p.childLanes&v)!==v?(p.childLanes|=v,V!==null&&(V.childLanes|=v)):V!==null&&(V.childLanes&v)!==v&&(V.childLanes|=v),p===j)break;p=p.return}}function Lo(p,v){li=p,Hn=Fa=null,p=p.dependencies,p!==null&&p.firstContext!==null&&((p.lanes&v)!==0&&(Hl=!0),p.firstContext=null)}function ho(p){var v=p._currentValue;if(Hn!==p)if(p={context:p,memoizedValue:v,next:null},Fa===null){if(li===null)throw Error(n(308));Fa=p,li.dependencies={lanes:0,firstContext:p}}else Fa=Fa.next=p;return v}var uc=null;function Ks(p){uc===null?uc=[p]:uc.push(p)}function Wh(p,v,j,V){var pe=v.interleaved;return pe===null?(j.next=j,Ks(v)):(j.next=pe.next,pe.next=j),v.interleaved=j,Yo(p,V)}function Yo(p,v){p.lanes|=v;var j=p.alternate;for(j!==null&&(j.lanes|=v),j=p,p=p.return;p!==null;)p.childLanes|=v,j=p.alternate,j!==null&&(j.childLanes|=v),j=p,p=p.return;return j.tag===3?j.stateNode:null}var sl=!1;function Yd(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gh(p,v){p=p.updateQueue,v.updateQueue===p&&(v.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,effects:p.effects})}function Fc(p,v){return{eventTime:p,lane:v,tag:0,payload:null,callback:null,next:null}}function Gc(p,v,j){var V=p.updateQueue;if(V===null)return null;if(V=V.shared,(qn&2)!==0){var pe=V.pending;return pe===null?v.next=v:(v.next=pe.next,pe.next=v),V.pending=v,Yo(p,j)}return pe=V.interleaved,pe===null?(v.next=v,Ks(V)):(v.next=pe.next,pe.next=v),V.interleaved=v,Yo(p,j)}function qc(p,v,j){if(v=v.updateQueue,v!==null&&(v=v.shared,(j&4194240)!==0)){var V=v.lanes;V&=p.pendingLanes,j|=V,v.lanes=j,Fo(p,j)}}function qu(p,v){var j=p.updateQueue,V=p.alternate;if(V!==null&&(V=V.updateQueue,j===V)){var pe=null,Be=null;if(j=j.firstBaseUpdate,j!==null){do{var Ve={eventTime:j.eventTime,lane:j.lane,tag:j.tag,payload:j.payload,callback:j.callback,next:null};Be===null?pe=Be=Ve:Be=Be.next=Ve,j=j.next}while(j!==null);Be===null?pe=Be=v:Be=Be.next=v}else pe=Be=v;j={baseState:V.baseState,firstBaseUpdate:pe,lastBaseUpdate:Be,shared:V.shared,effects:V.effects},p.updateQueue=j;return}p=j.lastBaseUpdate,p===null?j.firstBaseUpdate=v:p.next=v,j.lastBaseUpdate=v}function du(p,v,j,V){var pe=p.updateQueue;sl=!1;var Be=pe.firstBaseUpdate,Ve=pe.lastBaseUpdate,jt=pe.shared.pending;if(jt!==null){pe.shared.pending=null;var Rt=jt,gr=Rt.next;Rt.next=null,Ve===null?Be=gr:Ve.next=gr,Ve=Rt;var qr=p.alternate;qr!==null&&(qr=qr.updateQueue,jt=qr.lastBaseUpdate,jt!==Ve&&(jt===null?qr.firstBaseUpdate=gr:jt.next=gr,qr.lastBaseUpdate=Rt))}if(Be!==null){var en=pe.baseState;Ve=0,qr=gr=Rt=null,jt=Be;do{var Gr=jt.lane,Rn=jt.eventTime;if((V&Gr)===Gr){qr!==null&&(qr=qr.next={eventTime:Rn,lane:0,tag:jt.tag,payload:jt.payload,callback:jt.callback,next:null});e:{var Yn=p,ta=jt;switch(Gr=v,Rn=j,ta.tag){case 1:if(Yn=ta.payload,typeof Yn=="function"){en=Yn.call(Rn,en,Gr);break e}en=Yn;break e;case 3:Yn.flags=Yn.flags&-65537|128;case 0:if(Yn=ta.payload,Gr=typeof Yn=="function"?Yn.call(Rn,en,Gr):Yn,Gr==null)break e;en=Ie({},en,Gr);break e;case 2:sl=!0}}jt.callback!==null&&jt.lane!==0&&(p.flags|=64,Gr=pe.effects,Gr===null?pe.effects=[jt]:Gr.push(jt))}else Rn={eventTime:Rn,lane:Gr,tag:jt.tag,payload:jt.payload,callback:jt.callback,next:null},qr===null?(gr=qr=Rn,Rt=en):qr=qr.next=Rn,Ve|=Gr;if(jt=jt.next,jt===null){if(jt=pe.shared.pending,jt===null)break;Gr=jt,jt=Gr.next,Gr.next=null,pe.lastBaseUpdate=Gr,pe.shared.pending=null}}while(!0);if(qr===null&&(Rt=en),pe.baseState=Rt,pe.firstBaseUpdate=gr,pe.lastBaseUpdate=qr,v=pe.shared.interleaved,v!==null){pe=v;do Ve|=pe.lane,pe=pe.next;while(pe!==v)}else Be===null&&(pe.shared.lanes=0);Fu|=Ve,p.lanes=Ve,p.memoizedState=en}}function wd(p,v,j){if(p=v.effects,v.effects=null,p!==null)for(v=0;v<p.length;v++){var V=p[v],pe=V.callback;if(pe!==null){if(V.callback=null,V=j,typeof pe!="function")throw Error(n(191,pe));pe.call(V)}}}var Dc={},yl=Ml(Dc),Uo=Ml(Dc),dc=Ml(Dc);function hi(p){if(p===Dc)throw Error(n(174));return p}function Qi(p,v){switch(Oi(dc,v),Oi(Uo,p),Oi(yl,Dc),p=v.nodeType,p){case 9:case 11:v=(v=v.documentElement)?v.namespaceURI:Nt(null,"");break;default:p=p===8?v.parentNode:v,v=p.namespaceURI||null,p=p.tagName,v=Nt(v,p)}di(yl),Oi(yl,v)}function As(){di(yl),di(Uo),di(dc)}function Ao(p){hi(dc.current);var v=hi(yl.current),j=Nt(v,p.type);v!==j&&(Oi(Uo,p),Oi(yl,j))}function hu(p){Uo.current===p&&(di(yl),di(Uo))}var as=Ml(0);function Au(p){for(var v=p;v!==null;){if(v.tag===13){var j=v.memoizedState;if(j!==null&&(j=j.dehydrated,j===null||j.data==="$?"||j.data==="$!"))return v}else if(v.tag===19&&v.memoizedProps.revealOrder!==void 0){if((v.flags&128)!==0)return v}else if(v.child!==null){v.child.return=v,v=v.child;continue}if(v===p)break;for(;v.sibling===null;){if(v.return===null||v.return===p)return null;v=v.return}v.sibling.return=v.return,v=v.sibling}return null}var jd=[];function $h(){for(var p=0;p<jd.length;p++)jd[p]._workInProgressVersionPrimary=null;jd.length=0}var vh=S.ReactCurrentDispatcher,Vh=S.ReactCurrentBatchConfig,Xu=0,Ss=null,So=null,to=null,zh=!1,ol=!1,Cd=0,jp=0;function ll(){throw Error(n(321))}function NA(p,v){if(v===null)return!1;for(var j=0;j<v.length&&j<p.length;j++)if(!Rs(p[j],v[j]))return!1;return!0}function SA(p,v,j,V,pe,Be){if(Xu=Be,Ss=v,v.memoizedState=null,v.updateQueue=null,v.lanes=0,vh.current=p===null||p.memoizedState===null?fu:Ep,p=j(V,pe),ol){Be=0;do{if(ol=!1,Cd=0,25<=Be)throw Error(n(301));Be+=1,to=So=null,v.updateQueue=null,vh.current=wf,p=j(V,pe)}while(ol)}if(vh.current=Ul,v=So!==null&&So.next!==null,Xu=0,to=So=Ss=null,zh=!1,v)throw Error(n(300));return p}function EA(){var p=Cd!==0;return Cd=0,p}function Xc(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return to===null?Ss.memoizedState=to=p:to=to.next=p,to}function Ll(){if(So===null){var p=Ss.alternate;p=p!==null?p.memoizedState:null}else p=So.next;var v=to===null?Ss.memoizedState:to.next;if(v!==null)to=v,So=p;else{if(p===null)throw Error(n(310));So=p,p={memoizedState:So.memoizedState,baseState:So.baseState,baseQueue:So.baseQueue,queue:So.queue,next:null},to===null?Ss.memoizedState=to=p:to=to.next=p}return to}function cl(p,v){return typeof v=="function"?v(p):v}function hc(p){var v=Ll(),j=v.queue;if(j===null)throw Error(n(311));j.lastRenderedReducer=p;var V=So,pe=V.baseQueue,Be=j.pending;if(Be!==null){if(pe!==null){var Ve=pe.next;pe.next=Be.next,Be.next=Ve}V.baseQueue=pe=Be,j.pending=null}if(pe!==null){Be=pe.next,V=V.baseState;var jt=Ve=null,Rt=null,gr=Be;do{var qr=gr.lane;if((Xu&qr)===qr)Rt!==null&&(Rt=Rt.next={lane:0,action:gr.action,hasEagerState:gr.hasEagerState,eagerState:gr.eagerState,next:null}),V=gr.hasEagerState?gr.eagerState:p(V,gr.action);else{var en={lane:qr,action:gr.action,hasEagerState:gr.hasEagerState,eagerState:gr.eagerState,next:null};Rt===null?(jt=Rt=en,Ve=V):Rt=Rt.next=en,Ss.lanes|=qr,Fu|=qr}gr=gr.next}while(gr!==null&&gr!==Be);Rt===null?Ve=V:Rt.next=jt,Rs(V,v.memoizedState)||(Hl=!0),v.memoizedState=V,v.baseState=Ve,v.baseQueue=Rt,j.lastRenderedState=V}if(p=j.interleaved,p!==null){pe=p;do Be=pe.lane,Ss.lanes|=Be,Fu|=Be,pe=pe.next;while(pe!==p)}else pe===null&&(j.lanes=0);return[v.memoizedState,j.dispatch]}function Zd(p){var v=Ll(),j=v.queue;if(j===null)throw Error(n(311));j.lastRenderedReducer=p;var V=j.dispatch,pe=j.pending,Be=v.memoizedState;if(pe!==null){j.pending=null;var Ve=pe=pe.next;do Be=p(Be,Ve.action),Ve=Ve.next;while(Ve!==pe);Rs(Be,v.memoizedState)||(Hl=!0),v.memoizedState=Be,v.baseQueue===null&&(v.baseState=Be),j.lastRenderedState=Be}return[Be,V]}function Kh(){}function Gh(p,v){var j=Ss,V=Ll(),pe=v(),Be=!Rs(V.memoizedState,pe);if(Be&&(V.memoizedState=pe,Hl=!0),V=V.queue,xf(Nd.bind(null,j,V,p),[p]),V.getSnapshot!==v||Be||to!==null&&to.memoizedState.tag&1){if(j.flags|=2048,Pu(9,fo.bind(null,j,V,pe,v),void 0,null),qi===null)throw Error(n(349));(Xu&30)!==0||xh(j,v,pe)}return pe}function xh(p,v,j){p.flags|=16384,p={getSnapshot:v,value:j},v=Ss.updateQueue,v===null?(v={lastEffect:null,stores:null},Ss.updateQueue=v,v.stores=[p]):(j=v.stores,j===null?v.stores=[p]:j.push(p))}function fo(p,v,j,V){v.value=j,v.getSnapshot=V,gf(v)&&BA(p)}function Nd(p,v,j){return j(function(){gf(v)&&BA(p)})}function gf(p){var v=p.getSnapshot;p=p.value;try{var j=v();return!Rs(p,j)}catch{return!0}}function BA(p){var v=Yo(p,1);v!==null&&Cl(v,p,1,-1)}function qh(p){var v=Xc();return typeof p=="function"&&(p=p()),v.memoizedState=v.baseState=p,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cl,lastRenderedState:p},v.queue=p,p=p.dispatch=$m.bind(null,Ss,p),[v.memoizedState,p]}function Pu(p,v,j,V){return p={tag:p,create:v,destroy:j,deps:V,next:null},v=Ss.updateQueue,v===null?(v={lastEffect:null,stores:null},Ss.updateQueue=v,v.lastEffect=p.next=p):(j=v.lastEffect,j===null?v.lastEffect=p.next=p:(V=j.next,j.next=p,p.next=V,v.lastEffect=p)),p}function IA(){return Ll().memoizedState}function TA(p,v,j,V){var pe=Xc();Ss.flags|=p,pe.memoizedState=Pu(1|v,j,void 0,V===void 0?null:V)}function _A(p,v,j,V){var pe=Ll();V=V===void 0?null:V;var Be=void 0;if(So!==null){var Ve=So.memoizedState;if(Be=Ve.destroy,V!==null&&NA(V,Ve.deps)){pe.memoizedState=Pu(v,j,Be,V);return}}Ss.flags|=p,pe.memoizedState=Pu(1|v,j,Be,V)}function vf(p,v){return TA(8390656,8,p,v)}function xf(p,v){return _A(2048,8,p,v)}function Cp(p,v){return _A(4,2,p,v)}function Np(p,v){return _A(4,4,p,v)}function Sp(p,v){if(typeof v=="function")return p=p(),v(p),function(){v(null)};if(v!=null)return p=p(),v.current=p,function(){v.current=null}}function yf(p,v,j){return j=j!=null?j.concat([p]):null,_A(4,4,Sp.bind(null,v,p),j)}function yh(){}function Xh(p,v){var j=Ll();v=v===void 0?null:v;var V=j.memoizedState;return V!==null&&v!==null&&NA(v,V[1])?V[0]:(j.memoizedState=[p,v],p)}function Jd(p,v){var j=Ll();v=v===void 0?null:v;var V=j.memoizedState;return V!==null&&v!==null&&NA(v,V[1])?V[0]:(p=p(),j.memoizedState=[p,v],p)}function OA(p,v,j){return(Xu&21)===0?(p.baseState&&(p.baseState=!1,Hl=!0),p.memoizedState=j):(Rs(j,v)||(j=co(),Ss.lanes|=j,Fu|=j,p.baseState=!0),v)}function Qm(p,v){var j=va;va=j!==0&&4>j?j:4,p(!0);var V=Vh.transition;Vh.transition={};try{p(!1),v()}finally{va=j,Vh.transition=V}}function bf(){return Ll().memoizedState}function Wm(p,v,j){var V=pc(p);if(j={lane:V,action:j,hasEagerState:!1,eagerState:null,next:null},Yh(p))Zh(v,j);else if(j=Wh(p,v,j,V),j!==null){var pe=Bo();Cl(j,p,V,pe),Yu(j,v,V)}}function $m(p,v,j){var V=pc(p),pe={lane:V,action:j,hasEagerState:!1,eagerState:null,next:null};if(Yh(p))Zh(v,pe);else{var Be=p.alternate;if(p.lanes===0&&(Be===null||Be.lanes===0)&&(Be=v.lastRenderedReducer,Be!==null))try{var Ve=v.lastRenderedState,jt=Be(Ve,j);if(pe.hasEagerState=!0,pe.eagerState=jt,Rs(jt,Ve)){var Rt=v.interleaved;Rt===null?(pe.next=pe,Ks(v)):(pe.next=Rt.next,Rt.next=pe),v.interleaved=pe;return}}catch{}finally{}j=Wh(p,v,pe,V),j!==null&&(pe=Bo(),Cl(j,p,V,pe),Yu(j,v,V))}}function Yh(p){var v=p.alternate;return p===Ss||v!==null&&v===Ss}function Zh(p,v){ol=zh=!0;var j=p.pending;j===null?v.next=v:(v.next=j.next,j.next=v),p.pending=v}function Yu(p,v,j){if((j&4194240)!==0){var V=v.lanes;V&=p.pendingLanes,j|=V,v.lanes=j,Fo(p,j)}}var Ul={readContext:ho,useCallback:ll,useContext:ll,useEffect:ll,useImperativeHandle:ll,useInsertionEffect:ll,useLayoutEffect:ll,useMemo:ll,useReducer:ll,useRef:ll,useState:ll,useDebugValue:ll,useDeferredValue:ll,useTransition:ll,useMutableSource:ll,useSyncExternalStore:ll,useId:ll,unstable_isNewReconciler:!1},fu={readContext:ho,useCallback:function(p,v){return Xc().memoizedState=[p,v===void 0?null:v],p},useContext:ho,useEffect:vf,useImperativeHandle:function(p,v,j){return j=j!=null?j.concat([p]):null,TA(4194308,4,Sp.bind(null,v,p),j)},useLayoutEffect:function(p,v){return TA(4194308,4,p,v)},useInsertionEffect:function(p,v){return TA(4,2,p,v)},useMemo:function(p,v){var j=Xc();return v=v===void 0?null:v,p=p(),j.memoizedState=[p,v],p},useReducer:function(p,v,j){var V=Xc();return v=j!==void 0?j(v):v,V.memoizedState=V.baseState=v,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:v},V.queue=p,p=p.dispatch=Wm.bind(null,Ss,p),[V.memoizedState,p]},useRef:function(p){var v=Xc();return p={current:p},v.memoizedState=p},useState:qh,useDebugValue:yh,useDeferredValue:function(p){return Xc().memoizedState=p},useTransition:function(){var p=qh(!1),v=p[0];return p=Qm.bind(null,p[1]),Xc().memoizedState=p,[v,p]},useMutableSource:function(){},useSyncExternalStore:function(p,v,j){var V=Ss,pe=Xc();if(lt){if(j===void 0)throw Error(n(407));j=j()}else{if(j=v(),qi===null)throw Error(n(349));(Xu&30)!==0||xh(V,v,j)}pe.memoizedState=j;var Be={value:j,getSnapshot:v};return pe.queue=Be,vf(Nd.bind(null,V,Be,p),[p]),V.flags|=2048,Pu(9,fo.bind(null,V,Be,j,v),void 0,null),j},useId:function(){var p=Xc(),v=qi.identifierPrefix;if(lt){var j=Ai,V=Ui;j=(V&~(1<<32-ii(V)-1)).toString(32)+j,v=":"+v+"R"+j,j=Cd++,0<j&&(v+="H"+j.toString(32)),v+=":"}else j=jp++,v=":"+v+"r"+j.toString(32)+":";return p.memoizedState=v},unstable_isNewReconciler:!1},Ep={readContext:ho,useCallback:Xh,useContext:ho,useEffect:xf,useImperativeHandle:yf,useInsertionEffect:Cp,useLayoutEffect:Np,useMemo:Jd,useReducer:hc,useRef:IA,useState:function(){return hc(cl)},useDebugValue:yh,useDeferredValue:function(p){var v=Ll();return OA(v,So.memoizedState,p)},useTransition:function(){var p=hc(cl)[0],v=Ll().memoizedState;return[p,v]},useMutableSource:Kh,useSyncExternalStore:Gh,useId:bf,unstable_isNewReconciler:!1},wf={readContext:ho,useCallback:Xh,useContext:ho,useEffect:xf,useImperativeHandle:yf,useInsertionEffect:Cp,useLayoutEffect:Np,useMemo:Jd,useReducer:Zd,useRef:IA,useState:function(){return Zd(cl)},useDebugValue:yh,useDeferredValue:function(p){var v=Ll();return So===null?v.memoizedState=p:OA(v,So.memoizedState,p)},useTransition:function(){var p=Zd(cl)[0],v=Ll().memoizedState;return[p,v]},useMutableSource:Kh,useSyncExternalStore:Gh,useId:bf,unstable_isNewReconciler:!1};function Ho(p,v){if(p&&p.defaultProps){v=Ie({},v),p=p.defaultProps;for(var j in p)v[j]===void 0&&(v[j]=p[j]);return v}return v}function Ac(p,v,j,V){v=p.memoizedState,j=j(V,v),j=j==null?v:Ie({},v,j),p.memoizedState=j,p.lanes===0&&(p.updateQueue.baseState=j)}var eh={isMounted:function(p){return(p=p._reactInternals)?Ga(p)===p:!1},enqueueSetState:function(p,v,j){p=p._reactInternals;var V=Bo(),pe=pc(p),Be=Fc(V,pe);Be.payload=v,j!=null&&(Be.callback=j),v=Gc(p,Be,pe),v!==null&&(Cl(v,p,pe,V),qc(v,p,pe))},enqueueReplaceState:function(p,v,j){p=p._reactInternals;var V=Bo(),pe=pc(p),Be=Fc(V,pe);Be.tag=1,Be.payload=v,j!=null&&(Be.callback=j),v=Gc(p,Be,pe),v!==null&&(Cl(v,p,pe,V),qc(v,p,pe))},enqueueForceUpdate:function(p,v){p=p._reactInternals;var j=Bo(),V=pc(p),pe=Fc(j,V);pe.tag=2,v!=null&&(pe.callback=v),v=Gc(p,pe,V),v!==null&&(Cl(v,p,V,j),qc(v,p,V))}};function jf(p,v,j,V,pe,Be,Ve){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(V,Be,Ve):v.prototype&&v.prototype.isPureReactComponent?!Mi(j,V)||!Mi(pe,Be):!0}function kA(p,v,j){var V=!1,pe=Rl,Be=v.contextType;return typeof Be=="object"&&Be!==null?Be=ho(Be):(pe=Ro(v)?Pc:Ns.current,V=v.contextTypes,Be=(V=V!=null)?uu(p,pe):Rl),v=new v(j,Be),p.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=eh,p.stateNode=v,v._reactInternals=p,V&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=pe,p.__reactInternalMemoizedMaskedChildContext=Be),v}function Cf(p,v,j,V){p=v.state,typeof v.componentWillReceiveProps=="function"&&v.componentWillReceiveProps(j,V),typeof v.UNSAFE_componentWillReceiveProps=="function"&&v.UNSAFE_componentWillReceiveProps(j,V),v.state!==p&&eh.enqueueReplaceState(v,v.state,null)}function PA(p,v,j,V){var pe=p.stateNode;pe.props=j,pe.state=p.memoizedState,pe.refs={},Yd(p);var Be=v.contextType;typeof Be=="object"&&Be!==null?pe.context=ho(Be):(Be=Ro(v)?Pc:Ns.current,pe.context=uu(p,Be)),pe.state=p.memoizedState,Be=v.getDerivedStateFromProps,typeof Be=="function"&&(Ac(p,v,Be,j),pe.state=p.memoizedState),typeof v.getDerivedStateFromProps=="function"||typeof pe.getSnapshotBeforeUpdate=="function"||typeof pe.UNSAFE_componentWillMount!="function"&&typeof pe.componentWillMount!="function"||(v=pe.state,typeof pe.componentWillMount=="function"&&pe.componentWillMount(),typeof pe.UNSAFE_componentWillMount=="function"&&pe.UNSAFE_componentWillMount(),v!==pe.state&&eh.enqueueReplaceState(pe,pe.state,null),du(p,j,pe,V),pe.state=p.memoizedState),typeof pe.componentDidMount=="function"&&(p.flags|=4194308)}function Sd(p,v){try{var j="",V=v;do j+=re(V),V=V.return;while(V);var pe=j}catch(Be){pe=`
Error generating stack: `+Be.message+`
`+Be.stack}return{value:p,source:v,stack:pe,digest:null}}function Ed(p,v,j){return{value:p,source:null,stack:j??null,digest:v??null}}function Bd(p,v){try{console.error(v.value)}catch(j){setTimeout(function(){throw j})}}var th=typeof WeakMap=="function"?WeakMap:Map;function bh(p,v,j){j=Fc(-1,j),j.tag=3,j.payload={element:null};var V=v.value;return j.callback=function(){tA||(tA=!0,LA=V),Bd(p,v)},j}function FA(p,v,j){j=Fc(-1,j),j.tag=3;var V=p.type.getDerivedStateFromError;if(typeof V=="function"){var pe=v.value;j.payload=function(){return V(pe)},j.callback=function(){Bd(p,v)}}var Be=p.stateNode;return Be!==null&&typeof Be.componentDidCatch=="function"&&(j.callback=function(){Bd(p,v),typeof V!="function"&&(pu===null?pu=new Set([this]):pu.add(this));var Ve=v.stack;this.componentDidCatch(v.value,{componentStack:Ve!==null?Ve:""})}),j}function Bp(p,v,j){var V=p.pingCache;if(V===null){V=p.pingCache=new th;var pe=new Set;V.set(v,pe)}else pe=V.get(v),pe===void 0&&(pe=new Set,V.set(v,pe));pe.has(j)||(pe.add(j),p=U.bind(null,p,v,j),v.then(p,p))}function Nf(p){do{var v;if((v=p.tag===13)&&(v=p.memoizedState,v=v!==null?v.dehydrated!==null:!0),v)return p;p=p.return}while(p!==null);return null}function Sf(p,v,j,V,pe){return(p.mode&1)===0?(p===v?p.flags|=65536:(p.flags|=128,j.flags|=131072,j.flags&=-52805,j.tag===1&&(j.alternate===null?j.tag=17:(v=Fc(-1,1),v.tag=2,Gc(j,v,1))),j.lanes|=1),p):(p.flags|=65536,p.lanes=pe,p)}var Ef=S.ReactCurrentOwner,Hl=!1;function bl(p,v,j,V){v.child=p===null?ns(v,null,j,V):Ta(v,p.child,j,V)}function DA(p,v,j,V,pe){j=j.render;var Be=v.ref;return Lo(v,pe),V=SA(p,v,j,V,Be,pe),j=EA(),p!==null&&!Hl?(v.updateQueue=p.updateQueue,v.flags&=-2053,p.lanes&=~pe,Lt(p,v,pe)):(lt&&j&&Le(v),v.flags|=1,bl(p,v,V,pe),v.child)}function Bf(p,v,j,V,pe){if(p===null){var Be=j.type;return typeof Be=="function"&&!tr(Be)&&Be.defaultProps===void 0&&j.compare===null&&j.defaultProps===void 0?(v.tag=15,v.type=Be,MA(p,v,Be,V,pe)):(p=nn(j.type,null,V,v,v.mode,pe),p.ref=v.ref,p.return=v,v.child=p)}if(Be=p.child,(p.lanes&pe)===0){var Ve=Be.memoizedProps;if(j=j.compare,j=j!==null?j:Mi,j(Ve,V)&&p.ref===v.ref)return Lt(p,v,pe)}return v.flags|=1,p=bn(Be,V),p.ref=v.ref,p.return=v,v.child=p}function MA(p,v,j,V,pe){if(p!==null){var Be=p.memoizedProps;if(Mi(Be,V)&&p.ref===v.ref)if(Hl=!1,v.pendingProps=V=Be,(p.lanes&pe)!==0)(p.flags&131072)!==0&&(Hl=!0);else return v.lanes=p.lanes,Lt(p,v,pe)}return wh(p,v,j,V,pe)}function Jh(p,v,j){var V=v.pendingProps,pe=V.children,Be=p!==null?p.memoizedState:null;if(V.mode==="hidden")if((v.mode&1)===0)v.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oi(ro,Qs),Qs|=j;else{if((j&1073741824)===0)return p=Be!==null?Be.baseLanes|j:j,v.lanes=v.childLanes=1073741824,v.memoizedState={baseLanes:p,cachePool:null,transitions:null},v.updateQueue=null,Oi(ro,Qs),Qs|=p,null;v.memoizedState={baseLanes:0,cachePool:null,transitions:null},V=Be!==null?Be.baseLanes:j,Oi(ro,Qs),Qs|=V}else Be!==null?(V=Be.baseLanes|j,v.memoizedState=null):V=j,Oi(ro,Qs),Qs|=V;return bl(p,v,pe,j),v.child}function eA(p,v){var j=v.ref;(p===null&&j!==null||p!==null&&p.ref!==j)&&(v.flags|=512,v.flags|=2097152)}function wh(p,v,j,V,pe){var Be=Ro(j)?Pc:Ns.current;return Be=uu(v,Be),Lo(v,pe),j=SA(p,v,j,V,Be,pe),V=EA(),p!==null&&!Hl?(v.updateQueue=p.updateQueue,v.flags&=-2053,p.lanes&=~pe,Lt(p,v,pe)):(lt&&V&&Le(v),v.flags|=1,bl(p,v,j,pe),v.child)}function RA(p,v,j,V,pe){if(Ro(j)){var Be=!0;Kc(v)}else Be=!1;if(Lo(v,pe),v.stateNode===null)ft(p,v),kA(v,j,V),PA(v,j,V,pe),V=!0;else if(p===null){var Ve=v.stateNode,jt=v.memoizedProps;Ve.props=jt;var Rt=Ve.context,gr=j.contextType;typeof gr=="object"&&gr!==null?gr=ho(gr):(gr=Ro(j)?Pc:Ns.current,gr=uu(v,gr));var qr=j.getDerivedStateFromProps,en=typeof qr=="function"||typeof Ve.getSnapshotBeforeUpdate=="function";en||typeof Ve.UNSAFE_componentWillReceiveProps!="function"&&typeof Ve.componentWillReceiveProps!="function"||(jt!==V||Rt!==gr)&&Cf(v,Ve,V,gr),sl=!1;var Gr=v.memoizedState;Ve.state=Gr,du(v,V,Ve,pe),Rt=v.memoizedState,jt!==V||Gr!==Rt||Ls.current||sl?(typeof qr=="function"&&(Ac(v,j,qr,V),Rt=v.memoizedState),(jt=sl||jf(v,j,jt,V,Gr,Rt,gr))?(en||typeof Ve.UNSAFE_componentWillMount!="function"&&typeof Ve.componentWillMount!="function"||(typeof Ve.componentWillMount=="function"&&Ve.componentWillMount(),typeof Ve.UNSAFE_componentWillMount=="function"&&Ve.UNSAFE_componentWillMount()),typeof Ve.componentDidMount=="function"&&(v.flags|=4194308)):(typeof Ve.componentDidMount=="function"&&(v.flags|=4194308),v.memoizedProps=V,v.memoizedState=Rt),Ve.props=V,Ve.state=Rt,Ve.context=gr,V=jt):(typeof Ve.componentDidMount=="function"&&(v.flags|=4194308),V=!1)}else{Ve=v.stateNode,gh(p,v),jt=v.memoizedProps,gr=v.type===v.elementType?jt:Ho(v.type,jt),Ve.props=gr,en=v.pendingProps,Gr=Ve.context,Rt=j.contextType,typeof Rt=="object"&&Rt!==null?Rt=ho(Rt):(Rt=Ro(j)?Pc:Ns.current,Rt=uu(v,Rt));var Rn=j.getDerivedStateFromProps;(qr=typeof Rn=="function"||typeof Ve.getSnapshotBeforeUpdate=="function")||typeof Ve.UNSAFE_componentWillReceiveProps!="function"&&typeof Ve.componentWillReceiveProps!="function"||(jt!==en||Gr!==Rt)&&Cf(v,Ve,V,Rt),sl=!1,Gr=v.memoizedState,Ve.state=Gr,du(v,V,Ve,pe);var Yn=v.memoizedState;jt!==en||Gr!==Yn||Ls.current||sl?(typeof Rn=="function"&&(Ac(v,j,Rn,V),Yn=v.memoizedState),(gr=sl||jf(v,j,gr,V,Gr,Yn,Rt)||!1)?(qr||typeof Ve.UNSAFE_componentWillUpdate!="function"&&typeof Ve.componentWillUpdate!="function"||(typeof Ve.componentWillUpdate=="function"&&Ve.componentWillUpdate(V,Yn,Rt),typeof Ve.UNSAFE_componentWillUpdate=="function"&&Ve.UNSAFE_componentWillUpdate(V,Yn,Rt)),typeof Ve.componentDidUpdate=="function"&&(v.flags|=4),typeof Ve.getSnapshotBeforeUpdate=="function"&&(v.flags|=1024)):(typeof Ve.componentDidUpdate!="function"||jt===p.memoizedProps&&Gr===p.memoizedState||(v.flags|=4),typeof Ve.getSnapshotBeforeUpdate!="function"||jt===p.memoizedProps&&Gr===p.memoizedState||(v.flags|=1024),v.memoizedProps=V,v.memoizedState=Yn),Ve.props=V,Ve.state=Yn,Ve.context=Rt,V=gr):(typeof Ve.componentDidUpdate!="function"||jt===p.memoizedProps&&Gr===p.memoizedState||(v.flags|=4),typeof Ve.getSnapshotBeforeUpdate!="function"||jt===p.memoizedProps&&Gr===p.memoizedState||(v.flags|=1024),V=!1)}return _(p,v,j,V,Be,pe)}function _(p,v,j,V,pe,Be){eA(p,v);var Ve=(v.flags&128)!==0;if(!V&&!Ve)return pe&&Xd(v,j,!1),Lt(p,v,Be);V=v.stateNode,Ef.current=v;var jt=Ve&&typeof j.getDerivedStateFromError!="function"?null:V.render();return v.flags|=1,p!==null&&Ve?(v.child=Ta(v,p.child,null,Be),v.child=Ta(v,null,jt,Be)):bl(p,v,jt,Be),v.memoizedState=V.state,pe&&Xd(v,j,!0),v.child}function G(p){var v=p.stateNode;v.pendingContext?zc(p,v.pendingContext,v.pendingContext!==v.context):v.context&&zc(p,v.context,!1),Qi(p,v.containerInfo)}function xe(p,v,j,V,pe){return Nr(),Hi(pe),v.flags|=256,bl(p,v,j,V),v.child}var ke={dehydrated:null,treeContext:null,retryLane:0};function We(p){return{baseLanes:p,cachePool:null,transitions:null}}function Ge(p,v,j){var V=v.pendingProps,pe=as.current,Be=!1,Ve=(v.flags&128)!==0,jt;if((jt=Ve)||(jt=p!==null&&p.memoizedState===null?!1:(pe&2)!==0),jt?(Be=!0,v.flags&=-129):(p===null||p.memoizedState!==null)&&(pe|=1),Oi(as,pe&1),p===null)return ir(v),p=v.memoizedState,p!==null&&(p=p.dehydrated,p!==null)?((v.mode&1)===0?v.lanes=1:p.data==="$!"?v.lanes=8:v.lanes=1073741824,null):(Ve=V.children,p=V.fallback,Be?(V=v.mode,Be=v.child,Ve={mode:"hidden",children:Ve},(V&1)===0&&Be!==null?(Be.childLanes=0,Be.pendingProps=Ve):Be=ri(Ve,V,0,null),p=xn(p,V,j,null),Be.return=v,p.return=v,Be.sibling=p,v.child=Be,v.child.memoizedState=We(j),v.memoizedState=ke,p):Xe(v,Ve));if(pe=p.memoizedState,pe!==null&&(jt=pe.dehydrated,jt!==null))return rt(p,v,Ve,V,jt,pe,j);if(Be){Be=V.fallback,Ve=v.mode,pe=p.child,jt=pe.sibling;var Rt={mode:"hidden",children:V.children};return(Ve&1)===0&&v.child!==pe?(V=v.child,V.childLanes=0,V.pendingProps=Rt,v.deletions=null):(V=bn(pe,Rt),V.subtreeFlags=pe.subtreeFlags&14680064),jt!==null?Be=bn(jt,Be):(Be=xn(Be,Ve,j,null),Be.flags|=2),Be.return=v,V.return=v,V.sibling=Be,v.child=V,V=Be,Be=v.child,Ve=p.child.memoizedState,Ve=Ve===null?We(j):{baseLanes:Ve.baseLanes|j,cachePool:null,transitions:Ve.transitions},Be.memoizedState=Ve,Be.childLanes=p.childLanes&~j,v.memoizedState=ke,V}return Be=p.child,p=Be.sibling,V=bn(Be,{mode:"visible",children:V.children}),(v.mode&1)===0&&(V.lanes=j),V.return=v,V.sibling=null,p!==null&&(j=v.deletions,j===null?(v.deletions=[p],v.flags|=16):j.push(p)),v.child=V,v.memoizedState=null,V}function Xe(p,v){return v=ri({mode:"visible",children:v},p.mode,0,null),v.return=p,p.child=v}function Je(p,v,j,V){return V!==null&&Hi(V),Ta(v,p.child,null,j),p=Xe(v,v.pendingProps.children),p.flags|=2,v.memoizedState=null,p}function rt(p,v,j,V,pe,Be,Ve){if(j)return v.flags&256?(v.flags&=-257,V=Ed(Error(n(422))),Je(p,v,Ve,V)):v.memoizedState!==null?(v.child=p.child,v.flags|=128,null):(Be=V.fallback,pe=v.mode,V=ri({mode:"visible",children:V.children},pe,0,null),Be=xn(Be,pe,Ve,null),Be.flags|=2,V.return=v,Be.return=v,V.sibling=Be,v.child=V,(v.mode&1)!==0&&Ta(v,p.child,null,Ve),v.child.memoizedState=We(Ve),v.memoizedState=ke,Be);if((v.mode&1)===0)return Je(p,v,Ve,null);if(pe.data==="$!"){if(V=pe.nextSibling&&pe.nextSibling.dataset,V)var jt=V.dgst;return V=jt,Be=Error(n(419)),V=Ed(Be,V,void 0),Je(p,v,Ve,V)}if(jt=(Ve&p.childLanes)!==0,Hl||jt){if(V=qi,V!==null){switch(Ve&-Ve){case 4:pe=2;break;case 16:pe=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:pe=32;break;case 536870912:pe=268435456;break;default:pe=0}pe=(pe&(V.suspendedLanes|Ve))!==0?0:pe,pe!==0&&pe!==Be.retryLane&&(Be.retryLane=pe,Yo(p,pe),Cl(V,p,pe,-1))}return Nh(),V=Ed(Error(n(421))),Je(p,v,Ve,V)}return pe.data==="$?"?(v.flags|=128,v.child=p.child,v=De.bind(null,p),pe._reactRetry=v,null):(p=Be.treeContext,At=Vc(pe.nextSibling),Ye=v,lt=!0,er=null,p!==null&&(na[Pa++]=Ui,na[Pa++]=Ai,na[Pa++]=Ri,Ui=p.id,Ai=p.overflow,Ri=v),v=Xe(v,V.children),v.flags|=4096,v)}function mt(p,v,j){p.lanes|=v;var V=p.alternate;V!==null&&(V.lanes|=v),cc(p.return,v,j)}function Mt(p,v,j,V,pe){var Be=p.memoizedState;Be===null?p.memoizedState={isBackwards:v,rendering:null,renderingStartTime:0,last:V,tail:j,tailMode:pe}:(Be.isBackwards=v,Be.rendering=null,Be.renderingStartTime=0,Be.last=V,Be.tail=j,Be.tailMode=pe)}function rr(p,v,j){var V=v.pendingProps,pe=V.revealOrder,Be=V.tail;if(bl(p,v,V.children,j),V=as.current,(V&2)!==0)V=V&1|2,v.flags|=128;else{if(p!==null&&(p.flags&128)!==0)e:for(p=v.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&mt(p,j,v);else if(p.tag===19)mt(p,j,v);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===v)break e;for(;p.sibling===null;){if(p.return===null||p.return===v)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}V&=1}if(Oi(as,V),(v.mode&1)===0)v.memoizedState=null;else switch(pe){case"forwards":for(j=v.child,pe=null;j!==null;)p=j.alternate,p!==null&&Au(p)===null&&(pe=j),j=j.sibling;j=pe,j===null?(pe=v.child,v.child=null):(pe=j.sibling,j.sibling=null),Mt(v,!1,pe,j,Be);break;case"backwards":for(j=null,pe=v.child,v.child=null;pe!==null;){if(p=pe.alternate,p!==null&&Au(p)===null){v.child=pe;break}p=pe.sibling,pe.sibling=j,j=pe,pe=p}Mt(v,!0,j,null,Be);break;case"together":Mt(v,!1,null,null,void 0);break;default:v.memoizedState=null}return v.child}function ft(p,v){(v.mode&1)===0&&p!==null&&(p.alternate=null,v.alternate=null,v.flags|=2)}function Lt(p,v,j){if(p!==null&&(v.dependencies=p.dependencies),Fu|=v.lanes,(j&v.childLanes)===0)return null;if(p!==null&&v.child!==p.child)throw Error(n(153));if(v.child!==null){for(p=v.child,j=bn(p,p.pendingProps),v.child=j,j.return=v;p.sibling!==null;)p=p.sibling,j=j.sibling=bn(p,p.pendingProps),j.return=v;j.sibling=null}return v.child}function Zt(p,v,j){switch(v.tag){case 3:G(v),Nr();break;case 5:Ao(v);break;case 1:Ro(v.type)&&Kc(v);break;case 4:Qi(v,v.stateNode.containerInfo);break;case 10:var V=v.type._context,pe=v.memoizedProps.value;Oi(Jn,V._currentValue),V._currentValue=pe;break;case 13:if(V=v.memoizedState,V!==null)return V.dehydrated!==null?(Oi(as,as.current&1),v.flags|=128,null):(j&v.child.childLanes)!==0?Ge(p,v,j):(Oi(as,as.current&1),p=Lt(p,v,j),p!==null?p.sibling:null);Oi(as,as.current&1);break;case 19:if(V=(j&v.childLanes)!==0,(p.flags&128)!==0){if(V)return rr(p,v,j);v.flags|=128}if(pe=v.memoizedState,pe!==null&&(pe.rendering=null,pe.tail=null,pe.lastEffect=null),Oi(as,as.current),V)break;return null;case 22:case 23:return v.lanes=0,Jh(p,v,j)}return Lt(p,v,j)}var Sr,ar,Br,_r;Sr=function(p,v){for(var j=v.child;j!==null;){if(j.tag===5||j.tag===6)p.appendChild(j.stateNode);else if(j.tag!==4&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===v)break;for(;j.sibling===null;){if(j.return===null||j.return===v)return;j=j.return}j.sibling.return=j.return,j=j.sibling}},ar=function(){},Br=function(p,v,j,V){var pe=p.memoizedProps;if(pe!==V){p=v.stateNode,hi(yl.current);var Be=null;switch(j){case"input":pe=Ue(p,pe),V=Ue(p,V),Be=[];break;case"select":pe=Ie({},pe,{value:void 0}),V=Ie({},V,{value:void 0}),Be=[];break;case"textarea":pe=Bt(p,pe),V=Bt(p,V),Be=[];break;default:typeof pe.onClick!="function"&&typeof V.onClick=="function"&&(p.onclick=Iu)}Lr(j,V);var Ve;j=null;for(gr in pe)if(!V.hasOwnProperty(gr)&&pe.hasOwnProperty(gr)&&pe[gr]!=null)if(gr==="style"){var jt=pe[gr];for(Ve in jt)jt.hasOwnProperty(Ve)&&(j||(j={}),j[Ve]="")}else gr!=="dangerouslySetInnerHTML"&&gr!=="children"&&gr!=="suppressContentEditableWarning"&&gr!=="suppressHydrationWarning"&&gr!=="autoFocus"&&(i.hasOwnProperty(gr)?Be||(Be=[]):(Be=Be||[]).push(gr,null));for(gr in V){var Rt=V[gr];if(jt=pe!=null?pe[gr]:void 0,V.hasOwnProperty(gr)&&Rt!==jt&&(Rt!=null||jt!=null))if(gr==="style")if(jt){for(Ve in jt)!jt.hasOwnProperty(Ve)||Rt&&Rt.hasOwnProperty(Ve)||(j||(j={}),j[Ve]="");for(Ve in Rt)Rt.hasOwnProperty(Ve)&&jt[Ve]!==Rt[Ve]&&(j||(j={}),j[Ve]=Rt[Ve])}else j||(Be||(Be=[]),Be.push(gr,j)),j=Rt;else gr==="dangerouslySetInnerHTML"?(Rt=Rt?Rt.__html:void 0,jt=jt?jt.__html:void 0,Rt!=null&&jt!==Rt&&(Be=Be||[]).push(gr,Rt)):gr==="children"?typeof Rt!="string"&&typeof Rt!="number"||(Be=Be||[]).push(gr,""+Rt):gr!=="suppressContentEditableWarning"&&gr!=="suppressHydrationWarning"&&(i.hasOwnProperty(gr)?(Rt!=null&&gr==="onScroll"&&bi("scroll",p),Be||jt===Rt||(Be=[])):(Be=Be||[]).push(gr,Rt))}j&&(Be=Be||[]).push("style",j);var gr=Be;(v.updateQueue=gr)&&(v.flags|=4)}},_r=function(p,v,j,V){j!==V&&(v.flags|=4)};function Ur(p,v){if(!lt)switch(p.tailMode){case"hidden":v=p.tail;for(var j=null;v!==null;)v.alternate!==null&&(j=v),v=v.sibling;j===null?p.tail=null:j.sibling=null;break;case"collapsed":j=p.tail;for(var V=null;j!==null;)j.alternate!==null&&(V=j),j=j.sibling;V===null?v||p.tail===null?p.tail=null:p.tail.sibling=null:V.sibling=null}}function Or(p){var v=p.alternate!==null&&p.alternate.child===p.child,j=0,V=0;if(v)for(var pe=p.child;pe!==null;)j|=pe.lanes|pe.childLanes,V|=pe.subtreeFlags&14680064,V|=pe.flags&14680064,pe.return=p,pe=pe.sibling;else for(pe=p.child;pe!==null;)j|=pe.lanes|pe.childLanes,V|=pe.subtreeFlags,V|=pe.flags,pe.return=p,pe=pe.sibling;return p.subtreeFlags|=V,p.childLanes=j,v}function ea(p,v,j){var V=v.pendingProps;switch(J(v),v.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Or(v),null;case 1:return Ro(v.type)&&lc(),Or(v),null;case 3:return V=v.stateNode,As(),di(Ls),di(Ns),$h(),V.pendingContext&&(V.context=V.pendingContext,V.pendingContext=null),(p===null||p.child===null)&&(fn(v)?v.flags|=4:p===null||p.memoizedState.isDehydrated&&(v.flags&256)===0||(v.flags|=1024,er!==null&&(Tf(er),er=null))),ar(p,v),Or(v),null;case 5:hu(v);var pe=hi(dc.current);if(j=v.type,p!==null&&v.stateNode!=null)Br(p,v,j,V,pe),p.ref!==v.ref&&(v.flags|=512,v.flags|=2097152);else{if(!V){if(v.stateNode===null)throw Error(n(166));return Or(v),null}if(p=hi(yl.current),fn(v)){V=v.stateNode,j=v.type;var Be=v.memoizedProps;switch(V[Co]=v,V[Dl]=Be,p=(v.mode&1)!==0,j){case"dialog":bi("cancel",V),bi("close",V);break;case"iframe":case"object":case"embed":bi("load",V);break;case"video":case"audio":for(pe=0;pe<Su.length;pe++)bi(Su[pe],V);break;case"source":bi("error",V);break;case"img":case"image":case"link":bi("error",V),bi("load",V);break;case"details":bi("toggle",V);break;case"input":de(V,Be),bi("invalid",V);break;case"select":V._wrapperState={wasMultiple:!!Be.multiple},bi("invalid",V);break;case"textarea":mr(V,Be),bi("invalid",V)}Lr(j,Be),pe=null;for(var Ve in Be)if(Be.hasOwnProperty(Ve)){var jt=Be[Ve];Ve==="children"?typeof jt=="string"?V.textContent!==jt&&(Be.suppressHydrationWarning!==!0&&Bu(V.textContent,jt,p),pe=["children",jt]):typeof jt=="number"&&V.textContent!==""+jt&&(Be.suppressHydrationWarning!==!0&&Bu(V.textContent,jt,p),pe=["children",""+jt]):i.hasOwnProperty(Ve)&&jt!=null&&Ve==="onScroll"&&bi("scroll",V)}switch(j){case"input":le(V),$e(V,Be,!0);break;case"textarea":le(V),He(V);break;case"select":case"option":break;default:typeof Be.onClick=="function"&&(V.onclick=Iu)}V=pe,v.updateQueue=V,V!==null&&(v.flags|=4)}else{Ve=pe.nodeType===9?pe:pe.ownerDocument,p==="http://www.w3.org/1999/xhtml"&&(p=$t(j)),p==="http://www.w3.org/1999/xhtml"?j==="script"?(p=Ve.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild)):typeof V.is=="string"?p=Ve.createElement(j,{is:V.is}):(p=Ve.createElement(j),j==="select"&&(Ve=p,V.multiple?Ve.multiple=!0:V.size&&(Ve.size=V.size))):p=Ve.createElementNS(p,j),p[Co]=v,p[Dl]=V,Sr(p,v,!1,!1),v.stateNode=p;e:{switch(Ve=$r(j,V),j){case"dialog":bi("cancel",p),bi("close",p),pe=V;break;case"iframe":case"object":case"embed":bi("load",p),pe=V;break;case"video":case"audio":for(pe=0;pe<Su.length;pe++)bi(Su[pe],p);pe=V;break;case"source":bi("error",p),pe=V;break;case"img":case"image":case"link":bi("error",p),bi("load",p),pe=V;break;case"details":bi("toggle",p),pe=V;break;case"input":de(p,V),pe=Ue(p,V),bi("invalid",p);break;case"option":pe=V;break;case"select":p._wrapperState={wasMultiple:!!V.multiple},pe=Ie({},V,{value:void 0}),bi("invalid",p);break;case"textarea":mr(p,V),pe=Bt(p,V),bi("invalid",p);break;default:pe=V}Lr(j,pe),jt=pe;for(Be in jt)if(jt.hasOwnProperty(Be)){var Rt=jt[Be];Be==="style"?hr(p,Rt):Be==="dangerouslySetInnerHTML"?(Rt=Rt?Rt.__html:void 0,Rt!=null&&vr(p,Rt)):Be==="children"?typeof Rt=="string"?(j!=="textarea"||Rt!=="")&&an(p,Rt):typeof Rt=="number"&&an(p,""+Rt):Be!=="suppressContentEditableWarning"&&Be!=="suppressHydrationWarning"&&Be!=="autoFocus"&&(i.hasOwnProperty(Be)?Rt!=null&&Be==="onScroll"&&bi("scroll",p):Rt!=null&&w(p,Be,Rt,Ve))}switch(j){case"input":le(p),$e(p,V,!1);break;case"textarea":le(p),He(p);break;case"option":V.value!=null&&p.setAttribute("value",""+ye(V.value));break;case"select":p.multiple=!!V.multiple,Be=V.value,Be!=null?Ct(p,!!V.multiple,Be,!1):V.defaultValue!=null&&Ct(p,!!V.multiple,V.defaultValue,!0);break;default:typeof pe.onClick=="function"&&(p.onclick=Iu)}switch(j){case"button":case"input":case"select":case"textarea":V=!!V.autoFocus;break e;case"img":V=!0;break e;default:V=!1}}V&&(v.flags|=4)}v.ref!==null&&(v.flags|=512,v.flags|=2097152)}return Or(v),null;case 6:if(p&&v.stateNode!=null)_r(p,v,p.memoizedProps,V);else{if(typeof V!="string"&&v.stateNode===null)throw Error(n(166));if(j=hi(dc.current),hi(yl.current),fn(v)){if(V=v.stateNode,j=v.memoizedProps,V[Co]=v,(Be=V.nodeValue!==j)&&(p=Ye,p!==null))switch(p.tag){case 3:Bu(V.nodeValue,j,(p.mode&1)!==0);break;case 5:p.memoizedProps.suppressHydrationWarning!==!0&&Bu(V.nodeValue,j,(p.mode&1)!==0)}Be&&(v.flags|=4)}else V=(j.nodeType===9?j:j.ownerDocument).createTextNode(V),V[Co]=v,v.stateNode=V}return Or(v),null;case 13:if(di(as),V=v.memoizedState,p===null||p.memoizedState!==null&&p.memoizedState.dehydrated!==null){if(lt&&At!==null&&(v.mode&1)!==0&&(v.flags&128)===0)Rr(),Nr(),v.flags|=98560,Be=!1;else if(Be=fn(v),V!==null&&V.dehydrated!==null){if(p===null){if(!Be)throw Error(n(318));if(Be=v.memoizedState,Be=Be!==null?Be.dehydrated:null,!Be)throw Error(n(317));Be[Co]=v}else Nr(),(v.flags&128)===0&&(v.memoizedState=null),v.flags|=4;Or(v),Be=!1}else er!==null&&(Tf(er),er=null),Be=!0;if(!Be)return v.flags&65536?v:null}return(v.flags&128)!==0?(v.lanes=j,v):(V=V!==null,V!==(p!==null&&p.memoizedState!==null)&&V&&(v.child.flags|=8192,(v.mode&1)!==0&&(p===null||(as.current&1)!==0?no===0&&(no=3):Nh())),v.updateQueue!==null&&(v.flags|=4),Or(v),null);case 4:return As(),ar(p,v),p===null&&Os(v.stateNode.containerInfo),Or(v),null;case 10:return No(v.type._context),Or(v),null;case 17:return Ro(v.type)&&lc(),Or(v),null;case 19:if(di(as),Be=v.memoizedState,Be===null)return Or(v),null;if(V=(v.flags&128)!==0,Ve=Be.rendering,Ve===null)if(V)Ur(Be,!1);else{if(no!==0||p!==null&&(p.flags&128)!==0)for(p=v.child;p!==null;){if(Ve=Au(p),Ve!==null){for(v.flags|=128,Ur(Be,!1),V=Ve.updateQueue,V!==null&&(v.updateQueue=V,v.flags|=4),v.subtreeFlags=0,V=j,j=v.child;j!==null;)Be=j,p=V,Be.flags&=14680066,Ve=Be.alternate,Ve===null?(Be.childLanes=0,Be.lanes=p,Be.child=null,Be.subtreeFlags=0,Be.memoizedProps=null,Be.memoizedState=null,Be.updateQueue=null,Be.dependencies=null,Be.stateNode=null):(Be.childLanes=Ve.childLanes,Be.lanes=Ve.lanes,Be.child=Ve.child,Be.subtreeFlags=0,Be.deletions=null,Be.memoizedProps=Ve.memoizedProps,Be.memoizedState=Ve.memoizedState,Be.updateQueue=Ve.updateQueue,Be.type=Ve.type,p=Ve.dependencies,Be.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),j=j.sibling;return Oi(as,as.current&1|2),v.child}p=p.sibling}Be.tail!==null&&fa()>rh&&(v.flags|=128,V=!0,Ur(Be,!1),v.lanes=4194304)}else{if(!V)if(p=Au(Ve),p!==null){if(v.flags|=128,V=!0,j=p.updateQueue,j!==null&&(v.updateQueue=j,v.flags|=4),Ur(Be,!0),Be.tail===null&&Be.tailMode==="hidden"&&!Ve.alternate&&!lt)return Or(v),null}else 2*fa()-Be.renderingStartTime>rh&&j!==1073741824&&(v.flags|=128,V=!0,Ur(Be,!1),v.lanes=4194304);Be.isBackwards?(Ve.sibling=v.child,v.child=Ve):(j=Be.last,j!==null?j.sibling=Ve:v.child=Ve,Be.last=Ve)}return Be.tail!==null?(v=Be.tail,Be.rendering=v,Be.tail=v.sibling,Be.renderingStartTime=fa(),v.sibling=null,j=as.current,Oi(as,V?j&1|2:j&1),v):(Or(v),null);case 22:case 23:return WA(),V=v.memoizedState!==null,p!==null&&p.memoizedState!==null!==V&&(v.flags|=8192),V&&(v.mode&1)!==0?(Qs&1073741824)!==0&&(Or(v),v.subtreeFlags&6&&(v.flags|=8192)):Or(v),null;case 24:return null;case 25:return null}throw Error(n(156,v.tag))}function Pn(p,v){switch(J(v),v.tag){case 1:return Ro(v.type)&&lc(),p=v.flags,p&65536?(v.flags=p&-65537|128,v):null;case 3:return As(),di(Ls),di(Ns),$h(),p=v.flags,(p&65536)!==0&&(p&128)===0?(v.flags=p&-65537|128,v):null;case 5:return hu(v),null;case 13:if(di(as),p=v.memoizedState,p!==null&&p.dehydrated!==null){if(v.alternate===null)throw Error(n(340));Nr()}return p=v.flags,p&65536?(v.flags=p&-65537|128,v):null;case 19:return di(as),null;case 4:return As(),null;case 10:return No(v.type._context),null;case 22:case 23:return WA(),null;case 24:return null;default:return null}}var za=!1,yn=!1,wi=typeof WeakSet=="function"?WeakSet:Set,ln=null;function La(p,v){var j=p.ref;if(j!==null)if(typeof j=="function")try{j(null)}catch(V){L(p,v,V)}else j.current=null}function Qn(p,v,j){try{j()}catch(V){L(p,v,V)}}var pn=!1;function po(p,v){if(Tu=Me,p=Js(),al(p)){if("selectionStart"in p)var j={start:p.selectionStart,end:p.selectionEnd};else e:{j=(j=p.ownerDocument)&&j.defaultView||window;var V=j.getSelection&&j.getSelection();if(V&&V.rangeCount!==0){j=V.anchorNode;var pe=V.anchorOffset,Be=V.focusNode;V=V.focusOffset;try{j.nodeType,Be.nodeType}catch{j=null;break e}var Ve=0,jt=-1,Rt=-1,gr=0,qr=0,en=p,Gr=null;t:for(;;){for(var Rn;en!==j||pe!==0&&en.nodeType!==3||(jt=Ve+pe),en!==Be||V!==0&&en.nodeType!==3||(Rt=Ve+V),en.nodeType===3&&(Ve+=en.nodeValue.length),(Rn=en.firstChild)!==null;)Gr=en,en=Rn;for(;;){if(en===p)break t;if(Gr===j&&++gr===pe&&(jt=Ve),Gr===Be&&++qr===V&&(Rt=Ve),(Rn=en.nextSibling)!==null)break;en=Gr,Gr=en.parentNode}en=Rn}j=jt===-1||Rt===-1?null:{start:jt,end:Rt}}else j=null}j=j||{start:0,end:0}}else j=null;for(_u={focusedElem:p,selectionRange:j},Me=!1,ln=v;ln!==null;)if(v=ln,p=v.child,(v.subtreeFlags&1028)!==0&&p!==null)p.return=v,ln=p;else for(;ln!==null;){v=ln;try{var Yn=v.alternate;if((v.flags&1024)!==0)switch(v.tag){case 0:case 11:case 15:break;case 1:if(Yn!==null){var ta=Yn.memoizedProps,Al=Yn.memoizedState,sr=v.stateNode,Kt=sr.getSnapshotBeforeUpdate(v.elementType===v.type?ta:Ho(v.type,ta),Al);sr.__reactInternalSnapshotBeforeUpdate=Kt}break;case 3:var fr=v.stateNode.containerInfo;fr.nodeType===1?fr.textContent="":fr.nodeType===9&&fr.documentElement&&fr.removeChild(fr.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(on){L(v,v.return,on)}if(p=v.sibling,p!==null){p.return=v.return,ln=p;break}ln=v.return}return Yn=pn,pn=!1,Yn}function Da(p,v,j){var V=v.updateQueue;if(V=V!==null?V.lastEffect:null,V!==null){var pe=V=V.next;do{if((pe.tag&p)===p){var Be=pe.destroy;pe.destroy=void 0,Be!==void 0&&Qn(v,j,Be)}pe=pe.next}while(pe!==V)}}function fi(p,v){if(v=v.updateQueue,v=v!==null?v.lastEffect:null,v!==null){var j=v=v.next;do{if((j.tag&p)===p){var V=j.create;j.destroy=V()}j=j.next}while(j!==v)}}function fs(p){var v=p.ref;if(v!==null){var j=p.stateNode;switch(p.tag){case 5:p=j;break;default:p=j}typeof v=="function"?v(p):v.current=p}}function Eo(p){var v=p.alternate;v!==null&&(p.alternate=null,Eo(v)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(v=p.stateNode,v!==null&&(delete v[Co],delete v[Dl],delete v[Gd],delete v[vl],delete v[Gu])),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}function Zo(p){return p.tag===5||p.tag===3||p.tag===4}function Us(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||Zo(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==18;){if(p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function Jo(p,v,j){var V=p.tag;if(V===5||V===6)p=p.stateNode,v?j.nodeType===8?j.parentNode.insertBefore(p,v):j.insertBefore(p,v):(j.nodeType===8?(v=j.parentNode,v.insertBefore(p,j)):(v=j,v.appendChild(p)),j=j._reactRootContainer,j!=null||v.onclick!==null||(v.onclick=Iu));else if(V!==4&&(p=p.child,p!==null))for(Jo(p,v,j),p=p.sibling;p!==null;)Jo(p,v,j),p=p.sibling}function ul(p,v,j){var V=p.tag;if(V===5||V===6)p=p.stateNode,v?j.insertBefore(p,v):j.appendChild(p);else if(V!==4&&(p=p.child,p!==null))for(ul(p,v,j),p=p.sibling;p!==null;)ul(p,v,j),p=p.sibling}var mi=null,Ya=!1;function gi(p,v,j){for(j=j.child;j!==null;)Gs(p,v,j),j=j.sibling}function Gs(p,v,j){if(Vs&&typeof Vs.onCommitFiberUnmount=="function")try{Vs.onCommitFiberUnmount(Oo,j)}catch{}switch(j.tag){case 5:yn||La(j,v);case 6:var V=mi,pe=Ya;mi=null,gi(p,v,j),mi=V,Ya=pe,mi!==null&&(Ya?(p=mi,j=j.stateNode,p.nodeType===8?p.parentNode.removeChild(j):p.removeChild(j)):mi.removeChild(j.stateNode));break;case 18:mi!==null&&(Ya?(p=mi,j=j.stateNode,p.nodeType===8?Sa(p.parentNode,j):p.nodeType===1&&Sa(p,j),ge(p)):Sa(mi,j.stateNode));break;case 4:V=mi,pe=Ya,mi=j.stateNode.containerInfo,Ya=!0,gi(p,v,j),mi=V,Ya=pe;break;case 0:case 11:case 14:case 15:if(!yn&&(V=j.updateQueue,V!==null&&(V=V.lastEffect,V!==null))){pe=V=V.next;do{var Be=pe,Ve=Be.destroy;Be=Be.tag,Ve!==void 0&&((Be&2)!==0||(Be&4)!==0)&&Qn(j,v,Ve),pe=pe.next}while(pe!==V)}gi(p,v,j);break;case 1:if(!yn&&(La(j,v),V=j.stateNode,typeof V.componentWillUnmount=="function"))try{V.props=j.memoizedProps,V.state=j.memoizedState,V.componentWillUnmount()}catch(jt){L(j,v,jt)}gi(p,v,j);break;case 21:gi(p,v,j);break;case 22:j.mode&1?(yn=(V=yn)||j.memoizedState!==null,gi(p,v,j),yn=V):gi(p,v,j);break;default:gi(p,v,j)}}function Ki(p){var v=p.updateQueue;if(v!==null){p.updateQueue=null;var j=p.stateNode;j===null&&(j=p.stateNode=new wi),v.forEach(function(V){var pe=Ke.bind(null,p,V);j.has(V)||(j.add(V),V.then(pe,pe))})}}function ps(p,v){var j=v.deletions;if(j!==null)for(var V=0;V<j.length;V++){var pe=j[V];try{var Be=p,Ve=v,jt=Ve;e:for(;jt!==null;){switch(jt.tag){case 5:mi=jt.stateNode,Ya=!1;break e;case 3:mi=jt.stateNode.containerInfo,Ya=!0;break e;case 4:mi=jt.stateNode.containerInfo,Ya=!0;break e}jt=jt.return}if(mi===null)throw Error(n(160));Gs(Be,Ve,pe),mi=null,Ya=!1;var Rt=pe.alternate;Rt!==null&&(Rt.return=null),pe.return=null}catch(gr){L(pe,v,gr)}}if(v.subtreeFlags&12854)for(v=v.child;v!==null;)fc(v,p),v=v.sibling}function fc(p,v){var j=p.alternate,V=p.flags;switch(p.tag){case 0:case 11:case 14:case 15:if(ps(v,p),Gi(p),V&4){try{Da(3,p,p.return),fi(3,p)}catch(ta){L(p,p.return,ta)}try{Da(5,p,p.return)}catch(ta){L(p,p.return,ta)}}break;case 1:ps(v,p),Gi(p),V&512&&j!==null&&La(j,j.return);break;case 5:if(ps(v,p),Gi(p),V&512&&j!==null&&La(j,j.return),p.flags&32){var pe=p.stateNode;try{an(pe,"")}catch(ta){L(p,p.return,ta)}}if(V&4&&(pe=p.stateNode,pe!=null)){var Be=p.memoizedProps,Ve=j!==null?j.memoizedProps:Be,jt=p.type,Rt=p.updateQueue;if(p.updateQueue=null,Rt!==null)try{jt==="input"&&Be.type==="radio"&&Be.name!=null&&Ce(pe,Be),$r(jt,Ve);var gr=$r(jt,Be);for(Ve=0;Ve<Rt.length;Ve+=2){var qr=Rt[Ve],en=Rt[Ve+1];qr==="style"?hr(pe,en):qr==="dangerouslySetInnerHTML"?vr(pe,en):qr==="children"?an(pe,en):w(pe,qr,en,gr)}switch(jt){case"input":ue(pe,Be);break;case"textarea":lr(pe,Be);break;case"select":var Gr=pe._wrapperState.wasMultiple;pe._wrapperState.wasMultiple=!!Be.multiple;var Rn=Be.value;Rn!=null?Ct(pe,!!Be.multiple,Rn,!1):Gr!==!!Be.multiple&&(Be.defaultValue!=null?Ct(pe,!!Be.multiple,Be.defaultValue,!0):Ct(pe,!!Be.multiple,Be.multiple?[]:"",!1))}pe[Dl]=Be}catch(ta){L(p,p.return,ta)}}break;case 6:if(ps(v,p),Gi(p),V&4){if(p.stateNode===null)throw Error(n(162));pe=p.stateNode,Be=p.memoizedProps;try{pe.nodeValue=Be}catch(ta){L(p,p.return,ta)}}break;case 3:if(ps(v,p),Gi(p),V&4&&j!==null&&j.memoizedState.isDehydrated)try{ge(v.containerInfo)}catch(ta){L(p,p.return,ta)}break;case 4:ps(v,p),Gi(p);break;case 13:ps(v,p),Gi(p),pe=p.child,pe.flags&8192&&(Be=pe.memoizedState!==null,pe.stateNode.isHidden=Be,!Be||pe.alternate!==null&&pe.alternate.memoizedState!==null||(Yc=fa())),V&4&&Ki(p);break;case 22:if(qr=j!==null&&j.memoizedState!==null,p.mode&1?(yn=(gr=yn)||qr,ps(v,p),yn=gr):ps(v,p),Gi(p),V&8192){if(gr=p.memoizedState!==null,(p.stateNode.isHidden=gr)&&!qr&&(p.mode&1)!==0)for(ln=p,qr=p.child;qr!==null;){for(en=ln=qr;ln!==null;){switch(Gr=ln,Rn=Gr.child,Gr.tag){case 0:case 11:case 14:case 15:Da(4,Gr,Gr.return);break;case 1:La(Gr,Gr.return);var Yn=Gr.stateNode;if(typeof Yn.componentWillUnmount=="function"){V=Gr,j=Gr.return;try{v=V,Yn.props=v.memoizedProps,Yn.state=v.memoizedState,Yn.componentWillUnmount()}catch(ta){L(V,j,ta)}}break;case 5:La(Gr,Gr.return);break;case 22:if(Gr.memoizedState!==null){Qo(en);continue}}Rn!==null?(Rn.return=Gr,ln=Rn):Qo(en)}qr=qr.sibling}e:for(qr=null,en=p;;){if(en.tag===5){if(qr===null){qr=en;try{pe=en.stateNode,gr?(Be=pe.style,typeof Be.setProperty=="function"?Be.setProperty("display","none","important"):Be.display="none"):(jt=en.stateNode,Rt=en.memoizedProps.style,Ve=Rt!=null&&Rt.hasOwnProperty("display")?Rt.display:null,jt.style.display=Ir("display",Ve))}catch(ta){L(p,p.return,ta)}}}else if(en.tag===6){if(qr===null)try{en.stateNode.nodeValue=gr?"":en.memoizedProps}catch(ta){L(p,p.return,ta)}}else if((en.tag!==22&&en.tag!==23||en.memoizedState===null||en===p)&&en.child!==null){en.child.return=en,en=en.child;continue}if(en===p)break e;for(;en.sibling===null;){if(en.return===null||en.return===p)break e;qr===en&&(qr=null),en=en.return}qr===en&&(qr=null),en.sibling.return=en.return,en=en.sibling}}break;case 19:ps(v,p),Gi(p),V&4&&Ki(p);break;case 21:break;default:ps(v,p),Gi(p)}}function Gi(p){var v=p.flags;if(v&2){try{e:{for(var j=p.return;j!==null;){if(Zo(j)){var V=j;break e}j=j.return}throw Error(n(160))}switch(V.tag){case 5:var pe=V.stateNode;V.flags&32&&(an(pe,""),V.flags&=-33);var Be=Us(p);ul(p,Be,pe);break;case 3:case 4:var Ve=V.stateNode.containerInfo,jt=Us(p);Jo(p,jt,Ve);break;default:throw Error(n(161))}}catch(Rt){L(p,p.return,Rt)}p.flags&=-3}v&4096&&(p.flags&=-4097)}function wl(p,v,j){ln=p,is(p)}function is(p,v,j){for(var V=(p.mode&1)!==0;ln!==null;){var pe=ln,Be=pe.child;if(pe.tag===22&&V){var Ve=pe.memoizedState!==null||za;if(!Ve){var jt=pe.alternate,Rt=jt!==null&&jt.memoizedState!==null||yn;jt=za;var gr=yn;if(za=Ve,(yn=Rt)&&!gr)for(ln=pe;ln!==null;)Ve=ln,Rt=Ve.child,Ve.tag===22&&Ve.memoizedState!==null?Wo(pe):Rt!==null?(Rt.return=Ve,ln=Rt):Wo(pe);for(;Be!==null;)ln=Be,is(Be),Be=Be.sibling;ln=pe,za=jt,yn=gr}rn(p)}else(pe.subtreeFlags&8772)!==0&&Be!==null?(Be.return=pe,ln=Be):rn(p)}}function rn(p){for(;ln!==null;){var v=ln;if((v.flags&8772)!==0){var j=v.alternate;try{if((v.flags&8772)!==0)switch(v.tag){case 0:case 11:case 15:yn||fi(5,v);break;case 1:var V=v.stateNode;if(v.flags&4&&!yn)if(j===null)V.componentDidMount();else{var pe=v.elementType===v.type?j.memoizedProps:Ho(v.type,j.memoizedProps);V.componentDidUpdate(pe,j.memoizedState,V.__reactInternalSnapshotBeforeUpdate)}var Be=v.updateQueue;Be!==null&&wd(v,Be,V);break;case 3:var Ve=v.updateQueue;if(Ve!==null){if(j=null,v.child!==null)switch(v.child.tag){case 5:j=v.child.stateNode;break;case 1:j=v.child.stateNode}wd(v,Ve,j)}break;case 5:var jt=v.stateNode;if(j===null&&v.flags&4){j=jt;var Rt=v.memoizedProps;switch(v.type){case"button":case"input":case"select":case"textarea":Rt.autoFocus&&j.focus();break;case"img":Rt.src&&(j.src=Rt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(v.memoizedState===null){var gr=v.alternate;if(gr!==null){var qr=gr.memoizedState;if(qr!==null){var en=qr.dehydrated;en!==null&&ge(en)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}yn||v.flags&512&&fs(v)}catch(Gr){L(v,v.return,Gr)}}if(v===p){ln=null;break}if(j=v.sibling,j!==null){j.return=v.return,ln=j;break}ln=v.return}}function Qo(p){for(;ln!==null;){var v=ln;if(v===p){ln=null;break}var j=v.sibling;if(j!==null){j.return=v.return,ln=j;break}ln=v.return}}function Wo(p){for(;ln!==null;){var v=ln;try{switch(v.tag){case 0:case 11:case 15:var j=v.return;try{fi(4,v)}catch(Rt){L(v,j,Rt)}break;case 1:var V=v.stateNode;if(typeof V.componentDidMount=="function"){var pe=v.return;try{V.componentDidMount()}catch(Rt){L(v,pe,Rt)}}var Be=v.return;try{fs(v)}catch(Rt){L(v,Be,Rt)}break;case 5:var Ve=v.return;try{fs(v)}catch(Rt){L(v,Ve,Rt)}}}catch(Rt){L(v,v.return,Rt)}if(v===p){ln=null;break}var jt=v.sibling;if(jt!==null){jt.return=v.return,ln=jt;break}ln=v.return}}var Hs=Math.ceil,jl=S.ReactCurrentDispatcher,Wa=S.ReactCurrentOwner,Ma=S.ReactCurrentBatchConfig,qn=0,qi=null,ki=null,qs=0,Qs=0,ro=Ml(0),no=0,Id=null,Fu=0,Zu=0,If=0,jh=null,dl=null,Yc=0,rh=1/0,Ju=null,tA=!1,LA=null,pu=null,rA=!1,Zc=null,el=0,Td=0,Du=null,nA=-1,UA=0;function Bo(){return(qn&6)!==0?fa():nA!==-1?nA:nA=fa()}function pc(p){return(p.mode&1)===0?1:(qn&2)!==0&&qs!==0?qs&-qs:ja.transition!==null?(UA===0&&(UA=co()),UA):(p=va,p!==0||(p=window.event,p=p===void 0?16:gt(p.type)),p)}function Cl(p,v,j,V){if(50<Td)throw Td=0,Du=null,Error(n(185));Di(p,j,V),((qn&2)===0||p!==qi)&&(p===qi&&((qn&2)===0&&(Zu|=j),no===4&&Mc(p,qs)),mo(p,V),j===1&&qn===0&&(v.mode&1)===0&&(rh=fa()+500,Qe&&Cr()))}function mo(p,v){var j=p.callbackNode;Po(p,v);var V=bs(p,p===qi?qs:0);if(V===0)j!==null&&Il(j),p.callbackNode=null,p.callbackPriority=0;else if(v=V&-V,p.callbackPriority!==v){if(j!=null&&Il(j),v===1)p.tag===0?Xt(Of.bind(null,p)):kt(Of.bind(null,p)),Kd(function(){(qn&6)===0&&Cr()}),j=null;else{switch(zi(V)){case 1:j=ai;break;case 4:j=To;break;case 16:j=Ys;break;case 536870912:j=nl;break;default:j=Ys}j=ct(j,_d.bind(null,p))}p.callbackPriority=v,p.callbackNode=j}}function _d(p,v){if(nA=-1,UA=0,(qn&6)!==0)throw Error(n(327));var j=p.callbackNode;if(F()&&p.callbackNode!==j)return null;var V=bs(p,p===qi?qs:0);if(V===0)return null;if((V&30)!==0||(V&p.expiredLanes)!==0||v)v=Jc(p,V);else{v=V;var pe=qn;qn|=2;var Be=$A();(qi!==p||qs!==v)&&(Ju=null,rh=fa()+500,ah(p,v));do try{kd();break}catch(jt){Ch(p,jt)}while(!0);Aa(),jl.current=Be,qn=pe,ki!==null?v=0:(qi=null,qs=0,v=no)}if(v!==0){if(v===2&&(pe=Li(p),pe!==0&&(V=pe,v=HA(p,pe))),v===1)throw j=Id,ah(p,0),Mc(p,V),mo(p,fa()),j;if(v===6)Mc(p,V);else{if(pe=p.current.alternate,(V&30)===0&&!_f(pe)&&(v=Jc(p,V),v===2&&(Be=Li(p),Be!==0&&(V=Be,v=HA(p,Be))),v===1))throw j=Id,ah(p,0),Mc(p,V),mo(p,fa()),j;switch(p.finishedWork=pe,p.finishedLanes=V,v){case 0:case 1:throw Error(n(345));case 2:Pd(p,dl,Ju);break;case 3:if(Mc(p,V),(V&130023424)===V&&(v=Yc+500-fa(),10<v)){if(bs(p,0)!==0)break;if(pe=p.suspendedLanes,(pe&V)!==V){Bo(),p.pingedLanes|=p.suspendedLanes&pe;break}p.timeoutHandle=Fl(Pd.bind(null,p,dl,Ju),v);break}Pd(p,dl,Ju);break;case 4:if(Mc(p,V),(V&4194240)===V)break;for(v=p.eventTimes,pe=-1;0<V;){var Ve=31-ii(V);Be=1<<Ve,Ve=v[Ve],Ve>pe&&(pe=Ve),V&=~Be}if(V=pe,V=fa()-V,V=(120>V?120:480>V?480:1080>V?1080:1920>V?1920:3e3>V?3e3:4320>V?4320:1960*Hs(V/1960))-V,10<V){p.timeoutHandle=Fl(Pd.bind(null,p,dl,Ju),V);break}Pd(p,dl,Ju);break;case 5:Pd(p,dl,Ju);break;default:throw Error(n(329))}}}return mo(p,fa()),p.callbackNode===j?_d.bind(null,p):null}function HA(p,v){var j=jh;return p.current.memoizedState.isDehydrated&&(ah(p,v).flags|=256),p=Jc(p,v),p!==2&&(v=dl,dl=j,v!==null&&Tf(v)),p}function Tf(p){dl===null?dl=p:dl.push.apply(dl,p)}function _f(p){for(var v=p;;){if(v.flags&16384){var j=v.updateQueue;if(j!==null&&(j=j.stores,j!==null))for(var V=0;V<j.length;V++){var pe=j[V],Be=pe.getSnapshot;pe=pe.value;try{if(!Rs(Be(),pe))return!1}catch{return!1}}}if(j=v.child,v.subtreeFlags&16384&&j!==null)j.return=v,v=j;else{if(v===p)break;for(;v.sibling===null;){if(v.return===null||v.return===p)return!0;v=v.return}v.sibling.return=v.return,v=v.sibling}}return!0}function Mc(p,v){for(v&=~If,v&=~Zu,p.suspendedLanes|=v,p.pingedLanes&=~v,p=p.expirationTimes;0<v;){var j=31-ii(v),V=1<<j;p[j]=-1,v&=~V}}function Of(p){if((qn&6)!==0)throw Error(n(327));F();var v=bs(p,0);if((v&1)===0)return mo(p,fa()),null;var j=Jc(p,v);if(p.tag!==0&&j===2){var V=Li(p);V!==0&&(v=V,j=HA(p,V))}if(j===1)throw j=Id,ah(p,0),Mc(p,v),mo(p,fa()),j;if(j===6)throw Error(n(345));return p.finishedWork=p.current.alternate,p.finishedLanes=v,Pd(p,dl,Ju),mo(p,fa()),null}function QA(p,v){var j=qn;qn|=1;try{return p(v)}finally{qn=j,qn===0&&(rh=fa()+500,Qe&&Cr())}}function nh(p){Zc!==null&&Zc.tag===0&&(qn&6)===0&&F();var v=qn;qn|=1;var j=Ma.transition,V=va;try{if(Ma.transition=null,va=1,p)return p()}finally{va=V,Ma.transition=j,qn=v,(qn&6)===0&&Cr()}}function WA(){Qs=ro.current,di(ro)}function ah(p,v){p.finishedWork=null,p.finishedLanes=0;var j=p.timeoutHandle;if(j!==-1&&(p.timeoutHandle=-1,Hh(j)),ki!==null)for(j=ki.return;j!==null;){var V=j;switch(J(V),V.tag){case 1:V=V.type.childContextTypes,V!=null&&lc();break;case 3:As(),di(Ls),di(Ns),$h();break;case 5:hu(V);break;case 4:As();break;case 13:di(as);break;case 19:di(as);break;case 10:No(V.type._context);break;case 22:case 23:WA()}j=j.return}if(qi=p,ki=p=bn(p.current,null),qs=Qs=v,no=0,Id=null,If=Zu=Fu=0,dl=jh=null,uc!==null){for(v=0;v<uc.length;v++)if(j=uc[v],V=j.interleaved,V!==null){j.interleaved=null;var pe=V.next,Be=j.pending;if(Be!==null){var Ve=Be.next;Be.next=pe,V.next=Ve}j.pending=V}uc=null}return p}function Ch(p,v){do{var j=ki;try{if(Aa(),vh.current=Ul,zh){for(var V=Ss.memoizedState;V!==null;){var pe=V.queue;pe!==null&&(pe.pending=null),V=V.next}zh=!1}if(Xu=0,to=So=Ss=null,ol=!1,Cd=0,Wa.current=null,j===null||j.return===null){no=1,Id=v,ki=null;break}e:{var Be=p,Ve=j.return,jt=j,Rt=v;if(v=qs,jt.flags|=32768,Rt!==null&&typeof Rt=="object"&&typeof Rt.then=="function"){var gr=Rt,qr=jt,en=qr.tag;if((qr.mode&1)===0&&(en===0||en===11||en===15)){var Gr=qr.alternate;Gr?(qr.updateQueue=Gr.updateQueue,qr.memoizedState=Gr.memoizedState,qr.lanes=Gr.lanes):(qr.updateQueue=null,qr.memoizedState=null)}var Rn=Nf(Ve);if(Rn!==null){Rn.flags&=-257,Sf(Rn,Ve,jt,Be,v),Rn.mode&1&&Bp(Be,gr,v),v=Rn,Rt=gr;var Yn=v.updateQueue;if(Yn===null){var ta=new Set;ta.add(Rt),v.updateQueue=ta}else Yn.add(Rt);break e}else{if((v&1)===0){Bp(Be,gr,v),Nh();break e}Rt=Error(n(426))}}else if(lt&&jt.mode&1){var Al=Nf(Ve);if(Al!==null){(Al.flags&65536)===0&&(Al.flags|=256),Sf(Al,Ve,jt,Be,v),Hi(Sd(Rt,jt));break e}}Be=Rt=Sd(Rt,jt),no!==4&&(no=2),jh===null?jh=[Be]:jh.push(Be),Be=Ve;do{switch(Be.tag){case 3:Be.flags|=65536,v&=-v,Be.lanes|=v;var sr=bh(Be,Rt,v);qu(Be,sr);break e;case 1:jt=Rt;var Kt=Be.type,fr=Be.stateNode;if((Be.flags&128)===0&&(typeof Kt.getDerivedStateFromError=="function"||fr!==null&&typeof fr.componentDidCatch=="function"&&(pu===null||!pu.has(fr)))){Be.flags|=65536,v&=-v,Be.lanes|=v;var on=FA(Be,jt,v);qu(Be,on);break e}}Be=Be.return}while(Be!==null)}VA(j)}catch(ia){v=ia,ki===j&&j!==null&&(ki=j=j.return);continue}break}while(!0)}function $A(){var p=jl.current;return jl.current=Ul,p===null?Ul:p}function Nh(){(no===0||no===3||no===2)&&(no=4),qi===null||(Fu&268435455)===0&&(Zu&268435455)===0||Mc(qi,qs)}function Jc(p,v){var j=qn;qn|=2;var V=$A();(qi!==p||qs!==v)&&(Ju=null,ah(p,v));do try{Od();break}catch(pe){Ch(p,pe)}while(!0);if(Aa(),qn=j,jl.current=V,ki!==null)throw Error(n(261));return qi=null,qs=0,no}function Od(){for(;ki!==null;)aA(ki)}function kd(){for(;ki!==null&&!$i();)aA(ki)}function aA(p){var v=ut(p.alternate,p,Qs);p.memoizedProps=p.pendingProps,v===null?VA(p):ki=v,Wa.current=null}function VA(p){var v=p;do{var j=v.alternate;if(p=v.return,(v.flags&32768)===0){if(j=ea(j,v,Qs),j!==null){ki=j;return}}else{if(j=Pn(j,v),j!==null){j.flags&=32767,ki=j;return}if(p!==null)p.flags|=32768,p.subtreeFlags=0,p.deletions=null;else{no=6,ki=null;return}}if(v=v.sibling,v!==null){ki=v;return}ki=v=p}while(v!==null);no===0&&(no=5)}function Pd(p,v,j){var V=va,pe=Ma.transition;try{Ma.transition=null,va=1,Vm(p,v,j,V)}finally{Ma.transition=pe,va=V}return null}function Vm(p,v,j,V){do F();while(Zc!==null);if((qn&6)!==0)throw Error(n(327));j=p.finishedWork;var pe=p.finishedLanes;if(j===null)return null;if(p.finishedWork=null,p.finishedLanes=0,j===p.current)throw Error(n(177));p.callbackNode=null,p.callbackPriority=0;var Be=j.lanes|j.childLanes;if(bo(p,Be),p===qi&&(ki=qi=null,qs=0),(j.subtreeFlags&2064)===0&&(j.flags&2064)===0||rA||(rA=!0,ct(Ys,function(){return F(),null})),Be=(j.flags&15990)!==0,(j.subtreeFlags&15990)!==0||Be){Be=Ma.transition,Ma.transition=null;var Ve=va;va=1;var jt=qn;qn|=4,Wa.current=null,po(p,j),fc(j,p),Ic(_u),Me=!!Tu,_u=Tu=null,p.current=j,wl(j),yo(),qn=jt,va=Ve,Ma.transition=Be}else p.current=j;if(rA&&(rA=!1,Zc=p,el=pe),Be=p.pendingLanes,Be===0&&(pu=null),Si(j.stateNode),mo(p,fa()),v!==null)for(V=p.onRecoverableError,j=0;j<v.length;j++)pe=v[j],V(pe.value,{componentStack:pe.stack,digest:pe.digest});if(tA)throw tA=!1,p=LA,LA=null,p;return(el&1)!==0&&p.tag!==0&&F(),Be=p.pendingLanes,(Be&1)!==0?p===Du?Td++:(Td=0,Du=p):Td=0,Cr(),null}function F(){if(Zc!==null){var p=zi(el),v=Ma.transition,j=va;try{if(Ma.transition=null,va=16>p?16:p,Zc===null)var V=!1;else{if(p=Zc,Zc=null,el=0,(qn&6)!==0)throw Error(n(331));var pe=qn;for(qn|=4,ln=p.current;ln!==null;){var Be=ln,Ve=Be.child;if((ln.flags&16)!==0){var jt=Be.deletions;if(jt!==null){for(var Rt=0;Rt<jt.length;Rt++){var gr=jt[Rt];for(ln=gr;ln!==null;){var qr=ln;switch(qr.tag){case 0:case 11:case 15:Da(8,qr,Be)}var en=qr.child;if(en!==null)en.return=qr,ln=en;else for(;ln!==null;){qr=ln;var Gr=qr.sibling,Rn=qr.return;if(Eo(qr),qr===gr){ln=null;break}if(Gr!==null){Gr.return=Rn,ln=Gr;break}ln=Rn}}}var Yn=Be.alternate;if(Yn!==null){var ta=Yn.child;if(ta!==null){Yn.child=null;do{var Al=ta.sibling;ta.sibling=null,ta=Al}while(ta!==null)}}ln=Be}}if((Be.subtreeFlags&2064)!==0&&Ve!==null)Ve.return=Be,ln=Ve;else e:for(;ln!==null;){if(Be=ln,(Be.flags&2048)!==0)switch(Be.tag){case 0:case 11:case 15:Da(9,Be,Be.return)}var sr=Be.sibling;if(sr!==null){sr.return=Be.return,ln=sr;break e}ln=Be.return}}var Kt=p.current;for(ln=Kt;ln!==null;){Ve=ln;var fr=Ve.child;if((Ve.subtreeFlags&2064)!==0&&fr!==null)fr.return=Ve,ln=fr;else e:for(Ve=Kt;ln!==null;){if(jt=ln,(jt.flags&2048)!==0)try{switch(jt.tag){case 0:case 11:case 15:fi(9,jt)}}catch(ia){L(jt,jt.return,ia)}if(jt===Ve){ln=null;break e}var on=jt.sibling;if(on!==null){on.return=jt.return,ln=on;break e}ln=jt.return}}if(qn=pe,Cr(),Vs&&typeof Vs.onPostCommitFiberRoot=="function")try{Vs.onPostCommitFiberRoot(Oo,p)}catch{}V=!0}return V}finally{va=j,Ma.transition=v}}return!1}function B(p,v,j){v=Sd(j,v),v=bh(p,v,1),p=Gc(p,v,1),v=Bo(),p!==null&&(Di(p,1,v),mo(p,v))}function L(p,v,j){if(p.tag===3)B(p,p,j);else for(;v!==null;){if(v.tag===3){B(v,p,j);break}else if(v.tag===1){var V=v.stateNode;if(typeof v.type.getDerivedStateFromError=="function"||typeof V.componentDidCatch=="function"&&(pu===null||!pu.has(V))){p=Sd(j,p),p=FA(v,p,1),v=Gc(v,p,1),p=Bo(),v!==null&&(Di(v,1,p),mo(v,p));break}}v=v.return}}function U(p,v,j){var V=p.pingCache;V!==null&&V.delete(v),v=Bo(),p.pingedLanes|=p.suspendedLanes&j,qi===p&&(qs&j)===j&&(no===4||no===3&&(qs&130023424)===qs&&500>fa()-Yc?ah(p,0):If|=j),mo(p,v)}function be(p,v){v===0&&((p.mode&1)===0?v=1:(v=Gn,Gn<<=1,(Gn&130023424)===0&&(Gn=4194304)));var j=Bo();p=Yo(p,v),p!==null&&(Di(p,v,j),mo(p,j))}function De(p){var v=p.memoizedState,j=0;v!==null&&(j=v.retryLane),be(p,j)}function Ke(p,v){var j=0;switch(p.tag){case 13:var V=p.stateNode,pe=p.memoizedState;pe!==null&&(j=pe.retryLane);break;case 19:V=p.stateNode;break;default:throw Error(n(314))}V!==null&&V.delete(v),be(p,j)}var ut;ut=function(p,v,j){if(p!==null)if(p.memoizedProps!==v.pendingProps||Ls.current)Hl=!0;else{if((p.lanes&j)===0&&(v.flags&128)===0)return Hl=!1,Zt(p,v,j);Hl=(p.flags&131072)!==0}else Hl=!1,lt&&(v.flags&1048576)!==0&&T(v,ma,v.index);switch(v.lanes=0,v.tag){case 2:var V=v.type;ft(p,v),p=v.pendingProps;var pe=uu(v,Ns.current);Lo(v,j),pe=SA(null,v,V,p,pe,j);var Be=EA();return v.flags|=1,typeof pe=="object"&&pe!==null&&typeof pe.render=="function"&&pe.$$typeof===void 0?(v.tag=1,v.memoizedState=null,v.updateQueue=null,Ro(V)?(Be=!0,Kc(v)):Be=!1,v.memoizedState=pe.state!==null&&pe.state!==void 0?pe.state:null,Yd(v),pe.updater=eh,v.stateNode=pe,pe._reactInternals=v,PA(v,V,p,j),v=_(null,v,V,!0,Be,j)):(v.tag=0,lt&&Be&&Le(v),bl(null,v,pe,j),v=v.child),v;case 16:V=v.elementType;e:{switch(ft(p,v),p=v.pendingProps,pe=V._init,V=pe(V._payload),v.type=V,pe=v.tag=Er(V),p=Ho(V,p),pe){case 0:v=wh(null,v,V,p,j);break e;case 1:v=RA(null,v,V,p,j);break e;case 11:v=DA(null,v,V,p,j);break e;case 14:v=Bf(null,v,V,Ho(V.type,p),j);break e}throw Error(n(306,V,""))}return v;case 0:return V=v.type,pe=v.pendingProps,pe=v.elementType===V?pe:Ho(V,pe),wh(p,v,V,pe,j);case 1:return V=v.type,pe=v.pendingProps,pe=v.elementType===V?pe:Ho(V,pe),RA(p,v,V,pe,j);case 3:e:{if(G(v),p===null)throw Error(n(387));V=v.pendingProps,Be=v.memoizedState,pe=Be.element,gh(p,v),du(v,V,null,j);var Ve=v.memoizedState;if(V=Ve.element,Be.isDehydrated)if(Be={element:V,isDehydrated:!1,cache:Ve.cache,pendingSuspenseBoundaries:Ve.pendingSuspenseBoundaries,transitions:Ve.transitions},v.updateQueue.baseState=Be,v.memoizedState=Be,v.flags&256){pe=Sd(Error(n(423)),v),v=xe(p,v,V,j,pe);break e}else if(V!==pe){pe=Sd(Error(n(424)),v),v=xe(p,v,V,j,pe);break e}else for(At=Vc(v.stateNode.containerInfo.firstChild),Ye=v,lt=!0,er=null,j=ns(v,null,V,j),v.child=j;j;)j.flags=j.flags&-3|4096,j=j.sibling;else{if(Nr(),V===pe){v=Lt(p,v,j);break e}bl(p,v,V,j)}v=v.child}return v;case 5:return Ao(v),p===null&&ir(v),V=v.type,pe=v.pendingProps,Be=p!==null?p.memoizedProps:null,Ve=pe.children,yd(V,pe)?Ve=null:Be!==null&&yd(V,Be)&&(v.flags|=32),eA(p,v),bl(p,v,Ve,j),v.child;case 6:return p===null&&ir(v),null;case 13:return Ge(p,v,j);case 4:return Qi(v,v.stateNode.containerInfo),V=v.pendingProps,p===null?v.child=Ta(v,null,V,j):bl(p,v,V,j),v.child;case 11:return V=v.type,pe=v.pendingProps,pe=v.elementType===V?pe:Ho(V,pe),DA(p,v,V,pe,j);case 7:return bl(p,v,v.pendingProps,j),v.child;case 8:return bl(p,v,v.pendingProps.children,j),v.child;case 12:return bl(p,v,v.pendingProps.children,j),v.child;case 10:e:{if(V=v.type._context,pe=v.pendingProps,Be=v.memoizedProps,Ve=pe.value,Oi(Jn,V._currentValue),V._currentValue=Ve,Be!==null)if(Rs(Be.value,Ve)){if(Be.children===pe.children&&!Ls.current){v=Lt(p,v,j);break e}}else for(Be=v.child,Be!==null&&(Be.return=v);Be!==null;){var jt=Be.dependencies;if(jt!==null){Ve=Be.child;for(var Rt=jt.firstContext;Rt!==null;){if(Rt.context===V){if(Be.tag===1){Rt=Fc(-1,j&-j),Rt.tag=2;var gr=Be.updateQueue;if(gr!==null){gr=gr.shared;var qr=gr.pending;qr===null?Rt.next=Rt:(Rt.next=qr.next,qr.next=Rt),gr.pending=Rt}}Be.lanes|=j,Rt=Be.alternate,Rt!==null&&(Rt.lanes|=j),cc(Be.return,j,v),jt.lanes|=j;break}Rt=Rt.next}}else if(Be.tag===10)Ve=Be.type===v.type?null:Be.child;else if(Be.tag===18){if(Ve=Be.return,Ve===null)throw Error(n(341));Ve.lanes|=j,jt=Ve.alternate,jt!==null&&(jt.lanes|=j),cc(Ve,j,v),Ve=Be.sibling}else Ve=Be.child;if(Ve!==null)Ve.return=Be;else for(Ve=Be;Ve!==null;){if(Ve===v){Ve=null;break}if(Be=Ve.sibling,Be!==null){Be.return=Ve.return,Ve=Be;break}Ve=Ve.return}Be=Ve}bl(p,v,pe.children,j),v=v.child}return v;case 9:return pe=v.type,V=v.pendingProps.children,Lo(v,j),pe=ho(pe),V=V(pe),v.flags|=1,bl(p,v,V,j),v.child;case 14:return V=v.type,pe=Ho(V,v.pendingProps),pe=Ho(V.type,pe),Bf(p,v,V,pe,j);case 15:return MA(p,v,v.type,v.pendingProps,j);case 17:return V=v.type,pe=v.pendingProps,pe=v.elementType===V?pe:Ho(V,pe),ft(p,v),v.tag=1,Ro(V)?(p=!0,Kc(v)):p=!1,Lo(v,j),kA(v,V,pe),PA(v,V,pe,j),_(null,v,V,!0,p,j);case 19:return rr(p,v,j);case 22:return Jh(p,v,j)}throw Error(n(156,v.tag))};function ct(p,v){return Ec(p,v)}function Ut(p,v,j,V){this.tag=p,this.key=j,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=v,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=V,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qt(p,v,j,V){return new Ut(p,v,j,V)}function tr(p){return p=p.prototype,!(!p||!p.isReactComponent)}function Er(p){if(typeof p=="function")return tr(p)?1:0;if(p!=null){if(p=p.$$typeof,p===Y)return 11;if(p===$)return 14}return 2}function bn(p,v){var j=p.alternate;return j===null?(j=Qt(p.tag,v,p.key,p.mode),j.elementType=p.elementType,j.type=p.type,j.stateNode=p.stateNode,j.alternate=p,p.alternate=j):(j.pendingProps=v,j.type=p.type,j.flags=0,j.subtreeFlags=0,j.deletions=null),j.flags=p.flags&14680064,j.childLanes=p.childLanes,j.lanes=p.lanes,j.child=p.child,j.memoizedProps=p.memoizedProps,j.memoizedState=p.memoizedState,j.updateQueue=p.updateQueue,v=p.dependencies,j.dependencies=v===null?null:{lanes:v.lanes,firstContext:v.firstContext},j.sibling=p.sibling,j.index=p.index,j.ref=p.ref,j}function nn(p,v,j,V,pe,Be){var Ve=2;if(V=p,typeof p=="function")tr(p)&&(Ve=1);else if(typeof p=="string")Ve=5;else e:switch(p){case O:return xn(j.children,pe,Be,v);case W:Ve=8,pe|=8;break;case K:return p=Qt(12,j,v,pe|2),p.elementType=K,p.lanes=Be,p;case P:return p=Qt(13,j,v,pe),p.elementType=P,p.lanes=Be,p;case ce:return p=Qt(19,j,v,pe),p.elementType=ce,p.lanes=Be,p;case se:return ri(j,pe,Be,v);default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case te:Ve=10;break e;case q:Ve=9;break e;case Y:Ve=11;break e;case $:Ve=14;break e;case R:Ve=16,V=null;break e}throw Error(n(130,p==null?p:typeof p,""))}return v=Qt(Ve,j,v,pe),v.elementType=p,v.type=V,v.lanes=Be,v}function xn(p,v,j,V){return p=Qt(7,p,V,v),p.lanes=j,p}function ri(p,v,j,V){return p=Qt(22,p,V,v),p.elementType=se,p.lanes=j,p.stateNode={isHidden:!1},p}function Xn(p,v,j){return p=Qt(6,p,null,v),p.lanes=j,p}function $n(p,v,j){return v=Qt(4,p.children!==null?p.children:[],p.key,v),v.lanes=j,v.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},v}function Xi(p,v,j,V,pe){this.tag=v,this.containerInfo=p,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ji(0),this.expirationTimes=Ji(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ji(0),this.identifierPrefix=V,this.onRecoverableError=pe,this.mutableSourceEagerHydrationData=null}function si(p,v,j,V,pe,Be,Ve,jt,Rt){return p=new Xi(p,v,j,jt,Rt),v===1?(v=1,Be===!0&&(v|=8)):v=0,Be=Qt(3,null,null,v),p.current=Be,Be.stateNode=p,Be.memoizedState={element:V,isDehydrated:j,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yd(Be),p}function $a(p,v,j){var V=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:C,key:V==null?null:""+V,children:p,containerInfo:v,implementation:j}}function _n(p){if(!p)return Rl;p=p._reactInternals;e:{if(Ga(p)!==p||p.tag!==1)throw Error(n(170));var v=p;do{switch(v.tag){case 3:v=v.stateNode.context;break e;case 1:if(Ro(v.type)){v=v.stateNode.__reactInternalMemoizedMergedChildContext;break e}}v=v.return}while(v!==null);throw Error(n(171))}if(p.tag===1){var j=p.type;if(Ro(j))return qd(p,j,v)}return v}function Pi(p,v,j,V,pe,Be,Ve,jt,Rt){return p=si(j,V,!0,p,pe,Be,Ve,jt,Rt),p.context=_n(null),j=p.current,V=Bo(),pe=pc(j),Be=Fc(V,pe),Be.callback=v??null,Gc(j,Be,pe),p.current.lanes=pe,Di(p,pe,V),mo(p,V),p}function ji(p,v,j,V){var pe=v.current,Be=Bo(),Ve=pc(pe);return j=_n(j),v.context===null?v.context=j:v.pendingContext=j,v=Fc(Be,Ve),v.payload={element:p},V=V===void 0?null:V,V!==null&&(v.callback=V),p=Gc(pe,v,Ve),p!==null&&(Cl(p,pe,Ve,Be),qc(p,pe,Ve)),Ve}function Ra(p){if(p=p.current,!p.child)return null;switch(p.child.tag){case 5:return p.child.stateNode;default:return p.child.stateNode}}function $o(p,v){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var j=p.retryLane;p.retryLane=j!==0&&j<v?j:v}}function mc(p,v){$o(p,v),(p=p.alternate)&&$o(p,v)}function mu(){return null}var ms=typeof reportError=="function"?reportError:function(p){console.error(p)};function hl(p){this._internalRoot=p}ed.prototype.render=hl.prototype.render=function(p){var v=this._internalRoot;if(v===null)throw Error(n(409));ji(p,v,null,null)},ed.prototype.unmount=hl.prototype.unmount=function(){var p=this._internalRoot;if(p!==null){this._internalRoot=null;var v=p.containerInfo;nh(function(){ji(null,p,null,null)}),v[sc]=null}};function ed(p){this._internalRoot=p}ed.prototype.unstable_scheduleHydration=function(p){if(p){var v=Do();p={blockedOn:null,target:p,priority:v};for(var j=0;j<Fe.length&&v!==0&&v<Fe[j].priority;j++);Fe.splice(j,0,p),j===0&&D(p)}};function gc(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)}function Ql(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11&&(p.nodeType!==8||p.nodeValue!==" react-mount-point-unstable "))}function Sh(){}function Fd(p,v,j,V,pe){if(pe){if(typeof V=="function"){var Be=V;V=function(){var gr=Ra(Ve);Be.call(gr)}}var Ve=Pi(v,V,p,0,null,!1,!1,"",Sh);return p._reactRootContainer=Ve,p[sc]=Ve.current,Os(p.nodeType===8?p.parentNode:p),nh(),Ve}for(;pe=p.lastChild;)p.removeChild(pe);if(typeof V=="function"){var jt=V;V=function(){var gr=Ra(Rt);jt.call(gr)}}var Rt=si(p,0,!1,null,null,!1,!1,"",Sh);return p._reactRootContainer=Rt,p[sc]=Rt.current,Os(p.nodeType===8?p.parentNode:p),nh(function(){ji(v,Rt,j,V)}),Rt}function td(p,v,j,V,pe){var Be=j._reactRootContainer;if(Be){var Ve=Be;if(typeof pe=="function"){var jt=pe;pe=function(){var Rt=Ra(Ve);jt.call(Rt)}}ji(v,Ve,p,pe)}else Ve=Fd(j,v,p,pe,V);return Ra(Ve)}js=function(p){switch(p.tag){case 3:var v=p.stateNode;if(v.current.memoizedState.isDehydrated){var j=Vi(v.pendingLanes);j!==0&&(Fo(v,j|1),mo(v,fa()),(qn&6)===0&&(rh=fa()+500,Cr()))}break;case 13:nh(function(){var V=Yo(p,1);if(V!==null){var pe=Bo();Cl(V,p,1,pe)}}),mc(p,1)}},Zs=function(p){if(p.tag===13){var v=Yo(p,134217728);if(v!==null){var j=Bo();Cl(v,p,134217728,j)}mc(p,134217728)}},Ms=function(p){if(p.tag===13){var v=pc(p),j=Yo(p,v);if(j!==null){var V=Bo();Cl(j,p,v,V)}mc(p,v)}},Do=function(){return va},Ht=function(p,v){var j=va;try{return va=p,v()}finally{va=j}},Wn=function(p,v,j){switch(v){case"input":if(ue(p,j),v=j.name,j.type==="radio"&&v!=null){for(j=p;j.parentNode;)j=j.parentNode;for(j=j.querySelectorAll("input[name="+JSON.stringify(""+v)+'][type="radio"]'),v=0;v<j.length;v++){var V=j[v];if(V!==p&&V.form===p.form){var pe=bd(V);if(!pe)throw Error(n(90));Ee(V),ue(V,pe)}}}break;case"textarea":lr(p,j);break;case"select":v=j.value,v!=null&&Ct(p,!!j.multiple,v,!1)}},ca=QA,Pt=nh;var iA={usingClientEntryPoint:!1,Events:[ku,xl,bd,cn,Ln,QA]},rd={findFiberByHostInstance:Xo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ih={bundleType:rd.bundleType,version:rd.version,rendererPackageName:rd.rendererPackageName,rendererConfig:rd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:S.ReactCurrentDispatcher,findHostInstanceByFiber:function(p){return p=ys(p),p===null?null:p.stateNode},findFiberByHostInstance:rd.findFiberByHostInstance||mu,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dd.isDisabled&&Dd.supportsFiber)try{Oo=Dd.inject(ih),Vs=Dd}catch{}}return Mu.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iA,Mu.createPortal=function(p,v){var j=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gc(v))throw Error(n(200));return $a(p,v,null,j)},Mu.createRoot=function(p,v){if(!gc(p))throw Error(n(299));var j=!1,V="",pe=ms;return v!=null&&(v.unstable_strictMode===!0&&(j=!0),v.identifierPrefix!==void 0&&(V=v.identifierPrefix),v.onRecoverableError!==void 0&&(pe=v.onRecoverableError)),v=si(p,1,!1,null,null,j,!1,V,pe),p[sc]=v.current,Os(p.nodeType===8?p.parentNode:p),new hl(v)},Mu.findDOMNode=function(p){if(p==null)return null;if(p.nodeType===1)return p;var v=p._reactInternals;if(v===void 0)throw typeof p.render=="function"?Error(n(188)):(p=Object.keys(p).join(","),Error(n(268,p)));return p=ys(v),p=p===null?null:p.stateNode,p},Mu.flushSync=function(p){return nh(p)},Mu.hydrate=function(p,v,j){if(!Ql(v))throw Error(n(200));return td(null,p,v,!0,j)},Mu.hydrateRoot=function(p,v,j){if(!gc(p))throw Error(n(405));var V=j!=null&&j.hydratedSources||null,pe=!1,Be="",Ve=ms;if(j!=null&&(j.unstable_strictMode===!0&&(pe=!0),j.identifierPrefix!==void 0&&(Be=j.identifierPrefix),j.onRecoverableError!==void 0&&(Ve=j.onRecoverableError)),v=Pi(v,null,p,1,j??null,pe,!1,Be,Ve),p[sc]=v.current,Os(p),V)for(p=0;p<V.length;p++)j=V[p],pe=j._getVersion,pe=pe(j._source),v.mutableSourceEagerHydrationData==null?v.mutableSourceEagerHydrationData=[j,pe]:v.mutableSourceEagerHydrationData.push(j,pe);return new ed(v)},Mu.render=function(p,v,j){if(!Ql(v))throw Error(n(200));return td(null,p,v,!1,j)},Mu.unmountComponentAtNode=function(p){if(!Ql(p))throw Error(n(40));return p._reactRootContainer?(nh(function(){td(null,null,p,!1,function(){p._reactRootContainer=null,p[sc]=null})}),!0):!1},Mu.unstable_batchedUpdates=QA,Mu.unstable_renderSubtreeIntoContainer=function(p,v,j,V){if(!Ql(j))throw Error(n(200));if(p==null||p._reactInternals===void 0)throw Error(n(38));return td(p,v,j,!1,V)},Mu.version="18.3.1-next-f1338f8080-20240426",Mu}var yS;function Y_(){if(yS)return gy.exports;yS=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),gy.exports=SD(),gy.exports}var bS;function ED(){if(bS)return e1;bS=1;var r=Y_();return e1.createRoot=r.createRoot,e1.hydrateRoot=r.hydrateRoot,e1}var BD=ED();const ID=ts(BD);var Qc=Y_();/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function J0(){return J0=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},J0.apply(this,arguments)}var rf;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(rf||(rf={}));const wS="popstate";function TD(r){r===void 0&&(r={});function e(a,i){let{pathname:s,search:c,hash:l}=a.location;return uC("",{pathname:s,search:c,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(a,i){return typeof i=="string"?i:pv(i)}return OD(e,n,null,r)}function pl(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function zN(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _D(){return Math.random().toString(36).substr(2,8)}function jS(r,e){return{usr:r.state,key:r.key,idx:e}}function uC(r,e,n,a){return n===void 0&&(n=null),J0({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?Tm(e):e,{state:n,key:e&&e.key||a||_D()})}function pv(r){let{pathname:e="/",search:n="",hash:a=""}=r;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),a&&a!=="#"&&(e+=a.charAt(0)==="#"?a:"#"+a),e}function Tm(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substr(n),r=r.substr(0,n));let a=r.indexOf("?");a>=0&&(e.search=r.substr(a),r=r.substr(0,a)),r&&(e.pathname=r)}return e}function OD(r,e,n,a){a===void 0&&(a={});let{window:i=document.defaultView,v5Compat:s=!1}=a,c=i.history,l=rf.Pop,u=null,o=h();o==null&&(o=0,c.replaceState(J0({},c.state,{idx:o}),""));function h(){return(c.state||{idx:null}).idx}function d(){l=rf.Pop;let x=h(),y=x==null?null:x-o;o=x,u&&u({action:l,location:m.location,delta:y})}function A(x,y){l=rf.Push;let b=uC(m.location,x,y);o=h()+1;let w=jS(b,o),S=m.createHref(b);try{c.pushState(w,"",S)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(S)}s&&u&&u({action:l,location:m.location,delta:1})}function f(x,y){l=rf.Replace;let b=uC(m.location,x,y);o=h();let w=jS(b,o),S=m.createHref(b);c.replaceState(w,"",S),s&&u&&u({action:l,location:m.location,delta:0})}function g(x){let y=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof x=="string"?x:pv(x);return b=b.replace(/ $/,"%20"),pl(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let m={get action(){return l},get location(){return r(i,c)},listen(x){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(wS,d),u=x,()=>{i.removeEventListener(wS,d),u=null}},createHref(x){return e(i,x)},createURL:g,encodeLocation(x){let y=g(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:A,replace:f,go(x){return c.go(x)}};return m}var CS;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(CS||(CS={}));function kD(r,e,n){return n===void 0&&(n="/"),PD(r,e,n)}function PD(r,e,n,a){let i=typeof e=="string"?Tm(e):e,s=KN(i.pathname||"/",n);if(s==null)return null;let c=Z_(r);FD(c);let l=null;for(let u=0;l==null&&u<c.length;++u){let o=KD(s);l=$D(c[u],o)}return l}function Z_(r,e,n,a){e===void 0&&(e=[]),n===void 0&&(n=[]),a===void 0&&(a="");let i=(s,c,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:c,route:s};u.relativePath.startsWith("/")&&(pl(u.relativePath.startsWith(a),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(a.length));let o=sf([a,u.relativePath]),h=n.concat(u);s.children&&s.children.length>0&&(pl(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+o+'".')),Z_(s.children,e,h,o)),!(s.path==null&&!s.index)&&e.push({path:o,score:QD(o,s.index),routesMeta:h})};return r.forEach((s,c)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,c);else for(let u of J_(s.path))i(s,c,u)}),e}function J_(r){let e=r.split("/");if(e.length===0)return[];let[n,...a]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(a.length===0)return i?[s,""]:[s];let c=J_(a.join("/")),l=[];return l.push(...c.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...c),l.map(u=>r.startsWith("/")&&u===""?"/":u)}function FD(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:WD(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}const DD=/^:[\w-]+$/,MD=3,RD=2,LD=1,UD=10,HD=-2,NS=r=>r==="*";function QD(r,e){let n=r.split("/"),a=n.length;return n.some(NS)&&(a+=HD),e&&(a+=RD),n.filter(i=>!NS(i)).reduce((i,s)=>i+(DD.test(s)?MD:s===""?LD:UD),a)}function WD(r,e){return r.length===e.length&&r.slice(0,-1).every((a,i)=>a===e[i])?r[r.length-1]-e[e.length-1]:0}function $D(r,e,n){let{routesMeta:a}=r,i={},s="/",c=[];for(let l=0;l<a.length;++l){let u=a[l],o=l===a.length-1,h=s==="/"?e:e.slice(s.length)||"/",d=VD({path:u.relativePath,caseSensitive:u.caseSensitive,end:o},h),A=u.route;if(!d)return null;Object.assign(i,d.params),c.push({params:i,pathname:sf([s,d.pathname]),pathnameBase:ZD(sf([s,d.pathnameBase])),route:A}),d.pathnameBase!=="/"&&(s=sf([s,d.pathnameBase]))}return c}function VD(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,a]=zD(r.path,r.caseSensitive,r.end),i=e.match(n);if(!i)return null;let s=i[0],c=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:a.reduce((o,h,d)=>{let{paramName:A,isOptional:f}=h;if(A==="*"){let m=l[d]||"";c=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const g=l[d];return f&&!g?o[A]=void 0:o[A]=(g||"").replace(/%2F/g,"/"),o},{}),pathname:s,pathnameBase:c,pattern:r}}function zD(r,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),zN(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let a=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,l,u)=>(a.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(a.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),a]}function KD(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zN(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function KN(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=r.charAt(n);return a&&a!=="/"?null:r.slice(n)||"/"}const GD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qD=r=>GD.test(r);function XD(r,e){e===void 0&&(e="/");let{pathname:n,search:a="",hash:i=""}=typeof r=="string"?Tm(r):r,s;if(n)if(qD(n))s=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),zN(!1,"Pathnames cannot have embedded double slashes - normalizing "+(c+" -> "+n))}n.startsWith("/")?s=SS(n.substring(1),"/"):s=SS(n,e)}else s=e;return{pathname:s,search:JD(a),hash:eM(i)}}function SS(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function yy(r,e,n,a){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function YD(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function GN(r,e){let n=YD(r);return e?n.map((a,i)=>i===n.length-1?a.pathname:a.pathnameBase):n.map(a=>a.pathnameBase)}function qN(r,e,n,a){a===void 0&&(a=!1);let i;typeof r=="string"?i=Tm(r):(i=J0({},r),pl(!i.pathname||!i.pathname.includes("?"),yy("?","pathname","search",i)),pl(!i.pathname||!i.pathname.includes("#"),yy("#","pathname","hash",i)),pl(!i.search||!i.search.includes("#"),yy("#","search","hash",i)));let s=r===""||i.pathname==="",c=s?"/":i.pathname,l;if(c==null)l=n;else{let d=e.length-1;if(!a&&c.startsWith("..")){let A=c.split("/");for(;A[0]==="..";)A.shift(),d-=1;i.pathname=A.join("/")}l=d>=0?e[d]:"/"}let u=XD(i,l),o=c&&c!=="/"&&c.endsWith("/"),h=(s||c===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(o||h)&&(u.pathname+="/"),u}const sf=r=>r.join("/").replace(/\/\/+/g,"/"),ZD=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),JD=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,eM=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function tM(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const eO=["post","put","patch","delete"];new Set(eO);const rM=["get",...eO];new Set(rM);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function eg(){return eg=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},eg.apply(this,arguments)}const XN=k.createContext(null),nM=k.createContext(null),df=k.createContext(null),jx=k.createContext(null),hf=k.createContext({outlet:null,matches:[],isDataRoute:!1}),tO=k.createContext(null);function aM(r,e){let{relative:n}=e===void 0?{}:e;_m()||pl(!1);let{basename:a,navigator:i}=k.useContext(df),{hash:s,pathname:c,search:l}=nO(r,{relative:n}),u=c;return a!=="/"&&(u=c==="/"?a:sf([a,c])),i.createHref({pathname:u,search:l,hash:s})}function _m(){return k.useContext(jx)!=null}function Tn(){return _m()||pl(!1),k.useContext(jx).location}function rO(r){k.useContext(df).static||k.useLayoutEffect(r)}function Ka(){let{isDataRoute:r}=k.useContext(hf);return r?gM():iM()}function iM(){_m()||pl(!1);let r=k.useContext(XN),{basename:e,future:n,navigator:a}=k.useContext(df),{matches:i}=k.useContext(hf),{pathname:s}=Tn(),c=JSON.stringify(GN(i,n.v7_relativeSplatPath)),l=k.useRef(!1);return rO(()=>{l.current=!0}),k.useCallback(function(o,h){if(h===void 0&&(h={}),!l.current)return;if(typeof o=="number"){a.go(o);return}let d=qN(o,JSON.parse(c),s,h.relative==="path");r==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:sf([e,d.pathname])),(h.replace?a.replace:a.push)(d,h.state,h)},[e,a,c,s,r])}function nO(r,e){let{relative:n}=e===void 0?{}:e,{future:a}=k.useContext(df),{matches:i}=k.useContext(hf),{pathname:s}=Tn(),c=JSON.stringify(GN(i,a.v7_relativeSplatPath));return k.useMemo(()=>qN(r,JSON.parse(c),s,n==="path"),[r,c,s,n])}function sM(r,e){return oM(r,e)}function oM(r,e,n,a){_m()||pl(!1);let{navigator:i}=k.useContext(df),{matches:s}=k.useContext(hf),c=s[s.length-1],l=c?c.params:{};c&&c.pathname;let u=c?c.pathnameBase:"/";c&&c.route;let o=Tn(),h;if(e){var d;let x=typeof e=="string"?Tm(e):e;u==="/"||(d=x.pathname)!=null&&d.startsWith(u)||pl(!1),h=x}else h=o;let A=h.pathname||"/",f=A;if(u!=="/"){let x=u.replace(/^\//,"").split("/");f="/"+A.replace(/^\//,"").split("/").slice(x.length).join("/")}let g=kD(r,{pathname:f}),m=hM(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:sf([u,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:sf([u,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,a);return e&&m?k.createElement(jx.Provider,{value:{location:eg({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:rf.Pop}},m):m}function lM(){let r=mM(),e=tM(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:i},n):null,null)}const cM=k.createElement(lM,null);class uM extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?k.createElement(hf.Provider,{value:this.props.routeContext},k.createElement(tO.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function dM(r){let{routeContext:e,match:n,children:a}=r,i=k.useContext(XN);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(hf.Provider,{value:e},a)}function hM(r,e,n,a){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),a===void 0&&(a=null),r==null){var s;if(!n)return null;if(n.errors)r=n.matches;else if((s=a)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let c=r,l=(i=n)==null?void 0:i.errors;if(l!=null){let h=c.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);h>=0||pl(!1),c=c.slice(0,Math.min(c.length,h+1))}let u=!1,o=-1;if(n&&a&&a.v7_partialHydration)for(let h=0;h<c.length;h++){let d=c[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(o=h),d.route.id){let{loaderData:A,errors:f}=n,g=d.route.loader&&A[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||g){u=!0,o>=0?c=c.slice(0,o+1):c=[c[0]];break}}}return c.reduceRight((h,d,A)=>{let f,g=!1,m=null,x=null;n&&(f=l&&d.route.id?l[d.route.id]:void 0,m=d.route.errorElement||cM,u&&(o<0&&A===0?(vM("route-fallback"),g=!0,x=null):o===A&&(g=!0,x=d.route.hydrateFallbackElement||null)));let y=e.concat(c.slice(0,A+1)),b=()=>{let w;return f?w=m:g?w=x:d.route.Component?w=k.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=h,k.createElement(dM,{match:d,routeContext:{outlet:h,matches:y,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||A===0)?k.createElement(uM,{location:n.location,revalidation:n.revalidation,component:m,error:f,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var aO=(function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r})(aO||{}),iO=(function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r})(iO||{});function AM(r){let e=k.useContext(XN);return e||pl(!1),e}function fM(r){let e=k.useContext(nM);return e||pl(!1),e}function pM(r){let e=k.useContext(hf);return e||pl(!1),e}function sO(r){let e=pM(),n=e.matches[e.matches.length-1];return n.route.id||pl(!1),n.route.id}function mM(){var r;let e=k.useContext(tO),n=fM(),a=sO();return e!==void 0?e:(r=n.errors)==null?void 0:r[a]}function gM(){let{router:r}=AM(aO.UseNavigateStable),e=sO(iO.UseNavigateStable),n=k.useRef(!1);return rO(()=>{n.current=!0}),k.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?r.navigate(i):r.navigate(i,eg({fromRouteId:e},s)))},[r,e])}const ES={};function vM(r,e,n){ES[r]||(ES[r]=!0)}function xM(r,e){r==null||r.v7_startTransition,r==null||r.v7_relativeSplatPath}function Jp(r){let{to:e,replace:n,state:a,relative:i}=r;_m()||pl(!1);let{future:s,static:c}=k.useContext(df),{matches:l}=k.useContext(hf),{pathname:u}=Tn(),o=Ka(),h=qN(e,GN(l,s.v7_relativeSplatPath),u,i==="path"),d=JSON.stringify(h);return k.useEffect(()=>o(JSON.parse(d),{replace:n,state:a,relative:i}),[o,d,i,n,a]),null}function mn(r){pl(!1)}function yM(r){let{basename:e="/",children:n=null,location:a,navigationType:i=rf.Pop,navigator:s,static:c=!1,future:l}=r;_m()&&pl(!1);let u=e.replace(/^\/*/,"/"),o=k.useMemo(()=>({basename:u,navigator:s,static:c,future:eg({v7_relativeSplatPath:!1},l)}),[u,l,s,c]);typeof a=="string"&&(a=Tm(a));let{pathname:h="/",search:d="",hash:A="",state:f=null,key:g="default"}=a,m=k.useMemo(()=>{let x=KN(h,u);return x==null?null:{location:{pathname:x,search:d,hash:A,state:f,key:g},navigationType:i}},[u,h,d,A,f,g,i]);return m==null?null:k.createElement(df.Provider,{value:o},k.createElement(jx.Provider,{children:n,value:m}))}function bM(r){let{children:e,location:n}=r;return sM(dC(e),n)}new Promise(()=>{});function dC(r,e){e===void 0&&(e=[]);let n=[];return k.Children.forEach(r,(a,i)=>{if(!k.isValidElement(a))return;let s=[...e,i];if(a.type===k.Fragment){n.push.apply(n,dC(a.props.children,s));return}a.type!==mn&&pl(!1),!a.props.index||!a.props.children||pl(!1);let c={id:a.props.id||s.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(c.children=dC(a.props.children,s)),n.push(c)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hC(){return hC=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},hC.apply(this,arguments)}function wM(r,e){if(r==null)return{};var n={},a=Object.keys(r),i,s;for(s=0;s<a.length;s++)i=a[s],!(e.indexOf(i)>=0)&&(n[i]=r[i]);return n}function jM(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function CM(r,e){return r.button===0&&(!e||e==="_self")&&!jM(r)}function AC(r){return r===void 0&&(r=""),new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,n)=>{let a=r[n];return e.concat(Array.isArray(a)?a.map(i=>[n,i]):[[n,a]])},[]))}function NM(r,e){let n=AC(r);return e&&e.forEach((a,i)=>{n.has(i)||e.getAll(i).forEach(s=>{n.append(i,s)})}),n}const SM=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],EM="6";try{window.__reactRouterVersion=EM}catch{}const BM="startTransition",BS=jD[BM];function IM(r){let{basename:e,children:n,future:a,window:i}=r,s=k.useRef();s.current==null&&(s.current=TD({window:i,v5Compat:!0}));let c=s.current,[l,u]=k.useState({action:c.action,location:c.location}),{v7_startTransition:o}=a||{},h=k.useCallback(d=>{o&&BS?BS(()=>u(d)):u(d)},[u,o]);return k.useLayoutEffect(()=>c.listen(h),[c,h]),k.useEffect(()=>xM(a),[a]),k.createElement(yM,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:c,future:a})}const TM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_M=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yr=k.forwardRef(function(e,n){let{onClick:a,relative:i,reloadDocument:s,replace:c,state:l,target:u,to:o,preventScrollReset:h,viewTransition:d}=e,A=wM(e,SM),{basename:f}=k.useContext(df),g,m=!1;if(typeof o=="string"&&_M.test(o)&&(g=o,TM))try{let w=new URL(window.location.href),S=o.startsWith("//")?new URL(w.protocol+o):new URL(o),N=KN(S.pathname,f);S.origin===w.origin&&N!=null?o=N+S.search+S.hash:m=!0}catch{}let x=aM(o,{relative:i}),y=OM(o,{replace:c,state:l,target:u,preventScrollReset:h,relative:i,viewTransition:d});function b(w){a&&a(w),w.defaultPrevented||y(w)}return k.createElement("a",hC({},A,{href:g||x,onClick:m||s?a:b,ref:n,target:u}))});var IS;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(IS||(IS={}));var TS;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(TS||(TS={}));function OM(r,e){let{target:n,replace:a,state:i,preventScrollReset:s,relative:c,viewTransition:l}=e===void 0?{}:e,u=Ka(),o=Tn(),h=nO(r,{relative:c});return k.useCallback(d=>{if(CM(d,n)){d.preventDefault();let A=a!==void 0?a:pv(o)===pv(h);u(r,{replace:A,state:i,preventScrollReset:s,relative:c,viewTransition:l})}},[o,u,h,a,i,n,r,s,c,l])}function YN(r){let e=k.useRef(AC(r)),n=k.useRef(!1),a=Tn(),i=k.useMemo(()=>NM(a.search,n.current?null:e.current),[a.search]),s=Ka(),c=k.useCallback((l,u)=>{const o=AC(typeof l=="function"?l(i):l);n.current=!0,s("?"+o,u)},[s,i]);return[i,c]}const kM=()=>{var r;return typeof window<"u"&&((r=window.location)!=null&&r.hostname)?`http://${window.location.hostname}:3000/api/v1`:"http://localhost:3000/api/v1"},gA=kM(),PM=r=>new Promise(e=>setTimeout(e,r));async function ZN(r,e={}){const n=`${gA}${r}`;let a;try{a=await fetch(n,{...e,headers:{"Content-Type":"application/json",...e.headers}})}catch{const c=`Failed to reach backend at ${n}. If you are using a mobile device/emulator, set VITE_API_BASE_URL to http://<YOUR_PC_IP>:3000/api/v1 and ensure backend CORS allows your frontend origin.`;throw new Error(c)}if(!a.ok){const s=await a.json().catch(()=>({})),c=s.message||s.error||`HTTP error! status: ${a.status}`;throw new Error(Array.isArray(c)?c.join(", "):c)}return(await a.json()).data}const oO=async r=>{await ZN("/auth/send-otp",{method:"POST",body:JSON.stringify({usernameOrEmail:r})})},FM=async(r,e)=>{var n;try{const a=await ZN("/auth/login",{method:"POST",body:JSON.stringify({usernameOrEmail:r.trim(),password:e})}),i=(n=a.email||a.userName)==null?void 0:n.toLowerCase(),s=i==="superadmin@medi-waste.io"||i==="superadmin",c={id:a.userId,name:a.userName,email:a.email||a.userName,roles:s?["superadmin"]:a.userRoleId?[a.userRoleId]:["user"],token:a.token||`token-${a.userId}`};return a.requiresOTP?(await oO(a.email||a.userName),{requiresOTP:!0,email:a.email||a.userName,user:c,forcePasswordChange:a.forcePasswordChange}):a.forcePasswordChange?{requiresOTP:!1,user:c,forcePasswordChange:!0}:{requiresOTP:!1,user:c}}catch(a){throw console.error("Login error:",a),a}},DM=async(r,e)=>{var n;try{const a=await ZN("/auth/verify-otp",{method:"POST",body:JSON.stringify({usernameOrEmail:r,otp:e})}),i=(n=a.email||a.userName)==null?void 0:n.toLowerCase(),s=i==="superadmin@medi-waste.io"||i==="superadmin";return{id:a.userId,name:a.userName,email:a.email||a.userName,roles:s?["superadmin"]:a.userRoleId?[a.userRoleId]:["user"],token:a.token||`token-${a.userId}`}}catch(a){throw console.error("OTP login error:",a),new Error("Invalid or expired OTP")}},MM=async(r,e)=>{if(await PM(500),!e)throw new Error("Unauthorized");if(r.password.length<8)throw new Error("Password must be at least 8 characters");return{id:`u-${Date.now()}`,name:r.name,email:r.email.toLowerCase(),roles:[r.role],token:`issued-${Date.now()}`}},RM=async r=>{var e;try{const n=async s=>{const c=await fetch(s,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!c.ok)throw new Error("Failed to fetch permissions");return c.json()};try{const s=await n(`${gA}/auth/permissions`),c=(e=s==null?void 0:s.data)==null?void 0:e.permissions;return Array.isArray(c)?c:[]}catch{}const a=await fetch(`${gA}/permissions/me`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!a.ok)throw new Error("Failed to fetch permissions");const i=await a.json();return(i==null?void 0:i.data)||[]}catch(n){return console.error("Error fetching permissions:",n),[]}},lO=async r=>{try{const e=await fetch(`${gA}/auth/menu-config`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!e.ok)throw new Error("Failed to fetch menu config");return(await e.json()).data}catch(e){return console.error("Error fetching menu config:",e),null}},Yl=(r,e)=>{if(r.includes("*"))return!0;const n=(e||"").trim();if(!n)return!1;const a=new Set([n]);n.includes(".")&&a.add(n.replace(/\./g,"_")),n.includes("_")&&a.add(n.replace(/_/g,"."));for(const i of a)if(r.includes(i))return!0;return!1},ef=(r,e,n)=>{if(!r)return!1;const a=r[e];if(!a)return!1;if(n&&"submenus"in a&&a.submenus){const i=a.submenus[n];return i?i.visible:!1}return a.visible},cO=k.createContext({user:null,loading:!0,permissions:[],permissionsLoading:!1,permissionsReady:!0,login:async()=>{throw new Error("AuthProvider is not mounted")},sendOTP:async()=>{throw new Error("AuthProvider is not mounted")},verifyOTP:async()=>{throw new Error("AuthProvider is not mounted")},logout:()=>{},createUser:async()=>{throw new Error("AuthProvider is not mounted")},hasRole:()=>!1}),Ip="mw-auth-user",kf="mw-auth-permissions",LM=({children:r})=>{const[e,n]=k.useState(null),[a,i]=k.useState(!0),[s,c]=k.useState([]),[l,u]=k.useState(!1),[o,h]=k.useState(!0);k.useEffect(()=>{(()=>{try{const S=localStorage.getItem(Ip);if(S){const N=JSON.parse(S);N&&N.id&&N.token&&N.token.trim()!==""?N.token.split(".").length===3?(n(N),c([]),h(!1),u(!0)):(console.warn("Invalid token format in storage"),localStorage.removeItem(Ip),localStorage.removeItem(kf),n(null),c([])):(console.warn("Invalid user data in storage"),localStorage.removeItem(Ip),n(null),localStorage.removeItem(kf),c([]))}else n(null),c([]),h(!0)}catch(S){console.error("Error loading user from storage:",S),localStorage.removeItem(Ip),n(null),localStorage.removeItem(kf),c([]),h(!0)}finally{i(!1)}})()},[]);const d=k.useCallback(w=>{if(n(w),w){try{localStorage.setItem(Ip,JSON.stringify(w))}catch(S){console.error("Error saving user to storage:",S)}c([]),h(!1),u(!0);try{localStorage.removeItem(kf)}catch{}}else{try{localStorage.removeItem(Ip)}catch(S){console.error("Error removing user from storage:",S)}try{localStorage.removeItem(kf)}catch{}c([]),h(!0),u(!1)}},[]);k.useEffect(()=>{(async()=>{if(!(e!=null&&e.token)){c([]),u(!1),h(!0);return}h(!1),u(!0);try{const S=await RM(e.token);c(S||[]);try{const N={userId:e.id,permissions:S||[]};localStorage.setItem(kf,JSON.stringify(N))}catch{}}catch{c([]);try{localStorage.removeItem(kf)}catch{}}finally{u(!1),h(!0)}})()},[e==null?void 0:e.token]);const A=k.useCallback(async(w,S)=>{i(!0);try{const N=await FM(w,S);if(N.requiresOTP)return d(null),{requiresOTP:!0,email:N.email};if(N.user)return d(N.user),{requiresOTP:!1};throw new Error("Login failed")}finally{i(!1)}},[d]),f=k.useCallback(async w=>{i(!0);try{await oO(w)}finally{i(!1)}},[]),g=k.useCallback(async(w,S)=>{i(!0);try{const N=await DM(w,S);d(N)}finally{i(!1)}},[d]),m=k.useCallback(()=>{d(null)},[d]),x=k.useCallback(async w=>{if(!e)throw new Error("Unauthorized");i(!0);try{return await MM(w,e.token)}finally{i(!1)}},[e]),y=k.useCallback(w=>{const S=Array.isArray(w)?w:[w];return!!(e!=null&&e.roles.some(N=>S.includes(N)))},[e]),b=k.useMemo(()=>({user:e,loading:a,permissions:s,permissionsLoading:l,permissionsReady:o,login:A,sendOTP:f,verifyOTP:g,logout:m,createUser:x,hasRole:y}),[e,a,s,l,o,A,f,g,m,x,y]);return t.jsx(cO.Provider,{value:b,children:r})},uO=()=>k.useContext(cO),da=()=>uO(),_S=({children:r})=>{const{user:e,logout:n}=da(),{pathname:a}=Tn();return t.jsxs("div",{className:"app-shell",children:[t.jsxs("header",{className:"app-shell__header",children:[t.jsxs(Yr,{to:"/",className:"brand",children:["MediWaste",t.jsx("span",{className:"brand__tag",children:"Control"})]}),t.jsx("nav",{className:"app-shell__nav",children:e?t.jsxs(t.Fragment,{children:[t.jsxs("span",{className:"nav__user",children:[e.name,t.jsx("small",{children:e.roles.join(", ")})]}),t.jsx(Yr,{to:"/dashboard",className:a==="/dashboard"?"active":"",children:"Dashboard"}),t.jsx("button",{className:"ghost logout-btn",onClick:n,type:"button",children:"Logout"})]}):t.jsxs(t.Fragment,{children:[t.jsx(Yr,{to:"/login",className:a.startsWith("/login")?"active":"",children:"Login"}),t.jsx(Yr,{to:"/users/new",className:a.startsWith("/users")?"active":"",children:"Create User"})]})})]}),t.jsx("main",{className:"app-shell__body",children:r})]})},wn=({roles:r,children:e})=>{const{user:n,loading:a,permissions:i,permissionsLoading:s,permissionsReady:c}=da(),l=Tn();if(a||s||!c)return t.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",flexDirection:"column",gap:"16px"},children:[t.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid #2d3748",borderRadius:"50%",animation:"spin 1s linear infinite"}}),t.jsx("style",{children:`
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
        `}),t.jsx("p",{style:{color:"#666",fontSize:"14px"},children:"Loading..."})]});if(!n)return t.jsx(Jp,{to:"/login",replace:!0,state:{from:l}});const u=Array.isArray(i)?i:[];if(l.pathname!=="/not-authorized"&&u.length===0)return t.jsx(Jp,{to:"/not-authorized",replace:!0,state:{from:l.pathname}});const o=Array.isArray(n.roles)?n.roles:[];return r&&r.length>0&&!o.some(h=>r.includes(h))?t.jsx(Jp,{to:"/login",replace:!0}):t.jsx(t.Fragment,{children:e})},UM=k.createContext(void 0),HM=({children:r,user:e})=>{var h,d;const[n,a]=k.useState({enabled:!1,previewRole:null,originalRole:((h=e==null?void 0:e.roles)==null?void 0:h[0])||"viewer"}),i=k.useCallback(A=>{a(A)},[]),s=k.useCallback((A,f)=>{a({enabled:!0,previewRole:A,originalRole:f})},[]),c=k.useCallback(()=>{a(A=>({enabled:!1,previewRole:null,originalRole:A.originalRole}))},[]),l=n.enabled,u=n.enabled&&n.previewRole?n.previewRole:((d=e==null?void 0:e.roles)==null?void 0:d[0])||"viewer",o={previewMode:n,setPreviewMode:i,startPreview:s,exitPreview:c,isPreviewMode:l,currentRole:u,user:e};return t.jsx(UM.Provider,{value:o,children:r})},QM=()=>{const{login:r,verifyOTP:e,loading:n,user:a}=da(),i=Ka(),s=Tn(),[c,l]=k.useState(""),[u,o]=k.useState(""),[h,d]=k.useState(!1),[A,f]=k.useState(!1),[g,m]=k.useState(null),[x,y]=k.useState(!1),[b,w]=k.useState(""),[S,N]=k.useState(["","","","","",""]),[C,O]=k.useState(0);if(k.useEffect(()=>(document.body.classList.add("login-page-active"),document.documentElement.classList.add("login-page-active"),()=>{document.body.classList.remove("login-page-active"),document.documentElement.classList.remove("login-page-active")}),[]),k.useEffect(()=>{var ce,$;if(a&&!n){const R=($=(ce=s.state)==null?void 0:ce.from)==null?void 0:$.pathname;i(R||"/dashboard",{replace:!0})}},[a,n,i,s]),k.useEffect(()=>{if(C>0){const ce=setTimeout(()=>O(C-1),1e3);return()=>clearTimeout(ce)}},[C]),n)return t.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",flexDirection:"column",gap:"16px"},children:[t.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid #2d3748",borderRadius:"50%",animation:"spin 1s linear infinite"}}),t.jsx("style",{children:`
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
        `}),t.jsx("p",{style:{color:"#666",fontSize:"14px"},children:"Loading..."})]});const W=ce=>{if(!ce||ce.trim().length===0)return!1;const $=/^[a-zA-Z0-9_-]+$/,R=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return $.test(ce.trim())||R.test(ce.trim())},K=async ce=>{var $,R;if(ce.preventDefault(),m(null),!W(c)){m("Please enter a valid username or email address");return}if(!u||u.trim().length===0){m("Please enter your password");return}try{const se=await r(c.trim(),u);if(se.requiresOTP&&se.email)w(se.email),y(!0),O(60);else{const fe=(R=($=s.state)==null?void 0:$.from)==null?void 0:R.pathname;i(fe||"/dashboard",{replace:!0})}}catch(se){m(se.message||"Invalid credentials. Please check your username and password.")}},te=(ce,$)=>{if($.length>1)return;const R=[...S];if(R[ce]=$,N(R),$&&ce<5){const se=document.getElementById(`otp-input-${ce+1}`);se==null||se.focus()}},q=(ce,$)=>{if($.key==="Backspace"&&!S[ce]&&ce>0){const R=document.getElementById(`otp-input-${ce-1}`);R==null||R.focus()}},Y=async ce=>{var R,se,fe;ce.preventDefault(),m(null);const $=S.join("");if($.length!==6){m("Please enter a valid 6-digit OTP");return}try{await e(b,$);const Te=(se=(R=s.state)==null?void 0:R.from)==null?void 0:se.pathname;i(Te||"/dashboard",{replace:!0})}catch(Te){m(Te.message||"Invalid OTP"),N(["","","","","",""]),(fe=document.getElementById("otp-input-0"))==null||fe.focus()}},P=async()=>{if(!(C>0)){m(null);try{await r(c,u),O(60),N(["","","","","",""])}catch(ce){m(ce.message||"Failed to resend OTP")}}};return t.jsx("div",{className:"login-page-template",children:t.jsxs("div",{className:"login-template-wrapper",children:[t.jsxs("div",{className:"login-left-panel",children:[t.jsxs("div",{className:"left-panel-header",children:[t.jsx("h1",{className:"left-panel-title",children:"Medi Waste Management System"}),t.jsx("p",{className:"left-panel-subtitle",children:"Streamlined healthcare waste tracking and compliance"})]}),t.jsx("div",{className:"left-panel-image-container",children:t.jsx("img",{src:"/waste-segregation-infographic.png",alt:"Waste Segregation Infographic - Segregation of Solid Bio-Medical Waste",className:"left-panel-image",onError:ce=>{const $=ce.target;$.style.display="none";const R=$.parentElement;if(R&&!R.querySelector(".image-placeholder")){const se=document.createElement("div");se.className="image-placeholder",se.innerHTML=`
                    <div style="color: #cbd5e0; text-align: center; padding: 40px;">
                      <p style="font-size: 18px; margin-bottom: 16px;">Waste Segregation Infographic</p>
                      <p style="font-size: 14px; color: #94a3b8;">Please add the image file:</p>
                      <p style="font-size: 12px; color: #718096; margin-top: 8px;">frontend/public/waste-segregation-infographic.png</p>
                    </div>
                  `,R.appendChild(se)}}})})]}),t.jsx("div",{className:"login-right-panel",children:t.jsxs("div",{className:"login-form-wrapper",children:[t.jsx("h2",{className:"login-form-title",children:x?"Verify OTP":"Log in"}),x?t.jsxs("form",{className:"login-form otp-form-inline",onSubmit:Y,children:[t.jsx("div",{className:"otp-instruction",children:b.toLowerCase()==="superadmin@medi-waste.io"||b.toLowerCase()==="superadmin"?t.jsx("p",{children:"Use your configured SuperAdmin OTP."}):t.jsx("p",{children:"We've sent a 6-digit code to your email. Please enter it below."})}),t.jsx("div",{className:"otp-inputs-row",children:S.map((ce,$)=>t.jsx("input",{id:`otp-input-${$}`,type:"text",inputMode:"numeric",maxLength:1,className:"otp-input-inline",value:ce,onChange:R=>te($,R.target.value),onKeyDown:R=>q($,R),autoFocus:$===0,disabled:n},$))}),g&&t.jsx("div",{className:"error-message",children:g}),t.jsx("button",{type:"submit",className:"login-button",disabled:n||S.some(ce=>!ce),children:n?"Verifying...":"Verify OTP"}),t.jsx("div",{className:"otp-resend-inline",children:t.jsxs("p",{className:"otp-resend-text",children:["Didn't receive the code?"," ",C>0?t.jsxs("span",{className:"otp-timer",children:["Resend in ",C,"s"]}):t.jsx("button",{type:"button",className:"otp-resend-link",onClick:P,children:"Resend OTP"})]})})]}):t.jsxs("form",{className:"login-form",onSubmit:K,children:[t.jsx("div",{className:"form-field",children:t.jsxs("div",{className:"input-wrapper-icon",children:[t.jsxs("svg",{className:"input-icon-left",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),t.jsx("input",{id:"username",type:"text",className:"form-input-with-icon",placeholder:"Username or Email",value:c,onChange:ce=>{l(ce.target.value),m(null)},required:!0,disabled:x,autoComplete:"username","aria-label":"Username or Email"})]})}),t.jsx("div",{className:"form-field",children:t.jsxs("div",{className:"input-wrapper-icon",children:[t.jsxs("svg",{className:"input-icon-left",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),t.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),t.jsx("input",{id:"password",type:A?"text":"password",className:"form-input-with-icon",placeholder:"Password",value:u,onChange:ce=>{o(ce.target.value),m(null)},required:!0,disabled:x,autoComplete:"current-password","aria-label":"Password"}),t.jsx("button",{type:"button",className:"password-eye-toggle",onClick:()=>f(!A),disabled:x,children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:A?t.jsxs(t.Fragment,{children:[t.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),t.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):t.jsxs(t.Fragment,{children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})})]})}),t.jsxs("div",{className:"form-options-row",children:[t.jsxs("label",{className:"remember-me-label",children:[t.jsx("input",{type:"checkbox",checked:h,onChange:ce=>d(ce.target.checked),disabled:x}),t.jsx("span",{children:"Remember Me"})]}),t.jsx(Yr,{to:"/forgot-password",className:"forgot-password-link",children:"Forgot Password?"})]}),g&&t.jsx("div",{className:"error-message",children:g}),t.jsx("button",{type:"submit",className:"login-button",disabled:n||x,children:n?"Logging in...":"Log in"})]})]})})]})})},WM=()=>{const{sendOTP:r,verifyOTP:e,loading:n}=da(),a=Ka(),i=Tn(),[s,c]=k.useState(["","","","","",""]),[l,u]=k.useState(null),[o,h]=k.useState(0),[d,A]=k.useState("");k.useEffect(()=>{var b;const y=(b=i.state)==null?void 0:b.email;y?(A(y),h(60)):a("/login",{replace:!0})},[i,a]),k.useEffect(()=>{if(o>0){const y=setTimeout(()=>h(o-1),1e3);return()=>clearTimeout(y)}},[o]);const f=(y,b)=>{if(b.length>1)return;const w=[...s];if(w[y]=b,c(w),b&&y<5){const S=document.getElementById(`otp-${y+1}`);S==null||S.focus()}},g=(y,b)=>{if(b.key==="Backspace"&&!s[y]&&y>0){const w=document.getElementById(`otp-${y-1}`);w==null||w.focus()}},m=async()=>{if(!(o>0)){u(null);try{await r(d),h(60),c(["","","","","",""])}catch(y){u(y.message||"Failed to resend OTP")}}},x=async y=>{var w,S,N;y.preventDefault(),u(null);const b=s.join("");if(b.length!==6){u("Please enter a valid 6-digit OTP");return}try{await e(d,b);const C=(S=(w=i.state)==null?void 0:w.from)==null?void 0:S.pathname;a(C||"/dashboard",{replace:!0})}catch(C){u(C.message||"Invalid OTP"),c(["","","","","",""]),(N=document.getElementById("otp-0"))==null||N.focus()}};return t.jsx("div",{className:"otp-verification-page",children:t.jsxs("div",{className:"otp-verification-container",children:[t.jsxs("div",{className:"otp-header",children:[t.jsx("h2",{className:"otp-title",children:"Verify Your Email"}),t.jsx("p",{className:"otp-subtitle",children:d.toLowerCase()==="superadmin@medi-waste.io"||d.toLowerCase()==="superadmin"?t.jsx(t.Fragment,{children:"Use your configured SuperAdmin OTP."}):t.jsx(t.Fragment,{children:"We've sent a 6-digit code to your email. Please enter it below."})})]}),t.jsxs("form",{className:"otp-form",onSubmit:x,children:[t.jsx("div",{className:"otp-inputs-container",children:s.map((y,b)=>t.jsx("input",{id:`otp-${b}`,type:"text",inputMode:"numeric",maxLength:1,className:"otp-input",value:y,onChange:w=>f(b,w.target.value),onKeyDown:w=>g(b,w),autoFocus:b===0,disabled:n},b))}),l&&t.jsx("div",{className:"otp-error",children:l}),t.jsx("button",{type:"submit",className:"otp-submit-button",disabled:n||s.some(y=>!y),children:n?"Verifying...":"Verify OTP"}),t.jsx("div",{className:"otp-resend",children:t.jsxs("p",{className:"otp-resend-text",children:["Didn't receive the code?"," ",o>0?t.jsxs("span",{className:"otp-timer",children:["Resend in ",o,"s"]}):t.jsx("button",{type:"button",className:"otp-resend-button",onClick:m,children:"Resend OTP"})]})})]})]})})},$M="http://localhost:3000/api/v1",VM=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},Tp=async(r,e={})=>{const n=VM(),a=`${$M}${r}`,i={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers};try{const s=await fetch(a,{...e,headers:i});if(!s.ok){let l=`HTTP ${s.status}: ${s.statusText}`;try{const u=await s.text();if(u){const o=JSON.parse(u);Array.isArray(o.message)?l=o.message.join(", "):typeof o.message=="string"&&(l=o.message)}}catch{}throw new Error(l)}return s.status===204?{}:await s.json()}catch(s){throw s instanceof TypeError&&s.message==="Failed to fetch"?console.error("[dashboardService] Network error - Backend server may not be running:",{url:a,error:s.message,hint:"Please ensure the backend server is running on http://localhost:3000"}):console.error("[dashboardService] Request failed:",{url:a,error:s instanceof Error?s.message:String(s)}),s}},qf={getDashboardConfig:async r=>{try{const n=(await Tp(`/dashboard/config/${r}`)).data||{};let a=[];Array.isArray(n.widgets)?a=n.widgets.filter(c=>!(!c||Array.isArray(c)||typeof c!="object")):n.widgets&&typeof n.widgets=="object"&&!Array.isArray(n.widgets)&&(a=[n.widgets]);const i=Array.isArray(n.menuItems)?n.menuItems:[],s=n.permissions&&typeof n.permissions=="object"?n.permissions:{};return{role:n.role||r,widgets:a,menuItems:i,permissions:s}}catch(e){return console.error("[dashboardService] Failed to fetch dashboard config:",e),OS(r)}},getUserOverrides:async r=>{try{return(await Tp(`/dashboard/user-overrides/${r}`)).data}catch(e){return console.error("[dashboardService] Failed to fetch user overrides:",e),null}},computePermissions:(r,e)=>{const n={...r.permissions},a=[...r.menuItems],i=[...r.widgets];e&&(Object.entries(e.permissions).forEach(([o,h])=>{n[o]=h}),e.menuOverrides&&a.forEach(o=>{e.menuOverrides[o.id]!==void 0&&(o.visible=e.menuOverrides[o.id])}),e.widgetOverrides&&i.forEach(o=>{if(e.widgetOverrides[o.id]!==void 0){const h=i.indexOf(o);!e.widgetOverrides[o.id]&&h!==-1&&i.splice(h,1)}}));const s=!!n["*"],c=o=>o.filter(h=>!(!h.visible||!s&&h.permission&&!n[h.permission])).map(h=>{if(h.children&&h.children.length>0){const d=c(h.children);return{...h,children:d.length>0?d:void 0}}return h}),l=c(a),u=i.filter(o=>{var h;return!(!s&&((h=o.permissions)!=null&&h.view)&&!n[o.permissions.view])});return{permissions:n,menuItems:l,widgets:u}},getAvailableRoles:async()=>{try{return(await Tp("/dashboard/roles")).data}catch(r){return console.error("[dashboardService] Failed to fetch roles:",r),[]}},getCatalog:async()=>{try{return(await Tp("/dashboard/catalog")).data}catch(r){return console.error("[dashboardService] Failed to fetch catalog:",r),{kpis:[],charts:[],tables:[],tasks:[],alerts:[]}}},saveDashboardConfig:async r=>{try{const e=JSON.stringify(r);return(await Tp("/dashboard/config",{method:"POST",body:e})).data}catch(e){throw console.error("[dashboardService] Failed to save dashboard config:",e),console.error("[dashboardService] Error details:",{message:e==null?void 0:e.message,stack:e==null?void 0:e.stack,config:r}),e}},getDashboardConfigByTarget:async r=>{try{return(await Tp(`/dashboard/config?target=${encodeURIComponent(r)}`)).data}catch(e){return console.error("[dashboardService] Failed to fetch dashboard config:",e),OS(r)}}};function OS(r){return r==="superadmin"?{role:r,widgets:[{id:"metric-total-invoices",type:"metric",title:"Total Invoices",gridColumn:1,dataSource:{endpoint:"/dashboard/kpi/total-invoices"},props:{unit:"",label:"Total count"}},{id:"metric-pending-invoices",type:"metric",title:"Pending Invoices",gridColumn:1,dataSource:{endpoint:"/dashboard/kpi/pending-invoices"},props:{unit:"",label:"Pending approval"}},{id:"metric-total-revenue",type:"metric",title:"Total Revenue",gridColumn:1,dataSource:{endpoint:"/dashboard/kpi/total-revenue"},props:{unit:"INR",label:"Total revenue"}},{id:"metric-pending-payments",type:"metric",title:"Pending Payments",gridColumn:1,dataSource:{endpoint:"/dashboard/kpi/pending-payments"},props:{unit:"",label:"Pending count"}},{id:"chart-monthly-revenue",type:"chart",title:"Monthly Revenue",gridColumn:2,gridRow:1,chartConfig:{type:"line",xAxis:"month",yAxis:"revenue"},dataSource:{endpoint:"/dashboard/chart/monthly-revenue"}},{id:"table-recent-invoices",type:"table",title:"Recent Invoices",gridColumn:2,gridRow:1,dataSource:{endpoint:"/dashboard/table/recent-invoices"},props:{maxRows:10}},{id:"approval-queue",type:"approval-queue",title:"Pending Approvals",gridColumn:2,dataSource:{endpoint:"/dashboard/tasks/pending-approvals"},permissions:{view:"APPROVAL_VIEW",actions:{approve:"APPROVAL_APPROVE",view:"APPROVAL_VIEW"}}}],menuItems:[{id:"dashboard",label:"Dashboard",path:"/dashboard",icon:"dashboard",visible:!0},{id:"transaction",label:"Transaction",path:"/transaction",icon:"transaction",visible:!0,children:[{id:"barcode",label:"Barcode Generation",path:"/transaction/barcode-generation",icon:"barcode",visible:!0}]},{id:"finance",label:"Finance",path:"/finance",icon:"finance",visible:!0,children:[{id:"invoice",label:"Invoice Management",path:"/finance/invoice-management",icon:"invoice",visible:!0},{id:"payment",label:"Payment",path:"/finance/payment",icon:"payment",visible:!0},{id:"receipt",label:"Receipt Management",path:"/finance/receipt-management",icon:"receipt",visible:!0},{id:"balance",label:"Financial Balance",path:"/finance/financial-balance-summary",icon:"balance",visible:!0}]},{id:"commercial",label:"Commercial / Agreements",path:"/commercial-agreements",icon:"commercial",visible:!0},{id:"compliance",label:"Compliance & Training",path:"/compliance-training",icon:"compliance",visible:!0},{id:"master",label:"Master",path:"/master",icon:"master",visible:!0},{id:"report",label:"Reports",path:"/report",icon:"report",visible:!0}],permissions:{"*":!0}}:{role:r,widgets:[],menuItems:[{id:"dashboard",label:"Dashboard",path:"/dashboard",icon:"dashboard",visible:!0}],permissions:{}}}const t1="http://localhost:3000/api/v1",zM=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},Cx=async(r,e={})=>{const n=zM();let a;r.startsWith("http")?a=r:r.startsWith("/api/v1")?a=`${t1.endsWith("/api/v1")?t1.replace("/api/v1",""):t1.split("/api/v1")[0]||"http://localhost:3000"}${r}`:a=`${t1}${r}`;const i={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers};try{const s=await fetch(a,{...e,headers:i});if(!s.ok){let l=`HTTP ${s.status}: ${s.statusText}`;try{const u=await s.text();if(u){const o=JSON.parse(u);Array.isArray(o.message)?l=o.message.join(", "):typeof o.message=="string"&&(l=o.message)}}catch{}throw new Error(l)}return s.status===204?{}:await s.json()}catch(s){throw console.error("[widgetDataService] Request failed:",s),s}},KM=async r=>{try{console.log("[widgetDataService] Fetching KPI from endpoint:",r);const e=await Cx(r);console.log("[widgetDataService] Raw API response:",e);let n;e&&typeof e=="object"?e.success!==void 0&&e.data?n=e.data:e.value!==void 0||e.label!==void 0?n=e:e.data&&(e.data.value!==void 0||e.data.label!==void 0)?n=e.data:n=e:(console.warn("[widgetDataService] Unexpected response format:",e),n={}),console.log("[widgetDataService] Extracted KPI data:",n);const a=typeof n.value=="number"?n.value:n.value!==void 0&&n.value!==null&&n.value!==""&&parseFloat(String(n.value))||0,i=n.trend!==void 0&&n.trend!==null?{value:Math.abs(Number(n.trend)),isPositive:Number(n.trend)>=0,period:"vs previous period"}:void 0,s={value:a,unit:n.unit||(n.format==="currency"?"INR":""),label:n.label||"",trend:i};return console.log("[widgetDataService] Final mapped KPI result:",s),s}catch(e){return console.error("[widgetDataService] Failed to fetch KPI data:",e),console.error("[widgetDataService] Endpoint:",r),console.error("[widgetDataService] Error details:",{message:e==null?void 0:e.message,stack:e==null?void 0:e.stack}),{value:0,unit:"",label:""}}},GM=async r=>{try{const n=(await Cx(r)).data;return n.labels&&n.data?{labels:n.labels,data:n.labels.map((a,i)=>({label:a,value:n.data[i]||0}))}:Array.isArray(n)?{data:n}:{data:[n]}}catch(e){throw console.error("[widgetDataService] Failed to fetch chart data:",e),e}},qM=async r=>{try{const n=(await Cx(r)).data;return n.columns&&n.rows?{columns:n.columns.map(a=>({key:a,label:a})),data:n.rows.map(a=>{const i={};return n.columns.forEach(s=>{i[s]=a[s]||""}),i})}:{columns:[],data:[]}}catch(e){throw console.error("[widgetDataService] Failed to fetch table data:",e),e}},XM=async r=>{try{const n=(await Cx(r)).data;return Array.isArray(n)?r.includes("task")||r.includes("approval")?{tasks:n,items:n}:r.includes("alert")?{alerts:n}:r.includes("activity")||r.includes("timeline")?{activities:n}:{tasks:n}:{}}catch(e){throw console.error("[widgetDataService] Failed to fetch task data:",e),e}},YM=async r=>{var e;if(!((e=r.dataSource)!=null&&e.endpoint))return null;try{switch(r.type){case"metric":return await KM(r.dataSource.endpoint);case"chart":return await GM(r.dataSource.endpoint);case"table":return await qM(r.dataSource.endpoint);case"task-list":case"approval-queue":case"activity-timeline":case"alert":return await XM(r.dataSource.endpoint);default:return console.warn(`Unknown widget type: ${r.type}`),null}}catch(n){throw console.error(`[widgetDataService] Failed to fetch data for widget type ${r.type}:`,n),n}},ZM=({title:r,value:e,unit:n,label:a,trend:i,loading:s=!1})=>s?t.jsx("div",{className:"widget-panel widget-panel--metric",children:t.jsxs("div",{className:"widget-panel__skeleton",children:[t.jsx("div",{className:"skeleton-line skeleton-line--title"}),t.jsx("div",{className:"skeleton-line skeleton-line--value"})]})}):t.jsxs("div",{className:"widget-panel widget-panel--metric",children:[t.jsx("div",{className:"widget-panel__header",children:t.jsx("h3",{className:"widget-panel__title",children:r})}),t.jsxs("div",{className:"widget-panel__body",children:[t.jsxs("div",{className:"metric-value",children:[typeof e=="number"?e.toLocaleString():e,n&&t.jsx("span",{className:"metric-unit",children:n})]}),a&&t.jsx("div",{className:"metric-label",children:a}),i&&t.jsxs("div",{className:`metric-trend metric-trend--${i.isPositive?"positive":"negative"}`,children:[t.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:i.isPositive?t.jsx("polyline",{points:"18 15 12 9 6 15"}):t.jsx("polyline",{points:"6 9 12 15 18 9"})}),t.jsxs("span",{children:[Math.abs(i.value),"%"]}),i.period&&t.jsx("span",{className:"metric-trend-period",children:i.period})]})]})]});function dO(r){var e,n,a="";if(typeof r=="string"||typeof r=="number")a+=r;else if(typeof r=="object")if(Array.isArray(r)){var i=r.length;for(e=0;e<i;e++)r[e]&&(n=dO(r[e]))&&(a&&(a+=" "),a+=n)}else for(n in r)r[n]&&(a&&(a+=" "),a+=n);return a}function vi(){for(var r,e,n=0,a="",i=arguments.length;n<i;n++)(r=arguments[n])&&(e=dO(r))&&(a&&(a+=" "),a+=e);return a}var by,kS;function Hu(){if(kS)return by;kS=1;var r=Array.isArray;return by=r,by}var wy,PS;function hO(){if(PS)return wy;PS=1;var r=typeof cA=="object"&&cA&&cA.Object===Object&&cA;return wy=r,wy}var jy,FS;function Rh(){if(FS)return jy;FS=1;var r=hO(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=r||e||Function("return this")();return jy=n,jy}var Cy,DS;function Dg(){if(DS)return Cy;DS=1;var r=Rh(),e=r.Symbol;return Cy=e,Cy}var Ny,MS;function JM(){if(MS)return Ny;MS=1;var r=Dg(),e=Object.prototype,n=e.hasOwnProperty,a=e.toString,i=r?r.toStringTag:void 0;function s(c){var l=n.call(c,i),u=c[i];try{c[i]=void 0;var o=!0}catch{}var h=a.call(c);return o&&(l?c[i]=u:delete c[i]),h}return Ny=s,Ny}var Sy,RS;function eR(){if(RS)return Sy;RS=1;var r=Object.prototype,e=r.toString;function n(a){return e.call(a)}return Sy=n,Sy}var Ey,LS;function bA(){if(LS)return Ey;LS=1;var r=Dg(),e=JM(),n=eR(),a="[object Null]",i="[object Undefined]",s=r?r.toStringTag:void 0;function c(l){return l==null?l===void 0?i:a:s&&s in Object(l)?e(l):n(l)}return Ey=c,Ey}var By,US;function wA(){if(US)return By;US=1;function r(e){return e!=null&&typeof e=="object"}return By=r,By}var Iy,HS;function Om(){if(HS)return Iy;HS=1;var r=bA(),e=wA(),n="[object Symbol]";function a(i){return typeof i=="symbol"||e(i)&&r(i)==n}return Iy=a,Iy}var Ty,QS;function JN(){if(QS)return Ty;QS=1;var r=Hu(),e=Om(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function i(s,c){if(r(s))return!1;var l=typeof s;return l=="number"||l=="symbol"||l=="boolean"||s==null||e(s)?!0:a.test(s)||!n.test(s)||c!=null&&s in Object(c)}return Ty=i,Ty}var _y,WS;function Af(){if(WS)return _y;WS=1;function r(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return _y=r,_y}var Oy,$S;function e4(){if($S)return Oy;$S=1;var r=bA(),e=Af(),n="[object AsyncFunction]",a="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function c(l){if(!e(l))return!1;var u=r(l);return u==a||u==i||u==n||u==s}return Oy=c,Oy}var ky,VS;function tR(){if(VS)return ky;VS=1;var r=Rh(),e=r["__core-js_shared__"];return ky=e,ky}var Py,zS;function rR(){if(zS)return Py;zS=1;var r=tR(),e=(function(){var a=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""})();function n(a){return!!e&&e in a}return Py=n,Py}var Fy,KS;function AO(){if(KS)return Fy;KS=1;var r=Function.prototype,e=r.toString;function n(a){if(a!=null){try{return e.call(a)}catch{}try{return a+""}catch{}}return""}return Fy=n,Fy}var Dy,GS;function nR(){if(GS)return Dy;GS=1;var r=e4(),e=rR(),n=Af(),a=AO(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,u=c.toString,o=l.hasOwnProperty,h=RegExp("^"+u.call(o).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(A){if(!n(A)||e(A))return!1;var f=r(A)?h:s;return f.test(a(A))}return Dy=d,Dy}var My,qS;function aR(){if(qS)return My;qS=1;function r(e,n){return e==null?void 0:e[n]}return My=r,My}var Ry,XS;function hp(){if(XS)return Ry;XS=1;var r=nR(),e=aR();function n(a,i){var s=e(a,i);return r(s)?s:void 0}return Ry=n,Ry}var Ly,YS;function Nx(){if(YS)return Ly;YS=1;var r=hp(),e=r(Object,"create");return Ly=e,Ly}var Uy,ZS;function iR(){if(ZS)return Uy;ZS=1;var r=Nx();function e(){this.__data__=r?r(null):{},this.size=0}return Uy=e,Uy}var Hy,JS;function sR(){if(JS)return Hy;JS=1;function r(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return Hy=r,Hy}var Qy,eE;function oR(){if(eE)return Qy;eE=1;var r=Nx(),e="__lodash_hash_undefined__",n=Object.prototype,a=n.hasOwnProperty;function i(s){var c=this.__data__;if(r){var l=c[s];return l===e?void 0:l}return a.call(c,s)?c[s]:void 0}return Qy=i,Qy}var Wy,tE;function lR(){if(tE)return Wy;tE=1;var r=Nx(),e=Object.prototype,n=e.hasOwnProperty;function a(i){var s=this.__data__;return r?s[i]!==void 0:n.call(s,i)}return Wy=a,Wy}var $y,rE;function cR(){if(rE)return $y;rE=1;var r=Nx(),e="__lodash_hash_undefined__";function n(a,i){var s=this.__data__;return this.size+=this.has(a)?0:1,s[a]=r&&i===void 0?e:i,this}return $y=n,$y}var Vy,nE;function uR(){if(nE)return Vy;nE=1;var r=iR(),e=sR(),n=oR(),a=lR(),i=cR();function s(c){var l=-1,u=c==null?0:c.length;for(this.clear();++l<u;){var o=c[l];this.set(o[0],o[1])}}return s.prototype.clear=r,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=a,s.prototype.set=i,Vy=s,Vy}var zy,aE;function dR(){if(aE)return zy;aE=1;function r(){this.__data__=[],this.size=0}return zy=r,zy}var Ky,iE;function t4(){if(iE)return Ky;iE=1;function r(e,n){return e===n||e!==e&&n!==n}return Ky=r,Ky}var Gy,sE;function Sx(){if(sE)return Gy;sE=1;var r=t4();function e(n,a){for(var i=n.length;i--;)if(r(n[i][0],a))return i;return-1}return Gy=e,Gy}var qy,oE;function hR(){if(oE)return qy;oE=1;var r=Sx(),e=Array.prototype,n=e.splice;function a(i){var s=this.__data__,c=r(s,i);if(c<0)return!1;var l=s.length-1;return c==l?s.pop():n.call(s,c,1),--this.size,!0}return qy=a,qy}var Xy,lE;function AR(){if(lE)return Xy;lE=1;var r=Sx();function e(n){var a=this.__data__,i=r(a,n);return i<0?void 0:a[i][1]}return Xy=e,Xy}var Yy,cE;function fR(){if(cE)return Yy;cE=1;var r=Sx();function e(n){return r(this.__data__,n)>-1}return Yy=e,Yy}var Zy,uE;function pR(){if(uE)return Zy;uE=1;var r=Sx();function e(n,a){var i=this.__data__,s=r(i,n);return s<0?(++this.size,i.push([n,a])):i[s][1]=a,this}return Zy=e,Zy}var Jy,dE;function Ex(){if(dE)return Jy;dE=1;var r=dR(),e=hR(),n=AR(),a=fR(),i=pR();function s(c){var l=-1,u=c==null?0:c.length;for(this.clear();++l<u;){var o=c[l];this.set(o[0],o[1])}}return s.prototype.clear=r,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=a,s.prototype.set=i,Jy=s,Jy}var e2,hE;function r4(){if(hE)return e2;hE=1;var r=hp(),e=Rh(),n=r(e,"Map");return e2=n,e2}var t2,AE;function mR(){if(AE)return t2;AE=1;var r=uR(),e=Ex(),n=r4();function a(){this.size=0,this.__data__={hash:new r,map:new(n||e),string:new r}}return t2=a,t2}var r2,fE;function gR(){if(fE)return r2;fE=1;function r(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return r2=r,r2}var n2,pE;function Bx(){if(pE)return n2;pE=1;var r=gR();function e(n,a){var i=n.__data__;return r(a)?i[typeof a=="string"?"string":"hash"]:i.map}return n2=e,n2}var a2,mE;function vR(){if(mE)return a2;mE=1;var r=Bx();function e(n){var a=r(this,n).delete(n);return this.size-=a?1:0,a}return a2=e,a2}var i2,gE;function xR(){if(gE)return i2;gE=1;var r=Bx();function e(n){return r(this,n).get(n)}return i2=e,i2}var s2,vE;function yR(){if(vE)return s2;vE=1;var r=Bx();function e(n){return r(this,n).has(n)}return s2=e,s2}var o2,xE;function bR(){if(xE)return o2;xE=1;var r=Bx();function e(n,a){var i=r(this,n),s=i.size;return i.set(n,a),this.size+=i.size==s?0:1,this}return o2=e,o2}var l2,yE;function n4(){if(yE)return l2;yE=1;var r=mR(),e=vR(),n=xR(),a=yR(),i=bR();function s(c){var l=-1,u=c==null?0:c.length;for(this.clear();++l<u;){var o=c[l];this.set(o[0],o[1])}}return s.prototype.clear=r,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=a,s.prototype.set=i,l2=s,l2}var c2,bE;function fO(){if(bE)return c2;bE=1;var r=n4(),e="Expected a function";function n(a,i){if(typeof a!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var s=function(){var c=arguments,l=i?i.apply(this,c):c[0],u=s.cache;if(u.has(l))return u.get(l);var o=a.apply(this,c);return s.cache=u.set(l,o)||u,o};return s.cache=new(n.Cache||r),s}return n.Cache=r,c2=n,c2}var u2,wE;function wR(){if(wE)return u2;wE=1;var r=fO(),e=500;function n(a){var i=r(a,function(c){return s.size===e&&s.clear(),c}),s=i.cache;return i}return u2=n,u2}var d2,jE;function jR(){if(jE)return d2;jE=1;var r=wR(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,a=r(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(e,function(c,l,u,o){s.push(u?o.replace(n,"$1"):l||c)}),s});return d2=a,d2}var h2,CE;function a4(){if(CE)return h2;CE=1;function r(e,n){for(var a=-1,i=e==null?0:e.length,s=Array(i);++a<i;)s[a]=n(e[a],a,e);return s}return h2=r,h2}var A2,NE;function CR(){if(NE)return A2;NE=1;var r=Dg(),e=a4(),n=Hu(),a=Om(),i=r?r.prototype:void 0,s=i?i.toString:void 0;function c(l){if(typeof l=="string")return l;if(n(l))return e(l,c)+"";if(a(l))return s?s.call(l):"";var u=l+"";return u=="0"&&1/l==-1/0?"-0":u}return A2=c,A2}var f2,SE;function pO(){if(SE)return f2;SE=1;var r=CR();function e(n){return n==null?"":r(n)}return f2=e,f2}var p2,EE;function mO(){if(EE)return p2;EE=1;var r=Hu(),e=JN(),n=jR(),a=pO();function i(s,c){return r(s)?s:e(s,c)?[s]:n(a(s))}return p2=i,p2}var m2,BE;function Ix(){if(BE)return m2;BE=1;var r=Om();function e(n){if(typeof n=="string"||r(n))return n;var a=n+"";return a=="0"&&1/n==-1/0?"-0":a}return m2=e,m2}var g2,IE;function i4(){if(IE)return g2;IE=1;var r=mO(),e=Ix();function n(a,i){i=r(i,a);for(var s=0,c=i.length;a!=null&&s<c;)a=a[e(i[s++])];return s&&s==c?a:void 0}return g2=n,g2}var v2,TE;function gO(){if(TE)return v2;TE=1;var r=i4();function e(n,a,i){var s=n==null?void 0:r(n,a);return s===void 0?i:s}return v2=e,v2}var NR=gO();const dd=ts(NR);var x2,_E;function SR(){if(_E)return x2;_E=1;function r(e){return e==null}return x2=r,x2}var ER=SR();const ci=ts(ER);var y2,OE;function BR(){if(OE)return y2;OE=1;var r=bA(),e=Hu(),n=wA(),a="[object String]";function i(s){return typeof s=="string"||!e(s)&&n(s)&&r(s)==a}return y2=i,y2}var IR=BR();const Mg=ts(IR);var TR=e4();const Ja=ts(TR);var _R=Af();const km=ts(_R);var b2={exports:{}},Es={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kE;function OR(){if(kE)return Es;kE=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),o=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),f=Symbol.for("react.offscreen"),g;g=Symbol.for("react.module.reference");function m(x){if(typeof x=="object"&&x!==null){var y=x.$$typeof;switch(y){case r:switch(x=x.type,x){case n:case i:case a:case o:case h:return x;default:switch(x=x&&x.$$typeof,x){case l:case c:case u:case A:case d:case s:return x;default:return y}}case e:return y}}}return Es.ContextConsumer=c,Es.ContextProvider=s,Es.Element=r,Es.ForwardRef=u,Es.Fragment=n,Es.Lazy=A,Es.Memo=d,Es.Portal=e,Es.Profiler=i,Es.StrictMode=a,Es.Suspense=o,Es.SuspenseList=h,Es.isAsyncMode=function(){return!1},Es.isConcurrentMode=function(){return!1},Es.isContextConsumer=function(x){return m(x)===c},Es.isContextProvider=function(x){return m(x)===s},Es.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===r},Es.isForwardRef=function(x){return m(x)===u},Es.isFragment=function(x){return m(x)===n},Es.isLazy=function(x){return m(x)===A},Es.isMemo=function(x){return m(x)===d},Es.isPortal=function(x){return m(x)===e},Es.isProfiler=function(x){return m(x)===i},Es.isStrictMode=function(x){return m(x)===a},Es.isSuspense=function(x){return m(x)===o},Es.isSuspenseList=function(x){return m(x)===h},Es.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===n||x===i||x===a||x===o||x===h||x===f||typeof x=="object"&&x!==null&&(x.$$typeof===A||x.$$typeof===d||x.$$typeof===s||x.$$typeof===c||x.$$typeof===u||x.$$typeof===g||x.getModuleId!==void 0)},Es.typeOf=m,Es}var PE;function kR(){return PE||(PE=1,b2.exports=OR()),b2.exports}var PR=kR(),w2,FE;function vO(){if(FE)return w2;FE=1;var r=bA(),e=wA(),n="[object Number]";function a(i){return typeof i=="number"||e(i)&&r(i)==n}return w2=a,w2}var j2,DE;function FR(){if(DE)return j2;DE=1;var r=vO();function e(n){return r(n)&&n!=+n}return j2=e,j2}var DR=FR();const Rg=ts(DR);var MR=vO();const RR=ts(MR);var wu=function(e){return e===0?0:e>0?1:-1},Xf=function(e){return Mg(e)&&e.indexOf("%")===e.length-1},vn=function(e){return RR(e)&&!Rg(e)},Zl=function(e){return vn(e)||Mg(e)},LR=0,Pm=function(e){var n=++LR;return"".concat(e||"").concat(n)},ju=function(e,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!vn(e)&&!Mg(e))return a;var s;if(Xf(e)){var c=e.indexOf("%");s=n*parseFloat(e.slice(0,c))/100}else s=+e;return Rg(s)&&(s=a),i&&s>n&&(s=n),s},tf=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},UR=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,a={},i=0;i<n;i++)if(!a[e[i]])a[e[i]]=!0;else return!0;return!1},cd=function(e,n){return vn(e)&&vn(n)?function(a){return e+a*(n-e)}:function(){return n}};function mv(r,e,n){return!r||!r.length?null:r.find(function(a){return a&&(typeof e=="function"?e(a):dd(a,e))===n})}function em(r,e){for(var n in r)if({}.hasOwnProperty.call(r,n)&&(!{}.hasOwnProperty.call(e,n)||r[n]!==e[n]))return!1;for(var a in e)if({}.hasOwnProperty.call(e,a)&&!{}.hasOwnProperty.call(r,a))return!1;return!0}function fC(r){"@babel/helpers - typeof";return fC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fC(r)}var HR=["viewBox","children"],QR=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],ME=["points","pathLength"],C2={svg:HR,polygon:ME,polyline:ME},s4=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],gv=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(k.isValidElement(e)&&(a=e.props),!km(a))return null;var i={};return Object.keys(a).forEach(function(s){s4.includes(s)&&(i[s]=n||function(c){return a[s](a,c)})}),i},WR=function(e,n,a){return function(i){return e(n,a,i),null}},op=function(e,n,a){if(!km(e)||fC(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var c=e[s];s4.includes(s)&&typeof c=="function"&&(i||(i={}),i[s]=WR(c,n,a))}),i},$R=["children"],VR=["children"];function RE(r,e){if(r==null)return{};var n=zR(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function zR(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function pC(r){"@babel/helpers - typeof";return pC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pC(r)}var LE={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},fA=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},UE=null,N2=null,o4=function r(e){if(e===UE&&Array.isArray(N2))return N2;var n=[];return k.Children.forEach(e,function(a){ci(a)||(PR.isFragment(a)?n=n.concat(r(a.props.children)):n.push(a))}),N2=n,UE=e,n};function hd(r,e){var n=[],a=[];return Array.isArray(e)?a=e.map(function(i){return fA(i)}):a=[fA(e)],o4(r).forEach(function(i){var s=dd(i,"type.displayName")||dd(i,"type.name");a.indexOf(s)!==-1&&n.push(i)}),n}function od(r,e){var n=hd(r,e);return n&&n[0]}var HE=function(e){if(!e||!e.props)return!1;var n=e.props,a=n.width,i=n.height;return!(!vn(a)||a<=0||!vn(i)||i<=0)},KR=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],GR=function(e){return e&&e.type&&Mg(e.type)&&KR.indexOf(e.type)>=0},qR=function(e){return e&&pC(e)==="object"&&"clipDot"in e},XR=function(e,n,a,i){var s,c=(s=C2==null?void 0:C2[i])!==null&&s!==void 0?s:[];return!Ja(e)&&(i&&c.includes(n)||QR.includes(n))||a&&s4.includes(n)},ka=function(e,n,a){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(k.isValidElement(e)&&(i=e.props),!km(i))return null;var s={};return Object.keys(i).forEach(function(c){var l;XR((l=i)===null||l===void 0?void 0:l[c],c,n,a)&&(s[c]=i[c])}),s},mC=function r(e,n){if(e===n)return!0;var a=k.Children.count(e);if(a!==k.Children.count(n))return!1;if(a===0)return!0;if(a===1)return QE(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<a;i++){var s=e[i],c=n[i];if(Array.isArray(s)||Array.isArray(c)){if(!r(s,c))return!1}else if(!QE(s,c))return!1}return!0},QE=function(e,n){if(ci(e)&&ci(n))return!0;if(!ci(e)&&!ci(n)){var a=e.props||{},i=a.children,s=RE(a,$R),c=n.props||{},l=c.children,u=RE(c,VR);return i&&l?em(s,u)&&mC(i,l):!i&&!l?em(s,u):!1}return!1},WE=function(e,n){var a=[],i={};return o4(e).forEach(function(s,c){if(GR(s))a.push(s);else if(s){var l=fA(s.type),u=n[l]||{},o=u.handler,h=u.once;if(o&&(!h||!i[l])){var d=o(s,l,c);a.push(d),i[l]=!0}}}),a},YR=function(e){var n=e&&e.type;return n&&LE[n]?LE[n]:null},ZR=function(e,n){return o4(n).indexOf(e)},JR=["children","width","height","viewBox","className","style","title","desc"];function gC(){return gC=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},gC.apply(this,arguments)}function eL(r,e){if(r==null)return{};var n=tL(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function tL(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function vC(r){var e=r.children,n=r.width,a=r.height,i=r.viewBox,s=r.className,c=r.style,l=r.title,u=r.desc,o=eL(r,JR),h=i||{width:n,height:a,x:0,y:0},d=vi("recharts-surface",s);return xt.createElement("svg",gC({},ka(o,!0,"svg"),{className:d,width:n,height:a,style:c,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),xt.createElement("title",null,l),xt.createElement("desc",null,u),e)}var rL=["children","className"];function xC(){return xC=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},xC.apply(this,arguments)}function nL(r,e){if(r==null)return{};var n=aL(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function aL(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}var ls=xt.forwardRef(function(r,e){var n=r.children,a=r.className,i=nL(r,rL),s=vi("recharts-layer",a);return xt.createElement("g",xC({className:s},ka(i,!0),{ref:e}),n)}),fh=function(e,n){for(var a=arguments.length,i=new Array(a>2?a-2:0),s=2;s<a;s++)i[s-2]=arguments[s]},S2,$E;function iL(){if($E)return S2;$E=1;function r(e,n,a){var i=-1,s=e.length;n<0&&(n=-n>s?0:s+n),a=a>s?s:a,a<0&&(a+=s),s=n>a?0:a-n>>>0,n>>>=0;for(var c=Array(s);++i<s;)c[i]=e[i+n];return c}return S2=r,S2}var E2,VE;function sL(){if(VE)return E2;VE=1;var r=iL();function e(n,a,i){var s=n.length;return i=i===void 0?s:i,!a&&i>=s?n:r(n,a,i)}return E2=e,E2}var B2,zE;function xO(){if(zE)return B2;zE=1;var r="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",i=e+n+a,s="\\ufe0e\\ufe0f",c="\\u200d",l=RegExp("["+c+r+i+s+"]");function u(o){return l.test(o)}return B2=u,B2}var I2,KE;function oL(){if(KE)return I2;KE=1;function r(e){return e.split("")}return I2=r,I2}var T2,GE;function lL(){if(GE)return T2;GE=1;var r="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",i=e+n+a,s="\\ufe0e\\ufe0f",c="["+r+"]",l="["+i+"]",u="\\ud83c[\\udffb-\\udfff]",o="(?:"+l+"|"+u+")",h="[^"+r+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",A="[\\ud800-\\udbff][\\udc00-\\udfff]",f="\\u200d",g=o+"?",m="["+s+"]?",x="(?:"+f+"(?:"+[h,d,A].join("|")+")"+m+g+")*",y=m+g+x,b="(?:"+[h+l+"?",l,d,A,c].join("|")+")",w=RegExp(u+"(?="+u+")|"+b+y,"g");function S(N){return N.match(w)||[]}return T2=S,T2}var _2,qE;function cL(){if(qE)return _2;qE=1;var r=oL(),e=xO(),n=lL();function a(i){return e(i)?n(i):r(i)}return _2=a,_2}var O2,XE;function uL(){if(XE)return O2;XE=1;var r=sL(),e=xO(),n=cL(),a=pO();function i(s){return function(c){c=a(c);var l=e(c)?n(c):void 0,u=l?l[0]:c.charAt(0),o=l?r(l,1).join(""):c.slice(1);return u[s]()+o}}return O2=i,O2}var k2,YE;function dL(){if(YE)return k2;YE=1;var r=uL(),e=r("toUpperCase");return k2=e,k2}var hL=dL();const Tx=ts(hL);function io(r){return function(){return r}}const yO=Math.cos,vv=Math.sin,ph=Math.sqrt,xv=Math.PI,_x=2*xv,yC=Math.PI,bC=2*yC,Vf=1e-6,AL=bC-Vf;function bO(r){this._+=r[0];for(let e=1,n=r.length;e<n;++e)this._+=arguments[e]+r[e]}function fL(r){let e=Math.floor(r);if(!(e>=0))throw new Error(`invalid digits: ${r}`);if(e>15)return bO;const n=10**e;return function(a){this._+=a[0];for(let i=1,s=a.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+a[i]}}class pL{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?bO:fL(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,a,i){this._append`Q${+e},${+n},${this._x1=+a},${this._y1=+i}`}bezierCurveTo(e,n,a,i,s,c){this._append`C${+e},${+n},${+a},${+i},${this._x1=+s},${this._y1=+c}`}arcTo(e,n,a,i,s){if(e=+e,n=+n,a=+a,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let c=this._x1,l=this._y1,u=a-e,o=i-n,h=c-e,d=l-n,A=h*h+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(A>Vf)if(!(Math.abs(d*u-o*h)>Vf)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let f=a-c,g=i-l,m=u*u+o*o,x=f*f+g*g,y=Math.sqrt(m),b=Math.sqrt(A),w=s*Math.tan((yC-Math.acos((m+A-x)/(2*y*b)))/2),S=w/b,N=w/y;Math.abs(S-1)>Vf&&this._append`L${e+S*h},${n+S*d}`,this._append`A${s},${s},0,0,${+(d*f>h*g)},${this._x1=e+N*u},${this._y1=n+N*o}`}}arc(e,n,a,i,s,c){if(e=+e,n=+n,a=+a,c=!!c,a<0)throw new Error(`negative radius: ${a}`);let l=a*Math.cos(i),u=a*Math.sin(i),o=e+l,h=n+u,d=1^c,A=c?i-s:s-i;this._x1===null?this._append`M${o},${h}`:(Math.abs(this._x1-o)>Vf||Math.abs(this._y1-h)>Vf)&&this._append`L${o},${h}`,a&&(A<0&&(A=A%bC+bC),A>AL?this._append`A${a},${a},0,1,${d},${e-l},${n-u}A${a},${a},0,1,${d},${this._x1=o},${this._y1=h}`:A>Vf&&this._append`A${a},${a},0,${+(A>=yC)},${d},${this._x1=e+a*Math.cos(s)},${this._y1=n+a*Math.sin(s)}`)}rect(e,n,a,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${a=+a}v${+i}h${-a}Z`}toString(){return this._}}function l4(r){let e=3;return r.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const a=Math.floor(n);if(!(a>=0))throw new RangeError(`invalid digits: ${n}`);e=a}return r},()=>new pL(e)}function c4(r){return typeof r=="object"&&"length"in r?r:Array.from(r)}function wO(r){this._context=r}wO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;default:this._context.lineTo(r,e);break}}};function Ox(r){return new wO(r)}function jO(r){return r[0]}function CO(r){return r[1]}function NO(r,e){var n=io(!0),a=null,i=Ox,s=null,c=l4(l);r=typeof r=="function"?r:r===void 0?jO:io(r),e=typeof e=="function"?e:e===void 0?CO:io(e);function l(u){var o,h=(u=c4(u)).length,d,A=!1,f;for(a==null&&(s=i(f=c())),o=0;o<=h;++o)!(o<h&&n(d=u[o],o,u))===A&&((A=!A)?s.lineStart():s.lineEnd()),A&&s.point(+r(d,o,u),+e(d,o,u));if(f)return s=null,f+""||null}return l.x=function(u){return arguments.length?(r=typeof u=="function"?u:io(+u),l):r},l.y=function(u){return arguments.length?(e=typeof u=="function"?u:io(+u),l):e},l.defined=function(u){return arguments.length?(n=typeof u=="function"?u:io(!!u),l):n},l.curve=function(u){return arguments.length?(i=u,a!=null&&(s=i(a)),l):i},l.context=function(u){return arguments.length?(u==null?a=s=null:s=i(a=u),l):a},l}function r1(r,e,n){var a=null,i=io(!0),s=null,c=Ox,l=null,u=l4(o);r=typeof r=="function"?r:r===void 0?jO:io(+r),e=typeof e=="function"?e:io(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?CO:io(+n);function o(d){var A,f,g,m=(d=c4(d)).length,x,y=!1,b,w=new Array(m),S=new Array(m);for(s==null&&(l=c(b=u())),A=0;A<=m;++A){if(!(A<m&&i(x=d[A],A,d))===y)if(y=!y)f=A,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=A-1;g>=f;--g)l.point(w[g],S[g]);l.lineEnd(),l.areaEnd()}y&&(w[A]=+r(x,A,d),S[A]=+e(x,A,d),l.point(a?+a(x,A,d):w[A],n?+n(x,A,d):S[A]))}if(b)return l=null,b+""||null}function h(){return NO().defined(i).curve(c).context(s)}return o.x=function(d){return arguments.length?(r=typeof d=="function"?d:io(+d),a=null,o):r},o.x0=function(d){return arguments.length?(r=typeof d=="function"?d:io(+d),o):r},o.x1=function(d){return arguments.length?(a=d==null?null:typeof d=="function"?d:io(+d),o):a},o.y=function(d){return arguments.length?(e=typeof d=="function"?d:io(+d),n=null,o):e},o.y0=function(d){return arguments.length?(e=typeof d=="function"?d:io(+d),o):e},o.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:io(+d),o):n},o.lineX0=o.lineY0=function(){return h().x(r).y(e)},o.lineY1=function(){return h().x(r).y(n)},o.lineX1=function(){return h().x(a).y(e)},o.defined=function(d){return arguments.length?(i=typeof d=="function"?d:io(!!d),o):i},o.curve=function(d){return arguments.length?(c=d,s!=null&&(l=c(s)),o):c},o.context=function(d){return arguments.length?(d==null?s=l=null:l=c(s=d),o):s},o}class SO{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function mL(r){return new SO(r,!0)}function gL(r){return new SO(r,!1)}const u4={draw(r,e){const n=ph(e/xv);r.moveTo(n,0),r.arc(0,0,n,0,_x)}},vL={draw(r,e){const n=ph(e/5)/2;r.moveTo(-3*n,-n),r.lineTo(-n,-n),r.lineTo(-n,-3*n),r.lineTo(n,-3*n),r.lineTo(n,-n),r.lineTo(3*n,-n),r.lineTo(3*n,n),r.lineTo(n,n),r.lineTo(n,3*n),r.lineTo(-n,3*n),r.lineTo(-n,n),r.lineTo(-3*n,n),r.closePath()}},EO=ph(1/3),xL=EO*2,yL={draw(r,e){const n=ph(e/xL),a=n*EO;r.moveTo(0,-n),r.lineTo(a,0),r.lineTo(0,n),r.lineTo(-a,0),r.closePath()}},bL={draw(r,e){const n=ph(e),a=-n/2;r.rect(a,a,n,n)}},wL=.8908130915292852,BO=vv(xv/10)/vv(7*xv/10),jL=vv(_x/10)*BO,CL=-yO(_x/10)*BO,NL={draw(r,e){const n=ph(e*wL),a=jL*n,i=CL*n;r.moveTo(0,-n),r.lineTo(a,i);for(let s=1;s<5;++s){const c=_x*s/5,l=yO(c),u=vv(c);r.lineTo(u*n,-l*n),r.lineTo(l*a-u*i,u*a+l*i)}r.closePath()}},P2=ph(3),SL={draw(r,e){const n=-ph(e/(P2*3));r.moveTo(0,n*2),r.lineTo(-P2*n,-n),r.lineTo(P2*n,-n),r.closePath()}},Md=-.5,Rd=ph(3)/2,wC=1/ph(12),EL=(wC/2+1)*3,BL={draw(r,e){const n=ph(e/EL),a=n/2,i=n*wC,s=a,c=n*wC+n,l=-s,u=c;r.moveTo(a,i),r.lineTo(s,c),r.lineTo(l,u),r.lineTo(Md*a-Rd*i,Rd*a+Md*i),r.lineTo(Md*s-Rd*c,Rd*s+Md*c),r.lineTo(Md*l-Rd*u,Rd*l+Md*u),r.lineTo(Md*a+Rd*i,Md*i-Rd*a),r.lineTo(Md*s+Rd*c,Md*c-Rd*s),r.lineTo(Md*l+Rd*u,Md*u-Rd*l),r.closePath()}};function IL(r,e){let n=null,a=l4(i);r=typeof r=="function"?r:io(r||u4),e=typeof e=="function"?e:io(e===void 0?64:+e);function i(){let s;if(n||(n=s=a()),r.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(r=typeof s=="function"?s:io(s),i):r},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:io(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function yv(){}function bv(r,e,n){r._context.bezierCurveTo((2*r._x0+r._x1)/3,(2*r._y0+r._y1)/3,(r._x0+2*r._x1)/3,(r._y0+2*r._y1)/3,(r._x0+4*r._x1+e)/6,(r._y0+4*r._y1+n)/6)}function IO(r){this._context=r}IO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:bv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:bv(this,r,e);break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e}};function TL(r){return new IO(r)}function TO(r){this._context=r}TO.prototype={areaStart:yv,areaEnd:yv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._x2=r,this._y2=e;break;case 1:this._point=2,this._x3=r,this._y3=e;break;case 2:this._point=3,this._x4=r,this._y4=e,this._context.moveTo((this._x0+4*this._x1+r)/6,(this._y0+4*this._y1+e)/6);break;default:bv(this,r,e);break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e}};function _L(r){return new TO(r)}function _O(r){this._context=r}_O.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+r)/6,a=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,a):this._context.moveTo(n,a);break;case 3:this._point=4;default:bv(this,r,e);break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e}};function OL(r){return new _O(r)}function OO(r){this._context=r}OO.prototype={areaStart:yv,areaEnd:yv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(r,e){r=+r,e=+e,this._point?this._context.lineTo(r,e):(this._point=1,this._context.moveTo(r,e))}};function kL(r){return new OO(r)}function ZE(r){return r<0?-1:1}function JE(r,e,n){var a=r._x1-r._x0,i=e-r._x1,s=(r._y1-r._y0)/(a||i<0&&-0),c=(n-r._y1)/(i||a<0&&-0),l=(s*i+c*a)/(a+i);return(ZE(s)+ZE(c))*Math.min(Math.abs(s),Math.abs(c),.5*Math.abs(l))||0}function eB(r,e){var n=r._x1-r._x0;return n?(3*(r._y1-r._y0)/n-e)/2:e}function F2(r,e,n){var a=r._x0,i=r._y0,s=r._x1,c=r._y1,l=(s-a)/3;r._context.bezierCurveTo(a+l,i+l*e,s-l,c-l*n,s,c)}function wv(r){this._context=r}wv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:F2(this,this._t0,eB(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){var n=NaN;if(r=+r,e=+e,!(r===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;break;case 2:this._point=3,F2(this,eB(this,n=JE(this,r,e)),n);break;default:F2(this,this._t0,n=JE(this,r,e));break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e,this._t0=n}}};function kO(r){this._context=new PO(r)}(kO.prototype=Object.create(wv.prototype)).point=function(r,e){wv.prototype.point.call(this,e,r)};function PO(r){this._context=r}PO.prototype={moveTo:function(r,e){this._context.moveTo(e,r)},closePath:function(){this._context.closePath()},lineTo:function(r,e){this._context.lineTo(e,r)},bezierCurveTo:function(r,e,n,a,i,s){this._context.bezierCurveTo(e,r,a,n,s,i)}};function PL(r){return new wv(r)}function FL(r){return new kO(r)}function FO(r){this._context=r}FO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var r=this._x,e=this._y,n=r.length;if(n)if(this._line?this._context.lineTo(r[0],e[0]):this._context.moveTo(r[0],e[0]),n===2)this._context.lineTo(r[1],e[1]);else for(var a=tB(r),i=tB(e),s=0,c=1;c<n;++s,++c)this._context.bezierCurveTo(a[0][s],i[0][s],a[1][s],i[1][s],r[c],e[c]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(r,e){this._x.push(+r),this._y.push(+e)}};function tB(r){var e,n=r.length-1,a,i=new Array(n),s=new Array(n),c=new Array(n);for(i[0]=0,s[0]=2,c[0]=r[0]+2*r[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,c[e]=4*r[e]+2*r[e+1];for(i[n-1]=2,s[n-1]=7,c[n-1]=8*r[n-1]+r[n],e=1;e<n;++e)a=i[e]/s[e-1],s[e]-=a,c[e]-=a*c[e-1];for(i[n-1]=c[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(c[e]-i[e+1])/s[e];for(s[n-1]=(r[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*r[e+1]-i[e+1];return[i,s]}function DL(r){return new FO(r)}function kx(r,e){this._context=r,this._t=e}kx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(r,e);else{var n=this._x*(1-this._t)+r*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=r,this._y=e}};function ML(r){return new kx(r,.5)}function RL(r){return new kx(r,0)}function LL(r){return new kx(r,1)}function nm(r,e){if((c=r.length)>1)for(var n=1,a,i,s=r[e[0]],c,l=s.length;n<c;++n)for(i=s,s=r[e[n]],a=0;a<l;++a)s[a][1]+=s[a][0]=isNaN(i[a][1])?i[a][0]:i[a][1]}function jC(r){for(var e=r.length,n=new Array(e);--e>=0;)n[e]=e;return n}function UL(r,e){return r[e]}function HL(r){const e=[];return e.key=r,e}function QL(){var r=io([]),e=jC,n=nm,a=UL;function i(s){var c=Array.from(r.apply(this,arguments),HL),l,u=c.length,o=-1,h;for(const d of s)for(l=0,++o;l<u;++l)(c[l][o]=[0,+a(d,c[l].key,o,s)]).data=d;for(l=0,h=c4(e(c));l<u;++l)c[h[l]].index=l;return n(c,h),c}return i.keys=function(s){return arguments.length?(r=typeof s=="function"?s:io(Array.from(s)),i):r},i.value=function(s){return arguments.length?(a=typeof s=="function"?s:io(+s),i):a},i.order=function(s){return arguments.length?(e=s==null?jC:typeof s=="function"?s:io(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??nm,i):n},i}function WL(r,e){if((a=r.length)>0){for(var n,a,i=0,s=r[0].length,c;i<s;++i){for(c=n=0;n<a;++n)c+=r[n][i][1]||0;if(c)for(n=0;n<a;++n)r[n][i][1]/=c}nm(r,e)}}function $L(r,e){if((i=r.length)>0){for(var n=0,a=r[e[0]],i,s=a.length;n<s;++n){for(var c=0,l=0;c<i;++c)l+=r[c][n][1]||0;a[n][1]+=a[n][0]=-l/2}nm(r,e)}}function VL(r,e){if(!(!((c=r.length)>0)||!((s=(i=r[e[0]]).length)>0))){for(var n=0,a=1,i,s,c;a<s;++a){for(var l=0,u=0,o=0;l<c;++l){for(var h=r[e[l]],d=h[a][1]||0,A=h[a-1][1]||0,f=(d-A)/2,g=0;g<l;++g){var m=r[e[g]],x=m[a][1]||0,y=m[a-1][1]||0;f+=x-y}u+=d,o+=f*d}i[a-1][1]+=i[a-1][0]=n,u&&(n-=o/u)}i[a-1][1]+=i[a-1][0]=n,nm(r,e)}}function tg(r){"@babel/helpers - typeof";return tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tg(r)}var zL=["type","size","sizeType"];function CC(){return CC=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},CC.apply(this,arguments)}function rB(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function nB(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rB(Object(n),!0).forEach(function(a){KL(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):rB(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function KL(r,e,n){return e=GL(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function GL(r){var e=qL(r,"string");return tg(e)=="symbol"?e:e+""}function qL(r,e){if(tg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(tg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function XL(r,e){if(r==null)return{};var n=YL(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function YL(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}var DO={symbolCircle:u4,symbolCross:vL,symbolDiamond:yL,symbolSquare:bL,symbolStar:NL,symbolTriangle:SL,symbolWye:BL},ZL=Math.PI/180,JL=function(e){var n="symbol".concat(Tx(e));return DO[n]||u4},eU=function(e,n,a){if(n==="area")return e;switch(a){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*ZL;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},tU=function(e,n){DO["symbol".concat(Tx(e))]=n},d4=function(e){var n=e.type,a=n===void 0?"circle":n,i=e.size,s=i===void 0?64:i,c=e.sizeType,l=c===void 0?"area":c,u=XL(e,zL),o=nB(nB({},u),{},{type:a,size:s,sizeType:l}),h=function(){var x=JL(a),y=IL().type(x).size(eU(s,l,a));return y()},d=o.className,A=o.cx,f=o.cy,g=ka(o,!0);return A===+A&&f===+f&&s===+s?xt.createElement("path",CC({},g,{className:vi("recharts-symbols",d),transform:"translate(".concat(A,", ").concat(f,")"),d:h()})):null};d4.registerSymbol=tU;function am(r){"@babel/helpers - typeof";return am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},am(r)}function NC(){return NC=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},NC.apply(this,arguments)}function aB(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function rU(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aB(Object(n),!0).forEach(function(a){rg(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):aB(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function nU(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function aU(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,RO(a.key),a)}}function iU(r,e,n){return e&&aU(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function sU(r,e,n){return e=jv(e),oU(r,MO()?Reflect.construct(e,n||[],jv(r).constructor):e.apply(r,n))}function oU(r,e){if(e&&(am(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lU(r)}function lU(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function MO(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MO=function(){return!!r})()}function jv(r){return jv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jv(r)}function cU(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&SC(r,e)}function SC(r,e){return SC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},SC(r,e)}function rg(r,e,n){return e=RO(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function RO(r){var e=uU(r,"string");return am(e)=="symbol"?e:e+""}function uU(r,e){if(am(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(am(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var Ld=32,h4=(function(r){function e(){return nU(this,e),sU(this,e,arguments)}return cU(e,r),iU(e,[{key:"renderIcon",value:function(a){var i=this.props.inactiveColor,s=Ld/2,c=Ld/6,l=Ld/3,u=a.inactive?i:a.color;if(a.type==="plainline")return xt.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:a.payload.strokeDasharray,x1:0,y1:s,x2:Ld,y2:s,className:"recharts-legend-icon"});if(a.type==="line")return xt.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(c,",").concat(c,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(Ld,"M").concat(2*l,",").concat(s,`
            A`).concat(c,",").concat(c,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(a.type==="rect")return xt.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(Ld/8,"h").concat(Ld,"v").concat(Ld*3/4,"h").concat(-Ld,"z"),className:"recharts-legend-icon"});if(xt.isValidElement(a.legendIcon)){var o=rU({},a);return delete o.legendIcon,xt.cloneElement(a.legendIcon,o)}return xt.createElement(d4,{fill:u,cx:s,cy:s,size:Ld,sizeType:"diameter",type:a.type})}},{key:"renderItems",value:function(){var a=this,i=this.props,s=i.payload,c=i.iconSize,l=i.layout,u=i.formatter,o=i.inactiveColor,h={x:0,y:0,width:Ld,height:Ld},d={display:l==="horizontal"?"inline-block":"block",marginRight:10},A={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(f,g){var m=f.formatter||u,x=vi(rg(rg({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",f.inactive));if(f.type==="none")return null;var y=Ja(f.value)?null:f.value;fh(!Ja(f.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=f.inactive?o:f.color;return xt.createElement("li",NC({className:x,style:d,key:"legend-item-".concat(g)},op(a.props,f,g)),xt.createElement(vC,{width:c,height:c,viewBox:h,style:A},a.renderIcon(f)),xt.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},m?m(y,f,g):y))})}},{key:"render",value:function(){var a=this.props,i=a.payload,s=a.layout,c=a.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?c:"left"};return xt.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(k.PureComponent);rg(h4,"displayName","Legend");rg(h4,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var D2,iB;function dU(){if(iB)return D2;iB=1;var r=Ex();function e(){this.__data__=new r,this.size=0}return D2=e,D2}var M2,sB;function hU(){if(sB)return M2;sB=1;function r(e){var n=this.__data__,a=n.delete(e);return this.size=n.size,a}return M2=r,M2}var R2,oB;function AU(){if(oB)return R2;oB=1;function r(e){return this.__data__.get(e)}return R2=r,R2}var L2,lB;function fU(){if(lB)return L2;lB=1;function r(e){return this.__data__.has(e)}return L2=r,L2}var U2,cB;function pU(){if(cB)return U2;cB=1;var r=Ex(),e=r4(),n=n4(),a=200;function i(s,c){var l=this.__data__;if(l instanceof r){var u=l.__data__;if(!e||u.length<a-1)return u.push([s,c]),this.size=++l.size,this;l=this.__data__=new n(u)}return l.set(s,c),this.size=l.size,this}return U2=i,U2}var H2,uB;function LO(){if(uB)return H2;uB=1;var r=Ex(),e=dU(),n=hU(),a=AU(),i=fU(),s=pU();function c(l){var u=this.__data__=new r(l);this.size=u.size}return c.prototype.clear=e,c.prototype.delete=n,c.prototype.get=a,c.prototype.has=i,c.prototype.set=s,H2=c,H2}var Q2,dB;function mU(){if(dB)return Q2;dB=1;var r="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,r),this}return Q2=e,Q2}var W2,hB;function gU(){if(hB)return W2;hB=1;function r(e){return this.__data__.has(e)}return W2=r,W2}var $2,AB;function UO(){if(AB)return $2;AB=1;var r=n4(),e=mU(),n=gU();function a(i){var s=-1,c=i==null?0:i.length;for(this.__data__=new r;++s<c;)this.add(i[s])}return a.prototype.add=a.prototype.push=e,a.prototype.has=n,$2=a,$2}var V2,fB;function HO(){if(fB)return V2;fB=1;function r(e,n){for(var a=-1,i=e==null?0:e.length;++a<i;)if(n(e[a],a,e))return!0;return!1}return V2=r,V2}var z2,pB;function QO(){if(pB)return z2;pB=1;function r(e,n){return e.has(n)}return z2=r,z2}var K2,mB;function WO(){if(mB)return K2;mB=1;var r=UO(),e=HO(),n=QO(),a=1,i=2;function s(c,l,u,o,h,d){var A=u&a,f=c.length,g=l.length;if(f!=g&&!(A&&g>f))return!1;var m=d.get(c),x=d.get(l);if(m&&x)return m==l&&x==c;var y=-1,b=!0,w=u&i?new r:void 0;for(d.set(c,l),d.set(l,c);++y<f;){var S=c[y],N=l[y];if(o)var C=A?o(N,S,y,l,c,d):o(S,N,y,c,l,d);if(C!==void 0){if(C)continue;b=!1;break}if(w){if(!e(l,function(O,W){if(!n(w,W)&&(S===O||h(S,O,u,o,d)))return w.push(W)})){b=!1;break}}else if(!(S===N||h(S,N,u,o,d))){b=!1;break}}return d.delete(c),d.delete(l),b}return K2=s,K2}var G2,gB;function vU(){if(gB)return G2;gB=1;var r=Rh(),e=r.Uint8Array;return G2=e,G2}var q2,vB;function xU(){if(vB)return q2;vB=1;function r(e){var n=-1,a=Array(e.size);return e.forEach(function(i,s){a[++n]=[s,i]}),a}return q2=r,q2}var X2,xB;function A4(){if(xB)return X2;xB=1;function r(e){var n=-1,a=Array(e.size);return e.forEach(function(i){a[++n]=i}),a}return X2=r,X2}var Y2,yB;function yU(){if(yB)return Y2;yB=1;var r=Dg(),e=vU(),n=t4(),a=WO(),i=xU(),s=A4(),c=1,l=2,u="[object Boolean]",o="[object Date]",h="[object Error]",d="[object Map]",A="[object Number]",f="[object RegExp]",g="[object Set]",m="[object String]",x="[object Symbol]",y="[object ArrayBuffer]",b="[object DataView]",w=r?r.prototype:void 0,S=w?w.valueOf:void 0;function N(C,O,W,K,te,q,Y){switch(W){case b:if(C.byteLength!=O.byteLength||C.byteOffset!=O.byteOffset)return!1;C=C.buffer,O=O.buffer;case y:return!(C.byteLength!=O.byteLength||!q(new e(C),new e(O)));case u:case o:case A:return n(+C,+O);case h:return C.name==O.name&&C.message==O.message;case f:case m:return C==O+"";case d:var P=i;case g:var ce=K&c;if(P||(P=s),C.size!=O.size&&!ce)return!1;var $=Y.get(C);if($)return $==O;K|=l,Y.set(C,O);var R=a(P(C),P(O),K,te,q,Y);return Y.delete(C),R;case x:if(S)return S.call(C)==S.call(O)}return!1}return Y2=N,Y2}var Z2,bB;function $O(){if(bB)return Z2;bB=1;function r(e,n){for(var a=-1,i=n.length,s=e.length;++a<i;)e[s+a]=n[a];return e}return Z2=r,Z2}var J2,wB;function bU(){if(wB)return J2;wB=1;var r=$O(),e=Hu();function n(a,i,s){var c=i(a);return e(a)?c:r(c,s(a))}return J2=n,J2}var eb,jB;function wU(){if(jB)return eb;jB=1;function r(e,n){for(var a=-1,i=e==null?0:e.length,s=0,c=[];++a<i;){var l=e[a];n(l,a,e)&&(c[s++]=l)}return c}return eb=r,eb}var tb,CB;function jU(){if(CB)return tb;CB=1;function r(){return[]}return tb=r,tb}var rb,NB;function CU(){if(NB)return rb;NB=1;var r=wU(),e=jU(),n=Object.prototype,a=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(c){return c==null?[]:(c=Object(c),r(i(c),function(l){return a.call(c,l)}))}:e;return rb=s,rb}var nb,SB;function NU(){if(SB)return nb;SB=1;function r(e,n){for(var a=-1,i=Array(e);++a<e;)i[a]=n(a);return i}return nb=r,nb}var ab,EB;function SU(){if(EB)return ab;EB=1;var r=bA(),e=wA(),n="[object Arguments]";function a(i){return e(i)&&r(i)==n}return ab=a,ab}var ib,BB;function f4(){if(BB)return ib;BB=1;var r=SU(),e=wA(),n=Object.prototype,a=n.hasOwnProperty,i=n.propertyIsEnumerable,s=r((function(){return arguments})())?r:function(c){return e(c)&&a.call(c,"callee")&&!i.call(c,"callee")};return ib=s,ib}var O0={exports:{}},sb,IB;function EU(){if(IB)return sb;IB=1;function r(){return!1}return sb=r,sb}O0.exports;var TB;function VO(){return TB||(TB=1,(function(r,e){var n=Rh(),a=EU(),i=e&&!e.nodeType&&e,s=i&&!0&&r&&!r.nodeType&&r,c=s&&s.exports===i,l=c?n.Buffer:void 0,u=l?l.isBuffer:void 0,o=u||a;r.exports=o})(O0,O0.exports)),O0.exports}var ob,_B;function p4(){if(_B)return ob;_B=1;var r=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(a,i){var s=typeof a;return i=i??r,!!i&&(s=="number"||s!="symbol"&&e.test(a))&&a>-1&&a%1==0&&a<i}return ob=n,ob}var lb,OB;function m4(){if(OB)return lb;OB=1;var r=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=r}return lb=e,lb}var cb,kB;function BU(){if(kB)return cb;kB=1;var r=bA(),e=m4(),n=wA(),a="[object Arguments]",i="[object Array]",s="[object Boolean]",c="[object Date]",l="[object Error]",u="[object Function]",o="[object Map]",h="[object Number]",d="[object Object]",A="[object RegExp]",f="[object Set]",g="[object String]",m="[object WeakMap]",x="[object ArrayBuffer]",y="[object DataView]",b="[object Float32Array]",w="[object Float64Array]",S="[object Int8Array]",N="[object Int16Array]",C="[object Int32Array]",O="[object Uint8Array]",W="[object Uint8ClampedArray]",K="[object Uint16Array]",te="[object Uint32Array]",q={};q[b]=q[w]=q[S]=q[N]=q[C]=q[O]=q[W]=q[K]=q[te]=!0,q[a]=q[i]=q[x]=q[s]=q[y]=q[c]=q[l]=q[u]=q[o]=q[h]=q[d]=q[A]=q[f]=q[g]=q[m]=!1;function Y(P){return n(P)&&e(P.length)&&!!q[r(P)]}return cb=Y,cb}var ub,PB;function zO(){if(PB)return ub;PB=1;function r(e){return function(n){return e(n)}}return ub=r,ub}var k0={exports:{}};k0.exports;var FB;function IU(){return FB||(FB=1,(function(r,e){var n=hO(),a=e&&!e.nodeType&&e,i=a&&!0&&r&&!r.nodeType&&r,s=i&&i.exports===a,c=s&&n.process,l=(function(){try{var u=i&&i.require&&i.require("util").types;return u||c&&c.binding&&c.binding("util")}catch{}})();r.exports=l})(k0,k0.exports)),k0.exports}var db,DB;function KO(){if(DB)return db;DB=1;var r=BU(),e=zO(),n=IU(),a=n&&n.isTypedArray,i=a?e(a):r;return db=i,db}var hb,MB;function TU(){if(MB)return hb;MB=1;var r=NU(),e=f4(),n=Hu(),a=VO(),i=p4(),s=KO(),c=Object.prototype,l=c.hasOwnProperty;function u(o,h){var d=n(o),A=!d&&e(o),f=!d&&!A&&a(o),g=!d&&!A&&!f&&s(o),m=d||A||f||g,x=m?r(o.length,String):[],y=x.length;for(var b in o)(h||l.call(o,b))&&!(m&&(b=="length"||f&&(b=="offset"||b=="parent")||g&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||i(b,y)))&&x.push(b);return x}return hb=u,hb}var Ab,RB;function _U(){if(RB)return Ab;RB=1;var r=Object.prototype;function e(n){var a=n&&n.constructor,i=typeof a=="function"&&a.prototype||r;return n===i}return Ab=e,Ab}var fb,LB;function GO(){if(LB)return fb;LB=1;function r(e,n){return function(a){return e(n(a))}}return fb=r,fb}var pb,UB;function OU(){if(UB)return pb;UB=1;var r=GO(),e=r(Object.keys,Object);return pb=e,pb}var mb,HB;function kU(){if(HB)return mb;HB=1;var r=_U(),e=OU(),n=Object.prototype,a=n.hasOwnProperty;function i(s){if(!r(s))return e(s);var c=[];for(var l in Object(s))a.call(s,l)&&l!="constructor"&&c.push(l);return c}return mb=i,mb}var gb,QB;function Lg(){if(QB)return gb;QB=1;var r=e4(),e=m4();function n(a){return a!=null&&e(a.length)&&!r(a)}return gb=n,gb}var vb,WB;function Px(){if(WB)return vb;WB=1;var r=TU(),e=kU(),n=Lg();function a(i){return n(i)?r(i):e(i)}return vb=a,vb}var xb,$B;function PU(){if($B)return xb;$B=1;var r=bU(),e=CU(),n=Px();function a(i){return r(i,n,e)}return xb=a,xb}var yb,VB;function FU(){if(VB)return yb;VB=1;var r=PU(),e=1,n=Object.prototype,a=n.hasOwnProperty;function i(s,c,l,u,o,h){var d=l&e,A=r(s),f=A.length,g=r(c),m=g.length;if(f!=m&&!d)return!1;for(var x=f;x--;){var y=A[x];if(!(d?y in c:a.call(c,y)))return!1}var b=h.get(s),w=h.get(c);if(b&&w)return b==c&&w==s;var S=!0;h.set(s,c),h.set(c,s);for(var N=d;++x<f;){y=A[x];var C=s[y],O=c[y];if(u)var W=d?u(O,C,y,c,s,h):u(C,O,y,s,c,h);if(!(W===void 0?C===O||o(C,O,l,u,h):W)){S=!1;break}N||(N=y=="constructor")}if(S&&!N){var K=s.constructor,te=c.constructor;K!=te&&"constructor"in s&&"constructor"in c&&!(typeof K=="function"&&K instanceof K&&typeof te=="function"&&te instanceof te)&&(S=!1)}return h.delete(s),h.delete(c),S}return yb=i,yb}var bb,zB;function DU(){if(zB)return bb;zB=1;var r=hp(),e=Rh(),n=r(e,"DataView");return bb=n,bb}var wb,KB;function MU(){if(KB)return wb;KB=1;var r=hp(),e=Rh(),n=r(e,"Promise");return wb=n,wb}var jb,GB;function qO(){if(GB)return jb;GB=1;var r=hp(),e=Rh(),n=r(e,"Set");return jb=n,jb}var Cb,qB;function RU(){if(qB)return Cb;qB=1;var r=hp(),e=Rh(),n=r(e,"WeakMap");return Cb=n,Cb}var Nb,XB;function LU(){if(XB)return Nb;XB=1;var r=DU(),e=r4(),n=MU(),a=qO(),i=RU(),s=bA(),c=AO(),l="[object Map]",u="[object Object]",o="[object Promise]",h="[object Set]",d="[object WeakMap]",A="[object DataView]",f=c(r),g=c(e),m=c(n),x=c(a),y=c(i),b=s;return(r&&b(new r(new ArrayBuffer(1)))!=A||e&&b(new e)!=l||n&&b(n.resolve())!=o||a&&b(new a)!=h||i&&b(new i)!=d)&&(b=function(w){var S=s(w),N=S==u?w.constructor:void 0,C=N?c(N):"";if(C)switch(C){case f:return A;case g:return l;case m:return o;case x:return h;case y:return d}return S}),Nb=b,Nb}var Sb,YB;function UU(){if(YB)return Sb;YB=1;var r=LO(),e=WO(),n=yU(),a=FU(),i=LU(),s=Hu(),c=VO(),l=KO(),u=1,o="[object Arguments]",h="[object Array]",d="[object Object]",A=Object.prototype,f=A.hasOwnProperty;function g(m,x,y,b,w,S){var N=s(m),C=s(x),O=N?h:i(m),W=C?h:i(x);O=O==o?d:O,W=W==o?d:W;var K=O==d,te=W==d,q=O==W;if(q&&c(m)){if(!c(x))return!1;N=!0,K=!1}if(q&&!K)return S||(S=new r),N||l(m)?e(m,x,y,b,w,S):n(m,x,O,y,b,w,S);if(!(y&u)){var Y=K&&f.call(m,"__wrapped__"),P=te&&f.call(x,"__wrapped__");if(Y||P){var ce=Y?m.value():m,$=P?x.value():x;return S||(S=new r),w(ce,$,y,b,S)}}return q?(S||(S=new r),a(m,x,y,b,w,S)):!1}return Sb=g,Sb}var Eb,ZB;function g4(){if(ZB)return Eb;ZB=1;var r=UU(),e=wA();function n(a,i,s,c,l){return a===i?!0:a==null||i==null||!e(a)&&!e(i)?a!==a&&i!==i:r(a,i,s,c,n,l)}return Eb=n,Eb}var Bb,JB;function HU(){if(JB)return Bb;JB=1;var r=LO(),e=g4(),n=1,a=2;function i(s,c,l,u){var o=l.length,h=o,d=!u;if(s==null)return!h;for(s=Object(s);o--;){var A=l[o];if(d&&A[2]?A[1]!==s[A[0]]:!(A[0]in s))return!1}for(;++o<h;){A=l[o];var f=A[0],g=s[f],m=A[1];if(d&&A[2]){if(g===void 0&&!(f in s))return!1}else{var x=new r;if(u)var y=u(g,m,f,s,c,x);if(!(y===void 0?e(m,g,n|a,u,x):y))return!1}}return!0}return Bb=i,Bb}var Ib,e5;function XO(){if(e5)return Ib;e5=1;var r=Af();function e(n){return n===n&&!r(n)}return Ib=e,Ib}var Tb,t5;function QU(){if(t5)return Tb;t5=1;var r=XO(),e=Px();function n(a){for(var i=e(a),s=i.length;s--;){var c=i[s],l=a[c];i[s]=[c,l,r(l)]}return i}return Tb=n,Tb}var _b,r5;function YO(){if(r5)return _b;r5=1;function r(e,n){return function(a){return a==null?!1:a[e]===n&&(n!==void 0||e in Object(a))}}return _b=r,_b}var Ob,n5;function WU(){if(n5)return Ob;n5=1;var r=HU(),e=QU(),n=YO();function a(i){var s=e(i);return s.length==1&&s[0][2]?n(s[0][0],s[0][1]):function(c){return c===i||r(c,i,s)}}return Ob=a,Ob}var kb,a5;function $U(){if(a5)return kb;a5=1;function r(e,n){return e!=null&&n in Object(e)}return kb=r,kb}var Pb,i5;function VU(){if(i5)return Pb;i5=1;var r=mO(),e=f4(),n=Hu(),a=p4(),i=m4(),s=Ix();function c(l,u,o){u=r(u,l);for(var h=-1,d=u.length,A=!1;++h<d;){var f=s(u[h]);if(!(A=l!=null&&o(l,f)))break;l=l[f]}return A||++h!=d?A:(d=l==null?0:l.length,!!d&&i(d)&&a(f,d)&&(n(l)||e(l)))}return Pb=c,Pb}var Fb,s5;function zU(){if(s5)return Fb;s5=1;var r=$U(),e=VU();function n(a,i){return a!=null&&e(a,i,r)}return Fb=n,Fb}var Db,o5;function KU(){if(o5)return Db;o5=1;var r=g4(),e=gO(),n=zU(),a=JN(),i=XO(),s=YO(),c=Ix(),l=1,u=2;function o(h,d){return a(h)&&i(d)?s(c(h),d):function(A){var f=e(A,h);return f===void 0&&f===d?n(A,h):r(d,f,l|u)}}return Db=o,Db}var Mb,l5;function Fm(){if(l5)return Mb;l5=1;function r(e){return e}return Mb=r,Mb}var Rb,c5;function GU(){if(c5)return Rb;c5=1;function r(e){return function(n){return n==null?void 0:n[e]}}return Rb=r,Rb}var Lb,u5;function qU(){if(u5)return Lb;u5=1;var r=i4();function e(n){return function(a){return r(a,n)}}return Lb=e,Lb}var Ub,d5;function XU(){if(d5)return Ub;d5=1;var r=GU(),e=qU(),n=JN(),a=Ix();function i(s){return n(s)?r(a(s)):e(s)}return Ub=i,Ub}var Hb,h5;function Lh(){if(h5)return Hb;h5=1;var r=WU(),e=KU(),n=Fm(),a=Hu(),i=XU();function s(c){return typeof c=="function"?c:c==null?n:typeof c=="object"?a(c)?e(c[0],c[1]):r(c):i(c)}return Hb=s,Hb}var Qb,A5;function ZO(){if(A5)return Qb;A5=1;function r(e,n,a,i){for(var s=e.length,c=a+(i?1:-1);i?c--:++c<s;)if(n(e[c],c,e))return c;return-1}return Qb=r,Qb}var Wb,f5;function YU(){if(f5)return Wb;f5=1;function r(e){return e!==e}return Wb=r,Wb}var $b,p5;function ZU(){if(p5)return $b;p5=1;function r(e,n,a){for(var i=a-1,s=e.length;++i<s;)if(e[i]===n)return i;return-1}return $b=r,$b}var Vb,m5;function JU(){if(m5)return Vb;m5=1;var r=ZO(),e=YU(),n=ZU();function a(i,s,c){return s===s?n(i,s,c):r(i,e,c)}return Vb=a,Vb}var zb,g5;function e7(){if(g5)return zb;g5=1;var r=JU();function e(n,a){var i=n==null?0:n.length;return!!i&&r(n,a,0)>-1}return zb=e,zb}var Kb,v5;function t7(){if(v5)return Kb;v5=1;function r(e,n,a){for(var i=-1,s=e==null?0:e.length;++i<s;)if(a(n,e[i]))return!0;return!1}return Kb=r,Kb}var Gb,x5;function r7(){if(x5)return Gb;x5=1;function r(){}return Gb=r,Gb}var qb,y5;function n7(){if(y5)return qb;y5=1;var r=qO(),e=r7(),n=A4(),a=1/0,i=r&&1/n(new r([,-0]))[1]==a?function(s){return new r(s)}:e;return qb=i,qb}var Xb,b5;function a7(){if(b5)return Xb;b5=1;var r=UO(),e=e7(),n=t7(),a=QO(),i=n7(),s=A4(),c=200;function l(u,o,h){var d=-1,A=e,f=u.length,g=!0,m=[],x=m;if(h)g=!1,A=n;else if(f>=c){var y=o?null:i(u);if(y)return s(y);g=!1,A=a,x=new r}else x=o?[]:m;e:for(;++d<f;){var b=u[d],w=o?o(b):b;if(b=h||b!==0?b:0,g&&w===w){for(var S=x.length;S--;)if(x[S]===w)continue e;o&&x.push(w),m.push(b)}else A(x,w,h)||(x!==m&&x.push(w),m.push(b))}return m}return Xb=l,Xb}var Yb,w5;function i7(){if(w5)return Yb;w5=1;var r=Lh(),e=a7();function n(a,i){return a&&a.length?e(a,r(i,2)):[]}return Yb=n,Yb}var s7=i7();const j5=ts(s7);function JO(r,e,n){return e===!0?j5(r,n):Ja(e)?j5(r,e):r}function im(r){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},im(r)}var o7=["ref"];function C5(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function sA(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C5(Object(n),!0).forEach(function(a){Fx(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):C5(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function l7(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function N5(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,tk(a.key),a)}}function c7(r,e,n){return e&&N5(r.prototype,e),n&&N5(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function u7(r,e,n){return e=Cv(e),d7(r,ek()?Reflect.construct(e,n||[],Cv(r).constructor):e.apply(r,n))}function d7(r,e){if(e&&(im(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h7(r)}function h7(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function ek(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ek=function(){return!!r})()}function Cv(r){return Cv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cv(r)}function A7(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&EC(r,e)}function EC(r,e){return EC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},EC(r,e)}function Fx(r,e,n){return e=tk(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function tk(r){var e=f7(r,"string");return im(e)=="symbol"?e:e+""}function f7(r,e){if(im(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(im(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function p7(r,e){if(r==null)return{};var n=m7(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function m7(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function g7(r){return r.value}function v7(r,e){if(xt.isValidElement(r))return xt.cloneElement(r,e);if(typeof r=="function")return xt.createElement(r,e);e.ref;var n=p7(e,o7);return xt.createElement(h4,n)}var S5=1,Ih=(function(r){function e(){var n;l7(this,e);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=u7(this,e,[].concat(i)),Fx(n,"lastBoundingBox",{width:-1,height:-1}),n}return A7(e,r),c7(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();return a.height=this.wrapperNode.offsetHeight,a.width=this.wrapperNode.offsetWidth,a}return null}},{key:"updateBBox",value:function(){var a=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>S5||Math.abs(i.height-this.lastBoundingBox.height)>S5)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,a&&a(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,a&&a(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?sA({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(a){var i=this.props,s=i.layout,c=i.align,l=i.verticalAlign,u=i.margin,o=i.chartWidth,h=i.chartHeight,d,A;if(!a||(a.left===void 0||a.left===null)&&(a.right===void 0||a.right===null))if(c==="center"&&s==="vertical"){var f=this.getBBoxSnapshot();d={left:((o||0)-f.width)/2}}else d=c==="right"?{right:u&&u.right||0}:{left:u&&u.left||0};if(!a||(a.top===void 0||a.top===null)&&(a.bottom===void 0||a.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();A={top:((h||0)-g.height)/2}}else A=l==="bottom"?{bottom:u&&u.bottom||0}:{top:u&&u.top||0};return sA(sA({},d),A)}},{key:"render",value:function(){var a=this,i=this.props,s=i.content,c=i.width,l=i.height,u=i.wrapperStyle,o=i.payloadUniqBy,h=i.payload,d=sA(sA({position:"absolute",width:c||"auto",height:l||"auto"},this.getDefaultPosition(u)),u);return xt.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(f){a.wrapperNode=f}},v7(s,sA(sA({},this.props),{},{payload:JO(h,o,g7)})))}}],[{key:"getWithHeight",value:function(a,i){var s=sA(sA({},this.defaultProps),a.props),c=s.layout;return c==="vertical"&&vn(a.props.height)?{height:a.props.height}:c==="horizontal"?{width:a.props.width||i}:null}}])})(k.PureComponent);Fx(Ih,"displayName","Legend");Fx(Ih,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Zb,E5;function x7(){if(E5)return Zb;E5=1;var r=Dg(),e=f4(),n=Hu(),a=r?r.isConcatSpreadable:void 0;function i(s){return n(s)||e(s)||!!(a&&s&&s[a])}return Zb=i,Zb}var Jb,B5;function rk(){if(B5)return Jb;B5=1;var r=$O(),e=x7();function n(a,i,s,c,l){var u=-1,o=a.length;for(s||(s=e),l||(l=[]);++u<o;){var h=a[u];i>0&&s(h)?i>1?n(h,i-1,s,c,l):r(l,h):c||(l[l.length]=h)}return l}return Jb=n,Jb}var ew,I5;function y7(){if(I5)return ew;I5=1;function r(e){return function(n,a,i){for(var s=-1,c=Object(n),l=i(n),u=l.length;u--;){var o=l[e?u:++s];if(a(c[o],o,c)===!1)break}return n}}return ew=r,ew}var tw,T5;function b7(){if(T5)return tw;T5=1;var r=y7(),e=r();return tw=e,tw}var rw,_5;function nk(){if(_5)return rw;_5=1;var r=b7(),e=Px();function n(a,i){return a&&r(a,i,e)}return rw=n,rw}var nw,O5;function w7(){if(O5)return nw;O5=1;var r=Lg();function e(n,a){return function(i,s){if(i==null)return i;if(!r(i))return n(i,s);for(var c=i.length,l=a?c:-1,u=Object(i);(a?l--:++l<c)&&s(u[l],l,u)!==!1;);return i}}return nw=e,nw}var aw,k5;function v4(){if(k5)return aw;k5=1;var r=nk(),e=w7(),n=e(r);return aw=n,aw}var iw,P5;function ak(){if(P5)return iw;P5=1;var r=v4(),e=Lg();function n(a,i){var s=-1,c=e(a)?Array(a.length):[];return r(a,function(l,u,o){c[++s]=i(l,u,o)}),c}return iw=n,iw}var sw,F5;function j7(){if(F5)return sw;F5=1;function r(e,n){var a=e.length;for(e.sort(n);a--;)e[a]=e[a].value;return e}return sw=r,sw}var ow,D5;function C7(){if(D5)return ow;D5=1;var r=Om();function e(n,a){if(n!==a){var i=n!==void 0,s=n===null,c=n===n,l=r(n),u=a!==void 0,o=a===null,h=a===a,d=r(a);if(!o&&!d&&!l&&n>a||l&&u&&h&&!o&&!d||s&&u&&h||!i&&h||!c)return 1;if(!s&&!l&&!d&&n<a||d&&i&&c&&!s&&!l||o&&i&&c||!u&&c||!h)return-1}return 0}return ow=e,ow}var lw,M5;function N7(){if(M5)return lw;M5=1;var r=C7();function e(n,a,i){for(var s=-1,c=n.criteria,l=a.criteria,u=c.length,o=i.length;++s<u;){var h=r(c[s],l[s]);if(h){if(s>=o)return h;var d=i[s];return h*(d=="desc"?-1:1)}}return n.index-a.index}return lw=e,lw}var cw,R5;function S7(){if(R5)return cw;R5=1;var r=a4(),e=i4(),n=Lh(),a=ak(),i=j7(),s=zO(),c=N7(),l=Fm(),u=Hu();function o(h,d,A){d.length?d=r(d,function(m){return u(m)?function(x){return e(x,m.length===1?m[0]:m)}:m}):d=[l];var f=-1;d=r(d,s(n));var g=a(h,function(m,x,y){var b=r(d,function(w){return w(m)});return{criteria:b,index:++f,value:m}});return i(g,function(m,x){return c(m,x,A)})}return cw=o,cw}var uw,L5;function E7(){if(L5)return uw;L5=1;function r(e,n,a){switch(a.length){case 0:return e.call(n);case 1:return e.call(n,a[0]);case 2:return e.call(n,a[0],a[1]);case 3:return e.call(n,a[0],a[1],a[2])}return e.apply(n,a)}return uw=r,uw}var dw,U5;function B7(){if(U5)return dw;U5=1;var r=E7(),e=Math.max;function n(a,i,s){return i=e(i===void 0?a.length-1:i,0),function(){for(var c=arguments,l=-1,u=e(c.length-i,0),o=Array(u);++l<u;)o[l]=c[i+l];l=-1;for(var h=Array(i+1);++l<i;)h[l]=c[l];return h[i]=s(o),r(a,this,h)}}return dw=n,dw}var hw,H5;function I7(){if(H5)return hw;H5=1;function r(e){return function(){return e}}return hw=r,hw}var Aw,Q5;function ik(){if(Q5)return Aw;Q5=1;var r=hp(),e=(function(){try{var n=r(Object,"defineProperty");return n({},"",{}),n}catch{}})();return Aw=e,Aw}var fw,W5;function T7(){if(W5)return fw;W5=1;var r=I7(),e=ik(),n=Fm(),a=e?function(i,s){return e(i,"toString",{configurable:!0,enumerable:!1,value:r(s),writable:!0})}:n;return fw=a,fw}var pw,$5;function _7(){if($5)return pw;$5=1;var r=800,e=16,n=Date.now;function a(i){var s=0,c=0;return function(){var l=n(),u=e-(l-c);if(c=l,u>0){if(++s>=r)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return pw=a,pw}var mw,V5;function O7(){if(V5)return mw;V5=1;var r=T7(),e=_7(),n=e(r);return mw=n,mw}var gw,z5;function k7(){if(z5)return gw;z5=1;var r=Fm(),e=B7(),n=O7();function a(i,s){return n(e(i,s,r),i+"")}return gw=a,gw}var vw,K5;function Dx(){if(K5)return vw;K5=1;var r=t4(),e=Lg(),n=p4(),a=Af();function i(s,c,l){if(!a(l))return!1;var u=typeof c;return(u=="number"?e(l)&&n(c,l.length):u=="string"&&c in l)?r(l[c],s):!1}return vw=i,vw}var xw,G5;function P7(){if(G5)return xw;G5=1;var r=rk(),e=S7(),n=k7(),a=Dx(),i=n(function(s,c){if(s==null)return[];var l=c.length;return l>1&&a(s,c[0],c[1])?c=[]:l>2&&a(c[0],c[1],c[2])&&(c=[c[0]]),e(s,r(c,1),[])});return xw=i,xw}var F7=P7();const x4=ts(F7);function ng(r){"@babel/helpers - typeof";return ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ng(r)}function BC(){return BC=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},BC.apply(this,arguments)}function D7(r,e){return U7(r)||L7(r,e)||R7(r,e)||M7()}function M7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R7(r,e){if(r){if(typeof r=="string")return q5(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q5(r,e)}}function q5(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function L7(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,i,s,c,l=[],u=!0,o=!1;try{if(s=(n=n.call(r)).next,e!==0)for(;!(u=(a=s.call(n)).done)&&(l.push(a.value),l.length!==e);u=!0);}catch(h){o=!0,i=h}finally{try{if(!u&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(o)throw i}}return l}}function U7(r){if(Array.isArray(r))return r}function X5(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function yw(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X5(Object(n),!0).forEach(function(a){H7(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):X5(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function H7(r,e,n){return e=Q7(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function Q7(r){var e=W7(r,"string");return ng(e)=="symbol"?e:e+""}function W7(r,e){if(ng(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(ng(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function $7(r){return Array.isArray(r)&&Zl(r[0])&&Zl(r[1])?r.join(" ~ "):r}var V7=function(e){var n=e.separator,a=n===void 0?" : ":n,i=e.contentStyle,s=i===void 0?{}:i,c=e.itemStyle,l=c===void 0?{}:c,u=e.labelStyle,o=u===void 0?{}:u,h=e.payload,d=e.formatter,A=e.itemSorter,f=e.wrapperClassName,g=e.labelClassName,m=e.label,x=e.labelFormatter,y=e.accessibilityLayer,b=y===void 0?!1:y,w=function(){if(h&&h.length){var Y={padding:0,margin:0},P=(A?x4(h,A):h).map(function(ce,$){if(ce.type==="none")return null;var R=yw({display:"block",paddingTop:4,paddingBottom:4,color:ce.color||"#000"},l),se=ce.formatter||d||$7,fe=ce.value,Te=ce.name,Ie=fe,_e=Te;if(se&&Ie!=null&&_e!=null){var Z=se(fe,Te,ce,$,h);if(Array.isArray(Z)){var Oe=D7(Z,2);Ie=Oe[0],_e=Oe[1]}else Ie=Z}return xt.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat($),style:R},Zl(_e)?xt.createElement("span",{className:"recharts-tooltip-item-name"},_e):null,Zl(_e)?xt.createElement("span",{className:"recharts-tooltip-item-separator"},a):null,xt.createElement("span",{className:"recharts-tooltip-item-value"},Ie),xt.createElement("span",{className:"recharts-tooltip-item-unit"},ce.unit||""))});return xt.createElement("ul",{className:"recharts-tooltip-item-list",style:Y},P)}return null},S=yw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),N=yw({margin:0},o),C=!ci(m),O=C?m:"",W=vi("recharts-default-tooltip",f),K=vi("recharts-tooltip-label",g);C&&x&&h!==void 0&&h!==null&&(O=x(m,h));var te=b?{role:"status","aria-live":"assertive"}:{};return xt.createElement("div",BC({className:W,style:S},te),xt.createElement("p",{className:K,style:N},xt.isValidElement(O)?O:"".concat(O)),w())};function ag(r){"@babel/helpers - typeof";return ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ag(r)}function n1(r,e,n){return e=z7(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function z7(r){var e=K7(r,"string");return ag(e)=="symbol"?e:e+""}function K7(r,e){if(ag(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(ag(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Km="recharts-tooltip-wrapper",G7={visibility:"hidden"};function q7(r){var e=r.coordinate,n=r.translateX,a=r.translateY;return vi(Km,n1(n1(n1(n1({},"".concat(Km,"-right"),vn(n)&&e&&vn(e.x)&&n>=e.x),"".concat(Km,"-left"),vn(n)&&e&&vn(e.x)&&n<e.x),"".concat(Km,"-bottom"),vn(a)&&e&&vn(e.y)&&a>=e.y),"".concat(Km,"-top"),vn(a)&&e&&vn(e.y)&&a<e.y))}function Y5(r){var e=r.allowEscapeViewBox,n=r.coordinate,a=r.key,i=r.offsetTopLeft,s=r.position,c=r.reverseDirection,l=r.tooltipDimension,u=r.viewBox,o=r.viewBoxDimension;if(s&&vn(s[a]))return s[a];var h=n[a]-l-i,d=n[a]+i;if(e[a])return c[a]?h:d;if(c[a]){var A=h,f=u[a];return A<f?Math.max(d,u[a]):Math.max(h,u[a])}var g=d+l,m=u[a]+o;return g>m?Math.max(h,u[a]):Math.max(d,u[a])}function X7(r){var e=r.translateX,n=r.translateY,a=r.useTranslate3d;return{transform:a?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Y7(r){var e=r.allowEscapeViewBox,n=r.coordinate,a=r.offsetTopLeft,i=r.position,s=r.reverseDirection,c=r.tooltipBox,l=r.useTranslate3d,u=r.viewBox,o,h,d;return c.height>0&&c.width>0&&n?(h=Y5({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:a,position:i,reverseDirection:s,tooltipDimension:c.width,viewBox:u,viewBoxDimension:u.width}),d=Y5({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:a,position:i,reverseDirection:s,tooltipDimension:c.height,viewBox:u,viewBoxDimension:u.height}),o=X7({translateX:h,translateY:d,useTranslate3d:l})):o=G7,{cssProperties:o,cssClasses:q7({translateX:h,translateY:d,coordinate:n})}}function sm(r){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sm(r)}function Z5(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function J5(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z5(Object(n),!0).forEach(function(a){TC(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):Z5(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function Z7(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function J7(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,ok(a.key),a)}}function e9(r,e,n){return e&&J7(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function t9(r,e,n){return e=Nv(e),r9(r,sk()?Reflect.construct(e,n||[],Nv(r).constructor):e.apply(r,n))}function r9(r,e){if(e&&(sm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n9(r)}function n9(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function sk(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sk=function(){return!!r})()}function Nv(r){return Nv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nv(r)}function a9(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&IC(r,e)}function IC(r,e){return IC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},IC(r,e)}function TC(r,e,n){return e=ok(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function ok(r){var e=i9(r,"string");return sm(e)=="symbol"?e:e+""}function i9(r,e){if(sm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(sm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var e3=1,s9=(function(r){function e(){var n;Z7(this,e);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=t9(this,e,[].concat(i)),TC(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),TC(n,"handleKeyDown",function(c){if(c.key==="Escape"){var l,u,o,h;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(u=n.props.coordinate)===null||u===void 0?void 0:u.x)!==null&&l!==void 0?l:0,y:(o=(h=n.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&o!==void 0?o:0}})}}),n}return a9(e,r),e9(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();(Math.abs(a.width-this.state.lastBoundingBox.width)>e3||Math.abs(a.height-this.state.lastBoundingBox.height)>e3)&&this.setState({lastBoundingBox:{width:a.width,height:a.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var a,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var a=this,i=this.props,s=i.active,c=i.allowEscapeViewBox,l=i.animationDuration,u=i.animationEasing,o=i.children,h=i.coordinate,d=i.hasPayload,A=i.isAnimationActive,f=i.offset,g=i.position,m=i.reverseDirection,x=i.useTranslate3d,y=i.viewBox,b=i.wrapperStyle,w=Y7({allowEscapeViewBox:c,coordinate:h,offsetTopLeft:f,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:y}),S=w.cssClasses,N=w.cssProperties,C=J5(J5({transition:A&&s?"transform ".concat(l,"ms ").concat(u):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&d?"visible":"hidden",position:"absolute",top:0,left:0},b);return xt.createElement("div",{tabIndex:-1,className:S,style:C,ref:function(W){a.wrapperNode=W}},o)}}])})(k.PureComponent),o9=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ap={isSsr:o9()};function om(r){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},om(r)}function t3(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function r3(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t3(Object(n),!0).forEach(function(a){y4(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):t3(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function l9(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function c9(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,ck(a.key),a)}}function u9(r,e,n){return e&&c9(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function d9(r,e,n){return e=Sv(e),h9(r,lk()?Reflect.construct(e,n||[],Sv(r).constructor):e.apply(r,n))}function h9(r,e){if(e&&(om(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A9(r)}function A9(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function lk(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lk=function(){return!!r})()}function Sv(r){return Sv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sv(r)}function f9(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&_C(r,e)}function _C(r,e){return _C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},_C(r,e)}function y4(r,e,n){return e=ck(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function ck(r){var e=p9(r,"string");return om(e)=="symbol"?e:e+""}function p9(r,e){if(om(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(om(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function m9(r){return r.dataKey}function g9(r,e){return xt.isValidElement(r)?xt.cloneElement(r,e):typeof r=="function"?xt.createElement(r,e):xt.createElement(V7,e)}var ld=(function(r){function e(){return l9(this,e),d9(this,e,arguments)}return f9(e,r),u9(e,[{key:"render",value:function(){var a=this,i=this.props,s=i.active,c=i.allowEscapeViewBox,l=i.animationDuration,u=i.animationEasing,o=i.content,h=i.coordinate,d=i.filterNull,A=i.isAnimationActive,f=i.offset,g=i.payload,m=i.payloadUniqBy,x=i.position,y=i.reverseDirection,b=i.useTranslate3d,w=i.viewBox,S=i.wrapperStyle,N=g??[];d&&N.length&&(N=JO(g.filter(function(O){return O.value!=null&&(O.hide!==!0||a.props.includeHidden)}),m,m9));var C=N.length>0;return xt.createElement(s9,{allowEscapeViewBox:c,animationDuration:l,animationEasing:u,isAnimationActive:A,active:s,coordinate:h,hasPayload:C,offset:f,position:x,reverseDirection:y,useTranslate3d:b,viewBox:w,wrapperStyle:S},g9(o,r3(r3({},this.props),{},{payload:N})))}}])})(k.PureComponent);y4(ld,"displayName","Tooltip");y4(ld,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ap.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var bw,n3;function v9(){if(n3)return bw;n3=1;var r=Rh(),e=function(){return r.Date.now()};return bw=e,bw}var ww,a3;function x9(){if(a3)return ww;a3=1;var r=/\s/;function e(n){for(var a=n.length;a--&&r.test(n.charAt(a)););return a}return ww=e,ww}var jw,i3;function y9(){if(i3)return jw;i3=1;var r=x9(),e=/^\s+/;function n(a){return a&&a.slice(0,r(a)+1).replace(e,"")}return jw=n,jw}var Cw,s3;function uk(){if(s3)return Cw;s3=1;var r=y9(),e=Af(),n=Om(),a=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;function u(o){if(typeof o=="number")return o;if(n(o))return a;if(e(o)){var h=typeof o.valueOf=="function"?o.valueOf():o;o=e(h)?h+"":h}if(typeof o!="string")return o===0?o:+o;o=r(o);var d=s.test(o);return d||c.test(o)?l(o.slice(2),d?2:8):i.test(o)?a:+o}return Cw=u,Cw}var Nw,o3;function b9(){if(o3)return Nw;o3=1;var r=Af(),e=v9(),n=uk(),a="Expected a function",i=Math.max,s=Math.min;function c(l,u,o){var h,d,A,f,g,m,x=0,y=!1,b=!1,w=!0;if(typeof l!="function")throw new TypeError(a);u=n(u)||0,r(o)&&(y=!!o.leading,b="maxWait"in o,A=b?i(n(o.maxWait)||0,u):A,w="trailing"in o?!!o.trailing:w);function S(P){var ce=h,$=d;return h=d=void 0,x=P,f=l.apply($,ce),f}function N(P){return x=P,g=setTimeout(W,u),y?S(P):f}function C(P){var ce=P-m,$=P-x,R=u-ce;return b?s(R,A-$):R}function O(P){var ce=P-m,$=P-x;return m===void 0||ce>=u||ce<0||b&&$>=A}function W(){var P=e();if(O(P))return K(P);g=setTimeout(W,C(P))}function K(P){return g=void 0,w&&h?S(P):(h=d=void 0,f)}function te(){g!==void 0&&clearTimeout(g),x=0,h=m=d=g=void 0}function q(){return g===void 0?f:K(e())}function Y(){var P=e(),ce=O(P);if(h=arguments,d=this,m=P,ce){if(g===void 0)return N(m);if(b)return clearTimeout(g),g=setTimeout(W,u),S(m)}return g===void 0&&(g=setTimeout(W,u)),f}return Y.cancel=te,Y.flush=q,Y}return Nw=c,Nw}var Sw,l3;function w9(){if(l3)return Sw;l3=1;var r=b9(),e=Af(),n="Expected a function";function a(i,s,c){var l=!0,u=!0;if(typeof i!="function")throw new TypeError(n);return e(c)&&(l="leading"in c?!!c.leading:l,u="trailing"in c?!!c.trailing:u),r(i,s,{leading:l,maxWait:s,trailing:u})}return Sw=a,Sw}var j9=w9();const dk=ts(j9);function ig(r){"@babel/helpers - typeof";return ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ig(r)}function c3(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function a1(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c3(Object(n),!0).forEach(function(a){C9(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):c3(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function C9(r,e,n){return e=N9(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function N9(r){var e=S9(r,"string");return ig(e)=="symbol"?e:e+""}function S9(r,e){if(ig(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(ig(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function E9(r,e){return _9(r)||T9(r,e)||I9(r,e)||B9()}function B9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I9(r,e){if(r){if(typeof r=="string")return u3(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u3(r,e)}}function u3(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function T9(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,i,s,c,l=[],u=!0,o=!1;try{if(s=(n=n.call(r)).next,e!==0)for(;!(u=(a=s.call(n)).done)&&(l.push(a.value),l.length!==e);u=!0);}catch(h){o=!0,i=h}finally{try{if(!u&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(o)throw i}}return l}}function _9(r){if(Array.isArray(r))return r}var O9=k.forwardRef(function(r,e){var n=r.aspect,a=r.initialDimension,i=a===void 0?{width:-1,height:-1}:a,s=r.width,c=s===void 0?"100%":s,l=r.height,u=l===void 0?"100%":l,o=r.minWidth,h=o===void 0?0:o,d=r.minHeight,A=r.maxHeight,f=r.children,g=r.debounce,m=g===void 0?0:g,x=r.id,y=r.className,b=r.onResize,w=r.style,S=w===void 0?{}:w,N=k.useRef(null),C=k.useRef();C.current=b,k.useImperativeHandle(e,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var O=k.useState({containerWidth:i.width,containerHeight:i.height}),W=E9(O,2),K=W[0],te=W[1],q=k.useCallback(function(P,ce){te(function($){var R=Math.round(P),se=Math.round(ce);return $.containerWidth===R&&$.containerHeight===se?$:{containerWidth:R,containerHeight:se}})},[]);k.useEffect(function(){var P=function(Te){var Ie,_e=Te[0].contentRect,Z=_e.width,Oe=_e.height;q(Z,Oe),(Ie=C.current)===null||Ie===void 0||Ie.call(C,Z,Oe)};m>0&&(P=dk(P,m,{trailing:!0,leading:!1}));var ce=new ResizeObserver(P),$=N.current.getBoundingClientRect(),R=$.width,se=$.height;return q(R,se),ce.observe(N.current),function(){ce.disconnect()}},[q,m]);var Y=k.useMemo(function(){var P=K.containerWidth,ce=K.containerHeight;if(P<0||ce<0)return null;fh(Xf(c)||Xf(u),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,c,u),fh(!n||n>0,"The aspect(%s) must be greater than zero.",n);var $=Xf(c)?P:c,R=Xf(u)?ce:u;n&&n>0&&($?R=$/n:R&&($=R*n),A&&R>A&&(R=A)),fh($>0||R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,R,c,u,h,d,n);var se=!Array.isArray(f)&&fA(f.type).endsWith("Chart");return xt.Children.map(f,function(fe){return xt.isValidElement(fe)?k.cloneElement(fe,a1({width:$,height:R},se?{style:a1({height:"100%",width:"100%",maxHeight:R,maxWidth:$},fe.props.style)}:{})):fe})},[n,f,u,A,d,h,K,c]);return xt.createElement("div",{id:x?"".concat(x):void 0,className:vi("recharts-responsive-container",y),style:a1(a1({},S),{},{width:c,height:u,minWidth:h,minHeight:d,maxHeight:A}),ref:N},Y)}),Mx=function(e){return null};Mx.displayName="Cell";function sg(r){"@babel/helpers - typeof";return sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sg(r)}function d3(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function OC(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d3(Object(n),!0).forEach(function(a){k9(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):d3(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function k9(r,e,n){return e=P9(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function P9(r){var e=F9(r,"string");return sg(e)=="symbol"?e:e+""}function F9(r,e){if(sg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(sg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var _p={widthCache:{},cacheCount:0},D9=2e3,M9={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},h3="recharts_measurement_span";function R9(r){var e=OC({},r);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var $0=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ap.isSsr)return{width:0,height:0};var a=R9(n),i=JSON.stringify({text:e,copyStyle:a});if(_p.widthCache[i])return _p.widthCache[i];try{var s=document.getElementById(h3);s||(s=document.createElement("span"),s.setAttribute("id",h3),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var c=OC(OC({},M9),a);Object.assign(s.style,c),s.textContent="".concat(e);var l=s.getBoundingClientRect(),u={width:l.width,height:l.height};return _p.widthCache[i]=u,++_p.cacheCount>D9&&(_p.cacheCount=0,_p.widthCache={}),u}catch{return{width:0,height:0}}},L9=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function og(r){"@babel/helpers - typeof";return og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},og(r)}function Ev(r,e){return W9(r)||Q9(r,e)||H9(r,e)||U9()}function U9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H9(r,e){if(r){if(typeof r=="string")return A3(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A3(r,e)}}function A3(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function Q9(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,i,s,c,l=[],u=!0,o=!1;try{if(s=(n=n.call(r)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(a=s.call(n)).done)&&(l.push(a.value),l.length!==e);u=!0);}catch(h){o=!0,i=h}finally{try{if(!u&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(o)throw i}}return l}}function W9(r){if(Array.isArray(r))return r}function $9(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function f3(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,z9(a.key),a)}}function V9(r,e,n){return e&&f3(r.prototype,e),n&&f3(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function z9(r){var e=K9(r,"string");return og(e)=="symbol"?e:e+""}function K9(r,e){if(og(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(og(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var p3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,m3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,G9=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,q9=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,hk={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},X9=Object.keys(hk),Qp="NaN";function Y9(r,e){return r*hk[e]}var i1=(function(){function r(e,n){$9(this,r),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!G9.test(n)&&(this.num=NaN,this.unit=""),X9.includes(n)&&(this.num=Y9(e,n),this.unit="px")}return V9(r,[{key:"add",value:function(n){return this.unit!==n.unit?new r(NaN,""):new r(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new r(NaN,""):new r(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new r(NaN,""):new r(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new r(NaN,""):new r(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var a,i=(a=q9.exec(n))!==null&&a!==void 0?a:[],s=Ev(i,3),c=s[1],l=s[2];return new r(parseFloat(c),l??"")}}])})();function Ak(r){if(r.includes(Qp))return Qp;for(var e=r;e.includes("*")||e.includes("/");){var n,a=(n=p3.exec(e))!==null&&n!==void 0?n:[],i=Ev(a,4),s=i[1],c=i[2],l=i[3],u=i1.parse(s??""),o=i1.parse(l??""),h=c==="*"?u.multiply(o):u.divide(o);if(h.isNaN())return Qp;e=e.replace(p3,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,A=(d=m3.exec(e))!==null&&d!==void 0?d:[],f=Ev(A,4),g=f[1],m=f[2],x=f[3],y=i1.parse(g??""),b=i1.parse(x??""),w=m==="+"?y.add(b):y.subtract(b);if(w.isNaN())return Qp;e=e.replace(m3,w.toString())}return e}var g3=/\(([^()]*)\)/;function Z9(r){for(var e=r;e.includes("(");){var n=g3.exec(e),a=Ev(n,2),i=a[1];e=e.replace(g3,Ak(i))}return e}function J9(r){var e=r.replace(/\s+/g,"");return e=Z9(e),e=Ak(e),e}function eH(r){try{return J9(r)}catch{return Qp}}function Ew(r){var e=eH(r.slice(5,-1));return e===Qp?"":e}var tH=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],rH=["dx","dy","angle","className","breakAll"];function kC(){return kC=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},kC.apply(this,arguments)}function v3(r,e){if(r==null)return{};var n=nH(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function nH(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function x3(r,e){return oH(r)||sH(r,e)||iH(r,e)||aH()}function aH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iH(r,e){if(r){if(typeof r=="string")return y3(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y3(r,e)}}function y3(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function sH(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,i,s,c,l=[],u=!0,o=!1;try{if(s=(n=n.call(r)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(a=s.call(n)).done)&&(l.push(a.value),l.length!==e);u=!0);}catch(h){o=!0,i=h}finally{try{if(!u&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(o)throw i}}return l}}function oH(r){if(Array.isArray(r))return r}var fk=/[ \f\n\r\t\v\u2028\u2029]+/,pk=function(e){var n=e.children,a=e.breakAll,i=e.style;try{var s=[];ci(n)||(a?s=n.toString().split(""):s=n.toString().split(fk));var c=s.map(function(u){return{word:u,width:$0(u,i).width}}),l=a?0:$0("",i).width;return{wordsWithComputedWidth:c,spaceWidth:l}}catch{return null}},lH=function(e,n,a,i,s){var c=e.maxLines,l=e.children,u=e.style,o=e.breakAll,h=vn(c),d=l,A=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $.reduce(function(R,se){var fe=se.word,Te=se.width,Ie=R[R.length-1];if(Ie&&(i==null||s||Ie.width+Te+a<Number(i)))Ie.words.push(fe),Ie.width+=Te+a;else{var _e={words:[fe],width:Te};R.push(_e)}return R},[])},f=A(n),g=function($){return $.reduce(function(R,se){return R.width>se.width?R:se})};if(!h)return f;for(var m="",x=function($){var R=d.slice(0,$),se=pk({breakAll:o,style:u,children:R+m}).wordsWithComputedWidth,fe=A(se),Te=fe.length>c||g(fe).width>Number(i);return[Te,fe]},y=0,b=d.length-1,w=0,S;y<=b&&w<=d.length-1;){var N=Math.floor((y+b)/2),C=N-1,O=x(C),W=x3(O,2),K=W[0],te=W[1],q=x(N),Y=x3(q,1),P=Y[0];if(!K&&!P&&(y=N+1),K&&P&&(b=N-1),!K&&P){S=te;break}w++}return S||f},b3=function(e){var n=ci(e)?[]:e.toString().split(fk);return[{words:n}]},cH=function(e){var n=e.width,a=e.scaleToFit,i=e.children,s=e.style,c=e.breakAll,l=e.maxLines;if((n||a)&&!Ap.isSsr){var u,o,h=pk({breakAll:c,children:i,style:s});if(h){var d=h.wordsWithComputedWidth,A=h.spaceWidth;u=d,o=A}else return b3(i);return lH({breakAll:c,children:i,maxLines:l,style:s},u,o,n,a)}return b3(i)},w3="#808080",lp=function(e){var n=e.x,a=n===void 0?0:n,i=e.y,s=i===void 0?0:i,c=e.lineHeight,l=c===void 0?"1em":c,u=e.capHeight,o=u===void 0?"0.71em":u,h=e.scaleToFit,d=h===void 0?!1:h,A=e.textAnchor,f=A===void 0?"start":A,g=e.verticalAnchor,m=g===void 0?"end":g,x=e.fill,y=x===void 0?w3:x,b=v3(e,tH),w=k.useMemo(function(){return cH({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:d,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,d,b.style,b.width]),S=b.dx,N=b.dy,C=b.angle,O=b.className,W=b.breakAll,K=v3(b,rH);if(!Zl(a)||!Zl(s))return null;var te=a+(vn(S)?S:0),q=s+(vn(N)?N:0),Y;switch(m){case"start":Y=Ew("calc(".concat(o,")"));break;case"middle":Y=Ew("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(o," / 2))"));break;default:Y=Ew("calc(".concat(w.length-1," * -").concat(l,")"));break}var P=[];if(d){var ce=w[0].width,$=b.width;P.push("scale(".concat((vn($)?$/ce:1)/ce,")"))}return C&&P.push("rotate(".concat(C,", ").concat(te,", ").concat(q,")")),P.length&&(K.transform=P.join(" ")),xt.createElement("text",kC({},ka(K,!0),{x:te,y:q,className:vi("recharts-text",O),textAnchor:f,fill:y.includes("url")?w3:y}),w.map(function(R,se){var fe=R.words.join(W?"":" ");return xt.createElement("tspan",{x:te,dy:se===0?Y:l,key:"".concat(fe,"-").concat(se)},fe)}))};function of(r,e){return r==null||e==null?NaN:r<e?-1:r>e?1:r>=e?0:NaN}function uH(r,e){return r==null||e==null?NaN:e<r?-1:e>r?1:e>=r?0:NaN}function b4(r){let e,n,a;r.length!==2?(e=of,n=(l,u)=>of(r(l),u),a=(l,u)=>r(l)-u):(e=r===of||r===uH?r:dH,n=r,a=r);function i(l,u,o=0,h=l.length){if(o<h){if(e(u,u)!==0)return h;do{const d=o+h>>>1;n(l[d],u)<0?o=d+1:h=d}while(o<h)}return o}function s(l,u,o=0,h=l.length){if(o<h){if(e(u,u)!==0)return h;do{const d=o+h>>>1;n(l[d],u)<=0?o=d+1:h=d}while(o<h)}return o}function c(l,u,o=0,h=l.length){const d=i(l,u,o,h-1);return d>o&&a(l[d-1],u)>-a(l[d],u)?d-1:d}return{left:i,center:c,right:s}}function dH(){return 0}function mk(r){return r===null?NaN:+r}function*hH(r,e){for(let n of r)n!=null&&(n=+n)>=n&&(yield n)}const AH=b4(of),Ug=AH.right;b4(mk).center;class j3 extends Map{constructor(e,n=mH){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[a,i]of e)this.set(a,i)}get(e){return super.get(C3(this,e))}has(e){return super.has(C3(this,e))}set(e,n){return super.set(fH(this,e),n)}delete(e){return super.delete(pH(this,e))}}function C3({_intern:r,_key:e},n){const a=e(n);return r.has(a)?r.get(a):n}function fH({_intern:r,_key:e},n){const a=e(n);return r.has(a)?r.get(a):(r.set(a,n),n)}function pH({_intern:r,_key:e},n){const a=e(n);return r.has(a)&&(n=r.get(a),r.delete(a)),n}function mH(r){return r!==null&&typeof r=="object"?r.valueOf():r}function gH(r=of){if(r===of)return gk;if(typeof r!="function")throw new TypeError("compare is not a function");return(e,n)=>{const a=r(e,n);return a||a===0?a:(r(n,n)===0)-(r(e,e)===0)}}function gk(r,e){return(r==null||!(r>=r))-(e==null||!(e>=e))||(r<e?-1:r>e?1:0)}const vH=Math.sqrt(50),xH=Math.sqrt(10),yH=Math.sqrt(2);function Bv(r,e,n){const a=(e-r)/Math.max(0,n),i=Math.floor(Math.log10(a)),s=a/Math.pow(10,i),c=s>=vH?10:s>=xH?5:s>=yH?2:1;let l,u,o;return i<0?(o=Math.pow(10,-i)/c,l=Math.round(r*o),u=Math.round(e*o),l/o<r&&++l,u/o>e&&--u,o=-o):(o=Math.pow(10,i)*c,l=Math.round(r/o),u=Math.round(e/o),l*o<r&&++l,u*o>e&&--u),u<l&&.5<=n&&n<2?Bv(r,e,n*2):[l,u,o]}function PC(r,e,n){if(e=+e,r=+r,n=+n,!(n>0))return[];if(r===e)return[r];const a=e<r,[i,s,c]=a?Bv(e,r,n):Bv(r,e,n);if(!(s>=i))return[];const l=s-i+1,u=new Array(l);if(a)if(c<0)for(let o=0;o<l;++o)u[o]=(s-o)/-c;else for(let o=0;o<l;++o)u[o]=(s-o)*c;else if(c<0)for(let o=0;o<l;++o)u[o]=(i+o)/-c;else for(let o=0;o<l;++o)u[o]=(i+o)*c;return u}function FC(r,e,n){return e=+e,r=+r,n=+n,Bv(r,e,n)[2]}function DC(r,e,n){e=+e,r=+r,n=+n;const a=e<r,i=a?FC(e,r,n):FC(r,e,n);return(a?-1:1)*(i<0?1/-i:i)}function N3(r,e){let n;for(const a of r)a!=null&&(n<a||n===void 0&&a>=a)&&(n=a);return n}function S3(r,e){let n;for(const a of r)a!=null&&(n>a||n===void 0&&a>=a)&&(n=a);return n}function vk(r,e,n=0,a=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),a=Math.floor(Math.min(r.length-1,a)),!(n<=e&&e<=a))return r;for(i=i===void 0?gk:gH(i);a>n;){if(a-n>600){const u=a-n+1,o=e-n+1,h=Math.log(u),d=.5*Math.exp(2*h/3),A=.5*Math.sqrt(h*d*(u-d)/u)*(o-u/2<0?-1:1),f=Math.max(n,Math.floor(e-o*d/u+A)),g=Math.min(a,Math.floor(e+(u-o)*d/u+A));vk(r,e,f,g,i)}const s=r[e];let c=n,l=a;for(Gm(r,n,e),i(r[a],s)>0&&Gm(r,n,a);c<l;){for(Gm(r,c,l),++c,--l;i(r[c],s)<0;)++c;for(;i(r[l],s)>0;)--l}i(r[n],s)===0?Gm(r,n,l):(++l,Gm(r,l,a)),l<=e&&(n=l+1),e<=l&&(a=l-1)}return r}function Gm(r,e,n){const a=r[e];r[e]=r[n],r[n]=a}function bH(r,e,n){if(r=Float64Array.from(hH(r)),!(!(a=r.length)||isNaN(e=+e))){if(e<=0||a<2)return S3(r);if(e>=1)return N3(r);var a,i=(a-1)*e,s=Math.floor(i),c=N3(vk(r,s).subarray(0,s+1)),l=S3(r.subarray(s+1));return c+(l-c)*(i-s)}}function wH(r,e,n=mk){if(!(!(a=r.length)||isNaN(e=+e))){if(e<=0||a<2)return+n(r[0],0,r);if(e>=1)return+n(r[a-1],a-1,r);var a,i=(a-1)*e,s=Math.floor(i),c=+n(r[s],s,r),l=+n(r[s+1],s+1,r);return c+(l-c)*(i-s)}}function jH(r,e,n){r=+r,e=+e,n=(i=arguments.length)<2?(e=r,r=0,1):i<3?1:+n;for(var a=-1,i=Math.max(0,Math.ceil((e-r)/n))|0,s=new Array(i);++a<i;)s[a]=r+a*n;return s}function zd(r,e){switch(arguments.length){case 0:break;case 1:this.range(r);break;default:this.range(e).domain(r);break}return this}function jA(r,e){switch(arguments.length){case 0:break;case 1:{typeof r=="function"?this.interpolator(r):this.range(r);break}default:{this.domain(r),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const MC=Symbol("implicit");function w4(){var r=new j3,e=[],n=[],a=MC;function i(s){let c=r.get(s);if(c===void 0){if(a!==MC)return a;r.set(s,c=e.push(s)-1)}return n[c%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],r=new j3;for(const c of s)r.has(c)||r.set(c,e.push(c)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(a=s,i):a},i.copy=function(){return w4(e,n).unknown(a)},zd.apply(i,arguments),i}function lg(){var r=w4().unknown(void 0),e=r.domain,n=r.range,a=0,i=1,s,c,l=!1,u=0,o=0,h=.5;delete r.unknown;function d(){var A=e().length,f=i<a,g=f?i:a,m=f?a:i;s=(m-g)/Math.max(1,A-u+o*2),l&&(s=Math.floor(s)),g+=(m-g-s*(A-u))*h,c=s*(1-u),l&&(g=Math.round(g),c=Math.round(c));var x=jH(A).map(function(y){return g+s*y});return n(f?x.reverse():x)}return r.domain=function(A){return arguments.length?(e(A),d()):e()},r.range=function(A){return arguments.length?([a,i]=A,a=+a,i=+i,d()):[a,i]},r.rangeRound=function(A){return[a,i]=A,a=+a,i=+i,l=!0,d()},r.bandwidth=function(){return c},r.step=function(){return s},r.round=function(A){return arguments.length?(l=!!A,d()):l},r.padding=function(A){return arguments.length?(u=Math.min(1,o=+A),d()):u},r.paddingInner=function(A){return arguments.length?(u=Math.min(1,A),d()):u},r.paddingOuter=function(A){return arguments.length?(o=+A,d()):o},r.align=function(A){return arguments.length?(h=Math.max(0,Math.min(1,A)),d()):h},r.copy=function(){return lg(e(),[a,i]).round(l).paddingInner(u).paddingOuter(o).align(h)},zd.apply(d(),arguments)}function xk(r){var e=r.copy;return r.padding=r.paddingOuter,delete r.paddingInner,delete r.paddingOuter,r.copy=function(){return xk(e())},r}function V0(){return xk(lg.apply(null,arguments).paddingInner(1))}function j4(r,e,n){r.prototype=e.prototype=n,n.constructor=r}function yk(r,e){var n=Object.create(r.prototype);for(var a in e)n[a]=e[a];return n}function Hg(){}var cg=.7,Iv=1/cg,tm="\\s*([+-]?\\d+)\\s*",ug="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",kh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",CH=/^#([0-9a-f]{3,8})$/,NH=new RegExp(`^rgb\\(${tm},${tm},${tm}\\)$`),SH=new RegExp(`^rgb\\(${kh},${kh},${kh}\\)$`),EH=new RegExp(`^rgba\\(${tm},${tm},${tm},${ug}\\)$`),BH=new RegExp(`^rgba\\(${kh},${kh},${kh},${ug}\\)$`),IH=new RegExp(`^hsl\\(${ug},${kh},${kh}\\)$`),TH=new RegExp(`^hsla\\(${ug},${kh},${kh},${ug}\\)$`),E3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};j4(Hg,dg,{copy(r){return Object.assign(new this.constructor,this,r)},displayable(){return this.rgb().displayable()},hex:B3,formatHex:B3,formatHex8:_H,formatHsl:OH,formatRgb:I3,toString:I3});function B3(){return this.rgb().formatHex()}function _H(){return this.rgb().formatHex8()}function OH(){return bk(this).formatHsl()}function I3(){return this.rgb().formatRgb()}function dg(r){var e,n;return r=(r+"").trim().toLowerCase(),(e=CH.exec(r))?(n=e[1].length,e=parseInt(e[1],16),n===6?T3(e):n===3?new Uu(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?s1(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?s1(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=NH.exec(r))?new Uu(e[1],e[2],e[3],1):(e=SH.exec(r))?new Uu(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=EH.exec(r))?s1(e[1],e[2],e[3],e[4]):(e=BH.exec(r))?s1(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=IH.exec(r))?k3(e[1],e[2]/100,e[3]/100,1):(e=TH.exec(r))?k3(e[1],e[2]/100,e[3]/100,e[4]):E3.hasOwnProperty(r)?T3(E3[r]):r==="transparent"?new Uu(NaN,NaN,NaN,0):null}function T3(r){return new Uu(r>>16&255,r>>8&255,r&255,1)}function s1(r,e,n,a){return a<=0&&(r=e=n=NaN),new Uu(r,e,n,a)}function kH(r){return r instanceof Hg||(r=dg(r)),r?(r=r.rgb(),new Uu(r.r,r.g,r.b,r.opacity)):new Uu}function RC(r,e,n,a){return arguments.length===1?kH(r):new Uu(r,e,n,a??1)}function Uu(r,e,n,a){this.r=+r,this.g=+e,this.b=+n,this.opacity=+a}j4(Uu,RC,yk(Hg,{brighter(r){return r=r==null?Iv:Math.pow(Iv,r),new Uu(this.r*r,this.g*r,this.b*r,this.opacity)},darker(r){return r=r==null?cg:Math.pow(cg,r),new Uu(this.r*r,this.g*r,this.b*r,this.opacity)},rgb(){return this},clamp(){return new Uu(rp(this.r),rp(this.g),rp(this.b),Tv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_3,formatHex:_3,formatHex8:PH,formatRgb:O3,toString:O3}));function _3(){return`#${Yf(this.r)}${Yf(this.g)}${Yf(this.b)}`}function PH(){return`#${Yf(this.r)}${Yf(this.g)}${Yf(this.b)}${Yf((isNaN(this.opacity)?1:this.opacity)*255)}`}function O3(){const r=Tv(this.opacity);return`${r===1?"rgb(":"rgba("}${rp(this.r)}, ${rp(this.g)}, ${rp(this.b)}${r===1?")":`, ${r})`}`}function Tv(r){return isNaN(r)?1:Math.max(0,Math.min(1,r))}function rp(r){return Math.max(0,Math.min(255,Math.round(r)||0))}function Yf(r){return r=rp(r),(r<16?"0":"")+r.toString(16)}function k3(r,e,n,a){return a<=0?r=e=n=NaN:n<=0||n>=1?r=e=NaN:e<=0&&(r=NaN),new dh(r,e,n,a)}function bk(r){if(r instanceof dh)return new dh(r.h,r.s,r.l,r.opacity);if(r instanceof Hg||(r=dg(r)),!r)return new dh;if(r instanceof dh)return r;r=r.rgb();var e=r.r/255,n=r.g/255,a=r.b/255,i=Math.min(e,n,a),s=Math.max(e,n,a),c=NaN,l=s-i,u=(s+i)/2;return l?(e===s?c=(n-a)/l+(n<a)*6:n===s?c=(a-e)/l+2:c=(e-n)/l+4,l/=u<.5?s+i:2-s-i,c*=60):l=u>0&&u<1?0:c,new dh(c,l,u,r.opacity)}function FH(r,e,n,a){return arguments.length===1?bk(r):new dh(r,e,n,a??1)}function dh(r,e,n,a){this.h=+r,this.s=+e,this.l=+n,this.opacity=+a}j4(dh,FH,yk(Hg,{brighter(r){return r=r==null?Iv:Math.pow(Iv,r),new dh(this.h,this.s,this.l*r,this.opacity)},darker(r){return r=r==null?cg:Math.pow(cg,r),new dh(this.h,this.s,this.l*r,this.opacity)},rgb(){var r=this.h%360+(this.h<0)*360,e=isNaN(r)||isNaN(this.s)?0:this.s,n=this.l,a=n+(n<.5?n:1-n)*e,i=2*n-a;return new Uu(Bw(r>=240?r-240:r+120,i,a),Bw(r,i,a),Bw(r<120?r+240:r-120,i,a),this.opacity)},clamp(){return new dh(P3(this.h),o1(this.s),o1(this.l),Tv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const r=Tv(this.opacity);return`${r===1?"hsl(":"hsla("}${P3(this.h)}, ${o1(this.s)*100}%, ${o1(this.l)*100}%${r===1?")":`, ${r})`}`}}));function P3(r){return r=(r||0)%360,r<0?r+360:r}function o1(r){return Math.max(0,Math.min(1,r||0))}function Bw(r,e,n){return(r<60?e+(n-e)*r/60:r<180?n:r<240?e+(n-e)*(240-r)/60:e)*255}const C4=r=>()=>r;function DH(r,e){return function(n){return r+n*e}}function MH(r,e,n){return r=Math.pow(r,n),e=Math.pow(e,n)-r,n=1/n,function(a){return Math.pow(r+a*e,n)}}function RH(r){return(r=+r)==1?wk:function(e,n){return n-e?MH(e,n,r):C4(isNaN(e)?n:e)}}function wk(r,e){var n=e-r;return n?DH(r,n):C4(isNaN(r)?e:r)}const F3=(function r(e){var n=RH(e);function a(i,s){var c=n((i=RC(i)).r,(s=RC(s)).r),l=n(i.g,s.g),u=n(i.b,s.b),o=wk(i.opacity,s.opacity);return function(h){return i.r=c(h),i.g=l(h),i.b=u(h),i.opacity=o(h),i+""}}return a.gamma=r,a})(1);function LH(r,e){e||(e=[]);var n=r?Math.min(e.length,r.length):0,a=e.slice(),i;return function(s){for(i=0;i<n;++i)a[i]=r[i]*(1-s)+e[i]*s;return a}}function UH(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}function HH(r,e){var n=e?e.length:0,a=r?Math.min(n,r.length):0,i=new Array(a),s=new Array(n),c;for(c=0;c<a;++c)i[c]=Dm(r[c],e[c]);for(;c<n;++c)s[c]=e[c];return function(l){for(c=0;c<a;++c)s[c]=i[c](l);return s}}function QH(r,e){var n=new Date;return r=+r,e=+e,function(a){return n.setTime(r*(1-a)+e*a),n}}function _v(r,e){return r=+r,e=+e,function(n){return r*(1-n)+e*n}}function WH(r,e){var n={},a={},i;(r===null||typeof r!="object")&&(r={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in r?n[i]=Dm(r[i],e[i]):a[i]=e[i];return function(s){for(i in n)a[i]=n[i](s);return a}}var LC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Iw=new RegExp(LC.source,"g");function $H(r){return function(){return r}}function VH(r){return function(e){return r(e)+""}}function zH(r,e){var n=LC.lastIndex=Iw.lastIndex=0,a,i,s,c=-1,l=[],u=[];for(r=r+"",e=e+"";(a=LC.exec(r))&&(i=Iw.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),l[c]?l[c]+=s:l[++c]=s),(a=a[0])===(i=i[0])?l[c]?l[c]+=i:l[++c]=i:(l[++c]=null,u.push({i:c,x:_v(a,i)})),n=Iw.lastIndex;return n<e.length&&(s=e.slice(n),l[c]?l[c]+=s:l[++c]=s),l.length<2?u[0]?VH(u[0].x):$H(e):(e=u.length,function(o){for(var h=0,d;h<e;++h)l[(d=u[h]).i]=d.x(o);return l.join("")})}function Dm(r,e){var n=typeof e,a;return e==null||n==="boolean"?C4(e):(n==="number"?_v:n==="string"?(a=dg(e))?(e=a,F3):zH:e instanceof dg?F3:e instanceof Date?QH:UH(e)?LH:Array.isArray(e)?HH:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?WH:_v)(r,e)}function N4(r,e){return r=+r,e=+e,function(n){return Math.round(r*(1-n)+e*n)}}function KH(r,e){e===void 0&&(e=r,r=Dm);for(var n=0,a=e.length-1,i=e[0],s=new Array(a<0?0:a);n<a;)s[n]=r(i,i=e[++n]);return function(c){var l=Math.max(0,Math.min(a-1,Math.floor(c*=a)));return s[l](c-l)}}function GH(r){return function(){return r}}function Ov(r){return+r}var D3=[0,1];function Cu(r){return r}function UC(r,e){return(e-=r=+r)?function(n){return(n-r)/e}:GH(isNaN(e)?NaN:.5)}function qH(r,e){var n;return r>e&&(n=r,r=e,e=n),function(a){return Math.max(r,Math.min(e,a))}}function XH(r,e,n){var a=r[0],i=r[1],s=e[0],c=e[1];return i<a?(a=UC(i,a),s=n(c,s)):(a=UC(a,i),s=n(s,c)),function(l){return s(a(l))}}function YH(r,e,n){var a=Math.min(r.length,e.length)-1,i=new Array(a),s=new Array(a),c=-1;for(r[a]<r[0]&&(r=r.slice().reverse(),e=e.slice().reverse());++c<a;)i[c]=UC(r[c],r[c+1]),s[c]=n(e[c],e[c+1]);return function(l){var u=Ug(r,l,1,a)-1;return s[u](i[u](l))}}function Qg(r,e){return e.domain(r.domain()).range(r.range()).interpolate(r.interpolate()).clamp(r.clamp()).unknown(r.unknown())}function Rx(){var r=D3,e=D3,n=Dm,a,i,s,c=Cu,l,u,o;function h(){var A=Math.min(r.length,e.length);return c!==Cu&&(c=qH(r[0],r[A-1])),l=A>2?YH:XH,u=o=null,d}function d(A){return A==null||isNaN(A=+A)?s:(u||(u=l(r.map(a),e,n)))(a(c(A)))}return d.invert=function(A){return c(i((o||(o=l(e,r.map(a),_v)))(A)))},d.domain=function(A){return arguments.length?(r=Array.from(A,Ov),h()):r.slice()},d.range=function(A){return arguments.length?(e=Array.from(A),h()):e.slice()},d.rangeRound=function(A){return e=Array.from(A),n=N4,h()},d.clamp=function(A){return arguments.length?(c=A?!0:Cu,h()):c!==Cu},d.interpolate=function(A){return arguments.length?(n=A,h()):n},d.unknown=function(A){return arguments.length?(s=A,d):s},function(A,f){return a=A,i=f,h()}}function S4(){return Rx()(Cu,Cu)}function ZH(r){return Math.abs(r=Math.round(r))>=1e21?r.toLocaleString("en").replace(/,/g,""):r.toString(10)}function kv(r,e){if(!isFinite(r)||r===0)return null;var n=(r=e?r.toExponential(e-1):r.toExponential()).indexOf("e"),a=r.slice(0,n);return[a.length>1?a[0]+a.slice(2):a,+r.slice(n+1)]}function lm(r){return r=kv(Math.abs(r)),r?r[1]:NaN}function JH(r,e){return function(n,a){for(var i=n.length,s=[],c=0,l=r[0],u=0;i>0&&l>0&&(u+l+1>a&&(l=Math.max(1,a-u)),s.push(n.substring(i-=l,i+l)),!((u+=l+1)>a));)l=r[c=(c+1)%r.length];return s.reverse().join(e)}}function eQ(r){return function(e){return e.replace(/[0-9]/g,function(n){return r[+n]})}}var tQ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function hg(r){if(!(e=tQ.exec(r)))throw new Error("invalid format: "+r);var e;return new E4({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}hg.prototype=E4.prototype;function E4(r){this.fill=r.fill===void 0?" ":r.fill+"",this.align=r.align===void 0?">":r.align+"",this.sign=r.sign===void 0?"-":r.sign+"",this.symbol=r.symbol===void 0?"":r.symbol+"",this.zero=!!r.zero,this.width=r.width===void 0?void 0:+r.width,this.comma=!!r.comma,this.precision=r.precision===void 0?void 0:+r.precision,this.trim=!!r.trim,this.type=r.type===void 0?"":r.type+""}E4.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function rQ(r){e:for(var e=r.length,n=1,a=-1,i;n<e;++n)switch(r[n]){case".":a=i=n;break;case"0":a===0&&(a=n),i=n;break;default:if(!+r[n])break e;a>0&&(a=0);break}return a>0?r.slice(0,a)+r.slice(i+1):r}var Pv;function nQ(r,e){var n=kv(r,e);if(!n)return Pv=void 0,r.toPrecision(e);var a=n[0],i=n[1],s=i-(Pv=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,c=a.length;return s===c?a:s>c?a+new Array(s-c+1).join("0"):s>0?a.slice(0,s)+"."+a.slice(s):"0."+new Array(1-s).join("0")+kv(r,Math.max(0,e+s-1))[0]}function M3(r,e){var n=kv(r,e);if(!n)return r+"";var a=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+a:a.length>i+1?a.slice(0,i+1)+"."+a.slice(i+1):a+new Array(i-a.length+2).join("0")}const R3={"%":(r,e)=>(r*100).toFixed(e),b:r=>Math.round(r).toString(2),c:r=>r+"",d:ZH,e:(r,e)=>r.toExponential(e),f:(r,e)=>r.toFixed(e),g:(r,e)=>r.toPrecision(e),o:r=>Math.round(r).toString(8),p:(r,e)=>M3(r*100,e),r:M3,s:nQ,X:r=>Math.round(r).toString(16).toUpperCase(),x:r=>Math.round(r).toString(16)};function L3(r){return r}var U3=Array.prototype.map,H3=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function aQ(r){var e=r.grouping===void 0||r.thousands===void 0?L3:JH(U3.call(r.grouping,Number),r.thousands+""),n=r.currency===void 0?"":r.currency[0]+"",a=r.currency===void 0?"":r.currency[1]+"",i=r.decimal===void 0?".":r.decimal+"",s=r.numerals===void 0?L3:eQ(U3.call(r.numerals,String)),c=r.percent===void 0?"%":r.percent+"",l=r.minus===void 0?"":r.minus+"",u=r.nan===void 0?"NaN":r.nan+"";function o(d,A){d=hg(d);var f=d.fill,g=d.align,m=d.sign,x=d.symbol,y=d.zero,b=d.width,w=d.comma,S=d.precision,N=d.trim,C=d.type;C==="n"?(w=!0,C="g"):R3[C]||(S===void 0&&(S=12),N=!0,C="g"),(y||f==="0"&&g==="=")&&(y=!0,f="0",g="=");var O=(A&&A.prefix!==void 0?A.prefix:"")+(x==="$"?n:x==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():""),W=(x==="$"?a:/[%p]/.test(C)?c:"")+(A&&A.suffix!==void 0?A.suffix:""),K=R3[C],te=/[defgprs%]/.test(C);S=S===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function q(Y){var P=O,ce=W,$,R,se;if(C==="c")ce=K(Y)+ce,Y="";else{Y=+Y;var fe=Y<0||1/Y<0;if(Y=isNaN(Y)?u:K(Math.abs(Y),S),N&&(Y=rQ(Y)),fe&&+Y==0&&m!=="+"&&(fe=!1),P=(fe?m==="("?m:l:m==="-"||m==="("?"":m)+P,ce=(C==="s"&&!isNaN(Y)&&Pv!==void 0?H3[8+Pv/3]:"")+ce+(fe&&m==="("?")":""),te){for($=-1,R=Y.length;++$<R;)if(se=Y.charCodeAt($),48>se||se>57){ce=(se===46?i+Y.slice($+1):Y.slice($))+ce,Y=Y.slice(0,$);break}}}w&&!y&&(Y=e(Y,1/0));var Te=P.length+Y.length+ce.length,Ie=Te<b?new Array(b-Te+1).join(f):"";switch(w&&y&&(Y=e(Ie+Y,Ie.length?b-ce.length:1/0),Ie=""),g){case"<":Y=P+Y+ce+Ie;break;case"=":Y=P+Ie+Y+ce;break;case"^":Y=Ie.slice(0,Te=Ie.length>>1)+P+Y+ce+Ie.slice(Te);break;default:Y=Ie+P+Y+ce;break}return s(Y)}return q.toString=function(){return d+""},q}function h(d,A){var f=Math.max(-8,Math.min(8,Math.floor(lm(A)/3)))*3,g=Math.pow(10,-f),m=o((d=hg(d),d.type="f",d),{suffix:H3[8+f/3]});return function(x){return m(g*x)}}return{format:o,formatPrefix:h}}var l1,B4,jk;iQ({thousands:",",grouping:[3],currency:["$",""]});function iQ(r){return l1=aQ(r),B4=l1.format,jk=l1.formatPrefix,l1}function sQ(r){return Math.max(0,-lm(Math.abs(r)))}function oQ(r,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(lm(e)/3)))*3-lm(Math.abs(r)))}function lQ(r,e){return r=Math.abs(r),e=Math.abs(e)-r,Math.max(0,lm(e)-lm(r))+1}function Ck(r,e,n,a){var i=DC(r,e,n),s;switch(a=hg(a??",f"),a.type){case"s":{var c=Math.max(Math.abs(r),Math.abs(e));return a.precision==null&&!isNaN(s=oQ(i,c))&&(a.precision=s),jk(a,c)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(s=lQ(i,Math.max(Math.abs(r),Math.abs(e))))&&(a.precision=s-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(s=sQ(i))&&(a.precision=s-(a.type==="%")*2);break}}return B4(a)}function ff(r){var e=r.domain;return r.ticks=function(n){var a=e();return PC(a[0],a[a.length-1],n??10)},r.tickFormat=function(n,a){var i=e();return Ck(i[0],i[i.length-1],n??10,a)},r.nice=function(n){n==null&&(n=10);var a=e(),i=0,s=a.length-1,c=a[i],l=a[s],u,o,h=10;for(l<c&&(o=c,c=l,l=o,o=i,i=s,s=o);h-- >0;){if(o=FC(c,l,n),o===u)return a[i]=c,a[s]=l,e(a);if(o>0)c=Math.floor(c/o)*o,l=Math.ceil(l/o)*o;else if(o<0)c=Math.ceil(c*o)/o,l=Math.floor(l*o)/o;else break;u=o}return r},r}function Fv(){var r=S4();return r.copy=function(){return Qg(r,Fv())},zd.apply(r,arguments),ff(r)}function Nk(r){var e;function n(a){return a==null||isNaN(a=+a)?e:a}return n.invert=n,n.domain=n.range=function(a){return arguments.length?(r=Array.from(a,Ov),n):r.slice()},n.unknown=function(a){return arguments.length?(e=a,n):e},n.copy=function(){return Nk(r).unknown(e)},r=arguments.length?Array.from(r,Ov):[0,1],ff(n)}function Sk(r,e){r=r.slice();var n=0,a=r.length-1,i=r[n],s=r[a],c;return s<i&&(c=n,n=a,a=c,c=i,i=s,s=c),r[n]=e.floor(i),r[a]=e.ceil(s),r}function Q3(r){return Math.log(r)}function W3(r){return Math.exp(r)}function cQ(r){return-Math.log(-r)}function uQ(r){return-Math.exp(-r)}function dQ(r){return isFinite(r)?+("1e"+r):r<0?0:r}function hQ(r){return r===10?dQ:r===Math.E?Math.exp:e=>Math.pow(r,e)}function AQ(r){return r===Math.E?Math.log:r===10&&Math.log10||r===2&&Math.log2||(r=Math.log(r),e=>Math.log(e)/r)}function $3(r){return(e,n)=>-r(-e,n)}function I4(r){const e=r(Q3,W3),n=e.domain;let a=10,i,s;function c(){return i=AQ(a),s=hQ(a),n()[0]<0?(i=$3(i),s=$3(s),r(cQ,uQ)):r(Q3,W3),e}return e.base=function(l){return arguments.length?(a=+l,c()):a},e.domain=function(l){return arguments.length?(n(l),c()):n()},e.ticks=l=>{const u=n();let o=u[0],h=u[u.length-1];const d=h<o;d&&([o,h]=[h,o]);let A=i(o),f=i(h),g,m;const x=l==null?10:+l;let y=[];if(!(a%1)&&f-A<x){if(A=Math.floor(A),f=Math.ceil(f),o>0){for(;A<=f;++A)for(g=1;g<a;++g)if(m=A<0?g/s(-A):g*s(A),!(m<o)){if(m>h)break;y.push(m)}}else for(;A<=f;++A)for(g=a-1;g>=1;--g)if(m=A>0?g/s(-A):g*s(A),!(m<o)){if(m>h)break;y.push(m)}y.length*2<x&&(y=PC(o,h,x))}else y=PC(A,f,Math.min(f-A,x)).map(s);return d?y.reverse():y},e.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=a===10?"s":","),typeof u!="function"&&(!(a%1)&&(u=hg(u)).precision==null&&(u.trim=!0),u=B4(u)),l===1/0)return u;const o=Math.max(1,a*l/e.ticks().length);return h=>{let d=h/s(Math.round(i(h)));return d*a<a-.5&&(d*=a),d<=o?u(h):""}},e.nice=()=>n(Sk(n(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),e}function Ek(){const r=I4(Rx()).domain([1,10]);return r.copy=()=>Qg(r,Ek()).base(r.base()),zd.apply(r,arguments),r}function V3(r){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/r))}}function z3(r){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*r}}function T4(r){var e=1,n=r(V3(e),z3(e));return n.constant=function(a){return arguments.length?r(V3(e=+a),z3(e)):e},ff(n)}function Bk(){var r=T4(Rx());return r.copy=function(){return Qg(r,Bk()).constant(r.constant())},zd.apply(r,arguments)}function K3(r){return function(e){return e<0?-Math.pow(-e,r):Math.pow(e,r)}}function fQ(r){return r<0?-Math.sqrt(-r):Math.sqrt(r)}function pQ(r){return r<0?-r*r:r*r}function _4(r){var e=r(Cu,Cu),n=1;function a(){return n===1?r(Cu,Cu):n===.5?r(fQ,pQ):r(K3(n),K3(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,a()):n},ff(e)}function O4(){var r=_4(Rx());return r.copy=function(){return Qg(r,O4()).exponent(r.exponent())},zd.apply(r,arguments),r}function mQ(){return O4.apply(null,arguments).exponent(.5)}function G3(r){return Math.sign(r)*r*r}function gQ(r){return Math.sign(r)*Math.sqrt(Math.abs(r))}function Ik(){var r=S4(),e=[0,1],n=!1,a;function i(s){var c=gQ(r(s));return isNaN(c)?a:n?Math.round(c):c}return i.invert=function(s){return r.invert(G3(s))},i.domain=function(s){return arguments.length?(r.domain(s),i):r.domain()},i.range=function(s){return arguments.length?(r.range((e=Array.from(s,Ov)).map(G3)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(r.clamp(s),i):r.clamp()},i.unknown=function(s){return arguments.length?(a=s,i):a},i.copy=function(){return Ik(r.domain(),e).round(n).clamp(r.clamp()).unknown(a)},zd.apply(i,arguments),ff(i)}function Tk(){var r=[],e=[],n=[],a;function i(){var c=0,l=Math.max(1,e.length);for(n=new Array(l-1);++c<l;)n[c-1]=wH(r,c/l);return s}function s(c){return c==null||isNaN(c=+c)?a:e[Ug(n,c)]}return s.invertExtent=function(c){var l=e.indexOf(c);return l<0?[NaN,NaN]:[l>0?n[l-1]:r[0],l<n.length?n[l]:r[r.length-1]]},s.domain=function(c){if(!arguments.length)return r.slice();r=[];for(let l of c)l!=null&&!isNaN(l=+l)&&r.push(l);return r.sort(of),i()},s.range=function(c){return arguments.length?(e=Array.from(c),i()):e.slice()},s.unknown=function(c){return arguments.length?(a=c,s):a},s.quantiles=function(){return n.slice()},s.copy=function(){return Tk().domain(r).range(e).unknown(a)},zd.apply(s,arguments)}function _k(){var r=0,e=1,n=1,a=[.5],i=[0,1],s;function c(u){return u!=null&&u<=u?i[Ug(a,u,0,n)]:s}function l(){var u=-1;for(a=new Array(n);++u<n;)a[u]=((u+1)*e-(u-n)*r)/(n+1);return c}return c.domain=function(u){return arguments.length?([r,e]=u,r=+r,e=+e,l()):[r,e]},c.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,l()):i.slice()},c.invertExtent=function(u){var o=i.indexOf(u);return o<0?[NaN,NaN]:o<1?[r,a[0]]:o>=n?[a[n-1],e]:[a[o-1],a[o]]},c.unknown=function(u){return arguments.length&&(s=u),c},c.thresholds=function(){return a.slice()},c.copy=function(){return _k().domain([r,e]).range(i).unknown(s)},zd.apply(ff(c),arguments)}function Ok(){var r=[.5],e=[0,1],n,a=1;function i(s){return s!=null&&s<=s?e[Ug(r,s,0,a)]:n}return i.domain=function(s){return arguments.length?(r=Array.from(s),a=Math.min(r.length,e.length-1),i):r.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),a=Math.min(r.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var c=e.indexOf(s);return[r[c-1],r[c]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return Ok().domain(r).range(e).unknown(n)},zd.apply(i,arguments)}const Tw=new Date,_w=new Date;function ec(r,e,n,a){function i(s){return r(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(r(s=new Date(+s)),s),i.ceil=s=>(r(s=new Date(s-1)),e(s,1),r(s),s),i.round=s=>{const c=i(s),l=i.ceil(s);return s-c<l-s?c:l},i.offset=(s,c)=>(e(s=new Date(+s),c==null?1:Math.floor(c)),s),i.range=(s,c,l)=>{const u=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<c)||!(l>0))return u;let o;do u.push(o=new Date(+s)),e(s,l),r(s);while(o<s&&s<c);return u},i.filter=s=>ec(c=>{if(c>=c)for(;r(c),!s(c);)c.setTime(c-1)},(c,l)=>{if(c>=c)if(l<0)for(;++l<=0;)for(;e(c,-1),!s(c););else for(;--l>=0;)for(;e(c,1),!s(c););}),n&&(i.count=(s,c)=>(Tw.setTime(+s),_w.setTime(+c),r(Tw),r(_w),Math.floor(n(Tw,_w))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(a?c=>a(c)%s===0:c=>i.count(0,c)%s===0):i)),i}const Dv=ec(()=>{},(r,e)=>{r.setTime(+r+e)},(r,e)=>e-r);Dv.every=r=>(r=Math.floor(r),!isFinite(r)||!(r>0)?null:r>1?ec(e=>{e.setTime(Math.floor(e/r)*r)},(e,n)=>{e.setTime(+e+n*r)},(e,n)=>(n-e)/r):Dv);Dv.range;const uA=1e3,Qd=uA*60,dA=Qd*60,vA=dA*24,k4=vA*7,q3=vA*30,Ow=vA*365,Zf=ec(r=>{r.setTime(r-r.getMilliseconds())},(r,e)=>{r.setTime(+r+e*uA)},(r,e)=>(e-r)/uA,r=>r.getUTCSeconds());Zf.range;const P4=ec(r=>{r.setTime(r-r.getMilliseconds()-r.getSeconds()*uA)},(r,e)=>{r.setTime(+r+e*Qd)},(r,e)=>(e-r)/Qd,r=>r.getMinutes());P4.range;const F4=ec(r=>{r.setUTCSeconds(0,0)},(r,e)=>{r.setTime(+r+e*Qd)},(r,e)=>(e-r)/Qd,r=>r.getUTCMinutes());F4.range;const D4=ec(r=>{r.setTime(r-r.getMilliseconds()-r.getSeconds()*uA-r.getMinutes()*Qd)},(r,e)=>{r.setTime(+r+e*dA)},(r,e)=>(e-r)/dA,r=>r.getHours());D4.range;const M4=ec(r=>{r.setUTCMinutes(0,0,0)},(r,e)=>{r.setTime(+r+e*dA)},(r,e)=>(e-r)/dA,r=>r.getUTCHours());M4.range;const Wg=ec(r=>r.setHours(0,0,0,0),(r,e)=>r.setDate(r.getDate()+e),(r,e)=>(e-r-(e.getTimezoneOffset()-r.getTimezoneOffset())*Qd)/vA,r=>r.getDate()-1);Wg.range;const Lx=ec(r=>{r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCDate(r.getUTCDate()+e)},(r,e)=>(e-r)/vA,r=>r.getUTCDate()-1);Lx.range;const kk=ec(r=>{r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCDate(r.getUTCDate()+e)},(r,e)=>(e-r)/vA,r=>Math.floor(r/vA));kk.range;function fp(r){return ec(e=>{e.setDate(e.getDate()-(e.getDay()+7-r)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Qd)/k4)}const Ux=fp(0),Mv=fp(1),vQ=fp(2),xQ=fp(3),cm=fp(4),yQ=fp(5),bQ=fp(6);Ux.range;Mv.range;vQ.range;xQ.range;cm.range;yQ.range;bQ.range;function pp(r){return ec(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-r)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/k4)}const Hx=pp(0),Rv=pp(1),wQ=pp(2),jQ=pp(3),um=pp(4),CQ=pp(5),NQ=pp(6);Hx.range;Rv.range;wQ.range;jQ.range;um.range;CQ.range;NQ.range;const R4=ec(r=>{r.setDate(1),r.setHours(0,0,0,0)},(r,e)=>{r.setMonth(r.getMonth()+e)},(r,e)=>e.getMonth()-r.getMonth()+(e.getFullYear()-r.getFullYear())*12,r=>r.getMonth());R4.range;const L4=ec(r=>{r.setUTCDate(1),r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCMonth(r.getUTCMonth()+e)},(r,e)=>e.getUTCMonth()-r.getUTCMonth()+(e.getUTCFullYear()-r.getUTCFullYear())*12,r=>r.getUTCMonth());L4.range;const xA=ec(r=>{r.setMonth(0,1),r.setHours(0,0,0,0)},(r,e)=>{r.setFullYear(r.getFullYear()+e)},(r,e)=>e.getFullYear()-r.getFullYear(),r=>r.getFullYear());xA.every=r=>!isFinite(r=Math.floor(r))||!(r>0)?null:ec(e=>{e.setFullYear(Math.floor(e.getFullYear()/r)*r),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*r)});xA.range;const yA=ec(r=>{r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCFullYear(r.getUTCFullYear()+e)},(r,e)=>e.getUTCFullYear()-r.getUTCFullYear(),r=>r.getUTCFullYear());yA.every=r=>!isFinite(r=Math.floor(r))||!(r>0)?null:ec(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/r)*r),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*r)});yA.range;function Pk(r,e,n,a,i,s){const c=[[Zf,1,uA],[Zf,5,5*uA],[Zf,15,15*uA],[Zf,30,30*uA],[s,1,Qd],[s,5,5*Qd],[s,15,15*Qd],[s,30,30*Qd],[i,1,dA],[i,3,3*dA],[i,6,6*dA],[i,12,12*dA],[a,1,vA],[a,2,2*vA],[n,1,k4],[e,1,q3],[e,3,3*q3],[r,1,Ow]];function l(o,h,d){const A=h<o;A&&([o,h]=[h,o]);const f=d&&typeof d.range=="function"?d:u(o,h,d),g=f?f.range(o,+h+1):[];return A?g.reverse():g}function u(o,h,d){const A=Math.abs(h-o)/d,f=b4(([,,x])=>x).right(c,A);if(f===c.length)return r.every(DC(o/Ow,h/Ow,d));if(f===0)return Dv.every(Math.max(DC(o,h,d),1));const[g,m]=c[A/c[f-1][2]<c[f][2]/A?f-1:f];return g.every(m)}return[l,u]}const[SQ,EQ]=Pk(yA,L4,Hx,kk,M4,F4),[BQ,IQ]=Pk(xA,R4,Ux,Wg,D4,P4);function kw(r){if(0<=r.y&&r.y<100){var e=new Date(-1,r.m,r.d,r.H,r.M,r.S,r.L);return e.setFullYear(r.y),e}return new Date(r.y,r.m,r.d,r.H,r.M,r.S,r.L)}function Pw(r){if(0<=r.y&&r.y<100){var e=new Date(Date.UTC(-1,r.m,r.d,r.H,r.M,r.S,r.L));return e.setUTCFullYear(r.y),e}return new Date(Date.UTC(r.y,r.m,r.d,r.H,r.M,r.S,r.L))}function qm(r,e,n){return{y:r,m:e,d:n,H:0,M:0,S:0,L:0}}function TQ(r){var e=r.dateTime,n=r.date,a=r.time,i=r.periods,s=r.days,c=r.shortDays,l=r.months,u=r.shortMonths,o=Xm(i),h=Ym(i),d=Xm(s),A=Ym(s),f=Xm(c),g=Ym(c),m=Xm(l),x=Ym(l),y=Xm(u),b=Ym(u),w={a:se,A:fe,b:Te,B:Ie,c:null,d:tI,e:tI,f:JQ,g:cW,G:dW,H:XQ,I:YQ,j:ZQ,L:Fk,m:eW,M:tW,p:_e,q:Z,Q:aI,s:iI,S:rW,u:nW,U:aW,V:iW,w:sW,W:oW,x:null,X:null,y:lW,Y:uW,Z:hW,"%":nI},S={a:Oe,A:ee,b:re,B:je,c:null,d:rI,e:rI,f:mW,g:SW,G:BW,H:AW,I:fW,j:pW,L:Mk,m:gW,M:vW,p:Ne,q:ye,Q:aI,s:iI,S:xW,u:yW,U:bW,V:wW,w:jW,W:CW,x:null,X:null,y:NW,Y:EW,Z:IW,"%":nI},N={a:te,A:q,b:Y,B:P,c:ce,d:J3,e:J3,f:zQ,g:Z3,G:Y3,H:eI,I:eI,j:QQ,L:VQ,m:HQ,M:WQ,p:K,q:UQ,Q:GQ,s:qQ,S:$Q,u:FQ,U:DQ,V:MQ,w:PQ,W:RQ,x:$,X:R,y:Z3,Y:Y3,Z:LQ,"%":KQ};w.x=C(n,w),w.X=C(a,w),w.c=C(e,w),S.x=C(n,S),S.X=C(a,S),S.c=C(e,S);function C(me,ie){return function(le){var Ee=[],Re=-1,Ue=0,de=me.length,Ce,ue,$e;for(le instanceof Date||(le=new Date(+le));++Re<de;)me.charCodeAt(Re)===37&&(Ee.push(me.slice(Ue,Re)),(ue=X3[Ce=me.charAt(++Re)])!=null?Ce=me.charAt(++Re):ue=Ce==="e"?" ":"0",($e=ie[Ce])&&(Ce=$e(le,ue)),Ee.push(Ce),Ue=Re+1);return Ee.push(me.slice(Ue,Re)),Ee.join("")}}function O(me,ie){return function(le){var Ee=qm(1900,void 0,1),Re=W(Ee,me,le+="",0),Ue,de;if(Re!=le.length)return null;if("Q"in Ee)return new Date(Ee.Q);if("s"in Ee)return new Date(Ee.s*1e3+("L"in Ee?Ee.L:0));if(ie&&!("Z"in Ee)&&(Ee.Z=0),"p"in Ee&&(Ee.H=Ee.H%12+Ee.p*12),Ee.m===void 0&&(Ee.m="q"in Ee?Ee.q:0),"V"in Ee){if(Ee.V<1||Ee.V>53)return null;"w"in Ee||(Ee.w=1),"Z"in Ee?(Ue=Pw(qm(Ee.y,0,1)),de=Ue.getUTCDay(),Ue=de>4||de===0?Rv.ceil(Ue):Rv(Ue),Ue=Lx.offset(Ue,(Ee.V-1)*7),Ee.y=Ue.getUTCFullYear(),Ee.m=Ue.getUTCMonth(),Ee.d=Ue.getUTCDate()+(Ee.w+6)%7):(Ue=kw(qm(Ee.y,0,1)),de=Ue.getDay(),Ue=de>4||de===0?Mv.ceil(Ue):Mv(Ue),Ue=Wg.offset(Ue,(Ee.V-1)*7),Ee.y=Ue.getFullYear(),Ee.m=Ue.getMonth(),Ee.d=Ue.getDate()+(Ee.w+6)%7)}else("W"in Ee||"U"in Ee)&&("w"in Ee||(Ee.w="u"in Ee?Ee.u%7:"W"in Ee?1:0),de="Z"in Ee?Pw(qm(Ee.y,0,1)).getUTCDay():kw(qm(Ee.y,0,1)).getDay(),Ee.m=0,Ee.d="W"in Ee?(Ee.w+6)%7+Ee.W*7-(de+5)%7:Ee.w+Ee.U*7-(de+6)%7);return"Z"in Ee?(Ee.H+=Ee.Z/100|0,Ee.M+=Ee.Z%100,Pw(Ee)):kw(Ee)}}function W(me,ie,le,Ee){for(var Re=0,Ue=ie.length,de=le.length,Ce,ue;Re<Ue;){if(Ee>=de)return-1;if(Ce=ie.charCodeAt(Re++),Ce===37){if(Ce=ie.charAt(Re++),ue=N[Ce in X3?ie.charAt(Re++):Ce],!ue||(Ee=ue(me,le,Ee))<0)return-1}else if(Ce!=le.charCodeAt(Ee++))return-1}return Ee}function K(me,ie,le){var Ee=o.exec(ie.slice(le));return Ee?(me.p=h.get(Ee[0].toLowerCase()),le+Ee[0].length):-1}function te(me,ie,le){var Ee=f.exec(ie.slice(le));return Ee?(me.w=g.get(Ee[0].toLowerCase()),le+Ee[0].length):-1}function q(me,ie,le){var Ee=d.exec(ie.slice(le));return Ee?(me.w=A.get(Ee[0].toLowerCase()),le+Ee[0].length):-1}function Y(me,ie,le){var Ee=y.exec(ie.slice(le));return Ee?(me.m=b.get(Ee[0].toLowerCase()),le+Ee[0].length):-1}function P(me,ie,le){var Ee=m.exec(ie.slice(le));return Ee?(me.m=x.get(Ee[0].toLowerCase()),le+Ee[0].length):-1}function ce(me,ie,le){return W(me,e,ie,le)}function $(me,ie,le){return W(me,n,ie,le)}function R(me,ie,le){return W(me,a,ie,le)}function se(me){return c[me.getDay()]}function fe(me){return s[me.getDay()]}function Te(me){return u[me.getMonth()]}function Ie(me){return l[me.getMonth()]}function _e(me){return i[+(me.getHours()>=12)]}function Z(me){return 1+~~(me.getMonth()/3)}function Oe(me){return c[me.getUTCDay()]}function ee(me){return s[me.getUTCDay()]}function re(me){return u[me.getUTCMonth()]}function je(me){return l[me.getUTCMonth()]}function Ne(me){return i[+(me.getUTCHours()>=12)]}function ye(me){return 1+~~(me.getUTCMonth()/3)}return{format:function(me){var ie=C(me+="",w);return ie.toString=function(){return me},ie},parse:function(me){var ie=O(me+="",!1);return ie.toString=function(){return me},ie},utcFormat:function(me){var ie=C(me+="",S);return ie.toString=function(){return me},ie},utcParse:function(me){var ie=O(me+="",!0);return ie.toString=function(){return me},ie}}}var X3={"-":"",_:" ",0:"0"},Cc=/^\s*\d+/,_Q=/^%/,OQ=/[\\^$*+?|[\]().{}]/g;function cs(r,e,n){var a=r<0?"-":"",i=(a?-r:r)+"",s=i.length;return a+(s<n?new Array(n-s+1).join(e)+i:i)}function kQ(r){return r.replace(OQ,"\\$&")}function Xm(r){return new RegExp("^(?:"+r.map(kQ).join("|")+")","i")}function Ym(r){return new Map(r.map((e,n)=>[e.toLowerCase(),n]))}function PQ(r,e,n){var a=Cc.exec(e.slice(n,n+1));return a?(r.w=+a[0],n+a[0].length):-1}function FQ(r,e,n){var a=Cc.exec(e.slice(n,n+1));return a?(r.u=+a[0],n+a[0].length):-1}function DQ(r,e,n){var a=Cc.exec(e.slice(n,n+2));return a?(r.U=+a[0],n+a[0].length):-1}function MQ(r,e,n){var a=Cc.exec(e.slice(n,n+2));return a?(r.V=+a[0],n+a[0].length):-1}function RQ(r,e,n){var a=Cc.exec(e.slice(n,n+2));return a?(r.W=+a[0],n+a[0].length):-1}function Y3(r,e,n){var a=Cc.exec(e.slice(n,n+4));return a?(r.y=+a[0],n+a[0].length):-1}function Z3(r,e,n){var a=Cc.exec(e.slice(n,n+2));return a?(r.y=+a[0]+(+a[0]>68?1900:2e3),n+a[0].length):-1}function LQ(r,e,n){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return a?(r.Z=a[1]?0:-(a[2]+(a[3]||"00")),n+a[0].length):-1}function UQ(r,e,n){var a=Cc.exec(e.slice(n,n+1));return a?(r.q=a[0]*3-3,n+a[0].length):-1}function HQ(r,e,n){var a=Cc.exec(e.slice(n,n+2));return a?(r.m=a[0]-1,n+a[0].length):-1}function J3(r,e,n){var a=Cc.exec(e.slice(n,n+2));return a?(r.d=+a[0],n+a[0].length):-1}function QQ(r,e,n){var a=Cc.exec(e.slice(n,n+3));return a?(r.m=0,r.d=+a[0],n+a[0].length):-1}function eI(r,e,n){var a=Cc.exec(e.slice(n,n+2));return a?(r.H=+a[0],n+a[0].length):-1}function WQ(r,e,n){var a=Cc.exec(e.slice(n,n+2));return a?(r.M=+a[0],n+a[0].length):-1}function $Q(r,e,n){var a=Cc.exec(e.slice(n,n+2));return a?(r.S=+a[0],n+a[0].length):-1}function VQ(r,e,n){var a=Cc.exec(e.slice(n,n+3));return a?(r.L=+a[0],n+a[0].length):-1}function zQ(r,e,n){var a=Cc.exec(e.slice(n,n+6));return a?(r.L=Math.floor(a[0]/1e3),n+a[0].length):-1}function KQ(r,e,n){var a=_Q.exec(e.slice(n,n+1));return a?n+a[0].length:-1}function GQ(r,e,n){var a=Cc.exec(e.slice(n));return a?(r.Q=+a[0],n+a[0].length):-1}function qQ(r,e,n){var a=Cc.exec(e.slice(n));return a?(r.s=+a[0],n+a[0].length):-1}function tI(r,e){return cs(r.getDate(),e,2)}function XQ(r,e){return cs(r.getHours(),e,2)}function YQ(r,e){return cs(r.getHours()%12||12,e,2)}function ZQ(r,e){return cs(1+Wg.count(xA(r),r),e,3)}function Fk(r,e){return cs(r.getMilliseconds(),e,3)}function JQ(r,e){return Fk(r,e)+"000"}function eW(r,e){return cs(r.getMonth()+1,e,2)}function tW(r,e){return cs(r.getMinutes(),e,2)}function rW(r,e){return cs(r.getSeconds(),e,2)}function nW(r){var e=r.getDay();return e===0?7:e}function aW(r,e){return cs(Ux.count(xA(r)-1,r),e,2)}function Dk(r){var e=r.getDay();return e>=4||e===0?cm(r):cm.ceil(r)}function iW(r,e){return r=Dk(r),cs(cm.count(xA(r),r)+(xA(r).getDay()===4),e,2)}function sW(r){return r.getDay()}function oW(r,e){return cs(Mv.count(xA(r)-1,r),e,2)}function lW(r,e){return cs(r.getFullYear()%100,e,2)}function cW(r,e){return r=Dk(r),cs(r.getFullYear()%100,e,2)}function uW(r,e){return cs(r.getFullYear()%1e4,e,4)}function dW(r,e){var n=r.getDay();return r=n>=4||n===0?cm(r):cm.ceil(r),cs(r.getFullYear()%1e4,e,4)}function hW(r){var e=r.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+cs(e/60|0,"0",2)+cs(e%60,"0",2)}function rI(r,e){return cs(r.getUTCDate(),e,2)}function AW(r,e){return cs(r.getUTCHours(),e,2)}function fW(r,e){return cs(r.getUTCHours()%12||12,e,2)}function pW(r,e){return cs(1+Lx.count(yA(r),r),e,3)}function Mk(r,e){return cs(r.getUTCMilliseconds(),e,3)}function mW(r,e){return Mk(r,e)+"000"}function gW(r,e){return cs(r.getUTCMonth()+1,e,2)}function vW(r,e){return cs(r.getUTCMinutes(),e,2)}function xW(r,e){return cs(r.getUTCSeconds(),e,2)}function yW(r){var e=r.getUTCDay();return e===0?7:e}function bW(r,e){return cs(Hx.count(yA(r)-1,r),e,2)}function Rk(r){var e=r.getUTCDay();return e>=4||e===0?um(r):um.ceil(r)}function wW(r,e){return r=Rk(r),cs(um.count(yA(r),r)+(yA(r).getUTCDay()===4),e,2)}function jW(r){return r.getUTCDay()}function CW(r,e){return cs(Rv.count(yA(r)-1,r),e,2)}function NW(r,e){return cs(r.getUTCFullYear()%100,e,2)}function SW(r,e){return r=Rk(r),cs(r.getUTCFullYear()%100,e,2)}function EW(r,e){return cs(r.getUTCFullYear()%1e4,e,4)}function BW(r,e){var n=r.getUTCDay();return r=n>=4||n===0?um(r):um.ceil(r),cs(r.getUTCFullYear()%1e4,e,4)}function IW(){return"+0000"}function nI(){return"%"}function aI(r){return+r}function iI(r){return Math.floor(+r/1e3)}var Op,Lk,Uk;TW({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function TW(r){return Op=TQ(r),Lk=Op.format,Op.parse,Uk=Op.utcFormat,Op.utcParse,Op}function _W(r){return new Date(r)}function OW(r){return r instanceof Date?+r:+new Date(+r)}function U4(r,e,n,a,i,s,c,l,u,o){var h=S4(),d=h.invert,A=h.domain,f=o(".%L"),g=o(":%S"),m=o("%I:%M"),x=o("%I %p"),y=o("%a %d"),b=o("%b %d"),w=o("%B"),S=o("%Y");function N(C){return(u(C)<C?f:l(C)<C?g:c(C)<C?m:s(C)<C?x:a(C)<C?i(C)<C?y:b:n(C)<C?w:S)(C)}return h.invert=function(C){return new Date(d(C))},h.domain=function(C){return arguments.length?A(Array.from(C,OW)):A().map(_W)},h.ticks=function(C){var O=A();return r(O[0],O[O.length-1],C??10)},h.tickFormat=function(C,O){return O==null?N:o(O)},h.nice=function(C){var O=A();return(!C||typeof C.range!="function")&&(C=e(O[0],O[O.length-1],C??10)),C?A(Sk(O,C)):h},h.copy=function(){return Qg(h,U4(r,e,n,a,i,s,c,l,u,o))},h}function kW(){return zd.apply(U4(BQ,IQ,xA,R4,Ux,Wg,D4,P4,Zf,Lk).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function PW(){return zd.apply(U4(SQ,EQ,yA,L4,Hx,Lx,M4,F4,Zf,Uk).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Qx(){var r=0,e=1,n,a,i,s,c=Cu,l=!1,u;function o(d){return d==null||isNaN(d=+d)?u:c(i===0?.5:(d=(s(d)-n)*i,l?Math.max(0,Math.min(1,d)):d))}o.domain=function(d){return arguments.length?([r,e]=d,n=s(r=+r),a=s(e=+e),i=n===a?0:1/(a-n),o):[r,e]},o.clamp=function(d){return arguments.length?(l=!!d,o):l},o.interpolator=function(d){return arguments.length?(c=d,o):c};function h(d){return function(A){var f,g;return arguments.length?([f,g]=A,c=d(f,g),o):[c(0),c(1)]}}return o.range=h(Dm),o.rangeRound=h(N4),o.unknown=function(d){return arguments.length?(u=d,o):u},function(d){return s=d,n=d(r),a=d(e),i=n===a?0:1/(a-n),o}}function pf(r,e){return e.domain(r.domain()).interpolator(r.interpolator()).clamp(r.clamp()).unknown(r.unknown())}function Hk(){var r=ff(Qx()(Cu));return r.copy=function(){return pf(r,Hk())},jA.apply(r,arguments)}function Qk(){var r=I4(Qx()).domain([1,10]);return r.copy=function(){return pf(r,Qk()).base(r.base())},jA.apply(r,arguments)}function Wk(){var r=T4(Qx());return r.copy=function(){return pf(r,Wk()).constant(r.constant())},jA.apply(r,arguments)}function H4(){var r=_4(Qx());return r.copy=function(){return pf(r,H4()).exponent(r.exponent())},jA.apply(r,arguments)}function FW(){return H4.apply(null,arguments).exponent(.5)}function $k(){var r=[],e=Cu;function n(a){if(a!=null&&!isNaN(a=+a))return e((Ug(r,a,1)-1)/(r.length-1))}return n.domain=function(a){if(!arguments.length)return r.slice();r=[];for(let i of a)i!=null&&!isNaN(i=+i)&&r.push(i);return r.sort(of),n},n.interpolator=function(a){return arguments.length?(e=a,n):e},n.range=function(){return r.map((a,i)=>e(i/(r.length-1)))},n.quantiles=function(a){return Array.from({length:a+1},(i,s)=>bH(r,s/a))},n.copy=function(){return $k(e).domain(r)},jA.apply(n,arguments)}function Wx(){var r=0,e=.5,n=1,a=1,i,s,c,l,u,o=Cu,h,d=!1,A;function f(m){return isNaN(m=+m)?A:(m=.5+((m=+h(m))-s)*(a*m<a*s?l:u),o(d?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([r,e,n]=m,i=h(r=+r),s=h(e=+e),c=h(n=+n),l=i===s?0:.5/(s-i),u=s===c?0:.5/(c-s),a=s<i?-1:1,f):[r,e,n]},f.clamp=function(m){return arguments.length?(d=!!m,f):d},f.interpolator=function(m){return arguments.length?(o=m,f):o};function g(m){return function(x){var y,b,w;return arguments.length?([y,b,w]=x,o=KH(m,[y,b,w]),f):[o(0),o(.5),o(1)]}}return f.range=g(Dm),f.rangeRound=g(N4),f.unknown=function(m){return arguments.length?(A=m,f):A},function(m){return h=m,i=m(r),s=m(e),c=m(n),l=i===s?0:.5/(s-i),u=s===c?0:.5/(c-s),a=s<i?-1:1,f}}function Vk(){var r=ff(Wx()(Cu));return r.copy=function(){return pf(r,Vk())},jA.apply(r,arguments)}function zk(){var r=I4(Wx()).domain([.1,1,10]);return r.copy=function(){return pf(r,zk()).base(r.base())},jA.apply(r,arguments)}function Kk(){var r=T4(Wx());return r.copy=function(){return pf(r,Kk()).constant(r.constant())},jA.apply(r,arguments)}function Q4(){var r=_4(Wx());return r.copy=function(){return pf(r,Q4()).exponent(r.exponent())},jA.apply(r,arguments)}function DW(){return Q4.apply(null,arguments).exponent(.5)}const sI=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:lg,scaleDiverging:Vk,scaleDivergingLog:zk,scaleDivergingPow:Q4,scaleDivergingSqrt:DW,scaleDivergingSymlog:Kk,scaleIdentity:Nk,scaleImplicit:MC,scaleLinear:Fv,scaleLog:Ek,scaleOrdinal:w4,scalePoint:V0,scalePow:O4,scaleQuantile:Tk,scaleQuantize:_k,scaleRadial:Ik,scaleSequential:Hk,scaleSequentialLog:Qk,scaleSequentialPow:H4,scaleSequentialQuantile:$k,scaleSequentialSqrt:FW,scaleSequentialSymlog:Wk,scaleSqrt:mQ,scaleSymlog:Bk,scaleThreshold:Ok,scaleTime:kW,scaleUtc:PW,tickFormat:Ck},Symbol.toStringTag,{value:"Module"}));var Fw,oI;function $x(){if(oI)return Fw;oI=1;var r=Om();function e(n,a,i){for(var s=-1,c=n.length;++s<c;){var l=n[s],u=a(l);if(u!=null&&(o===void 0?u===u&&!r(u):i(u,o)))var o=u,h=l}return h}return Fw=e,Fw}var Dw,lI;function Gk(){if(lI)return Dw;lI=1;function r(e,n){return e>n}return Dw=r,Dw}var Mw,cI;function MW(){if(cI)return Mw;cI=1;var r=$x(),e=Gk(),n=Fm();function a(i){return i&&i.length?r(i,n,e):void 0}return Mw=a,Mw}var RW=MW();const Vx=ts(RW);var Rw,uI;function qk(){if(uI)return Rw;uI=1;function r(e,n){return e<n}return Rw=r,Rw}var Lw,dI;function LW(){if(dI)return Lw;dI=1;var r=$x(),e=qk(),n=Fm();function a(i){return i&&i.length?r(i,n,e):void 0}return Lw=a,Lw}var UW=LW();const zx=ts(UW);var Uw,hI;function HW(){if(hI)return Uw;hI=1;var r=a4(),e=Lh(),n=ak(),a=Hu();function i(s,c){var l=a(s)?r:n;return l(s,e(c,3))}return Uw=i,Uw}var Hw,AI;function QW(){if(AI)return Hw;AI=1;var r=rk(),e=HW();function n(a,i){return r(e(a,i),1)}return Hw=n,Hw}var WW=QW();const $W=ts(WW);var Qw,fI;function VW(){if(fI)return Qw;fI=1;var r=g4();function e(n,a){return r(n,a)}return Qw=e,Qw}var zW=VW();const $g=ts(zW);var Mm=1e9,KW={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},$4,Io=!0,Vd="[DecimalError] ",np=Vd+"Invalid argument: ",W4=Vd+"Exponent out of range: ",Rm=Math.floor,zf=Math.pow,GW=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ud,bc=1e7,xo=7,Xk=9007199254740991,Lv=Rm(Xk/xo),Kn={};Kn.absoluteValue=Kn.abs=function(){var r=new this.constructor(this);return r.s&&(r.s=1),r};Kn.comparedTo=Kn.cmp=function(r){var e,n,a,i,s=this;if(r=new s.constructor(r),s.s!==r.s)return s.s||-r.s;if(s.e!==r.e)return s.e>r.e^s.s<0?1:-1;for(a=s.d.length,i=r.d.length,e=0,n=a<i?a:i;e<n;++e)if(s.d[e]!==r.d[e])return s.d[e]>r.d[e]^s.s<0?1:-1;return a===i?0:a>i^s.s<0?1:-1};Kn.decimalPlaces=Kn.dp=function(){var r=this,e=r.d.length-1,n=(e-r.e)*xo;if(e=r.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Kn.dividedBy=Kn.div=function(r){return pA(this,new this.constructor(r))};Kn.dividedToIntegerBy=Kn.idiv=function(r){var e=this,n=e.constructor;return Xs(pA(e,new n(r),0,1),n.precision)};Kn.equals=Kn.eq=function(r){return!this.cmp(r)};Kn.exponent=function(){return El(this)};Kn.greaterThan=Kn.gt=function(r){return this.cmp(r)>0};Kn.greaterThanOrEqualTo=Kn.gte=function(r){return this.cmp(r)>=0};Kn.isInteger=Kn.isint=function(){return this.e>this.d.length-2};Kn.isNegative=Kn.isneg=function(){return this.s<0};Kn.isPositive=Kn.ispos=function(){return this.s>0};Kn.isZero=function(){return this.s===0};Kn.lessThan=Kn.lt=function(r){return this.cmp(r)<0};Kn.lessThanOrEqualTo=Kn.lte=function(r){return this.cmp(r)<1};Kn.logarithm=Kn.log=function(r){var e,n=this,a=n.constructor,i=a.precision,s=i+5;if(r===void 0)r=new a(10);else if(r=new a(r),r.s<1||r.eq(ud))throw Error(Vd+"NaN");if(n.s<1)throw Error(Vd+(n.s?"NaN":"-Infinity"));return n.eq(ud)?new a(0):(Io=!1,e=pA(Ag(n,s),Ag(r,s),s),Io=!0,Xs(e,i))};Kn.minus=Kn.sub=function(r){var e=this;return r=new e.constructor(r),e.s==r.s?Jk(e,r):Yk(e,(r.s=-r.s,r))};Kn.modulo=Kn.mod=function(r){var e,n=this,a=n.constructor,i=a.precision;if(r=new a(r),!r.s)throw Error(Vd+"NaN");return n.s?(Io=!1,e=pA(n,r,0,1).times(r),Io=!0,n.minus(e)):Xs(new a(n),i)};Kn.naturalExponential=Kn.exp=function(){return Zk(this)};Kn.naturalLogarithm=Kn.ln=function(){return Ag(this)};Kn.negated=Kn.neg=function(){var r=new this.constructor(this);return r.s=-r.s||0,r};Kn.plus=Kn.add=function(r){var e=this;return r=new e.constructor(r),e.s==r.s?Yk(e,r):Jk(e,(r.s=-r.s,r))};Kn.precision=Kn.sd=function(r){var e,n,a,i=this;if(r!==void 0&&r!==!!r&&r!==1&&r!==0)throw Error(np+r);if(e=El(i)+1,a=i.d.length-1,n=a*xo+1,a=i.d[a],a){for(;a%10==0;a/=10)n--;for(a=i.d[0];a>=10;a/=10)n++}return r&&e>n?e:n};Kn.squareRoot=Kn.sqrt=function(){var r,e,n,a,i,s,c,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(Vd+"NaN")}for(r=El(l),Io=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=Th(l.d),(e.length+r)%2==0&&(e+="0"),i=Math.sqrt(e),r=Rm((r+1)/2)-(r<0||r%2),i==1/0?e="5e"+r:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+r),a=new u(e)):a=new u(i.toString()),n=u.precision,i=c=n+3;;)if(s=a,a=s.plus(pA(l,s,c+2)).times(.5),Th(s.d).slice(0,c)===(e=Th(a.d)).slice(0,c)){if(e=e.slice(c-3,c+1),i==c&&e=="4999"){if(Xs(s,n+1,0),s.times(s).eq(l)){a=s;break}}else if(e!="9999")break;c+=4}return Io=!0,Xs(a,n)};Kn.times=Kn.mul=function(r){var e,n,a,i,s,c,l,u,o,h=this,d=h.constructor,A=h.d,f=(r=new d(r)).d;if(!h.s||!r.s)return new d(0);for(r.s*=h.s,n=h.e+r.e,u=A.length,o=f.length,u<o&&(s=A,A=f,f=s,c=u,u=o,o=c),s=[],c=u+o,a=c;a--;)s.push(0);for(a=o;--a>=0;){for(e=0,i=u+a;i>a;)l=s[i]+f[a]*A[i-a-1]+e,s[i--]=l%bc|0,e=l/bc|0;s[i]=(s[i]+e)%bc|0}for(;!s[--c];)s.pop();return e?++n:s.shift(),r.d=s,r.e=n,Io?Xs(r,d.precision):r};Kn.toDecimalPlaces=Kn.todp=function(r,e){var n=this,a=n.constructor;return n=new a(n),r===void 0?n:(Fh(r,0,Mm),e===void 0?e=a.rounding:Fh(e,0,8),Xs(n,r+El(n)+1,e))};Kn.toExponential=function(r,e){var n,a=this,i=a.constructor;return r===void 0?n=cp(a,!0):(Fh(r,0,Mm),e===void 0?e=i.rounding:Fh(e,0,8),a=Xs(new i(a),r+1,e),n=cp(a,!0,r+1)),n};Kn.toFixed=function(r,e){var n,a,i=this,s=i.constructor;return r===void 0?cp(i):(Fh(r,0,Mm),e===void 0?e=s.rounding:Fh(e,0,8),a=Xs(new s(i),r+El(i)+1,e),n=cp(a.abs(),!1,r+El(a)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Kn.toInteger=Kn.toint=function(){var r=this,e=r.constructor;return Xs(new e(r),El(r)+1,e.rounding)};Kn.toNumber=function(){return+this};Kn.toPower=Kn.pow=function(r){var e,n,a,i,s,c,l=this,u=l.constructor,o=12,h=+(r=new u(r));if(!r.s)return new u(ud);if(l=new u(l),!l.s){if(r.s<1)throw Error(Vd+"Infinity");return l}if(l.eq(ud))return l;if(a=u.precision,r.eq(ud))return Xs(l,a);if(e=r.e,n=r.d.length-1,c=e>=n,s=l.s,c){if((n=h<0?-h:h)<=Xk){for(i=new u(ud),e=Math.ceil(a/xo+4),Io=!1;n%2&&(i=i.times(l),mI(i.d,e)),n=Rm(n/2),n!==0;)l=l.times(l),mI(l.d,e);return Io=!0,r.s<0?new u(ud).div(i):Xs(i,a)}}else if(s<0)throw Error(Vd+"NaN");return s=s<0&&r.d[Math.max(e,n)]&1?-1:1,l.s=1,Io=!1,i=r.times(Ag(l,a+o)),Io=!0,i=Zk(i),i.s=s,i};Kn.toPrecision=function(r,e){var n,a,i=this,s=i.constructor;return r===void 0?(n=El(i),a=cp(i,n<=s.toExpNeg||n>=s.toExpPos)):(Fh(r,1,Mm),e===void 0?e=s.rounding:Fh(e,0,8),i=Xs(new s(i),r,e),n=El(i),a=cp(i,r<=n||n<=s.toExpNeg,r)),a};Kn.toSignificantDigits=Kn.tosd=function(r,e){var n=this,a=n.constructor;return r===void 0?(r=a.precision,e=a.rounding):(Fh(r,1,Mm),e===void 0?e=a.rounding:Fh(e,0,8)),Xs(new a(n),r,e)};Kn.toString=Kn.valueOf=Kn.val=Kn.toJSON=Kn[Symbol.for("nodejs.util.inspect.custom")]=function(){var r=this,e=El(r),n=r.constructor;return cp(r,e<=n.toExpNeg||e>=n.toExpPos)};function Yk(r,e){var n,a,i,s,c,l,u,o,h=r.constructor,d=h.precision;if(!r.s||!e.s)return e.s||(e=new h(r)),Io?Xs(e,d):e;if(u=r.d,o=e.d,c=r.e,i=e.e,u=u.slice(),s=c-i,s){for(s<0?(a=u,s=-s,l=o.length):(a=o,i=c,l=u.length),c=Math.ceil(d/xo),l=c>l?c+1:l+1,s>l&&(s=l,a.length=1),a.reverse();s--;)a.push(0);a.reverse()}for(l=u.length,s=o.length,l-s<0&&(s=l,a=o,o=u,u=a),n=0;s;)n=(u[--s]=u[s]+o[s]+n)/bc|0,u[s]%=bc;for(n&&(u.unshift(n),++i),l=u.length;u[--l]==0;)u.pop();return e.d=u,e.e=i,Io?Xs(e,d):e}function Fh(r,e,n){if(r!==~~r||r<e||r>n)throw Error(np+r)}function Th(r){var e,n,a,i=r.length-1,s="",c=r[0];if(i>0){for(s+=c,e=1;e<i;e++)a=r[e]+"",n=xo-a.length,n&&(s+=ZA(n)),s+=a;c=r[e],a=c+"",n=xo-a.length,n&&(s+=ZA(n))}else if(c===0)return"0";for(;c%10===0;)c/=10;return s+c}var pA=(function(){function r(a,i){var s,c=0,l=a.length;for(a=a.slice();l--;)s=a[l]*i+c,a[l]=s%bc|0,c=s/bc|0;return c&&a.unshift(c),a}function e(a,i,s,c){var l,u;if(s!=c)u=s>c?1:-1;else for(l=u=0;l<s;l++)if(a[l]!=i[l]){u=a[l]>i[l]?1:-1;break}return u}function n(a,i,s){for(var c=0;s--;)a[s]-=c,c=a[s]<i[s]?1:0,a[s]=c*bc+a[s]-i[s];for(;!a[0]&&a.length>1;)a.shift()}return function(a,i,s,c){var l,u,o,h,d,A,f,g,m,x,y,b,w,S,N,C,O,W,K=a.constructor,te=a.s==i.s?1:-1,q=a.d,Y=i.d;if(!a.s)return new K(a);if(!i.s)throw Error(Vd+"Division by zero");for(u=a.e-i.e,O=Y.length,N=q.length,f=new K(te),g=f.d=[],o=0;Y[o]==(q[o]||0);)++o;if(Y[o]>(q[o]||0)&&--u,s==null?b=s=K.precision:c?b=s+(El(a)-El(i))+1:b=s,b<0)return new K(0);if(b=b/xo+2|0,o=0,O==1)for(h=0,Y=Y[0],b++;(o<N||h)&&b--;o++)w=h*bc+(q[o]||0),g[o]=w/Y|0,h=w%Y|0;else{for(h=bc/(Y[0]+1)|0,h>1&&(Y=r(Y,h),q=r(q,h),O=Y.length,N=q.length),S=O,m=q.slice(0,O),x=m.length;x<O;)m[x++]=0;W=Y.slice(),W.unshift(0),C=Y[0],Y[1]>=bc/2&&++C;do h=0,l=e(Y,m,O,x),l<0?(y=m[0],O!=x&&(y=y*bc+(m[1]||0)),h=y/C|0,h>1?(h>=bc&&(h=bc-1),d=r(Y,h),A=d.length,x=m.length,l=e(d,m,A,x),l==1&&(h--,n(d,O<A?W:Y,A))):(h==0&&(l=h=1),d=Y.slice()),A=d.length,A<x&&d.unshift(0),n(m,d,x),l==-1&&(x=m.length,l=e(Y,m,O,x),l<1&&(h++,n(m,O<x?W:Y,x))),x=m.length):l===0&&(h++,m=[0]),g[o++]=h,l&&m[0]?m[x++]=q[S]||0:(m=[q[S]],x=1);while((S++<N||m[0]!==void 0)&&b--)}return g[0]||g.shift(),f.e=u,Xs(f,c?s+El(f)+1:s)}})();function Zk(r,e){var n,a,i,s,c,l,u=0,o=0,h=r.constructor,d=h.precision;if(El(r)>16)throw Error(W4+El(r));if(!r.s)return new h(ud);for(Io=!1,l=d,c=new h(.03125);r.abs().gte(.1);)r=r.times(c),o+=5;for(a=Math.log(zf(2,o))/Math.LN10*2+5|0,l+=a,n=i=s=new h(ud),h.precision=l;;){if(i=Xs(i.times(r),l),n=n.times(++u),c=s.plus(pA(i,n,l)),Th(c.d).slice(0,l)===Th(s.d).slice(0,l)){for(;o--;)s=Xs(s.times(s),l);return h.precision=d,e==null?(Io=!0,Xs(s,d)):s}s=c}}function El(r){for(var e=r.e*xo,n=r.d[0];n>=10;n/=10)e++;return e}function Ww(r,e,n){if(e>r.LN10.sd())throw Io=!0,n&&(r.precision=n),Error(Vd+"LN10 precision limit exceeded");return Xs(new r(r.LN10),e)}function ZA(r){for(var e="";r--;)e+="0";return e}function Ag(r,e){var n,a,i,s,c,l,u,o,h,d=1,A=10,f=r,g=f.d,m=f.constructor,x=m.precision;if(f.s<1)throw Error(Vd+(f.s?"NaN":"-Infinity"));if(f.eq(ud))return new m(0);if(e==null?(Io=!1,o=x):o=e,f.eq(10))return e==null&&(Io=!0),Ww(m,o);if(o+=A,m.precision=o,n=Th(g),a=n.charAt(0),s=El(f),Math.abs(s)<15e14){for(;a<7&&a!=1||a==1&&n.charAt(1)>3;)f=f.times(r),n=Th(f.d),a=n.charAt(0),d++;s=El(f),a>1?(f=new m("0."+n),s++):f=new m(a+"."+n.slice(1))}else return u=Ww(m,o+2,x).times(s+""),f=Ag(new m(a+"."+n.slice(1)),o-A).plus(u),m.precision=x,e==null?(Io=!0,Xs(f,x)):f;for(l=c=f=pA(f.minus(ud),f.plus(ud),o),h=Xs(f.times(f),o),i=3;;){if(c=Xs(c.times(h),o),u=l.plus(pA(c,new m(i),o)),Th(u.d).slice(0,o)===Th(l.d).slice(0,o))return l=l.times(2),s!==0&&(l=l.plus(Ww(m,o+2,x).times(s+""))),l=pA(l,new m(d),o),m.precision=x,e==null?(Io=!0,Xs(l,x)):l;l=u,i+=2}}function pI(r,e){var n,a,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(a=e.search(/e/i))>0?(n<0&&(n=a),n+=+e.slice(a+1),e=e.substring(0,a)):n<0&&(n=e.length),a=0;e.charCodeAt(a)===48;)++a;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(a,i),e){if(i-=a,n=n-a-1,r.e=Rm(n/xo),r.d=[],a=(n+1)%xo,n<0&&(a+=xo),a<i){for(a&&r.d.push(+e.slice(0,a)),i-=xo;a<i;)r.d.push(+e.slice(a,a+=xo));e=e.slice(a),a=xo-e.length}else a-=i;for(;a--;)e+="0";if(r.d.push(+e),Io&&(r.e>Lv||r.e<-Lv))throw Error(W4+n)}else r.s=0,r.e=0,r.d=[0];return r}function Xs(r,e,n){var a,i,s,c,l,u,o,h,d=r.d;for(c=1,s=d[0];s>=10;s/=10)c++;if(a=e-c,a<0)a+=xo,i=e,o=d[h=0];else{if(h=Math.ceil((a+1)/xo),s=d.length,h>=s)return r;for(o=s=d[h],c=1;s>=10;s/=10)c++;a%=xo,i=a-xo+c}if(n!==void 0&&(s=zf(10,c-i-1),l=o/s%10|0,u=e<0||d[h+1]!==void 0||o%s,u=n<4?(l||u)&&(n==0||n==(r.s<0?3:2)):l>5||l==5&&(n==4||u||n==6&&(a>0?i>0?o/zf(10,c-i):0:d[h-1])%10&1||n==(r.s<0?8:7))),e<1||!d[0])return u?(s=El(r),d.length=1,e=e-s-1,d[0]=zf(10,(xo-e%xo)%xo),r.e=Rm(-e/xo)||0):(d.length=1,d[0]=r.e=r.s=0),r;if(a==0?(d.length=h,s=1,h--):(d.length=h+1,s=zf(10,xo-a),d[h]=i>0?(o/zf(10,c-i)%zf(10,i)|0)*s:0),u)for(;;)if(h==0){(d[0]+=s)==bc&&(d[0]=1,++r.e);break}else{if(d[h]+=s,d[h]!=bc)break;d[h--]=0,s=1}for(a=d.length;d[--a]===0;)d.pop();if(Io&&(r.e>Lv||r.e<-Lv))throw Error(W4+El(r));return r}function Jk(r,e){var n,a,i,s,c,l,u,o,h,d,A=r.constructor,f=A.precision;if(!r.s||!e.s)return e.s?e.s=-e.s:e=new A(r),Io?Xs(e,f):e;if(u=r.d,d=e.d,a=e.e,o=r.e,u=u.slice(),c=o-a,c){for(h=c<0,h?(n=u,c=-c,l=d.length):(n=d,a=o,l=u.length),i=Math.max(Math.ceil(f/xo),l)+2,c>i&&(c=i,n.length=1),n.reverse(),i=c;i--;)n.push(0);n.reverse()}else{for(i=u.length,l=d.length,h=i<l,h&&(l=i),i=0;i<l;i++)if(u[i]!=d[i]){h=u[i]<d[i];break}c=0}for(h&&(n=u,u=d,d=n,e.s=-e.s),l=u.length,i=d.length-l;i>0;--i)u[l++]=0;for(i=d.length;i>c;){if(u[--i]<d[i]){for(s=i;s&&u[--s]===0;)u[s]=bc-1;--u[s],u[i]+=bc}u[i]-=d[i]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--a;return u[0]?(e.d=u,e.e=a,Io?Xs(e,f):e):new A(0)}function cp(r,e,n){var a,i=El(r),s=Th(r.d),c=s.length;return e?(n&&(a=n-c)>0?s=s.charAt(0)+"."+s.slice(1)+ZA(a):c>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+ZA(-i-1)+s,n&&(a=n-c)>0&&(s+=ZA(a))):i>=c?(s+=ZA(i+1-c),n&&(a=n-i-1)>0&&(s=s+"."+ZA(a))):((a=i+1)<c&&(s=s.slice(0,a)+"."+s.slice(a)),n&&(a=n-c)>0&&(i+1===c&&(s+="."),s+=ZA(a))),r.s<0?"-"+s:s}function mI(r,e){if(r.length>e)return r.length=e,!0}function eP(r){var e,n,a;function i(s){var c=this;if(!(c instanceof i))return new i(s);if(c.constructor=i,s instanceof i){c.s=s.s,c.e=s.e,c.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(np+s);if(s>0)c.s=1;else if(s<0)s=-s,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(s===~~s&&s<1e7){c.e=0,c.d=[s];return}return pI(c,s.toString())}else if(typeof s!="string")throw Error(np+s);if(s.charCodeAt(0)===45?(s=s.slice(1),c.s=-1):c.s=1,GW.test(s))pI(c,s);else throw Error(np+s)}if(i.prototype=Kn,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=eP,i.config=i.set=qW,r===void 0&&(r={}),r)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<a.length;)r.hasOwnProperty(n=a[e++])||(r[n]=this[n]);return i.config(r),i}function qW(r){if(!r||typeof r!="object")throw Error(Vd+"Object expected");var e,n,a,i=["precision",1,Mm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((a=r[n=i[e]])!==void 0)if(Rm(a)===a&&a>=i[e+1]&&a<=i[e+2])this[n]=a;else throw Error(np+n+": "+a);if((a=r[n="LN10"])!==void 0)if(a==Math.LN10)this[n]=new this(a);else throw Error(np+n+": "+a);return this}var $4=eP(KW);ud=new $4(1);const $s=$4;function XW(r){return e$(r)||JW(r)||ZW(r)||YW()}function YW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZW(r,e){if(r){if(typeof r=="string")return HC(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HC(r,e)}}function JW(r){if(typeof Symbol<"u"&&Symbol.iterator in Object(r))return Array.from(r)}function e$(r){if(Array.isArray(r))return HC(r)}function HC(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}var t$=function(e){return e},tP={},rP=function(e){return e===tP},gI=function(e){return function n(){return arguments.length===0||arguments.length===1&&rP(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},r$=function r(e,n){return e===1?n:gI(function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];var c=i.filter(function(l){return l!==tP}).length;return c>=e?n.apply(void 0,i):r(e-c,gI(function(){for(var l=arguments.length,u=new Array(l),o=0;o<l;o++)u[o]=arguments[o];var h=i.map(function(d){return rP(d)?u.shift():d});return n.apply(void 0,XW(h).concat(u))}))})},Kx=function(e){return r$(e.length,e)},QC=function(e,n){for(var a=[],i=e;i<n;++i)a[i-e]=i;return a},n$=Kx(function(r,e){return Array.isArray(e)?e.map(r):Object.keys(e).map(function(n){return e[n]}).map(r)}),a$=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];if(!n.length)return t$;var i=n.reverse(),s=i[0],c=i.slice(1);return function(){return c.reduce(function(l,u){return u(l)},s.apply(void 0,arguments))}},WC=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},nP=function(e){var n=null,a=null;return function(){for(var i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return n&&s.every(function(l,u){return l===n[u]})||(n=s,a=e.apply(void 0,s)),a}};function i$(r){var e;return r===0?e=1:e=Math.floor(new $s(r).abs().log(10).toNumber())+1,e}function s$(r,e,n){for(var a=new $s(r),i=0,s=[];a.lt(e)&&i<1e5;)s.push(a.toNumber()),a=a.add(n),i++;return s}var o$=Kx(function(r,e,n){var a=+r,i=+e;return a+n*(i-a)}),l$=Kx(function(r,e,n){var a=e-+r;return a=a||1/0,(n-r)/a}),c$=Kx(function(r,e,n){var a=e-+r;return a=a||1/0,Math.max(0,Math.min(1,(n-r)/a))});const Gx={rangeStep:s$,getDigitCount:i$,interpolateNumber:o$,uninterpolateNumber:l$,uninterpolateTruncation:c$};function $C(r){return h$(r)||d$(r)||aP(r)||u$()}function u$(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d$(r){if(typeof Symbol<"u"&&Symbol.iterator in Object(r))return Array.from(r)}function h$(r){if(Array.isArray(r))return VC(r)}function fg(r,e){return p$(r)||f$(r,e)||aP(r,e)||A$()}function A$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aP(r,e){if(r){if(typeof r=="string")return VC(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VC(r,e)}}function VC(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function f$(r,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(r)))){var n=[],a=!0,i=!1,s=void 0;try{for(var c=r[Symbol.iterator](),l;!(a=(l=c.next()).done)&&(n.push(l.value),!(e&&n.length===e));a=!0);}catch(u){i=!0,s=u}finally{try{!a&&c.return!=null&&c.return()}finally{if(i)throw s}}return n}}function p$(r){if(Array.isArray(r))return r}function iP(r){var e=fg(r,2),n=e[0],a=e[1],i=n,s=a;return n>a&&(i=a,s=n),[i,s]}function sP(r,e,n){if(r.lte(0))return new $s(0);var a=Gx.getDigitCount(r.toNumber()),i=new $s(10).pow(a),s=r.div(i),c=a!==1?.05:.1,l=new $s(Math.ceil(s.div(c).toNumber())).add(n).mul(c),u=l.mul(i);return e?u:new $s(Math.ceil(u))}function m$(r,e,n){var a=1,i=new $s(r);if(!i.isint()&&n){var s=Math.abs(r);s<1?(a=new $s(10).pow(Gx.getDigitCount(r)-1),i=new $s(Math.floor(i.div(a).toNumber())).mul(a)):s>1&&(i=new $s(Math.floor(r)))}else r===0?i=new $s(Math.floor((e-1)/2)):n||(i=new $s(Math.floor(r)));var c=Math.floor((e-1)/2),l=a$(n$(function(u){return i.add(new $s(u-c).mul(a)).toNumber()}),QC);return l(0,e)}function oP(r,e,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-r)/(n-1)))return{step:new $s(0),tickMin:new $s(0),tickMax:new $s(0)};var s=sP(new $s(e).sub(r).div(n-1),a,i),c;r<=0&&e>=0?c=new $s(0):(c=new $s(r).add(e).div(2),c=c.sub(new $s(c).mod(s)));var l=Math.ceil(c.sub(r).div(s).toNumber()),u=Math.ceil(new $s(e).sub(c).div(s).toNumber()),o=l+u+1;return o>n?oP(r,e,n,a,i+1):(o<n&&(u=e>0?u+(n-o):u,l=e>0?l:l+(n-o)),{step:s,tickMin:c.sub(new $s(l).mul(s)),tickMax:c.add(new $s(u).mul(s))})}function g$(r){var e=fg(r,2),n=e[0],a=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(i,2),l=iP([n,a]),u=fg(l,2),o=u[0],h=u[1];if(o===-1/0||h===1/0){var d=h===1/0?[o].concat($C(QC(0,i-1).map(function(){return 1/0}))):[].concat($C(QC(0,i-1).map(function(){return-1/0})),[h]);return n>a?WC(d):d}if(o===h)return m$(o,i,s);var A=oP(o,h,c,s),f=A.step,g=A.tickMin,m=A.tickMax,x=Gx.rangeStep(g,m.add(new $s(.1).mul(f)),f);return n>a?WC(x):x}function v$(r,e){var n=fg(r,2),a=n[0],i=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=iP([a,i]),l=fg(c,2),u=l[0],o=l[1];if(u===-1/0||o===1/0)return[a,i];if(u===o)return[u];var h=Math.max(e,2),d=sP(new $s(o).sub(u).div(h-1),s,0),A=[].concat($C(Gx.rangeStep(new $s(u),new $s(o).sub(new $s(.99).mul(d)),d)),[o]);return a>i?WC(A):A}var x$=nP(g$),y$=nP(v$),b$="Invariant failed";function up(r,e){throw new Error(b$)}var w$=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function dm(r){"@babel/helpers - typeof";return dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dm(r)}function Uv(){return Uv=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},Uv.apply(this,arguments)}function j$(r,e){return E$(r)||S$(r,e)||N$(r,e)||C$()}function C$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N$(r,e){if(r){if(typeof r=="string")return vI(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vI(r,e)}}function vI(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function S$(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,i,s,c,l=[],u=!0,o=!1;try{if(s=(n=n.call(r)).next,e!==0)for(;!(u=(a=s.call(n)).done)&&(l.push(a.value),l.length!==e);u=!0);}catch(h){o=!0,i=h}finally{try{if(!u&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(o)throw i}}return l}}function E$(r){if(Array.isArray(r))return r}function B$(r,e){if(r==null)return{};var n=I$(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function I$(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function T$(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function _$(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,uP(a.key),a)}}function O$(r,e,n){return e&&_$(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function k$(r,e,n){return e=Hv(e),P$(r,lP()?Reflect.construct(e,n||[],Hv(r).constructor):e.apply(r,n))}function P$(r,e){if(e&&(dm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F$(r)}function F$(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function lP(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lP=function(){return!!r})()}function Hv(r){return Hv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hv(r)}function D$(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&zC(r,e)}function zC(r,e){return zC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},zC(r,e)}function cP(r,e,n){return e=uP(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function uP(r){var e=M$(r,"string");return dm(e)=="symbol"?e:e+""}function M$(r,e){if(dm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(dm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var Vg=(function(r){function e(){return T$(this,e),k$(this,e,arguments)}return D$(e,r),O$(e,[{key:"render",value:function(){var a=this.props,i=a.offset,s=a.layout,c=a.width,l=a.dataKey,u=a.data,o=a.dataPointFormatter,h=a.xAxis,d=a.yAxis,A=B$(a,w$),f=ka(A,!1);this.props.direction==="x"&&h.type!=="number"&&up();var g=u.map(function(m){var x=o(m,l),y=x.x,b=x.y,w=x.value,S=x.errorVal;if(!S)return null;var N=[],C,O;if(Array.isArray(S)){var W=j$(S,2);C=W[0],O=W[1]}else C=O=S;if(s==="vertical"){var K=h.scale,te=b+i,q=te+c,Y=te-c,P=K(w-C),ce=K(w+O);N.push({x1:ce,y1:q,x2:ce,y2:Y}),N.push({x1:P,y1:te,x2:ce,y2:te}),N.push({x1:P,y1:q,x2:P,y2:Y})}else if(s==="horizontal"){var $=d.scale,R=y+i,se=R-c,fe=R+c,Te=$(w-C),Ie=$(w+O);N.push({x1:se,y1:Ie,x2:fe,y2:Ie}),N.push({x1:R,y1:Te,x2:R,y2:Ie}),N.push({x1:se,y1:Te,x2:fe,y2:Te})}return xt.createElement(ls,Uv({className:"recharts-errorBar",key:"bar-".concat(N.map(function(_e){return"".concat(_e.x1,"-").concat(_e.x2,"-").concat(_e.y1,"-").concat(_e.y2)}))},f),N.map(function(_e){return xt.createElement("line",Uv({},_e,{key:"line-".concat(_e.x1,"-").concat(_e.x2,"-").concat(_e.y1,"-").concat(_e.y2)}))}))});return xt.createElement(ls,{className:"recharts-errorBars"},g)}}])})(xt.Component);cP(Vg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});cP(Vg,"displayName","ErrorBar");function pg(r){"@babel/helpers - typeof";return pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pg(r)}function xI(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function Pf(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xI(Object(n),!0).forEach(function(a){R$(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):xI(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function R$(r,e,n){return e=L$(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function L$(r){var e=U$(r,"string");return pg(e)=="symbol"?e:e+""}function U$(r,e){if(pg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(pg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var dP=function(e){var n=e.children,a=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,c=od(n,Ih);if(!c)return null;var l=Ih.defaultProps,u=l!==void 0?Pf(Pf({},l),c.props):{},o;return c.props&&c.props.payload?o=c.props&&c.props.payload:s==="children"?o=(a||[]).reduce(function(h,d){var A=d.item,f=d.props,g=f.sectors||f.data||[];return h.concat(g.map(function(m){return{type:c.props.iconType||A.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):o=(a||[]).map(function(h){var d=h.item,A=d.type.defaultProps,f=A!==void 0?Pf(Pf({},A),d.props):{},g=f.dataKey,m=f.name,x=f.legendType,y=f.hide;return{inactive:y,dataKey:g,type:u.iconType||x||"square",color:V4(d),value:m||g,payload:f}}),Pf(Pf(Pf({},u),Ih.getWithHeight(c,i)),{},{payload:o,item:c})};function mg(r){"@babel/helpers - typeof";return mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mg(r)}function yI(r){return $$(r)||W$(r)||Q$(r)||H$()}function H$(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q$(r,e){if(r){if(typeof r=="string")return KC(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KC(r,e)}}function W$(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function $$(r){if(Array.isArray(r))return KC(r)}function KC(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function bI(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function rl(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bI(Object(n),!0).forEach(function(a){rm(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):bI(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function rm(r,e,n){return e=V$(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function V$(r){var e=z$(r,"string");return mg(e)=="symbol"?e:e+""}function z$(r,e){if(mg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(mg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function ql(r,e,n){return ci(r)||ci(e)?n:Zl(e)?dd(r,e,n):Ja(e)?e(r):n}function z0(r,e,n,a){var i=$W(r,function(l){return ql(l,e)});if(n==="number"){var s=i.filter(function(l){return vn(l)||parseFloat(l)});return s.length?[zx(s),Vx(s)]:[1/0,-1/0]}var c=a?i.filter(function(l){return!ci(l)}):i;return c.map(function(l){return Zl(l)||l instanceof Date?l:""})}var K$=function(e){var n,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,c=-1,l=(n=a==null?void 0:a.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var u=s.range,o=0;o<l;o++){var h=o>0?i[o-1].coordinate:i[l-1].coordinate,d=i[o].coordinate,A=o>=l-1?i[0].coordinate:i[o+1].coordinate,f=void 0;if(wu(d-h)!==wu(A-d)){var g=[];if(wu(A-d)===wu(u[1]-u[0])){f=A;var m=d+u[1]-u[0];g[0]=Math.min(m,(m+h)/2),g[1]=Math.max(m,(m+h)/2)}else{f=h;var x=A+u[1]-u[0];g[0]=Math.min(d,(x+d)/2),g[1]=Math.max(d,(x+d)/2)}var y=[Math.min(d,(f+d)/2),Math.max(d,(f+d)/2)];if(e>y[0]&&e<=y[1]||e>=g[0]&&e<=g[1]){c=i[o].index;break}}else{var b=Math.min(h,A),w=Math.max(h,A);if(e>(b+d)/2&&e<=(w+d)/2){c=i[o].index;break}}}else for(var S=0;S<l;S++)if(S===0&&e<=(a[S].coordinate+a[S+1].coordinate)/2||S>0&&S<l-1&&e>(a[S].coordinate+a[S-1].coordinate)/2&&e<=(a[S].coordinate+a[S+1].coordinate)/2||S===l-1&&e>(a[S].coordinate+a[S-1].coordinate)/2){c=a[S].index;break}return c},V4=function(e){var n,a=e,i=a.type.displayName,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?rl(rl({},e.type.defaultProps),e.props):e.props,c=s.stroke,l=s.fill,u;switch(i){case"Line":u=c;break;case"Area":case"Radar":u=c&&c!=="none"?c:l;break;default:u=l;break}return u},G$=function(e){var n=e.barSize,a=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var c={},l=Object.keys(s),u=0,o=l.length;u<o;u++)for(var h=s[l[u]].stackGroups,d=Object.keys(h),A=0,f=d.length;A<f;A++){var g=h[d[A]],m=g.items,x=g.cateAxisId,y=m.filter(function(O){return fA(O.type).indexOf("Bar")>=0});if(y&&y.length){var b=y[0].type.defaultProps,w=b!==void 0?rl(rl({},b),y[0].props):y[0].props,S=w.barSize,N=w[x];c[N]||(c[N]=[]);var C=ci(S)?n:S;c[N].push({item:y[0],stackList:y.slice(1),barSize:ci(C)?void 0:ju(C,a,0)})}}return c},q$=function(e){var n=e.barGap,a=e.barCategoryGap,i=e.bandSize,s=e.sizeList,c=s===void 0?[]:s,l=e.maxBarSize,u=c.length;if(u<1)return null;var o=ju(n,i,0,!0),h,d=[];if(c[0].barSize===+c[0].barSize){var A=!1,f=i/u,g=c.reduce(function(S,N){return S+N.barSize||0},0);g+=(u-1)*o,g>=i&&(g-=(u-1)*o,o=0),g>=i&&f>0&&(A=!0,f*=.9,g=u*f);var m=(i-g)/2>>0,x={offset:m-o,size:0};h=c.reduce(function(S,N){var C={item:N.item,position:{offset:x.offset+x.size+o,size:A?f:N.barSize}},O=[].concat(yI(S),[C]);return x=O[O.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(W){O.push({item:W,position:x})}),O},d)}else{var y=ju(a,i,0,!0);i-2*y-(u-1)*o<=0&&(o=0);var b=(i-2*y-(u-1)*o)/u;b>1&&(b>>=0);var w=l===+l?Math.min(b,l):b;h=c.reduce(function(S,N,C){var O=[].concat(yI(S),[{item:N.item,position:{offset:y+(b+o)*C+(b-w)/2,size:w}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(W){O.push({item:W,position:O[O.length-1].position})}),O},d)}return h},X$=function(e,n,a,i){var s=a.children,c=a.width,l=a.margin,u=c-(l.left||0)-(l.right||0),o=dP({children:s,legendWidth:u});if(o){var h=i||{},d=h.width,A=h.height,f=o.align,g=o.verticalAlign,m=o.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&f!=="center"&&vn(e[f]))return rl(rl({},e),{},rm({},f,e[f]+(d||0)));if((m==="horizontal"||m==="vertical"&&f==="center")&&g!=="middle"&&vn(e[g]))return rl(rl({},e),{},rm({},g,e[g]+(A||0)))}return e},Y$=function(e,n,a){return ci(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||a==="x"?n==="xAxis":a==="y"?n==="yAxis":!0},hP=function(e,n,a,i,s){var c=n.props.children,l=hd(c,Vg).filter(function(o){return Y$(i,s,o.props.direction)});if(l&&l.length){var u=l.map(function(o){return o.props.dataKey});return e.reduce(function(o,h){var d=ql(h,a);if(ci(d))return o;var A=Array.isArray(d)?[zx(d),Vx(d)]:[d,d],f=u.reduce(function(g,m){var x=ql(h,m,0),y=A[0]-Math.abs(Array.isArray(x)?x[0]:x),b=A[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(y,g[0]),Math.max(b,g[1])]},[1/0,-1/0]);return[Math.min(f[0],o[0]),Math.max(f[1],o[1])]},[1/0,-1/0])}return null},Z$=function(e,n,a,i,s){var c=n.map(function(l){return hP(e,l,a,s,i)}).filter(function(l){return!ci(l)});return c&&c.length?c.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]):null},AP=function(e,n,a,i,s){var c=n.map(function(u){var o=u.props.dataKey;return a==="number"&&o&&hP(e,u,o,i)||z0(e,o,a,s)});if(a==="number")return c.reduce(function(u,o){return[Math.min(u[0],o[0]),Math.max(u[1],o[1])]},[1/0,-1/0]);var l={};return c.reduce(function(u,o){for(var h=0,d=o.length;h<d;h++)l[o[h]]||(l[o[h]]=!0,u.push(o[h]));return u},[])},fP=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},pP=function(e,n,a,i){if(i)return e.map(function(u){return u.coordinate});var s,c,l=e.map(function(u){return u.coordinate===n&&(s=!0),u.coordinate===a&&(c=!0),u.coordinate});return s||l.push(n),c||l.push(a),l},hA=function(e,n,a){if(!e)return null;var i=e.scale,s=e.duplicateDomain,c=e.type,l=e.range,u=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,o=(n||a)&&c==="category"&&i.bandwidth?i.bandwidth()/u:0;if(o=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?wu(l[0]-l[1])*2*o:o,n&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(d){var A=s?s.indexOf(d):d;return{coordinate:i(A)+o,value:d,offset:o}});return h.filter(function(d){return!Rg(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,A){return{coordinate:i(d)+o,value:d,index:A,offset:o}}):i.ticks&&!a?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+o,value:d,offset:o}}):i.domain().map(function(d,A){return{coordinate:i(d)+o,value:s?s[d]:d,index:A,offset:o}})},$w=new WeakMap,c1=function(e,n){if(typeof n!="function")return e;$w.has(e)||$w.set(e,new WeakMap);var a=$w.get(e);if(a.has(n))return a.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return a.set(n,i),i},mP=function(e,n,a){var i=e.scale,s=e.type,c=e.layout,l=e.axisType;if(i==="auto")return c==="radial"&&l==="radiusAxis"?{scale:lg(),realScaleType:"band"}:c==="radial"&&l==="angleAxis"?{scale:Fv(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!a)?{scale:V0(),realScaleType:"point"}:s==="category"?{scale:lg(),realScaleType:"band"}:{scale:Fv(),realScaleType:"linear"};if(Mg(i)){var u="scale".concat(Tx(i));return{scale:(sI[u]||V0)(),realScaleType:sI[u]?u:"point"}}return Ja(i)?{scale:i}:{scale:V0(),realScaleType:"point"}},wI=1e-4,gP=function(e){var n=e.domain();if(!(!n||n.length<=2)){var a=n.length,i=e.range(),s=Math.min(i[0],i[1])-wI,c=Math.max(i[0],i[1])+wI,l=e(n[0]),u=e(n[a-1]);(l<s||l>c||u<s||u>c)&&e.domain([n[0],n[a-1]])}},J$=function(e,n){if(!e)return null;for(var a=0,i=e.length;a<i;a++)if(e[a].item===n)return e[a].position;return null},eV=function(e,n){if(!n||n.length!==2||!vn(n[0])||!vn(n[1]))return e;var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),s=[e[0],e[1]];return(!vn(e[0])||e[0]<a)&&(s[0]=a),(!vn(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<a&&(s[1]=a),s},tV=function(e){var n=e.length;if(!(n<=0))for(var a=0,i=e[0].length;a<i;++a)for(var s=0,c=0,l=0;l<n;++l){var u=Rg(e[l][a][1])?e[l][a][0]:e[l][a][1];u>=0?(e[l][a][0]=s,e[l][a][1]=s+u,s=e[l][a][1]):(e[l][a][0]=c,e[l][a][1]=c+u,c=e[l][a][1])}},rV=function(e){var n=e.length;if(!(n<=0))for(var a=0,i=e[0].length;a<i;++a)for(var s=0,c=0;c<n;++c){var l=Rg(e[c][a][1])?e[c][a][0]:e[c][a][1];l>=0?(e[c][a][0]=s,e[c][a][1]=s+l,s=e[c][a][1]):(e[c][a][0]=0,e[c][a][1]=0)}},nV={sign:tV,expand:WL,none:nm,silhouette:$L,wiggle:VL,positive:rV},aV=function(e,n,a){var i=n.map(function(l){return l.props.dataKey}),s=nV[a],c=QL().keys(i).value(function(l,u){return+ql(l,u,0)}).order(jC).offset(s);return c(e)},iV=function(e,n,a,i,s,c){if(!e)return null;var l=c?n.reverse():n,u={},o=l.reduce(function(d,A){var f,g=(f=A.type)!==null&&f!==void 0&&f.defaultProps?rl(rl({},A.type.defaultProps),A.props):A.props,m=g.stackId,x=g.hide;if(x)return d;var y=g[a],b=d[y]||{hasStack:!1,stackGroups:{}};if(Zl(m)){var w=b.stackGroups[m]||{numericAxisId:a,cateAxisId:i,items:[]};w.items.push(A),b.hasStack=!0,b.stackGroups[m]=w}else b.stackGroups[Pm("_stackId_")]={numericAxisId:a,cateAxisId:i,items:[A]};return rl(rl({},d),{},rm({},y,b))},u),h={};return Object.keys(o).reduce(function(d,A){var f=o[A];if(f.hasStack){var g={};f.stackGroups=Object.keys(f.stackGroups).reduce(function(m,x){var y=f.stackGroups[x];return rl(rl({},m),{},rm({},x,{numericAxisId:a,cateAxisId:i,items:y.items,stackedData:aV(e,y.items,s)}))},g)}return rl(rl({},d),{},rm({},A,f))},h)},vP=function(e,n){var a=n.realScaleType,i=n.type,s=n.tickCount,c=n.originalDomain,l=n.allowDecimals,u=a||n.scale;if(u!=="auto"&&u!=="linear")return null;if(s&&i==="number"&&c&&(c[0]==="auto"||c[1]==="auto")){var o=e.domain();if(!o.length)return null;var h=x$(o,s,l);return e.domain([zx(h),Vx(h)]),{niceTicks:h}}if(s&&i==="number"){var d=e.domain(),A=y$(d,s,l);return{niceTicks:A}}return null};function jI(r){var e=r.axis,n=r.ticks,a=r.bandSize,i=r.entry,s=r.index,c=r.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ci(i[e.dataKey])){var l=mv(n,"value",i[e.dataKey]);if(l)return l.coordinate+a/2}return n[s]?n[s].coordinate+a/2:null}var u=ql(i,ci(c)?e.dataKey:c);return ci(u)?null:e.scale(u)}var CI=function(e){var n=e.axis,a=e.ticks,i=e.offset,s=e.bandSize,c=e.entry,l=e.index;if(n.type==="category")return a[l]?a[l].coordinate+i:null;var u=ql(c,n.dataKey,n.domain[l]);return ci(u)?null:n.scale(u)-s/2+i},sV=function(e){var n=e.numericAxis,a=n.scale.domain();if(n.type==="number"){var i=Math.min(a[0],a[1]),s=Math.max(a[0],a[1]);return i<=0&&s>=0?0:s<0?s:i}return a[0]},oV=function(e,n){var a,i=(a=e.type)!==null&&a!==void 0&&a.defaultProps?rl(rl({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(Zl(s)){var c=n[s];if(c){var l=c.items.indexOf(e);return l>=0?c.stackedData[l]:null}}return null},lV=function(e){return e.reduce(function(n,a){return[zx(a.concat([n[0]]).filter(vn)),Vx(a.concat([n[1]]).filter(vn))]},[1/0,-1/0])},xP=function(e,n,a){return Object.keys(e).reduce(function(i,s){var c=e[s],l=c.stackedData,u=l.reduce(function(o,h){var d=lV(h.slice(n,a+1));return[Math.min(o[0],d[0]),Math.max(o[1],d[1])]},[1/0,-1/0]);return[Math.min(u[0],i[0]),Math.max(u[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},NI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,SI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,GC=function(e,n,a){if(Ja(e))return e(n,a);if(!Array.isArray(e))return n;var i=[];if(vn(e[0]))i[0]=a?e[0]:Math.min(e[0],n[0]);else if(NI.test(e[0])){var s=+NI.exec(e[0])[1];i[0]=n[0]-s}else Ja(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(vn(e[1]))i[1]=a?e[1]:Math.max(e[1],n[1]);else if(SI.test(e[1])){var c=+SI.exec(e[1])[1];i[1]=n[1]+c}else Ja(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Qv=function(e,n,a){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!a||i>0)return i}if(e&&n&&n.length>=2){for(var s=x4(n,function(d){return d.coordinate}),c=1/0,l=1,u=s.length;l<u;l++){var o=s[l],h=s[l-1];c=Math.min((o.coordinate||0)-(h.coordinate||0),c)}return c===1/0?0:c}return a?void 0:0},EI=function(e,n,a){return!e||!e.length||$g(e,dd(a,"type.defaultProps.domain"))?n:e},yP=function(e,n){var a=e.type.defaultProps?rl(rl({},e.type.defaultProps),e.props):e.props,i=a.dataKey,s=a.name,c=a.unit,l=a.formatter,u=a.tooltipType,o=a.chartType,h=a.hide;return rl(rl({},ka(e,!1)),{},{dataKey:i,unit:c,formatter:l,name:s||i,color:V4(e),value:ql(n,i),type:u,payload:n,chartType:o,hide:h})};function gg(r){"@babel/helpers - typeof";return gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gg(r)}function BI(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function lA(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BI(Object(n),!0).forEach(function(a){bP(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):BI(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function bP(r,e,n){return e=cV(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function cV(r){var e=uV(r,"string");return gg(e)=="symbol"?e:e+""}function uV(r,e){if(gg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(gg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function dV(r,e){return pV(r)||fV(r,e)||AV(r,e)||hV()}function hV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AV(r,e){if(r){if(typeof r=="string")return II(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return II(r,e)}}function II(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function fV(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,i,s,c,l=[],u=!0,o=!1;try{if(s=(n=n.call(r)).next,e!==0)for(;!(u=(a=s.call(n)).done)&&(l.push(a.value),l.length!==e);u=!0);}catch(h){o=!0,i=h}finally{try{if(!u&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(o)throw i}}return l}}function pV(r){if(Array.isArray(r))return r}var Wv=Math.PI/180,mV=function(e){return e*180/Math.PI},so=function(e,n,a,i){return{x:e+Math.cos(-Wv*i)*a,y:n+Math.sin(-Wv*i)*a}},wP=function(e,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(a.left||0)-(a.right||0)),Math.abs(n-(a.top||0)-(a.bottom||0)))/2},gV=function(e,n,a,i,s){var c=e.width,l=e.height,u=e.startAngle,o=e.endAngle,h=ju(e.cx,c,c/2),d=ju(e.cy,l,l/2),A=wP(c,l,a),f=ju(e.innerRadius,A,0),g=ju(e.outerRadius,A,A*.8),m=Object.keys(n);return m.reduce(function(x,y){var b=n[y],w=b.domain,S=b.reversed,N;if(ci(b.range))i==="angleAxis"?N=[u,o]:i==="radiusAxis"&&(N=[f,g]),S&&(N=[N[1],N[0]]);else{N=b.range;var C=N,O=dV(C,2);u=O[0],o=O[1]}var W=mP(b,s),K=W.realScaleType,te=W.scale;te.domain(w).range(N),gP(te);var q=vP(te,lA(lA({},b),{},{realScaleType:K})),Y=lA(lA(lA({},b),q),{},{range:N,radius:g,realScaleType:K,scale:te,cx:h,cy:d,innerRadius:f,outerRadius:g,startAngle:u,endAngle:o});return lA(lA({},x),{},bP({},y,Y))},{})},vV=function(e,n){var a=e.x,i=e.y,s=n.x,c=n.y;return Math.sqrt(Math.pow(a-s,2)+Math.pow(i-c,2))},xV=function(e,n){var a=e.x,i=e.y,s=n.cx,c=n.cy,l=vV({x:a,y:i},{x:s,y:c});if(l<=0)return{radius:l};var u=(a-s)/l,o=Math.acos(u);return i>c&&(o=2*Math.PI-o),{radius:l,angle:mV(o),angleInRadian:o}},yV=function(e){var n=e.startAngle,a=e.endAngle,i=Math.floor(n/360),s=Math.floor(a/360),c=Math.min(i,s);return{startAngle:n-c*360,endAngle:a-c*360}},bV=function(e,n){var a=n.startAngle,i=n.endAngle,s=Math.floor(a/360),c=Math.floor(i/360),l=Math.min(s,c);return e+l*360},TI=function(e,n){var a=e.x,i=e.y,s=xV({x:a,y:i},n),c=s.radius,l=s.angle,u=n.innerRadius,o=n.outerRadius;if(c<u||c>o)return!1;if(c===0)return!0;var h=yV(n),d=h.startAngle,A=h.endAngle,f=l,g;if(d<=A){for(;f>A;)f-=360;for(;f<d;)f+=360;g=f>=d&&f<=A}else{for(;f>d;)f-=360;for(;f<A;)f+=360;g=f>=A&&f<=d}return g?lA(lA({},n),{},{radius:c,angle:bV(f,n)}):null},jP=function(e){return!k.isValidElement(e)&&!Ja(e)&&typeof e!="boolean"?e.className:""};function vg(r){"@babel/helpers - typeof";return vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vg(r)}var wV=["offset"];function jV(r){return EV(r)||SV(r)||NV(r)||CV()}function CV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NV(r,e){if(r){if(typeof r=="string")return qC(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qC(r,e)}}function SV(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function EV(r){if(Array.isArray(r))return qC(r)}function qC(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function BV(r,e){if(r==null)return{};var n=IV(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function IV(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function _I(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function Wl(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_I(Object(n),!0).forEach(function(a){TV(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):_I(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function TV(r,e,n){return e=_V(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function _V(r){var e=OV(r,"string");return vg(e)=="symbol"?e:e+""}function OV(r,e){if(vg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(vg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function xg(){return xg=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},xg.apply(this,arguments)}var kV=function(e){var n=e.value,a=e.formatter,i=ci(e.children)?n:e.children;return Ja(a)?a(i):i},PV=function(e,n){var a=wu(n-e),i=Math.min(Math.abs(n-e),360);return a*i},FV=function(e,n,a){var i=e.position,s=e.viewBox,c=e.offset,l=e.className,u=s,o=u.cx,h=u.cy,d=u.innerRadius,A=u.outerRadius,f=u.startAngle,g=u.endAngle,m=u.clockWise,x=(d+A)/2,y=PV(f,g),b=y>=0?1:-1,w,S;i==="insideStart"?(w=f+b*c,S=m):i==="insideEnd"?(w=g-b*c,S=!m):i==="end"&&(w=g+b*c,S=m),S=y<=0?S:!S;var N=so(o,h,x,w),C=so(o,h,x,w+(S?1:-1)*359),O="M".concat(N.x,",").concat(N.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(S?0:1,`,
    `).concat(C.x,",").concat(C.y),W=ci(e.id)?Pm("recharts-radial-line-"):e.id;return xt.createElement("text",xg({},a,{dominantBaseline:"central",className:vi("recharts-radial-bar-label",l)}),xt.createElement("defs",null,xt.createElement("path",{id:W,d:O})),xt.createElement("textPath",{xlinkHref:"#".concat(W)},n))},DV=function(e){var n=e.viewBox,a=e.offset,i=e.position,s=n,c=s.cx,l=s.cy,u=s.innerRadius,o=s.outerRadius,h=s.startAngle,d=s.endAngle,A=(h+d)/2;if(i==="outside"){var f=so(c,l,o+a,A),g=f.x,m=f.y;return{x:g,y:m,textAnchor:g>=c?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:c,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:c,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:c,y:l,textAnchor:"middle",verticalAnchor:"end"};var x=(u+o)/2,y=so(c,l,x,A),b=y.x,w=y.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},MV=function(e){var n=e.viewBox,a=e.parentViewBox,i=e.offset,s=e.position,c=n,l=c.x,u=c.y,o=c.width,h=c.height,d=h>=0?1:-1,A=d*i,f=d>0?"end":"start",g=d>0?"start":"end",m=o>=0?1:-1,x=m*i,y=m>0?"end":"start",b=m>0?"start":"end";if(s==="top"){var w={x:l+o/2,y:u-d*i,textAnchor:"middle",verticalAnchor:f};return Wl(Wl({},w),a?{height:Math.max(u-a.y,0),width:o}:{})}if(s==="bottom"){var S={x:l+o/2,y:u+h+A,textAnchor:"middle",verticalAnchor:g};return Wl(Wl({},S),a?{height:Math.max(a.y+a.height-(u+h),0),width:o}:{})}if(s==="left"){var N={x:l-x,y:u+h/2,textAnchor:y,verticalAnchor:"middle"};return Wl(Wl({},N),a?{width:Math.max(N.x-a.x,0),height:h}:{})}if(s==="right"){var C={x:l+o+x,y:u+h/2,textAnchor:b,verticalAnchor:"middle"};return Wl(Wl({},C),a?{width:Math.max(a.x+a.width-C.x,0),height:h}:{})}var O=a?{width:o,height:h}:{};return s==="insideLeft"?Wl({x:l+x,y:u+h/2,textAnchor:b,verticalAnchor:"middle"},O):s==="insideRight"?Wl({x:l+o-x,y:u+h/2,textAnchor:y,verticalAnchor:"middle"},O):s==="insideTop"?Wl({x:l+o/2,y:u+A,textAnchor:"middle",verticalAnchor:g},O):s==="insideBottom"?Wl({x:l+o/2,y:u+h-A,textAnchor:"middle",verticalAnchor:f},O):s==="insideTopLeft"?Wl({x:l+x,y:u+A,textAnchor:b,verticalAnchor:g},O):s==="insideTopRight"?Wl({x:l+o-x,y:u+A,textAnchor:y,verticalAnchor:g},O):s==="insideBottomLeft"?Wl({x:l+x,y:u+h-A,textAnchor:b,verticalAnchor:f},O):s==="insideBottomRight"?Wl({x:l+o-x,y:u+h-A,textAnchor:y,verticalAnchor:f},O):km(s)&&(vn(s.x)||Xf(s.x))&&(vn(s.y)||Xf(s.y))?Wl({x:l+ju(s.x,o),y:u+ju(s.y,h),textAnchor:"end",verticalAnchor:"end"},O):Wl({x:l+o/2,y:u+h/2,textAnchor:"middle",verticalAnchor:"middle"},O)},RV=function(e){return"cx"in e&&vn(e.cx)};function wc(r){var e=r.offset,n=e===void 0?5:e,a=BV(r,wV),i=Wl({offset:n},a),s=i.viewBox,c=i.position,l=i.value,u=i.children,o=i.content,h=i.className,d=h===void 0?"":h,A=i.textBreakAll;if(!s||ci(l)&&ci(u)&&!k.isValidElement(o)&&!Ja(o))return null;if(k.isValidElement(o))return k.cloneElement(o,i);var f;if(Ja(o)){if(f=k.createElement(o,i),k.isValidElement(f))return f}else f=kV(i);var g=RV(s),m=ka(i,!0);if(g&&(c==="insideStart"||c==="insideEnd"||c==="end"))return FV(i,f,m);var x=g?DV(i):MV(i);return xt.createElement(lp,xg({className:vi("recharts-label",d)},m,x,{breakAll:A}),f)}wc.displayName="Label";var CP=function(e){var n=e.cx,a=e.cy,i=e.angle,s=e.startAngle,c=e.endAngle,l=e.r,u=e.radius,o=e.innerRadius,h=e.outerRadius,d=e.x,A=e.y,f=e.top,g=e.left,m=e.width,x=e.height,y=e.clockWise,b=e.labelViewBox;if(b)return b;if(vn(m)&&vn(x)){if(vn(d)&&vn(A))return{x:d,y:A,width:m,height:x};if(vn(f)&&vn(g))return{x:f,y:g,width:m,height:x}}return vn(d)&&vn(A)?{x:d,y:A,width:0,height:0}:vn(n)&&vn(a)?{cx:n,cy:a,startAngle:s||i||0,endAngle:c||i||0,innerRadius:o||0,outerRadius:h||u||l||0,clockWise:y}:e.viewBox?e.viewBox:{}},LV=function(e,n){return e?e===!0?xt.createElement(wc,{key:"label-implicit",viewBox:n}):Zl(e)?xt.createElement(wc,{key:"label-implicit",viewBox:n,value:e}):k.isValidElement(e)?e.type===wc?k.cloneElement(e,{key:"label-implicit",viewBox:n}):xt.createElement(wc,{key:"label-implicit",content:e,viewBox:n}):Ja(e)?xt.createElement(wc,{key:"label-implicit",content:e,viewBox:n}):km(e)?xt.createElement(wc,xg({viewBox:n},e,{key:"label-implicit"})):null:null},UV=function(e,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&a&&!e.label)return null;var i=e.children,s=CP(e),c=hd(i,wc).map(function(u,o){return k.cloneElement(u,{viewBox:n||s,key:"label-".concat(o)})});if(!a)return c;var l=LV(e.label,n||s);return[l].concat(jV(c))};wc.parseViewBox=CP;wc.renderCallByParent=UV;var Vw,OI;function HV(){if(OI)return Vw;OI=1;function r(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return Vw=r,Vw}var QV=HV();const WV=ts(QV);function yg(r){"@babel/helpers - typeof";return yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yg(r)}var $V=["valueAccessor"],VV=["data","dataKey","clockWise","id","textBreakAll"];function zV(r){return XV(r)||qV(r)||GV(r)||KV()}function KV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GV(r,e){if(r){if(typeof r=="string")return XC(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XC(r,e)}}function qV(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function XV(r){if(Array.isArray(r))return XC(r)}function XC(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function $v(){return $v=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},$v.apply(this,arguments)}function kI(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function PI(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kI(Object(n),!0).forEach(function(a){YV(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):kI(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function YV(r,e,n){return e=ZV(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function ZV(r){var e=JV(r,"string");return yg(e)=="symbol"?e:e+""}function JV(r,e){if(yg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(yg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function FI(r,e){if(r==null)return{};var n=ez(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function ez(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}var tz=function(e){return Array.isArray(e.value)?WV(e.value):e.value};function mA(r){var e=r.valueAccessor,n=e===void 0?tz:e,a=FI(r,$V),i=a.data,s=a.dataKey,c=a.clockWise,l=a.id,u=a.textBreakAll,o=FI(a,VV);return!i||!i.length?null:xt.createElement(ls,{className:"recharts-label-list"},i.map(function(h,d){var A=ci(s)?n(h,d):ql(h&&h.payload,s),f=ci(l)?{}:{id:"".concat(l,"-").concat(d)};return xt.createElement(wc,$v({},ka(h,!0),o,f,{parentViewBox:h.parentViewBox,value:A,textBreakAll:u,viewBox:wc.parseViewBox(ci(c)?h:PI(PI({},h),{},{clockWise:c})),key:"label-".concat(d),index:d}))}))}mA.displayName="LabelList";function rz(r,e){return r?r===!0?xt.createElement(mA,{key:"labelList-implicit",data:e}):xt.isValidElement(r)||Ja(r)?xt.createElement(mA,{key:"labelList-implicit",data:e,content:r}):km(r)?xt.createElement(mA,$v({data:e},r,{key:"labelList-implicit"})):null:null}function nz(r,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!r||!r.children&&n&&!r.label)return null;var a=r.children,i=hd(a,mA).map(function(c,l){return k.cloneElement(c,{data:e,key:"labelList-".concat(l)})});if(!n)return i;var s=rz(r.label,e);return[s].concat(zV(i))}mA.renderCallByParent=nz;function bg(r){"@babel/helpers - typeof";return bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bg(r)}function YC(){return YC=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},YC.apply(this,arguments)}function DI(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function MI(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DI(Object(n),!0).forEach(function(a){az(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):DI(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function az(r,e,n){return e=iz(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function iz(r){var e=sz(r,"string");return bg(e)=="symbol"?e:e+""}function sz(r,e){if(bg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(bg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var oz=function(e,n){var a=wu(n-e),i=Math.min(Math.abs(n-e),359.999);return a*i},u1=function(e){var n=e.cx,a=e.cy,i=e.radius,s=e.angle,c=e.sign,l=e.isExternal,u=e.cornerRadius,o=e.cornerIsExternal,h=u*(l?1:-1)+i,d=Math.asin(u/h)/Wv,A=o?s:s+c*d,f=so(n,a,h,A),g=so(n,a,i,A),m=o?s-c*d:s,x=so(n,a,h*Math.cos(d*Wv),m);return{center:f,circleTangency:g,lineTangency:x,theta:d}},NP=function(e){var n=e.cx,a=e.cy,i=e.innerRadius,s=e.outerRadius,c=e.startAngle,l=e.endAngle,u=oz(c,l),o=c+u,h=so(n,a,s,c),d=so(n,a,s,o),A="M ".concat(h.x,",").concat(h.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(c>o),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var f=so(n,a,i,c),g=so(n,a,i,o);A+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(c<=o),`,
            `).concat(f.x,",").concat(f.y," Z")}else A+="L ".concat(n,",").concat(a," Z");return A},lz=function(e){var n=e.cx,a=e.cy,i=e.innerRadius,s=e.outerRadius,c=e.cornerRadius,l=e.forceCornerRadius,u=e.cornerIsExternal,o=e.startAngle,h=e.endAngle,d=wu(h-o),A=u1({cx:n,cy:a,radius:s,angle:o,sign:d,cornerRadius:c,cornerIsExternal:u}),f=A.circleTangency,g=A.lineTangency,m=A.theta,x=u1({cx:n,cy:a,radius:s,angle:h,sign:-d,cornerRadius:c,cornerIsExternal:u}),y=x.circleTangency,b=x.lineTangency,w=x.theta,S=u?Math.abs(o-h):Math.abs(o-h)-m-w;if(S<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(c,",").concat(c,",0,0,1,").concat(c*2,`,0
        a`).concat(c,",").concat(c,",0,0,1,").concat(-c*2,`,0
      `):NP({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:o,endAngle:h});var N="M ".concat(g.x,",").concat(g.y,`
    A`).concat(c,",").concat(c,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(S>180),",").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(c,",").concat(c,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var C=u1({cx:n,cy:a,radius:i,angle:o,sign:d,isExternal:!0,cornerRadius:c,cornerIsExternal:u}),O=C.circleTangency,W=C.lineTangency,K=C.theta,te=u1({cx:n,cy:a,radius:i,angle:h,sign:-d,isExternal:!0,cornerRadius:c,cornerIsExternal:u}),q=te.circleTangency,Y=te.lineTangency,P=te.theta,ce=u?Math.abs(o-h):Math.abs(o-h)-K-P;if(ce<0&&c===0)return"".concat(N,"L").concat(n,",").concat(a,"Z");N+="L".concat(Y.x,",").concat(Y.y,`
      A`).concat(c,",").concat(c,",0,0,").concat(+(d<0),",").concat(q.x,",").concat(q.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(ce>180),",").concat(+(d>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(c,",").concat(c,",0,0,").concat(+(d<0),",").concat(W.x,",").concat(W.y,"Z")}else N+="L".concat(n,",").concat(a,"Z");return N},cz={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},SP=function(e){var n=MI(MI({},cz),e),a=n.cx,i=n.cy,s=n.innerRadius,c=n.outerRadius,l=n.cornerRadius,u=n.forceCornerRadius,o=n.cornerIsExternal,h=n.startAngle,d=n.endAngle,A=n.className;if(c<s||h===d)return null;var f=vi("recharts-sector",A),g=c-s,m=ju(l,g,0,!0),x;return m>0&&Math.abs(h-d)<360?x=lz({cx:a,cy:i,innerRadius:s,outerRadius:c,cornerRadius:Math.min(m,g/2),forceCornerRadius:u,cornerIsExternal:o,startAngle:h,endAngle:d}):x=NP({cx:a,cy:i,innerRadius:s,outerRadius:c,startAngle:h,endAngle:d}),xt.createElement("path",YC({},ka(n,!0),{className:f,d:x,role:"img"}))};function wg(r){"@babel/helpers - typeof";return wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wg(r)}function ZC(){return ZC=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},ZC.apply(this,arguments)}function RI(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function LI(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RI(Object(n),!0).forEach(function(a){uz(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):RI(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function uz(r,e,n){return e=dz(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function dz(r){var e=hz(r,"string");return wg(e)=="symbol"?e:e+""}function hz(r,e){if(wg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(wg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var UI={curveBasisClosed:_L,curveBasisOpen:OL,curveBasis:TL,curveBumpX:mL,curveBumpY:gL,curveLinearClosed:kL,curveLinear:Ox,curveMonotoneX:PL,curveMonotoneY:FL,curveNatural:DL,curveStep:ML,curveStepAfter:LL,curveStepBefore:RL},d1=function(e){return e.x===+e.x&&e.y===+e.y},Zm=function(e){return e.x},Jm=function(e){return e.y},Az=function(e,n){if(Ja(e))return e;var a="curve".concat(Tx(e));return(a==="curveMonotone"||a==="curveBump")&&n?UI["".concat(a).concat(n==="vertical"?"Y":"X")]:UI[a]||Ox},fz=function(e){var n=e.type,a=n===void 0?"linear":n,i=e.points,s=i===void 0?[]:i,c=e.baseLine,l=e.layout,u=e.connectNulls,o=u===void 0?!1:u,h=Az(a,l),d=o?s.filter(function(m){return d1(m)}):s,A;if(Array.isArray(c)){var f=o?c.filter(function(m){return d1(m)}):c,g=d.map(function(m,x){return LI(LI({},m),{},{base:f[x]})});return l==="vertical"?A=r1().y(Jm).x1(Zm).x0(function(m){return m.base.x}):A=r1().x(Zm).y1(Jm).y0(function(m){return m.base.y}),A.defined(d1).curve(h),A(g)}return l==="vertical"&&vn(c)?A=r1().y(Jm).x1(Zm).x0(c):vn(c)?A=r1().x(Zm).y1(Jm).y0(c):A=NO().x(Zm).y(Jm),A.defined(d1).curve(h),A(d)},Vv=function(e){var n=e.className,a=e.points,i=e.path,s=e.pathRef;if((!a||!a.length)&&!i)return null;var c=a&&a.length?fz(e):i;return xt.createElement("path",ZC({},ka(e,!1),gv(e),{className:vi("recharts-curve",n),d:c,ref:s}))},zw={exports:{}},Kw,HI;function pz(){if(HI)return Kw;HI=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Kw=r,Kw}var Gw,QI;function mz(){if(QI)return Gw;QI=1;var r=pz();function e(){}function n(){}return n.resetWarningCache=e,Gw=function(){function a(c,l,u,o,h,d){if(d!==r){var A=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw A.name="Invariant Violation",A}}a.isRequired=a;function i(){return a}var s={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:i,element:a,elementType:a,instanceOf:i,node:a,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},Gw}var WI;function gz(){return WI||(WI=1,zw.exports=mz()()),zw.exports}var vz=gz();const Bs=ts(vz),{getOwnPropertyNames:xz,getOwnPropertySymbols:yz}=Object,{hasOwnProperty:bz}=Object.prototype;function qw(r,e){return function(a,i,s){return r(a,i,s)&&e(a,i,s)}}function h1(r){return function(n,a,i){if(!n||!a||typeof n!="object"||typeof a!="object")return r(n,a,i);const{cache:s}=i,c=s.get(n),l=s.get(a);if(c&&l)return c===a&&l===n;s.set(n,a),s.set(a,n);const u=r(n,a,i);return s.delete(n),s.delete(a),u}}function wz(r){return r!=null?r[Symbol.toStringTag]:void 0}function $I(r){return xz(r).concat(yz(r))}const jz=Object.hasOwn||((r,e)=>bz.call(r,e));function mp(r,e){return r===e||!r&&!e&&r!==r&&e!==e}const Cz="__v",Nz="__o",Sz="_owner",{getOwnPropertyDescriptor:VI,keys:zI}=Object;function Ez(r,e){return r.byteLength===e.byteLength&&zv(new Uint8Array(r),new Uint8Array(e))}function Bz(r,e,n){let a=r.length;if(e.length!==a)return!1;for(;a-- >0;)if(!n.equals(r[a],e[a],a,a,r,e,n))return!1;return!0}function Iz(r,e){return r.byteLength===e.byteLength&&zv(new Uint8Array(r.buffer,r.byteOffset,r.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function Tz(r,e){return mp(r.getTime(),e.getTime())}function _z(r,e){return r.name===e.name&&r.message===e.message&&r.cause===e.cause&&r.stack===e.stack}function Oz(r,e){return r===e}function KI(r,e,n){const a=r.size;if(a!==e.size)return!1;if(!a)return!0;const i=new Array(a),s=r.entries();let c,l,u=0;for(;(c=s.next())&&!c.done;){const o=e.entries();let h=!1,d=0;for(;(l=o.next())&&!l.done;){if(i[d]){d++;continue}const A=c.value,f=l.value;if(n.equals(A[0],f[0],u,d,r,e,n)&&n.equals(A[1],f[1],A[0],f[0],r,e,n)){h=i[d]=!0;break}d++}if(!h)return!1;u++}return!0}const kz=mp;function Pz(r,e,n){const a=zI(r);let i=a.length;if(zI(e).length!==i)return!1;for(;i-- >0;)if(!EP(r,e,n,a[i]))return!1;return!0}function e0(r,e,n){const a=$I(r);let i=a.length;if($I(e).length!==i)return!1;let s,c,l;for(;i-- >0;)if(s=a[i],!EP(r,e,n,s)||(c=VI(r,s),l=VI(e,s),(c||l)&&(!c||!l||c.configurable!==l.configurable||c.enumerable!==l.enumerable||c.writable!==l.writable)))return!1;return!0}function Fz(r,e){return mp(r.valueOf(),e.valueOf())}function Dz(r,e){return r.source===e.source&&r.flags===e.flags}function GI(r,e,n){const a=r.size;if(a!==e.size)return!1;if(!a)return!0;const i=new Array(a),s=r.values();let c,l;for(;(c=s.next())&&!c.done;){const u=e.values();let o=!1,h=0;for(;(l=u.next())&&!l.done;){if(!i[h]&&n.equals(c.value,l.value,c.value,l.value,r,e,n)){o=i[h]=!0;break}h++}if(!o)return!1}return!0}function zv(r,e){let n=r.byteLength;if(e.byteLength!==n||r.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(r[n]!==e[n])return!1;return!0}function Mz(r,e){return r.hostname===e.hostname&&r.pathname===e.pathname&&r.protocol===e.protocol&&r.port===e.port&&r.hash===e.hash&&r.username===e.username&&r.password===e.password}function EP(r,e,n,a){return(a===Sz||a===Nz||a===Cz)&&(r.$$typeof||e.$$typeof)?!0:jz(e,a)&&n.equals(r[a],e[a],a,a,r,e,n)}const Rz="[object ArrayBuffer]",Lz="[object Arguments]",Uz="[object Boolean]",Hz="[object DataView]",Qz="[object Date]",Wz="[object Error]",$z="[object Map]",Vz="[object Number]",zz="[object Object]",Kz="[object RegExp]",Gz="[object Set]",qz="[object String]",Xz={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Yz="[object URL]",Zz=Object.prototype.toString;function Jz({areArrayBuffersEqual:r,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:a,areErrorsEqual:i,areFunctionsEqual:s,areMapsEqual:c,areNumbersEqual:l,areObjectsEqual:u,arePrimitiveWrappersEqual:o,areRegExpsEqual:h,areSetsEqual:d,areTypedArraysEqual:A,areUrlsEqual:f,unknownTagComparators:g}){return function(x,y,b){if(x===y)return!0;if(x==null||y==null)return!1;const w=typeof x;if(w!==typeof y)return!1;if(w!=="object")return w==="number"?l(x,y,b):w==="function"?s(x,y,b):!1;const S=x.constructor;if(S!==y.constructor)return!1;if(S===Object)return u(x,y,b);if(Array.isArray(x))return e(x,y,b);if(S===Date)return a(x,y,b);if(S===RegExp)return h(x,y,b);if(S===Map)return c(x,y,b);if(S===Set)return d(x,y,b);const N=Zz.call(x);if(N===Qz)return a(x,y,b);if(N===Kz)return h(x,y,b);if(N===$z)return c(x,y,b);if(N===Gz)return d(x,y,b);if(N===zz)return typeof x.then!="function"&&typeof y.then!="function"&&u(x,y,b);if(N===Yz)return f(x,y,b);if(N===Wz)return i(x,y,b);if(N===Lz)return u(x,y,b);if(Xz[N])return A(x,y,b);if(N===Rz)return r(x,y,b);if(N===Hz)return n(x,y,b);if(N===Uz||N===Vz||N===qz)return o(x,y,b);if(g){let C=g[N];if(!C){const O=wz(x);O&&(C=g[O])}if(C)return C(x,y,b)}return!1}}function eK({circular:r,createCustomConfig:e,strict:n}){let a={areArrayBuffersEqual:Ez,areArraysEqual:n?e0:Bz,areDataViewsEqual:Iz,areDatesEqual:Tz,areErrorsEqual:_z,areFunctionsEqual:Oz,areMapsEqual:n?qw(KI,e0):KI,areNumbersEqual:kz,areObjectsEqual:n?e0:Pz,arePrimitiveWrappersEqual:Fz,areRegExpsEqual:Dz,areSetsEqual:n?qw(GI,e0):GI,areTypedArraysEqual:n?qw(zv,e0):zv,areUrlsEqual:Mz,unknownTagComparators:void 0};if(e&&(a=Object.assign({},a,e(a))),r){const i=h1(a.areArraysEqual),s=h1(a.areMapsEqual),c=h1(a.areObjectsEqual),l=h1(a.areSetsEqual);a=Object.assign({},a,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:c,areSetsEqual:l})}return a}function tK(r){return function(e,n,a,i,s,c,l){return r(e,n,l)}}function rK({circular:r,comparator:e,createState:n,equals:a,strict:i}){if(n)return function(l,u){const{cache:o=r?new WeakMap:void 0,meta:h}=n();return e(l,u,{cache:o,equals:a,meta:h,strict:i})};if(r)return function(l,u){return e(l,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};const s={cache:void 0,equals:a,meta:void 0,strict:i};return function(l,u){return e(l,u,s)}}const nK=mf();mf({strict:!0});mf({circular:!0});mf({circular:!0,strict:!0});mf({createInternalComparator:()=>mp});mf({strict:!0,createInternalComparator:()=>mp});mf({circular:!0,createInternalComparator:()=>mp});mf({circular:!0,createInternalComparator:()=>mp,strict:!0});function mf(r={}){const{circular:e=!1,createInternalComparator:n,createState:a,strict:i=!1}=r,s=eK(r),c=Jz(s),l=n?n(c):tK(c);return rK({circular:e,comparator:c,createState:a,equals:l,strict:i})}function aK(r){typeof requestAnimationFrame<"u"&&requestAnimationFrame(r)}function qI(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,a=function i(s){n<0&&(n=s),s-n>e?(r(s),n=-1):aK(i)};requestAnimationFrame(a)}function JC(r){"@babel/helpers - typeof";return JC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},JC(r)}function iK(r){return cK(r)||lK(r)||oK(r)||sK()}function sK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oK(r,e){if(r){if(typeof r=="string")return XI(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XI(r,e)}}function XI(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function lK(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function cK(r){if(Array.isArray(r))return r}function uK(){var r={},e=function(){return null},n=!1,a=function i(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var c=s,l=iK(c),u=l[0],o=l.slice(1);if(typeof u=="number"){qI(i.bind(null,o),u);return}i(u),qI(i.bind(null,o));return}JC(s)==="object"&&(r=s,e(r)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,a(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function jg(r){"@babel/helpers - typeof";return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jg(r)}function YI(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function ZI(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YI(Object(n),!0).forEach(function(a){BP(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):YI(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function BP(r,e,n){return e=dK(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function dK(r){var e=hK(r,"string");return jg(e)==="symbol"?e:String(e)}function hK(r,e){if(jg(r)!=="object"||r===null)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(jg(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var AK=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(a,i){return a.filter(function(s){return i.includes(s)})})},fK=function(e){return e},pK=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},K0=function(e,n){return Object.keys(n).reduce(function(a,i){return ZI(ZI({},a),{},BP({},i,e(i,n[i])))},{})},JI=function(e,n,a){return e.map(function(i){return"".concat(pK(i)," ").concat(n,"ms ").concat(a)}).join(",")};function mK(r,e){return xK(r)||vK(r,e)||IP(r,e)||gK()}function gK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vK(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,i,s,c,l=[],u=!0,o=!1;try{if(s=(n=n.call(r)).next,e!==0)for(;!(u=(a=s.call(n)).done)&&(l.push(a.value),l.length!==e);u=!0);}catch(h){o=!0,i=h}finally{try{if(!u&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(o)throw i}}return l}}function xK(r){if(Array.isArray(r))return r}function yK(r){return jK(r)||wK(r)||IP(r)||bK()}function bK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IP(r,e){if(r){if(typeof r=="string")return eN(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eN(r,e)}}function wK(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function jK(r){if(Array.isArray(r))return eN(r)}function eN(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}var Kv=1e-4,TP=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},_P=function(e,n){return e.map(function(a,i){return a*Math.pow(n,i)}).reduce(function(a,i){return a+i})},eT=function(e,n){return function(a){var i=TP(e,n);return _P(i,a)}},CK=function(e,n){return function(a){var i=TP(e,n),s=[].concat(yK(i.map(function(c,l){return c*l}).slice(1)),[0]);return _P(s,a)}},tT=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];var i=n[0],s=n[1],c=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,s=0,c=1,l=1;break;case"ease":i=.25,s=.1,c=.25,l=1;break;case"ease-in":i=.42,s=0,c=1,l=1;break;case"ease-out":i=.42,s=0,c=.58,l=1;break;case"ease-in-out":i=0,s=0,c=.58,l=1;break;default:{var u=n[0].split("(");if(u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4){var o=u[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),h=mK(o,4);i=h[0],s=h[1],c=h[2],l=h[3]}}}var d=eT(i,c),A=eT(s,l),f=CK(i,c),g=function(y){return y>1?1:y<0?0:y},m=function(y){for(var b=y>1?1:y,w=b,S=0;S<8;++S){var N=d(w)-b,C=f(w);if(Math.abs(N-b)<Kv||C<Kv)return A(w);w=g(w-N/C)}return A(w)};return m.isStepper=!1,m},NK=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,a=n===void 0?100:n,i=e.damping,s=i===void 0?8:i,c=e.dt,l=c===void 0?17:c,u=function(h,d,A){var f=-(h-d)*a,g=A*s,m=A+(f-g)*l/1e3,x=A*l/1e3+h;return Math.abs(x-d)<Kv&&Math.abs(m)<Kv?[d,0]:[x,m]};return u.isStepper=!0,u.dt=l,u},SK=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return tT(i);case"spring":return NK();default:if(i.split("(")[0]==="cubic-bezier")return tT(i)}return typeof i=="function"?i:null};function Cg(r){"@babel/helpers - typeof";return Cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cg(r)}function rT(r){return IK(r)||BK(r)||OP(r)||EK()}function EK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BK(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function IK(r){if(Array.isArray(r))return rN(r)}function nT(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function Uc(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nT(Object(n),!0).forEach(function(a){tN(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):nT(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function tN(r,e,n){return e=TK(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function TK(r){var e=_K(r,"string");return Cg(e)==="symbol"?e:String(e)}function _K(r,e){if(Cg(r)!=="object"||r===null)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(Cg(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function OK(r,e){return FK(r)||PK(r,e)||OP(r,e)||kK()}function kK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OP(r,e){if(r){if(typeof r=="string")return rN(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rN(r,e)}}function rN(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function PK(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,i,s,c,l=[],u=!0,o=!1;try{if(s=(n=n.call(r)).next,e!==0)for(;!(u=(a=s.call(n)).done)&&(l.push(a.value),l.length!==e);u=!0);}catch(h){o=!0,i=h}finally{try{if(!u&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(o)throw i}}return l}}function FK(r){if(Array.isArray(r))return r}var Gv=function(e,n,a){return e+(n-e)*a},nN=function(e){var n=e.from,a=e.to;return n!==a},DK=function r(e,n,a){var i=K0(function(s,c){if(nN(c)){var l=e(c.from,c.to,c.velocity),u=OK(l,2),o=u[0],h=u[1];return Uc(Uc({},c),{},{from:o,velocity:h})}return c},n);return a<1?K0(function(s,c){return nN(c)?Uc(Uc({},c),{},{velocity:Gv(c.velocity,i[s].velocity,a),from:Gv(c.from,i[s].from,a)}):c},n):r(e,i,a-1)};const MK=(function(r,e,n,a,i){var s=AK(r,e),c=s.reduce(function(x,y){return Uc(Uc({},x),{},tN({},y,[r[y],e[y]]))},{}),l=s.reduce(function(x,y){return Uc(Uc({},x),{},tN({},y,{from:r[y],velocity:0,to:e[y]}))},{}),u=-1,o,h,d=function(){return null},A=function(){return K0(function(y,b){return b.from},l)},f=function(){return!Object.values(l).filter(nN).length},g=function(y){o||(o=y);var b=y-o,w=b/n.dt;l=DK(n,l,w),i(Uc(Uc(Uc({},r),e),A())),o=y,f()||(u=requestAnimationFrame(d))},m=function(y){h||(h=y);var b=(y-h)/a,w=K0(function(N,C){return Gv.apply(void 0,rT(C).concat([n(b)]))},c);if(i(Uc(Uc(Uc({},r),e),w)),b<1)u=requestAnimationFrame(d);else{var S=K0(function(N,C){return Gv.apply(void 0,rT(C).concat([n(1)]))},c);i(Uc(Uc(Uc({},r),e),S))}};return d=n.isStepper?g:m,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(u)}}});function hm(r){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hm(r)}var RK=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function LK(r,e){if(r==null)return{};var n=UK(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function UK(r,e){if(r==null)return{};var n={},a=Object.keys(r),i,s;for(s=0;s<a.length;s++)i=a[s],!(e.indexOf(i)>=0)&&(n[i]=r[i]);return n}function Xw(r){return $K(r)||WK(r)||QK(r)||HK()}function HK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QK(r,e){if(r){if(typeof r=="string")return aN(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aN(r,e)}}function WK(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function $K(r){if(Array.isArray(r))return aN(r)}function aN(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function aT(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function sh(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aT(Object(n),!0).forEach(function(a){P0(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):aT(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function P0(r,e,n){return e=kP(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function VK(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function zK(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,kP(a.key),a)}}function KK(r,e,n){return e&&zK(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function kP(r){var e=GK(r,"string");return hm(e)==="symbol"?e:String(e)}function GK(r,e){if(hm(r)!=="object"||r===null)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(hm(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function qK(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&iN(r,e)}function iN(r,e){return iN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},iN(r,e)}function XK(r){var e=YK();return function(){var a=qv(r),i;if(e){var s=qv(this).constructor;i=Reflect.construct(a,arguments,s)}else i=a.apply(this,arguments);return sN(this,i)}}function sN(r,e){if(e&&(hm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oN(r)}function oN(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function YK(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function qv(r){return qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qv(r)}var Dh=(function(r){qK(n,r);var e=XK(n);function n(a,i){var s;VK(this,n),s=e.call(this,a,i);var c=s.props,l=c.isActive,u=c.attributeName,o=c.from,h=c.to,d=c.steps,A=c.children,f=c.duration;if(s.handleStyleChange=s.handleStyleChange.bind(oN(s)),s.changeStyle=s.changeStyle.bind(oN(s)),!l||f<=0)return s.state={style:{}},typeof A=="function"&&(s.state={style:h}),sN(s);if(d&&d.length)s.state={style:d[0].style};else if(o){if(typeof A=="function")return s.state={style:o},sN(s);s.state={style:u?P0({},u,o):o}}else s.state={style:{}};return s}return KK(n,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,c=i.canBegin;this.mounted=!0,!(!s||!c)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,c=s.isActive,l=s.canBegin,u=s.attributeName,o=s.shouldReAnimate,h=s.to,d=s.from,A=this.state.style;if(l){if(!c){var f={style:u?P0({},u,h):h};this.state&&A&&(u&&A[u]!==h||!u&&A!==h)&&this.setState(f);return}if(!(nK(i.to,h)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||o?d:i.to;if(this.state&&A){var x={style:u?P0({},u,m):m};(u&&A[u]!==m||!u&&A!==m)&&this.setState(x)}this.runAnimation(sh(sh({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,c=i.from,l=i.to,u=i.duration,o=i.easing,h=i.begin,d=i.onAnimationEnd,A=i.onAnimationStart,f=MK(c,l,SK(o),u,this.changeStyle),g=function(){s.stopJSAnimation=f()};this.manager.start([A,h,g,u,d])}},{key:"runStepAnimation",value:function(i){var s=this,c=i.steps,l=i.begin,u=i.onAnimationStart,o=c[0],h=o.style,d=o.duration,A=d===void 0?0:d,f=function(m,x,y){if(y===0)return m;var b=x.duration,w=x.easing,S=w===void 0?"ease":w,N=x.style,C=x.properties,O=x.onAnimationEnd,W=y>0?c[y-1]:x,K=C||Object.keys(N);if(typeof S=="function"||S==="spring")return[].concat(Xw(m),[s.runJSAnimation.bind(s,{from:W.style,to:N,duration:b,easing:S}),b]);var te=JI(K,b,S),q=sh(sh(sh({},W.style),N),{},{transition:te});return[].concat(Xw(m),[q,b,O]).filter(fK)};return this.manager.start([u].concat(Xw(c.reduce(f,[h,Math.max(A,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=uK());var s=i.begin,c=i.duration,l=i.attributeName,u=i.to,o=i.easing,h=i.onAnimationStart,d=i.onAnimationEnd,A=i.steps,f=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof o=="function"||typeof f=="function"||o==="spring"){this.runJSAnimation(i);return}if(A.length>1){this.runStepAnimation(i);return}var m=l?P0({},l,u):u,x=JI(Object.keys(m),c,o);g.start([h,s,sh(sh({},m),{},{transition:x}),c,d])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var c=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var u=LK(i,RK),o=k.Children.count(s),h=this.state.style;if(typeof s=="function")return s(h);if(!l||o===0||c<=0)return s;var d=function(f){var g=f.props,m=g.style,x=m===void 0?{}:m,y=g.className,b=k.cloneElement(f,sh(sh({},u),{},{style:sh(sh({},x),h),className:y}));return b};return o===1?d(k.Children.only(s)):xt.createElement("div",null,k.Children.map(s,function(A){return d(A)}))}}]),n})(k.PureComponent);Dh.displayName="Animate";Dh.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Dh.propTypes={from:Bs.oneOfType([Bs.object,Bs.string]),to:Bs.oneOfType([Bs.object,Bs.string]),attributeName:Bs.string,duration:Bs.number,begin:Bs.number,easing:Bs.oneOfType([Bs.string,Bs.func]),steps:Bs.arrayOf(Bs.shape({duration:Bs.number.isRequired,style:Bs.object.isRequired,easing:Bs.oneOfType([Bs.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Bs.func]),properties:Bs.arrayOf("string"),onAnimationEnd:Bs.func})),children:Bs.oneOfType([Bs.node,Bs.func]),isActive:Bs.bool,canBegin:Bs.bool,onAnimationEnd:Bs.func,shouldReAnimate:Bs.bool,onAnimationStart:Bs.func,onAnimationReStart:Bs.func};function Ng(r){"@babel/helpers - typeof";return Ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ng(r)}function Xv(){return Xv=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},Xv.apply(this,arguments)}function ZK(r,e){return rG(r)||tG(r,e)||eG(r,e)||JK()}function JK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eG(r,e){if(r){if(typeof r=="string")return iT(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iT(r,e)}}function iT(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function tG(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,i,s,c,l=[],u=!0,o=!1;try{if(s=(n=n.call(r)).next,e!==0)for(;!(u=(a=s.call(n)).done)&&(l.push(a.value),l.length!==e);u=!0);}catch(h){o=!0,i=h}finally{try{if(!u&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(o)throw i}}return l}}function rG(r){if(Array.isArray(r))return r}function sT(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function oT(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sT(Object(n),!0).forEach(function(a){nG(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):sT(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function nG(r,e,n){return e=aG(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function aG(r){var e=iG(r,"string");return Ng(e)=="symbol"?e:e+""}function iG(r,e){if(Ng(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(Ng(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var lT=function(e,n,a,i,s){var c=Math.min(Math.abs(a)/2,Math.abs(i)/2),l=i>=0?1:-1,u=a>=0?1:-1,o=i>=0&&a>=0||i<0&&a<0?1:0,h;if(c>0&&s instanceof Array){for(var d=[0,0,0,0],A=0,f=4;A<f;A++)d[A]=s[A]>c?c:s[A];h="M".concat(e,",").concat(n+l*d[0]),d[0]>0&&(h+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(o,",").concat(e+u*d[0],",").concat(n)),h+="L ".concat(e+a-u*d[1],",").concat(n),d[1]>0&&(h+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(o,`,
        `).concat(e+a,",").concat(n+l*d[1])),h+="L ".concat(e+a,",").concat(n+i-l*d[2]),d[2]>0&&(h+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(o,`,
        `).concat(e+a-u*d[2],",").concat(n+i)),h+="L ".concat(e+u*d[3],",").concat(n+i),d[3]>0&&(h+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(o,`,
        `).concat(e,",").concat(n+i-l*d[3])),h+="Z"}else if(c>0&&s===+s&&s>0){var g=Math.min(c,s);h="M ".concat(e,",").concat(n+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(o,",").concat(e+u*g,",").concat(n,`
            L `).concat(e+a-u*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(o,",").concat(e+a,",").concat(n+l*g,`
            L `).concat(e+a,",").concat(n+i-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(o,",").concat(e+a-u*g,",").concat(n+i,`
            L `).concat(e+u*g,",").concat(n+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(o,",").concat(e,",").concat(n+i-l*g," Z")}else h="M ".concat(e,",").concat(n," h ").concat(a," v ").concat(i," h ").concat(-a," Z");return h},sG=function(e,n){if(!e||!n)return!1;var a=e.x,i=e.y,s=n.x,c=n.y,l=n.width,u=n.height;if(Math.abs(l)>0&&Math.abs(u)>0){var o=Math.min(s,s+l),h=Math.max(s,s+l),d=Math.min(c,c+u),A=Math.max(c,c+u);return a>=o&&a<=h&&i>=d&&i<=A}return!1},oG={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},z4=function(e){var n=oT(oT({},oG),e),a=k.useRef(),i=k.useState(-1),s=ZK(i,2),c=s[0],l=s[1];k.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var S=a.current.getTotalLength();S&&l(S)}catch{}},[]);var u=n.x,o=n.y,h=n.width,d=n.height,A=n.radius,f=n.className,g=n.animationEasing,m=n.animationDuration,x=n.animationBegin,y=n.isAnimationActive,b=n.isUpdateAnimationActive;if(u!==+u||o!==+o||h!==+h||d!==+d||h===0||d===0)return null;var w=vi("recharts-rectangle",f);return b?xt.createElement(Dh,{canBegin:c>0,from:{width:h,height:d,x:u,y:o},to:{width:h,height:d,x:u,y:o},duration:m,animationEasing:g,isActive:b},function(S){var N=S.width,C=S.height,O=S.x,W=S.y;return xt.createElement(Dh,{canBegin:c>0,from:"0px ".concat(c===-1?1:c,"px"),to:"".concat(c,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:m,isActive:y,easing:g},xt.createElement("path",Xv({},ka(n,!0),{className:w,d:lT(O,W,N,C,A),ref:a})))}):xt.createElement("path",Xv({},ka(n,!0),{className:w,d:lT(u,o,h,d,A)}))},lG=["points","className","baseLinePoints","connectNulls"];function Wp(){return Wp=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},Wp.apply(this,arguments)}function cG(r,e){if(r==null)return{};var n=uG(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function uG(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function cT(r){return fG(r)||AG(r)||hG(r)||dG()}function dG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hG(r,e){if(r){if(typeof r=="string")return lN(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lN(r,e)}}function AG(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function fG(r){if(Array.isArray(r))return lN(r)}function lN(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}var uT=function(e){return e&&e.x===+e.x&&e.y===+e.y},pG=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(a){uT(a)?n[n.length-1].push(a):n[n.length-1].length>0&&n.push([])}),uT(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},G0=function(e,n){var a=pG(e);n&&(a=[a.reduce(function(s,c){return[].concat(cT(s),cT(c))},[])]);var i=a.map(function(s){return s.reduce(function(c,l,u){return"".concat(c).concat(u===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return a.length===1?"".concat(i,"Z"):i},mG=function(e,n,a){var i=G0(e,a);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(G0(n.reverse(),a).slice(1))},gG=function(e){var n=e.points,a=e.className,i=e.baseLinePoints,s=e.connectNulls,c=cG(e,lG);if(!n||!n.length)return null;var l=vi("recharts-polygon",a);if(i&&i.length){var u=c.stroke&&c.stroke!=="none",o=mG(n,i,s);return xt.createElement("g",{className:l},xt.createElement("path",Wp({},ka(c,!0),{fill:o.slice(-1)==="Z"?c.fill:"none",stroke:"none",d:o})),u?xt.createElement("path",Wp({},ka(c,!0),{fill:"none",d:G0(n,s)})):null,u?xt.createElement("path",Wp({},ka(c,!0),{fill:"none",d:G0(i,s)})):null)}var h=G0(n,s);return xt.createElement("path",Wp({},ka(c,!0),{fill:h.slice(-1)==="Z"?c.fill:"none",className:l,d:h}))};function cN(){return cN=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},cN.apply(this,arguments)}var qx=function(e){var n=e.cx,a=e.cy,i=e.r,s=e.className,c=vi("recharts-dot",s);return n===+n&&a===+a&&i===+i?xt.createElement("circle",cN({},ka(e,!1),gv(e),{className:c,cx:n,cy:a,r:i})):null};function Sg(r){"@babel/helpers - typeof";return Sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sg(r)}var vG=["x","y","top","left","width","height","className"];function uN(){return uN=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},uN.apply(this,arguments)}function dT(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function xG(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dT(Object(n),!0).forEach(function(a){yG(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):dT(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function yG(r,e,n){return e=bG(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function bG(r){var e=wG(r,"string");return Sg(e)=="symbol"?e:e+""}function wG(r,e){if(Sg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(Sg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function jG(r,e){if(r==null)return{};var n=CG(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function CG(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}var NG=function(e,n,a,i,s,c){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(c,",").concat(n,"h").concat(a)},SG=function(e){var n=e.x,a=n===void 0?0:n,i=e.y,s=i===void 0?0:i,c=e.top,l=c===void 0?0:c,u=e.left,o=u===void 0?0:u,h=e.width,d=h===void 0?0:h,A=e.height,f=A===void 0?0:A,g=e.className,m=jG(e,vG),x=xG({x:a,y:s,top:l,left:o,width:d,height:f},m);return!vn(a)||!vn(s)||!vn(d)||!vn(f)||!vn(l)||!vn(o)?null:xt.createElement("path",uN({},ka(x,!0),{className:vi("recharts-cross",g),d:NG(a,s,d,f,l,o)}))},Yw,hT;function EG(){if(hT)return Yw;hT=1;var r=$x(),e=Gk(),n=Lh();function a(i,s){return i&&i.length?r(i,n(s,2),e):void 0}return Yw=a,Yw}var BG=EG();const IG=ts(BG);var Zw,AT;function TG(){if(AT)return Zw;AT=1;var r=$x(),e=Lh(),n=qk();function a(i,s){return i&&i.length?r(i,e(s,2),n):void 0}return Zw=a,Zw}var _G=TG();const OG=ts(_G);var kG=["cx","cy","angle","ticks","axisLine"],PG=["ticks","tick","angle","tickFormatter","stroke"];function Am(r){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Am(r)}function q0(){return q0=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},q0.apply(this,arguments)}function fT(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function Ff(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fT(Object(n),!0).forEach(function(a){Xx(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):fT(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function pT(r,e){if(r==null)return{};var n=FG(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function FG(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function DG(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function mT(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,FP(a.key),a)}}function MG(r,e,n){return e&&mT(r.prototype,e),n&&mT(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function RG(r,e,n){return e=Yv(e),LG(r,PP()?Reflect.construct(e,n||[],Yv(r).constructor):e.apply(r,n))}function LG(r,e){if(e&&(Am(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UG(r)}function UG(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function PP(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PP=function(){return!!r})()}function Yv(r){return Yv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yv(r)}function HG(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&dN(r,e)}function dN(r,e){return dN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},dN(r,e)}function Xx(r,e,n){return e=FP(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function FP(r){var e=QG(r,"string");return Am(e)=="symbol"?e:e+""}function QG(r,e){if(Am(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(Am(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var Yx=(function(r){function e(){return DG(this,e),RG(this,e,arguments)}return HG(e,r),MG(e,[{key:"getTickValueCoord",value:function(a){var i=a.coordinate,s=this.props,c=s.angle,l=s.cx,u=s.cy;return so(l,u,i,c)}},{key:"getTickTextAnchor",value:function(){var a=this.props.orientation,i;switch(a){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var a=this.props,i=a.cx,s=a.cy,c=a.angle,l=a.ticks,u=IG(l,function(h){return h.coordinate||0}),o=OG(l,function(h){return h.coordinate||0});return{cx:i,cy:s,startAngle:c,endAngle:c,innerRadius:o.coordinate||0,outerRadius:u.coordinate||0}}},{key:"renderAxisLine",value:function(){var a=this.props,i=a.cx,s=a.cy,c=a.angle,l=a.ticks,u=a.axisLine,o=pT(a,kG),h=l.reduce(function(g,m){return[Math.min(g[0],m.coordinate),Math.max(g[1],m.coordinate)]},[1/0,-1/0]),d=so(i,s,h[0],c),A=so(i,s,h[1],c),f=Ff(Ff(Ff({},ka(o,!1)),{},{fill:"none"},ka(u,!1)),{},{x1:d.x,y1:d.y,x2:A.x,y2:A.y});return xt.createElement("line",q0({className:"recharts-polar-radius-axis-line"},f))}},{key:"renderTicks",value:function(){var a=this,i=this.props,s=i.ticks,c=i.tick,l=i.angle,u=i.tickFormatter,o=i.stroke,h=pT(i,PG),d=this.getTickTextAnchor(),A=ka(h,!1),f=ka(c,!1),g=s.map(function(m,x){var y=a.getTickValueCoord(m),b=Ff(Ff(Ff(Ff({textAnchor:d,transform:"rotate(".concat(90-l,", ").concat(y.x,", ").concat(y.y,")")},A),{},{stroke:"none",fill:o},f),{},{index:x},y),{},{payload:m});return xt.createElement(ls,q0({className:vi("recharts-polar-radius-axis-tick",jP(c)),key:"tick-".concat(m.coordinate)},op(a.props,m,x)),e.renderTickItem(c,b,u?u(m.value,x):m.value))});return xt.createElement(ls,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var a=this.props,i=a.ticks,s=a.axisLine,c=a.tick;return!i||!i.length?null:xt.createElement(ls,{className:vi("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),c&&this.renderTicks(),wc.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(a,i,s){var c;return xt.isValidElement(a)?c=xt.cloneElement(a,i):Ja(a)?c=a(i):c=xt.createElement(lp,q0({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),c}}])})(k.PureComponent);Xx(Yx,"displayName","PolarRadiusAxis");Xx(Yx,"axisType","radiusAxis");Xx(Yx,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function fm(r){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fm(r)}function Gf(){return Gf=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},Gf.apply(this,arguments)}function gT(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function Df(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gT(Object(n),!0).forEach(function(a){Zx(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):gT(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function WG(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function vT(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,MP(a.key),a)}}function $G(r,e,n){return e&&vT(r.prototype,e),n&&vT(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function VG(r,e,n){return e=Zv(e),zG(r,DP()?Reflect.construct(e,n||[],Zv(r).constructor):e.apply(r,n))}function zG(r,e){if(e&&(fm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KG(r)}function KG(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function DP(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DP=function(){return!!r})()}function Zv(r){return Zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zv(r)}function GG(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&hN(r,e)}function hN(r,e){return hN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},hN(r,e)}function Zx(r,e,n){return e=MP(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function MP(r){var e=qG(r,"string");return fm(e)=="symbol"?e:e+""}function qG(r,e){if(fm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(fm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var XG=Math.PI/180,xT=1e-5,Jx=(function(r){function e(){return WG(this,e),VG(this,e,arguments)}return GG(e,r),$G(e,[{key:"getTickLineCoord",value:function(a){var i=this.props,s=i.cx,c=i.cy,l=i.radius,u=i.orientation,o=i.tickSize,h=o||8,d=so(s,c,l,a.coordinate),A=so(s,c,l+(u==="inner"?-1:1)*h,a.coordinate);return{x1:d.x,y1:d.y,x2:A.x,y2:A.y}}},{key:"getTickTextAnchor",value:function(a){var i=this.props.orientation,s=Math.cos(-a.coordinate*XG),c;return s>xT?c=i==="outer"?"start":"end":s<-xT?c=i==="outer"?"end":"start":c="middle",c}},{key:"renderAxisLine",value:function(){var a=this.props,i=a.cx,s=a.cy,c=a.radius,l=a.axisLine,u=a.axisLineType,o=Df(Df({},ka(this.props,!1)),{},{fill:"none"},ka(l,!1));if(u==="circle")return xt.createElement(qx,Gf({className:"recharts-polar-angle-axis-line"},o,{cx:i,cy:s,r:c}));var h=this.props.ticks,d=h.map(function(A){return so(i,s,c,A.coordinate)});return xt.createElement(gG,Gf({className:"recharts-polar-angle-axis-line"},o,{points:d}))}},{key:"renderTicks",value:function(){var a=this,i=this.props,s=i.ticks,c=i.tick,l=i.tickLine,u=i.tickFormatter,o=i.stroke,h=ka(this.props,!1),d=ka(c,!1),A=Df(Df({},h),{},{fill:"none"},ka(l,!1)),f=s.map(function(g,m){var x=a.getTickLineCoord(g),y=a.getTickTextAnchor(g),b=Df(Df(Df({textAnchor:y},h),{},{stroke:"none",fill:o},d),{},{index:m,payload:g,x:x.x2,y:x.y2});return xt.createElement(ls,Gf({className:vi("recharts-polar-angle-axis-tick",jP(c)),key:"tick-".concat(g.coordinate)},op(a.props,g,m)),l&&xt.createElement("line",Gf({className:"recharts-polar-angle-axis-tick-line"},A,x)),c&&e.renderTickItem(c,b,u?u(g.value,m):g.value))});return xt.createElement(ls,{className:"recharts-polar-angle-axis-ticks"},f)}},{key:"render",value:function(){var a=this.props,i=a.ticks,s=a.radius,c=a.axisLine;return s<=0||!i||!i.length?null:xt.createElement(ls,{className:vi("recharts-polar-angle-axis",this.props.className)},c&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(a,i,s){var c;return xt.isValidElement(a)?c=xt.cloneElement(a,i):Ja(a)?c=a(i):c=xt.createElement(lp,Gf({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),c}}])})(k.PureComponent);Zx(Jx,"displayName","PolarAngleAxis");Zx(Jx,"axisType","angleAxis");Zx(Jx,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Jw,yT;function YG(){if(yT)return Jw;yT=1;var r=GO(),e=r(Object.getPrototypeOf,Object);return Jw=e,Jw}var ej,bT;function ZG(){if(bT)return ej;bT=1;var r=bA(),e=YG(),n=wA(),a="[object Object]",i=Function.prototype,s=Object.prototype,c=i.toString,l=s.hasOwnProperty,u=c.call(Object);function o(h){if(!n(h)||r(h)!=a)return!1;var d=e(h);if(d===null)return!0;var A=l.call(d,"constructor")&&d.constructor;return typeof A=="function"&&A instanceof A&&c.call(A)==u}return ej=o,ej}var JG=ZG();const eq=ts(JG);var tj,wT;function tq(){if(wT)return tj;wT=1;var r=bA(),e=wA(),n="[object Boolean]";function a(i){return i===!0||i===!1||e(i)&&r(i)==n}return tj=a,tj}var rq=tq();const nq=ts(rq);function Eg(r){"@babel/helpers - typeof";return Eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eg(r)}function Jv(){return Jv=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},Jv.apply(this,arguments)}function aq(r,e){return lq(r)||oq(r,e)||sq(r,e)||iq()}function iq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sq(r,e){if(r){if(typeof r=="string")return jT(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jT(r,e)}}function jT(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function oq(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,i,s,c,l=[],u=!0,o=!1;try{if(s=(n=n.call(r)).next,e!==0)for(;!(u=(a=s.call(n)).done)&&(l.push(a.value),l.length!==e);u=!0);}catch(h){o=!0,i=h}finally{try{if(!u&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(o)throw i}}return l}}function lq(r){if(Array.isArray(r))return r}function CT(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function NT(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CT(Object(n),!0).forEach(function(a){cq(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):CT(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function cq(r,e,n){return e=uq(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function uq(r){var e=dq(r,"string");return Eg(e)=="symbol"?e:e+""}function dq(r,e){if(Eg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(Eg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var ST=function(e,n,a,i,s){var c=a-i,l;return l="M ".concat(e,",").concat(n),l+="L ".concat(e+a,",").concat(n),l+="L ".concat(e+a-c/2,",").concat(n+s),l+="L ".concat(e+a-c/2-i,",").concat(n+s),l+="L ".concat(e,",").concat(n," Z"),l},hq={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Aq=function(e){var n=NT(NT({},hq),e),a=k.useRef(),i=k.useState(-1),s=aq(i,2),c=s[0],l=s[1];k.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var w=a.current.getTotalLength();w&&l(w)}catch{}},[]);var u=n.x,o=n.y,h=n.upperWidth,d=n.lowerWidth,A=n.height,f=n.className,g=n.animationEasing,m=n.animationDuration,x=n.animationBegin,y=n.isUpdateAnimationActive;if(u!==+u||o!==+o||h!==+h||d!==+d||A!==+A||h===0&&d===0||A===0)return null;var b=vi("recharts-trapezoid",f);return y?xt.createElement(Dh,{canBegin:c>0,from:{upperWidth:0,lowerWidth:0,height:A,x:u,y:o},to:{upperWidth:h,lowerWidth:d,height:A,x:u,y:o},duration:m,animationEasing:g,isActive:y},function(w){var S=w.upperWidth,N=w.lowerWidth,C=w.height,O=w.x,W=w.y;return xt.createElement(Dh,{canBegin:c>0,from:"0px ".concat(c===-1?1:c,"px"),to:"".concat(c,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:m,easing:g},xt.createElement("path",Jv({},ka(n,!0),{className:b,d:ST(O,W,S,N,C),ref:a})))}):xt.createElement("g",null,xt.createElement("path",Jv({},ka(n,!0),{className:b,d:ST(u,o,h,d,A)})))},fq=["option","shapeType","propTransformer","activeClassName","isActive"];function Bg(r){"@babel/helpers - typeof";return Bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bg(r)}function pq(r,e){if(r==null)return{};var n=mq(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function mq(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function ET(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function ex(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ET(Object(n),!0).forEach(function(a){gq(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):ET(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function gq(r,e,n){return e=vq(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function vq(r){var e=xq(r,"string");return Bg(e)=="symbol"?e:e+""}function xq(r,e){if(Bg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(Bg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function yq(r,e){return ex(ex({},e),r)}function bq(r,e){return r==="symbols"}function BT(r){var e=r.shapeType,n=r.elementProps;switch(e){case"rectangle":return xt.createElement(z4,n);case"trapezoid":return xt.createElement(Aq,n);case"sector":return xt.createElement(SP,n);case"symbols":if(bq(e))return xt.createElement(d4,n);break;default:return null}}function wq(r){return k.isValidElement(r)?r.props:r}function RP(r){var e=r.option,n=r.shapeType,a=r.propTransformer,i=a===void 0?yq:a,s=r.activeClassName,c=s===void 0?"recharts-active-shape":s,l=r.isActive,u=pq(r,fq),o;if(k.isValidElement(e))o=k.cloneElement(e,ex(ex({},u),wq(e)));else if(Ja(e))o=e(u);else if(eq(e)&&!nq(e)){var h=i(e,u);o=xt.createElement(BT,{shapeType:n,elementProps:h})}else{var d=u;o=xt.createElement(BT,{shapeType:n,elementProps:d})}return l?xt.createElement(ls,{className:c},o):o}function ey(r,e){return e!=null&&"trapezoids"in r.props}function ty(r,e){return e!=null&&"sectors"in r.props}function Ig(r,e){return e!=null&&"points"in r.props}function jq(r,e){var n,a,i=r.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||r.x===e.x,s=r.y===(e==null||(a=e.labelViewBox)===null||a===void 0?void 0:a.y)||r.y===e.y;return i&&s}function Cq(r,e){var n=r.endAngle===e.endAngle,a=r.startAngle===e.startAngle;return n&&a}function Nq(r,e){var n=r.x===e.x,a=r.y===e.y,i=r.z===e.z;return n&&a&&i}function Sq(r,e){var n;return ey(r,e)?n=jq:ty(r,e)?n=Cq:Ig(r,e)&&(n=Nq),n}function Eq(r,e){var n;return ey(r,e)?n="trapezoids":ty(r,e)?n="sectors":Ig(r,e)&&(n="points"),n}function Bq(r,e){if(ey(r,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(ty(r,e)){var a;return(a=e.tooltipPayload)===null||a===void 0||(a=a[0])===null||a===void 0||(a=a.payload)===null||a===void 0?void 0:a.payload}return Ig(r,e)?e.payload:{}}function Iq(r){var e=r.activeTooltipItem,n=r.graphicalItem,a=r.itemData,i=Eq(n,e),s=Bq(n,e),c=a.filter(function(u,o){var h=$g(s,u),d=n.props[i].filter(function(g){var m=Sq(n,e);return m(g,e)}),A=n.props[i].indexOf(d[d.length-1]),f=o===A;return h&&f}),l=a.indexOf(c[c.length-1]);return l}var ov;function pm(r){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pm(r)}function $p(){return $p=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},$p.apply(this,arguments)}function IT(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function ao(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IT(Object(n),!0).forEach(function(a){Hd(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):IT(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function Tq(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function TT(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,UP(a.key),a)}}function _q(r,e,n){return e&&TT(r.prototype,e),n&&TT(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function Oq(r,e,n){return e=tx(e),kq(r,LP()?Reflect.construct(e,n||[],tx(r).constructor):e.apply(r,n))}function kq(r,e){if(e&&(pm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pq(r)}function Pq(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function LP(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LP=function(){return!!r})()}function tx(r){return tx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tx(r)}function Fq(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&AN(r,e)}function AN(r,e){return AN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},AN(r,e)}function Hd(r,e,n){return e=UP(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function UP(r){var e=Dq(r,"string");return pm(e)=="symbol"?e:e+""}function Dq(r,e){if(pm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(pm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var CA=(function(r){function e(n){var a;return Tq(this,e),a=Oq(this,e,[n]),Hd(a,"pieRef",null),Hd(a,"sectorRefs",[]),Hd(a,"id",Pm("recharts-pie-")),Hd(a,"handleAnimationEnd",function(){var i=a.props.onAnimationEnd;a.setState({isAnimationFinished:!0}),Ja(i)&&i()}),Hd(a,"handleAnimationStart",function(){var i=a.props.onAnimationStart;a.setState({isAnimationFinished:!1}),Ja(i)&&i()}),a.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},a}return Fq(e,r),_q(e,[{key:"isActiveIndex",value:function(a){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(a)!==-1:a===i}},{key:"hasActiveIndex",value:function(){var a=this.props.activeIndex;return Array.isArray(a)?a.length!==0:a||a===0}},{key:"renderLabels",value:function(a){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,c=s.label,l=s.labelLine,u=s.dataKey,o=s.valueKey,h=ka(this.props,!1),d=ka(c,!1),A=ka(l,!1),f=c&&c.offsetRadius||20,g=a.map(function(m,x){var y=(m.startAngle+m.endAngle)/2,b=so(m.cx,m.cy,m.outerRadius+f,y),w=ao(ao(ao(ao({},h),m),{},{stroke:"none"},d),{},{index:x,textAnchor:e.getTextAnchor(b.x,m.cx)},b),S=ao(ao(ao(ao({},h),m),{},{fill:"none",stroke:m.fill},A),{},{index:x,points:[so(m.cx,m.cy,m.outerRadius,y),b]}),N=u;return ci(u)&&ci(o)?N="value":ci(u)&&(N=o),xt.createElement(ls,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(x)},l&&e.renderLabelLineItem(l,S,"line"),e.renderLabelItem(c,w,ql(m,N)))});return xt.createElement(ls,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(a){var i=this,s=this.props,c=s.activeShape,l=s.blendStroke,u=s.inactiveShape;return a.map(function(o,h){if((o==null?void 0:o.startAngle)===0&&(o==null?void 0:o.endAngle)===0&&a.length!==1)return null;var d=i.isActiveIndex(h),A=u&&i.hasActiveIndex()?u:null,f=d?c:A,g=ao(ao({},o),{},{stroke:l?o.fill:o.stroke,tabIndex:-1});return xt.createElement(ls,$p({ref:function(x){x&&!i.sectorRefs.includes(x)&&i.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},op(i.props,o,h),{key:"sector-".concat(o==null?void 0:o.startAngle,"-").concat(o==null?void 0:o.endAngle,"-").concat(o.midAngle,"-").concat(h)}),xt.createElement(RP,$p({option:f,isActive:d,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var a=this,i=this.props,s=i.sectors,c=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,o=i.animationEasing,h=i.animationId,d=this.state,A=d.prevSectors,f=d.prevIsAnimationActive;return xt.createElement(Dh,{begin:l,duration:u,isActive:c,easing:o,from:{t:0},to:{t:1},key:"pie-".concat(h,"-").concat(f),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var m=g.t,x=[],y=s&&s[0],b=y.startAngle;return s.forEach(function(w,S){var N=A&&A[S],C=S>0?dd(w,"paddingAngle",0):0;if(N){var O=cd(N.endAngle-N.startAngle,w.endAngle-w.startAngle),W=ao(ao({},w),{},{startAngle:b+C,endAngle:b+O(m)+C});x.push(W),b=W.endAngle}else{var K=w.endAngle,te=w.startAngle,q=cd(0,K-te),Y=q(m),P=ao(ao({},w),{},{startAngle:b+C,endAngle:b+Y+C});x.push(P),b=P.endAngle}}),xt.createElement(ls,null,a.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(a){var i=this;a.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var c=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[c].focus(),i.setState({sectorToFocus:c});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var a=this.props,i=a.sectors,s=a.isAnimationActive,c=this.state.prevSectors;return s&&i&&i.length&&(!c||!$g(c,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var a=this,i=this.props,s=i.hide,c=i.sectors,l=i.className,u=i.label,o=i.cx,h=i.cy,d=i.innerRadius,A=i.outerRadius,f=i.isAnimationActive,g=this.state.isAnimationFinished;if(s||!c||!c.length||!vn(o)||!vn(h)||!vn(d)||!vn(A))return null;var m=vi("recharts-pie",l);return xt.createElement(ls,{tabIndex:this.props.rootTabIndex,className:m,ref:function(y){a.pieRef=y}},this.renderSectors(),u&&this.renderLabels(c),wc.renderCallByParent(this.props,null,!1),(!f||g)&&mA.renderCallByParent(this.props,c,!1))}}],[{key:"getDerivedStateFromProps",value:function(a,i){return i.prevIsAnimationActive!==a.isAnimationActive?{prevIsAnimationActive:a.isAnimationActive,prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:[],isAnimationFinished:!0}:a.isAnimationActive&&a.animationId!==i.prevAnimationId?{prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:a.sectors!==i.curSectors?{curSectors:a.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(a,i){return a>i?"start":a<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(a,i,s){if(xt.isValidElement(a))return xt.cloneElement(a,i);if(Ja(a))return a(i);var c=vi("recharts-pie-label-line",typeof a!="boolean"?a.className:"");return xt.createElement(Vv,$p({},i,{key:s,type:"linear",className:c}))}},{key:"renderLabelItem",value:function(a,i,s){if(xt.isValidElement(a))return xt.cloneElement(a,i);var c=s;if(Ja(a)&&(c=a(i),xt.isValidElement(c)))return c;var l=vi("recharts-pie-label-text",typeof a!="boolean"&&!Ja(a)?a.className:"");return xt.createElement(lp,$p({},i,{alignmentBaseline:"middle",className:l}),c)}}])})(k.PureComponent);ov=CA;Hd(CA,"displayName","Pie");Hd(CA,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ap.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Hd(CA,"parseDeltaAngle",function(r,e){var n=wu(e-r),a=Math.min(Math.abs(e-r),360);return n*a});Hd(CA,"getRealPieData",function(r){var e=r.data,n=r.children,a=ka(r,!1),i=hd(n,Mx);return e&&e.length?e.map(function(s,c){return ao(ao(ao({payload:s},a),s),i&&i[c]&&i[c].props)}):i&&i.length?i.map(function(s){return ao(ao({},a),s.props)}):[]});Hd(CA,"parseCoordinateOfPie",function(r,e){var n=e.top,a=e.left,i=e.width,s=e.height,c=wP(i,s),l=a+ju(r.cx,i,i/2),u=n+ju(r.cy,s,s/2),o=ju(r.innerRadius,c,0),h=ju(r.outerRadius,c,c*.8),d=r.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:l,cy:u,innerRadius:o,outerRadius:h,maxRadius:d}});Hd(CA,"getComposedData",function(r){var e=r.item,n=r.offset,a=e.type.defaultProps!==void 0?ao(ao({},e.type.defaultProps),e.props):e.props,i=ov.getRealPieData(a);if(!i||!i.length)return null;var s=a.cornerRadius,c=a.startAngle,l=a.endAngle,u=a.paddingAngle,o=a.dataKey,h=a.nameKey,d=a.valueKey,A=a.tooltipType,f=Math.abs(a.minAngle),g=ov.parseCoordinateOfPie(a,n),m=ov.parseDeltaAngle(c,l),x=Math.abs(m),y=o;ci(o)&&ci(d)?(fh(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):ci(o)&&(fh(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=d);var b=i.filter(function(W){return ql(W,y,0)!==0}).length,w=(x>=360?b:b-1)*u,S=x-b*f-w,N=i.reduce(function(W,K){var te=ql(K,y,0);return W+(vn(te)?te:0)},0),C;if(N>0){var O;C=i.map(function(W,K){var te=ql(W,y,0),q=ql(W,h,K),Y=(vn(te)?te:0)/N,P;K?P=O.endAngle+wu(m)*u*(te!==0?1:0):P=c;var ce=P+wu(m)*((te!==0?f:0)+Y*S),$=(P+ce)/2,R=(g.innerRadius+g.outerRadius)/2,se=[{name:q,value:te,payload:W,dataKey:y,type:A}],fe=so(g.cx,g.cy,R,$);return O=ao(ao(ao({percent:Y,cornerRadius:s,name:q,tooltipPayload:se,midAngle:$,middleRadius:R,tooltipPosition:fe},W),g),{},{value:ql(W,y),startAngle:P,endAngle:ce,payload:W,paddingAngle:wu(m)*u}),O})}return ao(ao({},g),{},{sectors:C,data:i})});var rj,_T;function Mq(){if(_T)return rj;_T=1;var r=Math.ceil,e=Math.max;function n(a,i,s,c){for(var l=-1,u=e(r((i-a)/(s||1)),0),o=Array(u);u--;)o[c?u:++l]=a,a+=s;return o}return rj=n,rj}var nj,OT;function HP(){if(OT)return nj;OT=1;var r=uk(),e=1/0,n=17976931348623157e292;function a(i){if(!i)return i===0?i:0;if(i=r(i),i===e||i===-e){var s=i<0?-1:1;return s*n}return i===i?i:0}return nj=a,nj}var aj,kT;function Rq(){if(kT)return aj;kT=1;var r=Mq(),e=Dx(),n=HP();function a(i){return function(s,c,l){return l&&typeof l!="number"&&e(s,c,l)&&(c=l=void 0),s=n(s),c===void 0?(c=s,s=0):c=n(c),l=l===void 0?s<c?1:-1:n(l),r(s,c,l,i)}}return aj=a,aj}var ij,PT;function Lq(){if(PT)return ij;PT=1;var r=Rq(),e=r();return ij=e,ij}var Uq=Lq();const rx=ts(Uq);function Tg(r){"@babel/helpers - typeof";return Tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tg(r)}function FT(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function DT(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FT(Object(n),!0).forEach(function(a){QP(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):FT(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function QP(r,e,n){return e=Hq(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function Hq(r){var e=Qq(r,"string");return Tg(e)=="symbol"?e:e+""}function Qq(r,e){if(Tg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(Tg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Wq=["Webkit","Moz","O","ms"],$q=function(e,n){var a=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=Wq.reduce(function(s,c){return DT(DT({},s),{},QP({},c+a,n))},{});return i[e]=n,i};function mm(r){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mm(r)}function nx(){return nx=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},nx.apply(this,arguments)}function MT(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function sj(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MT(Object(n),!0).forEach(function(a){sd(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):MT(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function Vq(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function RT(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,$P(a.key),a)}}function zq(r,e,n){return e&&RT(r.prototype,e),n&&RT(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function Kq(r,e,n){return e=ax(e),Gq(r,WP()?Reflect.construct(e,n||[],ax(r).constructor):e.apply(r,n))}function Gq(r,e){if(e&&(mm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qq(r)}function qq(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function WP(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WP=function(){return!!r})()}function ax(r){return ax=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ax(r)}function Xq(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&fN(r,e)}function fN(r,e){return fN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},fN(r,e)}function sd(r,e,n){return e=$P(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function $P(r){var e=Yq(r,"string");return mm(e)=="symbol"?e:e+""}function Yq(r,e){if(mm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(mm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var Zq=function(e){var n=e.data,a=e.startIndex,i=e.endIndex,s=e.x,c=e.width,l=e.travellerWidth;if(!n||!n.length)return{};var u=n.length,o=V0().domain(rx(0,u)).range([s,s+c-l]),h=o.domain().map(function(d){return o(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:o(a),endX:o(i),scale:o,scaleValues:h}},LT=function(e){return e.changedTouches&&!!e.changedTouches.length},gm=(function(r){function e(n){var a;return Vq(this,e),a=Kq(this,e,[n]),sd(a,"handleDrag",function(i){a.leaveTimer&&(clearTimeout(a.leaveTimer),a.leaveTimer=null),a.state.isTravellerMoving?a.handleTravellerMove(i):a.state.isSlideMoving&&a.handleSlideDrag(i)}),sd(a,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&a.handleDrag(i.changedTouches[0])}),sd(a,"handleDragEnd",function(){a.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=a.props,s=i.endIndex,c=i.onDragEnd,l=i.startIndex;c==null||c({endIndex:s,startIndex:l})}),a.detachDragEndListener()}),sd(a,"handleLeaveWrapper",function(){(a.state.isTravellerMoving||a.state.isSlideMoving)&&(a.leaveTimer=window.setTimeout(a.handleDragEnd,a.props.leaveTimeOut))}),sd(a,"handleEnterSlideOrTraveller",function(){a.setState({isTextActive:!0})}),sd(a,"handleLeaveSlideOrTraveller",function(){a.setState({isTextActive:!1})}),sd(a,"handleSlideDragStart",function(i){var s=LT(i)?i.changedTouches[0]:i;a.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),a.attachDragEndListener()}),a.travellerDragStartHandlers={startX:a.handleTravellerDragStart.bind(a,"startX"),endX:a.handleTravellerDragStart.bind(a,"endX")},a.state={},a}return Xq(e,r),zq(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(a){var i=a.startX,s=a.endX,c=this.state.scaleValues,l=this.props,u=l.gap,o=l.data,h=o.length-1,d=Math.min(i,s),A=Math.max(i,s),f=e.getIndexInRange(c,d),g=e.getIndexInRange(c,A);return{startIndex:f-f%u,endIndex:g===h?h:g-g%u}}},{key:"getTextOfTick",value:function(a){var i=this.props,s=i.data,c=i.tickFormatter,l=i.dataKey,u=ql(s[a],l,a);return Ja(c)?c(u,a):u}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(a){var i=this.state,s=i.slideMoveStartX,c=i.startX,l=i.endX,u=this.props,o=u.x,h=u.width,d=u.travellerWidth,A=u.startIndex,f=u.endIndex,g=u.onChange,m=a.pageX-s;m>0?m=Math.min(m,o+h-d-l,o+h-d-c):m<0&&(m=Math.max(m,o-c,o-l));var x=this.getIndex({startX:c+m,endX:l+m});(x.startIndex!==A||x.endIndex!==f)&&g&&g(x),this.setState({startX:c+m,endX:l+m,slideMoveStartX:a.pageX})}},{key:"handleTravellerDragStart",value:function(a,i){var s=LT(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:a,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(a){var i=this.state,s=i.brushMoveStartX,c=i.movingTravellerId,l=i.endX,u=i.startX,o=this.state[c],h=this.props,d=h.x,A=h.width,f=h.travellerWidth,g=h.onChange,m=h.gap,x=h.data,y={startX:this.state.startX,endX:this.state.endX},b=a.pageX-s;b>0?b=Math.min(b,d+A-f-o):b<0&&(b=Math.max(b,d-o)),y[c]=o+b;var w=this.getIndex(y),S=w.startIndex,N=w.endIndex,C=function(){var W=x.length-1;return c==="startX"&&(l>u?S%m===0:N%m===0)||l<u&&N===W||c==="endX"&&(l>u?N%m===0:S%m===0)||l>u&&N===W};this.setState(sd(sd({},c,o+b),"brushMoveStartX",a.pageX),function(){g&&C()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(a,i){var s=this,c=this.state,l=c.scaleValues,u=c.startX,o=c.endX,h=this.state[i],d=l.indexOf(h);if(d!==-1){var A=d+a;if(!(A===-1||A>=l.length)){var f=l[A];i==="startX"&&f>=o||i==="endX"&&f<=u||this.setState(sd({},i,f),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var a=this.props,i=a.x,s=a.y,c=a.width,l=a.height,u=a.fill,o=a.stroke;return xt.createElement("rect",{stroke:o,fill:u,x:i,y:s,width:c,height:l})}},{key:"renderPanorama",value:function(){var a=this.props,i=a.x,s=a.y,c=a.width,l=a.height,u=a.data,o=a.children,h=a.padding,d=k.Children.only(o);return d?xt.cloneElement(d,{x:i,y:s,width:c,height:l,margin:h,compact:!0,data:u}):null}},{key:"renderTravellerLayer",value:function(a,i){var s,c,l=this,u=this.props,o=u.y,h=u.travellerWidth,d=u.height,A=u.traveller,f=u.ariaLabel,g=u.data,m=u.startIndex,x=u.endIndex,y=Math.max(a,this.props.x),b=sj(sj({},ka(this.props,!1)),{},{x:y,y:o,width:h,height:d}),w=f||"Min value: ".concat((s=g[m])===null||s===void 0?void 0:s.name,", Max value: ").concat((c=g[x])===null||c===void 0?void 0:c.name);return xt.createElement(ls,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":a,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),l.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(A,b))}},{key:"renderSlide",value:function(a,i){var s=this.props,c=s.y,l=s.height,u=s.stroke,o=s.travellerWidth,h=Math.min(a,i)+o,d=Math.max(Math.abs(i-a)-o,0);return xt.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:u,fillOpacity:.2,x:h,y:c,width:d,height:l})}},{key:"renderText",value:function(){var a=this.props,i=a.startIndex,s=a.endIndex,c=a.y,l=a.height,u=a.travellerWidth,o=a.stroke,h=this.state,d=h.startX,A=h.endX,f=5,g={pointerEvents:"none",fill:o};return xt.createElement(ls,{className:"recharts-brush-texts"},xt.createElement(lp,nx({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,A)-f,y:c+l/2},g),this.getTextOfTick(i)),xt.createElement(lp,nx({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,A)+u+f,y:c+l/2},g),this.getTextOfTick(s)))}},{key:"render",value:function(){var a=this.props,i=a.data,s=a.className,c=a.children,l=a.x,u=a.y,o=a.width,h=a.height,d=a.alwaysShowText,A=this.state,f=A.startX,g=A.endX,m=A.isTextActive,x=A.isSlideMoving,y=A.isTravellerMoving,b=A.isTravellerFocused;if(!i||!i.length||!vn(l)||!vn(u)||!vn(o)||!vn(h)||o<=0||h<=0)return null;var w=vi("recharts-brush",s),S=xt.Children.count(c)===1,N=$q("userSelect","none");return xt.createElement(ls,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(f,g),this.renderTravellerLayer(f,"startX"),this.renderTravellerLayer(g,"endX"),(m||x||y||b||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(a){var i=a.x,s=a.y,c=a.width,l=a.height,u=a.stroke,o=Math.floor(s+l/2)-1;return xt.createElement(xt.Fragment,null,xt.createElement("rect",{x:i,y:s,width:c,height:l,fill:u,stroke:"none"}),xt.createElement("line",{x1:i+1,y1:o,x2:i+c-1,y2:o,fill:"none",stroke:"#fff"}),xt.createElement("line",{x1:i+1,y1:o+2,x2:i+c-1,y2:o+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(a,i){var s;return xt.isValidElement(a)?s=xt.cloneElement(a,i):Ja(a)?s=a(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(a,i){var s=a.data,c=a.width,l=a.x,u=a.travellerWidth,o=a.updateId,h=a.startIndex,d=a.endIndex;if(s!==i.prevData||o!==i.prevUpdateId)return sj({prevData:s,prevTravellerWidth:u,prevUpdateId:o,prevX:l,prevWidth:c},s&&s.length?Zq({data:s,width:c,x:l,travellerWidth:u,startIndex:h,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(c!==i.prevWidth||l!==i.prevX||u!==i.prevTravellerWidth)){i.scale.range([l,l+c-u]);var A=i.scale.domain().map(function(f){return i.scale(f)});return{prevData:s,prevTravellerWidth:u,prevUpdateId:o,prevX:l,prevWidth:c,startX:i.scale(a.startIndex),endX:i.scale(a.endIndex),scaleValues:A}}return null}},{key:"getIndexInRange",value:function(a,i){for(var s=a.length,c=0,l=s-1;l-c>1;){var u=Math.floor((c+l)/2);a[u]>i?l=u:c=u}return i>=a[l]?l:c}}])})(k.PureComponent);sd(gm,"displayName","Brush");sd(gm,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var oj,UT;function Jq(){if(UT)return oj;UT=1;var r=v4();function e(n,a){var i;return r(n,function(s,c,l){return i=a(s,c,l),!i}),!!i}return oj=e,oj}var lj,HT;function eX(){if(HT)return lj;HT=1;var r=HO(),e=Lh(),n=Jq(),a=Hu(),i=Dx();function s(c,l,u){var o=a(c)?r:n;return u&&i(c,l,u)&&(l=void 0),o(c,e(l,3))}return lj=s,lj}var tX=eX();const rX=ts(tX);var Ph=function(e,n){var a=e.alwaysShow,i=e.ifOverflow;return a&&(i="extendDomain"),i===n},cj,QT;function nX(){if(QT)return cj;QT=1;var r=ik();function e(n,a,i){a=="__proto__"&&r?r(n,a,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[a]=i}return cj=e,cj}var uj,WT;function aX(){if(WT)return uj;WT=1;var r=nX(),e=nk(),n=Lh();function a(i,s){var c={};return s=n(s,3),e(i,function(l,u,o){r(c,u,s(l,u,o))}),c}return uj=a,uj}var iX=aX();const sX=ts(iX);var dj,$T;function oX(){if($T)return dj;$T=1;function r(e,n){for(var a=-1,i=e==null?0:e.length;++a<i;)if(!n(e[a],a,e))return!1;return!0}return dj=r,dj}var hj,VT;function lX(){if(VT)return hj;VT=1;var r=v4();function e(n,a){var i=!0;return r(n,function(s,c,l){return i=!!a(s,c,l),i}),i}return hj=e,hj}var Aj,zT;function cX(){if(zT)return Aj;zT=1;var r=oX(),e=lX(),n=Lh(),a=Hu(),i=Dx();function s(c,l,u){var o=a(c)?r:e;return u&&i(c,l,u)&&(l=void 0),o(c,n(l,3))}return Aj=s,Aj}var uX=cX();const VP=ts(uX);var dX=["x","y"];function _g(r){"@babel/helpers - typeof";return _g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_g(r)}function pN(){return pN=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},pN.apply(this,arguments)}function KT(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function t0(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KT(Object(n),!0).forEach(function(a){hX(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):KT(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function hX(r,e,n){return e=AX(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function AX(r){var e=fX(r,"string");return _g(e)=="symbol"?e:e+""}function fX(r,e){if(_g(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(_g(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function pX(r,e){if(r==null)return{};var n=mX(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function mX(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function gX(r,e){var n=r.x,a=r.y,i=pX(r,dX),s="".concat(n),c=parseInt(s,10),l="".concat(a),u=parseInt(l,10),o="".concat(e.height||i.height),h=parseInt(o,10),d="".concat(e.width||i.width),A=parseInt(d,10);return t0(t0(t0(t0(t0({},e),i),c?{x:c}:{}),u?{y:u}:{}),{},{height:h,width:A,name:e.name,radius:e.radius})}function GT(r){return xt.createElement(RP,pN({shapeType:"rectangle",propTransformer:gX,activeClassName:"recharts-active-bar"},r))}var vX=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(a,i){if(typeof e=="number")return e;var s=typeof a=="number";return s?e(a,i):(s||up(),n)}},xX=["value","background"],zP;function vm(r){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vm(r)}function yX(r,e){if(r==null)return{};var n=bX(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function bX(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function ix(){return ix=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},ix.apply(this,arguments)}function qT(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function Nl(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qT(Object(n),!0).forEach(function(a){nf(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):qT(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function wX(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function XT(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,GP(a.key),a)}}function jX(r,e,n){return e&&XT(r.prototype,e),n&&XT(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function CX(r,e,n){return e=sx(e),NX(r,KP()?Reflect.construct(e,n||[],sx(r).constructor):e.apply(r,n))}function NX(r,e){if(e&&(vm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SX(r)}function SX(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function KP(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KP=function(){return!!r})()}function sx(r){return sx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sx(r)}function EX(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&mN(r,e)}function mN(r,e){return mN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},mN(r,e)}function nf(r,e,n){return e=GP(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function GP(r){var e=BX(r,"string");return vm(e)=="symbol"?e:e+""}function BX(r,e){if(vm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(vm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var gp=(function(r){function e(){var n;wX(this,e);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=CX(this,e,[].concat(i)),nf(n,"state",{isAnimationFinished:!1}),nf(n,"id",Pm("recharts-bar-")),nf(n,"handleAnimationEnd",function(){var c=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),c&&c()}),nf(n,"handleAnimationStart",function(){var c=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),c&&c()}),n}return EX(e,r),jX(e,[{key:"renderRectanglesStatically",value:function(a){var i=this,s=this.props,c=s.shape,l=s.dataKey,u=s.activeIndex,o=s.activeBar,h=ka(this.props,!1);return a&&a.map(function(d,A){var f=A===u,g=f?o:c,m=Nl(Nl(Nl({},h),d),{},{isActive:f,option:g,index:A,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return xt.createElement(ls,ix({className:"recharts-bar-rectangle"},op(i.props,d,A),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value)}),xt.createElement(GT,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var a=this,i=this.props,s=i.data,c=i.layout,l=i.isAnimationActive,u=i.animationBegin,o=i.animationDuration,h=i.animationEasing,d=i.animationId,A=this.state.prevData;return xt.createElement(Dh,{begin:u,duration:o,isActive:l,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var g=f.t,m=s.map(function(x,y){var b=A&&A[y];if(b){var w=cd(b.x,x.x),S=cd(b.y,x.y),N=cd(b.width,x.width),C=cd(b.height,x.height);return Nl(Nl({},x),{},{x:w(g),y:S(g),width:N(g),height:C(g)})}if(c==="horizontal"){var O=cd(0,x.height),W=O(g);return Nl(Nl({},x),{},{y:x.y+x.height-W,height:W})}var K=cd(0,x.width),te=K(g);return Nl(Nl({},x),{},{width:te})});return xt.createElement(ls,null,a.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var a=this.props,i=a.data,s=a.isAnimationActive,c=this.state.prevData;return s&&i&&i.length&&(!c||!$g(c,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var a=this,i=this.props,s=i.data,c=i.dataKey,l=i.activeIndex,u=ka(this.props.background,!1);return s.map(function(o,h){o.value;var d=o.background,A=yX(o,xX);if(!d)return null;var f=Nl(Nl(Nl(Nl(Nl({},A),{},{fill:"#eee"},d),u),op(a.props,o,h)),{},{onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd,dataKey:c,index:h,className:"recharts-bar-background-rectangle"});return xt.createElement(GT,ix({key:"background-bar-".concat(h),option:a.props.background,isActive:h===l},f))})}},{key:"renderErrorBar",value:function(a,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,c=s.data,l=s.xAxis,u=s.yAxis,o=s.layout,h=s.children,d=hd(h,Vg);if(!d)return null;var A=o==="vertical"?c[0].height/2:c[0].width/2,f=function(x,y){var b=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:b,errorVal:ql(x,y)}},g={clipPath:a?"url(#clipPath-".concat(i,")"):null};return xt.createElement(ls,g,d.map(function(m){return xt.cloneElement(m,{key:"error-bar-".concat(i,"-").concat(m.props.dataKey),data:c,xAxis:l,yAxis:u,layout:o,offset:A,dataPointFormatter:f})}))}},{key:"render",value:function(){var a=this.props,i=a.hide,s=a.data,c=a.className,l=a.xAxis,u=a.yAxis,o=a.left,h=a.top,d=a.width,A=a.height,f=a.isAnimationActive,g=a.background,m=a.id;if(i||!s||!s.length)return null;var x=this.state.isAnimationFinished,y=vi("recharts-bar",c),b=l&&l.allowDataOverflow,w=u&&u.allowDataOverflow,S=b||w,N=ci(m)?this.id:m;return xt.createElement(ls,{className:y},b||w?xt.createElement("defs",null,xt.createElement("clipPath",{id:"clipPath-".concat(N)},xt.createElement("rect",{x:b?o:o-d/2,y:w?h:h-A/2,width:b?d:d*2,height:w?A:A*2}))):null,xt.createElement(ls,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(N,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,N),(!f||x)&&mA.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(a,i){return a.animationId!==i.prevAnimationId?{prevAnimationId:a.animationId,curData:a.data,prevData:i.curData}:a.data!==i.curData?{curData:a.data}:null}}])})(k.PureComponent);zP=gp;nf(gp,"displayName","Bar");nf(gp,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ap.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});nf(gp,"getComposedData",function(r){var e=r.props,n=r.item,a=r.barPosition,i=r.bandSize,s=r.xAxis,c=r.yAxis,l=r.xAxisTicks,u=r.yAxisTicks,o=r.stackedData,h=r.dataStartIndex,d=r.displayedData,A=r.offset,f=J$(a,n);if(!f)return null;var g=e.layout,m=n.type.defaultProps,x=m!==void 0?Nl(Nl({},m),n.props):n.props,y=x.dataKey,b=x.children,w=x.minPointSize,S=g==="horizontal"?c:s,N=o?S.scale.domain():null,C=sV({numericAxis:S}),O=hd(b,Mx),W=d.map(function(K,te){var q,Y,P,ce,$,R;o?q=eV(o[h+te],N):(q=ql(K,y),Array.isArray(q)||(q=[C,q]));var se=vX(w,zP.defaultProps.minPointSize)(q[1],te);if(g==="horizontal"){var fe,Te=[c.scale(q[0]),c.scale(q[1])],Ie=Te[0],_e=Te[1];Y=CI({axis:s,ticks:l,bandSize:i,offset:f.offset,entry:K,index:te}),P=(fe=_e??Ie)!==null&&fe!==void 0?fe:void 0,ce=f.size;var Z=Ie-_e;if($=Number.isNaN(Z)?0:Z,R={x:Y,y:c.y,width:ce,height:c.height},Math.abs(se)>0&&Math.abs($)<Math.abs(se)){var Oe=wu($||se)*(Math.abs(se)-Math.abs($));P-=Oe,$+=Oe}}else{var ee=[s.scale(q[0]),s.scale(q[1])],re=ee[0],je=ee[1];if(Y=re,P=CI({axis:c,ticks:u,bandSize:i,offset:f.offset,entry:K,index:te}),ce=je-re,$=f.size,R={x:s.x,y:P,width:s.width,height:$},Math.abs(se)>0&&Math.abs(ce)<Math.abs(se)){var Ne=wu(ce||se)*(Math.abs(se)-Math.abs(ce));ce+=Ne}}return Nl(Nl(Nl({},K),{},{x:Y,y:P,width:ce,height:$,value:o?q:q[1],payload:K,background:R},O&&O[te]&&O[te].props),{},{tooltipPayload:[yP(n,K)],tooltipPosition:{x:Y+ce/2,y:P+$/2}})});return Nl({data:W,layout:g},A)});function Og(r){"@babel/helpers - typeof";return Og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Og(r)}function IX(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function YT(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,qP(a.key),a)}}function TX(r,e,n){return e&&YT(r.prototype,e),n&&YT(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function ZT(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function ch(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZT(Object(n),!0).forEach(function(a){ry(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):ZT(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function ry(r,e,n){return e=qP(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function qP(r){var e=_X(r,"string");return Og(e)=="symbol"?e:e+""}function _X(r,e){if(Og(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(Og(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var XP=function(e,n,a,i,s){var c=e.width,l=e.height,u=e.layout,o=e.children,h=Object.keys(n),d={left:a.left,leftMirror:a.left,right:c-a.right,rightMirror:c-a.right,top:a.top,topMirror:a.top,bottom:l-a.bottom,bottomMirror:l-a.bottom},A=!!od(o,gp);return h.reduce(function(f,g){var m=n[g],x=m.orientation,y=m.domain,b=m.padding,w=b===void 0?{}:b,S=m.mirror,N=m.reversed,C="".concat(x).concat(S?"Mirror":""),O,W,K,te,q;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var Y=y[1]-y[0],P=1/0,ce=m.categoricalDomain.sort();if(ce.forEach(function(ee,re){re>0&&(P=Math.min((ee||0)-(ce[re-1]||0),P))}),Number.isFinite(P)){var $=P/Y,R=m.layout==="vertical"?a.height:a.width;if(m.padding==="gap"&&(O=$*R/2),m.padding==="no-gap"){var se=ju(e.barCategoryGap,$*R),fe=$*R/2;O=fe-se-(fe-se)/R*se}}}i==="xAxis"?W=[a.left+(w.left||0)+(O||0),a.left+a.width-(w.right||0)-(O||0)]:i==="yAxis"?W=u==="horizontal"?[a.top+a.height-(w.bottom||0),a.top+(w.top||0)]:[a.top+(w.top||0)+(O||0),a.top+a.height-(w.bottom||0)-(O||0)]:W=m.range,N&&(W=[W[1],W[0]]);var Te=mP(m,s,A),Ie=Te.scale,_e=Te.realScaleType;Ie.domain(y).range(W),gP(Ie);var Z=vP(Ie,ch(ch({},m),{},{realScaleType:_e}));i==="xAxis"?(q=x==="top"&&!S||x==="bottom"&&S,K=a.left,te=d[C]-q*m.height):i==="yAxis"&&(q=x==="left"&&!S||x==="right"&&S,K=d[C]-q*m.width,te=a.top);var Oe=ch(ch(ch({},m),Z),{},{realScaleType:_e,x:K,y:te,scale:Ie,width:i==="xAxis"?a.width:m.width,height:i==="yAxis"?a.height:m.height});return Oe.bandSize=Qv(Oe,Z),!m.hide&&i==="xAxis"?d[C]+=(q?-1:1)*Oe.height:m.hide||(d[C]+=(q?-1:1)*Oe.width),ch(ch({},f),{},ry({},g,Oe))},{})},YP=function(e,n){var a=e.x,i=e.y,s=n.x,c=n.y;return{x:Math.min(a,s),y:Math.min(i,c),width:Math.abs(s-a),height:Math.abs(c-i)}},OX=function(e){var n=e.x1,a=e.y1,i=e.x2,s=e.y2;return YP({x:n,y:a},{x:i,y:s})},ZP=(function(){function r(e){IX(this,r),this.scale=e}return TX(r,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=a.bandAware,s=a.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(i){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+u}return this.scale(n)}}},{key:"isInRange",value:function(n){var a=this.range(),i=a[0],s=a[a.length-1];return i<=s?n>=i&&n<=s:n>=s&&n<=i}}],[{key:"create",value:function(n){return new r(n)}}])})();ry(ZP,"EPS",1e-4);var K4=function(e){var n=Object.keys(e).reduce(function(a,i){return ch(ch({},a),{},ry({},i,ZP.create(e[i])))},{});return ch(ch({},n),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=s.bandAware,l=s.position;return sX(i,function(u,o){return n[o].apply(u,{bandAware:c,position:l})})},isInRange:function(i){return VP(i,function(s,c){return n[c].isInRange(s)})}})};function kX(r){return(r%180+180)%180}var PX=function(e){var n=e.width,a=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=kX(i),c=s*Math.PI/180,l=Math.atan(a/n),u=c>l&&c<Math.PI-l?a/Math.sin(c):n/Math.cos(c);return Math.abs(u)},fj,JT;function FX(){if(JT)return fj;JT=1;var r=Lh(),e=Lg(),n=Px();function a(i){return function(s,c,l){var u=Object(s);if(!e(s)){var o=r(c,3);s=n(s),c=function(d){return o(u[d],d,u)}}var h=i(s,c,l);return h>-1?u[o?s[h]:h]:void 0}}return fj=a,fj}var pj,e8;function DX(){if(e8)return pj;e8=1;var r=HP();function e(n){var a=r(n),i=a%1;return a===a?i?a-i:a:0}return pj=e,pj}var mj,t8;function MX(){if(t8)return mj;t8=1;var r=ZO(),e=Lh(),n=DX(),a=Math.max;function i(s,c,l){var u=s==null?0:s.length;if(!u)return-1;var o=l==null?0:n(l);return o<0&&(o=a(u+o,0)),r(s,e(c,3),o)}return mj=i,mj}var gj,r8;function RX(){if(r8)return gj;r8=1;var r=FX(),e=MX(),n=r(e);return gj=n,gj}var LX=RX();const UX=ts(LX);var HX=fO();const QX=ts(HX);var WX=QX(function(r){return{x:r.left,y:r.top,width:r.width,height:r.height}},function(r){return["l",r.left,"t",r.top,"w",r.width,"h",r.height].join("")}),G4=k.createContext(void 0),q4=k.createContext(void 0),JP=k.createContext(void 0),eF=k.createContext({}),tF=k.createContext(void 0),rF=k.createContext(0),nF=k.createContext(0),n8=function(e){var n=e.state,a=n.xAxisMap,i=n.yAxisMap,s=n.offset,c=e.clipPathId,l=e.children,u=e.width,o=e.height,h=WX(s);return xt.createElement(G4.Provider,{value:a},xt.createElement(q4.Provider,{value:i},xt.createElement(eF.Provider,{value:s},xt.createElement(JP.Provider,{value:h},xt.createElement(tF.Provider,{value:c},xt.createElement(rF.Provider,{value:o},xt.createElement(nF.Provider,{value:u},l)))))))},$X=function(){return k.useContext(tF)},aF=function(e){var n=k.useContext(G4);n==null&&up();var a=n[e];return a==null&&up(),a},VX=function(){var e=k.useContext(G4);return tf(e)},zX=function(){var e=k.useContext(q4),n=UX(e,function(a){return VP(a.domain,Number.isFinite)});return n||tf(e)},iF=function(e){var n=k.useContext(q4);n==null&&up();var a=n[e];return a==null&&up(),a},KX=function(){var e=k.useContext(JP);return e},GX=function(){return k.useContext(eF)},X4=function(){return k.useContext(nF)},Y4=function(){return k.useContext(rF)};function xm(r){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xm(r)}function qX(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function XX(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,oF(a.key),a)}}function YX(r,e,n){return e&&XX(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function ZX(r,e,n){return e=ox(e),JX(r,sF()?Reflect.construct(e,n||[],ox(r).constructor):e.apply(r,n))}function JX(r,e){if(e&&(xm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eY(r)}function eY(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function sF(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sF=function(){return!!r})()}function ox(r){return ox=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ox(r)}function tY(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&gN(r,e)}function gN(r,e){return gN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},gN(r,e)}function a8(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function i8(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a8(Object(n),!0).forEach(function(a){Z4(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):a8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function Z4(r,e,n){return e=oF(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function oF(r){var e=rY(r,"string");return xm(e)=="symbol"?e:e+""}function rY(r,e){if(xm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(xm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function nY(r,e){return oY(r)||sY(r,e)||iY(r,e)||aY()}function aY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iY(r,e){if(r){if(typeof r=="string")return s8(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s8(r,e)}}function s8(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function sY(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,i,s,c,l=[],u=!0,o=!1;try{if(s=(n=n.call(r)).next,e!==0)for(;!(u=(a=s.call(n)).done)&&(l.push(a.value),l.length!==e);u=!0);}catch(h){o=!0,i=h}finally{try{if(!u&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(o)throw i}}return l}}function oY(r){if(Array.isArray(r))return r}function vN(){return vN=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},vN.apply(this,arguments)}var lY=function(e,n){var a;return xt.isValidElement(e)?a=xt.cloneElement(e,n):Ja(e)?a=e(n):a=xt.createElement("line",vN({},n,{className:"recharts-reference-line-line"})),a},cY=function(e,n,a,i,s,c,l,u,o){var h=s.x,d=s.y,A=s.width,f=s.height;if(a){var g=o.y,m=e.y.apply(g,{position:c});if(Ph(o,"discard")&&!e.y.isInRange(m))return null;var x=[{x:h+A,y:m},{x:h,y:m}];return u==="left"?x.reverse():x}if(n){var y=o.x,b=e.x.apply(y,{position:c});if(Ph(o,"discard")&&!e.x.isInRange(b))return null;var w=[{x:b,y:d+f},{x:b,y:d}];return l==="top"?w.reverse():w}if(i){var S=o.segment,N=S.map(function(C){return e.apply(C,{position:c})});return Ph(o,"discard")&&rX(N,function(C){return!e.isInRange(C)})?null:N}return null};function uY(r){var e=r.x,n=r.y,a=r.segment,i=r.xAxisId,s=r.yAxisId,c=r.shape,l=r.className,u=r.alwaysShow,o=$X(),h=aF(i),d=iF(s),A=KX();if(!o||!A)return null;fh(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=K4({x:h.scale,y:d.scale}),g=Zl(e),m=Zl(n),x=a&&a.length===2,y=cY(f,g,m,x,A,r.position,h.orientation,d.orientation,r);if(!y)return null;var b=nY(y,2),w=b[0],S=w.x,N=w.y,C=b[1],O=C.x,W=C.y,K=Ph(r,"hidden")?"url(#".concat(o,")"):void 0,te=i8(i8({clipPath:K},ka(r,!0)),{},{x1:S,y1:N,x2:O,y2:W});return xt.createElement(ls,{className:vi("recharts-reference-line",l)},lY(c,te),wc.renderCallByParent(r,OX({x1:S,y1:N,x2:O,y2:W})))}var J4=(function(r){function e(){return qX(this,e),ZX(this,e,arguments)}return tY(e,r),YX(e,[{key:"render",value:function(){return xt.createElement(uY,this.props)}}])})(xt.Component);Z4(J4,"displayName","ReferenceLine");Z4(J4,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function xN(){return xN=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},xN.apply(this,arguments)}function ym(r){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ym(r)}function o8(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function l8(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o8(Object(n),!0).forEach(function(a){ny(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):o8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function dY(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function hY(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,cF(a.key),a)}}function AY(r,e,n){return e&&hY(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function fY(r,e,n){return e=lx(e),pY(r,lF()?Reflect.construct(e,n||[],lx(r).constructor):e.apply(r,n))}function pY(r,e){if(e&&(ym(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mY(r)}function mY(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function lF(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lF=function(){return!!r})()}function lx(r){return lx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lx(r)}function gY(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&yN(r,e)}function yN(r,e){return yN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},yN(r,e)}function ny(r,e,n){return e=cF(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function cF(r){var e=vY(r,"string");return ym(e)=="symbol"?e:e+""}function vY(r,e){if(ym(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(ym(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var xY=function(e){var n=e.x,a=e.y,i=e.xAxis,s=e.yAxis,c=K4({x:i.scale,y:s.scale}),l=c.apply({x:n,y:a},{bandAware:!0});return Ph(e,"discard")&&!c.isInRange(l)?null:l},ay=(function(r){function e(){return dY(this,e),fY(this,e,arguments)}return gY(e,r),AY(e,[{key:"render",value:function(){var a=this.props,i=a.x,s=a.y,c=a.r,l=a.alwaysShow,u=a.clipPathId,o=Zl(i),h=Zl(s);if(fh(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!o||!h)return null;var d=xY(this.props);if(!d)return null;var A=d.x,f=d.y,g=this.props,m=g.shape,x=g.className,y=Ph(this.props,"hidden")?"url(#".concat(u,")"):void 0,b=l8(l8({clipPath:y},ka(this.props,!0)),{},{cx:A,cy:f});return xt.createElement(ls,{className:vi("recharts-reference-dot",x)},e.renderDot(m,b),wc.renderCallByParent(this.props,{x:A-c,y:f-c,width:2*c,height:2*c}))}}])})(xt.Component);ny(ay,"displayName","ReferenceDot");ny(ay,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});ny(ay,"renderDot",function(r,e){var n;return xt.isValidElement(r)?n=xt.cloneElement(r,e):Ja(r)?n=r(e):n=xt.createElement(qx,xN({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function bN(){return bN=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},bN.apply(this,arguments)}function bm(r){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bm(r)}function c8(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function u8(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c8(Object(n),!0).forEach(function(a){iy(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):c8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function yY(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function bY(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,dF(a.key),a)}}function wY(r,e,n){return e&&bY(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function jY(r,e,n){return e=cx(e),CY(r,uF()?Reflect.construct(e,n||[],cx(r).constructor):e.apply(r,n))}function CY(r,e){if(e&&(bm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NY(r)}function NY(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function uF(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uF=function(){return!!r})()}function cx(r){return cx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cx(r)}function SY(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&wN(r,e)}function wN(r,e){return wN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},wN(r,e)}function iy(r,e,n){return e=dF(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function dF(r){var e=EY(r,"string");return bm(e)=="symbol"?e:e+""}function EY(r,e){if(bm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(bm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var BY=function(e,n,a,i,s){var c=s.x1,l=s.x2,u=s.y1,o=s.y2,h=s.xAxis,d=s.yAxis;if(!h||!d)return null;var A=K4({x:h.scale,y:d.scale}),f={x:e?A.x.apply(c,{position:"start"}):A.x.rangeMin,y:a?A.y.apply(u,{position:"start"}):A.y.rangeMin},g={x:n?A.x.apply(l,{position:"end"}):A.x.rangeMax,y:i?A.y.apply(o,{position:"end"}):A.y.rangeMax};return Ph(s,"discard")&&(!A.isInRange(f)||!A.isInRange(g))?null:YP(f,g)},sy=(function(r){function e(){return yY(this,e),jY(this,e,arguments)}return SY(e,r),wY(e,[{key:"render",value:function(){var a=this.props,i=a.x1,s=a.x2,c=a.y1,l=a.y2,u=a.className,o=a.alwaysShow,h=a.clipPathId;fh(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Zl(i),A=Zl(s),f=Zl(c),g=Zl(l),m=this.props.shape;if(!d&&!A&&!f&&!g&&!m)return null;var x=BY(d,A,f,g,this.props);if(!x&&!m)return null;var y=Ph(this.props,"hidden")?"url(#".concat(h,")"):void 0;return xt.createElement(ls,{className:vi("recharts-reference-area",u)},e.renderRect(m,u8(u8({clipPath:y},ka(this.props,!0)),x)),wc.renderCallByParent(this.props,x))}}])})(xt.Component);iy(sy,"displayName","ReferenceArea");iy(sy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});iy(sy,"renderRect",function(r,e){var n;return xt.isValidElement(r)?n=xt.cloneElement(r,e):Ja(r)?n=r(e):n=xt.createElement(z4,bN({},e,{className:"recharts-reference-area-rect"})),n});function hF(r,e,n){if(e<1)return[];if(e===1&&n===void 0)return r;for(var a=[],i=0;i<r.length;i+=e)a.push(r[i]);return a}function IY(r,e,n){var a={width:r.width+e.width,height:r.height+e.height};return PX(a,n)}function TY(r,e,n){var a=n==="width",i=r.x,s=r.y,c=r.width,l=r.height;return e===1?{start:a?i:s,end:a?i+c:s+l}:{start:a?i+c:s+l,end:a?i:s}}function ux(r,e,n,a,i){if(r*e<r*a||r*e>r*i)return!1;var s=n();return r*(e-r*s/2-a)>=0&&r*(e+r*s/2-i)<=0}function _Y(r,e){return hF(r,e+1)}function OY(r,e,n,a,i){for(var s=(a||[]).slice(),c=e.start,l=e.end,u=0,o=1,h=c,d=function(){var g=a==null?void 0:a[u];if(g===void 0)return{v:hF(a,o)};var m=u,x,y=function(){return x===void 0&&(x=n(g,m)),x},b=g.coordinate,w=u===0||ux(r,b,y,h,l);w||(u=0,h=c,o+=1),w&&(h=b+r*(y()/2+i),u+=o)},A;o<=s.length;)if(A=d(),A)return A.v;return[]}function kg(r){"@babel/helpers - typeof";return kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kg(r)}function d8(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function tu(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d8(Object(n),!0).forEach(function(a){kY(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):d8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function kY(r,e,n){return e=PY(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function PY(r){var e=FY(r,"string");return kg(e)=="symbol"?e:e+""}function FY(r,e){if(kg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(kg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function DY(r,e,n,a,i){for(var s=(a||[]).slice(),c=s.length,l=e.start,u=e.end,o=function(A){var f=s[A],g,m=function(){return g===void 0&&(g=n(f,A)),g};if(A===c-1){var x=r*(f.coordinate+r*m()/2-u);s[A]=f=tu(tu({},f),{},{tickCoord:x>0?f.coordinate-x*r:f.coordinate})}else s[A]=f=tu(tu({},f),{},{tickCoord:f.coordinate});var y=ux(r,f.tickCoord,m,l,u);y&&(u=f.tickCoord-r*(m()/2+i),s[A]=tu(tu({},f),{},{isShow:!0}))},h=c-1;h>=0;h--)o(h);return s}function MY(r,e,n,a,i,s){var c=(a||[]).slice(),l=c.length,u=e.start,o=e.end;if(s){var h=a[l-1],d=n(h,l-1),A=r*(h.coordinate+r*d/2-o);c[l-1]=h=tu(tu({},h),{},{tickCoord:A>0?h.coordinate-A*r:h.coordinate});var f=ux(r,h.tickCoord,function(){return d},u,o);f&&(o=h.tickCoord-r*(d/2+i),c[l-1]=tu(tu({},h),{},{isShow:!0}))}for(var g=s?l-1:l,m=function(b){var w=c[b],S,N=function(){return S===void 0&&(S=n(w,b)),S};if(b===0){var C=r*(w.coordinate-r*N()/2-u);c[b]=w=tu(tu({},w),{},{tickCoord:C<0?w.coordinate-C*r:w.coordinate})}else c[b]=w=tu(tu({},w),{},{tickCoord:w.coordinate});var O=ux(r,w.tickCoord,N,u,o);O&&(u=w.tickCoord+r*(N()/2+i),c[b]=tu(tu({},w),{},{isShow:!0}))},x=0;x<g;x++)m(x);return c}function eS(r,e,n){var a=r.tick,i=r.ticks,s=r.viewBox,c=r.minTickGap,l=r.orientation,u=r.interval,o=r.tickFormatter,h=r.unit,d=r.angle;if(!i||!i.length||!a)return[];if(vn(u)||Ap.isSsr)return _Y(i,typeof u=="number"&&vn(u)?u:0);var A=[],f=l==="top"||l==="bottom"?"width":"height",g=h&&f==="width"?$0(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},m=function(w,S){var N=Ja(o)?o(w.value,S):w.value;return f==="width"?IY($0(N,{fontSize:e,letterSpacing:n}),g,d):$0(N,{fontSize:e,letterSpacing:n})[f]},x=i.length>=2?wu(i[1].coordinate-i[0].coordinate):1,y=TY(s,x,f);return u==="equidistantPreserveStart"?OY(x,y,m,i,c):(u==="preserveStart"||u==="preserveStartEnd"?A=MY(x,y,m,i,c,u==="preserveStartEnd"):A=DY(x,y,m,i,c),A.filter(function(b){return b.isShow}))}var RY=["viewBox"],LY=["viewBox"],UY=["ticks"];function wm(r){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wm(r)}function Vp(){return Vp=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},Vp.apply(this,arguments)}function h8(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function gu(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h8(Object(n),!0).forEach(function(a){tS(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):h8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function vj(r,e){if(r==null)return{};var n=HY(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function HY(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function QY(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function A8(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,fF(a.key),a)}}function WY(r,e,n){return e&&A8(r.prototype,e),n&&A8(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function $Y(r,e,n){return e=dx(e),VY(r,AF()?Reflect.construct(e,n||[],dx(r).constructor):e.apply(r,n))}function VY(r,e){if(e&&(wm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zY(r)}function zY(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function AF(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AF=function(){return!!r})()}function dx(r){return dx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dx(r)}function KY(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&jN(r,e)}function jN(r,e){return jN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},jN(r,e)}function tS(r,e,n){return e=fF(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function fF(r){var e=GY(r,"string");return wm(e)=="symbol"?e:e+""}function GY(r,e){if(wm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(wm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var Lm=(function(r){function e(n){var a;return QY(this,e),a=$Y(this,e,[n]),a.state={fontSize:"",letterSpacing:""},a}return KY(e,r),WY(e,[{key:"shouldComponentUpdate",value:function(a,i){var s=a.viewBox,c=vj(a,RY),l=this.props,u=l.viewBox,o=vj(l,LY);return!em(s,u)||!em(c,o)||!em(i,this.state)}},{key:"componentDidMount",value:function(){var a=this.layerReference;if(a){var i=a.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(a){var i=this.props,s=i.x,c=i.y,l=i.width,u=i.height,o=i.orientation,h=i.tickSize,d=i.mirror,A=i.tickMargin,f,g,m,x,y,b,w=d?-1:1,S=a.tickSize||h,N=vn(a.tickCoord)?a.tickCoord:a.coordinate;switch(o){case"top":f=g=a.coordinate,x=c+ +!d*u,m=x-w*S,b=m-w*A,y=N;break;case"left":m=x=a.coordinate,g=s+ +!d*l,f=g-w*S,y=f-w*A,b=N;break;case"right":m=x=a.coordinate,g=s+ +d*l,f=g+w*S,y=f+w*A,b=N;break;default:f=g=a.coordinate,x=c+ +d*u,m=x+w*S,b=m+w*A,y=N;break}return{line:{x1:f,y1:m,x2:g,y2:x},tick:{x:y,y:b}}}},{key:"getTickTextAnchor",value:function(){var a=this.props,i=a.orientation,s=a.mirror,c;switch(i){case"left":c=s?"start":"end";break;case"right":c=s?"end":"start";break;default:c="middle";break}return c}},{key:"getTickVerticalAnchor",value:function(){var a=this.props,i=a.orientation,s=a.mirror,c="end";switch(i){case"left":case"right":c="middle";break;case"top":c=s?"start":"end";break;default:c=s?"end":"start";break}return c}},{key:"renderAxisLine",value:function(){var a=this.props,i=a.x,s=a.y,c=a.width,l=a.height,u=a.orientation,o=a.mirror,h=a.axisLine,d=gu(gu(gu({},ka(this.props,!1)),ka(h,!1)),{},{fill:"none"});if(u==="top"||u==="bottom"){var A=+(u==="top"&&!o||u==="bottom"&&o);d=gu(gu({},d),{},{x1:i,y1:s+A*l,x2:i+c,y2:s+A*l})}else{var f=+(u==="left"&&!o||u==="right"&&o);d=gu(gu({},d),{},{x1:i+f*c,y1:s,x2:i+f*c,y2:s+l})}return xt.createElement("line",Vp({},d,{className:vi("recharts-cartesian-axis-line",dd(h,"className"))}))}},{key:"renderTicks",value:function(a,i,s){var c=this,l=this.props,u=l.tickLine,o=l.stroke,h=l.tick,d=l.tickFormatter,A=l.unit,f=eS(gu(gu({},this.props),{},{ticks:a}),i,s),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),x=ka(this.props,!1),y=ka(h,!1),b=gu(gu({},x),{},{fill:"none"},ka(u,!1)),w=f.map(function(S,N){var C=c.getTickLineCoord(S),O=C.line,W=C.tick,K=gu(gu(gu(gu({textAnchor:g,verticalAnchor:m},x),{},{stroke:"none",fill:o},y),W),{},{index:N,payload:S,visibleTicksCount:f.length,tickFormatter:d});return xt.createElement(ls,Vp({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},op(c.props,S,N)),u&&xt.createElement("line",Vp({},b,O,{className:vi("recharts-cartesian-axis-tick-line",dd(u,"className"))})),h&&e.renderTickItem(h,K,"".concat(Ja(d)?d(S.value,N):S.value).concat(A||"")))});return xt.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var a=this,i=this.props,s=i.axisLine,c=i.width,l=i.height,u=i.ticksGenerator,o=i.className,h=i.hide;if(h)return null;var d=this.props,A=d.ticks,f=vj(d,UY),g=A;return Ja(u)&&(g=A&&A.length>0?u(this.props):u(f)),c<=0||l<=0||!g||!g.length?null:xt.createElement(ls,{className:vi("recharts-cartesian-axis",o),ref:function(x){a.layerReference=x}},s&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),wc.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(a,i,s){var c;return xt.isValidElement(a)?c=xt.cloneElement(a,i):Ja(a)?c=a(i):c=xt.createElement(lp,Vp({},i,{className:"recharts-cartesian-axis-tick-value"}),s),c}}])})(k.Component);tS(Lm,"displayName","CartesianAxis");tS(Lm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var qY=["x1","y1","x2","y2","key"],XY=["offset"];function dp(r){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dp(r)}function f8(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function ru(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f8(Object(n),!0).forEach(function(a){YY(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):f8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function YY(r,e,n){return e=ZY(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function ZY(r){var e=JY(r,"string");return dp(e)=="symbol"?e:e+""}function JY(r,e){if(dp(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(dp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Jf(){return Jf=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},Jf.apply(this,arguments)}function p8(r,e){if(r==null)return{};var n=eZ(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function eZ(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}var tZ=function(e){var n=e.fill;if(!n||n==="none")return null;var a=e.fillOpacity,i=e.x,s=e.y,c=e.width,l=e.height,u=e.ry;return xt.createElement("rect",{x:i,y:s,ry:u,width:c,height:l,stroke:"none",fill:n,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function pF(r,e){var n;if(xt.isValidElement(r))n=xt.cloneElement(r,e);else if(Ja(r))n=r(e);else{var a=e.x1,i=e.y1,s=e.x2,c=e.y2,l=e.key,u=p8(e,qY),o=ka(u,!1);o.offset;var h=p8(o,XY);n=xt.createElement("line",Jf({},h,{x1:a,y1:i,x2:s,y2:c,fill:"none",key:l}))}return n}function rZ(r){var e=r.x,n=r.width,a=r.horizontal,i=a===void 0?!0:a,s=r.horizontalPoints;if(!i||!s||!s.length)return null;var c=s.map(function(l,u){var o=ru(ru({},r),{},{x1:e,y1:l,x2:e+n,y2:l,key:"line-".concat(u),index:u});return pF(i,o)});return xt.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function nZ(r){var e=r.y,n=r.height,a=r.vertical,i=a===void 0?!0:a,s=r.verticalPoints;if(!i||!s||!s.length)return null;var c=s.map(function(l,u){var o=ru(ru({},r),{},{x1:l,y1:e,x2:l,y2:e+n,key:"line-".concat(u),index:u});return pF(i,o)});return xt.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function aZ(r){var e=r.horizontalFill,n=r.fillOpacity,a=r.x,i=r.y,s=r.width,c=r.height,l=r.horizontalPoints,u=r.horizontal,o=u===void 0?!0:u;if(!o||!e||!e.length)return null;var h=l.map(function(A){return Math.round(A+i-i)}).sort(function(A,f){return A-f});i!==h[0]&&h.unshift(0);var d=h.map(function(A,f){var g=!h[f+1],m=g?i+c-A:h[f+1]-A;if(m<=0)return null;var x=f%e.length;return xt.createElement("rect",{key:"react-".concat(f),y:A,x:a,height:m,width:s,stroke:"none",fill:e[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return xt.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function iZ(r){var e=r.vertical,n=e===void 0?!0:e,a=r.verticalFill,i=r.fillOpacity,s=r.x,c=r.y,l=r.width,u=r.height,o=r.verticalPoints;if(!n||!a||!a.length)return null;var h=o.map(function(A){return Math.round(A+s-s)}).sort(function(A,f){return A-f});s!==h[0]&&h.unshift(0);var d=h.map(function(A,f){var g=!h[f+1],m=g?s+l-A:h[f+1]-A;if(m<=0)return null;var x=f%a.length;return xt.createElement("rect",{key:"react-".concat(f),x:A,y:c,width:m,height:u,stroke:"none",fill:a[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return xt.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var sZ=function(e,n){var a=e.xAxis,i=e.width,s=e.height,c=e.offset;return pP(eS(ru(ru(ru({},Lm.defaultProps),a),{},{ticks:hA(a,!0),viewBox:{x:0,y:0,width:i,height:s}})),c.left,c.left+c.width,n)},oZ=function(e,n){var a=e.yAxis,i=e.width,s=e.height,c=e.offset;return pP(eS(ru(ru(ru({},Lm.defaultProps),a),{},{ticks:hA(a,!0),viewBox:{x:0,y:0,width:i,height:s}})),c.top,c.top+c.height,n)},kp={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function lv(r){var e,n,a,i,s,c,l=X4(),u=Y4(),o=GX(),h=ru(ru({},r),{},{stroke:(e=r.stroke)!==null&&e!==void 0?e:kp.stroke,fill:(n=r.fill)!==null&&n!==void 0?n:kp.fill,horizontal:(a=r.horizontal)!==null&&a!==void 0?a:kp.horizontal,horizontalFill:(i=r.horizontalFill)!==null&&i!==void 0?i:kp.horizontalFill,vertical:(s=r.vertical)!==null&&s!==void 0?s:kp.vertical,verticalFill:(c=r.verticalFill)!==null&&c!==void 0?c:kp.verticalFill,x:vn(r.x)?r.x:o.left,y:vn(r.y)?r.y:o.top,width:vn(r.width)?r.width:o.width,height:vn(r.height)?r.height:o.height}),d=h.x,A=h.y,f=h.width,g=h.height,m=h.syncWithTicks,x=h.horizontalValues,y=h.verticalValues,b=VX(),w=zX();if(!vn(f)||f<=0||!vn(g)||g<=0||!vn(d)||d!==+d||!vn(A)||A!==+A)return null;var S=h.verticalCoordinatesGenerator||sZ,N=h.horizontalCoordinatesGenerator||oZ,C=h.horizontalPoints,O=h.verticalPoints;if((!C||!C.length)&&Ja(N)){var W=x&&x.length,K=N({yAxis:w?ru(ru({},w),{},{ticks:W?x:w.ticks}):void 0,width:l,height:u,offset:o},W?!0:m);fh(Array.isArray(K),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(dp(K),"]")),Array.isArray(K)&&(C=K)}if((!O||!O.length)&&Ja(S)){var te=y&&y.length,q=S({xAxis:b?ru(ru({},b),{},{ticks:te?y:b.ticks}):void 0,width:l,height:u,offset:o},te?!0:m);fh(Array.isArray(q),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(dp(q),"]")),Array.isArray(q)&&(O=q)}return xt.createElement("g",{className:"recharts-cartesian-grid"},xt.createElement(tZ,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),xt.createElement(rZ,Jf({},h,{offset:o,horizontalPoints:C,xAxis:b,yAxis:w})),xt.createElement(nZ,Jf({},h,{offset:o,verticalPoints:O,xAxis:b,yAxis:w})),xt.createElement(aZ,Jf({},h,{horizontalPoints:C})),xt.createElement(iZ,Jf({},h,{verticalPoints:O})))}lv.displayName="CartesianGrid";var lZ=["type","layout","connectNulls","ref"],cZ=["key"];function jm(r){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jm(r)}function m8(r,e){if(r==null)return{};var n=uZ(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function uZ(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function X0(){return X0=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},X0.apply(this,arguments)}function g8(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function id(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g8(Object(n),!0).forEach(function(a){uh(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):g8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function Pp(r){return fZ(r)||AZ(r)||hZ(r)||dZ()}function dZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hZ(r,e){if(r){if(typeof r=="string")return CN(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CN(r,e)}}function AZ(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function fZ(r){if(Array.isArray(r))return CN(r)}function CN(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function pZ(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function v8(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,gF(a.key),a)}}function mZ(r,e,n){return e&&v8(r.prototype,e),n&&v8(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function gZ(r,e,n){return e=hx(e),vZ(r,mF()?Reflect.construct(e,n||[],hx(r).constructor):e.apply(r,n))}function vZ(r,e){if(e&&(jm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xZ(r)}function xZ(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function mF(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mF=function(){return!!r})()}function hx(r){return hx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hx(r)}function yZ(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&NN(r,e)}function NN(r,e){return NN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},NN(r,e)}function uh(r,e,n){return e=gF(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function gF(r){var e=bZ(r,"string");return jm(e)=="symbol"?e:e+""}function bZ(r,e){if(jm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(jm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var Cm=(function(r){function e(){var n;pZ(this,e);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=gZ(this,e,[].concat(i)),uh(n,"state",{isAnimationFinished:!0,totalLength:0}),uh(n,"generateSimpleStrokeDasharray",function(c,l){return"".concat(l,"px ").concat(c-l,"px")}),uh(n,"getStrokeDasharray",function(c,l,u){var o=u.reduce(function(y,b){return y+b});if(!o)return n.generateSimpleStrokeDasharray(l,c);for(var h=Math.floor(c/o),d=c%o,A=l-c,f=[],g=0,m=0;g<u.length;m+=u[g],++g)if(m+u[g]>d){f=[].concat(Pp(u.slice(0,g)),[d-m]);break}var x=f.length%2===0?[0,A]:[A];return[].concat(Pp(e.repeat(u,h)),Pp(f),x).map(function(y){return"".concat(y,"px")}).join(", ")}),uh(n,"id",Pm("recharts-line-")),uh(n,"pathRef",function(c){n.mainCurve=c}),uh(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),uh(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return yZ(e,r),mZ(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();this.setState({totalLength:a})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();a!==this.state.totalLength&&this.setState({totalLength:a})}}},{key:"getTotalLength",value:function(){var a=this.mainCurve;try{return a&&a.getTotalLength&&a.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(a,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,c=s.points,l=s.xAxis,u=s.yAxis,o=s.layout,h=s.children,d=hd(h,Vg);if(!d)return null;var A=function(m,x){return{x:m.x,y:m.y,value:m.value,errorVal:ql(m.payload,x)}},f={clipPath:a?"url(#clipPath-".concat(i,")"):null};return xt.createElement(ls,f,d.map(function(g){return xt.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:c,xAxis:l,yAxis:u,layout:o,dataPointFormatter:A})}))}},{key:"renderDots",value:function(a,i,s){var c=this.props.isAnimationActive;if(c&&!this.state.isAnimationFinished)return null;var l=this.props,u=l.dot,o=l.points,h=l.dataKey,d=ka(this.props,!1),A=ka(u,!0),f=o.map(function(m,x){var y=id(id(id({key:"dot-".concat(x),r:3},d),A),{},{value:m.value,dataKey:h,cx:m.x,cy:m.y,index:x,payload:m.payload});return e.renderDotItem(u,y)}),g={clipPath:a?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return xt.createElement(ls,X0({className:"recharts-line-dots",key:"dots"},g),f)}},{key:"renderCurveStatically",value:function(a,i,s,c){var l=this.props,u=l.type,o=l.layout,h=l.connectNulls;l.ref;var d=m8(l,lZ),A=id(id(id({},ka(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:a},c),{},{type:u,layout:o,connectNulls:h});return xt.createElement(Vv,X0({},A,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(a,i){var s=this,c=this.props,l=c.points,u=c.strokeDasharray,o=c.isAnimationActive,h=c.animationBegin,d=c.animationDuration,A=c.animationEasing,f=c.animationId,g=c.animateNewValues,m=c.width,x=c.height,y=this.state,b=y.prevPoints,w=y.totalLength;return xt.createElement(Dh,{begin:h,duration:d,isActive:o,easing:A,from:{t:0},to:{t:1},key:"line-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var N=S.t;if(b){var C=b.length/l.length,O=l.map(function(Y,P){var ce=Math.floor(P*C);if(b[ce]){var $=b[ce],R=cd($.x,Y.x),se=cd($.y,Y.y);return id(id({},Y),{},{x:R(N),y:se(N)})}if(g){var fe=cd(m*2,Y.x),Te=cd(x/2,Y.y);return id(id({},Y),{},{x:fe(N),y:Te(N)})}return id(id({},Y),{},{x:Y.x,y:Y.y})});return s.renderCurveStatically(O,a,i)}var W=cd(0,w),K=W(N),te;if(u){var q="".concat(u).split(/[,\s]+/gim).map(function(Y){return parseFloat(Y)});te=s.getStrokeDasharray(K,w,q)}else te=s.generateSimpleStrokeDasharray(w,K);return s.renderCurveStatically(l,a,i,{strokeDasharray:te})})}},{key:"renderCurve",value:function(a,i){var s=this.props,c=s.points,l=s.isAnimationActive,u=this.state,o=u.prevPoints,h=u.totalLength;return l&&c&&c.length&&(!o&&h>0||!$g(o,c))?this.renderCurveWithAnimation(a,i):this.renderCurveStatically(c,a,i)}},{key:"render",value:function(){var a,i=this.props,s=i.hide,c=i.dot,l=i.points,u=i.className,o=i.xAxis,h=i.yAxis,d=i.top,A=i.left,f=i.width,g=i.height,m=i.isAnimationActive,x=i.id;if(s||!l||!l.length)return null;var y=this.state.isAnimationFinished,b=l.length===1,w=vi("recharts-line",u),S=o&&o.allowDataOverflow,N=h&&h.allowDataOverflow,C=S||N,O=ci(x)?this.id:x,W=(a=ka(c,!1))!==null&&a!==void 0?a:{r:3,strokeWidth:2},K=W.r,te=K===void 0?3:K,q=W.strokeWidth,Y=q===void 0?2:q,P=qR(c)?c:{},ce=P.clipDot,$=ce===void 0?!0:ce,R=te*2+Y;return xt.createElement(ls,{className:w},S||N?xt.createElement("defs",null,xt.createElement("clipPath",{id:"clipPath-".concat(O)},xt.createElement("rect",{x:S?A:A-f/2,y:N?d:d-g/2,width:S?f:f*2,height:N?g:g*2})),!$&&xt.createElement("clipPath",{id:"clipPath-dots-".concat(O)},xt.createElement("rect",{x:A-R/2,y:d-R/2,width:f+R,height:g+R}))):null,!b&&this.renderCurve(C,O),this.renderErrorBar(C,O),(b||c)&&this.renderDots(C,$,O),(!m||y)&&mA.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(a,i){return a.animationId!==i.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,prevPoints:i.curPoints}:a.points!==i.curPoints?{curPoints:a.points}:null}},{key:"repeat",value:function(a,i){for(var s=a.length%2!==0?[].concat(Pp(a),[0]):a,c=[],l=0;l<i;++l)c=[].concat(Pp(c),Pp(s));return c}},{key:"renderDotItem",value:function(a,i){var s;if(xt.isValidElement(a))s=xt.cloneElement(a,i);else if(Ja(a))s=a(i);else{var c=i.key,l=m8(i,cZ),u=vi("recharts-line-dot",typeof a!="boolean"?a.className:"");s=xt.createElement(qx,X0({key:c},l,{className:u}))}return s}}])})(k.PureComponent);uh(Cm,"displayName","Line");uh(Cm,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ap.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});uh(Cm,"getComposedData",function(r){var e=r.props,n=r.xAxis,a=r.yAxis,i=r.xAxisTicks,s=r.yAxisTicks,c=r.dataKey,l=r.bandSize,u=r.displayedData,o=r.offset,h=e.layout,d=u.map(function(A,f){var g=ql(A,c);return h==="horizontal"?{x:jI({axis:n,ticks:i,bandSize:l,entry:A,index:f}),y:ci(g)?null:a.scale(g),value:g,payload:A}:{x:ci(g)?null:n.scale(g),y:jI({axis:a,ticks:s,bandSize:l,entry:A,index:f}),value:g,payload:A}});return id({points:d,layout:h},o)});function Nm(r){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nm(r)}function wZ(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function jZ(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,yF(a.key),a)}}function CZ(r,e,n){return e&&jZ(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function NZ(r,e,n){return e=Ax(e),SZ(r,vF()?Reflect.construct(e,n||[],Ax(r).constructor):e.apply(r,n))}function SZ(r,e){if(e&&(Nm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EZ(r)}function EZ(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function vF(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vF=function(){return!!r})()}function Ax(r){return Ax=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ax(r)}function BZ(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&SN(r,e)}function SN(r,e){return SN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},SN(r,e)}function xF(r,e,n){return e=yF(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function yF(r){var e=IZ(r,"string");return Nm(e)=="symbol"?e:e+""}function IZ(r,e){if(Nm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(Nm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function EN(){return EN=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},EN.apply(this,arguments)}function TZ(r){var e=r.xAxisId,n=X4(),a=Y4(),i=aF(e);return i==null?null:xt.createElement(Lm,EN({},i,{className:vi("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(c){return hA(c,!0)}}))}var ap=(function(r){function e(){return wZ(this,e),NZ(this,e,arguments)}return BZ(e,r),CZ(e,[{key:"render",value:function(){return xt.createElement(TZ,this.props)}}])})(xt.Component);xF(ap,"displayName","XAxis");xF(ap,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Sm(r){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sm(r)}function _Z(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function OZ(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,jF(a.key),a)}}function kZ(r,e,n){return e&&OZ(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function PZ(r,e,n){return e=fx(e),FZ(r,bF()?Reflect.construct(e,n||[],fx(r).constructor):e.apply(r,n))}function FZ(r,e){if(e&&(Sm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DZ(r)}function DZ(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function bF(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bF=function(){return!!r})()}function fx(r){return fx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fx(r)}function MZ(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&BN(r,e)}function BN(r,e){return BN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},BN(r,e)}function wF(r,e,n){return e=jF(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function jF(r){var e=RZ(r,"string");return Sm(e)=="symbol"?e:e+""}function RZ(r,e){if(Sm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(Sm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function IN(){return IN=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},IN.apply(this,arguments)}var LZ=function(e){var n=e.yAxisId,a=X4(),i=Y4(),s=iF(n);return s==null?null:xt.createElement(Lm,IN({},s,{className:vi("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:a,height:i},ticksGenerator:function(l){return hA(l,!0)}}))},ip=(function(r){function e(){return _Z(this,e),PZ(this,e,arguments)}return MZ(e,r),kZ(e,[{key:"render",value:function(){return xt.createElement(LZ,this.props)}}])})(xt.Component);wF(ip,"displayName","YAxis");wF(ip,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function x8(r){return WZ(r)||QZ(r)||HZ(r)||UZ()}function UZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HZ(r,e){if(r){if(typeof r=="string")return TN(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TN(r,e)}}function QZ(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function WZ(r){if(Array.isArray(r))return TN(r)}function TN(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}var _N=function(e,n,a,i,s){var c=hd(e,J4),l=hd(e,ay),u=[].concat(x8(c),x8(l)),o=hd(e,sy),h="".concat(i,"Id"),d=i[0],A=n;if(u.length&&(A=u.reduce(function(m,x){if(x.props[h]===a&&Ph(x.props,"extendDomain")&&vn(x.props[d])){var y=x.props[d];return[Math.min(m[0],y),Math.max(m[1],y)]}return m},A)),o.length){var f="".concat(d,"1"),g="".concat(d,"2");A=o.reduce(function(m,x){if(x.props[h]===a&&Ph(x.props,"extendDomain")&&vn(x.props[f])&&vn(x.props[g])){var y=x.props[f],b=x.props[g];return[Math.min(m[0],y,b),Math.max(m[1],y,b)]}return m},A)}return s&&s.length&&(A=s.reduce(function(m,x){return vn(x)?[Math.min(m[0],x),Math.max(m[1],x)]:m},A)),A},xj={exports:{}},y8;function $Z(){return y8||(y8=1,(function(r){var e=Object.prototype.hasOwnProperty,n="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(n=!1));function i(u,o,h){this.fn=u,this.context=o,this.once=h||!1}function s(u,o,h,d,A){if(typeof h!="function")throw new TypeError("The listener must be a function");var f=new i(h,d||u,A),g=n?n+o:o;return u._events[g]?u._events[g].fn?u._events[g]=[u._events[g],f]:u._events[g].push(f):(u._events[g]=f,u._eventsCount++),u}function c(u,o){--u._eventsCount===0?u._events=new a:delete u._events[o]}function l(){this._events=new a,this._eventsCount=0}l.prototype.eventNames=function(){var o=[],h,d;if(this._eventsCount===0)return o;for(d in h=this._events)e.call(h,d)&&o.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(h)):o},l.prototype.listeners=function(o){var h=n?n+o:o,d=this._events[h];if(!d)return[];if(d.fn)return[d.fn];for(var A=0,f=d.length,g=new Array(f);A<f;A++)g[A]=d[A].fn;return g},l.prototype.listenerCount=function(o){var h=n?n+o:o,d=this._events[h];return d?d.fn?1:d.length:0},l.prototype.emit=function(o,h,d,A,f,g){var m=n?n+o:o;if(!this._events[m])return!1;var x=this._events[m],y=arguments.length,b,w;if(x.fn){switch(x.once&&this.removeListener(o,x.fn,void 0,!0),y){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,h),!0;case 3:return x.fn.call(x.context,h,d),!0;case 4:return x.fn.call(x.context,h,d,A),!0;case 5:return x.fn.call(x.context,h,d,A,f),!0;case 6:return x.fn.call(x.context,h,d,A,f,g),!0}for(w=1,b=new Array(y-1);w<y;w++)b[w-1]=arguments[w];x.fn.apply(x.context,b)}else{var S=x.length,N;for(w=0;w<S;w++)switch(x[w].once&&this.removeListener(o,x[w].fn,void 0,!0),y){case 1:x[w].fn.call(x[w].context);break;case 2:x[w].fn.call(x[w].context,h);break;case 3:x[w].fn.call(x[w].context,h,d);break;case 4:x[w].fn.call(x[w].context,h,d,A);break;default:if(!b)for(N=1,b=new Array(y-1);N<y;N++)b[N-1]=arguments[N];x[w].fn.apply(x[w].context,b)}}return!0},l.prototype.on=function(o,h,d){return s(this,o,h,d,!1)},l.prototype.once=function(o,h,d){return s(this,o,h,d,!0)},l.prototype.removeListener=function(o,h,d,A){var f=n?n+o:o;if(!this._events[f])return this;if(!h)return c(this,f),this;var g=this._events[f];if(g.fn)g.fn===h&&(!A||g.once)&&(!d||g.context===d)&&c(this,f);else{for(var m=0,x=[],y=g.length;m<y;m++)(g[m].fn!==h||A&&!g[m].once||d&&g[m].context!==d)&&x.push(g[m]);x.length?this._events[f]=x.length===1?x[0]:x:c(this,f)}return this},l.prototype.removeAllListeners=function(o){var h;return o?(h=n?n+o:o,this._events[h]&&c(this,h)):(this._events=new a,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,r.exports=l})(xj)),xj.exports}var VZ=$Z();const zZ=ts(VZ);var yj=new zZ,bj="recharts.syncMouseEvents";function Pg(r){"@babel/helpers - typeof";return Pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pg(r)}function KZ(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function GZ(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,CF(a.key),a)}}function qZ(r,e,n){return e&&GZ(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function wj(r,e,n){return e=CF(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function CF(r){var e=XZ(r,"string");return Pg(e)=="symbol"?e:e+""}function XZ(r,e){if(Pg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(Pg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var YZ=(function(){function r(){KZ(this,r),wj(this,"activeIndex",0),wj(this,"coordinateList",[]),wj(this,"layout","horizontal")}return qZ(r,[{key:"setDetails",value:function(n){var a,i=n.coordinateList,s=i===void 0?null:i,c=n.container,l=c===void 0?null:c,u=n.layout,o=u===void 0?null:u,h=n.offset,d=h===void 0?null:h,A=n.mouseHandlerCallback,f=A===void 0?null:A;this.coordinateList=(a=s??this.coordinateList)!==null&&a!==void 0?a:[],this.container=l??this.container,this.layout=o??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=f??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,a;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,c=i.y,l=i.height,u=this.coordinateList[this.activeIndex].coordinate,o=((n=window)===null||n===void 0?void 0:n.scrollX)||0,h=((a=window)===null||a===void 0?void 0:a.scrollY)||0,d=s+u+o,A=c+this.offset.top+l/2+h;this.mouseHandlerCallback({pageX:d,pageY:A})}}}])})();function ZZ(r,e,n){if(n==="number"&&e===!0&&Array.isArray(r)){var a=r==null?void 0:r[0],i=r==null?void 0:r[1];if(a&&i&&vn(a)&&vn(i))return!0}return!1}function JZ(r,e,n,a){var i=a/2;return{stroke:"none",fill:"#ccc",x:r==="horizontal"?e.x-i:n.left+.5,y:r==="horizontal"?n.top+.5:e.y-i,width:r==="horizontal"?a:n.width-1,height:r==="horizontal"?n.height-1:a}}function NF(r){var e=r.cx,n=r.cy,a=r.radius,i=r.startAngle,s=r.endAngle,c=so(e,n,a,i),l=so(e,n,a,s);return{points:[c,l],cx:e,cy:n,radius:a,startAngle:i,endAngle:s}}function eJ(r,e,n){var a,i,s,c;if(r==="horizontal")a=e.x,s=a,i=n.top,c=n.top+n.height;else if(r==="vertical")i=e.y,c=i,a=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(r==="centric"){var l=e.cx,u=e.cy,o=e.innerRadius,h=e.outerRadius,d=e.angle,A=so(l,u,o,d),f=so(l,u,h,d);a=A.x,i=A.y,s=f.x,c=f.y}else return NF(e);return[{x:a,y:i},{x:s,y:c}]}function Fg(r){"@babel/helpers - typeof";return Fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fg(r)}function b8(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function A1(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b8(Object(n),!0).forEach(function(a){tJ(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):b8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function tJ(r,e,n){return e=rJ(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function rJ(r){var e=nJ(r,"string");return Fg(e)=="symbol"?e:e+""}function nJ(r,e){if(Fg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(Fg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function aJ(r){var e,n,a=r.element,i=r.tooltipEventType,s=r.isActive,c=r.activeCoordinate,l=r.activePayload,u=r.offset,o=r.activeTooltipIndex,h=r.tooltipAxisBandSize,d=r.layout,A=r.chartName,f=(e=a.props.cursor)!==null&&e!==void 0?e:(n=a.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!a||!f||!s||!c||A!=="ScatterChart"&&i!=="axis")return null;var g,m=Vv;if(A==="ScatterChart")g=c,m=SG;else if(A==="BarChart")g=JZ(d,c,u,h),m=z4;else if(d==="radial"){var x=NF(c),y=x.cx,b=x.cy,w=x.radius,S=x.startAngle,N=x.endAngle;g={cx:y,cy:b,startAngle:S,endAngle:N,innerRadius:w,outerRadius:w},m=SP}else g={points:eJ(d,c,u)},m=Vv;var C=A1(A1(A1(A1({stroke:"#ccc",pointerEvents:"none"},u),g),ka(f,!1)),{},{payload:l,payloadIndex:o,className:vi("recharts-tooltip-cursor",f.className)});return k.isValidElement(f)?k.cloneElement(f,C):k.createElement(m,C)}var iJ=["item"],sJ=["children","className","width","height","style","compact","title","desc"];function Em(r){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Em(r)}function zp(){return zp=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},zp.apply(this,arguments)}function w8(r,e){return cJ(r)||lJ(r,e)||EF(r,e)||oJ()}function oJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lJ(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,i,s,c,l=[],u=!0,o=!1;try{if(s=(n=n.call(r)).next,e!==0)for(;!(u=(a=s.call(n)).done)&&(l.push(a.value),l.length!==e);u=!0);}catch(h){o=!0,i=h}finally{try{if(!u&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(o)throw i}}return l}}function cJ(r){if(Array.isArray(r))return r}function j8(r,e){if(r==null)return{};var n=uJ(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function uJ(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function dJ(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function hJ(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,BF(a.key),a)}}function AJ(r,e,n){return e&&hJ(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function fJ(r,e,n){return e=px(e),pJ(r,SF()?Reflect.construct(e,n||[],px(r).constructor):e.apply(r,n))}function pJ(r,e){if(e&&(Em(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mJ(r)}function mJ(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function SF(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SF=function(){return!!r})()}function px(r){return px=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},px(r)}function gJ(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&ON(r,e)}function ON(r,e){return ON=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},ON(r,e)}function Bm(r){return yJ(r)||xJ(r)||EF(r)||vJ()}function vJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EF(r,e){if(r){if(typeof r=="string")return kN(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kN(r,e)}}function xJ(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function yJ(r){if(Array.isArray(r))return kN(r)}function kN(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function C8(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function kr(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C8(Object(n),!0).forEach(function(a){Ua(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):C8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function Ua(r,e,n){return e=BF(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function BF(r){var e=bJ(r,"string");return Em(e)=="symbol"?e:e+""}function bJ(r,e){if(Em(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(Em(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var wJ={xAxis:["bottom","top"],yAxis:["left","right"]},jJ={width:"100%",height:"100%"},IF={x:0,y:0};function f1(r){return r}var CJ=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},NJ=function(e,n,a,i){var s=n.find(function(h){return h&&h.index===a});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var c=s.coordinate,l=i.radius;return kr(kr(kr({},i),so(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}var u=s.coordinate,o=i.angle;return kr(kr(kr({},i),so(i.cx,i.cy,u,o)),{},{angle:o,radius:u})}return IF},oy=function(e,n){var a=n.graphicalItems,i=n.dataStartIndex,s=n.dataEndIndex,c=(a??[]).reduce(function(l,u){var o=u.props.data;return o&&o.length?[].concat(Bm(l),Bm(o)):l},[]);return c.length>0?c:e&&e.length&&vn(i)&&vn(s)?e.slice(i,s+1):[]};function TF(r){return r==="number"?[0,"auto"]:void 0}var PN=function(e,n,a,i){var s=e.graphicalItems,c=e.tooltipAxis,l=oy(n,e);return a<0||!s||!s.length||a>=l.length?null:s.reduce(function(u,o){var h,d=(h=o.props.data)!==null&&h!==void 0?h:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=a&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var A;if(c.dataKey&&!c.allowDuplicatedCategory){var f=d===void 0?l:d;A=mv(f,c.dataKey,i)}else A=d&&d[a]||l[a];return A?[].concat(Bm(u),[yP(o,A)]):u},[])},N8=function(e,n,a,i){var s=i||{x:e.chartX,y:e.chartY},c=CJ(s,a),l=e.orderedTooltipTicks,u=e.tooltipAxis,o=e.tooltipTicks,h=K$(c,l,o,u);if(h>=0&&o){var d=o[h]&&o[h].value,A=PN(e,n,h,d),f=NJ(a,l,h,s);return{activeTooltipIndex:h,activeLabel:d,activePayload:A,activeCoordinate:f}}return null},SJ=function(e,n){var a=n.axes,i=n.graphicalItems,s=n.axisType,c=n.axisIdKey,l=n.stackGroups,u=n.dataStartIndex,o=n.dataEndIndex,h=e.layout,d=e.children,A=e.stackOffset,f=fP(h,s);return a.reduce(function(g,m){var x,y=m.type.defaultProps!==void 0?kr(kr({},m.type.defaultProps),m.props):m.props,b=y.type,w=y.dataKey,S=y.allowDataOverflow,N=y.allowDuplicatedCategory,C=y.scale,O=y.ticks,W=y.includeHidden,K=y[c];if(g[K])return g;var te=oy(e.data,{graphicalItems:i.filter(function(Z){var Oe,ee=c in Z.props?Z.props[c]:(Oe=Z.type.defaultProps)===null||Oe===void 0?void 0:Oe[c];return ee===K}),dataStartIndex:u,dataEndIndex:o}),q=te.length,Y,P,ce;ZZ(y.domain,S,b)&&(Y=GC(y.domain,null,S),f&&(b==="number"||C!=="auto")&&(ce=z0(te,w,"category")));var $=TF(b);if(!Y||Y.length===0){var R,se=(R=y.domain)!==null&&R!==void 0?R:$;if(w){if(Y=z0(te,w,b),b==="category"&&f){var fe=UR(Y);N&&fe?(P=Y,Y=rx(0,q)):N||(Y=EI(se,Y,m).reduce(function(Z,Oe){return Z.indexOf(Oe)>=0?Z:[].concat(Bm(Z),[Oe])},[]))}else if(b==="category")N?Y=Y.filter(function(Z){return Z!==""&&!ci(Z)}):Y=EI(se,Y,m).reduce(function(Z,Oe){return Z.indexOf(Oe)>=0||Oe===""||ci(Oe)?Z:[].concat(Bm(Z),[Oe])},[]);else if(b==="number"){var Te=Z$(te,i.filter(function(Z){var Oe,ee,re=c in Z.props?Z.props[c]:(Oe=Z.type.defaultProps)===null||Oe===void 0?void 0:Oe[c],je="hide"in Z.props?Z.props.hide:(ee=Z.type.defaultProps)===null||ee===void 0?void 0:ee.hide;return re===K&&(W||!je)}),w,s,h);Te&&(Y=Te)}f&&(b==="number"||C!=="auto")&&(ce=z0(te,w,"category"))}else f?Y=rx(0,q):l&&l[K]&&l[K].hasStack&&b==="number"?Y=A==="expand"?[0,1]:xP(l[K].stackGroups,u,o):Y=AP(te,i.filter(function(Z){var Oe=c in Z.props?Z.props[c]:Z.type.defaultProps[c],ee="hide"in Z.props?Z.props.hide:Z.type.defaultProps.hide;return Oe===K&&(W||!ee)}),b,h,!0);if(b==="number")Y=_N(d,Y,K,s,O),se&&(Y=GC(se,Y,S));else if(b==="category"&&se){var Ie=se,_e=Y.every(function(Z){return Ie.indexOf(Z)>=0});_e&&(Y=Ie)}}return kr(kr({},g),{},Ua({},K,kr(kr({},y),{},{axisType:s,domain:Y,categoricalDomain:ce,duplicateDomain:P,originalDomain:(x=y.domain)!==null&&x!==void 0?x:$,isCategorical:f,layout:h})))},{})},EJ=function(e,n){var a=n.graphicalItems,i=n.Axis,s=n.axisType,c=n.axisIdKey,l=n.stackGroups,u=n.dataStartIndex,o=n.dataEndIndex,h=e.layout,d=e.children,A=oy(e.data,{graphicalItems:a,dataStartIndex:u,dataEndIndex:o}),f=A.length,g=fP(h,s),m=-1;return a.reduce(function(x,y){var b=y.type.defaultProps!==void 0?kr(kr({},y.type.defaultProps),y.props):y.props,w=b[c],S=TF("number");if(!x[w]){m++;var N;return g?N=rx(0,f):l&&l[w]&&l[w].hasStack?(N=xP(l[w].stackGroups,u,o),N=_N(d,N,w,s)):(N=GC(S,AP(A,a.filter(function(C){var O,W,K=c in C.props?C.props[c]:(O=C.type.defaultProps)===null||O===void 0?void 0:O[c],te="hide"in C.props?C.props.hide:(W=C.type.defaultProps)===null||W===void 0?void 0:W.hide;return K===w&&!te}),"number",h),i.defaultProps.allowDataOverflow),N=_N(d,N,w,s)),kr(kr({},x),{},Ua({},w,kr(kr({axisType:s},i.defaultProps),{},{hide:!0,orientation:dd(wJ,"".concat(s,".").concat(m%2),null),domain:N,originalDomain:S,isCategorical:g,layout:h})))}return x},{})},BJ=function(e,n){var a=n.axisType,i=a===void 0?"xAxis":a,s=n.AxisComp,c=n.graphicalItems,l=n.stackGroups,u=n.dataStartIndex,o=n.dataEndIndex,h=e.children,d="".concat(i,"Id"),A=hd(h,s),f={};return A&&A.length?f=SJ(e,{axes:A,graphicalItems:c,axisType:i,axisIdKey:d,stackGroups:l,dataStartIndex:u,dataEndIndex:o}):c&&c.length&&(f=EJ(e,{Axis:s,graphicalItems:c,axisType:i,axisIdKey:d,stackGroups:l,dataStartIndex:u,dataEndIndex:o})),f},IJ=function(e){var n=tf(e),a=hA(n,!1,!0);return{tooltipTicks:a,orderedTooltipTicks:x4(a,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Qv(n,a)}},S8=function(e){var n=e.children,a=e.defaultShowTooltip,i=od(n,gm),s=0,c=0;return e.data&&e.data.length!==0&&(c=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(c=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:c,activeTooltipIndex:-1,isTooltipActive:!!a}},TJ=function(e){return!e||!e.length?!1:e.some(function(n){var a=fA(n&&n.type);return a&&a.indexOf("Bar")>=0})},E8=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},_J=function(e,n){var a=e.props,i=e.graphicalItems,s=e.xAxisMap,c=s===void 0?{}:s,l=e.yAxisMap,u=l===void 0?{}:l,o=a.width,h=a.height,d=a.children,A=a.margin||{},f=od(d,gm),g=od(d,Ih),m=Object.keys(u).reduce(function(N,C){var O=u[C],W=O.orientation;return!O.mirror&&!O.hide?kr(kr({},N),{},Ua({},W,N[W]+O.width)):N},{left:A.left||0,right:A.right||0}),x=Object.keys(c).reduce(function(N,C){var O=c[C],W=O.orientation;return!O.mirror&&!O.hide?kr(kr({},N),{},Ua({},W,dd(N,"".concat(W))+O.height)):N},{top:A.top||0,bottom:A.bottom||0}),y=kr(kr({},x),m),b=y.bottom;f&&(y.bottom+=f.props.height||gm.defaultProps.height),g&&n&&(y=X$(y,i,a,n));var w=o-y.left-y.right,S=h-y.top-y.bottom;return kr(kr({brushBottom:b},y),{},{width:Math.max(w,0),height:Math.max(S,0)})},OJ=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},rS=function(e){var n=e.chartName,a=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,c=e.validateTooltipEventTypes,l=c===void 0?["axis"]:c,u=e.axisComponents,o=e.legendContent,h=e.formatAxisMap,d=e.defaultProps,A=function(y,b){var w=b.graphicalItems,S=b.stackGroups,N=b.offset,C=b.updateId,O=b.dataStartIndex,W=b.dataEndIndex,K=y.barSize,te=y.layout,q=y.barGap,Y=y.barCategoryGap,P=y.maxBarSize,ce=E8(te),$=ce.numericAxisName,R=ce.cateAxisName,se=TJ(w),fe=[];return w.forEach(function(Te,Ie){var _e=oy(y.data,{graphicalItems:[Te],dataStartIndex:O,dataEndIndex:W}),Z=Te.type.defaultProps!==void 0?kr(kr({},Te.type.defaultProps),Te.props):Te.props,Oe=Z.dataKey,ee=Z.maxBarSize,re=Z["".concat($,"Id")],je=Z["".concat(R,"Id")],Ne={},ye=u.reduce(function(Ct,Bt){var mr=b["".concat(Bt.axisType,"Map")],lr=Z["".concat(Bt.axisType,"Id")];mr&&mr[lr]||Bt.axisType==="zAxis"||up();var He=mr[lr];return kr(kr({},Ct),{},Ua(Ua({},Bt.axisType,He),"".concat(Bt.axisType,"Ticks"),hA(He)))},Ne),me=ye[R],ie=ye["".concat(R,"Ticks")],le=S&&S[re]&&S[re].hasStack&&oV(Te,S[re].stackGroups),Ee=fA(Te.type).indexOf("Bar")>=0,Re=Qv(me,ie),Ue=[],de=se&&G$({barSize:K,stackGroups:S,totalSize:OJ(ye,R)});if(Ee){var Ce,ue,$e=ci(ee)?P:ee,it=(Ce=(ue=Qv(me,ie,!0))!==null&&ue!==void 0?ue:$e)!==null&&Ce!==void 0?Ce:0;Ue=q$({barGap:q,barCategoryGap:Y,bandSize:it!==Re?it:Re,sizeList:de[je],maxBarSize:$e}),it!==Re&&(Ue=Ue.map(function(Ct){return kr(kr({},Ct),{},{position:kr(kr({},Ct.position),{},{offset:Ct.position.offset-it/2})})}))}var Et=Te&&Te.type&&Te.type.getComposedData;Et&&fe.push({props:kr(kr({},Et(kr(kr({},ye),{},{displayedData:_e,props:y,dataKey:Oe,item:Te,bandSize:Re,barPosition:Ue,offset:N,stackedData:le,layout:te,dataStartIndex:O,dataEndIndex:W}))),{},Ua(Ua(Ua({key:Te.key||"item-".concat(Ie)},$,ye[$]),R,ye[R]),"animationId",C)),childIndex:ZR(Te,y.children),item:Te})}),fe},f=function(y,b){var w=y.props,S=y.dataStartIndex,N=y.dataEndIndex,C=y.updateId;if(!HE({props:w}))return null;var O=w.children,W=w.layout,K=w.stackOffset,te=w.data,q=w.reverseStackOrder,Y=E8(W),P=Y.numericAxisName,ce=Y.cateAxisName,$=hd(O,a),R=iV(te,$,"".concat(P,"Id"),"".concat(ce,"Id"),K,q),se=u.reduce(function(Z,Oe){var ee="".concat(Oe.axisType,"Map");return kr(kr({},Z),{},Ua({},ee,BJ(w,kr(kr({},Oe),{},{graphicalItems:$,stackGroups:Oe.axisType===P&&R,dataStartIndex:S,dataEndIndex:N}))))},{}),fe=_J(kr(kr({},se),{},{props:w,graphicalItems:$}),b==null?void 0:b.legendBBox);Object.keys(se).forEach(function(Z){se[Z]=h(w,se[Z],fe,Z.replace("Map",""),n)});var Te=se["".concat(ce,"Map")],Ie=IJ(Te),_e=A(w,kr(kr({},se),{},{dataStartIndex:S,dataEndIndex:N,updateId:C,graphicalItems:$,stackGroups:R,offset:fe}));return kr(kr({formattedGraphicalItems:_e,graphicalItems:$,offset:fe,stackGroups:R},Ie),se)},g=(function(x){function y(b){var w,S,N;return dJ(this,y),N=fJ(this,y,[b]),Ua(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ua(N,"accessibilityManager",new YZ),Ua(N,"handleLegendBBoxUpdate",function(C){if(C){var O=N.state,W=O.dataStartIndex,K=O.dataEndIndex,te=O.updateId;N.setState(kr({legendBBox:C},f({props:N.props,dataStartIndex:W,dataEndIndex:K,updateId:te},kr(kr({},N.state),{},{legendBBox:C}))))}}),Ua(N,"handleReceiveSyncEvent",function(C,O,W){if(N.props.syncId===C){if(W===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(O)}}),Ua(N,"handleBrushChange",function(C){var O=C.startIndex,W=C.endIndex;if(O!==N.state.dataStartIndex||W!==N.state.dataEndIndex){var K=N.state.updateId;N.setState(function(){return kr({dataStartIndex:O,dataEndIndex:W},f({props:N.props,dataStartIndex:O,dataEndIndex:W,updateId:K},N.state))}),N.triggerSyncEvent({dataStartIndex:O,dataEndIndex:W})}}),Ua(N,"handleMouseEnter",function(C){var O=N.getMouseInfo(C);if(O){var W=kr(kr({},O),{},{isTooltipActive:!0});N.setState(W),N.triggerSyncEvent(W);var K=N.props.onMouseEnter;Ja(K)&&K(W,C)}}),Ua(N,"triggeredAfterMouseMove",function(C){var O=N.getMouseInfo(C),W=O?kr(kr({},O),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(W),N.triggerSyncEvent(W);var K=N.props.onMouseMove;Ja(K)&&K(W,C)}),Ua(N,"handleItemMouseEnter",function(C){N.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),Ua(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),Ua(N,"handleMouseMove",function(C){C.persist(),N.throttleTriggeredAfterMouseMove(C)}),Ua(N,"handleMouseLeave",function(C){N.throttleTriggeredAfterMouseMove.cancel();var O={isTooltipActive:!1};N.setState(O),N.triggerSyncEvent(O);var W=N.props.onMouseLeave;Ja(W)&&W(O,C)}),Ua(N,"handleOuterEvent",function(C){var O=YR(C),W=dd(N.props,"".concat(O));if(O&&Ja(W)){var K,te;/.*touch.*/i.test(O)?te=N.getMouseInfo(C.changedTouches[0]):te=N.getMouseInfo(C),W((K=te)!==null&&K!==void 0?K:{},C)}}),Ua(N,"handleClick",function(C){var O=N.getMouseInfo(C);if(O){var W=kr(kr({},O),{},{isTooltipActive:!0});N.setState(W),N.triggerSyncEvent(W);var K=N.props.onClick;Ja(K)&&K(W,C)}}),Ua(N,"handleMouseDown",function(C){var O=N.props.onMouseDown;if(Ja(O)){var W=N.getMouseInfo(C);O(W,C)}}),Ua(N,"handleMouseUp",function(C){var O=N.props.onMouseUp;if(Ja(O)){var W=N.getMouseInfo(C);O(W,C)}}),Ua(N,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),Ua(N,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&N.handleMouseDown(C.changedTouches[0])}),Ua(N,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&N.handleMouseUp(C.changedTouches[0])}),Ua(N,"handleDoubleClick",function(C){var O=N.props.onDoubleClick;if(Ja(O)){var W=N.getMouseInfo(C);O(W,C)}}),Ua(N,"handleContextMenu",function(C){var O=N.props.onContextMenu;if(Ja(O)){var W=N.getMouseInfo(C);O(W,C)}}),Ua(N,"triggerSyncEvent",function(C){N.props.syncId!==void 0&&yj.emit(bj,N.props.syncId,C,N.eventEmitterSymbol)}),Ua(N,"applySyncEvent",function(C){var O=N.props,W=O.layout,K=O.syncMethod,te=N.state.updateId,q=C.dataStartIndex,Y=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)N.setState(kr({dataStartIndex:q,dataEndIndex:Y},f({props:N.props,dataStartIndex:q,dataEndIndex:Y,updateId:te},N.state)));else if(C.activeTooltipIndex!==void 0){var P=C.chartX,ce=C.chartY,$=C.activeTooltipIndex,R=N.state,se=R.offset,fe=R.tooltipTicks;if(!se)return;if(typeof K=="function")$=K(fe,C);else if(K==="value"){$=-1;for(var Te=0;Te<fe.length;Te++)if(fe[Te].value===C.activeLabel){$=Te;break}}var Ie=kr(kr({},se),{},{x:se.left,y:se.top}),_e=Math.min(P,Ie.x+Ie.width),Z=Math.min(ce,Ie.y+Ie.height),Oe=fe[$]&&fe[$].value,ee=PN(N.state,N.props.data,$),re=fe[$]?{x:W==="horizontal"?fe[$].coordinate:_e,y:W==="horizontal"?Z:fe[$].coordinate}:IF;N.setState(kr(kr({},C),{},{activeLabel:Oe,activeCoordinate:re,activePayload:ee,activeTooltipIndex:$}))}else N.setState(C)}),Ua(N,"renderCursor",function(C){var O,W=N.state,K=W.isTooltipActive,te=W.activeCoordinate,q=W.activePayload,Y=W.offset,P=W.activeTooltipIndex,ce=W.tooltipAxisBandSize,$=N.getTooltipEventType(),R=(O=C.props.active)!==null&&O!==void 0?O:K,se=N.props.layout,fe=C.key||"_recharts-cursor";return xt.createElement(aJ,{key:fe,activeCoordinate:te,activePayload:q,activeTooltipIndex:P,chartName:n,element:C,isActive:R,layout:se,offset:Y,tooltipAxisBandSize:ce,tooltipEventType:$})}),Ua(N,"renderPolarAxis",function(C,O,W){var K=dd(C,"type.axisType"),te=dd(N.state,"".concat(K,"Map")),q=C.type.defaultProps,Y=q!==void 0?kr(kr({},q),C.props):C.props,P=te&&te[Y["".concat(K,"Id")]];return k.cloneElement(C,kr(kr({},P),{},{className:vi(K,P.className),key:C.key||"".concat(O,"-").concat(W),ticks:hA(P,!0)}))}),Ua(N,"renderPolarGrid",function(C){var O=C.props,W=O.radialLines,K=O.polarAngles,te=O.polarRadius,q=N.state,Y=q.radiusAxisMap,P=q.angleAxisMap,ce=tf(Y),$=tf(P),R=$.cx,se=$.cy,fe=$.innerRadius,Te=$.outerRadius;return k.cloneElement(C,{polarAngles:Array.isArray(K)?K:hA($,!0).map(function(Ie){return Ie.coordinate}),polarRadius:Array.isArray(te)?te:hA(ce,!0).map(function(Ie){return Ie.coordinate}),cx:R,cy:se,innerRadius:fe,outerRadius:Te,key:C.key||"polar-grid",radialLines:W})}),Ua(N,"renderLegend",function(){var C=N.state.formattedGraphicalItems,O=N.props,W=O.children,K=O.width,te=O.height,q=N.props.margin||{},Y=K-(q.left||0)-(q.right||0),P=dP({children:W,formattedGraphicalItems:C,legendWidth:Y,legendContent:o});if(!P)return null;var ce=P.item,$=j8(P,iJ);return k.cloneElement(ce,kr(kr({},$),{},{chartWidth:K,chartHeight:te,margin:q,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),Ua(N,"renderTooltip",function(){var C,O=N.props,W=O.children,K=O.accessibilityLayer,te=od(W,ld);if(!te)return null;var q=N.state,Y=q.isTooltipActive,P=q.activeCoordinate,ce=q.activePayload,$=q.activeLabel,R=q.offset,se=(C=te.props.active)!==null&&C!==void 0?C:Y;return k.cloneElement(te,{viewBox:kr(kr({},R),{},{x:R.left,y:R.top}),active:se,label:$,payload:se?ce:[],coordinate:P,accessibilityLayer:K})}),Ua(N,"renderBrush",function(C){var O=N.props,W=O.margin,K=O.data,te=N.state,q=te.offset,Y=te.dataStartIndex,P=te.dataEndIndex,ce=te.updateId;return k.cloneElement(C,{key:C.key||"_recharts-brush",onChange:c1(N.handleBrushChange,C.props.onChange),data:K,x:vn(C.props.x)?C.props.x:q.left,y:vn(C.props.y)?C.props.y:q.top+q.height+q.brushBottom-(W.bottom||0),width:vn(C.props.width)?C.props.width:q.width,startIndex:Y,endIndex:P,updateId:"brush-".concat(ce)})}),Ua(N,"renderReferenceElement",function(C,O,W){if(!C)return null;var K=N,te=K.clipPathId,q=N.state,Y=q.xAxisMap,P=q.yAxisMap,ce=q.offset,$=C.type.defaultProps||{},R=C.props,se=R.xAxisId,fe=se===void 0?$.xAxisId:se,Te=R.yAxisId,Ie=Te===void 0?$.yAxisId:Te;return k.cloneElement(C,{key:C.key||"".concat(O,"-").concat(W),xAxis:Y[fe],yAxis:P[Ie],viewBox:{x:ce.left,y:ce.top,width:ce.width,height:ce.height},clipPathId:te})}),Ua(N,"renderActivePoints",function(C){var O=C.item,W=C.activePoint,K=C.basePoint,te=C.childIndex,q=C.isRange,Y=[],P=O.props.key,ce=O.item.type.defaultProps!==void 0?kr(kr({},O.item.type.defaultProps),O.item.props):O.item.props,$=ce.activeDot,R=ce.dataKey,se=kr(kr({index:te,dataKey:R,cx:W.x,cy:W.y,r:4,fill:V4(O.item),strokeWidth:2,stroke:"#fff",payload:W.payload,value:W.value},ka($,!1)),gv($));return Y.push(y.renderActiveDot($,se,"".concat(P,"-activePoint-").concat(te))),K?Y.push(y.renderActiveDot($,kr(kr({},se),{},{cx:K.x,cy:K.y}),"".concat(P,"-basePoint-").concat(te))):q&&Y.push(null),Y}),Ua(N,"renderGraphicChild",function(C,O,W){var K=N.filterFormatItem(C,O,W);if(!K)return null;var te=N.getTooltipEventType(),q=N.state,Y=q.isTooltipActive,P=q.tooltipAxis,ce=q.activeTooltipIndex,$=q.activeLabel,R=N.props.children,se=od(R,ld),fe=K.props,Te=fe.points,Ie=fe.isRange,_e=fe.baseLine,Z=K.item.type.defaultProps!==void 0?kr(kr({},K.item.type.defaultProps),K.item.props):K.item.props,Oe=Z.activeDot,ee=Z.hide,re=Z.activeBar,je=Z.activeShape,Ne=!!(!ee&&Y&&se&&(Oe||re||je)),ye={};te!=="axis"&&se&&se.props.trigger==="click"?ye={onClick:c1(N.handleItemMouseEnter,C.props.onClick)}:te!=="axis"&&(ye={onMouseLeave:c1(N.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:c1(N.handleItemMouseEnter,C.props.onMouseEnter)});var me=k.cloneElement(C,kr(kr({},K.props),ye));function ie(Bt){return typeof P.dataKey=="function"?P.dataKey(Bt.payload):null}if(Ne)if(ce>=0){var le,Ee;if(P.dataKey&&!P.allowDuplicatedCategory){var Re=typeof P.dataKey=="function"?ie:"payload.".concat(P.dataKey.toString());le=mv(Te,Re,$),Ee=Ie&&_e&&mv(_e,Re,$)}else le=Te==null?void 0:Te[ce],Ee=Ie&&_e&&_e[ce];if(je||re){var Ue=C.props.activeIndex!==void 0?C.props.activeIndex:ce;return[k.cloneElement(C,kr(kr(kr({},K.props),ye),{},{activeIndex:Ue})),null,null]}if(!ci(le))return[me].concat(Bm(N.renderActivePoints({item:K,activePoint:le,basePoint:Ee,childIndex:ce,isRange:Ie})))}else{var de,Ce=(de=N.getItemByXY(N.state.activeCoordinate))!==null&&de!==void 0?de:{graphicalItem:me},ue=Ce.graphicalItem,$e=ue.item,it=$e===void 0?C:$e,Et=ue.childIndex,Ct=kr(kr(kr({},K.props),ye),{},{activeIndex:Et});return[k.cloneElement(it,Ct),null,null]}return Ie?[me,null,null]:[me,null]}),Ua(N,"renderCustomized",function(C,O,W){return k.cloneElement(C,kr(kr({key:"recharts-customized-".concat(W)},N.props),N.state))}),Ua(N,"renderMap",{CartesianGrid:{handler:f1,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:f1},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:f1},YAxis:{handler:f1},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((w=b.id)!==null&&w!==void 0?w:Pm("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=dk(N.triggeredAfterMouseMove,(S=b.throttleDelay)!==null&&S!==void 0?S:1e3/60),N.state={},N}return gJ(y,x),AJ(y,[{key:"componentDidMount",value:function(){var w,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,S=w.children,N=w.data,C=w.height,O=w.layout,W=od(S,ld);if(W){var K=W.props.defaultIndex;if(!(typeof K!="number"||K<0||K>this.state.tooltipTicks.length-1)){var te=this.state.tooltipTicks[K]&&this.state.tooltipTicks[K].value,q=PN(this.state,N,K,te),Y=this.state.tooltipTicks[K].coordinate,P=(this.state.offset.top+C)/2,ce=O==="horizontal",$=ce?{x:Y,y:P}:{y:Y,x:P},R=this.state.formattedGraphicalItems.find(function(fe){var Te=fe.item;return Te.type.name==="Scatter"});R&&($=kr(kr({},$),R.props.points[K].tooltipPosition),q=R.props.points[K].tooltipPayload);var se={activeTooltipIndex:K,isTooltipActive:!0,activeLabel:te,activePayload:q,activeCoordinate:$};this.setState(se),this.renderCursor(W),this.accessibilityManager.setIndex(K)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var N,C;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(w){mC([od(w.children,ld)],[od(this.props.children,ld)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=od(this.props.children,ld);if(w&&typeof w.props.shared=="boolean"){var S=w.props.shared?"axis":"item";return l.indexOf(S)>=0?S:s}return s}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var S=this.container,N=S.getBoundingClientRect(),C=L9(N),O={chartX:Math.round(w.pageX-C.left),chartY:Math.round(w.pageY-C.top)},W=N.width/S.offsetWidth||1,K=this.inRange(O.chartX,O.chartY,W);if(!K)return null;var te=this.state,q=te.xAxisMap,Y=te.yAxisMap,P=this.getTooltipEventType();if(P!=="axis"&&q&&Y){var ce=tf(q).scale,$=tf(Y).scale,R=ce&&ce.invert?ce.invert(O.chartX):null,se=$&&$.invert?$.invert(O.chartY):null;return kr(kr({},O),{},{xValue:R,yValue:se})}var fe=N8(this.state,this.props.data,this.props.layout,K);return fe?kr(kr({},O),fe):null}},{key:"inRange",value:function(w,S){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,O=w/N,W=S/N;if(C==="horizontal"||C==="vertical"){var K=this.state.offset,te=O>=K.left&&O<=K.left+K.width&&W>=K.top&&W<=K.top+K.height;return te?{x:O,y:W}:null}var q=this.state,Y=q.angleAxisMap,P=q.radiusAxisMap;if(Y&&P){var ce=tf(Y);return TI({x:O,y:W},ce)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,S=this.getTooltipEventType(),N=od(w,ld),C={};N&&S==="axis"&&(N.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var O=gv(this.props,this.handleOuterEvent);return kr(kr({},O),C)}},{key:"addListener",value:function(){yj.on(bj,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){yj.removeListener(bj,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,S,N){for(var C=this.state.formattedGraphicalItems,O=0,W=C.length;O<W;O++){var K=C[O];if(K.item===w||K.props.key===w.key||S===fA(K.item.type)&&N===K.childIndex)return K}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,S=this.state.offset,N=S.left,C=S.top,O=S.height,W=S.width;return xt.createElement("defs",null,xt.createElement("clipPath",{id:w},xt.createElement("rect",{x:N,y:C,height:O,width:W})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(S,N){var C=w8(N,2),O=C[0],W=C[1];return kr(kr({},S),{},Ua({},O,W.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(S,N){var C=w8(N,2),O=C[0],W=C[1];return kr(kr({},S),{},Ua({},O,W.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(w){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(w){var S=this.state,N=S.formattedGraphicalItems,C=S.activeItem;if(N&&N.length)for(var O=0,W=N.length;O<W;O++){var K=N[O],te=K.props,q=K.item,Y=q.type.defaultProps!==void 0?kr(kr({},q.type.defaultProps),q.props):q.props,P=fA(q.type);if(P==="Bar"){var ce=(te.data||[]).find(function(fe){return sG(w,fe)});if(ce)return{graphicalItem:K,payload:ce}}else if(P==="RadialBar"){var $=(te.data||[]).find(function(fe){return TI(w,fe)});if($)return{graphicalItem:K,payload:$}}else if(ey(K,C)||ty(K,C)||Ig(K,C)){var R=Iq({graphicalItem:K,activeTooltipItem:C,itemData:Y.data}),se=Y.activeIndex===void 0?R:Y.activeIndex;return{graphicalItem:kr(kr({},K),{},{childIndex:se}),payload:Ig(K,C)?Y.data[R]:K.props.data[R]}}}return null}},{key:"render",value:function(){var w=this;if(!HE(this))return null;var S=this.props,N=S.children,C=S.className,O=S.width,W=S.height,K=S.style,te=S.compact,q=S.title,Y=S.desc,P=j8(S,sJ),ce=ka(P,!1);if(te)return xt.createElement(n8,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},xt.createElement(vC,zp({},ce,{width:O,height:W,title:q,desc:Y}),this.renderClipPath(),WE(N,this.renderMap)));if(this.props.accessibilityLayer){var $,R;ce.tabIndex=($=this.props.tabIndex)!==null&&$!==void 0?$:0,ce.role=(R=this.props.role)!==null&&R!==void 0?R:"application",ce.onKeyDown=function(fe){w.accessibilityManager.keyboardEvent(fe)},ce.onFocus=function(){w.accessibilityManager.focus()}}var se=this.parseEventsOfWrapper();return xt.createElement(n8,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},xt.createElement("div",zp({className:vi("recharts-wrapper",C),style:kr({position:"relative",cursor:"default",width:O,height:W},K)},se,{ref:function(Te){w.container=Te}}),xt.createElement(vC,zp({},ce,{width:O,height:W,title:q,desc:Y,style:jJ}),this.renderClipPath(),WE(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(k.Component);Ua(g,"displayName",n),Ua(g,"defaultProps",kr({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),Ua(g,"getDerivedStateFromProps",function(x,y){var b=x.dataKey,w=x.data,S=x.children,N=x.width,C=x.height,O=x.layout,W=x.stackOffset,K=x.margin,te=y.dataStartIndex,q=y.dataEndIndex;if(y.updateId===void 0){var Y=S8(x);return kr(kr(kr({},Y),{},{updateId:0},f(kr(kr({props:x},Y),{},{updateId:0}),y)),{},{prevDataKey:b,prevData:w,prevWidth:N,prevHeight:C,prevLayout:O,prevStackOffset:W,prevMargin:K,prevChildren:S})}if(b!==y.prevDataKey||w!==y.prevData||N!==y.prevWidth||C!==y.prevHeight||O!==y.prevLayout||W!==y.prevStackOffset||!em(K,y.prevMargin)){var P=S8(x),ce={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},$=kr(kr({},N8(y,w,O)),{},{updateId:y.updateId+1}),R=kr(kr(kr({},P),ce),$);return kr(kr(kr({},R),f(kr({props:x},R),y)),{},{prevDataKey:b,prevData:w,prevWidth:N,prevHeight:C,prevLayout:O,prevStackOffset:W,prevMargin:K,prevChildren:S})}if(!mC(S,y.prevChildren)){var se,fe,Te,Ie,_e=od(S,gm),Z=_e&&(se=(fe=_e.props)===null||fe===void 0?void 0:fe.startIndex)!==null&&se!==void 0?se:te,Oe=_e&&(Te=(Ie=_e.props)===null||Ie===void 0?void 0:Ie.endIndex)!==null&&Te!==void 0?Te:q,ee=Z!==te||Oe!==q,re=!ci(w),je=re&&!ee?y.updateId:y.updateId+1;return kr(kr({updateId:je},f(kr(kr({props:x},y),{},{updateId:je,dataStartIndex:Z,dataEndIndex:Oe}),y)),{},{prevChildren:S,dataStartIndex:Z,dataEndIndex:Oe})}return null}),Ua(g,"renderActiveDot",function(x,y,b){var w;return k.isValidElement(x)?w=k.cloneElement(x,y):Ja(x)?w=x(y):w=xt.createElement(qx,y),xt.createElement(ls,{className:"recharts-active-dot",key:b},w)});var m=k.forwardRef(function(y,b){return xt.createElement(g,zp({},y,{ref:b}))});return m.displayName=g.displayName,m},B8=rS({chartName:"LineChart",GraphicalChild:Cm,axisComponents:[{axisType:"xAxis",AxisComp:ap},{axisType:"yAxis",AxisComp:ip}],formatAxisMap:XP}),kJ=rS({chartName:"BarChart",GraphicalChild:gp,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ap},{axisType:"yAxis",AxisComp:ip}],formatAxisMap:XP}),PJ=rS({chartName:"PieChart",GraphicalChild:CA,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Jx},{axisType:"radiusAxis",AxisComp:Yx}],formatAxisMap:gV,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const FJ=({title:r,type:e,data:n=[],loading:a=!1,xAxis:i,yAxis:s,series:c})=>{const[l,u]=k.useState([]),[o,h]=k.useState([]),d=i||"label",A=s||"value";k.useEffect(()=>{Array.isArray(n)?(u(n),h(n.map((m,x)=>m.label||m[d]||`Item ${x+1}`))):n&&typeof n=="object"&&"labels"in n&&"data"in n?(h(n.labels||[]),u((n.data||[]).map((m,x)=>{var y;return{label:((y=n.labels)==null?void 0:y[x])||`Item ${x+1}`,value:m}}))):(u([]),h([]))},[n,d]);const f=k.useMemo(()=>Array.isArray(c)&&c.length>0?c:[A],[A,c]),g=k.useMemo(()=>["#2563eb","#16a34a","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#64748b"],[]);return a?t.jsxs("div",{className:"widget-panel widget-panel--chart",children:[t.jsx("div",{className:"widget-panel__header",children:t.jsx("h3",{className:"widget-panel__title",children:r})}),t.jsx("div",{className:"widget-panel__body",children:t.jsx("div",{className:"widget-panel__skeleton",children:t.jsx("div",{className:"skeleton-chart"})})})]}):t.jsxs("div",{className:"widget-panel widget-panel--chart",children:[t.jsx("div",{className:"widget-panel__header",children:t.jsx("h3",{className:"widget-panel__title",children:r})}),t.jsx("div",{className:"widget-panel__body",children:l.length===0?t.jsxs("div",{className:"widget-empty-state",children:[t.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"3",y1:"21",x2:"21",y2:"21"}),t.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"}),t.jsx("polyline",{points:"5 21 5 10 9 10 9 21"}),t.jsx("polyline",{points:"13 21 13 10 17 10 17 21"})]}),t.jsx("p",{children:"No data available"})]}):t.jsx("div",{className:"chart-container",children:t.jsx(O9,{width:"100%",height:260,children:e==="line"?t.jsxs(B8,{data:l,children:[t.jsx(lv,{strokeDasharray:"3 3"}),t.jsx(ap,{dataKey:d}),t.jsx(ip,{}),t.jsx(ld,{}),t.jsx(Ih,{}),f.map(m=>t.jsx(Cm,{type:"monotone",dataKey:m,stroke:"#2563eb",strokeWidth:2,dot:!1},m))]}):e==="bar"?t.jsxs(kJ,{data:l,children:[t.jsx(lv,{strokeDasharray:"3 3"}),t.jsx(ap,{dataKey:d}),t.jsx(ip,{}),t.jsx(ld,{}),t.jsx(Ih,{}),f.map(m=>t.jsx(gp,{dataKey:m,fill:"#2563eb",radius:[6,6,0,0]},m))]}):e==="pie"||e==="doughnut"?t.jsxs(PJ,{children:[t.jsx(ld,{}),t.jsx(Ih,{}),t.jsx(CA,{data:l,dataKey:A,nameKey:d,cx:"50%",cy:"50%",outerRadius:90,innerRadius:e==="doughnut"?55:0,paddingAngle:2,children:l.map((m,x)=>t.jsx(Mx,{fill:g[x%g.length]},`cell-${x}`))})]}):t.jsxs(B8,{data:l,children:[t.jsx(lv,{strokeDasharray:"3 3"}),t.jsx(ap,{dataKey:d}),t.jsx(ip,{}),t.jsx(ld,{}),t.jsx(Ih,{}),f.map(m=>t.jsx(Cm,{type:"monotone",dataKey:m,stroke:"#2563eb",strokeWidth:2,dot:!1},m))]})})})})]})},DJ=({title:r,columns:e,data:n,loading:a=!1,maxRows:i=5,onRowClick:s})=>{const c=n.slice(0,i);return a?t.jsxs("div",{className:"widget-panel widget-panel--table",children:[t.jsx("div",{className:"widget-panel__header",children:t.jsx("h3",{className:"widget-panel__title",children:r})}),t.jsx("div",{className:"widget-panel__body",children:t.jsx("div",{className:"widget-panel__skeleton",children:t.jsx("div",{className:"skeleton-table",children:[...Array(3)].map((l,u)=>t.jsx("div",{className:"skeleton-row",children:e.map((o,h)=>t.jsx("div",{className:"skeleton-cell"},h))},u))})})})]}):t.jsxs("div",{className:"widget-panel widget-panel--table",children:[t.jsxs("div",{className:"widget-panel__header",children:[t.jsx("h3",{className:"widget-panel__title",children:r}),n.length>i&&t.jsxs("span",{className:"widget-panel__badge",children:[n.length," total"]})]}),t.jsx("div",{className:"widget-panel__body",children:c.length===0?t.jsxs("div",{className:"widget-empty-state",children:[t.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),t.jsx("p",{children:"No data available"})]}):t.jsx("div",{className:"table-widget",children:t.jsxs("table",{className:"table-widget__table",children:[t.jsx("thead",{children:t.jsx("tr",{children:e.map(l=>t.jsx("th",{children:l.label},l.key))})}),t.jsx("tbody",{children:c.map((l,u)=>t.jsx("tr",{onClick:()=>s==null?void 0:s(l),className:s?"table-widget__row--clickable":"",children:e.map(o=>t.jsx("td",{children:o.render?o.render(l[o.key],l):l[o.key]||"-"},o.key))},u))})]})})})]})},MJ=({title:r,tasks:e,loading:n=!1,maxItems:a=5,onTaskClick:i})=>{const s=e.slice(0,a);if(n)return t.jsxs("div",{className:"widget-panel widget-panel--task-list",children:[t.jsx("div",{className:"widget-panel__header",children:t.jsx("h3",{className:"widget-panel__title",children:r})}),t.jsx("div",{className:"widget-panel__body",children:t.jsx("div",{className:"widget-panel__skeleton",children:[...Array(3)].map((l,u)=>t.jsx("div",{className:"skeleton-task-item"},u))})})]});const c=l=>{switch(l){case"completed":return"#10b981";case"in-progress":return"#3b82f6";case"overdue":return"#ef4444";default:return"#f59e0b"}};return t.jsxs("div",{className:"widget-panel widget-panel--task-list",children:[t.jsxs("div",{className:"widget-panel__header",children:[t.jsx("h3",{className:"widget-panel__title",children:r}),e.length>a&&t.jsxs("span",{className:"widget-panel__badge",children:[e.length," total"]})]}),t.jsx("div",{className:"widget-panel__body",children:s.length===0?t.jsxs("div",{className:"widget-empty-state",children:[t.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 11l3 3L22 4"}),t.jsx("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7"})]}),t.jsx("p",{children:"No tasks available"})]}):t.jsx("ul",{className:"task-list",children:s.map(l=>t.jsxs("li",{className:`task-item ${i?"task-item--clickable":""}`,onClick:()=>i==null?void 0:i(l),children:[t.jsxs("div",{className:"task-item__header",children:[t.jsx("h4",{className:"task-item__title",children:l.title}),t.jsx("span",{className:"task-item__status",style:{backgroundColor:c(l.status)},children:l.status})]}),l.description&&t.jsx("p",{className:"task-item__description",children:l.description}),l.dueDate&&t.jsx("div",{className:"task-item__meta",children:t.jsxs("span",{className:"task-item__due-date",children:["Due: ",l.dueDate]})})]},l.id))})})]})},RJ=({title:r,items:e,loading:n=!1,maxItems:a=5,onApprove:i,onReject:s,onView:c,canApprove:l=!1,canReject:u=!1})=>{const o=e.slice(0,a);return n?t.jsxs("div",{className:"widget-panel widget-panel--approval-queue",children:[t.jsx("div",{className:"widget-panel__header",children:t.jsx("h3",{className:"widget-panel__title",children:r})}),t.jsx("div",{className:"widget-panel__body",children:t.jsx("div",{className:"widget-panel__skeleton",children:[...Array(3)].map((h,d)=>t.jsx("div",{className:"skeleton-approval-item"},d))})})]}):t.jsxs("div",{className:"widget-panel widget-panel--approval-queue",children:[t.jsxs("div",{className:"widget-panel__header",children:[t.jsx("h3",{className:"widget-panel__title",children:r}),e.length>a&&t.jsxs("span",{className:"widget-panel__badge",children:[e.length," pending"]})]}),t.jsx("div",{className:"widget-panel__body",children:o.length===0?t.jsxs("div",{className:"widget-empty-state",children:[t.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),t.jsx("p",{children:"No pending approvals"})]}):t.jsx("ul",{className:"approval-queue",children:o.map(h=>t.jsxs("li",{className:"approval-item",children:[t.jsxs("div",{className:"approval-item__header",children:[t.jsxs("div",{className:"approval-item__info",children:[t.jsx("h4",{className:"approval-item__title",children:h.title}),h.description&&t.jsx("p",{className:"approval-item__description",children:h.description})]}),h.amount&&t.jsxs("div",{className:"approval-item__amount",children:["",h.amount.toLocaleString()]})]}),t.jsxs("div",{className:"approval-item__meta",children:[t.jsxs("span",{className:"approval-item__submitted",children:["By ",h.submittedBy,"  ",h.submittedOn]}),h.priority&&t.jsx("span",{className:`approval-item__priority approval-item__priority--${h.priority}`,children:h.priority})]}),t.jsxs("div",{className:"approval-item__actions",children:[c&&t.jsx("button",{className:"approval-item__action-btn approval-item__action-btn--view",onClick:()=>c(h),children:"View"}),u&&s&&t.jsx("button",{className:"approval-item__action-btn approval-item__action-btn--reject",onClick:()=>s(h),children:"Reject"}),l&&i&&t.jsx("button",{className:"approval-item__action-btn approval-item__action-btn--approve",onClick:()=>i(h),children:"Approve"})]})]},h.id))})})]})},LJ=({title:r,alerts:e,loading:n=!1,maxItems:a=5})=>{const i=e.slice(0,a);if(n)return t.jsxs("div",{className:"widget-panel widget-panel--alert",children:[t.jsx("div",{className:"widget-panel__header",children:t.jsx("h3",{className:"widget-panel__title",children:r})}),t.jsx("div",{className:"widget-panel__body",children:t.jsx("div",{className:"widget-panel__skeleton",children:[...Array(2)].map((c,l)=>t.jsx("div",{className:"skeleton-alert-item"},l))})})]});const s=c=>{switch(c){case"error":return t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),t.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]});case"warning":return t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),t.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),t.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]});case"success":return t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]});default:return t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),t.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]})}};return t.jsxs("div",{className:"widget-panel widget-panel--alert",children:[t.jsxs("div",{className:"widget-panel__header",children:[t.jsx("h3",{className:"widget-panel__title",children:r}),e.length>a&&t.jsxs("span",{className:"widget-panel__badge",children:[e.length," total"]})]}),t.jsx("div",{className:"widget-panel__body",children:i.length===0?t.jsxs("div",{className:"widget-empty-state",children:[t.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),t.jsx("p",{children:"No alerts"})]}):t.jsx("ul",{className:"alert-list",children:i.map(c=>t.jsxs("li",{className:`alert-item alert-item--${c.type}`,children:[t.jsx("div",{className:"alert-item__icon",children:s(c.type)}),t.jsxs("div",{className:"alert-item__content",children:[t.jsx("h4",{className:"alert-item__title",children:c.title}),t.jsx("p",{className:"alert-item__message",children:c.message}),c.timestamp&&t.jsx("span",{className:"alert-item__timestamp",children:c.timestamp})]}),c.actionLabel&&c.onAction&&t.jsx("button",{className:"alert-item__action",onClick:c.onAction,children:c.actionLabel})]},c.id))})})]})},UJ=({title:r,activities:e,loading:n=!1,maxItems:a=10,onItemClick:i})=>{const s=e.slice(0,a);if(n)return t.jsxs("div",{className:"widget-panel widget-panel--activity-timeline",children:[t.jsx("div",{className:"widget-panel__header",children:t.jsx("h3",{className:"widget-panel__title",children:r})}),t.jsx("div",{className:"widget-panel__body",children:t.jsx("div",{className:"widget-panel__skeleton",children:[...Array(5)].map((l,u)=>t.jsx("div",{className:"skeleton-activity-item"},u))})})]});const c=l=>{switch(l){case"success":return t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]});case"warning":return t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),t.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),t.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]});case"error":return t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),t.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]});default:return t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),t.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]})}};return t.jsxs("div",{className:"widget-panel widget-panel--activity-timeline",children:[t.jsxs("div",{className:"widget-panel__header",children:[t.jsx("h3",{className:"widget-panel__title",children:r}),e.length>a&&t.jsxs("span",{className:"widget-panel__badge",children:[e.length," total"]})]}),t.jsx("div",{className:"widget-panel__body",children:s.length===0?t.jsxs("div",{className:"widget-empty-state",children:[t.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("polyline",{points:"12 6 12 12 16 14"})]}),t.jsx("p",{children:"No recent activity"})]}):t.jsx("ul",{className:"activity-timeline",children:s.map((l,u)=>t.jsxs("li",{className:`activity-item activity-item--${l.type||"info"} ${i?"activity-item--clickable":""}`,onClick:()=>i==null?void 0:i(l),children:[t.jsx("div",{className:"activity-item__line",children:u<s.length-1&&t.jsx("div",{className:"activity-item__line-connector"})}),t.jsx("div",{className:"activity-item__icon",children:l.icon||c(l.type)}),t.jsxs("div",{className:"activity-item__content",children:[t.jsxs("div",{className:"activity-item__header",children:[t.jsx("span",{className:"activity-item__user",children:l.user}),t.jsx("span",{className:"activity-item__timestamp",children:l.timestamp})]}),t.jsx("div",{className:"activity-item__action",children:l.action}),l.description&&t.jsx("div",{className:"activity-item__description",children:l.description})]})]},l.id))})})]})},HJ={transaction:["MENU_TRANSACTION_VIEW","MENU_TRANSACTION.VIEW"],finance:["MENU_FINANCE_VIEW","MENU_FINANCE.VIEW","FINANCE_VIEW","FINANCE.VIEW"],commercial:["MENU_COMMERCIAL_VIEW","MENU_COMMERCIAL.VIEW"],compliance:["MENU_COMPLIANCE_VIEW","MENU_COMPLIANCE.VIEW"],master:["MENU_MASTER_VIEW","MENU_MASTER.VIEW","MASTERS_VIEW","MASTERS.VIEW","MASTER_VIEW","MASTER.VIEW"],report:["MENU_REPORTS_VIEW","MENU_REPORTS.VIEW","REPORTS_VIEW","REPORTS.VIEW"]};function sa(r,e){const n=Array.isArray(r)?r:[];return n.includes("*")||e==="dashboard"?!0:(HJ[e]||[]).some(i=>Yl(n,i))}const QJ=({widget:r,permissions:e,isPreviewMode:n})=>{var d,A,f,g,m,x,y,b,w,S,N,C,O,W;const[a,i]=k.useState(null),[s,c]=k.useState(!0),[l,u]=k.useState(null);if(!r||typeof r!="object"||Array.isArray(r))return console.error("[WidgetRenderer] Invalid widget passed:",r),null;if(!r.id||!r.type)return console.error("[WidgetRenderer] Widget missing required properties (id or type):",r),null;const o=k.useMemo(()=>{var K;return(K=r.permissions)!=null&&K.view?e[r.permissions.view]===!0:!0},[r.permissions,e]);if(k.useEffect(()=>{var q,Y,P,ce;if(!r||!r.id||!r.type){console.error("[WidgetRenderer] Widget validation failed in useEffect:",r),c(!1);return}if(console.log(`[WidgetRenderer] Widget ${r.id} check:`,{hasDataSource:!!r.dataSource,hasEndpoint:!!((q=r.dataSource)!=null&&q.endpoint),endpoint:(Y=r.dataSource)==null?void 0:Y.endpoint,canView:o,permissions:r.permissions,widgetType:r.type}),!((P=r.dataSource)!=null&&P.endpoint)){console.warn(`[WidgetRenderer] Widget ${r.id} has no dataSource.endpoint, skipping API call`,{widgetId:r.id,widgetTitle:r.title,widgetType:r.type,dataSource:r.dataSource,fullWidget:r}),c(!1);return}if(!o){console.warn(`[WidgetRenderer] Widget ${r.id} cannot be viewed (permission check failed)`,{widgetId:r.id,widgetTitle:r.title,requiredPermission:(ce=r.permissions)==null?void 0:ce.view,permissions:e}),c(!1);return}const K=async()=>{var $;try{c(!0),u(null),console.log("[WidgetRenderer] Loading data for widget:",{id:r.id,type:r.type,endpoint:($=r.dataSource)==null?void 0:$.endpoint,fullWidget:r});const R=await YM(r);console.log(`[WidgetRenderer] Data loaded for widget ${r.id}:`,{data:R,hasValue:(R==null?void 0:R.value)!==void 0,value:R==null?void 0:R.value,fullData:R}),R==null?(console.warn(`[WidgetRenderer] Widget ${r.id} returned null/undefined data`),i({value:0})):i(R)}catch(R){console.error(`[WidgetRenderer] Failed to load data for widget ${r.id}:`,R),console.error("[WidgetRenderer] Error type:",typeof R),console.error("[WidgetRenderer] Error message:",R==null?void 0:R.message),console.error("[WidgetRenderer] Error stack:",R==null?void 0:R.stack),console.error("[WidgetRenderer] Widget config:",r),u("Failed to load data"),i({value:0})}finally{c(!1)}};K();let te=null;return r.dataSource.refreshInterval&&r.dataSource.refreshInterval>0&&(te=setInterval(K,r.dataSource.refreshInterval*1e3)),()=>{te&&clearInterval(te)}},[r,o]),!o)return null;const h=((d=r.type)==null?void 0:d.toLowerCase().trim())||"metric";switch(h){case"metric":case"kpi":return t.jsx(ZM,{title:r.title,value:(a==null?void 0:a.value)||0,unit:a==null?void 0:a.unit,label:a==null?void 0:a.label,trend:a==null?void 0:a.trend,loading:s});case"chart":return t.jsx(FJ,{title:r.title,type:((A=r.chartConfig)==null?void 0:A.type)||"line",data:(a==null?void 0:a.data)||a||[],loading:s,xAxis:(f=r.chartConfig)==null?void 0:f.xAxis,yAxis:(g=r.chartConfig)==null?void 0:g.yAxis,series:(m=r.chartConfig)==null?void 0:m.series});case"table":return t.jsx(DJ,{title:r.title,columns:(a==null?void 0:a.columns)||[],data:(a==null?void 0:a.data)||[],loading:s,maxRows:((x=r.props)==null?void 0:x.maxRows)||5,onRowClick:n||a==null?void 0:a.onRowClick});case"task-list":return t.jsx(MJ,{title:r.title,tasks:(a==null?void 0:a.tasks)||[],loading:s,maxItems:((y=r.props)==null?void 0:y.maxItems)||5,onTaskClick:n||a==null?void 0:a.onTaskClick});case"approval-queue":return t.jsx(RJ,{title:r.title,items:(a==null?void 0:a.items)||[],loading:s,maxItems:((b=r.props)==null?void 0:b.maxItems)||5,onApprove:n||a==null?void 0:a.onApprove,onReject:n||a==null?void 0:a.onReject,onView:n||a==null?void 0:a.onView,canApprove:e[((S=(w=r.permissions)==null?void 0:w.actions)==null?void 0:S.approve)||""]||!1,canReject:e[((C=(N=r.permissions)==null?void 0:N.actions)==null?void 0:C.approve)||""]||!1});case"activity-timeline":return t.jsx(UJ,{title:r.title,activities:(a==null?void 0:a.activities)||[],loading:s,maxItems:((O=r.props)==null?void 0:O.maxItems)||10,onItemClick:n||a==null?void 0:a.onItemClick});case"alert":return t.jsx(LJ,{title:r.title,alerts:(a==null?void 0:a.alerts)||[],loading:s,maxItems:((W=r.props)==null?void 0:W.maxItems)||5});default:return console.warn(`[WidgetRenderer] Unknown widget type: "${r.type}" (normalized: "${h}")`,r),t.jsxs("div",{className:"dashboard-widget-error",children:[t.jsxs("p",{children:["Unknown widget type: ",r.type||"undefined"]}),t.jsxs("p",{style:{fontSize:"12px",color:"#666",marginTop:"8px"},children:["Widget ID: ",r.id||"N/A"]})]})}},WJ=()=>{var O,W,K;const{user:r,permissions:e,logout:n}=da(),a=Tn(),[i]=YN(),[s,c]=k.useState([]),[l,u]=k.useState({}),[o,h]=k.useState(!0),[d,A]=k.useState(!1),[f,g]=k.useState({enabled:!1,role:null});k.useEffect(()=>{const te=i.get("preview")==="true",q=sessionStorage.getItem("dashboard-preview-config"),Y=sessionStorage.getItem("dashboard-preview-role");if(te&&q&&Y)try{const P=JSON.parse(q);g({enabled:!0,role:Y}),c(P.widgets||[]),u(P.permissions||{}),h(!1)}catch(P){console.error("Failed to load preview config:",P)}},[i]);const m=f.enabled&&f.role?f.role:((O=r==null?void 0:r.roles)==null?void 0:O[0])||"viewer",x=f.enabled,y=e.includes("*"),b=()=>{A(!d)},w=()=>{g({enabled:!1,role:null})},N=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:a.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:a.pathname==="/transaction"||a.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:a.pathname==="/finance"||a.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:a.pathname==="/commercial-agreements"||a.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:a.pathname==="/compliance-training"||a.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:a.pathname==="/master"||a.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:a.pathname.startsWith("/report")},...y?[{path:"/admin/dashboard-configuration",label:"Dashboard Configuration",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),active:a.pathname==="/admin/dashboard-configuration"||a.pathname.startsWith("/admin/dashboard-configuration")},{path:"/admin/permission-configuration",label:"Permission Configuration",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M12 1l3 5 5 .5-3.6 3.3 1.1 5.2L12 12.9 6.5 15l1.1-5.2L4 6.5 9 6z"}),t.jsx("path",{d:"M20 21v-7a2 2 0 0 0-2-2h-3"}),t.jsx("path",{d:"M4 21v-7a2 2 0 0 1 2-2h3"})]}),active:a.pathname==="/admin/permission-configuration"||a.pathname.startsWith("/admin/permission-configuration")}]:[]].filter(te=>te.path==="/dashboard"?!0:te.path==="/transaction"?sa(e,"transaction"):te.path==="/finance"?sa(e,"finance"):te.path==="/commercial-agreements"?sa(e,"commercial"):te.path==="/compliance-training"?sa(e,"compliance"):te.path==="/master"?sa(e,"master"):te.path==="/report"?sa(e,"report"):!0);k.useEffect(()=>{if(f.enabled)return;(async()=>{h(!0);try{console.log("[DashboardPage] Loading dashboard for role:",m);const q=await qf.getDashboardConfig(m);console.log("[DashboardPage] Loaded role config:",{role:q.role,widgetsCount:Array.isArray(q.widgets)?q.widgets.length:0,widgets:q.widgets});const Y=r!=null&&r.id?await qf.getUserOverrides(r.id):null,P=qf.computePermissions(q,Y);console.log("[DashboardPage] Computed widgets:",{widgetsCount:Array.isArray(P.widgets)?P.widgets.length:0,widgets:P.widgets});let ce=[];Array.isArray(P.widgets)?P.widgets.forEach(R=>{Array.isArray(R)?R.forEach(se=>{se&&typeof se=="object"&&!Array.isArray(se)&&ce.push(se)}):R&&typeof R=="object"&&!Array.isArray(R)&&ce.push(R)}):P.widgets&&typeof P.widgets=="object"&&!Array.isArray(P.widgets)&&(ce=[P.widgets]),console.log("[DashboardPage] Processed widgets:",{originalCount:Array.isArray(P.widgets)?P.widgets.length:0,processedCount:ce.length,widgets:ce});const $=ce.filter(R=>!R||typeof R!="object"||Array.isArray(R)?(console.warn("[DashboardPage] Filtering out invalid widget entry (not an object):",R),!1):!0).map((R,se)=>{var _e,Z,Oe,ee,re,je;if(R.id||(R.id=`widget-${Date.now()}-${se}-${Math.random()}`),R.dataSource||(R.dataSource={}),!R.dataSource.endpoint){const Ne=R.id.toLowerCase(),ye=(R.title||"").toLowerCase(),me=`${Ne} ${ye}`;let ie=null;if(Ne.includes("total-invoices")||Ne.includes("totalinvoices")||Ne.startsWith("metric-total-invoices")?ie="/dashboard/kpi/total-invoices":Ne.includes("pending-invoices")||Ne.includes("pendinginvoices")||Ne.startsWith("metric-pending-invoices")?ie="/dashboard/kpi/pending-invoices":Ne.includes("total-revenue")||Ne.includes("totalrevenue")||Ne.startsWith("metric-total-revenue")?ie="/dashboard/kpi/total-revenue":Ne.includes("pending-payments")||Ne.includes("pendingpayments")||Ne.startsWith("metric-pending-payments")?ie="/dashboard/kpi/pending-payments":Ne.includes("receipts-today")||Ne.includes("receiptstoday")?ie="/dashboard/kpi/receipts-today":Ne.includes("active-users")||Ne.includes("activeusers")?ie="/dashboard/kpi/active-users":Ne.includes("errors-today")||Ne.includes("errorstoday")?ie="/dashboard/kpi/errors-today":Ne.includes("monthly-revenue")||Ne.includes("monthlyrevenue")||Ne.startsWith("chart-monthly-revenue")?ie="/dashboard/chart/monthly-revenue":Ne.includes("payment-status")||Ne.includes("paymentstatus")?ie="/dashboard/chart/payment-status":Ne.includes("invoice-aging")||Ne.includes("invoiceaging")?ie="/dashboard/chart/invoice-aging":Ne.includes("recent-invoices")||Ne.includes("recentinvoices")||Ne.startsWith("table-recent-invoices")?ie="/dashboard/table/recent-invoices":Ne.includes("recent-payments")||Ne.includes("recentpayments")?ie="/dashboard/table/recent-payments":Ne.includes("pending-receipts")||Ne.includes("pendingreceipts")?ie="/dashboard/table/pending-receipts":Ne.includes("pending-approvals")||Ne.includes("pendingapprovals")||Ne.includes("approval-queue")||Ne.startsWith("approval-queue")?ie="/dashboard/tasks/pending-approvals":Ne.includes("assigned-tasks")||Ne.includes("assignedtasks")?ie="/dashboard/tasks/assigned":Ne.includes("payment-overdue")||Ne.includes("paymentoverdue")?ie="/dashboard/alerts/payment-overdue":(Ne.includes("compliance-expiry")||Ne.includes("complianceexpiry"))&&(ie="/dashboard/alerts/compliance-expiry"),ie||(me.includes("total invoices")||me.includes("totalinvoices")?ie="/dashboard/kpi/total-invoices":me.includes("pending invoices")||me.includes("pendinginvoices")?ie="/dashboard/kpi/pending-invoices":me.includes("total revenue")||me.includes("totalrevenue")?ie="/dashboard/kpi/total-revenue":me.includes("pending payments")||me.includes("pendingpayments")?ie="/dashboard/kpi/pending-payments":me.includes("receipts today")||me.includes("receiptstoday")?ie="/dashboard/kpi/receipts-today":me.includes("active users")||me.includes("activeusers")?ie="/dashboard/kpi/active-users":me.includes("errors today")||me.includes("errorstoday")?ie="/dashboard/kpi/errors-today":me.includes("monthly revenue")||me.includes("monthlyrevenue")?ie="/dashboard/chart/monthly-revenue":me.includes("payment status")||me.includes("paymentstatus")?ie="/dashboard/chart/payment-status":me.includes("invoice aging")||me.includes("invoiceaging")?ie="/dashboard/chart/invoice-aging":me.includes("recent invoices")||me.includes("recentinvoices")?ie="/dashboard/table/recent-invoices":me.includes("recent payments")||me.includes("recentpayments")?ie="/dashboard/table/recent-payments":me.includes("pending receipts")||me.includes("pendingreceipts")?ie="/dashboard/table/pending-receipts":me.includes("pending approvals")||me.includes("pendingapprovals")||me.includes("approval queue")?ie="/dashboard/tasks/pending-approvals":me.includes("assigned tasks")||me.includes("assignedtasks")?ie="/dashboard/tasks/assigned":me.includes("payment overdue")||me.includes("paymentoverdue")?ie="/dashboard/alerts/payment-overdue":(me.includes("compliance expiry")||me.includes("complianceexpiry"))&&(ie="/dashboard/alerts/compliance-expiry")),ie)console.log(`[DashboardPage] Widget ${R.id} endpoint inferred from ID/title:`,{widgetId:R.id,widgetTitle:R.title,inferredEndpoint:ie});else{const le=["/dashboard/kpi/total-invoices","/dashboard/kpi/pending-invoices","/dashboard/kpi/total-revenue","/dashboard/kpi/pending-payments","/dashboard/kpi/receipts-today","/dashboard/kpi/active-users","/dashboard/kpi/errors-today","/dashboard/chart/monthly-revenue"];R.type==="metric"||R.type==="kpi"?ie=le[se%le.length]||"/dashboard/kpi/total-invoices":R.type==="chart"?ie="/dashboard/chart/monthly-revenue":R.type==="table"?ie="/dashboard/table/recent-invoices":R.type==="task-list"||R.type==="approval-queue"?ie="/dashboard/tasks/pending-approvals":R.type==="alert"?ie="/dashboard/alerts/payment-overdue":ie=le[se%le.length]||"/dashboard/kpi/total-invoices",console.log(`[DashboardPage] Widget ${R.id} missing endpoint, using index-based assignment:`,{widgetId:R.id,widgetTitle:R.title,widgetType:R.type,widgetIndex:se,assignedEndpoint:ie})}R.dataSource.endpoint=ie}if(!R.title){const Ne=((_e=R.dataSource)==null?void 0:_e.endpoint)||"";Ne.includes("total-invoices")?R.title="Total Invoices":Ne.includes("pending-invoices")?R.title="Pending Invoices":Ne.includes("total-revenue")?R.title="Total Revenue":Ne.includes("pending-payments")?R.title="Pending Payments":Ne.includes("receipts-today")?R.title="Receipts Today":Ne.includes("active-users")?R.title="Active Users":Ne.includes("errors-today")?R.title="Errors Today":Ne.includes("monthly-revenue")?R.title="Monthly Revenue":Ne.includes("payment-status")?R.title="Payment Status":Ne.includes("invoice-aging")?R.title="Invoice Aging":Ne.includes("recent-invoices")?R.title="Recent Invoices":Ne.includes("recent-payments")?R.title="Recent Payments":Ne.includes("pending-receipts")?R.title="Pending Receipts":Ne.includes("pending-approvals")?R.title="Pending Approvals":Ne.includes("assigned-tasks")?R.title="Assigned Tasks":Ne.includes("payment-overdue")?R.title="Payment Overdue":Ne.includes("compliance-expiry")?R.title="Compliance Expiry":R.title=`Widget ${se+1}`,console.log(`[DashboardPage] Widget ${R.id} missing title, inferred from endpoint:`,{widgetId:R.id,inferredTitle:R.title,endpoint:(Z=R.dataSource)==null?void 0:Z.endpoint})}if(!R.type){const Ne=((Oe=R.dataSource)==null?void 0:Oe.endpoint)||"";Ne.includes("/kpi/")||Ne.includes("/dashboard/kpi/")?R.type="metric":Ne.includes("/chart/")||Ne.includes("/dashboard/chart/")?R.type="chart":Ne.includes("/table/")||Ne.includes("/dashboard/table/")?R.type="table":Ne.includes("/tasks/")||Ne.includes("/approval")||Ne.includes("/dashboard/tasks/")?R.type="task-list":Ne.includes("/alerts/")||Ne.includes("/dashboard/alerts/")?R.type="alert":Ne.includes("/activity")||Ne.includes("/timeline")?R.type="activity-timeline":(R.id&&!R.id.startsWith("widget-")&&console.warn("[DashboardPage] Widget missing type and cannot infer from endpoint:",{id:R.id,title:R.title,endpoint:Ne||"none"}),R.type="metric")}const fe=R.type.toLowerCase().trim(),Ie={kpi:"metric",metric:"metric",chart:"chart",table:"table","task-list":"task-list",tasklist:"task-list",tasks:"task-list","approval-queue":"approval-queue",approvalqueue:"approval-queue",approvals:"approval-queue",alert:"alert",alerts:"alert","activity-timeline":"activity-timeline",activitytimeline:"activity-timeline",timeline:"activity-timeline",custom:"custom"}[fe];return Ie?R.type=Ie:["metric","chart","table","task-list","approval-queue","alert","activity-timeline","custom"].includes(fe)||(console.warn(`[DashboardPage] Unknown widget type "${R.type}", defaulting to "metric"`,R),R.type="metric"),(!R.gridColumn||R.gridColumn<1)&&(R.gridColumn=1),R.gridColumn>4&&(R.gridColumn=4),(ee=R.dataSource)!=null&&ee.endpoint||(console.error(`[DashboardPage] Widget ${R.id} still missing endpoint after validation!`,R),R.dataSource=R.dataSource||{},R.dataSource.endpoint="/dashboard/kpi/total-invoices"),console.log("[DashboardPage] Validated widget:",{id:R.id,title:R.title,type:R.type,endpoint:(re=R.dataSource)==null?void 0:re.endpoint,hasEndpoint:!!((je=R.dataSource)!=null&&je.endpoint)}),R}).filter(R=>!R||typeof R!="object"||Array.isArray(R)?(console.warn("[DashboardPage] Filtering out invalid widget (not an object):",R),!1):!R.id||!R.type?(console.warn("[DashboardPage] Filtering out invalid widget (missing id or type):",R),!1):["metric","chart","table","task-list","approval-queue","alert","activity-timeline","custom"].includes(R.type)?!R.dataSource||!R.dataSource.endpoint?(console.warn("[DashboardPage] Filtering out invalid widget (missing dataSource.endpoint):",R),!1):!0:(console.warn("[DashboardPage] Filtering out invalid widget (invalid type):",R),!1));console.log("[DashboardPage] Final validated widgets:",{count:$.length,widgets:$}),c($),u(P.permissions)}catch(q){console.error("[DashboardPage] Failed to load dashboard:",q),c([]),u({})}finally{h(!1)}})()},[m,r==null?void 0:r.id,f.enabled,a.pathname]);const C=k.useMemo(()=>{const te=[];let q=[],Y=0;return s.forEach(P=>{const ce=P.gridColumn||1;Y+ce>4?(te.push(q),q=[P],Y=ce):(q.push(P),Y+=ce)}),q.length>0&&te.push(q),te},[s]);return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${d?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!d&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:b,"aria-label":d?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:N.map(te=>t.jsx("li",{children:t.jsxs(Yr,{to:te.path,className:`nav-link ${te.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:te.icon}),!d&&t.jsx("span",{className:"nav-label",children:te.label})]})},te.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Yr,{to:"/profile",className:`sidebar-profile-btn ${a.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!d&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:n,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!d&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Dashboard"})})}),t.jsxs("div",{className:"dashboard-page-content",style:{padding:"24px",overflowY:"auto",flex:1},children:[x&&t.jsxs("div",{className:"dashboard-preview-selector",style:{background:"#fef3c7",border:"1px solid #fbbf24",padding:"12px 16px",borderRadius:"6px",marginBottom:"16px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),t.jsxs("span",{style:{fontWeight:"600",color:"#92400e"},children:["Preview Mode: ",((W=f.role)==null?void 0:W.charAt(0).toUpperCase())+((K=f.role)==null?void 0:K.slice(1))]})]}),t.jsx("button",{onClick:w,style:{padding:"6px 16px",background:"#fbbf24",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"13px",fontWeight:"600",color:"#78350f"},children:"Exit Preview"})]}),o&&t.jsxs("div",{className:"dashboard-loading",children:[t.jsx("div",{className:"dashboard-loading-spinner"}),t.jsx("p",{children:"Loading dashboard..."})]}),!o&&t.jsx("div",{className:"dashboard-widget-grid",children:C.map((te,q)=>t.jsx("div",{className:"dashboard-widget-row",children:te.map((Y,P)=>!Y||typeof Y!="object"||Array.isArray(Y)||!Y.id||!Y.type?(console.error("[DashboardPage] Invalid widget in render:",Y),t.jsx("div",{className:"dashboard-widget-cell",style:{gridColumn:"span 1"},children:t.jsx("div",{className:"widget-error",children:"Invalid widget configuration"})},`invalid-widget-${q}-${P}`)):t.jsx("div",{className:"dashboard-widget-cell",style:{gridColumn:`span ${Y.gridColumn||1}`,gridRow:Y.gridRow?`span ${Y.gridRow}`:void 0},children:t.jsx(k.Suspense,{fallback:t.jsx("div",{className:"widget-loading",children:"Loading widget..."}),children:t.jsx(QJ,{widget:Y,permissions:l,isPreviewMode:x})})},Y.id||`widget-${q}-${P}`))},`row-${q}`))}),!o&&s.length===0&&t.jsxs("div",{className:"dashboard-empty-state",children:[t.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),t.jsx("h2",{children:"No widgets configured"}),t.jsx("p",{children:"Your dashboard is empty. Contact your administrator to configure widgets for your role."})]})]})]})]})},$J=({catalog:r,onAddWidget:e})=>{const[n,a]=xt.useState(""),[i,s]=xt.useState("all"),c=xt.useMemo(()=>{const h=[];for(const d of r.kpis)h.push({...d,widgetType:"kpi"});for(const d of r.charts)h.push({...d,widgetType:"chart"});for(const d of r.tables)h.push({...d,widgetType:"table"});for(const d of r.tasks)h.push({...d,widgetType:"task"});for(const d of r.alerts)h.push({...d,widgetType:"alert"});return h},[r]),l=xt.useMemo(()=>{const h=n.trim().toLowerCase();return c.filter(d=>i==="all"?!0:d.widgetType===i).filter(d=>h?`${d.title} ${d.code} ${d.description||""} ${d.widgetType}`.toLowerCase().includes(h):!0)},[c,i,n]),u=[{key:"all",label:"All Widgets"},{key:"kpi",label:"KPIs"},{key:"chart",label:"Charts"},{key:"table",label:"Tables"},{key:"task",label:"Tasks"},{key:"alert",label:"Alerts"}],o={kpi:"Metric",chart:"Chart",table:"Table",task:"Task",alert:"Alert"};return t.jsxs("div",{className:"catalog-panel",children:[t.jsxs("div",{className:"catalog-panel-header catalog-panel-header--library",children:[t.jsxs("div",{className:"catalog-library-title-row",children:[t.jsx("div",{className:"catalog-library-icon","aria-hidden":!0,children:t.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2l3 7 7 3-7 3-3 7-3-7-7-3 7-3 3-7z"})})}),t.jsxs("div",{className:"catalog-library-title-text",children:[t.jsx("h2",{className:"catalog-panel-title",children:"Widget Library"}),t.jsx("p",{className:"catalog-panel-subtitle",children:"Choose widgets to add to your dashboard"})]})]}),t.jsxs("div",{className:"catalog-library-search",children:[t.jsxs("svg",{className:"catalog-library-search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{value:n,onChange:h=>a(h.target.value),className:"catalog-library-search-input",placeholder:"Search widgets... (try 'revenue', 'users', 'invoices')"})]}),t.jsx("div",{className:"catalog-library-tabs",role:"tablist","aria-label":"Widget categories",children:u.map(h=>t.jsx("button",{type:"button",className:`catalog-library-tab ${i===h.key?"active":""}`,onClick:()=>s(h.key),"aria-selected":i===h.key,role:"tab",children:h.label},h.key))})]}),t.jsx("div",{className:"catalog-panel-content catalog-panel-content--library",children:l.length===0?t.jsx("div",{className:"catalog-empty",children:"No widgets match your search."}):t.jsx("div",{className:"catalog-library-grid",children:l.map(h=>t.jsxs("div",{className:"catalog-library-card",children:[t.jsxs("div",{className:"catalog-library-card-top",children:[t.jsx("div",{className:"catalog-library-card-icon","aria-hidden":!0,children:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M12 2v20"}),t.jsx("path",{d:"M2 12h20"})]})}),t.jsx("span",{className:`catalog-library-badge catalog-library-badge--${h.widgetType}`,children:o[h.widgetType]})]}),t.jsx("div",{className:"catalog-library-card-title",children:h.title}),t.jsx("div",{className:"catalog-library-card-desc",children:h.description||""}),t.jsxs("button",{type:"button",className:"catalog-library-add",onClick:()=>e(h,h.widgetType),title:"Add widget",children:[t.jsx("span",{className:"catalog-library-add-plus",children:""})," Add Widget"]})]},`${h.widgetType}:${h.code}`))})}),t.jsx("div",{className:"catalog-library-footer",children:t.jsxs("span",{className:"catalog-library-footer-count",children:[c.length," widgets available"]})})]})},VJ=({widgets:r,selectedWidgetId:e,onSelectWidget:n,onUpdateWidget:a,onRemoveWidget:i,onReorderWidget:s})=>{const c=u=>u===4?"Full":u===2?"Half":u===1?"Quarter":`${u}/4`,l=(u,o)=>{a(u,{gridColumn:o})};return t.jsxs("div",{className:"dashboard-canvas",children:[t.jsxs("div",{className:"dashboard-canvas-header",children:[t.jsx("h2",{className:"dashboard-canvas-title",children:"Dashboard Layout"}),t.jsx("p",{className:"dashboard-canvas-subtitle",children:"Configure widget layout and order. Click a widget to edit settings."})]}),t.jsx("div",{className:"dashboard-canvas-content",children:r.length===0?t.jsxs("div",{className:"dashboard-canvas-empty",children:[t.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"dashboard-canvas-empty-icon",children:[t.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),t.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"})]}),t.jsx("p",{className:"dashboard-canvas-empty-text",children:"No widgets configured"}),t.jsx("p",{className:"dashboard-canvas-empty-hint",children:"Add widgets from the catalog panel on the left"})]}):t.jsx("div",{className:"dashboard-canvas-widgets",children:r.map((u,o)=>{const h=e===u.id,d=o>0,A=o<r.length-1;return t.jsxs("div",{className:`dashboard-canvas-widget ${h?"selected":""}`,style:{gridColumn:`span ${u.gridColumn}`},onClick:()=>n(u.id),children:[t.jsxs("div",{className:"dashboard-canvas-widget-header",children:[t.jsxs("div",{className:"dashboard-canvas-widget-info",children:[t.jsx("span",{className:"dashboard-canvas-widget-title",children:u.title}),t.jsx("span",{className:"dashboard-canvas-widget-type",children:u.type})]}),t.jsxs("div",{className:"dashboard-canvas-widget-actions",children:[t.jsxs("select",{value:u.gridColumn,onChange:f=>l(u.id,parseInt(f.target.value,10)),onClick:f=>f.stopPropagation(),className:"dashboard-canvas-widget-size-select",children:[t.jsx("option",{value:"1",children:"Quarter"}),t.jsx("option",{value:"2",children:"Half"}),t.jsx("option",{value:"4",children:"Full"})]}),t.jsx("button",{className:"dashboard-canvas-widget-action-btn",onClick:f=>{f.stopPropagation(),d&&s(u.id,"up")},disabled:!d,title:"Move up",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"18 15 12 9 6 15"})})}),t.jsx("button",{className:"dashboard-canvas-widget-action-btn",onClick:f=>{f.stopPropagation(),A&&s(u.id,"down")},disabled:!A,title:"Move down",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"6 9 12 15 18 9"})})}),t.jsx("button",{className:"dashboard-canvas-widget-action-btn danger",onClick:f=>{f.stopPropagation(),window.confirm("Remove this widget from the dashboard?")&&i(u.id)},title:"Remove widget",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]}),t.jsx("div",{className:"dashboard-canvas-widget-preview",children:t.jsxs("div",{className:"dashboard-canvas-widget-preview-content",children:[t.jsxs("span",{className:"dashboard-canvas-widget-preview-text",children:[u.type==="metric"&&"Metric Widget",u.type==="chart"&&"Chart Widget",u.type==="table"&&"Table Widget",u.type==="task-list"&&" Task List Widget",u.type==="alert"&&"Alert Widget",!["metric","chart","table","task-list","alert"].includes(u.type)&&"Widget Preview"]}),t.jsx("span",{className:"dashboard-canvas-widget-size-badge",children:c(u.gridColumn)})]})})]},u.id||`widget-${o}`)})})})]})},zJ=({widget:r,onUpdateWidget:e})=>{if(!r)return t.jsx("div",{className:"widget-settings-panel",children:t.jsxs("div",{className:"widget-settings-empty",children:[t.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"widget-settings-empty-icon",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),t.jsx("p",{className:"widget-settings-empty-text",children:"No widget selected"}),t.jsx("p",{className:"widget-settings-empty-hint",children:"Select a widget from the canvas to configure its settings"})]})});const n=c=>{e(r.id,{title:c})},a=c=>{e(r.id,{description:c})},i=c=>{e(r.id,{gridColumn:c})},s=c=>{e(r.id,{chartConfig:{...r.chartConfig,type:c}})};return t.jsxs("div",{className:"widget-settings-panel",children:[t.jsxs("div",{className:"widget-settings-header",children:[t.jsx("h2",{className:"widget-settings-title",children:"Widget Settings"}),t.jsx("p",{className:"widget-settings-subtitle",children:"Configure selected widget properties"})]}),t.jsxs("div",{className:"widget-settings-content",children:[t.jsxs("div",{className:"widget-settings-section",children:[t.jsx("label",{className:"widget-settings-label",children:"Widget ID"}),t.jsx("div",{className:"widget-settings-readonly",children:r.id})]}),t.jsxs("div",{className:"widget-settings-section",children:[t.jsx("label",{className:"widget-settings-label",children:"Widget Type"}),t.jsx("div",{className:"widget-settings-readonly",children:r.type})]}),t.jsxs("div",{className:"widget-settings-section",children:[t.jsx("label",{className:"widget-settings-label",htmlFor:"widget-title",children:"Title"}),t.jsx("input",{id:"widget-title",type:"text",value:r.title,onChange:c=>n(c.target.value),className:"widget-settings-input",placeholder:"Widget title"})]}),t.jsxs("div",{className:"widget-settings-section",children:[t.jsx("label",{className:"widget-settings-label",htmlFor:"widget-description",children:"Description (Optional)"}),t.jsx("textarea",{id:"widget-description",value:r.description||"",onChange:c=>a(c.target.value),className:"widget-settings-textarea",placeholder:"Widget description",rows:3})]}),t.jsxs("div",{className:"widget-settings-section",children:[t.jsx("label",{className:"widget-settings-label",htmlFor:"widget-size",children:"Size"}),t.jsxs("select",{id:"widget-size",value:r.gridColumn,onChange:c=>i(parseInt(c.target.value,10)),className:"widget-settings-select",children:[t.jsx("option",{value:"1",children:"Quarter (1/4 width)"}),t.jsx("option",{value:"2",children:"Half (1/2 width)"}),t.jsx("option",{value:"4",children:"Full (full width)"})]})]}),r.type==="chart"&&r.chartConfig&&t.jsxs("div",{className:"widget-settings-section",children:[t.jsx("label",{className:"widget-settings-label",htmlFor:"widget-chart-type",children:"Chart Type"}),t.jsxs("select",{id:"widget-chart-type",value:r.chartConfig.type||"line",onChange:c=>s(c.target.value),className:"widget-settings-select",children:[t.jsx("option",{value:"line",children:"Line Chart"}),t.jsx("option",{value:"bar",children:"Bar Chart"})]})]}),r.dataSource&&t.jsxs("div",{className:"widget-settings-section",children:[t.jsx("label",{className:"widget-settings-label",children:"API Endpoint"}),t.jsx("div",{className:"widget-settings-readonly",children:r.dataSource.endpoint}),t.jsx("p",{className:"widget-settings-hint",children:"This endpoint is read-only and does not modify business logic"})]}),r.permissions&&t.jsxs("div",{className:"widget-settings-section",children:[t.jsx("label",{className:"widget-settings-label",children:"Permissions"}),t.jsxs("div",{className:"widget-settings-permissions",children:[r.permissions.view&&t.jsxs("div",{className:"widget-settings-permission",children:[t.jsx("span",{className:"widget-settings-permission-label",children:"View:"}),t.jsx("span",{className:"widget-settings-permission-value",children:r.permissions.view})]}),r.permissions.actions&&Object.entries(r.permissions.actions).map(([c,l])=>t.jsxs("div",{className:"widget-settings-permission",children:[t.jsxs("span",{className:"widget-settings-permission-label",children:[c,":"]}),t.jsx("span",{className:"widget-settings-permission-value",children:l})]},c))]})]})]})]})},KJ=()=>{const r=Ka(),[e,n]=xt.useState({kpis:[],charts:[],tables:[],tasks:[],alerts:[]}),[a,i]=xt.useState([]),[s,c]=xt.useState(""),[l,u]=xt.useState("role"),[o,h]=xt.useState(null),[d,A]=xt.useState(null),[f,g]=xt.useState(!1),[m,x]=xt.useState(!1),[y,b]=xt.useState(null);xt.useEffect(()=>{(async()=>{g(!0);try{const[q,Y]=await Promise.all([qf.getCatalog(),qf.getAvailableRoles()]);n(q),i(Y)}catch(q){console.error("Failed to load catalog:",q),b("Failed to load dashboard catalog")}finally{g(!1)}})()},[]),xt.useEffect(()=>{s?(async()=>{g(!0);try{const q=await qf.getDashboardConfigByTarget(s);h(q),A(null)}catch(q){console.error("Failed to load configuration:",q),b("Failed to load dashboard configuration")}finally{g(!1)}})():(h(null),A(null))},[s,l]);const w=(te,q)=>{if(!o){alert("Please select a role or department first");return}const Y={kpi:"metric",chart:"chart",table:"table",task:"task-list",alert:"alert"},P={id:`${te.code.toLowerCase()}-${Date.now()}`,type:Y[q]||"metric",title:te.title,description:te.description,gridColumn:2,dataSource:{endpoint:te.api,method:"GET"},...q==="chart"&&te.chartTypes&&te.chartTypes.length>0&&{chartConfig:{type:te.chartTypes[0]}}};h({...o,widgets:[...o.widgets,P]}),A(P.id)},S=(te,q)=>{o&&h({...o,widgets:o.widgets.map(Y=>Y.id===te?{...Y,...q}:Y)})},N=te=>{o&&(h({...o,widgets:o.widgets.filter(q=>q.id!==te)}),d===te&&A(null))},C=(te,q)=>{if(!o)return;const Y=o.widgets.findIndex($=>$.id===te);if(Y===-1)return;const P=q==="up"?Y-1:Y+1;if(P<0||P>=o.widgets.length)return;const ce=[...o.widgets];[ce[Y],ce[P]]=[ce[P],ce[Y]],h({...o,widgets:ce})},O=async()=>{if(!o||!s){alert("Please select a role or department and configure widgets");return}x(!0),b(null);try{const te={...o,widgets:(o.widgets||[]).filter(q=>q&&typeof q=="object"&&!Array.isArray(q)),menuItems:Array.isArray(o.menuItems)?o.menuItems:[],permissions:o.permissions&&typeof o.permissions=="object"&&!Array.isArray(o.permissions)?o.permissions:{}};console.log("[DashboardConfigurationContent] Saving normalized config:",{role:te.role,widgetsCount:te.widgets.length,widgets:te.widgets}),await qf.saveDashboardConfig(te),alert("Dashboard configuration saved successfully")}catch(te){console.error("Failed to save configuration:",te);const q=(te==null?void 0:te.message)||"Failed to save dashboard configuration";b(q)}finally{x(!1)}},W=()=>{if(!o||!s){alert("Please select a role or department and configure widgets");return}sessionStorage.setItem("dashboard-preview-config",JSON.stringify(o)),sessionStorage.setItem("dashboard-preview-role",s),r("/dashboard?preview=true")},K=(o==null?void 0:o.widgets.find(te=>te.id===d))||null;return t.jsxs("div",{className:"dashboard-configuration-content-wrapper",children:[t.jsxs("div",{className:"dashboard-configuration-toolbar",children:[t.jsxs("div",{className:"dashboard-configuration-toolbar-left",children:[t.jsx("h1",{className:"dashboard-configuration-title",children:"Dashboard Configuration"}),t.jsx("p",{className:"dashboard-configuration-description",children:"This screen configures dashboards only and does not affect business logic"})]}),t.jsxs("div",{className:"dashboard-configuration-toolbar-right",children:[t.jsxs("div",{className:"dashboard-configuration-target-selector",children:[t.jsxs("select",{value:l,onChange:te=>{u(te.target.value),c("")},className:"dashboard-configuration-type-select",children:[t.jsx("option",{value:"role",children:"Role"}),t.jsx("option",{value:"department",children:"Department"})]}),t.jsxs("select",{value:s,onChange:te=>c(te.target.value),className:"dashboard-configuration-target-select",disabled:f,children:[t.jsxs("option",{value:"",children:["Select ",l,"..."]}),l==="role"&&a.map(te=>t.jsx("option",{value:te,children:te.charAt(0).toUpperCase()+te.slice(1)},te))]})]}),t.jsxs("button",{className:"dashboard-configuration-btn preview",onClick:W,disabled:!o||!s||o.widgets.length===0,title:"Preview dashboard with current configuration",children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),"Preview Dashboard"]}),t.jsx("button",{className:"dashboard-configuration-btn save",onClick:O,disabled:!o||!s||m,children:m?"Saving...":"Save Configuration"})]})]}),y&&t.jsxs("div",{className:"dashboard-configuration-error",children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),t.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),y]}),t.jsxs("div",{className:"dashboard-configuration-panels",children:[t.jsx("div",{className:"dashboard-configuration-panel-left",children:f&&!e.kpis.length?t.jsx("div",{className:"dashboard-configuration-loading",children:"Loading catalog..."}):t.jsx($J,{catalog:e,onAddWidget:w})}),t.jsx("div",{className:"dashboard-configuration-panel-center",children:f&&!o?t.jsx("div",{className:"dashboard-configuration-loading",children:"Loading configuration..."}):o?t.jsx(VJ,{widgets:o.widgets,selectedWidgetId:d,onSelectWidget:A,onUpdateWidget:S,onRemoveWidget:N,onReorderWidget:C}):t.jsx("div",{className:"dashboard-configuration-empty-state",children:t.jsx("p",{children:"Select a role or department to start configuring the dashboard"})})}),t.jsx("div",{className:"dashboard-configuration-panel-right",children:t.jsx(zJ,{widget:K,onUpdateWidget:S})})]})]})},GJ=()=>{const{permissions:r,logout:e}=da(),n=Tn(),a=Ka(),[i,s]=xt.useState(!1),c=r.includes("*");if(xt.useEffect(()=>{c||a("/dashboard",{replace:!0,state:{from:n}})},[c,a,n]),!c)return null;const l=()=>{s(!i)},o=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:n.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:n.pathname==="/transaction"||n.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:n.pathname==="/finance"||n.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname==="/commercial-agreements"||n.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:n.pathname==="/compliance-training"||n.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:n.pathname==="/master"||n.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname.startsWith("/report")},{path:"/admin/dashboard-configuration",label:"Dashboard Configuration",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),active:n.pathname==="/admin/dashboard-configuration"||n.pathname.startsWith("/admin/dashboard-configuration")},{path:"/admin/permission-configuration",label:"Permission Configuration",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M12 1l3 5 5 .5-3.6 3.3 1.1 5.2L12 12.9 6.5 15l1.1-5.2L4 6.5 9 6z"}),t.jsx("path",{d:"M20 21v-7a2 2 0 0 0-2-2h-3"}),t.jsx("path",{d:"M4 21v-7a2 2 0 0 1 2-2h3"})]}),active:n.pathname==="/admin/permission-configuration"||n.pathname.startsWith("/admin/permission-configuration")}].filter(h=>h.path==="/dashboard"?!0:h.path==="/transaction"?sa(r,"transaction"):h.path==="/finance"?sa(r,"finance"):h.path==="/commercial-agreements"?sa(r,"commercial"):h.path==="/compliance-training"?sa(r,"compliance"):h.path==="/master"?sa(r,"master"):h.path==="/report"?sa(r,"report"):!0);return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${i?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!i&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:l,"aria-label":i?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:i?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:o.map(h=>t.jsx("li",{children:t.jsxs(Yr,{to:h.path,className:`nav-link ${h.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:h.icon}),!i&&t.jsx("span",{className:"nav-label",children:h.label})]})},h.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs(Yr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!i&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:e,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!i&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"MEDI-WASTE / Admin / Dashboard configuration"})})}),t.jsx("div",{className:"dashboard-page-content",style:{padding:0,overflow:"hidden",flex:1},children:t.jsx(KJ,{})})]})]})},qJ="http://localhost:3000/api/v1",XJ=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},r0=async(r,e={})=>{const n=XJ(),a=`${qJ}${r}`;console.log("[roleService] Making request:",{method:e.method||"GET",url:a,endpoint:r,hasToken:!!n,hasBody:!!e.body});const i={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers};try{const s=await fetch(a,{...e,headers:i});if(console.log("[roleService] Response received:",{status:s.status,statusText:s.statusText,ok:s.ok}),!s.ok){let l=`HTTP ${s.status}: ${s.statusText}`,u=null;try{const h=await s.text();console.log("[roleService] Error response text:",h),h&&(u=JSON.parse(h),console.log("[roleService] Error response parsed:",u),Array.isArray(u.message)?l=u.message.join(", "):typeof u.message=="string"?l=u.message:u.error?l=typeof u.error=="string"?u.error:JSON.stringify(u.error):u.message&&(l=String(u.message)))}catch(h){console.error("[roleService] Failed to parse error response:",h)}console.error("[roleService] Request failed:",{status:s.status,statusText:s.statusText,errorMessage:l,errorData:u});const o=new Error(l);throw o.status=s.status,o.statusText=s.statusText,o.errorData=u,o}if(s.status===204)return console.log("[roleService] 204 No Content response, returning empty object"),{};const c=await s.json();return console.log("[roleService] Success response data:",c),c}catch(s){if(console.error("[roleService] Fetch error:",s),s instanceof Error&&s.status)throw s;const c=new Error(s instanceof Error?`Network error: ${s.message}`:"Network error: Failed to connect to server");throw c.originalError=s,c}},Kp={createRole:async r=>(console.log("[roleService] createRole called with data:",r),(await r0("/roles",{method:"POST",body:JSON.stringify(r)})).data),getRoleById:async r=>(await r0(`/roles/${r}`,{method:"GET"})).data,getAllRoles:async(r,e)=>{let n="/roles";const a=new URLSearchParams;return r&&a.append("companyId",r),e&&a.append("activeOnly","true"),a.toString()&&(n+=`?${a.toString()}`),(await r0(n,{method:"GET"})).data},updateRole:async(r,e)=>(console.log("[roleService] updateRole called"),console.log("[roleService] Role ID:",r),console.log("[roleService] Data:",e),(await r0(`/roles/${r}`,{method:"PUT",body:JSON.stringify(e)})).data),deleteRole:async r=>{await r0(`/roles/${r}`,{method:"DELETE"})}},YJ=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},n0=async(r,e={})=>{const n=YJ(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${gA}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{i.status===401?s="User not authenticated":i.status===403&&(s="Access forbidden")}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},Ha={createCompany:async r=>(await n0("/companies",{method:"POST",body:JSON.stringify(r)})).data,getCompanyById:async r=>(await n0(`/companies/${r}`,{method:"GET"})).data,getAllCompanies:async(r=!1)=>(await n0(r?"/companies?activeOnly=true":"/companies",{method:"GET"})).data,updateCompany:async(r,e)=>(await n0(`/companies/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteCompany:async r=>{await n0(`/companies/${r}`,{method:"DELETE"})}},ZJ=()=>{const r=localStorage.getItem("mw-auth-user");if(!r)return null;try{const e=JSON.parse(r);return(e==null?void 0:e.token)||null}catch{return null}};async function jj(r,e={}){const n=ZJ();if(!n)throw new Error("Unauthorized: missing token");const a=await fetch(`${gA}${r}`,{...e,headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`,...e.headers||{}}});if(!a.ok){const s=await a.json().catch(()=>({})),c=(s==null?void 0:s.message)||(s==null?void 0:s.error)||`HTTP ${a.status}`;throw new Error(Array.isArray(c)?c.join(", "):String(c))}return(await a.json()).data}const Cj={listPermissions:async()=>jj("/permissions",{method:"GET"}),getRolePermissionCodes:async r=>jj(`/permissions/roles/${r}`,{method:"GET"}),replaceRolePermissions:async(r,e)=>jj(`/permissions/roles/${r}`,{method:"PUT",body:JSON.stringify({permissionCodes:e})})},cv=r=>r&&r.trim()?r.trim():"General",JJ=r=>{const e=String(r||"").trim();if(!e)return{featureKey:"GENERAL",action:"ACCESS"};const n=e.includes(".")?e.split("."):e.split("_");if(n.length<=1)return{featureKey:e,action:"ACCESS"};const a=n[n.length-1]||"ACCESS";return{featureKey:n.slice(0,-1).join("_")||e,action:a}},eee=r=>{const e=new Map;for(const a of r){const i=cv(a.moduleName),{featureKey:s,action:c}=JJ(a.permissionCode);e.has(i)||e.set(i,new Map);const l=e.get(i);l.has(s)||l.set(s,[]),l.get(s).push({...a,action:c})}return Array.from(e.entries()).sort(([a],[i])=>a.localeCompare(i)).map(([a,i])=>{const s=Array.from(i.entries()).sort(([c],[l])=>c.localeCompare(l)).map(([c,l])=>(l.sort((u,o)=>{const h=String(u.action||"").localeCompare(String(o.action||""));return h!==0?h:String(u.permissionName||"").localeCompare(String(o.permissionName||""))}),{featureKey:c,items:l}));return{moduleName:a,features:s}})},Nj=(r,e)=>{let n=0;for(const a of r)e.has(a)&&n++;return{selected:n,total:r.length}},p1=r=>String(r||"").toLowerCase().replace(/[^a-z0-9]+/g,""),I8=r=>{const e=new Map;for(const i of r){const s=String(i||"").trim();s&&e.set(s,(e.get(s)||0)+1)}let n="",a=0;for(const[i,s]of e.entries())s>a&&(n=i,a=s);return{value:n,count:a}},T8=({checked:r,indeterminate:e,disabled:n,onChange:a,ariaLabel:i})=>{const s=xt.useRef(null);return xt.useEffect(()=>{s.current&&(s.current.indeterminate=e)},[e]),t.jsx("input",{ref:s,type:"checkbox",checked:r,disabled:n,onChange:a,"aria-label":i})},tee=()=>{const{permissions:r,logout:e}=da(),n=Ka(),a=Tn(),[i,s]=xt.useState(!1),c=Yl(r,"ROLE_PERMISSIONS_MANAGE"),l=r.includes("*"),[u,o]=xt.useState([]),[h,d]=xt.useState(""),[A,f]=xt.useState([]),[g,m]=xt.useState([]),[x,y]=xt.useState(""),[b,w]=xt.useState(new Set),[S,N]=xt.useState(new Set),[C,O]=xt.useState(""),[W,K]=xt.useState(!0),[te,q]=xt.useState(!1),[Y,P]=xt.useState(null),[ce,$]=xt.useState(new Set),[R,se]=xt.useState(new Set),[fe,Te]=xt.useState("all");xt.useEffect(()=>{c||n("/dashboard",{replace:!0,state:{from:a}})},[c,n,a]),xt.useEffect(()=>{(async()=>{K(!0),P(null);try{const Ce=await Cj.listPermissions();if(m(Ce),l){const ue=await Ha.getAllCompanies(!0);o(ue),!h&&ue.length>0&&d(ue[0].id)}$(new Set)}catch(Ce){P((Ce==null?void 0:Ce.message)||"Failed to load roles/permissions")}finally{K(!1)}})()},[l]),xt.useEffect(()=>{const de=async()=>{if(l&&!h){f([]),y(""),w(new Set);return}P(null);try{const Ce=await Kp.getAllRoles(l?h:void 0,!1);f(Ce),x&&!Ce.some(ue=>ue.roleId===x)&&(y(""),w(new Set))}catch(Ce){f([]),y(""),w(new Set),P((Ce==null?void 0:Ce.message)||"Failed to load roles")}};c&&de()},[c,l,h]),xt.useEffect(()=>{(async()=>{if(!x){w(new Set),N(new Set);return}P(null);try{const Ce=await Cj.getRolePermissionCodes(x),ue=new Set(Ce);w(ue),N(new Set(ue))}catch(Ce){P((Ce==null?void 0:Ce.message)||"Failed to load role permissions")}})()},[x]);const Ie=xt.useMemo(()=>{const de=C.trim().toLowerCase();return de?g.filter(Ce=>`${Ce.moduleName} ${Ce.permissionCode} ${Ce.permissionName} ${Ce.description||""}`.toLowerCase().includes(de)):g},[g,C]),_e=xt.useMemo(()=>eee(Ie),[Ie]),Z=xt.useMemo(()=>{const de=new Map;for(const Ce of g)de.set(Ce.permissionCode,Ce);return de},[g]),Oe=xt.useMemo(()=>{const de=[];for(const Ce of Array.from(b)){const ue=Z.get(Ce);ue?de.push(ue):de.push({permissionId:Ce,permissionCode:Ce,permissionName:Ce,moduleName:"General",description:null,isActive:!0})}return de.sort((Ce,ue)=>{const $e=cv(Ce.moduleName).localeCompare(cv(ue.moduleName));return $e!==0?$e:String(Ce.permissionCode).localeCompare(String(ue.permissionCode))}),de},[b,Z]),ee=xt.useMemo(()=>{const de=new Map;for(const ue of Oe){const $e=cv(ue.moduleName);de.has($e)||de.set($e,[]),de.get($e).push(ue.permissionCode)}const Ce=Array.from(de.entries()).map(([ue,$e])=>($e.sort((it,Et)=>it.localeCompare(Et)),{moduleName:ue,codes:$e}));return Ce.sort((ue,$e)=>ue.moduleName.localeCompare($e.moduleName)),Ce},[Oe]),re=xt.useMemo(()=>{let de=0;for(const Ce of b)S.has(Ce)||de++;for(const Ce of S)b.has(Ce)||de++;return de},[b,S]),je=de=>{w(Ce=>{const ue=new Set(Ce),{selected:$e,total:it}=Nj(de,Ce),Et=$e!==it;for(const Ct of de)Et?ue.add(Ct):ue.delete(Ct);return ue})},Ne=de=>{w(Ce=>{const ue=new Set(Ce);for(const $e of de)ue.add($e);return ue})},ye=de=>{w(Ce=>{const ue=new Set(Ce);for(const $e of de)ue.delete($e);return ue})},me=(de,Ce,ue)=>fe==="all"?!0:fe==="enabled"?de>0:fe==="disabled"?de<Ce:fe==="partial"?de>0&&de<Ce:fe==="system"?ue:!0,ie=(de,Ce)=>fe==="all"?!0:fe==="enabled"?de:fe==="disabled"?!de:fe==="system"?Ce:!0,le=de=>{w(Ce=>{const ue=new Set(Ce);return ue.has(de)?ue.delete(de):ue.add(de),ue})},Ee=(de,Ce)=>{$(ue=>{const $e=new Set(ue);return Ce?$e.add(de):$e.delete(de),$e})},Re=(de,Ce)=>{se(ue=>{const $e=new Set(ue);return Ce?$e.add(de):$e.delete(de),$e})},Ue=async()=>{if(!x){P("Please select a role");return}q(!0),P(null);try{const de=Array.from(b).sort();await Cj.replaceRolePermissions(x,de),N(new Set(b))}catch(de){P((de==null?void 0:de.message)||"Failed to save permissions")}finally{q(!1)}};return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${i?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!i&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:()=>s(de=>!de),"aria-label":i?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:i?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),(()=>{const Ce=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:a.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:a.pathname==="/transaction"||a.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:a.pathname==="/finance"||a.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:a.pathname==="/commercial-agreements"||a.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:a.pathname==="/compliance-training"||a.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:a.pathname==="/master"||a.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:a.pathname.startsWith("/report")},{path:"/admin/dashboard-configuration",label:"Dashboard Configuration",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),active:a.pathname==="/admin/dashboard-configuration"||a.pathname.startsWith("/admin/dashboard-configuration")},{path:"/admin/permission-configuration",label:"Permission Configuration",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M12 1l3 5 5 .5-3.6 3.3 1.1 5.2L12 12.9 6.5 15l1.1-5.2L4 6.5 9 6z"}),t.jsx("path",{d:"M20 21v-7a2 2 0 0 0-2-2h-3"}),t.jsx("path",{d:"M4 21v-7a2 2 0 0 1 2-2h3"})]}),active:a.pathname==="/admin/permission-configuration"||a.pathname.startsWith("/admin/permission-configuration")}].filter(ue=>ue.path==="/dashboard"?!0:ue.path==="/transaction"?sa(r,"transaction"):ue.path==="/finance"?sa(r,"finance"):ue.path==="/commercial-agreements"?sa(r,"commercial"):ue.path==="/compliance-training"?sa(r,"compliance"):ue.path==="/master"?sa(r,"master"):ue.path==="/report"?sa(r,"report"):ue.path==="/admin/permission-configuration"?c:!0);return t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:Ce.map(ue=>t.jsx("li",{children:t.jsxs(Yr,{to:ue.path,className:`nav-link ${ue.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:ue.icon}),!i&&t.jsx("span",{className:"nav-label",children:ue.label})]})},ue.path))})})})(),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs(Yr,{to:"/profile",className:`sidebar-profile-btn ${a.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!i&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:e,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!i&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"MEDI-WASTE / Admin / Permission configuration"})})}),t.jsx("div",{className:"dashboard-page-content",style:{padding:"24px",overflowY:"auto",flex:1},children:t.jsxs("div",{className:"perm-config-page",children:[t.jsxs("div",{className:"perm-config-header",children:[t.jsxs("div",{children:[t.jsx("h1",{children:"Permission Configuration"}),t.jsxs("p",{children:["Assign permissions to roles (writes to existing ",t.jsx("code",{children:"role_permissions"})," table)"]})]}),t.jsxs("div",{className:"perm-config-save-wrap",children:[re>0?t.jsx("div",{className:"perm-config-unsaved",children:"Unsaved changes"}):null,t.jsx("button",{className:"perm-config-save",onClick:Ue,disabled:te||W||!x||re===0,title:re===0?"No changes to save":"Save role permissions",children:te?"Saving...":re>0?`Save changes (${re})`:"Saved"})]})]}),t.jsxs("div",{className:`perm-config-controls ${l?"perm-config-controls--company":""}`,children:[l?t.jsxs("div",{className:"perm-config-control",children:[t.jsx("label",{children:"Company"}),t.jsxs("select",{value:h,onChange:de=>{d(de.target.value),y(""),w(new Set),N(new Set)},children:[t.jsx("option",{value:"",children:"Select company..."}),u.map(de=>t.jsx("option",{value:de.id,children:de.companyName},de.id))]})]}):null,t.jsxs("div",{className:"perm-config-control",children:[t.jsx("label",{children:"Role"}),t.jsxs("select",{value:x,onChange:de=>y(de.target.value),children:[t.jsx("option",{value:"",children:"Select role..."}),A.length===0&&!W?t.jsx("option",{value:"",disabled:!0,children:"No roles found"}):null,A.map(de=>t.jsx("option",{value:de.roleId,children:de.roleName},de.roleId))]})]}),t.jsxs("div",{className:"perm-config-control perm-config-control--search",children:[t.jsx("label",{children:"Search"}),t.jsx("input",{value:C,onChange:de=>O(de.target.value),placeholder:"Search by menu / module / code / operation..."})]}),t.jsxs("div",{className:"perm-config-filters","aria-label":"Filters",children:[t.jsxs("div",{className:"perm-config-filters-left",children:[t.jsx("span",{className:"perm-config-filters-label",children:"Filter:"}),t.jsxs("div",{className:"perm-config-filter-pills",role:"tablist","aria-label":"Permission filters",children:[t.jsx("button",{type:"button",className:`perm-config-pill ${fe==="all"?"active":""}`,onClick:()=>Te("all"),children:"All"}),t.jsx("button",{type:"button",className:`perm-config-pill ${fe==="enabled"?"active":""}`,onClick:()=>Te("enabled"),children:"Enabled"}),t.jsx("button",{type:"button",className:`perm-config-pill ${fe==="partial"?"active":""}`,onClick:()=>Te("partial"),children:"Partial"}),t.jsx("button",{type:"button",className:`perm-config-pill ${fe==="disabled"?"active":""}`,onClick:()=>Te("disabled"),children:"Disabled"}),t.jsxs("button",{type:"button",className:`perm-config-pill ${fe==="system"?"active":""}`,onClick:()=>Te("system"),children:[t.jsx("span",{className:"legend-lock","aria-hidden":!0,children:""})," ","System"]})]})]}),t.jsx("button",{className:"perm-config-clear-link",type:"button",onClick:()=>w(new Set),disabled:W||te||!x,children:"Clear selection"})]})]}),Y&&t.jsx("div",{className:"perm-config-error",children:Y}),W?t.jsx("div",{className:"perm-config-loading",children:"Loading..."}):x?t.jsxs("div",{className:"perm-config-layout",children:[t.jsx("section",{className:"perm-config-tree",children:_e.length===0?t.jsx("div",{className:"perm-config-empty",children:"No permissions match your search."}):_e.map(de=>{const Ce=de.features.flatMap(Bt=>Bt.items.map(mr=>mr.permissionCode)),ue=Nj(Ce,b),$e=ue.total>0&&ue.selected===ue.total,it=ue.selected>0&&ue.selected<ue.total,Et=ce.has(de.moduleName),Ct=de.features.some(Bt=>Bt.items.some(mr=>mr.isActive===!1));return me(ue.selected,ue.total,Ct)?t.jsxs("div",{className:"module-card",children:[t.jsxs("div",{className:"module-card-header",children:[t.jsxs("div",{className:"module-card-left",children:[t.jsx(T8,{checked:$e,indeterminate:it,disabled:W||te,onChange:()=>je(Ce),ariaLabel:`Toggle module ${de.moduleName}`}),t.jsxs("div",{className:"module-card-title",children:[t.jsx("div",{className:"module-card-name",children:de.moduleName}),t.jsx("div",{className:"module-card-meta",children:Et?`${ue.selected} of ${ue.total} selected`:ue.selected>0?`${ue.selected} selected`:"Expand to view items"})]})]}),t.jsxs("div",{className:"module-card-right",children:[Et?t.jsxs("div",{className:"module-bulk-actions",children:[t.jsx("button",{type:"button",className:"perm-config-btn perm-config-btn--ghost perm-config-btn--tiny",onClick:()=>Ne(Ce),disabled:W||te||Ce.length===0,children:"Select all"}),t.jsx("button",{type:"button",className:"perm-config-btn perm-config-btn--ghost perm-config-btn--tiny",onClick:()=>ye(Ce),disabled:W||te||Ce.length===0,children:"Clear"})]}):null,t.jsx("button",{type:"button",className:"module-card-expander",onClick:()=>Ee(de.moduleName,!Et),"aria-label":Et?`Collapse ${de.moduleName}`:`Expand ${de.moduleName}`,children:Et?"":""})]})]}),Et?t.jsxs("div",{className:"module-card-body",children:[(()=>{const Bt=de.features.find(lr=>p1(lr.featureKey)===p1(de.moduleName));if(!Bt)return null;const mr=Bt.items;return!mr||mr.length===0?null:t.jsx("div",{className:"module-actions",children:mr.map(lr=>{const He=!!(W||te||lr.isActive===!1),$t=lr.isActive===!1,Nt=b.has(lr.permissionCode);return ie(Nt,$t)?t.jsxs("label",{className:`action-item module-action-item ${He?"action-item--disabled":""}`,title:lr.permissionCode,children:[t.jsx("input",{type:"checkbox",checked:Nt,onChange:()=>le(lr.permissionCode),disabled:He}),t.jsxs("span",{className:"action-text",children:[t.jsx("span",{className:"action-name",children:lr.permissionName||lr.action}),t.jsx("span",{className:"action-code",children:lr.permissionCode})]}),$t?t.jsx("span",{className:"action-lock","aria-label":"System permission",children:""}):null]},lr.permissionId):null})})})(),de.features.filter(Bt=>p1(Bt.featureKey)!==p1(de.moduleName)).map(Bt=>{const mr=`${de.moduleName}::${Bt.featureKey}`,lr=Bt.items.map(pr=>pr.permissionCode),He=Nj(lr,b),$t=He.total>0&&He.selected===He.total,Nt=He.selected>0&&He.selected<He.total,Dr=R.has(mr),vr=Bt.items.some(pr=>pr.isActive===!1);if(!me(He.selected,He.total,vr))return null;const an=I8(Bt.items.map(pr=>pr.permissionName)),Xr=I8(Bt.items.map(pr=>pr.description)),Qr=an.count>=2&&an.value?an.value:Bt.featureKey,Ir=Xr.count>=2&&Xr.value?Xr.value:"",hr=Qr!==Bt.featureKey;return t.jsxs("div",{className:"entity-section",children:[t.jsxs("div",{className:"entity-header",children:[t.jsxs("div",{className:"entity-header-left",children:[t.jsx(T8,{checked:$t,indeterminate:Nt,disabled:W||te,onChange:()=>je(lr),ariaLabel:`Toggle entity ${Qr}`}),t.jsxs("div",{className:"entity-title",children:[t.jsx("div",{className:"entity-name",children:Qr}),Ir?t.jsx("div",{className:"entity-desc",children:Ir}):null,t.jsx("div",{className:"entity-meta",children:`${He.selected} of ${He.total} selected`})]})]}),t.jsxs("div",{className:"entity-header-right",children:[t.jsxs("div",{className:"entity-bulk-actions","aria-label":"Entity bulk actions",children:[t.jsx("button",{type:"button",className:"perm-config-btn perm-config-btn--ghost perm-config-btn--tiny",onClick:()=>Ne(lr),disabled:W||te||lr.length===0,title:"Select all actions in this entity",children:"Select all"}),t.jsx("button",{type:"button",className:"perm-config-btn perm-config-btn--ghost perm-config-btn--tiny",onClick:()=>ye(lr),disabled:W||te||lr.length===0,title:"Clear all actions in this entity",children:"Clear"})]}),t.jsx("button",{type:"button",className:"entity-expander entity-expander--icon",onClick:()=>Re(mr,!Dr),"aria-label":Dr?`Collapse ${Qr}`:`Expand ${Qr}`,title:Dr?"Collapse":"Expand",children:Dr?"":""})]})]}),Dr?t.jsxs("div",{className:"entity-actions",children:[t.jsx("div",{className:`action-grid ${hr?"action-grid--chips":"action-grid--list"}`,children:Bt.items.filter(pr=>{const Lr=pr.isActive===!1,$r=b.has(pr.permissionCode);return ie($r,Lr)}).map(pr=>{const Lr=!!(W||te||pr.isActive===!1),$r=pr.isActive===!1,dn=b.has(pr.permissionCode);return t.jsxs("label",{className:`action-item ${hr?"action-item--chip":""} ${Lr?"action-item--disabled":""}`,title:pr.permissionCode,children:[t.jsx("input",{type:"checkbox",checked:dn,onChange:()=>le(pr.permissionCode),disabled:Lr}),hr?t.jsx("span",{className:"action-chip-label",children:String(pr.action||"").toUpperCase()}):t.jsxs("span",{className:"action-text",children:[t.jsx("span",{className:"action-name",children:pr.permissionName||pr.action}),t.jsx("span",{className:"action-code",children:pr.permissionCode})]}),$r?t.jsx("span",{className:"action-lock","aria-label":"System permission",children:""}):null]},pr.permissionId)})}),t.jsx("div",{className:"entity-footnote",children:Bt.items.length>0?t.jsx("span",{className:"muted",children:"Permission codes are saved exactly as-is."}):null})]}):null]},mr)})]}):null]},de.moduleName):null})}),t.jsxs("aside",{className:"perm-config-selected",children:[t.jsx("div",{className:"perm-config-selected-header",children:t.jsxs("div",{children:[t.jsx("div",{className:"perm-config-selected-title",children:"Selected permissions"}),t.jsxs("div",{className:"perm-config-selected-subtitle",children:[Oe.length," selected"]})]})}),Oe.length===0?t.jsxs("div",{className:"perm-config-selected-empty",children:[t.jsx("div",{className:"perm-config-selected-empty-icon","aria-hidden":!0,children:t.jsxs("svg",{width:"44",height:"44",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M12 2l7 4v6c0 5-3 9-7 10-4-1-7-5-7-10V6l7-4z"}),t.jsx("path",{d:"M9 12h6"}),t.jsx("path",{d:"M12 9v6"})]})}),t.jsx("div",{className:"perm-config-selected-empty-title",children:"No permissions selected"}),t.jsx("div",{className:"perm-config-selected-empty-subtitle",children:"Select permissions from the left tree (Module  Entity  Action). Your selection will appear here grouped by module."})]}):t.jsx("div",{className:"perm-config-selected-list",children:ee.map(de=>t.jsxs("div",{className:"selected-module-group",children:[t.jsxs("div",{className:"selected-module-header",children:[t.jsx("span",{className:"selected-module-name",children:de.moduleName}),t.jsx("span",{className:"selected-module-count",children:de.codes.length})]}),t.jsx("ul",{className:"selected-code-list",children:de.codes.map(Ce=>t.jsxs("li",{className:"selected-code-item",children:[t.jsx("code",{className:"selected-code",children:Ce}),t.jsx("button",{type:"button",className:"perm-config-btn perm-config-btn--ghost perm-config-btn--tiny",onClick:()=>le(Ce),"aria-label":`Remove ${Ce}`,children:"Remove"})]},Ce))})]},de.moduleName))})]})]}):t.jsx("div",{className:"perm-config-empty",children:"Select a role to view and assign permissions."})]})})]})]})};function nS(r,e){return(Array.isArray(r)?r:[]).includes("*")?[{path:"/admin/dashboard-configuration",label:"Dashboard Configuration",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),active:e==="/admin/dashboard-configuration"||e.startsWith("/admin/dashboard-configuration")},{path:"/admin/permission-configuration",label:"Permission Configuration",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M12 1l3 5 5 .5-3.6 3.3 1.1 5.2L12 12.9 6.5 15l1.1-5.2L4 6.5 9 6z"}),t.jsx("path",{d:"M20 21v-7a2 2 0 0 0-2-2h-3"}),t.jsx("path",{d:"M4 21v-7a2 2 0 0 1 2-2h3"})]}),active:e==="/admin/permission-configuration"||e.startsWith("/admin/permission-configuration")}]:[]}function us(r,e){return[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:e==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:e==="/transaction"||e.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:e==="/finance"||e.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:e==="/commercial-agreements"||e.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:e==="/compliance-training"||e.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:e==="/master"||e.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:e.startsWith("/report")},...nS(r,e)].filter(a=>a.path==="/dashboard"?sa(r,"dashboard"):a.path==="/transaction"?sa(r,"transaction"):a.path==="/finance"?sa(r,"finance"):a.path==="/commercial-agreements"?sa(r,"commercial"):a.path==="/compliance-training"?sa(r,"compliance"):a.path==="/master"?sa(r,"master"):a.path==="/report"?sa(r,"report"):!0)}function ree(){var h;const{logout:r,permissions:e,permissionsLoading:n,permissionsReady:a}=da(),i=Tn(),s=Ka(),c=(h=i.state)==null?void 0:h.from,[l,u]=xt.useState(!1),o=us(e,i.pathname);return xt.useEffect(()=>{n||!a||(Array.isArray(e)?e:[]).length===0||(!c||c==="/dashboard")&&s("/dashboard",{replace:!0})},[c,s,e,n,a]),!n&&a&&(Array.isArray(e)?e:[]).length>0&&(!c||c==="/dashboard")?t.jsx(Jp,{to:"/dashboard",replace:!0}):t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${l?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!l&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:()=>u(d=>!d),"aria-label":l?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:l?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:o.map(d=>t.jsx("li",{children:t.jsxs(Yr,{to:d.path,className:`nav-link ${d.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:d.icon}),!l&&t.jsx("span",{className:"nav-label",children:d.label})]})},d.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs(Yr,{to:"/profile",className:`sidebar-profile-btn ${i.pathname==="/profile"?"sidebar-profile-btn--active":""}`,children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!l&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!l&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Not Authorized"})})}),t.jsx("div",{className:"dashboard-page-content",style:{padding:"24px",overflowY:"auto",flex:1},children:t.jsx("div",{className:"not-auth-page",children:t.jsxs("div",{className:"not-auth-card",children:[t.jsx("div",{className:"not-auth-title",children:"Not authorized"}),t.jsx("div",{className:"not-auth-subtitle",children:"You dont have permission to access this page."}),t.jsxs("div",{className:"not-auth-meta",children:[t.jsx("div",{className:"not-auth-meta-label",children:"Requested"}),t.jsx("div",{className:"not-auth-meta-value",children:c||i.pathname})]}),t.jsx("div",{className:"not-auth-actions",children:t.jsx(Yr,{className:"not-auth-btn not-auth-btn--primary",to:"/dashboard",children:"Go to Dashboard"})})]})})})]})]})}const nee=()=>{const{logout:r,permissions:e}=da(),n=Tn(),[a,i]=k.useState(""),[s,c]=k.useState(!1),l=()=>{c(!s)},o=[{id:"route-assignment",title:"Route Assignment",description:"Assign routes to vehicles and drivers",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),t.jsx("circle",{cx:"12",cy:"10",r:"3"}),t.jsx("path",{d:"M12 13l-2-2"}),t.jsx("path",{d:"M12 13l2-2"})]}),path:"/transaction/route-assignment"},{id:"barcode-generation",title:"Barcode Generation",description:"Generate and manage barcodes for waste containers",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"3",y:"4",width:"18",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"7",y1:"8",x2:"7",y2:"16"}),t.jsx("line",{x1:"11",y1:"8",x2:"11",y2:"16"}),t.jsx("line",{x1:"15",y1:"8",x2:"15",y2:"16"}),t.jsx("line",{x1:"19",y1:"8",x2:"19",y2:"16"})]}),path:"/transaction/barcode-generation"},{id:"waste-collection",title:"Waste Collection",description:"Record and manage waste collection transactions",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),path:"/transaction/waste-collection"},{id:"waste-transaction-data",title:"Waste Transaction Data",description:"View and manage all waste transaction records",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"}),t.jsx("line",{x1:"8",y1:"4",x2:"8",y2:"24"})]}),path:"/transaction/waste-transaction-data"},{id:"vehicle-wise-waste-collection",title:"Vehicle-Wise Waste Collection",description:"Track waste collection by vehicle",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),t.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]}),path:"/transaction/vehicle-wise-waste-collection"},{id:"waste-processing",title:"Waste Processing",description:"Manage daily plant operations for incineration and autoclave",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("path",{d:"M12 6v6l4 2"})]}),path:"/transaction/waste-processing"}].filter(g=>g.title.toLowerCase().includes(a.toLowerCase())||g.description.toLowerCase().includes(a.toLowerCase())),h=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:n.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:n.pathname==="/transaction"||n.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:n.pathname==="/finance"||n.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname==="/commercial-agreements"||n.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:n.pathname==="/compliance-training"||n.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:n.pathname==="/master"||n.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname.startsWith("/report")},...Array.isArray(e)&&e.includes("*")?[{path:"/admin/dashboard-configuration",label:"Dashboard Configuration",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),active:n.pathname==="/admin/dashboard-configuration"||n.pathname.startsWith("/admin/dashboard-configuration")},{path:"/admin/permission-configuration",label:"Permission Configuration",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M12 1l3 5 5 .5-3.6 3.3 1.1 5.2L12 12.9 6.5 15l1.1-5.2L4 6.5 9 6z"}),t.jsx("path",{d:"M20 21v-7a2 2 0 0 0-2-2h-3"}),t.jsx("path",{d:"M4 21v-7a2 2 0 0 1 2-2h3"})]}),active:n.pathname==="/admin/permission-configuration"||n.pathname.startsWith("/admin/permission-configuration")}]:[]],d={"route-assignment":"ROUTE_ASSIGNMENT_VIEW","barcode-generation":"BARCODE_LABEL_VIEW","waste-collection":"WASTE_COLLECTION_VIEW","waste-transaction-data":"WASTE_TRANSACTION_VIEW","vehicle-wise-waste-collection":"VEHICLE_WASTE_COLLECTION_VIEW","waste-processing":"WASTE_PROCESS_VIEW"},A=g=>{const m=Array.isArray(e)?e:[];if(m.includes("*"))return!0;const x=d[g];return x?Yl(m,x):!1},f=h.filter(g=>g.path==="/dashboard"?sa(e,"dashboard"):g.path==="/transaction"?sa(e,"transaction"):g.path==="/finance"?sa(e,"finance"):g.path==="/commercial-agreements"?sa(e,"commercial"):g.path==="/compliance-training"?sa(e,"compliance"):g.path==="/master"?sa(e,"master"):g.path==="/report"?sa(e,"report"):!0);return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${s?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!s&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:l,"aria-label":s?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:f.map(g=>t.jsx("li",{children:t.jsxs(Yr,{to:g.path,className:`nav-link ${g.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:g.icon}),!s&&t.jsx("span",{className:"nav-label",children:g.label})]})},g.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Yr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!s&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!s&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Dashboard / Transaction"})})}),t.jsxs("div",{className:"master-page",children:[t.jsx("div",{className:"master-header",children:t.jsxs("div",{className:"master-title-section",children:[t.jsx("h1",{className:"master-title",children:"Transaction"}),t.jsx("p",{className:"master-subtitle",children:"Manage your transactions at one place"})]})}),t.jsx("div",{className:"master-search-section",children:t.jsxs("div",{className:"master-search-box",children:[t.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:a,onChange:g=>i(g.target.value)})]})}),t.jsxs("div",{className:"master-grid",children:[o.filter(g=>A(g.id)).map(g=>t.jsxs(Yr,{to:g.path,className:"master-card",children:[t.jsx("div",{className:"master-card-icon",children:g.icon}),t.jsx("h3",{className:"master-card-title",children:g.title}),t.jsx("p",{className:"master-card-description",children:g.description})]},g.id)),o.filter(g=>A(g.id)).length===0?t.jsx("div",{style:{color:"#64748b",fontSize:13,padding:"8px 4px"},children:"No transaction modules available for your permissions."}):null]})]})]})]})},aee=()=>{const{logout:r,permissions:e}=da(),n=Tn(),[a,i]=k.useState(""),[s,c]=k.useState(!1),l=()=>{c(!s)},u=[{id:"invoice-management",title:"Invoice Management",description:"Create, manage and track invoices",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/finance/invoice-management"},{id:"receipt-management",title:"Receipt Management",description:"Generate and manage payment receipts",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),path:"/finance/receipt-management"},{id:"financial-balance-summary",title:"Financial Balance Summary",description:"View financial balance and summary reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),path:"/finance/financial-balance-summary"}],o={"invoice-management":["INVOICE_VIEW","INVOICE_CREATE","INVOICE_UPDATE","INVOICE_DELETE"],"receipt-management":["INVOICE_VIEW","INVOICE_CREATE"],"financial-balance-summary":["INVOICE_VIEW","INVOICE_CREATE"]},h=f=>{const g=Array.isArray(e)?e:[];return g.includes("*")?!0:(o[f]||[]).some(x=>Yl(g,x))},d=u.filter(f=>h(f.id)).filter(f=>f.title.toLowerCase().includes(a.toLowerCase())||f.description.toLowerCase().includes(a.toLowerCase())),A=us(e,n.pathname);return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${s?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!s&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:l,"aria-label":s?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:A.map(f=>t.jsx("li",{children:t.jsxs(Yr,{to:f.path,className:`nav-link ${f.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:f.icon}),!s&&t.jsx("span",{className:"nav-label",children:f.label})]})},f.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Yr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!s&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!s&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Dashboard / Finance"})})}),t.jsxs("div",{className:"master-page",children:[t.jsx("div",{className:"master-header",children:t.jsxs("div",{className:"master-title-section",children:[t.jsx("h1",{className:"master-title",children:"Finance"}),t.jsx("p",{className:"master-subtitle",children:"Manage your financial operations at one place"})]})}),t.jsx("div",{className:"master-search-section",children:t.jsxs("div",{className:"master-search-box",children:[t.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:a,onChange:f=>i(f.target.value)})]})}),t.jsx("div",{className:"master-grid",children:d.length===0?t.jsx("div",{style:{color:"#64748b",fontSize:13,padding:"8px 4px"},children:"No finance modules available for your permissions."}):d.map(f=>t.jsxs(Yr,{to:f.path,className:"master-card",children:[t.jsx("div",{className:"master-card-icon",children:f.icon}),t.jsx("h3",{className:"master-card-title",children:f.title}),t.jsx("p",{className:"master-card-description",children:f.description})]},f.id))})]})]})]})},iee=()=>{const{logout:r,permissions:e}=da(),n=Tn(),[a,i]=k.useState(""),[s,c]=k.useState(!1),l=()=>{c(!s)},u=[{id:"contract-master",title:"Contract Master",description:"Manage contracts and commercial line items",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),path:"/commercial-agreements/contract-master"},{id:"agreement",title:"Agreement Management",description:"Generate and manage agreement documents",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),path:"/commercial-agreements/agreement"},{id:"agreement-clause",title:"Agreement Clause Management",description:"Manage legal clauses for agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/commercial-agreements/agreement-clause"}],o={"contract-master":["CONTRACT_VIEW","CONTRACT_CREATE","CONTRACT_EDIT","CONTRACT_DELETE"],agreement:["AGREEMENT_VIEW","AGREEMENT_CREATE","AGREEMENT_EDIT","AGREEMENT_DELETE"],"agreement-clause":["AGREEMENT_CLAUSE_VIEW","AGREEMENT_CLAUSE_CREATE","AGREEMENT_CLAUSE_EDIT","AGREEMENT_CLAUSE_DELETE"]},h=f=>{const g=Array.isArray(e)?e:[];return g.includes("*")?!0:(o[f]||[]).some(x=>Yl(g,x))},d=u.filter(f=>h(f.id)).filter(f=>f.title.toLowerCase().includes(a.toLowerCase())||f.description.toLowerCase().includes(a.toLowerCase())),A=us(e,n.pathname);return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${s?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!s&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:l,"aria-label":s?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:A.map(f=>t.jsx("li",{children:t.jsxs(Yr,{to:f.path,className:`nav-link ${f.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:f.icon}),!s&&t.jsx("span",{className:"nav-label",children:f.label})]})},f.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Yr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!s&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!s&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Dashboard / Commercial / Agreements"})})}),t.jsxs("div",{className:"master-page",children:[t.jsx("div",{className:"master-header",children:t.jsxs("div",{className:"master-title-section",children:[t.jsx("h1",{className:"master-title",children:"Commercial / Agreements"}),t.jsx("p",{className:"master-subtitle",children:"Manage your commercial agreements at one place"})]})}),t.jsx("div",{className:"master-search-section",children:t.jsxs("div",{className:"master-search-box",children:[t.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:a,onChange:f=>i(f.target.value)})]})}),t.jsx("div",{className:"master-grid",children:d.length===0?t.jsx("div",{style:{color:"#64748b",fontSize:13,padding:"8px 4px"},children:"No commercial modules available for your permissions."}):d.map(f=>t.jsxs(Yr,{to:f.path,className:"master-card",children:[t.jsx("div",{className:"master-card-icon",children:f.icon}),t.jsx("h3",{className:"master-card-title",children:f.title}),t.jsx("p",{className:"master-card-description",children:f.description})]},f.id))})]})]})]})},see=()=>{const{logout:r,permissions:e}=da(),n=Tn(),[a,i]=k.useState(""),[s,c]=k.useState(!1),l=()=>{c(!s)},u=[{id:"training-certificate-management",title:"Training Certificate Management",description:"Manage training certificates and certifications",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),path:"/compliance-training/training-certificate-management"}],o={"training-certificate-management":["TRAINING_CERTIFICATE_VIEW","TRAINING_CERTIFICATE_CREATE","TRAINING_CERTIFICATE_EDIT","TRAINING_CERTIFICATE_DELETE"]},h=f=>{const g=Array.isArray(e)?e:[];return g.includes("*")?!0:(o[f]||[]).some(x=>Yl(g,x))},d=u.filter(f=>h(f.id)).filter(f=>f.title.toLowerCase().includes(a.toLowerCase())||f.description.toLowerCase().includes(a.toLowerCase())),A=us(e,n.pathname);return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${s?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!s&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:l,"aria-label":s?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:A.map(f=>t.jsx("li",{children:t.jsxs(Yr,{to:f.path,className:`nav-link ${f.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:f.icon}),!s&&t.jsx("span",{className:"nav-label",children:f.label})]})},f.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Yr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!s&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!s&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Dashboard / Compliance & Training"})})}),t.jsxs("div",{className:"master-page",children:[t.jsx("div",{className:"master-header",children:t.jsxs("div",{className:"master-title-section",children:[t.jsx("h1",{className:"master-title",children:"Compliance & Training"}),t.jsx("p",{className:"master-subtitle",children:"Manage your compliance and training at one place"})]})}),t.jsx("div",{className:"master-search-section",children:t.jsxs("div",{className:"master-search-box",children:[t.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:a,onChange:f=>i(f.target.value)})]})}),t.jsx("div",{className:"master-grid",children:d.length===0?t.jsx("div",{style:{color:"#64748b",fontSize:13,padding:"8px 4px"},children:"No compliance modules available for your permissions."}):d.map(f=>t.jsxs(Yr,{to:f.path,className:"master-card",children:[t.jsx("div",{className:"master-card-icon",children:f.icon}),t.jsx("h3",{className:"master-card-title",children:f.title}),t.jsx("p",{className:"master-card-description",children:f.description})]},f.id))})]})]})]})},oee=()=>{const{logout:r,permissions:e}=da(),n=Tn(),[a,i]=k.useState(""),[s,c]=k.useState(!1),l=()=>{c(!s)},o=[{id:"company",title:"Company Master",description:"Manage company information and details",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),path:"/master/company"},{id:"state",title:"State Master",description:"Manage state information and regions",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),t.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),path:"/master/state"},{id:"area",title:"Area Master",description:"Manage area and zone information",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),t.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"}),t.jsx("line",{x1:"15",y1:"3",x2:"15",y2:"21"}),t.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),t.jsx("line",{x1:"3",y1:"15",x2:"21",y2:"15"})]}),path:"/master/area"},{id:"category",title:"Category Master",description:"Organize items into categories",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"2",x2:"12",y2:"22"}),t.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"})]}),path:"/master/category"},{id:"color-code",title:"Color Code Master",description:"Manage color coding standards",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor"}),t.jsx("circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor"}),t.jsx("circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor"}),t.jsx("circle",{cx:"11.5",cy:"11.5",r:".5",fill:"currentColor"}),t.jsx("path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.7-.5-1.125-.5-.437 0-.835.19-1.125.5-.289.29-.5.7-.5 1.125 0 .942-.722 1.688-1.648 1.688-3.866 0-7-3.134-7-7s3.134-7 7-7 7 3.134 7 7c0 .437-.19.835-.5 1.125-.29.29-.7.5-1.125.5-.437 0-.835-.19-1.125-.5-.29-.29-.5-.7-.5-1.125 0-.942.722-1.688 1.648-1.688.437 0 .835.19 1.125.5.29.29.5.7.5 1.125 0 .942.722 1.688 1.648 1.688C17.254 22 18 21.254 18 20.328c0-.437-.19-.835-.5-1.125-.29-.29-.7-.5-1.125-.5-.437 0-.835.19-1.125.5-.29.29-.5.7-.5 1.125 0 .942-.722 1.688-1.648 1.688"})]}),path:"/master/color-code"},{id:"pcb-zone",title:"PCB Zone Master",description:"Manage PCB zone configurations",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),t.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),t.jsx("circle",{cx:"15.5",cy:"8.5",r:"1.5"}),t.jsx("circle",{cx:"8.5",cy:"15.5",r:"1.5"}),t.jsx("circle",{cx:"15.5",cy:"15.5",r:"1.5"})]}),path:"/master/pcb-zone"},{id:"frequency",title:"Frequency Master",description:"Manage frequency settings and schedules",icon:t.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"22 12 18 12 15 21 9 3 6 12 2 12"})}),path:"/master/frequency"},{id:"hcf-type",title:"HCF Type Master",description:"Manage Healthcare Facility types",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),path:"/master/hcf-type"},{id:"user-management",title:"User Management",description:"Control user access and permissions",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"9",cy:"7",r:"4"}),t.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),t.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),path:"/master/user-management"},{id:"hcf-master",title:"HCF Master",description:"Manage Healthcare Facility information",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),path:"/master/hcf-master"},{id:"hcf-amendments",title:"HCF Amendments",description:"Manage Healthcare Facility amendments",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),path:"/master/hcf-amendments"},{id:"fleet-management",title:"Fleet Management",description:"Manage vehicle fleet and logistics",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),t.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]}),path:"/master/fleet-management"},{id:"route-master",title:"Route Master",description:"Manage routes and pathways",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("polyline",{points:"12 6 12 12 16 14"})]}),path:"/master/route"},{id:"route-hcf-mapping",title:"RouteHCF Mapping",description:"Map routes to Healthcare Facilities",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),t.jsx("circle",{cx:"12",cy:"10",r:"3"}),t.jsx("path",{d:"M12 13l-2-2"}),t.jsx("path",{d:"M12 13l2-2"})]}),path:"/master/route-hcf-mapping"}].filter(g=>g.title.toLowerCase().includes(a.toLowerCase())||g.description.toLowerCase().includes(a.toLowerCase())),h=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:n.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:n.pathname==="/transaction"||n.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:n.pathname==="/finance"||n.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname==="/commercial-agreements"||n.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:n.pathname==="/compliance-training"||n.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:n.pathname==="/master"||n.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname.startsWith("/report")},...Array.isArray(e)&&e.includes("*")?[{path:"/admin/dashboard-configuration",label:"Dashboard Configuration",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),active:n.pathname==="/admin/dashboard-configuration"||n.pathname.startsWith("/admin/dashboard-configuration")},{path:"/admin/permission-configuration",label:"Permission Configuration",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M12 1l3 5 5 .5-3.6 3.3 1.1 5.2L12 12.9 6.5 15l1.1-5.2L4 6.5 9 6z"}),t.jsx("path",{d:"M20 21v-7a2 2 0 0 0-2-2h-3"}),t.jsx("path",{d:"M4 21v-7a2 2 0 0 1 2-2h3"})]}),active:n.pathname==="/admin/permission-configuration"||n.pathname.startsWith("/admin/permission-configuration")}]:[]],d={company:"COMPANY_VIEW",state:"STATE_VIEW",area:"AREA_VIEW",category:"CATEGORY_VIEW","color-code":"COLOR_VIEW","pcb-zone":"PCB_ZONE_VIEW",frequency:"FREQUENCY_VIEW","hcf-type":"HCF_TYPE_VIEW","user-management":"USER_VIEW","hcf-master":"HCF_VIEW","hcf-amendments":"HCF_AMENDMENT_VIEW","fleet-management":"FLEET_VIEW","route-master":"ROUTE_VIEW","route-hcf-mapping":"ROUTE_HCF_VIEW"},A=g=>{const m=Array.isArray(e)?e:[];if(m.includes("*"))return!0;const x=d[g];return x?Yl(m,x):!1},f=h.filter(g=>g.path==="/dashboard"?sa(e,"dashboard"):g.path==="/transaction"?sa(e,"transaction"):g.path==="/finance"?sa(e,"finance"):g.path==="/commercial-agreements"?sa(e,"commercial"):g.path==="/compliance-training"?sa(e,"compliance"):g.path==="/master"?sa(e,"master"):g.path==="/report"?sa(e,"report"):!0);return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${s?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!s&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:l,"aria-label":s?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:f.map(g=>t.jsx("li",{children:t.jsxs(Yr,{to:g.path,className:`nav-link ${g.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:g.icon}),!s&&t.jsx("span",{className:"nav-label",children:g.label})]})},g.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Yr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!s&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!s&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Dashboard / Masters"})})}),t.jsxs("div",{className:"master-page",children:[t.jsx("div",{className:"master-header",children:t.jsxs("div",{className:"master-title-section",children:[t.jsx("h1",{className:"master-title",children:"Masters"}),t.jsx("p",{className:"master-subtitle",children:"Manage your data at one place"})]})}),t.jsx("div",{className:"master-search-section",children:t.jsxs("div",{className:"master-search-box",children:[t.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:a,onChange:g=>i(g.target.value)})]})}),t.jsxs("div",{className:"master-grid",children:[o.filter(g=>A(g.id)).map(g=>t.jsxs(Yr,{to:g.path,className:"master-card",children:[t.jsx("div",{className:"master-card-icon",children:g.icon}),t.jsx("h3",{className:"master-card-title",children:g.title}),t.jsx("p",{className:"master-card-description",children:g.description})]},g.id)),o.filter(g=>A(g.id)).length===0?t.jsx("div",{style:{color:"#64748b",fontSize:13,padding:"8px 4px"},children:"No master modules available for your permissions."}):null]})]})]})]})};function ly({data:r,columns:e,onEdit:n,onDelete:a,onRowClick:i,getId:s,emptyMessage:c="No data available"}){return t.jsx("div",{className:"data-table-container",children:t.jsxs("table",{className:"data-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[e.map(l=>t.jsx("th",{style:{minWidth:l.minWidth?`${l.minWidth}px`:"auto"},children:l.label},l.key)),(n||a)&&t.jsx("th",{className:"col-actions",children:"Actions"})]})}),t.jsx("tbody",{children:r.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:e.length+(n||a?1:0),className:"empty-state",children:c})}):r.map(l=>t.jsxs("tr",{onClick:()=>i&&i(l),style:{cursor:i?"pointer":"default"},className:i?"data-table-row-clickable":"",children:[e.map(u=>t.jsx("td",{className:u.allowWrap?"allow-wrap":"",onClick:o=>{o.target.closest(".action-btn")&&o.stopPropagation()},children:u.render?u.render(l):l[u.key]||"-"},u.key)),(n||a)&&t.jsxs("td",{onClick:u=>u.stopPropagation(),children:[n&&t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>n(l),title:"Edit",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),a&&t.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>a(s(l)),title:"Delete",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},s(l)))})]})})}function vp({title:r,breadcrumb:e,data:n,filteredData:a,columns:i,searchQuery:s,onSearchChange:c,onAdd:l,onEdit:u,onDelete:o,getId:h,addButtonLabel:d="Add",emptyMessage:A,children:f,createPermissions:g,editPermissions:m,deletePermissions:x,showAddButton:y}){const{permissions:b}=da(),w=Array.isArray(b)?b:[],S=W=>!W||W.length===0?!1:W.some(K=>Yl(w,K)),N=y!==void 0?y:S(g),C=S(m),O=S(x);return t.jsxs("div",{className:"master-page-layout",children:[t.jsx("div",{className:"master-page-header",children:t.jsx("h1",{className:"master-page-title",children:r})}),f&&t.jsx("div",{className:"master-page-content",children:f}),t.jsxs("div",{className:"master-page-actions",children:[t.jsxs("div",{className:"master-search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:s,onChange:W=>c(W.target.value)})]}),N&&t.jsxs("button",{className:"add-item-btn",onClick:l,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),d]})]}),t.jsx(ly,{data:a,columns:i,onEdit:C?u:void 0,onDelete:O?o:void 0,getId:h,emptyMessage:A}),t.jsxs("div",{className:"master-pagination-info",children:["Showing ",a.length," of ",n.length," Items"]})]})}function xp({tabs:r,activeTab:e,onTabChange:n}){return t.jsx("div",{className:"tabs-container",children:r.map(a=>t.jsx("button",{className:`tab-button ${e===a.id?"tab-button--active":""}`,onClick:()=>n(a.id),children:a.label},a.id))})}const lee=()=>{const{logout:r,permissions:e}=da(),n=Tn(),[a,i]=k.useState(!1),s=()=>{i(!a)},c=Ka(),[l,u]=k.useState(""),[o,h]=k.useState("list"),[d,A]=k.useState(!1),[f,g]=k.useState(null),[m,x]=k.useState(!1),[y,b]=k.useState(null),[w]=k.useState([{id:"1",stateCode:"MH",stateName:"Maharashtra",status:"Active"},{id:"2",stateCode:"DL",stateName:"Delhi",status:"Active"},{id:"3",stateCode:"KA",stateName:"Karnataka",status:"Active"},{id:"4",stateCode:"TN",stateName:"Tamil Nadu",status:"Active"},{id:"5",stateCode:"GJ",stateName:"Gujarat",status:"Active"}]),[S]=k.useState([{id:"1",pcbZoneName:"Zone A",pcbZoneAddress:"123 Industrial Area, Mumbai",contactNum:"+91-9876543210",contactEmail:"zonea@example.com",alertEmail:"alert.zonea@example.com",status:"Active"},{id:"2",pcbZoneName:"Zone B",pcbZoneAddress:"456 Commercial Street, Delhi",contactNum:"+91-9876543211",contactEmail:"zoneb@example.com",alertEmail:"alert.zoneb@example.com",status:"Active"},{id:"3",pcbZoneName:"Zone C",pcbZoneAddress:"789 Business Park, Bangalore",contactNum:"+91-9876543212",contactEmail:"zonec@example.com",alertEmail:"alert.zonec@example.com",status:"Active"}]),[N,C]=k.useState([]),O=R=>({id:R.id,companyCode:R.companyCode,companyName:R.companyName,regdOfficeAddress:"",adminOfficeAddress:"",factoryAddress:"",gstin:"",state:"",pincode:"",prefix:"",authPersonName:"",authPersonDesignation:"",authPersonDOB:"",pcbauthNum:"",ctoWaterNum:"",ctoWaterDate:"",ctoWaterValidUpto:"",ctoAirNum:"",ctoAirDate:"",ctoAirValidUpto:"",cteWaterNum:"",cteWaterDate:"",cteWaterValidUpto:"",cteAirNum:"",cteAirDate:"",cteAirValidUpto:"",hazardousWasteNum:"",pcbZoneID:"",gstValidFrom:"",gstRate:"",status:R.status,createdBy:R.createdBy||"System",createdOn:R.createdOn,modifiedBy:R.modifiedBy||"System",modifiedOn:R.modifiedOn}),W=async()=>{x(!0),b(null);try{const se=(await Ha.getAllCompanies(!0)).map(fe=>O(fe));C(se)}catch(R){const se=R.message||"Failed to load companies";if(console.error("Error loading companies:",R),se.includes("not authenticated")||se.includes("Unauthorized")||se.includes("401")||se.includes("403")||(R==null?void 0:R.status)===401||(R==null?void 0:R.status)===403){localStorage.removeItem("mw-auth-user"),c("/login",{replace:!0});return}b(se)}finally{x(!1)}};k.useEffect(()=>{W()},[]);const K=us(e,n.pathname),te=N.filter(R=>{const se=l.toLowerCase();return(R.companyName||"").toLowerCase().includes(se)||(R.companyCode||"").toLowerCase().includes(se)||(R.gstin||"").toLowerCase().includes(se)}),q=()=>{g(null),A(!0)},Y=R=>{g(R),A(!0)},P=async R=>{if(window.confirm("Are you sure you want to delete this company?")){x(!0),b(null);try{await Ha.deleteCompany(R),await W()}catch(se){b(se.message||"Failed to delete company"),console.error("Error deleting company:",se)}finally{x(!1)}}},ce=async R=>{x(!0),b(null);try{if(f){const se={companyCode:R.companyCode,companyName:R.companyName,status:R.status};await Ha.updateCompany(f.id,se)}else{if(!R.companyCode||!R.companyName)throw new Error("Company Code and Company Name are required");const se={companyCode:R.companyCode,companyName:R.companyName};await Ha.createCompany(se)}await W(),A(!1),g(null)}catch(se){const fe=se.message||"Failed to save company";b(fe),console.error("Error saving company:",se),(fe.includes("403")||fe.includes("401")||fe.includes("Unauthorized"))&&b("Authentication failed. Please login again.")}finally{x(!1)}},$=[{key:"companyCode",label:"Code",minWidth:110},{key:"companyName",label:"Company Name",minWidth:150,allowWrap:!0},{key:"gstin",label:"GSTIN",minWidth:130},{key:"state",label:"State",minWidth:120},{key:"pcbauthNum",label:"PCB Auth #",minWidth:110},{key:"ctoWaterNum",label:"CTO Water #",minWidth:120},{key:"ctoWaterDate",label:"CTO Wtr Date",minWidth:130},{key:"ctoWaterValidUpto",label:"CTO Wtr Valid To",minWidth:150},{key:"ctoAirNum",label:"CTO Air #",minWidth:110},{key:"ctoAirDate",label:"CTO Air Date",minWidth:130},{key:"ctoAirValidUpto",label:"CTO Air Valid To",minWidth:150},{key:"cteWaterNum",label:"CTE Water #",minWidth:120},{key:"cteWaterDate",label:"CTE Wtr Date",minWidth:130},{key:"cteWaterValidUpto",label:"CTE Wtr Valid To",minWidth:150},{key:"cteAirNum",label:"CTE Air #",minWidth:110},{key:"cteAirDate",label:"CTE Air Date",minWidth:130},{key:"cteAirValidUpto",label:"CTE Air Valid To",minWidth:150},{key:"hazardousWasteNum",label:"Haz Waste #",minWidth:140},{key:"pcbZoneID",label:"PCB Zone",minWidth:110},{key:"gstValidFrom",label:"GST From",minWidth:130},{key:"gstRate",label:"GST Rate",minWidth:100},{key:"status",label:"Status",minWidth:90,render:R=>t.jsx("span",{className:`status-badge status-badge--${R.status.toLowerCase()}`,children:R.status})}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${a?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!a&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:s,"aria-label":a?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:a?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:K.map(R=>t.jsx("li",{children:t.jsxs(Yr,{to:R.path,className:`nav-link ${R.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:R.icon}),!a&&t.jsx("span",{className:"nav-label",children:R.label})]})},R.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Yr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!a&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!a&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / Company Master"})})}),y&&t.jsxs("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("span",{children:y}),t.jsx("button",{onClick:()=>b(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px"},children:""})]}),m&&t.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#666"},children:"Loading..."}),t.jsx(vp,{title:"Company Master",breadcrumb:"/ Masters / Company Master",data:N,filteredData:te,columns:$,searchQuery:l,onSearchChange:u,onAdd:q,onEdit:Y,onDelete:P,getId:R=>R.id,addButtonLabel:"Add Company",createPermissions:["COMPANY_CREATE","COMPANY.CREATE"],editPermissions:["COMPANY_EDIT","COMPANY.EDIT","COMPANY_UPDATE","COMPANY.UPDATE"],deletePermissions:["COMPANY_DELETE","COMPANY.DELETE"],children:t.jsx(xp,{tabs:[{id:"list",label:"Company List"}],activeTab:o,onTabChange:R=>h(R)})})]}),d&&t.jsx(cee,{company:f,states:w.filter(R=>R.status==="Active"),pcbZones:S.filter(R=>R.status==="Active"),loading:m,onClose:()=>{A(!1),g(null)},onSave:ce})]})},cee=({company:r,states:e,pcbZones:n,loading:a=!1,onClose:i,onSave:s})=>{const[c,l]=k.useState(r||{companyCode:"",companyName:"",regdOfficeAddress:"",adminOfficeAddress:"",factoryAddress:"",gstin:"",state:"",pincode:"",prefix:"",authPersonName:"",authPersonDesignation:"",authPersonDOB:"",pcbauthNum:"",ctoWaterNum:"",ctoWaterDate:"",ctoWaterValidUpto:"",ctoAirNum:"",ctoAirDate:"",ctoAirValidUpto:"",cteWaterNum:"",cteWaterDate:"",cteWaterValidUpto:"",cteAirNum:"",cteAirDate:"",cteAirValidUpto:"",hazardousWasteNum:"",pcbZoneID:"",gstValidFrom:"",gstRate:"",status:"Active"}),u=o=>{o.preventDefault(),s(c)};return t.jsx("div",{className:"modal-overlay",onClick:i,children:t.jsxs("div",{className:"modal-content",onClick:o=>o.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Company":"Add Company"}),t.jsx("button",{className:"modal-close-btn",onClick:i,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"company-form",onSubmit:u,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Basic Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company Code *"}),t.jsx("input",{type:"text",value:c.companyCode||"",onChange:o=>l({...c,companyCode:o.target.value}),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company Name *"}),t.jsx("input",{type:"text",value:c.companyName||"",onChange:o=>l({...c,companyName:o.target.value}),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"GSTIN *"}),t.jsx("input",{type:"text",value:c.gstin||"",onChange:o=>l({...c,gstin:o.target.value}),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"State *"}),t.jsxs("select",{value:c.state||"",onChange:o=>l({...c,state:o.target.value}),required:!0,children:[t.jsx("option",{value:"",children:"Select State"}),e.map(o=>t.jsx("option",{value:o.stateCode,children:o.stateCode},o.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Pincode"}),t.jsx("input",{type:"text",value:c.pincode||"",onChange:o=>l({...c,pincode:o.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Prefix"}),t.jsx("input",{type:"text",value:c.prefix||"",onChange:o=>l({...c,prefix:o.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Addresses"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group form-group--full",children:[t.jsx("label",{children:"Registered Office Address"}),t.jsx("textarea",{value:c.regdOfficeAddress||"",onChange:o=>l({...c,regdOfficeAddress:o.target.value}),rows:3})]}),t.jsxs("div",{className:"form-group form-group--full",children:[t.jsx("label",{children:"Admin Office Address"}),t.jsx("textarea",{value:c.adminOfficeAddress||"",onChange:o=>l({...c,adminOfficeAddress:o.target.value}),rows:3})]}),t.jsxs("div",{className:"form-group form-group--full",children:[t.jsx("label",{children:"Factory Address"}),t.jsx("textarea",{value:c.factoryAddress||"",onChange:o=>l({...c,factoryAddress:o.target.value}),rows:3})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Authorized Person"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Name"}),t.jsx("input",{type:"text",value:c.authPersonName||"",onChange:o=>l({...c,authPersonName:o.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Designation"}),t.jsx("input",{type:"text",value:c.authPersonDesignation||"",onChange:o=>l({...c,authPersonDesignation:o.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Date of Birth"}),t.jsx("input",{type:"date",value:c.authPersonDOB||"",onChange:o=>l({...c,authPersonDOB:o.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"PCB Authorization"}),t.jsx("div",{className:"form-grid",children:t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"PCB Auth Num"}),t.jsx("input",{type:"text",value:c.pcbauthNum||"",onChange:o=>l({...c,pcbauthNum:o.target.value})})]})})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"CTO Water"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"CTO Water Num"}),t.jsx("input",{type:"text",value:c.ctoWaterNum||"",onChange:o=>l({...c,ctoWaterNum:o.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"CTO Water Date"}),t.jsx("input",{type:"date",value:c.ctoWaterDate||"",onChange:o=>l({...c,ctoWaterDate:o.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"CTO Water Valid Upto"}),t.jsx("input",{type:"date",value:c.ctoWaterValidUpto||"",onChange:o=>l({...c,ctoWaterValidUpto:o.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"CTO Air"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"CTO Air Num"}),t.jsx("input",{type:"text",value:c.ctoAirNum||"",onChange:o=>l({...c,ctoAirNum:o.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"CTO Air Date"}),t.jsx("input",{type:"date",value:c.ctoAirDate||"",onChange:o=>l({...c,ctoAirDate:o.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"CTO Air Valid Upto"}),t.jsx("input",{type:"date",value:c.ctoAirValidUpto||"",onChange:o=>l({...c,ctoAirValidUpto:o.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"CTE Water"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"CTE Water Num"}),t.jsx("input",{type:"text",value:c.cteWaterNum||"",onChange:o=>l({...c,cteWaterNum:o.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"CTE Water Date"}),t.jsx("input",{type:"date",value:c.cteWaterDate||"",onChange:o=>l({...c,cteWaterDate:o.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"CTE Water Valid Upto"}),t.jsx("input",{type:"date",value:c.cteWaterValidUpto||"",onChange:o=>l({...c,cteWaterValidUpto:o.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"CTE Air"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"CTE Air Num"}),t.jsx("input",{type:"text",value:c.cteAirNum||"",onChange:o=>l({...c,cteAirNum:o.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"CTE Air Date"}),t.jsx("input",{type:"date",value:c.cteAirDate||"",onChange:o=>l({...c,cteAirDate:o.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"CTE Air Valid Upto"}),t.jsx("input",{type:"date",value:c.cteAirValidUpto||"",onChange:o=>l({...c,cteAirValidUpto:o.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Additional Details"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Hazardous Waste Num"}),t.jsx("input",{type:"text",value:c.hazardousWasteNum||"",onChange:o=>l({...c,hazardousWasteNum:o.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"PCB Zone ID"}),t.jsxs("select",{value:c.pcbZoneID||"",onChange:o=>l({...c,pcbZoneID:o.target.value}),children:[t.jsx("option",{value:"",children:"Select PCB Zone"}),n.map(o=>t.jsx("option",{value:o.pcbZoneName,children:o.pcbZoneName},o.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"GST Valid From"}),t.jsx("input",{type:"date",value:c.gstValidFrom||"",onChange:o=>l({...c,gstValidFrom:o.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"GST Rate"}),t.jsx("input",{type:"text",value:c.gstRate||"",onChange:o=>l({...c,gstRate:o.target.value}),placeholder:"e.g., 18%"})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Status"}),t.jsx("div",{className:"form-grid",children:t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:c.status||"Active",onChange:o=>l({...c,status:o.target.value}),children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:i,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",disabled:a,children:a?"Saving...":r?"Update":"Save"})]})]})]})})},uee="http://localhost:3000/api/v1",dee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},a0=async(r,e={})=>{const n=dee(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${uee}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},F0={createState:async r=>(await a0("/states",{method:"POST",body:JSON.stringify(r)})).data,getStateById:async r=>(await a0(`/states/${r}`,{method:"GET"})).data,getAllStates:async(r=!1)=>(await a0(r?"/states?activeOnly=true":"/states",{method:"GET"})).data,updateState:async(r,e)=>(await a0(`/states/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteState:async r=>{await a0(`/states/${r}`,{method:"DELETE"})}},hee=()=>{const{logout:r,permissions:e}=da(),n=Tn(),[a,i]=k.useState(!1),s=()=>{i(!a)},[c,l]=k.useState(""),[u,o]=k.useState("list"),[h,d]=k.useState(!1),[A,f]=k.useState(null),[g,m]=k.useState([]),[x,y]=k.useState(!1),[b,w]=k.useState(null),S=async()=>{y(!0),w(null);try{const ce=(await F0.getAllStates(!0)).map($=>({id:$.id,stateCode:$.stateCode,stateName:$.stateName,status:$.status,createdBy:$.createdBy||"",createdOn:$.createdOn,modifiedBy:$.modifiedBy||"",modifiedOn:$.modifiedOn}));m(ce)}catch(P){const ce=P instanceof Error?P.message:"Failed to load states";w(ce),console.error("Error loading states:",P)}finally{y(!1)}};k.useEffect(()=>{S()},[]);const C=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:n.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:n.pathname==="/transaction"||n.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:n.pathname==="/finance"||n.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname==="/commercial-agreements"||n.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:n.pathname==="/compliance-training"||n.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:n.pathname==="/master"||n.pathname.startsWith("/master")},{path:"/report",label:"Report",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),active:n.pathname==="/report"},...Array.isArray(e)&&e.includes("*")?[{path:"/admin/dashboard-configuration",label:"Dashboard Configuration",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),active:n.pathname==="/admin/dashboard-configuration"||n.pathname.startsWith("/admin/dashboard-configuration")},{path:"/admin/permission-configuration",label:"Permission Configuration",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M12 1l3 5 5 .5-3.6 3.3 1.1 5.2L12 12.9 6.5 15l1.1-5.2L4 6.5 9 6z"}),t.jsx("path",{d:"M20 21v-7a2 2 0 0 0-2-2h-3"}),t.jsx("path",{d:"M4 21v-7a2 2 0 0 1 2-2h3"})]}),active:n.pathname==="/admin/permission-configuration"||n.pathname.startsWith("/admin/permission-configuration")}]:[]].filter(P=>P.path==="/dashboard"?sa(e,"dashboard"):P.path==="/transaction"?sa(e,"transaction"):P.path==="/finance"?sa(e,"finance"):P.path==="/commercial-agreements"?sa(e,"commercial"):P.path==="/compliance-training"?sa(e,"compliance"):P.path==="/master"?sa(e,"master"):P.path==="/report"?sa(e,"report"):!0),O=g.filter(P=>P.stateName.toLowerCase().includes(c.toLowerCase())||P.stateCode.toLowerCase().includes(c.toLowerCase())),W=()=>{f(null),d(!0)},K=P=>{f(P),d(!0)},te=async P=>{if(window.confirm("Are you sure you want to delete this state?"))try{y(!0),await F0.deleteState(P),await S(),alert("State deleted successfully")}catch(ce){const $=ce instanceof Error?ce.message:"Failed to delete state";alert(`Error: ${$}`),console.error("Error deleting state:",ce)}finally{y(!1)}},q=async P=>{try{if(y(!0),w(null),A)await F0.updateState(A.id,{status:P.status}),alert("State updated successfully");else{if(!P.stateCode||!P.stateName){alert("Please fill in all required fields");return}await F0.createState({stateCode:P.stateCode,stateName:P.stateName}),alert("State created successfully")}d(!1),f(null),await S()}catch(ce){const $=ce instanceof Error?ce.message:"Failed to save state";w($),alert(`Error: ${$}`),console.error("Error saving state:",ce)}finally{y(!1)}},Y=[{key:"stateCode",label:"State Code",minWidth:120},{key:"stateName",label:"State Name",minWidth:200,allowWrap:!0},{key:"status",label:"Status",minWidth:100,render:P=>t.jsx("span",{className:`status-badge status-badge--${P.status.toLowerCase()}`,children:P.status})}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${a?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!a&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:s,"aria-label":a?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:a?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:C.map(P=>t.jsx("li",{children:t.jsxs(Yr,{to:P.path,className:`nav-link ${P.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:P.icon}),!a&&t.jsx("span",{className:"nav-label",children:P.label})]})},P.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Yr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!a&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!a&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / State Master"})})}),b&&t.jsx("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc"},children:b}),x&&!g.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading states..."}),t.jsx(vp,{title:"State Master",breadcrumb:"/ Masters / State Master",data:g,filteredData:O,columns:Y,searchQuery:c,onSearchChange:l,onAdd:W,onEdit:K,onDelete:te,getId:P=>P.id,addButtonLabel:"Add State",createPermissions:["STATE_CREATE","STATE.CREATE"],editPermissions:["STATE_EDIT","STATE.EDIT","STATE_UPDATE","STATE.UPDATE"],deletePermissions:["STATE_DELETE","STATE.DELETE"],children:t.jsx(xp,{tabs:[{id:"list",label:"State List"}],activeTab:u,onTabChange:P=>o(P)})})]}),h&&t.jsx(Aee,{state:A,onClose:()=>{d(!1),f(null)},onSave:q})]})},Aee=({state:r,onClose:e,onSave:n})=>{const[a,i]=k.useState(r||{stateCode:"",stateName:"",status:"Active"}),s=c=>{c.preventDefault(),n(a)};return t.jsx("div",{className:"modal-overlay",onClick:e,children:t.jsxs("div",{className:"modal-content",onClick:c=>c.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit State":"Add State"}),t.jsx("button",{className:"modal-close-btn",onClick:e,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"state-form",onSubmit:s,children:[t.jsx("div",{className:"form-section",children:t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"State Code *"}),t.jsx("input",{type:"text",value:a.stateCode||"",onChange:c=>i({...a,stateCode:c.target.value}),required:!0,maxLength:10,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"State Name *"}),t.jsx("input",{type:"text",value:a.stateName||"",onChange:c=>i({...a,stateName:c.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:a.status||"Active",onChange:c=>i({...a,status:c.target.value}),children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:e,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},fee="http://localhost:3000/api/v1",pee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},i0=async(r,e={})=>{const n=pee(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${fee}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},D0={createArea:async r=>(await i0("/areas",{method:"POST",body:JSON.stringify(r)})).data,getAreaById:async r=>(await i0(`/areas/${r}`,{method:"GET"})).data,getAllAreas:async(r=!1)=>(await i0(r?"/areas?activeOnly=true":"/areas",{method:"GET"})).data,updateArea:async(r,e)=>(await i0(`/areas/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteArea:async r=>{await i0(`/areas/${r}`,{method:"DELETE"})}},mee=()=>{const{logout:r,permissions:e}=da(),n=Tn(),[a,i]=k.useState(!1),s=()=>{i(!a)},[c,l]=k.useState(""),[u,o]=k.useState("list"),[h,d]=k.useState(!1),[A,f]=k.useState(null),[g,m]=k.useState([]),[x,y]=k.useState(!1),[b,w]=k.useState(null),S=async()=>{y(!0),w(null);try{const P=(await D0.getAllAreas(!0)).map(ce=>({id:ce.id,areaCode:ce.areaCode,areaName:ce.areaName,areaPincode:ce.areaPincode,status:ce.status,createdBy:ce.createdBy||"",createdOn:ce.createdOn,modifiedBy:ce.modifiedBy||"",modifiedOn:ce.modifiedOn}));m(P)}catch(Y){const P=Y instanceof Error?Y.message:"Failed to load areas";w(P),console.error("Error loading areas:",Y)}finally{y(!1)}};k.useEffect(()=>{S()},[]);const N=us(e,n.pathname),C=g.filter(Y=>Y.areaName.toLowerCase().includes(c.toLowerCase())||Y.areaCode.toLowerCase().includes(c.toLowerCase())||Y.areaPincode.toLowerCase().includes(c.toLowerCase())),O=()=>{f(null),d(!0)},W=Y=>{f(Y),d(!0)},K=async Y=>{if(window.confirm("Are you sure you want to delete this area?"))try{y(!0),await D0.deleteArea(Y),await S(),alert("Area deleted successfully")}catch(P){const ce=P instanceof Error?P.message:"Failed to delete area";alert(`Error: ${ce}`),console.error("Error deleting area:",P)}finally{y(!1)}},te=async Y=>{try{if(y(!0),w(null),A)await D0.updateArea(A.id,{areaPincode:Y.areaPincode,status:Y.status}),alert("Area updated successfully");else{if(!Y.areaCode||!Y.areaName||!Y.areaPincode){alert("Please fill in all required fields");return}await D0.createArea({areaCode:Y.areaCode,areaName:Y.areaName,areaPincode:Y.areaPincode}),alert("Area created successfully")}d(!1),f(null),await S()}catch(P){const ce=P instanceof Error?P.message:"Failed to save area";w(ce),alert(`Error: ${ce}`),console.error("Error saving area:",P)}finally{y(!1)}},q=[{key:"areaCode",label:"Area Code",minWidth:120},{key:"areaName",label:"Area Name",minWidth:200,allowWrap:!0},{key:"areaPincode",label:"Area Pincode",minWidth:130},{key:"status",label:"Status",minWidth:100,render:Y=>t.jsx("span",{className:`status-badge status-badge--${Y.status.toLowerCase()}`,children:Y.status})}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${a?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!a&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:s,"aria-label":a?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:a?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:N.map(Y=>t.jsx("li",{children:t.jsxs(Yr,{to:Y.path,className:`nav-link ${Y.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:Y.icon}),!a&&t.jsx("span",{className:"nav-label",children:Y.label})]})},Y.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Yr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!a&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!a&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / Area Master"})})}),b&&t.jsx("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc"},children:b}),x&&!g.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading areas..."}),t.jsx(vp,{title:"Area Master",breadcrumb:"/ Masters / Area Master",data:g,filteredData:C,columns:q,searchQuery:c,onSearchChange:l,onAdd:O,onEdit:W,onDelete:K,getId:Y=>Y.id,addButtonLabel:"Add Area",createPermissions:["AREA_CREATE","AREA.CREATE"],editPermissions:["AREA_EDIT","AREA.EDIT","AREA_UPDATE","AREA.UPDATE"],deletePermissions:["AREA_DELETE","AREA.DELETE"],children:t.jsx(xp,{tabs:[{id:"list",label:"Area List"}],activeTab:u,onTabChange:Y=>o(Y)})})]}),h&&t.jsx(gee,{area:A,onClose:()=>{d(!1),f(null)},onSave:te})]})},gee=({area:r,onClose:e,onSave:n})=>{const[a,i]=k.useState(r||{areaCode:"",areaName:"",areaPincode:"",status:"Active"}),s=c=>{c.preventDefault(),n(a)};return t.jsx("div",{className:"modal-overlay",onClick:e,children:t.jsxs("div",{className:"modal-content",onClick:c=>c.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Area":"Add Area"}),t.jsx("button",{className:"modal-close-btn",onClick:e,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"area-form",onSubmit:s,children:[t.jsx("div",{className:"form-section",children:t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Area Code *"}),t.jsx("input",{type:"text",value:a.areaCode||"",onChange:c=>i({...a,areaCode:c.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Area Name *"}),t.jsx("input",{type:"text",value:a.areaName||"",onChange:c=>i({...a,areaName:c.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Area Pincode *"}),t.jsx("input",{type:"text",value:a.areaPincode||"",onChange:c=>i({...a,areaPincode:c.target.value}),required:!0,maxLength:10})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:a.status||"Active",onChange:c=>i({...a,status:c.target.value}),children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:e,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},vee="http://localhost:3000/api/v1",xee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},s0=async(r,e={})=>{const n=xee(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${vee}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},M0={createCategory:async r=>(await s0("/categories",{method:"POST",body:JSON.stringify(r)})).data,getCategoryById:async r=>(await s0(`/categories/${r}`,{method:"GET"})).data,getAllCategories:async(r,e=!1)=>{let n="/categories";const a=new URLSearchParams;return r&&a.append("companyId",r),e&&a.append("activeOnly","true"),a.toString()&&(n+=`?${a.toString()}`),(await s0(n,{method:"GET"})).data},updateCategory:async(r,e)=>(await s0(`/categories/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteCategory:async r=>{await s0(`/categories/${r}`,{method:"DELETE"})}},yee=()=>{const{logout:r,permissions:e}=da(),n=Tn(),[a,i]=k.useState(!1),s=()=>{i(!a)},[c,l]=k.useState(""),[u,o]=k.useState("list"),[h,d]=k.useState(!1),[A,f]=k.useState(null),[g,m]=k.useState([]),[x,y]=k.useState([]),[b,w]=k.useState(!1),[S,N]=k.useState(null),C=async()=>{try{const R=(await Ha.getAllCompanies(!0)).map(se=>({id:se.id,companyCode:se.companyCode,companyName:se.companyName,status:se.status}));y(R)}catch($){console.error("Error loading companies:",$)}},O=async()=>{w(!0),N(null);try{const R=(await M0.getAllCategories(void 0,!0)).map(se=>{const fe=x.find(Te=>Te.id===se.companyId);return{id:se.id,companyName:(fe==null?void 0:fe.companyName)||"Unknown Company",categoryCode:se.categoryCode,categoryName:se.categoryName,status:se.status,createdBy:se.createdBy||"",createdOn:se.createdOn,modifiedBy:se.modifiedBy||"",modifiedOn:se.modifiedOn}});m(R)}catch($){const R=$ instanceof Error?$.message:"Failed to load categories";N(R),console.error("Error loading categories:",$),m([])}finally{w(!1)}};k.useEffect(()=>{(async()=>{await C()})()},[]),k.useEffect(()=>{x.length>0&&O()},[x.length]);const W=us(e,n.pathname),K=g.filter($=>$.categoryName.toLowerCase().includes(c.toLowerCase())||$.categoryCode.toLowerCase().includes(c.toLowerCase())||$.companyName.toLowerCase().includes(c.toLowerCase())),te=()=>{f(null),d(!0)},q=$=>{f($),d(!0)},Y=async $=>{if(window.confirm("Are you sure you want to delete this category?"))try{w(!0),await M0.deleteCategory($),await O(),alert("Category deleted successfully")}catch(R){const se=R instanceof Error?R.message:"Failed to delete category";alert(`Error: ${se}`),console.error("Error deleting category:",R)}finally{w(!1)}},P=async $=>{try{w(!0),N(null);const R=x.find(se=>se.companyName===$.companyName);if(!R){alert("Please select a valid company");return}if(A)await M0.updateCategory(A.id,{status:$.status}),alert("Category updated successfully");else{if(!$.categoryCode||!$.categoryName||!$.companyName){alert("Please fill in all required fields");return}await M0.createCategory({categoryCode:$.categoryCode,categoryName:$.categoryName,companyId:R.id}),alert("Category created successfully")}d(!1),f(null),await O()}catch(R){const se=R instanceof Error?R.message:"Failed to save category";N(se),alert(`Error: ${se}`),console.error("Error saving category:",R)}finally{w(!1)}},ce=[{key:"companyName",label:"Company Name",minWidth:180,allowWrap:!0},{key:"categoryCode",label:"Category Code",minWidth:140},{key:"categoryName",label:"Category Name",minWidth:200,allowWrap:!0},{key:"status",label:"Status",minWidth:100,render:$=>t.jsx("span",{className:`status-badge status-badge--${$.status.toLowerCase()}`,children:$.status})}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${a?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!a&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:s,"aria-label":a?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:a?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:W.map($=>t.jsx("li",{children:t.jsxs(Yr,{to:$.path,className:`nav-link ${$.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:$.icon}),!a&&t.jsx("span",{className:"nav-label",children:$.label})]})},$.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Yr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!a&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!a&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / Category Master"})})}),S&&t.jsx("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc"},children:S}),b&&!g.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading categories..."}),t.jsx(vp,{title:"Category Master",breadcrumb:"/ Masters / Category Master",data:g,filteredData:K,columns:ce,searchQuery:c,onSearchChange:l,onAdd:te,onEdit:q,onDelete:Y,getId:$=>$.id,addButtonLabel:"Add Category",createPermissions:["CATEGORY_CREATE","CATEGORY.CREATE"],editPermissions:["CATEGORY_EDIT","CATEGORY.EDIT","CATEGORY_UPDATE","CATEGORY.UPDATE"],deletePermissions:["CATEGORY_DELETE","CATEGORY.DELETE"],children:t.jsx(xp,{tabs:[{id:"list",label:"Category List"}],activeTab:u,onTabChange:$=>o($)})})]}),h&&t.jsx(bee,{category:A,companies:x.filter($=>$.status==="Active"),onClose:()=>{d(!1),f(null)},onSave:P})]})},bee=({category:r,companies:e,onClose:n,onSave:a})=>{const[i,s]=k.useState(r||{companyName:"",categoryCode:"",categoryName:"",status:"Active"}),c=l=>{l.preventDefault(),a(i)};return t.jsx("div",{className:"modal-overlay",onClick:n,children:t.jsxs("div",{className:"modal-content",onClick:l=>l.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Category":"Add Category"}),t.jsx("button",{className:"modal-close-btn",onClick:n,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"category-form",onSubmit:c,children:[t.jsx("div",{className:"form-section",children:t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company Name *"}),t.jsxs("select",{value:i.companyName||"",onChange:l=>s({...i,companyName:l.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{},children:[t.jsx("option",{value:"",children:"Select Company"}),e.map(l=>t.jsx("option",{value:l.companyName,children:l.companyName},l.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Category Code *"}),t.jsx("input",{type:"text",value:i.categoryCode||"",onChange:l=>s({...i,categoryCode:l.target.value}),required:!0,placeholder:"Enter Category Code",disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Category Name *"}),t.jsx("input",{type:"text",value:i.categoryName||"",onChange:l=>s({...i,categoryName:l.target.value}),required:!0,placeholder:"Enter Category Name",disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:i.status||"Active",onChange:l=>s({...i,status:l.target.value}),children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},wee="http://localhost:3000/api/v1",jee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},o0=async(r,e={})=>{const n=jee(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${wee}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},R0={createPcbZone:async r=>(await o0("/pcb-zones",{method:"POST",body:JSON.stringify(r)})).data,getPcbZoneById:async r=>(await o0(`/pcb-zones/${r}`,{method:"GET"})).data,getAllPcbZones:async(r=!1)=>(await o0(r?"/pcb-zones?activeOnly=true":"/pcb-zones",{method:"GET"})).data,updatePcbZone:async(r,e)=>(await o0(`/pcb-zones/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deletePcbZone:async r=>{await o0(`/pcb-zones/${r}`,{method:"DELETE"})}},Cee=()=>{const{logout:r,permissions:e}=da(),n=Tn(),[a,i]=k.useState(!1),s=()=>{i(!a)},[c,l]=k.useState(""),[u,o]=k.useState("list"),[h,d]=k.useState(!1),[A,f]=k.useState(null),[g,m]=k.useState([]),[x,y]=k.useState(!1),[b,w]=k.useState(null),S=async()=>{y(!0),w(null);try{const P=(await R0.getAllPcbZones(!0)).map(ce=>({id:ce.id,pcbZoneName:ce.pcbZoneName,pcbZoneAddress:ce.pcbZoneAddress||"",contactNum:ce.contactNum||"",contactEmail:ce.contactEmail||"",alertEmail:ce.alertEmail||"",status:ce.status,createdBy:ce.createdBy||"",createdOn:ce.createdOn,modifiedBy:ce.modifiedBy||"",modifiedOn:ce.modifiedOn}));m(P)}catch(Y){const P=Y instanceof Error?Y.message:"Failed to load PCB zones";w(P),console.error("Error loading PCB zones:",Y)}finally{y(!1)}};k.useEffect(()=>{S()},[]);const N=us(e,n.pathname),C=g.filter(Y=>Y.pcbZoneName.toLowerCase().includes(c.toLowerCase())||Y.pcbZoneAddress.toLowerCase().includes(c.toLowerCase())||Y.contactEmail.toLowerCase().includes(c.toLowerCase())),O=()=>{f(null),d(!0)},W=Y=>{f(Y),d(!0)},K=async Y=>{if(window.confirm("Are you sure you want to delete this PCB Zone?"))try{y(!0),await R0.deletePcbZone(Y),await S(),alert("PCB Zone deleted successfully")}catch(P){const ce=P instanceof Error?P.message:"Failed to delete PCB zone";alert(`Error: ${ce}`),console.error("Error deleting PCB zone:",P)}finally{y(!1)}},te=async Y=>{try{if(y(!0),w(null),A)await R0.updatePcbZone(A.id,{pcbZoneAddress:Y.pcbZoneAddress,contactNum:Y.contactNum,contactEmail:Y.contactEmail,alertEmail:Y.alertEmail,status:Y.status}),alert("PCB Zone updated successfully");else{if(!Y.pcbZoneName){alert("Please fill in PCB Zone Name");return}await R0.createPcbZone({pcbZoneName:Y.pcbZoneName,pcbZoneAddress:Y.pcbZoneAddress,contactNum:Y.contactNum,contactEmail:Y.contactEmail,alertEmail:Y.alertEmail}),alert("PCB Zone created successfully")}d(!1),f(null),await S()}catch(P){const ce=P instanceof Error?P.message:"Failed to save PCB zone";w(ce),alert(`Error: ${ce}`),console.error("Error saving PCB zone:",P)}finally{y(!1)}},q=[{key:"pcbZoneName",label:"PCB Zone Name",minWidth:150,allowWrap:!0},{key:"pcbZoneAddress",label:"PCB Zone Address",minWidth:250,allowWrap:!0},{key:"contactNum",label:"Contact Number",minWidth:140},{key:"contactEmail",label:"Contact Email",minWidth:180,allowWrap:!0},{key:"alertEmail",label:"Alert Email",minWidth:180,allowWrap:!0},{key:"status",label:"Status",minWidth:100,render:Y=>t.jsx("span",{className:`status-badge status-badge--${Y.status.toLowerCase()}`,children:Y.status})}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${a?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!a&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:s,"aria-label":a?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:a?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:N.map(Y=>t.jsx("li",{children:t.jsxs(Yr,{to:Y.path,className:`nav-link ${Y.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:Y.icon}),!a&&t.jsx("span",{className:"nav-label",children:Y.label})]})},Y.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Yr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!a&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!a&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / PCB Zone Master"})})}),b&&t.jsx("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc"},children:b}),x&&!g.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading PCB zones..."}),t.jsx(vp,{title:"PCB Zone Master",breadcrumb:"/ Masters / PCB Zone Master",data:g,filteredData:C,columns:q,searchQuery:c,onSearchChange:l,onAdd:O,onEdit:W,onDelete:K,getId:Y=>Y.id,addButtonLabel:"Add PCB Zone",createPermissions:["PCB_ZONE_CREATE","PCB_ZONE.CREATE"],editPermissions:["PCB_ZONE_EDIT","PCB_ZONE.EDIT","PCB_ZONE_UPDATE","PCB_ZONE.UPDATE"],deletePermissions:["PCB_ZONE_DELETE","PCB_ZONE.DELETE"],children:t.jsx(xp,{tabs:[{id:"list",label:"PCB Zone List"}],activeTab:u,onTabChange:Y=>o(Y)})})]}),h&&t.jsx(Nee,{pcbZone:A,onClose:()=>{d(!1),f(null)},onSave:te})]})},Nee=({pcbZone:r,onClose:e,onSave:n})=>{const[a,i]=k.useState(r||{pcbZoneName:"",pcbZoneAddress:"",contactNum:"",contactEmail:"",alertEmail:"",status:"Active"}),s=c=>{c.preventDefault(),n(a)};return t.jsx("div",{className:"modal-overlay",onClick:e,children:t.jsxs("div",{className:"modal-content",onClick:c=>c.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit PCB Zone":"Add PCB Zone"}),t.jsx("button",{className:"modal-close-btn",onClick:e,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"pcb-zone-form",onSubmit:s,children:[t.jsx("div",{className:"form-section",children:t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"PCB Zone Name *"}),t.jsx("input",{type:"text",value:a.pcbZoneName||"",onChange:c=>i({...a,pcbZoneName:c.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),t.jsxs("div",{className:"form-group form-group--full",children:[t.jsx("label",{children:"PCB Zone Address *"}),t.jsx("textarea",{value:a.pcbZoneAddress||"",onChange:c=>i({...a,pcbZoneAddress:c.target.value}),required:!0,rows:3})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Contact Number *"}),t.jsx("input",{type:"tel",value:a.contactNum||"",onChange:c=>i({...a,contactNum:c.target.value}),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Contact Email *"}),t.jsx("input",{type:"email",value:a.contactEmail||"",onChange:c=>i({...a,contactEmail:c.target.value}),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Alert Email *"}),t.jsx("input",{type:"email",value:a.alertEmail||"",onChange:c=>i({...a,alertEmail:c.target.value}),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:a.status||"Active",onChange:c=>i({...a,status:c.target.value}),children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:e,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},See="http://localhost:3000/api/v1",Eee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},l0=async(r,e={})=>{const n=Eee(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${See}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},af={createRoute:async r=>(await l0("/routes",{method:"POST",body:JSON.stringify(r)})).data,getRouteById:async r=>(await l0(`/routes/${r}`,{method:"GET"})).data,getAllRoutes:async(r=!1)=>(await l0(r?"/routes?activeOnly=true":"/routes",{method:"GET"})).data,updateRoute:async(r,e)=>(await l0(`/routes/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteRoute:async r=>{await l0(`/routes/${r}`,{method:"DELETE"})}},Bee="http://localhost:3000/api/v1",Iee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},c0=async(r,e={})=>{const n=Iee(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${Bee}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},Gp={createFrequency:async r=>(await c0("/frequencies",{method:"POST",body:JSON.stringify(r)})).data,getFrequencyById:async r=>(await c0(`/frequencies/${r}`,{method:"GET"})).data,getAllFrequencies:async(r,e=!1)=>{let n="/frequencies";const a=new URLSearchParams;return r&&a.append("companyId",r),e&&a.append("activeOnly","true"),a.toString()&&(n+=`?${a.toString()}`),(await c0(n,{method:"GET"})).data},updateFrequency:async(r,e)=>(await c0(`/frequencies/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteFrequency:async r=>{await c0(`/frequencies/${r}`,{method:"DELETE"})}},Tee=()=>{const{logout:r,permissions:e}=da(),n=Tn(),[a,i]=k.useState(""),[s,c]=k.useState("list"),[l,u]=k.useState(!1),[o,h]=k.useState(null),[d,A]=k.useState([]),[f,g]=k.useState([]),[m,x]=k.useState([]),[y,b]=k.useState(!1),[w,S]=k.useState(null),N=async()=>{try{const R=(await Ha.getAllCompanies(!0)).map(se=>({id:se.id,companyCode:se.companyCode,companyName:se.companyName,status:se.status}));g(R)}catch($){console.error("Error loading companies:",$)}},C=async()=>{try{const R=(await Gp.getAllFrequencies(void 0,!0)).map(se=>({id:se.id,frequencyCode:se.frequencyCode,frequencyName:se.frequencyName,companyName:se.companyName||"",status:se.status}));x(R)}catch($){console.error("Error loading frequencies:",$)}},O=async()=>{b(!0),S(null);try{let $=f;$.length===0&&($=(await Ha.getAllCompanies(!0)).map(Ie=>({id:Ie.id,companyCode:Ie.companyCode,companyName:Ie.companyName,status:Ie.status})),g($));let R=m;R.length===0&&(R=(await Gp.getAllFrequencies(void 0,!0)).map(Ie=>({id:Ie.id,frequencyCode:Ie.frequencyCode,frequencyName:Ie.frequencyName,companyName:Ie.companyName||"",status:Ie.status})),x(R));const fe=(await af.getAllRoutes(!0)).map(Te=>{const Ie=$.find(ee=>ee.id===Te.companyId),_e=(Ie==null?void 0:Ie.companyName)||"Unknown",Z=R.find(ee=>ee.id===Te.frequencyId),Oe=(Z==null?void 0:Z.frequencyCode)||Te.frequencyId||"";return{id:Te.id,companyName:_e,routeCode:Te.routeCode,routeName:Te.routeName,frequencyID:Oe,status:Te.status,createdBy:Te.createdBy||"",createdOn:Te.createdOn,modifiedBy:Te.modifiedBy||"",modifiedOn:Te.modifiedOn}});A(fe)}catch($){const R=$ instanceof Error?$.message:"Failed to load routes";S(R),console.error("Error loading routes:",$)}finally{b(!1)}};k.useEffect(()=>{(async()=>{await N(),await C(),await O()})()},[]);const W=us(e,n.pathname),K=d.filter($=>$.routeName.toLowerCase().includes(a.toLowerCase())||$.routeCode.toLowerCase().includes(a.toLowerCase())||$.frequencyID.toLowerCase().includes(a.toLowerCase())||$.companyName.toLowerCase().includes(a.toLowerCase())),te=()=>{h(null),u(!0)},q=$=>{h($),u(!0)},Y=async $=>{if(window.confirm("Are you sure you want to delete this route?"))try{b(!0),await af.deleteRoute($),await O(),alert("Route deleted successfully")}catch(R){const se=R instanceof Error?R.message:"Failed to delete route";alert(`Error: ${se}`),console.error("Error deleting route:",R)}finally{b(!1)}},P=async $=>{try{b(!0),S(null);const R=f.find(fe=>fe.companyName===$.companyName);if(!R){alert("Please select a valid company");return}const se=m.find(fe=>fe.frequencyCode===$.frequencyID);if(o)await af.updateRoute(o.id,{frequencyId:se==null?void 0:se.id,status:$.status}),alert("Route updated successfully");else{if(!$.routeCode||!$.routeName||!$.companyName){alert("Please fill in all required fields");return}await af.createRoute({routeCode:$.routeCode,routeName:$.routeName,companyId:R.id,frequencyId:se==null?void 0:se.id}),alert("Route created successfully")}u(!1),h(null),await O()}catch(R){const se=R instanceof Error?R.message:"Failed to save route";S(se),alert(`Error: ${se}`),console.error("Error saving route:",R)}finally{b(!1)}},ce=[{key:"companyName",label:"Company Name",minWidth:180,allowWrap:!0},{key:"routeCode",label:"Route Code",minWidth:120},{key:"routeName",label:"Route Name",minWidth:200,allowWrap:!0},{key:"frequencyID",label:"Frequency ID",minWidth:130},{key:"status",label:"Status",minWidth:100,render:$=>t.jsx("span",{className:`status-badge status-badge--${$.status.toLowerCase()}`,children:$.status})}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:"dashboard-sidebar",children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:W.map($=>t.jsx("li",{children:t.jsxs(Yr,{to:$.path,className:`nav-link ${$.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:$.icon}),t.jsx("span",{className:"nav-label",children:$.label})]})},$.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Yr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / Route Master"})})}),w&&t.jsx("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc"},children:w}),y&&!d.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading routes..."}),t.jsx(vp,{title:"Route Master",breadcrumb:"/ Masters / Route Master",data:d,filteredData:K,columns:ce,searchQuery:a,onSearchChange:i,onAdd:te,onEdit:q,onDelete:Y,getId:$=>$.id,addButtonLabel:"Add Route",createPermissions:["ROUTE_CREATE","ROUTE.CREATE"],editPermissions:["ROUTE_EDIT","ROUTE.EDIT","ROUTE_UPDATE","ROUTE.UPDATE"],deletePermissions:["ROUTE_DELETE","ROUTE.DELETE"],children:t.jsx(xp,{tabs:[{id:"list",label:"Route List"}],activeTab:s,onTabChange:$=>c($)})})]}),l&&t.jsx(_ee,{route:o,companies:f.filter($=>$.status==="Active"),frequencies:m.filter($=>$.status==="Active"),onClose:()=>{u(!1),h(null)},onSave:P})]})},_ee=({route:r,companies:e,frequencies:n,onClose:a,onSave:i})=>{const[s,c]=k.useState(r||{companyName:"",routeCode:"",routeName:"",frequencyID:"",status:"Active"}),l=u=>{u.preventDefault(),i(s)};return t.jsx("div",{className:"modal-overlay",onClick:a,children:t.jsxs("div",{className:"modal-content",onClick:u=>u.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Route":"Add Route"}),t.jsx("button",{className:"modal-close-btn",onClick:a,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"route-form",onSubmit:l,children:[t.jsx("div",{className:"form-section",children:t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company Name *"}),t.jsxs("select",{value:s.companyName||"",onChange:u=>c({...s,companyName:u.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{},children:[t.jsx("option",{value:"",children:"Select Company"}),e.map(u=>t.jsx("option",{value:u.companyName,children:u.companyName},u.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Route Code *"}),t.jsx("input",{type:"text",value:s.routeCode||"",onChange:u=>c({...s,routeCode:u.target.value}),required:!0,placeholder:"Enter Route Code",disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Route Name *"}),t.jsx("input",{type:"text",value:s.routeName||"",onChange:u=>c({...s,routeName:u.target.value}),required:!0,placeholder:"Enter Route Name",disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Frequency"}),t.jsxs("select",{value:s.frequencyID||"",onChange:u=>c({...s,frequencyID:u.target.value}),children:[t.jsx("option",{value:"",children:"Select Frequency"}),n.map(u=>t.jsxs("option",{value:u.frequencyCode,children:[u.frequencyName," (",u.frequencyCode,")"]},u.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:s.status||"Active",onChange:u=>c({...s,status:u.target.value}),children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:a,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},Oee="http://localhost:3000/api/v1",kee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},u0=async(r,e={})=>{const n=kee(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${Oee}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},m1={createColor:async r=>(await u0("/colors",{method:"POST",body:JSON.stringify(r)})).data,getColorById:async r=>(await u0(`/colors/${r}`,{method:"GET"})).data,getAllColors:async(r,e=!1)=>{let n="/colors";const a=new URLSearchParams;return r&&a.append("companyId",r),e&&a.append("activeOnly","true"),a.toString()&&(n+=`?${a.toString()}`),(await u0(n,{method:"GET"})).data},updateColor:async(r,e)=>(await u0(`/colors/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteColor:async r=>{await u0(`/colors/${r}`,{method:"DELETE"})}},Pee=()=>{const{logout:r,permissions:e}=da(),n=Tn(),[a,i]=k.useState(!1),s=()=>{i(!a)},[c,l]=k.useState(""),[u,o]=k.useState("list"),[h,d]=k.useState(!1),[A,f]=k.useState(null),[g,m]=k.useState([]),[x,y]=k.useState([]),[b,w]=k.useState(!1),[S,N]=k.useState(null),C=async()=>{try{const R=(await Ha.getAllCompanies(!0)).map(se=>({id:se.id,companyCode:se.companyCode,companyName:se.companyName,status:se.status}));y(R)}catch($){console.error("Error loading companies:",$)}},O=async()=>{w(!0),N(null);try{const R=(await m1.getAllColors(void 0,!0)).map(se=>{const fe=x.find(Te=>Te.id===se.companyId);return{id:se.id,colorName:se.colorName,companyName:(fe==null?void 0:fe.companyName)||"Unknown Company",status:se.status,createdBy:se.createdBy||"",createdOn:se.createdOn,modifiedBy:se.modifiedBy||"",modifiedOn:se.modifiedOn}});m(R)}catch($){const R=$ instanceof Error?$.message:"Failed to load color codes";N(R),console.error("Error loading color codes:",$)}finally{w(!1)}};k.useEffect(()=>{(async()=>{await C()})()},[]),k.useEffect(()=>{x.length>0&&O()},[x.length]);const W=us(e,n.pathname),K=g.filter($=>$.colorName.toLowerCase().includes(c.toLowerCase())||$.companyName.toLowerCase().includes(c.toLowerCase())),te=()=>{f(null),d(!0)},q=$=>{f($),d(!0)},Y=async $=>{if(window.confirm("Are you sure you want to delete this color code?"))try{w(!0),await m1.deleteColor($),await O(),alert("Color code deleted successfully")}catch(R){const se=R instanceof Error?R.message:"Failed to delete color code";alert(`Error: ${se}`),console.error("Error deleting color code:",R)}finally{w(!1)}},P=async $=>{try{w(!0),N(null);const R=x.find(se=>se.companyName===$.companyName);if(!R){alert("Please select a valid company");return}if(A)await m1.updateColor(A.id,{status:$.status}),alert("Color code updated successfully");else{if(!$.colorName||!$.companyName){alert("Please fill in all required fields");return}await m1.createColor({colorName:$.colorName,companyId:R.id}),alert("Color code created successfully")}d(!1),f(null),await O()}catch(R){const se=R instanceof Error?R.message:"Failed to save color code";N(se),alert(`Error: ${se}`),console.error("Error saving color code:",R)}finally{w(!1)}},ce=[{key:"colorName",label:"Color Name",minWidth:200,allowWrap:!0},{key:"companyName",label:"Company Name",minWidth:200,allowWrap:!0},{key:"status",label:"Status",minWidth:100,render:$=>t.jsx("span",{className:`status-badge status-badge--${$.status.toLowerCase()}`,children:$.status})}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${a?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!a&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:s,"aria-label":a?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:a?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:W.map($=>t.jsx("li",{children:t.jsxs(Yr,{to:$.path,className:`nav-link ${$.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:$.icon}),!a&&t.jsx("span",{className:"nav-label",children:$.label})]})},$.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Yr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!a&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!a&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / Color Code Master"})})}),S&&t.jsx("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc"},children:S}),b&&!g.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading color codes..."}),t.jsx(vp,{title:"Color Code Master",breadcrumb:"/ Masters / Color Code Master",data:g,filteredData:K,columns:ce,searchQuery:c,onSearchChange:l,onAdd:te,onEdit:q,onDelete:Y,getId:$=>$.id,addButtonLabel:"Add Color Code",createPermissions:["COLOR_CREATE","COLOR.CREATE"],editPermissions:["COLOR_EDIT","COLOR.EDIT","COLOR_UPDATE","COLOR.UPDATE"],deletePermissions:["COLOR_DELETE","COLOR.DELETE"],children:t.jsx(xp,{tabs:[{id:"list",label:"Color Code List"}],activeTab:u,onTabChange:$=>o($)})})]}),h&&t.jsx(Fee,{colorCode:A,companies:x.filter($=>$.status==="Active"),onClose:()=>{d(!1),f(null)},onSave:P})]})},Fee=({colorCode:r,companies:e,onClose:n,onSave:a})=>{const[i,s]=k.useState(r||{colorName:"",companyName:"",status:"Active"}),c=l=>{l.preventDefault(),a(i)};return t.jsx("div",{className:"modal-overlay",onClick:n,children:t.jsxs("div",{className:"modal-content",onClick:l=>l.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Color Code":"Add Color Code"}),t.jsx("button",{className:"modal-close-btn",onClick:n,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"color-code-form",onSubmit:c,children:[t.jsx("div",{className:"form-section",children:t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Color Name *"}),t.jsx("input",{type:"text",value:i.colorName||"",onChange:l=>s({...i,colorName:l.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company Name *"}),t.jsxs("select",{value:i.companyName||"",onChange:l=>s({...i,companyName:l.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{},children:[t.jsx("option",{value:"",children:"Select Company"}),e.map(l=>t.jsx("option",{value:l.companyName,children:l.companyName},l.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:i.status||"Active",onChange:l=>s({...i,status:l.target.value}),children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},Dee="http://localhost:3000/api/v1",Mee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},Eh=async(r,e={})=>{const n=Mee(),a=`${Dee}${r}`;console.log("[apiRequest] Making request:",{method:e.method||"GET",url:a,endpoint:r,hasToken:!!n,hasBody:!!e.body});const i={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers};try{const s=await fetch(a,{...e,headers:i});if(console.log("[apiRequest] Response received:",{status:s.status,statusText:s.statusText,ok:s.ok,headers:Object.fromEntries(s.headers.entries())}),!s.ok){let l=`HTTP ${s.status}: ${s.statusText}`,u=null;try{const h=await s.text();console.log("[apiRequest] Error response text:",h),h&&(u=JSON.parse(h),console.log("[apiRequest] Error response parsed:",u),Array.isArray(u.message)?l=u.message.join(", "):typeof u.message=="string"?l=u.message:u.error?l=typeof u.error=="string"?u.error:JSON.stringify(u.error):u.message&&(l=String(u.message)))}catch(h){console.error("[apiRequest] Failed to parse error response:",h)}console.error("[apiRequest] Request failed:",{status:s.status,statusText:s.statusText,errorMessage:l,errorData:u});const o=new Error(l);throw o.status=s.status,o.statusText=s.statusText,o.errorData=u,o}if(s.status===204)return console.log("[apiRequest] 204 No Content response, returning empty object"),{};const c=await s.json();return console.log("[apiRequest] Success response data:",c),c}catch(s){if(console.error("[apiRequest] Fetch error:",s),console.error("[apiRequest] Fetch error details:",{message:s instanceof Error?s.message:String(s),name:s instanceof Error?s.name:void 0,stack:s instanceof Error?s.stack:void 0}),s instanceof Error&&s.status)throw s;const c=new Error(s instanceof Error?`Network error: ${s.message}`:"Network error: Failed to connect to server");throw c.originalError=s,c}},Kl={createUser:async r=>(await Eh("/users",{method:"POST",body:JSON.stringify(r)})).data,createCompleteUser:async r=>{console.log("[userService] createCompleteUser called with data:",r),console.log("[userService] API endpoint: POST /users/complete");try{const e=await Eh("/users/complete",{method:"POST",body:JSON.stringify(r)});return console.log("[userService] createCompleteUser success - Response:",e),e.data}catch(e){throw console.error("[userService] createCompleteUser error:",e),console.error("[userService] Error details:",{message:e instanceof Error?e.message:String(e),stack:e instanceof Error?e.stack:void 0}),e}},getUserById:async r=>(await Eh(`/users/${r}`,{method:"GET"})).data,updateUser:async(r,e)=>(await Eh(`/users/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,updateCompleteUser:async(r,e)=>{console.log("[userService] updateCompleteUser called"),console.log("[userService] User ID:",r),console.log("[userService] Data:",e),console.log("[userService] API endpoint: PUT /users/"+r+"/complete");try{const n=await Eh(`/users/${r}/complete`,{method:"PUT",body:JSON.stringify(e)});return console.log("[userService] updateCompleteUser success - Response:",n),n.data}catch(n){throw console.error("[userService] updateCompleteUser error:",n),console.error("[userService] Error details:",{message:n instanceof Error?n.message:String(n),stack:n instanceof Error?n.stack:void 0}),n}},deleteUser:async r=>{await Eh(`/users/${r}`,{method:"DELETE"})},activateUser:async(r,e)=>(await Eh(`/users/${r}/activate`,{method:"POST",body:JSON.stringify(e)})).data,deactivateUser:async r=>(await Eh(`/users/${r}/deactivate`,{method:"POST"})).data,getUsersByCompany:async r=>(await Eh(`/users/company/${r}`,{method:"GET"})).data,getUserByUsername:async r=>(await Eh(`/users/username/${encodeURIComponent(r)}`,{method:"GET"})).data},Ree="http://localhost:3000/api/v1",Lee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},aS=async(r,e={})=>{const n=Lee(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${Ree}${r}`,{...e,headers:a});if(!i.ok){const c=await i.json().catch(()=>({}));let l=`HTTP error! status: ${i.status}`;throw c.message?Array.isArray(c.message)?l=c.message.join(", "):l=c.message:c.error&&(l=c.error),new Error(l)}return(await i.json()).data},Uee=async(r,e)=>aS(`/users/${r}/activate-with-password`,{method:"POST",body:JSON.stringify(e)}),mx=async(r,e)=>aS(`/users/${r}/change-password`,{method:"POST",body:JSON.stringify(e)}),Hee=async r=>aS(`/users/${r}/reset-password`,{method:"POST"}),Qee=({isOpen:r,onClose:e})=>{const{user:n}=da(),[a,i]=k.useState(!1),[s,c]=k.useState(null),[l,u]=k.useState(null),[o,h]=k.useState("basic"),[d,A]=k.useState(null),[f,g]=k.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[m,x]=k.useState(!1);k.useEffect(()=>{r&&n&&y()},[r,n]);const y=async()=>{if(n){i(!0),c(null);try{if(n.id&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(n.id))try{const S=await Kl.getUserById(n.id);A(S),x(S.otpEnabled||!1);return}catch(S){console.log("User ID lookup failed, trying search by username:",S)}if(n.name)try{const S=await Kl.getUserByUsername(n.name);A(S),x(S.otpEnabled||!1);return}catch(S){console.log("User lookup by username failed:",S)}A({userName:n.name,emailAddress:n.email,status:"Active",mobileNumber:"-",employeeCode:"-",userRoleId:n.roles.join(", ")}),c("Unable to load complete profile data. Showing basic information from your session.")}catch(w){console.error("Error loading user profile:",w),A({userName:n.name,emailAddress:n.email,status:"Active",mobileNumber:"-",employeeCode:"-",userRoleId:n.roles.join(", ")}),c("Unable to load complete profile data. Showing basic information from your session.")}finally{i(!1)}}},b=async w=>{if(w.preventDefault(),c(null),u(null),f.newPassword!==f.confirmPassword){c("New password and confirm password do not match");return}if(f.newPassword.length<8){c("New password must be at least 8 characters long");return}i(!0);try{if(!(n!=null&&n.id))throw new Error("User ID not found");const S=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(n.id);if(!S&&n.name){const N=await Kl.getUserByUsername(n.name);await mx(N.userId,{currentPassword:f.currentPassword,newPassword:f.newPassword})}else if(S)await mx(n.id,{currentPassword:f.currentPassword,newPassword:f.newPassword});else throw new Error("Unable to identify user for password change");u("Password changed successfully!"),g({currentPassword:"",newPassword:"",confirmPassword:""}),setTimeout(()=>{e(),u(null),c(null)},1500)}catch(S){c(S.message||"Failed to change password")}finally{i(!1)}};return r?t.jsx("div",{className:"modal-overlay",onClick:e,children:t.jsxs("div",{className:"modal-content profile-modal-content",onClick:w=>w.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:"My Profile"}),t.jsx("button",{className:"modal-close-btn",onClick:e,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("div",{className:"modal-body profile-modal-body",children:[s&&t.jsxs("div",{className:"profile-error-message",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),t.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),s]}),l&&t.jsxs("div",{className:"profile-success-message",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),l]}),t.jsxs("div",{className:"profile-section-tabs",children:[t.jsxs("button",{className:`section-tab ${o==="basic"?"active":""}`,onClick:()=>h("basic"),children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Basic Info"]}),t.jsxs("button",{className:`section-tab ${o==="contact"?"active":""}`,onClick:()=>h("contact"),children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),t.jsx("polyline",{points:"22,6 12,13 2,6"})]}),"Contact Info"]}),t.jsxs("button",{className:`section-tab ${o==="security"?"active":""}`,onClick:()=>h("security"),children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),t.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),"Security"]})]}),t.jsx("div",{className:"profile-section-content",children:a&&!d?t.jsx("div",{style:{padding:"40px",textAlign:"center",color:"#64748b"},children:"Loading profile data..."}):t.jsxs(t.Fragment,{children:[o==="basic"&&t.jsxs("div",{className:"profile-section",children:[t.jsx("h2",{className:"section-title",children:"Basic Information"}),t.jsx("p",{className:"section-description",children:"Your account information (read-only)"}),t.jsxs("div",{className:"profile-info-grid",children:[t.jsxs("div",{className:"info-item",children:[t.jsx("label",{className:"info-label",children:"User Name"}),t.jsx("div",{className:"info-value",children:(d==null?void 0:d.userName)||(n==null?void 0:n.name)||"-"})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("label",{className:"info-label",children:"Employee Code"}),t.jsx("div",{className:"info-value",children:(d==null?void 0:d.employeeCode)||"-"})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("label",{className:"info-label",children:"Mobile Number"}),t.jsx("div",{className:"info-value",children:(d==null?void 0:d.mobileNumber)||"-"})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("label",{className:"info-label",children:"Status"}),t.jsx("div",{className:"info-value",children:t.jsx("span",{className:`status-badge status-badge--${((d==null?void 0:d.status)||"active").toLowerCase()}`,children:(d==null?void 0:d.status)||"Active"})})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("label",{className:"info-label",children:"Role"}),t.jsx("div",{className:"info-value",children:(d==null?void 0:d.userRoleId)||(n==null?void 0:n.roles.join(", "))||"-"})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("label",{className:"info-label",children:"Employment Type"}),t.jsx("div",{className:"info-value",children:(d==null?void 0:d.employmentType)||"-"})]})]})]}),o==="contact"&&t.jsxs("div",{className:"profile-section",children:[t.jsx("h2",{className:"section-title",children:"Contact Information"}),t.jsx("p",{className:"section-description",children:"Update your contact details (email is optional)"}),t.jsxs("div",{className:"profile-info-grid",children:[t.jsxs("div",{className:"info-item",children:[t.jsx("label",{className:"info-label",children:"Email Address"}),t.jsx("div",{className:"info-value",children:(d==null?void 0:d.emailAddress)||(n==null?void 0:n.email)||"Not provided"}),t.jsx("small",{className:"info-hint",children:"Email is optional and can be updated by admin"})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("label",{className:"info-label",children:"Emergency Contact"}),t.jsx("div",{className:"info-value",children:(d==null?void 0:d.emergencyContact)||"-"})]}),t.jsxs("div",{className:"info-item",style:{gridColumn:"1 / -1"},children:[t.jsx("label",{className:"info-label",children:"Address"}),t.jsx("div",{className:"info-value",children:d!=null&&d.addressLine?t.jsxs("div",{children:[t.jsx("div",{children:d.addressLine}),d.area&&t.jsx("div",{children:d.area}),d.city&&t.jsxs("div",{children:[d.city,", ",d.district]}),d.pincode&&t.jsxs("div",{children:["PIN: ",d.pincode]})]}):"-"})]})]})]}),o==="security"&&t.jsxs("div",{className:"profile-section",children:[t.jsx("h2",{className:"section-title",children:"Security Settings"}),t.jsx("p",{className:"section-description",children:"Manage your password and security preferences"}),t.jsxs("div",{className:"security-section",children:[t.jsx("h3",{className:"subsection-title",children:"Change Password"}),t.jsxs("form",{onSubmit:b,className:"password-form",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"currentPassword",children:"Current Password *"}),t.jsx("input",{type:"password",id:"currentPassword",value:f.currentPassword,onChange:w=>g({...f,currentPassword:w.target.value}),required:!0,placeholder:"Enter your current password"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"newPassword",children:"New Password *"}),t.jsx("input",{type:"password",id:"newPassword",value:f.newPassword,onChange:w=>g({...f,newPassword:w.target.value}),required:!0,minLength:8,placeholder:"Enter new password (min 8 characters)"}),t.jsx("small",{className:"form-hint",children:"Password must be at least 8 characters and include uppercase, lowercase, number, and special character"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"confirmPassword",children:"Confirm New Password *"}),t.jsx("input",{type:"password",id:"confirmPassword",value:f.confirmPassword,onChange:w=>g({...f,confirmPassword:w.target.value}),required:!0,minLength:8,placeholder:"Confirm new password"})]}),t.jsx("button",{type:"submit",className:"btn btn--primary",disabled:a,children:a?"Changing Password...":"Change Password"})]})]}),t.jsxs("div",{className:"security-section",children:[t.jsx("h3",{className:"subsection-title",children:"OTP Settings"}),t.jsxs("div",{className:"otp-settings",children:[t.jsxs("div",{className:"setting-item",children:[t.jsxs("div",{className:"setting-info",children:[t.jsx("label",{className:"setting-label",children:"OTP Enabled"}),t.jsx("p",{className:"setting-description",children:d!=null&&d.emailAddress?"OTP can be enabled if you have an email address":"OTP requires an email address. Please contact admin to add your email."})]}),t.jsx("div",{className:"setting-control",children:t.jsxs("label",{className:"toggle-switch",children:[t.jsx("input",{type:"checkbox",checked:m,onChange:w=>x(w.target.checked),disabled:!(d!=null&&d.emailAddress)}),t.jsx("span",{className:"toggle-slider"})]})})]}),!(d!=null&&d.emailAddress)&&t.jsxs("div",{className:"setting-note",children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),t.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),"Email address is required to enable OTP. Please contact your administrator."]})]})]})]})]})})]})]})}):null},Wee=()=>{const{user:r,logout:e}=da(),n=Tn();Ka();const[a,i]=k.useState("users"),[s,c]=k.useState(""),[l,u]=k.useState(!1),[o,h]=k.useState(!1),[d,A]=k.useState(!1),[f,g]=k.useState(!1),[m,x]=k.useState(null),[y,b]=k.useState(null),[w,S]=k.useState(null),[N,C]=k.useState(!1),[O,W]=k.useState(null),K=He=>{if(console.log("[extractErrorMessage] Extracting error message from:",He),He instanceof Error){const $t=He;$t.status&&console.log("[extractErrorMessage] Error has status:",$t.status),$t.errorData&&console.log("[extractErrorMessage] Error has errorData:",$t.errorData);const Nt=$t.message||"Unknown error occurred";return console.log("[extractErrorMessage] Extracted message:",Nt),Nt}if(typeof He=="string")return He;if(He&&typeof He=="object"){const $t=He;if(Array.isArray($t.message))return $t.message.join(", ");if($t.message)return String($t.message);if($t.error)return Array.isArray($t.error)?$t.error.join(", "):String($t.error);try{return JSON.stringify($t)}catch{return"Unknown error occurred"}}return console.log("[extractErrorMessage] Could not extract message, returning default"),"An unexpected error occurred. Please check the console for details."},[te,q]=k.useState([]),[Y,P]=k.useState(!1),ce=He=>({id:He.id,companyCode:He.companyCode,companyName:He.companyName,status:He.status}),$=async()=>{P(!0);try{const $t=(await Ha.getAllCompanies(!0)).map(Nt=>ce(Nt));return q($t),$t}catch(He){console.error("Error loading companies:",He);const $t=K(He);return W($t||"Failed to load companies. Please ensure the backend is running and accessible."),[]}finally{P(!1)}},[R,se]=k.useState([]),[fe,Te]=k.useState([]),Ie=He=>{if(!He)return null;if(ie(He))return He;const $t=fe.find(Nt=>Nt.roleName===He);return $t?$t.id:null},_e=(He,$t)=>{let Nt="-";if(He.userRoleId)if(fe.length>0){const Dr=fe.find(vr=>vr.id===He.userRoleId);Nt=Dr?Dr.roleName:"-"}else Nt=He.userRoleId;return{id:He.userId,companyName:$t,mobileNumber:He.mobileNumber,userName:He.userName,empCode:He.employeeCode||"",userRoleID:Nt,employmentType:He.employmentType||"",designation:He.designation||"",contractorName:He.contractorName||"",companyNameThirdParty:He.companyNameThirdParty||"",grossSalary:He.grossSalary?String(He.grossSalary):"",emailAddress:He.emailAddress||"",aadhaar:He.aadhaarNumber||"",pan:He.panNumber||"",dlNum:He.drivingLicenseNumber||"",pfNum:He.pfNumber||"",uan:He.uanNumber||"",esiNum:He.esiNumber||"",address:He.addressLine||"",area:He.area||"",city:He.city||"",district:He.district||"",pincode:He.pincode||"",emergencyContact:He.emergencyContact||"",webLogin:He.webLogin,mobileApp:He.mobileAppAccess,password:"",status:He.status,passwordEnabled:He.passwordEnabled,otpEnabled:He.otpEnabled,forceOtpOnNextLogin:!1,createdBy:"",createdOn:He.createdOn,modifiedBy:"",modifiedOn:He.modifiedOn}},Z=async He=>{let $t=He||te;if($t.length===0&&($t=await $(),$t.length===0)){se([]),C(!1),W("No companies found. Please create a company first.");return}C(!0),W(null);try{const Nt=[];let Dr=!1;for(const vr of $t){if(!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(vr.id)){console.warn(`Skipping company ${vr.companyName} - ID is not a valid UUID: ${vr.id}`);continue}try{Dr=!0;const Qr=(await Kl.getUsersByCompany(vr.id)).map(Ir=>_e(Ir,vr.companyName));Nt.push(...Qr)}catch(Xr){console.warn(`Failed to load users for company ${vr.companyName}:`,Xr);const Qr=K(Xr);Qr.includes("403")||Qr.includes("401")||Qr.includes("Unauthorized")?W("Authentication failed. Please login again."):Qr.includes("404")||console.warn(`Error loading users for ${vr.companyName}: ${Qr}`)}}Dr?(se(Nt),Nt.length>0&&W(null)):W("No valid companies found. Please create a company first.")}catch(Nt){const Dr=K(Nt);W(Dr||"Failed to load users"),console.error("Error loading users:",Nt)}finally{C(!1)}};k.useEffect(()=>{let He=!0;return(async()=>{try{const Nt=await $();if(!He)return;if(Nt.length>0){if(await Re(Nt),!He)return;await Z(Nt)}else W("No companies found. Please create a company first.")}catch(Nt){if(!He)return;console.error("[UserManagementPage] Error during initialization:",Nt);const Dr=K(Nt);W(Dr||"Failed to initialize page. Please refresh.")}})(),()=>{He=!1}},[]),k.useEffect(()=>{if(fe.length>0&&R.length>0){const He=R.map(Nt=>{if(Nt.userRoleID&&ie(Nt.userRoleID)){const Dr=fe.find(vr=>vr.id===Nt.userRoleID);return Dr?{...Nt,userRoleID:Dr.roleName}:{...Nt,userRoleID:"-"}}return Nt});He.some((Nt,Dr)=>Nt.userRoleID!==R[Dr].userRoleID)&&(console.log("[UserManagementPage] Updating user role names after roles loaded"),se(He))}},[fe]);const[Oe]=k.useState([{id:"1",companyName:"Sample Company",mobileNumber:"+91-9876543210",userName:"johndoe",empCode:"EMP001",userRoleID:"Admin",employmentType:"Permanent",webLogin:!0,mobileApp:!0,dlNum:"DL1234567890",aadhaar:"1234-5678-9012",pan:"ABCDE1234F",uan:"UAN123456789",pfNum:"PF123456789",esiNum:"ESI123456789",address:"123 Main Street",area:"Downtown",city:"Mumbai",district:"Mumbai",pincode:"400001",emergencyContact:"+91-9876543211",contractorName:"",grossSalary:"50000",password:"********",emailAddress:"john.doe@example.com",status:"Active",createdBy:"System",createdOn:"2023-01-01",modifiedBy:"System",modifiedOn:"2023-01-01"},{id:"2",companyName:"ABC Industries",mobileNumber:"+91-9876543212",userName:"janesmith",empCode:"EMP002",userRoleID:"Manager",employmentType:"Permanent",webLogin:!0,mobileApp:!1,dlNum:"DL0987654321",aadhaar:"9876-5432-1098",pan:"FGHIJ5678K",uan:"UAN987654321",pfNum:"PF987654321",esiNum:"ESI987654321",address:"456 Admin Avenue",area:"Suburban",city:"Delhi",district:"New Delhi",pincode:"110001",emergencyContact:"+91-9876543213",contractorName:"",grossSalary:"75000",password:"********",emailAddress:"jane.smith@example.com",status:"Active",createdBy:"Admin",createdOn:"2023-01-02",modifiedBy:"Admin",modifiedOn:"2023-01-02"},{id:"3",companyName:"XYZ Corporation",mobileNumber:"+91-9876543214",userName:"bobwilson",empCode:"EMP003",userRoleID:"Driver",employmentType:"Contract",webLogin:!1,mobileApp:!0,dlNum:"DL1122334455",aadhaar:"5555-6666-7777",pan:"KLMNO9012P",uan:"UAN555666777",pfNum:"PF555666777",esiNum:"ESI555666777",address:"789 Factory Road",area:"Industrial",city:"Bangalore",district:"Bangalore",pincode:"560001",emergencyContact:"+91-9876543215",contractorName:"ABC Contractors",grossSalary:"35000",password:"********",emailAddress:"bob.wilson@example.com",status:"Active",createdBy:"Admin",createdOn:"2023-01-03",modifiedBy:"Admin",modifiedOn:"2023-01-03"}]),ee=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:n.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:n.pathname==="/transaction"||n.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:n.pathname==="/finance"||n.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname==="/commercial-agreements"||n.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:n.pathname==="/compliance-training"||n.pathname.startsWith("/compliance-training")},{path:"/master",label:"Masters",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:n.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname.startsWith("/report")}],re=R.filter(He=>{const $t=s.toLowerCase();return(He.userName||"").toLowerCase().includes($t)||(He.emailAddress||"").toLowerCase().includes($t)||(He.empCode||"").toLowerCase().includes($t)||(He.mobileNumber||"").toLowerCase().includes($t)||(He.companyName||"").toLowerCase().includes($t)}),je=fe.filter(He=>He.roleName.toLowerCase().includes(s.toLowerCase())||He.description.toLowerCase().includes(s.toLowerCase())||He.companyName.toLowerCase().includes(s.toLowerCase())),Ne=()=>{x(null),u(!0)},ye=async He=>{console.log("[handleEditUser] Editing user:",He.id),C(!0),W(null);try{const $t=await Kl.getUserById(He.id);console.log("[handleEditUser] Complete user data fetched:",$t);const Nt=te.find(an=>an.id===$t.companyId),Dr=(Nt==null?void 0:Nt.companyName)||He.companyName,vr=_e($t,Dr);console.log("[handleEditUser] Mapped user data:",vr),x(vr),u(!0)}catch($t){console.error("[handleEditUser] Error fetching user data:",$t);const Nt=K($t);W(Nt||"Failed to load user data. Please try again."),x(He),u(!0)}finally{C(!1)}},me=async He=>{if(window.confirm("Are you sure you want to delete this user?")){C(!0),W(null);try{await Kl.deleteUser(He),await Z()}catch($t){const Nt=K($t);W(Nt||"Failed to delete user"),console.error("Error deleting user:",$t)}finally{C(!1)}}},ie=He=>!He||He.trim()===""?!1:/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(He),le=async He=>{console.log("handleSaveUser called with formData:",He),C(!0),W(null);try{if(m){console.log("[handleSaveUser] ========== UPDATE START =========="),console.log("[handleSaveUser] Editing user ID:",m.id);const $t=te.find(vr=>vr.companyName===He.companyName)||te[0];if(!$t)throw new Error("Please select a company");if(!ie($t.id))throw new Error(`Invalid company ID. Please ensure companies are loaded from the API. Company ID: ${$t.id}`);const Nt={companyId:$t.id,userName:He.userName||"",mobileNumber:He.mobileNumber||"",employeeCode:He.empCode||null,emailAddress:He.emailAddress||null};if(He.userRoleID&&He.userRoleID.trim()){console.log("[handleSaveUser] Processing userRoleID:",He.userRoleID);const vr=Ie(He.userRoleID);console.log("[handleSaveUser] Converted role ID:",vr),vr&&ie(vr)?(Nt.userRoleId=vr,console.log("[handleSaveUser] Using converted UUID role ID:",vr)):ie(He.userRoleID)?(Nt.userRoleId=He.userRoleID,console.log("[handleSaveUser] Using provided UUID role ID:",He.userRoleID)):console.warn("[handleSaveUser] Role ID is not a valid UUID, skipping role assignment:",{roleName:He.userRoleID,roleId:vr,message:"Role will not be assigned. Please ensure roles are fetched from the backend API with valid UUIDs."})}else console.log("[handleSaveUser] No userRoleID provided, skipping role assignment");Nt.employmentType=He.employmentType&&He.employmentType.trim()?He.employmentType.trim():null,Nt.designation=He.designation&&He.designation.trim()?He.designation.trim():null,Nt.contractorName=He.contractorName&&He.contractorName.trim()?He.contractorName.trim():null,Nt.companyNameThirdParty=He.companyNameThirdParty&&He.companyNameThirdParty.trim()?He.companyNameThirdParty.trim():null,Nt.grossSalary=He.grossSalary&&parseFloat(String(He.grossSalary))||null,Nt.aadhaarNumber=He.aadhaar&&He.aadhaar.trim()?He.aadhaar.trim():null,Nt.panNumber=He.pan&&He.pan.trim()?He.pan.trim():null,Nt.drivingLicenseNumber=He.dlNum&&He.dlNum.trim()?He.dlNum.trim():null,Nt.pfNumber=He.pfNum&&He.pfNum.trim()?He.pfNum.trim():null,Nt.uanNumber=He.uan&&He.uan.trim()?He.uan.trim():null,Nt.esiNumber=He.esiNum&&He.esiNum.trim()?He.esiNum.trim():null,Nt.addressLine=He.address&&He.address.trim()?He.address.trim():null,Nt.area=He.area&&He.area.trim()?He.area.trim():null,Nt.city=He.city&&He.city.trim()?He.city.trim():null,Nt.district=He.district&&He.district.trim()?He.district.trim():null,Nt.pincode=He.pincode&&He.pincode.trim()?He.pincode.trim():null,Nt.emergencyContact=He.emergencyContact&&He.emergencyContact.trim()?He.emergencyContact.trim():null,Nt.webLogin=He.webLogin||!1,Nt.mobileAppAccess=He.mobileApp||!1,Nt.status=He.status||"Draft",Nt.passwordEnabled=He.passwordEnabled||!1,Nt.otpEnabled=He.otpEnabled||!1,Nt.forceOtpOnNextLogin=He.forceOtpOnNextLogin||!1,console.log("[handleSaveUser] Update payload (FULL):",JSON.stringify(Nt,null,2)),console.log("[handleSaveUser] Field verification:"),console.log("  - Email:",Nt.emailAddress),console.log("  - Aadhaar:",Nt.aadhaarNumber),console.log("  - PAN:",Nt.panNumber),console.log("  - ESI:",Nt.esiNumber),console.log("  - Address:",Nt.addressLine);let Dr=!1;try{const vr=await Kl.updateCompleteUser(m.id,Nt);Dr=!0,console.log("[handleSaveUser] UPDATE API call successful. Result:",vr),alert("User updated successfully!"),console.log("[handleSaveUser] Closing modal..."),u(!1),x(null),W(null),console.log("[handleSaveUser] Modal closed"),setTimeout(async()=>{try{await Z(),console.log("[handleSaveUser] Users reloaded")}catch(an){console.error("[handleSaveUser] Reload error (data was saved):",an)}},500),console.log("[handleSaveUser] ========== UPDATE END (SUCCESS) ==========")}catch(vr){throw Dr=!1,console.error("[handleSaveUser]  UPDATE API CALL FAILED:",vr),vr}}else{const $t=te.find(vr=>vr.companyName===He.companyName)||te[0];if(!$t)throw new Error("Please select a company");if(!ie($t.id))throw new Error(`Invalid company ID. Please ensure companies are loaded from the API. Company ID: ${$t.id}`);const Nt={companyId:$t.id,userName:He.userName||"",mobileNumber:He.mobileNumber||"",employeeCode:He.empCode,emailAddress:He.emailAddress||null};if(console.log("[handleSaveUser] Email address from formData:",He.emailAddress),console.log("[handleSaveUser] Email address in createData:",Nt.emailAddress),He.userRoleID&&He.userRoleID.trim()){console.log("[handleSaveUser] Processing userRoleID:",He.userRoleID);const vr=Ie(He.userRoleID);console.log("[handleSaveUser] Converted role ID:",vr),vr&&ie(vr)?(Nt.userRoleId=vr,console.log("[handleSaveUser] Using converted UUID role ID:",vr)):ie(He.userRoleID)?(Nt.userRoleId=He.userRoleID,console.log("[handleSaveUser] Using provided UUID role ID:",He.userRoleID)):console.warn("[handleSaveUser] Role ID is not a valid UUID, skipping role assignment:",{roleName:He.userRoleID,roleId:vr,message:"Role will not be assigned. Please ensure roles are fetched from the backend API with valid UUIDs."})}else console.log("[handleSaveUser] No userRoleID provided, skipping role assignment");Nt.employmentType=He.employmentType&&He.employmentType.trim()?He.employmentType.trim():null,Nt.designation=He.designation&&He.designation.trim()?He.designation.trim():null,Nt.contractorName=He.contractorName&&He.contractorName.trim()?He.contractorName.trim():null,Nt.companyNameThirdParty=He.companyNameThirdParty&&He.companyNameThirdParty.trim()?He.companyNameThirdParty.trim():null,Nt.grossSalary=He.grossSalary&&parseFloat(String(He.grossSalary))||null,console.log("[handleSaveUser] Step 2 fields:",{employmentType:Nt.employmentType,designation:Nt.designation,contractorName:Nt.contractorName,companyNameThirdParty:Nt.companyNameThirdParty,grossSalary:Nt.grossSalary}),Nt.aadhaarNumber=He.aadhaar&&He.aadhaar.trim()?He.aadhaar.trim():null,Nt.panNumber=He.pan&&He.pan.trim()?He.pan.trim():null,Nt.drivingLicenseNumber=He.dlNum&&He.dlNum.trim()?He.dlNum.trim():null,Nt.pfNumber=He.pfNum&&He.pfNum.trim()?He.pfNum.trim():null,Nt.uanNumber=He.uan&&He.uan.trim()?He.uan.trim():null,Nt.esiNumber=He.esiNum&&He.esiNum.trim()?He.esiNum.trim():null,console.log("[handleSaveUser] Step 3 fields:",{aadhaar:Nt.aadhaarNumber,pan:Nt.panNumber,drivingLicense:Nt.drivingLicenseNumber,pfNumber:Nt.pfNumber,uan:Nt.uanNumber,esi:Nt.esiNumber}),Nt.addressLine=He.address&&He.address.trim()?He.address.trim():null,Nt.area=He.area&&He.area.trim()?He.area.trim():null,Nt.city=He.city&&He.city.trim()?He.city.trim():null,Nt.district=He.district&&He.district.trim()?He.district.trim():null,Nt.pincode=He.pincode&&He.pincode.trim()?He.pincode.trim():null,Nt.emergencyContact=He.emergencyContact&&He.emergencyContact.trim()?He.emergencyContact.trim():null,console.log("[handleSaveUser] Step 4 fields:",{address:Nt.addressLine,area:Nt.area,city:Nt.city,district:Nt.district,pincode:Nt.pincode,emergencyContact:Nt.emergencyContact}),Nt.webLogin=He.webLogin||!1,Nt.mobileAppAccess=He.mobileApp||!1,Nt.status=He.status||"Draft",Nt.passwordEnabled=He.passwordEnabled||!1,Nt.otpEnabled=He.otpEnabled||!1,Nt.forceOtpOnNextLogin=He.forceOtpOnNextLogin||!1,console.log("[handleSaveUser] ========== SAVE START =========="),console.log("[handleSaveUser] Calling createCompleteUser with data:",Nt),console.log("[handleSaveUser] API payload (FULL):",JSON.stringify(Nt,null,2)),console.log("[handleSaveUser] Field verification:"),console.log("  - Email:",Nt.emailAddress),console.log("  - Aadhaar:",Nt.aadhaarNumber),console.log("  - PAN:",Nt.panNumber),console.log("  - ESI:",Nt.esiNumber),console.log("  - Address:",Nt.addressLine),console.log("  - Area:",Nt.area),console.log("  - City:",Nt.city);let Dr=!1;try{const vr=await Kl.createCompleteUser(Nt);Dr=!0,console.log("[handleSaveUser] API call successful. Result:",vr),vr||console.warn("[handleSaveUser] Warning: API returned empty result but status was 200"),alert("User created successfully!"),console.log("[handleSaveUser] Closing modal..."),u(!1),x(null),W(null),console.log("[handleSaveUser] Modal closed"),setTimeout(async()=>{try{await Z(),console.log("[handleSaveUser] Users reloaded")}catch(an){console.error("[handleSaveUser] Reload error (data was saved):",an)}},500),console.log("[handleSaveUser] ========== SAVE END (SUCCESS) ==========")}catch(vr){throw Dr=!1,console.error("[handleSaveUser]  API CALL FAILED:",vr),vr}}}catch($t){console.error("[handleSaveUser] ========== ERROR START =========="),console.error("[handleSaveUser] Catch block - Error saving user:",$t),console.error("[handleSaveUser] Error type:",typeof $t),console.error("[handleSaveUser] Error instance check:",$t instanceof Error);try{if($t instanceof Error){const vr=$t;console.error("[handleSaveUser] Error details:",{message:vr.message,name:vr.name,stack:vr.stack,status:vr.status,statusText:vr.statusText,errorData:vr.errorData})}else console.error("[handleSaveUser] Non-Error object:",JSON.stringify($t,null,2))}catch(vr){console.error("[handleSaveUser] Could not log error details:",vr)}const Nt=K($t);console.error("[handleSaveUser] Extracted error message:",Nt),console.error("[handleSaveUser] ========== ERROR END ==========");const Dr=Nt||"Failed to save user. Please check console (F12) for details.";W(Dr),alert(` Error Saving User

${Dr}

Please check the browser console (F12) for more details.`),console.error("[handleSaveUser] Error handling complete - Modal remains open")}finally{C(!1),console.log("[handleSaveUser] Finally block - Loading set to false")}},Ee=(He,$t)=>({id:He.roleId,roleName:He.roleName,description:He.roleDescription||"",companyName:$t,status:He.status,createdBy:He.createdBy||"",createdOn:He.createdOn,modifiedBy:He.modifiedBy||"",modifiedOn:He.modifiedOn}),Re=async He=>{let $t=He||te;if($t.length===0&&($t=await $(),$t.length===0)){console.warn("No companies available to load roles"),Te([]);return}C(!0),W(null);try{const Nt=[];for(const Dr of $t){if(!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(Dr.id)){console.warn(`Skipping company ${Dr.companyName} - ID is not a valid UUID: ${Dr.id}`);continue}try{const Xr=(await Kp.getAllRoles(Dr.id,!1)).map(Qr=>Ee(Qr,Dr.companyName));Nt.push(...Xr)}catch(an){console.warn(`Failed to load roles for company ${Dr.companyName}:`,an)}}Te(Nt),console.log(`[loadRoles] Loaded ${Nt.length} roles`)}catch(Nt){const Dr=K(Nt);W(Dr||"Failed to load roles"),console.error("Error loading roles:",Nt)}finally{C(!1)}},Ue=()=>{b(null),h(!0)},de=He=>{b(He),h(!0)},Ce=async He=>{if(window.confirm("Are you sure you want to delete this role?")){C(!0),W(null);try{await Kp.deleteRole(He),await Re(),alert("Role deleted successfully!")}catch($t){const Nt=K($t);W(Nt||"Failed to delete role"),console.error("Error deleting role:",$t),alert(` Error Deleting Role

${Nt}

Please check the browser console (F12) for more details.`)}finally{C(!1)}}},ue=async He=>{C(!0),W(null);try{const $t=te.find(Nt=>Nt.companyName===He.companyName);if(!$t)throw new Error("Please select a company");if(y){const Nt={roleName:He.roleName,roleDescription:He.description||null,status:He.status};console.log("[handleSaveRole] Updating role:",y.id,Nt),await Kp.updateRole(y.id,Nt),console.log("[handleSaveRole] Role updated successfully"),alert("Role updated successfully!")}else{const Nt={companyId:$t.id,roleName:He.roleName||"",roleDescription:He.description||null,status:He.status||"Active"};console.log("[handleSaveRole] Creating role:",Nt),await Kp.createRole(Nt),console.log("[handleSaveRole] Role created successfully"),alert("Role created successfully!")}h(!1),b(null),await Re()}catch($t){const Nt=K($t);W(Nt||"Failed to save role"),console.error("[handleSaveRole] Error saving role:",$t),alert(` Error Saving Role

${Nt}

Please check the browser console (F12) for more details.`)}finally{C(!1)}},[$e,it]=k.useState(!1),[Et,Ct]=k.useState(null),Bt=async(He,$t)=>{C(!0),W(null);try{if($t.passwordEnabled){const Nt=await Uee(He,$t);Ct({userName:Nt.userName,temporaryPassword:Nt.temporaryPassword,expiry:Nt.temporaryPasswordExpiry}),it(!0),await Z()}else await Kl.activateUser(He,$t),await Z()}catch(Nt){const Dr=K(Nt);W(Dr||"Failed to activate user"),console.error("Error activating user:",Nt)}finally{C(!1)}},mr=async(He,$t)=>{if(window.confirm(`Are you sure you want to reset the password for ${$t}? A new temporary password will be generated.`)){C(!0),W(null);try{const Nt=await Hee(He);Ct({userName:Nt.userName,temporaryPassword:Nt.temporaryPassword,expiry:Nt.temporaryPasswordExpiry}),it(!0),await Z()}catch(Nt){const Dr=K(Nt);W(Dr||"Failed to reset password"),console.error("Error resetting password:",Nt),alert(` Error Resetting Password

${Dr}

Please check the browser console (F12) for more details.`)}finally{C(!1)}}},lr=async He=>{if(window.confirm("Are you sure you want to deactivate this user?")){C(!0),W(null);try{await Kl.deactivateUser(He),await Z()}catch($t){const Nt=K($t);W(Nt||"Failed to deactivate user"),console.error("Error deactivating user:",$t)}finally{C(!1)}}};return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:"dashboard-sidebar",children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:ee.map(He=>t.jsx("li",{children:t.jsxs(Yr,{to:He.path,className:`nav-link ${He.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:He.icon}),t.jsx("span",{className:"nav-label",children:He.label})]})},He.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Yr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:e,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / User Management"})})}),t.jsxs("div",{className:"user-management-page",children:[t.jsx("div",{className:"user-management-header",children:t.jsx("h1",{className:"user-management-title",children:a==="roles"?"Roles & Permissions":"User Management"})}),O&&t.jsxs("div",{className:"error-message",style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsx("span",{children:O}),t.jsx("button",{onClick:()=>W(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px"},children:""})]}),N&&t.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#64748b",fontSize:"14px"},children:"Loading..."}),t.jsxs("div",{className:"user-management-tabs",children:[t.jsx("button",{className:`tab-button ${a==="users"?"tab-button--active":""}`,onClick:()=>i("users"),children:"Users"}),t.jsx("button",{className:`tab-button ${a==="roles"?"tab-button--active":""}`,onClick:()=>i("roles"),children:"Roles & Permissions"})]}),t.jsxs("div",{className:"user-management-actions",children:[t.jsxs("div",{className:"user-management-search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"user-management-search-input",placeholder:a==="roles"?"Search roles...":"Search users...",value:s,onChange:He=>c(He.target.value)})]}),t.jsx("button",{className:"add-btn",onClick:a==="users"?Ne:Ue,children:a==="users"?"Add User":"Add Role"})]}),a==="users"&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"user-management-table-container",children:t.jsxs("table",{className:"user-management-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Company Name"}),t.jsx("th",{children:"User Name"}),t.jsx("th",{children:"Emp Code"}),t.jsx("th",{children:"Email Address"}),t.jsx("th",{children:"Mobile Number"}),t.jsx("th",{children:"User Role"}),t.jsx("th",{children:"Employment Type"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:re.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:9,style:{textAlign:"center",padding:"40px",color:"#64748b"},children:N?"Loading users...":"No users found"})}):re.map(He=>t.jsxs("tr",{children:[t.jsx("td",{children:He.companyName||"-"}),t.jsx("td",{children:He.userName||"-"}),t.jsx("td",{children:He.empCode||"-"}),t.jsx("td",{children:He.emailAddress||"-"}),t.jsx("td",{children:He.mobileNumber||"-"}),t.jsx("td",{children:He.userRoleID||"-"}),t.jsx("td",{children:He.employmentType||"-"}),t.jsx("td",{children:t.jsx("span",{className:`status-badge status-badge--${He.status.toLowerCase()}`,children:He.status})}),t.jsx("td",{children:t.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>ye(He),title:"Edit",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsxs("button",{className:"action-btn action-btn--reset",onClick:()=>mr(He.id,He.userName),title:"Reset Password - Generate new temporary password",style:{color:"#ffffff",background:"#f59e0b",border:"1px solid #f59e0b",padding:"6px 10px",borderRadius:"6px",display:"flex",alignItems:"center",gap:"4px"},children:[t.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),t.jsx("path",{d:"M21 3v5h-5"}),t.jsx("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}),t.jsx("path",{d:"M3 21v-5h5"})]}),t.jsx("span",{style:{fontSize:"12px",fontWeight:"600"},children:"Reset"})]}),t.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>me(He.id),title:"Delete",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},He.id))})]})}),t.jsxs("div",{className:"user-management-pagination-info",children:["Showing ",re.length," of ",R.length," Items"]})]}),a==="roles"&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"user-management-table-container",children:t.jsxs("table",{className:"user-management-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Role Name"}),t.jsx("th",{children:"Description"}),t.jsx("th",{children:"Company Name"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:je.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"empty-message",children:N?"Loading roles...":"No roles found"})}):je.map(He=>t.jsxs("tr",{children:[t.jsx("td",{children:He.roleName}),t.jsx("td",{children:He.description}),t.jsx("td",{children:He.companyName||"-"}),t.jsx("td",{children:t.jsx("span",{className:`status-badge status-badge--${He.status.toLowerCase()}`,children:He.status})}),t.jsxs("td",{children:[t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>de(He),title:"Edit",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"action-btn action-btn--permissions",onClick:()=>{S(He),A(!0)},title:"Manage Permissions",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})})}),t.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>Ce(He.id),title:"Delete",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},He.id))})]})}),t.jsxs("div",{className:"user-management-pagination-info",children:["Showing ",je.length," of ",fe.length," Items"]})]})]})]}),l&&t.jsx($ee,{user:m,roles:fe.filter(He=>He.status==="Active"),companies:te.filter(He=>He.status==="Active"),onClose:()=>{u(!1),x(null)},onSave:le,onActivate:Bt,onDeactivate:lr,loading:N}),$e&&Et&&t.jsx("div",{className:"modal-overlay",onClick:()=>it(!1),children:t.jsxs("div",{className:"modal-content",onClick:He=>He.stopPropagation(),style:{maxWidth:"500px"},children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:"Temporary Password Generated"}),t.jsx("button",{className:"modal-close-btn",onClick:()=>it(!1),children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("div",{className:"modal-body",style:{padding:"24px"},children:[t.jsxs("div",{style:{background:"#fef3c7",border:"1px solid #fbbf24",borderRadius:"8px",padding:"16px",marginBottom:"20px"},children:[t.jsx("p",{style:{margin:"0 0 12px 0",fontWeight:"600",color:"#92400e"},children:"Important: This password will only be shown once!"}),t.jsx("p",{style:{margin:0,fontSize:"14px",color:"#78350f"},children:"Please copy this password and share it securely with the user. The user must change this password on their first login."})]}),t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#374151"},children:"User Name:"}),t.jsx("div",{style:{padding:"12px",background:"#f3f4f6",borderRadius:"6px",fontFamily:"monospace",fontSize:"14px"},children:Et.userName})]}),t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#374151"},children:"Temporary Password:"}),t.jsxs("div",{style:{position:"relative",display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("div",{style:{flex:1,padding:"12px",background:"#f3f4f6",borderRadius:"6px",fontFamily:"monospace",fontSize:"16px",fontWeight:"600",letterSpacing:"2px",color:"#1f2937"},children:Et.temporaryPassword}),t.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(Et.temporaryPassword),alert("Password copied to clipboard!")},style:{padding:"8px 12px",background:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px"},children:"Copy"})]})]}),Et.expiry&&t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#374151"},children:"Password Expires:"}),t.jsx("div",{style:{padding:"12px",background:"#f3f4f6",borderRadius:"6px",fontSize:"14px",color:"#6b7280"},children:new Date(Et.expiry).toLocaleString()})]}),t.jsxs("div",{style:{background:"#dbeafe",border:"1px solid #93c5fd",borderRadius:"8px",padding:"12px",fontSize:"14px",color:"#1e40af"},children:[t.jsx("strong",{children:"Note:"})," The user will be forced to change this password on their first login. This temporary password expires in 24 hours."]})]}),t.jsx("div",{className:"modal-footer",style:{padding:"16px 24px",borderTop:"1px solid #e5e7eb"},children:t.jsx("button",{type:"button",className:"btn btn--primary",onClick:()=>{it(!1),Ct(null)},style:{width:"100%"},children:"I've Copied the Password"})})]})}),o&&t.jsx(Vee,{role:y,companies:te.filter(He=>He.status==="Active"),onClose:()=>{h(!1),b(null)},onSave:ue}),d&&w&&t.jsx(zee,{role:w,onClose:()=>{A(!1),S(null)},onSave:He=>{console.log("Saving permissions for role:",w.roleName,He),A(!1),S(null)}}),t.jsx(Qee,{isOpen:f,onClose:()=>g(!1)})]})},$ee=({user:r,roles:e,companies:n,onClose:a,onSave:i,onActivate:s,onDeactivate:c,loading:l})=>{const u=C=>{if(!C)return"";if(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(C))return C;if(e&&e.length>0){const O=e.find(W=>W.roleName===C);return O?O.id:""}return""},[o,h]=k.useState(1),[d,A]=k.useState(r||{companyName:"",mobileNumber:"",userName:"",empCode:"",userRoleID:"",employmentType:"",webLogin:!1,mobileApp:!1,dlNum:"",aadhaar:"",pan:"",uan:"",pfNum:"",esiNum:"",address:"",area:"",city:"",district:"",pincode:"",emergencyContact:"",contractorName:"",grossSalary:"",password:"",emailAddress:"",designation:"",companyNameThirdParty:"",status:"Draft",passwordEnabled:!1,otpEnabled:!1,forceOtpOnNextLogin:!1});k.useEffect(()=>{if(r)try{const C=u(r.userRoleID);A(O=>({...r,userRoleID:C||r.userRoleID||""}))}catch(C){console.error("[UserFormModal] Error converting role:",C),A(r)}},[r==null?void 0:r.id]);const f=()=>{const C=[d.companyName,d.userName,d.mobileNumber,d.empCode,d.userRoleID,d.employmentType,d.designation,d.aadhaar,d.pan,d.address,d.area,d.city,d.district,d.pincode,d.emergencyContact],O=C.filter(W=>W&&W.toString().trim()!=="").length;return Math.round(O/C.length*100)},g=(C,O)=>{A(C==="companyName"?{...d,[C]:O,userRoleID:""}:{...d,[C]:O})},m=()=>{if(console.log("handleNext called - Current step:",o),o<6){const C=o+1;console.log("Setting step to:",C),h(C)}else console.warn("handleNext called but already at step 6")},x=()=>{o>1&&h(o-1)},y=C=>{const O=[];switch(C){case 1:(!d.companyName||d.companyName.trim()==="")&&O.push("Company"),(!d.userName||d.userName.trim()==="")&&O.push("User Name"),(!d.mobileNumber||d.mobileNumber.trim()==="")&&O.push("Mobile Number"),(!d.empCode||d.empCode.trim()==="")&&O.push("Employee Code"),(!d.userRoleID||d.userRoleID.trim()==="")&&O.push("User Role");break;case 2:(!d.employmentType||d.employmentType.trim()==="")&&O.push("Employment Type"),(!d.designation||d.designation.trim()==="")&&O.push("Designation"),d.employmentType==="Contract"&&(!d.contractorName||d.contractorName.trim()==="")&&O.push("Contractor Name");break;case 3:break;case 4:break;case 5:break;case 6:(!d.companyName||d.companyName.trim()==="")&&O.push("Company (Step 1)"),(!d.userName||d.userName.trim()==="")&&O.push("User Name (Step 1)"),(!d.mobileNumber||d.mobileNumber.trim()==="")&&O.push("Mobile Number (Step 1)"),(!d.empCode||d.empCode.trim()==="")&&O.push("Employee Code (Step 1)"),(!d.userRoleID||d.userRoleID.trim()==="")&&O.push("User Role (Step 1)"),(!d.employmentType||d.employmentType.trim()==="")&&O.push("Employment Type (Step 2)"),(!d.designation||d.designation.trim()==="")&&O.push("Designation (Step 2)"),d.employmentType==="Contract"&&(!d.contractorName||d.contractorName.trim()==="")&&O.push("Contractor Name (Step 2)");break}const W=O.length===0,te=W?"":`Validation Error - Step ${C}: ${C===1?"Create User":C===2?"Employee Profile":C===3?"Identity & Compliance":C===4?"Address & Emergency":C===5?"User Activation":"Summary"}

Please fill in the following required fields:

${O.map((q,Y)=>`  ${Y+1}. ${q}`).join(`
`)}

Please complete these fields before continuing.`;return{isValid:W,missingFields:O,message:te}},b=C=>{C&&(C.preventDefault(),C.stopPropagation()),console.log("handleSaveAndContinue called - Current step:",o),console.log("Form data:",d);const O=y(o);if(!O.isValid){alert(O.message),console.error(`Step ${o} validation failed - Missing fields:`,O.missingFields);return}o<6?(console.log(`Moving from Step ${o} to Step ${o+1}`),m()):console.warn("handleSaveAndContinue called on Step 6 - should use handleFinalSave instead")},w=C=>{if(C&&(C.preventDefault(),C.stopPropagation()),console.log("handleFinalSave called - Current step:",o),o===6){const O=[],W=y(1);if(W.isValid||O.push({step:1,fields:W.missingFields}),O.length>0){const te=O.map(({step:q,fields:Y})=>`Step ${q}:
${Y.map((P,ce)=>`  ${ce+1}. ${P}`).join(`
`)}`).join(`

`);alert(`Please fill in all required fields before saving:

${te}

Please go back and complete these fields.`),console.error("Final save validation failed - Missing fields:",O);return}const K={...d,status:d.status||"Draft"};console.log("[handleFinalSave] Saving complete user data:",K),console.log("[handleFinalSave] Email address in finalData:",K.emailAddress),console.log("[handleFinalSave] Calling onSave (handleSaveUser)..."),i(K)}else console.warn("handleFinalSave called but not on Step 6 - Current step:",o)},S=()=>{window.confirm("Are you sure you want to cancel? All unsaved changes will be lost.")&&a()},N=[{number:1,title:"Create user"},{number:2,title:"Employee profile"},{number:3,title:"Identity & compliance"},{number:4,title:"Address & emergency"},{number:5,title:"User activation"},{number:6,title:"Summary & confirm"}];return t.jsx("div",{className:"modal-overlay",onClick:S,children:t.jsxs("div",{className:"modal-content wizard-modal",onClick:C=>C.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit User":"Create User"}),t.jsx("button",{className:"modal-close-btn",onClick:S,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsx("div",{className:"wizard-progress",children:N.map(C=>t.jsxs("div",{className:`wizard-step ${o>=C.number?"wizard-step--active":""} ${o===C.number?"wizard-step--current":""}`,children:[t.jsx("div",{className:"wizard-step-number",children:C.number}),t.jsx("div",{className:"wizard-step-title",children:C.title})]},C.number))}),t.jsxs("div",{className:"wizard-content",children:[o===1&&t.jsxs("div",{className:"wizard-step-content",children:[t.jsx("h3",{className:"wizard-step-header",children:"Create user"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company *"}),t.jsxs("select",{value:d.companyName||"",onChange:C=>g("companyName",C.target.value),required:!0,children:[t.jsx("option",{value:"",children:"Select company"}),n.map(C=>t.jsx("option",{value:C.companyName,children:C.companyName},C.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"User name *"}),t.jsx("input",{type:"text",value:d.userName||"",onChange:C=>g("userName",C.target.value),placeholder:"e.g., johndoe, user123",required:!0,minLength:3,maxLength:100,pattern:"^[a-zA-Z0-9_]+$"}),t.jsx("small",{style:{fontSize:"12px",color:"#666",marginTop:"4px",display:"block"},children:"Minimum 3 characters, only letters, numbers, and underscores allowed (e.g., johndoe, user_123)"})]}),t.jsxs("div",{className:"form-group field-mobile",children:[t.jsx("label",{children:"Mobile number *"}),t.jsx("input",{type:"tel",value:d.mobileNumber||"",onChange:C=>g("mobileNumber",C.target.value),placeholder:"e.g., 9876543210 or +91-9876543210",required:!0}),t.jsx("small",{style:{fontSize:"12px",color:"#666",marginTop:"4px",display:"block"},children:"Format: 10-digit Indian mobile number (9876543210, +91-9876543210, or 98765 43210)"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Email address"}),t.jsx("input",{type:"email",value:d.emailAddress||"",onChange:C=>g("emailAddress",C.target.value),placeholder:"e.g., user@example.com",maxLength:255}),t.jsx("small",{style:{fontSize:"12px",color:"#666",marginTop:"4px",display:"block"},children:"Valid email address (e.g., user@example.com)"})]}),t.jsxs("div",{className:"form-group field-emp-code",children:[t.jsx("label",{children:"Employee code *"}),t.jsx("input",{type:"text",value:d.empCode||"",onChange:C=>g("empCode",C.target.value),placeholder:"e.g., EMP001, E12345",required:!0,maxLength:50}),t.jsx("small",{style:{fontSize:"12px",color:"#666",marginTop:"4px",display:"block"},children:"Maximum 50 characters (e.g., EMP001, E12345)"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"User role *"}),t.jsxs("select",{value:d.userRoleID||"",onChange:C=>g("userRoleID",C.target.value),required:!0,disabled:!d.companyName,children:[t.jsx("option",{value:"",children:d.companyName?"Select role":"Select company first"}),d.companyName&&e.filter(C=>C.companyName===d.companyName&&C.status==="Active").map(C=>t.jsx("option",{value:C.id,children:C.roleName},C.id))]}),!d.companyName&&t.jsx("small",{style:{fontSize:"12px",color:"#666",marginTop:"4px",display:"block"},children:"Please select a company first to see available roles"}),d.companyName&&e.filter(C=>C.companyName===d.companyName&&C.status==="Active").length===0&&t.jsx("small",{style:{fontSize:"12px",color:"#f59e0b",marginTop:"4px",display:"block"},children:"No active roles available for this company. Please create a role first."})]})]})]}),o===2&&t.jsxs("div",{className:"wizard-step-content",children:[t.jsx("h3",{className:"wizard-step-header",children:"Employee profile"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Employment type *"}),t.jsxs("select",{value:d.employmentType||"",onChange:C=>g("employmentType",C.target.value),required:!0,children:[t.jsx("option",{value:"",children:"Select type"}),t.jsx("option",{value:"Permanent",children:"Permanent"}),t.jsx("option",{value:"Contract",children:"Contract"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Designation *"}),t.jsx("input",{type:"text",value:d.designation||"",onChange:C=>g("designation",C.target.value),required:!0})]}),d.employmentType==="Contract"&&t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Contractor name *"}),t.jsx("input",{type:"text",value:d.contractorName||"",onChange:C=>g("contractorName",C.target.value),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company name (if third-party)"}),t.jsx("input",{type:"text",value:d.companyNameThirdParty||"",onChange:C=>g("companyNameThirdParty",C.target.value)})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Gross salary"}),t.jsx("input",{type:"text",value:d.grossSalary||"",onChange:C=>g("grossSalary",C.target.value)})]})]})]}),o===3&&t.jsxs("div",{className:"wizard-step-content",children:[t.jsx("h3",{className:"wizard-step-header",children:"Identity & compliance details"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group field-aadhaar",children:[t.jsx("label",{children:"Aadhaar"}),t.jsx("input",{type:"text",value:d.aadhaar||"",onChange:C=>g("aadhaar",C.target.value)})]}),t.jsxs("div",{className:"form-group field-pan",children:[t.jsx("label",{children:"PAN"}),t.jsx("input",{type:"text",value:d.pan||"",onChange:C=>g("pan",C.target.value)})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Driving license"}),t.jsx("input",{type:"text",value:d.dlNum||"",onChange:C=>g("dlNum",C.target.value)})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"PF number"}),t.jsx("input",{type:"text",value:d.pfNum||"",onChange:C=>g("pfNum",C.target.value)})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"UAN"}),t.jsx("input",{type:"text",value:d.uan||"",onChange:C=>g("uan",C.target.value)})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"ESI number"}),t.jsx("input",{type:"text",value:d.esiNum||"",onChange:C=>g("esiNum",C.target.value)})]})]})]}),o===4&&t.jsxs("div",{className:"wizard-step-content",children:[t.jsx("h3",{className:"wizard-step-header",children:"Address & emergency"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Address"}),t.jsx("textarea",{value:d.address||"",onChange:C=>g("address",C.target.value),rows:3})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Area"}),t.jsx("input",{type:"text",value:d.area||"",onChange:C=>g("area",C.target.value)})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"City"}),t.jsx("input",{type:"text",value:d.city||"",onChange:C=>g("city",C.target.value)})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"District"}),t.jsx("input",{type:"text",value:d.district||"",onChange:C=>g("district",C.target.value)})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Pincode"}),t.jsx("input",{type:"text",value:d.pincode||"",onChange:C=>g("pincode",C.target.value)})]}),t.jsxs("div",{className:"form-group field-mobile",children:[t.jsx("label",{children:"Emergency contact number"}),t.jsx("input",{type:"tel",value:d.emergencyContact||"",onChange:C=>g("emergencyContact",C.target.value)})]})]})]}),o===5&&t.jsxs("div",{className:"wizard-step-content",children:[t.jsx("h3",{className:"wizard-step-header",children:"User activation & access enablement"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Web login *"}),t.jsxs("select",{value:d.webLogin?"Yes":"No",onChange:C=>g("webLogin",C.target.value==="Yes"),required:!0,children:[t.jsx("option",{value:"Yes",children:"Yes"}),t.jsx("option",{value:"No",children:"No"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Mobile app access *"}),t.jsxs("select",{value:d.mobileApp?"Yes":"No",onChange:C=>g("mobileApp",C.target.value==="Yes"),required:!0,children:[t.jsx("option",{value:"Yes",children:"Yes"}),t.jsx("option",{value:"No",children:"No"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status *"}),t.jsxs("select",{value:d.status||"Draft",onChange:C=>g("status",C.target.value),required:!0,children:[t.jsx("option",{value:"Draft",children:"Draft"}),t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Password enabled *"}),t.jsxs("select",{value:d.passwordEnabled?"Yes":"No",onChange:C=>g("passwordEnabled",C.target.value==="Yes"),required:!0,children:[t.jsx("option",{value:"Yes",children:"Yes"}),t.jsx("option",{value:"No",children:"No"})]})]}),t.jsxs("div",{className:"form-group field-otp",children:[t.jsx("label",{children:"OTP enabled *"}),t.jsxs("select",{value:d.otpEnabled?"Yes":"No",onChange:C=>g("otpEnabled",C.target.value==="Yes"),required:!0,children:[t.jsx("option",{value:"Yes",children:"Yes"}),t.jsx("option",{value:"No",children:"No"})]})]}),t.jsxs("div",{className:"form-group field-otp",children:[t.jsx("label",{children:"Force OTP on next login *"}),t.jsxs("select",{value:d.forceOtpOnNextLogin?"Yes":"No",onChange:C=>g("forceOtpOnNextLogin",C.target.value==="Yes"),required:!0,children:[t.jsx("option",{value:"Yes",children:"Yes"}),t.jsx("option",{value:"No",children:"No"})]})]})]})]}),o===6&&t.jsxs("div",{className:"wizard-step-content",children:[t.jsx("h3",{className:"wizard-step-header",children:"User summary & confirmation"}),t.jsx("div",{className:"activation-summary",children:t.jsxs("div",{className:"summary-card",children:[t.jsx("h4",{children:"User summary"}),t.jsxs("div",{className:"summary-info",children:[t.jsxs("div",{className:"info-row",children:[t.jsx("span",{className:"info-label",children:"Company:"}),t.jsx("span",{className:"info-value",children:d.companyName||"-"})]}),t.jsxs("div",{className:"info-row",children:[t.jsx("span",{className:"info-label",children:"User name:"}),t.jsx("span",{className:"info-value",children:d.userName||"-"})]}),t.jsxs("div",{className:"info-row",children:[t.jsx("span",{className:"info-label",children:"Employee code:"}),t.jsx("span",{className:"info-value",children:d.empCode||"-"})]}),t.jsxs("div",{className:"info-row",children:[t.jsx("span",{className:"info-label",children:"Role:"}),t.jsx("span",{className:"info-value",children:d.userRoleID||"-"})]}),t.jsxs("div",{className:"info-row",children:[t.jsx("span",{className:"info-label",children:"Profile completeness:"}),t.jsxs("span",{className:"info-value",children:[f(),"%"]})]})]}),t.jsxs("div",{className:"activation-actions",children:[t.jsx("button",{type:"button",className:"btn btn--activate",onClick:async()=>{r!=null&&r.id&&s&&(await s(r.id,{passwordEnabled:d.passwordEnabled||!1,otpEnabled:d.otpEnabled||!1,webLogin:d.webLogin||!1,mobileAppAccess:d.mobileApp||!1,forceOtpOnNextLogin:d.forceOtpOnNextLogin||!1}),a())},disabled:!(r!=null&&r.id)||l,children:"Activate User"}),t.jsx("button",{type:"button",className:"btn btn--deactivate",onClick:async()=>{r!=null&&r.id&&c&&(await c(r.id),a())},disabled:!(r!=null&&r.id)||l,children:" Deactivate User"})]})]})})]})]}),t.jsxs("div",{className:"modal-footer",children:[o>1&&t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:x,children:"Back"}),t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:S,children:"Cancel"}),o<6?t.jsx("button",{type:"button",className:"btn btn--primary",onClick:C=>{C.preventDefault(),C.stopPropagation(),console.log("Save & Continue button clicked!"),b(C)},disabled:l,children:"Save & Continue"}):t.jsx("button",{type:"button",className:"btn btn--primary",onClick:C=>{C.preventDefault(),C.stopPropagation(),console.log("Save & Complete button clicked!"),w(C)},disabled:l,children:"Save & Complete"})]})]})})},Vee=({role:r,companies:e,onClose:n,onSave:a})=>{const[i,s]=k.useState(r||{roleName:"",description:"",companyName:"",status:"Active"}),c=l=>{l.preventDefault(),a(i)};return t.jsx("div",{className:"modal-overlay",onClick:n,children:t.jsxs("div",{className:"modal-content modal-content--role",onClick:l=>l.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Role":"Add Role"}),t.jsx("button",{className:"modal-close-btn",onClick:n,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"role-form role-form--simple",onSubmit:c,children:[t.jsx("div",{className:"form-section",children:t.jsxs("div",{className:"form-single-column",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company *"}),t.jsxs("select",{value:i.companyName||"",onChange:l=>s({...i,companyName:l.target.value}),required:!0,disabled:!!r,children:[t.jsx("option",{value:"",children:"Select company"}),e.map(l=>t.jsx("option",{value:l.companyName,children:l.companyName},l.id))]}),r&&t.jsx("small",{style:{fontSize:"12px",color:"#666",marginTop:"4px",display:"block"},children:"Company cannot be changed after role creation"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Role name *"}),t.jsx("input",{type:"text",value:i.roleName||"",onChange:l=>s({...i,roleName:l.target.value}),required:!0,maxLength:100})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Description"}),t.jsx("textarea",{value:i.description||"",onChange:l=>s({...i,description:l.target.value}),rows:3,maxLength:500})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:i.status||"Active",onChange:l=>s({...i,status:l.target.value}),children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},zee=({role:r,onClose:e,onSave:n})=>{const a=[{module:"User Management",permissions:[{id:"user_view",name:"View User",code:"user.view"},{id:"user_create",name:"Create User",code:"user.create"},{id:"user_edit",name:"Edit User",code:"user.edit"},{id:"user_delete",name:"Delete User",code:"user.delete"}]},{module:"Roles & Permissions",permissions:[{id:"role_view",name:"View Role",code:"role.view"},{id:"role_create",name:"Create Role",code:"role.create"},{id:"role_edit",name:"Edit Role",code:"role.edit"},{id:"role_delete",name:"Delete Role",code:"role.delete"},{id:"role_permissions",name:"Manage Permissions",code:"role.permissions"}]},{module:"Company Master",permissions:[{id:"company_view",name:"View Company",code:"company.view"},{id:"company_create",name:"Create Company",code:"company.create"},{id:"company_edit",name:"Edit Company",code:"company.edit"},{id:"company_delete",name:"Delete Company",code:"company.delete"}]},{module:"Invoice",permissions:[{id:"invoice_view",name:"View Invoice",code:"invoice.view"},{id:"invoice_create",name:"Create Invoice",code:"invoice.create"},{id:"invoice_edit",name:"Edit Invoice",code:"invoice.edit"},{id:"invoice_approve",name:"Approve Invoice",code:"invoice.approve"},{id:"invoice_delete",name:"Delete Invoice",code:"invoice.delete"}]},{module:"HCF Master",permissions:[{id:"hcf_view",name:"View HCF",code:"hcf.view"},{id:"hcf_create",name:"Create HCF",code:"hcf.create"},{id:"hcf_edit",name:"Edit HCF",code:"hcf.edit"},{id:"hcf_delete",name:"Delete HCF",code:"hcf.delete"}]},{module:"Route Master",permissions:[{id:"route_view",name:"View Route",code:"route.view"},{id:"route_create",name:"Create Route",code:"route.create"},{id:"route_edit",name:"Edit Route",code:"route.edit"},{id:"route_delete",name:"Delete Route",code:"route.delete"}]}],[i,s]=k.useState(()=>{const h={};return a.forEach(d=>{d.permissions.forEach(A=>{h[A.code]=!1})}),h}),c=r.status==="Inactive",l=(h,d)=>{c||s({...i,[h]:d})},u=h=>{if(c)return;const d={...i},A=h.every(f=>i[f.code]);h.forEach(f=>{d[f.code]=!A}),s(d)},o=h=>{h.preventDefault(),n(i)};return t.jsx("div",{className:"modal-overlay",onClick:e,children:t.jsxs("div",{className:"modal-content modal-content--permissions",onClick:h=>h.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsxs("h2",{className:"modal-title",children:["Manage Permissions - ",r.roleName]}),t.jsx("button",{className:"modal-close-btn",onClick:e,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"permissions-form",onSubmit:o,children:[t.jsx("div",{className:"permissions-content",children:a.map(h=>{const d=h.permissions,A=d.every(f=>i[f.code]);return d.some(f=>i[f.code]),t.jsxs("div",{className:"permissions-module",children:[t.jsxs("div",{className:"permissions-module-header",children:[t.jsx("h3",{className:"permissions-module-title",children:h.module}),t.jsx("button",{type:"button",className:"permissions-select-all",onClick:()=>u(d),disabled:c,children:A?"Deselect All":"Select All"})]}),t.jsx("div",{className:"permissions-list",children:d.map(f=>t.jsxs("label",{className:"permission-item",children:[t.jsx("input",{type:"checkbox",checked:i[f.code]||!1,onChange:g=>l(f.code,g.target.checked),disabled:c}),t.jsx("span",{className:"permission-label",children:f.name})]},f.id))})]},h.module)})}),t.jsxs("div",{className:"modal-footer modal-footer--sticky",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:e,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",disabled:c,children:"Save Permissions"})]})]})]})})},Kee=()=>{const{logout:r}=da(),e=Tn(),[n,a]=k.useState(""),[i,s]=k.useState(!1),[c,l]=k.useState(null),[u,o]=k.useState({}),h={Home:[{id:"home-view",name:"View Home",code:"HOME_VIEW",module:"Home"}],"Recon Onboarding":[{id:"recon-onboarding-view",name:"View Recon Onboarding",code:"RECON_ONBOARDING_VIEW",module:"Recon Onboarding"},{id:"recon-onboarding-create",name:"Create Recon Onboarding",code:"RECON_ONBOARDING_CREATE",module:"Recon Onboarding"},{id:"recon-onboarding-edit",name:"Edit Recon Onboarding",code:"RECON_ONBOARDING_EDIT",module:"Recon Onboarding"}],"Recon Configuration":[{id:"recon-config-view",name:"View Recon Configuration",code:"RECON_CONFIG_VIEW",module:"Recon Configuration"},{id:"recon-config-edit",name:"Edit Recon Configuration",code:"RECON_CONFIG_EDIT",module:"Recon Configuration"}],"Recon XOXO":[{id:"recon-xoxo-view",name:"View Recon XOXO",code:"RECON_XOXO_VIEW",module:"Recon XOXO"},{id:"recon-xoxo-create",name:"Create Recon XOXO",code:"RECON_XOXO_CREATE",module:"Recon XOXO"}],Funding:[{id:"funding-view",name:"View Funding",code:"FUNDING_VIEW",module:"Funding"},{id:"funding-approve",name:"Approve Funding",code:"FUNDING_APPROVE",module:"Funding"}],Reports:[{id:"reports-view",name:"View Reports",code:"REPORTS_VIEW",module:"Reports"},{id:"reports-export",name:"Export Reports",code:"REPORTS_EXPORT",module:"Reports"}],Masters:[{id:"masters-view",name:"View Masters",code:"MASTERS_VIEW",module:"Masters"},{id:"masters-create",name:"Create Masters",code:"MASTERS_CREATE",module:"Masters"},{id:"masters-edit",name:"Edit Masters",code:"MASTERS_EDIT",module:"Masters"},{id:"masters-delete",name:"Delete Masters",code:"MASTERS_DELETE",module:"Masters"}],"Camspay Exceptions":[{id:"camspay-view",name:"View Camspay Exceptions",code:"CAMSPAY_VIEW",module:"Camspay Exceptions"},{id:"camspay-resolve",name:"Resolve Camspay Exceptions",code:"CAMSPAY_RESOLVE",module:"Camspay Exceptions"}]},[d]=k.useState([{id:"1",companyCode:"COMP001",companyName:"Sample Company",status:"Active"},{id:"2",companyCode:"COMP002",companyName:"ABC Industries",status:"Active"},{id:"3",companyCode:"COMP003",companyName:"XYZ Corporation",status:"Active"}]),[A,f]=k.useState([{id:"1",roleName:"Administrator",description:"Full system access",companyName:"Sample Company",landingPage:"Dashboard",accessLevel:"Admin",status:"Active",permissions:{},createdBy:"System",createdOn:"2023-01-01",modifiedBy:"System",modifiedOn:"2023-01-01"}]),[g,m]=k.useState({roleName:"",description:"",companyName:"",landingPage:"",status:"",accessLevel:"Admin",permissions:{}}),x=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),t.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),t.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),t.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]}),active:e.pathname==="/dashboard"},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:e.pathname==="/master"||e.pathname.startsWith("/master")},{path:"/master/user-management",label:"User Management",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),active:e.pathname==="/master/user-management"||e.pathname.startsWith("/master/user-management")},{path:"/report",label:"Report",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),active:e.pathname.startsWith("/report")}],y=A.filter(q=>q.roleName.toLowerCase().includes(n.toLowerCase())||q.description.toLowerCase().includes(n.toLowerCase())||q.companyName.toLowerCase().includes(n.toLowerCase())),b=()=>{m({roleName:"",description:"",companyName:"",landingPage:"",status:"",accessLevel:"Admin",permissions:{}}),l(null),s(!0);const q={};Object.values(h).forEach(Y=>{Y.forEach(P=>{q[P.code]=!1})}),m(Y=>({...Y,permissions:q}))},w=q=>{m({roleName:q.roleName,description:q.description,companyName:q.companyName,landingPage:q.landingPage,status:q.status,accessLevel:q.accessLevel,permissions:q.permissions||{}}),l(q),s(!0)},S=q=>{window.confirm("Are you sure you want to delete this role?")&&f(A.filter(Y=>Y.id!==q))},N=()=>{if(!g.roleName||!g.companyName||!g.status){alert("Please fill in all required fields (Role Name, Company Name, and Status)");return}if(c)f(A.map(q=>q.id===c.id?{...q,roleName:g.roleName,description:g.description,companyName:g.companyName,landingPage:g.landingPage,status:g.status,accessLevel:g.accessLevel,permissions:g.permissions,modifiedBy:"Current User",modifiedOn:new Date().toISOString().split("T")[0]}:q));else{const q={id:Date.now().toString(),roleName:g.roleName,description:g.description,companyName:g.companyName,landingPage:g.landingPage,status:g.status,accessLevel:g.accessLevel,permissions:g.permissions,createdBy:"Current User",createdOn:new Date().toISOString().split("T")[0],modifiedBy:"Current User",modifiedOn:new Date().toISOString().split("T")[0]};f([...A,q])}s(!1),l(null)},C=(q,Y)=>{m(P=>({...P,permissions:{...P.permissions,[q]:Y}}))},O=(q,Y)=>{const P=h[q]||[],ce={...g.permissions};P.forEach($=>{ce[$.code]=Y}),m($=>({...$,permissions:ce}))},W=q=>{o(Y=>({...Y,[q]:!Y[q]}))},K=q=>{const Y=h[q]||[];return Y.length===0?!1:Y.every(P=>g.permissions[P.code])},te=q=>{const Y=h[q]||[],P=Y.filter(ce=>g.permissions[ce.code]).length;return P>0&&P<Y.length};return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:"dashboard-sidebar",children:[t.jsx("div",{className:"sidebar-header",children:t.jsx("h2",{className:"sidebar-logo",children:"MWM"})}),t.jsx("nav",{className:"sidebar-nav",children:x.map(q=>t.jsxs(Yr,{to:q.path,className:`nav-item ${q.active?"nav-item--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:q.icon}),t.jsx("span",{className:"nav-label",children:q.label})]},q.path))}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs(Yr,{to:"/profile",className:`sidebar-profile-btn ${e.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"logout-btn",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),"Logout"]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / User Management / Roles & Permissions"})})}),t.jsxs("div",{className:"user-management-page",children:[t.jsxs("div",{className:"user-management-header",children:[t.jsx("h1",{className:"user-management-title",children:"Roles & Permissions"}),t.jsxs("button",{className:"btn btn-primary",onClick:b,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Role"]})]}),t.jsx("div",{className:"user-management-search-section",children:t.jsxs("div",{className:"user-management-search-box",children:[t.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"user-management-search-input",placeholder:"Search roles...",value:n,onChange:q=>a(q.target.value)})]})}),t.jsx("div",{className:"user-management-table-container",children:t.jsxs("table",{className:"user-management-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Role Name"}),t.jsx("th",{children:"Description"}),t.jsx("th",{children:"Company Name"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:y.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"empty-message",children:"No roles found"})}):y.map(q=>t.jsxs("tr",{children:[t.jsx("td",{children:q.roleName}),t.jsx("td",{children:q.description}),t.jsx("td",{children:q.companyName}),t.jsx("td",{children:t.jsx("span",{className:`status-badge status-badge--${q.status.toLowerCase()}`,children:q.status})}),t.jsx("td",{children:t.jsxs("div",{className:"action-buttons",children:[t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>w(q),title:"Edit Role",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"action-btn action-btn--permissions",onClick:()=>w(q),title:"Manage Permissions",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})})}),t.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>S(q.id),title:"Delete Role",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},q.id))})]})})]})]}),i&&t.jsx("div",{className:"modal-overlay",onClick:()=>s(!1),children:t.jsxs("div",{className:"modal-content modal-content--role-form",onClick:q=>q.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsxs("h2",{className:"modal-title",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{marginRight:"8px",verticalAlign:"middle"},children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),c?"Edit Role":"Add Role"]}),t.jsx("button",{className:"modal-close",onClick:()=>s(!1),children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("div",{className:"modal-body",children:[t.jsxs("div",{className:"form-section",children:[t.jsx("label",{className:"form-label",children:"Access Level"}),t.jsx("div",{className:"access-level-options",children:["Admin","Maker","Checker","Viewer"].map(q=>t.jsxs("label",{className:"access-level-option",children:[t.jsx("input",{type:"radio",name:"accessLevel",value:q,checked:g.accessLevel===q,onChange:Y=>m({...g,accessLevel:Y.target.value})}),t.jsx("span",{children:q})]},q))})]}),t.jsx("div",{className:"form-section",children:t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Role Name *"}),t.jsx("input",{type:"text",className:"form-input",placeholder:"Enter Role Name",value:g.roleName,onChange:q=>m({...g,roleName:q.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Description"}),t.jsx("input",{type:"text",className:"form-input",placeholder:"Enter Description",value:g.description,onChange:q=>m({...g,description:q.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Company Name *"}),t.jsxs("select",{className:"form-input",value:g.companyName,onChange:q=>m({...g,companyName:q.target.value}),required:!0,children:[t.jsx("option",{value:"",children:"Select Company"}),d.filter(q=>q.status==="Active").map(q=>t.jsx("option",{value:q.companyName,children:q.companyName},q.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Status *"}),t.jsxs("select",{className:"form-input",value:g.status,onChange:q=>m({...g,status:q.target.value}),children:[t.jsx("option",{value:"",children:"Select Status"}),t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),t.jsxs("div",{className:"form-section",children:[t.jsx("label",{className:"form-label",children:"Permissions"}),t.jsx("div",{className:"permissions-list-container",children:Object.entries(h).map(([q,Y])=>t.jsxs("div",{className:"permission-module-item",children:[t.jsxs("div",{className:"permission-module-header-row",children:[t.jsxs("div",{className:"permission-module-header-left",children:[t.jsx("input",{type:"checkbox",checked:K(q),ref:P=>{P&&(P.indeterminate=te(q))},onChange:P=>O(q,P.target.checked),className:"permission-module-checkbox"}),t.jsx("span",{className:"permission-module-title",children:q})]}),t.jsx("button",{className:"permission-module-toggle",onClick:()=>W(q),children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{transform:u[q]?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"},children:t.jsx("polyline",{points:"6 9 12 15 18 9"})})})]}),u[q]&&t.jsx("div",{className:"permission-module-permissions",children:Y.map(P=>t.jsxs("label",{className:"permission-item",children:[t.jsx("input",{type:"checkbox",checked:g.permissions[P.code]||!1,onChange:ce=>C(P.code,ce.target.checked)}),t.jsx("span",{children:P.name})]},P.id))})]},q))})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{className:"btn btn-secondary",onClick:()=>s(!1),children:"Cancel"}),t.jsx("button",{className:"btn btn-primary",onClick:N,children:"Save"})]})]})})]})},Gee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},d0=async(r,e={})=>{const n=Gee(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${gA}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},Fs={createHcf:async r=>(await d0("/hcfs",{method:"POST",body:JSON.stringify(r)})).data,getHcfById:async r=>(await d0(`/hcfs/${r}`,{method:"GET"})).data,getAllHcfs:async(r,e=!1)=>{let n="/hcfs";const a=new URLSearchParams;return r&&a.append("companyId",r),e&&a.append("activeOnly","true"),a.toString()&&(n+=`?${a.toString()}`),(await d0(n,{method:"GET"})).data},updateHcf:async(r,e)=>(await d0(`/hcfs/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteHcf:async r=>{await d0(`/hcfs/${r}`,{method:"DELETE"})}},qee="http://localhost:3000/api/v1",Xee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},h0=async(r,e={})=>{const n=Xee(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${qee}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},L0={createHcfType:async r=>(await h0("/hcf-types",{method:"POST",body:JSON.stringify(r)})).data,getHcfTypeById:async r=>(await h0(`/hcf-types/${r}`,{method:"GET"})).data,getAllHcfTypes:async(r,e=!1)=>{let n="/hcf-types";const a=new URLSearchParams;return r&&a.append("companyId",r),e&&a.append("activeOnly","true"),a.toString()&&(n+=`?${a.toString()}`),(await h0(n,{method:"GET"})).data},updateHcfType:async(r,e)=>(await h0(`/hcf-types/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteHcfType:async r=>{await h0(`/hcf-types/${r}`,{method:"DELETE"})}},Yee=()=>{const{logout:r,user:e,permissions:n}=da(),a=Tn(),i=Array.isArray(n)?n:[],s=Yl(i,"HCF_CREATE"),c=Yl(i,"HCF_EDIT")||Yl(i,"HCF_UPDATE"),l=Yl(i,"HCF_DELETE");k.useEffect(()=>{e&&(console.log("HCF Master - User:",{id:e.id,email:e.email,name:e.name,roles:e.roles}),console.log("HCF Master - Permissions:",{canCreate:s,canEdit:c,canDelete:l}))},[e,s,c]);const[u,o]=k.useState(""),[h,d]=k.useState(!1),[A,f]=k.useState(null),[g,m]=k.useState(!1),[x,y]=k.useState(null),[b,w]=k.useState(!1),[S,N]=k.useState(!1),C=()=>{N(!S)},[O,W]=k.useState([]),[K,te]=k.useState([]),[q,Y]=k.useState([]),[P,ce]=k.useState([]),[$,R]=k.useState([]),[se,fe]=k.useState([]),[Te,Ie]=k.useState([]),[_e,Z]=k.useState([]),Oe=k.useCallback(async()=>{try{const ue=await Ha.getAllCompanies(void 0,!0);W(ue.map($e=>({id:$e.id,companyCode:$e.companyCode,companyName:$e.companyName,status:$e.status})))}catch(ue){console.error("Failed to load companies:",ue)}},[]),ee=k.useCallback(async()=>{try{const ue=await D0.getAllAreas(!0);te(ue.map($e=>({id:$e.id,areaName:$e.areaName,status:$e.status})))}catch(ue){console.error("Failed to load areas:",ue)}},[]),re=k.useCallback(async()=>{try{const ue=await F0.getAllStates(!0);Y(ue.map($e=>({id:$e.id,stateCode:$e.stateCode,stateName:$e.stateName,status:$e.status})))}catch(ue){console.error("Failed to load states:",ue)}},[]),je=k.useCallback(async()=>{try{const ue=await R0.getAllPcbZones(!0);ce(ue.map($e=>({id:$e.id,pcbZoneName:$e.pcbZoneName,status:$e.status})))}catch(ue){console.error("Failed to load PCB zones:",ue)}},[]),Ne=k.useCallback(async()=>{try{const ue=await M0.getAllCategories(void 0,!0);R(ue.map($e=>({id:$e.id,categoryName:$e.categoryName,status:$e.status})))}catch(ue){console.error("Failed to load categories:",ue)}},[]),ye=k.useCallback(async()=>{try{const ue=await af.getAllRoutes(!0);fe(ue.map($e=>({id:$e.id,routeName:$e.routeName,status:$e.status})))}catch(ue){console.error("Failed to load routes:",ue)}},[]),me=k.useCallback(async()=>{try{const ue=await L0.getAllHcfTypes(void 0,!0);Ie(ue)}catch(ue){console.error("Failed to load HCF types:",ue)}},[]),ie=k.useCallback(async()=>{try{m(!0),y(null);const $e=(await Fs.getAllHcfs()).map(it=>{const Et=O.find($t=>$t.id===it.companyId),Ct=K.find($t=>$t.id===it.areaId),Bt=q.find($t=>$t.stateCode===it.stateCode),mr=P.find($t=>$t.id===it.pcbZone),lr=$.find($t=>$t.id===it.category),He=se.find($t=>$t.id===it.route);return{id:it.id,companyName:(Et==null?void 0:Et.companyName)||"",companyID:it.companyId,hcfCode:it.hcfCode,password:it.password||"",hcfTypeCode:it.hcfTypeCode||"",hcfName:it.hcfName,hcfShortName:it.hcfShortName||"",areaID:it.areaId||"",pincode:it.pincode||"",district:it.district||"",stateCode:it.stateCode||"",groupCode:it.groupCode||"",pcbZone:it.pcbZone||"",billingName:it.billingName||"",billingAddress:it.billingAddress||"",serviceAddress:it.serviceAddress||"",gstin:it.gstin||"",regnNum:it.regnNum||"",hospRegnDate:it.hospRegnDate||"",billingType:it.billingType||"",advAmount:it.advAmount||"",billingOption:it.billingOption||"",bedCount:it.bedCount||"",bedRate:it.bedRate||"",kgRate:it.kgRate||"",lumpsum:it.lumpsum||"",accountsLandline:it.accountsLandline||"",accountsMobile:it.accountsMobile||"",accountsEmail:it.accountsEmail||"",contactName:it.contactName||"",contactDesignation:it.contactDesignation||"",contactMobile:it.contactMobile||"",contactEmail:it.contactEmail||"",agrSignAuthName:it.agrSignAuthName||"",agrSignAuthDesignation:it.agrSignAuthDesignation||"",drName:it.drName||"",drPhNo:it.drPhNo||"",drEmail:it.drEmail||"",serviceStartDate:it.serviceStartDate||"",serviceEndDate:it.serviceEndDate||"",category:it.category||"",route:it.route||"",executive_Assigned:it.executive_Assigned||"",submitBy:it.submitBy||"",agrID:it.agrID||"",sortOrder:it.sortOrder||"",isGovt:it.isGovt||!1,isGSTExempt:it.isGSTExempt||!1,autoGen:it.autoGen||!1,status:it.status,createdBy:it.createdBy||"",createdOn:it.createdOn,modifiedBy:it.modifiedBy||"",modifiedOn:it.modifiedOn}});Z($e)}catch(ue){console.error("Failed to load HCFs:",ue),y(ue.message||"Failed to load HCFs"),Z([])}finally{m(!1)}},[O,K,q,P,$,se]);k.useEffect(()=>{(async()=>{await Promise.all([Oe(),ee(),re(),je(),Ne(),ye(),me()])})()},[Oe,ee,re,je,Ne,ye,me]),k.useEffect(()=>{O.length>0&&ie()},[O.length,ie]);const le=_e.filter(ue=>ue.hcfName.toLowerCase().includes(u.toLowerCase())||ue.hcfCode.toLowerCase().includes(u.toLowerCase())||ue.companyName.toLowerCase().includes(u.toLowerCase())||ue.hcfShortName.toLowerCase().includes(u.toLowerCase()));k.useEffect(()=>{const ue=setTimeout(()=>{const $e=document.querySelector(".add-hcf-btn"),it=document.querySelectorAll(".action-btn"),Et=$e?window.getComputedStyle($e):null,Ct=it[0],Bt=Ct?window.getComputedStyle(Ct):null;console.log("HCF Master - Button Check:",{addButtonExists:!!$e,addButtonVisible:$e?(Et==null?void 0:Et.display)!=="none"&&(Et==null?void 0:Et.visibility)!=="hidden":!1,addButtonStyles:$e?{display:Et==null?void 0:Et.display,visibility:Et==null?void 0:Et.visibility,opacity:Et==null?void 0:Et.opacity,width:Et==null?void 0:Et.width,height:Et==null?void 0:Et.height}:null,actionButtonsCount:it.length,firstActionButtonStyles:Ct?{display:Bt==null?void 0:Bt.display,visibility:Bt==null?void 0:Bt.visibility,opacity:Bt==null?void 0:Bt.opacity}:null,canCreate:s,canEdit:c,hcfsCount:_e.length,filteredHCFsCount:le.length})},500);return()=>clearTimeout(ue)},[s,c,_e.length,le.length]);const Ee=()=>{f(null),d(!0)},Re=ue=>{f(ue),d(!0)},Ue=async ue=>{if(window.confirm("Are you sure you want to delete this HCF?"))try{m(!0),await Fs.deleteHcf(ue),await ie()}catch($e){console.error("Failed to delete HCF:",$e),y($e.message||"Failed to delete HCF"),alert($e.message||"Failed to delete HCF")}finally{m(!1)}},de=async ue=>{try{if(w(!0),y(null),A){const $e={hcfName:ue.hcfName,hcfShortName:ue.hcfShortName,areaId:ue.areaID,pincode:ue.pincode,district:ue.district,stateCode:ue.stateCode,groupCode:ue.groupCode,pcbZone:ue.pcbZone,billingName:ue.billingName,billingAddress:ue.billingAddress,serviceAddress:ue.serviceAddress,gstin:ue.gstin,regnNum:ue.regnNum,hospRegnDate:ue.hospRegnDate,billingType:ue.billingType,advAmount:ue.advAmount,billingOption:ue.billingOption,bedCount:ue.bedCount,bedRate:ue.bedRate,kgRate:ue.kgRate,lumpsum:ue.lumpsum,accountsLandline:ue.accountsLandline,accountsMobile:ue.accountsMobile,accountsEmail:ue.accountsEmail,contactName:ue.contactName,contactDesignation:ue.contactDesignation,contactMobile:ue.contactMobile,contactEmail:ue.contactEmail,agrSignAuthName:ue.agrSignAuthName,agrSignAuthDesignation:ue.agrSignAuthDesignation,drName:ue.drName,drPhNo:ue.drPhNo,drEmail:ue.drEmail,serviceStartDate:ue.serviceStartDate,serviceEndDate:ue.serviceEndDate,category:ue.category,route:ue.route,executive_Assigned:ue.executive_Assigned,submitBy:ue.submitBy,agrID:ue.agrID,sortOrder:ue.sortOrder,isGovt:ue.isGovt,isGSTExempt:ue.isGSTExempt,autoGen:ue.autoGen,status:ue.status};await Fs.updateHcf(A.id,$e)}else{if(!ue.companyID)throw new Error("Company is required");if(!ue.hcfCode)throw new Error("HCF Code is required");if(!ue.hcfName)throw new Error("HCF Name is required");await Fs.createHcf({companyId:ue.companyID,hcfCode:ue.hcfCode,password:ue.password,hcfTypeCode:ue.hcfTypeCode,hcfName:ue.hcfName,hcfShortName:ue.hcfShortName,areaId:ue.areaID,pincode:ue.pincode,district:ue.district,stateCode:ue.stateCode,groupCode:ue.groupCode,pcbZone:ue.pcbZone,billingName:ue.billingName,billingAddress:ue.billingAddress,serviceAddress:ue.serviceAddress,gstin:ue.gstin,regnNum:ue.regnNum,hospRegnDate:ue.hospRegnDate,billingType:ue.billingType,advAmount:ue.advAmount,billingOption:ue.billingOption,bedCount:ue.bedCount,bedRate:ue.bedRate,kgRate:ue.kgRate,lumpsum:ue.lumpsum,accountsLandline:ue.accountsLandline,accountsMobile:ue.accountsMobile,accountsEmail:ue.accountsEmail,contactName:ue.contactName,contactDesignation:ue.contactDesignation,contactMobile:ue.contactMobile,contactEmail:ue.contactEmail,agrSignAuthName:ue.agrSignAuthName,agrSignAuthDesignation:ue.agrSignAuthDesignation,drName:ue.drName,drPhNo:ue.drPhNo,drEmail:ue.drEmail,serviceStartDate:ue.serviceStartDate,serviceEndDate:ue.serviceEndDate,category:ue.category,route:ue.route,executive_Assigned:ue.executive_Assigned,submitBy:ue.submitBy,agrID:ue.agrID,sortOrder:ue.sortOrder,isGovt:ue.isGovt,isGSTExempt:ue.isGSTExempt,autoGen:ue.autoGen})}await ie(),d(!1),f(null)}catch($e){console.error("Failed to save HCF:",$e),y($e.message||"Failed to save HCF"),alert($e.message||"Failed to save HCF")}finally{w(!1)}},Ce=us(n,a.pathname);return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${S?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!S&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:C,"aria-label":S?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:S?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:Ce.map(ue=>t.jsx("li",{children:t.jsxs(Yr,{to:ue.path,className:`nav-link ${ue.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:ue.icon}),!S&&t.jsx("span",{className:"nav-label",children:ue.label})]})},ue.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Yr,{to:"/profile",className:`sidebar-profile-btn ${a.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!S&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!S&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / HCF Master"})})}),t.jsxs("div",{className:"hcf-master-page",children:[x&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"20px",backgroundColor:"#fee",color:"#c00",borderRadius:"4px"},children:x}),g&&_e.length===0&&t.jsx("div",{className:"loading-message",style:{padding:"10px",marginBottom:"20px",textAlign:"center"},children:"Loading HCFs..."}),t.jsx("div",{className:"hcf-master-header",children:t.jsx("h1",{className:"hcf-master-title",children:"HCF Master"})}),t.jsxs("div",{className:"hcf-master-actions",style:{display:"flex",width:"100%",justifyContent:"flex-start",alignItems:"center",gap:"16px",marginBottom:"20px",flexWrap:"nowrap"},children:[t.jsxs("div",{className:"hcf-search-box",style:{flex:"0 1 auto",maxWidth:"400px",minWidth:"200px"},children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"hcf-search-input",placeholder:"Search HCF...",value:u,onChange:ue=>o(ue.target.value)})]}),t.jsxs("button",{className:"add-hcf-btn",onClick:Ee,disabled:!s,style:{display:"flex !important",visibility:"visible !important",opacity:s?1:.6,cursor:s?"pointer":"not-allowed",position:"relative",zIndex:10,minWidth:"120px",minHeight:"40px",backgroundColor:"#3b82f6",color:"#ffffff",border:"none",borderRadius:"8px",padding:"10px 20px",fontSize:"13px",fontWeight:600,flexShrink:0,alignItems:"center",gap:"8px",whiteSpace:"nowrap"},title:s?"Add new HCF":"No permission to create HCF",children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add HCF"]})]}),t.jsx("div",{className:"hcf-table-container",children:t.jsxs("table",{className:"hcf-table",style:{width:"100%",tableLayout:"fixed"},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{width:"12%"},children:"Company Name"}),t.jsx("th",{style:{width:"8%"},children:"HCF Code"}),t.jsx("th",{style:{width:"12%"},children:"HCF Name"}),t.jsx("th",{style:{width:"10%"},children:"HCF Short Name"}),t.jsx("th",{style:{width:"7%"},children:"State Code"}),t.jsx("th",{style:{width:"10%"},children:"District"}),t.jsx("th",{style:{width:"8%"},children:"Pincode"}),t.jsx("th",{style:{width:"8%"},children:"Status"}),t.jsx("th",{style:{width:"120px",minWidth:"120px",maxWidth:"120px",padding:"10px 8px",textAlign:"left",backgroundColor:"#f1f5f9"},children:"Actions"})]})}),t.jsx("tbody",{children:g&&_e.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:9,className:"empty-message",children:"Loading HCFs..."})}):le.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:9,className:"empty-message",children:"No HCF records found"})}):le.map(ue=>t.jsxs("tr",{children:[t.jsx("td",{children:ue.companyName||"-"}),t.jsx("td",{children:ue.hcfCode||"-"}),t.jsx("td",{children:ue.hcfName||"-"}),t.jsx("td",{children:ue.hcfShortName||"-"}),t.jsx("td",{children:ue.stateCode||"-"}),t.jsx("td",{children:ue.district||"-"}),t.jsx("td",{children:ue.pincode||"-"}),t.jsx("td",{children:t.jsx("span",{className:`status-badge status-badge--${ue.status.toLowerCase()}`,children:ue.status})}),t.jsx("td",{style:{width:"120px",minWidth:"120px",maxWidth:"120px",padding:"8px",whiteSpace:"nowrap",backgroundColor:"#ffffff"},children:t.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",justifyContent:"flex-start",width:"100%",visibility:"visible",flexWrap:"nowrap"},children:[t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>c&&Re(ue),title:c?"Edit":"No permission to edit",disabled:!c,style:{display:"flex",visibility:"visible",opacity:c?1:.5,cursor:c?"pointer":"not-allowed",width:"32px",height:"32px",minWidth:"32px",minHeight:"32px",backgroundColor:c?"#3b82f6":"#e5e7eb",color:c?"#ffffff":"#6b7280",border:"none",borderRadius:"6px",alignItems:"center",justifyContent:"center",flexShrink:0,padding:0,margin:0},children:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>l&&Ue(ue.id),title:l?"Delete":"No permission to delete",disabled:!l,style:{display:"flex",visibility:"visible",opacity:l?1:.5,cursor:l?"pointer":"not-allowed",width:"32px",height:"32px",minWidth:"32px",minHeight:"32px",backgroundColor:l?"#ef4444":"#e5e7eb",color:l?"#ffffff":"#6b7280",border:"none",borderRadius:"6px",alignItems:"center",justifyContent:"center",flexShrink:0,padding:0,margin:0},children:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},ue.id))})]})}),t.jsxs("div",{className:"hcf-pagination-info",children:["Showing ",le.length," of ",_e.length," Items"]})]})]}),h&&t.jsx(Zee,{hcf:A,companies:O.filter(ue=>ue.status==="Active"),areas:K.filter(ue=>ue.status==="Active"),states:q.filter(ue=>ue.status==="Active"),pcbZones:P.filter(ue=>ue.status==="Active"),categories:$.filter(ue=>ue.status==="Active"),routes:se.filter(ue=>ue.status==="Active"),hcfTypes:Te.filter(ue=>ue.status==="Active"),saving:b,onClose:()=>{d(!1),f(null)},onSave:de})]})},Zee=({hcf:r,companies:e,areas:n,states:a,pcbZones:i,categories:s,routes:c,hcfTypes:l,saving:u,onClose:o,onSave:h})=>{const d=k.useCallback(()=>r?{...r}:{companyName:"",companyID:"",hcfCode:"",password:"",hcfTypeCode:"",hcfName:"",hcfShortName:"",areaID:"",pincode:"",district:"",stateCode:"",groupCode:"",pcbZone:"",billingName:"",billingAddress:"",serviceAddress:"",gstin:"",regnNum:"",hospRegnDate:"",billingType:"",advAmount:"",billingOption:"",bedCount:"",bedRate:"",kgRate:"",lumpsum:"",accountsLandline:"",accountsMobile:"",accountsEmail:"",contactName:"",contactDesignation:"",contactMobile:"",contactEmail:"",agrSignAuthName:"",agrSignAuthDesignation:"",drName:"",drPhNo:"",drEmail:"",serviceStartDate:"",serviceEndDate:"",category:"",route:"",executive_Assigned:"",submitBy:"",agrID:"",sortOrder:"",isGovt:!1,isGSTExempt:!1,autoGen:!1,status:"Active"},[r]),[A,f]=k.useState(d);k.useEffect(()=>{f(d())},[r,d]);const g=m=>{m.preventDefault(),h(A)};return t.jsx("div",{className:"modal-overlay",onClick:o,children:t.jsxs("div",{className:"modal-content",onClick:m=>m.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit HCF":"Add HCF"}),t.jsx("button",{className:"modal-close-btn",onClick:o,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"hcf-form",onSubmit:g,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Basic Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company Name *"}),t.jsxs("select",{value:A.companyName||"",onChange:m=>{const x=e.find(y=>y.companyName===m.target.value);f({...A,companyName:m.target.value,companyID:(x==null?void 0:x.id)||""})},required:!0,children:[t.jsx("option",{value:"",children:"Select Company"}),e.map(m=>t.jsx("option",{value:m.companyName,children:m.companyName},m.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company ID"}),t.jsx("input",{type:"text",value:A.companyID||"",readOnly:!0,style:{backgroundColor:"#f1f5f9"}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCF Code *"}),t.jsx("input",{type:"text",value:A.hcfCode||"",onChange:m=>f({...A,hcfCode:m.target.value}),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Password *"}),t.jsx("input",{type:"password",value:A.password||"",onChange:m=>f({...A,password:m.target.value}),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCF Type Code"}),t.jsxs("select",{value:A.hcfTypeCode||"",onChange:m=>f({...A,hcfTypeCode:m.target.value}),children:[t.jsx("option",{value:"",children:"Select HCF Type"}),l.map(m=>t.jsxs("option",{value:m.hcfTypeCode,children:[m.hcfTypeCode," - ",m.hcfTypeName]},m.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCF Name *"}),t.jsx("input",{type:"text",value:A.hcfName||"",onChange:m=>f({...A,hcfName:m.target.value}),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCF Short Name"}),t.jsx("input",{type:"text",value:A.hcfShortName||"",onChange:m=>f({...A,hcfShortName:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Group Code"}),t.jsx("input",{type:"text",value:A.groupCode||"",onChange:m=>f({...A,groupCode:m.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Location Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Area ID *"}),t.jsxs("select",{value:A.areaID||"",onChange:m=>f({...A,areaID:m.target.value}),required:!0,children:[t.jsx("option",{value:"",children:"Select Area"}),n.map(m=>t.jsx("option",{value:m.id,children:m.areaName},m.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"State Code *"}),t.jsxs("select",{value:A.stateCode||"",onChange:m=>f({...A,stateCode:m.target.value}),required:!0,children:[t.jsx("option",{value:"",children:"Select State"}),a.map(m=>t.jsxs("option",{value:m.stateCode,children:[m.stateCode," - ",m.stateName]},m.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"District *"}),t.jsx("input",{type:"text",value:A.district||"",onChange:m=>f({...A,district:m.target.value}),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Pincode *"}),t.jsx("input",{type:"text",value:A.pincode||"",onChange:m=>f({...A,pincode:m.target.value}),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"PCB Zone"}),t.jsxs("select",{value:A.pcbZone||"",onChange:m=>f({...A,pcbZone:m.target.value}),children:[t.jsx("option",{value:"",children:"Select PCB Zone"}),i.map(m=>t.jsx("option",{value:m.id,children:m.pcbZoneName},m.id))]})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Address Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group form-group--full",children:[t.jsx("label",{children:"Billing Address"}),t.jsx("textarea",{value:A.billingAddress||"",onChange:m=>f({...A,billingAddress:m.target.value}),rows:3})]}),t.jsxs("div",{className:"form-group form-group--full",children:[t.jsx("label",{children:"Service Address"}),t.jsx("textarea",{value:A.serviceAddress||"",onChange:m=>f({...A,serviceAddress:m.target.value}),rows:3})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Billing Name"}),t.jsx("input",{type:"text",value:A.billingName||"",onChange:m=>f({...A,billingName:m.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Registration & GST Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"GSTIN"}),t.jsx("input",{type:"text",value:A.gstin||"",onChange:m=>f({...A,gstin:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Registration Number"}),t.jsx("input",{type:"text",value:A.regnNum||"",onChange:m=>f({...A,regnNum:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Hospital Registration Date"}),t.jsx("input",{type:"date",value:A.hospRegnDate||"",onChange:m=>f({...A,hospRegnDate:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Is GST Exempt"}),t.jsxs("select",{value:A.isGSTExempt?"true":"false",onChange:m=>f({...A,isGSTExempt:m.target.value==="true"}),children:[t.jsx("option",{value:"false",children:"No"}),t.jsx("option",{value:"true",children:"Yes"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Is Government"}),t.jsxs("select",{value:A.isGovt?"true":"false",onChange:m=>f({...A,isGovt:m.target.value==="true"}),children:[t.jsx("option",{value:"false",children:"No"}),t.jsx("option",{value:"true",children:"Yes"})]})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Billing Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Billing Type"}),t.jsxs("select",{value:A.billingType||"",onChange:m=>f({...A,billingType:m.target.value}),children:[t.jsx("option",{value:"",children:"Select Billing Type"}),t.jsx("option",{value:"Monthly",children:"Monthly"}),t.jsx("option",{value:"Quarterly",children:"Quarterly"}),t.jsx("option",{value:"Yearly",children:"Yearly"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Billing Option"}),t.jsxs("select",{value:A.billingOption||"",onChange:m=>f({...A,billingOption:m.target.value}),children:[t.jsx("option",{value:"",children:"Select Billing Option"}),t.jsx("option",{value:"Per Bed",children:"Per Bed"}),t.jsx("option",{value:"Per Kg",children:"Per Kg"}),t.jsx("option",{value:"Lumpsum",children:"Lumpsum"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Advance Amount"}),t.jsx("input",{type:"text",value:A.advAmount||"",onChange:m=>f({...A,advAmount:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Bed Count"}),t.jsx("input",{type:"text",value:A.bedCount||"",onChange:m=>f({...A,bedCount:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Bed Rate"}),t.jsx("input",{type:"text",value:A.bedRate||"",onChange:m=>f({...A,bedRate:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Kg Rate"}),t.jsx("input",{type:"text",value:A.kgRate||"",onChange:m=>f({...A,kgRate:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Lumpsum"}),t.jsx("input",{type:"text",value:A.lumpsum||"",onChange:m=>f({...A,lumpsum:m.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Accounts Contact"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Accounts Landline"}),t.jsx("input",{type:"tel",value:A.accountsLandline||"",onChange:m=>f({...A,accountsLandline:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Accounts Mobile"}),t.jsx("input",{type:"tel",value:A.accountsMobile||"",onChange:m=>f({...A,accountsMobile:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Accounts Email"}),t.jsx("input",{type:"email",value:A.accountsEmail||"",onChange:m=>f({...A,accountsEmail:m.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Contact Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Contact Name"}),t.jsx("input",{type:"text",value:A.contactName||"",onChange:m=>f({...A,contactName:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Contact Designation"}),t.jsx("input",{type:"text",value:A.contactDesignation||"",onChange:m=>f({...A,contactDesignation:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Contact Mobile"}),t.jsx("input",{type:"tel",value:A.contactMobile||"",onChange:m=>f({...A,contactMobile:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Contact Email"}),t.jsx("input",{type:"email",value:A.contactEmail||"",onChange:m=>f({...A,contactEmail:m.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Agreement Signatory"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Agreement Signatory Auth Name"}),t.jsx("input",{type:"text",value:A.agrSignAuthName||"",onChange:m=>f({...A,agrSignAuthName:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Agreement Signatory Auth Designation"}),t.jsx("input",{type:"text",value:A.agrSignAuthDesignation||"",onChange:m=>f({...A,agrSignAuthDesignation:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Agreement ID"}),t.jsx("input",{type:"text",value:A.agrID||"",onChange:m=>f({...A,agrID:m.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Doctor Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Doctor Name"}),t.jsx("input",{type:"text",value:A.drName||"",onChange:m=>f({...A,drName:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Doctor Phone Number"}),t.jsx("input",{type:"tel",value:A.drPhNo||"",onChange:m=>f({...A,drPhNo:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Doctor Email"}),t.jsx("input",{type:"email",value:A.drEmail||"",onChange:m=>f({...A,drEmail:m.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Service Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Service Start Date"}),t.jsx("input",{type:"date",value:A.serviceStartDate||"",onChange:m=>f({...A,serviceStartDate:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Service End Date"}),t.jsx("input",{type:"date",value:A.serviceEndDate||"",onChange:m=>f({...A,serviceEndDate:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Category"}),t.jsxs("select",{value:A.category||"",onChange:m=>f({...A,category:m.target.value}),children:[t.jsx("option",{value:"",children:"Select Category"}),s.map(m=>t.jsx("option",{value:m.id,children:m.categoryName},m.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Route"}),t.jsxs("select",{value:A.route||"",onChange:m=>f({...A,route:m.target.value}),children:[t.jsx("option",{value:"",children:"Select Route"}),c.map(m=>t.jsx("option",{value:m.id,children:m.routeName},m.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Executive Assigned"}),t.jsx("input",{type:"text",value:A.executive_Assigned||"",onChange:m=>f({...A,executive_Assigned:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Submit By"}),t.jsx("input",{type:"text",value:A.submitBy||"",onChange:m=>f({...A,submitBy:m.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Additional Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Sort Order"}),t.jsx("input",{type:"text",value:A.sortOrder||"",onChange:m=>f({...A,sortOrder:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Auto Generate"}),t.jsxs("select",{value:A.autoGen?"true":"false",onChange:m=>f({...A,autoGen:m.target.value==="true"}),children:[t.jsx("option",{value:"false",children:"No"}),t.jsx("option",{value:"true",children:"Yes"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:A.status||"Active",onChange:m=>f({...A,status:m.target.value}),children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:o,disabled:u,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",disabled:u,children:u?"Saving...":r?"Update":"Save"})]})]})]})})},Jee="http://localhost:3000/api/v1",ete=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},A0=async(r,e={})=>{const n=ete(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${Jee}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},g1={createHcfAmendment:async r=>(await A0("/hcf-amendments",{method:"POST",body:JSON.stringify(r)})).data,getHcfAmendmentById:async r=>(await A0(`/hcf-amendments/${r}`,{method:"GET"})).data,getAllHcfAmendments:async(r,e=!1)=>{let n="/hcf-amendments";const a=new URLSearchParams;return r&&a.append("hcfId",r),e&&a.append("activeOnly","true"),a.toString()&&(n+=`?${a.toString()}`),(await A0(n,{method:"GET"})).data},updateHcfAmendment:async(r,e)=>(await A0(`/hcf-amendments/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteHcfAmendment:async r=>{await A0(`/hcf-amendments/${r}`,{method:"DELETE"})}},tte=()=>{const{logout:r,permissions:e}=da(),n=Tn(),a=Yl(Array.isArray(e)?e:[],"HCF_AMENDMENT_CREATE"),[i,s]=k.useState(""),[c,l]=k.useState(!1),[u,o]=k.useState(null),[h,d]=k.useState(!0),[A,f]=k.useState(null),[g,m]=k.useState(!1),[x,y]=k.useState(!1),b=()=>{y(!x)},[w,S]=k.useState([]),[N,C]=k.useState([]),[O,W]=k.useState([]);k.useCallback(async()=>{try{const R=await Ha.getAllCompanies(void 0,!0);S(R)}catch(R){console.error("Failed to load companies:",R),f("Failed to load companies")}},[]),k.useCallback(async()=>{try{const R=await Fs.getAllHcfs(void 0,!0);C(R)}catch(R){console.error("Failed to load HCFs:",R),f("Failed to load HCFs")}},[]);const K=k.useCallback(async()=>{try{d(!0),f(null),console.log("Loading amendments...");const R=await g1.getAllHcfAmendments();console.log("Amendments loaded:",R),W(R.map(se=>({id:se.id,hcfId:se.hcfId,amendmentType:se.amendmentType,amendmentDate:se.amendmentDate,description:se.description,status:se.status,approvedBy:se.approvedBy,approvedDate:se.approvedDate,createdBy:se.createdBy,createdOn:se.createdOn,modifiedBy:se.modifiedBy,modifiedOn:se.modifiedOn}))),d(!1)}catch(R){console.error("Failed to load amendments:",R),f(R.message||"Failed to load amendments"),W([]),d(!1)}},[]);k.useEffect(()=>{O.length>0&&w.length>0&&N.length>0&&W(R=>{if(!R.some(Ie=>!Ie.hcfCode||!Ie.companyName))return R;const fe=R.map(Ie=>{if(Ie.hcfCode&&Ie.companyName)return Ie;const _e=N.find(Oe=>Oe.id===Ie.hcfId),Z=_e?w.find(Oe=>Oe.id===_e.companyId):null;return{...Ie,hcfCode:(_e==null?void 0:_e.hcfCode)||"",companyName:(Z==null?void 0:Z.companyName)||""}});return fe.some((Ie,_e)=>{var Z,Oe;return Ie.hcfCode!==((Z=R[_e])==null?void 0:Z.hcfCode)||Ie.companyName!==((Oe=R[_e])==null?void 0:Oe.companyName)})?fe:R})},[w,N]),k.useEffect(()=>{let R=!0;return(async()=>{try{d(!0);const[fe,Te]=await Promise.all([Ha.getAllCompanies(void 0,!0).catch(Ie=>(console.error("Failed to load companies:",Ie),[])),Fs.getAllHcfs(void 0,!0).catch(Ie=>(console.error("Failed to load HCFs:",Ie),[]))]);if(!R)return;S(fe),C(Te),await K()}catch(fe){console.error("Failed to initialize:",fe),R&&(f("Failed to load data"),d(!1))}})(),()=>{R=!1}},[K]);const te=O.filter(R=>(R.companyName||"").toLowerCase().includes(i.toLowerCase())||(R.hcfCode||"").toLowerCase().includes(i.toLowerCase())||R.amendmentType.toLowerCase().includes(i.toLowerCase())||(R.description||"").toLowerCase().includes(i.toLowerCase())),q=()=>{o(null),l(!0)},Y=R=>{o(R),l(!0)},P=async R=>{if(window.confirm("Are you sure you want to delete this amendment?"))try{d(!0),await g1.deleteHcfAmendment(R),await K()}catch(se){console.error("Failed to delete amendment:",se),alert(se.message||"Failed to delete amendment")}finally{d(!1)}},ce=async R=>{try{if(m(!0),f(null),u){const se={};R.amendmentType!==void 0&&(se.amendmentType=R.amendmentType),R.amendmentDate!==void 0&&(se.amendmentDate=R.amendmentDate),R.description!==void 0&&(se.description=R.description),R.status!==void 0&&(se.amendmentStatus=R.status),R.approvedBy!==void 0&&(se.approvedBy=R.approvedBy),R.approvedDate!==void 0&&(se.approvedDate=R.approvedDate),await g1.updateHcfAmendment(u.id,se)}else{if(!R.hcfId)throw new Error("HCF is required");if(!R.amendmentType)throw new Error("Amendment type is required");if(!R.amendmentDate)throw new Error("Amendment date is required");await g1.createHcfAmendment({hcfId:R.hcfId,amendmentType:R.amendmentType,amendmentDate:R.amendmentDate,description:R.description,status:R.status,approvedBy:R.approvedBy,approvedDate:R.approvedDate})}await K(),l(!1),o(null)}catch(se){console.error("Failed to save amendment:",se),f(se.message||"Failed to save amendment"),alert(se.message||"Failed to save amendment")}finally{m(!1)}},$=us(e,n.pathname);return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${x?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!x&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:b,"aria-label":x?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:x?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:$.map(R=>t.jsx("li",{children:t.jsxs(Yr,{to:R.path,className:`nav-link ${R.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:R.icon}),!x&&t.jsx("span",{className:"nav-label",children:R.label})]})},R.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Yr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!x&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!x&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / HCF Amendments"})})}),t.jsxs("div",{className:"hcf-amendments-page",children:[A&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"20px",backgroundColor:"#fee",color:"#c00",borderRadius:"4px"},children:A}),h&&O.length===0&&t.jsx("div",{className:"loading-message",style:{padding:"10px",marginBottom:"20px",textAlign:"center"},children:"Loading amendments..."}),t.jsx("div",{className:"hcf-amendments-header",children:t.jsx("h1",{className:"hcf-amendments-title",children:"HCF Amendments"})}),t.jsxs("div",{className:"hcf-amendments-actions",children:[t.jsxs("div",{className:"hcf-amendments-search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"hcf-amendments-search-input",placeholder:"Search Amendments...",value:i,onChange:R=>s(R.target.value)})]}),a&&t.jsxs("button",{className:"add-amendment-btn",onClick:q,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Amendment"]})]}),t.jsx("div",{className:"hcf-amendments-table-container",children:t.jsxs("table",{className:"hcf-amendments-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Company Name"}),t.jsx("th",{children:"HCF"}),t.jsx("th",{children:"Amendment Type"}),t.jsx("th",{children:"Amendment Date"}),t.jsx("th",{children:"Description"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Approved By"}),t.jsx("th",{children:"Approved Date"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:h&&O.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:9,className:"empty-message",children:"Loading amendments..."})}):te.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:9,className:"empty-message",children:"No amendment records found"})}):te.map(R=>{const se=N.find(fe=>fe.id===R.hcfId);return t.jsxs("tr",{children:[t.jsx("td",{children:R.companyName||"-"}),t.jsx("td",{children:se?`${se.hcfCode} - ${se.hcfName}`:R.hcfCode||"-"}),t.jsx("td",{children:R.amendmentType||"-"}),t.jsx("td",{children:R.amendmentDate?new Date(R.amendmentDate).toLocaleDateString():"-"}),t.jsx("td",{children:R.description||"-"}),t.jsx("td",{children:t.jsx("span",{className:`status-badge status-badge--${(R.status||"Pending").toLowerCase()}`,children:R.status||"Pending"})}),t.jsx("td",{children:R.approvedBy||"-"}),t.jsx("td",{children:R.approvedDate?new Date(R.approvedDate).toLocaleDateString():"-"}),t.jsxs("td",{children:[t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>Y(R),title:"Edit",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>P(R.id),title:"Delete",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},R.id)})})]})}),t.jsxs("div",{className:"hcf-amendments-pagination-info",children:["Showing ",te.length," of ",O.length," Items"]})]})]}),c&&t.jsx(rte,{amendment:u,companies:w.filter(R=>R.status==="Active"),hcfs:N.filter(R=>R.status==="Active"),onClose:()=>{l(!1),o(null),f(null)},onSave:ce,saving:g})]})},rte=({amendment:r,companies:e,hcfs:n,onClose:a,onSave:i,saving:s=!1})=>{const c=()=>r?{...r,hcfId:r.hcfId}:{hcfId:"",amendmentType:"",amendmentDate:new Date().toISOString().split("T")[0],description:"",status:"Active",approvedBy:"",approvedDate:""},[l,u]=k.useState(c()),o=()=>{if(r&&r.hcfId){const g=n.find(m=>m.id===r.hcfId);return(g==null?void 0:g.companyId)||""}return""},[h,d]=k.useState(o());k.useEffect(()=>{h&&!r&&u(g=>({...g,hcfId:""}))},[h,r]),k.useEffect(()=>{if(r&&r.hcfId&&n.length>0&&!h){const g=n.find(m=>m.id===r.hcfId);g&&d(g.companyId)}},[r,n,h]);const A=h?n.filter(g=>g.companyId===h&&g.status==="Active"):n,f=g=>{if(g.preventDefault(),!l.hcfId){alert("Please select an HCF");return}if(!l.amendmentType){alert("Amendment type is required");return}if(!l.amendmentDate){alert("Amendment date is required");return}i(l)};return t.jsx("div",{className:"modal-overlay",onClick:a,children:t.jsxs("div",{className:"modal-content",onClick:g=>g.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Amendment":"Add Amendment"}),t.jsx("button",{className:"modal-close-btn",onClick:a,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"amendment-form",onSubmit:f,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Basic Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company *"}),t.jsxs("select",{value:h,onChange:g=>{d(g.target.value),u({...l,hcfId:""})},required:!0,disabled:!!r,children:[t.jsx("option",{value:"",children:"Select Company"}),e.map(g=>t.jsx("option",{value:g.id,children:g.companyName},g.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCF *"}),t.jsxs("select",{value:l.hcfId||"",onChange:g=>u({...l,hcfId:g.target.value}),required:!0,disabled:!h&&!r,children:[t.jsx("option",{value:"",children:"Select HCF"}),A.length===0&&(h||r)?t.jsx("option",{value:"",disabled:!0,children:"No HCFs available for selected company"}):A.map(g=>t.jsxs("option",{value:g.id,children:[g.hcfCode," - ",g.hcfName]},g.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Amendment Type *"}),t.jsx("input",{type:"text",value:l.amendmentType||"",onChange:g=>u({...l,amendmentType:g.target.value}),required:!0,placeholder:"Enter amendment type"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Amendment Date *"}),t.jsx("input",{type:"date",value:l.amendmentDate||"",onChange:g=>u({...l,amendmentDate:g.target.value}),required:!0})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Description"}),t.jsx("div",{className:"form-grid",children:t.jsxs("div",{className:"form-group form-group--full",children:[t.jsx("label",{children:"Description"}),t.jsx("textarea",{value:l.description||"",onChange:g=>u({...l,description:g.target.value}),placeholder:"Enter amendment description",rows:4})]})})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Approval Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:l.status||"Pending",onChange:g=>u({...l,status:g.target.value}),children:[t.jsx("option",{value:"Pending",children:"Pending"}),t.jsx("option",{value:"Approved",children:"Approved"}),t.jsx("option",{value:"Rejected",children:"Rejected"}),t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Approved By"}),t.jsx("input",{type:"text",value:l.approvedBy||"",onChange:g=>u({...l,approvedBy:g.target.value}),placeholder:"Enter approver name or ID"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Approved Date"}),t.jsx("input",{type:"date",value:l.approvedDate||"",onChange:g=>u({...l,approvedDate:g.target.value})})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:a,disabled:s,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",disabled:s,children:s?"Saving...":r?"Update":"Save"})]})]})]})})},nte=()=>{const{logout:r,permissions:e}=da(),n=Tn(),a=Yl(Array.isArray(e)?e:[],"HCF_TYPE_CREATE"),[i,s]=k.useState(""),[c,l]=k.useState(!1),[u,o]=k.useState(null),[h,d]=k.useState([]),[A,f]=k.useState([]),[g,m]=k.useState(!1),[x,y]=k.useState(null),[b,w]=k.useState(!1),S=()=>{w(!b)},N=async()=>{try{const ce=(await Ha.getAllCompanies(!0)).map($=>({id:$.id,companyCode:$.companyCode,companyName:$.companyName,status:$.status}));f(ce)}catch(P){console.error("Error loading companies:",P)}},C=async()=>{m(!0),y(null);try{const ce=(await L0.getAllHcfTypes(void 0,!0)).map($=>{const R=A.find(se=>se.id===$.companyId);return{id:$.id,companyName:(R==null?void 0:R.companyName)||"Unknown Company",hcfTypeCode:$.hcfTypeCode,hcfTypeName:$.hcfTypeName,status:$.status,createdBy:$.createdBy||"",createdOn:$.createdOn,modifiedBy:$.modifiedBy||"",modifiedOn:$.modifiedOn}});d(ce)}catch(P){const ce=P instanceof Error?P.message:"Failed to load HCF types";y(ce),console.error("Error loading HCF types:",P),d([])}finally{m(!1)}};k.useEffect(()=>{(async()=>{await N()})()},[]),k.useEffect(()=>{A.length>0&&C()},[A.length]);const O=h.filter(P=>P.companyName.toLowerCase().includes(i.toLowerCase())||P.hcfTypeCode.toLowerCase().includes(i.toLowerCase())||P.hcfTypeName.toLowerCase().includes(i.toLowerCase())),W=()=>{o(null),l(!0)},K=P=>{o(P),l(!0)},te=async P=>{if(window.confirm("Are you sure you want to delete this HCF Type?"))try{m(!0),await L0.deleteHcfType(P),await C(),alert("HCF Type deleted successfully")}catch(ce){const $=ce instanceof Error?ce.message:"Failed to delete HCF type";alert(`Error: ${$}`),console.error("Error deleting HCF type:",ce)}finally{m(!1)}},q=async P=>{try{m(!0),y(null);const ce=A.find($=>$.companyName===P.companyName);if(!ce){alert("Please select a valid company");return}if(u)await L0.updateHcfType(u.id,{status:P.status}),alert("HCF Type updated successfully");else{if(!P.hcfTypeCode||!P.hcfTypeName||!P.companyName){alert("Please fill in all required fields");return}await L0.createHcfType({hcfTypeCode:P.hcfTypeCode,hcfTypeName:P.hcfTypeName,companyId:ce.id}),alert("HCF Type created successfully")}l(!1),o(null),await C()}catch(ce){const $=ce instanceof Error?ce.message:"Failed to save HCF type";y($),alert(`Error: ${$}`),console.error("Error saving HCF type:",ce)}finally{m(!1)}},Y=us(e,n.pathname);return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${b?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!b&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:S,"aria-label":b?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:b?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:Y.map(P=>t.jsx("li",{children:t.jsxs(Yr,{to:P.path,className:`nav-link ${P.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:P.icon}),!b&&t.jsx("span",{className:"nav-label",children:P.label})]})},P.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Yr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!b&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!b&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / HCF Type Master"})})}),x&&t.jsx("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc"},children:x}),g&&!h.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading HCF types..."}),t.jsxs("div",{className:"hcf-type-master-page",children:[t.jsx("div",{className:"hcf-type-master-header",children:t.jsx("h1",{className:"hcf-type-master-title",children:"HCF Type Master"})}),t.jsxs("div",{className:"hcf-type-master-actions",children:[t.jsxs("div",{className:"hcf-type-search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"hcf-type-search-input",placeholder:"Search HCF Type...",value:i,onChange:P=>s(P.target.value)})]}),a&&t.jsxs("button",{className:"add-hcf-type-btn",onClick:W,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add HCF Type"]})]}),t.jsx("div",{className:"hcf-type-table-container",children:t.jsxs("table",{className:"hcf-type-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Company Name"}),t.jsx("th",{children:"HCF Type Code"}),t.jsx("th",{children:"HCF Type Name"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:O.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"empty-message",children:"No HCF Type records found"})}):O.map(P=>t.jsxs("tr",{children:[t.jsx("td",{children:P.companyName||"-"}),t.jsx("td",{children:P.hcfTypeCode||"-"}),t.jsx("td",{children:P.hcfTypeName||"-"}),t.jsx("td",{children:t.jsx("span",{className:`status-badge status-badge--${P.status.toLowerCase()}`,children:P.status})}),t.jsxs("td",{children:[t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>K(P),title:"Edit",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>te(P.id),title:"Delete",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},P.id))})]})}),t.jsxs("div",{className:"hcf-type-pagination-info",children:["Showing ",O.length," of ",h.length," Items"]})]})]}),c&&t.jsx(ate,{hcfType:u,companies:A.filter(P=>P.status==="Active"),onClose:()=>{l(!1),o(null)},onSave:q})]})},ate=({hcfType:r,companies:e,onClose:n,onSave:a})=>{const[i,s]=k.useState(r||{companyName:"",hcfTypeCode:"",hcfTypeName:"",status:"Active"}),c=l=>{l.preventDefault(),a(i)};return t.jsx("div",{className:"modal-overlay",onClick:n,children:t.jsxs("div",{className:"modal-content",onClick:l=>l.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit HCF Type":"Add HCF Type"}),t.jsx("button",{className:"modal-close-btn",onClick:n,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"hcf-type-form",onSubmit:c,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Basic Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company Name *"}),t.jsxs("select",{value:i.companyName||"",onChange:l=>s({...i,companyName:l.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{},children:[t.jsx("option",{value:"",children:"Select Company"}),e.map(l=>t.jsx("option",{value:l.companyName,children:l.companyName},l.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCF Type Code *"}),t.jsx("input",{type:"text",value:i.hcfTypeCode||"",onChange:l=>s({...i,hcfTypeCode:l.target.value}),required:!0,placeholder:"Enter HCF Type Code",disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCF Type Name *"}),t.jsx("input",{type:"text",value:i.hcfTypeName||"",onChange:l=>s({...i,hcfTypeName:l.target.value}),required:!0,placeholder:"Enter HCF Type Name",disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:i.status||"Active",onChange:l=>s({...i,status:l.target.value}),children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},ite="http://localhost:3000/api/v1",ste=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},f0=async(r,e={})=>{const n=ste(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${ite}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},_h={createFleet:async r=>(await f0("/fleets",{method:"POST",body:JSON.stringify(r)})).data,getFleetById:async r=>(await f0(`/fleets/${r}`,{method:"GET"})).data,getAllFleets:async(r,e=!1)=>{let n="/fleets";const a=new URLSearchParams;return r&&a.append("companyId",r),e&&a.append("activeOnly","true"),a.toString()&&(n+=`?${a.toString()}`),(await f0(n,{method:"GET"})).data},updateFleet:async(r,e)=>(await f0(`/fleets/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteFleet:async r=>{await f0(`/fleets/${r}`,{method:"DELETE"})}},ote=()=>{const{logout:r,permissions:e}=da(),n=Tn(),a=Yl(Array.isArray(e)?e:[],"FLEET_CREATE"),[i,s]=k.useState(""),[c,l]=k.useState(!1),[u,o]=k.useState(null),[h,d]=k.useState([]),[A,f]=k.useState([]),[g,m]=k.useState(!1),[x,y]=k.useState(null),[b,w]=k.useState(!1),S=()=>{w(!b)},N=async()=>{try{const ce=(await Ha.getAllCompanies(!0)).map($=>({id:$.id,companyCode:$.companyCode,companyName:$.companyName,status:$.status}));f(ce)}catch(P){console.error("Error loading companies:",P)}},C=async()=>{m(!0),y(null);try{const ce=(await _h.getAllFleets(void 0,!0)).map($=>{const R=A.find(se=>se.id===$.companyId);return{id:$.id,companyName:(R==null?void 0:R.companyName)||"Unknown Company",vehicleNum:$.vehicleNum,capacity:$.capacity||"",vehMake:$.vehMake||"",vehModel:$.vehModel||"",mfgYear:$.mfgYear||"",nextFCDate:$.nextFCDate||"",pucDateValidUpto:$.pucDateValidUpto||"",insuranceValidUpto:$.insuranceValidUpto||"",ownerName:$.ownerName||"",ownerContact:$.ownerContact||"",ownerEmail:$.ownerEmail||"",ownerPAN:$.ownerPAN||"",ownerAadhaar:$.ownerAadhaar||"",pymtToName:$.pymtToName||"",pymtBankName:$.pymtBankName||"",pymtAccNum:$.pymtAccNum||"",pymtIFSCode:$.pymtIFSCode||"",pymtBranch:$.pymtBranch||"",contractAmount:$.contractAmount||"",tdsExemption:$.tdsExemption||!1,status:$.status,createdBy:$.createdBy||"",createdOn:$.createdOn,modifiedBy:$.modifiedBy||"",modifiedOn:$.modifiedOn}});d(ce)}catch(P){const ce=P instanceof Error?P.message:"Failed to load fleets";y(ce),console.error("Error loading fleets:",P),d([])}finally{m(!1)}};k.useEffect(()=>{(async()=>{await N()})()},[]),k.useEffect(()=>{A.length>0&&C()},[A.length]);const O=h.filter(P=>P.companyName.toLowerCase().includes(i.toLowerCase())||P.vehicleNum.toLowerCase().includes(i.toLowerCase())||P.vehMake.toLowerCase().includes(i.toLowerCase())||P.vehModel.toLowerCase().includes(i.toLowerCase())||P.ownerName.toLowerCase().includes(i.toLowerCase())),W=()=>{o(null),l(!0)},K=P=>{o(P),l(!0)},te=async P=>{if(window.confirm("Are you sure you want to delete this fleet vehicle?"))try{m(!0),await _h.deleteFleet(P),await C(),alert("Fleet deleted successfully")}catch(ce){const $=ce instanceof Error?ce.message:"Failed to delete fleet";alert(`Error: ${$}`),console.error("Error deleting fleet:",ce)}finally{m(!1)}},q=async P=>{try{m(!0),y(null);const ce=A.find($=>$.companyName===P.companyName);if(!ce){alert("Please select a valid company");return}if(u)await _h.updateFleet(u.id,{capacity:P.capacity,vehMake:P.vehMake,vehModel:P.vehModel,mfgYear:P.mfgYear,nextFCDate:P.nextFCDate,pucDateValidUpto:P.pucDateValidUpto,insuranceValidUpto:P.insuranceValidUpto,ownerName:P.ownerName,ownerContact:P.ownerContact,ownerEmail:P.ownerEmail,ownerPAN:P.ownerPAN,ownerAadhaar:P.ownerAadhaar,pymtToName:P.pymtToName,pymtBankName:P.pymtBankName,pymtAccNum:P.pymtAccNum,pymtIFSCode:P.pymtIFSCode,pymtBranch:P.pymtBranch,contractAmount:P.contractAmount,tdsExemption:P.tdsExemption,status:P.status}),alert("Fleet updated successfully");else{if(!P.vehicleNum||!P.companyName){alert("Please fill in Vehicle Number and Company Name");return}await _h.createFleet({companyId:ce.id,vehicleNum:P.vehicleNum,capacity:P.capacity,vehMake:P.vehMake,vehModel:P.vehModel,mfgYear:P.mfgYear,nextFCDate:P.nextFCDate,pucDateValidUpto:P.pucDateValidUpto,insuranceValidUpto:P.insuranceValidUpto,ownerName:P.ownerName,ownerContact:P.ownerContact,ownerEmail:P.ownerEmail,ownerPAN:P.ownerPAN,ownerAadhaar:P.ownerAadhaar,pymtToName:P.pymtToName,pymtBankName:P.pymtBankName,pymtAccNum:P.pymtAccNum,pymtIFSCode:P.pymtIFSCode,pymtBranch:P.pymtBranch,contractAmount:P.contractAmount,tdsExemption:P.tdsExemption}),alert("Fleet created successfully")}l(!1),o(null),await C()}catch(ce){const $=ce instanceof Error?ce.message:"Failed to save fleet";y($),alert(`Error: ${$}`),console.error("Error saving fleet:",ce)}finally{m(!1)}},Y=us(e,n.pathname);return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${b?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!b&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:S,"aria-label":b?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:b?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:Y.map(P=>t.jsx("li",{children:t.jsxs(Yr,{to:P.path,className:`nav-link ${P.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:P.icon}),!b&&t.jsx("span",{className:"nav-label",children:P.label})]})},P.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Yr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!b&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!b&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / Fleet Management"})})}),x&&t.jsx("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc"},children:x}),g&&!h.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading fleets..."}),t.jsxs("div",{className:"fleet-management-page",children:[t.jsx("div",{className:"fleet-management-header",children:t.jsx("h1",{className:"fleet-management-title",children:"Fleet Management"})}),t.jsxs("div",{className:"fleet-management-actions",children:[t.jsxs("div",{className:"fleet-search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"fleet-search-input",placeholder:"Search Fleet...",value:i,onChange:P=>s(P.target.value)})]}),a&&t.jsxs("button",{className:"add-fleet-btn",onClick:W,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Vehicle"]})]}),t.jsx("div",{className:"fleet-table-container",children:t.jsxs("table",{className:"fleet-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Company Name"}),t.jsx("th",{children:"Vehicle Number"}),t.jsx("th",{children:"Make"}),t.jsx("th",{children:"Model"}),t.jsx("th",{children:"Capacity"}),t.jsx("th",{children:"Owner Name"}),t.jsx("th",{children:"Owner Contact"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:O.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:9,className:"empty-message",children:"No fleet records found"})}):O.map(P=>t.jsxs("tr",{children:[t.jsx("td",{children:P.companyName||"-"}),t.jsx("td",{children:P.vehicleNum||"-"}),t.jsx("td",{children:P.vehMake||"-"}),t.jsx("td",{children:P.vehModel||"-"}),t.jsx("td",{children:P.capacity||"-"}),t.jsx("td",{children:P.ownerName||"-"}),t.jsx("td",{children:P.ownerContact||"-"}),t.jsx("td",{children:t.jsx("span",{className:`status-badge status-badge--${P.status.toLowerCase()}`,children:P.status})}),t.jsxs("td",{children:[t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>K(P),title:"Edit",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>te(P.id),title:"Delete",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},P.id))})]})}),t.jsxs("div",{className:"fleet-pagination-info",children:["Showing ",O.length," of ",h.length," Items"]})]})]}),c&&t.jsx(lte,{fleet:u,companies:A.filter(P=>P.status==="Active"),onClose:()=>{l(!1),o(null)},onSave:q})]})},lte=({fleet:r,companies:e,onClose:n,onSave:a})=>{const[i,s]=k.useState(r||{companyName:"",vehicleNum:"",capacity:"",vehMake:"",vehModel:"",mfgYear:"",nextFCDate:"",pucDateValidUpto:"",insuranceValidUpto:"",ownerName:"",ownerContact:"",ownerEmail:"",ownerPAN:"",ownerAadhaar:"",pymtToName:"",pymtBankName:"",pymtAccNum:"",pymtIFSCode:"",pymtBranch:"",contractAmount:"",tdsExemption:!1,status:"Active"}),c=l=>{l.preventDefault(),a(i)};return t.jsx("div",{className:"modal-overlay",onClick:n,children:t.jsxs("div",{className:"modal-content",onClick:l=>l.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Vehicle":"Add Vehicle"}),t.jsx("button",{className:"modal-close-btn",onClick:n,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"fleet-form",onSubmit:c,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Basic Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company Name *"}),t.jsxs("select",{value:i.companyName||"",onChange:l=>s({...i,companyName:l.target.value}),required:!0,children:[t.jsx("option",{value:"",children:"Select Company"}),e.map(l=>t.jsx("option",{value:l.companyName,children:l.companyName},l.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Vehicle Number *"}),t.jsx("input",{type:"text",value:i.vehicleNum||"",onChange:l=>s({...i,vehicleNum:l.target.value}),required:!0,placeholder:"e.g., MH-01-AB-1234"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Capacity *"}),t.jsx("input",{type:"text",value:i.capacity||"",onChange:l=>s({...i,capacity:l.target.value}),required:!0,placeholder:"Enter capacity in kg"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Vehicle Make *"}),t.jsx("input",{type:"text",value:i.vehMake||"",onChange:l=>s({...i,vehMake:l.target.value}),required:!0,placeholder:"e.g., Tata, Mahindra"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Vehicle Model *"}),t.jsx("input",{type:"text",value:i.vehModel||"",onChange:l=>s({...i,vehModel:l.target.value}),required:!0,placeholder:"e.g., 407, Bolero"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Manufacturing Year"}),t.jsx("input",{type:"text",value:i.mfgYear||"",onChange:l=>s({...i,mfgYear:l.target.value}),placeholder:"e.g., 2020"})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Compliance Dates"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Next FC Date"}),t.jsx("input",{type:"date",value:i.nextFCDate||"",onChange:l=>s({...i,nextFCDate:l.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"PUC Date Valid Upto"}),t.jsx("input",{type:"date",value:i.pucDateValidUpto||"",onChange:l=>s({...i,pucDateValidUpto:l.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Insurance Valid Upto"}),t.jsx("input",{type:"date",value:i.insuranceValidUpto||"",onChange:l=>s({...i,insuranceValidUpto:l.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Owner Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Owner Name *"}),t.jsx("input",{type:"text",value:i.ownerName||"",onChange:l=>s({...i,ownerName:l.target.value}),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Owner Contact *"}),t.jsx("input",{type:"tel",value:i.ownerContact||"",onChange:l=>s({...i,ownerContact:l.target.value}),required:!0,placeholder:"+91-9876543210"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Owner Email"}),t.jsx("input",{type:"email",value:i.ownerEmail||"",onChange:l=>s({...i,ownerEmail:l.target.value}),placeholder:"owner@example.com"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Owner PAN"}),t.jsx("input",{type:"text",value:i.ownerPAN||"",onChange:l=>s({...i,ownerPAN:l.target.value}),placeholder:"ABCDE1234F"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Owner Aadhaar"}),t.jsx("input",{type:"text",value:i.ownerAadhaar||"",onChange:l=>s({...i,ownerAadhaar:l.target.value}),placeholder:"1234-5678-9012"})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Payment Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Payment To Name"}),t.jsx("input",{type:"text",value:i.pymtToName||"",onChange:l=>s({...i,pymtToName:l.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Bank Name"}),t.jsx("input",{type:"text",value:i.pymtBankName||"",onChange:l=>s({...i,pymtBankName:l.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Account Number"}),t.jsx("input",{type:"text",value:i.pymtAccNum||"",onChange:l=>s({...i,pymtAccNum:l.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"IFSC Code"}),t.jsx("input",{type:"text",value:i.pymtIFSCode||"",onChange:l=>s({...i,pymtIFSCode:l.target.value}),placeholder:"SBIN0001234"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Branch"}),t.jsx("input",{type:"text",value:i.pymtBranch||"",onChange:l=>s({...i,pymtBranch:l.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Contract Amount"}),t.jsx("input",{type:"text",value:i.contractAmount||"",onChange:l=>s({...i,contractAmount:l.target.value}),placeholder:"Enter amount"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"TDS Exemption"}),t.jsxs("select",{value:i.tdsExemption?"true":"false",onChange:l=>s({...i,tdsExemption:l.target.value==="true"}),children:[t.jsx("option",{value:"false",children:"No"}),t.jsx("option",{value:"true",children:"Yes"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:i.status||"Active",onChange:l=>s({...i,status:l.target.value}),children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},cte=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},p0=async(r,e={})=>{const n=cte(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${gA}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const c=await i.json();c.message?Array.isArray(c.message)?s=c.message.join(", "):typeof c.message=="string"?s=c.message:s=String(c.message):c.error&&(typeof c.error=="string"?s=c.error:c.error.message?s=typeof c.error.message=="string"?c.error.message:String(c.error.message):s=JSON.stringify(c.error));const l=new Error(s);throw l.status=i.status,l.statusText=i.statusText,l.errorData=c,l}catch{const l=new Error(s);throw l.status=i.status,l.statusText=i.statusText,l}}return i.status===204?{}:i.json()},U0={createRouteHcfMapping:async r=>(await p0("/route-hcf-mappings",{method:"POST",body:JSON.stringify(r)})).data,getRouteHcfMappingById:async r=>(await p0(`/route-hcf-mappings/${r}`,{method:"GET"})).data,getAllRouteHcfMappings:async(r,e,n,a=!1)=>{let i="/route-hcf-mappings";const s=new URLSearchParams;return r&&s.append("routeId",r),e&&s.append("hcfId",e),n&&s.append("companyId",n),a&&s.append("activeOnly","true"),s.toString()&&(i+=`?${s.toString()}`),(await p0(i,{method:"GET"})).data},updateRouteHcfMapping:async(r,e)=>(await p0(`/route-hcf-mappings/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteRouteHcfMapping:async r=>{await p0(`/route-hcf-mappings/${r}`,{method:"DELETE"})}},ute=()=>{const{logout:r,permissions:e}=da(),n=Tn(),a=Yl(Array.isArray(e)?e:[],"ROUTE_HCF_CREATE"),[i,s]=k.useState(""),[c,l]=k.useState(!1),[u,o]=k.useState(null),[h,d]=k.useState(!1),[A,f]=k.useState(null),[g,m]=k.useState(null),[x,y]=k.useState(!1),b=()=>{y(!x)},[w,S]=k.useState([]),[N,C]=k.useState([]),[O,W]=k.useState([]),[K,te]=k.useState([]),q=k.useCallback(async()=>{try{const Oe=(await Ha.getAllCompanies(!0)).map(ee=>({id:ee.id,companyCode:ee.companyCode,companyName:ee.companyName,status:ee.status}));S(Oe)}catch(Z){console.error("Error loading companies:",Z)}},[]),Y=k.useCallback(async()=>{try{const Z=await af.getAllRoutes(!0),Oe=await Promise.all(Z.map(async ee=>{const re=w.find(je=>je.id===ee.companyId);return{id:ee.id,routeCode:ee.routeCode,routeName:ee.routeName,companyName:(re==null?void 0:re.companyName)||"Unknown",status:ee.status}}));C(Oe)}catch(Z){console.error("Error loading routes:",Z)}},[w]),P=k.useCallback(async()=>{try{const Z=await Fs.getAllHcfs(void 0,!0),Oe=await Promise.all(Z.map(async ee=>{const re=w.find(je=>je.id===ee.companyId);return{id:ee.id,hcfCode:ee.hcfCode,hcfName:ee.hcfName,companyName:(re==null?void 0:re.companyName)||"Unknown",status:ee.status}}));W(Oe)}catch(Z){console.error("Error loading HCFs:",Z)}},[w]),ce=k.useCallback(async()=>{d(!0),f(null);try{const Oe=(await U0.getAllRouteHcfMappings(void 0,void 0,void 0,!0)).map(ee=>{const re=N.find(ye=>ye.id===ee.routeId),je=O.find(ye=>ye.id===ee.hcfId),Ne=w.find(ye=>ye.id===ee.companyId);return{id:ee.id,routeId:ee.routeId,routeCode:(re==null?void 0:re.routeCode)||"",routeName:(re==null?void 0:re.routeName)||"",hcfId:ee.hcfId,hcfCode:(je==null?void 0:je.hcfCode)||"",hcfName:(je==null?void 0:je.hcfName)||"",companyId:ee.companyId,companyName:(Ne==null?void 0:Ne.companyName)||"Unknown",sequenceOrder:ee.sequenceOrder,status:ee.status,createdBy:ee.createdBy,createdOn:ee.createdOn,modifiedBy:ee.modifiedBy,modifiedOn:ee.modifiedOn}});te(Oe)}catch(Z){const Oe=Z instanceof Error?Z.message:"Failed to load mappings";f(Oe),console.error("Error loading mappings:",Z)}finally{d(!1)}},[N,O,w]);k.useEffect(()=>{(async()=>{await q()})()},[q]),k.useEffect(()=>{w.length>0&&(Y(),P())},[w,Y,P]),k.useEffect(()=>{N.length>0&&O.length>0&&w.length>0&&ce()},[N,O,w,ce]);const $=K.filter(Z=>{var Oe,ee;return Z.routeCode.toLowerCase().includes(i.toLowerCase())||Z.hcfCode.toLowerCase().includes(i.toLowerCase())||Z.companyName.toLowerCase().includes(i.toLowerCase())||((Oe=N.find(re=>re.routeCode===Z.routeCode))==null?void 0:Oe.routeName.toLowerCase().includes(i.toLowerCase()))||((ee=O.find(re=>re.hcfCode===Z.hcfCode))==null?void 0:ee.hcfName.toLowerCase().includes(i.toLowerCase()))}),R=()=>{o(null),l(!0)},se=Z=>{o(Z),l(!0)},fe=async Z=>{if(window.confirm("Are you sure you want to delete this Route-HCF mapping?"))try{d(!0),f(null),await U0.deleteRouteHcfMapping(Z),m("Mapping deleted successfully"),await ce(),setTimeout(()=>{m(null)},3e3)}catch(Oe){let ee="Failed to delete mapping";Oe instanceof Error&&(ee=Oe.message,ee.includes("not found")?ee="This mapping could not be found. It may have already been deleted.":(ee.includes("permission")||ee.includes("unauthorized"))&&(ee="You do not have permission to delete this mapping.")),f(ee),console.error("Error deleting mapping:",Oe)}finally{d(!1)}},Te=(Z,Oe,ee)=>{let re="Failed to save mapping";return Z instanceof Error&&(re=Z.message,re.includes("already exists")||re.includes("mapping between")?Oe&&ee?re=`This mapping already exists: Route "${Oe.routeCode} - ${Oe.routeName}" and HCF "${ee.hcfCode} - ${ee.hcfName}" are already mapped together. Each route-HCF combination can only be mapped once.`:re="This mapping already exists. Each route-HCF combination can only be mapped once.":re.includes("not found")?re="One or more selected items (Route, HCF, or Company) could not be found. Please refresh and try again.":re.includes("invalid")?re="Invalid data provided. Please check your inputs and try again.":re.includes("required")?re="Please fill in all required fields.":re.includes("permission")||re.includes("unauthorized")?re="You do not have permission to perform this action.":re.includes("HTTP 409")||re.includes("Conflict")?re="A conflict occurred. This mapping may already exist.":re.includes("HTTP 400")||re.includes("Bad Request")?re="Invalid request. Please check your inputs and try again.":(re.includes("HTTP 500")||re.includes("Internal Server Error"))&&(re="An internal server error occurred. Please try again later or contact support.")),re},Ie=async Z=>{try{d(!0),f(null);const Oe=w.find(je=>je.companyName===Z.companyName);if(!Oe){f("Please select a valid company");return}const ee=N.find(je=>je.routeCode===Z.routeCode&&je.companyName===Z.companyName);if(!ee){f("Please select a valid route");return}const re=O.find(je=>je.hcfCode===Z.hcfCode&&je.companyName===Z.companyName);if(!re){f("Please select a valid HCF");return}u?(await U0.updateRouteHcfMapping(u.id,{sequenceOrder:Z.sequenceOrder,status:Z.status}),f(null),m("Mapping updated successfully"),l(!1),o(null),await ce(),setTimeout(()=>{m(null)},3e3)):(await U0.createRouteHcfMapping({routeId:ee.id,hcfId:re.id,companyId:Oe.id,sequenceOrder:Z.sequenceOrder}),f(null),m("Mapping created successfully"),l(!1),o(null),await ce(),setTimeout(()=>{m(null)},3e3))}catch(Oe){const ee=N.find(Ne=>Ne.routeCode===Z.routeCode&&Ne.companyName===Z.companyName),re=O.find(Ne=>Ne.hcfCode===Z.hcfCode&&Ne.companyName===Z.companyName),je=Te(Oe,ee,re);f(je),console.error("Error saving mapping:",Oe)}finally{d(!1)}},_e=us(e,n.pathname);return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${x?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!x&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:b,"aria-label":x?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:x?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:_e.map(Z=>t.jsx("li",{children:t.jsxs(Yr,{to:Z.path,className:`nav-link ${Z.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:Z.icon}),!x&&t.jsx("span",{className:"nav-label",children:Z.label})]})},Z.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Yr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!x&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!x&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / Route-HCF Mapping"})})}),g&&t.jsxs("div",{style:{padding:"12px 16px",background:"#d4edda",color:"#155724",marginBottom:"16px",borderRadius:"6px",border:"1px solid #c3e6cb",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsx("span",{children:g}),t.jsx("button",{onClick:()=>m(null),style:{background:"none",border:"none",color:"#155724",cursor:"pointer",fontSize:"18px",padding:"0 8px",lineHeight:"1"},"aria-label":"Close success message",children:""})]}),A&&t.jsxs("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsx("span",{children:A}),t.jsx("button",{onClick:()=>f(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px",lineHeight:"1"},"aria-label":"Close error message",children:""})]}),h&&!K.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading mappings..."}),t.jsxs("div",{className:"route-hcf-mapping-page",children:[t.jsx("div",{className:"route-hcf-mapping-header",children:t.jsx("h1",{className:"route-hcf-mapping-title",children:"Route-HCF Mapping"})}),t.jsxs("div",{className:"route-hcf-mapping-actions",children:[t.jsxs("div",{className:"route-hcf-mapping-search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"route-hcf-mapping-search-input",placeholder:"Search Mapping...",value:i,onChange:Z=>s(Z.target.value)})]}),a&&t.jsxs("button",{className:"add-mapping-btn",onClick:R,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Mapping"]})]}),t.jsx("div",{className:"route-hcf-mapping-table-container",children:t.jsxs("table",{className:"route-hcf-mapping-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Company Name"}),t.jsx("th",{children:"Route Code"}),t.jsx("th",{children:"HCF Code"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:$.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"empty-message",children:"No mapping records found"})}):$.map(Z=>t.jsxs("tr",{children:[t.jsx("td",{children:Z.companyName||"-"}),t.jsx("td",{children:Z.routeCode?`${Z.routeCode} - ${Z.routeName}`:"-"}),t.jsx("td",{children:Z.hcfCode?`${Z.hcfCode} - ${Z.hcfName}`:"-"}),t.jsx("td",{children:t.jsx("span",{className:`status-badge status-badge--${Z.status.toLowerCase()}`,children:Z.status})}),t.jsxs("td",{children:[t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>se(Z),title:"Edit",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>fe(Z.id),title:"Delete",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},Z.id))})]})}),t.jsxs("div",{className:"route-hcf-mapping-pagination-info",children:["Showing ",$.length," of ",K.length," Items"]})]})]}),c&&t.jsx(dte,{mapping:u,companies:w.filter(Z=>Z.status==="Active"),routes:N.filter(Z=>Z.status==="Active"),hcfs:O.filter(Z=>Z.status==="Active"),onClose:()=>{l(!1),o(null)},onSave:Ie})]})},dte=({mapping:r,companies:e,routes:n,hcfs:a,onClose:i,onSave:s})=>{const[c,l]=k.useState(r||{companyName:"",routeCode:"",hcfCode:"",status:"Active"}),u=c.companyName?n.filter(d=>d.companyName===c.companyName):n,o=c.companyName?a.filter(d=>d.companyName===c.companyName):a,h=d=>{d.preventDefault(),s(c)};return t.jsx("div",{className:"modal-overlay",onClick:i,children:t.jsxs("div",{className:"modal-content",onClick:d=>d.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Mapping":"Add Mapping"}),t.jsx("button",{className:"modal-close-btn",onClick:i,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"mapping-form",onSubmit:h,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Mapping Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company Name *"}),t.jsxs("select",{value:c.companyName||"",onChange:d=>{l({...c,companyName:d.target.value,routeCode:"",hcfCode:""})},required:!0,children:[t.jsx("option",{value:"",children:"Select Company"}),e.map(d=>t.jsx("option",{value:d.companyName,children:d.companyName},d.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Route Code *"}),t.jsxs("select",{value:c.routeCode||"",onChange:d=>l({...c,routeCode:d.target.value}),required:!0,disabled:!c.companyName,children:[t.jsx("option",{value:"",children:"Select Route"}),u.map(d=>t.jsxs("option",{value:d.routeCode,children:[d.routeCode," - ",d.routeName]},d.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCF Code *"}),t.jsxs("select",{value:c.hcfCode||"",onChange:d=>l({...c,hcfCode:d.target.value}),required:!0,disabled:!c.companyName,children:[t.jsx("option",{value:"",children:"Select HCF"}),o.map(d=>t.jsxs("option",{value:d.hcfCode,children:[d.hcfCode," - ",d.hcfName]},d.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:c.status||"Active",onChange:d=>l({...c,status:d.target.value}),children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:i,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},hte=()=>{const{logout:r,permissions:e}=da(),n=Tn(),a=Yl(Array.isArray(e)?e:[],"FREQUENCY_CREATE"),[i,s]=k.useState(""),[c,l]=k.useState(!1),[u,o]=k.useState(null),[h,d]=k.useState([]),[A,f]=k.useState([]),[g,m]=k.useState(!1),[x,y]=k.useState(null),[b,w]=k.useState(!1),S=()=>{w(!b)},N=async()=>{try{const ce=(await Ha.getAllCompanies(!0)).map($=>({id:$.id,companyCode:$.companyCode,companyName:$.companyName,status:$.status}));f(ce)}catch(P){console.error("Error loading companies:",P)}},C=async()=>{m(!0),y(null);try{const ce=(await Gp.getAllFrequencies(void 0,!0)).map($=>{const R=A.find(se=>se.id===$.companyId);return{id:$.id,frequencyCode:$.frequencyCode,frequencyName:$.frequencyName,companyName:(R==null?void 0:R.companyName)||"Unknown Company",status:$.status,createdBy:$.createdBy||"",createdOn:$.createdOn,modifiedBy:$.modifiedBy||"",modifiedOn:$.modifiedOn}});d(ce)}catch(P){const ce=P instanceof Error?P.message:"Failed to load frequencies";y(ce),console.error("Error loading frequencies:",P),d([])}finally{m(!1)}};k.useEffect(()=>{(async()=>{await N()})()},[]),k.useEffect(()=>{A.length>0&&C()},[A.length]);const O=h.filter(P=>P.companyName.toLowerCase().includes(i.toLowerCase())||P.frequencyCode.toLowerCase().includes(i.toLowerCase())||P.frequencyName.toLowerCase().includes(i.toLowerCase())),W=()=>{o(null),l(!0)},K=P=>{o(P),l(!0)},te=async P=>{if(window.confirm("Are you sure you want to delete this frequency?"))try{m(!0),await Gp.deleteFrequency(P),await C(),alert("Frequency deleted successfully")}catch(ce){const $=ce instanceof Error?ce.message:"Failed to delete frequency";alert(`Error: ${$}`),console.error("Error deleting frequency:",ce)}finally{m(!1)}},q=async P=>{try{m(!0),y(null);const ce=A.find($=>$.companyName===P.companyName);if(!ce){alert("Please select a valid company");return}if(u)await Gp.updateFrequency(u.id,{status:P.status}),alert("Frequency updated successfully");else{if(!P.frequencyCode||!P.frequencyName||!P.companyName){alert("Please fill in all required fields");return}await Gp.createFrequency({frequencyCode:P.frequencyCode,frequencyName:P.frequencyName,companyId:ce.id}),alert("Frequency created successfully")}l(!1),o(null),await C()}catch(ce){const $=ce instanceof Error?ce.message:"Failed to save frequency";y($),alert(`Error: ${$}`),console.error("Error saving frequency:",ce)}finally{m(!1)}},Y=us(e,n.pathname);return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${b?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!b&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:S,"aria-label":b?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:b?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:Y.map(P=>t.jsx("li",{children:t.jsxs(Yr,{to:P.path,className:`nav-link ${P.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:P.icon}),!b&&t.jsx("span",{className:"nav-label",children:P.label})]})},P.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Yr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!b&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!b&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / Frequency Master"})})}),x&&t.jsx("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc"},children:x}),g&&!h.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading frequencies..."}),t.jsxs("div",{className:"frequency-master-page",children:[t.jsx("div",{className:"frequency-master-header",children:t.jsx("h1",{className:"frequency-master-title",children:"Frequency Master"})}),t.jsxs("div",{className:"frequency-master-actions",children:[t.jsxs("div",{className:"frequency-search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"frequency-search-input",placeholder:"Search Frequency...",value:i,onChange:P=>s(P.target.value)})]}),a&&t.jsxs("button",{className:"add-frequency-btn",onClick:W,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Frequency"]})]}),t.jsx("div",{className:"frequency-table-container",children:t.jsxs("table",{className:"frequency-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Company Name"}),t.jsx("th",{children:"Frequency Code"}),t.jsx("th",{children:"Frequency Name"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:O.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"empty-message",children:"No frequency records found"})}):O.map(P=>t.jsxs("tr",{children:[t.jsx("td",{children:P.companyName||"-"}),t.jsx("td",{children:P.frequencyCode||"-"}),t.jsx("td",{children:P.frequencyName||"-"}),t.jsx("td",{children:t.jsx("span",{className:`status-badge status-badge--${P.status.toLowerCase()}`,children:P.status})}),t.jsxs("td",{children:[t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>K(P),title:"Edit",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>te(P.id),title:"Delete",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},P.id))})]})}),t.jsxs("div",{className:"frequency-pagination-info",children:["Showing ",O.length," of ",h.length," Items"]})]})]}),c&&t.jsx(Ate,{frequency:u,companies:A.filter(P=>P.status==="Active"),onClose:()=>{l(!1),o(null)},onSave:q})]})},Ate=({frequency:r,companies:e,onClose:n,onSave:a})=>{const[i,s]=k.useState(r||{companyName:"",frequencyCode:"",frequencyName:"",status:"Active"}),c=l=>{l.preventDefault(),a(i)};return t.jsx("div",{className:"modal-overlay",onClick:n,children:t.jsxs("div",{className:"modal-content",onClick:l=>l.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Frequency":"Add Frequency"}),t.jsx("button",{className:"modal-close-btn",onClick:n,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"frequency-form",onSubmit:c,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Basic Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company Name *"}),t.jsxs("select",{value:i.companyName||"",onChange:l=>s({...i,companyName:l.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{},children:[t.jsx("option",{value:"",children:"Select Company"}),e.map(l=>t.jsx("option",{value:l.companyName,children:l.companyName},l.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Frequency Code *"}),t.jsx("input",{type:"text",value:i.frequencyCode||"",onChange:l=>s({...i,frequencyCode:l.target.value}),required:!0,placeholder:"Enter Frequency Code",disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Frequency Name *"}),t.jsx("input",{type:"text",value:i.frequencyName||"",onChange:l=>s({...i,frequencyName:l.target.value}),required:!0,placeholder:"Enter Frequency Name",disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:i.status||"Active",onChange:l=>s({...i,status:l.target.value}),children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},fte="http://localhost:3000/api/v1",pte=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},m0=async(r,e={})=>{const n=pte(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${fte}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const c=await i.json();c.message?Array.isArray(c.message)?s=c.message.join(", "):typeof c.message=="string"?s=c.message:s=String(c.message):c.error&&(typeof c.error=="string"?s=c.error:c.error.message?s=typeof c.error.message=="string"?c.error.message:String(c.error.message):s=JSON.stringify(c.error));const l=new Error(s);throw l.status=i.status,l.statusText=i.statusText,l.errorData=c,l}catch{const l=new Error(s);throw l.status=i.status,l.statusText=i.statusText,l}}return i.status===204?{}:i.json()},g0={createRouteAssignment:async r=>(await m0("/route-assignments",{method:"POST",body:JSON.stringify(r)})).data,getRouteAssignmentById:async r=>(await m0(`/route-assignments/${r}`,{method:"GET"})).data,getAllRouteAssignments:async(r,e,n)=>{let a="/route-assignments";const i=new URLSearchParams;return r&&i.append("companyId",r),e&&i.append("date",e),n&&i.append("status",n),i.toString()&&(a+=`?${i.toString()}`),(await m0(a,{method:"GET"})).data},updateRouteAssignment:async(r,e)=>(await m0(`/route-assignments/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteRouteAssignment:async r=>{await m0(`/route-assignments/${r}`,{method:"DELETE"})}},mte=()=>{const{logout:r,permissions:e}=da(),n=Tn(),[a,i]=k.useState(""),[s,c]=k.useState(new Date().toISOString().split("T")[0]),[l,u]=k.useState("all"),[o,h]=k.useState(!1),[d,A]=k.useState(!1),[f,g]=k.useState(null),[m,x]=k.useState(!1),[y,b]=k.useState(null),[w,S]=k.useState(null),[N,C]=k.useState({route:"",vehicle:"",driver:"",picker:"",supervisor:""}),[O,W]=k.useState([]),[K,te]=k.useState([]),[q,Y]=k.useState([]),[P,ce]=k.useState([]),[$,R]=k.useState([]),[se,fe]=k.useState([]),[Te,Ie]=k.useState([]),_e=k.useCallback(async()=>{try{const Ce=(await Ha.getAllCompanies(!0)).map(ue=>({id:ue.id,companyCode:ue.companyCode,companyName:ue.companyName,status:ue.status}));W(Ce)}catch(de){console.error("Error loading companies:",de)}},[]),Z=k.useCallback(async de=>{try{const ue=(await af.getAllRoutes(!0)).map($e=>({id:$e.id,routeCode:$e.routeCode,routeName:$e.routeName,companyId:$e.companyId,status:$e.status}));te(de?ue.filter($e=>$e.companyId===de):ue)}catch(Ce){console.error("Error loading routes:",Ce)}},[]),Oe=k.useCallback(async de=>{try{const ue=(await _h.getAllFleets(de,!0)).map($e=>({id:$e.id,vehicleNum:$e.vehicleNum,companyId:$e.companyId,status:$e.status}));Y(ue)}catch(Ce){console.error("Error loading vehicles:",Ce)}},[]),ee=k.useCallback(async de=>{if(!de){ce([]),R([]),fe([]);return}try{const $e=(await Kl.getUsersByCompany(de)).map(it=>({id:it.userId,userName:it.userName,employeeCode:it.employeeCode,companyId:it.companyId,status:it.status})).filter(it=>it.status==="Active");ce($e),R($e),fe($e)}catch(Ce){console.error("Error loading users:",Ce),ce([]),R([]),fe([])}},[]),re=k.useCallback(async()=>{x(!0),b(null);try{const de=await g0.getAllRouteAssignments(void 0,s,l!=="all"?l:void 0),Ce=await Promise.all(de.map(async ue=>{const $e=K.find(lr=>lr.id===ue.routeId),it=q.find(lr=>lr.id===ue.vehicleId),Et=P.find(lr=>lr.id===ue.driverId),Ct=ue.pickerId?$.find(lr=>lr.id===ue.pickerId):null,Bt=ue.supervisorId?se.find(lr=>lr.id===ue.supervisorId):null,mr=O.find(lr=>lr.id===ue.companyId);return{id:ue.id,assignmentDate:ue.assignmentDate,routeId:ue.routeId,routeCode:($e==null?void 0:$e.routeCode)||"",routeName:($e==null?void 0:$e.routeName)||"",vehicleId:ue.vehicleId,vehicleNum:(it==null?void 0:it.vehicleNum)||"",driverId:ue.driverId,driverName:(Et==null?void 0:Et.userName)||"",pickerId:ue.pickerId,pickerName:Ct==null?void 0:Ct.userName,supervisorId:ue.supervisorId,supervisorName:Bt==null?void 0:Bt.userName,companyId:ue.companyId,companyName:(mr==null?void 0:mr.companyName)||"Unknown",status:ue.status,notes:ue.notes,createdBy:ue.createdBy,createdOn:ue.createdOn,modifiedBy:ue.modifiedBy,modifiedOn:ue.modifiedOn}}));Ie(Ce)}catch(de){const Ce=de instanceof Error?de.message:"Failed to load assignments";b(Ce),console.error("Error loading assignments:",de)}finally{x(!1)}},[s,l,K,q,P,$,se,O]);k.useEffect(()=>{(async()=>{await _e()})()},[_e]),k.useEffect(()=>{O.length>0&&(Z(),Oe())},[O,Z,Oe]),k.useEffect(()=>{K.length>0&&q.length>0&&re()},[s,l,K,q,P,$,se,O,re]);const je=k.useMemo(()=>{const de=a.trim().toLowerCase(),Ce=N.route.trim().toLowerCase(),ue=N.vehicle.trim().toLowerCase(),$e=N.driver.trim().toLowerCase(),it=N.picker.trim().toLowerCase(),Et=N.supervisor.trim().toLowerCase();return Te.filter(Ct=>{var Dr,vr;const Bt=!de||Ct.routeCode.toLowerCase().includes(de)||Ct.routeName.toLowerCase().includes(de)||Ct.vehicleNum.toLowerCase().includes(de)||Ct.driverName.toLowerCase().includes(de)||((Dr=Ct.pickerName)==null?void 0:Dr.toLowerCase().includes(de))||((vr=Ct.supervisorName)==null?void 0:vr.toLowerCase().includes(de))||Ct.companyName.toLowerCase().includes(de),mr=!Ce||Ct.routeCode.toLowerCase().includes(Ce)||Ct.routeName.toLowerCase().includes(Ce),lr=!ue||Ct.vehicleNum.toLowerCase().includes(ue),He=!$e||Ct.driverName.toLowerCase().includes($e),$t=!it||(Ct.pickerName||"-").toLowerCase().includes(it),Nt=!Et||(Ct.supervisorName||"-").toLowerCase().includes(Et);return Bt&&mr&&lr&&He&&$t&&Nt})},[Te,a,N]),Ne=()=>{g(null),h(!0)},ye=de=>{if(de.status==="In Progress"||de.status==="Completed"){b("Cannot edit assignments that are In Progress or Completed");return}g(de),h(!0)},me=async de=>{if(window.confirm("Are you sure you want to delete this route assignment?"))try{x(!0),b(null),await g0.deleteRouteAssignment(de),S("Assignment deleted successfully"),await re(),setTimeout(()=>S(null),3e3)}catch(Ce){const ue=Ce instanceof Error?Ce.message:"Failed to delete assignment";b(ue),console.error("Error deleting assignment:",Ce)}finally{x(!1)}},ie=async de=>{try{if(x(!0),b(null),f)await g0.updateRouteAssignment(f.id,{status:de.status,pickerId:de.pickerId,supervisorId:de.supervisorId,notes:de.notes}),S("Assignment updated successfully");else{const Ce=O.find(ue=>ue.id===de.companyId);if(!Ce){b("Please select a valid company");return}await g0.createRouteAssignment({assignmentDate:s,routeId:de.routeId,vehicleId:de.vehicleId,driverId:de.driverId,pickerId:de.pickerId,supervisorId:de.supervisorId,companyId:Ce.id,status:de.status||"Draft",notes:de.notes}),S("Assignment created successfully")}h(!1),g(null),await re(),setTimeout(()=>S(null),3e3)}catch(Ce){const ue=Ce instanceof Error?Ce.message:"Failed to save assignment";b(ue),console.error("Error saving assignment:",Ce)}finally{x(!1)}},le=async(de,Ce)=>{try{x(!0),b(null),await g0.updateRouteAssignment(de.id,{status:Ce}),S(`Assignment status changed to ${Ce}`),await re(),setTimeout(()=>S(null),3e3)}catch(ue){const $e=ue instanceof Error?ue.message:"Failed to update status";b($e),console.error("Error updating status:",ue)}finally{x(!1)}},Ee=de=>{switch(de){case"Draft":return"status-badge--draft";case"Assigned":return"status-badge--assigned";case"In Progress":return"status-badge--in-progress";case"Completed":return"status-badge--completed";default:return""}},Re=de=>de.status==="Draft"||de.status==="Assigned",Ue=us(e,n.pathname);return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:"dashboard-sidebar",children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:Ue.map(de=>t.jsx("li",{children:t.jsxs(Yr,{to:de.path,className:`nav-link ${de.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:de.icon}),t.jsx("span",{className:"nav-label",children:de.label})]})},de.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Yr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"Home > Route Assignment"})})}),w&&t.jsxs("div",{className:"ra-alert ra-alert--success",role:"status","aria-live":"polite",children:[t.jsx("span",{children:w}),t.jsx("button",{onClick:()=>S(null),className:"ra-alert-close","aria-label":"Close success message",children:""})]}),y&&t.jsxs("div",{className:"ra-alert ra-alert--error",role:"alert",children:[t.jsx("span",{children:y}),t.jsx("button",{onClick:()=>b(null),className:"ra-alert-close","aria-label":"Close error message",children:""})]}),m&&!Te.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading assignments..."}),t.jsxs("div",{className:"route-assignment-page",children:[t.jsxs("div",{className:"ra-page-header",children:[t.jsx("h1",{className:"ra-page-title",children:"Route Assignment"}),t.jsx("p",{className:"ra-page-subtitle",children:"Manage and assign routes to vehicles and drivers"})]}),t.jsxs("div",{className:"ra-toolbar",children:[t.jsxs("div",{className:"ra-toolbar-left",children:[t.jsxs("div",{className:"ra-control",children:[t.jsx("label",{htmlFor:"assignment-date",children:"Assignment Date"}),t.jsx("input",{id:"assignment-date",type:"date",value:s,onChange:de=>c(de.target.value),className:"date-input"})]}),t.jsxs("div",{className:"ra-control",children:[t.jsx("label",{htmlFor:"status-filter",children:"Status"}),t.jsxs("select",{id:"status-filter",value:l,onChange:de=>u(de.target.value),className:"status-select",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"Draft",children:"Draft"}),t.jsx("option",{value:"Assigned",children:"Assigned"}),t.jsx("option",{value:"In Progress",children:"In Progress"}),t.jsx("option",{value:"Completed",children:"Completed"})]})]}),t.jsxs("div",{className:"ra-control ra-control--search",children:[t.jsx("label",{htmlFor:"search",children:"Search"}),t.jsxs("div",{className:"search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{id:"search",type:"text",placeholder:"Search by route, vehicle, driver...",value:a,onChange:de=>i(de.target.value),className:"search-input"})]})]})]}),t.jsxs("div",{className:"ra-toolbar-right",children:[t.jsxs("button",{className:"ra-btn ra-btn--secondary",onClick:()=>A(!0),children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M22 3H2l8 9v7l4 2v-9l8-9z"})}),"Filters"]}),t.jsxs("button",{className:"ra-btn ra-btn--primary",onClick:Ne,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Assignment"]})]})]}),t.jsx("div",{className:"route-assignment-table-container",children:t.jsxs("table",{className:"route-assignment-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Date"}),t.jsx("th",{children:"Route"}),t.jsx("th",{children:"Vehicle"}),t.jsx("th",{children:"Driver"}),t.jsx("th",{children:"Picker"}),t.jsx("th",{children:"Supervisor"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:je.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:8,className:"empty-message",children:m?"Loading...":"No assignments found for the selected date"})}):je.map(de=>t.jsxs("tr",{className:Re(de)?"":"read-only-row",children:[t.jsx("td",{children:new Date(de.assignmentDate).toLocaleDateString()}),t.jsx("td",{children:t.jsxs("div",{className:"route-info route-info--single",title:`${de.routeCode} - ${de.routeName}`,children:[t.jsx("span",{className:"route-code",children:de.routeCode}),t.jsx("span",{className:"route-sep",children:" - "}),t.jsx("span",{className:"route-name",children:de.routeName})]})}),t.jsx("td",{children:de.vehicleNum}),t.jsx("td",{children:de.driverName}),t.jsx("td",{children:de.pickerName?de.pickerName:t.jsx("span",{className:"text-muted",children:"Not assigned"})}),t.jsx("td",{children:de.supervisorName?de.supervisorName:t.jsx("span",{className:"text-muted",children:"Not assigned"})}),t.jsx("td",{children:t.jsx("div",{className:"ra-cell-center",children:t.jsx("span",{className:`status-badge ${Ee(de.status)}`,children:de.status})})}),t.jsx("td",{children:t.jsxs("div",{className:"action-buttons ra-actions",children:[Re(de)&&t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"action-btn action-btn--view",onClick:()=>ye(de),title:"View",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>ye(de),title:"Edit",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>me(de.id),title:"Delete",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]}),de.status==="Assigned"&&t.jsx("button",{className:"action-btn action-btn--start",onClick:()=>le(de,"In Progress"),title:"Start Route",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})})}),de.status==="In Progress"&&t.jsx("button",{className:"action-btn action-btn--complete",onClick:()=>le(de,"Completed"),title:"Complete Route",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"20 6 9 17 4 12"})})}),!Re(de)&&t.jsx("button",{className:"action-btn action-btn--view",onClick:()=>ye(de),title:"View (Read-only)",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})})]},de.id))})]})}),t.jsxs("div",{className:"route-assignment-pagination-info",children:["Showing ",je.length," of ",Te.length," items"]})]})]}),d&&t.jsx(vte,{selectedDate:s,statusFilter:l,advancedFilters:N,onClose:()=>A(!1),onClear:()=>{C({route:"",vehicle:"",driver:"",picker:"",supervisor:""}),u("all"),i("")},onApply:de=>{c(de.selectedDate),u(de.statusFilter),C(de.advancedFilters),A(!1)}}),o&&t.jsx(gte,{assignment:f,companies:O.filter(de=>de.status==="Active"),routes:K.filter(de=>de.status==="Active"),vehicles:q.filter(de=>de.status==="Active"),drivers:P,pickers:$,supervisors:se,selectedDate:s,onLoadUsers:ee,onClose:()=>{h(!1),g(null)},onSave:ie})]})},gte=({assignment:r,companies:e,routes:n,vehicles:a,drivers:i,pickers:s,supervisors:c,selectedDate:l,onLoadUsers:u,onClose:o,onSave:h})=>{const[d,A]=k.useState(r||{companyId:"",routeId:"",vehicleId:"",driverId:"",pickerId:null,supervisorId:null,status:"Draft",notes:null}),f=!!r&&(r.status==="In Progress"||r.status==="Completed");k.useEffect(()=>{d.companyId&&!r&&u(d.companyId)},[d.companyId,r,u]);const g=d.companyId?n.filter(S=>S.companyId===d.companyId):n,m=d.companyId?a.filter(S=>S.companyId===d.companyId):a,x=d.companyId?i.filter(S=>S.companyId===d.companyId):i,y=d.companyId?s.filter(S=>S.companyId===d.companyId):s,b=d.companyId?c.filter(S=>S.companyId===d.companyId):c,w=S=>{S.preventDefault(),h(d)};return t.jsx("div",{className:"modal-overlay ra-assignment-modal-overlay",onClick:o,children:t.jsxs("div",{className:"modal-content ra-assignment-modal",onClick:S=>S.stopPropagation(),children:[t.jsxs("div",{className:"ra-assignment-modal-header",children:[t.jsxs("div",{className:"ra-assignment-modal-titlewrap",children:[t.jsx("div",{className:"ra-assignment-icon","aria-hidden":"true",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),t.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"}),t.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"})]})}),t.jsxs("div",{children:[t.jsx("h2",{className:"ra-assignment-modal-title",children:r?f?"View Assignment":"Edit Assignment":"Add Assignment"}),t.jsx("p",{className:"ra-assignment-modal-subtitle",children:r?"Update assignment details":"Create a new assignment."})]})]}),t.jsx("button",{className:"ra-assignment-close",onClick:o,"aria-label":"Close",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"ra-assignment-form",onSubmit:w,children:[t.jsxs("div",{className:"ra-assignment-form-grid",children:[t.jsxs("div",{className:"ra-assignment-form-col",children:[t.jsxs("div",{className:"ra-assignment-form-group",children:[t.jsxs("label",{htmlFor:"company",children:["Company Name ",t.jsx("span",{className:"ra-required",children:"*"})]}),t.jsxs("select",{id:"company",value:d.companyId||"",onChange:async S=>{const N=S.target.value;A({...d,companyId:N,routeId:"",vehicleId:"",driverId:"",pickerId:null,supervisorId:null}),N&&await u(N)},required:!0,disabled:!!r||f,className:"ra-assignment-select",children:[t.jsx("option",{value:"",children:"Select Company"}),e.map(S=>t.jsx("option",{value:S.id,children:S.companyName},S.id))]})]}),t.jsxs("div",{className:"ra-assignment-form-group",children:[t.jsxs("label",{htmlFor:"assignment-date",children:["Date ",t.jsx("span",{className:"ra-required",children:"*"})]}),t.jsx("input",{id:"assignment-date",type:"date",value:r?r.assignmentDate:l,disabled:!0,className:"ra-assignment-input",placeholder:"dd-mm-yyyy"})]}),t.jsxs("div",{className:"ra-assignment-form-group",children:[t.jsxs("label",{htmlFor:"vehicle",children:["Vehicle ",t.jsx("span",{className:"ra-required",children:"*"})]}),t.jsxs("select",{id:"vehicle",value:d.vehicleId||"",onChange:S=>A({...d,vehicleId:S.target.value}),required:!0,disabled:!d.companyId||f,className:"ra-assignment-select",children:[t.jsx("option",{value:"",children:"Select Vehicle"}),m.map(S=>t.jsx("option",{value:S.id,children:S.vehicleNum},S.id))]})]}),t.jsxs("div",{className:"ra-assignment-form-group",children:[t.jsx("label",{htmlFor:"picker",children:"Picker"}),t.jsxs("select",{id:"picker",value:d.pickerId||"",onChange:S=>A({...d,pickerId:S.target.value||null}),disabled:!d.companyId||f,className:"ra-assignment-select",children:[t.jsx("option",{value:"",children:"Select Picker (Optional)"}),y.map(S=>t.jsxs("option",{value:S.id,children:[S.userName," ",S.employeeCode?`(${S.employeeCode})`:""]},S.id))]})]})]}),t.jsxs("div",{className:"ra-assignment-form-col",children:[t.jsxs("div",{className:"ra-assignment-form-group",children:[t.jsxs("label",{htmlFor:"route",children:["Route ",t.jsx("span",{className:"ra-required",children:"*"})]}),t.jsxs("select",{id:"route",value:d.routeId||"",onChange:S=>A({...d,routeId:S.target.value}),required:!0,disabled:!d.companyId||f,className:"ra-assignment-select",children:[t.jsx("option",{value:"",children:"Select Route"}),g.map(S=>t.jsxs("option",{value:S.id,children:[S.routeCode," - ",S.routeName]},S.id))]})]}),t.jsxs("div",{className:"ra-assignment-form-group",children:[t.jsxs("label",{htmlFor:"driver",children:["Driver ",t.jsx("span",{className:"ra-required",children:"*"})]}),t.jsxs("select",{id:"driver",value:d.driverId||"",onChange:S=>A({...d,driverId:S.target.value}),required:!0,disabled:!d.companyId||f,className:"ra-assignment-select",children:[t.jsx("option",{value:"",children:"Select Driver"}),x.map(S=>t.jsxs("option",{value:S.id,children:[S.userName," ",S.employeeCode?`(${S.employeeCode})`:""]},S.id))]})]}),t.jsxs("div",{className:"ra-assignment-form-group",children:[t.jsx("label",{htmlFor:"supervisor",children:"Supervisor"}),t.jsxs("select",{id:"supervisor",value:d.supervisorId||"",onChange:S=>A({...d,supervisorId:S.target.value||null}),disabled:!d.companyId||f,className:"ra-assignment-select",children:[t.jsx("option",{value:"",children:"Select Supervisor (Optional)"}),b.map(S=>t.jsxs("option",{value:S.id,children:[S.userName," ",S.employeeCode?`(${S.employeeCode})`:""]},S.id))]})]}),t.jsxs("div",{className:"ra-assignment-form-group",children:[t.jsx("label",{htmlFor:"status",children:"Status"}),t.jsxs("select",{id:"status",value:d.status||"Draft",onChange:S=>A({...d,status:S.target.value}),disabled:f,className:"ra-assignment-select",children:[t.jsx("option",{value:"Draft",children:"Draft"}),t.jsx("option",{value:"Assigned",children:"Assigned"}),r&&t.jsxs(t.Fragment,{children:[t.jsx("option",{value:"In Progress",children:"In Progress"}),t.jsx("option",{value:"Completed",children:"Completed"})]})]})]})]})]}),t.jsxs("div",{className:"ra-assignment-modal-footer",children:[t.jsx("button",{type:"button",className:"ra-assignment-btn ra-assignment-btn--cancel",onClick:o,children:"Cancel"}),!f&&t.jsx("button",{type:"submit",className:"ra-assignment-btn ra-assignment-btn--primary",children:r?"Update Assignment":"Create Assignment"})]})]})]})})},vte=({selectedDate:r,statusFilter:e,advancedFilters:n,onClose:a,onClear:i,onApply:s})=>{const[c,l]=k.useState(r),[u,o]=k.useState(e),[h,d]=k.useState(n);return t.jsx("div",{className:"modal-overlay ra-filter-modal-overlay",onClick:a,children:t.jsxs("div",{className:"modal-content ra-filter-modal",onClick:A=>A.stopPropagation(),children:[t.jsxs("div",{className:"ra-filter-modal-header",children:[t.jsxs("div",{className:"ra-filter-modal-titlewrap",children:[t.jsx("div",{className:"ra-filter-icon","aria-hidden":"true",children:t.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M22 3H2l8 9v7l4 2v-9l8-9z"})})}),t.jsxs("div",{children:[t.jsx("div",{className:"ra-filter-title",children:"Advanced Filters"}),t.jsx("div",{className:"ra-filter-subtitle",children:"Filter assignments by multiple criteria"})]})]}),t.jsx("button",{className:"ra-filter-close",onClick:a,"aria-label":"Close filters",children:""})]}),t.jsx("div",{className:"ra-filter-modal-body",children:t.jsxs("div",{className:"ra-filter-grid",children:[t.jsxs("div",{className:"ra-filter-field ra-filter-field--range",children:[t.jsx("label",{children:"Assignment Date"}),t.jsx("div",{className:"ra-filter-range",children:t.jsx("input",{type:"date",value:c,onChange:A=>l(A.target.value),className:"ra-filter-input"})})]}),t.jsxs("div",{className:"ra-filter-field",children:[t.jsx("label",{children:"Route"}),t.jsx("input",{type:"text",value:h.route,onChange:A=>d({...h,route:A.target.value}),className:"ra-filter-input",placeholder:"Enter route"})]}),t.jsxs("div",{className:"ra-filter-field",children:[t.jsx("label",{children:"Vehicle"}),t.jsx("input",{type:"text",value:h.vehicle,onChange:A=>d({...h,vehicle:A.target.value}),className:"ra-filter-input",placeholder:"Enter vehicle"})]}),t.jsxs("div",{className:"ra-filter-field",children:[t.jsx("label",{children:"Driver"}),t.jsx("input",{type:"text",value:h.driver,onChange:A=>d({...h,driver:A.target.value}),className:"ra-filter-input",placeholder:"Enter driver name"})]}),t.jsxs("div",{className:"ra-filter-field",children:[t.jsx("label",{children:"Picker"}),t.jsx("input",{type:"text",value:h.picker,onChange:A=>d({...h,picker:A.target.value}),className:"ra-filter-input",placeholder:"Enter picker name"})]}),t.jsxs("div",{className:"ra-filter-field",children:[t.jsx("label",{children:"Supervisor"}),t.jsx("input",{type:"text",value:h.supervisor,onChange:A=>d({...h,supervisor:A.target.value}),className:"ra-filter-input",placeholder:"Enter supervisor name"})]}),t.jsxs("div",{className:"ra-filter-field",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:u,onChange:A=>o(A.target.value),className:"ra-filter-select",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"Draft",children:"Draft"}),t.jsx("option",{value:"Assigned",children:"Assigned"}),t.jsx("option",{value:"In Progress",children:"In Progress"}),t.jsx("option",{value:"Completed",children:"Completed"})]})]})]})}),t.jsxs("div",{className:"ra-filter-modal-footer",children:[t.jsx("button",{type:"button",className:"ra-link-btn",onClick:()=>{l(new Date().toISOString().split("T")[0]),o("all"),d({route:"",vehicle:"",driver:"",picker:"",supervisor:""}),i()},children:"Clear Filters"}),t.jsx("button",{type:"button",className:"ra-btn ra-btn--primary ra-btn--sm",onClick:()=>s({selectedDate:c,statusFilter:u,advancedFilters:h}),children:"Apply Filters"})]})]})})},xte=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},Mf=async(r,e={})=>{const n=xte(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${gA}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const c=await i.json();c.message?Array.isArray(c.message)?s=c.message.join(", "):typeof c.message=="string"?s=c.message:s=String(c.message):c.error&&(typeof c.error=="string"?s=c.error:c.error.message?s=typeof c.error.message=="string"?c.error.message:String(c.error.message):s=JSON.stringify(c.error));const l=new Error(s);throw l.status=i.status,l.statusText=i.statusText,l.errorData=c,l}catch{const l=new Error(s);throw l.status=i.status,l.statusText=i.statusText,l}}return i.status===204?{}:i.json()},AA={lookupBarcode:async r=>(await Mf(`/waste-collections/barcode/${encodeURIComponent(r)}`,{method:"GET"})).data,createWasteCollection:async r=>(await Mf("/waste-collections",{method:"POST",body:JSON.stringify(r)})).data,getWasteCollectionById:async r=>(await Mf(`/waste-collections/${r}`,{method:"GET"})).data,getAllWasteCollections:async(r,e,n,a,i,s)=>{let c="/waste-collections";const l=new URLSearchParams;return r&&l.append("companyId",r),e&&l.append("hcfId",e),n&&l.append("date",n),a&&l.append("endDate",a),i&&l.append("status",i),s&&l.append("routeAssignmentId",s),l.toString()&&(c+=`?${l.toString()}`),(await Mf(c,{method:"GET"})).data},updateWasteCollection:async(r,e)=>(await Mf(`/waste-collections/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,collectWaste:async(r,e)=>(await Mf(`/waste-collections/${r}/collect`,{method:"POST",body:JSON.stringify({weightKg:e})})).data,deleteWasteCollection:async r=>{await Mf(`/waste-collections/${r}`,{method:"DELETE"})}},yte=()=>{const{logout:r,user:e,permissions:n}=da(),a=Tn(),[i,s]=k.useState(""),[c,l]=k.useState(new Date().toISOString().split("T")[0]),[u,o]=k.useState("all"),[h,d]=k.useState("all"),[A,f]=k.useState(!1),[g,m]=k.useState(!1),[x,y]=k.useState(null),[b,w]=k.useState(!1),[S,N]=k.useState(null),[C,O]=k.useState(null),[W,K]=k.useState(""),[te,q]=k.useState(null),[Y,P]=k.useState(!1),ce=k.useRef(null),[$,R]=k.useState([]),[se,fe]=k.useState([]),Te=k.useCallback(async()=>{try{const le=(await Ha.getAllCompanies(!0)).map(Ee=>({id:Ee.id,companyCode:Ee.companyCode,companyName:Ee.companyName,status:Ee.status}));R(le)}catch(ie){console.error("Error loading companies:",ie)}},[]),Ie=k.useCallback(async()=>{w(!0),N(null);try{const ie=await AA.getAllWasteCollections(void 0,void 0,c,void 0,u!=="all"?u:void 0),le=await Promise.all(ie.map(async Ee=>{const Re=$.find(Ce=>Ce.id===Ee.companyId);let Ue="",de="";try{const Ce=await Fs.getHcfById(Ee.hcfId);Ue=Ce.hcfCode,de=Ce.hcfName}catch(Ce){console.error("Error loading HCF:",Ce)}return{id:Ee.id,barcode:Ee.barcode,collectionDate:Ee.collectionDate,companyId:Ee.companyId,companyName:(Re==null?void 0:Re.companyName)||"Unknown",hcfId:Ee.hcfId,hcfCode:Ue,hcfName:de,wasteColor:Ee.wasteColor,weightKg:Ee.weightKg,status:Ee.status,routeAssignmentId:Ee.routeAssignmentId,collectedBy:Ee.collectedBy,collectedAt:Ee.collectedAt,notes:Ee.notes,createdOn:Ee.createdOn}}));fe(le)}catch(ie){const le=ie instanceof Error?ie.message:"Failed to load collections";N(le),console.error("Error loading collections:",ie)}finally{w(!1)}},[c,u,$]);k.useEffect(()=>{(async()=>{await Te()})()},[Te]),k.useEffect(()=>{$.length>0&&Ie()},[c,u,$,Ie]);const _e=async ie=>{if(!ie||ie.length<5){N("Please enter a valid barcode (at least 5 characters)");return}P(!0),N(null),q(null);try{const le=await AA.lookupBarcode(ie);q(le),se.find(Re=>Re.barcode===ie&&Re.collectionDate===c)?(N(`Barcode ${ie} has already been collected on ${c}`),q(null)):f(!0)}catch(le){const Ee=le instanceof Error?le.message:"Failed to lookup barcode";N(Ee),q(null)}finally{P(!1)}},Z=ie=>{ie==null||ie.preventDefault(),W.trim()&&(_e(W.trim()),K(""))},Oe=async ie=>{if(!te){N("Barcode lookup result is missing");return}try{w(!0),N(null),await AA.createWasteCollection({barcode:te.barcode,collectionDate:c,companyId:te.companyId,hcfId:te.hcfId,wasteColor:te.wasteColor,weightKg:ie.weightKg||null,status:"Pending",notes:ie.notes||null}),O("Waste collection recorded successfully"),f(!1),q(null),await Ie(),setTimeout(()=>O(null),3e3)}catch(le){const Ee=le instanceof Error?le.message:"Failed to save collection";N(Ee),console.error("Error saving collection:",le)}finally{w(!1)}},ee=async(ie,le)=>{try{w(!0),N(null),await AA.collectWaste(ie,le),O("Waste collected successfully"),await Ie(),setTimeout(()=>O(null),3e3)}catch(Ee){const Re=Ee instanceof Error?Ee.message:"Failed to collect waste";N(Re),console.error("Error collecting waste:",Ee)}finally{w(!1)}},re=ie=>{y(ie),m(!0)},je=se.filter(ie=>{const le=ie.barcode.toLowerCase().includes(i.toLowerCase())||ie.hcfCode.toLowerCase().includes(i.toLowerCase())||ie.hcfName.toLowerCase().includes(i.toLowerCase())||ie.companyName.toLowerCase().includes(i.toLowerCase()),Ee=h==="all"||ie.wasteColor===h;return le&&Ee}),Ne=ie=>{switch(ie){case"Pending":return"status-badge--pending";case"Collected":return"status-badge--collected";case"In Transit":return"status-badge--in-transit";case"Processed":return"status-badge--processed";case"Disposed":return"status-badge--disposed";default:return""}},ye=ie=>{switch(ie){case"Yellow":return"color-badge--yellow";case"Red":return"color-badge--red";case"White":return"color-badge--white";default:return""}},me=us(n,a.pathname);return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:"dashboard-sidebar",children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:me.map(ie=>t.jsx("li",{children:t.jsxs(Yr,{to:ie.path,className:`nav-link ${ie.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:ie.icon}),t.jsx("span",{className:"nav-label",children:ie.label})]})},ie.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Yr,{to:"/profile",className:`sidebar-profile-btn ${a.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Transaction / Waste Collection"})})}),C&&t.jsxs("div",{style:{padding:"12px 16px",background:"#d4edda",color:"#155724",marginBottom:"16px",borderRadius:"6px",border:"1px solid #c3e6cb",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsx("span",{children:C}),t.jsx("button",{onClick:()=>O(null),style:{background:"none",border:"none",color:"#155724",cursor:"pointer",fontSize:"18px",padding:"0 8px",lineHeight:"1"},"aria-label":"Close success message",children:""})]}),S&&t.jsxs("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsx("span",{children:S}),t.jsx("button",{onClick:()=>N(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px",lineHeight:"1"},"aria-label":"Close error message",children:""})]}),b&&!se.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading collections..."}),t.jsxs("div",{className:"waste-collection-page",children:[t.jsx("div",{className:"waste-collection-header",children:t.jsx("h1",{className:"waste-collection-title",children:"Waste Collection"})}),t.jsx("div",{className:"barcode-scanner-section",children:t.jsx("form",{onSubmit:Z,className:"barcode-scanner-form",children:t.jsxs("div",{className:"barcode-input-group",children:[t.jsx("label",{htmlFor:"barcode-input",children:"Scan Barcode"}),t.jsxs("div",{className:"barcode-input-wrapper",children:[t.jsx("input",{id:"barcode-input",ref:ce,type:"text",value:W,onChange:ie=>K(ie.target.value),placeholder:"Scan or enter barcode...",className:"barcode-input",autoFocus:!0,disabled:Y}),t.jsx("button",{type:"submit",className:"barcode-scan-btn",disabled:Y||!W.trim(),children:Y?t.jsx("span",{children:"Looking up..."}):t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M21 21l-6-6m2-5a7 7 0 1 1-14 0 7 7 0 0 1 14 0z"})}),"Scan"]})})]})]})})}),t.jsxs("div",{className:"waste-collection-filters",children:[t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{htmlFor:"collection-date",children:"Collection Date"}),t.jsx("input",{id:"collection-date",type:"date",value:c,onChange:ie=>l(ie.target.value),className:"date-input"})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{htmlFor:"status-filter",children:"Status"}),t.jsxs("select",{id:"status-filter",value:u,onChange:ie=>o(ie.target.value),className:"status-select",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"Pending",children:"Pending"}),t.jsx("option",{value:"Collected",children:"Collected"}),t.jsx("option",{value:"In Transit",children:"In Transit"}),t.jsx("option",{value:"Processed",children:"Processed"}),t.jsx("option",{value:"Disposed",children:"Disposed"})]})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{htmlFor:"color-filter",children:"Color"}),t.jsxs("select",{id:"color-filter",value:h,onChange:ie=>d(ie.target.value),className:"color-select",children:[t.jsx("option",{value:"all",children:"All Colors"}),t.jsx("option",{value:"Yellow",children:"Yellow"}),t.jsx("option",{value:"Red",children:"Red"}),t.jsx("option",{value:"White",children:"White"})]})]}),t.jsxs("div",{className:"filter-group filter-group--search",children:[t.jsx("label",{htmlFor:"search",children:"Search"}),t.jsxs("div",{className:"search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{id:"search",type:"text",placeholder:"Search by barcode, HCF, company...",value:i,onChange:ie=>s(ie.target.value),className:"search-input"})]})]})]}),t.jsx("div",{className:"waste-collection-table-container",children:t.jsxs("table",{className:"waste-collection-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Date"}),t.jsx("th",{children:"Barcode"}),t.jsx("th",{children:"HCF"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"Color"}),t.jsx("th",{children:"Weight (Kg)"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:je.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:8,className:"empty-message",children:b?"Loading...":"No collections found for the selected date"})}):je.map(ie=>t.jsxs("tr",{children:[t.jsx("td",{children:new Date(ie.collectionDate).toLocaleDateString()}),t.jsx("td",{children:t.jsx("span",{className:"barcode-display",children:ie.barcode})}),t.jsx("td",{children:t.jsxs("div",{className:"hcf-info",children:[t.jsx("span",{className:"hcf-code",children:ie.hcfCode}),t.jsx("span",{className:"hcf-name",children:ie.hcfName})]})}),t.jsx("td",{children:ie.companyName}),t.jsx("td",{children:t.jsx("span",{className:`color-badge ${ye(ie.wasteColor)}`,children:ie.wasteColor})}),t.jsx("td",{children:ie.weightKg?`${ie.weightKg} kg`:"-"}),t.jsx("td",{children:t.jsx("span",{className:`status-badge ${Ne(ie.status)}`,children:ie.status})}),t.jsx("td",{children:t.jsxs("div",{className:"action-buttons",children:[t.jsx("button",{className:"action-btn action-btn--view",onClick:()=>re(ie),title:"View Details",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),ie.status==="Pending"&&t.jsx("button",{className:"action-btn action-btn--collect",onClick:()=>{const le=prompt("Enter weight in kg:");le&&!isNaN(parseFloat(le))&&parseFloat(le)>0&&ee(ie.id,parseFloat(le))},title:"Collect Waste",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"20 6 9 17 4 12"})})})]})})]},ie.id))})]})}),t.jsxs("div",{className:"waste-collection-pagination-info",children:["Showing ",je.length," of ",se.length," Items"]})]})]}),A&&te&&t.jsx(bte,{barcodeLookup:te,collectionDate:c,onClose:()=>{f(!1),q(null)},onSave:Oe}),g&&x&&t.jsx(wte,{collection:x,onClose:()=>{m(!1),y(null)}})]})},bte=({barcodeLookup:r,collectionDate:e,onClose:n,onSave:a})=>{const[i,s]=k.useState({weightKg:null,notes:null}),c=l=>{l.preventDefault(),a(i)};return t.jsx("div",{className:"modal-overlay",onClick:n,children:t.jsxs("div",{className:"modal-content modal-content--medium",onClick:l=>l.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:"Record Waste Collection"}),t.jsx("button",{className:"modal-close-btn",onClick:n,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"collection-form",onSubmit:c,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Barcode Information"}),t.jsxs("div",{className:"form-grid form-grid--two-columns",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Barcode"}),t.jsx("input",{type:"text",value:r.barcode,disabled:!0,className:"form-input form-input--readonly"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Collection Date"}),t.jsx("input",{type:"date",value:e,disabled:!0,className:"form-input form-input--readonly"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company"}),t.jsx("input",{type:"text",value:r.companyName,disabled:!0,className:"form-input form-input--readonly"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCF"}),t.jsx("input",{type:"text",value:`${r.hcfCode} - ${r.hcfName}`,disabled:!0,className:"form-input form-input--readonly"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Waste Color"}),t.jsx("input",{type:"text",value:r.wasteColor,disabled:!0,className:"form-input form-input--readonly"})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Collection Details"}),t.jsx("div",{className:"form-grid form-grid--two-columns",children:t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Weight (Kg) *"}),t.jsx("input",{type:"number",step:"0.01",min:"0",value:i.weightKg||"",onChange:l=>s({...i,weightKg:parseFloat(l.target.value)||null}),required:!0,className:"form-input",placeholder:"Enter weight"})]})}),t.jsxs("div",{className:"form-group form-group--full-width",children:[t.jsx("label",{children:"Notes"}),t.jsx("textarea",{value:i.notes||"",onChange:l=>s({...i,notes:l.target.value||null}),rows:3,className:"form-textarea",placeholder:"Additional notes or observations..."})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:"Record Collection"})]})]})]})})},wte=({collection:r,onClose:e})=>t.jsx("div",{className:"modal-overlay",onClick:e,children:t.jsxs("div",{className:"modal-content modal-content--large",onClick:n=>n.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:"Collection Details"}),t.jsx("button",{className:"modal-close-btn",onClick:e,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("div",{className:"collection-detail-content",children:[t.jsxs("div",{className:"detail-section",children:[t.jsx("h3",{className:"detail-section-title",children:"Basic Information"}),t.jsxs("div",{className:"detail-grid",children:[t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Barcode"}),t.jsx("span",{children:r.barcode})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Collection Date"}),t.jsx("span",{children:new Date(r.collectionDate).toLocaleDateString()})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Company"}),t.jsx("span",{children:r.companyName})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"HCF Code"}),t.jsx("span",{children:r.hcfCode})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"HCF Name"}),t.jsx("span",{children:r.hcfName})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Waste Color"}),t.jsx("span",{className:`color-badge ${r.wasteColor.toLowerCase()}`,children:r.wasteColor})]})]})]}),t.jsxs("div",{className:"detail-section",children:[t.jsx("h3",{className:"detail-section-title",children:"Collection Details"}),t.jsxs("div",{className:"detail-grid",children:[t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Weight"}),t.jsx("span",{children:r.weightKg?`${r.weightKg} kg`:"Not recorded"})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Status"}),t.jsx("span",{className:`status-badge ${r.status.toLowerCase().replace(" ","-")}`,children:r.status})]}),r.collectedBy&&t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Collected By"}),t.jsx("span",{children:r.collectedBy})]}),r.collectedAt&&t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Collected At"}),t.jsx("span",{children:new Date(r.collectedAt).toLocaleString()})]}),r.notes&&t.jsxs("div",{className:"detail-item detail-item--full-width",children:[t.jsx("label",{children:"Notes"}),t.jsx("span",{children:r.notes})]})]})]}),t.jsxs("div",{className:"detail-section",children:[t.jsx("h3",{className:"detail-section-title",children:"Audit Information"}),t.jsx("div",{className:"detail-grid",children:t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Created On"}),t.jsx("span",{children:new Date(r.createdOn).toLocaleString()})]})})]})]}),t.jsx("div",{className:"modal-footer",children:t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:e,children:"Close"})})]})}),jte="http://localhost:3000/api/v1",Cte=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},Rf=async(r,e={})=>{const n=Cte(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${jte}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const c=await i.json();c.message?Array.isArray(c.message)?s=c.message.join(", "):typeof c.message=="string"&&(s=c.message):c.error&&(s=typeof c.error=="string"?c.error:c.error.message||JSON.stringify(c.error));const l=new Error(s);throw l.status=i.status,l.statusText=i.statusText,l.errorData=c,l}catch{const l=new Error(s);throw l.status=i.status,l.statusText=i.statusText,l}}return i.status===204?{}:i.json()},Fp={createTransaction:async r=>(await Rf("/waste-transactions",{method:"POST",body:JSON.stringify(r)})).data,getTransactionById:async r=>(await Rf(`/waste-transactions/${r}`,{method:"GET"})).data,getAllTransactions:async(r,e,n,a,i)=>{let s="/waste-transactions";const c=new URLSearchParams;return r&&c.append("companyId",r),e&&c.append("hcfId",e),n&&c.append("startDate",n),a&&c.append("endDate",a),i&&c.append("status",i),c.toString()&&(s+=`?${c.toString()}`),(await Rf(s,{method:"GET"})).data},updateTransaction:async(r,e)=>(await Rf(`/waste-transactions/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,submitTransaction:async r=>(await Rf(`/waste-transactions/${r}/submit`,{method:"PATCH"})).data,verifyTransaction:async r=>(await Rf(`/waste-transactions/${r}/verify`,{method:"PATCH"})).data,deleteTransaction:async r=>{await Rf(`/waste-transactions/${r}`,{method:"DELETE"})}},Nte=()=>{var Ee;const{logout:r,permissions:e}=da(),n=Tn(),[a,i]=k.useState(""),[s,c]=k.useState(new Date().toISOString().split("T")[0]),[l,u]=k.useState("all"),[o,h]=k.useState(!1),[d,A]=k.useState(!1),[f,g]=k.useState(null),[m,x]=k.useState(!1),[y,b]=k.useState(null),[w,S]=k.useState(null),[N,C]=k.useState(!1),[O,W]=k.useState(null),[K,te]=k.useState([]),[q,Y]=k.useState([]),[P,ce]=k.useState([]),[$,R]=k.useState([]),[se,fe]=k.useState({companyId:"",hcfId:"",pickupDate:new Date().toISOString().split("T")[0],isNilPickup:!1,yellowBagCount:0,redBagCount:0,whiteBagCount:0,yellowWeightKg:null,redWeightKg:null,whiteWeightKg:null,latitude:null,longitude:null,segregationQuality:null,notes:null}),Te=k.useCallback(async()=>{try{const Re=await Ha.getAllCompanies(void 0,!0);te(Re)}catch(Re){console.error("Failed to load companies:",Re),b("Failed to load companies")}},[]),Ie=k.useCallback(async()=>{try{const Re=await Fs.getAllHcfs(void 0,!0);Y(Re)}catch(Re){console.error("Failed to load HCFs:",Re),b("Failed to load HCFs")}},[]),_e=k.useCallback(async()=>{x(!0),b(null);try{const Re=s,Ue=s,de=await Fp.getAllTransactions(void 0,void 0,Re,Ue,l!=="all"?l:void 0),Ce=await Promise.all(de.map(async ue=>{const $e=K.find(Ct=>Ct.id===ue.companyId);let it="",Et="";try{const Ct=await Fs.getHcfById(ue.hcfId);it=Ct.hcfName,Et=Ct.hcfCode}catch(Ct){console.error("Error loading HCF:",Ct)}return{id:ue.id,companyId:ue.companyId,companyName:($e==null?void 0:$e.companyName)||"Unknown",hcfId:ue.hcfId,hcfCode:Et,hcfName:it,pickupDate:ue.pickupDate,isNilPickup:ue.isNilPickup,yellowBagCount:ue.yellowBagCount,redBagCount:ue.redBagCount,whiteBagCount:ue.whiteBagCount,yellowWeightKg:ue.yellowWeightKg,redWeightKg:ue.redWeightKg,whiteWeightKg:ue.whiteWeightKg,latitude:ue.latitude,longitude:ue.longitude,segregationQuality:ue.segregationQuality,status:ue.status,notes:ue.notes,createdOn:ue.createdOn}}));R(Ce)}catch(Re){const Ue=Re instanceof Error?Re.message:"Failed to load transactions";b(Ue),console.error("Error loading transactions:",Re)}finally{x(!1)}},[s,l,K]);k.useEffect(()=>{if(se.companyId){const Re=q.filter(Ue=>Ue.companyId===se.companyId);ce(Re),se.hcfId&&!Re.find(Ue=>Ue.id===se.hcfId)&&fe(Ue=>({...Ue,hcfId:""}))}else ce([]),fe(Re=>({...Re,hcfId:""}))},[se.companyId,q]),k.useEffect(()=>{Te(),Ie()},[Te,Ie]),k.useEffect(()=>{K.length>0&&_e()},[s,l,K,_e]);const Z=k.useCallback(()=>{if(!navigator.geolocation){W("Geolocation is not supported by your browser");return}C(!0),W(null),navigator.geolocation.getCurrentPosition(Re=>{fe(Ue=>({...Ue,latitude:Re.coords.latitude,longitude:Re.coords.longitude})),C(!1),S("GPS location captured successfully"),setTimeout(()=>S(null),3e3)},Re=>{W(`Failed to get GPS location: ${Re.message}`),C(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})},[]),Oe=async Re=>{if(Re.preventDefault(),!se.companyId||!se.hcfId||!se.pickupDate){b("Please fill in all required fields");return}if(!se.isNilPickup&&se.yellowBagCount===0&&se.redBagCount===0&&se.whiteBagCount===0){b("Please enter at least one bag count or select NIL pickup");return}try{if(x(!0),b(null),se.editingId){const Ue=Ce=>{if(Ce==null)return null;const ue=Number(Ce);return isNaN(ue)?null:ue},de={pickupDate:se.pickupDate,isNilPickup:se.isNilPickup,yellowBagCount:se.yellowBagCount,redBagCount:se.redBagCount,whiteBagCount:se.whiteBagCount,yellowWeightKg:Ue(se.yellowWeightKg),redWeightKg:Ue(se.redWeightKg),whiteWeightKg:Ue(se.whiteWeightKg),latitude:Ue(se.latitude),longitude:Ue(se.longitude),segregationQuality:se.segregationQuality,notes:se.notes};await Fp.updateTransaction(se.editingId,de),S("Transaction updated successfully")}else{const Ue=Ce=>{if(Ce==null)return null;const ue=Number(Ce);return isNaN(ue)?null:ue},de={companyId:se.companyId,hcfId:se.hcfId,pickupDate:se.pickupDate,isNilPickup:se.isNilPickup,yellowBagCount:se.yellowBagCount,redBagCount:se.redBagCount,whiteBagCount:se.whiteBagCount,yellowWeightKg:Ue(se.yellowWeightKg),redWeightKg:Ue(se.redWeightKg),whiteWeightKg:Ue(se.whiteWeightKg),latitude:Ue(se.latitude),longitude:Ue(se.longitude),segregationQuality:se.segregationQuality,notes:se.notes};await Fp.createTransaction(de),S("Transaction created successfully")}await _e(),h(!1),je(),setTimeout(()=>S(null),3e3)}catch(Ue){const de=Ue instanceof Error?Ue.message:"Failed to save transaction";b(de),console.error("Error saving transaction:",Ue)}finally{x(!1)}},ee=async(Re,Ue)=>{try{x(!0),b(null),Ue==="submit"?(await Fp.submitTransaction(Re),S("Transaction submitted successfully")):(await Fp.verifyTransaction(Re),S("Transaction verified successfully")),await _e(),A(!1),setTimeout(()=>S(null),3e3)}catch(de){const Ce=de instanceof Error?de.message:"Failed to update status";b(Ce),console.error("Error updating status:",de)}finally{x(!1)}},re=async Re=>{if(confirm("Are you sure you want to delete this transaction?"))try{x(!0),b(null),await Fp.deleteTransaction(Re),S("Transaction deleted successfully"),await _e(),A(!1),setTimeout(()=>S(null),3e3)}catch(Ue){const de=Ue instanceof Error?Ue.message:"Failed to delete transaction";b(de),console.error("Error deleting transaction:",Ue)}finally{x(!1)}},je=()=>{fe({companyId:"",hcfId:"",pickupDate:new Date().toISOString().split("T")[0],isNilPickup:!1,yellowBagCount:0,redBagCount:0,whiteBagCount:0,yellowWeightKg:null,redWeightKg:null,whiteWeightKg:null,latitude:null,longitude:null,segregationQuality:null,notes:null})},Ne=Re=>{if(Re.status!=="Draft"){b("Only draft transactions can be edited");return}fe({companyId:Re.companyId,hcfId:Re.hcfId,pickupDate:Re.pickupDate.split("T")[0],isNilPickup:Re.isNilPickup,yellowBagCount:Re.yellowBagCount,redBagCount:Re.redBagCount,whiteBagCount:Re.whiteBagCount,yellowWeightKg:Re.yellowWeightKg,redWeightKg:Re.redWeightKg,whiteWeightKg:Re.whiteWeightKg,latitude:Re.latitude,longitude:Re.longitude,segregationQuality:Re.segregationQuality,notes:Re.notes,editingId:Re.id}),h(!0)},ye=Re=>{g(Re),A(!0)},me=$.filter(Re=>{if(!a.trim())return!0;const Ue=a.toLowerCase().trim();return Re.companyName.toLowerCase().includes(Ue)||Re.hcfName.toLowerCase().includes(Ue)||Re.hcfCode.toLowerCase().includes(Ue)}),ie=!se.editingId||((Ee=$.find(Re=>Re.id===se.editingId))==null?void 0:Ee.status)==="Draft",le=us(e,n.pathname);return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:"dashboard-sidebar",children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:le.map(Re=>t.jsx("li",{children:t.jsxs(Yr,{to:Re.path,className:`nav-link ${Re.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:Re.icon}),t.jsx("span",{className:"nav-label",children:Re.label})]})},Re.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Yr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Transaction / Waste Transaction Data"})})}),w&&t.jsxs("div",{style:{padding:"12px 16px",background:"#d4edda",color:"#155724",marginBottom:"16px",borderRadius:"6px",border:"1px solid #c3e6cb",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsx("span",{children:w}),t.jsx("button",{onClick:()=>S(null),style:{background:"none",border:"none",color:"#155724",cursor:"pointer",fontSize:"18px",padding:"0 8px",lineHeight:"1"},"aria-label":"Close success message",children:""})]}),y&&t.jsxs("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsx("span",{children:y}),t.jsx("button",{onClick:()=>b(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px",lineHeight:"1"},"aria-label":"Close error message",children:""})]}),m&&!$.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading transactions..."}),t.jsxs("div",{className:"waste-transaction-page",children:[t.jsx("div",{className:"waste-transaction-header",children:t.jsx("h1",{className:"waste-transaction-title",children:"Waste Transaction Data"})}),t.jsxs("div",{className:"waste-transaction-filters",children:[t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{htmlFor:"pickup-date",children:"Pickup Date"}),t.jsx("input",{id:"pickup-date",type:"date",value:s,onChange:Re=>c(Re.target.value),className:"date-input"})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{htmlFor:"status-filter",children:"Status"}),t.jsxs("select",{id:"status-filter",value:l,onChange:Re=>u(Re.target.value),className:"status-select",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"Draft",children:"Draft"}),t.jsx("option",{value:"Submitted",children:"Submitted"}),t.jsx("option",{value:"Verified",children:"Verified"})]})]}),t.jsxs("div",{className:"filter-group filter-group--search",children:[t.jsx("label",{htmlFor:"search",children:"Search"}),t.jsxs("div",{className:"search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{id:"search",type:"text",placeholder:"Search by company, HCF...",value:a,onChange:Re=>i(Re.target.value),className:"search-input"})]})]}),t.jsxs("div",{className:"filter-group filter-group--action",children:[t.jsx("label",{children:""}),t.jsxs("button",{className:"add-transaction-btn",onClick:()=>{je(),h(!0)},children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Transaction"]})]})]}),t.jsx("div",{className:"waste-transaction-table-container",children:t.jsxs("table",{className:"waste-transaction-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Date"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"HCF"}),t.jsx("th",{children:"NIL"}),t.jsx("th",{children:"Yellow"}),t.jsx("th",{children:"Red"}),t.jsx("th",{children:"White"}),t.jsx("th",{children:"Total Weight"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:me.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:10,className:"empty-message",children:m?"Loading...":"No transactions found for the selected date"})}):me.map(Re=>{const Ue=(Number(Re.yellowWeightKg)||0)+(Number(Re.redWeightKg)||0)+(Number(Re.whiteWeightKg)||0);return t.jsxs("tr",{children:[t.jsx("td",{children:new Date(Re.pickupDate).toLocaleDateString()}),t.jsx("td",{children:Re.companyName}),t.jsx("td",{children:t.jsxs("div",{className:"hcf-info",children:[t.jsx("span",{className:"hcf-code",children:Re.hcfCode}),t.jsx("span",{className:"hcf-name",children:Re.hcfName})]})}),t.jsx("td",{children:Re.isNilPickup?t.jsx("span",{className:"nil-badge",children:"NIL"}):t.jsx("span",{className:"pickup-badge",children:"Yes"})}),t.jsx("td",{children:Re.yellowBagCount>0?t.jsxs("div",{className:"bag-info",children:[t.jsx("span",{className:"color-indicator color-indicator--yellow"}),Re.yellowBagCount,Re.yellowWeightKg&&` (${Re.yellowWeightKg}kg)`]}):"-"}),t.jsx("td",{children:Re.redBagCount>0?t.jsxs("div",{className:"bag-info",children:[t.jsx("span",{className:"color-indicator color-indicator--red"}),Re.redBagCount,Re.redWeightKg&&` (${Re.redWeightKg}kg)`]}):"-"}),t.jsx("td",{children:Re.whiteBagCount>0?t.jsxs("div",{className:"bag-info",children:[t.jsx("span",{className:"color-indicator color-indicator--white"}),Re.whiteBagCount,Re.whiteWeightKg&&` (${Re.whiteWeightKg}kg)`]}):"-"}),t.jsx("td",{children:Ue>0?`${Number(Ue).toFixed(2)} kg`:"-"}),t.jsx("td",{children:t.jsx("span",{className:`status-badge status-badge--${Re.status.toLowerCase()}`,children:Re.status})}),t.jsx("td",{children:t.jsxs("div",{className:"action-buttons",children:[t.jsx("button",{className:"action-btn action-btn--view",onClick:()=>ye(Re),title:"View Details",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),Re.status==="Draft"&&t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>Ne(Re),title:"Edit",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})})]})})]},Re.id)})})]})}),t.jsxs("div",{className:"waste-transaction-pagination-info",children:["Showing ",me.length," of ",$.length," Items"]})]})]}),o&&t.jsx("div",{className:"modal-overlay",onClick:()=>{h(!1),je()},children:t.jsxs("div",{className:"modal-content modal-content--large",onClick:Re=>Re.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:se.editingId?"Edit Transaction":"Add Waste Transaction"}),t.jsx("button",{className:"modal-close-btn",onClick:()=>{h(!1),je()},children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"waste-transaction-form",onSubmit:Oe,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Basic Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company *"}),t.jsxs("select",{value:se.companyId,onChange:Re=>fe({...se,companyId:Re.target.value,hcfId:""}),required:!0,disabled:!ie,children:[t.jsx("option",{value:"",children:"Select Company"}),K.map(Re=>t.jsxs("option",{value:Re.id,children:[Re.companyCode," - ",Re.companyName]},Re.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCF *"}),t.jsxs("select",{value:se.hcfId,onChange:Re=>fe({...se,hcfId:Re.target.value}),required:!0,disabled:!se.companyId||!ie,children:[t.jsx("option",{value:"",children:"Select HCF"}),P.map(Re=>t.jsxs("option",{value:Re.id,children:[Re.hcfCode," - ",Re.hcfName]},Re.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Pickup Date *"}),t.jsx("input",{type:"date",value:se.pickupDate,onChange:Re=>fe({...se,pickupDate:Re.target.value}),required:!0,disabled:!ie})]}),t.jsx("div",{className:"form-group",children:t.jsxs("label",{children:[t.jsx("input",{type:"checkbox",checked:se.isNilPickup,onChange:Re=>fe({...se,isNilPickup:Re.target.checked}),disabled:!ie}),"NIL Pickup (No waste collected)"]})})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"GPS Location"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Latitude"}),t.jsx("input",{type:"number",step:"any",value:se.latitude||"",onChange:Re=>fe({...se,latitude:Re.target.value?parseFloat(Re.target.value):null}),placeholder:"Auto-capture or enter manually",disabled:!ie})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Longitude"}),t.jsx("input",{type:"number",step:"any",value:se.longitude||"",onChange:Re=>fe({...se,longitude:Re.target.value?parseFloat(Re.target.value):null}),placeholder:"Auto-capture or enter manually",disabled:!ie})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:""}),t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:Z,disabled:!ie||N,children:N?"Capturing...":"Capture GPS Location"}),O&&t.jsx("div",{className:"form-error",children:O})]})]})]}),!se.isNilPickup&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Bag Counts & Weights"}),t.jsxs("div",{className:"color-inputs-grid",children:[t.jsxs("div",{className:"color-input-group color-input-group--yellow",children:[t.jsx("h4",{className:"color-input-title",children:"Yellow Bags"}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Bag Count"}),t.jsx("input",{type:"number",min:"0",value:se.yellowBagCount||0,onChange:Re=>fe({...se,yellowBagCount:parseInt(Re.target.value)||0}),disabled:!ie})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Weight (kg)"}),t.jsx("input",{type:"number",step:"0.01",min:"0",value:se.yellowWeightKg||"",onChange:Re=>fe({...se,yellowWeightKg:Re.target.value?parseFloat(Re.target.value):null}),placeholder:"0.00",disabled:!ie})]})]}),t.jsxs("div",{className:"color-input-group color-input-group--red",children:[t.jsx("h4",{className:"color-input-title",children:"Red Bags"}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Bag Count"}),t.jsx("input",{type:"number",min:"0",value:se.redBagCount||0,onChange:Re=>fe({...se,redBagCount:parseInt(Re.target.value)||0}),disabled:!ie})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Weight (kg)"}),t.jsx("input",{type:"number",step:"0.01",min:"0",value:se.redWeightKg||"",onChange:Re=>fe({...se,redWeightKg:Re.target.value?parseFloat(Re.target.value):null}),placeholder:"0.00",disabled:!ie})]})]}),t.jsxs("div",{className:"color-input-group color-input-group--white",children:[t.jsx("h4",{className:"color-input-title",children:"White Bags"}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Bag Count"}),t.jsx("input",{type:"number",min:"0",value:se.whiteBagCount||0,onChange:Re=>fe({...se,whiteBagCount:parseInt(Re.target.value)||0}),disabled:!ie})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Weight (kg)"}),t.jsx("input",{type:"number",step:"0.01",min:"0",value:se.whiteWeightKg||"",onChange:Re=>fe({...se,whiteWeightKg:Re.target.value?parseFloat(Re.target.value):null}),placeholder:"0.00",disabled:!ie})]})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Segregation Quality"}),t.jsx("div",{className:"form-group",children:t.jsxs("select",{value:se.segregationQuality||"",onChange:Re=>fe({...se,segregationQuality:Re.target.value||null}),disabled:!ie,children:[t.jsx("option",{value:"",children:"Select Quality"}),t.jsx("option",{value:"Excellent",children:"Excellent"}),t.jsx("option",{value:"Good",children:"Good"}),t.jsx("option",{value:"Fair",children:"Fair"}),t.jsx("option",{value:"Poor",children:"Poor"})]})})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Additional Notes"}),t.jsx("div",{className:"form-group",children:t.jsx("textarea",{value:se.notes||"",onChange:Re=>fe({...se,notes:Re.target.value||null}),placeholder:"Enter any additional notes or remarks...",rows:3,disabled:!ie})})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:()=>{h(!1),je()},disabled:m,children:"Cancel"}),ie&&t.jsx("button",{type:"submit",className:"btn btn--primary",disabled:m,children:m?"Saving...":se.editingId?"Update":"Create"})]})]})]})}),d&&f&&t.jsx("div",{className:"modal-overlay",onClick:()=>A(!1),children:t.jsxs("div",{className:"modal-content modal-content--large",onClick:Re=>Re.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:"Transaction Details"}),t.jsx("button",{className:"modal-close-btn",onClick:()=>A(!1),children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("div",{className:"transaction-details",children:[t.jsxs("div",{className:"detail-section",children:[t.jsx("h3",{children:"Basic Information"}),t.jsxs("div",{className:"detail-grid",children:[t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Pickup Date"}),t.jsx("span",{children:new Date(f.pickupDate).toLocaleDateString()})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Company"}),t.jsx("span",{children:f.companyName})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"HCF"}),t.jsxs("span",{children:[f.hcfCode," - ",f.hcfName]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Status"}),t.jsx("span",{className:`badge badge--${f.status.toLowerCase()}`,children:f.status})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"NIL Pickup"}),t.jsx("span",{children:f.isNilPickup?"Yes":"No"})]})]})]}),!f.isNilPickup&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"detail-section",children:[t.jsx("h3",{children:"Bag Counts & Weights"}),t.jsxs("div",{className:"detail-grid",children:[t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Yellow Bags"}),t.jsxs("span",{children:[f.yellowBagCount," bags",f.yellowWeightKg&&` (${f.yellowWeightKg} kg)`]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Red Bags"}),t.jsxs("span",{children:[f.redBagCount," bags",f.redWeightKg&&` (${f.redWeightKg} kg)`]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"White Bags"}),t.jsxs("span",{children:[f.whiteBagCount," bags",f.whiteWeightKg&&` (${f.whiteWeightKg} kg)`]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Total Weight"}),t.jsxs("span",{children:[Number((Number(f.yellowWeightKg)||0)+(Number(f.redWeightKg)||0)+(Number(f.whiteWeightKg)||0)).toFixed(2)," kg"]})]}),f.segregationQuality&&t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Segregation Quality"}),t.jsx("span",{children:f.segregationQuality})]})]})]}),(f.latitude||f.longitude)&&t.jsxs("div",{className:"detail-section",children:[t.jsx("h3",{children:"GPS Location"}),t.jsxs("div",{className:"detail-grid",children:[t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Latitude"}),t.jsx("span",{children:f.latitude})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Longitude"}),t.jsx("span",{children:f.longitude})]})]})]})]}),f.notes&&t.jsxs("div",{className:"detail-section",children:[t.jsx("h3",{children:"Notes"}),t.jsx("p",{children:f.notes})]}),t.jsxs("div",{className:"modal-footer",children:[f.status==="Draft"&&t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"btn btn--secondary",onClick:()=>{Ne(f),A(!1)},children:"Edit"}),t.jsx("button",{className:"btn btn--primary",onClick:()=>ee(f.id,"submit"),disabled:m,children:"Submit"})]}),f.status==="Submitted"&&t.jsx("button",{className:"btn btn--primary",onClick:()=>ee(f.id,"verify"),disabled:m,children:"Verify"}),f.status==="Draft"&&t.jsx("button",{className:"btn btn--danger",onClick:()=>re(f.id),disabled:m,children:"Delete"}),t.jsx("button",{className:"btn btn--secondary",onClick:()=>A(!1),children:"Close"})]})]})]})})]})},Ste="http://localhost:3000/api/v1",Ete=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},Lf=async(r,e={})=>{const n=Ete(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${Ste}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const c=await i.json();c.message?Array.isArray(c.message)?s=c.message.join(", "):typeof c.message=="string"&&(s=c.message):c.error&&(s=typeof c.error=="string"?c.error:c.error.message||JSON.stringify(c.error));const l=new Error(s);throw l.status=i.status,l.statusText=i.statusText,l.errorData=c,l}catch{const l=new Error(s);throw l.status=i.status,l.statusText=i.statusText,l}}return i.status===204?{}:i.json()},Dp={createCollection:async r=>(await Lf("/vehicle-waste-collections",{method:"POST",body:JSON.stringify(r)})).data,getCollectionById:async r=>(await Lf(`/vehicle-waste-collections/${r}`,{method:"GET"})).data,getAllCollections:async(r,e,n,a)=>{let i="/vehicle-waste-collections";const s=new URLSearchParams;return r&&s.append("vehicleId",r),e&&s.append("startDate",e),n&&s.append("endDate",n),a&&s.append("status",a),s.toString()&&(i+=`?${s.toString()}`),(await Lf(i,{method:"GET"})).data},updateCollection:async(r,e)=>(await Lf(`/vehicle-waste-collections/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,submitCollection:async r=>(await Lf(`/vehicle-waste-collections/${r}/submit`,{method:"PUT"})).data,verifyCollection:async r=>(await Lf(`/vehicle-waste-collections/${r}/verify`,{method:"PUT"})).data,deleteCollection:async r=>{await Lf(`/vehicle-waste-collections/${r}`,{method:"DELETE"})}},Bte=()=>{var Z,Oe;const{logout:r,permissions:e}=da(),n=Tn(),[a,i]=k.useState(""),[s,c]=k.useState(new Date().toISOString().split("T")[0]),[l,u]=k.useState("all"),[o,h]=k.useState(!1),[d,A]=k.useState(!1),[f,g]=k.useState(null),[m,x]=k.useState(!1),[y,b]=k.useState(null),[w,S]=k.useState(null),[N,C]=k.useState([]),[O,W]=k.useState([]),[K,te]=k.useState({vehicleId:"",collectionDate:new Date().toISOString().split("T")[0],grossWeightKg:0,tareWeightKg:0,netWeightKg:0,incinerationWeightKg:0,autoclaveWeightKg:0,vehicleKm:null,fuelUsageLiters:null,notes:null}),q=k.useCallback(async()=>{try{const ee=await _h.getAllFleets(void 0,!0);C(ee)}catch(ee){console.error("Failed to load vehicles:",ee),b("Failed to load vehicles")}},[]),Y=k.useCallback(async()=>{x(!0),b(null);try{const ee=s,re=s,Ne=(await Dp.getAllCollections(void 0,ee,re,l!=="all"?l:void 0)).map(ye=>{const me=N.find(ie=>ie.id===ye.vehicleId);return{id:ye.id,vehicleId:ye.vehicleId,vehicleNum:(me==null?void 0:me.vehicleNum)||"Unknown",collectionDate:ye.collectionDate,grossWeightKg:Number(ye.grossWeightKg)||0,tareWeightKg:Number(ye.tareWeightKg)||0,netWeightKg:Number(ye.netWeightKg)||0,incinerationWeightKg:Number(ye.incinerationWeightKg)||0,autoclaveWeightKg:Number(ye.autoclaveWeightKg)||0,vehicleKm:ye.vehicleKm!==null&&ye.vehicleKm!==void 0?Number(ye.vehicleKm):null,fuelUsageLiters:ye.fuelUsageLiters!==null&&ye.fuelUsageLiters!==void 0?Number(ye.fuelUsageLiters):null,status:ye.status,notes:ye.notes,createdOn:ye.createdOn}});W(Ne)}catch(ee){const re=ee instanceof Error?ee.message:"Failed to load collections";b(re),console.error("Error loading collections:",ee)}finally{x(!1)}},[s,l,N]);k.useEffect(()=>{q()},[q]),k.useEffect(()=>{N.length>0&&Y()},[s,l,N,Y]),k.useEffect(()=>{const ee=K.grossWeightKg-K.tareWeightKg;ee>=0&&te(re=>({...re,netWeightKg:ee}))},[K.grossWeightKg,K.tareWeightKg]);const P=async ee=>{if(ee.preventDefault(),!K.vehicleId){b("Please select a vehicle");return}if(K.grossWeightKg<K.tareWeightKg){b("Gross weight must be greater than or equal to tare weight");return}try{if(x(!0),b(null),K.editingId){const re={grossWeightKg:K.grossWeightKg,tareWeightKg:K.tareWeightKg,netWeightKg:K.netWeightKg,incinerationWeightKg:K.incinerationWeightKg,autoclaveWeightKg:K.autoclaveWeightKg,vehicleKm:K.vehicleKm!==null&&K.vehicleKm!==void 0?Number(K.vehicleKm):null,fuelUsageLiters:K.fuelUsageLiters!==null&&K.fuelUsageLiters!==void 0?Number(K.fuelUsageLiters):null,notes:K.notes};await Dp.updateCollection(K.editingId,re),S("Collection updated successfully")}else{const re={vehicleId:K.vehicleId,collectionDate:K.collectionDate,grossWeightKg:Number(K.grossWeightKg),tareWeightKg:Number(K.tareWeightKg),netWeightKg:Number(K.netWeightKg),incinerationWeightKg:Number(K.incinerationWeightKg),autoclaveWeightKg:Number(K.autoclaveWeightKg),vehicleKm:K.vehicleKm!==null&&K.vehicleKm!==void 0?Number(K.vehicleKm):null,fuelUsageLiters:K.fuelUsageLiters!==null&&K.fuelUsageLiters!==void 0?Number(K.fuelUsageLiters):null,notes:K.notes};await Dp.createCollection(re),S("Collection created successfully")}await Y(),h(!1),fe(),setTimeout(()=>S(null),3e3)}catch(re){const je=re instanceof Error?re.message:"Failed to save collection";b(je),console.error("Error saving collection:",re)}finally{x(!1)}},ce=async(ee,re)=>{try{x(!0),b(null),re==="submit"?(await Dp.submitCollection(ee),S("Collection submitted successfully")):(await Dp.verifyCollection(ee),S("Collection verified successfully")),await Y(),setTimeout(()=>S(null),3e3)}catch(je){const Ne=je instanceof Error?je.message:"Failed to update status";b(Ne),console.error("Error updating status:",je)}finally{x(!1)}},$=async ee=>{if(window.confirm("Are you sure you want to delete this collection?"))try{x(!0),b(null),await Dp.deleteCollection(ee),S("Collection deleted successfully"),await Y(),setTimeout(()=>S(null),3e3)}catch(re){const je=re instanceof Error?re.message:"Failed to delete collection";b(je),console.error("Error deleting collection:",re)}finally{x(!1)}},R=ee=>{te({vehicleId:ee.vehicleId,collectionDate:ee.collectionDate,grossWeightKg:ee.grossWeightKg,tareWeightKg:ee.tareWeightKg,netWeightKg:ee.netWeightKg,incinerationWeightKg:ee.incinerationWeightKg,autoclaveWeightKg:ee.autoclaveWeightKg,vehicleKm:ee.vehicleKm,fuelUsageLiters:ee.fuelUsageLiters,notes:ee.notes,editingId:ee.id,editingStatus:ee.status}),h(!0)},se=ee=>{g(ee),A(!0)},fe=()=>{te({vehicleId:"",collectionDate:new Date().toISOString().split("T")[0],grossWeightKg:0,tareWeightKg:0,netWeightKg:0,incinerationWeightKg:0,autoclaveWeightKg:0,vehicleKm:null,fuelUsageLiters:null,notes:null,editingId:void 0,editingStatus:void 0})},Te=O.filter(ee=>{if(a.trim()){const re=a.toLowerCase().trim();if(!ee.vehicleNum.toLowerCase().includes(re))return!1}return!0}),Ie=ee=>{switch(ee){case"Draft":return"status-badge status-badge--draft";case"Submitted":return"status-badge status-badge--submitted";case"Verified":return"status-badge status-badge--verified";default:return"status-badge"}},_e=us(e,n.pathname);return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:"dashboard-sidebar",children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:_e.map(ee=>t.jsx("li",{children:t.jsxs(Yr,{to:ee.path,className:`nav-link ${ee.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:ee.icon}),t.jsx("span",{className:"nav-label",children:ee.label})]})},ee.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Yr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Transaction / Vehicle Waste Collection"})})}),w&&t.jsxs("div",{className:"success-banner",children:[t.jsx("span",{children:w}),t.jsx("button",{onClick:()=>S(null),"aria-label":"Close success message",children:""})]}),y&&t.jsxs("div",{className:"error-banner",children:[t.jsx("span",{children:y}),t.jsx("button",{onClick:()=>b(null),"aria-label":"Close error message",children:""})]}),m&&!O.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading collections..."}),t.jsxs("div",{className:"vehicle-waste-collection-page",children:[t.jsx("div",{className:"vehicle-waste-collection-header",children:t.jsx("h1",{className:"vehicle-waste-collection-title",children:"Vehicle Waste Collection"})}),t.jsxs("div",{className:"vehicle-waste-collection-filters",children:[t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{htmlFor:"collection-date",children:"Collection Date"}),t.jsx("input",{id:"collection-date",type:"date",value:s,onChange:ee=>c(ee.target.value),className:"date-input"})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{htmlFor:"status-filter",children:"Status"}),t.jsxs("select",{id:"status-filter",value:l,onChange:ee=>u(ee.target.value),className:"status-select",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"Draft",children:"Draft"}),t.jsx("option",{value:"Submitted",children:"Submitted"}),t.jsx("option",{value:"Verified",children:"Verified"})]})]}),t.jsxs("div",{className:"filter-group filter-group--search",children:[t.jsx("label",{htmlFor:"search",children:"Search"}),t.jsxs("div",{className:"search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{id:"search",type:"text",placeholder:"Search by vehicle number...",value:a,onChange:ee=>i(ee.target.value),className:"search-input"})]})]}),t.jsxs("div",{className:"filter-group filter-group--action",children:[t.jsx("label",{children:""}),t.jsxs("button",{className:"add-collection-btn",onClick:()=>{fe(),h(!0)},children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Collection"]})]})]}),t.jsx("div",{className:"table-container",children:Te.length===0?t.jsx("div",{className:"empty-state",children:t.jsx("p",{children:"No collections found"})}):t.jsxs("table",{className:"data-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Date"}),t.jsx("th",{children:"Vehicle"}),t.jsx("th",{children:"Gross Weight (kg)"}),t.jsx("th",{children:"Tare Weight (kg)"}),t.jsx("th",{children:"Net Weight (kg)"}),t.jsx("th",{children:"Incineration (kg)"}),t.jsx("th",{children:"Autoclave (kg)"}),t.jsx("th",{children:"KM"}),t.jsx("th",{children:"Fuel (L)"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:Te.map(ee=>{var re,je;return t.jsxs("tr",{children:[t.jsx("td",{children:new Date(ee.collectionDate).toLocaleDateString()}),t.jsx("td",{children:ee.vehicleNum}),t.jsx("td",{children:ee.grossWeightKg.toFixed(2)}),t.jsx("td",{children:ee.tareWeightKg.toFixed(2)}),t.jsx("td",{children:ee.netWeightKg.toFixed(2)}),t.jsx("td",{children:ee.incinerationWeightKg.toFixed(2)}),t.jsx("td",{children:ee.autoclaveWeightKg.toFixed(2)}),t.jsx("td",{children:((re=ee.vehicleKm)==null?void 0:re.toFixed(2))||"-"}),t.jsx("td",{children:((je=ee.fuelUsageLiters)==null?void 0:je.toFixed(2))||"-"}),t.jsx("td",{children:t.jsx("span",{className:Ie(ee.status),children:ee.status})}),t.jsx("td",{children:t.jsxs("div",{className:"action-buttons",children:[t.jsx("button",{className:"btn btn-icon",onClick:()=>se(ee),title:"View Details",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),ee.status==="Draft"&&t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"btn btn-icon",onClick:()=>R(ee),title:"Edit",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"btn btn-icon",onClick:()=>ce(ee.id,"submit"),title:"Submit",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"20 6 9 17 4 12"})})}),t.jsx("button",{className:"btn btn-icon btn-icon--danger",onClick:()=>$(ee.id),title:"Delete",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]}),ee.status==="Submitted"&&t.jsx("button",{className:"btn btn-icon",onClick:()=>ce(ee.id,"verify"),title:"Verify",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]})})]})})]},ee.id)})})]})}),Te.length>0&&t.jsxs("div",{className:"table-footer",children:["Showing ",Te.length," of ",O.length," Items"]})]})]}),o&&t.jsx("div",{className:"modal-overlay",onClick:()=>h(!1),children:t.jsxs("div",{className:"modal-content",onClick:ee=>ee.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:K.editingId?"Edit Collection":"Add Collection"}),t.jsx("button",{className:"modal-close",onClick:()=>h(!1),children:""})]}),t.jsxs("form",{onSubmit:P,children:[t.jsxs("div",{className:"modal-body",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"vehicleId",children:"Vehicle *"}),t.jsxs("select",{id:"vehicleId",value:K.vehicleId,onChange:ee=>te({...K,vehicleId:ee.target.value}),required:!0,disabled:!!K.editingId,children:[t.jsx("option",{value:"",children:"Select Vehicle"}),N.filter(ee=>ee.status==="Active").map(ee=>t.jsx("option",{value:ee.id,children:ee.vehicleNum},ee.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"collectionDate",children:"Collection Date *"}),t.jsx("input",{id:"collectionDate",type:"date",value:K.collectionDate,onChange:ee=>te({...K,collectionDate:ee.target.value}),required:!0,disabled:!!K.editingId})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"grossWeightKg",children:"Gross Weight (kg) *"}),t.jsx("input",{id:"grossWeightKg",type:"number",step:"0.01",min:"0",value:K.grossWeightKg,onChange:ee=>te({...K,grossWeightKg:parseFloat(ee.target.value)||0}),required:!0,disabled:!!K.editingId&&K.editingStatus!=="Draft"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"tareWeightKg",children:"Tare Weight (kg) *"}),t.jsx("input",{id:"tareWeightKg",type:"number",step:"0.01",min:"0",value:K.tareWeightKg,onChange:ee=>te({...K,tareWeightKg:parseFloat(ee.target.value)||0}),required:!0,disabled:!!K.editingId&&K.editingStatus!=="Draft"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"netWeightKg",children:"Net Weight (kg) *"}),t.jsx("input",{id:"netWeightKg",type:"number",step:"0.01",min:"0",value:K.netWeightKg.toFixed(2),readOnly:!0,className:"readonly-input"}),t.jsx("small",{children:"Auto-calculated: Gross - Tare"})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"incinerationWeightKg",children:"Incineration Weight (kg) *"}),t.jsx("input",{id:"incinerationWeightKg",type:"number",step:"0.01",min:"0",value:K.incinerationWeightKg,onChange:ee=>te({...K,incinerationWeightKg:parseFloat(ee.target.value)||0}),required:!0,disabled:!!K.editingId&&K.editingStatus!=="Draft"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"autoclaveWeightKg",children:"Autoclave Weight (kg) *"}),t.jsx("input",{id:"autoclaveWeightKg",type:"number",step:"0.01",min:"0",value:K.autoclaveWeightKg,onChange:ee=>te({...K,autoclaveWeightKg:parseFloat(ee.target.value)||0}),required:!0,disabled:!!K.editingId&&K.editingStatus!=="Draft"})]})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"vehicleKm",children:"Vehicle KM"}),t.jsx("input",{id:"vehicleKm",type:"number",step:"0.01",min:"0",value:K.vehicleKm||"",onChange:ee=>te({...K,vehicleKm:ee.target.value?parseFloat(ee.target.value):null}),disabled:!!K.editingId&&K.editingStatus!=="Draft"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"fuelUsageLiters",children:"Fuel Usage (Liters)"}),t.jsx("input",{id:"fuelUsageLiters",type:"number",step:"0.01",min:"0",value:K.fuelUsageLiters||"",onChange:ee=>te({...K,fuelUsageLiters:ee.target.value?parseFloat(ee.target.value):null}),disabled:!!K.editingId&&K.editingStatus!=="Draft"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"notes",children:"Notes"}),t.jsx("textarea",{id:"notes",rows:3,value:K.notes||"",onChange:ee=>te({...K,notes:ee.target.value||null}),disabled:K.editingId&&K.status!=="Draft"})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>h(!1),children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn-primary",disabled:m,children:m?"Saving...":"Save"})]})]})]})}),d&&f&&t.jsx("div",{className:"modal-overlay",onClick:()=>A(!1),children:t.jsxs("div",{className:"modal-content modal-content--large",onClick:ee=>ee.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:"Collection Details"}),t.jsx("button",{className:"modal-close",onClick:()=>A(!1),children:""})]}),t.jsx("div",{className:"modal-body",children:t.jsxs("div",{className:"detail-grid",children:[t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Vehicle:"}),t.jsx("span",{children:f.vehicleNum})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Collection Date:"}),t.jsx("span",{children:new Date(f.collectionDate).toLocaleDateString()})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Gross Weight:"}),t.jsxs("span",{children:[f.grossWeightKg.toFixed(2)," kg"]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Tare Weight:"}),t.jsxs("span",{children:[f.tareWeightKg.toFixed(2)," kg"]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Net Weight:"}),t.jsxs("span",{children:[f.netWeightKg.toFixed(2)," kg"]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Incineration Weight:"}),t.jsxs("span",{children:[f.incinerationWeightKg.toFixed(2)," kg"]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Autoclave Weight:"}),t.jsxs("span",{children:[f.autoclaveWeightKg.toFixed(2)," kg"]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Vehicle KM:"}),t.jsx("span",{children:((Z=f.vehicleKm)==null?void 0:Z.toFixed(2))||"-"})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Fuel Usage:"}),t.jsxs("span",{children:[((Oe=f.fuelUsageLiters)==null?void 0:Oe.toFixed(2))||"-"," L"]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Status:"}),t.jsx("span",{className:Ie(f.status),children:f.status})]}),f.notes&&t.jsxs("div",{className:"detail-item detail-item--full",children:[t.jsx("label",{children:"Notes:"}),t.jsx("span",{children:f.notes})]})]})}),t.jsx("div",{className:"modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>A(!1),children:"Close"})})]})})]})},Ite="http://localhost:3000/api/v1",Tte=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},KA=async(r,e={})=>{const n=Tte(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${Ite}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const c=await i.json();c.message?Array.isArray(c.message)?s=c.message.join(", "):typeof c.message=="string"&&(s=c.message):c.error&&(s=typeof c.error=="string"?c.error:c.error.message||JSON.stringify(c.error));const l=new Error(s);throw l.status=i.status,l.statusText=i.statusText,l.errorData=c,l}catch{const l=new Error(s);throw l.status=i.status,l.statusText=i.statusText,l}}return i.status===204?{}:i.json()},Uf={createProcess:async r=>(await KA("/waste-processes",{method:"POST",body:JSON.stringify(r)})).data,getProcessById:async r=>(await KA(`/waste-processes/${r}`,{method:"GET"})).data,getAllProcesses:async(r,e,n,a)=>{let i="/waste-processes";const s=new URLSearchParams;return r&&s.append("companyId",r),e&&s.append("startDate",e),n&&s.append("endDate",n),a&&s.append("status",a),s.toString()&&(i+=`?${s.toString()}`),(await KA(i,{method:"GET"})).data},updateProcess:async(r,e)=>(await KA(`/waste-processes/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,submitProcess:async r=>(await KA(`/waste-processes/${r}/submit`,{method:"PUT"})).data,verifyProcess:async r=>(await KA(`/waste-processes/${r}/verify`,{method:"PUT"})).data,closeProcess:async r=>(await KA(`/waste-processes/${r}/close`,{method:"PUT"})).data,deleteProcess:async r=>{await KA(`/waste-processes/${r}`,{method:"DELETE"})}},_te=()=>{const{logout:r,permissions:e}=da(),n=Tn(),[a,i]=k.useState(""),[s,c]=k.useState(new Date().toISOString().split("T")[0]),[l,u]=k.useState("all"),[o,h]=k.useState(!1),[d,A]=k.useState(!1),[f,g]=k.useState(null),[m,x]=k.useState(!1),[y,b]=k.useState(null),[w,S]=k.useState(null),[N,C]=k.useState([]),[O,W]=k.useState([]),[K,te]=k.useState({companyId:"",processDate:new Date().toISOString().split("T")[0],incinerationWeightKg:0,autoclaveWeightKg:0,notes:null}),q=k.useCallback(async()=>{try{const Z=await Ha.getAllCompanies(void 0,!0);C(Z)}catch(Z){console.error("Failed to load companies:",Z),b("Failed to load companies")}},[]),Y=k.useCallback(async()=>{x(!0),b(null);try{const Z=s,Oe=s,re=(await Uf.getAllProcesses(void 0,Z,Oe,l!=="all"?l:void 0)).map(je=>{const Ne=N.find(ye=>ye.id===je.companyId);return{id:je.id,companyId:je.companyId,companyName:(Ne==null?void 0:Ne.companyName)||"Unknown",processDate:je.processDate,incinerationWeightKg:Number(je.incinerationWeightKg)||0,autoclaveWeightKg:Number(je.autoclaveWeightKg)||0,status:je.status,notes:je.notes,createdOn:je.createdOn}});W(re)}catch(Z){const Oe=Z instanceof Error?Z.message:"Failed to load processes";b(Oe),console.error("Error loading processes:",Z)}finally{x(!1)}},[s,l,N]);k.useEffect(()=>{q()},[q]),k.useEffect(()=>{N.length>0&&Y()},[s,l,N,Y]);const P=async Z=>{if(Z.preventDefault(),!K.companyId){b("Please select a company");return}if(K.incinerationWeightKg<=0){b("Incineration weight must be greater than zero");return}if(K.autoclaveWeightKg<=0){b("Autoclave weight must be greater than zero");return}try{if(x(!0),b(null),K.editingId){const Oe={incinerationWeightKg:Number(K.incinerationWeightKg),autoclaveWeightKg:Number(K.autoclaveWeightKg),notes:K.notes};await Uf.updateProcess(K.editingId,Oe),S("Process updated successfully")}else{const Oe={companyId:K.companyId,processDate:K.processDate,incinerationWeightKg:Number(K.incinerationWeightKg),autoclaveWeightKg:Number(K.autoclaveWeightKg),notes:K.notes};await Uf.createProcess(Oe),S("Process created successfully")}await Y(),h(!1),fe(),setTimeout(()=>S(null),3e3)}catch(Oe){const ee=Oe instanceof Error?Oe.message:"Failed to save process";b(ee),console.error("Error saving process:",Oe)}finally{x(!1)}},ce=async(Z,Oe)=>{try{x(!0),b(null),Oe==="submit"?(await Uf.submitProcess(Z),S("Process submitted successfully")):Oe==="verify"?(await Uf.verifyProcess(Z),S("Process verified successfully")):(await Uf.closeProcess(Z),S("Process closed successfully")),await Y(),setTimeout(()=>S(null),3e3)}catch(ee){const re=ee instanceof Error?ee.message:"Failed to update status";b(re),console.error("Error updating status:",ee)}finally{x(!1)}},$=async Z=>{if(window.confirm("Are you sure you want to delete this process?"))try{x(!0),b(null),await Uf.deleteProcess(Z),S("Process deleted successfully"),await Y(),setTimeout(()=>S(null),3e3)}catch(Oe){const ee=Oe instanceof Error?Oe.message:"Failed to delete process";b(ee),console.error("Error deleting process:",Oe)}finally{x(!1)}},R=Z=>{te({companyId:Z.companyId,processDate:Z.processDate,incinerationWeightKg:Z.incinerationWeightKg,autoclaveWeightKg:Z.autoclaveWeightKg,notes:Z.notes,editingId:Z.id,editingStatus:Z.status}),h(!0)},se=Z=>{g(Z),A(!0)},fe=()=>{te({companyId:"",processDate:new Date().toISOString().split("T")[0],incinerationWeightKg:0,autoclaveWeightKg:0,notes:null,editingId:void 0,editingStatus:void 0})},Te=O.filter(Z=>{if(a.trim()){const Oe=a.toLowerCase().trim();if(!Z.companyName.toLowerCase().includes(Oe))return!1}return!0}),Ie=Z=>{switch(Z){case"Draft":return"status-badge status-badge--draft";case"Submitted":return"status-badge status-badge--submitted";case"Verified":return"status-badge status-badge--verified";case"Closed":return"status-badge status-badge--closed";default:return"status-badge"}},_e=us(e,n.pathname);return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:"dashboard-sidebar",children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:_e.map(Z=>t.jsx("li",{children:t.jsxs(Yr,{to:Z.path,className:`nav-link ${Z.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:Z.icon}),t.jsx("span",{className:"nav-label",children:Z.label})]})},Z.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Yr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Transaction / Waste Processing"})})}),w&&t.jsxs("div",{className:"success-banner",children:[t.jsx("span",{children:w}),t.jsx("button",{onClick:()=>S(null),"aria-label":"Close success message",children:""})]}),y&&t.jsxs("div",{className:"error-banner",children:[t.jsx("span",{children:y}),t.jsx("button",{onClick:()=>b(null),"aria-label":"Close error message",children:""})]}),m&&!O.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading processes..."}),t.jsxs("div",{className:"waste-process-page",children:[t.jsx("div",{className:"waste-process-header",children:t.jsx("h1",{className:"waste-process-title",children:"Waste Processing"})}),t.jsxs("div",{className:"waste-process-filters",children:[t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{htmlFor:"process-date",children:"Process Date"}),t.jsx("input",{id:"process-date",type:"date",value:s,onChange:Z=>c(Z.target.value),className:"date-input"})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{htmlFor:"status-filter",children:"Status"}),t.jsxs("select",{id:"status-filter",value:l,onChange:Z=>u(Z.target.value),className:"status-select",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"Draft",children:"Draft"}),t.jsx("option",{value:"Submitted",children:"Submitted"}),t.jsx("option",{value:"Verified",children:"Verified"}),t.jsx("option",{value:"Closed",children:"Closed"})]})]}),t.jsxs("div",{className:"filter-group filter-group--search",children:[t.jsx("label",{htmlFor:"search",children:"Search"}),t.jsxs("div",{className:"search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{id:"search",type:"text",placeholder:"Search by company name...",value:a,onChange:Z=>i(Z.target.value),className:"search-input"})]})]}),t.jsxs("div",{className:"filter-group filter-group--action",children:[t.jsx("label",{children:""}),t.jsxs("button",{className:"add-process-btn",onClick:()=>{fe(),h(!0)},children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Process"]})]})]}),t.jsx("div",{className:"table-container",children:Te.length===0?t.jsx("div",{className:"empty-state",children:t.jsx("p",{children:"No processes found"})}):t.jsxs("table",{className:"data-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Date"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"Incineration (kg)"}),t.jsx("th",{children:"Autoclave (kg)"}),t.jsx("th",{children:"Total (kg)"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:Te.map(Z=>t.jsxs("tr",{children:[t.jsx("td",{children:new Date(Z.processDate).toLocaleDateString()}),t.jsx("td",{children:Z.companyName}),t.jsx("td",{children:Z.incinerationWeightKg.toFixed(2)}),t.jsx("td",{children:Z.autoclaveWeightKg.toFixed(2)}),t.jsx("td",{children:(Number(Z.incinerationWeightKg)+Number(Z.autoclaveWeightKg)).toFixed(2)}),t.jsx("td",{children:t.jsx("span",{className:Ie(Z.status),children:Z.status})}),t.jsx("td",{children:t.jsxs("div",{className:"action-buttons",children:[t.jsx("button",{className:"btn btn-icon",onClick:()=>se(Z),title:"View Details",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),Z.status==="Draft"&&t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"btn btn-icon",onClick:()=>R(Z),title:"Edit",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"btn btn-icon",onClick:()=>ce(Z.id,"submit"),title:"Submit",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"20 6 9 17 4 12"})})}),t.jsx("button",{className:"btn btn-icon btn-icon--danger",onClick:()=>$(Z.id),title:"Delete",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]}),Z.status==="Submitted"&&t.jsx("button",{className:"btn btn-icon",onClick:()=>ce(Z.id,"verify"),title:"Verify",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]})}),Z.status==="Verified"&&t.jsx("button",{className:"btn btn-icon",onClick:()=>ce(Z.id,"close"),title:"Close",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 6L6 18"}),t.jsx("path",{d:"M6 6l12 12"})]})})]})})]},Z.id))})]})}),Te.length>0&&t.jsxs("div",{className:"table-footer",children:["Showing ",Te.length," of ",O.length," Items"]})]})]}),o&&t.jsx("div",{className:"modal-overlay",onClick:()=>h(!1),children:t.jsxs("div",{className:"modal-content",onClick:Z=>Z.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:K.editingId?"Edit Process":"Add Process"}),t.jsx("button",{className:"modal-close",onClick:()=>h(!1),children:""})]}),t.jsxs("form",{onSubmit:P,children:[t.jsxs("div",{className:"modal-body",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"companyId",children:"Company *"}),t.jsxs("select",{id:"companyId",value:K.companyId,onChange:Z=>te({...K,companyId:Z.target.value}),required:!0,disabled:!!K.editingId,children:[t.jsx("option",{value:"",children:"Select Company"}),N.filter(Z=>Z.status==="Active").map(Z=>t.jsx("option",{value:Z.id,children:Z.companyName},Z.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"processDate",children:"Process Date *"}),t.jsx("input",{id:"processDate",type:"date",value:K.processDate,onChange:Z=>te({...K,processDate:Z.target.value}),required:!0,disabled:!!K.editingId})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"incinerationWeightKg",children:"Incineration Weight (kg) *"}),t.jsx("input",{id:"incinerationWeightKg",type:"number",step:"0.01",min:"0.01",value:K.incinerationWeightKg,onChange:Z=>te({...K,incinerationWeightKg:parseFloat(Z.target.value)||0}),required:!0,disabled:!!K.editingId&&K.editingStatus!=="Draft"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"autoclaveWeightKg",children:"Autoclave Weight (kg) *"}),t.jsx("input",{id:"autoclaveWeightKg",type:"number",step:"0.01",min:"0.01",value:K.autoclaveWeightKg,onChange:Z=>te({...K,autoclaveWeightKg:parseFloat(Z.target.value)||0}),required:!0,disabled:!!K.editingId&&K.editingStatus!=="Draft"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"notes",children:"Notes"}),t.jsx("textarea",{id:"notes",rows:3,value:K.notes||"",onChange:Z=>te({...K,notes:Z.target.value||null}),disabled:!!K.editingId&&K.editingStatus!=="Draft"})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>h(!1),children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn-primary",disabled:m,children:m?"Saving...":"Save"})]})]})]})}),d&&f&&t.jsx("div",{className:"modal-overlay",onClick:()=>A(!1),children:t.jsxs("div",{className:"modal-content modal-content--large",onClick:Z=>Z.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:"Process Details"}),t.jsx("button",{className:"modal-close",onClick:()=>A(!1),children:""})]}),t.jsx("div",{className:"modal-body",children:t.jsxs("div",{className:"detail-grid",children:[t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Company:"}),t.jsx("span",{children:f.companyName})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Process Date:"}),t.jsx("span",{children:new Date(f.processDate).toLocaleDateString()})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Incineration Weight:"}),t.jsxs("span",{children:[f.incinerationWeightKg.toFixed(2)," kg"]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Autoclave Weight:"}),t.jsxs("span",{children:[f.autoclaveWeightKg.toFixed(2)," kg"]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Total Weight:"}),t.jsxs("span",{children:[(Number(f.incinerationWeightKg)+Number(f.autoclaveWeightKg)).toFixed(2)," kg"]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Status:"}),t.jsx("span",{className:Ie(f.status),children:f.status})]}),f.notes&&t.jsxs("div",{className:"detail-item detail-item--full",children:[t.jsx("label",{children:"Notes:"}),t.jsx("span",{children:f.notes})]})]})}),t.jsx("div",{className:"modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>A(!1),children:"Close"})})]})})]})},Ote="http://localhost:3000/api/v1",kte=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},yp=async(r,e={})=>{const n=kte(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${Ote}${r}`,{...e,headers:a});if(!i.ok){let c=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?c=l.message.join(", "):typeof l.message=="string"?c=l.message:l.error&&(c=typeof l.error=="string"?l.error:JSON.stringify(l.error)),i.status===401?(c="Unauthorized: Please login again",localStorage.removeItem("mw-auth-user"),window.location.href="/login"):i.status===403?c=l.message||l.error||"Forbidden: You do not have permission to access this resource":i.status===500&&(c=l.message||l.error||"Internal server error")}catch{i.status===401?(c="Unauthorized: Please login again",localStorage.removeItem("mw-auth-user"),window.location.href="/login"):i.status===403?c="Forbidden: You do not have permission to access this resource":i.status===500&&(c="Internal server error")}throw new Error(c)}return(await i.json()).data},_F=async r=>{const n=new URLSearchParams().toString();return yp(`/invoices${n?`?${n}`:""}`)},Y0=async r=>{const e=r?{...r}:{};e.fromDate&&!e.invoiceFromDate&&(e.invoiceFromDate=e.fromDate),e.toDate&&!e.invoiceToDate&&(e.invoiceToDate=e.toDate),e.search&&!e.searchText&&(e.searchText=e.search),e.sortDir&&!e.sortOrder&&(e.sortOrder=e.sortDir);const n={};return Object.keys(e).forEach(a=>{const i=e[a];i!=null&&i!==""&&(n[a]=i)}),yp("/reports/invoices",{method:"POST",body:JSON.stringify(n)})},Pte=async r=>yp("/invoices",{method:"POST",body:JSON.stringify(r)}),Fte=async(r,e)=>yp(`/invoices/${r}`,{method:"PUT",body:JSON.stringify(e)}),Dte=async r=>yp("/invoices/generate",{method:"POST",body:JSON.stringify(r)}),Mte=async r=>yp("/invoices/generate-weight",{method:"POST",body:JSON.stringify(r)}),Rte=async r=>yp("/invoices/generate-month",{method:"POST",body:JSON.stringify(r)}),Lte="http://localhost:3000/api/v1",Ute=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},zg=async(r,e={})=>{const n=Ute(),a={"Content-Type":"application/json",...e.headers};if(n&&(a.Authorization=`Bearer ${n}`),e.body&&r.includes("/payments"))try{const c=JSON.parse(e.body);console.log("=== API Request Debug ==="),console.log("Endpoint:",r),console.log("Request Body:",JSON.stringify(c,null,2)),console.log("Payment Amount in request:",c.paymentAmount,typeof c.paymentAmount)}catch{console.log("Could not parse request body for logging")}const i=await fetch(`${Lte}${r}`,{...e,headers:a});if(!i.ok){let c=`HTTP error! status: ${i.status}`;try{const u=await i.json();c=u.message||u.error||c,u.message&&typeof u.message=="object"&&(c=JSON.stringify(u.message))}catch{i.status===500?c="Internal server error":i.status===401?c="Unauthorized. Please login again.":i.status===403?c="Forbidden. You do not have permission.":i.status===404&&(c="Resource not found")}const l=new Error(c);throw l.status=i.status,l.response={status:i.status},l}return(await i.json()).data};var ni=(r=>(r.CASH="Cash",r.CHEQUE="Cheque",r.BANK_TRANSFER="Bank Transfer",r.UPI="UPI",r.NEFT="NEFT",r.RTGS="RTGS",r.OTHER="Other",r))(ni||{});const OF=async r=>zg("/payments",{method:"POST",body:JSON.stringify(r)}),Hte=async r=>{const e=new URLSearchParams;r!=null&&r.companyId&&e.append("companyId",r.companyId),r!=null&&r.status&&e.append("status",r.status),r!=null&&r.paymentDateFrom&&e.append("paymentDateFrom",r.paymentDateFrom),r!=null&&r.paymentDateTo&&e.append("paymentDateTo",r.paymentDateTo);const n=`/payments${e.toString()?`?${e.toString()}`:""}`;return zg(n,{method:"GET"})},_8=async r=>zg(`/payments/receipts/${r}`,{method:"GET"}),Qte=async r=>{const e=new URLSearchParams;r&&e.append("companyId",r);const n=`/payments/without-receipt${e.toString()?`?${e.toString()}`:""}`;return zg(n,{method:"GET"})},Wte=async r=>zg("/payments/receipts/manual",{method:"POST",body:JSON.stringify(r)}),$te=()=>{const{logout:r,permissions:e}=da(),n=Tn(),a=Ka(),[i,s]=k.useState(""),[c,l]=k.useState("All"),[u,o]=k.useState(!1),[h,d]=k.useState(!1),[A,f]=k.useState(!1),[g,m]=k.useState(!1),[x,y]=k.useState(!1),[b,w]=k.useState(!1),[S,N]=k.useState(!1),[C,O]=k.useState(null),[W,K]=k.useState(!1),[te,q]=k.useState([]),[Y,P]=k.useState(!1),[ce,$]=k.useState(null),[R,se]=k.useState(!1),[fe,Te]=k.useState(null),[Ie,_e]=k.useState(new Set),[Z,Oe]=k.useState(null),[ee,re]=k.useState(null),[je,Ne]=k.useState(!1),[ye,me]=k.useState(null),[ie,le]=k.useState(null),[Ee,Re]=k.useState(!1),Ue=()=>{Re(!Ee)},[de,Ce]=k.useState([]),[ue,$e]=k.useState([]),[it,Et]=k.useState([]);k.useEffect(()=>{Ct()},[]);const Ct=async()=>{Ne(!0),me(null);try{const Pt=await Ha.getAllCompanies(!0),Kr=Pt.map(cr=>({id:cr.id,companyCode:cr.companyCode,companyName:cr.companyName,status:cr.status}));Ce(Kr);const tn=(await Fs.getAllHcfs(void 0,!0)).map(cr=>{var ga;return{id:cr.id,hcfCode:cr.hcfCode,hcfName:cr.hcfName,companyName:((ga=Pt.find(xi=>xi.id===cr.companyId))==null?void 0:ga.companyName)||"",status:cr.status||"Active"}});$e(tn),await Bt(Kr,tn)}catch(Pt){console.error("Error loading data:",Pt);const Kr=Pt.message||"Failed to load data";Kr.includes("Internal server error")||Kr.includes("500")?me("Internal server error. Please check the backend logs."):me(Kr)}finally{Ne(!1)}},Bt=async(Pt,Kr)=>{try{const un=await _F();console.log("Loaded invoices:",un.length),console.log("Companies available:",Pt.length),console.log("HCFs available:",Kr.length);const tn=un.map(cr=>{var Cn,Ts,Ni,yi,Wi,Ii,Ds,Ga;const ga=Pt.find(xs=>xs.id===cr.companyId),xi=Kr.find(xs=>xs.id===cr.hcfId);return un.indexOf(cr)===0&&console.log("First invoice mapping:",{invoiceId:cr.invoiceId,companyId:cr.companyId,hcfId:cr.hcfId,foundCompany:!!ga,foundHcf:!!xi,companyName:ga==null?void 0:ga.companyName,hcfCode:xi==null?void 0:xi.hcfCode}),{...cr,id:cr.invoiceId,invoiceNum:cr.invoiceNumber,invoiceStatus:cr.status,companyName:(ga==null?void 0:ga.companyName)||cr.companyName||"",hcfCode:(xi==null?void 0:xi.hcfCode)||cr.hcfCode||"",invoiceDate:cr.invoiceDate||"",dueDate:cr.dueDate||"",billingDays:cr.billingDays!==null&&cr.billingDays!==void 0?cr.billingDays.toString():"",bedCount:cr.bedCount!==null&&cr.bedCount!==void 0?cr.bedCount.toString():"",bedRate:cr.bedRate!==null&&cr.bedRate!==void 0?cr.bedRate.toString():"",weightInKg:cr.weightInKg!==null&&cr.weightInKg!==void 0?cr.weightInKg.toString():"",kgRate:cr.kgRate!==null&&cr.kgRate!==void 0?cr.kgRate.toString():"",lumpsumAmount:cr.lumpsumAmount!==null&&cr.lumpsumAmount!==void 0?cr.lumpsumAmount.toString():"",taxableValue:((Cn=cr.taxableValue)==null?void 0:Cn.toString())||"",igst:((Ts=cr.igst)==null?void 0:Ts.toString())||"",cgst:((Ni=cr.cgst)==null?void 0:Ni.toString())||"",sgst:((yi=cr.sgst)==null?void 0:yi.toString())||"",roundOff:((Wi=cr.roundOff)==null?void 0:Wi.toString())||"",invoiceValue:((Ii=cr.invoiceValue)==null?void 0:Ii.toString())||"",totalPaidAmount:((Ds=cr.totalPaidAmount)==null?void 0:Ds.toString())||"",balanceAmount:((Ga=cr.balanceAmount)==null?void 0:Ga.toString())||""}});console.log("Mapped invoices:",tn.length),Et(tn),tn.length>0&&me(null)}catch(un){console.error("Error loading invoices:",un);const tn=un.message||"Failed to load invoices";if(tn.includes("Unauthorized")||tn.includes("Forbidden")||tn.includes("permission")){me("Access denied: You do not have permission to view invoices. Please contact your administrator or log in again.");return}throw tn.includes("Internal server error")||tn.includes("500")?me("Internal server error. Please check the backend logs."):me(tn),un}},mr=async()=>{await Bt(de,ue)},lr=it.filter(Pt=>{var tn;const Kr=Pt.invoiceNum.toLowerCase().includes(i.toLowerCase())||Pt.companyName.toLowerCase().includes(i.toLowerCase())||Pt.hcfCode.toLowerCase().includes(i.toLowerCase())||((tn=ue.find(cr=>cr.hcfCode===Pt.hcfCode))==null?void 0:tn.hcfName.toLowerCase().includes(i.toLowerCase())),un=c==="All"||Pt.invoiceStatus===c;return Kr&&un}),He=()=>{Oe(null),o(!0)},$t=Pt=>{re(Pt),d(!0)},Nt=Pt=>{Pt.invoiceStatus==="Draft"?(Oe(Pt),o(!0)):alert("Only Draft invoices can be edited.")},Dr=Pt=>{if(Pt.invoiceStatus!=="Draft"){alert("Only Draft invoices can be generated.");return}alert('Please use the "Generate Invoice" button in the edit modal to generate this invoice.')},vr=Pt=>{window.confirm("Are you sure you want to cancel this invoice?")&&Et(it.map(Kr=>Kr.id===Pt.id?{...Kr,invoiceStatus:"Cancelled",modifiedOn:new Date().toISOString().split("T")[0]}:Kr))},an=async Pt=>{Ne(!0),me(null),le(null);try{const Kr=await recordPayment(Pt);le(`Payment recorded successfully! Receipt Number: ${Kr.data.receipt.receiptNumber}`);const un=await _8(Kr.data.receipt.receiptId);$(un.data),P(!0),await mr(),se(!1),Te(null)}catch(Kr){console.error("Error recording payment:",Kr);const un=Kr.message||"Failed to record payment";me(un)}finally{Ne(!1)}},Xr=Pt=>Pt==="Generated"?"DUE":Pt,Qr=Pt=>Pt.invoiceStatus==="Generated"||Pt.invoiceStatus==="Partially Paid",Ir=Pt=>Ie.has(Pt),hr=Pt=>{if(!Qr(Pt))return;const Kr=new Set(Ie);Kr.has(Pt.id)?Kr.delete(Pt.id):Kr.add(Pt.id),_e(Kr)},pr=()=>{if(lr.filter(un=>Ie.has(un.id)).length===0){alert("Please select at least one invoice to proceed with payment");return}const Kr=Array.from(Ie);a(`/finance/payment?invoices=${Kr.join(",")}`)},Lr=()=>{const Pt=lr.filter(un=>Ie.has(un.id)),Kr=Pt.reduce((un,tn)=>un+parseFloat(tn.balanceAmount||"0"),0);return{count:Pt.length,totalBalance:Kr}},$r=async Pt=>{Ne(!0),me(null),le(null);try{const Kr=await OF(Pt);le(`Payment processed successfully! Receipt Number: ${Kr.data.receipt.receiptNumber}`);const un=await _8(Kr.data.receipt.receiptId);$(un.data),P(!0),await mr(),K(!1)}catch(Kr){console.error("Error processing payment:",Kr);const un=Kr.message||"Failed to process payment";me(un)}finally{Ne(!1)}},dn=Pt=>{window.print()},zr=()=>{alert("Export functionality will be implemented")},Wn=async(Pt,Kr=!1)=>{Ne(!0),me(null),le(null);try{const un=de.find(cr=>cr.companyName===Pt.companyName),tn=ue.find(cr=>cr.hcfCode===Pt.hcfCode);if(!un||!tn)throw new Error("Company or HCF not found");if(Z){const cr={invoiceDate:Pt.invoiceDate,dueDate:Pt.dueDate,billingType:Pt.billingType,billingDays:Pt.billingDays?parseInt(Pt.billingDays):void 0,billingOption:Pt.billingOption,bedCount:Pt.bedCount?parseInt(Pt.bedCount):void 0,bedRate:Pt.bedRate?parseFloat(Pt.bedRate):void 0,weightInKg:Pt.weightInKg?parseFloat(Pt.weightInKg):void 0,kgRate:Pt.kgRate?parseFloat(Pt.kgRate):void 0,lumpsumAmount:Pt.lumpsumAmount?parseFloat(Pt.lumpsumAmount):void 0,taxableValue:Pt.taxableValue?parseFloat(Pt.taxableValue):void 0,igst:Pt.igst?parseFloat(Pt.igst):void 0,cgst:Pt.cgst?parseFloat(Pt.cgst):void 0,sgst:Pt.sgst?parseFloat(Pt.sgst):void 0,roundOff:Pt.roundOff?parseFloat(Pt.roundOff):void 0,invoiceValue:Pt.invoiceValue?parseFloat(Pt.invoiceValue):void 0,notes:Pt.notes};await Fte(Z.id,cr),le("Invoice updated successfully")}else{const cr={companyId:un.id,hcfId:tn.id,invoiceDate:Pt.invoiceDate||new Date().toISOString().split("T")[0],dueDate:Pt.dueDate||new Date().toISOString().split("T")[0],billingType:Pt.billingType||"Monthly",billingDays:Pt.billingDays?parseInt(Pt.billingDays):void 0,billingOption:Pt.billingOption||"Bed-wise",generationType:"Manual",bedCount:Pt.bedCount?parseInt(Pt.bedCount):void 0,bedRate:Pt.bedRate?parseFloat(Pt.bedRate):void 0,weightInKg:Pt.weightInKg?parseFloat(Pt.weightInKg):void 0,kgRate:Pt.kgRate?parseFloat(Pt.kgRate):void 0,lumpsumAmount:Pt.lumpsumAmount?parseFloat(Pt.lumpsumAmount):void 0,taxableValue:Pt.taxableValue?parseFloat(Pt.taxableValue):void 0,igst:Pt.igst?parseFloat(Pt.igst):void 0,cgst:Pt.cgst?parseFloat(Pt.cgst):void 0,sgst:Pt.sgst?parseFloat(Pt.sgst):void 0,roundOff:Pt.roundOff?parseFloat(Pt.roundOff):void 0,invoiceValue:Pt.invoiceValue?parseFloat(Pt.invoiceValue):void 0,notes:Pt.notes};await Pte(cr),le("Invoice created successfully")}await mr(),o(!1),Oe(null)}catch(un){console.error("Error saving invoice:",un);const tn=un.message||"Failed to save invoice";tn.includes("Internal server error")||tn.includes("500")?me("Internal server error. Please check the backend logs."):me(tn)}finally{Ne(!1)}},Hr=async Pt=>{Ne(!0),me(null),le(null);try{const Kr=await Dte(Pt);if(Kr.summary.success>0&&le(`Generated ${Kr.summary.success} invoice(s) successfully. ${Kr.summary.failed} failed.`),Kr.failed.length>0){const un=Kr.failed.map(tn=>`${tn.hcfCode}: ${tn.reason}`).join(", ");me(`Some invoices failed: ${un}`)}await mr(),f(!1)}catch(Kr){console.error("Error generating invoices:",Kr);const un=Kr.message||"Failed to generate invoices";un.includes("Internal server error")||un.includes("500")?me("Internal server error. Please check the backend logs."):me(un)}finally{Ne(!1)}},Mr=async Pt=>{Ne(!0),me(null),le(null);try{const Kr=await Mte(Pt);if(Kr.summary.success>0&&le(`Generated ${Kr.summary.success} invoice(s) successfully (Weight-based). ${Kr.summary.failed} failed.`),Kr.failed.length>0){const un=Kr.failed.map(tn=>`${tn.hcfCode}: ${tn.reason}`).join(", ");me(`Some invoices failed: ${un}`)}await mr(),m(!1)}catch(Kr){console.error("Error generating weight-based invoices:",Kr);const un=Kr.message||"Failed to generate invoices";un.includes("Internal server error")||un.includes("500")?me("Internal server error. Please check the backend logs."):me(un)}finally{Ne(!1)}},jn=async Pt=>{Ne(!0),me(null),le(null);try{const Kr=await Rte(Pt);if(le(`Generated ${Kr.summary.success} invoice(s) successfully. ${Kr.summary.failed} failed. ${Kr.summary.skipped||0} skipped.`),Kr.skipped&&Kr.skipped.length>0&&(O({skipped:Kr.skipped}),N(!0)),Kr.failed.length>0){const un=Kr.failed.map(tn=>`${tn.hcfCode}: ${tn.reason}`).join(", ");me(`Some invoices failed: ${un}`)}await mr(),y(!1),w(!1)}catch(Kr){console.error("Error generating month-based invoices:",Kr);const un=Kr.message||"Failed to generate invoices";un.includes("Internal server error")||un.includes("500")?me("Internal server error during invoice generation. Please check the backend logs."):me(un)}finally{Ne(!1)}},cn=Pt=>{const Kr=parseFloat(Pt.taxableValue||"0"),un=parseFloat(Pt.igst||"0"),tn=parseFloat(Pt.cgst||"0"),cr=parseFloat(Pt.sgst||"0"),ga=parseFloat(Pt.roundOff||"0");return(Kr+un+tn+cr+ga).toFixed(2)},ca=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:n.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:n.pathname==="/transaction"||n.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:n.pathname==="/finance"||n.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname==="/commercial-agreements"||n.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:n.pathname==="/compliance-training"||n.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:n.pathname==="/master"||n.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname.startsWith("/report")},...nS(e,n.pathname)].filter(Pt=>Pt.path==="/dashboard"?sa(e,"dashboard"):Pt.path==="/transaction"?sa(e,"transaction"):Pt.path==="/finance"?sa(e,"finance"):Pt.path==="/commercial-agreements"?sa(e,"commercial"):Pt.path==="/compliance-training"?sa(e,"compliance"):Pt.path==="/master"?sa(e,"master"):Pt.path==="/report"?sa(e,"report"):!0);return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${Ee?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!Ee&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:Ue,"aria-label":Ee?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:Ee?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:ca.map(Pt=>t.jsx("li",{children:t.jsxs(Yr,{to:Pt.path,className:`nav-link ${Pt.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:Pt.icon}),!Ee&&t.jsx("span",{className:"nav-label",children:Pt.label})]})},Pt.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Yr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!Ee&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!Ee&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Finance / Invoice Management"})})}),t.jsxs("div",{className:"invoice-management-page",children:[t.jsx("div",{className:"invoice-management-header",children:t.jsx("h1",{className:"invoice-management-title",children:"Invoice Management"})}),ye&&t.jsxs("div",{className:"alert alert-error",style:{margin:"16px",padding:"12px",background:"#fee",color:"#c33",borderRadius:"4px"},children:[ye,t.jsx("button",{onClick:()=>me(null),style:{float:"right",background:"none",border:"none",cursor:"pointer",fontSize:"18px"},children:""})]}),ie&&t.jsxs("div",{className:"alert alert-success",style:{margin:"16px",padding:"12px",background:"#efe",color:"#3c3",borderRadius:"4px"},children:[ie,t.jsx("button",{onClick:()=>le(null),style:{float:"right",background:"none",border:"none",cursor:"pointer",fontSize:"18px"},children:""})]}),t.jsxs("div",{className:"invoice-management-actions",children:[t.jsxs("div",{className:"invoice-search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"invoice-search-input",placeholder:"Search Invoice...",value:i,onChange:Pt=>s(Pt.target.value)})]}),t.jsxs("select",{className:"status-filter-select",value:c,onChange:Pt=>l(Pt.target.value),children:[t.jsx("option",{value:"All",children:"All Status"}),t.jsx("option",{value:"Draft",children:"Draft"}),t.jsx("option",{value:"Generated",children:"DUE"}),t.jsx("option",{value:"Partially Paid",children:"Partially Paid"}),t.jsx("option",{value:"Paid",children:"Paid"}),t.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),t.jsxs("button",{className:"export-btn",onClick:zr,disabled:je,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),t.jsx("polyline",{points:"7 10 12 15 17 10"}),t.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Export"]}),t.jsxs("button",{className:"add-invoice-btn",onClick:()=>y(!0),disabled:je,style:{marginRight:"8px",backgroundColor:"#3b82f6"},children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"})}),"Auto Generate  Bed / Lumpsum"]}),t.jsxs("button",{className:"add-invoice-btn",onClick:()=>w(!0),disabled:je,style:{marginRight:"8px",backgroundColor:"#10b981"},children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"})}),"Auto Generate  Weight Based"]}),t.jsxs("button",{className:"add-invoice-btn",onClick:He,disabled:je,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Create Invoice"]})]}),je&&!it.length&&t.jsx("div",{style:{textAlign:"center",padding:"40px"},children:"Loading invoices..."}),t.jsx("div",{className:"invoice-table-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Invoice Number"}),t.jsx("th",{children:"Company Name"}),t.jsx("th",{children:"HCF Code"}),t.jsx("th",{children:"Invoice Date"}),t.jsx("th",{children:"Due Date"}),t.jsx("th",{children:"Invoice Value"}),t.jsx("th",{children:"Paid Amount"}),t.jsx("th",{children:"Balance"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:lr.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:11,className:"empty-message",children:"No invoice records found"})}):lr.map(Pt=>{const Kr=ue.find(cr=>cr.hcfCode===Pt.hcfCode),un=Qr(Pt),tn=Ir(Pt.id);return t.jsxs("tr",{style:{opacity:Pt.invoiceStatus==="Paid"?.6:1},children:[t.jsx("td",{children:t.jsx("input",{type:"checkbox",checked:tn,onChange:()=>hr(Pt),disabled:!un,title:un?"Select invoice":"Only DUE or Partially Paid invoices can be selected"})}),t.jsx("td",{children:Pt.invoiceNum||"-"}),t.jsx("td",{children:Pt.companyName||"-"}),t.jsx("td",{children:Kr?`${Pt.hcfCode} - ${Kr.hcfName}`:Pt.hcfCode}),t.jsx("td",{children:Pt.invoiceDate||"-"}),t.jsx("td",{children:Pt.dueDate||"-"}),t.jsxs("td",{children:["",Pt.invoiceValue||"0"]}),t.jsxs("td",{style:{color:"#94a3b8",fontSize:"13px"},children:["",parseFloat(Pt.totalPaidAmount||"0").toFixed(2)]}),t.jsxs("td",{style:{fontWeight:700,color:"#059669",fontSize:"14px"},children:["",parseFloat(Pt.balanceAmount||"0").toFixed(2)]}),t.jsx("td",{children:t.jsx("span",{className:`invoice-status-badge invoice-status-badge--${Pt.invoiceStatus.toLowerCase().replace(" ","-")}`,children:Xr(Pt.invoiceStatus)})}),t.jsx("td",{children:t.jsxs("div",{className:"invoice-action-buttons",children:[t.jsx("button",{className:"action-btn action-btn--view",onClick:()=>$t(Pt),title:"View",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),Pt.invoiceStatus==="Draft"&&t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>Nt(Pt),title:"Edit",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"action-btn action-btn--generate",onClick:()=>Dr(Pt),title:"Generate",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"20 6 9 17 4 12"})})})]}),t.jsx("button",{className:"action-btn action-btn--print",onClick:()=>dn(),title:"Download PDF",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),t.jsx("polyline",{points:"7 10 12 15 17 10"}),t.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]})}),Pt.invoiceStatus!=="Cancelled"&&Pt.invoiceStatus!=="Paid"&&t.jsx("button",{className:"action-btn action-btn--cancel",onClick:()=>vr(Pt),title:"Cancel",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),t.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]})})]})})]},Pt.id)})})]})}),Ie.size>0&&t.jsxs("div",{className:"invoice-payment-summary-bar",style:{position:"fixed",bottom:0,left:"280px",right:0,background:"#FFFFFF",borderTop:"1px solid #E5E7EB",padding:"16px 24px",boxShadow:"0 -2px 8px rgba(0, 0, 0, 0.08)",display:"flex",justifyContent:"space-between",alignItems:"center",zIndex:1e3,minHeight:"64px"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"32px",flex:1},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("span",{style:{fontSize:"14px",color:"#6B7280",fontWeight:400,lineHeight:"1.5"},children:"Selected Invoices:"}),t.jsx("span",{style:{fontSize:"14px",fontWeight:500,color:"#1F2937",lineHeight:"1.5"},children:Lr().count})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("span",{style:{fontSize:"14px",color:"#6B7280",fontWeight:400,lineHeight:"1.5"},children:"Total Payable:"}),t.jsxs("span",{style:{fontSize:"20px",fontWeight:700,color:"#059669",lineHeight:"1.5",letterSpacing:"-0.02em"},children:["",Lr().totalBalance.toFixed(2)]})]})]}),t.jsx("div",{style:{flexShrink:0},children:t.jsxs("button",{onClick:pr,disabled:Ie.size===0,title:Ie.size===0?"Select at least one invoice":"Proceed to payment",style:{padding:"12px 32px",background:"#10b981",color:"#FFFFFF",border:"none",borderRadius:"8px",cursor:Ie.size>0?"pointer":"not-allowed",fontSize:"15px",fontWeight:600,display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",transition:"all 0.2s ease",whiteSpace:"nowrap",minHeight:"48px",boxShadow:Ie.size>0?"0 2px 4px rgba(16, 185, 129, 0.2)":"none"},onMouseEnter:Pt=>{Ie.size>0&&(Pt.currentTarget.style.background="#059669",Pt.currentTarget.style.transform="translateY(-1px)",Pt.currentTarget.style.boxShadow="0 4px 8px rgba(16, 185, 129, 0.3)")},onMouseLeave:Pt=>{Ie.size>0&&(Pt.currentTarget.style.background="#10b981",Pt.currentTarget.style.transform="translateY(0)",Pt.currentTarget.style.boxShadow="0 2px 4px rgba(16, 185, 129, 0.2)")},children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),"Proceed to Payment"]})})]}),t.jsxs("div",{className:"invoice-pagination-info",style:{marginBottom:Ie.size>0?"80px":"0"},children:["Showing ",lr.length," of ",it.length," Items"]})]})]}),u&&t.jsx(Kte,{invoice:Z,companies:de.filter(Pt=>Pt.status==="Active"),hcfs:ue.filter(Pt=>Pt.status==="Active"),onClose:()=>{o(!1),Oe(null)},onSave:Wn,calculateInvoiceValue:cn}),h&&ee&&t.jsx(Gte,{invoice:ee,hcfs:ue,onClose:()=>{d(!1),re(null)},onPrint:dn}),W&&t.jsx(Xte,{invoices:te,companies:de.filter(Pt=>Pt.status==="Active"),onClose:()=>{K(!1),q([])},onProcessPayment:$r,loading:je}),R&&fe&&t.jsx(Yte,{invoice:fe,onClose:()=>{se(!1),Te(null)},onSubmit:an,loading:je}),Y&&ce&&t.jsx(Zte,{receiptData:ce,onClose:()=>{P(!1),$(null)}}),A&&t.jsx(Vte,{companies:de.filter(Pt=>Pt.status==="Active"),hcfs:ue.filter(Pt=>Pt.status==="Active"),onClose:()=>f(!1),onGenerate:Hr,loading:je}),g&&t.jsx(zte,{companies:de.filter(Pt=>Pt.status==="Active"),hcfs:ue.filter(Pt=>Pt.status==="Active"),onClose:()=>m(!1),onGenerate:Mr,loading:je}),x&&t.jsx(O8,{companies:de.filter(Pt=>Pt.status==="Active"),onClose:()=>y(!1),onGenerate:jn,loading:je,generationMode:"Bed/Lumpsum"}),b&&t.jsx(O8,{companies:de.filter(Pt=>Pt.status==="Active"),onClose:()=>w(!1),onGenerate:jn,loading:je,generationMode:"Weight Based"}),S&&C&&t.jsx(qte,{skipped:C.skipped,onClose:()=>{N(!1),O(null)}})]})},Vte=({companies:r,hcfs:e,onClose:n,onGenerate:a,loading:i})=>{const[s,c]=k.useState({companyId:"",billingPeriodStart:"",billingPeriodEnd:"",billingType:"Monthly",dueDays:30}),[l,u]=k.useState([]),o=s.companyId?e.filter(d=>{const A=r.find(f=>f.id===s.companyId);return A&&d.companyName===A.companyName}):e,h=d=>{d.preventDefault(),a({...s,hcfIds:l.length>0?l:void 0})};return t.jsx("div",{className:"modal-overlay",onClick:n,children:t.jsxs("div",{className:"modal-content",onClick:d=>d.stopPropagation(),style:{maxWidth:"600px"},children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:"Auto Generate Invoices"}),t.jsx("button",{className:"modal-close-btn",onClick:n,children:""})]}),t.jsxs("form",{onSubmit:h,children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company *"}),t.jsxs("select",{required:!0,value:s.companyId,onChange:d=>{c({...s,companyId:d.target.value}),u([])},children:[t.jsx("option",{value:"",children:"Select Company"}),r.map(d=>t.jsx("option",{value:d.id,children:d.companyName},d.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCFs (Optional - Leave empty for all)"}),t.jsx("select",{multiple:!0,value:l,onChange:d=>{const A=Array.from(d.target.selectedOptions,f=>f.value);u(A)},style:{minHeight:"100px"},children:o.map(d=>t.jsxs("option",{value:d.id,children:[d.hcfCode," - ",d.hcfName]},d.id))}),t.jsx("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:"Hold Ctrl (Windows) or Cmd (Mac) to select multiple HCFs"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Billing Period Start *"}),t.jsx("input",{type:"date",required:!0,value:s.billingPeriodStart,onChange:d=>c({...s,billingPeriodStart:d.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Billing Period End *"}),t.jsx("input",{type:"date",required:!0,value:s.billingPeriodEnd,onChange:d=>c({...s,billingPeriodEnd:d.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Billing Option Filter"}),t.jsxs("select",{value:s.billingOption||"",onChange:d=>c({...s,billingOption:d.target.value}),children:[t.jsx("option",{value:"",children:"All Options"}),t.jsx("option",{value:"Bed-wise",children:"Bed-wise"}),t.jsx("option",{value:"Weight-wise",children:"Weight-wise"}),t.jsx("option",{value:"Lumpsum",children:"Lumpsum"})]}),t.jsx("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:"Filter HCFs by billing option (optional)"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Billing Type *"}),t.jsxs("select",{required:!0,value:s.billingType,onChange:d=>c({...s,billingType:d.target.value}),children:[t.jsx("option",{value:"Monthly",children:"Monthly"}),t.jsx("option",{value:"Quarterly",children:"Quarterly"}),t.jsx("option",{value:"Yearly",children:"Yearly"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Due Days (from invoice date)"}),t.jsx("input",{type:"number",min:"1",value:s.dueDays||30,onChange:d=>c({...s,dueDays:parseInt(d.target.value)||30})})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",onClick:n,disabled:i,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",disabled:i,children:i?"Generating...":"Generate Invoices"})]})]})]})})},zte=({companies:r,hcfs:e,onClose:n,onGenerate:a,loading:i})=>{const[s,c]=k.useState({companyId:"",pickupDateFrom:"",pickupDateTo:"",billingType:"Monthly",dueDays:30}),[l,u]=k.useState([]),o=s.companyId?e.filter(d=>{const A=r.find(f=>f.id===s.companyId);return A&&d.companyName===A.companyName}):e,h=d=>{d.preventDefault(),a({...s,hcfIds:l.length>0?l:void 0})};return t.jsx("div",{className:"modal-overlay",onClick:n,children:t.jsxs("div",{className:"modal-content",onClick:d=>d.stopPropagation(),style:{maxWidth:"600px"},children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:"Generate Invoice (Weight-Based)"}),t.jsx("button",{className:"modal-close-btn",onClick:n,children:""})]}),t.jsxs("form",{onSubmit:h,children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company *"}),t.jsxs("select",{required:!0,value:s.companyId,onChange:d=>{c({...s,companyId:d.target.value}),u([])},children:[t.jsx("option",{value:"",children:"Select Company"}),r.map(d=>t.jsx("option",{value:d.id,children:d.companyName},d.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCFs (Optional - Leave empty for all)"}),t.jsx("select",{multiple:!0,value:l,onChange:d=>{const A=Array.from(d.target.selectedOptions,f=>f.value);u(A)},style:{minHeight:"100px"},children:o.map(d=>t.jsxs("option",{value:d.id,children:[d.hcfCode," - ",d.hcfName]},d.id))}),t.jsx("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:"Hold Ctrl (Windows) or Cmd (Mac) to select multiple HCFs"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Pickup Date From *"}),t.jsx("input",{type:"date",required:!0,value:s.pickupDateFrom,onChange:d=>c({...s,pickupDateFrom:d.target.value})}),t.jsx("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:"Start date for waste transaction pickup"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Pickup Date To *"}),t.jsx("input",{type:"date",required:!0,value:s.pickupDateTo,onChange:d=>c({...s,pickupDateTo:d.target.value})}),t.jsx("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:"End date for waste transaction pickup"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Billing Type *"}),t.jsxs("select",{required:!0,value:s.billingType,onChange:d=>c({...s,billingType:d.target.value}),children:[t.jsx("option",{value:"Monthly",children:"Monthly"}),t.jsx("option",{value:"Quarterly",children:"Quarterly"}),t.jsx("option",{value:"Yearly",children:"Yearly"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Due Days (from invoice date)"}),t.jsx("input",{type:"number",min:"1",value:s.dueDays||30,onChange:d=>c({...s,dueDays:parseInt(d.target.value)||30})})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",onClick:n,disabled:i,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",disabled:i,children:i?"Generating...":"Generate Invoices (Weight-Based)"})]})]})]})})},Kte=({invoice:r,companies:e,hcfs:n,onClose:a,onSave:i,calculateInvoiceValue:s})=>{const[c,l]=k.useState(r||{companyName:"",hcfCode:"",invoiceNum:"",invoiceDate:new Date().toISOString().split("T")[0],dueDate:"",billingType:"",billingDays:"",bedCount:"",bedRate:"",weightInKg:"",kgRate:"",lumpsumAmount:"",taxableValue:"",igst:"",cgst:"",sgst:"",roundOff:"0",invoiceValue:"",invoiceStatus:"Draft"}),u=c.companyName?n.filter(f=>f.companyName===c.companyName):n,o=(f,g)=>{const m={...c,[f]:g};if(["taxableValue","igst","cgst","sgst","roundOff"].includes(f)){const w=s(m);m.invoiceValue=w}const x=parseFloat(m.invoiceValue||"0"),y=parseFloat(m.totalPaidAmount||"0"),b=(x-y).toFixed(2);m.balanceAmount=b,l(m)},h=f=>{f.preventDefault(),i(c,!1)},d=f=>{if(f.preventDefault(),!c.companyName||!c.hcfCode){alert("Please fill in all required fields");return}window.confirm("Are you sure you want to generate this invoice? This action cannot be undone.")&&i(c,!0)},A=()=>{window.confirm("Are you sure you want to reset the form? All unsaved changes will be lost.")&&l({companyName:"",hcfCode:"",invoiceNum:"",invoiceDate:new Date().toISOString().split("T")[0],dueDate:"",billingType:"",billingDays:"",bedCount:"",bedRate:"",weightInKg:"",kgRate:"",lumpsumAmount:"",taxableValue:"",igst:"",cgst:"",sgst:"",roundOff:"0",invoiceValue:"",invoiceStatus:"Draft"})};return t.jsx("div",{className:"modal-overlay",onClick:a,children:t.jsxs("div",{className:"modal-content",onClick:f=>f.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Invoice":"Create Invoice"}),t.jsx("button",{className:"modal-close-btn",onClick:a,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"invoice-form",onSubmit:h,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Basic Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company Name *"}),t.jsxs("select",{value:c.companyName||"",onChange:f=>{o("companyName",f.target.value),o("hcfCode","")},required:!0,children:[t.jsx("option",{value:"",children:"Select Company"}),e.map(f=>t.jsx("option",{value:f.companyName,children:f.companyName},f.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCF Code *"}),t.jsxs("select",{value:c.hcfCode||"",onChange:f=>o("hcfCode",f.target.value),required:!0,disabled:!c.companyName,children:[t.jsx("option",{value:"",children:"Select HCF"}),u.map(f=>t.jsxs("option",{value:f.hcfCode,children:[f.hcfCode," - ",f.hcfName]},f.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Invoice Number *"}),t.jsx("input",{type:"text",value:c.invoiceNum||"",onChange:f=>o("invoiceNum",f.target.value),required:!0,placeholder:"e.g., INV-2024-001"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Invoice Date *"}),t.jsx("input",{type:"date",value:c.invoiceDate||"",onChange:f=>o("invoiceDate",f.target.value),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Due Date *"}),t.jsx("input",{type:"date",value:c.dueDate||"",onChange:f=>o("dueDate",f.target.value),required:!0})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Billing Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Billing Type *"}),t.jsxs("select",{value:c.billingType||"",onChange:f=>o("billingType",f.target.value),required:!0,children:[t.jsx("option",{value:"",children:"Select Billing Type"}),t.jsx("option",{value:"Monthly",children:"Monthly"}),t.jsx("option",{value:"Quarterly",children:"Quarterly"}),t.jsx("option",{value:"Yearly",children:"Yearly"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Billing Days"}),t.jsx("input",{type:"text",value:c.billingDays||"",onChange:f=>o("billingDays",f.target.value),placeholder:"Enter billing days"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Bed Count"}),t.jsx("input",{type:"text",value:c.bedCount||"",onChange:f=>o("bedCount",f.target.value),placeholder:"Enter bed count"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Bed Rate"}),t.jsx("input",{type:"text",value:c.bedRate||"",onChange:f=>o("bedRate",f.target.value),placeholder:"Enter bed rate"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Weight in Kg"}),t.jsx("input",{type:"text",value:c.weightInKg||"",onChange:f=>o("weightInKg",f.target.value),placeholder:"Enter weight in kg"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Kg Rate"}),t.jsx("input",{type:"text",value:c.kgRate||"",onChange:f=>o("kgRate",f.target.value),placeholder:"Enter kg rate"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Lumpsum Amount"}),t.jsx("input",{type:"text",value:c.lumpsumAmount||"",onChange:f=>o("lumpsumAmount",f.target.value),placeholder:"Enter lumpsum amount"})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Tax & Amount Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Taxable Value *"}),t.jsx("input",{type:"text",value:c.taxableValue||"",onChange:f=>o("taxableValue",f.target.value),required:!0,placeholder:"Enter taxable value"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"IGST"}),t.jsx("input",{type:"text",value:c.igst||"",onChange:f=>o("igst",f.target.value),placeholder:"Enter IGST"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"CGST"}),t.jsx("input",{type:"text",value:c.cgst||"",onChange:f=>o("cgst",f.target.value),placeholder:"Enter CGST"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"SGST"}),t.jsx("input",{type:"text",value:c.sgst||"",onChange:f=>o("sgst",f.target.value),placeholder:"Enter SGST"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Round Off"}),t.jsx("input",{type:"text",value:c.roundOff||"0",onChange:f=>o("roundOff",f.target.value),placeholder:"Enter round off"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Invoice Value"}),t.jsx("input",{type:"text",value:c.invoiceValue||"",readOnly:!0,style:{backgroundColor:"#f1f5f9",fontWeight:"600"},placeholder:"Auto-calculated"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Total Paid Amount"}),t.jsx("input",{type:"text",value:c.totalPaidAmount||"0",onChange:f=>o("totalPaidAmount",f.target.value),placeholder:"Enter paid amount"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Balance Amount"}),t.jsx("input",{type:"text",value:c.balanceAmount||"",readOnly:!0,style:{backgroundColor:"#f1f5f9",fontWeight:"600"},placeholder:"Auto-calculated"})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:A,children:"Reset"}),t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:a,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:"Save Draft"}),t.jsx("button",{type:"button",className:"btn btn--success",onClick:d,children:"Generate Invoice"})]})]})]})})},Gte=({invoice:r,hcfs:e,onClose:n,onPrint:a})=>{const i=e.find(l=>l.hcfCode===r.hcfCode),s=()=>{alert("Add Receipt functionality will be implemented")},c=()=>{alert("View Receipts functionality will be implemented")};return t.jsx("div",{className:"modal-overlay",onClick:n,children:t.jsxs("div",{className:"modal-content modal-content--view",onClick:l=>l.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsxs("h2",{className:"modal-title",children:["Invoice Details - ",r.invoiceNum]}),t.jsx("button",{className:"modal-close-btn",onClick:n,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("div",{className:"invoice-view-content",children:[t.jsxs("div",{className:"invoice-view-section",children:[t.jsx("h3",{className:"invoice-view-section-title",children:"Basic Information"}),t.jsxs("div",{className:"invoice-view-grid",children:[t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Company Name:"}),t.jsx("span",{children:r.companyName||"-"})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"HCF Code:"}),t.jsx("span",{children:i?`${r.hcfCode} - ${i.hcfName}`:r.hcfCode})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Invoice Number:"}),t.jsx("span",{children:r.invoiceNum||"-"})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Invoice Date:"}),t.jsx("span",{children:r.invoiceDate||"-"})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Due Date:"}),t.jsx("span",{children:r.dueDate||"-"})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Status:"}),t.jsx("span",{className:`invoice-status-badge invoice-status-badge--${r.invoiceStatus.toLowerCase().replace(" ","-")}`,children:r.invoiceStatus})]})]})]}),t.jsxs("div",{className:"invoice-view-section",children:[t.jsx("h3",{className:"invoice-view-section-title",children:"Billing Information"}),t.jsxs("div",{className:"invoice-view-grid",children:[t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Billing Type:"}),t.jsx("span",{children:r.billingType||"-"})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Billing Days:"}),t.jsx("span",{children:r.billingDays||"-"})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Bed Count:"}),t.jsx("span",{children:r.bedCount||"-"})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Bed Rate:"}),t.jsxs("span",{children:["",r.bedRate||"-"]})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Weight in Kg:"}),t.jsxs("span",{children:[r.weightInKg||"-"," kg"]})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Kg Rate:"}),t.jsxs("span",{children:["",r.kgRate||"-"]})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Lumpsum Amount:"}),t.jsxs("span",{children:["",r.lumpsumAmount||"-"]})]})]})]}),t.jsxs("div",{className:"invoice-view-section",children:[t.jsx("h3",{className:"invoice-view-section-title",children:"Tax & Amount Details"}),t.jsxs("div",{className:"invoice-view-grid",children:[t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Taxable Value:"}),t.jsxs("span",{children:["",r.taxableValue||"0"]})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"IGST:"}),t.jsxs("span",{children:["",r.igst||"0"]})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"CGST:"}),t.jsxs("span",{children:["",r.cgst||"0"]})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"SGST:"}),t.jsxs("span",{children:["",r.sgst||"0"]})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Round Off:"}),t.jsxs("span",{children:["",r.roundOff||"0"]})]}),t.jsxs("div",{className:"invoice-view-field invoice-view-field--highlight",children:[t.jsx("label",{children:"Invoice Value:"}),t.jsxs("span",{children:["",r.invoiceValue||"0"]})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Total Paid Amount:"}),t.jsxs("span",{children:["",r.totalPaidAmount||"0"]})]}),t.jsxs("div",{className:"invoice-view-field invoice-view-field--highlight",children:[t.jsx("label",{children:"Balance Amount:"}),t.jsxs("span",{children:["",r.balanceAmount||"0"]})]})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Back"}),(r.invoiceStatus==="Generated"||r.invoiceStatus==="Partially Paid"||r.invoiceStatus==="Paid")&&t.jsxs(t.Fragment,{children:[t.jsx("button",{type:"button",className:"btn btn--info",onClick:c,children:"View Receipts"}),t.jsx("button",{type:"button",className:"btn btn--success",onClick:s,children:"Add Receipt"})]}),t.jsx("button",{type:"button",className:"btn btn--primary",onClick:()=>a(r),children:"Print / Download PDF"})]})]})})},O8=({companies:r,onClose:e,onGenerate:n,loading:a,generationMode:i})=>{const s=new Date,c=s.getMonth()+1,l=s.getFullYear();let u=c-1,o=l;u===0&&(u=12,o=l-1);const[h,d]=k.useState({companyId:"",month:u,year:o,invoiceDate:new Date().toISOString().split("T")[0],generationMode:i,dueDays:30}),A=["January","February","March","April","May","June","July","August","September","October","November","December"],f=g=>{g.preventDefault(),n(h)};return t.jsx("div",{className:"modal-overlay",onClick:e,children:t.jsxs("div",{className:"modal-content",onClick:g=>g.stopPropagation(),style:{maxWidth:"600px"},children:[t.jsxs("div",{className:"modal-header",children:[t.jsxs("h2",{className:"modal-title",children:["Auto Generate Invoices (",i,")"]}),t.jsx("button",{className:"modal-close-btn",onClick:e,children:""})]}),t.jsxs("form",{onSubmit:f,children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company *"}),t.jsxs("select",{required:!0,value:h.companyId,onChange:g=>d({...h,companyId:g.target.value}),children:[t.jsx("option",{value:"",children:"Select Company"}),r.map(g=>t.jsx("option",{value:g.id,children:g.companyName},g.id))]}),t.jsx("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:"Note: Only HCFs with AutoGeneration enabled will be included"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Month *"}),t.jsx("select",{required:!0,value:h.month,onChange:g=>d({...h,month:parseInt(g.target.value)}),children:A.map((g,m)=>t.jsxs("option",{value:m+1,disabled:m+1!==u,children:[g," ",m+1===u?"(Previous Month)":""]},m+1))}),t.jsxs("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:["Only previous month (",A[u-1]," ",o,") can be selected"]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Year *"}),t.jsx("input",{type:"number",required:!0,min:"2000",max:"2100",value:h.year,onChange:g=>d({...h,year:parseInt(g.target.value)}),disabled:!0}),t.jsx("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:"Year is automatically set to previous month's year"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Invoice Date *"}),t.jsx("input",{type:"date",required:!0,value:h.invoiceDate,onChange:g=>d({...h,invoiceDate:g.target.value})}),t.jsx("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:"Enter the invoice date"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Due Days (from invoice date)"}),t.jsx("input",{type:"number",min:"1",value:h.dueDays||30,onChange:g=>d({...h,dueDays:parseInt(g.target.value)||30})})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",onClick:e,disabled:a,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",disabled:a,children:a?"Generating...":`Generate Invoices (${i})`})]})]})]})})},qte=({skipped:r,onClose:e})=>t.jsx("div",{className:"modal-overlay",onClick:e,children:t.jsxs("div",{className:"modal-content",onClick:n=>n.stopPropagation(),style:{maxWidth:"600px"},children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:"Duplicate Invoices Found"}),t.jsx("button",{className:"modal-close-btn",onClick:e,children:""})]}),t.jsxs("div",{style:{padding:"20px"},children:[t.jsx("p",{style:{marginBottom:"16px",color:"#666"},children:"The following HCFs already have invoices for the selected period. These were skipped during generation:"}),t.jsx("div",{style:{maxHeight:"400px",overflowY:"auto"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{background:"#f5f5f5"},children:[t.jsx("th",{style:{padding:"8px",textAlign:"left",borderBottom:"1px solid #ddd"},children:"HCF Code"}),t.jsx("th",{style:{padding:"8px",textAlign:"left",borderBottom:"1px solid #ddd"},children:"Reason"})]})}),t.jsx("tbody",{children:r.map((n,a)=>t.jsxs("tr",{children:[t.jsx("td",{style:{padding:"8px",borderBottom:"1px solid #ddd"},children:n.hcfCode}),t.jsx("td",{style:{padding:"8px",borderBottom:"1px solid #ddd"},children:n.reason})]},a))})]})})]}),t.jsx("div",{className:"modal-footer",children:t.jsx("button",{type:"button",className:"btn btn--primary",onClick:e,children:"OK"})})]})}),Xte=({invoices:r,companies:e,onClose:n,onProcessPayment:a,loading:i})=>{const s=()=>{if(r.length===0)return"";const m=r[0],x=e.find(y=>y.companyName===m.companyName);return(x==null?void 0:x.id)||""},[c,l]=k.useState({companyId:s(),paymentDate:new Date().toISOString().split("T")[0],paymentAmount:0,paymentMode:ni.CASH,referenceNumber:null,bankName:null,chequeNumber:null,chequeDate:null,notes:null,invoiceAllocations:[]}),[u,o]=k.useState("FIFO"),[h,d]=k.useState({}),A=r.reduce((m,x)=>m+parseFloat(x.balanceAmount||"0"),0);k.useEffect(()=>{l(m=>({...m,paymentAmount:u==="FIFO"?A:Object.values(h).reduce((x,y)=>x+y,0)}))},[u,h,A]);const f=m=>{if(m.preventDefault(),c.paymentAmount<=0){alert("Payment amount must be greater than zero");return}const x={...c,invoiceAllocations:u==="FIFO"?[]:r.map(y=>({invoiceId:y.id,allocatedAmount:h[y.id]||0})).filter(y=>y.allocatedAmount>0)};a(x)},g=(m,x)=>{const y=r.find(S=>S.id===m),b=parseFloat((y==null?void 0:y.balanceAmount)||"0"),w=Math.min(Math.max(0,x),b);d(S=>({...S,[m]:w}))};return t.jsx("div",{className:"modal-overlay",onClick:n,children:t.jsxs("div",{className:"modal-content",onClick:m=>m.stopPropagation(),style:{maxWidth:"800px",maxHeight:"90vh",overflowY:"auto"},children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:"Make Payment"}),t.jsx("button",{className:"modal-close-btn",onClick:n,children:""})]}),t.jsxs("form",{onSubmit:f,children:[t.jsxs("div",{style:{marginBottom:"20px",padding:"15px",background:"#f1f5f9",borderRadius:"8px"},children:[t.jsxs("h3",{style:{margin:"0 0 10px 0",fontSize:"14px",fontWeight:600},children:["Selected Invoices (",r.length,")"]}),t.jsx("div",{style:{maxHeight:"150px",overflowY:"auto"},children:t.jsxs("table",{style:{width:"100%",fontSize:"12px"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{borderBottom:"1px solid #e2e8f0"},children:[t.jsx("th",{style:{padding:"8px",textAlign:"left"},children:"Invoice #"}),t.jsx("th",{style:{padding:"8px",textAlign:"right"},children:"Invoice Value"}),t.jsx("th",{style:{padding:"8px",textAlign:"right"},children:"Paid"}),t.jsx("th",{style:{padding:"8px",textAlign:"right"},children:"Balance"})]})}),t.jsx("tbody",{children:r.map(m=>t.jsxs("tr",{children:[t.jsx("td",{style:{padding:"8px"},children:m.invoiceNum}),t.jsxs("td",{style:{padding:"8px",textAlign:"right"},children:["",parseFloat(m.invoiceValue||"0").toFixed(2)]}),t.jsxs("td",{style:{padding:"8px",textAlign:"right"},children:["",parseFloat(m.totalPaidAmount||"0").toFixed(2)]}),t.jsxs("td",{style:{padding:"8px",textAlign:"right",fontWeight:600},children:["",parseFloat(m.balanceAmount||"0").toFixed(2)]})]},m.id))}),t.jsx("tfoot",{children:t.jsxs("tr",{style:{borderTop:"2px solid #cbd5e1",fontWeight:600},children:[t.jsx("td",{style:{padding:"8px"},children:"Total Payable:"}),t.jsxs("td",{colSpan:3,style:{padding:"8px",textAlign:"right"},children:["",A.toFixed(2)]})]})})]})})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Payment Details"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company *"}),t.jsxs("select",{required:!0,value:c.companyId,onChange:m=>l({...c,companyId:m.target.value}),children:[t.jsx("option",{value:"",children:"Select Company"}),e.map(m=>t.jsx("option",{value:m.id,children:m.companyName},m.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Payment Date *"}),t.jsx("input",{type:"date",required:!0,value:c.paymentDate,onChange:m=>l({...c,paymentDate:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Payment Mode *"}),t.jsxs("select",{required:!0,value:c.paymentMode,onChange:m=>l({...c,paymentMode:m.target.value}),children:[t.jsx("option",{value:ni.CASH,children:"Cash"}),t.jsx("option",{value:ni.CHEQUE,children:"Cheque"}),t.jsx("option",{value:ni.BANK_TRANSFER,children:"Bank Transfer"}),t.jsx("option",{value:ni.UPI,children:"UPI"}),t.jsx("option",{value:ni.NEFT,children:"NEFT"}),t.jsx("option",{value:ni.RTGS,children:"RTGS"}),t.jsx("option",{value:ni.OTHER,children:"Other"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Payment Amount *"}),t.jsx("input",{type:"number",required:!0,min:"0.01",step:"0.01",value:c.paymentAmount,onChange:m=>l({...c,paymentAmount:parseFloat(m.target.value)||0}),disabled:u==="FIFO"}),u==="FIFO"&&t.jsx("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:"Auto-calculated from selected invoices (FIFO allocation)"})]}),(c.paymentMode===ni.CHEQUE||c.paymentMode===ni.BANK_TRANSFER||c.paymentMode===ni.NEFT||c.paymentMode===ni.RTGS)&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Reference Number"}),t.jsx("input",{type:"text",value:c.referenceNumber||"",onChange:m=>l({...c,referenceNumber:m.target.value||null}),placeholder:"Transaction/Reference number"})]}),c.paymentMode===ni.CHEQUE&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Bank Name"}),t.jsx("input",{type:"text",value:c.bankName||"",onChange:m=>l({...c,bankName:m.target.value||null}),placeholder:"Bank name"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Cheque Number"}),t.jsx("input",{type:"text",value:c.chequeNumber||"",onChange:m=>l({...c,chequeNumber:m.target.value||null}),placeholder:"Cheque number"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Cheque Date"}),t.jsx("input",{type:"date",value:c.chequeDate||"",onChange:m=>l({...c,chequeDate:m.target.value||null})})]})]})]}),t.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[t.jsx("label",{children:"Notes"}),t.jsx("textarea",{value:c.notes||"",onChange:m=>l({...c,notes:m.target.value||null}),placeholder:"Payment notes (optional)",rows:3})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Allocation Mode"}),t.jsx("div",{style:{marginBottom:"15px"},children:t.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",cursor:"pointer"},children:[t.jsx("input",{type:"radio",name:"allocationMode",value:"FIFO",checked:u==="FIFO",onChange:m=>o(m.target.value)}),t.jsx("span",{children:"FIFO (First In, First Out) - Automatically allocate to oldest invoices first"})]})}),t.jsx("div",{children:t.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",cursor:"pointer"},children:[t.jsx("input",{type:"radio",name:"allocationMode",value:"Manual",checked:u==="Manual",onChange:m=>o(m.target.value)}),t.jsx("span",{children:"Manual - Specify allocation amounts for each invoice"})]})}),u==="Manual"&&t.jsxs("div",{style:{marginTop:"15px",padding:"15px",background:"#f8fafc",borderRadius:"8px"},children:[t.jsx("h4",{style:{margin:"0 0 10px 0",fontSize:"13px",fontWeight:600},children:"Manual Allocation"}),t.jsx("div",{style:{maxHeight:"200px",overflowY:"auto"},children:r.map(m=>{const x=parseFloat(m.balanceAmount||"0"),y=h[m.id]||0;return t.jsxs("div",{style:{marginBottom:"10px",padding:"10px",background:"#ffffff",borderRadius:"6px",border:"1px solid #e2e8f0"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"5px"},children:[t.jsx("span",{style:{fontSize:"12px",fontWeight:600},children:m.invoiceNum}),t.jsxs("span",{style:{fontSize:"12px",color:"#64748b"},children:["Balance: ",x.toFixed(2)]})]}),t.jsx("input",{type:"number",min:"0",max:x,step:"0.01",value:y,onChange:b=>g(m.id,parseFloat(b.target.value)||0),placeholder:"0.00",style:{width:"100%",padding:"6px",border:"1px solid #cbd5e1",borderRadius:"4px"}})]},m.id)})}),t.jsxs("div",{style:{marginTop:"10px",padding:"10px",background:"#dbeafe",borderRadius:"6px",fontSize:"12px"},children:[t.jsx("strong",{children:"Total Allocated:"})," ",Object.values(h).reduce((m,x)=>m+x,0).toFixed(2)]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",onClick:n,disabled:i,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",disabled:i,children:i?"Processing...":"Process Payment"})]})]})]})})},Yte=({invoice:r,onClose:e,onSubmit:n,loading:a})=>{const[i,s]=k.useState({invoiceId:r.id,paymentDate:new Date().toISOString().split("T")[0],paymentAmount:parseFloat(r.balanceAmount||"0"),paymentMode:ni.CASH,referenceNumber:null,bankName:null,chequeNumber:null,chequeDate:null,notes:null}),c=async l=>{l.preventDefault();const u=parseFloat(r.balanceAmount||"0");if(i.paymentAmount>u){alert(`Payment amount cannot exceed invoice balance of ${u.toFixed(2)}`);return}if(i.paymentAmount<=0){alert("Payment amount must be greater than zero");return}await n(i)};return t.jsx("div",{className:"modal-overlay",onClick:e,children:t.jsxs("div",{className:"modal-content",onClick:l=>l.stopPropagation(),style:{maxWidth:"600px"},children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:"Record Payment"}),t.jsx("button",{className:"modal-close-btn",onClick:e,children:""})]}),t.jsxs("form",{onSubmit:c,children:[t.jsxs("div",{style:{marginBottom:"20px",padding:"15px",background:"#f1f5f9",borderRadius:"8px"},children:[t.jsx("h3",{style:{margin:"0 0 10px 0",fontSize:"14px",fontWeight:600},children:"Invoice Details"}),t.jsxs("div",{style:{fontSize:"12px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[t.jsx("span",{children:"Invoice #:"}),t.jsx("span",{style:{fontWeight:600},children:r.invoiceNum})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[t.jsx("span",{children:"Invoice Value:"}),t.jsxs("span",{children:["",parseFloat(r.invoiceValue||"0").toFixed(2)]})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[t.jsx("span",{children:"Paid Amount:"}),t.jsxs("span",{children:["",parseFloat(r.totalPaidAmount||"0").toFixed(2)]})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",borderTop:"1px solid #cbd5e1",paddingTop:"5px",marginTop:"5px"},children:[t.jsx("span",{style:{fontWeight:600},children:"Balance Amount:"}),t.jsxs("span",{style:{fontWeight:600,color:"#dc2626"},children:["",parseFloat(r.balanceAmount||"0").toFixed(2)]})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Payment Details"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Payment Date *"}),t.jsx("input",{type:"date",required:!0,value:i.paymentDate,onChange:l=>s({...i,paymentDate:l.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Payment Mode *"}),t.jsxs("select",{required:!0,value:i.paymentMode,onChange:l=>s({...i,paymentMode:l.target.value}),children:[t.jsx("option",{value:ni.CASH,children:"Cash"}),t.jsx("option",{value:ni.CHEQUE,children:"Cheque"}),t.jsx("option",{value:ni.NEFT,children:"NEFT"}),t.jsx("option",{value:ni.RTGS,children:"RTGS"}),t.jsx("option",{value:ni.BANK_TRANSFER,children:"Bank Transfer"}),t.jsx("option",{value:ni.UPI,children:"UPI"}),t.jsx("option",{value:ni.OTHER,children:"Other"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Payment Amount *"}),t.jsx("input",{type:"number",required:!0,min:"0.01",step:"0.01",max:parseFloat(r.balanceAmount||"0"),value:i.paymentAmount,onChange:l=>s({...i,paymentAmount:parseFloat(l.target.value)||0})}),t.jsxs("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:["Maximum: ",parseFloat(r.balanceAmount||"0").toFixed(2)]})]}),(i.paymentMode===ni.CHEQUE||i.paymentMode===ni.BANK_TRANSFER||i.paymentMode===ni.NEFT||i.paymentMode===ni.RTGS)&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Reference Number"}),t.jsx("input",{type:"text",value:i.referenceNumber||"",onChange:l=>s({...i,referenceNumber:l.target.value||null}),placeholder:"Transaction/Reference number"})]}),i.paymentMode===ni.CHEQUE&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Bank Name"}),t.jsx("input",{type:"text",value:i.bankName||"",onChange:l=>s({...i,bankName:l.target.value||null}),placeholder:"Bank name"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Cheque Number"}),t.jsx("input",{type:"text",value:i.chequeNumber||"",onChange:l=>s({...i,chequeNumber:l.target.value||null}),placeholder:"Cheque number"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Cheque Date"}),t.jsx("input",{type:"date",value:i.chequeDate||"",onChange:l=>s({...i,chequeDate:l.target.value||null})})]})]})]}),t.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[t.jsx("label",{children:"Notes"}),t.jsx("textarea",{value:i.notes||"",onChange:l=>s({...i,notes:l.target.value||null}),placeholder:"Payment notes (optional)",rows:3})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn-secondary",onClick:e,disabled:a,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a,children:a?"Recording...":"Record Payment"})]})]})]})})},Zte=({receiptData:r,onClose:e})=>t.jsx("div",{className:"modal-overlay",onClick:e,children:t.jsxs("div",{className:"modal-content",onClick:n=>n.stopPropagation(),style:{maxWidth:"700px"},children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:"Payment Receipt"}),t.jsx("button",{className:"modal-close-btn",onClick:e,children:""})]}),t.jsxs("div",{style:{padding:"20px"},children:[t.jsxs("div",{style:{textAlign:"center",marginBottom:"30px",padding:"20px",background:"#f1f5f9",borderRadius:"8px"},children:[t.jsx("h3",{style:{margin:"0 0 10px 0",color:"#1e293b"},children:"Payment Receipt"}),t.jsxs("p",{style:{margin:"0",fontSize:"18px",fontWeight:600,color:"#059669"},children:["Receipt #: ",r.receiptNumber]})]}),t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 0",borderBottom:"1px solid #e2e8f0"},children:[t.jsx("span",{style:{fontWeight:600},children:"Receipt Date:"}),t.jsx("span",{children:r.receiptDate})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 0",borderBottom:"1px solid #e2e8f0"},children:[t.jsx("span",{style:{fontWeight:600},children:"Total Amount:"}),t.jsxs("span",{style:{fontSize:"18px",fontWeight:700,color:"#059669"},children:["",r.totalAmount.toFixed(2)]})]}),r.payment&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 0",borderBottom:"1px solid #e2e8f0"},children:[t.jsx("span",{style:{fontWeight:600},children:"Payment Mode:"}),t.jsx("span",{children:r.payment.paymentMode})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 0",borderBottom:"1px solid #e2e8f0"},children:[t.jsx("span",{style:{fontWeight:600},children:"Payment Date:"}),t.jsx("span",{children:r.payment.paymentDate})]})]})]}),r.invoices&&r.invoices.length>0&&t.jsxs("div",{style:{marginTop:"20px"},children:[t.jsx("h4",{style:{margin:"0 0 10px 0",fontSize:"14px",fontWeight:600},children:"Invoices Paid:"}),t.jsxs("table",{style:{width:"100%",fontSize:"12px",borderCollapse:"collapse"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{background:"#f1f5f9",borderBottom:"2px solid #cbd5e1"},children:[t.jsx("th",{style:{padding:"8px",textAlign:"left"},children:"Invoice #"}),t.jsx("th",{style:{padding:"8px",textAlign:"right"},children:"Amount"})]})}),t.jsx("tbody",{children:r.invoices.map((n,a)=>t.jsxs("tr",{style:{borderBottom:"1px solid #e2e8f0"},children:[t.jsx("td",{style:{padding:"8px"},children:n.invoiceNumber}),t.jsxs("td",{style:{padding:"8px",textAlign:"right"},children:["",n.allocatedAmount.toFixed(2)]})]},a))})]})]}),t.jsx("div",{style:{marginTop:"30px",padding:"15px",background:"#dbeafe",borderRadius:"8px",textAlign:"center"},children:t.jsxs("p",{style:{margin:"0",fontSize:"14px",color:"#1e40af"},children:["Payment processed successfully! Receipt number: ",t.jsx("strong",{children:r.receiptNumber})]})})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--primary",onClick:e,children:"Close"}),t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:()=>window.print(),style:{marginLeft:"10px"},children:"Print Receipt"})]})]})}),Jte=()=>{var Y;const{logout:r}=da(),e=Ka(),[n]=YN(),a=n.get("invoices")||"",i=a.split(",").filter(P=>P),[s,c]=k.useState([]),[l,u]=k.useState([]),[o,h]=k.useState(!1),[d,A]=k.useState(null),[f,g]=k.useState(null),[m,x]=k.useState({companyId:"",paymentDate:new Date().toISOString().split("T")[0],paymentAmount:0,paymentMode:ni.CASH,referenceNumber:null,bankName:null,chequeNumber:null,chequeDate:null,notes:null,invoiceAllocations:[]}),[y,b]=k.useState(!1),[w,S]=k.useState(!1),N=k.useRef(0),C=k.useRef(null);k.useEffect(()=>{O()},[a]);const O=async()=>{var P,ce;if(i.length===0){A("No invoices selected");return}h(!0),A(null);try{const $=await Ha.getAllCompanies();u($.filter(Ie=>Ie.status==="Active"));const se=(await _F()).filter(Ie=>i.includes(Ie.invoiceId));if(se.length===0){A("Selected invoices not found");return}const fe=se.map(Ie=>({id:Ie.invoiceId,invoiceId:Ie.invoiceId,companyId:Ie.companyId,companyName:Ie.companyName,hcfId:Ie.hcfId,hcfCode:Ie.hcfCode,invoiceNum:Ie.invoiceNumber,invoiceDate:Ie.invoiceDate,dueDate:Ie.dueDate,invoiceValue:Ie.invoiceValue,totalPaidAmount:Ie.totalPaidAmount,balanceAmount:Ie.balanceAmount,invoiceStatus:Ie.status}));c(fe),fe.length>0&&fe[0].companyId&&x(Ie=>({...Ie,companyId:fe[0].companyId}));const Te=fe.reduce((Ie,_e)=>Ie+parseFloat(_e.balanceAmount||"0"),0);N.current=Te,x(Ie=>({...Ie,paymentAmount:Te}))}catch($){console.error("Error loading data:",$);let R="Failed to load invoice data";$.message?R=$.message:(ce=(P=$.response)==null?void 0:P.data)!=null&&ce.message?R=$.response.data.message:typeof $=="string"&&(R=$),(R.includes("Internal server error")||R.includes("500"))&&(R="Internal server error. Please check the backend logs or try again later."),A(R)}finally{h(!1)}},W=s.reduce((P,ce)=>P+parseFloat(ce.balanceAmount||"0"),0),K=async P=>{var $;P.preventDefault();let ce=0;if(C.current){const R=C.current.value;ce=R?parseFloat(R):0}if((!ce||ce<=0)&&(ce=N.current>0?N.current:m.paymentAmount),ce=Number(ce),console.log("=== Form Submit Debug ==="),console.log("Input Field Value:",($=C.current)==null?void 0:$.value),console.log("Payment Amount Ref:",N.current),console.log("Form Data Payment Amount:",m.paymentAmount),console.log("Current Amount:",ce),ce>W){A(`Payment amount (${ce.toFixed(2)}) cannot exceed total payable (${W.toFixed(2)})`);return}if(ce<=0||isNaN(ce)){A("Payment amount must be greater than zero"),ce=W,N.current=W,x(R=>({...R,paymentAmount:W})),C.current&&(C.current.value=W.toString());return}N.current=ce,x(R=>({...R,paymentAmount:ce})),C.current&&(C.current.value=ce.toString()),b(!0)},te=async()=>{var P,ce,$;b(!1),S(!0),h(!0),A(null),g(null);try{let R=0;if(C.current){const _e=C.current.value;R=_e?parseFloat(_e):0,console.log("Reading from input field:",_e,"->",R)}if((!R||R<=0)&&(R=N.current>0?N.current:m.paymentAmount,console.log("Using fallback - Ref:",N.current,"FormData:",m.paymentAmount)),R=Number(R),console.log("=== Payment Processing Debug ==="),console.log("Input Field Value:",(P=C.current)==null?void 0:P.value),console.log("Payment Amount Ref:",N.current),console.log("Form Data Payment Amount:",m.paymentAmount),console.log("Final Payment Amount:",R),console.log("Total Payable:",W),!R||R<=0||isNaN(R)){A(`Invalid payment amount: ${R}. Please enter a valid amount greater than zero.`),S(!1),h(!1);return}if(R>W){A(`Payment amount (${R.toFixed(2)}) cannot exceed total payable (${W.toFixed(2)})`),S(!1),h(!1);return}const se=s.map(_e=>({invoiceId:_e.id,allocatedAmount:0})),fe={companyId:m.companyId||"",paymentDate:m.paymentDate||new Date().toISOString().split("T")[0],paymentAmount:R,paymentMode:m.paymentMode||ni.CASH,referenceNumber:m.referenceNumber||null,bankName:m.bankName||null,chequeNumber:m.chequeNumber||null,chequeDate:m.chequeDate||null,notes:m.notes||null,invoiceAllocations:se},Te=Number(fe.paymentAmount);if(!Te||Te<=0||isNaN(Te)){console.error("=== PAYMENT AMOUNT VALIDATION FAILED ==="),console.error("Payment Request:",fe),console.error("Payment Amount:",fe.paymentAmount),console.error("Final Payment Amount:",Te),A(`Invalid payment amount: ${fe.paymentAmount}. Cannot proceed. Please check the amount and try again.`),S(!1),h(!1);return}fe.paymentAmount=Te,console.log("=== Final Payment Request ==="),console.log("Payment Request Object:",fe),console.log("Payment Amount Type:",typeof fe.paymentAmount),console.log("Payment Amount Value:",fe.paymentAmount),console.log("Payment Amount is Number?",!isNaN(fe.paymentAmount)),console.log("JSON Stringified:",JSON.stringify(fe,null,2)),console.log("JSON paymentAmount value:",JSON.stringify(fe).match(/"paymentAmount":\s*([^,}]+)/));const Ie=await OF(fe);e("/finance/payment-success",{state:{receiptNumber:Ie.receipt.receiptNumber,receiptId:Ie.receipt.receiptId,totalAmount:Ie.receipt.totalAmount,receiptDate:Ie.receipt.receiptDate,invoiceUpdates:Ie.invoiceUpdates}})}catch(R){console.error("Error processing payment:",R);let se="Failed to process payment";R.message?se=R.message:($=(ce=R.response)==null?void 0:ce.data)!=null&&$.message?se=R.response.data.message:typeof R=="string"&&(se=R),(se.includes("Internal server error")||se.includes("500"))&&(se="Internal server error. Please check the backend logs or try again later."),A(se),S(!1)}finally{h(!1)}},q=()=>{e("/finance/invoice-management")};return i.length===0?t.jsxs("div",{style:{padding:"40px",textAlign:"center"},children:[t.jsx("h2",{children:"No invoices selected"}),t.jsx("p",{children:"Please select invoices from the Invoice Management page."}),t.jsx("button",{onClick:q,style:{marginTop:"20px",padding:"10px 20px"},children:"Back to Invoice Management"})]}):t.jsx("div",{className:"payment-page",style:{minHeight:"100vh",background:"#F8FAFC",padding:"24px",display:"flex",justifyContent:"center"},children:t.jsxs("div",{style:{maxWidth:"950px",width:"100%",margin:"0 auto"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"32px"},children:[t.jsxs("button",{onClick:q,style:{padding:"8px 16px",background:"#FFFFFF",border:"1px solid #E2E8F0",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:500,color:"#475569",display:"flex",alignItems:"center",gap:"6px",transition:"all 0.2s ease"},onMouseEnter:P=>{P.currentTarget.style.background="#F1F5F9",P.currentTarget.style.borderColor="#CBD5E1"},onMouseLeave:P=>{P.currentTarget.style.background="#FFFFFF",P.currentTarget.style.borderColor="#E2E8F0"},children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"15 18 9 12 15 6"})}),"Back"]}),t.jsx("h1",{style:{margin:0,fontSize:"24px",fontWeight:600,color:"#1F2937"},children:"Process Payment"})]}),d&&t.jsxs("div",{className:"alert alert-error",style:{marginBottom:"24px",padding:"12px 16px",background:"#FEF2F2",border:"1px solid #FECACA",borderRadius:"8px",color:"#DC2626"},children:[d,t.jsx("button",{onClick:()=>A(null),style:{float:"right",background:"none",border:"none",cursor:"pointer",fontSize:"18px",color:"#DC2626",padding:"0",marginLeft:"12px"},children:""})]}),f&&t.jsx("div",{className:"alert alert-success",style:{marginBottom:"24px",padding:"12px 16px",background:"#F0FDF4",border:"1px solid #BBF7D0",borderRadius:"8px",color:"#059669"},children:f}),t.jsxs("form",{onSubmit:K,children:[t.jsxs("div",{style:{marginBottom:"32px",padding:"20px",background:"#F1F5F9",borderRadius:"8px",borderLeft:"4px solid #10b981"},children:[t.jsxs("h3",{style:{margin:"0 0 16px 0",fontSize:"16px",fontWeight:600,color:"#1F2937"},children:["Selected Invoices (",s.length,")"]}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",marginBottom:"16px"},children:s.map(P=>t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",padding:"12px",background:"#FFFFFF",borderRadius:"6px",border:"1px solid #E2E8F0"},children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",fontWeight:500},children:"Invoice #"}),t.jsx("div",{style:{fontSize:"14px",color:"#1F2937",fontWeight:600,textAlign:"right"},children:P.invoiceNum}),t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",fontWeight:500},children:"Balance"}),t.jsxs("div",{style:{fontSize:"14px",color:"#059669",fontWeight:700,textAlign:"right"},children:["",parseFloat(P.balanceAmount||"0").toFixed(2)]})]},P.id))}),t.jsxs("div",{style:{padding:"16px",background:"#FFFFFF",borderRadius:"6px",border:"2px solid #10b981",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("span",{style:{fontSize:"16px",fontWeight:600,color:"#1F2937"},children:"Total Payable:"}),t.jsxs("span",{style:{fontSize:"24px",fontWeight:700,color:"#059669",letterSpacing:"-0.02em"},children:["",W.toFixed(2)]})]})]}),t.jsxs("div",{style:{marginBottom:"32px"},children:[t.jsx("h3",{style:{marginBottom:"20px",fontSize:"18px",fontWeight:600,color:"#1F2937"},children:"Payment Details"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"20px"},children:[t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Company *"}),t.jsx("input",{type:"text",value:((Y=l.find(P=>P.id===m.companyId))==null?void 0:Y.companyName)||"",readOnly:!0,disabled:!0,style:{width:"100%",padding:"10px 12px",background:"#F3F4F6",border:"1px solid #D1D5DB",borderRadius:"6px",cursor:"not-allowed",fontSize:"14px",color:"#6B7280"}}),t.jsx("small",{style:{display:"block",marginTop:"6px",color:"#6B7280",fontSize:"12px",fontStyle:"italic"},children:"Company is derived from selected invoices"})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Payment Date *"}),t.jsx("input",{type:"date",required:!0,value:m.paymentDate,onChange:P=>x(ce=>({...ce,paymentDate:P.target.value})),style:{width:"100%",padding:"10px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",color:"#1F2937"}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Payment Mode *"}),t.jsxs("select",{required:!0,value:m.paymentMode,onChange:P=>x(ce=>({...ce,paymentMode:P.target.value})),style:{width:"100%",padding:"10px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",color:"#1F2937",background:"#FFFFFF",cursor:"pointer"},children:[t.jsx("option",{value:ni.CASH,children:"Cash"}),t.jsx("option",{value:ni.CHEQUE,children:"Cheque"}),t.jsx("option",{value:ni.NEFT,children:"NEFT"}),t.jsx("option",{value:ni.RTGS,children:"RTGS"}),t.jsx("option",{value:ni.BANK_TRANSFER,children:"Bank Transfer"}),t.jsx("option",{value:ni.UPI,children:"UPI"}),t.jsx("option",{value:ni.OTHER,children:"Other"})]})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Payment Amount *"}),t.jsx("input",{ref:C,type:"number",required:!0,min:"0.01",step:"0.01",max:W,value:m.paymentAmount>0?m.paymentAmount:"",onChange:P=>{const ce=P.target.value.trim();if(ce===""){x(R=>({...R,paymentAmount:0})),A(null);return}const $=parseFloat(ce);if(isNaN($)){x(R=>({...R,paymentAmount:0}));return}if($<0){x(R=>({...R,paymentAmount:0}));return}$>W?A(`Payment amount cannot exceed total payable of ${W.toFixed(2)}`):A(null),N.current=$,x(R=>({...R,paymentAmount:$})),console.log("Payment amount updated to:",$)},onBlur:P=>{const ce=P.target.value.trim();if(ce===""){N.current=W,x(R=>({...R,paymentAmount:W}));return}const $=parseFloat(ce);isNaN($)||$<=0?(N.current=W,x(R=>({...R,paymentAmount:W}))):(N.current=$,x(R=>({...R,paymentAmount:$})))},style:{width:"100%",padding:"12px",border:"2px solid #10b981",borderRadius:"6px",fontSize:"16px",fontWeight:600,color:"#1F2937",background:"#FFFFFF"}}),t.jsxs("small",{style:{display:"block",marginTop:"6px",color:"#6B7280",fontSize:"12px"},children:["Maximum: ",W.toFixed(2)," (supports partial payments)"]})]}),(m.paymentMode===ni.CHEQUE||m.paymentMode===ni.BANK_TRANSFER||m.paymentMode===ni.NEFT||m.paymentMode===ni.RTGS)&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("label",{children:"Reference Number"}),t.jsx("input",{type:"text",value:m.referenceNumber||"",onChange:P=>x({...m,referenceNumber:P.target.value||null}),placeholder:"Transaction/Reference number"})]}),m.paymentMode===ni.CHEQUE&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("label",{children:"Bank Name"}),t.jsx("input",{type:"text",value:m.bankName||"",onChange:P=>x({...m,bankName:P.target.value||null}),placeholder:"Bank name"})]}),t.jsxs("div",{children:[t.jsx("label",{children:"Cheque Number"}),t.jsx("input",{type:"text",value:m.chequeNumber||"",onChange:P=>x({...m,chequeNumber:P.target.value||null}),placeholder:"Cheque number"})]}),t.jsxs("div",{children:[t.jsx("label",{children:"Cheque Date"}),t.jsx("input",{type:"date",value:m.chequeDate||"",onChange:P=>x({...m,chequeDate:P.target.value||null})})]})]})]}),(m.paymentMode===ni.CHEQUE||m.paymentMode===ni.BANK_TRANSFER||m.paymentMode===ni.NEFT||m.paymentMode===ni.RTGS)&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{gridColumn:"1 / -1"},children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Reference Number"}),t.jsx("input",{type:"text",value:m.referenceNumber||"",onChange:P=>x({...m,referenceNumber:P.target.value||null}),placeholder:"Transaction/Reference number",style:{width:"100%",padding:"10px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",color:"#1F2937"}})]}),m.paymentMode===ni.CHEQUE&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Bank Name"}),t.jsx("input",{type:"text",value:m.bankName||"",onChange:P=>x({...m,bankName:P.target.value||null}),placeholder:"Bank name",style:{width:"100%",padding:"10px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",color:"#1F2937"}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Cheque Number"}),t.jsx("input",{type:"text",value:m.chequeNumber||"",onChange:P=>x({...m,chequeNumber:P.target.value||null}),placeholder:"Cheque number",style:{width:"100%",padding:"10px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",color:"#1F2937"}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Cheque Date"}),t.jsx("input",{type:"date",value:m.chequeDate||"",onChange:P=>x({...m,chequeDate:P.target.value||null}),style:{width:"100%",padding:"10px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",color:"#1F2937"}})]})]})]}),t.jsxs("div",{style:{gridColumn:"1 / -1"},children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Notes"}),t.jsx("textarea",{value:m.notes||"",onChange:P=>x({...m,notes:P.target.value||null}),placeholder:"Payment notes (optional)",rows:3,style:{width:"100%",padding:"10px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",color:"#1F2937",fontFamily:"inherit",resize:"vertical"}})]})]})]}),t.jsxs("div",{style:{marginBottom:"32px",padding:"16px",background:"#F1F5F9",borderRadius:"8px",border:"1px solid #E2E8F0"},children:[t.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:"14px",fontWeight:600,color:"#1F2937"},children:"Allocation Mode"}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",color:"#6B7280",fontSize:"14px"},children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("path",{d:"M12 16v-4M12 8h.01"})]}),t.jsx("span",{children:"FIFO (First In, First Out) - Payment will be automatically allocated to oldest invoices first"})]})]}),t.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end",paddingTop:"24px",borderTop:"1px solid #E2E8F0"},children:[t.jsx("button",{type:"button",onClick:q,disabled:o||w,style:{padding:"12px 24px",background:"#FFFFFF",border:"1px solid #D1D5DB",borderRadius:"8px",cursor:o||w?"not-allowed":"pointer",fontSize:"14px",fontWeight:500,color:"#475569",transition:"all 0.2s ease"},children:"Cancel"}),t.jsx("button",{type:"submit",disabled:o||w,style:{padding:"12px 32px",background:w?"#94a3b8":"#10b981",color:"#FFFFFF",border:"none",borderRadius:"8px",cursor:w?"not-allowed":"pointer",fontSize:"15px",fontWeight:600,transition:"all 0.2s ease",boxShadow:w?"none":"0 2px 4px rgba(16, 185, 129, 0.2)"},onMouseEnter:P=>{!w&&!o&&(P.currentTarget.style.background="#059669",P.currentTarget.style.transform="translateY(-1px)",P.currentTarget.style.boxShadow="0 4px 8px rgba(16, 185, 129, 0.3)")},onMouseLeave:P=>{!w&&!o&&(P.currentTarget.style.background="#10b981",P.currentTarget.style.transform="translateY(0)",P.currentTarget.style.boxShadow="0 2px 4px rgba(16, 185, 129, 0.2)")},children:w?"Processing...":o?"Loading...":"Process Payment"})]})]}),y&&t.jsx("div",{className:"modal-overlay",onClick:()=>!w&&b(!1),style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:t.jsxs("div",{className:"modal-content",onClick:P=>P.stopPropagation(),style:{background:"#fff",padding:"24px",borderRadius:"8px",maxWidth:"500px",width:"90%"},children:[t.jsx("h2",{style:{margin:"0 0 16px 0",fontSize:"20px",fontWeight:600},children:"Confirm Payment"}),t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("p",{style:{margin:"0 0 12px 0",color:"#dc2626",fontWeight:600},children:"This action cannot be undone."}),t.jsxs("p",{style:{margin:"0 0 8px 0",fontSize:"14px"},children:["You are about to process a payment of ",t.jsxs("strong",{children:["",m.paymentAmount.toFixed(2)]}),"."]}),t.jsx("p",{style:{margin:"0",fontSize:"14px",color:"#64748b"},children:"Payment will be allocated using FIFO (First In, First Out) method to the selected invoices."})]}),t.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[t.jsx("button",{type:"button",onClick:()=>b(!1),disabled:w,style:{padding:"10px 20px",background:"#f1f5f9",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer"},children:"Cancel"}),t.jsx("button",{type:"button",onClick:te,disabled:w,style:{padding:"10px 24px",background:"#dc2626",color:"#fff",border:"none",borderRadius:"6px",cursor:w?"not-allowed":"pointer",fontWeight:600},children:w?"Processing...":"Confirm & Process Payment"})]})]})})]})})},ere=()=>{const r=Tn(),e=Ka(),n=r.state;k.useEffect(()=>{if(!(n!=null&&n.receiptId)){e("/finance/invoice-management");return}},[n,e]);const a=()=>{window.print()},i=()=>{e("/finance/invoice-management")};return n?t.jsxs("div",{className:"payment-success-page",children:[t.jsx("div",{className:"payment-success-header",children:t.jsxs("div",{style:{textAlign:"center",marginBottom:"30px"},children:[t.jsx("div",{style:{width:"64px",height:"64px",borderRadius:"50%",background:"#d1fae5",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px",fontSize:"32px"},children:""}),t.jsx("h1",{style:{margin:"0 0 8px 0",fontSize:"28px",fontWeight:600,color:"#059669"},children:"Payment Successful"}),t.jsx("p",{style:{margin:0,color:"#64748b",fontSize:"14px"},children:"Your payment has been processed successfully"})]})}),t.jsxs("div",{className:"payment-success-content",children:[t.jsxs("div",{className:"success-card receipt-card",children:[t.jsx("h2",{style:{margin:"0 0 24px 0",fontSize:"18px",fontWeight:600,color:"#1e293b"},children:"Payment Receipt"}),t.jsxs("div",{style:{display:"grid",gap:"16px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0"},children:[t.jsx("span",{style:{color:"#64748b",fontSize:"14px",fontWeight:500},children:"Receipt Number"}),t.jsx("span",{style:{fontWeight:600,fontSize:"15px",color:"#1e293b",letterSpacing:"0.3px"},children:n.receiptNumber})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",borderTop:"1px solid #e2e8f0",borderBottom:"1px solid #e2e8f0"},children:[t.jsx("span",{style:{color:"#64748b",fontSize:"14px",fontWeight:500},children:"Receipt Date"}),t.jsx("span",{style:{fontSize:"14px",color:"#334155",fontWeight:500},children:n.receiptDate})]}),t.jsx("div",{className:"amount-received-section",children:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px 0"},children:[t.jsx("span",{style:{color:"#1e293b",fontSize:"16px",fontWeight:600},children:"Amount Received"}),t.jsxs("span",{className:"amount-value",children:["",n.totalAmount.toFixed(2)]})]})})]})]}),t.jsxs("div",{className:"success-card settlement-card",children:[t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("h2",{style:{margin:"0 0 8px 0",fontSize:"18px",fontWeight:600,color:"#1e293b"},children:"Invoice Settlement Status"}),t.jsx("p",{style:{margin:0,fontSize:"13px",color:"#64748b",lineHeight:"1.5"},children:"Partial payments are automatically allocated using FIFO (oldest invoices first). Remaining balances will carry forward for future payments."})]}),t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{borderBottom:"2px solid #e2e8f0"},children:[t.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"13px",fontWeight:600,color:"#475569",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Invoice #"}),t.jsx("th",{style:{padding:"12px",textAlign:"right",fontSize:"13px",fontWeight:600,color:"#475569",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Amount Paid"}),t.jsx("th",{style:{padding:"12px",textAlign:"right",fontSize:"13px",fontWeight:600,color:"#475569",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Remaining Balance"}),t.jsx("th",{style:{padding:"12px",textAlign:"center",fontSize:"13px",fontWeight:600,color:"#475569",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Settlement Status"})]})}),t.jsx("tbody",{children:n.invoiceUpdates.map(s=>t.jsxs("tr",{style:{borderBottom:"1px solid #e2e8f0"},children:[t.jsx("td",{style:{padding:"14px 12px",fontSize:"14px",color:"#1e293b",fontWeight:500},children:s.invoiceNumber}),t.jsxs("td",{style:{padding:"14px 12px",textAlign:"right",fontSize:"15px",fontWeight:600,color:"#059669"},children:["",s.totalPaidAmount.toFixed(2)]}),t.jsxs("td",{style:{padding:"14px 12px",textAlign:"right",fontSize:"15px",fontWeight:600,color:s.balanceAmount>0?"#dc2626":"#059669"},children:["",s.balanceAmount.toFixed(2)]}),t.jsx("td",{style:{padding:"14px 12px",textAlign:"center"},children:t.jsx("span",{style:{padding:"5px 14px",borderRadius:"12px",fontSize:"12px",fontWeight:600,display:"inline-block",background:s.status==="Paid"?"#d1fae5":s.status==="Partially Paid"?"#fef3c7":"#e0e7ff",color:s.status==="Paid"?"#065f46":s.status==="Partially Paid"?"#92400e":"#3730a3"},children:s.status==="Generated"?"DUE":s.status})})]},s.invoiceId))})]})]}),t.jsxs("div",{className:"action-buttons",children:[t.jsxs("button",{onClick:a,className:"primary-action-btn",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[t.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),t.jsx("polyline",{points:"7 10 12 15 17 10"}),t.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Download Receipt"]}),t.jsx("button",{onClick:i,className:"secondary-action-btn",children:"Back to Invoice List"})]})]})]}):t.jsx("div",{style:{padding:"40px",textAlign:"center"},children:t.jsx("p",{children:"No payment data found. Redirecting..."})})},tre=()=>{const{logout:r,permissions:e}=da(),n=Tn();Ka();const[a,i]=k.useState(""),[s,c]=k.useState(""),[l,u]=k.useState(!1),[o,h]=k.useState(null),[d,A]=k.useState([]),[f,g]=k.useState([]),[m,x]=k.useState(!1),[y,b]=k.useState(null),[w,S]=k.useState(null),[N,C]=k.useState(!1),O=()=>{C(!N)},[W,K]=k.useState({paymentId:"",receiptDate:"",notes:null});k.useEffect(()=>{te()},[]),k.useEffect(()=>{f.length>0&&(s?q(s):q())},[s,f.length]);const te=async()=>{var R,se;try{x(!0),b(null);const Te=(await Ha.getAllCompanies(!0)).map(Ie=>({id:Ie.id,companyCode:Ie.companyCode,companyName:Ie.companyName,status:Ie.status}));g(Te),console.log("Loaded companies:",Te.length),await q(),b(null)}catch(fe){console.error("Error loading data:",fe);const Te=fe.message||((se=(R=fe.response)==null?void 0:R.data)==null?void 0:se.message)||"Failed to load data";b(Te)}finally{x(!1)}},q=async R=>{var se,fe;try{x(!0),b(null);const Te=await Qte(R),Ie=Array.isArray(Te)?Te:[];A(Ie),b(null),Ie.length>0&&(console.log("Payments loaded:",Ie.length),console.log("Payment company IDs:",Ie.map(_e=>_e.companyId)),console.log("Available companies:",f.map(_e=>({id:_e.id,name:_e.companyName}))))}catch(Te){console.error("Error loading payments:",Te);const Ie=Te.message||((fe=(se=Te.response)==null?void 0:se.data)==null?void 0:fe.message)||"Failed to load payments";b(Ie),A([])}finally{x(!1)}},Y=R=>{h(R),K({paymentId:R.paymentId,receiptDate:R.paymentDate,notes:null}),u(!0)},P=async()=>{if(!W.paymentId){b("Please select a payment");return}try{x(!0),b(null),S(null);const R=await Wte(W);S(`Receipt ${R.data.receipt.receiptNumber} created successfully!`),u(!1),h(null),K({paymentId:"",receiptDate:"",notes:null}),await q(s||void 0)}catch(R){console.error("Error creating receipt:",R),b(R.message||"Failed to create receipt")}finally{x(!1)}},ce=d.filter(R=>{var Te,Ie;const se=R.paymentId.toLowerCase().includes(a.toLowerCase())||((Te=R.receiptNumber)==null?void 0:Te.toLowerCase().includes(a.toLowerCase()))||((Ie=f.find(_e=>_e.id===R.companyId))==null?void 0:Ie.companyName.toLowerCase().includes(a.toLowerCase())),fe=!s||R.companyId===s;return se&&fe}),$=us(e,n.pathname);return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${N?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!N&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:O,"aria-label":N?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:N?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:$.map(R=>t.jsx("li",{children:t.jsxs(Yr,{to:R.path,className:`nav-link ${R.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:R.icon}),!N&&t.jsx("span",{className:"nav-label",children:R.label})]})},R.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Yr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!N&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!N&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Finance / Receipt Management"})})}),t.jsxs("div",{className:"invoice-management-page",children:[t.jsx("div",{className:"invoice-management-header",children:t.jsx("h1",{className:"invoice-management-title",children:"Receipt Management"})}),y&&t.jsxs("div",{className:"alert alert-error",style:{margin:"16px",padding:"12px",background:"#fee",color:"#c33",borderRadius:"4px"},children:[y,t.jsx("button",{onClick:()=>b(null),style:{float:"right",background:"none",border:"none",cursor:"pointer",fontSize:"18px"},children:""})]}),w&&t.jsxs("div",{className:"alert alert-success",style:{margin:"16px",padding:"12px",background:"#efe",color:"#3c3",borderRadius:"4px"},children:[w,t.jsx("button",{onClick:()=>S(null),style:{float:"right",background:"none",border:"none",cursor:"pointer",fontSize:"18px"},children:""})]}),t.jsxs("div",{className:"invoice-management-actions",children:[t.jsxs("div",{className:"invoice-search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"invoice-search-input",placeholder:"Search by payment ID, receipt number, or company...",value:a,onChange:R=>i(R.target.value)})]}),t.jsxs("select",{className:"status-filter-select",value:s,onChange:R=>c(R.target.value),children:[t.jsx("option",{value:"",children:"All Companies"}),f.filter(R=>R.status==="Active").map(R=>t.jsx("option",{value:R.id,children:R.companyName},R.id))]})]}),t.jsx("div",{className:"invoice-table-container",children:m&&d.length===0?t.jsx("div",{style:{textAlign:"center",padding:"40px"},children:"Loading payments..."}):ce.length===0?t.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#64748b"},children:d.length===0?"No payments found without receipts":"No payments match your search criteria"}):t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Payment ID"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"Payment Date"}),t.jsx("th",{children:"Payment Amount"}),t.jsx("th",{children:"Payment Mode"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:ce.map(R=>{const se=f.find(fe=>fe.id===R.companyId);return t.jsxs("tr",{children:[t.jsxs("td",{children:[R.paymentId.substring(0,8),"..."]}),t.jsx("td",{children:(se==null?void 0:se.companyName)||R.companyId||"-"}),t.jsx("td",{children:R.paymentDate}),t.jsxs("td",{style:{fontWeight:600},children:["",Number(R.paymentAmount).toFixed(2)]}),t.jsx("td",{children:R.paymentMode}),t.jsx("td",{children:t.jsx("span",{style:{padding:"4px 12px",borderRadius:"12px",fontSize:"12px",fontWeight:500,background:R.status==="Completed"?"#d1fae5":"#fef3c7",color:R.status==="Completed"?"#065f46":"#92400e"},children:R.status})}),t.jsx("td",{children:t.jsx("button",{onClick:()=>Y(R),style:{padding:"6px 12px",background:"#3b82f6",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"13px",fontWeight:500},children:"Create Receipt"})})]},R.paymentId)})})]})}),l&&o&&t.jsx("div",{className:"modal-overlay",onClick:()=>u(!1),children:t.jsxs("div",{className:"modal-content",onClick:R=>R.stopPropagation(),style:{maxWidth:"600px"},children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:"Create Receipt"}),t.jsx("button",{onClick:()=>u(!1),style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#64748b"},children:""})]}),t.jsxs("div",{className:"modal-body",children:[t.jsx("div",{style:{marginBottom:"20px",padding:"16px",background:"#f8fafc",borderRadius:"6px"},children:t.jsxs("div",{style:{display:"grid",gap:"8px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx("span",{style:{color:"#64748b"},children:"Payment ID:"}),t.jsxs("span",{style:{fontWeight:600},children:[o.paymentId.substring(0,8),"..."]})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx("span",{style:{color:"#64748b"},children:"Payment Amount:"}),t.jsxs("span",{style:{fontWeight:600},children:["",Number(o.paymentAmount).toFixed(2)]})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx("span",{style:{color:"#64748b"},children:"Payment Date:"}),t.jsx("span",{children:o.paymentDate})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx("span",{style:{color:"#64748b"},children:"Payment Mode:"}),t.jsx("span",{children:o.paymentMode})]})]})}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:["Receipt Date ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"date",value:W.receiptDate||"",onChange:R=>K({...W,receiptDate:R.target.value}),required:!0,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px"}}),t.jsx("p",{style:{marginTop:"4px",fontSize:"12px",color:"#64748b"},children:"Defaults to payment date if not specified"})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:"Notes (Optional)"}),t.jsx("textarea",{value:W.notes||"",onChange:R=>K({...W,notes:R.target.value||null}),rows:3,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",resize:"vertical"}})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{onClick:()=>u(!1),style:{padding:"10px 20px",background:"#f1f5f9",color:"#475569",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:500},children:"Cancel"}),t.jsx("button",{onClick:P,disabled:m||!W.receiptDate,style:{padding:"10px 20px",background:m||!W.receiptDate?"#cbd5e1":"#3b82f6",color:"#fff",border:"none",borderRadius:"6px",cursor:m||!W.receiptDate?"not-allowed":"pointer",fontSize:"14px",fontWeight:600},children:m?"Creating...":"Create Receipt"})]})]})})]})]})]})},kF="http://localhost:3000/api/v1",PF=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},Kg=async(r,e={})=>{const n=PF(),a={"Content-Type":"application/json",...e.headers};n&&(a.Authorization=`Bearer ${n}`);const i=await fetch(`${kF}${r}`,{...e,headers:a});if(!i.ok){let c=`HTTP error! status: ${i.status}`;try{const u=await i.json();c=u.message||u.error||c,u.message&&typeof u.message=="object"&&(c=JSON.stringify(u.message))}catch{i.status===500?c="Internal server error":i.status===401?c="Unauthorized. Please login again.":i.status===403?c="Forbidden. You do not have permission.":i.status===404&&(c="Resource not found")}const l=new Error(c);throw l.status=i.status,l.response={status:i.status},l}return(await i.json()).data},rre=async r=>{const e=r?`?companyId=${r}`:"";return Kg(`/fin-balance${e}`,{method:"GET"})},nre=async r=>Kg("/fin-balance",{method:"POST",body:JSON.stringify(r)}),are=async(r,e)=>Kg(`/fin-balance/${r}`,{method:"PUT",body:JSON.stringify(e)}),ire=async r=>Kg(`/fin-balance/${r}`,{method:"DELETE"}),sre=async r=>{const e=PF(),n=new FormData;n.append("file",r);const a=await fetch(`${kF}/fin-balance/bulk-upload/preview`,{method:"POST",headers:{...e&&{Authorization:`Bearer ${e}`}},body:n});if(!a.ok){let s=`HTTP error! status: ${a.status}`;try{const c=await a.json();s=c.message||c.error||s}catch{s="Failed to preview bulk upload"}throw new Error(s)}return(await a.json()).data},ore=async r=>Kg("/fin-balance/bulk-upload/execute",{method:"POST",body:JSON.stringify({preview:r})}),lre=()=>{const{logout:r,permissions:e}=da(),n=Tn();Ka();const a=k.useRef(null),[i,s]=k.useState(""),[c,l]=k.useState(""),[u,o]=k.useState([]),[h,d]=k.useState([]),[A,f]=k.useState([]),[g,m]=k.useState(!1),[x,y]=k.useState(null),[b,w]=k.useState(null),[S,N]=k.useState(!1),C=()=>{N(!S)},[O,W]=k.useState(!1),[K,te]=k.useState(!1),[q,Y]=k.useState(!1),[P,ce]=k.useState(null),[$,R]=k.useState(null),[se,fe]=k.useState({companyId:"",hcfId:"",openingBalance:0,notes:null});k.useEffect(()=>{Te()},[]),k.useEffect(()=>{c?Ie(c):Ie()},[c]);const Te=async()=>{try{m(!0),y(null);const le=await Ha.getAllCompanies(!0);d(le.map(Re=>({id:Re.id,companyCode:Re.companyCode,companyName:Re.companyName,status:Re.status})));const Ee=await Fs.getAllHcfs(void 0,!1);f(Ee.map(Re=>{var Ue;return{id:Re.id,hcfCode:Re.hcfCode,hcfName:Re.hcfName,companyId:Re.companyId,companyName:((Ue=le.find(de=>de.id===Re.companyId))==null?void 0:Ue.companyName)||""}})),await Ie()}catch(le){console.error("Error loading data:",le),y(le.message||"Failed to load data")}finally{m(!1)}},Ie=async le=>{var Ee,Re;try{m(!0),y(null);const Ue=await rre(le);o(Array.isArray(Ue)?Ue:[]),y(null)}catch(Ue){console.error("Error loading balances:",Ue);const de=Ue.message||((Re=(Ee=Ue.response)==null?void 0:Ee.data)==null?void 0:Re.message)||"Failed to load balances";y(de),o([])}finally{m(!1)}},_e=async le=>{var Re;const Ee=(Re=le.target.files)==null?void 0:Re[0];if(Ee)try{m(!0),y(null),w(null);const Ue=await sre(Ee);R(Ue),Y(!0)}catch(Ue){console.error("Error previewing upload:",Ue),y(Ue.message||"Failed to preview Excel file")}finally{m(!1),a.current&&(a.current.value="")}},Z=async()=>{if($)try{m(!0),y(null),w(null);const le=await ore($),Ee=le.created.length+le.updated.length;w(`Successfully processed ${Ee} records (${le.created.length} created, ${le.updated.length} updated)`),Y(!1),R(null),await Ie(c||void 0)}catch(le){console.error("Error executing bulk upload:",le),y(le.message||"Failed to execute bulk upload")}finally{m(!1)}},Oe=()=>{fe({companyId:"",hcfId:"",openingBalance:0,notes:null}),W(!0)},ee=le=>{ce(le),fe({companyId:le.companyId,hcfId:le.hcfId,openingBalance:le.openingBalance,notes:le.notes}),te(!0)},re=async le=>{if(window.confirm("Are you sure you want to delete this financial balance record?"))try{m(!0),y(null),await ire(le),w("Financial balance deleted successfully"),await Ie(c||void 0)}catch(Ee){console.error("Error deleting balance:",Ee),y(Ee.message||"Failed to delete financial balance")}finally{m(!1)}},je=async()=>{try{m(!0),y(null),w(null),await nre(se),w("Financial balance created successfully"),W(!1),fe({companyId:"",hcfId:"",openingBalance:0,notes:null}),await Ie(c||void 0)}catch(le){console.error("Error creating balance:",le),y(le.message||"Failed to create financial balance")}finally{m(!1)}},Ne=async()=>{if(P)try{m(!0),y(null),w(null);const le={openingBalance:se.openingBalance,notes:se.notes};await are(P.finBalanceId,le),w("Financial balance updated successfully (current balance reset to opening balance)"),te(!1),ce(null),await Ie(c||void 0)}catch(le){console.error("Error updating balance:",le),y(le.message||"Failed to update financial balance")}finally{m(!1)}},ye=u.filter(le=>{var Ue,de,Ce,ue;const Ee=((Ue=le.companyName)==null?void 0:Ue.toLowerCase().includes(i.toLowerCase()))||((de=le.companyCode)==null?void 0:de.toLowerCase().includes(i.toLowerCase()))||((Ce=le.hcfCode)==null?void 0:Ce.toLowerCase().includes(i.toLowerCase()))||((ue=le.hcfName)==null?void 0:ue.toLowerCase().includes(i.toLowerCase())),Re=!c||le.companyId===c;return Ee&&Re}),me=se.companyId?A.filter(le=>le.companyId===se.companyId):[],ie=us(e,n.pathname);return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${S?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!S&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:C,"aria-label":S?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:S?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:ie.map(le=>t.jsx("li",{children:t.jsxs(Yr,{to:le.path,className:`nav-link ${le.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:le.icon}),!S&&t.jsx("span",{className:"nav-label",children:le.label})]})},le.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Yr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!S&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!S&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Finance / Financial Balance Summary"})})}),t.jsxs("div",{className:"invoice-management-page",children:[t.jsx("div",{className:"invoice-management-header",children:t.jsx("h1",{className:"invoice-management-title",children:"Financial Balance Summary"})}),x&&t.jsxs("div",{className:"alert alert-error",style:{margin:"16px",padding:"12px",background:"#fee",color:"#c33",borderRadius:"4px"},children:[x,t.jsx("button",{onClick:()=>y(null),style:{float:"right",background:"none",border:"none",cursor:"pointer",fontSize:"18px"},children:""})]}),b&&t.jsxs("div",{className:"alert alert-success",style:{margin:"16px",padding:"12px",background:"#efe",color:"#3c3",borderRadius:"4px"},children:[b,t.jsx("button",{onClick:()=>w(null),style:{float:"right",background:"none",border:"none",cursor:"pointer",fontSize:"18px"},children:""})]}),t.jsxs("div",{className:"invoice-management-actions",children:[t.jsxs("div",{className:"invoice-search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"invoice-search-input",placeholder:"Search by company, HCF code, or name...",value:i,onChange:le=>s(le.target.value)})]}),t.jsxs("select",{className:"status-filter-select",value:c,onChange:le=>l(le.target.value),children:[t.jsx("option",{value:"",children:"All Companies"}),h.filter(le=>le.status==="Active").map(le=>t.jsx("option",{value:le.id,children:le.companyName},le.id))]}),t.jsxs("label",{className:"export-btn",style:{cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),t.jsx("polyline",{points:"17 8 12 3 7 8"}),t.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),"Upload Excel",t.jsx("input",{ref:a,type:"file",accept:".xlsx,.xls",onChange:_e,style:{display:"none"}})]}),t.jsxs("button",{className:"add-invoice-btn",onClick:Oe,disabled:g,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Balance"]})]}),t.jsx("div",{className:"invoice-table-container",children:g&&u.length===0?t.jsx("div",{style:{textAlign:"center",padding:"40px"},children:"Loading balances..."}):ye.length===0?t.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#64748b"},children:u.length===0?"No financial balance records found":"No records match your search criteria"}):t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Company"}),t.jsx("th",{children:"HCF Code"}),t.jsx("th",{children:"HCF Name"}),t.jsx("th",{children:"Opening Balance"}),t.jsx("th",{children:"Current Balance"}),t.jsx("th",{children:"Is Manual"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:ye.map(le=>t.jsxs("tr",{children:[t.jsx("td",{children:le.companyName||"-"}),t.jsx("td",{children:le.hcfCode||"-"}),t.jsx("td",{children:le.hcfName||"-"}),t.jsxs("td",{style:{fontWeight:600},children:["",Number(le.openingBalance).toFixed(2)]}),t.jsxs("td",{style:{fontWeight:600,color:le.currentBalance<0?"#dc2626":"#059669"},children:["",Number(le.currentBalance).toFixed(2)]}),t.jsx("td",{children:t.jsx("span",{style:{padding:"4px 12px",borderRadius:"12px",fontSize:"12px",fontWeight:500,background:le.isManual?"#dbeafe":"#f3f4f6",color:le.isManual?"#1e40af":"#6b7280"},children:le.isManual?"Manual":"Auto"})}),t.jsx("td",{children:t.jsxs("div",{style:{display:"flex",gap:"8px"},children:[t.jsx("button",{onClick:()=>ee(le),style:{padding:"6px 12px",background:"#3b82f6",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"13px",fontWeight:500},children:"Edit"}),t.jsx("button",{onClick:()=>re(le.finBalanceId),style:{padding:"6px 12px",background:"#ef4444",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"13px",fontWeight:500},children:"Delete"})]})})]},le.finBalanceId))})]})}),O&&t.jsx("div",{className:"modal-overlay",onClick:()=>W(!1),children:t.jsxs("div",{className:"modal-content",onClick:le=>le.stopPropagation(),style:{maxWidth:"600px"},children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:"Add Financial Balance"}),t.jsx("button",{onClick:()=>W(!1),style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#64748b"},children:""})]}),t.jsxs("div",{className:"modal-body",children:[t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:["Company ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsxs("select",{value:se.companyId,onChange:le=>fe({...se,companyId:le.target.value,hcfId:""}),required:!0,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px"},children:[t.jsx("option",{value:"",children:"Select Company"}),h.filter(le=>le.status==="Active").map(le=>t.jsx("option",{value:le.id,children:le.companyName},le.id))]})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:["HCF ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsxs("select",{value:se.hcfId,onChange:le=>fe({...se,hcfId:le.target.value}),required:!0,disabled:!se.companyId,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",background:se.companyId?"#fff":"#f1f5f9"},children:[t.jsx("option",{value:"",children:se.companyId?"Select HCF":"Select Company first"}),me.map(le=>t.jsxs("option",{value:le.id,children:[le.hcfCode," - ",le.hcfName]},le.id))]})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:["Opening Balance ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"number",step:"0.01",min:"0",value:se.openingBalance,onChange:le=>fe({...se,openingBalance:parseFloat(le.target.value)||0}),required:!0,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px"}})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:"Notes (Optional)"}),t.jsx("textarea",{value:se.notes||"",onChange:le=>fe({...se,notes:le.target.value||null}),rows:3,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",resize:"vertical"}})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{onClick:()=>W(!1),style:{padding:"10px 20px",background:"#f1f5f9",color:"#475569",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:500},children:"Cancel"}),t.jsx("button",{onClick:je,disabled:g||!se.companyId||!se.hcfId||se.openingBalance<0,style:{padding:"10px 20px",background:g||!se.companyId||!se.hcfId||se.openingBalance<0?"#cbd5e1":"#3b82f6",color:"#fff",border:"none",borderRadius:"6px",cursor:g||!se.companyId||!se.hcfId||se.openingBalance<0?"not-allowed":"pointer",fontSize:"14px",fontWeight:600},children:g?"Creating...":"Create"})]})]})}),K&&P&&t.jsx("div",{className:"modal-overlay",onClick:()=>te(!1),children:t.jsxs("div",{className:"modal-content",onClick:le=>le.stopPropagation(),style:{maxWidth:"600px"},children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:"Edit Financial Balance"}),t.jsx("button",{onClick:()=>te(!1),style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#64748b"},children:""})]}),t.jsxs("div",{className:"modal-body",children:[t.jsxs("div",{style:{marginBottom:"16px",padding:"12px",background:"#fef3c7",borderRadius:"6px",fontSize:"13px",color:"#92400e"},children:[t.jsx("strong",{children:"Note:"})," Updating opening balance will reset current balance to the new opening balance value."]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px",color:"#64748b"},children:"Company"}),t.jsx("input",{type:"text",value:P.companyName||"",disabled:!0,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",background:"#f1f5f9",color:"#64748b"}})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px",color:"#64748b"},children:"HCF"}),t.jsx("input",{type:"text",value:`${P.hcfCode||""} - ${P.hcfName||""}`,disabled:!0,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",background:"#f1f5f9",color:"#64748b"}})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:["Opening Balance ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"number",step:"0.01",min:"0",value:se.openingBalance,onChange:le=>fe({...se,openingBalance:parseFloat(le.target.value)||0}),required:!0,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px"}})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:"Current Balance (Read-only)"}),t.jsx("input",{type:"text",value:`${Number(P.currentBalance).toFixed(2)}`,disabled:!0,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",background:"#f1f5f9",color:"#64748b"}}),t.jsx("p",{style:{marginTop:"4px",fontSize:"12px",color:"#64748b"},children:"Will be reset to opening balance after update"})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:"Notes (Optional)"}),t.jsx("textarea",{value:se.notes||"",onChange:le=>fe({...se,notes:le.target.value||null}),rows:3,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",resize:"vertical"}})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{onClick:()=>te(!1),style:{padding:"10px 20px",background:"#f1f5f9",color:"#475569",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:500},children:"Cancel"}),t.jsx("button",{onClick:Ne,disabled:g||se.openingBalance<0,style:{padding:"10px 20px",background:g||se.openingBalance<0?"#cbd5e1":"#3b82f6",color:"#fff",border:"none",borderRadius:"6px",cursor:g||se.openingBalance<0?"not-allowed":"pointer",fontSize:"14px",fontWeight:600},children:g?"Updating...":"Update"})]})]})}),q&&$&&t.jsx("div",{className:"modal-overlay",onClick:()=>Y(!1),children:t.jsxs("div",{className:"modal-content",onClick:le=>le.stopPropagation(),style:{maxWidth:"900px",maxHeight:"90vh",overflow:"auto"},children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:"Preview Bulk Upload"}),t.jsx("button",{onClick:()=>Y(!1),style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#64748b"},children:""})]}),t.jsxs("div",{className:"modal-body",children:[t.jsxs("div",{style:{marginBottom:"20px",display:"flex",gap:"16px",flexWrap:"wrap"},children:[t.jsxs("div",{style:{padding:"12px",background:"#dbeafe",borderRadius:"6px",flex:"1",minWidth:"150px"},children:[t.jsx("div",{style:{fontSize:"12px",color:"#1e40af",marginBottom:"4px"},children:"New Records"}),t.jsx("div",{style:{fontSize:"20px",fontWeight:700,color:"#1e40af"},children:$.inserts.length})]}),t.jsxs("div",{style:{padding:"12px",background:"#fef3c7",borderRadius:"6px",flex:"1",minWidth:"150px"},children:[t.jsx("div",{style:{fontSize:"12px",color:"#92400e",marginBottom:"4px"},children:"Updates"}),t.jsx("div",{style:{fontSize:"20px",fontWeight:700,color:"#92400e"},children:$.updates.length})]}),t.jsxs("div",{style:{padding:"12px",background:"#fee2e2",borderRadius:"6px",flex:"1",minWidth:"150px"},children:[t.jsx("div",{style:{fontSize:"12px",color:"#991b1b",marginBottom:"4px"},children:"Errors"}),t.jsx("div",{style:{fontSize:"20px",fontWeight:700,color:"#991b1b"},children:$.errors.length+$.parseErrors.length})]})]}),$.parseErrors.length>0&&t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:600,marginBottom:"12px",color:"#991b1b"},children:"Parse Errors"}),t.jsx("div",{style:{maxHeight:"150px",overflow:"auto",border:"1px solid #fee2e2",borderRadius:"6px",padding:"12px"},children:$.parseErrors.map((le,Ee)=>t.jsxs("div",{style:{marginBottom:"8px",fontSize:"13px",color:"#991b1b"},children:[t.jsxs("strong",{children:["Row ",le.row,":"]})," ",le.message]},Ee))})]}),$.errors.length>0&&t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:600,marginBottom:"12px",color:"#991b1b"},children:"Validation Errors"}),t.jsx("div",{style:{maxHeight:"150px",overflow:"auto",border:"1px solid #fee2e2",borderRadius:"6px",padding:"12px"},children:$.errors.map((le,Ee)=>t.jsxs("div",{style:{marginBottom:"8px",fontSize:"13px",color:"#991b1b"},children:[t.jsxs("strong",{children:["Row ",le.row,":"]})," ",le.message]},Ee))})]}),($.inserts.length>0||$.updates.length>0)&&t.jsxs("div",{children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:600,marginBottom:"12px"},children:"Records to Process"}),t.jsx("div",{style:{maxHeight:"400px",overflow:"auto",border:"1px solid #e2e8f0",borderRadius:"6px"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"13px"},children:[t.jsx("thead",{style:{background:"#f8fafc",position:"sticky",top:0},children:t.jsxs("tr",{children:[t.jsx("th",{style:{padding:"10px",textAlign:"left",borderBottom:"2px solid #e2e8f0"},children:"Action"}),t.jsx("th",{style:{padding:"10px",textAlign:"left",borderBottom:"2px solid #e2e8f0"},children:"Company"}),t.jsx("th",{style:{padding:"10px",textAlign:"left",borderBottom:"2px solid #e2e8f0"},children:"HCF Code"}),t.jsx("th",{style:{padding:"10px",textAlign:"left",borderBottom:"2px solid #e2e8f0"},children:"HCF Name"}),t.jsx("th",{style:{padding:"10px",textAlign:"right",borderBottom:"2px solid #e2e8f0"},children:"Opening Balance"})]})}),t.jsxs("tbody",{children:[$.inserts.map((le,Ee)=>{const Re=h.find(de=>de.id===le.companyId),Ue=A.find(de=>de.id===le.hcfId);return t.jsxs("tr",{style:{borderBottom:"1px solid #e2e8f0"},children:[t.jsx("td",{style:{padding:"10px"},children:t.jsx("span",{style:{padding:"4px 8px",background:"#dbeafe",color:"#1e40af",borderRadius:"4px",fontSize:"11px",fontWeight:600},children:"INSERT"})}),t.jsx("td",{style:{padding:"10px"},children:(Re==null?void 0:Re.companyName)||"-"}),t.jsx("td",{style:{padding:"10px"},children:(Ue==null?void 0:Ue.hcfCode)||"-"}),t.jsx("td",{style:{padding:"10px"},children:(Ue==null?void 0:Ue.hcfName)||"-"}),t.jsxs("td",{style:{padding:"10px",textAlign:"right",fontWeight:600},children:["",Number(le.openingBalance).toFixed(2)]})]},`insert-${Ee}`)}),$.updates.map((le,Ee)=>{const Re=h.find(de=>de.id===le.data.companyId),Ue=A.find(de=>de.id===le.data.hcfId);return t.jsxs("tr",{style:{borderBottom:"1px solid #e2e8f0"},children:[t.jsx("td",{style:{padding:"10px"},children:t.jsx("span",{style:{padding:"4px 8px",background:"#fef3c7",color:"#92400e",borderRadius:"4px",fontSize:"11px",fontWeight:600},children:"UPDATE"})}),t.jsx("td",{style:{padding:"10px"},children:(Re==null?void 0:Re.companyName)||"-"}),t.jsx("td",{style:{padding:"10px"},children:(Ue==null?void 0:Ue.hcfCode)||"-"}),t.jsx("td",{style:{padding:"10px"},children:(Ue==null?void 0:Ue.hcfName)||"-"}),t.jsxs("td",{style:{padding:"10px",textAlign:"right",fontWeight:600},children:["",Number(le.data.openingBalance).toFixed(2)]})]},`update-${Ee}`)})]})]})})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{onClick:()=>Y(!1),style:{padding:"10px 20px",background:"#f1f5f9",color:"#475569",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:500},children:"Cancel"}),t.jsx("button",{onClick:Z,disabled:g||$.inserts.length===0&&$.updates.length===0,style:{padding:"10px 20px",background:g||$.inserts.length===0&&$.updates.length===0?"#cbd5e1":"#10b981",color:"#fff",border:"none",borderRadius:"6px",cursor:g||$.inserts.length===0&&$.updates.length===0?"not-allowed":"pointer",fontSize:"14px",fontWeight:600},children:g?"Processing...":"Save All"})]})]})})]})]})]})},cre="http://localhost:3000/api/v1",ure=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},v0=async(r,e={})=>{const n=ure(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${cre}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const c=await i.json();c.message?Array.isArray(c.message)?s=c.message.join(", "):typeof c.message=="string"?s=c.message:s=String(c.message):c.error&&(typeof c.error=="string"?s=c.error:c.error.message?s=typeof c.error.message=="string"?c.error.message:String(c.error.message):s=JSON.stringify(c.error));const l=new Error(s);throw l.status=i.status,l.statusText=i.statusText,l.errorData=c,l}catch{const l=new Error(s);throw l.status=i.status,l.statusText=i.statusText,l}}return i.status===204?{}:i.json()},ep={generateLabels:async r=>(await v0("/barcode-labels",{method:"POST",body:JSON.stringify(r)})).data,getBarcodeLabelById:async r=>(await v0(`/barcode-labels/${r}`,{method:"GET"})).data,getAllBarcodeLabels:async(r,e,n,a)=>{let i="/barcode-labels";const s=new URLSearchParams;return r&&s.append("companyId",r),e&&s.append("hcfId",e),n&&s.append("hcfCode",n),a&&s.append("barcodeType",a),s.toString()&&(i+=`?${s.toString()}`),(await v0(i,{method:"GET"})).data},getLastSequence:async(r,e)=>(await v0(`/barcode-labels/last-sequence?hcfCode=${encodeURIComponent(r)}&barcodeType=${encodeURIComponent(e)}`,{method:"GET"})).data.lastSequence,deleteBarcodeLabel:async r=>{await v0(`/barcode-labels/${r}`,{method:"DELETE"})}};var v1={},x0={},x1={},k8;function Ad(){if(k8)return x1;k8=1,Object.defineProperty(x1,"__esModule",{value:!0});function r(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}var e=function n(a,i){r(this,n),this.data=a,this.text=i.text||a,this.options=i};return x1.default=e,x1}var P8;function dre(){if(P8)return x0;P8=1,Object.defineProperty(x0,"__esModule",{value:!0}),x0.CODE39=void 0;var r=(function(){function m(x,y){for(var b=0;b<y.length;b++){var w=y[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(x,w.key,w)}}return function(x,y,b){return y&&m(x.prototype,y),b&&m(x,b),x}})(),e=Ad(),n=a(e);function a(m){return m&&m.__esModule?m:{default:m}}function i(m,x){if(!(m instanceof x))throw new TypeError("Cannot call a class as a function")}function s(m,x){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:m}function c(m,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);m.prototype=Object.create(x&&x.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(m,x):m.__proto__=x)}var l=(function(m){c(x,m);function x(y,b){return i(this,x),y=y.toUpperCase(),b.mod43&&(y+=A(g(y))),s(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,y,b))}return r(x,[{key:"encode",value:function(){for(var b=h("*"),w=0;w<this.data.length;w++)b+=h(this.data[w])+"0";return b+=h("*"),{data:b,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),x})(n.default),u=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],o=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function h(m){return d(f(m))}function d(m){return o[m].toString(2)}function A(m){return u[m]}function f(m){return u.indexOf(m)}function g(m){for(var x=0,y=0;y<m.length;y++)x+=f(m[y]);return x=x%43,x}return x0.CODE39=l,x0}var oh={},y1={},b1={},tl={},F8;function Gg(){if(F8)return tl;F8=1,Object.defineProperty(tl,"__esModule",{value:!0});var r;function e(u,o,h){return o in u?Object.defineProperty(u,o,{value:h,enumerable:!0,configurable:!0,writable:!0}):u[o]=h,u}var n=tl.SET_A=0,a=tl.SET_B=1,i=tl.SET_C=2;tl.SHIFT=98;var s=tl.START_A=103,c=tl.START_B=104,l=tl.START_C=105;return tl.MODULO=103,tl.STOP=106,tl.FNC1=207,tl.SET_BY_CODE=(r={},e(r,s,n),e(r,c,a),e(r,l,i),r),tl.SWAP={101:n,100:a,99:i},tl.A_START_CHAR="",tl.B_START_CHAR="",tl.C_START_CHAR="",tl.A_CHARS="[\0-_-]",tl.B_CHARS="[ --]",tl.C_CHARS="(*[0-9]{2}*)",tl.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011],tl}var D8;function cy(){if(D8)return b1;D8=1,Object.defineProperty(b1,"__esModule",{value:!0});var r=(function(){function o(h,d){for(var A=0;A<d.length;A++){var f=d[A];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(h,f.key,f)}}return function(h,d,A){return d&&o(h.prototype,d),A&&o(h,A),h}})(),e=Ad(),n=i(e),a=Gg();function i(o){return o&&o.__esModule?o:{default:o}}function s(o,h){if(!(o instanceof h))throw new TypeError("Cannot call a class as a function")}function c(o,h){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:o}function l(o,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);o.prototype=Object.create(h&&h.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(o,h):o.__proto__=h)}var u=(function(o){l(h,o);function h(d,A){s(this,h);var f=c(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,d.substring(1),A));return f.bytes=d.split("").map(function(g){return g.charCodeAt(0)}),f}return r(h,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var A=this.bytes,f=A.shift()-105,g=a.SET_BY_CODE[f];if(g===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&A.unshift(a.FNC1);var m=h.next(A,1,g);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:h.getBar(f)+m.result+h.getBar((m.checksum+f)%a.MODULO)+h.getBar(a.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var A=this.options.ean128||!1;return typeof A=="string"&&(A=A.toLowerCase()==="true"),A}}],[{key:"getBar",value:function(A){return a.BARS[A]?a.BARS[A].toString():""}},{key:"correctIndex",value:function(A,f){if(f===a.SET_A){var g=A.shift();return g<32?g+64:g-32}else return f===a.SET_B?A.shift()-32:(A.shift()-48)*10+A.shift()-48}},{key:"next",value:function(A,f,g){if(!A.length)return{result:"",checksum:0};var m=void 0,x=void 0;if(A[0]>=200){x=A.shift()-105;var y=a.SWAP[x];y!==void 0?m=h.next(A,f+1,y):((g===a.SET_A||g===a.SET_B)&&x===a.SHIFT&&(A[0]=g===a.SET_A?A[0]>95?A[0]-96:A[0]:A[0]<32?A[0]+96:A[0]),m=h.next(A,f+1,g))}else x=h.correctIndex(A,g),m=h.next(A,f+1,g);var b=h.getBar(x),w=x*f;return{result:b+m.result,checksum:w+m.checksum}}}]),h})(n.default);return b1.default=u,b1}var w1={},M8;function hre(){if(M8)return w1;M8=1,Object.defineProperty(w1,"__esModule",{value:!0});var r=Gg(),e=function(l){return l.match(new RegExp("^"+r.A_CHARS+"*"))[0].length},n=function(l){return l.match(new RegExp("^"+r.B_CHARS+"*"))[0].length},a=function(l){return l.match(new RegExp("^"+r.C_CHARS+"*"))[0]};function i(c,l){var u=l?r.A_CHARS:r.B_CHARS,o=c.match(new RegExp("^("+u+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(o)return o[1]+""+s(c.substring(o[1].length));var h=c.match(new RegExp("^"+u+"+"))[0];return h.length===c.length?c:h+String.fromCharCode(l?205:206)+i(c.substring(h.length),!l)}function s(c){var l=a(c),u=l.length;if(u===c.length)return c;c=c.substring(u);var o=e(c)>=n(c);return l+String.fromCharCode(o?206:205)+i(c,o)}return w1.default=function(c){var l=void 0,u=a(c).length;if(u>=2)l=r.C_START_CHAR+s(c);else{var o=e(c)>n(c);l=(o?r.A_START_CHAR:r.B_START_CHAR)+i(c,o)}return l.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(h,d){return""+d})},w1}var R8;function Are(){if(R8)return y1;R8=1,Object.defineProperty(y1,"__esModule",{value:!0});var r=cy(),e=i(r),n=hre(),a=i(n);function i(o){return o&&o.__esModule?o:{default:o}}function s(o,h){if(!(o instanceof h))throw new TypeError("Cannot call a class as a function")}function c(o,h){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:o}function l(o,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);o.prototype=Object.create(h&&h.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(o,h):o.__proto__=h)}var u=(function(o){l(h,o);function h(d,A){if(s(this,h),/^[\x00-\x7F\xC8-\xD3]+$/.test(d))var f=c(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,(0,a.default)(d),A));else var f=c(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,d,A));return c(f)}return h})(e.default);return y1.default=u,y1}var j1={},L8;function fre(){if(L8)return j1;L8=1,Object.defineProperty(j1,"__esModule",{value:!0});var r=(function(){function o(h,d){for(var A=0;A<d.length;A++){var f=d[A];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(h,f.key,f)}}return function(h,d,A){return d&&o(h.prototype,d),A&&o(h,A),h}})(),e=cy(),n=i(e),a=Gg();function i(o){return o&&o.__esModule?o:{default:o}}function s(o,h){if(!(o instanceof h))throw new TypeError("Cannot call a class as a function")}function c(o,h){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:o}function l(o,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);o.prototype=Object.create(h&&h.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(o,h):o.__proto__=h)}var u=(function(o){l(h,o);function h(d,A){return s(this,h),c(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,a.A_START_CHAR+d,A))}return r(h,[{key:"valid",value:function(){return new RegExp("^"+a.A_CHARS+"+$").test(this.data)}}]),h})(n.default);return j1.default=u,j1}var C1={},U8;function pre(){if(U8)return C1;U8=1,Object.defineProperty(C1,"__esModule",{value:!0});var r=(function(){function o(h,d){for(var A=0;A<d.length;A++){var f=d[A];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(h,f.key,f)}}return function(h,d,A){return d&&o(h.prototype,d),A&&o(h,A),h}})(),e=cy(),n=i(e),a=Gg();function i(o){return o&&o.__esModule?o:{default:o}}function s(o,h){if(!(o instanceof h))throw new TypeError("Cannot call a class as a function")}function c(o,h){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:o}function l(o,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);o.prototype=Object.create(h&&h.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(o,h):o.__proto__=h)}var u=(function(o){l(h,o);function h(d,A){return s(this,h),c(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,a.B_START_CHAR+d,A))}return r(h,[{key:"valid",value:function(){return new RegExp("^"+a.B_CHARS+"+$").test(this.data)}}]),h})(n.default);return C1.default=u,C1}var N1={},H8;function mre(){if(H8)return N1;H8=1,Object.defineProperty(N1,"__esModule",{value:!0});var r=(function(){function o(h,d){for(var A=0;A<d.length;A++){var f=d[A];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(h,f.key,f)}}return function(h,d,A){return d&&o(h.prototype,d),A&&o(h,A),h}})(),e=cy(),n=i(e),a=Gg();function i(o){return o&&o.__esModule?o:{default:o}}function s(o,h){if(!(o instanceof h))throw new TypeError("Cannot call a class as a function")}function c(o,h){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:o}function l(o,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);o.prototype=Object.create(h&&h.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(o,h):o.__proto__=h)}var u=(function(o){l(h,o);function h(d,A){return s(this,h),c(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,a.C_START_CHAR+d,A))}return r(h,[{key:"valid",value:function(){return new RegExp("^"+a.C_CHARS+"+$").test(this.data)}}]),h})(n.default);return N1.default=u,N1}var Q8;function gre(){if(Q8)return oh;Q8=1,Object.defineProperty(oh,"__esModule",{value:!0}),oh.CODE128C=oh.CODE128B=oh.CODE128A=oh.CODE128=void 0;var r=Are(),e=u(r),n=fre(),a=u(n),i=pre(),s=u(i),c=mre(),l=u(c);function u(o){return o&&o.__esModule?o:{default:o}}return oh.CODE128=e.default,oh.CODE128A=a.default,oh.CODE128B=s.default,oh.CODE128C=l.default,oh}var vu={},S1={},oA={},W8;function qg(){return W8||(W8=1,Object.defineProperty(oA,"__esModule",{value:!0}),oA.SIDE_BIN="101",oA.MIDDLE_BIN="01010",oA.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},oA.EAN2_STRUCTURE=["LL","LG","GL","GG"],oA.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],oA.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]),oA}var E1={},B1={},$8;function Xg(){if($8)return B1;$8=1,Object.defineProperty(B1,"__esModule",{value:!0});var r=qg(),e=function(a,i,s){var c=a.split("").map(function(u,o){return r.BINARIES[i[o]]}).map(function(u,o){return u?u[a[o]]:""});if(s){var l=a.length-1;c=c.map(function(u,o){return o<l?u+s:u})}return c.join("")};return B1.default=e,B1}var V8;function FF(){if(V8)return E1;V8=1,Object.defineProperty(E1,"__esModule",{value:!0});var r=(function(){function d(A,f){for(var g=0;g<f.length;g++){var m=f[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(A,m.key,m)}}return function(A,f,g){return f&&d(A.prototype,f),g&&d(A,g),A}})(),e=qg(),n=Xg(),a=c(n),i=Ad(),s=c(i);function c(d){return d&&d.__esModule?d:{default:d}}function l(d,A){if(!(d instanceof A))throw new TypeError("Cannot call a class as a function")}function u(d,A){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:d}function o(d,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);d.prototype=Object.create(A&&A.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(d,A):d.__proto__=A)}var h=(function(d){o(A,d);function A(f,g){l(this,A);var m=u(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,f,g));return m.fontSize=!g.flat&&g.fontSize>g.width*10?g.width*10:g.fontSize,m.guardHeight=g.height+m.fontSize/2+g.textMargin,m}return r(A,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(g,m){return this.text.substr(g,m)}},{key:"leftEncode",value:function(g,m){return(0,a.default)(g,m)}},{key:"rightText",value:function(g,m){return this.text.substr(g,m)}},{key:"rightEncode",value:function(g,m){return(0,a.default)(g,m)}},{key:"encodeGuarded",value:function(){var g={fontSize:this.fontSize},m={height:this.guardHeight};return[{data:e.SIDE_BIN,options:m},{data:this.leftEncode(),text:this.leftText(),options:g},{data:e.MIDDLE_BIN,options:m},{data:this.rightEncode(),text:this.rightText(),options:g},{data:e.SIDE_BIN,options:m}]}},{key:"encodeFlat",value:function(){var g=[e.SIDE_BIN,this.leftEncode(),e.MIDDLE_BIN,this.rightEncode(),e.SIDE_BIN];return{data:g.join(""),text:this.text}}}]),A})(s.default);return E1.default=h,E1}var z8;function vre(){if(z8)return S1;z8=1,Object.defineProperty(S1,"__esModule",{value:!0});var r=(function(){function d(A,f){for(var g=0;g<f.length;g++){var m=f[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(A,m.key,m)}}return function(A,f,g){return f&&d(A.prototype,f),g&&d(A,g),A}})(),e=function d(A,f,g){A===null&&(A=Function.prototype);var m=Object.getOwnPropertyDescriptor(A,f);if(m===void 0){var x=Object.getPrototypeOf(A);return x===null?void 0:d(x,f,g)}else{if("value"in m)return m.value;var y=m.get;return y===void 0?void 0:y.call(g)}},n=qg(),a=FF(),i=s(a);function s(d){return d&&d.__esModule?d:{default:d}}function c(d,A){if(!(d instanceof A))throw new TypeError("Cannot call a class as a function")}function l(d,A){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:d}function u(d,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);d.prototype=Object.create(A&&A.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(d,A):d.__proto__=A)}var o=function(A){var f=A.substr(0,12).split("").map(function(g){return+g}).reduce(function(g,m,x){return x%2?g+m*3:g+m},0);return(10-f%10)%10},h=(function(d){u(A,d);function A(f,g){c(this,A),f.search(/^[0-9]{12}$/)!==-1&&(f+=o(f));var m=l(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,f,g));return m.lastChar=g.lastChar,m}return r(A,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===o(this.data)}},{key:"leftText",value:function(){return e(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var g=this.data.substr(1,6),m=n.EAN13_STRUCTURE[this.data[0]];return e(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"leftEncode",this).call(this,g,m)}},{key:"rightText",value:function(){return e(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var g=this.data.substr(7,6);return e(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"rightEncode",this).call(this,g,"RRRRRR")}},{key:"encodeGuarded",value:function(){var g=e(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(g.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(g.push({data:"00"}),g.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),g}}]),A})(i.default);return S1.default=h,S1}var I1={},K8;function xre(){if(K8)return I1;K8=1,Object.defineProperty(I1,"__esModule",{value:!0});var r=(function(){function h(d,A){for(var f=0;f<A.length;f++){var g=A[f];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(d,g.key,g)}}return function(d,A,f){return A&&h(d.prototype,A),f&&h(d,f),d}})(),e=function h(d,A,f){d===null&&(d=Function.prototype);var g=Object.getOwnPropertyDescriptor(d,A);if(g===void 0){var m=Object.getPrototypeOf(d);return m===null?void 0:h(m,A,f)}else{if("value"in g)return g.value;var x=g.get;return x===void 0?void 0:x.call(f)}},n=FF(),a=i(n);function i(h){return h&&h.__esModule?h:{default:h}}function s(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}function c(h,d){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:h}function l(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);h.prototype=Object.create(d&&d.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(h,d):h.__proto__=d)}var u=function(d){var A=d.substr(0,7).split("").map(function(f){return+f}).reduce(function(f,g,m){return m%2?f+g:f+g*3},0);return(10-A%10)%10},o=(function(h){l(d,h);function d(A,f){return s(this,d),A.search(/^[0-9]{7}$/)!==-1&&(A+=u(A)),c(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,A,f))}return r(d,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===u(this.data)}},{key:"leftText",value:function(){return e(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var f=this.data.substr(0,4);return e(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"leftEncode",this).call(this,f,"LLLL")}},{key:"rightText",value:function(){return e(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var f=this.data.substr(4,4);return e(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"rightEncode",this).call(this,f,"RRRR")}}]),d})(a.default);return I1.default=o,I1}var T1={},G8;function yre(){if(G8)return T1;G8=1,Object.defineProperty(T1,"__esModule",{value:!0});var r=(function(){function A(f,g){for(var m=0;m<g.length;m++){var x=g[m];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(f,x.key,x)}}return function(f,g,m){return g&&A(f.prototype,g),m&&A(f,m),f}})(),e=qg(),n=Xg(),a=c(n),i=Ad(),s=c(i);function c(A){return A&&A.__esModule?A:{default:A}}function l(A,f){if(!(A instanceof f))throw new TypeError("Cannot call a class as a function")}function u(A,f){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:A}function o(A,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);A.prototype=Object.create(f&&f.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(A,f):A.__proto__=f)}var h=function(f){var g=f.split("").map(function(m){return+m}).reduce(function(m,x,y){return y%2?m+x*9:m+x*3},0);return g%10},d=(function(A){o(f,A);function f(g,m){return l(this,f),u(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,g,m))}return r(f,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var m=e.EAN5_STRUCTURE[h(this.data)];return{data:"1011"+(0,a.default)(this.data,m,"01"),text:this.text}}}]),f})(s.default);return T1.default=d,T1}var _1={},q8;function bre(){if(q8)return _1;q8=1,Object.defineProperty(_1,"__esModule",{value:!0});var r=(function(){function d(A,f){for(var g=0;g<f.length;g++){var m=f[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(A,m.key,m)}}return function(A,f,g){return f&&d(A.prototype,f),g&&d(A,g),A}})(),e=qg(),n=Xg(),a=c(n),i=Ad(),s=c(i);function c(d){return d&&d.__esModule?d:{default:d}}function l(d,A){if(!(d instanceof A))throw new TypeError("Cannot call a class as a function")}function u(d,A){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:d}function o(d,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);d.prototype=Object.create(A&&A.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(d,A):d.__proto__=A)}var h=(function(d){o(A,d);function A(f,g){return l(this,A),u(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,f,g))}return r(A,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var g=e.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,a.default)(this.data,g,"01"),text:this.text}}}]),A})(s.default);return _1.default=h,_1}var y0={},X8;function DF(){if(X8)return y0;X8=1,Object.defineProperty(y0,"__esModule",{value:!0});var r=(function(){function d(A,f){for(var g=0;g<f.length;g++){var m=f[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(A,m.key,m)}}return function(A,f,g){return f&&d(A.prototype,f),g&&d(A,g),A}})();y0.checksum=h;var e=Xg(),n=s(e),a=Ad(),i=s(a);function s(d){return d&&d.__esModule?d:{default:d}}function c(d,A){if(!(d instanceof A))throw new TypeError("Cannot call a class as a function")}function l(d,A){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:d}function u(d,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);d.prototype=Object.create(A&&A.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(d,A):d.__proto__=A)}var o=(function(d){u(A,d);function A(f,g){c(this,A),f.search(/^[0-9]{11}$/)!==-1&&(f+=h(f));var m=l(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,f,g));return m.displayValue=g.displayValue,g.fontSize>g.width*10?m.fontSize=g.width*10:m.fontSize=g.fontSize,m.guardHeight=g.height+m.fontSize/2+g.textMargin,m}return r(A,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==h(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var g="";return g+="101",g+=(0,n.default)(this.data.substr(0,6),"LLLLLL"),g+="01010",g+=(0,n.default)(this.data.substr(6,6),"RRRRRR"),g+="101",{data:g,text:this.text}}},{key:"guardedEncoding",value:function(){var g=[];return this.displayValue&&g.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),g.push({data:"101"+(0,n.default)(this.data[0],"L"),options:{height:this.guardHeight}}),g.push({data:(0,n.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),g.push({data:"01010",options:{height:this.guardHeight}}),g.push({data:(0,n.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),g.push({data:(0,n.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&g.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),g}}]),A})(i.default);function h(d){var A=0,f;for(f=1;f<11;f+=2)A+=parseInt(d[f]);for(f=0;f<11;f+=2)A+=parseInt(d[f])*3;return(10-A%10)%10}return y0.default=o,y0}var O1={},Y8;function wre(){if(Y8)return O1;Y8=1,Object.defineProperty(O1,"__esModule",{value:!0});var r=(function(){function g(m,x){for(var y=0;y<x.length;y++){var b=x[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(m,b.key,b)}}return function(m,x,y){return x&&g(m.prototype,x),y&&g(m,y),m}})(),e=Xg(),n=c(e),a=Ad(),i=c(a),s=DF();function c(g){return g&&g.__esModule?g:{default:g}}function l(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}function u(g,m){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:g}function o(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(g,m):g.__proto__=m)}var h=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],d=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],A=(function(g){o(m,g);function m(x,y){l(this,m);var b=u(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,x,y));if(b.isValid=!1,x.search(/^[0-9]{6}$/)!==-1)b.middleDigits=x,b.upcA=f(x,"0"),b.text=y.text||""+b.upcA[0]+x+b.upcA[b.upcA.length-1],b.isValid=!0;else if(x.search(/^[01][0-9]{7}$/)!==-1)if(b.middleDigits=x.substring(1,x.length-1),b.upcA=f(b.middleDigits,x[0]),b.upcA[b.upcA.length-1]===x[x.length-1])b.isValid=!0;else return u(b);else return u(b);return b.displayValue=y.displayValue,y.fontSize>y.width*10?b.fontSize=y.width*10:b.fontSize=y.fontSize,b.guardHeight=y.height+b.fontSize/2+y.textMargin,b}return r(m,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var y="";return y+="101",y+=this.encodeMiddleDigits(),y+="010101",{data:y,text:this.text}}},{key:"guardedEncoding",value:function(){var y=[];return this.displayValue&&y.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),y.push({data:"101",options:{height:this.guardHeight}}),y.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),y.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&y.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),y}},{key:"encodeMiddleDigits",value:function(){var y=this.upcA[0],b=this.upcA[this.upcA.length-1],w=d[parseInt(b)][parseInt(y)];return(0,n.default)(this.middleDigits,w)}}]),m})(i.default);function f(g,m){for(var x=parseInt(g[g.length-1]),y=h[x],b="",w=0,S=0;S<y.length;S++){var N=y[S];N==="X"?b+=g[w++]:b+=N}return b=""+m+b,""+b+(0,s.checksum)(b)}return O1.default=A,O1}var Z8;function jre(){if(Z8)return vu;Z8=1,Object.defineProperty(vu,"__esModule",{value:!0}),vu.UPCE=vu.UPC=vu.EAN2=vu.EAN5=vu.EAN8=vu.EAN13=void 0;var r=vre(),e=A(r),n=xre(),a=A(n),i=yre(),s=A(i),c=bre(),l=A(c),u=DF(),o=A(u),h=wre(),d=A(h);function A(f){return f&&f.__esModule?f:{default:f}}return vu.EAN13=e.default,vu.EAN8=a.default,vu.EAN5=s.default,vu.EAN2=l.default,vu.UPC=o.default,vu.UPCE=d.default,vu}var Hf={},k1={},Mp={},J8;function Cre(){return J8||(J8=1,Object.defineProperty(Mp,"__esModule",{value:!0}),Mp.START_BIN="1010",Mp.END_BIN="11101",Mp.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]),Mp}var e6;function MF(){if(e6)return k1;e6=1,Object.defineProperty(k1,"__esModule",{value:!0});var r=(function(){function o(h,d){for(var A=0;A<d.length;A++){var f=d[A];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(h,f.key,f)}}return function(h,d,A){return d&&o(h.prototype,d),A&&o(h,A),h}})(),e=Cre(),n=Ad(),a=i(n);function i(o){return o&&o.__esModule?o:{default:o}}function s(o,h){if(!(o instanceof h))throw new TypeError("Cannot call a class as a function")}function c(o,h){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:o}function l(o,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);o.prototype=Object.create(h&&h.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(o,h):o.__proto__=h)}var u=(function(o){l(h,o);function h(){return s(this,h),c(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return r(h,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var A=this,f=this.data.match(/.{2}/g).map(function(g){return A.encodePair(g)}).join("");return{data:e.START_BIN+f+e.END_BIN,text:this.text}}},{key:"encodePair",value:function(A){var f=e.BINARIES[A[1]];return e.BINARIES[A[0]].split("").map(function(g,m){return(g==="1"?"111":"1")+(f[m]==="1"?"000":"0")}).join("")}}]),h})(a.default);return k1.default=u,k1}var P1={},t6;function Nre(){if(t6)return P1;t6=1,Object.defineProperty(P1,"__esModule",{value:!0});var r=(function(){function o(h,d){for(var A=0;A<d.length;A++){var f=d[A];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(h,f.key,f)}}return function(h,d,A){return d&&o(h.prototype,d),A&&o(h,A),h}})(),e=MF(),n=a(e);function a(o){return o&&o.__esModule?o:{default:o}}function i(o,h){if(!(o instanceof h))throw new TypeError("Cannot call a class as a function")}function s(o,h){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:o}function c(o,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);o.prototype=Object.create(h&&h.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(o,h):o.__proto__=h)}var l=function(h){var d=h.substr(0,13).split("").map(function(A){return parseInt(A,10)}).reduce(function(A,f,g){return A+f*(3-g%2*2)},0);return Math.ceil(d/10)*10-d},u=(function(o){c(h,o);function h(d,A){return i(this,h),d.search(/^[0-9]{13}$/)!==-1&&(d+=l(d)),s(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,d,A))}return r(h,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===l(this.data)}}]),h})(n.default);return P1.default=u,P1}var r6;function Sre(){if(r6)return Hf;r6=1,Object.defineProperty(Hf,"__esModule",{value:!0}),Hf.ITF14=Hf.ITF=void 0;var r=MF(),e=i(r),n=Nre(),a=i(n);function i(s){return s&&s.__esModule?s:{default:s}}return Hf.ITF=e.default,Hf.ITF14=a.default,Hf}var nd={},F1={},n6;function Yg(){if(n6)return F1;n6=1,Object.defineProperty(F1,"__esModule",{value:!0});var r=(function(){function o(h,d){for(var A=0;A<d.length;A++){var f=d[A];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(h,f.key,f)}}return function(h,d,A){return d&&o(h.prototype,d),A&&o(h,A),h}})(),e=Ad(),n=a(e);function a(o){return o&&o.__esModule?o:{default:o}}function i(o,h){if(!(o instanceof h))throw new TypeError("Cannot call a class as a function")}function s(o,h){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:o}function c(o,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);o.prototype=Object.create(h&&h.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(o,h):o.__proto__=h)}var l=(function(o){c(h,o);function h(d,A){return i(this,h),s(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,d,A))}return r(h,[{key:"encode",value:function(){for(var A="110",f=0;f<this.data.length;f++){var g=parseInt(this.data[f]),m=g.toString(2);m=u(m,4-m.length);for(var x=0;x<m.length;x++)A+=m[x]=="0"?"100":"110"}return A+="1001",{data:A,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),h})(n.default);function u(o,h){for(var d=0;d<h;d++)o="0"+o;return o}return F1.default=l,F1}var D1={},b0={},a6;function uy(){if(a6)return b0;a6=1,Object.defineProperty(b0,"__esModule",{value:!0}),b0.mod10=r,b0.mod11=e;function r(n){for(var a=0,i=0;i<n.length;i++){var s=parseInt(n[i]);(i+n.length)%2===0?a+=s:a+=s*2%10+Math.floor(s*2/10)}return(10-a%10)%10}function e(n){for(var a=0,i=[2,3,4,5,6,7],s=0;s<n.length;s++){var c=parseInt(n[n.length-1-s]);a+=i[s%i.length]*c}return(11-a%11)%11}return b0}var i6;function Ere(){if(i6)return D1;i6=1,Object.defineProperty(D1,"__esModule",{value:!0});var r=Yg(),e=a(r),n=uy();function a(u){return u&&u.__esModule?u:{default:u}}function i(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}function s(u,o){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:u}function c(u,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);u.prototype=Object.create(o&&o.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(u,o):u.__proto__=o)}var l=(function(u){c(o,u);function o(h,d){return i(this,o),s(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,h+(0,n.mod10)(h),d))}return o})(e.default);return D1.default=l,D1}var M1={},s6;function Bre(){if(s6)return M1;s6=1,Object.defineProperty(M1,"__esModule",{value:!0});var r=Yg(),e=a(r),n=uy();function a(u){return u&&u.__esModule?u:{default:u}}function i(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}function s(u,o){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:u}function c(u,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);u.prototype=Object.create(o&&o.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(u,o):u.__proto__=o)}var l=(function(u){c(o,u);function o(h,d){return i(this,o),s(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,h+(0,n.mod11)(h),d))}return o})(e.default);return M1.default=l,M1}var R1={},o6;function Ire(){if(o6)return R1;o6=1,Object.defineProperty(R1,"__esModule",{value:!0});var r=Yg(),e=a(r),n=uy();function a(u){return u&&u.__esModule?u:{default:u}}function i(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}function s(u,o){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:u}function c(u,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);u.prototype=Object.create(o&&o.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(u,o):u.__proto__=o)}var l=(function(u){c(o,u);function o(h,d){return i(this,o),h+=(0,n.mod10)(h),h+=(0,n.mod10)(h),s(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,h,d))}return o})(e.default);return R1.default=l,R1}var L1={},l6;function Tre(){if(l6)return L1;l6=1,Object.defineProperty(L1,"__esModule",{value:!0});var r=Yg(),e=a(r),n=uy();function a(u){return u&&u.__esModule?u:{default:u}}function i(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}function s(u,o){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:u}function c(u,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);u.prototype=Object.create(o&&o.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(u,o):u.__proto__=o)}var l=(function(u){c(o,u);function o(h,d){return i(this,o),h+=(0,n.mod11)(h),h+=(0,n.mod10)(h),s(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,h,d))}return o})(e.default);return L1.default=l,L1}var c6;function _re(){if(c6)return nd;c6=1,Object.defineProperty(nd,"__esModule",{value:!0}),nd.MSI1110=nd.MSI1010=nd.MSI11=nd.MSI10=nd.MSI=void 0;var r=Yg(),e=h(r),n=Ere(),a=h(n),i=Bre(),s=h(i),c=Ire(),l=h(c),u=Tre(),o=h(u);function h(d){return d&&d.__esModule?d:{default:d}}return nd.MSI=e.default,nd.MSI10=a.default,nd.MSI11=s.default,nd.MSI1010=l.default,nd.MSI1110=o.default,nd}var w0={},u6;function Ore(){if(u6)return w0;u6=1,Object.defineProperty(w0,"__esModule",{value:!0}),w0.pharmacode=void 0;var r=(function(){function u(o,h){for(var d=0;d<h.length;d++){var A=h[d];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(o,A.key,A)}}return function(o,h,d){return h&&u(o.prototype,h),d&&u(o,d),o}})(),e=Ad(),n=a(e);function a(u){return u&&u.__esModule?u:{default:u}}function i(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}function s(u,o){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:u}function c(u,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);u.prototype=Object.create(o&&o.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(u,o):u.__proto__=o)}var l=(function(u){c(o,u);function o(h,d){i(this,o);var A=s(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,h,d));return A.number=parseInt(h,10),A}return r(o,[{key:"encode",value:function(){for(var d=this.number,A="";!isNaN(d)&&d!=0;)d%2===0?(A="11100"+A,d=(d-2)/2):(A="100"+A,d=(d-1)/2);return A=A.slice(0,-2),{data:A,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),o})(n.default);return w0.pharmacode=l,w0}var j0={},d6;function kre(){if(d6)return j0;d6=1,Object.defineProperty(j0,"__esModule",{value:!0}),j0.codabar=void 0;var r=(function(){function u(o,h){for(var d=0;d<h.length;d++){var A=h[d];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(o,A.key,A)}}return function(o,h,d){return h&&u(o.prototype,h),d&&u(o,d),o}})(),e=Ad(),n=a(e);function a(u){return u&&u.__esModule?u:{default:u}}function i(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}function s(u,o){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:u}function c(u,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);u.prototype=Object.create(o&&o.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(u,o):u.__proto__=o)}var l=(function(u){c(o,u);function o(h,d){i(this,o),h.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(h="A"+h+"A");var A=s(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,h.toUpperCase(),d));return A.text=A.options.text||A.text.replace(/[A-D]/g,""),A}return r(o,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var d=[],A=this.getEncodings(),f=0;f<this.data.length;f++)d.push(A[this.data.charAt(f)]),f!==this.data.length-1&&d.push("0");return{text:this.text,data:d.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),o})(n.default);return j0.codabar=l,j0}var Qf={},U1={},Rp={},h6;function Pre(){return h6||(h6=1,Object.defineProperty(Rp,"__esModule",{value:!0}),Rp.SYMBOLS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","($)","(%)","(/)","(+)",""],Rp.BINARIES=["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"],Rp.MULTI_SYMBOLS={"\0":["(%)","U"],"":["($)","A"],"":["($)","B"],"":["($)","C"],"":["($)","D"],"":["($)","E"],"":["($)","F"],"\x07":["($)","G"],"\b":["($)","H"],"	":["($)","I"],"\n":["($)","J"],"\v":["($)","K"],"\f":["($)","L"],"\r":["($)","M"],"":["($)","N"],"":["($)","O"],"":["($)","P"],"":["($)","Q"],"":["($)","R"],"":["($)","S"],"":["($)","T"],"":["($)","U"],"":["($)","V"],"":["($)","W"],"":["($)","X"],"":["($)","Y"],"":["($)","Z"],"\x1B":["(%)","A"],"":["(%)","B"],"":["(%)","C"],"":["(%)","D"],"":["(%)","E"],"!":["(/)","A"],'"':["(/)","B"],"#":["(/)","C"],"&":["(/)","F"],"'":["(/)","G"],"(":["(/)","H"],")":["(/)","I"],"*":["(/)","J"],",":["(/)","L"],":":["(/)","Z"],";":["(%)","F"],"<":["(%)","G"],"=":["(%)","H"],">":["(%)","I"],"?":["(%)","J"],"@":["(%)","V"],"[":["(%)","K"],"\\":["(%)","L"],"]":["(%)","M"],"^":["(%)","N"],_:["(%)","O"],"`":["(%)","W"],a:["(+)","A"],b:["(+)","B"],c:["(+)","C"],d:["(+)","D"],e:["(+)","E"],f:["(+)","F"],g:["(+)","G"],h:["(+)","H"],i:["(+)","I"],j:["(+)","J"],k:["(+)","K"],l:["(+)","L"],m:["(+)","M"],n:["(+)","N"],o:["(+)","O"],p:["(+)","P"],q:["(+)","Q"],r:["(+)","R"],s:["(+)","S"],t:["(+)","T"],u:["(+)","U"],v:["(+)","V"],w:["(+)","W"],x:["(+)","X"],y:["(+)","Y"],z:["(+)","Z"],"{":["(%)","P"],"|":["(%)","Q"],"}":["(%)","R"],"~":["(%)","S"],"":["(%)","T"]}),Rp}var A6;function RF(){if(A6)return U1;A6=1,Object.defineProperty(U1,"__esModule",{value:!0});var r=(function(){function o(h,d){for(var A=0;A<d.length;A++){var f=d[A];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(h,f.key,f)}}return function(h,d,A){return d&&o(h.prototype,d),A&&o(h,A),h}})(),e=Pre(),n=Ad(),a=i(n);function i(o){return o&&o.__esModule?o:{default:o}}function s(o,h){if(!(o instanceof h))throw new TypeError("Cannot call a class as a function")}function c(o,h){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:o}function l(o,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);o.prototype=Object.create(h&&h.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(o,h):o.__proto__=h)}var u=(function(o){l(h,o);function h(d,A){return s(this,h),c(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,d,A))}return r(h,[{key:"valid",value:function(){return/^[0-9A-Z\-. $/+%]+$/.test(this.data)}},{key:"encode",value:function(){var A=this.data.split("").flatMap(function(x){return e.MULTI_SYMBOLS[x]||x}),f=A.map(function(x){return h.getEncoding(x)}).join(""),g=h.checksum(A,20),m=h.checksum(A.concat(g),15);return{text:this.text,data:h.getEncoding("")+f+h.getEncoding(g)+h.getEncoding(m)+h.getEncoding("")+"1"}}}],[{key:"getEncoding",value:function(A){return e.BINARIES[h.symbolValue(A)]}},{key:"getSymbol",value:function(A){return e.SYMBOLS[A]}},{key:"symbolValue",value:function(A){return e.SYMBOLS.indexOf(A)}},{key:"checksum",value:function(A,f){var g=A.slice().reverse().reduce(function(m,x,y){var b=y%f+1;return m+h.symbolValue(x)*b},0);return h.getSymbol(g%47)}}]),h})(a.default);return U1.default=u,U1}var H1={},f6;function Fre(){if(f6)return H1;f6=1,Object.defineProperty(H1,"__esModule",{value:!0});var r=(function(){function u(o,h){for(var d=0;d<h.length;d++){var A=h[d];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(o,A.key,A)}}return function(o,h,d){return h&&u(o.prototype,h),d&&u(o,d),o}})(),e=RF(),n=a(e);function a(u){return u&&u.__esModule?u:{default:u}}function i(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}function s(u,o){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:u}function c(u,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);u.prototype=Object.create(o&&o.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(u,o):u.__proto__=o)}var l=(function(u){c(o,u);function o(h,d){return i(this,o),s(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,h,d))}return r(o,[{key:"valid",value:function(){return/^[\x00-\x7f]+$/.test(this.data)}}]),o})(n.default);return H1.default=l,H1}var p6;function Dre(){if(p6)return Qf;p6=1,Object.defineProperty(Qf,"__esModule",{value:!0}),Qf.CODE93FullASCII=Qf.CODE93=void 0;var r=RF(),e=i(r),n=Fre(),a=i(n);function i(s){return s&&s.__esModule?s:{default:s}}return Qf.CODE93=e.default,Qf.CODE93FullASCII=a.default,Qf}var C0={},m6;function Mre(){if(m6)return C0;m6=1,Object.defineProperty(C0,"__esModule",{value:!0}),C0.GenericBarcode=void 0;var r=(function(){function u(o,h){for(var d=0;d<h.length;d++){var A=h[d];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(o,A.key,A)}}return function(o,h,d){return h&&u(o.prototype,h),d&&u(o,d),o}})(),e=Ad(),n=a(e);function a(u){return u&&u.__esModule?u:{default:u}}function i(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}function s(u,o){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:u}function c(u,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);u.prototype=Object.create(o&&o.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(u,o):u.__proto__=o)}var l=(function(u){c(o,u);function o(h,d){return i(this,o),s(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,h,d))}return r(o,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),o})(n.default);return C0.GenericBarcode=l,C0}var g6;function Rre(){if(g6)return v1;g6=1,Object.defineProperty(v1,"__esModule",{value:!0});var r=dre(),e=gre(),n=jre(),a=Sre(),i=_re(),s=Ore(),c=kre(),l=Dre(),u=Mre();return v1.default={CODE39:r.CODE39,CODE128:e.CODE128,CODE128A:e.CODE128A,CODE128B:e.CODE128B,CODE128C:e.CODE128C,EAN13:n.EAN13,EAN8:n.EAN8,EAN5:n.EAN5,EAN2:n.EAN2,UPC:n.UPC,UPCE:n.UPCE,ITF14:a.ITF14,ITF:a.ITF,MSI:i.MSI,MSI10:i.MSI10,MSI11:i.MSI11,MSI1010:i.MSI1010,MSI1110:i.MSI1110,pharmacode:s.pharmacode,codabar:c.codabar,CODE93:l.CODE93,CODE93FullASCII:l.CODE93FullASCII,GenericBarcode:u.GenericBarcode},v1}var Q1={},v6;function dy(){if(v6)return Q1;v6=1,Object.defineProperty(Q1,"__esModule",{value:!0});var r=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e};return Q1.default=function(e,n){return r({},e,n)},Q1}var W1={},x6;function Lre(){if(x6)return W1;x6=1,Object.defineProperty(W1,"__esModule",{value:!0}),W1.default=r;function r(e){var n=[];function a(i){if(Array.isArray(i))for(var s=0;s<i.length;s++)a(i[s]);else i.text=i.text||"",i.data=i.data||"",n.push(i)}return a(e),n}return W1}var $1={},y6;function Ure(){if(y6)return $1;y6=1,Object.defineProperty($1,"__esModule",{value:!0}),$1.default=r;function r(e){return e.marginTop=e.marginTop||e.margin,e.marginBottom=e.marginBottom||e.margin,e.marginRight=e.marginRight||e.margin,e.marginLeft=e.marginLeft||e.margin,e}return $1}var V1={},z1={},K1={},b6;function LF(){if(b6)return K1;b6=1,Object.defineProperty(K1,"__esModule",{value:!0}),K1.default=r;function r(e){var n=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var a in n)n.hasOwnProperty(a)&&(a=n[a],typeof e[a]=="string"&&(e[a]=parseInt(e[a],10)));return typeof e.displayValue=="string"&&(e.displayValue=e.displayValue!="false"),e}return K1}var G1={},w6;function UF(){if(w6)return G1;w6=1,Object.defineProperty(G1,"__esModule",{value:!0});var r={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};return G1.default=r,G1}var j6;function Hre(){if(j6)return z1;j6=1,Object.defineProperty(z1,"__esModule",{value:!0});var r=LF(),e=i(r),n=UF(),a=i(n);function i(c){return c&&c.__esModule?c:{default:c}}function s(c){var l={};for(var u in a.default)a.default.hasOwnProperty(u)&&(c.hasAttribute("jsbarcode-"+u.toLowerCase())&&(l[u]=c.getAttribute("jsbarcode-"+u.toLowerCase())),c.hasAttribute("data-"+u.toLowerCase())&&(l[u]=c.getAttribute("data-"+u.toLowerCase())));return l.value=c.getAttribute("jsbarcode-value")||c.getAttribute("data-value"),l=(0,e.default)(l),l}return z1.default=s,z1}var q1={},X1={},ad={},C6;function HF(){if(C6)return ad;C6=1,Object.defineProperty(ad,"__esModule",{value:!0}),ad.getTotalWidthOfEncodings=ad.calculateEncodingAttributes=ad.getBarcodePadding=ad.getEncodingHeight=ad.getMaximumHeightOfEncodings=void 0;var r=dy(),e=n(r);function n(o){return o&&o.__esModule?o:{default:o}}function a(o,h){return h.height+(h.displayValue&&o.text.length>0?h.fontSize+h.textMargin:0)+h.marginTop+h.marginBottom}function i(o,h,d){if(d.displayValue&&h<o){if(d.textAlign=="center")return Math.floor((o-h)/2);if(d.textAlign=="left")return 0;if(d.textAlign=="right")return Math.floor(o-h)}return 0}function s(o,h,d){for(var A=0;A<o.length;A++){var f=o[A],g=(0,e.default)(h,f.options),m;g.displayValue?m=u(f.text,g,d):m=0;var x=f.data.length*g.width;f.width=Math.ceil(Math.max(m,x)),f.height=a(f,g),f.barcodePadding=i(m,x,g)}}function c(o){for(var h=0,d=0;d<o.length;d++)h+=o[d].width;return h}function l(o){for(var h=0,d=0;d<o.length;d++)o[d].height>h&&(h=o[d].height);return h}function u(o,h,d){var A;if(d)A=d;else if(typeof document<"u")A=document.createElement("canvas").getContext("2d");else return 0;A.font=h.fontOptions+" "+h.fontSize+"px "+h.font;var f=A.measureText(o);if(!f)return 0;var g=f.width;return g}return ad.getMaximumHeightOfEncodings=l,ad.getEncodingHeight=a,ad.getBarcodePadding=i,ad.calculateEncodingAttributes=s,ad.getTotalWidthOfEncodings=c,ad}var N6;function Qre(){if(N6)return X1;N6=1,Object.defineProperty(X1,"__esModule",{value:!0});var r=(function(){function l(u,o){for(var h=0;h<o.length;h++){var d=o[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}return function(u,o,h){return o&&l(u.prototype,o),h&&l(u,h),u}})(),e=dy(),n=i(e),a=HF();function i(l){return l&&l.__esModule?l:{default:l}}function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var c=(function(){function l(u,o,h){s(this,l),this.canvas=u,this.encodings=o,this.options=h}return r(l,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var o=0;o<this.encodings.length;o++){var h=(0,n.default)(this.options,this.encodings[o].options);this.drawCanvasBarcode(h,this.encodings[o]),this.drawCanvasText(h,this.encodings[o]),this.moveCanvasDrawing(this.encodings[o])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var o=this.canvas.getContext("2d");o.save(),(0,a.calculateEncodingAttributes)(this.encodings,this.options,o);var h=(0,a.getTotalWidthOfEncodings)(this.encodings),d=(0,a.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=h+this.options.marginLeft+this.options.marginRight,this.canvas.height=d,o.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(o.fillStyle=this.options.background,o.fillRect(0,0,this.canvas.width,this.canvas.height)),o.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(o,h){var d=this.canvas.getContext("2d"),A=h.data,f;o.textPosition=="top"?f=o.marginTop+o.fontSize+o.textMargin:f=o.marginTop,d.fillStyle=o.lineColor;for(var g=0;g<A.length;g++){var m=g*o.width+h.barcodePadding;A[g]==="1"?d.fillRect(m,f,o.width,o.height):A[g]&&d.fillRect(m,f,o.width,o.height*A[g])}}},{key:"drawCanvasText",value:function(o,h){var d=this.canvas.getContext("2d"),A=o.fontOptions+" "+o.fontSize+"px "+o.font;if(o.displayValue){var f,g;o.textPosition=="top"?g=o.marginTop+o.fontSize-o.textMargin:g=o.height+o.textMargin+o.marginTop+o.fontSize,d.font=A,o.textAlign=="left"||h.barcodePadding>0?(f=0,d.textAlign="left"):o.textAlign=="right"?(f=h.width-1,d.textAlign="right"):(f=h.width/2,d.textAlign="center"),d.fillText(h.text,f,g)}}},{key:"moveCanvasDrawing",value:function(o){var h=this.canvas.getContext("2d");h.translate(o.width,0)}},{key:"restoreCanvas",value:function(){var o=this.canvas.getContext("2d");o.restore()}}]),l})();return X1.default=c,X1}var Y1={},S6;function Wre(){if(S6)return Y1;S6=1,Object.defineProperty(Y1,"__esModule",{value:!0});var r=(function(){function u(o,h){for(var d=0;d<h.length;d++){var A=h[d];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(o,A.key,A)}}return function(o,h,d){return h&&u(o.prototype,h),d&&u(o,d),o}})(),e=dy(),n=i(e),a=HF();function i(u){return u&&u.__esModule?u:{default:u}}function s(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}var c="http://www.w3.org/2000/svg",l=(function(){function u(o,h,d){s(this,u),this.svg=o,this.encodings=h,this.options=d,this.document=d.xmlDocument||document}return r(u,[{key:"render",value:function(){var h=this.options.marginLeft;this.prepareSVG();for(var d=0;d<this.encodings.length;d++){var A=this.encodings[d],f=(0,n.default)(this.options,A.options),g=this.createGroup(h,f.marginTop,this.svg);this.setGroupOptions(g,f),this.drawSvgBarcode(g,f,A),this.drawSVGText(g,f,A),h+=A.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,a.calculateEncodingAttributes)(this.encodings,this.options);var h=(0,a.getTotalWidthOfEncodings)(this.encodings),d=(0,a.getMaximumHeightOfEncodings)(this.encodings),A=h+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(A,d),this.options.background&&this.drawRect(0,0,A,d,this.svg).setAttribute("fill",this.options.background)}},{key:"drawSvgBarcode",value:function(h,d,A){var f=A.data,g;d.textPosition=="top"?g=d.fontSize+d.textMargin:g=0;for(var m=0,x=0,y=0;y<f.length;y++)x=y*d.width+A.barcodePadding,f[y]==="1"?m++:m>0&&(this.drawRect(x-d.width*m,g,d.width*m,d.height,h),m=0);m>0&&this.drawRect(x-d.width*(m-1),g,d.width*m,d.height,h)}},{key:"drawSVGText",value:function(h,d,A){var f=this.document.createElementNS(c,"text");if(d.displayValue){var g,m;f.setAttribute("font-family",d.font),f.setAttribute("font-size",d.fontSize),d.fontOptions.includes("bold")&&f.setAttribute("font-weight","bold"),d.fontOptions.includes("italic")&&f.setAttribute("font-style","italic"),d.textPosition=="top"?m=d.fontSize-d.textMargin:m=d.height+d.textMargin+d.fontSize,d.textAlign=="left"||A.barcodePadding>0?(g=0,f.setAttribute("text-anchor","start")):d.textAlign=="right"?(g=A.width-1,f.setAttribute("text-anchor","end")):(g=A.width/2,f.setAttribute("text-anchor","middle")),f.setAttribute("x",g),f.setAttribute("y",m),f.appendChild(this.document.createTextNode(A.text)),h.appendChild(f)}}},{key:"setSvgAttributes",value:function(h,d){var A=this.svg;A.setAttribute("width",h+"px"),A.setAttribute("height",d+"px"),A.setAttribute("x","0px"),A.setAttribute("y","0px"),A.setAttribute("viewBox","0 0 "+h+" "+d),A.setAttribute("xmlns",c),A.setAttribute("version","1.1")}},{key:"createGroup",value:function(h,d,A){var f=this.document.createElementNS(c,"g");return f.setAttribute("transform","translate("+h+", "+d+")"),A.appendChild(f),f}},{key:"setGroupOptions",value:function(h,d){h.setAttribute("fill",d.lineColor)}},{key:"drawRect",value:function(h,d,A,f,g){var m=this.document.createElementNS(c,"rect");return m.setAttribute("x",h),m.setAttribute("y",d),m.setAttribute("width",A),m.setAttribute("height",f),g.appendChild(m),m}}]),u})();return Y1.default=l,Y1}var Z1={},E6;function $re(){if(E6)return Z1;E6=1,Object.defineProperty(Z1,"__esModule",{value:!0});var r=(function(){function a(i,s){for(var c=0;c<s.length;c++){var l=s[c];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(i,l.key,l)}}return function(i,s,c){return s&&a(i.prototype,s),c&&a(i,c),i}})();function e(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")}var n=(function(){function a(i,s,c){e(this,a),this.object=i,this.encodings=s,this.options=c}return r(a,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),a})();return Z1.default=n,Z1}var B6;function Vre(){if(B6)return q1;B6=1,Object.defineProperty(q1,"__esModule",{value:!0});var r=Qre(),e=c(r),n=Wre(),a=c(n),i=$re(),s=c(i);function c(l){return l&&l.__esModule?l:{default:l}}return q1.default={CanvasRenderer:e.default,SVGRenderer:a.default,ObjectRenderer:s.default},q1}var Lp={},I6;function QF(){if(I6)return Lp;I6=1,Object.defineProperty(Lp,"__esModule",{value:!0});function r(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}function e(c,l){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:c}function n(c,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);c.prototype=Object.create(l&&l.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(c,l):c.__proto__=l)}var a=(function(c){n(l,c);function l(u,o){r(this,l);var h=e(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return h.name="InvalidInputException",h.symbology=u,h.input=o,h.message='"'+h.input+'" is not a valid input for '+h.symbology,h}return l})(Error),i=(function(c){n(l,c);function l(){r(this,l);var u=e(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return u.name="InvalidElementException",u.message="Not supported type to render on",u}return l})(Error),s=(function(c){n(l,c);function l(){r(this,l);var u=e(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return u.name="NoElementException",u.message="No element to render on.",u}return l})(Error);return Lp.InvalidInputException=a,Lp.InvalidElementException=i,Lp.NoElementException=s,Lp}var T6;function zre(){if(T6)return V1;T6=1,Object.defineProperty(V1,"__esModule",{value:!0});var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},e=Hre(),n=c(e),a=Vre(),i=c(a),s=QF();function c(h){return h&&h.__esModule?h:{default:h}}function l(h){if(typeof h=="string")return u(h);if(Array.isArray(h)){for(var d=[],A=0;A<h.length;A++)d.push(l(h[A]));return d}else{if(typeof HTMLCanvasElement<"u"&&h instanceof HTMLImageElement)return o(h);if(h&&h.nodeName&&h.nodeName.toLowerCase()==="svg"||typeof SVGElement<"u"&&h instanceof SVGElement)return{element:h,options:(0,n.default)(h),renderer:i.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&h instanceof HTMLCanvasElement)return{element:h,options:(0,n.default)(h),renderer:i.default.CanvasRenderer};if(h&&h.getContext)return{element:h,renderer:i.default.CanvasRenderer};if(h&&(typeof h>"u"?"undefined":r(h))==="object"&&!h.nodeName)return{element:h,renderer:i.default.ObjectRenderer};throw new s.InvalidElementException}}function u(h){var d=document.querySelectorAll(h);if(d.length!==0){for(var A=[],f=0;f<d.length;f++)A.push(l(d[f]));return A}}function o(h){var d=document.createElement("canvas");return{element:d,options:(0,n.default)(h),renderer:i.default.CanvasRenderer,afterRender:function(){h.setAttribute("src",d.toDataURL())}}}return V1.default=l,V1}var J1={},_6;function Kre(){if(_6)return J1;_6=1,Object.defineProperty(J1,"__esModule",{value:!0});var r=(function(){function a(i,s){for(var c=0;c<s.length;c++){var l=s[c];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(i,l.key,l)}}return function(i,s,c){return s&&a(i.prototype,s),c&&a(i,c),i}})();function e(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")}var n=(function(){function a(i){e(this,a),this.api=i}return r(a,[{key:"handleCatch",value:function(s){if(s.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw s.message;else throw s;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(s){try{var c=s.apply(void 0,arguments);return this.api._options.valid(!0),c}catch(l){return this.handleCatch(l),this.api}}}]),a})();return J1.default=n,J1}var Sj,O6;function Gre(){if(O6)return Sj;O6=1;var r=Rre(),e=y(r),n=dy(),a=y(n),i=Lre(),s=y(i),c=Ure(),l=y(c),u=zre(),o=y(u),h=LF(),d=y(h),A=Kre(),f=y(A),g=QF(),m=UF(),x=y(m);function y(K){return K&&K.__esModule?K:{default:K}}var b=function(){},w=function(te,q,Y){var P=new b;if(typeof te>"u")throw Error("No element to render on was provided.");return P._renderProperties=(0,o.default)(te),P._encodings=[],P._options=x.default,P._errorHandler=new f.default(P),typeof q<"u"&&(Y=Y||{},Y.format||(Y.format=O()),P.options(Y)[Y.format](q,Y).render()),P};w.getModule=function(K){return e.default[K]};for(var S in e.default)e.default.hasOwnProperty(S)&&N(e.default,S);function N(K,te){b.prototype[te]=b.prototype[te.toUpperCase()]=b.prototype[te.toLowerCase()]=function(q,Y){var P=this;return P._errorHandler.wrapBarcodeCall(function(){Y.text=typeof Y.text>"u"?void 0:""+Y.text;var ce=(0,a.default)(P._options,Y);ce=(0,d.default)(ce);var $=K[te],R=C(q,$,ce);return P._encodings.push(R),P})}}function C(K,te,q){K=""+K;var Y=new te(K,q);if(!Y.valid())throw new g.InvalidInputException(Y.constructor.name,K);var P=Y.encode();P=(0,s.default)(P);for(var ce=0;ce<P.length;ce++)P[ce].options=(0,a.default)(q,P[ce].options);return P}function O(){return e.default.CODE128?"CODE128":Object.keys(e.default)[0]}b.prototype.options=function(K){return this._options=(0,a.default)(this._options,K),this},b.prototype.blank=function(K){var te=new Array(K+1).join("0");return this._encodings.push({data:te}),this},b.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var K;for(var te in this._renderProperties){K=this._renderProperties[te];var q=(0,a.default)(this._options,K.options);q.format=="auto"&&(q.format=O()),this._errorHandler.wrapBarcodeCall(function(){var Y=q.value,P=e.default[q.format.toUpperCase()],ce=C(Y,P,q);W(K,ce,q)})}}},b.prototype.render=function(){if(!this._renderProperties)throw new g.NoElementException;if(Array.isArray(this._renderProperties))for(var K=0;K<this._renderProperties.length;K++)W(this._renderProperties[K],this._encodings,this._options);else W(this._renderProperties,this._encodings,this._options);return this},b.prototype._defaults=x.default;function W(K,te,q){te=(0,s.default)(te);for(var Y=0;Y<te.length;Y++)te[Y].options=(0,a.default)(q,te[Y].options),(0,l.default)(te[Y].options);(0,l.default)(q);var P=K.renderer,ce=new P(K.element,te,q);ce.render(),K.afterRender&&K.afterRender()}return typeof window<"u"&&(window.JsBarcode=w),typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(K,te){var q=[];return jQuery(this).each(function(){q.push(this)}),w(q,K,te)}),Sj=w,Sj}var qre=Gre();const k6=ts(qre);var Up={},Ej,P6;function Xre(){return P6||(P6=1,Ej=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),Ej}var Bj={},GA={},F6;function bp(){if(F6)return GA;F6=1;let r;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return GA.getSymbolSize=function(a){if(!a)throw new Error('"version" cannot be null or undefined');if(a<1||a>40)throw new Error('"version" should be in range from 1 to 40');return a*4+17},GA.getSymbolTotalCodewords=function(a){return e[a]},GA.getBCHDigit=function(n){let a=0;for(;n!==0;)a++,n>>>=1;return a},GA.setToSJISFunction=function(a){if(typeof a!="function")throw new Error('"toSJISFunc" is not a valid function.');r=a},GA.isKanjiModeEnabled=function(){return typeof r<"u"},GA.toSJIS=function(a){return r(a)},GA}var Ij={},D6;function iS(){return D6||(D6=1,(function(r){r.L={bit:1},r.M={bit:0},r.Q={bit:3},r.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return r.L;case"m":case"medium":return r.M;case"q":case"quartile":return r.Q;case"h":case"high":return r.H;default:throw new Error("Unknown EC Level: "+n)}}r.isValid=function(a){return a&&typeof a.bit<"u"&&a.bit>=0&&a.bit<4},r.from=function(a,i){if(r.isValid(a))return a;try{return e(a)}catch{return i}}})(Ij)),Ij}var Tj,M6;function Yre(){if(M6)return Tj;M6=1;function r(){this.buffer=[],this.length=0}return r.prototype={get:function(e){const n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)===1},put:function(e,n){for(let a=0;a<n;a++)this.putBit((e>>>n-a-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},Tj=r,Tj}var _j,R6;function Zre(){if(R6)return _j;R6=1;function r(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return r.prototype.set=function(e,n,a,i){const s=e*this.size+n;this.data[s]=a,i&&(this.reservedBit[s]=!0)},r.prototype.get=function(e,n){return this.data[e*this.size+n]},r.prototype.xor=function(e,n,a){this.data[e*this.size+n]^=a},r.prototype.isReserved=function(e,n){return this.reservedBit[e*this.size+n]},_j=r,_j}var Oj={},L6;function Jre(){return L6||(L6=1,(function(r){const e=bp().getSymbolSize;r.getRowColCoords=function(a){if(a===1)return[];const i=Math.floor(a/7)+2,s=e(a),c=s===145?26:Math.ceil((s-13)/(2*i-2))*2,l=[s-7];for(let u=1;u<i-1;u++)l[u]=l[u-1]-c;return l.push(6),l.reverse()},r.getPositions=function(a){const i=[],s=r.getRowColCoords(a),c=s.length;for(let l=0;l<c;l++)for(let u=0;u<c;u++)l===0&&u===0||l===0&&u===c-1||l===c-1&&u===0||i.push([s[l],s[u]]);return i}})(Oj)),Oj}var kj={},U6;function ene(){if(U6)return kj;U6=1;const r=bp().getSymbolSize,e=7;return kj.getPositions=function(a){const i=r(a);return[[0,0],[i-e,0],[0,i-e]]},kj}var Pj={},H6;function tne(){return H6||(H6=1,(function(r){r.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};r.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},r.from=function(i){return r.isValid(i)?parseInt(i,10):void 0},r.getPenaltyN1=function(i){const s=i.size;let c=0,l=0,u=0,o=null,h=null;for(let d=0;d<s;d++){l=u=0,o=h=null;for(let A=0;A<s;A++){let f=i.get(d,A);f===o?l++:(l>=5&&(c+=e.N1+(l-5)),o=f,l=1),f=i.get(A,d),f===h?u++:(u>=5&&(c+=e.N1+(u-5)),h=f,u=1)}l>=5&&(c+=e.N1+(l-5)),u>=5&&(c+=e.N1+(u-5))}return c},r.getPenaltyN2=function(i){const s=i.size;let c=0;for(let l=0;l<s-1;l++)for(let u=0;u<s-1;u++){const o=i.get(l,u)+i.get(l,u+1)+i.get(l+1,u)+i.get(l+1,u+1);(o===4||o===0)&&c++}return c*e.N2},r.getPenaltyN3=function(i){const s=i.size;let c=0,l=0,u=0;for(let o=0;o<s;o++){l=u=0;for(let h=0;h<s;h++)l=l<<1&2047|i.get(o,h),h>=10&&(l===1488||l===93)&&c++,u=u<<1&2047|i.get(h,o),h>=10&&(u===1488||u===93)&&c++}return c*e.N3},r.getPenaltyN4=function(i){let s=0;const c=i.data.length;for(let u=0;u<c;u++)s+=i.data[u];return Math.abs(Math.ceil(s*100/c/5)-10)*e.N4};function n(a,i,s){switch(a){case r.Patterns.PATTERN000:return(i+s)%2===0;case r.Patterns.PATTERN001:return i%2===0;case r.Patterns.PATTERN010:return s%3===0;case r.Patterns.PATTERN011:return(i+s)%3===0;case r.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case r.Patterns.PATTERN101:return i*s%2+i*s%3===0;case r.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case r.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+a)}}r.applyMask=function(i,s){const c=s.size;for(let l=0;l<c;l++)for(let u=0;u<c;u++)s.isReserved(u,l)||s.xor(u,l,n(i,u,l))},r.getBestMask=function(i,s){const c=Object.keys(r.Patterns).length;let l=0,u=1/0;for(let o=0;o<c;o++){s(o),r.applyMask(o,i);const h=r.getPenaltyN1(i)+r.getPenaltyN2(i)+r.getPenaltyN3(i)+r.getPenaltyN4(i);r.applyMask(o,i),h<u&&(u=h,l=o)}return l}})(Pj)),Pj}var ev={},Q6;function WF(){if(Q6)return ev;Q6=1;const r=iS(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return ev.getBlocksCount=function(i,s){switch(s){case r.L:return e[(i-1)*4+0];case r.M:return e[(i-1)*4+1];case r.Q:return e[(i-1)*4+2];case r.H:return e[(i-1)*4+3];default:return}},ev.getTotalCodewordsCount=function(i,s){switch(s){case r.L:return n[(i-1)*4+0];case r.M:return n[(i-1)*4+1];case r.Q:return n[(i-1)*4+2];case r.H:return n[(i-1)*4+3];default:return}},ev}var Fj={},N0={},W6;function rne(){if(W6)return N0;W6=1;const r=new Uint8Array(512),e=new Uint8Array(256);return(function(){let a=1;for(let i=0;i<255;i++)r[i]=a,e[a]=i,a<<=1,a&256&&(a^=285);for(let i=255;i<512;i++)r[i]=r[i-255]})(),N0.log=function(a){if(a<1)throw new Error("log("+a+")");return e[a]},N0.exp=function(a){return r[a]},N0.mul=function(a,i){return a===0||i===0?0:r[e[a]+e[i]]},N0}var $6;function nne(){return $6||($6=1,(function(r){const e=rne();r.mul=function(a,i){const s=new Uint8Array(a.length+i.length-1);for(let c=0;c<a.length;c++)for(let l=0;l<i.length;l++)s[c+l]^=e.mul(a[c],i[l]);return s},r.mod=function(a,i){let s=new Uint8Array(a);for(;s.length-i.length>=0;){const c=s[0];for(let u=0;u<i.length;u++)s[u]^=e.mul(i[u],c);let l=0;for(;l<s.length&&s[l]===0;)l++;s=s.slice(l)}return s},r.generateECPolynomial=function(a){let i=new Uint8Array([1]);for(let s=0;s<a;s++)i=r.mul(i,new Uint8Array([1,e.exp(s)]));return i}})(Fj)),Fj}var Dj,V6;function ane(){if(V6)return Dj;V6=1;const r=nne();function e(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(a){this.degree=a,this.genPoly=r.generateECPolynomial(this.degree)},e.prototype.encode=function(a){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(a.length+this.degree);i.set(a);const s=r.mod(i,this.genPoly),c=this.degree-s.length;if(c>0){const l=new Uint8Array(this.degree);return l.set(s,c),l}return s},Dj=e,Dj}var Mj={},Rj={},Lj={},z6;function $F(){return z6||(z6=1,Lj.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),Lj}var Bh={},K6;function VF(){if(K6)return Bh;K6=1;const r="[0-9]+",e="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const a="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;Bh.KANJI=new RegExp(n,"g"),Bh.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Bh.BYTE=new RegExp(a,"g"),Bh.NUMERIC=new RegExp(r,"g"),Bh.ALPHANUMERIC=new RegExp(e,"g");const i=new RegExp("^"+n+"$"),s=new RegExp("^"+r+"$"),c=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Bh.testKanji=function(u){return i.test(u)},Bh.testNumeric=function(u){return s.test(u)},Bh.testAlphanumeric=function(u){return c.test(u)},Bh}var G6;function wp(){return G6||(G6=1,(function(r){const e=$F(),n=VF();r.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},r.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},r.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},r.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},r.MIXED={bit:-1},r.getCharCountIndicator=function(s,c){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(c))throw new Error("Invalid version: "+c);return c>=1&&c<10?s.ccBits[0]:c<27?s.ccBits[1]:s.ccBits[2]},r.getBestModeForData=function(s){return n.testNumeric(s)?r.NUMERIC:n.testAlphanumeric(s)?r.ALPHANUMERIC:n.testKanji(s)?r.KANJI:r.BYTE},r.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},r.isValid=function(s){return s&&s.bit&&s.ccBits};function a(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return r.NUMERIC;case"alphanumeric":return r.ALPHANUMERIC;case"kanji":return r.KANJI;case"byte":return r.BYTE;default:throw new Error("Unknown mode: "+i)}}r.from=function(s,c){if(r.isValid(s))return s;try{return a(s)}catch{return c}}})(Rj)),Rj}var q6;function ine(){return q6||(q6=1,(function(r){const e=bp(),n=WF(),a=iS(),i=wp(),s=$F(),c=7973,l=e.getBCHDigit(c);function u(A,f,g){for(let m=1;m<=40;m++)if(f<=r.getCapacity(m,g,A))return m}function o(A,f){return i.getCharCountIndicator(A,f)+4}function h(A,f){let g=0;return A.forEach(function(m){const x=o(m.mode,f);g+=x+m.getBitsLength()}),g}function d(A,f){for(let g=1;g<=40;g++)if(h(A,g)<=r.getCapacity(g,f,i.MIXED))return g}r.from=function(f,g){return s.isValid(f)?parseInt(f,10):g},r.getCapacity=function(f,g,m){if(!s.isValid(f))throw new Error("Invalid QR Code version");typeof m>"u"&&(m=i.BYTE);const x=e.getSymbolTotalCodewords(f),y=n.getTotalCodewordsCount(f,g),b=(x-y)*8;if(m===i.MIXED)return b;const w=b-o(m,f);switch(m){case i.NUMERIC:return Math.floor(w/10*3);case i.ALPHANUMERIC:return Math.floor(w/11*2);case i.KANJI:return Math.floor(w/13);case i.BYTE:default:return Math.floor(w/8)}},r.getBestVersionForData=function(f,g){let m;const x=a.from(g,a.M);if(Array.isArray(f)){if(f.length>1)return d(f,x);if(f.length===0)return 1;m=f[0]}else m=f;return u(m.mode,m.getLength(),x)},r.getEncodedBits=function(f){if(!s.isValid(f)||f<7)throw new Error("Invalid QR Code version");let g=f<<12;for(;e.getBCHDigit(g)-l>=0;)g^=c<<e.getBCHDigit(g)-l;return f<<12|g}})(Mj)),Mj}var Uj={},X6;function sne(){if(X6)return Uj;X6=1;const r=bp(),e=1335,n=21522,a=r.getBCHDigit(e);return Uj.getEncodedBits=function(s,c){const l=s.bit<<3|c;let u=l<<10;for(;r.getBCHDigit(u)-a>=0;)u^=e<<r.getBCHDigit(u)-a;return(l<<10|u)^n},Uj}var Hj={},Qj,Y6;function one(){if(Y6)return Qj;Y6=1;const r=wp();function e(n){this.mode=r.NUMERIC,this.data=n.toString()}return e.getBitsLength=function(a){return 10*Math.floor(a/3)+(a%3?a%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(a){let i,s,c;for(i=0;i+3<=this.data.length;i+=3)s=this.data.substr(i,3),c=parseInt(s,10),a.put(c,10);const l=this.data.length-i;l>0&&(s=this.data.substr(i),c=parseInt(s,10),a.put(c,l*3+1))},Qj=e,Qj}var Wj,Z6;function lne(){if(Z6)return Wj;Z6=1;const r=wp(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(a){this.mode=r.ALPHANUMERIC,this.data=a}return n.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(i){let s;for(s=0;s+2<=this.data.length;s+=2){let c=e.indexOf(this.data[s])*45;c+=e.indexOf(this.data[s+1]),i.put(c,11)}this.data.length%2&&i.put(e.indexOf(this.data[s]),6)},Wj=n,Wj}var $j,J6;function cne(){if(J6)return $j;J6=1;const r=wp();function e(n){this.mode=r.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}return e.getBitsLength=function(a){return a*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(n){for(let a=0,i=this.data.length;a<i;a++)n.put(this.data[a],8)},$j=e,$j}var Vj,e_;function une(){if(e_)return Vj;e_=1;const r=wp(),e=bp();function n(a){this.mode=r.KANJI,this.data=a}return n.getBitsLength=function(i){return i*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(a){let i;for(i=0;i<this.data.length;i++){let s=e.toSJIS(this.data[i]);if(s>=33088&&s<=40956)s-=33088;else if(s>=57408&&s<=60351)s-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);s=(s>>>8&255)*192+(s&255),a.put(s,13)}},Vj=n,Vj}var zj={exports:{}},t_;function dne(){return t_||(t_=1,(function(r){var e={single_source_shortest_paths:function(n,a,i){var s={},c={};c[a]=0;var l=e.PriorityQueue.make();l.push(a,0);for(var u,o,h,d,A,f,g,m,x;!l.empty();){u=l.pop(),o=u.value,d=u.cost,A=n[o]||{};for(h in A)A.hasOwnProperty(h)&&(f=A[h],g=d+f,m=c[h],x=typeof c[h]>"u",(x||m>g)&&(c[h]=g,l.push(h,g),s[h]=o))}if(typeof i<"u"&&typeof c[i]>"u"){var y=["Could not find a path from ",a," to ",i,"."].join("");throw new Error(y)}return s},extract_shortest_path_from_predecessor_list:function(n,a){for(var i=[],s=a;s;)i.push(s),n[s],s=n[s];return i.reverse(),i},find_path:function(n,a,i){var s=e.single_source_shortest_paths(n,a,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(n){var a=e.PriorityQueue,i={},s;n=n||{};for(s in a)a.hasOwnProperty(s)&&(i[s]=a[s]);return i.queue=[],i.sorter=n.sorter||a.default_sorter,i},default_sorter:function(n,a){return n.cost-a.cost},push:function(n,a){var i={value:n,cost:a};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};r.exports=e})(zj)),zj.exports}var r_;function hne(){return r_||(r_=1,(function(r){const e=wp(),n=one(),a=lne(),i=cne(),s=une(),c=VF(),l=bp(),u=dne();function o(y){return unescape(encodeURIComponent(y)).length}function h(y,b,w){const S=[];let N;for(;(N=y.exec(w))!==null;)S.push({data:N[0],index:N.index,mode:b,length:N[0].length});return S}function d(y){const b=h(c.NUMERIC,e.NUMERIC,y),w=h(c.ALPHANUMERIC,e.ALPHANUMERIC,y);let S,N;return l.isKanjiModeEnabled()?(S=h(c.BYTE,e.BYTE,y),N=h(c.KANJI,e.KANJI,y)):(S=h(c.BYTE_KANJI,e.BYTE,y),N=[]),b.concat(w,S,N).sort(function(O,W){return O.index-W.index}).map(function(O){return{data:O.data,mode:O.mode,length:O.length}})}function A(y,b){switch(b){case e.NUMERIC:return n.getBitsLength(y);case e.ALPHANUMERIC:return a.getBitsLength(y);case e.KANJI:return s.getBitsLength(y);case e.BYTE:return i.getBitsLength(y)}}function f(y){return y.reduce(function(b,w){const S=b.length-1>=0?b[b.length-1]:null;return S&&S.mode===w.mode?(b[b.length-1].data+=w.data,b):(b.push(w),b)},[])}function g(y){const b=[];for(let w=0;w<y.length;w++){const S=y[w];switch(S.mode){case e.NUMERIC:b.push([S,{data:S.data,mode:e.ALPHANUMERIC,length:S.length},{data:S.data,mode:e.BYTE,length:S.length}]);break;case e.ALPHANUMERIC:b.push([S,{data:S.data,mode:e.BYTE,length:S.length}]);break;case e.KANJI:b.push([S,{data:S.data,mode:e.BYTE,length:o(S.data)}]);break;case e.BYTE:b.push([{data:S.data,mode:e.BYTE,length:o(S.data)}])}}return b}function m(y,b){const w={},S={start:{}};let N=["start"];for(let C=0;C<y.length;C++){const O=y[C],W=[];for(let K=0;K<O.length;K++){const te=O[K],q=""+C+K;W.push(q),w[q]={node:te,lastCount:0},S[q]={};for(let Y=0;Y<N.length;Y++){const P=N[Y];w[P]&&w[P].node.mode===te.mode?(S[P][q]=A(w[P].lastCount+te.length,te.mode)-A(w[P].lastCount,te.mode),w[P].lastCount+=te.length):(w[P]&&(w[P].lastCount=te.length),S[P][q]=A(te.length,te.mode)+4+e.getCharCountIndicator(te.mode,b))}}N=W}for(let C=0;C<N.length;C++)S[N[C]].end=0;return{map:S,table:w}}function x(y,b){let w;const S=e.getBestModeForData(y);if(w=e.from(b,S),w!==e.BYTE&&w.bit<S.bit)throw new Error('"'+y+'" cannot be encoded with mode '+e.toString(w)+`.
 Suggested mode is: `+e.toString(S));switch(w===e.KANJI&&!l.isKanjiModeEnabled()&&(w=e.BYTE),w){case e.NUMERIC:return new n(y);case e.ALPHANUMERIC:return new a(y);case e.KANJI:return new s(y);case e.BYTE:return new i(y)}}r.fromArray=function(b){return b.reduce(function(w,S){return typeof S=="string"?w.push(x(S,null)):S.data&&w.push(x(S.data,S.mode)),w},[])},r.fromString=function(b,w){const S=d(b,l.isKanjiModeEnabled()),N=g(S),C=m(N,w),O=u.find_path(C.map,"start","end"),W=[];for(let K=1;K<O.length-1;K++)W.push(C.table[O[K]].node);return r.fromArray(f(W))},r.rawSplit=function(b){return r.fromArray(d(b,l.isKanjiModeEnabled()))}})(Hj)),Hj}var n_;function Ane(){if(n_)return Bj;n_=1;const r=bp(),e=iS(),n=Yre(),a=Zre(),i=Jre(),s=ene(),c=tne(),l=WF(),u=ane(),o=ine(),h=sne(),d=wp(),A=hne();function f(C,O){const W=C.size,K=s.getPositions(O);for(let te=0;te<K.length;te++){const q=K[te][0],Y=K[te][1];for(let P=-1;P<=7;P++)if(!(q+P<=-1||W<=q+P))for(let ce=-1;ce<=7;ce++)Y+ce<=-1||W<=Y+ce||(P>=0&&P<=6&&(ce===0||ce===6)||ce>=0&&ce<=6&&(P===0||P===6)||P>=2&&P<=4&&ce>=2&&ce<=4?C.set(q+P,Y+ce,!0,!0):C.set(q+P,Y+ce,!1,!0))}}function g(C){const O=C.size;for(let W=8;W<O-8;W++){const K=W%2===0;C.set(W,6,K,!0),C.set(6,W,K,!0)}}function m(C,O){const W=i.getPositions(O);for(let K=0;K<W.length;K++){const te=W[K][0],q=W[K][1];for(let Y=-2;Y<=2;Y++)for(let P=-2;P<=2;P++)Y===-2||Y===2||P===-2||P===2||Y===0&&P===0?C.set(te+Y,q+P,!0,!0):C.set(te+Y,q+P,!1,!0)}}function x(C,O){const W=C.size,K=o.getEncodedBits(O);let te,q,Y;for(let P=0;P<18;P++)te=Math.floor(P/3),q=P%3+W-8-3,Y=(K>>P&1)===1,C.set(te,q,Y,!0),C.set(q,te,Y,!0)}function y(C,O,W){const K=C.size,te=h.getEncodedBits(O,W);let q,Y;for(q=0;q<15;q++)Y=(te>>q&1)===1,q<6?C.set(q,8,Y,!0):q<8?C.set(q+1,8,Y,!0):C.set(K-15+q,8,Y,!0),q<8?C.set(8,K-q-1,Y,!0):q<9?C.set(8,15-q-1+1,Y,!0):C.set(8,15-q-1,Y,!0);C.set(K-8,8,1,!0)}function b(C,O){const W=C.size;let K=-1,te=W-1,q=7,Y=0;for(let P=W-1;P>0;P-=2)for(P===6&&P--;;){for(let ce=0;ce<2;ce++)if(!C.isReserved(te,P-ce)){let $=!1;Y<O.length&&($=(O[Y]>>>q&1)===1),C.set(te,P-ce,$),q--,q===-1&&(Y++,q=7)}if(te+=K,te<0||W<=te){te-=K,K=-K;break}}}function w(C,O,W){const K=new n;W.forEach(function(ce){K.put(ce.mode.bit,4),K.put(ce.getLength(),d.getCharCountIndicator(ce.mode,C)),ce.write(K)});const te=r.getSymbolTotalCodewords(C),q=l.getTotalCodewordsCount(C,O),Y=(te-q)*8;for(K.getLengthInBits()+4<=Y&&K.put(0,4);K.getLengthInBits()%8!==0;)K.putBit(0);const P=(Y-K.getLengthInBits())/8;for(let ce=0;ce<P;ce++)K.put(ce%2?17:236,8);return S(K,C,O)}function S(C,O,W){const K=r.getSymbolTotalCodewords(O),te=l.getTotalCodewordsCount(O,W),q=K-te,Y=l.getBlocksCount(O,W),P=K%Y,ce=Y-P,$=Math.floor(K/Y),R=Math.floor(q/Y),se=R+1,fe=$-R,Te=new u(fe);let Ie=0;const _e=new Array(Y),Z=new Array(Y);let Oe=0;const ee=new Uint8Array(C.buffer);for(let me=0;me<Y;me++){const ie=me<ce?R:se;_e[me]=ee.slice(Ie,Ie+ie),Z[me]=Te.encode(_e[me]),Ie+=ie,Oe=Math.max(Oe,ie)}const re=new Uint8Array(K);let je=0,Ne,ye;for(Ne=0;Ne<Oe;Ne++)for(ye=0;ye<Y;ye++)Ne<_e[ye].length&&(re[je++]=_e[ye][Ne]);for(Ne=0;Ne<fe;Ne++)for(ye=0;ye<Y;ye++)re[je++]=Z[ye][Ne];return re}function N(C,O,W,K){let te;if(Array.isArray(C))te=A.fromArray(C);else if(typeof C=="string"){let $=O;if(!$){const R=A.rawSplit(C);$=o.getBestVersionForData(R,W)}te=A.fromString(C,$||40)}else throw new Error("Invalid data");const q=o.getBestVersionForData(te,W);if(!q)throw new Error("The amount of data is too big to be stored in a QR Code");if(!O)O=q;else if(O<q)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+q+`.
`);const Y=w(O,W,te),P=r.getSymbolSize(O),ce=new a(P);return f(ce,O),g(ce),m(ce,O),y(ce,W,0),O>=7&&x(ce,O),b(ce,Y),isNaN(K)&&(K=c.getBestMask(ce,y.bind(null,ce,W))),c.applyMask(K,ce),y(ce,W,K),{modules:ce,version:O,errorCorrectionLevel:W,maskPattern:K,segments:te}}return Bj.create=function(O,W){if(typeof O>"u"||O==="")throw new Error("No input text");let K=e.M,te,q;return typeof W<"u"&&(K=e.from(W.errorCorrectionLevel,e.M),te=o.from(W.version),q=c.from(W.maskPattern),W.toSJISFunc&&r.setToSJISFunction(W.toSJISFunc)),N(O,te,K,q)},Bj}var Kj={},Gj={},a_;function zF(){return a_||(a_=1,(function(r){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let a=n.slice().replace("#","").split("");if(a.length<3||a.length===5||a.length>8)throw new Error("Invalid hex color: "+n);(a.length===3||a.length===4)&&(a=Array.prototype.concat.apply([],a.map(function(s){return[s,s]}))),a.length===6&&a.push("F","F");const i=parseInt(a.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+a.slice(0,6).join("")}}r.getOptions=function(a){a||(a={}),a.color||(a.color={});const i=typeof a.margin>"u"||a.margin===null||a.margin<0?4:a.margin,s=a.width&&a.width>=21?a.width:void 0,c=a.scale||4;return{width:s,scale:s?4:c,margin:i,color:{dark:e(a.color.dark||"#000000ff"),light:e(a.color.light||"#ffffffff")},type:a.type,rendererOpts:a.rendererOpts||{}}},r.getScale=function(a,i){return i.width&&i.width>=a+i.margin*2?i.width/(a+i.margin*2):i.scale},r.getImageWidth=function(a,i){const s=r.getScale(a,i);return Math.floor((a+i.margin*2)*s)},r.qrToImageData=function(a,i,s){const c=i.modules.size,l=i.modules.data,u=r.getScale(c,s),o=Math.floor((c+s.margin*2)*u),h=s.margin*u,d=[s.color.light,s.color.dark];for(let A=0;A<o;A++)for(let f=0;f<o;f++){let g=(A*o+f)*4,m=s.color.light;if(A>=h&&f>=h&&A<o-h&&f<o-h){const x=Math.floor((A-h)/u),y=Math.floor((f-h)/u);m=d[l[x*c+y]?1:0]}a[g++]=m.r,a[g++]=m.g,a[g++]=m.b,a[g]=m.a}}})(Gj)),Gj}var i_;function fne(){return i_||(i_=1,(function(r){const e=zF();function n(i,s,c){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=c,s.width=c,s.style.height=c+"px",s.style.width=c+"px"}function a(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}r.render=function(s,c,l){let u=l,o=c;typeof u>"u"&&(!c||!c.getContext)&&(u=c,c=void 0),c||(o=a()),u=e.getOptions(u);const h=e.getImageWidth(s.modules.size,u),d=o.getContext("2d"),A=d.createImageData(h,h);return e.qrToImageData(A.data,s,u),n(d,o,h),d.putImageData(A,0,0),o},r.renderToDataURL=function(s,c,l){let u=l;typeof u>"u"&&(!c||!c.getContext)&&(u=c,c=void 0),u||(u={});const o=r.render(s,c,u),h=u.type||"image/png",d=u.rendererOpts||{};return o.toDataURL(h,d.quality)}})(Kj)),Kj}var qj={},s_;function pne(){if(s_)return qj;s_=1;const r=zF();function e(i,s){const c=i.a/255,l=s+'="'+i.hex+'"';return c<1?l+" "+s+'-opacity="'+c.toFixed(2).slice(1)+'"':l}function n(i,s,c){let l=i+s;return typeof c<"u"&&(l+=" "+c),l}function a(i,s,c){let l="",u=0,o=!1,h=0;for(let d=0;d<i.length;d++){const A=Math.floor(d%s),f=Math.floor(d/s);!A&&!o&&(o=!0),i[d]?(h++,d>0&&A>0&&i[d-1]||(l+=o?n("M",A+c,.5+f+c):n("m",u,0),u=0,o=!1),A+1<s&&i[d+1]||(l+=n("h",h),h=0)):u++}return l}return qj.render=function(s,c,l){const u=r.getOptions(c),o=s.modules.size,h=s.modules.data,d=o+u.margin*2,A=u.color.light.a?"<path "+e(u.color.light,"fill")+' d="M0 0h'+d+"v"+d+'H0z"/>':"",f="<path "+e(u.color.dark,"stroke")+' d="'+a(h,o,u.margin)+'"/>',g='viewBox="0 0 '+d+" "+d+'"',x='<svg xmlns="http://www.w3.org/2000/svg" '+(u.width?'width="'+u.width+'" height="'+u.width+'" ':"")+g+' shape-rendering="crispEdges">'+A+f+`</svg>
`;return typeof l=="function"&&l(null,x),x},qj}var o_;function mne(){if(o_)return Up;o_=1;const r=Xre(),e=Ane(),n=fne(),a=pne();function i(s,c,l,u,o){const h=[].slice.call(arguments,1),d=h.length,A=typeof h[d-1]=="function";if(!A&&!r())throw new Error("Callback required as last argument");if(A){if(d<2)throw new Error("Too few arguments provided");d===2?(o=l,l=c,c=u=void 0):d===3&&(c.getContext&&typeof o>"u"?(o=u,u=void 0):(o=u,u=l,l=c,c=void 0))}else{if(d<1)throw new Error("Too few arguments provided");return d===1?(l=c,c=u=void 0):d===2&&!c.getContext&&(u=l,l=c,c=void 0),new Promise(function(f,g){try{const m=e.create(l,u);f(s(m,c,u))}catch(m){g(m)}})}try{const f=e.create(l,u);o(null,s(f,c,u))}catch(f){o(f)}}return Up.create=e.create,Up.toCanvas=i.bind(null,n.render),Up.toDataURL=i.bind(null,n.renderToDataURL),Up.toString=i.bind(null,function(s,c,l){return a.render(s,l)}),Up}var gne=mne();const l_=ts(gne),vne=()=>{const{logout:r,permissions:e}=da(),n=Tn(),[a,i]=k.useState(""),[s,c]=k.useState(!1),[l,u]=k.useState(!1),[o,h]=k.useState(!1),[d,A]=k.useState([]),f=k.useRef(null),[g,m]=k.useState({companyId:"",hcfId:"",barcodeType:"",colorBlock:""}),[x,y]=k.useState([]),[b,w]=k.useState([]),[S,N]=k.useState([]),[C,O]=k.useState([]),[W,K]=k.useState(!1),[te,q]=k.useState(null),[Y,P]=k.useState(!1),ce=()=>{P(!Y)},[$,R]=k.useState({companyId:"",hcfId:"",hcfCode:"",prefix:"HCF",startSequence:1,endSequence:10,barcodeType:"Barcode",colorBlock:"White",count:1}),se=k.useCallback(async()=>{try{const ee=await Ha.getAllCompanies(void 0,!0);y(ee)}catch(ee){console.error("Failed to load companies:",ee),q("Failed to load companies")}},[]),fe=k.useCallback(async()=>{try{const ee=await Fs.getAllHcfs(void 0,!0);w(ee)}catch(ee){console.error("Failed to load HCFs:",ee),q("Failed to load HCFs")}},[]);k.useEffect(()=>{if($.companyId){const ee=b.filter(re=>re.companyId===$.companyId);N(ee),$.hcfId&&!ee.find(re=>re.id===$.hcfId)&&R(re=>({...re,hcfId:""}))}else N([]),R(ee=>({...ee,hcfId:""}))},[$.companyId,b]);const Te=k.useCallback(async()=>{try{K(!0);const ee=await ep.getAllBarcodeLabels(),re=await Promise.all(ee.map(async je=>{const Ne=x.find(me=>me.id===je.companyId);let ye="";try{ye=(await Fs.getHcfById(je.hcfId)).hcfName}catch(me){console.error("Error loading HCF:",me)}return{id:je.id,hcfCode:je.hcfCode,hcfName:ye,companyId:je.companyId,companyName:(Ne==null?void 0:Ne.companyName)||"Unknown",sequenceNumber:je.sequenceNumber,barcodeType:je.barcodeType,colorBlock:je.colorBlock,barcodeValue:je.barcodeValue,createdAt:je.createdOn}}));O(re)}catch(ee){console.error("Failed to load labels:",ee),q("Failed to load labels")}finally{K(!1)}},[x]);k.useEffect(()=>{se(),fe()},[se,fe]),k.useEffect(()=>{x.length>0&&Te()},[x,Te]),k.useCallback(async(ee,re)=>{try{return await ep.getLastSequence(ee,re)}catch(je){return console.error("Failed to get last sequence:",je),0}},[]);const Ie=async()=>{const ee=$.endSequence-$.startSequence+1;if(!$.companyId||!$.hcfId||ee<1){q("Please select company, HCF, and enter valid sequence range");return}const re=S.find(Ne=>Ne.id===$.hcfId),je=x.find(Ne=>Ne.id===$.companyId);if(!re||!je){q("Invalid selection");return}try{K(!0),q(null);const ye=(await ep.generateLabels({hcfId:$.hcfId,companyId:$.companyId,barcodeType:$.barcodeType,colorBlock:$.colorBlock,count:ee})).map(me=>({id:me.id,hcfCode:me.hcfCode,hcfName:re.hcfName,companyId:me.companyId,companyName:je.companyName,sequenceNumber:me.sequenceNumber,barcodeType:me.barcodeType,colorBlock:me.colorBlock,barcodeValue:me.barcodeValue,createdAt:me.createdOn}));await Te(),A(ye),u(!0),c(!1),R(me=>({...me,companyId:"",hcfId:"",hcfCode:"",prefix:"HCF",startSequence:1,endSequence:10,barcodeType:"Barcode",colorBlock:"White",count:1}))}catch(Ne){const ye=Ne instanceof Error?Ne.message:"Failed to generate labels";q(ye),console.error("Error generating labels:",Ne)}finally{K(!1)}};k.useEffect(()=>{l&&f.current&&d.length>0&&setTimeout(()=>{const ee=f.current;if(!ee)return;const re=ee.querySelectorAll(".barcode-svg"),je=ee.querySelectorAll(".qr-canvas");re.forEach((Ne,ye)=>{const me=d[ye];if(me&&me.barcodeType==="Barcode")try{Ne.innerHTML="",k6(Ne,me.barcodeValue,{format:"CODE128",width:2,height:50,displayValue:!1,margin:5})}catch(ie){console.error("Failed to generate barcode:",ie)}}),je.forEach((Ne,ye)=>{const me=d[ye];me&&me.barcodeType==="QR Code"&&l_.toCanvas(Ne,me.barcodeValue,{width:150,margin:2,color:{dark:"#000000",light:"#FFFFFF"}}).catch(ie=>{console.error("Failed to generate QR code:",ie)})})},100)},[d,l]);const _e=()=>{!f.current||d.length===0||setTimeout(()=>{const ee=f.current;if(!ee)return;const re=ee.querySelectorAll(".barcode-svg"),je=ee.querySelectorAll(".qr-canvas");re.forEach((Ne,ye)=>{const me=d[ye];if(me&&me.barcodeType==="Barcode")try{Ne.innerHTML="",k6(Ne,me.barcodeValue,{format:"CODE128",width:2,height:50,displayValue:!1,margin:5})}catch(ie){console.error("Failed to generate barcode:",ie)}}),je.forEach((Ne,ye)=>{const me=d[ye];me&&me.barcodeType==="QR Code"&&l_.toCanvas(Ne,me.barcodeValue,{width:150,margin:2,color:{dark:"#000000",light:"#FFFFFF"}}).catch(ie=>{console.error("Failed to generate QR code:",ie)})}),setTimeout(()=>{window.print()},200)},100)},Z=C.filter(ee=>{const re=ee.hcfCode.toLowerCase().includes(a.toLowerCase())||ee.hcfName.toLowerCase().includes(a.toLowerCase())||ee.companyName.toLowerCase().includes(a.toLowerCase())||ee.barcodeValue.toLowerCase().includes(a.toLowerCase()),je=!g.companyId||ee.companyId===g.companyId,Ne=!g.hcfId||ee.hcfCode===g.hcfId,ye=!g.barcodeType||ee.barcodeType===g.barcodeType,me=!g.colorBlock||ee.colorBlock===g.colorBlock;return re&&je&&Ne&&ye&&me}),Oe=us(e,n.pathname);return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${Y?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!Y&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:ce,"aria-label":Y?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:Y?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:Oe.map(ee=>t.jsx("li",{children:t.jsxs(Yr,{to:ee.path,className:`nav-link ${ee.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:ee.icon}),!Y&&t.jsx("span",{className:"nav-label",children:ee.label})]})},ee.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Yr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!Y&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!Y&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Transaction / Barcode Generation"})})}),t.jsxs("div",{className:"barcode-generation-page",children:[t.jsxs("div",{className:"barcode-generation-header",children:[t.jsx("h1",{className:"barcode-generation-title",children:"Barcode & QR Code Label Generation"}),t.jsx("p",{className:"barcode-generation-subtitle",children:"Generate and print labels with sequence numbers"})]}),t.jsxs("div",{className:"barcode-generation-actions",children:[t.jsxs("div",{className:"barcode-search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"barcode-search-input",placeholder:"Search by HCF Code, Name, Company, or Barcode...",value:a,onChange:ee=>i(ee.target.value)})]}),t.jsxs("div",{className:"barcode-action-buttons-group",children:[t.jsxs("button",{className:"barcode-filter-btn",onClick:()=>h(!0),children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filters"]}),t.jsxs("button",{className:"generate-btn",onClick:()=>c(!0),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Generate Labels"]})]})]}),te&&t.jsxs("div",{className:"barcode-error-banner",children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),t.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),te]}),t.jsx("div",{className:"barcode-table-container",children:t.jsxs("table",{className:"barcode-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"SEQUENCE"}),t.jsx("th",{children:"HCF CODE"}),t.jsx("th",{children:"HCF NAME"}),t.jsx("th",{children:"COMPANY"}),t.jsx("th",{children:"TYPE"}),t.jsx("th",{children:"COLOR BLOCK"}),t.jsx("th",{children:"BARCODE VALUE"}),t.jsx("th",{children:"ACTIONS"})]})}),t.jsx("tbody",{children:Z.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:8,className:"empty-message",children:'No labels found. Click "Generate Labels" to create barcode/QR labels.'})}):Z.map(ee=>t.jsxs("tr",{children:[t.jsx("td",{className:"sequence-cell",children:ee.sequenceNumber.toString().padStart(6,"0")}),t.jsx("td",{className:"hcf-code-cell",children:ee.hcfCode}),t.jsx("td",{children:ee.hcfName}),t.jsx("td",{children:ee.companyName}),t.jsx("td",{children:t.jsx("div",{className:"barcode-type-icon-wrapper",children:ee.barcodeType==="QR Code"?t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"3",y:"3",width:"5",height:"5"}),t.jsx("rect",{x:"16",y:"3",width:"5",height:"5"}),t.jsx("rect",{x:"3",y:"16",width:"5",height:"5"}),t.jsx("rect",{x:"7",y:"7",width:"2",height:"2"}),t.jsx("rect",{x:"15",y:"7",width:"2",height:"2"}),t.jsx("rect",{x:"7",y:"15",width:"2",height:"2"}),t.jsx("rect",{x:"11",y:"11",width:"2",height:"2"}),t.jsx("rect",{x:"16",y:"16",width:"5",height:"5"})]}):t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"4",y1:"8",x2:"4",y2:"16"}),t.jsx("line",{x1:"6",y1:"8",x2:"6",y2:"16"}),t.jsx("line",{x1:"8",y1:"8",x2:"8",y2:"16"}),t.jsx("line",{x1:"10",y1:"8",x2:"10",y2:"16"}),t.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),t.jsx("line",{x1:"14",y1:"8",x2:"14",y2:"16"}),t.jsx("line",{x1:"16",y1:"8",x2:"16",y2:"16"}),t.jsx("line",{x1:"18",y1:"8",x2:"18",y2:"16"}),t.jsx("line",{x1:"20",y1:"8",x2:"20",y2:"16"})]})})}),t.jsx("td",{children:t.jsxs("div",{className:"color-block-swatch-wrapper",children:[t.jsx("div",{className:`color-block-swatch color-block-swatch--${ee.colorBlock.toLowerCase()}`,style:{backgroundColor:ee.colorBlock==="Yellow"?"#FFFF00":ee.colorBlock==="Red"?"#FF0000":"#FFFFFF",border:ee.colorBlock==="White"?"1px solid #e2e8f0":"none"}}),t.jsx("span",{className:"color-block-hex",children:ee.colorBlock==="Yellow"?"#FFFF00":ee.colorBlock==="Red"?"#FF0000":"#FFFFFF"})]})}),t.jsx("td",{className:"barcode-value-cell",children:ee.barcodeValue}),t.jsx("td",{children:t.jsxs("div",{className:"barcode-table-action-buttons",children:[t.jsx("button",{className:"barcode-action-btn barcode-action-btn--view",onClick:()=>{A([ee]),u(!0)},title:"View",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),t.jsx("button",{className:"barcode-action-btn barcode-action-btn--download",onClick:()=>{A([ee]),u(!0),setTimeout(()=>_e(),200)},title:"Download",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),t.jsx("polyline",{points:"7 10 12 15 17 10"}),t.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]})}),t.jsx("button",{className:"barcode-action-btn barcode-action-btn--delete",onClick:async()=>{if(window.confirm("Are you sure you want to delete this label?"))try{await ep.deleteBarcodeLabel(ee.id),await Te()}catch{q("Failed to delete label")}},title:"Delete",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},ee.id))})]})}),t.jsxs("div",{className:"barcode-pagination-info",children:["Showing ",Z.length," of ",C.length," Labels"]})]})]}),s&&t.jsx(xne,{companies:x,hcfs:S,formData:$,setFormData:R,onClose:()=>c(!1),onGenerate:Ie}),o&&t.jsx(bne,{companies:x,hcfs:b,filters:g,setFilters:m,onClose:()=>h(!1),onClear:()=>m({companyId:"",hcfId:"",barcodeType:"",colorBlock:""})}),l&&d.length>0&&t.jsx(yne,{labels:d,printContainerRef:f,onClose:()=>u(!1),onPrint:_e}),t.jsx("div",{className:"print-container",ref:f,children:d.map(ee=>t.jsxs("div",{className:"print-label",children:[t.jsxs("div",{className:"print-label-header",children:[t.jsx("div",{className:`print-color-block-square print-color-block-square--${ee.colorBlock.toLowerCase()}`,children:ee.colorBlock.toUpperCase()}),t.jsxs("div",{className:"print-sequence-text",children:["Seq. No. ",ee.sequenceNumber.toString().padStart(15,"0")]})]}),t.jsxs("div",{className:"print-barcode-container",children:[ee.barcodeType==="QR Code"?t.jsx("canvas",{className:"qr-canvas",width:"150",height:"150"}):t.jsx("svg",{className:"barcode-svg"}),t.jsx("div",{className:"print-barcode-value",children:ee.barcodeValue})]}),t.jsx("div",{className:"print-label-footer",children:t.jsx("div",{className:"print-type-label",children:ee.barcodeType==="QR Code"?"QR Code":"Bar Code"})})]},ee.id))})]})},xne=({companies:r,hcfs:e,formData:n,setFormData:a,onClose:i,onGenerate:s})=>{e.find(d=>d.id===n.hcfId);const c=n.companyId?e.filter(d=>d.companyId===n.companyId):e,l=n.endSequence>=n.startSequence?n.endSequence-n.startSequence+1:0,u=n.hcfCode&&n.startSequence?`${n.prefix}-${n.hcfCode}-${n.startSequence.toString().padStart(6,"0")}`:"",o=d=>{a({...n,hcfCode:d});const A=c.find(f=>f.hcfCode.toUpperCase()===d.toUpperCase());a(A?f=>({...f,hcfCode:d,hcfId:A.id}):f=>({...f,hcfCode:d,hcfId:""}))},h=d=>{const A=e.find(f=>f.id===d);A&&a({...n,hcfId:d,hcfCode:A.hcfCode})};return t.jsx("div",{className:"modal-overlay bg-generate-modal-overlay",onClick:i,children:t.jsxs("div",{className:"modal-content bg-generate-modal",onClick:d=>d.stopPropagation(),children:[t.jsxs("div",{className:"bg-generate-modal-header",children:[t.jsxs("div",{className:"bg-generate-modal-titlewrap",children:[t.jsx("div",{className:"bg-generate-icon","aria-hidden":"true",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"3",y:"3",width:"5",height:"5"}),t.jsx("rect",{x:"16",y:"3",width:"5",height:"5"}),t.jsx("rect",{x:"3",y:"16",width:"5",height:"5"}),t.jsx("rect",{x:"7",y:"7",width:"2",height:"2"}),t.jsx("rect",{x:"15",y:"7",width:"2",height:"2"}),t.jsx("rect",{x:"7",y:"15",width:"2",height:"2"}),t.jsx("rect",{x:"11",y:"11",width:"2",height:"2"}),t.jsx("rect",{x:"16",y:"16",width:"5",height:"5"})]})}),t.jsxs("div",{children:[t.jsx("h2",{className:"bg-generate-modal-title",children:"Generate Labels"}),t.jsx("p",{className:"bg-generate-modal-subtitle",children:"Create barcode or QR code labels"})]})]}),t.jsx("button",{className:"bg-generate-close",onClick:i,"aria-label":"Close",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"bg-generate-form",onSubmit:d=>{d.preventDefault(),s()},children:[t.jsxs("div",{className:"bg-generate-form-section",children:[t.jsxs("label",{className:"bg-generate-form-label",children:["LABEL TYPE ",t.jsx("span",{className:"bg-required",children:"*"})]}),t.jsxs("div",{className:"bg-label-type-options",children:[t.jsxs("button",{type:"button",className:`bg-label-type-btn ${n.barcodeType==="Barcode"?"bg-label-type-btn--active":""}`,onClick:()=>a({...n,barcodeType:"Barcode"}),children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"4",y1:"8",x2:"4",y2:"16"}),t.jsx("line",{x1:"6",y1:"8",x2:"6",y2:"16"}),t.jsx("line",{x1:"8",y1:"8",x2:"8",y2:"16"}),t.jsx("line",{x1:"10",y1:"8",x2:"10",y2:"16"}),t.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),t.jsx("line",{x1:"14",y1:"8",x2:"14",y2:"16"}),t.jsx("line",{x1:"16",y1:"8",x2:"16",y2:"16"}),t.jsx("line",{x1:"18",y1:"8",x2:"18",y2:"16"}),t.jsx("line",{x1:"20",y1:"8",x2:"20",y2:"16"})]}),"Barcode"]}),t.jsxs("button",{type:"button",className:`bg-label-type-btn ${n.barcodeType==="QR Code"?"bg-label-type-btn--active":""}`,onClick:()=>a({...n,barcodeType:"QR Code"}),children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"3",y:"3",width:"5",height:"5"}),t.jsx("rect",{x:"16",y:"3",width:"5",height:"5"}),t.jsx("rect",{x:"3",y:"16",width:"5",height:"5"}),t.jsx("rect",{x:"7",y:"7",width:"2",height:"2"}),t.jsx("rect",{x:"15",y:"7",width:"2",height:"2"}),t.jsx("rect",{x:"7",y:"15",width:"2",height:"2"}),t.jsx("rect",{x:"11",y:"11",width:"2",height:"2"}),t.jsx("rect",{x:"16",y:"16",width:"5",height:"5"})]}),"QR Code"]})]})]}),t.jsx("div",{className:"bg-generate-form-section",children:t.jsxs("div",{className:"bg-generate-form-grid",children:[t.jsxs("div",{className:"bg-generate-form-group",children:[t.jsxs("label",{className:"bg-generate-form-label",children:["START SEQUENCE ",t.jsx("span",{className:"bg-required",children:"*"})]}),t.jsx("input",{type:"number",value:n.startSequence,onChange:d=>a({...n,startSequence:parseInt(d.target.value)||1}),required:!0,min:1,className:"bg-generate-input"})]}),t.jsxs("div",{className:"bg-generate-form-group",children:[t.jsxs("label",{className:"bg-generate-form-label",children:["END SEQUENCE ",t.jsx("span",{className:"bg-required",children:"*"})]}),t.jsx("input",{type:"number",value:n.endSequence,onChange:d=>a({...n,endSequence:parseInt(d.target.value)||1}),required:!0,min:n.startSequence,className:"bg-generate-input"})]})]})}),t.jsx("div",{className:"bg-generate-form-section",children:t.jsxs("div",{className:"bg-generate-form-grid",children:[t.jsxs("div",{className:"bg-generate-form-group",children:[t.jsxs("label",{className:"bg-generate-form-label",children:["HCF CODE ",t.jsx("span",{className:"bg-required",children:"*"})]}),t.jsx("input",{type:"text",value:n.hcfCode,onChange:d=>o(d.target.value),required:!0,placeholder:"e.g., MH01",className:"bg-generate-input"})]}),t.jsxs("div",{className:"bg-generate-form-group",children:[t.jsxs("label",{className:"bg-generate-form-label",children:["HCF NAME ",t.jsx("span",{className:"bg-required",children:"*"})]}),t.jsxs("select",{value:n.hcfId,onChange:d=>h(d.target.value),required:!0,disabled:!n.companyId,className:"bg-generate-select",children:[t.jsx("option",{value:"",children:"Select HCF"}),c.map(d=>t.jsx("option",{value:d.id,children:d.hcfName},d.id))]})]})]})}),t.jsx("div",{className:"bg-generate-form-section",children:t.jsxs("div",{className:"bg-generate-form-grid",children:[t.jsxs("div",{className:"bg-generate-form-group",children:[t.jsxs("label",{className:"bg-generate-form-label",children:["COMPANY ",t.jsx("span",{className:"bg-required",children:"*"})]}),t.jsxs("select",{value:n.companyId,onChange:d=>a({...n,companyId:d.target.value,hcfId:"",hcfCode:""}),required:!0,className:"bg-generate-select",children:[t.jsx("option",{value:"",children:"Select Company"}),r.map(d=>t.jsx("option",{value:d.id,children:d.companyName},d.id))]})]}),t.jsxs("div",{className:"bg-generate-form-group",children:[t.jsxs("label",{className:"bg-generate-form-label",children:["PREFIX ",t.jsx("span",{className:"bg-required",children:"*"})]}),t.jsx("input",{type:"text",value:n.prefix,onChange:d=>a({...n,prefix:d.target.value}),required:!0,className:"bg-generate-input"})]})]})}),t.jsxs("div",{className:"bg-generate-form-section",children:[t.jsxs("label",{className:"bg-generate-form-label",children:["COLOR BLOCK ",t.jsx("span",{className:"bg-required",children:"*"})]}),t.jsxs("div",{className:"bg-color-block-options",children:[t.jsxs("button",{type:"button",className:`bg-color-block-btn ${n.colorBlock==="White"?"bg-color-block-btn--active":""}`,onClick:()=>a({...n,colorBlock:"White"}),children:[t.jsx("div",{className:"bg-color-block-swatch",style:{backgroundColor:"#FFFFFF",border:"1px solid #e2e8f0"}}),t.jsx("span",{children:"WHITE"}),t.jsx("span",{className:"bg-color-block-hex",children:"#FFFFFF"})]}),t.jsxs("button",{type:"button",className:`bg-color-block-btn ${n.colorBlock==="Red"?"bg-color-block-btn--active":""}`,onClick:()=>a({...n,colorBlock:"Red"}),children:[t.jsx("div",{className:"bg-color-block-swatch",style:{backgroundColor:"#FF0000"}}),t.jsx("span",{children:"RED"}),t.jsx("span",{className:"bg-color-block-hex",children:"#FF0000"})]}),t.jsxs("button",{type:"button",className:`bg-color-block-btn ${n.colorBlock==="Yellow"?"bg-color-block-btn--active":""}`,onClick:()=>a({...n,colorBlock:"Yellow"}),children:[t.jsx("div",{className:"bg-color-block-swatch",style:{backgroundColor:"#FFFF00"}}),t.jsx("span",{children:"YELLOW"}),t.jsx("span",{className:"bg-color-block-hex",children:"#FFFF00"})]})]})]}),t.jsxs("div",{className:"bg-generate-form-section",children:[t.jsx("label",{className:"bg-generate-form-label",children:"PREVIEW"}),t.jsxs("div",{className:"bg-preview-box",children:[t.jsxs("div",{className:"bg-preview-content",children:[t.jsx("div",{className:"bg-preview-color-swatch",style:{backgroundColor:n.colorBlock==="Yellow"?"#FFFF00":n.colorBlock==="Red"?"#FF0000":"#FFFFFF",border:n.colorBlock==="White"?"1px solid #e2e8f0":"none"}}),t.jsx("div",{className:"bg-preview-barcode-value",children:u||`${n.prefix}-CODE-000001`})]}),t.jsx("div",{className:"bg-preview-count",children:l>0?`${l} label(s) will be generated`:"Enter sequence range"})]})]}),t.jsxs("div",{className:"bg-generate-modal-footer",children:[t.jsx("button",{type:"button",className:"bg-generate-btn bg-generate-btn--cancel",onClick:i,children:"Cancel"}),t.jsx("button",{type:"submit",className:"bg-generate-btn bg-generate-btn--primary",children:"Generate Labels"})]})]})]})})},yne=({labels:r,printContainerRef:e,onClose:n,onPrint:a})=>{var i,s,c,l,u,o,h;return t.jsx("div",{className:"modal-overlay",onClick:n,children:t.jsxs("div",{className:"modal-content modal-content--preview",onClick:d=>d.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsxs("h2",{className:"modal-title",children:["Preview Labels (",r.length,")"]}),t.jsx("button",{className:"modal-close-btn",onClick:n,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("div",{className:"preview-content",children:[t.jsxs("div",{className:"preview-info",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"HCF:"})," ",(i=r[0])==null?void 0:i.hcfCode," - ",(s=r[0])==null?void 0:s.hcfName]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Company:"})," ",(c=r[0])==null?void 0:c.companyName]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Type:"})," ",(l=r[0])==null?void 0:l.barcodeType]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Color Block:"})," ",(u=r[0])==null?void 0:u.colorBlock]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Sequence Range:"})," ",(o=r[0])==null?void 0:o.sequenceNumber," - ",(h=r[r.length-1])==null?void 0:h.sequenceNumber]})]}),t.jsx("div",{className:"preview-labels-grid",children:r.slice(0,6).map(d=>t.jsxs("div",{className:"preview-label",children:[t.jsxs("div",{className:"preview-label-header",children:[t.jsx("div",{className:`preview-color-block-square preview-color-block-square--${d.colorBlock.toLowerCase()}`,children:d.colorBlock.toUpperCase()}),t.jsxs("div",{className:"preview-sequence-text",children:["Seq. No. ",d.sequenceNumber.toString().padStart(15,"0")]})]}),t.jsx("div",{className:"preview-barcode-placeholder",children:d.barcodeType==="QR Code"?"QR Code":"Barcode"}),t.jsx("div",{className:"preview-barcode-value",children:d.barcodeValue}),t.jsx("div",{className:"preview-label-footer",children:t.jsx("div",{className:"preview-type-label",children:d.barcodeType==="QR Code"?"QR Code":"Bar Code"})})]},d.id))}),r.length>6&&t.jsxs("p",{className:"preview-more-info",children:["... and ",r.length-6," more labels"]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Close"}),t.jsx("button",{type:"button",className:"btn btn--primary",onClick:a,children:"Print Labels"})]})]})})},bne=({companies:r,hcfs:e,filters:n,setFilters:a,onClose:i,onClear:s})=>{const c=n.companyId?e.filter(l=>l.companyId===n.companyId):e;return t.jsx("div",{className:"modal-overlay bg-filter-modal-overlay",onClick:i,children:t.jsxs("div",{className:"modal-content bg-filter-modal",onClick:l=>l.stopPropagation(),children:[t.jsxs("div",{className:"bg-filter-modal-header",children:[t.jsxs("div",{className:"bg-filter-modal-titlewrap",children:[t.jsx("div",{className:"bg-filter-icon","aria-hidden":"true",children:t.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})})}),t.jsxs("div",{children:[t.jsx("h2",{className:"bg-filter-modal-title",children:"Advanced Filters"}),t.jsx("p",{className:"bg-filter-modal-subtitle",children:"Refine results by multiple criteria"})]})]}),t.jsx("button",{className:"bg-filter-close",onClick:i,"aria-label":"Close",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("div",{className:"bg-filter-modal-body",children:[t.jsxs("div",{className:"bg-filter-form-group",children:[t.jsx("label",{htmlFor:"filter-hcf",children:"HCF CODE"}),t.jsxs("select",{id:"filter-hcf",value:n.hcfId,onChange:l=>a({...n,hcfId:l.target.value}),className:"bg-filter-select",children:[t.jsx("option",{value:"",children:"All Codes"}),c.map(l=>t.jsx("option",{value:l.hcfCode,children:l.hcfCode},l.id))]})]}),t.jsxs("div",{className:"bg-filter-form-group",children:[t.jsx("label",{htmlFor:"filter-company",children:"COMPANY"}),t.jsxs("select",{id:"filter-company",value:n.companyId,onChange:l=>{const u=l.target.value;a({...n,companyId:u,hcfId:u?"":n.hcfId})},className:"bg-filter-select",children:[t.jsx("option",{value:"",children:"All Companies"}),r.map(l=>t.jsx("option",{value:l.id,children:l.companyName},l.id))]})]}),t.jsxs("div",{className:"bg-filter-form-group",children:[t.jsx("label",{htmlFor:"filter-type",children:"LABEL TYPE"}),t.jsxs("select",{id:"filter-type",value:n.barcodeType,onChange:l=>a({...n,barcodeType:l.target.value}),className:"bg-filter-select",children:[t.jsx("option",{value:"",children:"All Types"}),t.jsx("option",{value:"Barcode",children:"Barcode"}),t.jsx("option",{value:"QR Code",children:"QR Code"})]})]}),t.jsxs("div",{className:"bg-filter-form-group",children:[t.jsx("label",{htmlFor:"filter-color",children:"COLOR BLOCK"}),t.jsxs("select",{id:"filter-color",value:n.colorBlock,onChange:l=>a({...n,colorBlock:l.target.value}),className:"bg-filter-select",children:[t.jsx("option",{value:"",children:"All Colors"}),t.jsx("option",{value:"Yellow",children:"Yellow"}),t.jsx("option",{value:"Red",children:"Red"}),t.jsx("option",{value:"White",children:"White"})]})]})]}),t.jsxs("div",{className:"bg-filter-modal-footer",children:[t.jsx("button",{type:"button",className:"bg-link-btn",onClick:s,children:"Clear Filters"}),t.jsx("button",{type:"button",className:"bg-filter-btn-primary",onClick:i,children:"Apply Filters"})]})]})})},wne="http://localhost:3000/api/v1",jne=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},S0=async(r,e={})=>{const n=jne(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${wne}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},uv={createCertificate:async r=>(await S0("/training-certificates",{method:"POST",body:JSON.stringify(r)})).data,getCertificateById:async r=>(await S0(`/training-certificates/${r}`,{method:"GET"})).data,getAllCertificates:async(r,e,n)=>{let a="/training-certificates";const i=new URLSearchParams;return r&&i.append("companyId",r),e&&i.append("activeOnly","true"),n!=null&&n.hcfId&&i.append("hcfId",n.hcfId),n!=null&&n.status&&i.append("status",n.status),n!=null&&n.dateFrom&&i.append("dateFrom",n.dateFrom),n!=null&&n.dateTo&&i.append("dateTo",n.dateTo),n!=null&&n.search&&i.append("search",n.search),i.toString()&&(a+=`?${i.toString()}`),(await S0(a,{method:"GET"})).data},updateCertificate:async(r,e)=>(await S0(`/training-certificates/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteCertificate:async r=>{await S0(`/training-certificates/${r}`,{method:"DELETE"})}},Cne=()=>{const{logout:r,user:e,permissions:n}=da(),a=Tn(),[i,s]=k.useState(""),[c,l]=k.useState("All"),[u,o]=k.useState("All"),[h,d]=k.useState("All"),[A,f]=k.useState(""),[g,m]=k.useState(""),[x,y]=k.useState(!1),[b,w]=k.useState(!1),[S,N]=k.useState(null),[C,O]=k.useState(null),[W,K]=k.useState(!0),[te,q]=k.useState(null),[Y,P]=k.useState(!1),[ce,$]=k.useState(!1),R=()=>{$(!ce)},[se,fe]=k.useState([]),[Te,Ie]=k.useState([]),[_e,Z]=k.useState([]),Oe=k.useCallback(async()=>{try{const ue=await Ha.getAllCompanies(void 0,!0);fe(ue)}catch(ue){console.error("Failed to load companies:",ue),q("Failed to load companies")}},[]),ee=k.useCallback(async ue=>{try{const $e=await Fs.getAllHcfs(ue,!0);Ie($e)}catch($e){console.error("Failed to load HCFs:",$e),q("Failed to load HCFs")}},[]),re=k.useCallback(async()=>{var ue;try{K(!0),q(null);const $e=c!=="All"?(ue=se.find(Bt=>Bt.companyName===c))==null?void 0:ue.id:void 0,it={};if(u!=="All"){const Bt=Te.find(mr=>mr.hcfCode===u);Bt&&(it.hcfId=Bt.id)}h!=="All"&&(it.status=h),A&&(it.dateFrom=A),g&&(it.dateTo=g),i&&(it.search=i);const Ct=(await uv.getAllCertificates($e,!1,Object.keys(it).length>0?it:void 0)).map(Bt=>{const mr=se.find(He=>He.id===Bt.companyId),lr=Te.find(He=>He.id===Bt.hcfId);return{id:Bt.id,certificateNo:Bt.certificateNo,staffName:Bt.staffName,staffCode:Bt.staffCode,designation:Bt.designation||"",hcfCode:(lr==null?void 0:lr.hcfCode)||"",hcfId:Bt.hcfId,trainingDate:Bt.trainingDate,status:Bt.status,companyName:(mr==null?void 0:mr.companyName)||"",companyId:Bt.companyId,trainedBy:Bt.trainedBy,createdBy:Bt.createdBy||"",createdOn:Bt.createdOn,modifiedBy:Bt.modifiedBy||"",modifiedOn:Bt.modifiedOn}});Z(Ct)}catch($e){console.error("Failed to load certificates:",$e),q($e.message||"Failed to load certificates")}finally{K(!1)}},[c,u,h,A,g,i,se,Te]);k.useEffect(()=>{(async()=>{await Oe(),await ee()})()},[Oe,ee]),k.useEffect(()=>{se.length>0&&Te.length>0&&re()},[c,u,h,A,g,i,se,Te,re]),k.useEffect(()=>{if(c!=="All"){const ue=se.find($e=>$e.companyName===c);ue&&ee(ue.id)}else ee()},[c,se,ee]);const je=_e,Ne=()=>{N(null),y(!0)},ye=ue=>{O(ue),w(!0)},me=ue=>{ue.status==="Active"?(N(ue),y(!0)):alert("Only Active certificates can be edited.")},ie=ue=>{window.print()},le=()=>{alert("Export functionality will be implemented")},Ee=async ue=>{try{if(P(!0),q(null),S){const $e={};ue.staffName!==void 0&&($e.staffName=ue.staffName),ue.staffCode!==void 0&&($e.staffCode=ue.staffCode),ue.designation!==void 0&&($e.designation=ue.designation),ue.hcfId!==void 0&&($e.hcfId=ue.hcfId),ue.trainingDate!==void 0&&($e.trainingDate=ue.trainingDate),ue.trainedBy!==void 0&&($e.trainedBy=ue.trainedBy),ue.status!==void 0&&($e.status=ue.status),await uv.updateCertificate(S.id,$e)}else{const $e=se.find(it=>it.companyName===ue.companyName);if(!$e)throw new Error("Company not found");if(!ue.hcfId)throw new Error("HCF is required");if(!ue.certificateNo)throw new Error("Certificate number is required");await uv.createCertificate({certificateNo:ue.certificateNo||Re(),staffName:ue.staffName||"",staffCode:ue.staffCode||"",designation:ue.designation,hcfId:ue.hcfId,trainingDate:ue.trainingDate||new Date().toISOString().split("T")[0],companyId:$e.id,trainedBy:ue.trainedBy||""})}await re(),y(!1),N(null)}catch($e){console.error("Failed to save certificate:",$e),q($e.message||"Failed to save certificate"),alert($e.message||"Failed to save certificate")}finally{P(!1)}},Re=()=>{const ue=new Date().getFullYear(),$e=_e.length+1;return`CERT-${ue}-${$e.toString().padStart(3,"0")}`},Ue=ue=>{if(ue==="All")return Te.filter(it=>it.status==="Active");const $e=se.find(it=>it.companyName===ue);return $e?Te.filter(it=>it.companyId===$e.id&&it.status==="Active"):[]},de=us(n,a.pathname),Ce=Ue(c);return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${ce?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!ce&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:R,"aria-label":ce?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:ce?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:de.map(ue=>t.jsx("li",{children:t.jsxs(Yr,{to:ue.path,className:`nav-link ${ue.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:ue.icon}),!ce&&t.jsx("span",{className:"nav-label",children:ue.label})]})},ue.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Yr,{to:"/profile",className:`sidebar-profile-btn ${a.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!ce&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!ce&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Compliance & Training / Training Certificate Management"})})}),t.jsxs("div",{className:"training-certificate-page",children:[te&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"20px",backgroundColor:"#fee",color:"#c00",borderRadius:"4px"},children:te}),W&&t.jsx("div",{className:"loading-message",style:{padding:"10px",marginBottom:"20px",textAlign:"center"},children:"Loading..."}),t.jsx("div",{className:"training-certificate-header",children:t.jsx("h1",{className:"training-certificate-title",children:"Training Certificate Management"})}),t.jsx("div",{className:"training-certificate-filters",children:t.jsxs("div",{className:"filter-row",children:[t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{children:"Company"}),t.jsxs("select",{className:"filter-select",value:c,onChange:ue=>{l(ue.target.value),ue.target.value==="All"&&o("All")},children:[t.jsx("option",{value:"All",children:"All Companies"}),se.filter(ue=>ue.status==="Active").map(ue=>t.jsx("option",{value:ue.companyName,children:ue.companyName},ue.id))]})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{children:"HCF"}),t.jsxs("select",{className:"filter-select",value:u,onChange:ue=>o(ue.target.value),children:[t.jsx("option",{value:"All",children:"All HCFs"}),Ce.map(ue=>t.jsxs("option",{value:ue.hcfCode,children:[ue.hcfCode," - ",ue.hcfName]},ue.id))]})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{children:"Date From"}),t.jsx("input",{type:"date",className:"filter-input",value:A,onChange:ue=>f(ue.target.value)})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{children:"Date To"}),t.jsx("input",{type:"date",className:"filter-input",value:g,onChange:ue=>m(ue.target.value)})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{className:"filter-select",value:h,onChange:ue=>d(ue.target.value),children:[t.jsx("option",{value:"All",children:"All Status"}),t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]}),t.jsx("div",{className:"filter-group",children:t.jsx("button",{className:"clear-filters-btn",onClick:()=>{l("All"),o("All"),d("All"),f(""),m("")},children:"Clear Filters"})})]})}),t.jsxs("div",{className:"training-certificate-actions",children:[t.jsxs("div",{className:"certificate-search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"certificate-search-input",placeholder:"Search Certificate...",value:i,onChange:ue=>s(ue.target.value)})]}),t.jsxs("button",{className:"export-btn",onClick:le,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),t.jsx("polyline",{points:"7 10 12 15 17 10"}),t.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Export"]}),t.jsxs("button",{className:"add-certificate-btn",onClick:Ne,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Certificate"]})]}),t.jsx("div",{className:"certificate-table-container",children:t.jsxs("table",{className:"certificate-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Certificate No"}),t.jsx("th",{children:"Staff Name"}),t.jsx("th",{children:"Staff Code"}),t.jsx("th",{children:"Designation"}),t.jsx("th",{children:"HCF Code"}),t.jsx("th",{children:"Training Date"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:je.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:8,className:"empty-message",children:"No certificate records found"})}):je.map(ue=>{const $e=Te.find(it=>it.hcfCode===ue.hcfCode);return t.jsxs("tr",{children:[t.jsx("td",{className:"certificate-no-cell",children:ue.certificateNo}),t.jsx("td",{children:ue.staffName}),t.jsx("td",{children:ue.staffCode}),t.jsx("td",{children:ue.designation}),t.jsx("td",{children:$e?`${ue.hcfCode} - ${$e.hcfName}`:ue.hcfCode}),t.jsx("td",{children:ue.trainingDate}),t.jsx("td",{children:t.jsx("span",{className:`certificate-status-badge certificate-status-badge--${ue.status.toLowerCase()}`,children:ue.status})}),t.jsx("td",{children:t.jsxs("div",{className:"certificate-action-buttons",children:[t.jsx("button",{className:"action-btn action-btn--view",onClick:()=>ye(ue),title:"View",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),ue.status==="Active"&&t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>me(ue),title:"Edit",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"action-btn action-btn--print",onClick:()=>ie(),title:"Print",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),t.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),t.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]})})]})})]},ue.id)})})]})}),t.jsxs("div",{className:"certificate-pagination-info",children:["Showing ",je.length," of ",_e.length," Items"]})]})]}),x&&t.jsx(Nne,{certificate:S,companies:se.filter(ue=>ue.status==="Active"),hcfs:Te.filter(ue=>ue.status==="Active"),onClose:()=>{y(!1),N(null)},onSave:Ee,generateCertificateNo:Re}),b&&C&&t.jsx(Sne,{certificate:C,hcfs:Te,companies:se,onClose:()=>{w(!1),O(null)},onPrint:ie})]})},Nne=({certificate:r,companies:e,hcfs:n,onClose:a,onSave:i,generateCertificateNo:s})=>{const c=()=>{if(r){const y=e.find(b=>b.companyName===r.companyName);return{...r,companyId:r.companyId||(y==null?void 0:y.id)||""}}return{certificateNo:"",staffName:"",staffCode:"",designation:"",hcfCode:"",hcfId:"",trainingDate:new Date().toISOString().split("T")[0],status:"Active",companyName:"",companyId:"",trainedBy:""}},[l,u]=k.useState(c()),[o,h]=k.useState(r?"manual":"auto");k.useEffect(()=>{if(l.companyName&&!l.companyId&&e.length>0){const y=e.find(b=>b.companyName===l.companyName);y&&u(b=>({...b,companyId:y.id}))}},[l.companyName,e.length]);const d=(()=>{if(!l.companyId&&!l.companyName)return[];const y=l.companyId?e.find(w=>w.id===l.companyId):e.find(w=>w.companyName===l.companyName);return y?n.filter(w=>w.companyId===y.id):[]})(),A=(y,b)=>{const w={[y]:b};if(y==="companyName"){const S=e.find(N=>N.companyName===b);S&&(w.companyId=S.id),w.hcfCode="",w.hcfId=""}if(y==="hcfCode"){const S=d.find(N=>N.hcfCode===b);S&&(w.hcfId=S.id)}u({...l,...w})},f=y=>{h(y),u(y==="auto"?{...l,certificateNo:s()}:{...l,certificateNo:""})},g=()=>{u({...l,certificateNo:s()})},m=y=>{if(y.preventDefault(),!l.companyName||!l.hcfCode||!l.staffName||!l.staffCode||!l.trainingDate){alert("Please fill in all required fields");return}i(l)},x=()=>{window.confirm("Are you sure you want to reset the form? All unsaved changes will be lost.")&&u({certificateNo:o==="auto"?s():"",staffName:"",staffCode:"",designation:"",hcfCode:"",trainingDate:new Date().toISOString().split("T")[0],status:"Active",companyName:"",trainedBy:""})};return t.jsx("div",{className:"modal-overlay",onClick:a,children:t.jsxs("div",{className:"modal-content",onClick:y=>y.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Training Certificate":"Create Training Certificate"}),t.jsx("button",{className:"modal-close-btn",onClick:a,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"certificate-form",onSubmit:m,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Organization Details"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company *"}),t.jsxs("select",{value:l.companyName||"",onChange:y=>{A("companyName",y.target.value)},required:!0,children:[t.jsx("option",{value:"",children:"Select Company"}),e.map(y=>t.jsx("option",{value:y.companyName,children:y.companyName},y.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCF *"}),t.jsxs("select",{value:l.hcfCode||"",onChange:y=>A("hcfCode",y.target.value),required:!0,disabled:!l.companyId&&!l.companyName,children:[t.jsx("option",{value:"",children:"Select HCF"}),d.length===0&&(l.companyId||l.companyName)?t.jsx("option",{value:"",disabled:!0,children:"No HCFs available for selected company"}):d.map(y=>t.jsxs("option",{value:y.hcfCode,children:[y.hcfCode," - ",y.hcfName]},y.id))]})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Staff Details"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Staff Code *"}),t.jsx("input",{type:"text",value:l.staffCode||"",onChange:y=>A("staffCode",y.target.value),required:!0,placeholder:"Enter staff code"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Staff Name *"}),t.jsx("input",{type:"text",value:l.staffName||"",onChange:y=>A("staffName",y.target.value),required:!0,placeholder:"Enter staff name"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Designation *"}),t.jsx("input",{type:"text",value:l.designation||"",onChange:y=>A("designation",y.target.value),required:!0,placeholder:"Enter designation"})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Training Details"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group form-group--full",children:[t.jsx("label",{children:"Certificate Number *"}),t.jsxs("div",{className:"certificate-no-input-group",children:[t.jsxs("div",{className:"certificate-no-mode-toggle",children:[t.jsx("button",{type:"button",className:`mode-toggle-btn ${o==="auto"?"active":""}`,onClick:()=>f("auto"),children:"Auto"}),t.jsx("button",{type:"button",className:`mode-toggle-btn ${o==="manual"?"active":""}`,onClick:()=>f("manual"),children:"Manual"})]}),t.jsx("input",{type:"text",value:l.certificateNo||"",onChange:y=>A("certificateNo",y.target.value),required:!0,placeholder:o==="auto"?"Auto-generated":"Enter certificate number",disabled:o==="auto"&&!r,style:{flex:1}}),o==="auto"&&!r&&t.jsx("button",{type:"button",className:"generate-btn-small",onClick:g,children:"Generate"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Training Date *"}),t.jsx("input",{type:"date",value:l.trainingDate||"",onChange:y=>A("trainingDate",y.target.value),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Trained By *"}),t.jsx("input",{type:"text",value:l.trainedBy||"",onChange:y=>A("trainedBy",y.target.value),required:!0,placeholder:"Enter trainer name or organization"})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Status"}),t.jsx("div",{className:"form-grid",children:t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status *"}),t.jsxs("select",{value:l.status||"Active",onChange:y=>A("status",y.target.value),required:!0,children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:x,children:"Reset"}),t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:a,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:"Save"})]})]})]})})},Sne=({certificate:r,hcfs:e,companies:n,onClose:a,onPrint:i})=>{const s=e.find(c=>c.hcfCode===r.hcfCode);return n.find(c=>c.companyName===r.companyName),t.jsx("div",{className:"modal-overlay",onClick:a,children:t.jsxs("div",{className:"modal-content modal-content--view",onClick:c=>c.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsxs("h2",{className:"modal-title",children:["Training Certificate - ",r.certificateNo]}),t.jsx("button",{className:"modal-close-btn",onClick:a,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("div",{className:"certificate-view-content",children:[t.jsxs("div",{className:"certificate-view-section",children:[t.jsx("h3",{className:"certificate-view-section-title",children:"Organization Details"}),t.jsxs("div",{className:"certificate-view-grid",children:[t.jsxs("div",{className:"certificate-view-field",children:[t.jsx("label",{children:"Company:"}),t.jsx("span",{children:r.companyName||"-"})]}),t.jsxs("div",{className:"certificate-view-field",children:[t.jsx("label",{children:"HCF:"}),t.jsx("span",{children:s?`${r.hcfCode} - ${s.hcfName}`:r.hcfCode})]})]})]}),t.jsxs("div",{className:"certificate-view-section",children:[t.jsx("h3",{className:"certificate-view-section-title",children:"Staff Details"}),t.jsxs("div",{className:"certificate-view-grid",children:[t.jsxs("div",{className:"certificate-view-field",children:[t.jsx("label",{children:"Staff Code:"}),t.jsx("span",{children:r.staffCode||"-"})]}),t.jsxs("div",{className:"certificate-view-field",children:[t.jsx("label",{children:"Staff Name:"}),t.jsx("span",{children:r.staffName||"-"})]}),t.jsxs("div",{className:"certificate-view-field",children:[t.jsx("label",{children:"Designation:"}),t.jsx("span",{children:r.designation||"-"})]})]})]}),t.jsxs("div",{className:"certificate-view-section",children:[t.jsx("h3",{className:"certificate-view-section-title",children:"Training Details"}),t.jsxs("div",{className:"certificate-view-grid",children:[t.jsxs("div",{className:"certificate-view-field",children:[t.jsx("label",{children:"Certificate Number:"}),t.jsx("span",{className:"certificate-no-display",children:r.certificateNo||"-"})]}),t.jsxs("div",{className:"certificate-view-field",children:[t.jsx("label",{children:"Training Date:"}),t.jsx("span",{children:r.trainingDate||"-"})]}),t.jsxs("div",{className:"certificate-view-field",children:[t.jsx("label",{children:"Trained By:"}),t.jsx("span",{children:r.trainedBy||"-"})]}),t.jsxs("div",{className:"certificate-view-field",children:[t.jsx("label",{children:"Status:"}),t.jsx("span",{className:`certificate-status-badge certificate-status-badge--${r.status.toLowerCase()}`,children:r.status})]})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:a,children:"Back"}),t.jsx("button",{type:"button",className:"btn btn--primary",onClick:()=>i(r),children:"Print Certificate"})]})]})})},Ene=({contracts:r,searchQuery:e,statusFilter:n})=>({filteredContracts:k.useMemo(()=>r.filter(i=>{const s=e===""||i.contractNum.toLowerCase().includes(e.toLowerCase())||i.companyName.toLowerCase().includes(e.toLowerCase()),c=n==="All"||i.status===n;return s&&c}),[r,e,n])}),Bne="http://localhost:3000/api/v1",Ine=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},E0=async(r,e={})=>{const n=Ine(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${Bne}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},lf={getAllContracts:async(r,e)=>{let n="/contracts";const a=new URLSearchParams;return r&&a.append("companyId",r),e&&a.append("status",e),a.toString()&&(n+=`?${a.toString()}`),(await E0(n,{method:"GET"})).data},getContractById:async r=>(await E0(`/contracts/${r}`,{method:"GET"})).data,createContract:async r=>(await E0("/contracts",{method:"POST",body:JSON.stringify(r)})).data,updateContract:async(r,e)=>(await E0(`/contracts/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteContract:async r=>{await E0(`/contracts/${r}`,{method:"DELETE"})}},Tne=()=>{const{logout:r,permissions:e}=da(),n=Tn(),a=Ka(),[i,s]=k.useState(""),[c,l]=k.useState("All"),[u,o]=k.useState(!1),[h,d]=k.useState(null),[A,f]=k.useState([]),[g,m]=k.useState([]),[x,y]=k.useState([]),[b,w]=k.useState([]),[S,N]=k.useState(!1),[C,O]=k.useState(null),[W,K]=k.useState(!1),[te,q]=k.useState(!1),Y=()=>{q(!te)},P=k.useCallback(async()=>{try{const re=await Ha.getAllCompanies(!0);m(re.map(je=>({id:je.id,companyCode:je.companyCode,companyName:je.companyName})))}catch(re){console.error("Failed to load companies:",re)}},[]),ce=k.useCallback(async()=>{try{const re=await Fs.getAllHcfs(void 0,!0);y(re.map(je=>({id:je.id,hcfCode:je.hcfCode,hcfName:je.hcfName,companyId:je.companyId})))}catch(re){console.error("Failed to load HCFs:",re)}},[]),$=k.useCallback(async()=>{try{N(!0),O(null);const re=await lf.getAllContracts(),je=await Promise.all(re.map(async Ne=>{const ye=g.find(ie=>ie.id===Ne.companyId),me=x.find(ie=>ie.id===Ne.hcfId);return{id:Ne.id,contractID:Ne.contractID,contractNum:Ne.contractNum,companyName:(ye==null?void 0:ye.companyName)||"Unknown",companyID:Ne.companyId,hcfName:(me==null?void 0:me.hcfName)||"Unknown",hcfID:Ne.hcfId,startDate:Ne.startDate,endDate:Ne.endDate,billingType:Ne.billingType,status:Ne.status}}));f(je)}catch(re){console.error("Failed to load contracts:",re),O(re.message||"Failed to load contracts")}finally{N(!1)}},[g,x]);k.useEffect(()=>{(async()=>{await Promise.all([P(),ce()])})()},[P,ce]),k.useEffect(()=>{g.length>0&&x.length>0&&$()},[g.length,x.length,$]),k.useEffect(()=>{h!=null&&h.companyID?w(x.filter(re=>re.companyId===h.companyID)):w(x)},[h==null?void 0:h.companyID,x]);const{filteredContracts:R}=Ene({contracts:A,searchQuery:i,statusFilter:c}),se=()=>{d(null),o(!0)},fe=(re,je)=>{je.stopPropagation(),d(re),o(!0)},Te=async re=>{try{K(!0),O(null),h?await lf.updateContract(h.id,{contractNum:re.contractNum,startDate:re.startDate,endDate:re.endDate,billingType:re.billingType,status:re.status}):await lf.createContract({contractNum:re.contractNum,companyId:re.companyID,hcfId:re.hcfID,startDate:re.startDate,endDate:re.endDate,billingType:re.billingType,status:re.status||"Draft"}),o(!1),d(null),await $()}catch(je){console.error("Failed to save contract:",je),O(je.message||"Failed to save contract"),alert(je.message||"Failed to save contract")}finally{K(!1)}},Ie=re=>{a(`/commercial-agreements/agreement?contractId=${re.id}`)},_e=({status:re})=>{const je=`contract-status-badge contract-status-badge--${re.toLowerCase()}`;return t.jsx("span",{className:je,children:re})},Z=({contract:re})=>t.jsx("div",{className:"contract-action-buttons",style:{display:"flex",gap:"4px",alignItems:"center"},children:t.jsx("button",{className:"action-btn action-btn--edit",onClick:je=>fe(re,je),title:"Edit Contract","aria-label":`Edit contract ${re.contractNum}`,children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})})}),Oe=[{key:"contractNum",label:"Contract Number",minWidth:180,render:re=>t.jsx("span",{className:"contract-num-cell",children:re.contractNum})},{key:"contractID",label:"Contract ID",minWidth:120},{key:"companyName",label:"Company",minWidth:150,render:re=>re.companyName},{key:"hcfName",label:"HCF",minWidth:150,render:re=>re.hcfName},{key:"startDate",label:"Start Date",minWidth:120},{key:"endDate",label:"End Date",minWidth:120},{key:"billingType",label:"Billing Type",minWidth:120},{key:"status",label:"Status",minWidth:100,render:re=>t.jsx(_e,{status:re.status})},{key:"actions",label:"Actions",minWidth:100,render:re=>t.jsx(Z,{contract:re})}],ee=us(e,n.pathname);return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${te?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!te&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:Y,"aria-label":te?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:te?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:ee.map(re=>t.jsx("li",{children:t.jsxs(Yr,{to:re.path,className:`nav-link ${re.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:re.icon}),!te&&t.jsx("span",{className:"nav-label",children:re.label})]})},re.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Yr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!te&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!te&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Commercial Agreements / Contract Master"})})}),t.jsxs("div",{className:"contract-master-page",children:[t.jsx("div",{className:"contract-master-header",children:t.jsx("h1",{className:"contract-master-title",children:"Contract Master"})}),C&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"20px",backgroundColor:"#fee",color:"#c00",borderRadius:"4px"},children:C}),t.jsxs("div",{className:"contract-master-actions",children:[t.jsxs("div",{className:"contract-search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"contract-search-input",placeholder:"Search by contract number or company...",value:i,onChange:re=>s(re.target.value)})]}),t.jsxs("select",{className:"status-filter-select",value:c,onChange:re=>l(re.target.value),children:[t.jsx("option",{value:"All",children:"All Status"}),t.jsx("option",{value:"Draft",children:"Draft"}),t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Expired",children:"Expired"})]}),t.jsxs("button",{className:"add-contract-btn",onClick:se,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Contract"]})]}),S&&t.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading contracts..."}),t.jsx("div",{className:"contract-table-container",children:t.jsx(ly,{data:R,columns:Oe,getId:re=>re.id,onRowClick:Ie,emptyMessage:"No contract records found"})}),t.jsxs("div",{className:"contract-pagination-info",children:["Showing ",R.length," of ",A.length," Items"]})]})]}),u&&t.jsx(_ne,{contract:h,companies:g,hcfs:b,saving:W,onClose:()=>{o(!1),d(null)},onSave:Te})]})},_ne=({contract:r,companies:e,hcfs:n,saving:a,onClose:i,onSave:s})=>{const[c,l]=k.useState(r||{contractNum:"",companyID:"",hcfID:"",startDate:"",endDate:"",billingType:"Bed",status:"Draft"}),u=d=>{l({...c,companyID:d,hcfID:""})},o=d=>{if(d.preventDefault(),!c.contractNum||!c.companyID||!c.hcfID||!c.startDate||!c.endDate){alert("Please fill in all required fields");return}if(new Date(c.startDate)>new Date(c.endDate)){alert("End date must be after start date");return}s(c)},h=c.companyID?n.filter(d=>d.companyId===c.companyID):[];return t.jsx("div",{className:"modal-overlay",onClick:i,children:t.jsxs("div",{className:"modal-content",onClick:d=>d.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Contract":"Add Contract"}),t.jsx("button",{className:"modal-close-btn",onClick:i,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"contract-form",onSubmit:o,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Contract Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Contract Number *"}),t.jsx("input",{type:"text",value:c.contractNum||"",onChange:d=>l({...c,contractNum:d.target.value}),required:!0,disabled:a,placeholder:"e.g., CONTRACT-2024-001"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company *"}),t.jsxs("select",{value:c.companyID||"",onChange:d=>u(d.target.value),required:!0,disabled:a||!!r,children:[t.jsx("option",{value:"",children:"Select Company"}),e.map(d=>t.jsxs("option",{value:d.id,children:[d.companyCode," - ",d.companyName]},d.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCF *"}),t.jsxs("select",{value:c.hcfID||"",onChange:d=>l({...c,hcfID:d.target.value}),required:!0,disabled:a||!c.companyID,children:[t.jsx("option",{value:"",children:"Select HCF"}),h.map(d=>t.jsxs("option",{value:d.id,children:[d.hcfCode," - ",d.hcfName]},d.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Start Date *"}),t.jsx("input",{type:"date",value:c.startDate||"",onChange:d=>l({...c,startDate:d.target.value}),required:!0,disabled:a})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"End Date *"}),t.jsx("input",{type:"date",value:c.endDate||"",onChange:d=>l({...c,endDate:d.target.value}),required:!0,disabled:a})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Billing Type *"}),t.jsxs("select",{value:c.billingType||"Bed",onChange:d=>l({...c,billingType:d.target.value}),required:!0,disabled:a,children:[t.jsx("option",{value:"Bed",children:"Bed"}),t.jsx("option",{value:"Kg",children:"Kg"}),t.jsx("option",{value:"Lumpsum",children:"Lumpsum"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:c.status||"Draft",onChange:d=>l({...c,status:d.target.value}),disabled:a,children:[t.jsx("option",{value:"Draft",children:"Draft"}),t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Expired",children:"Expired"})]})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:i,disabled:a,children:"Cancel"}),t.jsxs("button",{type:"submit",className:"btn btn--primary",disabled:a,children:[a?"Saving...":r?"Update":"Add"," Contract"]})]})]})]})})},One=({agreements:r,searchQuery:e,statusFilter:n})=>({filteredAgreements:k.useMemo(()=>r.filter(i=>{const s=e===""||i.agreementNum.toLowerCase().includes(e.toLowerCase()),c=n==="All"||i.status===n;return s&&c}),[r,e,n])}),KF="http://localhost:3000/api/v1",GF=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},tv=async(r,e={})=>{const n=GF(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${KF}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},Z0={getAllAgreements:async(r,e)=>{let n="/agreements";const a=new URLSearchParams;return r&&a.append("contractId",r),e&&a.append("status",e),a.toString()&&(n+=`?${a.toString()}`),(await tv(n,{method:"GET"})).data},getAgreementById:async r=>(await tv(`/agreements/${r}`,{method:"GET"})).data,createAgreement:async r=>(await tv("/agreements",{method:"POST",body:JSON.stringify(r)})).data,updateAgreement:async(r,e)=>(await tv(`/agreements/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,downloadAgreementPDF:async r=>{const e=GF(),n=await fetch(`${KF}/agreements/${r}/download`,{method:"GET",headers:{...e&&{Authorization:`Bearer ${e}`}}});if(!n.ok){let a=`Failed to download PDF: ${n.statusText}`;if(n.status===404)a="PDF download endpoint not found";else if(n.status===501)a="PDF generation is not yet implemented";else try{const i=await n.json();i.message&&(a=i.message)}catch{}throw new Error(a)}return n.blob()}},kne="http://localhost:3000/api/v1",Pne=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},B0=async(r,e={})=>{const n=Pne(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${kne}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},YA={getAllClauses:async(r,e)=>{let n="/agreement-clauses";const a=new URLSearchParams;return r&&a.append("agreementId",r),e&&a.append("status",e),a.toString()&&(n+=`?${a.toString()}`),(await B0(n,{method:"GET"})).data},getClauseById:async r=>(await B0(`/agreement-clauses/${r}`,{method:"GET"})).data,createClause:async r=>(await B0("/agreement-clauses",{method:"POST",body:JSON.stringify(r)})).data,updateClause:async(r,e)=>(await B0(`/agreement-clauses/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,reorderClause:async(r,e)=>(await B0(`/agreement-clauses/${r}/reorder`,{method:"PATCH",body:JSON.stringify({newSequenceNo:e})})).data};var Xj={exports:{}},dv={exports:{}};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */var Fne=dv.exports,c_;function Dne(){return c_||(c_=1,(function(r,e){(function(n,a){r.exports=a()})(Fne,(function(){/*! *****************************************************************************
		    Copyright (c) Microsoft Corporation.

		    Permission to use, copy, modify, and/or distribute this software for any
		    purpose with or without fee is hereby granted.

		    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
		    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
		    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
		    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
		    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
		    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
		    PERFORMANCE OF THIS SOFTWARE.
		    ***************************************************************************** */var n=function(F,B){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,U){L.__proto__=U}||function(L,U){for(var be in U)Object.prototype.hasOwnProperty.call(U,be)&&(L[be]=U[be])},n(F,B)};function a(F,B){if(typeof B!="function"&&B!==null)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");n(F,B);function L(){this.constructor=F}F.prototype=B===null?Object.create(B):(L.prototype=B.prototype,new L)}var i=function(){return i=Object.assign||function(B){for(var L,U=1,be=arguments.length;U<be;U++){L=arguments[U];for(var De in L)Object.prototype.hasOwnProperty.call(L,De)&&(B[De]=L[De])}return B},i.apply(this,arguments)};function s(F,B,L,U){function be(De){return De instanceof L?De:new L(function(Ke){Ke(De)})}return new(L||(L=Promise))(function(De,Ke){function ut(Qt){try{Ut(U.next(Qt))}catch(tr){Ke(tr)}}function ct(Qt){try{Ut(U.throw(Qt))}catch(tr){Ke(tr)}}function Ut(Qt){Qt.done?De(Qt.value):be(Qt.value).then(ut,ct)}Ut((U=U.apply(F,[])).next())})}function c(F,B){var L={label:0,sent:function(){if(De[0]&1)throw De[1];return De[1]},trys:[],ops:[]},U,be,De,Ke;return Ke={next:ut(0),throw:ut(1),return:ut(2)},typeof Symbol=="function"&&(Ke[Symbol.iterator]=function(){return this}),Ke;function ut(Ut){return function(Qt){return ct([Ut,Qt])}}function ct(Ut){if(U)throw new TypeError("Generator is already executing.");for(;L;)try{if(U=1,be&&(De=Ut[0]&2?be.return:Ut[0]?be.throw||((De=be.return)&&De.call(be),0):be.next)&&!(De=De.call(be,Ut[1])).done)return De;switch(be=0,De&&(Ut=[Ut[0]&2,De.value]),Ut[0]){case 0:case 1:De=Ut;break;case 4:return L.label++,{value:Ut[1],done:!1};case 5:L.label++,be=Ut[1],Ut=[0];continue;case 7:Ut=L.ops.pop(),L.trys.pop();continue;default:if(De=L.trys,!(De=De.length>0&&De[De.length-1])&&(Ut[0]===6||Ut[0]===2)){L=0;continue}if(Ut[0]===3&&(!De||Ut[1]>De[0]&&Ut[1]<De[3])){L.label=Ut[1];break}if(Ut[0]===6&&L.label<De[1]){L.label=De[1],De=Ut;break}if(De&&L.label<De[2]){L.label=De[2],L.ops.push(Ut);break}De[2]&&L.ops.pop(),L.trys.pop();continue}Ut=B.call(F,L)}catch(Qt){Ut=[6,Qt],be=0}finally{U=De=0}if(Ut[0]&5)throw Ut[1];return{value:Ut[0]?Ut[1]:void 0,done:!0}}}function l(F,B,L){if(arguments.length===2)for(var U=0,be=B.length,De;U<be;U++)(De||!(U in B))&&(De||(De=Array.prototype.slice.call(B,0,U)),De[U]=B[U]);return F.concat(De||B)}for(var u=(function(){function F(B,L,U,be){this.left=B,this.top=L,this.width=U,this.height=be}return F.prototype.add=function(B,L,U,be){return new F(this.left+B,this.top+L,this.width+U,this.height+be)},F.fromClientRect=function(B,L){return new F(L.left+B.windowBounds.left,L.top+B.windowBounds.top,L.width,L.height)},F.fromDOMRectList=function(B,L){var U=Array.from(L).find(function(be){return be.width!==0});return U?new F(U.left+B.windowBounds.left,U.top+B.windowBounds.top,U.width,U.height):F.EMPTY},F.EMPTY=new F(0,0,0,0),F})(),o=function(F,B){return u.fromClientRect(F,B.getBoundingClientRect())},h=function(F){var B=F.body,L=F.documentElement;if(!B||!L)throw new Error("Unable to get document size");var U=Math.max(Math.max(B.scrollWidth,L.scrollWidth),Math.max(B.offsetWidth,L.offsetWidth),Math.max(B.clientWidth,L.clientWidth)),be=Math.max(Math.max(B.scrollHeight,L.scrollHeight),Math.max(B.offsetHeight,L.offsetHeight),Math.max(B.clientHeight,L.clientHeight));return new u(0,0,U,be)},d=function(F){for(var B=[],L=0,U=F.length;L<U;){var be=F.charCodeAt(L++);if(be>=55296&&be<=56319&&L<U){var De=F.charCodeAt(L++);(De&64512)===56320?B.push(((be&1023)<<10)+(De&1023)+65536):(B.push(be),L--)}else B.push(be)}return B},A=function(){for(var F=[],B=0;B<arguments.length;B++)F[B]=arguments[B];if(String.fromCodePoint)return String.fromCodePoint.apply(String,F);var L=F.length;if(!L)return"";for(var U=[],be=-1,De="";++be<L;){var Ke=F[be];Ke<=65535?U.push(Ke):(Ke-=65536,U.push((Ke>>10)+55296,Ke%1024+56320)),(be+1===L||U.length>16384)&&(De+=String.fromCharCode.apply(String,U),U.length=0)}return De},f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g=typeof Uint8Array>"u"?[]:new Uint8Array(256),m=0;m<f.length;m++)g[f.charCodeAt(m)]=m;for(var x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",y=typeof Uint8Array>"u"?[]:new Uint8Array(256),b=0;b<x.length;b++)y[x.charCodeAt(b)]=b;for(var w=function(F){var B=F.length*.75,L=F.length,U,be=0,De,Ke,ut,ct;F[F.length-1]==="="&&(B--,F[F.length-2]==="="&&B--);var Ut=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(B):new Array(B),Qt=Array.isArray(Ut)?Ut:new Uint8Array(Ut);for(U=0;U<L;U+=4)De=y[F.charCodeAt(U)],Ke=y[F.charCodeAt(U+1)],ut=y[F.charCodeAt(U+2)],ct=y[F.charCodeAt(U+3)],Qt[be++]=De<<2|Ke>>4,Qt[be++]=(Ke&15)<<4|ut>>2,Qt[be++]=(ut&3)<<6|ct&63;return Ut},S=function(F){for(var B=F.length,L=[],U=0;U<B;U+=2)L.push(F[U+1]<<8|F[U]);return L},N=function(F){for(var B=F.length,L=[],U=0;U<B;U+=4)L.push(F[U+3]<<24|F[U+2]<<16|F[U+1]<<8|F[U]);return L},C=5,O=11,W=2,K=O-C,te=65536>>C,q=1<<C,Y=q-1,P=1024>>C,ce=te+P,$=ce,R=32,se=$+R,fe=65536>>O,Te=1<<K,Ie=Te-1,_e=function(F,B,L){return F.slice?F.slice(B,L):new Uint16Array(Array.prototype.slice.call(F,B,L))},Z=function(F,B,L){return F.slice?F.slice(B,L):new Uint32Array(Array.prototype.slice.call(F,B,L))},Oe=function(F,B){var L=w(F),U=Array.isArray(L)?N(L):new Uint32Array(L),be=Array.isArray(L)?S(L):new Uint16Array(L),De=24,Ke=_e(be,De/2,U[4]/2),ut=U[5]===2?_e(be,(De+U[4])/2):Z(U,Math.ceil((De+U[4])/4));return new ee(U[0],U[1],U[2],U[3],Ke,ut)},ee=(function(){function F(B,L,U,be,De,Ke){this.initialValue=B,this.errorValue=L,this.highStart=U,this.highValueIndex=be,this.index=De,this.data=Ke}return F.prototype.get=function(B){var L;if(B>=0){if(B<55296||B>56319&&B<=65535)return L=this.index[B>>C],L=(L<<W)+(B&Y),this.data[L];if(B<=65535)return L=this.index[te+(B-55296>>C)],L=(L<<W)+(B&Y),this.data[L];if(B<this.highStart)return L=se-fe+(B>>O),L=this.index[L],L+=B>>C&Ie,L=this.index[L],L=(L<<W)+(B&Y),this.data[L];if(B<=1114111)return this.data[this.highValueIndex]}return this.errorValue},F})(),re="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",je=typeof Uint8Array>"u"?[]:new Uint8Array(256),Ne=0;Ne<re.length;Ne++)je[re.charCodeAt(Ne)]=Ne;var ye="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",me=50,ie=1,le=2,Ee=3,Re=4,Ue=5,de=7,Ce=8,ue=9,$e=10,it=11,Et=12,Ct=13,Bt=14,mr=15,lr=16,He=17,$t=18,Nt=19,Dr=20,vr=21,an=22,Xr=23,Qr=24,Ir=25,hr=26,pr=27,Lr=28,$r=29,dn=30,zr=31,Wn=32,Hr=33,Mr=34,jn=35,cn=36,Ln=37,ca=38,Pt=39,Kr=40,un=41,tn=42,cr=43,ga=[9001,65288],xi="!",Cn="",Ts="",Ni=Oe(ye),yi=[dn,cn],Wi=[ie,le,Ee,Ue],Ii=[$e,Ce],Ds=[pr,hr],Ga=Wi.concat(Ii),xs=[ca,Pt,Kr,Mr,jn],Va=[mr,Ct],Sc=function(F,B){B===void 0&&(B="strict");var L=[],U=[],be=[];return F.forEach(function(De,Ke){var ut=Ni.get(De);if(ut>me?(be.push(!0),ut-=me):be.push(!1),["normal","auto","loose"].indexOf(B)!==-1&&[8208,8211,12316,12448].indexOf(De)!==-1)return U.push(Ke),L.push(lr);if(ut===Re||ut===it){if(Ke===0)return U.push(Ke),L.push(dn);var ct=L[Ke-1];return Ga.indexOf(ct)===-1?(U.push(U[Ke-1]),L.push(ct)):(U.push(Ke),L.push(dn))}if(U.push(Ke),ut===zr)return L.push(B==="strict"?vr:Ln);if(ut===tn||ut===$r)return L.push(dn);if(ut===cr)return De>=131072&&De<=196605||De>=196608&&De<=262141?L.push(Ln):L.push(dn);L.push(ut)}),[U,L,be]},ys=function(F,B,L,U){var be=U[L];if(Array.isArray(F)?F.indexOf(be)!==-1:F===be)for(var De=L;De<=U.length;){De++;var Ke=U[De];if(Ke===B)return!0;if(Ke!==$e)break}if(be===$e)for(var De=L;De>0;){De--;var ut=U[De];if(Array.isArray(F)?F.indexOf(ut)!==-1:F===ut)for(var ct=L;ct<=U.length;){ct++;var Ke=U[ct];if(Ke===B)return!0;if(Ke!==$e)break}if(ut!==$e)break}return!1},Bl=function(F,B){for(var L=F;L>=0;){var U=B[L];if(U===$e)L--;else return U}return 0},Ec=function(F,B,L,U,be){if(L[U]===0)return Cn;var De=U-1;if(Array.isArray(be)&&be[De]===!0)return Cn;var Ke=De-1,ut=De+1,ct=B[De],Ut=Ke>=0?B[Ke]:0,Qt=B[ut];if(ct===le&&Qt===Ee)return Cn;if(Wi.indexOf(ct)!==-1)return xi;if(Wi.indexOf(Qt)!==-1||Ii.indexOf(Qt)!==-1)return Cn;if(Bl(De,B)===Ce)return Ts;if(Ni.get(F[De])===it||(ct===Wn||ct===Hr)&&Ni.get(F[ut])===it||ct===de||Qt===de||ct===ue||[$e,Ct,mr].indexOf(ct)===-1&&Qt===ue||[He,$t,Nt,Qr,Lr].indexOf(Qt)!==-1||Bl(De,B)===an||ys(Xr,an,De,B)||ys([He,$t],vr,De,B)||ys(Et,Et,De,B))return Cn;if(ct===$e)return Ts;if(ct===Xr||Qt===Xr)return Cn;if(Qt===lr||ct===lr)return Ts;if([Ct,mr,vr].indexOf(Qt)!==-1||ct===Bt||Ut===cn&&Va.indexOf(ct)!==-1||ct===Lr&&Qt===cn||Qt===Dr||yi.indexOf(Qt)!==-1&&ct===Ir||yi.indexOf(ct)!==-1&&Qt===Ir||ct===pr&&[Ln,Wn,Hr].indexOf(Qt)!==-1||[Ln,Wn,Hr].indexOf(ct)!==-1&&Qt===hr||yi.indexOf(ct)!==-1&&Ds.indexOf(Qt)!==-1||Ds.indexOf(ct)!==-1&&yi.indexOf(Qt)!==-1||[pr,hr].indexOf(ct)!==-1&&(Qt===Ir||[an,mr].indexOf(Qt)!==-1&&B[ut+1]===Ir)||[an,mr].indexOf(ct)!==-1&&Qt===Ir||ct===Ir&&[Ir,Lr,Qr].indexOf(Qt)!==-1)return Cn;if([Ir,Lr,Qr,He,$t].indexOf(Qt)!==-1)for(var tr=De;tr>=0;){var Er=B[tr];if(Er===Ir)return Cn;if([Lr,Qr].indexOf(Er)!==-1)tr--;else break}if([pr,hr].indexOf(Qt)!==-1)for(var tr=[He,$t].indexOf(ct)!==-1?Ke:De;tr>=0;){var Er=B[tr];if(Er===Ir)return Cn;if([Lr,Qr].indexOf(Er)!==-1)tr--;else break}if(ca===ct&&[ca,Pt,Mr,jn].indexOf(Qt)!==-1||[Pt,Mr].indexOf(ct)!==-1&&[Pt,Kr].indexOf(Qt)!==-1||[Kr,jn].indexOf(ct)!==-1&&Qt===Kr||xs.indexOf(ct)!==-1&&[Dr,hr].indexOf(Qt)!==-1||xs.indexOf(Qt)!==-1&&ct===pr||yi.indexOf(ct)!==-1&&yi.indexOf(Qt)!==-1||ct===Qr&&yi.indexOf(Qt)!==-1||yi.concat(Ir).indexOf(ct)!==-1&&Qt===an&&ga.indexOf(F[ut])===-1||yi.concat(Ir).indexOf(Qt)!==-1&&ct===$t)return Cn;if(ct===un&&Qt===un){for(var bn=L[De],nn=1;bn>0&&(bn--,B[bn]===un);)nn++;if(nn%2!==0)return Cn}return ct===Wn&&Qt===Hr?Cn:Ts},Il=function(F,B){B||(B={lineBreak:"normal",wordBreak:"normal"});var L=Sc(F,B.lineBreak),U=L[0],be=L[1],De=L[2];(B.wordBreak==="break-all"||B.wordBreak==="break-word")&&(be=be.map(function(ut){return[Ir,dn,tn].indexOf(ut)!==-1?Ln:ut}));var Ke=B.wordBreak==="keep-all"?De.map(function(ut,ct){return ut&&F[ct]>=19968&&F[ct]<=40959}):void 0;return[U,be,Ke]},$i=(function(){function F(B,L,U,be){this.codePoints=B,this.required=L===xi,this.start=U,this.end=be}return F.prototype.slice=function(){return A.apply(void 0,this.codePoints.slice(this.start,this.end))},F})(),yo=function(F,B){var L=d(F),U=Il(L,B),be=U[0],De=U[1],Ke=U[2],ut=L.length,ct=0,Ut=0;return{next:function(){if(Ut>=ut)return{done:!0,value:null};for(var Qt=Cn;Ut<ut&&(Qt=Ec(L,De,be,++Ut,Ke))===Cn;);if(Qt!==Cn||Ut===ut){var tr=new $i(L,Qt,ct,Ut);return ct=Ut,{value:tr,done:!1}}return{done:!0,value:null}}}},fa=1,tc=2,ai=4,To=8,Ys=10,_o=47,nl=92,Oo=9,Vs=32,Si=34,ii=61,ml=35,ko=36,Wc=37,ds=39,Gn=40,Vi=41,bs=95,ws=45,Po=33,Li=60,co=62,Ji=64,Di=91,bo=93,Fo=61,va=123,zi=63,js=125,Zs=124,Ms=126,Do=128,Ht=65533,H=42,oe=43,he=44,M=58,Q=59,ne=46,we=0,Fe=8,qe=11,st=14,I=31,E=127,D=-1,z=48,X=97,ae=101,Se=102,ge=117,ve=122,Me=65,ze=69,et=70,ot=85,Pe=90,yt=function(F){return F>=z&&F<=57},gt=function(F){return F>=55296&&F<=57343},wt=function(F){return yt(F)||F>=Me&&F<=et||F>=X&&F<=Se},nt=function(F){return F>=X&&F<=ve},Ft=function(F){return F>=Me&&F<=Pe},qt=function(F){return nt(F)||Ft(F)},It=function(F){return F>=Do},tt=function(F){return F===Ys||F===Oo||F===Vs},Wt=function(F){return qt(F)||It(F)||F===bs},ur=function(F){return Wt(F)||yt(F)||F===ws},Yt=function(F){return F>=we&&F<=Fe||F===qe||F>=st&&F<=I||F===E},Ot=function(F,B){return F!==nl?!1:B!==Ys},or=function(F,B,L){return F===ws?Wt(B)||Ot(B,L):Wt(F)?!0:!!(F===nl&&Ot(F,B))},at=function(F,B,L){return F===oe||F===ws?yt(B)?!0:B===ne&&yt(L):yt(F===ne?B:F)},ht=function(F){var B=0,L=1;(F[B]===oe||F[B]===ws)&&(F[B]===ws&&(L=-1),B++);for(var U=[];yt(F[B]);)U.push(F[B++]);var be=U.length?parseInt(A.apply(void 0,U),10):0;F[B]===ne&&B++;for(var De=[];yt(F[B]);)De.push(F[B++]);var Ke=De.length,ut=Ke?parseInt(A.apply(void 0,De),10):0;(F[B]===ze||F[B]===ae)&&B++;var ct=1;(F[B]===oe||F[B]===ws)&&(F[B]===ws&&(ct=-1),B++);for(var Ut=[];yt(F[B]);)Ut.push(F[B++]);var Qt=Ut.length?parseInt(A.apply(void 0,Ut),10):0;return L*(be+ut*Math.pow(10,-Ke))*Math.pow(10,ct*Qt)},Tt={type:2},_t={type:3},dr={type:4},xr={type:13},jr={type:8},Jt={type:21},br={type:9},Zr={type:10},Wr={type:11},Ze={type:12},bt={type:14},St={type:23},Vt={type:1},Gt={type:25},nr={type:24},yr={type:26},wr={type:27},Pr={type:28},Jr={type:29},Nn={type:31},En={type:32},ua=(function(){function F(){this._value=[]}return F.prototype.write=function(B){this._value=this._value.concat(d(B))},F.prototype.read=function(){for(var B=[],L=this.consumeToken();L!==En;)B.push(L),L=this.consumeToken();return B},F.prototype.consumeToken=function(){var B=this.consumeCodePoint();switch(B){case Si:return this.consumeStringToken(Si);case ml:var L=this.peekCodePoint(0),U=this.peekCodePoint(1),be=this.peekCodePoint(2);if(ur(L)||Ot(U,be)){var De=or(L,U,be)?tc:fa,Ke=this.consumeName();return{type:5,value:Ke,flags:De}}break;case ko:if(this.peekCodePoint(0)===ii)return this.consumeCodePoint(),xr;break;case ds:return this.consumeStringToken(ds);case Gn:return Tt;case Vi:return _t;case H:if(this.peekCodePoint(0)===ii)return this.consumeCodePoint(),bt;break;case oe:if(at(B,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(B),this.consumeNumericToken();break;case he:return dr;case ws:var ut=B,ct=this.peekCodePoint(0),Ut=this.peekCodePoint(1);if(at(ut,ct,Ut))return this.reconsumeCodePoint(B),this.consumeNumericToken();if(or(ut,ct,Ut))return this.reconsumeCodePoint(B),this.consumeIdentLikeToken();if(ct===ws&&Ut===co)return this.consumeCodePoint(),this.consumeCodePoint(),nr;break;case ne:if(at(B,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(B),this.consumeNumericToken();break;case _o:if(this.peekCodePoint(0)===H)for(this.consumeCodePoint();;){var Qt=this.consumeCodePoint();if(Qt===H&&(Qt=this.consumeCodePoint(),Qt===_o))return this.consumeToken();if(Qt===D)return this.consumeToken()}break;case M:return yr;case Q:return wr;case Li:if(this.peekCodePoint(0)===Po&&this.peekCodePoint(1)===ws&&this.peekCodePoint(2)===ws)return this.consumeCodePoint(),this.consumeCodePoint(),Gt;break;case Ji:var tr=this.peekCodePoint(0),Er=this.peekCodePoint(1),bn=this.peekCodePoint(2);if(or(tr,Er,bn)){var Ke=this.consumeName();return{type:7,value:Ke}}break;case Di:return Pr;case nl:if(Ot(B,this.peekCodePoint(0)))return this.reconsumeCodePoint(B),this.consumeIdentLikeToken();break;case bo:return Jr;case Fo:if(this.peekCodePoint(0)===ii)return this.consumeCodePoint(),jr;break;case va:return Wr;case js:return Ze;case ge:case ot:var nn=this.peekCodePoint(0),xn=this.peekCodePoint(1);return nn===oe&&(wt(xn)||xn===zi)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(B),this.consumeIdentLikeToken();case Zs:if(this.peekCodePoint(0)===ii)return this.consumeCodePoint(),br;if(this.peekCodePoint(0)===Zs)return this.consumeCodePoint(),Jt;break;case Ms:if(this.peekCodePoint(0)===ii)return this.consumeCodePoint(),Zr;break;case D:return En}return tt(B)?(this.consumeWhiteSpace(),Nn):yt(B)?(this.reconsumeCodePoint(B),this.consumeNumericToken()):Wt(B)?(this.reconsumeCodePoint(B),this.consumeIdentLikeToken()):{type:6,value:A(B)}},F.prototype.consumeCodePoint=function(){var B=this._value.shift();return typeof B>"u"?-1:B},F.prototype.reconsumeCodePoint=function(B){this._value.unshift(B)},F.prototype.peekCodePoint=function(B){return B>=this._value.length?-1:this._value[B]},F.prototype.consumeUnicodeRangeToken=function(){for(var B=[],L=this.consumeCodePoint();wt(L)&&B.length<6;)B.push(L),L=this.consumeCodePoint();for(var U=!1;L===zi&&B.length<6;)B.push(L),L=this.consumeCodePoint(),U=!0;if(U){var be=parseInt(A.apply(void 0,B.map(function(ct){return ct===zi?z:ct})),16),De=parseInt(A.apply(void 0,B.map(function(ct){return ct===zi?et:ct})),16);return{type:30,start:be,end:De}}var Ke=parseInt(A.apply(void 0,B),16);if(this.peekCodePoint(0)===ws&&wt(this.peekCodePoint(1))){this.consumeCodePoint(),L=this.consumeCodePoint();for(var ut=[];wt(L)&&ut.length<6;)ut.push(L),L=this.consumeCodePoint();var De=parseInt(A.apply(void 0,ut),16);return{type:30,start:Ke,end:De}}else return{type:30,start:Ke,end:Ke}},F.prototype.consumeIdentLikeToken=function(){var B=this.consumeName();return B.toLowerCase()==="url"&&this.peekCodePoint(0)===Gn?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Gn?(this.consumeCodePoint(),{type:19,value:B}):{type:20,value:B}},F.prototype.consumeUrlToken=function(){var B=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===D)return{type:22,value:""};var L=this.peekCodePoint(0);if(L===ds||L===Si){var U=this.consumeStringToken(this.consumeCodePoint());return U.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===D||this.peekCodePoint(0)===Vi)?(this.consumeCodePoint(),{type:22,value:U.value}):(this.consumeBadUrlRemnants(),St)}for(;;){var be=this.consumeCodePoint();if(be===D||be===Vi)return{type:22,value:A.apply(void 0,B)};if(tt(be))return this.consumeWhiteSpace(),this.peekCodePoint(0)===D||this.peekCodePoint(0)===Vi?(this.consumeCodePoint(),{type:22,value:A.apply(void 0,B)}):(this.consumeBadUrlRemnants(),St);if(be===Si||be===ds||be===Gn||Yt(be))return this.consumeBadUrlRemnants(),St;if(be===nl)if(Ot(be,this.peekCodePoint(0)))B.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),St;else B.push(be)}},F.prototype.consumeWhiteSpace=function(){for(;tt(this.peekCodePoint(0));)this.consumeCodePoint()},F.prototype.consumeBadUrlRemnants=function(){for(;;){var B=this.consumeCodePoint();if(B===Vi||B===D)return;Ot(B,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},F.prototype.consumeStringSlice=function(B){for(var L=5e4,U="";B>0;){var be=Math.min(L,B);U+=A.apply(void 0,this._value.splice(0,be)),B-=be}return this._value.shift(),U},F.prototype.consumeStringToken=function(B){var L="",U=0;do{var be=this._value[U];if(be===D||be===void 0||be===B)return L+=this.consumeStringSlice(U),{type:0,value:L};if(be===Ys)return this._value.splice(0,U),Vt;if(be===nl){var De=this._value[U+1];De!==D&&De!==void 0&&(De===Ys?(L+=this.consumeStringSlice(U),U=-1,this._value.shift()):Ot(be,De)&&(L+=this.consumeStringSlice(U),L+=A(this.consumeEscapedCodePoint()),U=-1))}U++}while(!0)},F.prototype.consumeNumber=function(){var B=[],L=ai,U=this.peekCodePoint(0);for((U===oe||U===ws)&&B.push(this.consumeCodePoint());yt(this.peekCodePoint(0));)B.push(this.consumeCodePoint());U=this.peekCodePoint(0);var be=this.peekCodePoint(1);if(U===ne&&yt(be))for(B.push(this.consumeCodePoint(),this.consumeCodePoint()),L=To;yt(this.peekCodePoint(0));)B.push(this.consumeCodePoint());U=this.peekCodePoint(0),be=this.peekCodePoint(1);var De=this.peekCodePoint(2);if((U===ze||U===ae)&&((be===oe||be===ws)&&yt(De)||yt(be)))for(B.push(this.consumeCodePoint(),this.consumeCodePoint()),L=To;yt(this.peekCodePoint(0));)B.push(this.consumeCodePoint());return[ht(B),L]},F.prototype.consumeNumericToken=function(){var B=this.consumeNumber(),L=B[0],U=B[1],be=this.peekCodePoint(0),De=this.peekCodePoint(1),Ke=this.peekCodePoint(2);if(or(be,De,Ke)){var ut=this.consumeName();return{type:15,number:L,flags:U,unit:ut}}return be===Wc?(this.consumeCodePoint(),{type:16,number:L,flags:U}):{type:17,number:L,flags:U}},F.prototype.consumeEscapedCodePoint=function(){var B=this.consumeCodePoint();if(wt(B)){for(var L=A(B);wt(this.peekCodePoint(0))&&L.length<6;)L+=A(this.consumeCodePoint());tt(this.peekCodePoint(0))&&this.consumeCodePoint();var U=parseInt(L,16);return U===0||gt(U)||U>1114111?Ht:U}return B===D?Ht:B},F.prototype.consumeName=function(){for(var B="";;){var L=this.consumeCodePoint();if(ur(L))B+=A(L);else if(Ot(L,this.peekCodePoint(0)))B+=A(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(L),B}},F})(),dt=(function(){function F(B){this._tokens=B}return F.create=function(B){var L=new ua;return L.write(B),new F(L.read())},F.parseValue=function(B){return F.create(B).parseComponentValue()},F.parseValues=function(B){return F.create(B).parseComponentValues()},F.prototype.parseComponentValue=function(){for(var B=this.consumeToken();B.type===31;)B=this.consumeToken();if(B.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(B);var L=this.consumeComponentValue();do B=this.consumeToken();while(B.type===31);if(B.type===32)return L;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},F.prototype.parseComponentValues=function(){for(var B=[];;){var L=this.consumeComponentValue();if(L.type===32)return B;B.push(L),B.push()}},F.prototype.consumeComponentValue=function(){var B=this.consumeToken();switch(B.type){case 11:case 28:case 2:return this.consumeSimpleBlock(B.type);case 19:return this.consumeFunction(B)}return B},F.prototype.consumeSimpleBlock=function(B){for(var L={type:B,values:[]},U=this.consumeToken();;){if(U.type===32||pi(U,B))return L;this.reconsumeToken(U),L.values.push(this.consumeComponentValue()),U=this.consumeToken()}},F.prototype.consumeFunction=function(B){for(var L={name:B.value,values:[],type:18};;){var U=this.consumeToken();if(U.type===32||U.type===3)return L;this.reconsumeToken(U),L.values.push(this.consumeComponentValue())}},F.prototype.consumeToken=function(){var B=this._tokens.shift();return typeof B>"u"?En:B},F.prototype.reconsumeToken=function(B){this._tokens.unshift(B)},F})(),An=function(F){return F.type===15},xa=function(F){return F.type===17},hn=function(F){return F.type===20},Vr=function(F){return F.type===0},oa=function(F,B){return hn(F)&&F.value===B},Dn=function(F){return F.type!==31},Zn=function(F){return F.type!==31&&F.type!==4},Mn=function(F){var B=[],L=[];return F.forEach(function(U){if(U.type===4){if(L.length===0)throw new Error("Error parsing function args, zero tokens for arg");B.push(L),L=[];return}U.type!==31&&L.push(U)}),L.length&&B.push(L),B},pi=function(F,B){return B===11&&F.type===12||B===28&&F.type===29?!0:B===2&&F.type===3},Qa=function(F){return F.type===17||F.type===15},Fn=function(F){return F.type===16||Qa(F)},oi=function(F){return F.length>1?[F[0],F[1]]:[F[0]]},la={type:17,number:0,flags:ai},On={type:16,number:50,flags:ai},ha={type:16,number:100,flags:ai},kn=function(F,B,L){var U=F[0],be=F[1];return[Ca(U,B),Ca(typeof be<"u"?be:U,L)]},Ca=function(F,B){if(F.type===16)return F.number/100*B;if(An(F))switch(F.unit){case"rem":case"em":return 16*F.number;case"px":default:return F.number}return F.number},ui="deg",qa="grad",Xa="rad",rs="turn",zn={name:"angle",parse:function(F,B){if(B.type===15)switch(B.unit){case ui:return Math.PI*B.number/180;case qa:return Math.PI/200*B.number;case Xa:return B.number;case rs:return Math.PI*2*B.number}throw new Error("Unsupported angle type")}},Ti=function(F){return F.type===15&&(F.unit===ui||F.unit===qa||F.unit===Xa||F.unit===rs)},ya=function(F){var B=F.filter(hn).map(function(L){return L.value}).join(" ");switch(B){case"to bottom right":case"to right bottom":case"left top":case"top left":return[la,la];case"to top":case"bottom":return Vn(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[la,ha];case"to right":case"left":return Vn(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[ha,ha];case"to bottom":case"top":return Vn(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[ha,la];case"to left":case"right":return Vn(270)}return 0},Vn=function(F){return Math.PI*F/180},_i={name:"color",parse:function(F,B){if(B.type===18){var L=pa[B.name];if(typeof L>"u")throw new Error('Attempting to parse an unsupported color function "'+B.name+'"');return L(F,B.values)}if(B.type===5){if(B.value.length===3){var U=B.value.substring(0,1),be=B.value.substring(1,2),De=B.value.substring(2,3);return ei(parseInt(U+U,16),parseInt(be+be,16),parseInt(De+De,16),1)}if(B.value.length===4){var U=B.value.substring(0,1),be=B.value.substring(1,2),De=B.value.substring(2,3),Ke=B.value.substring(3,4);return ei(parseInt(U+U,16),parseInt(be+be,16),parseInt(De+De,16),parseInt(Ke+Ke,16)/255)}if(B.value.length===6){var U=B.value.substring(0,2),be=B.value.substring(2,4),De=B.value.substring(4,6);return ei(parseInt(U,16),parseInt(be,16),parseInt(De,16),1)}if(B.value.length===8){var U=B.value.substring(0,2),be=B.value.substring(2,4),De=B.value.substring(4,6),Ke=B.value.substring(6,8);return ei(parseInt(U,16),parseInt(be,16),parseInt(De,16),parseInt(Ke,16)/255)}}if(B.type===20){var ut=jo[B.value.toUpperCase()];if(typeof ut<"u")return ut}return jo.TRANSPARENT}},Na=function(F){return(255&F)===0},Bn=function(F){var B=255&F,L=255&F>>8,U=255&F>>16,be=255&F>>24;return B<255?"rgba("+be+","+U+","+L+","+B/255+")":"rgb("+be+","+U+","+L+")"},ei=function(F,B,L,U){return(F<<24|B<<16|L<<8|Math.round(U*255)<<0)>>>0},au=function(F,B){if(F.type===17)return F.number;if(F.type===16){var L=B===3?1:255;return B===3?F.number/100*L:Math.round(F.number/100*L)}return 0},zs=function(F,B){var L=B.filter(Zn);if(L.length===3){var U=L.map(au),be=U[0],De=U[1],Ke=U[2];return ei(be,De,Ke,1)}if(L.length===4){var ut=L.map(au),be=ut[0],De=ut[1],Ke=ut[2],ct=ut[3];return ei(be,De,Ke,ct)}return 0};function wo(F,B,L){return L<0&&(L+=1),L>=1&&(L-=1),L<1/6?(B-F)*L*6+F:L<1/2?B:L<2/3?(B-F)*6*(2/3-L)+F:F}var Bc=function(F,B){var L=B.filter(Zn),U=L[0],be=L[1],De=L[2],Ke=L[3],ut=(U.type===17?Vn(U.number):zn.parse(F,U))/(Math.PI*2),ct=Fn(be)?be.number/100:0,Ut=Fn(De)?De.number/100:0,Qt=typeof Ke<"u"&&Fn(Ke)?Ca(Ke,1):1;if(ct===0)return ei(Ut*255,Ut*255,Ut*255,1);var tr=Ut<=.5?Ut*(ct+1):Ut+ct-Ut*ct,Er=Ut*2-tr,bn=wo(Er,tr,ut+1/3),nn=wo(Er,tr,ut),xn=wo(Er,tr,ut-1/3);return ei(bn*255,nn*255,xn*255,Qt)},pa={hsl:Bc,hsla:Bc,rgb:zs,rgba:zs},Cs=function(F,B){return _i.parse(F,dt.create(B).parseComponentValue())},jo={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Tl={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(F,B){return B.map(function(L){if(hn(L))switch(L.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Rs={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Mi=function(F,B){var L=_i.parse(F,B[0]),U=B[1];return U&&Fn(U)?{color:L,stop:U}:{color:L,stop:null}},_s=function(F,B){var L=F[0],U=F[F.length-1];L.stop===null&&(L.stop=la),U.stop===null&&(U.stop=ha);for(var be=[],De=0,Ke=0;Ke<F.length;Ke++){var ut=F[Ke].stop;if(ut!==null){var ct=Ca(ut,B);ct>De?be.push(ct):be.push(De),De=ct}else be.push(null)}for(var Ut=null,Ke=0;Ke<be.length;Ke++){var Qt=be[Ke];if(Qt===null)Ut===null&&(Ut=Ke);else if(Ut!==null){for(var tr=Ke-Ut,Er=be[Ut-1],bn=(Qt-Er)/(tr+1),nn=1;nn<=tr;nn++)be[Ut+nn-1]=bn*nn;Ut=null}}return F.map(function(xn,ri){var Xn=xn.color;return{color:Xn,stop:Math.max(Math.min(1,be[ri]/B),0)}})},uo=function(F,B,L){var U=B/2,be=L/2,De=Ca(F[0],B)-U,Ke=be-Ca(F[1],L);return(Math.atan2(Ke,De)+Math.PI*2)%(Math.PI*2)},iu=function(F,B,L){var U=typeof F=="number"?F:uo(F,B,L),be=Math.abs(B*Math.sin(U))+Math.abs(L*Math.cos(U)),De=B/2,Ke=L/2,ut=be/2,ct=Math.sin(U-Math.PI/2)*ut,Ut=Math.cos(U-Math.PI/2)*ut;return[be,De-Ut,De+Ut,Ke-ct,Ke+ct]},Js=function(F,B){return Math.sqrt(F*F+B*B)},al=function(F,B,L,U,be){var De=[[0,0],[0,B],[F,0],[F,B]];return De.reduce(function(Ke,ut){var ct=ut[0],Ut=ut[1],Qt=Js(L-ct,U-Ut);return(be?Qt<Ke.optimumDistance:Qt>Ke.optimumDistance)?{optimumCorner:ut,optimumDistance:Qt}:Ke},{optimumDistance:be?1/0:-1/0,optimumCorner:null}).optimumCorner},Ic=function(F,B,L,U,be){var De=0,Ke=0;switch(F.size){case 0:F.shape===0?De=Ke=Math.min(Math.abs(B),Math.abs(B-U),Math.abs(L),Math.abs(L-be)):F.shape===1&&(De=Math.min(Math.abs(B),Math.abs(B-U)),Ke=Math.min(Math.abs(L),Math.abs(L-be)));break;case 2:if(F.shape===0)De=Ke=Math.min(Js(B,L),Js(B,L-be),Js(B-U,L),Js(B-U,L-be));else if(F.shape===1){var ut=Math.min(Math.abs(L),Math.abs(L-be))/Math.min(Math.abs(B),Math.abs(B-U)),ct=al(U,be,B,L,!0),Ut=ct[0],Qt=ct[1];De=Js(Ut-B,(Qt-L)/ut),Ke=ut*De}break;case 1:F.shape===0?De=Ke=Math.max(Math.abs(B),Math.abs(B-U),Math.abs(L),Math.abs(L-be)):F.shape===1&&(De=Math.max(Math.abs(B),Math.abs(B-U)),Ke=Math.max(Math.abs(L),Math.abs(L-be)));break;case 3:if(F.shape===0)De=Ke=Math.max(Js(B,L),Js(B,L-be),Js(B-U,L),Js(B-U,L-be));else if(F.shape===1){var ut=Math.max(Math.abs(L),Math.abs(L-be))/Math.max(Math.abs(B),Math.abs(B-U)),tr=al(U,be,B,L,!1),Ut=tr[0],Qt=tr[1];De=Js(Ut-B,(Qt-L)/ut),Ke=ut*De}break}return Array.isArray(F.size)&&(De=Ca(F.size[0],U),Ke=F.size.length===2?Ca(F.size[1],be):De),[De,Ke]},rc=function(F,B){var L=Vn(180),U=[];return Mn(B).forEach(function(be,De){if(De===0){var Ke=be[0];if(Ke.type===20&&Ke.value==="to"){L=ya(be);return}else if(Ti(Ke)){L=zn.parse(F,Ke);return}}var ut=Mi(F,be);U.push(ut)}),{angle:L,stops:U,type:1}},eo=function(F,B){var L=Vn(180),U=[];return Mn(B).forEach(function(be,De){if(De===0){var Ke=be[0];if(Ke.type===20&&["top","left","right","bottom"].indexOf(Ke.value)!==-1){L=ya(be);return}else if(Ti(Ke)){L=(zn.parse(F,Ke)+Vn(270))%Vn(360);return}}var ut=Mi(F,be);U.push(ut)}),{angle:L,stops:U,type:1}},il=function(F,B){var L=Vn(180),U=[],be=1,De=0,Ke=3,ut=[];return Mn(B).forEach(function(ct,Ut){var Qt=ct[0];if(Ut===0){if(hn(Qt)&&Qt.value==="linear"){be=1;return}else if(hn(Qt)&&Qt.value==="radial"){be=2;return}}if(Qt.type===18){if(Qt.name==="from"){var tr=_i.parse(F,Qt.values[0]);U.push({stop:la,color:tr})}else if(Qt.name==="to"){var tr=_i.parse(F,Qt.values[0]);U.push({stop:ha,color:tr})}else if(Qt.name==="color-stop"){var Er=Qt.values.filter(Zn);if(Er.length===2){var tr=_i.parse(F,Er[1]),bn=Er[0];xa(bn)&&U.push({stop:{type:16,number:bn.number*100,flags:bn.flags},color:tr})}}}}),be===1?{angle:(L+Vn(180))%Vn(360),stops:U,type:be}:{size:Ke,shape:De,stops:U,position:ut,type:be}},_l="closest-side",Ko="farthest-side",Mo="closest-corner",nc="farthest-corner",Ol="circle",Tc="ellipse",fd="cover",$c="contain",pd=function(F,B){var L=0,U=3,be=[],De=[];return Mn(B).forEach(function(Ke,ut){var ct=!0;if(ut===0){var Ut=!1;ct=Ke.reduce(function(tr,Er){if(Ut)if(hn(Er))switch(Er.value){case"center":return De.push(On),tr;case"top":case"left":return De.push(la),tr;case"right":case"bottom":return De.push(ha),tr}else(Fn(Er)||Qa(Er))&&De.push(Er);else if(hn(Er))switch(Er.value){case Ol:return L=0,!1;case Tc:return L=1,!1;case"at":return Ut=!0,!1;case _l:return U=0,!1;case fd:case Ko:return U=1,!1;case $c:case Mo:return U=2,!1;case nc:return U=3,!1}else if(Qa(Er)||Fn(Er))return Array.isArray(U)||(U=[]),U.push(Er),!1;return tr},ct)}if(ct){var Qt=Mi(F,Ke);be.push(Qt)}}),{size:U,shape:L,stops:be,position:De,type:2}},su=function(F,B){var L=0,U=3,be=[],De=[];return Mn(B).forEach(function(Ke,ut){var ct=!0;if(ut===0?ct=Ke.reduce(function(Qt,tr){if(hn(tr))switch(tr.value){case"center":return De.push(On),!1;case"top":case"left":return De.push(la),!1;case"right":case"bottom":return De.push(ha),!1}else if(Fn(tr)||Qa(tr))return De.push(tr),!1;return Qt},ct):ut===1&&(ct=Ke.reduce(function(Qt,tr){if(hn(tr))switch(tr.value){case Ol:return L=0,!1;case Tc:return L=1,!1;case $c:case _l:return U=0,!1;case Ko:return U=1,!1;case Mo:return U=2,!1;case fd:case nc:return U=3,!1}else if(Qa(tr)||Fn(tr))return Array.isArray(U)||(U=[]),U.push(tr),!1;return Qt},ct)),ct){var Ut=Mi(F,Ke);be.push(Ut)}}),{size:U,shape:L,stops:be,position:De,type:2}},Go=function(F){return F.type===1},ou=function(F){return F.type===2},Nu={name:"image",parse:function(F,B){if(B.type===22){var L={url:B.value,type:0};return F.cache.addImage(B.value),L}if(B.type===18){var U=kl[B.name];if(typeof U>"u")throw new Error('Attempting to parse an unsupported image function "'+B.name+'"');return U(F,B.values)}throw new Error("Unsupported image type "+B.type)}};function Wu(F){return!(F.type===20&&F.value==="none")&&(F.type!==18||!!kl[F.name])}var kl={"linear-gradient":rc,"-moz-linear-gradient":eo,"-ms-linear-gradient":eo,"-o-linear-gradient":eo,"-webkit-linear-gradient":eo,"radial-gradient":pd,"-moz-radial-gradient":su,"-ms-radial-gradient":su,"-o-radial-gradient":su,"-webkit-radial-gradient":su,"-webkit-gradient":il},$u={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(F,B){if(B.length===0)return[];var L=B[0];return L.type===20&&L.value==="none"?[]:B.filter(function(U){return Zn(U)&&Wu(U)}).map(function(U){return Nu.parse(F,U)})}},Vu={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(F,B){return B.map(function(L){if(hn(L))switch(L.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},ac={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(F,B){return Mn(B).map(function(L){return L.filter(Fn)}).map(oi)}},zu={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(F,B){return Mn(B).map(function(L){return L.filter(hn).map(function(U){return U.value}).join(" ")}).map(Su)}},Su=function(F){switch(F){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},wa;(function(F){F.AUTO="auto",F.CONTAIN="contain",F.COVER="cover"})(wa||(wa={}));var md={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(F,B){return Mn(B).map(function(L){return L.filter(ic)})}},ic=function(F){return hn(F)||Fn(F)},bi=function(F){return{name:"border-"+F+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},gd=bi("top"),gl=bi("right"),Os=bi("bottom"),_c=bi("left"),lu=function(F){return{name:"border-radius-"+F,initialValue:"0 0",prefix:!1,type:1,parse:function(B,L){return oi(L.filter(Fn))}}},Pl=lu("top-left"),Ku=lu("top-right"),qo=lu("bottom-right"),vd=lu("bottom-left"),Eu=function(F){return{name:"border-"+F+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(B,L){switch(L){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},xd=Eu("top"),cu=Eu("right"),Bu=Eu("bottom"),Iu=Eu("left"),Tu=function(F){return{name:"border-"+F+"-width",initialValue:"0",type:0,prefix:!1,parse:function(B,L){return An(L)?L.number:0}}},_u=Tu("top"),yd=Tu("right"),Fl=Tu("bottom"),Hh=Tu("left"),Ou={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Kd={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(F,B){switch(B){case"rtl":return 1;case"ltr":default:return 0}}},Qh={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(F,B){return B.filter(hn).reduce(function(L,U){return L|Sa(U.value)},0)}},Sa=function(F){switch(F){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Vc={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(F,B){switch(B){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},mh={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(F,B){return B.type===20&&B.value==="normal"?0:B.type===17||B.type===15?B.number:0}},Oc;(function(F){F.NORMAL="normal",F.STRICT="strict"})(Oc||(Oc={}));var Co={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(F,B){switch(B){case"strict":return Oc.STRICT;case"normal":default:return Oc.NORMAL}}},Dl={name:"line-height",initialValue:"normal",prefix:!1,type:4},sc=function(F,B){return hn(F)&&F.value==="normal"?1.2*B:F.type===17?B*F.number:Fn(F)?Ca(F,B):B},Gd={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(F,B){return B.type===20&&B.value==="none"?null:Nu.parse(F,B)}},vl={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(F,B){switch(B){case"inside":return 0;case"outside":default:return 1}}},Gu={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(F,B){switch(B){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Xo=function(F){return{name:"margin-"+F,initialValue:"0",prefix:!1,type:4}},ku=Xo("top"),xl=Xo("right"),bd=Xo("bottom"),kc=Xo("left"),oc={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(F,B){return B.filter(hn).map(function(L){switch(L.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Ml={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(F,B){switch(B){case"break-word":return"break-word";case"normal":default:return"normal"}}},di=function(F){return{name:"padding-"+F,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Oi=di("top"),Rl=di("right"),Ns=di("bottom"),Ls=di("left"),Pc={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(F,B){switch(B){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},uu={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(F,B){switch(B){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Ro={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(F,B){return B.length===1&&oa(B[0],"none")?[]:Mn(B).map(function(L){for(var U={color:jo.TRANSPARENT,offsetX:la,offsetY:la,blur:la},be=0,De=0;De<L.length;De++){var Ke=L[De];Qa(Ke)?(be===0?U.offsetX=Ke:be===1?U.offsetY=Ke:U.blur=Ke,be++):U.color=_i.parse(F,Ke)}return U})}},lc={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(F,B){switch(B){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},zc={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(F,B){if(B.type===20&&B.value==="none")return null;if(B.type===18){var L=Xd[B.name];if(typeof L>"u")throw new Error('Attempting to parse an unsupported transform function "'+B.name+'"');return L(B.values)}return null}},qd=function(F){var B=F.filter(function(L){return L.type===17}).map(function(L){return L.number});return B.length===6?B:null},Kc=function(F){var B=F.filter(function(ct){return ct.type===17}).map(function(ct){return ct.number}),L=B[0],U=B[1];B[2],B[3];var be=B[4],De=B[5];B[6],B[7],B[8],B[9],B[10],B[11];var Ke=B[12],ut=B[13];return B[14],B[15],B.length===16?[L,U,be,De,Ke,ut]:null},Xd={matrix:qd,matrix3d:Kc},Ae={type:16,number:50,flags:ai},Qe=[Ae,Ae],vt={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(F,B){var L=B.filter(Fn);return L.length!==2?Qe:[L[0],L[1]]}},kt={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(F,B){switch(B){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Xt;(function(F){F.NORMAL="normal",F.BREAK_ALL="break-all",F.KEEP_ALL="keep-all"})(Xt||(Xt={}));for(var Cr={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(F,B){switch(B){case"break-all":return Xt.BREAK_ALL;case"keep-all":return Xt.KEEP_ALL;case"normal":default:return Xt.NORMAL}}},Fr={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(F,B){if(B.type===20)return{auto:!0,order:0};if(xa(B))return{auto:!1,order:B.number};throw new Error("Invalid z-index number parsed")}},In={name:"time",parse:function(F,B){if(B.type===15)switch(B.unit.toLowerCase()){case"s":return 1e3*B.number;case"ms":return B.number}throw new Error("Unsupported time type")}},Un={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(F,B){return xa(B)?B.number:1}},ma={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},na={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(F,B){return B.filter(hn).map(function(L){switch(L.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(L){return L!==0})}},Pa={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(F,B){var L=[],U=[];return B.forEach(function(be){switch(be.type){case 20:case 0:L.push(be.value);break;case 17:L.push(be.number.toString());break;case 4:U.push(L.join(" ")),L.length=0;break}}),L.length&&U.push(L.join(" ")),U.map(function(be){return be.indexOf(" ")===-1?be:"'"+be+"'"})}},Ri={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Ui={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(F,B){if(xa(B))return B.number;if(hn(B))switch(B.value){case"bold":return 700;case"normal":default:return 400}return 400}},Ai={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(F,B){return B.filter(hn).map(function(L){return L.value})}},hs={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(F,B){switch(B){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},T=function(F,B){return(F&B)!==0},Le={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(F,B){if(B.length===0)return[];var L=B[0];return L.type===20&&L.value==="none"?[]:B}},J={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(F,B){if(B.length===0)return null;var L=B[0];if(L.type===20&&L.value==="none")return null;for(var U=[],be=B.filter(Dn),De=0;De<be.length;De++){var Ke=be[De],ut=be[De+1];if(Ke.type===20){var ct=ut&&xa(ut)?ut.number:1;U.push({counter:Ke.value,increment:ct})}}return U}},Ye={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(F,B){if(B.length===0)return[];for(var L=[],U=B.filter(Dn),be=0;be<U.length;be++){var De=U[be],Ke=U[be+1];if(hn(De)&&De.value!=="none"){var ut=Ke&&xa(Ke)?Ke.number:0;L.push({counter:De.value,reset:ut})}}return L}},At={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(F,B){return B.filter(An).map(function(L){return In.parse(F,L)})}},lt={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(F,B){if(B.length===0)return null;var L=B[0];if(L.type===20&&L.value==="none")return null;var U=[],be=B.filter(Vr);if(be.length%2!==0)return null;for(var De=0;De<be.length;De+=2){var Ke=be[De].value,ut=be[De+1].value;U.push({open:Ke,close:ut})}return U}},er=function(F,B,L){if(!F)return"";var U=F[Math.min(B,F.length-1)];return U?L?U.open:U.close:""},zt={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(F,B){return B.length===1&&oa(B[0],"none")?[]:Mn(B).map(function(L){for(var U={color:255,offsetX:la,offsetY:la,blur:la,spread:la,inset:!1},be=0,De=0;De<L.length;De++){var Ke=L[De];oa(Ke,"inset")?U.inset=!0:Qa(Ke)?(be===0?U.offsetX=Ke:be===1?U.offsetY=Ke:be===2?U.blur=Ke:U.spread=Ke,be++):U.color=_i.parse(F,Ke)}return U})}},Sn={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(F,B){var L=[0,1,2],U=[];return B.filter(hn).forEach(function(be){switch(be.value){case"stroke":U.push(1);break;case"fill":U.push(0);break;case"markers":U.push(2);break}}),L.forEach(function(be){U.indexOf(be)===-1&&U.push(be)}),U}},Dt={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},ir={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(F,B){return An(B)?B.number:0}},ba=(function(){function F(B,L){var U,be;this.animationDuration=Nr(B,At,L.animationDuration),this.backgroundClip=Nr(B,Tl,L.backgroundClip),this.backgroundColor=Nr(B,Rs,L.backgroundColor),this.backgroundImage=Nr(B,$u,L.backgroundImage),this.backgroundOrigin=Nr(B,Vu,L.backgroundOrigin),this.backgroundPosition=Nr(B,ac,L.backgroundPosition),this.backgroundRepeat=Nr(B,zu,L.backgroundRepeat),this.backgroundSize=Nr(B,md,L.backgroundSize),this.borderTopColor=Nr(B,gd,L.borderTopColor),this.borderRightColor=Nr(B,gl,L.borderRightColor),this.borderBottomColor=Nr(B,Os,L.borderBottomColor),this.borderLeftColor=Nr(B,_c,L.borderLeftColor),this.borderTopLeftRadius=Nr(B,Pl,L.borderTopLeftRadius),this.borderTopRightRadius=Nr(B,Ku,L.borderTopRightRadius),this.borderBottomRightRadius=Nr(B,qo,L.borderBottomRightRadius),this.borderBottomLeftRadius=Nr(B,vd,L.borderBottomLeftRadius),this.borderTopStyle=Nr(B,xd,L.borderTopStyle),this.borderRightStyle=Nr(B,cu,L.borderRightStyle),this.borderBottomStyle=Nr(B,Bu,L.borderBottomStyle),this.borderLeftStyle=Nr(B,Iu,L.borderLeftStyle),this.borderTopWidth=Nr(B,_u,L.borderTopWidth),this.borderRightWidth=Nr(B,yd,L.borderRightWidth),this.borderBottomWidth=Nr(B,Fl,L.borderBottomWidth),this.borderLeftWidth=Nr(B,Hh,L.borderLeftWidth),this.boxShadow=Nr(B,zt,L.boxShadow),this.color=Nr(B,Ou,L.color),this.direction=Nr(B,Kd,L.direction),this.display=Nr(B,Qh,L.display),this.float=Nr(B,Vc,L.cssFloat),this.fontFamily=Nr(B,Pa,L.fontFamily),this.fontSize=Nr(B,Ri,L.fontSize),this.fontStyle=Nr(B,hs,L.fontStyle),this.fontVariant=Nr(B,Ai,L.fontVariant),this.fontWeight=Nr(B,Ui,L.fontWeight),this.letterSpacing=Nr(B,mh,L.letterSpacing),this.lineBreak=Nr(B,Co,L.lineBreak),this.lineHeight=Nr(B,Dl,L.lineHeight),this.listStyleImage=Nr(B,Gd,L.listStyleImage),this.listStylePosition=Nr(B,vl,L.listStylePosition),this.listStyleType=Nr(B,Gu,L.listStyleType),this.marginTop=Nr(B,ku,L.marginTop),this.marginRight=Nr(B,xl,L.marginRight),this.marginBottom=Nr(B,bd,L.marginBottom),this.marginLeft=Nr(B,kc,L.marginLeft),this.opacity=Nr(B,Un,L.opacity);var De=Nr(B,oc,L.overflow);this.overflowX=De[0],this.overflowY=De[De.length>1?1:0],this.overflowWrap=Nr(B,Ml,L.overflowWrap),this.paddingTop=Nr(B,Oi,L.paddingTop),this.paddingRight=Nr(B,Rl,L.paddingRight),this.paddingBottom=Nr(B,Ns,L.paddingBottom),this.paddingLeft=Nr(B,Ls,L.paddingLeft),this.paintOrder=Nr(B,Sn,L.paintOrder),this.position=Nr(B,uu,L.position),this.textAlign=Nr(B,Pc,L.textAlign),this.textDecorationColor=Nr(B,ma,(U=L.textDecorationColor)!==null&&U!==void 0?U:L.color),this.textDecorationLine=Nr(B,na,(be=L.textDecorationLine)!==null&&be!==void 0?be:L.textDecoration),this.textShadow=Nr(B,Ro,L.textShadow),this.textTransform=Nr(B,lc,L.textTransform),this.transform=Nr(B,zc,L.transform),this.transformOrigin=Nr(B,vt,L.transformOrigin),this.visibility=Nr(B,kt,L.visibility),this.webkitTextStrokeColor=Nr(B,Dt,L.webkitTextStrokeColor),this.webkitTextStrokeWidth=Nr(B,ir,L.webkitTextStrokeWidth),this.wordBreak=Nr(B,Cr,L.wordBreak),this.zIndex=Nr(B,Fr,L.zIndex)}return F.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},F.prototype.isTransparent=function(){return Na(this.backgroundColor)},F.prototype.isTransformed=function(){return this.transform!==null},F.prototype.isPositioned=function(){return this.position!==0},F.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},F.prototype.isFloating=function(){return this.float!==0},F.prototype.isInlineLevel=function(){return T(this.display,4)||T(this.display,33554432)||T(this.display,268435456)||T(this.display,536870912)||T(this.display,67108864)||T(this.display,134217728)},F})(),fn=(function(){function F(B,L){this.content=Nr(B,Le,L.content),this.quotes=Nr(B,lt,L.quotes)}return F})(),Rr=(function(){function F(B,L){this.counterIncrement=Nr(B,J,L.counterIncrement),this.counterReset=Nr(B,Ye,L.counterReset)}return F})(),Nr=function(F,B,L){var U=new ua,be=L!==null&&typeof L<"u"?L.toString():B.initialValue;U.write(be);var De=new dt(U.read());switch(B.type){case 2:var Ke=De.parseComponentValue();return B.parse(F,hn(Ke)?Ke.value:B.initialValue);case 0:return B.parse(F,De.parseComponentValue());case 1:return B.parse(F,De.parseComponentValues());case 4:return De.parseComponentValue();case 3:switch(B.format){case"angle":return zn.parse(F,De.parseComponentValue());case"color":return _i.parse(F,De.parseComponentValue());case"image":return Nu.parse(F,De.parseComponentValue());case"length":var ut=De.parseComponentValue();return Qa(ut)?ut:la;case"length-percentage":var ct=De.parseComponentValue();return Fn(ct)?ct:la;case"time":return In.parse(F,De.parseComponentValue())}break}},Hi="data-html2canvas-debug",ja=function(F){var B=F.getAttribute(Hi);switch(B){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},aa=function(F,B){var L=ja(F);return L===1||B===L},Ea=(function(){function F(B,L){if(this.context=B,this.textNodes=[],this.elements=[],this.flags=0,aa(L,3))debugger;this.styles=new ba(B,window.getComputedStyle(L,null)),Bd(L)&&(this.styles.animationDuration.some(function(U){return U>0})&&(L.style.animationDuration="0s"),this.styles.transform!==null&&(L.style.transform="none")),this.bounds=o(this.context,L),aa(L,4)&&(this.flags|=16)}return F})(),ti="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",sn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ta=typeof Uint8Array>"u"?[]:new Uint8Array(256),ns=0;ns<sn.length;ns++)Ta[sn.charCodeAt(ns)]=ns;for(var Jn=function(F){var B=F.length*.75,L=F.length,U,be=0,De,Ke,ut,ct;F[F.length-1]==="="&&(B--,F[F.length-2]==="="&&B--);var Ut=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(B):new Array(B),Qt=Array.isArray(Ut)?Ut:new Uint8Array(Ut);for(U=0;U<L;U+=4)De=Ta[F.charCodeAt(U)],Ke=Ta[F.charCodeAt(U+1)],ut=Ta[F.charCodeAt(U+2)],ct=Ta[F.charCodeAt(U+3)],Qt[be++]=De<<2|Ke>>4,Qt[be++]=(Ke&15)<<4|ut>>2,Qt[be++]=(ut&3)<<6|ct&63;return Ut},li=function(F){for(var B=F.length,L=[],U=0;U<B;U+=2)L.push(F[U+1]<<8|F[U]);return L},Fa=function(F){for(var B=F.length,L=[],U=0;U<B;U+=4)L.push(F[U+3]<<24|F[U+2]<<16|F[U+1]<<8|F[U]);return L},Hn=5,Aa=11,No=2,cc=Aa-Hn,Lo=65536>>Hn,ho=1<<Hn,uc=ho-1,Ks=1024>>Hn,Wh=Lo+Ks,Yo=Wh,sl=32,Yd=Yo+sl,gh=65536>>Aa,Fc=1<<cc,Gc=Fc-1,qc=function(F,B,L){return F.slice?F.slice(B,L):new Uint16Array(Array.prototype.slice.call(F,B,L))},qu=function(F,B,L){return F.slice?F.slice(B,L):new Uint32Array(Array.prototype.slice.call(F,B,L))},du=function(F,B){var L=Jn(F),U=Array.isArray(L)?Fa(L):new Uint32Array(L),be=Array.isArray(L)?li(L):new Uint16Array(L),De=24,Ke=qc(be,De/2,U[4]/2),ut=U[5]===2?qc(be,(De+U[4])/2):qu(U,Math.ceil((De+U[4])/4));return new wd(U[0],U[1],U[2],U[3],Ke,ut)},wd=(function(){function F(B,L,U,be,De,Ke){this.initialValue=B,this.errorValue=L,this.highStart=U,this.highValueIndex=be,this.index=De,this.data=Ke}return F.prototype.get=function(B){var L;if(B>=0){if(B<55296||B>56319&&B<=65535)return L=this.index[B>>Hn],L=(L<<No)+(B&uc),this.data[L];if(B<=65535)return L=this.index[Lo+(B-55296>>Hn)],L=(L<<No)+(B&uc),this.data[L];if(B<this.highStart)return L=Yd-gh+(B>>Aa),L=this.index[L],L+=B>>Hn&Gc,L=this.index[L],L=(L<<No)+(B&uc),this.data[L];if(B<=1114111)return this.data[this.highValueIndex]}return this.errorValue},F})(),Dc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",yl=typeof Uint8Array>"u"?[]:new Uint8Array(256),Uo=0;Uo<Dc.length;Uo++)yl[Dc.charCodeAt(Uo)]=Uo;var dc=1,hi=2,Qi=3,As=4,Ao=5,hu=7,as=8,Au=9,jd=10,$h=11,vh=12,Vh=13,Xu=14,Ss=15,So=function(F){for(var B=[],L=0,U=F.length;L<U;){var be=F.charCodeAt(L++);if(be>=55296&&be<=56319&&L<U){var De=F.charCodeAt(L++);(De&64512)===56320?B.push(((be&1023)<<10)+(De&1023)+65536):(B.push(be),L--)}else B.push(be)}return B},to=function(){for(var F=[],B=0;B<arguments.length;B++)F[B]=arguments[B];if(String.fromCodePoint)return String.fromCodePoint.apply(String,F);var L=F.length;if(!L)return"";for(var U=[],be=-1,De="";++be<L;){var Ke=F[be];Ke<=65535?U.push(Ke):(Ke-=65536,U.push((Ke>>10)+55296,Ke%1024+56320)),(be+1===L||U.length>16384)&&(De+=String.fromCharCode.apply(String,U),U.length=0)}return De},zh=du(ti),ol="",Cd="",jp=function(F){return zh.get(F)},ll=function(F,B,L){var U=L-2,be=B[U],De=B[L-1],Ke=B[L];if(De===hi&&Ke===Qi)return ol;if(De===hi||De===Qi||De===As||Ke===hi||Ke===Qi||Ke===As)return Cd;if(De===as&&[as,Au,$h,vh].indexOf(Ke)!==-1||(De===$h||De===Au)&&(Ke===Au||Ke===jd)||(De===vh||De===jd)&&Ke===jd||Ke===Vh||Ke===Ao||Ke===hu||De===dc)return ol;if(De===Vh&&Ke===Xu){for(;be===Ao;)be=B[--U];if(be===Xu)return ol}if(De===Ss&&Ke===Ss){for(var ut=0;be===Ss;)ut++,be=B[--U];if(ut%2===0)return ol}return Cd},NA=function(F){var B=So(F),L=B.length,U=0,be=0,De=B.map(jp);return{next:function(){if(U>=L)return{done:!0,value:null};for(var Ke=ol;U<L&&(Ke=ll(B,De,++U))===ol;);if(Ke!==ol||U===L){var ut=to.apply(null,B.slice(be,U));return be=U,{value:ut,done:!1}}return{done:!0,value:null}}}},SA=function(F){for(var B=NA(F),L=[],U;!(U=B.next()).done;)U.value&&L.push(U.value.slice());return L},EA=function(F){var B=123;if(F.createRange){var L=F.createRange();if(L.getBoundingClientRect){var U=F.createElement("boundtest");U.style.height=B+"px",U.style.display="block",F.body.appendChild(U),L.selectNode(U);var be=L.getBoundingClientRect(),De=Math.round(be.height);if(F.body.removeChild(U),De===B)return!0}}return!1},Xc=function(F){var B=F.createElement("boundtest");B.style.width="50px",B.style.display="block",B.style.fontSize="12px",B.style.letterSpacing="0px",B.style.wordSpacing="0px",F.body.appendChild(B);var L=F.createRange();B.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var U=B.firstChild,be=d(U.data).map(function(ct){return A(ct)}),De=0,Ke={},ut=be.every(function(ct,Ut){L.setStart(U,De),L.setEnd(U,De+ct.length);var Qt=L.getBoundingClientRect();De+=ct.length;var tr=Qt.x>Ke.x||Qt.y>Ke.y;return Ke=Qt,Ut===0?!0:tr});return F.body.removeChild(B),ut},Ll=function(){return typeof new Image().crossOrigin<"u"},cl=function(){return typeof new XMLHttpRequest().responseType=="string"},hc=function(F){var B=new Image,L=F.createElement("canvas"),U=L.getContext("2d");if(!U)return!1;B.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{U.drawImage(B,0,0),L.toDataURL()}catch{return!1}return!0},Zd=function(F){return F[0]===0&&F[1]===255&&F[2]===0&&F[3]===255},Kh=function(F){var B=F.createElement("canvas"),L=100;B.width=L,B.height=L;var U=B.getContext("2d");if(!U)return Promise.reject(!1);U.fillStyle="rgb(0, 255, 0)",U.fillRect(0,0,L,L);var be=new Image,De=B.toDataURL();be.src=De;var Ke=Gh(L,L,0,0,be);return U.fillStyle="red",U.fillRect(0,0,L,L),xh(Ke).then(function(ut){U.drawImage(ut,0,0);var ct=U.getImageData(0,0,L,L).data;U.fillStyle="red",U.fillRect(0,0,L,L);var Ut=F.createElement("div");return Ut.style.backgroundImage="url("+De+")",Ut.style.height=L+"px",Zd(ct)?xh(Gh(L,L,0,0,Ut)):Promise.reject(!1)}).then(function(ut){return U.drawImage(ut,0,0),Zd(U.getImageData(0,0,L,L).data)}).catch(function(){return!1})},Gh=function(F,B,L,U,be){var De="http://www.w3.org/2000/svg",Ke=document.createElementNS(De,"svg"),ut=document.createElementNS(De,"foreignObject");return Ke.setAttributeNS(null,"width",F.toString()),Ke.setAttributeNS(null,"height",B.toString()),ut.setAttributeNS(null,"width","100%"),ut.setAttributeNS(null,"height","100%"),ut.setAttributeNS(null,"x",L.toString()),ut.setAttributeNS(null,"y",U.toString()),ut.setAttributeNS(null,"externalResourcesRequired","true"),Ke.appendChild(ut),ut.appendChild(be),Ke},xh=function(F){return new Promise(function(B,L){var U=new Image;U.onload=function(){return B(U)},U.onerror=L,U.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(F))})},fo={get SUPPORT_RANGE_BOUNDS(){var F=EA(document);return Object.defineProperty(fo,"SUPPORT_RANGE_BOUNDS",{value:F}),F},get SUPPORT_WORD_BREAKING(){var F=fo.SUPPORT_RANGE_BOUNDS&&Xc(document);return Object.defineProperty(fo,"SUPPORT_WORD_BREAKING",{value:F}),F},get SUPPORT_SVG_DRAWING(){var F=hc(document);return Object.defineProperty(fo,"SUPPORT_SVG_DRAWING",{value:F}),F},get SUPPORT_FOREIGNOBJECT_DRAWING(){var F=typeof Array.from=="function"&&typeof window.fetch=="function"?Kh(document):Promise.resolve(!1);return Object.defineProperty(fo,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:F}),F},get SUPPORT_CORS_IMAGES(){var F=Ll();return Object.defineProperty(fo,"SUPPORT_CORS_IMAGES",{value:F}),F},get SUPPORT_RESPONSE_TYPE(){var F=cl();return Object.defineProperty(fo,"SUPPORT_RESPONSE_TYPE",{value:F}),F},get SUPPORT_CORS_XHR(){var F="withCredentials"in new XMLHttpRequest;return Object.defineProperty(fo,"SUPPORT_CORS_XHR",{value:F}),F},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var F=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(fo,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:F}),F}},Nd=(function(){function F(B,L){this.text=B,this.bounds=L}return F})(),gf=function(F,B,L,U){var be=TA(B,L),De=[],Ke=0;return be.forEach(function(ut){if(L.textDecorationLine.length||ut.trim().length>0)if(fo.SUPPORT_RANGE_BOUNDS){var ct=qh(U,Ke,ut.length).getClientRects();if(ct.length>1){var Ut=Pu(ut),Qt=0;Ut.forEach(function(Er){De.push(new Nd(Er,u.fromDOMRectList(F,qh(U,Qt+Ke,Er.length).getClientRects()))),Qt+=Er.length})}else De.push(new Nd(ut,u.fromDOMRectList(F,ct)))}else{var tr=U.splitText(ut.length);De.push(new Nd(ut,BA(F,U))),U=tr}else fo.SUPPORT_RANGE_BOUNDS||(U=U.splitText(ut.length));Ke+=ut.length}),De},BA=function(F,B){var L=B.ownerDocument;if(L){var U=L.createElement("html2canvaswrapper");U.appendChild(B.cloneNode(!0));var be=B.parentNode;if(be){be.replaceChild(U,B);var De=o(F,U);return U.firstChild&&be.replaceChild(U.firstChild,U),De}}return u.EMPTY},qh=function(F,B,L){var U=F.ownerDocument;if(!U)throw new Error("Node has no owner document");var be=U.createRange();return be.setStart(F,B),be.setEnd(F,B+L),be},Pu=function(F){if(fo.SUPPORT_NATIVE_TEXT_SEGMENTATION){var B=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(B.segment(F)).map(function(L){return L.segment})}return SA(F)},IA=function(F,B){if(fo.SUPPORT_NATIVE_TEXT_SEGMENTATION){var L=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(L.segment(F)).map(function(U){return U.segment})}return vf(F,B)},TA=function(F,B){return B.letterSpacing!==0?Pu(F):IA(F,B)},_A=[32,160,4961,65792,65793,4153,4241],vf=function(F,B){for(var L=yo(F,{lineBreak:B.lineBreak,wordBreak:B.overflowWrap==="break-word"?"break-word":B.wordBreak}),U=[],be,De=function(){if(be.value){var Ke=be.value.slice(),ut=d(Ke),ct="";ut.forEach(function(Ut){_A.indexOf(Ut)===-1?ct+=A(Ut):(ct.length&&U.push(ct),U.push(A(Ut)),ct="")}),ct.length&&U.push(ct)}};!(be=L.next()).done;)De();return U},xf=(function(){function F(B,L,U){this.text=Cp(L.data,U.textTransform),this.textBounds=gf(B,this.text,U,L)}return F})(),Cp=function(F,B){switch(B){case 1:return F.toLowerCase();case 3:return F.replace(Np,Sp);case 2:return F.toUpperCase();default:return F}},Np=/(^|\s|:|-|\(|\))([a-z])/g,Sp=function(F,B,L){return F.length>0?B+L.toUpperCase():F},yf=(function(F){a(B,F);function B(L,U){var be=F.call(this,L,U)||this;return be.src=U.currentSrc||U.src,be.intrinsicWidth=U.naturalWidth,be.intrinsicHeight=U.naturalHeight,be.context.cache.addImage(be.src),be}return B})(Ea),yh=(function(F){a(B,F);function B(L,U){var be=F.call(this,L,U)||this;return be.canvas=U,be.intrinsicWidth=U.width,be.intrinsicHeight=U.height,be}return B})(Ea),Xh=(function(F){a(B,F);function B(L,U){var be=F.call(this,L,U)||this,De=new XMLSerializer,Ke=o(L,U);return U.setAttribute("width",Ke.width+"px"),U.setAttribute("height",Ke.height+"px"),be.svg="data:image/svg+xml,"+encodeURIComponent(De.serializeToString(U)),be.intrinsicWidth=U.width.baseVal.value,be.intrinsicHeight=U.height.baseVal.value,be.context.cache.addImage(be.svg),be}return B})(Ea),Jd=(function(F){a(B,F);function B(L,U){var be=F.call(this,L,U)||this;return be.value=U.value,be}return B})(Ea),OA=(function(F){a(B,F);function B(L,U){var be=F.call(this,L,U)||this;return be.start=U.start,be.reversed=typeof U.reversed=="boolean"&&U.reversed===!0,be}return B})(Ea),Qm=[{type:15,flags:0,unit:"px",number:3}],bf=[{type:16,flags:0,number:50}],Wm=function(F){return F.width>F.height?new u(F.left+(F.width-F.height)/2,F.top,F.height,F.height):F.width<F.height?new u(F.left,F.top+(F.height-F.width)/2,F.width,F.width):F},$m=function(F){var B=F.type===Yu?new Array(F.value.length+1).join(""):F.value;return B.length===0?F.placeholder||"":B},Yh="checkbox",Zh="radio",Yu="password",Ul=707406591,fu=(function(F){a(B,F);function B(L,U){var be=F.call(this,L,U)||this;switch(be.type=U.type.toLowerCase(),be.checked=U.checked,be.value=$m(U),(be.type===Yh||be.type===Zh)&&(be.styles.backgroundColor=3739148031,be.styles.borderTopColor=be.styles.borderRightColor=be.styles.borderBottomColor=be.styles.borderLeftColor=2779096575,be.styles.borderTopWidth=be.styles.borderRightWidth=be.styles.borderBottomWidth=be.styles.borderLeftWidth=1,be.styles.borderTopStyle=be.styles.borderRightStyle=be.styles.borderBottomStyle=be.styles.borderLeftStyle=1,be.styles.backgroundClip=[0],be.styles.backgroundOrigin=[0],be.bounds=Wm(be.bounds)),be.type){case Yh:be.styles.borderTopRightRadius=be.styles.borderTopLeftRadius=be.styles.borderBottomRightRadius=be.styles.borderBottomLeftRadius=Qm;break;case Zh:be.styles.borderTopRightRadius=be.styles.borderTopLeftRadius=be.styles.borderBottomRightRadius=be.styles.borderBottomLeftRadius=bf;break}return be}return B})(Ea),Ep=(function(F){a(B,F);function B(L,U){var be=F.call(this,L,U)||this,De=U.options[U.selectedIndex||0];return be.value=De&&De.text||"",be}return B})(Ea),wf=(function(F){a(B,F);function B(L,U){var be=F.call(this,L,U)||this;return be.value=U.value,be}return B})(Ea),Ho=(function(F){a(B,F);function B(L,U){var be=F.call(this,L,U)||this;be.src=U.src,be.width=parseInt(U.width,10)||0,be.height=parseInt(U.height,10)||0,be.backgroundColor=be.styles.backgroundColor;try{if(U.contentWindow&&U.contentWindow.document&&U.contentWindow.document.documentElement){be.tree=kA(L,U.contentWindow.document.documentElement);var De=U.contentWindow.document.documentElement?Cs(L,getComputedStyle(U.contentWindow.document.documentElement).backgroundColor):jo.TRANSPARENT,Ke=U.contentWindow.document.body?Cs(L,getComputedStyle(U.contentWindow.document.body).backgroundColor):jo.TRANSPARENT;be.backgroundColor=Na(De)?Na(Ke)?be.styles.backgroundColor:Ke:De}}catch{}return be}return B})(Ea),Ac=["OL","UL","MENU"],eh=function(F,B,L,U){for(var be=B.firstChild,De=void 0;be;be=De)if(De=be.nextSibling,Sd(be)&&be.data.trim().length>0)L.textNodes.push(new xf(F,be,L.styles));else if(Ed(be))if(RA(be)&&be.assignedNodes)be.assignedNodes().forEach(function(ut){return eh(F,ut,L,U)});else{var Ke=jf(F,be);Ke.styles.isVisible()&&(Cf(be,Ke,U)?Ke.flags|=4:PA(Ke.styles)&&(Ke.flags|=2),Ac.indexOf(be.tagName)!==-1&&(Ke.flags|=8),L.elements.push(Ke),be.slot,be.shadowRoot?eh(F,be.shadowRoot,Ke,U):!eA(be)&&!Sf(be)&&!wh(be)&&eh(F,be,Ke,U))}},jf=function(F,B){return DA(B)?new yf(F,B):Hl(B)?new yh(F,B):Sf(B)?new Xh(F,B):bh(B)?new Jd(F,B):FA(B)?new OA(F,B):Bp(B)?new fu(F,B):wh(B)?new Ep(F,B):eA(B)?new wf(F,B):Bf(B)?new Ho(F,B):new Ea(F,B)},kA=function(F,B){var L=jf(F,B);return L.flags|=4,eh(F,B,L,L),L},Cf=function(F,B,L){return B.styles.isPositionedWithZIndex()||B.styles.opacity<1||B.styles.isTransformed()||Ef(F)&&L.styles.isTransparent()},PA=function(F){return F.isPositioned()||F.isFloating()},Sd=function(F){return F.nodeType===Node.TEXT_NODE},Ed=function(F){return F.nodeType===Node.ELEMENT_NODE},Bd=function(F){return Ed(F)&&typeof F.style<"u"&&!th(F)},th=function(F){return typeof F.className=="object"},bh=function(F){return F.tagName==="LI"},FA=function(F){return F.tagName==="OL"},Bp=function(F){return F.tagName==="INPUT"},Nf=function(F){return F.tagName==="HTML"},Sf=function(F){return F.tagName==="svg"},Ef=function(F){return F.tagName==="BODY"},Hl=function(F){return F.tagName==="CANVAS"},bl=function(F){return F.tagName==="VIDEO"},DA=function(F){return F.tagName==="IMG"},Bf=function(F){return F.tagName==="IFRAME"},MA=function(F){return F.tagName==="STYLE"},Jh=function(F){return F.tagName==="SCRIPT"},eA=function(F){return F.tagName==="TEXTAREA"},wh=function(F){return F.tagName==="SELECT"},RA=function(F){return F.tagName==="SLOT"},_=function(F){return F.tagName.indexOf("-")>0},G=(function(){function F(){this.counters={}}return F.prototype.getCounterValue=function(B){var L=this.counters[B];return L&&L.length?L[L.length-1]:1},F.prototype.getCounterValues=function(B){var L=this.counters[B];return L||[]},F.prototype.pop=function(B){var L=this;B.forEach(function(U){return L.counters[U].pop()})},F.prototype.parse=function(B){var L=this,U=B.counterIncrement,be=B.counterReset,De=!0;U!==null&&U.forEach(function(ut){var ct=L.counters[ut.counter];ct&&ut.increment!==0&&(De=!1,ct.length||ct.push(1),ct[Math.max(0,ct.length-1)]+=ut.increment)});var Ke=[];return De&&be.forEach(function(ut){var ct=L.counters[ut.counter];Ke.push(ut.counter),ct||(ct=L.counters[ut.counter]=[]),ct.push(ut.reset)}),Ke},F})(),xe={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},ke={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},We={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Ge={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Xe=function(F,B,L,U,be,De){return F<B||F>L?Ur(F,be,De.length>0):U.integers.reduce(function(Ke,ut,ct){for(;F>=ut;)F-=ut,Ke+=U.values[ct];return Ke},"")+De},Je=function(F,B,L,U){var be="";do L||F--,be=U(F)+be,F/=B;while(F*B>=B);return be},rt=function(F,B,L,U,be){var De=L-B+1;return(F<0?"-":"")+(Je(Math.abs(F),De,U,function(Ke){return A(Math.floor(Ke%De)+B)})+be)},mt=function(F,B,L){L===void 0&&(L=". ");var U=B.length;return Je(Math.abs(F),U,!1,function(be){return B[Math.floor(be%U)]})+L},Mt=1,rr=2,ft=4,Lt=8,Zt=function(F,B,L,U,be,De){if(F<-9999||F>9999)return Ur(F,4,be.length>0);var Ke=Math.abs(F),ut=be;if(Ke===0)return B[0]+ut;for(var ct=0;Ke>0&&ct<=4;ct++){var Ut=Ke%10;Ut===0&&T(De,Mt)&&ut!==""?ut=B[Ut]+ut:Ut>1||Ut===1&&ct===0||Ut===1&&ct===1&&T(De,rr)||Ut===1&&ct===1&&T(De,ft)&&F>100||Ut===1&&ct>1&&T(De,Lt)?ut=B[Ut]+(ct>0?L[ct-1]:"")+ut:Ut===1&&ct>0&&(ut=L[ct-1]+ut),Ke=Math.floor(Ke/10)}return(F<0?U:"")+ut},Sr="",ar="",Br="",_r="",Ur=function(F,B,L){var U=L?". ":"",be=L?"":"",De=L?", ":"",Ke=L?" ":"";switch(B){case 0:return""+Ke;case 1:return""+Ke;case 2:return""+Ke;case 5:var ut=rt(F,48,57,!0,U);return ut.length<4?"0"+ut:ut;case 4:return mt(F,"",be);case 6:return Xe(F,1,3999,xe,3,U).toLowerCase();case 7:return Xe(F,1,3999,xe,3,U);case 8:return rt(F,945,969,!1,U);case 9:return rt(F,97,122,!1,U);case 10:return rt(F,65,90,!1,U);case 11:return rt(F,1632,1641,!0,U);case 12:case 49:return Xe(F,1,9999,ke,3,U);case 35:return Xe(F,1,9999,ke,3,U).toLowerCase();case 13:return rt(F,2534,2543,!0,U);case 14:case 30:return rt(F,6112,6121,!0,U);case 15:return mt(F,"",be);case 16:return mt(F,"",be);case 17:case 48:return Zt(F,"",Sr,"",be,rr|ft|Lt);case 47:return Zt(F,"",ar,"",be,Mt|rr|ft|Lt);case 42:return Zt(F,"",Sr,"",be,rr|ft|Lt);case 41:return Zt(F,"",ar,"",be,Mt|rr|ft|Lt);case 26:return Zt(F,"","",Br,be,0);case 25:return Zt(F,"","",Br,be,Mt|rr|ft);case 31:return Zt(F,"","",_r,De,Mt|rr|ft);case 33:return Zt(F,"","",_r,De,0);case 32:return Zt(F,"","",_r,De,Mt|rr|ft);case 18:return rt(F,2406,2415,!0,U);case 20:return Xe(F,1,19999,Ge,3,U);case 21:return rt(F,2790,2799,!0,U);case 22:return rt(F,2662,2671,!0,U);case 22:return Xe(F,1,10999,We,3,U);case 23:return mt(F,"");case 24:return mt(F,"");case 27:return rt(F,3302,3311,!0,U);case 28:return mt(F,"",be);case 29:return mt(F,"",be);case 34:return rt(F,3792,3801,!0,U);case 37:return rt(F,6160,6169,!0,U);case 38:return rt(F,4160,4169,!0,U);case 39:return rt(F,2918,2927,!0,U);case 40:return rt(F,1776,1785,!0,U);case 43:return rt(F,3046,3055,!0,U);case 44:return rt(F,3174,3183,!0,U);case 45:return rt(F,3664,3673,!0,U);case 46:return rt(F,3872,3881,!0,U);case 3:default:return rt(F,48,57,!0,U)}},Or="data-html2canvas-ignore",ea=(function(){function F(B,L,U){if(this.context=B,this.options=U,this.scrolledElements=[],this.referenceElement=L,this.counters=new G,this.quoteDepth=0,!L.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(L.ownerDocument.documentElement,!1)}return F.prototype.toIFrame=function(B,L){var U=this,be=za(B,L);if(!be.contentWindow)return Promise.reject("Unable to find iframe window");var De=B.defaultView.pageXOffset,Ke=B.defaultView.pageYOffset,ut=be.contentWindow,ct=ut.document,Ut=ln(be).then(function(){return s(U,void 0,void 0,function(){var Qt,tr;return c(this,function(Er){switch(Er.label){case 0:return this.scrolledElements.forEach(Da),ut&&(ut.scrollTo(L.left,L.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(ut.scrollY!==L.top||ut.scrollX!==L.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(ut.scrollX-L.left,ut.scrollY-L.top,0,0))),Qt=this.options.onclone,tr=this.clonedReferenceElement,typeof tr>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:ct.fonts&&ct.fonts.ready?[4,ct.fonts.ready]:[3,2];case 1:Er.sent(),Er.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,wi(ct)]:[3,4];case 3:Er.sent(),Er.label=4;case 4:return typeof Qt=="function"?[2,Promise.resolve().then(function(){return Qt(ct,tr)}).then(function(){return be})]:[2,be]}})})});return ct.open(),ct.write(pn(document.doctype)+"<html></html>"),po(this.referenceElement.ownerDocument,De,Ke),ct.replaceChild(ct.adoptNode(this.documentElement),ct.documentElement),ct.close(),Ut},F.prototype.createElementClone=function(B){if(aa(B,2))debugger;if(Hl(B))return this.createCanvasClone(B);if(bl(B))return this.createVideoClone(B);if(MA(B))return this.createStyleClone(B);var L=B.cloneNode(!1);return DA(L)&&(DA(B)&&B.currentSrc&&B.currentSrc!==B.src&&(L.src=B.currentSrc,L.srcset=""),L.loading==="lazy"&&(L.loading="eager")),_(L)?this.createCustomElementClone(L):L},F.prototype.createCustomElementClone=function(B){var L=document.createElement("html2canvascustomelement");return Qn(B.style,L),L},F.prototype.createStyleClone=function(B){try{var L=B.sheet;if(L&&L.cssRules){var U=[].slice.call(L.cssRules,0).reduce(function(De,Ke){return Ke&&typeof Ke.cssText=="string"?De+Ke.cssText:De},""),be=B.cloneNode(!1);return be.textContent=U,be}}catch(De){if(this.context.logger.error("Unable to access cssRules property",De),De.name!=="SecurityError")throw De}return B.cloneNode(!1)},F.prototype.createCanvasClone=function(B){var L;if(this.options.inlineImages&&B.ownerDocument){var U=B.ownerDocument.createElement("img");try{return U.src=B.toDataURL(),U}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",B)}}var be=B.cloneNode(!1);try{be.width=B.width,be.height=B.height;var De=B.getContext("2d"),Ke=be.getContext("2d");if(Ke)if(!this.options.allowTaint&&De)Ke.putImageData(De.getImageData(0,0,B.width,B.height),0,0);else{var ut=(L=B.getContext("webgl2"))!==null&&L!==void 0?L:B.getContext("webgl");if(ut){var ct=ut.getContextAttributes();(ct==null?void 0:ct.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",B)}Ke.drawImage(B,0,0)}return be}catch{this.context.logger.info("Unable to clone canvas as it is tainted",B)}return be},F.prototype.createVideoClone=function(B){var L=B.ownerDocument.createElement("canvas");L.width=B.offsetWidth,L.height=B.offsetHeight;var U=L.getContext("2d");try{return U&&(U.drawImage(B,0,0,L.width,L.height),this.options.allowTaint||U.getImageData(0,0,L.width,L.height)),L}catch{this.context.logger.info("Unable to clone video as it is tainted",B)}var be=B.ownerDocument.createElement("canvas");return be.width=B.offsetWidth,be.height=B.offsetHeight,be},F.prototype.appendChildNode=function(B,L,U){(!Ed(L)||!Jh(L)&&!L.hasAttribute(Or)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(L)))&&(!this.options.copyStyles||!Ed(L)||!MA(L))&&B.appendChild(this.cloneNode(L,U))},F.prototype.cloneChildNodes=function(B,L,U){for(var be=this,De=B.shadowRoot?B.shadowRoot.firstChild:B.firstChild;De;De=De.nextSibling)if(Ed(De)&&RA(De)&&typeof De.assignedNodes=="function"){var Ke=De.assignedNodes();Ke.length&&Ke.forEach(function(ut){return be.appendChildNode(L,ut,U)})}else this.appendChildNode(L,De,U)},F.prototype.cloneNode=function(B,L){if(Sd(B))return document.createTextNode(B.data);if(!B.ownerDocument)return B.cloneNode(!1);var U=B.ownerDocument.defaultView;if(U&&Ed(B)&&(Bd(B)||th(B))){var be=this.createElementClone(B);be.style.transitionProperty="none";var De=U.getComputedStyle(B),Ke=U.getComputedStyle(B,":before"),ut=U.getComputedStyle(B,":after");this.referenceElement===B&&Bd(be)&&(this.clonedReferenceElement=be),Ef(be)&&Jo(be);var ct=this.counters.parse(new Rr(this.context,De)),Ut=this.resolvePseudoContent(B,be,Ke,Pn.BEFORE);_(B)&&(L=!0),bl(B)||this.cloneChildNodes(B,be,L),Ut&&be.insertBefore(Ut,be.firstChild);var Qt=this.resolvePseudoContent(B,be,ut,Pn.AFTER);return Qt&&be.appendChild(Qt),this.counters.pop(ct),(De&&(this.options.copyStyles||th(B))&&!Bf(B)||L)&&Qn(De,be),(B.scrollTop!==0||B.scrollLeft!==0)&&this.scrolledElements.push([be,B.scrollLeft,B.scrollTop]),(eA(B)||wh(B))&&(eA(be)||wh(be))&&(be.value=B.value),be}return B.cloneNode(!1)},F.prototype.resolvePseudoContent=function(B,L,U,be){var De=this;if(U){var Ke=U.content,ut=L.ownerDocument;if(!(!ut||!Ke||Ke==="none"||Ke==="-moz-alt-content"||U.display==="none")){this.counters.parse(new Rr(this.context,U));var ct=new fn(this.context,U),Ut=ut.createElement("html2canvaspseudoelement");Qn(U,Ut),ct.content.forEach(function(tr){if(tr.type===0)Ut.appendChild(ut.createTextNode(tr.value));else if(tr.type===22){var Er=ut.createElement("img");Er.src=tr.value,Er.style.opacity="1",Ut.appendChild(Er)}else if(tr.type===18){if(tr.name==="attr"){var bn=tr.values.filter(hn);bn.length&&Ut.appendChild(ut.createTextNode(B.getAttribute(bn[0].value)||""))}else if(tr.name==="counter"){var nn=tr.values.filter(Zn),xn=nn[0],ri=nn[1];if(xn&&hn(xn)){var Xn=De.counters.getCounterValue(xn.value),$n=ri&&hn(ri)?Gu.parse(De.context,ri.value):3;Ut.appendChild(ut.createTextNode(Ur(Xn,$n,!1)))}}else if(tr.name==="counters"){var Xi=tr.values.filter(Zn),xn=Xi[0],si=Xi[1],ri=Xi[2];if(xn&&hn(xn)){var $a=De.counters.getCounterValues(xn.value),_n=ri&&hn(ri)?Gu.parse(De.context,ri.value):3,Pi=si&&si.type===0?si.value:"",ji=$a.map(function(mc){return Ur(mc,_n,!1)}).join(Pi);Ut.appendChild(ut.createTextNode(ji))}}}else if(tr.type===20)switch(tr.value){case"open-quote":Ut.appendChild(ut.createTextNode(er(ct.quotes,De.quoteDepth++,!0)));break;case"close-quote":Ut.appendChild(ut.createTextNode(er(ct.quotes,--De.quoteDepth,!1)));break;default:Ut.appendChild(ut.createTextNode(tr.value))}}),Ut.className=Eo+" "+Zo;var Qt=be===Pn.BEFORE?" "+Eo:" "+Zo;return th(L)?L.className.baseValue+=Qt:L.className+=Qt,Ut}}},F.destroy=function(B){return B.parentNode?(B.parentNode.removeChild(B),!0):!1},F})(),Pn;(function(F){F[F.BEFORE=0]="BEFORE",F[F.AFTER=1]="AFTER"})(Pn||(Pn={}));var za=function(F,B){var L=F.createElement("iframe");return L.className="html2canvas-container",L.style.visibility="hidden",L.style.position="fixed",L.style.left="-10000px",L.style.top="0px",L.style.border="0",L.width=B.width.toString(),L.height=B.height.toString(),L.scrolling="no",L.setAttribute(Or,"true"),F.body.appendChild(L),L},yn=function(F){return new Promise(function(B){if(F.complete){B();return}if(!F.src){B();return}F.onload=B,F.onerror=B})},wi=function(F){return Promise.all([].slice.call(F.images,0).map(yn))},ln=function(F){return new Promise(function(B,L){var U=F.contentWindow;if(!U)return L("No window assigned for iframe");var be=U.document;U.onload=F.onload=function(){U.onload=F.onload=null;var De=setInterval(function(){be.body.childNodes.length>0&&be.readyState==="complete"&&(clearInterval(De),B(F))},50)}})},La=["all","d","content"],Qn=function(F,B){for(var L=F.length-1;L>=0;L--){var U=F.item(L);La.indexOf(U)===-1&&B.style.setProperty(U,F.getPropertyValue(U))}return B},pn=function(F){var B="";return F&&(B+="<!DOCTYPE ",F.name&&(B+=F.name),F.internalSubset&&(B+=F.internalSubset),F.publicId&&(B+='"'+F.publicId+'"'),F.systemId&&(B+='"'+F.systemId+'"'),B+=">"),B},po=function(F,B,L){F&&F.defaultView&&(B!==F.defaultView.pageXOffset||L!==F.defaultView.pageYOffset)&&F.defaultView.scrollTo(B,L)},Da=function(F){var B=F[0],L=F[1],U=F[2];B.scrollLeft=L,B.scrollTop=U},fi=":before",fs=":after",Eo="___html2canvas___pseudoelement_before",Zo="___html2canvas___pseudoelement_after",Us=`{
    content: "" !important;
    display: none !important;
}`,Jo=function(F){ul(F,"."+Eo+fi+Us+`
         .`+Zo+fs+Us)},ul=function(F,B){var L=F.ownerDocument;if(L){var U=L.createElement("style");U.textContent=B,F.appendChild(U)}},mi=(function(){function F(){}return F.getOrigin=function(B){var L=F._link;return L?(L.href=B,L.href=L.href,L.protocol+L.hostname+L.port):"about:blank"},F.isSameOrigin=function(B){return F.getOrigin(B)===F._origin},F.setContext=function(B){F._link=B.document.createElement("a"),F._origin=F.getOrigin(B.location.href)},F._origin="about:blank",F})(),Ya=(function(){function F(B,L){this.context=B,this._options=L,this._cache={}}return F.prototype.addImage=function(B){var L=Promise.resolve();return this.has(B)||(wl(B)||ps(B))&&(this._cache[B]=this.loadImage(B)).catch(function(){}),L},F.prototype.match=function(B){return this._cache[B]},F.prototype.loadImage=function(B){return s(this,void 0,void 0,function(){var L,U,be,De,Ke=this;return c(this,function(ut){switch(ut.label){case 0:return L=mi.isSameOrigin(B),U=!fc(B)&&this._options.useCORS===!0&&fo.SUPPORT_CORS_IMAGES&&!L,be=!fc(B)&&!L&&!wl(B)&&typeof this._options.proxy=="string"&&fo.SUPPORT_CORS_XHR&&!U,!L&&this._options.allowTaint===!1&&!fc(B)&&!wl(B)&&!be&&!U?[2]:(De=B,be?[4,this.proxy(De)]:[3,2]);case 1:De=ut.sent(),ut.label=2;case 2:return this.context.logger.debug("Added image "+B.substring(0,256)),[4,new Promise(function(ct,Ut){var Qt=new Image;Qt.onload=function(){return ct(Qt)},Qt.onerror=Ut,(Gi(De)||U)&&(Qt.crossOrigin="anonymous"),Qt.src=De,Qt.complete===!0&&setTimeout(function(){return ct(Qt)},500),Ke._options.imageTimeout>0&&setTimeout(function(){return Ut("Timed out ("+Ke._options.imageTimeout+"ms) loading image")},Ke._options.imageTimeout)})];case 3:return[2,ut.sent()]}})})},F.prototype.has=function(B){return typeof this._cache[B]<"u"},F.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},F.prototype.proxy=function(B){var L=this,U=this._options.proxy;if(!U)throw new Error("No proxy defined");var be=B.substring(0,256);return new Promise(function(De,Ke){var ut=fo.SUPPORT_RESPONSE_TYPE?"blob":"text",ct=new XMLHttpRequest;ct.onload=function(){if(ct.status===200)if(ut==="text")De(ct.response);else{var tr=new FileReader;tr.addEventListener("load",function(){return De(tr.result)},!1),tr.addEventListener("error",function(Er){return Ke(Er)},!1),tr.readAsDataURL(ct.response)}else Ke("Failed to proxy resource "+be+" with status code "+ct.status)},ct.onerror=Ke;var Ut=U.indexOf("?")>-1?"&":"?";if(ct.open("GET",""+U+Ut+"url="+encodeURIComponent(B)+"&responseType="+ut),ut!=="text"&&ct instanceof XMLHttpRequest&&(ct.responseType=ut),L._options.imageTimeout){var Qt=L._options.imageTimeout;ct.timeout=Qt,ct.ontimeout=function(){return Ke("Timed out ("+Qt+"ms) proxying "+be)}}ct.send()})},F})(),gi=/^data:image\/svg\+xml/i,Gs=/^data:image\/.*;base64,/i,Ki=/^data:image\/.*/i,ps=function(F){return fo.SUPPORT_SVG_DRAWING||!is(F)},fc=function(F){return Ki.test(F)},Gi=function(F){return Gs.test(F)},wl=function(F){return F.substr(0,4)==="blob"},is=function(F){return F.substr(-3).toLowerCase()==="svg"||gi.test(F)},rn=(function(){function F(B,L){this.type=0,this.x=B,this.y=L}return F.prototype.add=function(B,L){return new F(this.x+B,this.y+L)},F})(),Qo=function(F,B,L){return new rn(F.x+(B.x-F.x)*L,F.y+(B.y-F.y)*L)},Wo=(function(){function F(B,L,U,be){this.type=1,this.start=B,this.startControl=L,this.endControl=U,this.end=be}return F.prototype.subdivide=function(B,L){var U=Qo(this.start,this.startControl,B),be=Qo(this.startControl,this.endControl,B),De=Qo(this.endControl,this.end,B),Ke=Qo(U,be,B),ut=Qo(be,De,B),ct=Qo(Ke,ut,B);return L?new F(this.start,U,Ke,ct):new F(ct,ut,De,this.end)},F.prototype.add=function(B,L){return new F(this.start.add(B,L),this.startControl.add(B,L),this.endControl.add(B,L),this.end.add(B,L))},F.prototype.reverse=function(){return new F(this.end,this.endControl,this.startControl,this.start)},F})(),Hs=function(F){return F.type===1},jl=(function(){function F(B){var L=B.styles,U=B.bounds,be=kn(L.borderTopLeftRadius,U.width,U.height),De=be[0],Ke=be[1],ut=kn(L.borderTopRightRadius,U.width,U.height),ct=ut[0],Ut=ut[1],Qt=kn(L.borderBottomRightRadius,U.width,U.height),tr=Qt[0],Er=Qt[1],bn=kn(L.borderBottomLeftRadius,U.width,U.height),nn=bn[0],xn=bn[1],ri=[];ri.push((De+ct)/U.width),ri.push((nn+tr)/U.width),ri.push((Ke+xn)/U.height),ri.push((Ut+Er)/U.height);var Xn=Math.max.apply(Math,ri);Xn>1&&(De/=Xn,Ke/=Xn,ct/=Xn,Ut/=Xn,tr/=Xn,Er/=Xn,nn/=Xn,xn/=Xn);var $n=U.width-ct,Xi=U.height-Er,si=U.width-tr,$a=U.height-xn,_n=L.borderTopWidth,Pi=L.borderRightWidth,ji=L.borderBottomWidth,Ra=L.borderLeftWidth,$o=Ca(L.paddingTop,B.bounds.width),mc=Ca(L.paddingRight,B.bounds.width),mu=Ca(L.paddingBottom,B.bounds.width),ms=Ca(L.paddingLeft,B.bounds.width);this.topLeftBorderDoubleOuterBox=De>0||Ke>0?Ma(U.left+Ra/3,U.top+_n/3,De-Ra/3,Ke-_n/3,Wa.TOP_LEFT):new rn(U.left+Ra/3,U.top+_n/3),this.topRightBorderDoubleOuterBox=De>0||Ke>0?Ma(U.left+$n,U.top+_n/3,ct-Pi/3,Ut-_n/3,Wa.TOP_RIGHT):new rn(U.left+U.width-Pi/3,U.top+_n/3),this.bottomRightBorderDoubleOuterBox=tr>0||Er>0?Ma(U.left+si,U.top+Xi,tr-Pi/3,Er-ji/3,Wa.BOTTOM_RIGHT):new rn(U.left+U.width-Pi/3,U.top+U.height-ji/3),this.bottomLeftBorderDoubleOuterBox=nn>0||xn>0?Ma(U.left+Ra/3,U.top+$a,nn-Ra/3,xn-ji/3,Wa.BOTTOM_LEFT):new rn(U.left+Ra/3,U.top+U.height-ji/3),this.topLeftBorderDoubleInnerBox=De>0||Ke>0?Ma(U.left+Ra*2/3,U.top+_n*2/3,De-Ra*2/3,Ke-_n*2/3,Wa.TOP_LEFT):new rn(U.left+Ra*2/3,U.top+_n*2/3),this.topRightBorderDoubleInnerBox=De>0||Ke>0?Ma(U.left+$n,U.top+_n*2/3,ct-Pi*2/3,Ut-_n*2/3,Wa.TOP_RIGHT):new rn(U.left+U.width-Pi*2/3,U.top+_n*2/3),this.bottomRightBorderDoubleInnerBox=tr>0||Er>0?Ma(U.left+si,U.top+Xi,tr-Pi*2/3,Er-ji*2/3,Wa.BOTTOM_RIGHT):new rn(U.left+U.width-Pi*2/3,U.top+U.height-ji*2/3),this.bottomLeftBorderDoubleInnerBox=nn>0||xn>0?Ma(U.left+Ra*2/3,U.top+$a,nn-Ra*2/3,xn-ji*2/3,Wa.BOTTOM_LEFT):new rn(U.left+Ra*2/3,U.top+U.height-ji*2/3),this.topLeftBorderStroke=De>0||Ke>0?Ma(U.left+Ra/2,U.top+_n/2,De-Ra/2,Ke-_n/2,Wa.TOP_LEFT):new rn(U.left+Ra/2,U.top+_n/2),this.topRightBorderStroke=De>0||Ke>0?Ma(U.left+$n,U.top+_n/2,ct-Pi/2,Ut-_n/2,Wa.TOP_RIGHT):new rn(U.left+U.width-Pi/2,U.top+_n/2),this.bottomRightBorderStroke=tr>0||Er>0?Ma(U.left+si,U.top+Xi,tr-Pi/2,Er-ji/2,Wa.BOTTOM_RIGHT):new rn(U.left+U.width-Pi/2,U.top+U.height-ji/2),this.bottomLeftBorderStroke=nn>0||xn>0?Ma(U.left+Ra/2,U.top+$a,nn-Ra/2,xn-ji/2,Wa.BOTTOM_LEFT):new rn(U.left+Ra/2,U.top+U.height-ji/2),this.topLeftBorderBox=De>0||Ke>0?Ma(U.left,U.top,De,Ke,Wa.TOP_LEFT):new rn(U.left,U.top),this.topRightBorderBox=ct>0||Ut>0?Ma(U.left+$n,U.top,ct,Ut,Wa.TOP_RIGHT):new rn(U.left+U.width,U.top),this.bottomRightBorderBox=tr>0||Er>0?Ma(U.left+si,U.top+Xi,tr,Er,Wa.BOTTOM_RIGHT):new rn(U.left+U.width,U.top+U.height),this.bottomLeftBorderBox=nn>0||xn>0?Ma(U.left,U.top+$a,nn,xn,Wa.BOTTOM_LEFT):new rn(U.left,U.top+U.height),this.topLeftPaddingBox=De>0||Ke>0?Ma(U.left+Ra,U.top+_n,Math.max(0,De-Ra),Math.max(0,Ke-_n),Wa.TOP_LEFT):new rn(U.left+Ra,U.top+_n),this.topRightPaddingBox=ct>0||Ut>0?Ma(U.left+Math.min($n,U.width-Pi),U.top+_n,$n>U.width+Pi?0:Math.max(0,ct-Pi),Math.max(0,Ut-_n),Wa.TOP_RIGHT):new rn(U.left+U.width-Pi,U.top+_n),this.bottomRightPaddingBox=tr>0||Er>0?Ma(U.left+Math.min(si,U.width-Ra),U.top+Math.min(Xi,U.height-ji),Math.max(0,tr-Pi),Math.max(0,Er-ji),Wa.BOTTOM_RIGHT):new rn(U.left+U.width-Pi,U.top+U.height-ji),this.bottomLeftPaddingBox=nn>0||xn>0?Ma(U.left+Ra,U.top+Math.min($a,U.height-ji),Math.max(0,nn-Ra),Math.max(0,xn-ji),Wa.BOTTOM_LEFT):new rn(U.left+Ra,U.top+U.height-ji),this.topLeftContentBox=De>0||Ke>0?Ma(U.left+Ra+ms,U.top+_n+$o,Math.max(0,De-(Ra+ms)),Math.max(0,Ke-(_n+$o)),Wa.TOP_LEFT):new rn(U.left+Ra+ms,U.top+_n+$o),this.topRightContentBox=ct>0||Ut>0?Ma(U.left+Math.min($n,U.width+Ra+ms),U.top+_n+$o,$n>U.width+Ra+ms?0:ct-Ra+ms,Ut-(_n+$o),Wa.TOP_RIGHT):new rn(U.left+U.width-(Pi+mc),U.top+_n+$o),this.bottomRightContentBox=tr>0||Er>0?Ma(U.left+Math.min(si,U.width-(Ra+ms)),U.top+Math.min(Xi,U.height+_n+$o),Math.max(0,tr-(Pi+mc)),Er-(ji+mu),Wa.BOTTOM_RIGHT):new rn(U.left+U.width-(Pi+mc),U.top+U.height-(ji+mu)),this.bottomLeftContentBox=nn>0||xn>0?Ma(U.left+Ra+ms,U.top+$a,Math.max(0,nn-(Ra+ms)),xn-(ji+mu),Wa.BOTTOM_LEFT):new rn(U.left+Ra+ms,U.top+U.height-(ji+mu))}return F})(),Wa;(function(F){F[F.TOP_LEFT=0]="TOP_LEFT",F[F.TOP_RIGHT=1]="TOP_RIGHT",F[F.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",F[F.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Wa||(Wa={}));var Ma=function(F,B,L,U,be){var De=4*((Math.sqrt(2)-1)/3),Ke=L*De,ut=U*De,ct=F+L,Ut=B+U;switch(be){case Wa.TOP_LEFT:return new Wo(new rn(F,Ut),new rn(F,Ut-ut),new rn(ct-Ke,B),new rn(ct,B));case Wa.TOP_RIGHT:return new Wo(new rn(F,B),new rn(F+Ke,B),new rn(ct,Ut-ut),new rn(ct,Ut));case Wa.BOTTOM_RIGHT:return new Wo(new rn(ct,B),new rn(ct,B+ut),new rn(F+Ke,Ut),new rn(F,Ut));case Wa.BOTTOM_LEFT:default:return new Wo(new rn(ct,Ut),new rn(ct-Ke,Ut),new rn(F,B+ut),new rn(F,B))}},qn=function(F){return[F.topLeftBorderBox,F.topRightBorderBox,F.bottomRightBorderBox,F.bottomLeftBorderBox]},qi=function(F){return[F.topLeftContentBox,F.topRightContentBox,F.bottomRightContentBox,F.bottomLeftContentBox]},ki=function(F){return[F.topLeftPaddingBox,F.topRightPaddingBox,F.bottomRightPaddingBox,F.bottomLeftPaddingBox]},qs=(function(){function F(B,L,U){this.offsetX=B,this.offsetY=L,this.matrix=U,this.type=0,this.target=6}return F})(),Qs=(function(){function F(B,L){this.path=B,this.target=L,this.type=1}return F})(),ro=(function(){function F(B){this.opacity=B,this.type=2,this.target=6}return F})(),no=function(F){return F.type===0},Id=function(F){return F.type===1},Fu=function(F){return F.type===2},Zu=function(F,B){return F.length===B.length?F.some(function(L,U){return L===B[U]}):!1},If=function(F,B,L,U,be){return F.map(function(De,Ke){switch(Ke){case 0:return De.add(B,L);case 1:return De.add(B+U,L);case 2:return De.add(B+U,L+be);case 3:return De.add(B,L+be)}return De})},jh=(function(){function F(B){this.element=B,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return F})(),dl=(function(){function F(B,L){if(this.container=B,this.parent=L,this.effects=[],this.curves=new jl(this.container),this.container.styles.opacity<1&&this.effects.push(new ro(this.container.styles.opacity)),this.container.styles.transform!==null){var U=this.container.bounds.left+this.container.styles.transformOrigin[0].number,be=this.container.bounds.top+this.container.styles.transformOrigin[1].number,De=this.container.styles.transform;this.effects.push(new qs(U,be,De))}if(this.container.styles.overflowX!==0){var Ke=qn(this.curves),ut=ki(this.curves);Zu(Ke,ut)?this.effects.push(new Qs(Ke,6)):(this.effects.push(new Qs(Ke,2)),this.effects.push(new Qs(ut,4)))}}return F.prototype.getEffects=function(B){for(var L=[2,3].indexOf(this.container.styles.position)===-1,U=this.parent,be=this.effects.slice(0);U;){var De=U.effects.filter(function(ct){return!Id(ct)});if(L||U.container.styles.position!==0||!U.parent){if(be.unshift.apply(be,De),L=[2,3].indexOf(U.container.styles.position)===-1,U.container.styles.overflowX!==0){var Ke=qn(U.curves),ut=ki(U.curves);Zu(Ke,ut)||be.unshift(new Qs(ut,6))}}else be.unshift.apply(be,De);U=U.parent}return be.filter(function(ct){return T(ct.target,B)})},F})(),Yc=function(F,B,L,U){F.container.elements.forEach(function(be){var De=T(be.flags,4),Ke=T(be.flags,2),ut=new dl(be,F);T(be.styles.display,2048)&&U.push(ut);var ct=T(be.flags,8)?[]:U;if(De||Ke){var Ut=De||be.styles.isPositioned()?L:B,Qt=new jh(ut);if(be.styles.isPositioned()||be.styles.opacity<1||be.styles.isTransformed()){var tr=be.styles.zIndex.order;if(tr<0){var Er=0;Ut.negativeZIndex.some(function(nn,xn){return tr>nn.element.container.styles.zIndex.order?(Er=xn,!1):Er>0}),Ut.negativeZIndex.splice(Er,0,Qt)}else if(tr>0){var bn=0;Ut.positiveZIndex.some(function(nn,xn){return tr>=nn.element.container.styles.zIndex.order?(bn=xn+1,!1):bn>0}),Ut.positiveZIndex.splice(bn,0,Qt)}else Ut.zeroOrAutoZIndexOrTransformedOrOpacity.push(Qt)}else be.styles.isFloating()?Ut.nonPositionedFloats.push(Qt):Ut.nonPositionedInlineLevel.push(Qt);Yc(ut,Qt,De?Qt:L,ct)}else be.styles.isInlineLevel()?B.inlineLevel.push(ut):B.nonInlineLevel.push(ut),Yc(ut,B,L,ct);T(be.flags,8)&&rh(be,ct)})},rh=function(F,B){for(var L=F instanceof OA?F.start:1,U=F instanceof OA?F.reversed:!1,be=0;be<B.length;be++){var De=B[be];De.container instanceof Jd&&typeof De.container.value=="number"&&De.container.value!==0&&(L=De.container.value),De.listValue=Ur(L,De.container.styles.listStyleType,!0),L+=U?-1:1}},Ju=function(F){var B=new dl(F,null),L=new jh(B),U=[];return Yc(B,L,L,U),rh(B.container,U),L},tA=function(F,B){switch(B){case 0:return el(F.topLeftBorderBox,F.topLeftPaddingBox,F.topRightBorderBox,F.topRightPaddingBox);case 1:return el(F.topRightBorderBox,F.topRightPaddingBox,F.bottomRightBorderBox,F.bottomRightPaddingBox);case 2:return el(F.bottomRightBorderBox,F.bottomRightPaddingBox,F.bottomLeftBorderBox,F.bottomLeftPaddingBox);case 3:default:return el(F.bottomLeftBorderBox,F.bottomLeftPaddingBox,F.topLeftBorderBox,F.topLeftPaddingBox)}},LA=function(F,B){switch(B){case 0:return el(F.topLeftBorderBox,F.topLeftBorderDoubleOuterBox,F.topRightBorderBox,F.topRightBorderDoubleOuterBox);case 1:return el(F.topRightBorderBox,F.topRightBorderDoubleOuterBox,F.bottomRightBorderBox,F.bottomRightBorderDoubleOuterBox);case 2:return el(F.bottomRightBorderBox,F.bottomRightBorderDoubleOuterBox,F.bottomLeftBorderBox,F.bottomLeftBorderDoubleOuterBox);case 3:default:return el(F.bottomLeftBorderBox,F.bottomLeftBorderDoubleOuterBox,F.topLeftBorderBox,F.topLeftBorderDoubleOuterBox)}},pu=function(F,B){switch(B){case 0:return el(F.topLeftBorderDoubleInnerBox,F.topLeftPaddingBox,F.topRightBorderDoubleInnerBox,F.topRightPaddingBox);case 1:return el(F.topRightBorderDoubleInnerBox,F.topRightPaddingBox,F.bottomRightBorderDoubleInnerBox,F.bottomRightPaddingBox);case 2:return el(F.bottomRightBorderDoubleInnerBox,F.bottomRightPaddingBox,F.bottomLeftBorderDoubleInnerBox,F.bottomLeftPaddingBox);case 3:default:return el(F.bottomLeftBorderDoubleInnerBox,F.bottomLeftPaddingBox,F.topLeftBorderDoubleInnerBox,F.topLeftPaddingBox)}},rA=function(F,B){switch(B){case 0:return Zc(F.topLeftBorderStroke,F.topRightBorderStroke);case 1:return Zc(F.topRightBorderStroke,F.bottomRightBorderStroke);case 2:return Zc(F.bottomRightBorderStroke,F.bottomLeftBorderStroke);case 3:default:return Zc(F.bottomLeftBorderStroke,F.topLeftBorderStroke)}},Zc=function(F,B){var L=[];return Hs(F)?L.push(F.subdivide(.5,!1)):L.push(F),Hs(B)?L.push(B.subdivide(.5,!0)):L.push(B),L},el=function(F,B,L,U){var be=[];return Hs(F)?be.push(F.subdivide(.5,!1)):be.push(F),Hs(L)?be.push(L.subdivide(.5,!0)):be.push(L),Hs(U)?be.push(U.subdivide(.5,!0).reverse()):be.push(U),Hs(B)?be.push(B.subdivide(.5,!1).reverse()):be.push(B),be},Td=function(F){var B=F.bounds,L=F.styles;return B.add(L.borderLeftWidth,L.borderTopWidth,-(L.borderRightWidth+L.borderLeftWidth),-(L.borderTopWidth+L.borderBottomWidth))},Du=function(F){var B=F.styles,L=F.bounds,U=Ca(B.paddingLeft,L.width),be=Ca(B.paddingRight,L.width),De=Ca(B.paddingTop,L.width),Ke=Ca(B.paddingBottom,L.width);return L.add(U+B.borderLeftWidth,De+B.borderTopWidth,-(B.borderRightWidth+B.borderLeftWidth+U+be),-(B.borderTopWidth+B.borderBottomWidth+De+Ke))},nA=function(F,B){return F===0?B.bounds:F===2?Du(B):Td(B)},UA=function(F,B){return F===0?B.bounds:F===2?Du(B):Td(B)},Bo=function(F,B,L){var U=nA(_d(F.styles.backgroundOrigin,B),F),be=UA(_d(F.styles.backgroundClip,B),F),De=mo(_d(F.styles.backgroundSize,B),L,U),Ke=De[0],ut=De[1],ct=kn(_d(F.styles.backgroundPosition,B),U.width-Ke,U.height-ut),Ut=HA(_d(F.styles.backgroundRepeat,B),ct,De,U,be),Qt=Math.round(U.left+ct[0]),tr=Math.round(U.top+ct[1]);return[Ut,Qt,tr,Ke,ut]},pc=function(F){return hn(F)&&F.value===wa.AUTO},Cl=function(F){return typeof F=="number"},mo=function(F,B,L){var U=B[0],be=B[1],De=B[2],Ke=F[0],ut=F[1];if(!Ke)return[0,0];if(Fn(Ke)&&ut&&Fn(ut))return[Ca(Ke,L.width),Ca(ut,L.height)];var ct=Cl(De);if(hn(Ke)&&(Ke.value===wa.CONTAIN||Ke.value===wa.COVER)){if(Cl(De)){var Ut=L.width/L.height;return Ut<De!=(Ke.value===wa.COVER)?[L.width,L.width/De]:[L.height*De,L.height]}return[L.width,L.height]}var Qt=Cl(U),tr=Cl(be),Er=Qt||tr;if(pc(Ke)&&(!ut||pc(ut))){if(Qt&&tr)return[U,be];if(!ct&&!Er)return[L.width,L.height];if(Er&&ct){var bn=Qt?U:be*De,nn=tr?be:U/De;return[bn,nn]}var xn=Qt?U:L.width,ri=tr?be:L.height;return[xn,ri]}if(ct){var Xn=0,$n=0;return Fn(Ke)?Xn=Ca(Ke,L.width):Fn(ut)&&($n=Ca(ut,L.height)),pc(Ke)?Xn=$n*De:(!ut||pc(ut))&&($n=Xn/De),[Xn,$n]}var Xi=null,si=null;if(Fn(Ke)?Xi=Ca(Ke,L.width):ut&&Fn(ut)&&(si=Ca(ut,L.height)),Xi!==null&&(!ut||pc(ut))&&(si=Qt&&tr?Xi/U*be:L.height),si!==null&&pc(Ke)&&(Xi=Qt&&tr?si/be*U:L.width),Xi!==null&&si!==null)return[Xi,si];throw new Error("Unable to calculate background-size for element")},_d=function(F,B){var L=F[B];return typeof L>"u"?F[0]:L},HA=function(F,B,L,U,be){var De=B[0],Ke=B[1],ut=L[0],ct=L[1];switch(F){case 2:return[new rn(Math.round(U.left),Math.round(U.top+Ke)),new rn(Math.round(U.left+U.width),Math.round(U.top+Ke)),new rn(Math.round(U.left+U.width),Math.round(ct+U.top+Ke)),new rn(Math.round(U.left),Math.round(ct+U.top+Ke))];case 3:return[new rn(Math.round(U.left+De),Math.round(U.top)),new rn(Math.round(U.left+De+ut),Math.round(U.top)),new rn(Math.round(U.left+De+ut),Math.round(U.height+U.top)),new rn(Math.round(U.left+De),Math.round(U.height+U.top))];case 1:return[new rn(Math.round(U.left+De),Math.round(U.top+Ke)),new rn(Math.round(U.left+De+ut),Math.round(U.top+Ke)),new rn(Math.round(U.left+De+ut),Math.round(U.top+Ke+ct)),new rn(Math.round(U.left+De),Math.round(U.top+Ke+ct))];default:return[new rn(Math.round(be.left),Math.round(be.top)),new rn(Math.round(be.left+be.width),Math.round(be.top)),new rn(Math.round(be.left+be.width),Math.round(be.height+be.top)),new rn(Math.round(be.left),Math.round(be.height+be.top))]}},Tf="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",_f="Hidden Text",Mc=(function(){function F(B){this._data={},this._document=B}return F.prototype.parseMetrics=function(B,L){var U=this._document.createElement("div"),be=this._document.createElement("img"),De=this._document.createElement("span"),Ke=this._document.body;U.style.visibility="hidden",U.style.fontFamily=B,U.style.fontSize=L,U.style.margin="0",U.style.padding="0",U.style.whiteSpace="nowrap",Ke.appendChild(U),be.src=Tf,be.width=1,be.height=1,be.style.margin="0",be.style.padding="0",be.style.verticalAlign="baseline",De.style.fontFamily=B,De.style.fontSize=L,De.style.margin="0",De.style.padding="0",De.appendChild(this._document.createTextNode(_f)),U.appendChild(De),U.appendChild(be);var ut=be.offsetTop-De.offsetTop+2;U.removeChild(De),U.appendChild(this._document.createTextNode(_f)),U.style.lineHeight="normal",be.style.verticalAlign="super";var ct=be.offsetTop-U.offsetTop+2;return Ke.removeChild(U),{baseline:ut,middle:ct}},F.prototype.getMetrics=function(B,L){var U=B+" "+L;return typeof this._data[U]>"u"&&(this._data[U]=this.parseMetrics(B,L)),this._data[U]},F})(),Of=(function(){function F(B,L){this.context=B,this.options=L}return F})(),QA=1e4,nh=(function(F){a(B,F);function B(L,U){var be=F.call(this,L,U)||this;return be._activeEffects=[],be.canvas=U.canvas?U.canvas:document.createElement("canvas"),be.ctx=be.canvas.getContext("2d"),U.canvas||(be.canvas.width=Math.floor(U.width*U.scale),be.canvas.height=Math.floor(U.height*U.scale),be.canvas.style.width=U.width+"px",be.canvas.style.height=U.height+"px"),be.fontMetrics=new Mc(document),be.ctx.scale(be.options.scale,be.options.scale),be.ctx.translate(-U.x,-U.y),be.ctx.textBaseline="bottom",be._activeEffects=[],be.context.logger.debug("Canvas renderer initialized ("+U.width+"x"+U.height+") with scale "+U.scale),be}return B.prototype.applyEffects=function(L){for(var U=this;this._activeEffects.length;)this.popEffect();L.forEach(function(be){return U.applyEffect(be)})},B.prototype.applyEffect=function(L){this.ctx.save(),Fu(L)&&(this.ctx.globalAlpha=L.opacity),no(L)&&(this.ctx.translate(L.offsetX,L.offsetY),this.ctx.transform(L.matrix[0],L.matrix[1],L.matrix[2],L.matrix[3],L.matrix[4],L.matrix[5]),this.ctx.translate(-L.offsetX,-L.offsetY)),Id(L)&&(this.path(L.path),this.ctx.clip()),this._activeEffects.push(L)},B.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},B.prototype.renderStack=function(L){return s(this,void 0,void 0,function(){var U;return c(this,function(be){switch(be.label){case 0:return U=L.element.container.styles,U.isVisible()?[4,this.renderStackContent(L)]:[3,2];case 1:be.sent(),be.label=2;case 2:return[2]}})})},B.prototype.renderNode=function(L){return s(this,void 0,void 0,function(){return c(this,function(U){switch(U.label){case 0:if(T(L.container.flags,16))debugger;return L.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(L)]:[3,3];case 1:return U.sent(),[4,this.renderNodeContent(L)];case 2:U.sent(),U.label=3;case 3:return[2]}})})},B.prototype.renderTextWithLetterSpacing=function(L,U,be){var De=this;if(U===0)this.ctx.fillText(L.text,L.bounds.left,L.bounds.top+be);else{var Ke=Pu(L.text);Ke.reduce(function(ut,ct){return De.ctx.fillText(ct,ut,L.bounds.top+be),ut+De.ctx.measureText(ct).width},L.bounds.left)}},B.prototype.createFontStyle=function(L){var U=L.fontVariant.filter(function(Ke){return Ke==="normal"||Ke==="small-caps"}).join(""),be=Nh(L.fontFamily).join(", "),De=An(L.fontSize)?""+L.fontSize.number+L.fontSize.unit:L.fontSize.number+"px";return[[L.fontStyle,U,L.fontWeight,De,be].join(" "),be,De]},B.prototype.renderTextNode=function(L,U){return s(this,void 0,void 0,function(){var be,De,Ke,ut,ct,Ut,Qt,tr,Er=this;return c(this,function(bn){return be=this.createFontStyle(U),De=be[0],Ke=be[1],ut=be[2],this.ctx.font=De,this.ctx.direction=U.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",ct=this.fontMetrics.getMetrics(Ke,ut),Ut=ct.baseline,Qt=ct.middle,tr=U.paintOrder,L.textBounds.forEach(function(nn){tr.forEach(function(xn){switch(xn){case 0:Er.ctx.fillStyle=Bn(U.color),Er.renderTextWithLetterSpacing(nn,U.letterSpacing,Ut);var ri=U.textShadow;ri.length&&nn.text.trim().length&&(ri.slice(0).reverse().forEach(function(Xn){Er.ctx.shadowColor=Bn(Xn.color),Er.ctx.shadowOffsetX=Xn.offsetX.number*Er.options.scale,Er.ctx.shadowOffsetY=Xn.offsetY.number*Er.options.scale,Er.ctx.shadowBlur=Xn.blur.number,Er.renderTextWithLetterSpacing(nn,U.letterSpacing,Ut)}),Er.ctx.shadowColor="",Er.ctx.shadowOffsetX=0,Er.ctx.shadowOffsetY=0,Er.ctx.shadowBlur=0),U.textDecorationLine.length&&(Er.ctx.fillStyle=Bn(U.textDecorationColor||U.color),U.textDecorationLine.forEach(function(Xn){switch(Xn){case 1:Er.ctx.fillRect(nn.bounds.left,Math.round(nn.bounds.top+Ut),nn.bounds.width,1);break;case 2:Er.ctx.fillRect(nn.bounds.left,Math.round(nn.bounds.top),nn.bounds.width,1);break;case 3:Er.ctx.fillRect(nn.bounds.left,Math.ceil(nn.bounds.top+Qt),nn.bounds.width,1);break}}));break;case 1:U.webkitTextStrokeWidth&&nn.text.trim().length&&(Er.ctx.strokeStyle=Bn(U.webkitTextStrokeColor),Er.ctx.lineWidth=U.webkitTextStrokeWidth,Er.ctx.lineJoin=window.chrome?"miter":"round",Er.ctx.strokeText(nn.text,nn.bounds.left,nn.bounds.top+Ut)),Er.ctx.strokeStyle="",Er.ctx.lineWidth=0,Er.ctx.lineJoin="miter";break}})}),[2]})})},B.prototype.renderReplacedElement=function(L,U,be){if(be&&L.intrinsicWidth>0&&L.intrinsicHeight>0){var De=Du(L),Ke=ki(U);this.path(Ke),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(be,0,0,L.intrinsicWidth,L.intrinsicHeight,De.left,De.top,De.width,De.height),this.ctx.restore()}},B.prototype.renderNodeContent=function(L){return s(this,void 0,void 0,function(){var U,be,De,Ke,ut,ct,$n,$n,Ut,Qt,tr,Er,si,bn,nn,$a,xn,ri,Xn,$n,Xi,si,$a;return c(this,function(_n){switch(_n.label){case 0:this.applyEffects(L.getEffects(4)),U=L.container,be=L.curves,De=U.styles,Ke=0,ut=U.textNodes,_n.label=1;case 1:return Ke<ut.length?(ct=ut[Ke],[4,this.renderTextNode(ct,De)]):[3,4];case 2:_n.sent(),_n.label=3;case 3:return Ke++,[3,1];case 4:if(!(U instanceof yf))return[3,8];_n.label=5;case 5:return _n.trys.push([5,7,,8]),[4,this.context.cache.match(U.src)];case 6:return $n=_n.sent(),this.renderReplacedElement(U,be,$n),[3,8];case 7:return _n.sent(),this.context.logger.error("Error loading image "+U.src),[3,8];case 8:if(U instanceof yh&&this.renderReplacedElement(U,be,U.canvas),!(U instanceof Xh))return[3,12];_n.label=9;case 9:return _n.trys.push([9,11,,12]),[4,this.context.cache.match(U.svg)];case 10:return $n=_n.sent(),this.renderReplacedElement(U,be,$n),[3,12];case 11:return _n.sent(),this.context.logger.error("Error loading svg "+U.svg.substring(0,255)),[3,12];case 12:return U instanceof Ho&&U.tree?(Ut=new B(this.context,{scale:this.options.scale,backgroundColor:U.backgroundColor,x:0,y:0,width:U.width,height:U.height}),[4,Ut.render(U.tree)]):[3,14];case 13:Qt=_n.sent(),U.width&&U.height&&this.ctx.drawImage(Qt,0,0,U.width,U.height,U.bounds.left,U.bounds.top,U.bounds.width,U.bounds.height),_n.label=14;case 14:if(U instanceof fu&&(tr=Math.min(U.bounds.width,U.bounds.height),U.type===Yh?U.checked&&(this.ctx.save(),this.path([new rn(U.bounds.left+tr*.39363,U.bounds.top+tr*.79),new rn(U.bounds.left+tr*.16,U.bounds.top+tr*.5549),new rn(U.bounds.left+tr*.27347,U.bounds.top+tr*.44071),new rn(U.bounds.left+tr*.39694,U.bounds.top+tr*.5649),new rn(U.bounds.left+tr*.72983,U.bounds.top+tr*.23),new rn(U.bounds.left+tr*.84,U.bounds.top+tr*.34085),new rn(U.bounds.left+tr*.39363,U.bounds.top+tr*.79)]),this.ctx.fillStyle=Bn(Ul),this.ctx.fill(),this.ctx.restore()):U.type===Zh&&U.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(U.bounds.left+tr/2,U.bounds.top+tr/2,tr/4,0,Math.PI*2,!0),this.ctx.fillStyle=Bn(Ul),this.ctx.fill(),this.ctx.restore())),WA(U)&&U.value.length){switch(Er=this.createFontStyle(De),si=Er[0],bn=Er[1],nn=this.fontMetrics.getMetrics(si,bn).baseline,this.ctx.font=si,this.ctx.fillStyle=Bn(De.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Ch(U.styles.textAlign),$a=Du(U),xn=0,U.styles.textAlign){case 1:xn+=$a.width/2;break;case 2:xn+=$a.width;break}ri=$a.add(xn,0,0,-$a.height/2+1),this.ctx.save(),this.path([new rn($a.left,$a.top),new rn($a.left+$a.width,$a.top),new rn($a.left+$a.width,$a.top+$a.height),new rn($a.left,$a.top+$a.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Nd(U.value,ri),De.letterSpacing,nn),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!T(U.styles.display,2048))return[3,20];if(U.styles.listStyleImage===null)return[3,19];if(Xn=U.styles.listStyleImage,Xn.type!==0)return[3,18];$n=void 0,Xi=Xn.url,_n.label=15;case 15:return _n.trys.push([15,17,,18]),[4,this.context.cache.match(Xi)];case 16:return $n=_n.sent(),this.ctx.drawImage($n,U.bounds.left-($n.width+10),U.bounds.top),[3,18];case 17:return _n.sent(),this.context.logger.error("Error loading list-style-image "+Xi),[3,18];case 18:return[3,20];case 19:L.listValue&&U.styles.listStyleType!==-1&&(si=this.createFontStyle(De)[0],this.ctx.font=si,this.ctx.fillStyle=Bn(De.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",$a=new u(U.bounds.left,U.bounds.top+Ca(U.styles.paddingTop,U.bounds.width),U.bounds.width,sc(De.lineHeight,De.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Nd(L.listValue,$a),De.letterSpacing,sc(De.lineHeight,De.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),_n.label=20;case 20:return[2]}})})},B.prototype.renderStackContent=function(L){return s(this,void 0,void 0,function(){var U,be,Xn,De,Ke,Xn,ut,ct,Xn,Ut,Qt,Xn,tr,Er,Xn,bn,nn,Xn,xn,ri,Xn;return c(this,function($n){switch($n.label){case 0:if(T(L.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(L.element)];case 1:$n.sent(),U=0,be=L.negativeZIndex,$n.label=2;case 2:return U<be.length?(Xn=be[U],[4,this.renderStack(Xn)]):[3,5];case 3:$n.sent(),$n.label=4;case 4:return U++,[3,2];case 5:return[4,this.renderNodeContent(L.element)];case 6:$n.sent(),De=0,Ke=L.nonInlineLevel,$n.label=7;case 7:return De<Ke.length?(Xn=Ke[De],[4,this.renderNode(Xn)]):[3,10];case 8:$n.sent(),$n.label=9;case 9:return De++,[3,7];case 10:ut=0,ct=L.nonPositionedFloats,$n.label=11;case 11:return ut<ct.length?(Xn=ct[ut],[4,this.renderStack(Xn)]):[3,14];case 12:$n.sent(),$n.label=13;case 13:return ut++,[3,11];case 14:Ut=0,Qt=L.nonPositionedInlineLevel,$n.label=15;case 15:return Ut<Qt.length?(Xn=Qt[Ut],[4,this.renderStack(Xn)]):[3,18];case 16:$n.sent(),$n.label=17;case 17:return Ut++,[3,15];case 18:tr=0,Er=L.inlineLevel,$n.label=19;case 19:return tr<Er.length?(Xn=Er[tr],[4,this.renderNode(Xn)]):[3,22];case 20:$n.sent(),$n.label=21;case 21:return tr++,[3,19];case 22:bn=0,nn=L.zeroOrAutoZIndexOrTransformedOrOpacity,$n.label=23;case 23:return bn<nn.length?(Xn=nn[bn],[4,this.renderStack(Xn)]):[3,26];case 24:$n.sent(),$n.label=25;case 25:return bn++,[3,23];case 26:xn=0,ri=L.positiveZIndex,$n.label=27;case 27:return xn<ri.length?(Xn=ri[xn],[4,this.renderStack(Xn)]):[3,30];case 28:$n.sent(),$n.label=29;case 29:return xn++,[3,27];case 30:return[2]}})})},B.prototype.mask=function(L){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(L.slice(0).reverse()),this.ctx.closePath()},B.prototype.path=function(L){this.ctx.beginPath(),this.formatPath(L),this.ctx.closePath()},B.prototype.formatPath=function(L){var U=this;L.forEach(function(be,De){var Ke=Hs(be)?be.start:be;De===0?U.ctx.moveTo(Ke.x,Ke.y):U.ctx.lineTo(Ke.x,Ke.y),Hs(be)&&U.ctx.bezierCurveTo(be.startControl.x,be.startControl.y,be.endControl.x,be.endControl.y,be.end.x,be.end.y)})},B.prototype.renderRepeat=function(L,U,be,De){this.path(L),this.ctx.fillStyle=U,this.ctx.translate(be,De),this.ctx.fill(),this.ctx.translate(-be,-De)},B.prototype.resizeImage=function(L,U,be){var De;if(L.width===U&&L.height===be)return L;var Ke=(De=this.canvas.ownerDocument)!==null&&De!==void 0?De:document,ut=Ke.createElement("canvas");ut.width=Math.max(1,U),ut.height=Math.max(1,be);var ct=ut.getContext("2d");return ct.drawImage(L,0,0,L.width,L.height,0,0,U,be),ut},B.prototype.renderBackgroundImage=function(L){return s(this,void 0,void 0,function(){var U,be,De,Ke,ut,ct;return c(this,function(Ut){switch(Ut.label){case 0:U=L.styles.backgroundImage.length-1,be=function(Qt){var tr,Er,bn,$o,gc,Ql,ms,hl,ji,nn,$o,gc,Ql,ms,hl,xn,ri,Xn,$n,Xi,si,$a,_n,Pi,ji,Ra,$o,mc,mu,ms,hl,ed,gc,Ql,Sh,Fd,td,iA,rd,ih,Dd,p;return c(this,function(v){switch(v.label){case 0:if(Qt.type!==0)return[3,5];tr=void 0,Er=Qt.url,v.label=1;case 1:return v.trys.push([1,3,,4]),[4,De.context.cache.match(Er)];case 2:return tr=v.sent(),[3,4];case 3:return v.sent(),De.context.logger.error("Error loading background-image "+Er),[3,4];case 4:return tr&&(bn=Bo(L,U,[tr.width,tr.height,tr.width/tr.height]),$o=bn[0],gc=bn[1],Ql=bn[2],ms=bn[3],hl=bn[4],ji=De.ctx.createPattern(De.resizeImage(tr,ms,hl),"repeat"),De.renderRepeat($o,ji,gc,Ql)),[3,6];case 5:Go(Qt)?(nn=Bo(L,U,[null,null,null]),$o=nn[0],gc=nn[1],Ql=nn[2],ms=nn[3],hl=nn[4],xn=iu(Qt.angle,ms,hl),ri=xn[0],Xn=xn[1],$n=xn[2],Xi=xn[3],si=xn[4],$a=document.createElement("canvas"),$a.width=ms,$a.height=hl,_n=$a.getContext("2d"),Pi=_n.createLinearGradient(Xn,Xi,$n,si),_s(Qt.stops,ri).forEach(function(j){return Pi.addColorStop(j.stop,Bn(j.color))}),_n.fillStyle=Pi,_n.fillRect(0,0,ms,hl),ms>0&&hl>0&&(ji=De.ctx.createPattern($a,"repeat"),De.renderRepeat($o,ji,gc,Ql))):ou(Qt)&&(Ra=Bo(L,U,[null,null,null]),$o=Ra[0],mc=Ra[1],mu=Ra[2],ms=Ra[3],hl=Ra[4],ed=Qt.position.length===0?[On]:Qt.position,gc=Ca(ed[0],ms),Ql=Ca(ed[ed.length-1],hl),Sh=Ic(Qt,gc,Ql,ms,hl),Fd=Sh[0],td=Sh[1],Fd>0&&td>0&&(iA=De.ctx.createRadialGradient(mc+gc,mu+Ql,0,mc+gc,mu+Ql,Fd),_s(Qt.stops,Fd*2).forEach(function(j){return iA.addColorStop(j.stop,Bn(j.color))}),De.path($o),De.ctx.fillStyle=iA,Fd!==td?(rd=L.bounds.left+.5*L.bounds.width,ih=L.bounds.top+.5*L.bounds.height,Dd=td/Fd,p=1/Dd,De.ctx.save(),De.ctx.translate(rd,ih),De.ctx.transform(1,0,0,Dd,0,0),De.ctx.translate(-rd,-ih),De.ctx.fillRect(mc,p*(mu-ih)+ih,ms,hl*p),De.ctx.restore()):De.ctx.fill())),v.label=6;case 6:return U--,[2]}})},De=this,Ke=0,ut=L.styles.backgroundImage.slice(0).reverse(),Ut.label=1;case 1:return Ke<ut.length?(ct=ut[Ke],[5,be(ct)]):[3,4];case 2:Ut.sent(),Ut.label=3;case 3:return Ke++,[3,1];case 4:return[2]}})})},B.prototype.renderSolidBorder=function(L,U,be){return s(this,void 0,void 0,function(){return c(this,function(De){return this.path(tA(be,U)),this.ctx.fillStyle=Bn(L),this.ctx.fill(),[2]})})},B.prototype.renderDoubleBorder=function(L,U,be,De){return s(this,void 0,void 0,function(){var Ke,ut;return c(this,function(ct){switch(ct.label){case 0:return U<3?[4,this.renderSolidBorder(L,be,De)]:[3,2];case 1:return ct.sent(),[2];case 2:return Ke=LA(De,be),this.path(Ke),this.ctx.fillStyle=Bn(L),this.ctx.fill(),ut=pu(De,be),this.path(ut),this.ctx.fill(),[2]}})})},B.prototype.renderNodeBackgroundAndBorders=function(L){return s(this,void 0,void 0,function(){var U,be,De,Ke,ut,ct,Ut,Qt,tr=this;return c(this,function(Er){switch(Er.label){case 0:return this.applyEffects(L.getEffects(2)),U=L.container.styles,be=!Na(U.backgroundColor)||U.backgroundImage.length,De=[{style:U.borderTopStyle,color:U.borderTopColor,width:U.borderTopWidth},{style:U.borderRightStyle,color:U.borderRightColor,width:U.borderRightWidth},{style:U.borderBottomStyle,color:U.borderBottomColor,width:U.borderBottomWidth},{style:U.borderLeftStyle,color:U.borderLeftColor,width:U.borderLeftWidth}],Ke=ah(_d(U.backgroundClip,0),L.curves),be||U.boxShadow.length?(this.ctx.save(),this.path(Ke),this.ctx.clip(),Na(U.backgroundColor)||(this.ctx.fillStyle=Bn(U.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(L.container)]):[3,2];case 1:Er.sent(),this.ctx.restore(),U.boxShadow.slice(0).reverse().forEach(function(bn){tr.ctx.save();var nn=qn(L.curves),xn=bn.inset?0:QA,ri=If(nn,-xn+(bn.inset?1:-1)*bn.spread.number,(bn.inset?1:-1)*bn.spread.number,bn.spread.number*(bn.inset?-2:2),bn.spread.number*(bn.inset?-2:2));bn.inset?(tr.path(nn),tr.ctx.clip(),tr.mask(ri)):(tr.mask(nn),tr.ctx.clip(),tr.path(ri)),tr.ctx.shadowOffsetX=bn.offsetX.number+xn,tr.ctx.shadowOffsetY=bn.offsetY.number,tr.ctx.shadowColor=Bn(bn.color),tr.ctx.shadowBlur=bn.blur.number,tr.ctx.fillStyle=bn.inset?Bn(bn.color):"rgba(0,0,0,1)",tr.ctx.fill(),tr.ctx.restore()}),Er.label=2;case 2:ut=0,ct=0,Ut=De,Er.label=3;case 3:return ct<Ut.length?(Qt=Ut[ct],Qt.style!==0&&!Na(Qt.color)&&Qt.width>0?Qt.style!==2?[3,5]:[4,this.renderDashedDottedBorder(Qt.color,Qt.width,ut,L.curves,2)]:[3,11]):[3,13];case 4:return Er.sent(),[3,11];case 5:return Qt.style!==3?[3,7]:[4,this.renderDashedDottedBorder(Qt.color,Qt.width,ut,L.curves,3)];case 6:return Er.sent(),[3,11];case 7:return Qt.style!==4?[3,9]:[4,this.renderDoubleBorder(Qt.color,Qt.width,ut,L.curves)];case 8:return Er.sent(),[3,11];case 9:return[4,this.renderSolidBorder(Qt.color,ut,L.curves)];case 10:Er.sent(),Er.label=11;case 11:ut++,Er.label=12;case 12:return ct++,[3,3];case 13:return[2]}})})},B.prototype.renderDashedDottedBorder=function(L,U,be,De,Ke){return s(this,void 0,void 0,function(){var ut,ct,Ut,Qt,tr,Er,bn,nn,xn,ri,Xn,$n,Xi,si,$a,_n,$a,_n;return c(this,function(Pi){return this.ctx.save(),ut=rA(De,be),ct=tA(De,be),Ke===2&&(this.path(ct),this.ctx.clip()),Hs(ct[0])?(Ut=ct[0].start.x,Qt=ct[0].start.y):(Ut=ct[0].x,Qt=ct[0].y),Hs(ct[1])?(tr=ct[1].end.x,Er=ct[1].end.y):(tr=ct[1].x,Er=ct[1].y),be===0||be===2?bn=Math.abs(Ut-tr):bn=Math.abs(Qt-Er),this.ctx.beginPath(),Ke===3?this.formatPath(ut):this.formatPath(ct.slice(0,2)),nn=U<3?U*3:U*2,xn=U<3?U*2:U,Ke===3&&(nn=U,xn=U),ri=!0,bn<=nn*2?ri=!1:bn<=nn*2+xn?(Xn=bn/(2*nn+xn),nn*=Xn,xn*=Xn):($n=Math.floor((bn+xn)/(nn+xn)),Xi=(bn-$n*nn)/($n-1),si=(bn-($n+1)*nn)/$n,xn=si<=0||Math.abs(xn-Xi)<Math.abs(xn-si)?Xi:si),ri&&(Ke===3?this.ctx.setLineDash([0,nn+xn]):this.ctx.setLineDash([nn,xn])),Ke===3?(this.ctx.lineCap="round",this.ctx.lineWidth=U):this.ctx.lineWidth=U*2+1.1,this.ctx.strokeStyle=Bn(L),this.ctx.stroke(),this.ctx.setLineDash([]),Ke===2&&(Hs(ct[0])&&($a=ct[3],_n=ct[0],this.ctx.beginPath(),this.formatPath([new rn($a.end.x,$a.end.y),new rn(_n.start.x,_n.start.y)]),this.ctx.stroke()),Hs(ct[1])&&($a=ct[1],_n=ct[2],this.ctx.beginPath(),this.formatPath([new rn($a.end.x,$a.end.y),new rn(_n.start.x,_n.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},B.prototype.render=function(L){return s(this,void 0,void 0,function(){var U;return c(this,function(be){switch(be.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Bn(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),U=Ju(L),[4,this.renderStack(U)];case 1:return be.sent(),this.applyEffects([]),[2,this.canvas]}})})},B})(Of),WA=function(F){return F instanceof wf||F instanceof Ep?!0:F instanceof fu&&F.type!==Zh&&F.type!==Yh},ah=function(F,B){switch(F){case 0:return qn(B);case 2:return qi(B);case 1:default:return ki(B)}},Ch=function(F){switch(F){case 1:return"center";case 2:return"right";case 0:default:return"left"}},$A=["-apple-system","system-ui"],Nh=function(F){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?F.filter(function(B){return $A.indexOf(B)===-1}):F},Jc=(function(F){a(B,F);function B(L,U){var be=F.call(this,L,U)||this;return be.canvas=U.canvas?U.canvas:document.createElement("canvas"),be.ctx=be.canvas.getContext("2d"),be.options=U,be.canvas.width=Math.floor(U.width*U.scale),be.canvas.height=Math.floor(U.height*U.scale),be.canvas.style.width=U.width+"px",be.canvas.style.height=U.height+"px",be.ctx.scale(be.options.scale,be.options.scale),be.ctx.translate(-U.x,-U.y),be.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+U.width+"x"+U.height+" at "+U.x+","+U.y+") with scale "+U.scale),be}return B.prototype.render=function(L){return s(this,void 0,void 0,function(){var U,be;return c(this,function(De){switch(De.label){case 0:return U=Gh(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,L),[4,Od(U)];case 1:return be=De.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Bn(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(be,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},B})(Of),Od=function(F){return new Promise(function(B,L){var U=new Image;U.onload=function(){B(U)},U.onerror=L,U.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(F))})},kd=(function(){function F(B){var L=B.id,U=B.enabled;this.id=L,this.enabled=U,this.start=Date.now()}return F.prototype.debug=function(){for(var B=[],L=0;L<arguments.length;L++)B[L]=arguments[L];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,l([this.id,this.getTime()+"ms"],B)):this.info.apply(this,B))},F.prototype.getTime=function(){return Date.now()-this.start},F.prototype.info=function(){for(var B=[],L=0;L<arguments.length;L++)B[L]=arguments[L];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,l([this.id,this.getTime()+"ms"],B))},F.prototype.warn=function(){for(var B=[],L=0;L<arguments.length;L++)B[L]=arguments[L];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,l([this.id,this.getTime()+"ms"],B)):this.info.apply(this,B))},F.prototype.error=function(){for(var B=[],L=0;L<arguments.length;L++)B[L]=arguments[L];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,l([this.id,this.getTime()+"ms"],B)):this.info.apply(this,B))},F.instances={},F})(),aA=(function(){function F(B,L){var U;this.windowBounds=L,this.instanceName="#"+F.instanceCount++,this.logger=new kd({id:this.instanceName,enabled:B.logging}),this.cache=(U=B.cache)!==null&&U!==void 0?U:new Ya(this,B)}return F.instanceCount=1,F})(),VA=function(F,B){return B===void 0&&(B={}),Pd(F,B)};typeof window<"u"&&mi.setContext(window);var Pd=function(F,B){return s(void 0,void 0,void 0,function(){var L,U,be,De,Ke,ut,ct,Ut,Qt,tr,Er,bn,nn,xn,ri,Xn,$n,Xi,si,$a,Pi,_n,Pi,ji,Ra,$o,mc,mu,ms,hl,ed,gc,Ql,Sh,Fd,td,iA,rd,ih,Dd;return c(this,function(p){switch(p.label){case 0:if(!F||typeof F!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(L=F.ownerDocument,!L)throw new Error("Element is not attached to a Document");if(U=L.defaultView,!U)throw new Error("Document is not attached to a Window");return be={allowTaint:(ji=B.allowTaint)!==null&&ji!==void 0?ji:!1,imageTimeout:(Ra=B.imageTimeout)!==null&&Ra!==void 0?Ra:15e3,proxy:B.proxy,useCORS:($o=B.useCORS)!==null&&$o!==void 0?$o:!1},De=i({logging:(mc=B.logging)!==null&&mc!==void 0?mc:!0,cache:B.cache},be),Ke={windowWidth:(mu=B.windowWidth)!==null&&mu!==void 0?mu:U.innerWidth,windowHeight:(ms=B.windowHeight)!==null&&ms!==void 0?ms:U.innerHeight,scrollX:(hl=B.scrollX)!==null&&hl!==void 0?hl:U.pageXOffset,scrollY:(ed=B.scrollY)!==null&&ed!==void 0?ed:U.pageYOffset},ut=new u(Ke.scrollX,Ke.scrollY,Ke.windowWidth,Ke.windowHeight),ct=new aA(De,ut),Ut=(gc=B.foreignObjectRendering)!==null&&gc!==void 0?gc:!1,Qt={allowTaint:(Ql=B.allowTaint)!==null&&Ql!==void 0?Ql:!1,onclone:B.onclone,ignoreElements:B.ignoreElements,inlineImages:Ut,copyStyles:Ut},ct.logger.debug("Starting document clone with size "+ut.width+"x"+ut.height+" scrolled to "+-ut.left+","+-ut.top),tr=new ea(ct,F,Qt),Er=tr.clonedReferenceElement,Er?[4,tr.toIFrame(L,ut)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return bn=p.sent(),nn=Ef(Er)||Nf(Er)?h(Er.ownerDocument):o(ct,Er),xn=nn.width,ri=nn.height,Xn=nn.left,$n=nn.top,Xi=Vm(ct,Er,B.backgroundColor),si={canvas:B.canvas,backgroundColor:Xi,scale:(Fd=(Sh=B.scale)!==null&&Sh!==void 0?Sh:U.devicePixelRatio)!==null&&Fd!==void 0?Fd:1,x:((td=B.x)!==null&&td!==void 0?td:0)+Xn,y:((iA=B.y)!==null&&iA!==void 0?iA:0)+$n,width:(rd=B.width)!==null&&rd!==void 0?rd:Math.ceil(xn),height:(ih=B.height)!==null&&ih!==void 0?ih:Math.ceil(ri)},Ut?(ct.logger.debug("Document cloned, using foreign object rendering"),Pi=new Jc(ct,si),[4,Pi.render(Er)]):[3,3];case 2:return $a=p.sent(),[3,5];case 3:return ct.logger.debug("Document cloned, element located at "+Xn+","+$n+" with size "+xn+"x"+ri+" using computed rendering"),ct.logger.debug("Starting DOM parsing"),_n=kA(ct,Er),Xi===_n.styles.backgroundColor&&(_n.styles.backgroundColor=jo.TRANSPARENT),ct.logger.debug("Starting renderer for element at "+si.x+","+si.y+" with size "+si.width+"x"+si.height),Pi=new nh(ct,si),[4,Pi.render(_n)];case 4:$a=p.sent(),p.label=5;case 5:return(!((Dd=B.removeContainer)!==null&&Dd!==void 0)||Dd)&&(ea.destroy(bn)||ct.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),ct.logger.debug("Finished rendering"),[2,$a]}})})},Vm=function(F,B,L){var U=B.ownerDocument,be=U.documentElement?Cs(F,getComputedStyle(U.documentElement).backgroundColor):jo.TRANSPARENT,De=U.body?Cs(F,getComputedStyle(U.body).backgroundColor):jo.TRANSPARENT,Ke=typeof L=="string"?Cs(F,L):L===null?jo.TRANSPARENT:4294967295;return B===U.documentElement?Na(be)?Na(De)?Ke:De:be:Ke};return VA}))})(dv)),dv.exports}/*!
 * html2pdf.js v0.14.0
 * Copyright (c) 2026 Erik Koopmans
 * Released under the MIT License.
 */var u_;function Mne(){return u_||(u_=1,(function(r,e){(function(a,i){r.exports=i(Dne())})(self,function(n){return(function(){var a={"./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js":(function(l,u,o){o.r(u),o.d(u,{default:function(){return h}});function h(d,A){(A==null||A>d.length)&&(A=d.length);for(var f=0,g=Array(A);f<A;f++)g[f]=d[f];return g}}),"./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js":(function(l,u,o){o.r(u),o.d(u,{default:function(){return h}});function h(d){if(Array.isArray(d))return d}}),"./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js":(function(l,u,o){o.r(u),o.d(u,{default:function(){return d}});function h(A,f,g,m,x,y,b){try{var w=A[y](b),S=w.value}catch(N){return void g(N)}w.done?f(S):Promise.resolve(S).then(m,x)}function d(A){return function(){var f=this,g=arguments;return new Promise(function(m,x){var y=A.apply(f,g);function b(S){h(y,m,x,b,w,"next",S)}function w(S){h(y,m,x,b,w,"throw",S)}b(void 0)})}}}),"./node_modules/@babel/runtime/helpers/esm/defineProperty.js":(function(l,u,o){o.r(u),o.d(u,{default:function(){return d}});var h=o("./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js");function d(A,f,g){return(f=(0,h.default)(f))in A?Object.defineProperty(A,f,{value:g,enumerable:!0,configurable:!0,writable:!0}):A[f]=g,A}}),"./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js":(function(l,u,o){o.r(u),o.d(u,{default:function(){return h}});function h(d,A){var f=d==null?null:typeof Symbol<"u"&&d[Symbol.iterator]||d["@@iterator"];if(f!=null){var g,m,x,y,b=[],w=!0,S=!1;try{if(x=(f=f.call(d)).next,A===0){if(Object(f)!==f)return;w=!1}else for(;!(w=(g=x.call(f)).done)&&(b.push(g.value),b.length!==A);w=!0);}catch(N){S=!0,m=N}finally{try{if(!w&&f.return!=null&&(y=f.return(),Object(y)!==y))return}finally{if(S)throw m}}return b}}}),"./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js":(function(l,u,o){o.r(u),o.d(u,{default:function(){return h}});function h(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}}),"./node_modules/@babel/runtime/helpers/esm/slicedToArray.js":(function(l,u,o){o.r(u),o.d(u,{default:function(){return g}});var h=o("./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js"),d=o("./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js"),A=o("./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js"),f=o("./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js");function g(m,x){return(0,h.default)(m)||(0,d.default)(m,x)||(0,A.default)(m,x)||(0,f.default)()}}),"./node_modules/@babel/runtime/helpers/esm/toPrimitive.js":(function(l,u,o){o.r(u),o.d(u,{default:function(){return d}});var h=o("./node_modules/@babel/runtime/helpers/esm/typeof.js");function d(A,f){if((0,h.default)(A)!="object"||!A)return A;var g=A[Symbol.toPrimitive];if(g!==void 0){var m=g.call(A,f||"default");if((0,h.default)(m)!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(f==="string"?String:Number)(A)}}),"./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js":(function(l,u,o){o.r(u),o.d(u,{default:function(){return A}});var h=o("./node_modules/@babel/runtime/helpers/esm/typeof.js"),d=o("./node_modules/@babel/runtime/helpers/esm/toPrimitive.js");function A(f){var g=(0,d.default)(f,"string");return(0,h.default)(g)=="symbol"?g:g+""}}),"./node_modules/@babel/runtime/helpers/esm/typeof.js":(function(l,u,o){o.r(u),o.d(u,{default:function(){return h}});function h(d){"@babel/helpers - typeof";return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},h(d)}}),"./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js":(function(l,u,o){o.r(u),o.d(u,{default:function(){return d}});var h=o("./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js");function d(A,f){if(A){if(typeof A=="string")return(0,h.default)(A,f);var g={}.toString.call(A).slice(8,-1);return g==="Object"&&A.constructor&&(g=A.constructor.name),g==="Map"||g==="Set"?Array.from(A):g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g)?(0,h.default)(A,f):void 0}}}),"./node_modules/canvg/lib/index.es.js":(function(l,u,o){o.r(u),o.d(u,{AElement:function(){return Il},AnimateColorElement:function(){return xs},AnimateElement:function(){return Ga},AnimateTransformElement:function(){return Va},BoundingBox:function(){return dn},CB1:function(){return ee},CB2:function(){return re},CB3:function(){return je},CB4:function(){return Ne},Canvg:function(){return Do},CircleElement:function(){return Kr},ClipPathElement:function(){return ds},DefsElement:function(){return Ts},DescElement:function(){return co},Document:function(){return js},Element:function(){return Xr},EllipseElement:function(){return un},FeColorMatrixElement:function(){return ml},FeCompositeElement:function(){return ws},FeDropShadowElement:function(){return Vi},FeGaussianBlurElement:function(){return Po},FeMorphologyElement:function(){return bs},FilterElement:function(){return Gn},Font:function(){return $r},FontElement:function(){return Sc},FontFaceElement:function(){return ys},GElement:function(){return Ni},GlyphElement:function(){return Mr},GradientElement:function(){return yi},ImageElement:function(){return ai},LineElement:function(){return tn},LinearGradientElement:function(){return Wi},MarkerElement:function(){return Cn},MaskElement:function(){return ko},Matrix:function(){return lr},MissingGlyphElement:function(){return Bl},Mouse:function(){return Ue},PSEUDO_ZERO:function(){return Ie},Parser:function(){return Et},PathElement:function(){return Hr},PathParser:function(){return zr},PatternElement:function(){return xi},Point:function(){return Re},PolygonElement:function(){return ga},PolylineElement:function(){return cr},Property:function(){return le},QB1:function(){return ye},QB2:function(){return me},QB3:function(){return ie},RadialGradientElement:function(){return Ii},RectElement:function(){return Pt},RenderedElement:function(){return Wn},Rotate:function(){return Bt},SVGElement:function(){return ca},SVGFontLoader:function(){return Ys},Scale:function(){return mr},Screen:function(){return ue},Skew:function(){return He},SkewX:function(){return $t},SkewY:function(){return Nt},StopElement:function(){return Ds},StyleElement:function(){return _o},SymbolElement:function(){return To},TRefElement:function(){return Ec},TSpanElement:function(){return cn},TextElement:function(){return jn},TextPathElement:function(){return fa},TitleElement:function(){return Li},Transform:function(){return an},Translate:function(){return Ct},UnknownElement:function(){return Qr},UseElement:function(){return nl},ViewPort:function(){return Ee},compressSpaces:function(){return w},default:function(){return Do},getSelectorSpecificity:function(){return Te},normalizeAttributeName:function(){return W},normalizeColor:function(){return te},parseExternalUrl:function(){return K},presets:function(){return b},toNumbers:function(){return C},trimLeft:function(){return S},trimRight:function(){return N},vectorMagnitude:function(){return _e},vectorsAngle:function(){return Oe},vectorsRatio:function(){return Z}}),o("./node_modules/core-js/modules/es.promise.js");var h=o("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");o("./node_modules/core-js/modules/es.string.match.js"),o("./node_modules/core-js/modules/es.string.replace.js"),o("./node_modules/core-js/modules/es.string.starts-with.js"),o("./node_modules/core-js/modules/es.array.iterator.js"),o("./node_modules/core-js/modules/web.dom-collections.iterator.js");var d=o("./node_modules/@babel/runtime/helpers/esm/defineProperty.js");o("./node_modules/core-js/modules/es.array.reduce.js"),o("./node_modules/core-js/modules/es.string.ends-with.js"),o("./node_modules/core-js/modules/es.string.split.js");var A=o("./node_modules/raf/index.js");o("./node_modules/core-js/modules/es.string.trim.js");var f=o("./node_modules/rgbcolor/index.js");o("./node_modules/core-js/modules/es.array.index-of.js"),o("./node_modules/core-js/modules/es.string.includes.js"),o("./node_modules/core-js/modules/es.array.reverse.js");var g=o("./node_modules/svg-pathdata/lib/SVGPathData.module.js");o("./node_modules/core-js/modules/es.regexp.to-string.js");var m=o("./node_modules/stackblur-canvas/dist/stackblur-es.js");function x(){var{DOMParser:Ht}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},H={window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:Ht,createCanvas(oe,he){return new OffscreenCanvas(oe,he)},createImage(oe){return(0,h.default)(function*(){var he=yield fetch(oe),M=yield he.blob(),Q=yield createImageBitmap(M);return Q})()}};return(typeof DOMParser<"u"||typeof Ht>"u")&&Reflect.deleteProperty(H,"DOMParser"),H}function y(Ht){var{DOMParser:H,canvas:oe,fetch:he}=Ht;return{window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:H,fetch:he,createCanvas:oe.createCanvas,createImage:oe.loadImage}}var b=Object.freeze({__proto__:null,offscreen:x,node:y});function w(Ht){return Ht.replace(/(?!\u3000)\s+/gm," ")}function S(Ht){return Ht.replace(/^[\n \t]+/,"")}function N(Ht){return Ht.replace(/[\n \t]+$/,"")}function C(Ht){var H=(Ht||"").match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm)||[];return H.map(parseFloat)}var O=/^[A-Z-]+$/;function W(Ht){return O.test(Ht)?Ht.toLowerCase():Ht}function K(Ht){var H=/url\(('([^']+)'|"([^"]+)"|([^'")]+))\)/.exec(Ht)||[];return H[2]||H[3]||H[4]}function te(Ht){if(!Ht.startsWith("rgb"))return Ht;var H=3,oe=Ht.replace(/\d+(\.\d+)?/g,(he,M)=>H--&&M?String(Math.round(parseFloat(he))):he);return oe}var q=/(\[[^\]]+\])/g,Y=/(#[^\s+>~.[:]+)/g,P=/(\.[^\s+>~.[:]+)/g,ce=/(::[^\s+>~.[:]+|:first-line|:first-letter|:before|:after)/gi,$=/(:[\w-]+\([^)]*\))/gi,R=/(:[^\s+>~.[:]+)/g,se=/([^\s+>~.[:]+)/g;function fe(Ht,H){var oe=H.exec(Ht);return oe?[Ht.replace(H," "),oe.length]:[Ht,0]}function Te(Ht){var H=[0,0,0],oe=Ht.replace(/:not\(([^)]*)\)/g,"     $1 ").replace(/{[\s\S]*/gm," "),he=0;return[oe,he]=fe(oe,q),H[1]+=he,[oe,he]=fe(oe,Y),H[0]+=he,[oe,he]=fe(oe,P),H[1]+=he,[oe,he]=fe(oe,ce),H[2]+=he,[oe,he]=fe(oe,$),H[1]+=he,[oe,he]=fe(oe,R),H[1]+=he,oe=oe.replace(/[*\s+>~]/g," ").replace(/[#.]/g," "),[oe,he]=fe(oe,se),H[2]+=he,H.join("")}var Ie=1e-8;function _e(Ht){return Math.sqrt(Math.pow(Ht[0],2)+Math.pow(Ht[1],2))}function Z(Ht,H){return(Ht[0]*H[0]+Ht[1]*H[1])/(_e(Ht)*_e(H))}function Oe(Ht,H){return(Ht[0]*H[1]<Ht[1]*H[0]?-1:1)*Math.acos(Z(Ht,H))}function ee(Ht){return Ht*Ht*Ht}function re(Ht){return 3*Ht*Ht*(1-Ht)}function je(Ht){return 3*Ht*(1-Ht)*(1-Ht)}function Ne(Ht){return(1-Ht)*(1-Ht)*(1-Ht)}function ye(Ht){return Ht*Ht}function me(Ht){return 2*Ht*(1-Ht)}function ie(Ht){return(1-Ht)*(1-Ht)}class le{constructor(H,oe,he){this.document=H,this.name=oe,this.value=he,this.isNormalizedColor=!1}static empty(H){return new le(H,"EMPTY","")}split(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:" ",{document:oe,name:he}=this;return w(this.getString()).trim().split(H).map(M=>new le(oe,he,M))}hasValue(H){var{value:oe}=this;return oe!==null&&oe!==""&&(H||oe!==0)&&typeof oe<"u"}isString(H){var{value:oe}=this,he=typeof oe=="string";return!he||!H?he:H.test(oe)}isUrlDefinition(){return this.isString(/^url\(/)}isPixels(){if(!this.hasValue())return!1;var H=this.getString();switch(!0){case H.endsWith("px"):case/^[0-9]+$/.test(H):return!0;default:return!1}}setValue(H){return this.value=H,this}getValue(H){return typeof H>"u"||this.hasValue()?this.value:H}getNumber(H){if(!this.hasValue())return typeof H>"u"?0:parseFloat(H);var{value:oe}=this,he=parseFloat(oe);return this.isString(/%$/)&&(he/=100),he}getString(H){return typeof H>"u"||this.hasValue()?typeof this.value>"u"?"":String(this.value):String(H)}getColor(H){var oe=this.getString(H);return this.isNormalizedColor||(this.isNormalizedColor=!0,oe=te(oe),this.value=oe),oe}getDpi(){return 96}getRem(){return this.document.rootEmSize}getEm(){return this.document.emSize}getUnits(){return this.getString().replace(/[0-9.-]/g,"")}getPixels(H){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!this.hasValue())return 0;var[he,M]=typeof H=="boolean"?[void 0,H]:[H],{viewPort:Q}=this.document.screen;switch(!0){case this.isString(/vmin$/):return this.getNumber()/100*Math.min(Q.computeSize("x"),Q.computeSize("y"));case this.isString(/vmax$/):return this.getNumber()/100*Math.max(Q.computeSize("x"),Q.computeSize("y"));case this.isString(/vw$/):return this.getNumber()/100*Q.computeSize("x");case this.isString(/vh$/):return this.getNumber()/100*Q.computeSize("y");case this.isString(/rem$/):return this.getNumber()*this.getRem();case this.isString(/em$/):return this.getNumber()*this.getEm();case this.isString(/ex$/):return this.getNumber()*this.getEm()/2;case this.isString(/px$/):return this.getNumber();case this.isString(/pt$/):return this.getNumber()*this.getDpi()*.013888888888888888;case this.isString(/pc$/):return this.getNumber()*15;case this.isString(/cm$/):return this.getNumber()*this.getDpi()/2.54;case this.isString(/mm$/):return this.getNumber()*this.getDpi()/25.4;case this.isString(/in$/):return this.getNumber()*this.getDpi();case(this.isString(/%$/)&&M):return this.getNumber()*this.getEm();case this.isString(/%$/):return this.getNumber()*Q.computeSize(he);default:{var ne=this.getNumber();return oe&&ne<1?ne*Q.computeSize(he):ne}}}getMilliseconds(){return this.hasValue()?this.isString(/ms$/)?this.getNumber():this.getNumber()*1e3:0}getRadians(){if(!this.hasValue())return 0;switch(!0){case this.isString(/deg$/):return this.getNumber()*(Math.PI/180);case this.isString(/grad$/):return this.getNumber()*(Math.PI/200);case this.isString(/rad$/):return this.getNumber();default:return this.getNumber()*(Math.PI/180)}}getDefinition(){var H=this.getString(),oe=/#([^)'"]+)/.exec(H);return oe&&(oe=oe[1]),oe||(oe=H),this.document.definitions[oe]}getFillStyleDefinition(H,oe){var he=this.getDefinition();if(!he)return null;if(typeof he.createGradient=="function")return he.createGradient(this.document.ctx,H,oe);if(typeof he.createPattern=="function"){if(he.getHrefAttribute().hasValue()){var M=he.getAttribute("patternTransform");he=he.getHrefAttribute().getDefinition(),M.hasValue()&&he.getAttribute("patternTransform",!0).setValue(M.value)}return he.createPattern(this.document.ctx,H,oe)}return null}getTextBaseline(){return this.hasValue()?le.textBaselineMapping[this.getString()]:null}addOpacity(H){for(var oe=this.getColor(),he=oe.length,M=0,Q=0;Q<he&&(oe[Q]===","&&M++,M!==3);Q++);if(H.hasValue()&&this.isString()&&M!==3){var ne=new f(oe);ne.ok&&(ne.alpha=H.getNumber(),oe=ne.toRGBA())}return new le(this.document,this.name,oe)}}le.textBaselineMapping={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};class Ee{constructor(){this.viewPorts=[]}clear(){this.viewPorts=[]}setCurrent(H,oe){this.viewPorts.push({width:H,height:oe})}removeCurrent(){this.viewPorts.pop()}getCurrent(){var{viewPorts:H}=this;return H[H.length-1]}get width(){return this.getCurrent().width}get height(){return this.getCurrent().height}computeSize(H){return typeof H=="number"?H:H==="x"?this.width:H==="y"?this.height:Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))/Math.sqrt(2)}}class Re{constructor(H,oe){this.x=H,this.y=oe}static parse(H){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,[he=oe,M=oe]=C(H);return new Re(he,M)}static parseScale(H){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,[he=oe,M=he]=C(H);return new Re(he,M)}static parsePath(H){for(var oe=C(H),he=oe.length,M=[],Q=0;Q<he;Q+=2)M.push(new Re(oe[Q],oe[Q+1]));return M}angleTo(H){return Math.atan2(H.y-this.y,H.x-this.x)}applyTransform(H){var{x:oe,y:he}=this,M=oe*H[0]+he*H[2]+H[4],Q=oe*H[1]+he*H[3]+H[5];this.x=M,this.y=Q}}class Ue{constructor(H){this.screen=H,this.working=!1,this.events=[],this.eventElements=[],this.onClick=this.onClick.bind(this),this.onMouseMove=this.onMouseMove.bind(this)}isWorking(){return this.working}start(){if(!this.working){var{screen:H,onClick:oe,onMouseMove:he}=this,M=H.ctx.canvas;M.onclick=oe,M.onmousemove=he,this.working=!0}}stop(){if(this.working){var H=this.screen.ctx.canvas;this.working=!1,H.onclick=null,H.onmousemove=null}}hasEvents(){return this.working&&this.events.length>0}runEvents(){if(this.working){var{screen:H,events:oe,eventElements:he}=this,{style:M}=H.ctx.canvas;M&&(M.cursor=""),oe.forEach((Q,ne)=>{for(var{run:we}=Q,Fe=he[ne];Fe;)we(Fe),Fe=Fe.parent}),this.events=[],this.eventElements=[]}}checkPath(H,oe){if(!(!this.working||!oe)){var{events:he,eventElements:M}=this;he.forEach((Q,ne)=>{var{x:we,y:Fe}=Q;!M[ne]&&oe.isPointInPath&&oe.isPointInPath(we,Fe)&&(M[ne]=H)})}}checkBoundingBox(H,oe){if(!(!this.working||!oe)){var{events:he,eventElements:M}=this;he.forEach((Q,ne)=>{var{x:we,y:Fe}=Q;!M[ne]&&oe.isPointInBox(we,Fe)&&(M[ne]=H)})}}mapXY(H,oe){for(var{window:he,ctx:M}=this.screen,Q=new Re(H,oe),ne=M.canvas;ne;)Q.x-=ne.offsetLeft,Q.y-=ne.offsetTop,ne=ne.offsetParent;return he.scrollX&&(Q.x+=he.scrollX),he.scrollY&&(Q.y+=he.scrollY),Q}onClick(H){var{x:oe,y:he}=this.mapXY(H.clientX,H.clientY);this.events.push({type:"onclick",x:oe,y:he,run(M){M.onClick&&M.onClick()}})}onMouseMove(H){var{x:oe,y:he}=this.mapXY(H.clientX,H.clientY);this.events.push({type:"onmousemove",x:oe,y:he,run(M){M.onMouseMove&&M.onMouseMove()}})}}var de=typeof window<"u"?window:null,Ce=typeof fetch<"u"?fetch.bind(void 0):null;class ue{constructor(H){var{fetch:oe=Ce,window:he=de}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.ctx=H,this.FRAMERATE=30,this.MAX_VIRTUAL_PIXELS=3e4,this.CLIENT_WIDTH=800,this.CLIENT_HEIGHT=600,this.viewPort=new Ee,this.mouse=new Ue(this),this.animations=[],this.waits=[],this.frameDuration=0,this.isReadyLock=!1,this.isFirstRender=!0,this.intervalId=null,this.window=he,this.fetch=oe}wait(H){this.waits.push(H)}ready(){return this.readyPromise?this.readyPromise:Promise.resolve()}isReady(){if(this.isReadyLock)return!0;var H=this.waits.every(oe=>oe());return H&&(this.waits=[],this.resolveReady&&this.resolveReady()),this.isReadyLock=H,H}setDefaults(H){H.strokeStyle="rgba(0,0,0,0)",H.lineCap="butt",H.lineJoin="miter",H.miterLimit=4}setViewBox(H){var{document:oe,ctx:he,aspectRatio:M,width:Q,desiredWidth:ne,height:we,desiredHeight:Fe,minX:qe=0,minY:st=0,refX:I,refY:E,clip:D=!1,clipX:z=0,clipY:X=0}=H,ae=w(M).replace(/^defer\s/,""),[Se,ge]=ae.split(" "),ve=Se||"xMidYMid",Me=ge||"meet",ze=Q/ne,et=we/Fe,ot=Math.min(ze,et),Pe=Math.max(ze,et),yt=ne,gt=Fe;Me==="meet"&&(yt*=ot,gt*=ot),Me==="slice"&&(yt*=Pe,gt*=Pe);var wt=new le(oe,"refX",I),nt=new le(oe,"refY",E),Ft=wt.hasValue()&&nt.hasValue();if(Ft&&he.translate(-ot*wt.getPixels("x"),-ot*nt.getPixels("y")),D){var qt=ot*z,It=ot*X;he.beginPath(),he.moveTo(qt,It),he.lineTo(Q,It),he.lineTo(Q,we),he.lineTo(qt,we),he.closePath(),he.clip()}if(!Ft){var tt=Me==="meet"&&ot===et,Wt=Me==="slice"&&Pe===et,ur=Me==="meet"&&ot===ze,Yt=Me==="slice"&&Pe===ze;ve.startsWith("xMid")&&(tt||Wt)&&he.translate(Q/2-yt/2,0),ve.endsWith("YMid")&&(ur||Yt)&&he.translate(0,we/2-gt/2),ve.startsWith("xMax")&&(tt||Wt)&&he.translate(Q-yt,0),ve.endsWith("YMax")&&(ur||Yt)&&he.translate(0,we-gt)}switch(!0){case ve==="none":he.scale(ze,et);break;case Me==="meet":he.scale(ot,ot);break;case Me==="slice":he.scale(Pe,Pe);break}he.translate(-qe,-st)}start(H){var{enableRedraw:oe=!1,ignoreMouse:he=!1,ignoreAnimation:M=!1,ignoreDimensions:Q=!1,ignoreClear:ne=!1,forceRedraw:we,scaleWidth:Fe,scaleHeight:qe,offsetX:st,offsetY:I}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{FRAMERATE:E,mouse:D}=this,z=1e3/E;if(this.frameDuration=z,this.readyPromise=new Promise(ve=>{this.resolveReady=ve}),this.isReady()&&this.render(H,Q,ne,Fe,qe,st,I),!!oe){var X=Date.now(),ae=X,Se=0,ge=()=>{X=Date.now(),Se=X-ae,Se>=z&&(ae=X-Se%z,this.shouldUpdate(M,we)&&(this.render(H,Q,ne,Fe,qe,st,I),D.runEvents())),this.intervalId=A(ge)};he||D.start(),this.intervalId=A(ge)}}stop(){this.intervalId&&(A.cancel(this.intervalId),this.intervalId=null),this.mouse.stop()}shouldUpdate(H,oe){if(!H){var{frameDuration:he}=this,M=this.animations.reduce((Q,ne)=>ne.update(he)||Q,!1);if(M)return!0}return!!(typeof oe=="function"&&oe()||!this.isReadyLock&&this.isReady()||this.mouse.hasEvents())}render(H,oe,he,M,Q,ne,we){var{CLIENT_WIDTH:Fe,CLIENT_HEIGHT:qe,viewPort:st,ctx:I,isFirstRender:E}=this,D=I.canvas;st.clear(),D.width&&D.height?st.setCurrent(D.width,D.height):st.setCurrent(Fe,qe);var z=H.getStyle("width"),X=H.getStyle("height");!oe&&(E||typeof M!="number"&&typeof Q!="number")&&(z.hasValue()&&(D.width=z.getPixels("x"),D.style&&(D.style.width="".concat(D.width,"px"))),X.hasValue()&&(D.height=X.getPixels("y"),D.style&&(D.style.height="".concat(D.height,"px"))));var ae=D.clientWidth||D.width,Se=D.clientHeight||D.height;if(oe&&z.hasValue()&&X.hasValue()&&(ae=z.getPixels("x"),Se=X.getPixels("y")),st.setCurrent(ae,Se),typeof ne=="number"&&H.getAttribute("x",!0).setValue(ne),typeof we=="number"&&H.getAttribute("y",!0).setValue(we),typeof M=="number"||typeof Q=="number"){var ge=C(H.getAttribute("viewBox").getString()),ve=0,Me=0;if(typeof M=="number"){var ze=H.getStyle("width");ze.hasValue()?ve=ze.getPixels("x")/M:isNaN(ge[2])||(ve=ge[2]/M)}if(typeof Q=="number"){var et=H.getStyle("height");et.hasValue()?Me=et.getPixels("y")/Q:isNaN(ge[3])||(Me=ge[3]/Q)}ve||(ve=Me),Me||(Me=ve),H.getAttribute("width",!0).setValue(M),H.getAttribute("height",!0).setValue(Q);var ot=H.getStyle("transform",!0,!0);ot.setValue("".concat(ot.getString()," scale(").concat(1/ve,", ").concat(1/Me,")"))}he||I.clearRect(0,0,ae,Se),H.render(I),E&&(this.isFirstRender=!1)}}ue.defaultWindow=de,ue.defaultFetch=Ce;var{defaultFetch:$e}=ue,it=typeof DOMParser<"u"?DOMParser:null;class Et{constructor(){var{fetch:H=$e,DOMParser:oe=it}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fetch=H,this.DOMParser=oe}parse(H){var oe=this;return(0,h.default)(function*(){return H.startsWith("<")?oe.parseFromString(H):oe.load(H)})()}parseFromString(H){var oe=new this.DOMParser;try{return this.checkDocument(oe.parseFromString(H,"image/svg+xml"))}catch{return this.checkDocument(oe.parseFromString(H,"text/xml"))}}checkDocument(H){var oe=H.getElementsByTagName("parsererror")[0];if(oe)throw new Error(oe.textContent);return H}load(H){var oe=this;return(0,h.default)(function*(){var he=yield oe.fetch(H),M=yield he.text();return oe.parseFromString(M)})()}}class Ct{constructor(H,oe){this.type="translate",this.point=null,this.point=Re.parse(oe)}apply(H){var{x:oe,y:he}=this.point;H.translate(oe||0,he||0)}unapply(H){var{x:oe,y:he}=this.point;H.translate(-1*oe||0,-1*he||0)}applyToPoint(H){var{x:oe,y:he}=this.point;H.applyTransform([1,0,0,1,oe||0,he||0])}}class Bt{constructor(H,oe,he){this.type="rotate",this.angle=null,this.originX=null,this.originY=null,this.cx=0,this.cy=0;var M=C(oe);this.angle=new le(H,"angle",M[0]),this.originX=he[0],this.originY=he[1],this.cx=M[1]||0,this.cy=M[2]||0}apply(H){var{cx:oe,cy:he,originX:M,originY:Q,angle:ne}=this,we=oe+M.getPixels("x"),Fe=he+Q.getPixels("y");H.translate(we,Fe),H.rotate(ne.getRadians()),H.translate(-we,-Fe)}unapply(H){var{cx:oe,cy:he,originX:M,originY:Q,angle:ne}=this,we=oe+M.getPixels("x"),Fe=he+Q.getPixels("y");H.translate(we,Fe),H.rotate(-1*ne.getRadians()),H.translate(-we,-Fe)}applyToPoint(H){var{cx:oe,cy:he,angle:M}=this,Q=M.getRadians();H.applyTransform([1,0,0,1,oe||0,he||0]),H.applyTransform([Math.cos(Q),Math.sin(Q),-Math.sin(Q),Math.cos(Q),0,0]),H.applyTransform([1,0,0,1,-oe||0,-he||0])}}class mr{constructor(H,oe,he){this.type="scale",this.scale=null,this.originX=null,this.originY=null;var M=Re.parseScale(oe);(M.x===0||M.y===0)&&(M.x=Ie,M.y=Ie),this.scale=M,this.originX=he[0],this.originY=he[1]}apply(H){var{scale:{x:oe,y:he},originX:M,originY:Q}=this,ne=M.getPixels("x"),we=Q.getPixels("y");H.translate(ne,we),H.scale(oe,he||oe),H.translate(-ne,-we)}unapply(H){var{scale:{x:oe,y:he},originX:M,originY:Q}=this,ne=M.getPixels("x"),we=Q.getPixels("y");H.translate(ne,we),H.scale(1/oe,1/he||oe),H.translate(-ne,-we)}applyToPoint(H){var{x:oe,y:he}=this.scale;H.applyTransform([oe||0,0,0,he||0,0,0])}}class lr{constructor(H,oe,he){this.type="matrix",this.matrix=[],this.originX=null,this.originY=null,this.matrix=C(oe),this.originX=he[0],this.originY=he[1]}apply(H){var{originX:oe,originY:he,matrix:M}=this,Q=oe.getPixels("x"),ne=he.getPixels("y");H.translate(Q,ne),H.transform(M[0],M[1],M[2],M[3],M[4],M[5]),H.translate(-Q,-ne)}unapply(H){var{originX:oe,originY:he,matrix:M}=this,Q=M[0],ne=M[2],we=M[4],Fe=M[1],qe=M[3],st=M[5],I=0,E=0,D=1,z=1/(Q*(qe*D-st*E)-ne*(Fe*D-st*I)+we*(Fe*E-qe*I)),X=oe.getPixels("x"),ae=he.getPixels("y");H.translate(X,ae),H.transform(z*(qe*D-st*E),z*(st*I-Fe*D),z*(we*E-ne*D),z*(Q*D-we*I),z*(ne*st-we*qe),z*(we*Fe-Q*st)),H.translate(-X,-ae)}applyToPoint(H){H.applyTransform(this.matrix)}}class He extends lr{constructor(H,oe,he){super(H,oe,he),this.type="skew",this.angle=null,this.angle=new le(H,"angle",oe)}}class $t extends He{constructor(H,oe,he){super(H,oe,he),this.type="skewX",this.matrix=[1,0,Math.tan(this.angle.getRadians()),1,0,0]}}class Nt extends He{constructor(H,oe,he){super(H,oe,he),this.type="skewY",this.matrix=[1,Math.tan(this.angle.getRadians()),0,1,0,0]}}function Dr(Ht){return w(Ht).trim().replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/)}function vr(Ht){var[H,oe]=Ht.split("(");return[H.trim(),oe.trim().replace(")","")]}class an{constructor(H,oe,he){this.document=H,this.transforms=[];var M=Dr(oe);M.forEach(Q=>{if(Q!=="none"){var[ne,we]=vr(Q),Fe=an.transformTypes[ne];typeof Fe<"u"&&this.transforms.push(new Fe(this.document,we,he))}})}static fromElement(H,oe){var he=oe.getStyle("transform",!1,!0),[M,Q=M]=oe.getStyle("transform-origin",!1,!0).split(),ne=[M,Q];return he.hasValue()?new an(H,he.getString(),ne):null}apply(H){for(var{transforms:oe}=this,he=oe.length,M=0;M<he;M++)oe[M].apply(H)}unapply(H){for(var{transforms:oe}=this,he=oe.length,M=he-1;M>=0;M--)oe[M].unapply(H)}applyToPoint(H){for(var{transforms:oe}=this,he=oe.length,M=0;M<he;M++)oe[M].applyToPoint(H)}}an.transformTypes={translate:Ct,rotate:Bt,scale:mr,matrix:lr,skewX:$t,skewY:Nt};class Xr{constructor(H,oe){var he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(this.document=H,this.node=oe,this.captureTextNodes=he,this.attributes=Object.create(null),this.styles=Object.create(null),this.stylesSpecificity=Object.create(null),this.animationFrozen=!1,this.animationFrozenValue="",this.parent=null,this.children=[],!(!oe||oe.nodeType!==1)){if(Array.from(oe.attributes).forEach(we=>{var Fe=W(we.nodeName);this.attributes[Fe]=new le(H,Fe,we.value)}),this.addStylesFromStyleDefinition(),this.getAttribute("style").hasValue()){var M=this.getAttribute("style").getString().split(";").map(we=>we.trim());M.forEach(we=>{if(we){var[Fe,qe]=we.split(":").map(st=>st.trim());this.styles[Fe]=new le(H,Fe,qe)}})}var{definitions:Q}=H,ne=this.getAttribute("id");ne.hasValue()&&(Q[ne.getString()]||(Q[ne.getString()]=this)),Array.from(oe.childNodes).forEach(we=>{if(we.nodeType===1)this.addChild(we);else if(he&&(we.nodeType===3||we.nodeType===4)){var Fe=H.createTextNode(we);Fe.getText().length>0&&this.addChild(Fe)}})}}getAttribute(H){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,he=this.attributes[H];if(!he&&oe){var M=new le(this.document,H,"");return this.attributes[H]=M,M}return he||le.empty(this.document)}getHrefAttribute(){for(var H in this.attributes)if(H==="href"||H.endsWith(":href"))return this.attributes[H];return le.empty(this.document)}getStyle(H){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,M=this.styles[H];if(M)return M;var Q=this.getAttribute(H);if(Q!=null&&Q.hasValue())return this.styles[H]=Q,Q;if(!he){var{parent:ne}=this;if(ne){var we=ne.getStyle(H);if(we!=null&&we.hasValue())return we}}if(oe){var Fe=new le(this.document,H,"");return this.styles[H]=Fe,Fe}return M||le.empty(this.document)}render(H){if(!(this.getStyle("display").getString()==="none"||this.getStyle("visibility").getString()==="hidden")){if(H.save(),this.getStyle("mask").hasValue()){var oe=this.getStyle("mask").getDefinition();oe&&(this.applyEffects(H),oe.apply(H,this))}else if(this.getStyle("filter").getValue("none")!=="none"){var he=this.getStyle("filter").getDefinition();he&&(this.applyEffects(H),he.apply(H,this))}else this.setContext(H),this.renderChildren(H),this.clearContext(H);H.restore()}}setContext(H){}applyEffects(H){var oe=an.fromElement(this.document,this);oe&&oe.apply(H);var he=this.getStyle("clip-path",!1,!0);if(he.hasValue()){var M=he.getDefinition();M&&M.apply(H)}}clearContext(H){}renderChildren(H){this.children.forEach(oe=>{oe.render(H)})}addChild(H){var oe=H instanceof Xr?H:this.document.createElement(H);oe.parent=this,Xr.ignoreChildTypes.includes(oe.type)||this.children.push(oe)}matchesSelector(H){var oe,{node:he}=this;if(typeof he.matches=="function")return he.matches(H);var M=(oe=he.getAttribute)===null||oe===void 0?void 0:oe.call(he,"class");return!M||M===""?!1:M.split(" ").some(Q=>".".concat(Q)===H)}addStylesFromStyleDefinition(){var{styles:H,stylesSpecificity:oe}=this.document;for(var he in H)if(!he.startsWith("@")&&this.matchesSelector(he)){var M=H[he],Q=oe[he];if(M)for(var ne in M){var we=this.stylesSpecificity[ne];typeof we>"u"&&(we="000"),Q>=we&&(this.styles[ne]=M[ne],this.stylesSpecificity[ne]=Q)}}}removeStyles(H,oe){var he=oe.reduce((M,Q)=>{var ne=H.getStyle(Q);if(!ne.hasValue())return M;var we=ne.getString();return ne.setValue(""),[...M,[Q,we]]},[]);return he}restoreStyles(H,oe){oe.forEach(he=>{var[M,Q]=he;H.getStyle(M,!0).setValue(Q)})}isFirstChild(){var H;return((H=this.parent)===null||H===void 0?void 0:H.children.indexOf(this))===0}}Xr.ignoreChildTypes=["title"];class Qr extends Xr{constructor(H,oe,he){super(H,oe,he)}}function Ir(Ht){var H=Ht.trim();return/^('|")/.test(H)?H:'"'.concat(H,'"')}function hr(Ht){return typeof process>"u"?Ht:Ht.trim().split(",").map(Ir).join(",")}function pr(Ht){if(!Ht)return"";var H=Ht.trim().toLowerCase();switch(H){case"normal":case"italic":case"oblique":case"inherit":case"initial":case"unset":return H;default:return/^oblique\s+(-|)\d+deg$/.test(H)?H:""}}function Lr(Ht){if(!Ht)return"";var H=Ht.trim().toLowerCase();switch(H){case"normal":case"bold":case"lighter":case"bolder":case"inherit":case"initial":case"unset":return H;default:return/^[\d.]+$/.test(H)?H:""}}class $r{constructor(H,oe,he,M,Q,ne){var we=ne?typeof ne=="string"?$r.parse(ne):ne:{};this.fontFamily=Q||we.fontFamily,this.fontSize=M||we.fontSize,this.fontStyle=H||we.fontStyle,this.fontWeight=he||we.fontWeight,this.fontVariant=oe||we.fontVariant}static parse(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",oe=arguments.length>1?arguments[1]:void 0,he="",M="",Q="",ne="",we="",Fe=w(H).trim().split(" "),qe={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1};return Fe.forEach(st=>{switch(!0){case(!qe.fontStyle&&$r.styles.includes(st)):st!=="inherit"&&(he=st),qe.fontStyle=!0;break;case(!qe.fontVariant&&$r.variants.includes(st)):st!=="inherit"&&(M=st),qe.fontStyle=!0,qe.fontVariant=!0;break;case(!qe.fontWeight&&$r.weights.includes(st)):st!=="inherit"&&(Q=st),qe.fontStyle=!0,qe.fontVariant=!0,qe.fontWeight=!0;break;case!qe.fontSize:st!=="inherit"&&([ne]=st.split("/")),qe.fontStyle=!0,qe.fontVariant=!0,qe.fontWeight=!0,qe.fontSize=!0;break;default:st!=="inherit"&&(we+=st)}}),new $r(he,M,Q,ne,we,oe)}toString(){return[pr(this.fontStyle),this.fontVariant,Lr(this.fontWeight),this.fontSize,hr(this.fontFamily)].join(" ").trim()}}$r.styles="normal|italic|oblique|inherit",$r.variants="normal|small-caps|inherit",$r.weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";class dn{constructor(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Number.NaN,oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.NaN,he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Number.NaN,M=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Number.NaN;this.x1=H,this.y1=oe,this.x2=he,this.y2=M,this.addPoint(H,oe),this.addPoint(he,M)}get x(){return this.x1}get y(){return this.y1}get width(){return this.x2-this.x1}get height(){return this.y2-this.y1}addPoint(H,oe){typeof H<"u"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=H,this.x2=H),H<this.x1&&(this.x1=H),H>this.x2&&(this.x2=H)),typeof oe<"u"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=oe,this.y2=oe),oe<this.y1&&(this.y1=oe),oe>this.y2&&(this.y2=oe))}addX(H){this.addPoint(H,null)}addY(H){this.addPoint(null,H)}addBoundingBox(H){if(H){var{x1:oe,y1:he,x2:M,y2:Q}=H;this.addPoint(oe,he),this.addPoint(M,Q)}}sumCubic(H,oe,he,M,Q){return Math.pow(1-H,3)*oe+3*Math.pow(1-H,2)*H*he+3*(1-H)*Math.pow(H,2)*M+Math.pow(H,3)*Q}bezierCurveAdd(H,oe,he,M,Q){var ne=6*oe-12*he+6*M,we=-3*oe+9*he-9*M+3*Q,Fe=3*he-3*oe;if(we===0){if(ne===0)return;var qe=-Fe/ne;0<qe&&qe<1&&(H?this.addX(this.sumCubic(qe,oe,he,M,Q)):this.addY(this.sumCubic(qe,oe,he,M,Q)));return}var st=Math.pow(ne,2)-4*Fe*we;if(!(st<0)){var I=(-ne+Math.sqrt(st))/(2*we);0<I&&I<1&&(H?this.addX(this.sumCubic(I,oe,he,M,Q)):this.addY(this.sumCubic(I,oe,he,M,Q)));var E=(-ne-Math.sqrt(st))/(2*we);0<E&&E<1&&(H?this.addX(this.sumCubic(E,oe,he,M,Q)):this.addY(this.sumCubic(E,oe,he,M,Q)))}}addBezierCurve(H,oe,he,M,Q,ne,we,Fe){this.addPoint(H,oe),this.addPoint(we,Fe),this.bezierCurveAdd(!0,H,he,Q,we),this.bezierCurveAdd(!1,oe,M,ne,Fe)}addQuadraticCurve(H,oe,he,M,Q,ne){var we=H+.6666666666666666*(he-H),Fe=oe+2/3*(M-oe),qe=we+1/3*(Q-H),st=Fe+1/3*(ne-oe);this.addBezierCurve(H,oe,we,qe,Fe,st,Q,ne)}isPointInBox(H,oe){var{x1:he,y1:M,x2:Q,y2:ne}=this;return he<=H&&H<=Q&&M<=oe&&oe<=ne}}class zr extends g.SVGPathData{constructor(H){super(H.replace(/([+\-.])\s+/gm,"$1").replace(/[^MmZzLlHhVvCcSsQqTtAae\d\s.,+-].*/g,"")),this.control=null,this.start=null,this.current=null,this.command=null,this.commands=this.commands,this.i=-1,this.previousCommand=null,this.points=[],this.angles=[]}reset(){this.i=-1,this.command=null,this.previousCommand=null,this.start=new Re(0,0),this.control=new Re(0,0),this.current=new Re(0,0),this.points=[],this.angles=[]}isEnd(){var{i:H,commands:oe}=this;return H>=oe.length-1}next(){var H=this.commands[++this.i];return this.previousCommand=this.command,this.command=H,H}getPoint(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"x",oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"y",he=new Re(this.command[H],this.command[oe]);return this.makeAbsolute(he)}getAsControlPoint(H,oe){var he=this.getPoint(H,oe);return this.control=he,he}getAsCurrentPoint(H,oe){var he=this.getPoint(H,oe);return this.current=he,he}getReflectedControlPoint(){var H=this.previousCommand.type;if(H!==g.SVGPathData.CURVE_TO&&H!==g.SVGPathData.SMOOTH_CURVE_TO&&H!==g.SVGPathData.QUAD_TO&&H!==g.SVGPathData.SMOOTH_QUAD_TO)return this.current;var{current:{x:oe,y:he},control:{x:M,y:Q}}=this,ne=new Re(2*oe-M,2*he-Q);return ne}makeAbsolute(H){if(this.command.relative){var{x:oe,y:he}=this.current;H.x+=oe,H.y+=he}return H}addMarker(H,oe,he){var{points:M,angles:Q}=this;he&&Q.length>0&&!Q[Q.length-1]&&(Q[Q.length-1]=M[M.length-1].angleTo(he)),this.addMarkerAngle(H,oe?oe.angleTo(H):null)}addMarkerAngle(H,oe){this.points.push(H),this.angles.push(oe)}getMarkerPoints(){return this.points}getMarkerAngles(){for(var{angles:H}=this,oe=H.length,he=0;he<oe;he++)if(!H[he]){for(var M=he+1;M<oe;M++)if(H[M]){H[he]=H[M];break}}return H}}class Wn extends Xr{constructor(){super(...arguments),this.modifiedEmSizeStack=!1}calculateOpacity(){for(var H=1,oe=this;oe;){var he=oe.getStyle("opacity",!1,!0);he.hasValue(!0)&&(H*=he.getNumber()),oe=oe.parent}return H}setContext(H){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!oe){var he=this.getStyle("fill"),M=this.getStyle("fill-opacity"),Q=this.getStyle("stroke"),ne=this.getStyle("stroke-opacity");if(he.isUrlDefinition()){var we=he.getFillStyleDefinition(this,M);we&&(H.fillStyle=we)}else if(he.hasValue()){he.getString()==="currentColor"&&he.setValue(this.getStyle("color").getColor());var Fe=he.getColor();Fe!=="inherit"&&(H.fillStyle=Fe==="none"?"rgba(0,0,0,0)":Fe)}if(M.hasValue()){var qe=new le(this.document,"fill",H.fillStyle).addOpacity(M).getColor();H.fillStyle=qe}if(Q.isUrlDefinition()){var st=Q.getFillStyleDefinition(this,ne);st&&(H.strokeStyle=st)}else if(Q.hasValue()){Q.getString()==="currentColor"&&Q.setValue(this.getStyle("color").getColor());var I=Q.getString();I!=="inherit"&&(H.strokeStyle=I==="none"?"rgba(0,0,0,0)":I)}if(ne.hasValue()){var E=new le(this.document,"stroke",H.strokeStyle).addOpacity(ne).getString();H.strokeStyle=E}var D=this.getStyle("stroke-width");if(D.hasValue()){var z=D.getPixels();H.lineWidth=z||Ie}var X=this.getStyle("stroke-linecap"),ae=this.getStyle("stroke-linejoin"),Se=this.getStyle("stroke-miterlimit"),ge=this.getStyle("stroke-dasharray"),ve=this.getStyle("stroke-dashoffset");if(X.hasValue()&&(H.lineCap=X.getString()),ae.hasValue()&&(H.lineJoin=ae.getString()),Se.hasValue()&&(H.miterLimit=Se.getNumber()),ge.hasValue()&&ge.getString()!=="none"){var Me=C(ge.getString());typeof H.setLineDash<"u"?H.setLineDash(Me):typeof H.webkitLineDash<"u"?H.webkitLineDash=Me:typeof H.mozDash<"u"&&!(Me.length===1&&Me[0]===0)&&(H.mozDash=Me);var ze=ve.getPixels();typeof H.lineDashOffset<"u"?H.lineDashOffset=ze:typeof H.webkitLineDashOffset<"u"?H.webkitLineDashOffset=ze:typeof H.mozDashOffset<"u"&&(H.mozDashOffset=ze)}}if(this.modifiedEmSizeStack=!1,typeof H.font<"u"){var et=this.getStyle("font"),ot=this.getStyle("font-style"),Pe=this.getStyle("font-variant"),yt=this.getStyle("font-weight"),gt=this.getStyle("font-size"),wt=this.getStyle("font-family"),nt=new $r(ot.getString(),Pe.getString(),yt.getString(),gt.hasValue()?"".concat(gt.getPixels(!0),"px"):"",wt.getString(),$r.parse(et.getString(),H.font));ot.setValue(nt.fontStyle),Pe.setValue(nt.fontVariant),yt.setValue(nt.fontWeight),gt.setValue(nt.fontSize),wt.setValue(nt.fontFamily),H.font=nt.toString(),gt.isPixels()&&(this.document.emSize=gt.getPixels(),this.modifiedEmSizeStack=!0)}oe||(this.applyEffects(H),H.globalAlpha=this.calculateOpacity())}clearContext(H){super.clearContext(H),this.modifiedEmSizeStack&&this.document.popEmSize()}}class Hr extends Wn{constructor(H,oe,he){super(H,oe,he),this.type="path",this.pathParser=null,this.pathParser=new zr(this.getAttribute("d").getString())}path(H){var{pathParser:oe}=this,he=new dn;for(oe.reset(),H&&H.beginPath();!oe.isEnd();)switch(oe.next().type){case zr.MOVE_TO:this.pathM(H,he);break;case zr.LINE_TO:this.pathL(H,he);break;case zr.HORIZ_LINE_TO:this.pathH(H,he);break;case zr.VERT_LINE_TO:this.pathV(H,he);break;case zr.CURVE_TO:this.pathC(H,he);break;case zr.SMOOTH_CURVE_TO:this.pathS(H,he);break;case zr.QUAD_TO:this.pathQ(H,he);break;case zr.SMOOTH_QUAD_TO:this.pathT(H,he);break;case zr.ARC:this.pathA(H,he);break;case zr.CLOSE_PATH:this.pathZ(H,he);break}return he}getBoundingBox(H){return this.path()}getMarkers(){var{pathParser:H}=this,oe=H.getMarkerPoints(),he=H.getMarkerAngles(),M=oe.map((Q,ne)=>[Q,he[ne]]);return M}renderChildren(H){this.path(H),this.document.screen.mouse.checkPath(this,H);var oe=this.getStyle("fill-rule");H.fillStyle!==""&&(oe.getString("inherit")!=="inherit"?H.fill(oe.getString()):H.fill()),H.strokeStyle!==""&&(this.getAttribute("vector-effect").getString()==="non-scaling-stroke"?(H.save(),H.setTransform(1,0,0,1,0,0),H.stroke(),H.restore()):H.stroke());var he=this.getMarkers();if(he){var M=he.length-1,Q=this.getStyle("marker-start"),ne=this.getStyle("marker-mid"),we=this.getStyle("marker-end");if(Q.isUrlDefinition()){var Fe=Q.getDefinition(),[qe,st]=he[0];Fe.render(H,qe,st)}if(ne.isUrlDefinition())for(var I=ne.getDefinition(),E=1;E<M;E++){var[D,z]=he[E];I.render(H,D,z)}if(we.isUrlDefinition()){var X=we.getDefinition(),[ae,Se]=he[M];X.render(H,ae,Se)}}}static pathM(H){var oe=H.getAsCurrentPoint();return H.start=H.current,{point:oe}}pathM(H,oe){var{pathParser:he}=this,{point:M}=Hr.pathM(he),{x:Q,y:ne}=M;he.addMarker(M),oe.addPoint(Q,ne),H&&H.moveTo(Q,ne)}static pathL(H){var{current:oe}=H,he=H.getAsCurrentPoint();return{current:oe,point:he}}pathL(H,oe){var{pathParser:he}=this,{current:M,point:Q}=Hr.pathL(he),{x:ne,y:we}=Q;he.addMarker(Q,M),oe.addPoint(ne,we),H&&H.lineTo(ne,we)}static pathH(H){var{current:oe,command:he}=H,M=new Re((he.relative?oe.x:0)+he.x,oe.y);return H.current=M,{current:oe,point:M}}pathH(H,oe){var{pathParser:he}=this,{current:M,point:Q}=Hr.pathH(he),{x:ne,y:we}=Q;he.addMarker(Q,M),oe.addPoint(ne,we),H&&H.lineTo(ne,we)}static pathV(H){var{current:oe,command:he}=H,M=new Re(oe.x,(he.relative?oe.y:0)+he.y);return H.current=M,{current:oe,point:M}}pathV(H,oe){var{pathParser:he}=this,{current:M,point:Q}=Hr.pathV(he),{x:ne,y:we}=Q;he.addMarker(Q,M),oe.addPoint(ne,we),H&&H.lineTo(ne,we)}static pathC(H){var{current:oe}=H,he=H.getPoint("x1","y1"),M=H.getAsControlPoint("x2","y2"),Q=H.getAsCurrentPoint();return{current:oe,point:he,controlPoint:M,currentPoint:Q}}pathC(H,oe){var{pathParser:he}=this,{current:M,point:Q,controlPoint:ne,currentPoint:we}=Hr.pathC(he);he.addMarker(we,ne,Q),oe.addBezierCurve(M.x,M.y,Q.x,Q.y,ne.x,ne.y,we.x,we.y),H&&H.bezierCurveTo(Q.x,Q.y,ne.x,ne.y,we.x,we.y)}static pathS(H){var{current:oe}=H,he=H.getReflectedControlPoint(),M=H.getAsControlPoint("x2","y2"),Q=H.getAsCurrentPoint();return{current:oe,point:he,controlPoint:M,currentPoint:Q}}pathS(H,oe){var{pathParser:he}=this,{current:M,point:Q,controlPoint:ne,currentPoint:we}=Hr.pathS(he);he.addMarker(we,ne,Q),oe.addBezierCurve(M.x,M.y,Q.x,Q.y,ne.x,ne.y,we.x,we.y),H&&H.bezierCurveTo(Q.x,Q.y,ne.x,ne.y,we.x,we.y)}static pathQ(H){var{current:oe}=H,he=H.getAsControlPoint("x1","y1"),M=H.getAsCurrentPoint();return{current:oe,controlPoint:he,currentPoint:M}}pathQ(H,oe){var{pathParser:he}=this,{current:M,controlPoint:Q,currentPoint:ne}=Hr.pathQ(he);he.addMarker(ne,Q,Q),oe.addQuadraticCurve(M.x,M.y,Q.x,Q.y,ne.x,ne.y),H&&H.quadraticCurveTo(Q.x,Q.y,ne.x,ne.y)}static pathT(H){var{current:oe}=H,he=H.getReflectedControlPoint();H.control=he;var M=H.getAsCurrentPoint();return{current:oe,controlPoint:he,currentPoint:M}}pathT(H,oe){var{pathParser:he}=this,{current:M,controlPoint:Q,currentPoint:ne}=Hr.pathT(he);he.addMarker(ne,Q,Q),oe.addQuadraticCurve(M.x,M.y,Q.x,Q.y,ne.x,ne.y),H&&H.quadraticCurveTo(Q.x,Q.y,ne.x,ne.y)}static pathA(H){var{current:oe,command:he}=H,{rX:M,rY:Q,xRot:ne,lArcFlag:we,sweepFlag:Fe}=he,qe=ne*(Math.PI/180),st=H.getAsCurrentPoint(),I=new Re(Math.cos(qe)*(oe.x-st.x)/2+Math.sin(qe)*(oe.y-st.y)/2,-Math.sin(qe)*(oe.x-st.x)/2+Math.cos(qe)*(oe.y-st.y)/2),E=Math.pow(I.x,2)/Math.pow(M,2)+Math.pow(I.y,2)/Math.pow(Q,2);E>1&&(M*=Math.sqrt(E),Q*=Math.sqrt(E));var D=(we===Fe?-1:1)*Math.sqrt((Math.pow(M,2)*Math.pow(Q,2)-Math.pow(M,2)*Math.pow(I.y,2)-Math.pow(Q,2)*Math.pow(I.x,2))/(Math.pow(M,2)*Math.pow(I.y,2)+Math.pow(Q,2)*Math.pow(I.x,2)));isNaN(D)&&(D=0);var z=new Re(D*M*I.y/Q,D*-Q*I.x/M),X=new Re((oe.x+st.x)/2+Math.cos(qe)*z.x-Math.sin(qe)*z.y,(oe.y+st.y)/2+Math.sin(qe)*z.x+Math.cos(qe)*z.y),ae=Oe([1,0],[(I.x-z.x)/M,(I.y-z.y)/Q]),Se=[(I.x-z.x)/M,(I.y-z.y)/Q],ge=[(-I.x-z.x)/M,(-I.y-z.y)/Q],ve=Oe(Se,ge);return Z(Se,ge)<=-1&&(ve=Math.PI),Z(Se,ge)>=1&&(ve=0),{currentPoint:st,rX:M,rY:Q,sweepFlag:Fe,xAxisRotation:qe,centp:X,a1:ae,ad:ve}}pathA(H,oe){var{pathParser:he}=this,{currentPoint:M,rX:Q,rY:ne,sweepFlag:we,xAxisRotation:Fe,centp:qe,a1:st,ad:I}=Hr.pathA(he),E=1-we?1:-1,D=st+E*(I/2),z=new Re(qe.x+Q*Math.cos(D),qe.y+ne*Math.sin(D));if(he.addMarkerAngle(z,D-E*Math.PI/2),he.addMarkerAngle(M,D-E*Math.PI),oe.addPoint(M.x,M.y),H&&!isNaN(st)&&!isNaN(I)){var X=Q>ne?Q:ne,ae=Q>ne?1:Q/ne,Se=Q>ne?ne/Q:1;H.translate(qe.x,qe.y),H.rotate(Fe),H.scale(ae,Se),H.arc(0,0,X,st,st+I,!!(1-we)),H.scale(1/ae,1/Se),H.rotate(-Fe),H.translate(-qe.x,-qe.y)}}static pathZ(H){H.current=H.start}pathZ(H,oe){Hr.pathZ(this.pathParser),H&&oe.x1!==oe.x2&&oe.y1!==oe.y2&&H.closePath()}}class Mr extends Hr{constructor(H,oe,he){super(H,oe,he),this.type="glyph",this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber(),this.unicode=this.getAttribute("unicode").getString(),this.arabicForm=this.getAttribute("arabic-form").getString()}}class jn extends Wn{constructor(H,oe,he){super(H,oe,new.target===jn?!0:he),this.type="text",this.x=0,this.y=0,this.measureCache=-1}setContext(H){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;super.setContext(H,oe);var he=this.getStyle("dominant-baseline").getTextBaseline()||this.getStyle("alignment-baseline").getTextBaseline();he&&(H.textBaseline=he)}initializeCoordinates(){this.x=0,this.y=0,this.leafTexts=[],this.textChunkStart=0,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY}getBoundingBox(H){if(this.type!=="text")return this.getTElementBoundingBox(H);this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(H);var oe=null;return this.children.forEach((he,M)=>{var Q=this.getChildBoundingBox(H,this,this,M);oe?oe.addBoundingBox(Q):oe=Q}),oe}getFontSize(){var{document:H,parent:oe}=this,he=$r.parse(H.ctx.font).fontSize,M=oe.getStyle("font-size").getNumber(he);return M}getTElementBoundingBox(H){var oe=this.getFontSize();return new dn(this.x,this.y-oe,this.x+this.measureText(H),this.y)}getGlyph(H,oe,he){var M=oe[he],Q=null;if(H.isArabic){var ne=oe.length,we=oe[he-1],Fe=oe[he+1],qe="isolated";if((he===0||we===" ")&&he<ne-1&&Fe!==" "&&(qe="terminal"),he>0&&we!==" "&&he<ne-1&&Fe!==" "&&(qe="medial"),he>0&&we!==" "&&(he===ne-1||Fe===" ")&&(qe="initial"),typeof H.glyphs[M]<"u"){var st=H.glyphs[M];Q=st instanceof Mr?st:st[qe]}}else Q=H.glyphs[M];return Q||(Q=H.missingGlyph),Q}getText(){return""}getTextFromNode(H){var oe=H||this.node,he=Array.from(oe.parentNode.childNodes),M=he.indexOf(oe),Q=he.length-1,ne=w(oe.textContent||"");return M===0&&(ne=S(ne)),M===Q&&(ne=N(ne)),ne}renderChildren(H){if(this.type!=="text"){this.renderTElementChildren(H);return}this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(H),this.children.forEach((he,M)=>{this.renderChild(H,this,this,M)});var{mouse:oe}=this.document.screen;oe.isWorking()&&oe.checkBoundingBox(this,this.getBoundingBox(H))}renderTElementChildren(H){var{document:oe,parent:he}=this,M=this.getText(),Q=he.getStyle("font-family").getDefinition();if(Q){for(var{unitsPerEm:ne}=Q.fontFace,we=$r.parse(oe.ctx.font),Fe=he.getStyle("font-size").getNumber(we.fontSize),qe=he.getStyle("font-style").getString(we.fontStyle),st=Fe/ne,I=Q.isRTL?M.split("").reverse().join(""):M,E=C(he.getAttribute("dx").getString()),D=I.length,z=0;z<D;z++){var X=this.getGlyph(Q,I,z);H.translate(this.x,this.y),H.scale(st,-st);var ae=H.lineWidth;H.lineWidth=H.lineWidth*ne/Fe,qe==="italic"&&H.transform(1,0,.4,1,0,0),X.render(H),qe==="italic"&&H.transform(1,0,-.4,1,0,0),H.lineWidth=ae,H.scale(1/st,-1/st),H.translate(-this.x,-this.y),this.x+=Fe*(X.horizAdvX||Q.horizAdvX)/ne,typeof E[z]<"u"&&!isNaN(E[z])&&(this.x+=E[z])}return}var{x:Se,y:ge}=this;H.fillStyle&&H.fillText(M,Se,ge),H.strokeStyle&&H.strokeText(M,Se,ge)}applyAnchoring(){if(!(this.textChunkStart>=this.leafTexts.length)){var H=this.leafTexts[this.textChunkStart],oe=H.getStyle("text-anchor").getString("start"),he=!1,M=0;oe==="start"&&!he||oe==="end"&&he?M=H.x-this.minX:oe==="end"&&!he||oe==="start"&&he?M=H.x-this.maxX:M=H.x-(this.minX+this.maxX)/2;for(var Q=this.textChunkStart;Q<this.leafTexts.length;Q++)this.leafTexts[Q].x+=M;this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.textChunkStart=this.leafTexts.length}}adjustChildCoordinatesRecursive(H){this.children.forEach((oe,he)=>{this.adjustChildCoordinatesRecursiveCore(H,this,this,he)}),this.applyAnchoring()}adjustChildCoordinatesRecursiveCore(H,oe,he,M){var Q=he.children[M];Q.children.length>0?Q.children.forEach((ne,we)=>{oe.adjustChildCoordinatesRecursiveCore(H,oe,Q,we)}):this.adjustChildCoordinates(H,oe,he,M)}adjustChildCoordinates(H,oe,he,M){var Q=he.children[M];if(typeof Q.measureText!="function")return Q;H.save(),Q.setContext(H,!0);var ne=Q.getAttribute("x"),we=Q.getAttribute("y"),Fe=Q.getAttribute("dx"),qe=Q.getAttribute("dy"),st=Q.getStyle("font-family").getDefinition(),I=!!st&&st.isRTL;M===0&&(ne.hasValue()||ne.setValue(Q.getInheritedAttribute("x")),we.hasValue()||we.setValue(Q.getInheritedAttribute("y")),Fe.hasValue()||Fe.setValue(Q.getInheritedAttribute("dx")),qe.hasValue()||qe.setValue(Q.getInheritedAttribute("dy")));var E=Q.measureText(H);return I&&(oe.x-=E),ne.hasValue()?(oe.applyAnchoring(),Q.x=ne.getPixels("x"),Fe.hasValue()&&(Q.x+=Fe.getPixels("x"))):(Fe.hasValue()&&(oe.x+=Fe.getPixels("x")),Q.x=oe.x),oe.x=Q.x,I||(oe.x+=E),we.hasValue()?(Q.y=we.getPixels("y"),qe.hasValue()&&(Q.y+=qe.getPixels("y"))):(qe.hasValue()&&(oe.y+=qe.getPixels("y")),Q.y=oe.y),oe.y=Q.y,oe.leafTexts.push(Q),oe.minX=Math.min(oe.minX,Q.x,Q.x+E),oe.maxX=Math.max(oe.maxX,Q.x,Q.x+E),Q.clearContext(H),H.restore(),Q}getChildBoundingBox(H,oe,he,M){var Q=he.children[M];if(typeof Q.getBoundingBox!="function")return null;var ne=Q.getBoundingBox(H);return ne?(Q.children.forEach((we,Fe)=>{var qe=oe.getChildBoundingBox(H,oe,Q,Fe);ne.addBoundingBox(qe)}),ne):null}renderChild(H,oe,he,M){var Q=he.children[M];Q.render(H),Q.children.forEach((ne,we)=>{oe.renderChild(H,oe,Q,we)})}measureText(H){var{measureCache:oe}=this;if(~oe)return oe;var he=this.getText(),M=this.measureTargetText(H,he);return this.measureCache=M,M}measureTargetText(H,oe){if(!oe.length)return 0;var{parent:he}=this,M=he.getStyle("font-family").getDefinition();if(M){for(var Q=this.getFontSize(),ne=M.isRTL?oe.split("").reverse().join(""):oe,we=C(he.getAttribute("dx").getString()),Fe=ne.length,qe=0,st=0;st<Fe;st++){var I=this.getGlyph(M,ne,st);qe+=(I.horizAdvX||M.horizAdvX)*Q/M.fontFace.unitsPerEm,typeof we[st]<"u"&&!isNaN(we[st])&&(qe+=we[st])}return qe}if(!H.measureText)return oe.length*10;H.save(),this.setContext(H,!0);var{width:E}=H.measureText(oe);return this.clearContext(H),H.restore(),E}getInheritedAttribute(H){for(var oe=this;oe instanceof jn&&oe.isFirstChild();){var he=oe.parent.getAttribute(H);if(he.hasValue(!0))return he.getValue("0");oe=oe.parent}return null}}class cn extends jn{constructor(H,oe,he){super(H,oe,new.target===cn?!0:he),this.type="tspan",this.text=this.children.length>0?"":this.getTextFromNode()}getText(){return this.text}}class Ln extends cn{constructor(){super(...arguments),this.type="textNode"}}class ca extends Wn{constructor(){super(...arguments),this.type="svg",this.root=!1}setContext(H){var oe,{document:he}=this,{screen:M,window:Q}=he,ne=H.canvas;if(M.setDefaults(H),ne.style&&typeof H.font<"u"&&Q&&typeof Q.getComputedStyle<"u"){H.font=Q.getComputedStyle(ne).getPropertyValue("font");var we=new le(he,"fontSize",$r.parse(H.font).fontSize);we.hasValue()&&(he.rootEmSize=we.getPixels("y"),he.emSize=he.rootEmSize)}this.getAttribute("x").hasValue()||this.getAttribute("x",!0).setValue(0),this.getAttribute("y").hasValue()||this.getAttribute("y",!0).setValue(0);var{width:Fe,height:qe}=M.viewPort;this.getStyle("width").hasValue()||this.getStyle("width",!0).setValue("100%"),this.getStyle("height").hasValue()||this.getStyle("height",!0).setValue("100%"),this.getStyle("color").hasValue()||this.getStyle("color",!0).setValue("black");var st=this.getAttribute("refX"),I=this.getAttribute("refY"),E=this.getAttribute("viewBox"),D=E.hasValue()?C(E.getString()):null,z=!this.root&&this.getStyle("overflow").getValue("hidden")!=="visible",X=0,ae=0,Se=0,ge=0;D&&(X=D[0],ae=D[1]),this.root||(Fe=this.getStyle("width").getPixels("x"),qe=this.getStyle("height").getPixels("y"),this.type==="marker"&&(Se=X,ge=ae,X=0,ae=0)),M.viewPort.setCurrent(Fe,qe),this.node&&(!this.parent||((oe=this.node.parentNode)===null||oe===void 0?void 0:oe.nodeName)==="foreignObject")&&this.getStyle("transform",!1,!0).hasValue()&&!this.getStyle("transform-origin",!1,!0).hasValue()&&this.getStyle("transform-origin",!0,!0).setValue("50% 50%"),super.setContext(H),H.translate(this.getAttribute("x").getPixels("x"),this.getAttribute("y").getPixels("y")),D&&(Fe=D[2],qe=D[3]),he.setViewBox({ctx:H,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:M.viewPort.width,desiredWidth:Fe,height:M.viewPort.height,desiredHeight:qe,minX:X,minY:ae,refX:st.getValue(),refY:I.getValue(),clip:z,clipX:Se,clipY:ge}),D&&(M.viewPort.removeCurrent(),M.viewPort.setCurrent(Fe,qe))}clearContext(H){super.clearContext(H),this.document.screen.viewPort.removeCurrent()}resize(H){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:H,he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,M=this.getAttribute("width",!0),Q=this.getAttribute("height",!0),ne=this.getAttribute("viewBox"),we=this.getAttribute("style"),Fe=M.getNumber(0),qe=Q.getNumber(0);if(he)if(typeof he=="string")this.getAttribute("preserveAspectRatio",!0).setValue(he);else{var st=this.getAttribute("preserveAspectRatio");st.hasValue()&&st.setValue(st.getString().replace(/^\s*(\S.*\S)\s*$/,"$1"))}if(M.setValue(H),Q.setValue(oe),ne.hasValue()||ne.setValue("0 0 ".concat(Fe||H," ").concat(qe||oe)),we.hasValue()){var I=this.getStyle("width"),E=this.getStyle("height");I.hasValue()&&I.setValue("".concat(H,"px")),E.hasValue()&&E.setValue("".concat(oe,"px"))}}}class Pt extends Hr{constructor(){super(...arguments),this.type="rect"}path(H){var oe=this.getAttribute("x").getPixels("x"),he=this.getAttribute("y").getPixels("y"),M=this.getStyle("width",!1,!0).getPixels("x"),Q=this.getStyle("height",!1,!0).getPixels("y"),ne=this.getAttribute("rx"),we=this.getAttribute("ry"),Fe=ne.getPixels("x"),qe=we.getPixels("y");if(ne.hasValue()&&!we.hasValue()&&(qe=Fe),we.hasValue()&&!ne.hasValue()&&(Fe=qe),Fe=Math.min(Fe,M/2),qe=Math.min(qe,Q/2),H){var st=4*((Math.sqrt(2)-1)/3);H.beginPath(),Q>0&&M>0&&(H.moveTo(oe+Fe,he),H.lineTo(oe+M-Fe,he),H.bezierCurveTo(oe+M-Fe+st*Fe,he,oe+M,he+qe-st*qe,oe+M,he+qe),H.lineTo(oe+M,he+Q-qe),H.bezierCurveTo(oe+M,he+Q-qe+st*qe,oe+M-Fe+st*Fe,he+Q,oe+M-Fe,he+Q),H.lineTo(oe+Fe,he+Q),H.bezierCurveTo(oe+Fe-st*Fe,he+Q,oe,he+Q-qe+st*qe,oe,he+Q-qe),H.lineTo(oe,he+qe),H.bezierCurveTo(oe,he+qe-st*qe,oe+Fe-st*Fe,he,oe+Fe,he),H.closePath())}return new dn(oe,he,oe+M,he+Q)}getMarkers(){return null}}class Kr extends Hr{constructor(){super(...arguments),this.type="circle"}path(H){var oe=this.getAttribute("cx").getPixels("x"),he=this.getAttribute("cy").getPixels("y"),M=this.getAttribute("r").getPixels();return H&&M>0&&(H.beginPath(),H.arc(oe,he,M,0,Math.PI*2,!1),H.closePath()),new dn(oe-M,he-M,oe+M,he+M)}getMarkers(){return null}}class un extends Hr{constructor(){super(...arguments),this.type="ellipse"}path(H){var oe=4*((Math.sqrt(2)-1)/3),he=this.getAttribute("rx").getPixels("x"),M=this.getAttribute("ry").getPixels("y"),Q=this.getAttribute("cx").getPixels("x"),ne=this.getAttribute("cy").getPixels("y");return H&&he>0&&M>0&&(H.beginPath(),H.moveTo(Q+he,ne),H.bezierCurveTo(Q+he,ne+oe*M,Q+oe*he,ne+M,Q,ne+M),H.bezierCurveTo(Q-oe*he,ne+M,Q-he,ne+oe*M,Q-he,ne),H.bezierCurveTo(Q-he,ne-oe*M,Q-oe*he,ne-M,Q,ne-M),H.bezierCurveTo(Q+oe*he,ne-M,Q+he,ne-oe*M,Q+he,ne),H.closePath()),new dn(Q-he,ne-M,Q+he,ne+M)}getMarkers(){return null}}class tn extends Hr{constructor(){super(...arguments),this.type="line"}getPoints(){return[new Re(this.getAttribute("x1").getPixels("x"),this.getAttribute("y1").getPixels("y")),new Re(this.getAttribute("x2").getPixels("x"),this.getAttribute("y2").getPixels("y"))]}path(H){var[{x:oe,y:he},{x:M,y:Q}]=this.getPoints();return H&&(H.beginPath(),H.moveTo(oe,he),H.lineTo(M,Q)),new dn(oe,he,M,Q)}getMarkers(){var[H,oe]=this.getPoints(),he=H.angleTo(oe);return[[H,he],[oe,he]]}}class cr extends Hr{constructor(H,oe,he){super(H,oe,he),this.type="polyline",this.points=[],this.points=Re.parsePath(this.getAttribute("points").getString())}path(H){var{points:oe}=this,[{x:he,y:M}]=oe,Q=new dn(he,M);return H&&(H.beginPath(),H.moveTo(he,M)),oe.forEach(ne=>{var{x:we,y:Fe}=ne;Q.addPoint(we,Fe),H&&H.lineTo(we,Fe)}),Q}getMarkers(){var{points:H}=this,oe=H.length-1,he=[];return H.forEach((M,Q)=>{Q!==oe&&he.push([M,M.angleTo(H[Q+1])])}),he.length>0&&he.push([H[H.length-1],he[he.length-1][1]]),he}}class ga extends cr{constructor(){super(...arguments),this.type="polygon"}path(H){var oe=super.path(H),[{x:he,y:M}]=this.points;return H&&(H.lineTo(he,M),H.closePath()),oe}}class xi extends Xr{constructor(){super(...arguments),this.type="pattern"}createPattern(H,oe,he){var M=this.getStyle("width").getPixels("x",!0),Q=this.getStyle("height").getPixels("y",!0),ne=new ca(this.document,null);ne.attributes.viewBox=new le(this.document,"viewBox",this.getAttribute("viewBox").getValue()),ne.attributes.width=new le(this.document,"width","".concat(M,"px")),ne.attributes.height=new le(this.document,"height","".concat(Q,"px")),ne.attributes.transform=new le(this.document,"transform",this.getAttribute("patternTransform").getValue()),ne.children=this.children;var we=this.document.createCanvas(M,Q),Fe=we.getContext("2d"),qe=this.getAttribute("x"),st=this.getAttribute("y");qe.hasValue()&&st.hasValue()&&Fe.translate(qe.getPixels("x",!0),st.getPixels("y",!0)),he.hasValue()?this.styles["fill-opacity"]=he:Reflect.deleteProperty(this.styles,"fill-opacity");for(var I=-1;I<=1;I++)for(var E=-1;E<=1;E++)Fe.save(),ne.attributes.x=new le(this.document,"x",I*we.width),ne.attributes.y=new le(this.document,"y",E*we.height),ne.render(Fe),Fe.restore();var D=H.createPattern(we,"repeat");return D}}class Cn extends Xr{constructor(){super(...arguments),this.type="marker"}render(H,oe,he){if(oe){var{x:M,y:Q}=oe,ne=this.getAttribute("orient").getString("auto"),we=this.getAttribute("markerUnits").getString("strokeWidth");H.translate(M,Q),ne==="auto"&&H.rotate(he),we==="strokeWidth"&&H.scale(H.lineWidth,H.lineWidth),H.save();var Fe=new ca(this.document,null);Fe.type=this.type,Fe.attributes.viewBox=new le(this.document,"viewBox",this.getAttribute("viewBox").getValue()),Fe.attributes.refX=new le(this.document,"refX",this.getAttribute("refX").getValue()),Fe.attributes.refY=new le(this.document,"refY",this.getAttribute("refY").getValue()),Fe.attributes.width=new le(this.document,"width",this.getAttribute("markerWidth").getValue()),Fe.attributes.height=new le(this.document,"height",this.getAttribute("markerHeight").getValue()),Fe.attributes.overflow=new le(this.document,"overflow",this.getAttribute("overflow").getValue()),Fe.attributes.fill=new le(this.document,"fill",this.getAttribute("fill").getColor("black")),Fe.attributes.stroke=new le(this.document,"stroke",this.getAttribute("stroke").getValue("none")),Fe.children=this.children,Fe.render(H),H.restore(),we==="strokeWidth"&&H.scale(1/H.lineWidth,1/H.lineWidth),ne==="auto"&&H.rotate(-he),H.translate(-M,-Q)}}}class Ts extends Xr{constructor(){super(...arguments),this.type="defs"}render(){}}class Ni extends Wn{constructor(){super(...arguments),this.type="g"}getBoundingBox(H){var oe=new dn;return this.children.forEach(he=>{oe.addBoundingBox(he.getBoundingBox(H))}),oe}}class yi extends Xr{constructor(H,oe,he){super(H,oe,he),this.attributesToInherit=["gradientUnits"],this.stops=[];var{stops:M,children:Q}=this;Q.forEach(ne=>{ne.type==="stop"&&M.push(ne)})}getGradientUnits(){return this.getAttribute("gradientUnits").getString("objectBoundingBox")}createGradient(H,oe,he){var M=this;this.getHrefAttribute().hasValue()&&(M=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(M));var{stops:Q}=M,ne=this.getGradient(H,oe);if(!ne)return this.addParentOpacity(he,Q[Q.length-1].color);if(Q.forEach(ae=>{ne.addColorStop(ae.offset,this.addParentOpacity(he,ae.color))}),this.getAttribute("gradientTransform").hasValue()){var{document:we}=this,{MAX_VIRTUAL_PIXELS:Fe,viewPort:qe}=we.screen,[st]=qe.viewPorts,I=new Pt(we,null);I.attributes.x=new le(we,"x",-Fe/3),I.attributes.y=new le(we,"y",-Fe/3),I.attributes.width=new le(we,"width",Fe),I.attributes.height=new le(we,"height",Fe);var E=new Ni(we,null);E.attributes.transform=new le(we,"transform",this.getAttribute("gradientTransform").getValue()),E.children=[I];var D=new ca(we,null);D.attributes.x=new le(we,"x",0),D.attributes.y=new le(we,"y",0),D.attributes.width=new le(we,"width",st.width),D.attributes.height=new le(we,"height",st.height),D.children=[E];var z=we.createCanvas(st.width,st.height),X=z.getContext("2d");return X.fillStyle=ne,D.render(X),X.createPattern(z,"no-repeat")}return ne}inheritStopContainer(H){this.attributesToInherit.forEach(oe=>{!this.getAttribute(oe).hasValue()&&H.getAttribute(oe).hasValue()&&this.getAttribute(oe,!0).setValue(H.getAttribute(oe).getValue())})}addParentOpacity(H,oe){if(H.hasValue()){var he=new le(this.document,"color",oe);return he.addOpacity(H).getColor()}return oe}}class Wi extends yi{constructor(H,oe,he){super(H,oe,he),this.type="linearGradient",this.attributesToInherit.push("x1","y1","x2","y2")}getGradient(H,oe){var he=this.getGradientUnits()==="objectBoundingBox",M=he?oe.getBoundingBox(H):null;if(he&&!M)return null;!this.getAttribute("x1").hasValue()&&!this.getAttribute("y1").hasValue()&&!this.getAttribute("x2").hasValue()&&!this.getAttribute("y2").hasValue()&&(this.getAttribute("x1",!0).setValue(0),this.getAttribute("y1",!0).setValue(0),this.getAttribute("x2",!0).setValue(1),this.getAttribute("y2",!0).setValue(0));var Q=he?M.x+M.width*this.getAttribute("x1").getNumber():this.getAttribute("x1").getPixels("x"),ne=he?M.y+M.height*this.getAttribute("y1").getNumber():this.getAttribute("y1").getPixels("y"),we=he?M.x+M.width*this.getAttribute("x2").getNumber():this.getAttribute("x2").getPixels("x"),Fe=he?M.y+M.height*this.getAttribute("y2").getNumber():this.getAttribute("y2").getPixels("y");return Q===we&&ne===Fe?null:H.createLinearGradient(Q,ne,we,Fe)}}class Ii extends yi{constructor(H,oe,he){super(H,oe,he),this.type="radialGradient",this.attributesToInherit.push("cx","cy","r","fx","fy","fr")}getGradient(H,oe){var he=this.getGradientUnits()==="objectBoundingBox",M=oe.getBoundingBox(H);if(he&&!M)return null;this.getAttribute("cx").hasValue()||this.getAttribute("cx",!0).setValue("50%"),this.getAttribute("cy").hasValue()||this.getAttribute("cy",!0).setValue("50%"),this.getAttribute("r").hasValue()||this.getAttribute("r",!0).setValue("50%");var Q=he?M.x+M.width*this.getAttribute("cx").getNumber():this.getAttribute("cx").getPixels("x"),ne=he?M.y+M.height*this.getAttribute("cy").getNumber():this.getAttribute("cy").getPixels("y"),we=Q,Fe=ne;this.getAttribute("fx").hasValue()&&(we=he?M.x+M.width*this.getAttribute("fx").getNumber():this.getAttribute("fx").getPixels("x")),this.getAttribute("fy").hasValue()&&(Fe=he?M.y+M.height*this.getAttribute("fy").getNumber():this.getAttribute("fy").getPixels("y"));var qe=he?(M.width+M.height)/2*this.getAttribute("r").getNumber():this.getAttribute("r").getPixels(),st=this.getAttribute("fr").getPixels();return H.createRadialGradient(we,Fe,st,Q,ne,qe)}}class Ds extends Xr{constructor(H,oe,he){super(H,oe,he),this.type="stop";var M=Math.max(0,Math.min(1,this.getAttribute("offset").getNumber())),Q=this.getStyle("stop-opacity"),ne=this.getStyle("stop-color",!0);ne.getString()===""&&ne.setValue("#000"),Q.hasValue()&&(ne=ne.addOpacity(Q)),this.offset=M,this.color=ne.getColor()}}class Ga extends Xr{constructor(H,oe,he){super(H,oe,he),this.type="animate",this.duration=0,this.initialValue=null,this.initialUnits="",this.removed=!1,this.frozen=!1,H.screen.animations.push(this),this.begin=this.getAttribute("begin").getMilliseconds(),this.maxDuration=this.begin+this.getAttribute("dur").getMilliseconds(),this.from=this.getAttribute("from"),this.to=this.getAttribute("to"),this.values=new le(H,"values",null);var M=this.getAttribute("values");M.hasValue()&&this.values.setValue(M.getString().split(";"))}getProperty(){var H=this.getAttribute("attributeType").getString(),oe=this.getAttribute("attributeName").getString();return H==="CSS"?this.parent.getStyle(oe,!0):this.parent.getAttribute(oe,!0)}calcValue(){var{initialUnits:H}=this,{progress:oe,from:he,to:M}=this.getProgress(),Q=he.getNumber()+(M.getNumber()-he.getNumber())*oe;return H==="%"&&(Q*=100),"".concat(Q).concat(H)}update(H){var{parent:oe}=this,he=this.getProperty();if(this.initialValue||(this.initialValue=he.getString(),this.initialUnits=he.getUnits()),this.duration>this.maxDuration){var M=this.getAttribute("fill").getString("remove");if(this.getAttribute("repeatCount").getString()==="indefinite"||this.getAttribute("repeatDur").getString()==="indefinite")this.duration=0;else if(M==="freeze"&&!this.frozen)this.frozen=!0,oe.animationFrozen=!0,oe.animationFrozenValue=he.getString();else if(M==="remove"&&!this.removed)return this.removed=!0,he.setValue(oe.animationFrozen?oe.animationFrozenValue:this.initialValue),!0;return!1}this.duration+=H;var Q=!1;if(this.begin<this.duration){var ne=this.calcValue(),we=this.getAttribute("type");if(we.hasValue()){var Fe=we.getString();ne="".concat(Fe,"(").concat(ne,")")}he.setValue(ne),Q=!0}return Q}getProgress(){var{document:H,values:oe}=this,he={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(oe.hasValue()){var M=he.progress*(oe.getValue().length-1),Q=Math.floor(M),ne=Math.ceil(M);he.from=new le(H,"from",parseFloat(oe.getValue()[Q])),he.to=new le(H,"to",parseFloat(oe.getValue()[ne])),he.progress=(M-Q)/(ne-Q)}else he.from=this.from,he.to=this.to;return he}}class xs extends Ga{constructor(){super(...arguments),this.type="animateColor"}calcValue(){var{progress:H,from:oe,to:he}=this.getProgress(),M=new f(oe.getColor()),Q=new f(he.getColor());if(M.ok&&Q.ok){var ne=M.r+(Q.r-M.r)*H,we=M.g+(Q.g-M.g)*H,Fe=M.b+(Q.b-M.b)*H;return"rgb(".concat(Math.floor(ne),", ").concat(Math.floor(we),", ").concat(Math.floor(Fe),")")}return this.getAttribute("from").getColor()}}class Va extends Ga{constructor(){super(...arguments),this.type="animateTransform"}calcValue(){var{progress:H,from:oe,to:he}=this.getProgress(),M=C(oe.getString()),Q=C(he.getString()),ne=M.map((we,Fe)=>{var qe=Q[Fe];return we+(qe-we)*H}).join(" ");return ne}}class Sc extends Xr{constructor(H,oe,he){super(H,oe,he),this.type="font",this.glyphs=Object.create(null),this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber();var{definitions:M}=H,{children:Q}=this;for(var ne of Q)switch(ne.type){case"font-face":{this.fontFace=ne;var we=ne.getStyle("font-family");we.hasValue()&&(M[we.getString()]=this);break}case"missing-glyph":this.missingGlyph=ne;break;case"glyph":{var Fe=ne;Fe.arabicForm?(this.isRTL=!0,this.isArabic=!0,typeof this.glyphs[Fe.unicode]>"u"&&(this.glyphs[Fe.unicode]=Object.create(null)),this.glyphs[Fe.unicode][Fe.arabicForm]=Fe):this.glyphs[Fe.unicode]=Fe;break}}}render(){}}class ys extends Xr{constructor(H,oe,he){super(H,oe,he),this.type="font-face",this.ascent=this.getAttribute("ascent").getNumber(),this.descent=this.getAttribute("descent").getNumber(),this.unitsPerEm=this.getAttribute("units-per-em").getNumber()}}class Bl extends Hr{constructor(){super(...arguments),this.type="missing-glyph",this.horizAdvX=0}}class Ec extends jn{constructor(){super(...arguments),this.type="tref"}getText(){var H=this.getHrefAttribute().getDefinition();if(H){var oe=H.children[0];if(oe)return oe.getText()}return""}}class Il extends jn{constructor(H,oe,he){super(H,oe,he),this.type="a";var{childNodes:M}=oe,Q=M[0],ne=M.length>0&&Array.from(M).every(we=>we.nodeType===3);this.hasText=ne,this.text=ne?this.getTextFromNode(Q):""}getText(){return this.text}renderChildren(H){if(this.hasText){super.renderChildren(H);var{document:oe,x:he,y:M}=this,{mouse:Q}=oe.screen,ne=new le(oe,"fontSize",$r.parse(oe.ctx.font).fontSize);Q.isWorking()&&Q.checkBoundingBox(this,new dn(he,M-ne.getPixels("y"),he+this.measureText(H),M))}else if(this.children.length>0){var we=new Ni(this.document,null);we.children=this.children,we.parent=this,we.render(H)}}onClick(){var{window:H}=this.document;H&&H.open(this.getHrefAttribute().getString())}onMouseMove(){var H=this.document.ctx;H.canvas.style.cursor="pointer"}}function $i(Ht,H){var oe=Object.keys(Ht);if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(Ht);H&&(he=he.filter(function(M){return Object.getOwnPropertyDescriptor(Ht,M).enumerable})),oe.push.apply(oe,he)}return oe}function yo(Ht){for(var H=1;H<arguments.length;H++){var oe=arguments[H]!=null?arguments[H]:{};H%2?$i(Object(oe),!0).forEach(function(he){(0,d.default)(Ht,he,oe[he])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ht,Object.getOwnPropertyDescriptors(oe)):$i(Object(oe)).forEach(function(he){Object.defineProperty(Ht,he,Object.getOwnPropertyDescriptor(oe,he))})}return Ht}class fa extends jn{constructor(H,oe,he){super(H,oe,he),this.type="textPath",this.textWidth=0,this.textHeight=0,this.pathLength=-1,this.glyphInfo=null,this.letterSpacingCache=[],this.measuresCache=new Map([["",0]]);var M=this.getHrefAttribute().getDefinition();this.text=this.getTextFromNode(),this.dataArray=this.parsePathData(M)}getText(){return this.text}path(H){var{dataArray:oe}=this;H&&H.beginPath(),oe.forEach(he=>{var{type:M,points:Q}=he;switch(M){case zr.LINE_TO:H&&H.lineTo(Q[0],Q[1]);break;case zr.MOVE_TO:H&&H.moveTo(Q[0],Q[1]);break;case zr.CURVE_TO:H&&H.bezierCurveTo(Q[0],Q[1],Q[2],Q[3],Q[4],Q[5]);break;case zr.QUAD_TO:H&&H.quadraticCurveTo(Q[0],Q[1],Q[2],Q[3]);break;case zr.ARC:{var[ne,we,Fe,qe,st,I,E,D]=Q,z=Fe>qe?Fe:qe,X=Fe>qe?1:Fe/qe,ae=Fe>qe?qe/Fe:1;H&&(H.translate(ne,we),H.rotate(E),H.scale(X,ae),H.arc(0,0,z,st,st+I,!!(1-D)),H.scale(1/X,1/ae),H.rotate(-E),H.translate(-ne,-we));break}case zr.CLOSE_PATH:H&&H.closePath();break}})}renderChildren(H){this.setTextData(H),H.save();var oe=this.parent.getStyle("text-decoration").getString(),he=this.getFontSize(),{glyphInfo:M}=this,Q=H.fillStyle;oe==="underline"&&H.beginPath(),M.forEach((ne,we)=>{var{p0:Fe,p1:qe,rotation:st,text:I}=ne;H.save(),H.translate(Fe.x,Fe.y),H.rotate(st),H.fillStyle&&H.fillText(I,0,0),H.strokeStyle&&H.strokeText(I,0,0),H.restore(),oe==="underline"&&(we===0&&H.moveTo(Fe.x,Fe.y+he/8),H.lineTo(qe.x,qe.y+he/5))}),oe==="underline"&&(H.lineWidth=he/20,H.strokeStyle=Q,H.stroke(),H.closePath()),H.restore()}getLetterSpacingAt(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.letterSpacingCache[H]||0}findSegmentToFitChar(H,oe,he,M,Q,ne,we,Fe,qe){var st=ne,I=this.measureText(H,Fe);Fe===" "&&oe==="justify"&&he<M&&(I+=(M-he)/Q),qe>-1&&(st+=this.getLetterSpacingAt(qe));var E=this.textHeight/20,D=this.getEquidistantPointOnPath(st,E,0),z=this.getEquidistantPointOnPath(st+I,E,0),X={p0:D,p1:z},ae=D&&z?Math.atan2(z.y-D.y,z.x-D.x):0;if(we){var Se=Math.cos(Math.PI/2+ae)*we,ge=Math.cos(-ae)*we;X.p0=yo(yo({},D),{},{x:D.x+Se,y:D.y+ge}),X.p1=yo(yo({},z),{},{x:z.x+Se,y:z.y+ge})}return st+=I,{offset:st,segment:X,rotation:ae}}measureText(H,oe){var{measuresCache:he}=this,M=oe||this.getText();if(he.has(M))return he.get(M);var Q=this.measureTargetText(H,M);return he.set(M,Q),Q}setTextData(H){if(!this.glyphInfo){var oe=this.getText(),he=oe.split(""),M=oe.split(" ").length-1,Q=this.parent.getAttribute("dx").split().map(Me=>Me.getPixels("x")),ne=this.parent.getAttribute("dy").getPixels("y"),we=this.parent.getStyle("text-anchor").getString("start"),Fe=this.getStyle("letter-spacing"),qe=this.parent.getStyle("letter-spacing"),st=0;!Fe.hasValue()||Fe.getValue()==="inherit"?st=qe.getPixels():Fe.hasValue()&&Fe.getValue()!=="initial"&&Fe.getValue()!=="unset"&&(st=Fe.getPixels());var I=[],E=oe.length;this.letterSpacingCache=I;for(var D=0;D<E;D++)I.push(typeof Q[D]<"u"?Q[D]:st);var z=I.reduce((Me,ze,et)=>et===0?0:Me+ze||0,0),X=this.measureText(H),ae=Math.max(X+z,0);this.textWidth=X,this.textHeight=this.getFontSize(),this.glyphInfo=[];var Se=this.getPathLength(),ge=this.getStyle("startOffset").getNumber(0)*Se,ve=0;(we==="middle"||we==="center")&&(ve=-ae/2),(we==="end"||we==="right")&&(ve=-ae),ve+=ge,he.forEach((Me,ze)=>{var{offset:et,segment:ot,rotation:Pe}=this.findSegmentToFitChar(H,we,ae,Se,M,ve,ne,Me,ze);ve=et,!(!ot.p0||!ot.p1)&&this.glyphInfo.push({text:he[ze],p0:ot.p0,p1:ot.p1,rotation:Pe})})}}parsePathData(H){if(this.pathLength=-1,!H)return[];var oe=[],{pathParser:he}=H;for(he.reset();!he.isEnd();){var{current:M}=he,Q=M?M.x:0,ne=M?M.y:0,we=he.next(),Fe=we.type,qe=[];switch(we.type){case zr.MOVE_TO:this.pathM(he,qe);break;case zr.LINE_TO:Fe=this.pathL(he,qe);break;case zr.HORIZ_LINE_TO:Fe=this.pathH(he,qe);break;case zr.VERT_LINE_TO:Fe=this.pathV(he,qe);break;case zr.CURVE_TO:this.pathC(he,qe);break;case zr.SMOOTH_CURVE_TO:Fe=this.pathS(he,qe);break;case zr.QUAD_TO:this.pathQ(he,qe);break;case zr.SMOOTH_QUAD_TO:Fe=this.pathT(he,qe);break;case zr.ARC:qe=this.pathA(he);break;case zr.CLOSE_PATH:Hr.pathZ(he);break}we.type!==zr.CLOSE_PATH?oe.push({type:Fe,points:qe,start:{x:Q,y:ne},pathLength:this.calcLength(Q,ne,Fe,qe)}):oe.push({type:zr.CLOSE_PATH,points:[],pathLength:0})}return oe}pathM(H,oe){var{x:he,y:M}=Hr.pathM(H).point;oe.push(he,M)}pathL(H,oe){var{x:he,y:M}=Hr.pathL(H).point;return oe.push(he,M),zr.LINE_TO}pathH(H,oe){var{x:he,y:M}=Hr.pathH(H).point;return oe.push(he,M),zr.LINE_TO}pathV(H,oe){var{x:he,y:M}=Hr.pathV(H).point;return oe.push(he,M),zr.LINE_TO}pathC(H,oe){var{point:he,controlPoint:M,currentPoint:Q}=Hr.pathC(H);oe.push(he.x,he.y,M.x,M.y,Q.x,Q.y)}pathS(H,oe){var{point:he,controlPoint:M,currentPoint:Q}=Hr.pathS(H);return oe.push(he.x,he.y,M.x,M.y,Q.x,Q.y),zr.CURVE_TO}pathQ(H,oe){var{controlPoint:he,currentPoint:M}=Hr.pathQ(H);oe.push(he.x,he.y,M.x,M.y)}pathT(H,oe){var{controlPoint:he,currentPoint:M}=Hr.pathT(H);return oe.push(he.x,he.y,M.x,M.y),zr.QUAD_TO}pathA(H){var{rX:oe,rY:he,sweepFlag:M,xAxisRotation:Q,centp:ne,a1:we,ad:Fe}=Hr.pathA(H);return M===0&&Fe>0&&(Fe-=2*Math.PI),M===1&&Fe<0&&(Fe+=2*Math.PI),[ne.x,ne.y,oe,he,we,Fe,Q,M]}calcLength(H,oe,he,M){var Q=0,ne=null,we=null,Fe=0;switch(he){case zr.LINE_TO:return this.getLineLength(H,oe,M[0],M[1]);case zr.CURVE_TO:for(Q=0,ne=this.getPointOnCubicBezier(0,H,oe,M[0],M[1],M[2],M[3],M[4],M[5]),Fe=.01;Fe<=1;Fe+=.01)we=this.getPointOnCubicBezier(Fe,H,oe,M[0],M[1],M[2],M[3],M[4],M[5]),Q+=this.getLineLength(ne.x,ne.y,we.x,we.y),ne=we;return Q;case zr.QUAD_TO:for(Q=0,ne=this.getPointOnQuadraticBezier(0,H,oe,M[0],M[1],M[2],M[3]),Fe=.01;Fe<=1;Fe+=.01)we=this.getPointOnQuadraticBezier(Fe,H,oe,M[0],M[1],M[2],M[3]),Q+=this.getLineLength(ne.x,ne.y,we.x,we.y),ne=we;return Q;case zr.ARC:{Q=0;var qe=M[4],st=M[5],I=M[4]+st,E=Math.PI/180;if(Math.abs(qe-I)<E&&(E=Math.abs(qe-I)),ne=this.getPointOnEllipticalArc(M[0],M[1],M[2],M[3],qe,0),st<0)for(Fe=qe-E;Fe>I;Fe-=E)we=this.getPointOnEllipticalArc(M[0],M[1],M[2],M[3],Fe,0),Q+=this.getLineLength(ne.x,ne.y,we.x,we.y),ne=we;else for(Fe=qe+E;Fe<I;Fe+=E)we=this.getPointOnEllipticalArc(M[0],M[1],M[2],M[3],Fe,0),Q+=this.getLineLength(ne.x,ne.y,we.x,we.y),ne=we;return we=this.getPointOnEllipticalArc(M[0],M[1],M[2],M[3],I,0),Q+=this.getLineLength(ne.x,ne.y,we.x,we.y),Q}}return 0}getPointOnLine(H,oe,he,M,Q){var ne=arguments.length>5&&arguments[5]!==void 0?arguments[5]:oe,we=arguments.length>6&&arguments[6]!==void 0?arguments[6]:he,Fe=(Q-he)/(M-oe+Ie),qe=Math.sqrt(H*H/(1+Fe*Fe));M<oe&&(qe*=-1);var st=Fe*qe,I=null;if(M===oe)I={x:ne,y:we+st};else if((we-he)/(ne-oe+Ie)===Fe)I={x:ne+qe,y:we+st};else{var E=0,D=0,z=this.getLineLength(oe,he,M,Q);if(z<Ie)return null;var X=(ne-oe)*(M-oe)+(we-he)*(Q-he);X/=z*z,E=oe+X*(M-oe),D=he+X*(Q-he);var ae=this.getLineLength(ne,we,E,D),Se=Math.sqrt(H*H-ae*ae);qe=Math.sqrt(Se*Se/(1+Fe*Fe)),M<oe&&(qe*=-1),st=Fe*qe,I={x:E+qe,y:D+st}}return I}getPointOnPath(H){var oe=this.getPathLength(),he=0,M=null;if(H<-5e-5||H-5e-5>oe)return null;var{dataArray:Q}=this;for(var ne of Q){if(ne&&(ne.pathLength<5e-5||he+ne.pathLength+5e-5<H)){he+=ne.pathLength;continue}var we=H-he,Fe=0;switch(ne.type){case zr.LINE_TO:M=this.getPointOnLine(we,ne.start.x,ne.start.y,ne.points[0],ne.points[1],ne.start.x,ne.start.y);break;case zr.ARC:{var qe=ne.points[4],st=ne.points[5],I=ne.points[4]+st;if(Fe=qe+we/ne.pathLength*st,st<0&&Fe<I||st>=0&&Fe>I)break;M=this.getPointOnEllipticalArc(ne.points[0],ne.points[1],ne.points[2],ne.points[3],Fe,ne.points[6]);break}case zr.CURVE_TO:Fe=we/ne.pathLength,Fe>1&&(Fe=1),M=this.getPointOnCubicBezier(Fe,ne.start.x,ne.start.y,ne.points[0],ne.points[1],ne.points[2],ne.points[3],ne.points[4],ne.points[5]);break;case zr.QUAD_TO:Fe=we/ne.pathLength,Fe>1&&(Fe=1),M=this.getPointOnQuadraticBezier(Fe,ne.start.x,ne.start.y,ne.points[0],ne.points[1],ne.points[2],ne.points[3]);break}if(M)return M;break}return null}getLineLength(H,oe,he,M){return Math.sqrt((he-H)*(he-H)+(M-oe)*(M-oe))}getPathLength(){return this.pathLength===-1&&(this.pathLength=this.dataArray.reduce((H,oe)=>oe.pathLength>0?H+oe.pathLength:H,0)),this.pathLength}getPointOnCubicBezier(H,oe,he,M,Q,ne,we,Fe,qe){var st=Fe*ee(H)+ne*re(H)+M*je(H)+oe*Ne(H),I=qe*ee(H)+we*re(H)+Q*je(H)+he*Ne(H);return{x:st,y:I}}getPointOnQuadraticBezier(H,oe,he,M,Q,ne,we){var Fe=ne*ye(H)+M*me(H)+oe*ie(H),qe=we*ye(H)+Q*me(H)+he*ie(H);return{x:Fe,y:qe}}getPointOnEllipticalArc(H,oe,he,M,Q,ne){var we=Math.cos(ne),Fe=Math.sin(ne),qe={x:he*Math.cos(Q),y:M*Math.sin(Q)};return{x:H+(qe.x*we-qe.y*Fe),y:oe+(qe.x*Fe+qe.y*we)}}buildEquidistantCache(H,oe){var he=this.getPathLength(),M=oe||.25,Q=H||he/100;if(!this.equidistantCache||this.equidistantCache.step!==Q||this.equidistantCache.precision!==M){this.equidistantCache={step:Q,precision:M,points:[]};for(var ne=0,we=0;we<=he;we+=M){var Fe=this.getPointOnPath(we),qe=this.getPointOnPath(we+M);!Fe||!qe||(ne+=this.getLineLength(Fe.x,Fe.y,qe.x,qe.y),ne>=Q&&(this.equidistantCache.points.push({x:Fe.x,y:Fe.y,distance:we}),ne-=Q))}}}getEquidistantPointOnPath(H,oe,he){if(this.buildEquidistantCache(oe,he),H<0||H-this.getPathLength()>5e-5)return null;var M=Math.round(H/this.getPathLength()*(this.equidistantCache.points.length-1));return this.equidistantCache.points[M]||null}}var tc=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*)$/i;class ai extends Wn{constructor(H,oe,he){super(H,oe,he),this.type="image",this.loaded=!1;var M=this.getHrefAttribute().getString();if(M){var Q=M.endsWith(".svg")||/^\s*data:image\/svg\+xml/i.test(M);H.images.push(this),Q?this.loadSvg(M):this.loadImage(M),this.isSvg=Q}}loadImage(H){var oe=this;return(0,h.default)(function*(){try{var he=yield oe.document.createImage(H);oe.image=he}catch(M){console.error('Error while loading image "'.concat(H,'":'),M)}oe.loaded=!0})()}loadSvg(H){var oe=this;return(0,h.default)(function*(){var he=tc.exec(H);if(he){var M=he[5];he[4]==="base64"?oe.image=atob(M):oe.image=decodeURIComponent(M)}else try{var Q=yield oe.document.fetch(H),ne=yield Q.text();oe.image=ne}catch(we){console.error('Error while loading image "'.concat(H,'":'),we)}oe.loaded=!0})()}renderChildren(H){var{document:oe,image:he,loaded:M}=this,Q=this.getAttribute("x").getPixels("x"),ne=this.getAttribute("y").getPixels("y"),we=this.getStyle("width").getPixels("x"),Fe=this.getStyle("height").getPixels("y");if(!(!M||!he||!we||!Fe)){if(H.save(),H.translate(Q,ne),this.isSvg){var qe=oe.canvg.forkString(H,this.image,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:0,offsetY:0,scaleWidth:we,scaleHeight:Fe});qe.document.documentElement.parent=this,qe.render()}else{var st=this.image;oe.setViewBox({ctx:H,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:we,desiredWidth:st.width,height:Fe,desiredHeight:st.height}),this.loaded&&(typeof st.complete>"u"||st.complete)&&H.drawImage(st,0,0)}H.restore()}}getBoundingBox(){var H=this.getAttribute("x").getPixels("x"),oe=this.getAttribute("y").getPixels("y"),he=this.getStyle("width").getPixels("x"),M=this.getStyle("height").getPixels("y");return new dn(H,oe,H+he,oe+M)}}class To extends Wn{constructor(){super(...arguments),this.type="symbol"}render(H){}}class Ys{constructor(H){this.document=H,this.loaded=!1,H.fonts.push(this)}load(H,oe){var he=this;return(0,h.default)(function*(){try{var{document:M}=he,Q=yield M.canvg.parser.load(oe),ne=Q.getElementsByTagName("font");Array.from(ne).forEach(we=>{var Fe=M.createElement(we);M.definitions[H]=Fe})}catch(we){console.error('Error while loading font "'.concat(oe,'":'),we)}he.loaded=!0})()}}class _o extends Xr{constructor(H,oe,he){super(H,oe,he),this.type="style";var M=w(Array.from(oe.childNodes).map(ne=>ne.textContent).join("").replace(/(\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"").replace(/@import.*;/g,"")),Q=M.split("}");Q.forEach(ne=>{var we=ne.trim();if(we){var Fe=we.split("{"),qe=Fe[0].split(","),st=Fe[1].split(";");qe.forEach(I=>{var E=I.trim();if(E){var D=H.styles[E]||{};if(st.forEach(ae=>{var Se=ae.indexOf(":"),ge=ae.substr(0,Se).trim(),ve=ae.substr(Se+1,ae.length-Se).trim();ge&&ve&&(D[ge]=new le(H,ge,ve))}),H.styles[E]=D,H.stylesSpecificity[E]=Te(E),E==="@font-face"){var z=D["font-family"].getString().replace(/"|'/g,""),X=D.src.getString().split(",");X.forEach(ae=>{if(ae.indexOf('format("svg")')>0){var Se=K(ae);Se&&new Ys(H).load(z,Se)}})}}})}})}}_o.parseExternalUrl=K;class nl extends Wn{constructor(){super(...arguments),this.type="use"}setContext(H){super.setContext(H);var oe=this.getAttribute("x"),he=this.getAttribute("y");oe.hasValue()&&H.translate(oe.getPixels("x"),0),he.hasValue()&&H.translate(0,he.getPixels("y"))}path(H){var{element:oe}=this;oe&&oe.path(H)}renderChildren(H){var{document:oe,element:he}=this;if(he){var M=he;if(he.type==="symbol"&&(M=new ca(oe,null),M.attributes.viewBox=new le(oe,"viewBox",he.getAttribute("viewBox").getString()),M.attributes.preserveAspectRatio=new le(oe,"preserveAspectRatio",he.getAttribute("preserveAspectRatio").getString()),M.attributes.overflow=new le(oe,"overflow",he.getAttribute("overflow").getString()),M.children=he.children,he.styles.opacity=new le(oe,"opacity",this.calculateOpacity())),M.type==="svg"){var Q=this.getStyle("width",!1,!0),ne=this.getStyle("height",!1,!0);Q.hasValue()&&(M.attributes.width=new le(oe,"width",Q.getString())),ne.hasValue()&&(M.attributes.height=new le(oe,"height",ne.getString()))}var we=M.parent;M.parent=this,M.render(H),M.parent=we}}getBoundingBox(H){var{element:oe}=this;return oe?oe.getBoundingBox(H):null}elementTransform(){var{document:H,element:oe}=this;return an.fromElement(H,oe)}get element(){return this.cachedElement||(this.cachedElement=this.getHrefAttribute().getDefinition()),this.cachedElement}}function Oo(Ht,H,oe,he,M,Q){return Ht[oe*he*4+H*4+Q]}function Vs(Ht,H,oe,he,M,Q,ne){Ht[oe*he*4+H*4+Q]=ne}function Si(Ht,H,oe){var he=Ht[H];return he*oe}function ii(Ht,H,oe,he){return H+Math.cos(Ht)*oe+Math.sin(Ht)*he}class ml extends Xr{constructor(H,oe,he){super(H,oe,he),this.type="feColorMatrix";var M=C(this.getAttribute("values").getString());switch(this.getAttribute("type").getString("matrix")){case"saturate":{var Q=M[0];M=[.213+.787*Q,.715-.715*Q,.072-.072*Q,0,0,.213-.213*Q,.715+.285*Q,.072-.072*Q,0,0,.213-.213*Q,.715-.715*Q,.072+.928*Q,0,0,0,0,0,1,0,0,0,0,0,1];break}case"hueRotate":{var ne=M[0]*Math.PI/180;M=[ii(ne,.213,.787,-.213),ii(ne,.715,-.715,-.715),ii(ne,.072,-.072,.928),0,0,ii(ne,.213,-.213,.143),ii(ne,.715,.285,.14),ii(ne,.072,-.072,-.283),0,0,ii(ne,.213,-.213,-.787),ii(ne,.715,-.715,.715),ii(ne,.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break}case"luminanceToAlpha":M=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1];break}this.matrix=M,this.includeOpacity=this.getAttribute("includeOpacity").hasValue()}apply(H,oe,he,M,Q){for(var{includeOpacity:ne,matrix:we}=this,Fe=H.getImageData(0,0,M,Q),qe=0;qe<Q;qe++)for(var st=0;st<M;st++){var I=Oo(Fe.data,st,qe,M,Q,0),E=Oo(Fe.data,st,qe,M,Q,1),D=Oo(Fe.data,st,qe,M,Q,2),z=Oo(Fe.data,st,qe,M,Q,3),X=Si(we,0,I)+Si(we,1,E)+Si(we,2,D)+Si(we,3,z)+Si(we,4,1),ae=Si(we,5,I)+Si(we,6,E)+Si(we,7,D)+Si(we,8,z)+Si(we,9,1),Se=Si(we,10,I)+Si(we,11,E)+Si(we,12,D)+Si(we,13,z)+Si(we,14,1),ge=Si(we,15,I)+Si(we,16,E)+Si(we,17,D)+Si(we,18,z)+Si(we,19,1);ne&&(X=0,ae=0,Se=0,ge*=z/255),Vs(Fe.data,st,qe,M,Q,0,X),Vs(Fe.data,st,qe,M,Q,1,ae),Vs(Fe.data,st,qe,M,Q,2,Se),Vs(Fe.data,st,qe,M,Q,3,ge)}H.clearRect(0,0,M,Q),H.putImageData(Fe,0,0)}}class ko extends Xr{constructor(){super(...arguments),this.type="mask"}apply(H,oe){var{document:he}=this,M=this.getAttribute("x").getPixels("x"),Q=this.getAttribute("y").getPixels("y"),ne=this.getStyle("width").getPixels("x"),we=this.getStyle("height").getPixels("y");if(!ne&&!we){var Fe=new dn;this.children.forEach(z=>{Fe.addBoundingBox(z.getBoundingBox(H))}),M=Math.floor(Fe.x1),Q=Math.floor(Fe.y1),ne=Math.floor(Fe.width),we=Math.floor(Fe.height)}var qe=this.removeStyles(oe,ko.ignoreStyles),st=he.createCanvas(M+ne,Q+we),I=st.getContext("2d");he.screen.setDefaults(I),this.renderChildren(I),new ml(he,{nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]}).apply(I,0,0,M+ne,Q+we);var E=he.createCanvas(M+ne,Q+we),D=E.getContext("2d");he.screen.setDefaults(D),oe.render(D),D.globalCompositeOperation="destination-in",D.fillStyle=I.createPattern(st,"no-repeat"),D.fillRect(0,0,M+ne,Q+we),H.fillStyle=D.createPattern(E,"no-repeat"),H.fillRect(0,0,M+ne,Q+we),this.restoreStyles(oe,qe)}render(H){}}ko.ignoreStyles=["mask","transform","clip-path"];var Wc=()=>{};class ds extends Xr{constructor(){super(...arguments),this.type="clipPath"}apply(H){var{document:oe}=this,he=Reflect.getPrototypeOf(H),{beginPath:M,closePath:Q}=H;he&&(he.beginPath=Wc,he.closePath=Wc),Reflect.apply(M,H,[]),this.children.forEach(ne=>{if(!(typeof ne.path>"u")){var we=typeof ne.elementTransform<"u"?ne.elementTransform():null;we||(we=an.fromElement(oe,ne)),we&&we.apply(H),ne.path(H),he&&(he.closePath=Q),we&&we.unapply(H)}}),Reflect.apply(Q,H,[]),H.clip(),he&&(he.beginPath=M,he.closePath=Q)}render(H){}}class Gn extends Xr{constructor(){super(...arguments),this.type="filter"}apply(H,oe){var{document:he,children:M}=this,Q=oe.getBoundingBox(H);if(Q){var ne=0,we=0;M.forEach(Se=>{var ge=Se.extraFilterDistance||0;ne=Math.max(ne,ge),we=Math.max(we,ge)});var Fe=Math.floor(Q.width),qe=Math.floor(Q.height),st=Fe+2*ne,I=qe+2*we;if(!(st<1||I<1)){var E=Math.floor(Q.x),D=Math.floor(Q.y),z=this.removeStyles(oe,Gn.ignoreStyles),X=he.createCanvas(st,I),ae=X.getContext("2d");he.screen.setDefaults(ae),ae.translate(-E+ne,-D+we),oe.render(ae),M.forEach(Se=>{typeof Se.apply=="function"&&Se.apply(ae,0,0,st,I)}),H.drawImage(X,0,0,st,I,E-ne,D-we,st,I),this.restoreStyles(oe,z)}}}render(H){}}Gn.ignoreStyles=["filter","transform","clip-path"];class Vi extends Xr{constructor(H,oe,he){super(H,oe,he),this.type="feDropShadow",this.addStylesFromStyleDefinition()}apply(H,oe,he,M,Q){}}class bs extends Xr{constructor(){super(...arguments),this.type="feMorphology"}apply(H,oe,he,M,Q){}}class ws extends Xr{constructor(){super(...arguments),this.type="feComposite"}apply(H,oe,he,M,Q){}}class Po extends Xr{constructor(H,oe,he){super(H,oe,he),this.type="feGaussianBlur",this.blurRadius=Math.floor(this.getAttribute("stdDeviation").getNumber()),this.extraFilterDistance=this.blurRadius}apply(H,oe,he,M,Q){var{document:ne,blurRadius:we}=this,Fe=ne.window?ne.window.document.body:null,qe=H.canvas;qe.id=ne.getUniqueId(),Fe&&(qe.style.display="none",Fe.appendChild(qe)),(0,m.canvasRGBA)(qe,oe,he,M,Q,we),Fe&&Fe.removeChild(qe)}}class Li extends Xr{constructor(){super(...arguments),this.type="title"}}class co extends Xr{constructor(){super(...arguments),this.type="desc"}}var Ji={svg:ca,rect:Pt,circle:Kr,ellipse:un,line:tn,polyline:cr,polygon:ga,path:Hr,pattern:xi,marker:Cn,defs:Ts,linearGradient:Wi,radialGradient:Ii,stop:Ds,animate:Ga,animateColor:xs,animateTransform:Va,font:Sc,"font-face":ys,"missing-glyph":Bl,glyph:Mr,text:jn,tspan:cn,tref:Ec,a:Il,textPath:fa,image:ai,g:Ni,symbol:To,style:_o,use:nl,mask:ko,clipPath:ds,filter:Gn,feDropShadow:Vi,feMorphology:bs,feComposite:ws,feColorMatrix:ml,feGaussianBlur:Po,title:Li,desc:co};function Di(Ht,H){var oe=Object.keys(Ht);if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(Ht);H&&(he=he.filter(function(M){return Object.getOwnPropertyDescriptor(Ht,M).enumerable})),oe.push.apply(oe,he)}return oe}function bo(Ht){for(var H=1;H<arguments.length;H++){var oe=arguments[H]!=null?arguments[H]:{};H%2?Di(Object(oe),!0).forEach(function(he){(0,d.default)(Ht,he,oe[he])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ht,Object.getOwnPropertyDescriptors(oe)):Di(Object(oe)).forEach(function(he){Object.defineProperty(Ht,he,Object.getOwnPropertyDescriptor(oe,he))})}return Ht}function Fo(Ht,H){var oe=document.createElement("canvas");return oe.width=Ht,oe.height=H,oe}function va(Ht){return zi.apply(this,arguments)}function zi(){return zi=(0,h.default)(function*(Ht){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,oe=document.createElement("img");return H&&(oe.crossOrigin="Anonymous"),new Promise((he,M)=>{oe.onload=()=>{he(oe)},oe.onerror=(Q,ne,we,Fe,qe)=>{M(qe)},oe.src=Ht})}),zi.apply(this,arguments)}class js{constructor(H){var{rootEmSize:oe=12,emSize:he=12,createCanvas:M=js.createCanvas,createImage:Q=js.createImage,anonymousCrossOrigin:ne}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.canvg=H,this.definitions=Object.create(null),this.styles=Object.create(null),this.stylesSpecificity=Object.create(null),this.images=[],this.fonts=[],this.emSizeStack=[],this.uniqueId=0,this.screen=H.screen,this.rootEmSize=oe,this.emSize=he,this.createCanvas=M,this.createImage=this.bindCreateImage(Q,ne),this.screen.wait(this.isImagesLoaded.bind(this)),this.screen.wait(this.isFontsLoaded.bind(this))}bindCreateImage(H,oe){return typeof oe=="boolean"?(he,M)=>H(he,typeof M=="boolean"?M:oe):H}get window(){return this.screen.window}get fetch(){return this.screen.fetch}get ctx(){return this.screen.ctx}get emSize(){var{emSizeStack:H}=this;return H[H.length-1]}set emSize(H){var{emSizeStack:oe}=this;oe.push(H)}popEmSize(){var{emSizeStack:H}=this;H.pop()}getUniqueId(){return"canvg".concat(++this.uniqueId)}isImagesLoaded(){return this.images.every(H=>H.loaded)}isFontsLoaded(){return this.fonts.every(H=>H.loaded)}createDocumentElement(H){var oe=this.createElement(H.documentElement);return oe.root=!0,oe.addStylesFromStyleDefinition(),this.documentElement=oe,oe}createElement(H){var oe=H.nodeName.replace(/^[^:]+:/,""),he=js.elementTypes[oe];return typeof he<"u"?new he(this,H):new Qr(this,H)}createTextNode(H){return new Ln(this,H)}setViewBox(H){this.screen.setViewBox(bo({document:this},H))}}js.createCanvas=Fo,js.createImage=va,js.elementTypes=Ji;function Zs(Ht,H){var oe=Object.keys(Ht);if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(Ht);H&&(he=he.filter(function(M){return Object.getOwnPropertyDescriptor(Ht,M).enumerable})),oe.push.apply(oe,he)}return oe}function Ms(Ht){for(var H=1;H<arguments.length;H++){var oe=arguments[H]!=null?arguments[H]:{};H%2?Zs(Object(oe),!0).forEach(function(he){(0,d.default)(Ht,he,oe[he])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ht,Object.getOwnPropertyDescriptors(oe)):Zs(Object(oe)).forEach(function(he){Object.defineProperty(Ht,he,Object.getOwnPropertyDescriptor(oe,he))})}return Ht}class Do{constructor(H,oe){var he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.parser=new Et(he),this.screen=new ue(H,he),this.options=he;var M=new js(this,he),Q=M.createDocumentElement(oe);this.document=M,this.documentElement=Q}static from(H,oe){var he=arguments;return(0,h.default)(function*(){var M=he.length>2&&he[2]!==void 0?he[2]:{},Q=new Et(M),ne=yield Q.parse(oe);return new Do(H,ne,M)})()}static fromString(H,oe){var he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},M=new Et(he),Q=M.parseFromString(oe);return new Do(H,Q,he)}fork(H,oe){var he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Do.from(H,oe,Ms(Ms({},this.options),he))}forkString(H,oe){var he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Do.fromString(H,oe,Ms(Ms({},this.options),he))}ready(){return this.screen.ready()}isReady(){return this.screen.isReady()}render(){var H=arguments,oe=this;return(0,h.default)(function*(){var he=H.length>0&&H[0]!==void 0?H[0]:{};oe.start(Ms({enableRedraw:!0,ignoreAnimation:!0,ignoreMouse:!0},he)),yield oe.ready(),oe.stop()})()}start(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{documentElement:oe,screen:he,options:M}=this;he.start(oe,Ms(Ms({enableRedraw:!0},M),H))}stop(){this.screen.stop()}resize(H){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:H,he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.documentElement.resize(H,oe,he)}}}),"./node_modules/core-js/internals/a-callable.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/is-callable.js"),d=o("./node_modules/core-js/internals/try-to-string.js"),A=TypeError;l.exports=function(f){if(h(f))return f;throw new A(d(f)+" is not a function")}}),"./node_modules/core-js/internals/a-constructor.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/is-constructor.js"),d=o("./node_modules/core-js/internals/try-to-string.js"),A=TypeError;l.exports=function(f){if(h(f))return f;throw new A(d(f)+" is not a constructor")}}),"./node_modules/core-js/internals/a-possible-prototype.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/is-possible-prototype.js"),d=String,A=TypeError;l.exports=function(f){if(h(f))return f;throw new A("Can't set "+d(f)+" as a prototype")}}),"./node_modules/core-js/internals/a-set.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/set-helpers.js").has;l.exports=function(d){return h(d),d}}),"./node_modules/core-js/internals/add-to-unscopables.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/well-known-symbol.js"),d=o("./node_modules/core-js/internals/object-create.js"),A=o("./node_modules/core-js/internals/object-define-property.js").f,f=h("unscopables"),g=Array.prototype;g[f]===void 0&&A(g,f,{configurable:!0,value:d(null)}),l.exports=function(m){g[f][m]=!0}}),"./node_modules/core-js/internals/advance-string-index.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/string-multibyte.js").charAt;l.exports=function(d,A,f){return A+(f?h(d,A).length:1)}}),"./node_modules/core-js/internals/an-instance.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/object-is-prototype-of.js"),d=TypeError;l.exports=function(A,f){if(h(f,A))return A;throw new d("Incorrect invocation")}}),"./node_modules/core-js/internals/an-object.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/is-object.js"),d=String,A=TypeError;l.exports=function(f){if(h(f))return f;throw new A(d(f)+" is not an object")}}),"./node_modules/core-js/internals/array-buffer-non-extensible.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/fails.js");l.exports=h(function(){if(typeof ArrayBuffer=="function"){var d=new ArrayBuffer(8);Object.isExtensible(d)&&Object.defineProperty(d,"a",{value:8})}})}),"./node_modules/core-js/internals/array-for-each.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/array-iteration.js").forEach,d=o("./node_modules/core-js/internals/array-method-is-strict.js"),A=d("forEach");l.exports=A?[].forEach:function(g){return h(this,g,arguments.length>1?arguments[1]:void 0)}}),"./node_modules/core-js/internals/array-from.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-bind-context.js"),d=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/to-object.js"),f=o("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),g=o("./node_modules/core-js/internals/is-array-iterator-method.js"),m=o("./node_modules/core-js/internals/is-constructor.js"),x=o("./node_modules/core-js/internals/length-of-array-like.js"),y=o("./node_modules/core-js/internals/create-property.js"),b=o("./node_modules/core-js/internals/get-iterator.js"),w=o("./node_modules/core-js/internals/get-iterator-method.js"),S=Array;l.exports=function(C){var O=A(C),W=m(this),K=arguments.length,te=K>1?arguments[1]:void 0,q=te!==void 0;q&&(te=h(te,K>2?arguments[2]:void 0));var Y=w(O),P=0,ce,$,R,se,fe,Te;if(Y&&!(this===S&&g(Y)))for($=W?new this:[],se=b(O,Y),fe=se.next;!(R=d(fe,se)).done;P++)Te=q?f(se,te,[R.value,P],!0):R.value,y($,P,Te);else for(ce=x(O),$=W?new this(ce):S(ce);ce>P;P++)Te=q?te(O[P],P):O[P],y($,P,Te);return $.length=P,$}}),"./node_modules/core-js/internals/array-includes.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/to-indexed-object.js"),d=o("./node_modules/core-js/internals/to-absolute-index.js"),A=o("./node_modules/core-js/internals/length-of-array-like.js"),f=function(g){return function(m,x,y){var b=h(m),w=A(b);if(w===0)return!g&&-1;var S=d(y,w),N;if(g&&x!==x){for(;w>S;)if(N=b[S++],N!==N)return!0}else for(;w>S;S++)if((g||S in b)&&b[S]===x)return g||S||0;return!g&&-1}};l.exports={includes:f(!0),indexOf:f(!1)}}),"./node_modules/core-js/internals/array-iteration.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-bind-context.js"),d=o("./node_modules/core-js/internals/function-uncurry-this.js"),A=o("./node_modules/core-js/internals/indexed-object.js"),f=o("./node_modules/core-js/internals/to-object.js"),g=o("./node_modules/core-js/internals/length-of-array-like.js"),m=o("./node_modules/core-js/internals/array-species-create.js"),x=d([].push),y=function(b){var w=b===1,S=b===2,N=b===3,C=b===4,O=b===6,W=b===7,K=b===5||O;return function(te,q,Y,P){for(var ce=f(te),$=A(ce),R=g($),se=h(q,Y),fe=0,Te=P||m,Ie=w?Te(te,R):S||W?Te(te,0):void 0,_e,Z;R>fe;fe++)if((K||fe in $)&&(_e=$[fe],Z=se(_e,fe,ce),b))if(w)Ie[fe]=Z;else if(Z)switch(b){case 3:return!0;case 5:return _e;case 6:return fe;case 2:x(Ie,_e)}else switch(b){case 4:return!1;case 7:x(Ie,_e)}return O?-1:N||C?C:Ie}};l.exports={forEach:y(0),map:y(1),filter:y(2),some:y(3),every:y(4),find:y(5),findIndex:y(6),filterReject:y(7)}}),"./node_modules/core-js/internals/array-method-has-species-support.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/fails.js"),d=o("./node_modules/core-js/internals/well-known-symbol.js"),A=o("./node_modules/core-js/internals/environment-v8-version.js"),f=d("species");l.exports=function(g){return A>=51||!h(function(){var m=[],x=m.constructor={};return x[f]=function(){return{foo:1}},m[g](Boolean).foo!==1})}}),"./node_modules/core-js/internals/array-method-is-strict.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/fails.js");l.exports=function(d,A){var f=[][d];return!!f&&h(function(){f.call(null,A||function(){return 1},1)})}}),"./node_modules/core-js/internals/array-reduce.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/a-callable.js"),d=o("./node_modules/core-js/internals/to-object.js"),A=o("./node_modules/core-js/internals/indexed-object.js"),f=o("./node_modules/core-js/internals/length-of-array-like.js"),g=TypeError,m="Reduce of empty array with no initial value",x=function(y){return function(b,w,S,N){var C=d(b),O=A(C),W=f(C);if(h(w),W===0&&S<2)throw new g(m);var K=y?W-1:0,te=y?-1:1;if(S<2)for(;;){if(K in O){N=O[K],K+=te;break}if(K+=te,y?K<0:W<=K)throw new g(m)}for(;y?K>=0:W>K;K+=te)K in O&&(N=w(N,O[K],K,C));return N}};l.exports={left:x(!1),right:x(!0)}}),"./node_modules/core-js/internals/array-slice.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this.js");l.exports=h([].slice)}),"./node_modules/core-js/internals/array-species-constructor.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/is-array.js"),d=o("./node_modules/core-js/internals/is-constructor.js"),A=o("./node_modules/core-js/internals/is-object.js"),f=o("./node_modules/core-js/internals/well-known-symbol.js"),g=f("species"),m=Array;l.exports=function(x){var y;return h(x)&&(y=x.constructor,d(y)&&(y===m||h(y.prototype))?y=void 0:A(y)&&(y=y[g],y===null&&(y=void 0))),y===void 0?m:y}}),"./node_modules/core-js/internals/array-species-create.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/array-species-constructor.js");l.exports=function(d,A){return new(h(d))(A===0?0:A)}}),"./node_modules/core-js/internals/call-with-safe-iteration-closing.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/an-object.js"),d=o("./node_modules/core-js/internals/iterator-close.js");l.exports=function(A,f,g,m){try{return m?f(h(g)[0],g[1]):f(g)}catch(x){d(A,"throw",x)}}}),"./node_modules/core-js/internals/check-correctness-of-iteration.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/well-known-symbol.js"),d=h("iterator"),A=!1;try{var f=0,g={next:function(){return{done:!!f++}},return:function(){A=!0}};g[d]=function(){return this},Array.from(g,function(){throw 2})}catch{}l.exports=function(m,x){try{if(!x&&!A)return!1}catch{return!1}var y=!1;try{var b={};b[d]=function(){return{next:function(){return{done:y=!0}}}},m(b)}catch{}return y}}),"./node_modules/core-js/internals/classof-raw.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this.js"),d=h({}.toString),A=h("".slice);l.exports=function(f){return A(d(f),8,-1)}}),"./node_modules/core-js/internals/classof.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/to-string-tag-support.js"),d=o("./node_modules/core-js/internals/is-callable.js"),A=o("./node_modules/core-js/internals/classof-raw.js"),f=o("./node_modules/core-js/internals/well-known-symbol.js"),g=f("toStringTag"),m=Object,x=A((function(){return arguments})())==="Arguments",y=function(b,w){try{return b[w]}catch{}};l.exports=h?A:function(b){var w,S,N;return b===void 0?"Undefined":b===null?"Null":typeof(S=y(w=m(b),g))=="string"?S:x?A(w):(N=A(w))==="Object"&&d(w.callee)?"Arguments":N}}),"./node_modules/core-js/internals/collection-strong.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/object-create.js"),d=o("./node_modules/core-js/internals/define-built-in-accessor.js"),A=o("./node_modules/core-js/internals/define-built-ins.js"),f=o("./node_modules/core-js/internals/function-bind-context.js"),g=o("./node_modules/core-js/internals/an-instance.js"),m=o("./node_modules/core-js/internals/is-null-or-undefined.js"),x=o("./node_modules/core-js/internals/iterate.js"),y=o("./node_modules/core-js/internals/iterator-define.js"),b=o("./node_modules/core-js/internals/create-iter-result-object.js"),w=o("./node_modules/core-js/internals/set-species.js"),S=o("./node_modules/core-js/internals/descriptors.js"),N=o("./node_modules/core-js/internals/internal-metadata.js").fastKey,C=o("./node_modules/core-js/internals/internal-state.js"),O=C.set,W=C.getterFor;l.exports={getConstructor:function(K,te,q,Y){var P=K(function(fe,Te){g(fe,ce),O(fe,{type:te,index:h(null),first:null,last:null,size:0}),S||(fe.size=0),m(Te)||x(Te,fe[Y],{that:fe,AS_ENTRIES:q})}),ce=P.prototype,$=W(te),R=function(fe,Te,Ie){var _e=$(fe),Z=se(fe,Te),Oe,ee;return Z?Z.value=Ie:(_e.last=Z={index:ee=N(Te,!0),key:Te,value:Ie,previous:Oe=_e.last,next:null,removed:!1},_e.first||(_e.first=Z),Oe&&(Oe.next=Z),S?_e.size++:fe.size++,ee!=="F"&&(_e.index[ee]=Z)),fe},se=function(fe,Te){var Ie=$(fe),_e=N(Te),Z;if(_e!=="F")return Ie.index[_e];for(Z=Ie.first;Z;Z=Z.next)if(Z.key===Te)return Z};return A(ce,{clear:function(){for(var Te=this,Ie=$(Te),_e=Ie.first;_e;)_e.removed=!0,_e.previous&&(_e.previous=_e.previous.next=null),_e=_e.next;Ie.first=Ie.last=null,Ie.index=h(null),S?Ie.size=0:Te.size=0},delete:function(fe){var Te=this,Ie=$(Te),_e=se(Te,fe);if(_e){var Z=_e.next,Oe=_e.previous;delete Ie.index[_e.index],_e.removed=!0,Oe&&(Oe.next=Z),Z&&(Z.previous=Oe),Ie.first===_e&&(Ie.first=Z),Ie.last===_e&&(Ie.last=Oe),S?Ie.size--:Te.size--}return!!_e},forEach:function(Te){for(var Ie=$(this),_e=f(Te,arguments.length>1?arguments[1]:void 0),Z;Z=Z?Z.next:Ie.first;)for(_e(Z.value,Z.key,this);Z&&Z.removed;)Z=Z.previous},has:function(Te){return!!se(this,Te)}}),A(ce,q?{get:function(Te){var Ie=se(this,Te);return Ie&&Ie.value},set:function(Te,Ie){return R(this,Te===0?0:Te,Ie)}}:{add:function(Te){return R(this,Te=Te===0?0:Te,Te)}}),S&&d(ce,"size",{configurable:!0,get:function(){return $(this).size}}),P},setStrong:function(K,te,q){var Y=te+" Iterator",P=W(te),ce=W(Y);y(K,te,function($,R){O(this,{type:Y,target:$,state:P($),kind:R,last:null})},function(){for(var $=ce(this),R=$.kind,se=$.last;se&&se.removed;)se=se.previous;return!$.target||!($.last=se=se?se.next:$.state.first)?($.target=null,b(void 0,!0)):b(R==="keys"?se.key:R==="values"?se.value:[se.key,se.value],!1)},q?"entries":"values",!q,!0),w(te)}}}),"./node_modules/core-js/internals/collection.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/global-this.js"),A=o("./node_modules/core-js/internals/function-uncurry-this.js"),f=o("./node_modules/core-js/internals/is-forced.js"),g=o("./node_modules/core-js/internals/define-built-in.js"),m=o("./node_modules/core-js/internals/internal-metadata.js"),x=o("./node_modules/core-js/internals/iterate.js"),y=o("./node_modules/core-js/internals/an-instance.js"),b=o("./node_modules/core-js/internals/is-callable.js"),w=o("./node_modules/core-js/internals/is-null-or-undefined.js"),S=o("./node_modules/core-js/internals/is-object.js"),N=o("./node_modules/core-js/internals/fails.js"),C=o("./node_modules/core-js/internals/check-correctness-of-iteration.js"),O=o("./node_modules/core-js/internals/set-to-string-tag.js"),W=o("./node_modules/core-js/internals/inherit-if-required.js");l.exports=function(K,te,q){var Y=K.indexOf("Map")!==-1,P=K.indexOf("Weak")!==-1,ce=Y?"set":"add",$=d[K],R=$&&$.prototype,se=$,fe={},Te=function(je){var Ne=A(R[je]);g(R,je,je==="add"?function(me){return Ne(this,me===0?0:me),this}:je==="delete"?function(ye){return P&&!S(ye)?!1:Ne(this,ye===0?0:ye)}:je==="get"?function(me){return P&&!S(me)?void 0:Ne(this,me===0?0:me)}:je==="has"?function(me){return P&&!S(me)?!1:Ne(this,me===0?0:me)}:function(me,ie){return Ne(this,me===0?0:me,ie),this})},Ie=f(K,!b($)||!(P||R.forEach&&!N(function(){new $().entries().next()})));if(Ie)se=q.getConstructor(te,K,Y,ce),m.enable();else if(f(K,!0)){var _e=new se,Z=_e[ce](P?{}:-0,1)!==_e,Oe=N(function(){_e.has(1)}),ee=C(function(je){new $(je)}),re=!P&&N(function(){for(var je=new $,Ne=5;Ne--;)je[ce](Ne,Ne);return!je.has(-0)});ee||(se=te(function(je,Ne){y(je,R);var ye=W(new $,je,se);return w(Ne)||x(Ne,ye[ce],{that:ye,AS_ENTRIES:Y}),ye}),se.prototype=R,R.constructor=se),(Oe||re)&&(Te("delete"),Te("has"),Y&&Te("get")),(re||Z)&&Te(ce),P&&R.clear&&delete R.clear}return fe[K]=se,h({global:!0,constructor:!0,forced:se!==$},fe),O(se,K),P||q.setStrong(se,K,Y),se}}),"./node_modules/core-js/internals/copy-constructor-properties.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/has-own-property.js"),d=o("./node_modules/core-js/internals/own-keys.js"),A=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),f=o("./node_modules/core-js/internals/object-define-property.js");l.exports=function(g,m,x){for(var y=d(m),b=f.f,w=A.f,S=0;S<y.length;S++){var N=y[S];!h(g,N)&&!(x&&h(x,N))&&b(g,N,w(m,N))}}}),"./node_modules/core-js/internals/correct-is-regexp-logic.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/well-known-symbol.js"),d=h("match");l.exports=function(A){var f=/./;try{"/./"[A](f)}catch{try{return f[d]=!1,"/./"[A](f)}catch{}}return!1}}),"./node_modules/core-js/internals/correct-prototype-getter.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/fails.js");l.exports=!h(function(){function d(){}return d.prototype.constructor=null,Object.getPrototypeOf(new d)!==d.prototype})}),"./node_modules/core-js/internals/create-html.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this.js"),d=o("./node_modules/core-js/internals/require-object-coercible.js"),A=o("./node_modules/core-js/internals/to-string.js"),f=/"/g,g=h("".replace);l.exports=function(m,x,y,b){var w=A(d(m)),S="<"+x;return y!==""&&(S+=" "+y+'="'+g(A(b),f,"&quot;")+'"'),S+">"+w+"</"+x+">"}}),"./node_modules/core-js/internals/create-iter-result-object.js":(function(l){l.exports=function(u,o){return{value:u,done:o}}}),"./node_modules/core-js/internals/create-non-enumerable-property.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/descriptors.js"),d=o("./node_modules/core-js/internals/object-define-property.js"),A=o("./node_modules/core-js/internals/create-property-descriptor.js");l.exports=h?function(f,g,m){return d.f(f,g,A(1,m))}:function(f,g,m){return f[g]=m,f}}),"./node_modules/core-js/internals/create-property-descriptor.js":(function(l){l.exports=function(u,o){return{enumerable:!(u&1),configurable:!(u&2),writable:!(u&4),value:o}}}),"./node_modules/core-js/internals/create-property.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/descriptors.js"),d=o("./node_modules/core-js/internals/object-define-property.js"),A=o("./node_modules/core-js/internals/create-property-descriptor.js");l.exports=function(f,g,m){h?d.f(f,g,A(0,m)):f[g]=m}}),"./node_modules/core-js/internals/define-built-in-accessor.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/make-built-in.js"),d=o("./node_modules/core-js/internals/object-define-property.js");l.exports=function(A,f,g){return g.get&&h(g.get,f,{getter:!0}),g.set&&h(g.set,f,{setter:!0}),d.f(A,f,g)}}),"./node_modules/core-js/internals/define-built-in.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/is-callable.js"),d=o("./node_modules/core-js/internals/object-define-property.js"),A=o("./node_modules/core-js/internals/make-built-in.js"),f=o("./node_modules/core-js/internals/define-global-property.js");l.exports=function(g,m,x,y){y||(y={});var b=y.enumerable,w=y.name!==void 0?y.name:m;if(h(x)&&A(x,w,y),y.global)b?g[m]=x:f(m,x);else{try{y.unsafe?g[m]&&(b=!0):delete g[m]}catch{}b?g[m]=x:d.f(g,m,{value:x,enumerable:!1,configurable:!y.nonConfigurable,writable:!y.nonWritable})}return g}}),"./node_modules/core-js/internals/define-built-ins.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/define-built-in.js");l.exports=function(d,A,f){for(var g in A)h(d,g,A[g],f);return d}}),"./node_modules/core-js/internals/define-global-property.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js"),d=Object.defineProperty;l.exports=function(A,f){try{d(h,A,{value:f,configurable:!0,writable:!0})}catch{h[A]=f}return f}}),"./node_modules/core-js/internals/descriptors.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/fails.js");l.exports=!h(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})}),"./node_modules/core-js/internals/document-create-element.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js"),d=o("./node_modules/core-js/internals/is-object.js"),A=h.document,f=d(A)&&d(A.createElement);l.exports=function(g){return f?A.createElement(g):{}}}),"./node_modules/core-js/internals/does-not-exceed-safe-integer.js":(function(l){var u=TypeError,o=9007199254740991;l.exports=function(h){if(h>o)throw u("Maximum allowed index exceeded");return h}}),"./node_modules/core-js/internals/dom-iterables.js":(function(l){l.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}),"./node_modules/core-js/internals/dom-token-list-prototype.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/document-create-element.js"),d=h("span").classList,A=d&&d.constructor&&d.constructor.prototype;l.exports=A===Object.prototype?void 0:A}),"./node_modules/core-js/internals/enum-bug-keys.js":(function(l){l.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]}),"./node_modules/core-js/internals/environment-is-ios-pebble.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/environment-user-agent.js");l.exports=/ipad|iphone|ipod/i.test(h)&&typeof Pebble<"u"}),"./node_modules/core-js/internals/environment-is-ios.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/environment-user-agent.js");l.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(h)}),"./node_modules/core-js/internals/environment-is-node.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/environment.js");l.exports=h==="NODE"}),"./node_modules/core-js/internals/environment-is-webos-webkit.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/environment-user-agent.js");l.exports=/web0s(?!.*chrome)/i.test(h)}),"./node_modules/core-js/internals/environment-user-agent.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js"),d=h.navigator,A=d&&d.userAgent;l.exports=A?String(A):""}),"./node_modules/core-js/internals/environment-v8-version.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js"),d=o("./node_modules/core-js/internals/environment-user-agent.js"),A=h.process,f=h.Deno,g=A&&A.versions||f&&f.version,m=g&&g.v8,x,y;m&&(x=m.split("."),y=x[0]>0&&x[0]<4?1:+(x[0]+x[1])),!y&&d&&(x=d.match(/Edge\/(\d+)/),(!x||x[1]>=74)&&(x=d.match(/Chrome\/(\d+)/),x&&(y=+x[1]))),l.exports=y}),"./node_modules/core-js/internals/environment.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js"),d=o("./node_modules/core-js/internals/environment-user-agent.js"),A=o("./node_modules/core-js/internals/classof-raw.js"),f=function(g){return d.slice(0,g.length)===g};l.exports=(function(){return f("Bun/")?"BUN":f("Cloudflare-Workers")?"CLOUDFLARE":f("Deno/")?"DENO":f("Node.js/")?"NODE":h.Bun&&typeof Bun.version=="string"?"BUN":h.Deno&&typeof Deno.version=="object"?"DENO":A(h.process)==="process"?"NODE":h.window&&h.document?"BROWSER":"REST"})()}),"./node_modules/core-js/internals/export.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js"),d=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,A=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),f=o("./node_modules/core-js/internals/define-built-in.js"),g=o("./node_modules/core-js/internals/define-global-property.js"),m=o("./node_modules/core-js/internals/copy-constructor-properties.js"),x=o("./node_modules/core-js/internals/is-forced.js");l.exports=function(y,b){var w=y.target,S=y.global,N=y.stat,C,O,W,K,te,q;if(S?O=h:N?O=h[w]||g(w,{}):O=h[w]&&h[w].prototype,O)for(W in b){if(te=b[W],y.dontCallGetSet?(q=d(O,W),K=q&&q.value):K=O[W],C=x(S?W:w+(N?".":"#")+W,y.forced),!C&&K!==void 0){if(typeof te==typeof K)continue;m(te,K)}(y.sham||K&&K.sham)&&A(te,"sham",!0),f(O,W,te,y)}}}),"./node_modules/core-js/internals/fails.js":(function(l){l.exports=function(u){try{return!!u()}catch{return!0}}}),"./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js":(function(l,u,o){o("./node_modules/core-js/modules/es.regexp.exec.js");var h=o("./node_modules/core-js/internals/function-call.js"),d=o("./node_modules/core-js/internals/define-built-in.js"),A=o("./node_modules/core-js/internals/regexp-exec.js"),f=o("./node_modules/core-js/internals/fails.js"),g=o("./node_modules/core-js/internals/well-known-symbol.js"),m=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),x=g("species"),y=RegExp.prototype;l.exports=function(b,w,S,N){var C=g(b),O=!f(function(){var q={};return q[C]=function(){return 7},""[b](q)!==7}),W=O&&!f(function(){var q=!1,Y=/a/;if(b==="split"){var P={};P[x]=function(){return Y},Y={constructor:P,flags:""},Y[C]=/./[C]}return Y.exec=function(){return q=!0,null},Y[C](""),!q});if(!O||!W||S){var K=/./[C],te=w(C,""[b],function(q,Y,P,ce,$){var R=Y.exec;return R===A||R===y.exec?O&&!$?{done:!0,value:h(K,Y,P,ce)}:{done:!0,value:h(q,P,Y,ce)}:{done:!1}});d(String.prototype,b,te[0]),d(y,C,te[1])}N&&m(y[C],"sham",!0)}}),"./node_modules/core-js/internals/freezing.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/fails.js");l.exports=!h(function(){return Object.isExtensible(Object.preventExtensions({}))})}),"./node_modules/core-js/internals/function-apply.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-bind-native.js"),d=Function.prototype,A=d.apply,f=d.call;l.exports=typeof Reflect=="object"&&Reflect.apply||(h?f.bind(A):function(){return f.apply(A,arguments)})}),"./node_modules/core-js/internals/function-bind-context.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this-clause.js"),d=o("./node_modules/core-js/internals/a-callable.js"),A=o("./node_modules/core-js/internals/function-bind-native.js"),f=h(h.bind);l.exports=function(g,m){return d(g),m===void 0?g:A?f(g,m):function(){return g.apply(m,arguments)}}}),"./node_modules/core-js/internals/function-bind-native.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/fails.js");l.exports=!h(function(){var d=(function(){}).bind();return typeof d!="function"||d.hasOwnProperty("prototype")})}),"./node_modules/core-js/internals/function-call.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-bind-native.js"),d=Function.prototype.call;l.exports=h?d.bind(d):function(){return d.apply(d,arguments)}}),"./node_modules/core-js/internals/function-name.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/descriptors.js"),d=o("./node_modules/core-js/internals/has-own-property.js"),A=Function.prototype,f=h&&Object.getOwnPropertyDescriptor,g=d(A,"name"),m=g&&(function(){}).name==="something",x=g&&(!h||h&&f(A,"name").configurable);l.exports={EXISTS:g,PROPER:m,CONFIGURABLE:x}}),"./node_modules/core-js/internals/function-uncurry-this-accessor.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this.js"),d=o("./node_modules/core-js/internals/a-callable.js");l.exports=function(A,f,g){try{return h(d(Object.getOwnPropertyDescriptor(A,f)[g]))}catch{}}}),"./node_modules/core-js/internals/function-uncurry-this-clause.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/classof-raw.js"),d=o("./node_modules/core-js/internals/function-uncurry-this.js");l.exports=function(A){if(h(A)==="Function")return d(A)}}),"./node_modules/core-js/internals/function-uncurry-this.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-bind-native.js"),d=Function.prototype,A=d.call,f=h&&d.bind.bind(A,A);l.exports=h?f:function(g){return function(){return A.apply(g,arguments)}}}),"./node_modules/core-js/internals/get-built-in.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js"),d=o("./node_modules/core-js/internals/is-callable.js"),A=function(f){return d(f)?f:void 0};l.exports=function(f,g){return arguments.length<2?A(h[f]):h[f]&&h[f][g]}}),"./node_modules/core-js/internals/get-iterator-direct.js":(function(l){l.exports=function(u){return{iterator:u,next:u.next,done:!1}}}),"./node_modules/core-js/internals/get-iterator-method.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/classof.js"),d=o("./node_modules/core-js/internals/get-method.js"),A=o("./node_modules/core-js/internals/is-null-or-undefined.js"),f=o("./node_modules/core-js/internals/iterators.js"),g=o("./node_modules/core-js/internals/well-known-symbol.js"),m=g("iterator");l.exports=function(x){if(!A(x))return d(x,m)||d(x,"@@iterator")||f[h(x)]}}),"./node_modules/core-js/internals/get-iterator.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-call.js"),d=o("./node_modules/core-js/internals/a-callable.js"),A=o("./node_modules/core-js/internals/an-object.js"),f=o("./node_modules/core-js/internals/try-to-string.js"),g=o("./node_modules/core-js/internals/get-iterator-method.js"),m=TypeError;l.exports=function(x,y){var b=arguments.length<2?g(x):y;if(d(b))return A(h(b,x));throw new m(f(x)+" is not iterable")}}),"./node_modules/core-js/internals/get-method.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/a-callable.js"),d=o("./node_modules/core-js/internals/is-null-or-undefined.js");l.exports=function(A,f){var g=A[f];return d(g)?void 0:h(g)}}),"./node_modules/core-js/internals/get-set-record.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/a-callable.js"),d=o("./node_modules/core-js/internals/an-object.js"),A=o("./node_modules/core-js/internals/function-call.js"),f=o("./node_modules/core-js/internals/to-integer-or-infinity.js"),g=o("./node_modules/core-js/internals/get-iterator-direct.js"),m="Invalid size",x=RangeError,y=TypeError,b=Math.max,w=function(S,N){this.set=S,this.size=b(N,0),this.has=h(S.has),this.keys=h(S.keys)};w.prototype={getIterator:function(){return g(d(A(this.keys,this.set)))},includes:function(S){return A(this.has,this.set,S)}},l.exports=function(S){d(S);var N=+S.size;if(N!==N)throw new y(m);var C=f(N);if(C<0)throw new x(m);return new w(S,C)}}),"./node_modules/core-js/internals/get-substitution.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this.js"),d=o("./node_modules/core-js/internals/to-object.js"),A=Math.floor,f=h("".charAt),g=h("".replace),m=h("".slice),x=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,y=/\$([$&'`]|\d{1,2})/g;l.exports=function(b,w,S,N,C,O){var W=S+b.length,K=N.length,te=y;return C!==void 0&&(C=d(C),te=x),g(O,te,function(q,Y){var P;switch(f(Y,0)){case"$":return"$";case"&":return b;case"`":return m(w,0,S);case"'":return m(w,W);case"<":P=C[m(Y,1,-1)];break;default:var ce=+Y;if(ce===0)return q;if(ce>K){var $=A(ce/10);return $===0?q:$<=K?N[$-1]===void 0?f(Y,1):N[$-1]+f(Y,1):q}P=N[ce-1]}return P===void 0?"":P})}}),"./node_modules/core-js/internals/global-this.js":(function(l){var u=function(o){return o&&o.Math===Math&&o};l.exports=u(typeof globalThis=="object"&&globalThis)||u(typeof window=="object"&&window)||u(typeof self=="object"&&self)||u(typeof cA=="object"&&cA)||u(typeof this=="object"&&this)||(function(){return this})()||Function("return this")()}),"./node_modules/core-js/internals/has-own-property.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this.js"),d=o("./node_modules/core-js/internals/to-object.js"),A=h({}.hasOwnProperty);l.exports=Object.hasOwn||function(g,m){return A(d(g),m)}}),"./node_modules/core-js/internals/hidden-keys.js":(function(l){l.exports={}}),"./node_modules/core-js/internals/host-report-errors.js":(function(l){l.exports=function(u,o){try{arguments.length===1?console.error(u):console.error(u,o)}catch{}}}),"./node_modules/core-js/internals/html.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/get-built-in.js");l.exports=h("document","documentElement")}),"./node_modules/core-js/internals/ie8-dom-define.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/descriptors.js"),d=o("./node_modules/core-js/internals/fails.js"),A=o("./node_modules/core-js/internals/document-create-element.js");l.exports=!h&&!d(function(){return Object.defineProperty(A("div"),"a",{get:function(){return 7}}).a!==7})}),"./node_modules/core-js/internals/indexed-object.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this.js"),d=o("./node_modules/core-js/internals/fails.js"),A=o("./node_modules/core-js/internals/classof-raw.js"),f=Object,g=h("".split);l.exports=d(function(){return!f("z").propertyIsEnumerable(0)})?function(m){return A(m)==="String"?g(m,""):f(m)}:f}),"./node_modules/core-js/internals/inherit-if-required.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/is-callable.js"),d=o("./node_modules/core-js/internals/is-object.js"),A=o("./node_modules/core-js/internals/object-set-prototype-of.js");l.exports=function(f,g,m){var x,y;return A&&h(x=g.constructor)&&x!==m&&d(y=x.prototype)&&y!==m.prototype&&A(f,y),f}}),"./node_modules/core-js/internals/inspect-source.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this.js"),d=o("./node_modules/core-js/internals/is-callable.js"),A=o("./node_modules/core-js/internals/shared-store.js"),f=h(Function.toString);d(A.inspectSource)||(A.inspectSource=function(g){return f(g)}),l.exports=A.inspectSource}),"./node_modules/core-js/internals/internal-metadata.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-uncurry-this.js"),A=o("./node_modules/core-js/internals/hidden-keys.js"),f=o("./node_modules/core-js/internals/is-object.js"),g=o("./node_modules/core-js/internals/has-own-property.js"),m=o("./node_modules/core-js/internals/object-define-property.js").f,x=o("./node_modules/core-js/internals/object-get-own-property-names.js"),y=o("./node_modules/core-js/internals/object-get-own-property-names-external.js"),b=o("./node_modules/core-js/internals/object-is-extensible.js"),w=o("./node_modules/core-js/internals/uid.js"),S=o("./node_modules/core-js/internals/freezing.js"),N=!1,C=w("meta"),O=0,W=function(ce){m(ce,C,{value:{objectID:"O"+O++,weakData:{}}})},K=function(ce,$){if(!f(ce))return typeof ce=="symbol"?ce:(typeof ce=="string"?"S":"P")+ce;if(!g(ce,C)){if(!b(ce))return"F";if(!$)return"E";W(ce)}return ce[C].objectID},te=function(ce,$){if(!g(ce,C)){if(!b(ce))return!0;if(!$)return!1;W(ce)}return ce[C].weakData},q=function(ce){return S&&N&&b(ce)&&!g(ce,C)&&W(ce),ce},Y=function(){P.enable=function(){},N=!0;var ce=x.f,$=d([].splice),R={};R[C]=1,ce(R).length&&(x.f=function(se){for(var fe=ce(se),Te=0,Ie=fe.length;Te<Ie;Te++)if(fe[Te]===C){$(fe,Te,1);break}return fe},h({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:y.f}))},P=l.exports={enable:Y,fastKey:K,getWeakData:te,onFreeze:q};A[C]=!0}),"./node_modules/core-js/internals/internal-state.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/weak-map-basic-detection.js"),d=o("./node_modules/core-js/internals/global-this.js"),A=o("./node_modules/core-js/internals/is-object.js"),f=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),g=o("./node_modules/core-js/internals/has-own-property.js"),m=o("./node_modules/core-js/internals/shared-store.js"),x=o("./node_modules/core-js/internals/shared-key.js"),y=o("./node_modules/core-js/internals/hidden-keys.js"),b="Object already initialized",w=d.TypeError,S=d.WeakMap,N,C,O,W=function(Y){return O(Y)?C(Y):N(Y,{})},K=function(Y){return function(P){var ce;if(!A(P)||(ce=C(P)).type!==Y)throw new w("Incompatible receiver, "+Y+" required");return ce}};if(h||m.state){var te=m.state||(m.state=new S);te.get=te.get,te.has=te.has,te.set=te.set,N=function(Y,P){if(te.has(Y))throw new w(b);return P.facade=Y,te.set(Y,P),P},C=function(Y){return te.get(Y)||{}},O=function(Y){return te.has(Y)}}else{var q=x("state");y[q]=!0,N=function(Y,P){if(g(Y,q))throw new w(b);return P.facade=Y,f(Y,q,P),P},C=function(Y){return g(Y,q)?Y[q]:{}},O=function(Y){return g(Y,q)}}l.exports={set:N,get:C,has:O,enforce:W,getterFor:K}}),"./node_modules/core-js/internals/is-array-iterator-method.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/well-known-symbol.js"),d=o("./node_modules/core-js/internals/iterators.js"),A=h("iterator"),f=Array.prototype;l.exports=function(g){return g!==void 0&&(d.Array===g||f[A]===g)}}),"./node_modules/core-js/internals/is-array.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/classof-raw.js");l.exports=Array.isArray||function(A){return h(A)==="Array"}}),"./node_modules/core-js/internals/is-callable.js":(function(l){var u=typeof document=="object"&&document.all;l.exports=typeof u>"u"&&u!==void 0?function(o){return typeof o=="function"||o===u}:function(o){return typeof o=="function"}}),"./node_modules/core-js/internals/is-constructor.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this.js"),d=o("./node_modules/core-js/internals/fails.js"),A=o("./node_modules/core-js/internals/is-callable.js"),f=o("./node_modules/core-js/internals/classof.js"),g=o("./node_modules/core-js/internals/get-built-in.js"),m=o("./node_modules/core-js/internals/inspect-source.js"),x=function(){},y=g("Reflect","construct"),b=/^\s*(?:class|function)\b/,w=h(b.exec),S=!b.test(x),N=function(W){if(!A(W))return!1;try{return y(x,[],W),!0}catch{return!1}},C=function(W){if(!A(W))return!1;switch(f(W)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return S||!!w(b,m(W))}catch{return!0}};C.sham=!0,l.exports=!y||d(function(){var O;return N(N.call)||!N(Object)||!N(function(){O=!0})||O})?C:N}),"./node_modules/core-js/internals/is-forced.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/fails.js"),d=o("./node_modules/core-js/internals/is-callable.js"),A=/#|\.prototype\./,f=function(b,w){var S=m[g(b)];return S===y?!0:S===x?!1:d(w)?h(w):!!w},g=f.normalize=function(b){return String(b).replace(A,".").toLowerCase()},m=f.data={},x=f.NATIVE="N",y=f.POLYFILL="P";l.exports=f}),"./node_modules/core-js/internals/is-iterable.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/classof.js"),d=o("./node_modules/core-js/internals/has-own-property.js"),A=o("./node_modules/core-js/internals/is-null-or-undefined.js"),f=o("./node_modules/core-js/internals/well-known-symbol.js"),g=o("./node_modules/core-js/internals/iterators.js"),m=f("iterator"),x=Object;l.exports=function(y){if(A(y))return!1;var b=x(y);return b[m]!==void 0||"@@iterator"in b||d(g,h(b))}}),"./node_modules/core-js/internals/is-null-or-undefined.js":(function(l){l.exports=function(u){return u==null}}),"./node_modules/core-js/internals/is-object.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/is-callable.js");l.exports=function(d){return typeof d=="object"?d!==null:h(d)}}),"./node_modules/core-js/internals/is-possible-prototype.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/is-object.js");l.exports=function(d){return h(d)||d===null}}),"./node_modules/core-js/internals/is-pure.js":(function(l){l.exports=!1}),"./node_modules/core-js/internals/is-raw-json.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/is-object.js"),d=o("./node_modules/core-js/internals/internal-state.js").get;l.exports=function(f){if(!h(f))return!1;var g=d(f);return!!g&&g.type==="RawJSON"}}),"./node_modules/core-js/internals/is-regexp.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/is-object.js"),d=o("./node_modules/core-js/internals/classof-raw.js"),A=o("./node_modules/core-js/internals/well-known-symbol.js"),f=A("match");l.exports=function(g){var m;return h(g)&&((m=g[f])!==void 0?!!m:d(g)==="RegExp")}}),"./node_modules/core-js/internals/is-symbol.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/get-built-in.js"),d=o("./node_modules/core-js/internals/is-callable.js"),A=o("./node_modules/core-js/internals/object-is-prototype-of.js"),f=o("./node_modules/core-js/internals/use-symbol-as-uid.js"),g=Object;l.exports=f?function(m){return typeof m=="symbol"}:function(m){var x=h("Symbol");return d(x)&&A(x.prototype,g(m))}}),"./node_modules/core-js/internals/iterate-simple.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-call.js");l.exports=function(d,A,f){for(var g=f?d:d.iterator,m=d.next,x,y;!(x=h(m,g)).done;)if(y=A(x.value),y!==void 0)return y}}),"./node_modules/core-js/internals/iterate.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-bind-context.js"),d=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/an-object.js"),f=o("./node_modules/core-js/internals/try-to-string.js"),g=o("./node_modules/core-js/internals/is-array-iterator-method.js"),m=o("./node_modules/core-js/internals/length-of-array-like.js"),x=o("./node_modules/core-js/internals/object-is-prototype-of.js"),y=o("./node_modules/core-js/internals/get-iterator.js"),b=o("./node_modules/core-js/internals/get-iterator-method.js"),w=o("./node_modules/core-js/internals/iterator-close.js"),S=TypeError,N=function(O,W){this.stopped=O,this.result=W},C=N.prototype;l.exports=function(O,W,K){var te=K&&K.that,q=!!(K&&K.AS_ENTRIES),Y=!!(K&&K.IS_RECORD),P=!!(K&&K.IS_ITERATOR),ce=!!(K&&K.INTERRUPTED),$=h(W,te),R,se,fe,Te,Ie,_e,Z,Oe=function(re){return R&&w(R,"normal"),new N(!0,re)},ee=function(re){return q?(A(re),ce?$(re[0],re[1],Oe):$(re[0],re[1])):ce?$(re,Oe):$(re)};if(Y)R=O.iterator;else if(P)R=O;else{if(se=b(O),!se)throw new S(f(O)+" is not iterable");if(g(se)){for(fe=0,Te=m(O);Te>fe;fe++)if(Ie=ee(O[fe]),Ie&&x(C,Ie))return Ie;return new N(!1)}R=y(O,se)}for(_e=Y?O.next:R.next;!(Z=d(_e,R)).done;){try{Ie=ee(Z.value)}catch(re){w(R,"throw",re)}if(typeof Ie=="object"&&Ie&&x(C,Ie))return Ie}return new N(!1)}}),"./node_modules/core-js/internals/iterator-close-all.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/iterator-close.js");l.exports=function(d,A,f){for(var g=d.length-1;g>=0;g--)if(d[g]!==void 0)try{f=h(d[g].iterator,A,f)}catch(m){A="throw",f=m}if(A==="throw")throw f;return f}}),"./node_modules/core-js/internals/iterator-close.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-call.js"),d=o("./node_modules/core-js/internals/an-object.js"),A=o("./node_modules/core-js/internals/get-method.js");l.exports=function(f,g,m){var x,y;d(f);try{if(x=A(f,"return"),!x){if(g==="throw")throw m;return m}x=h(x,f)}catch(b){y=!0,x=b}if(g==="throw")throw m;if(y)throw x;return d(x),m}}),"./node_modules/core-js/internals/iterator-create-constructor.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,d=o("./node_modules/core-js/internals/object-create.js"),A=o("./node_modules/core-js/internals/create-property-descriptor.js"),f=o("./node_modules/core-js/internals/set-to-string-tag.js"),g=o("./node_modules/core-js/internals/iterators.js"),m=function(){return this};l.exports=function(x,y,b,w){var S=y+" Iterator";return x.prototype=d(h,{next:A(+!w,b)}),f(x,S,!1,!0),g[S]=m,x}}),"./node_modules/core-js/internals/iterator-create-proxy.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-call.js"),d=o("./node_modules/core-js/internals/object-create.js"),A=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),f=o("./node_modules/core-js/internals/define-built-ins.js"),g=o("./node_modules/core-js/internals/well-known-symbol.js"),m=o("./node_modules/core-js/internals/internal-state.js"),x=o("./node_modules/core-js/internals/get-method.js"),y=o("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,b=o("./node_modules/core-js/internals/create-iter-result-object.js"),w=o("./node_modules/core-js/internals/iterator-close.js"),S=o("./node_modules/core-js/internals/iterator-close-all.js"),N=g("toStringTag"),C="IteratorHelper",O="WrapForValidIterator",W="normal",K="throw",te=m.set,q=function(ce){var $=m.getterFor(ce?O:C);return f(d(y),{next:function(){var se=$(this);if(ce)return se.nextHandler();if(se.done)return b(void 0,!0);try{var fe=se.nextHandler();return se.returnHandlerResult?fe:b(fe,se.done)}catch(Te){throw se.done=!0,Te}},return:function(){var R=$(this),se=R.iterator;if(R.done=!0,ce){var fe=x(se,"return");return fe?h(fe,se):b(void 0,!0)}if(R.inner)try{w(R.inner.iterator,W)}catch(Te){return w(se,K,Te)}if(R.openIters)try{S(R.openIters,W)}catch(Te){return w(se,K,Te)}return se&&w(se,W),b(void 0,!0)}})},Y=q(!0),P=q(!1);A(P,N,"Iterator Helper"),l.exports=function(ce,$,R){var se=function(Te,Ie){Ie?(Ie.iterator=Te.iterator,Ie.next=Te.next):Ie=Te,Ie.type=$?O:C,Ie.returnHandlerResult=!!R,Ie.nextHandler=ce,Ie.counter=0,Ie.done=!1,te(this,Ie)};return se.prototype=$?Y:P,se}}),"./node_modules/core-js/internals/iterator-define.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/is-pure.js"),f=o("./node_modules/core-js/internals/function-name.js"),g=o("./node_modules/core-js/internals/is-callable.js"),m=o("./node_modules/core-js/internals/iterator-create-constructor.js"),x=o("./node_modules/core-js/internals/object-get-prototype-of.js"),y=o("./node_modules/core-js/internals/object-set-prototype-of.js"),b=o("./node_modules/core-js/internals/set-to-string-tag.js"),w=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),S=o("./node_modules/core-js/internals/define-built-in.js"),N=o("./node_modules/core-js/internals/well-known-symbol.js"),C=o("./node_modules/core-js/internals/iterators.js"),O=o("./node_modules/core-js/internals/iterators-core.js"),W=f.PROPER,K=f.CONFIGURABLE,te=O.IteratorPrototype,q=O.BUGGY_SAFARI_ITERATORS,Y=N("iterator"),P="keys",ce="values",$="entries",R=function(){return this};l.exports=function(se,fe,Te,Ie,_e,Z,Oe){m(Te,fe,Ie);var ee=function(Ue){if(Ue===_e&&me)return me;if(!q&&Ue&&Ue in Ne)return Ne[Ue];switch(Ue){case P:return function(){return new Te(this,Ue)};case ce:return function(){return new Te(this,Ue)};case $:return function(){return new Te(this,Ue)}}return function(){return new Te(this)}},re=fe+" Iterator",je=!1,Ne=se.prototype,ye=Ne[Y]||Ne["@@iterator"]||_e&&Ne[_e],me=!q&&ye||ee(_e),ie=fe==="Array"&&Ne.entries||ye,le,Ee,Re;if(ie&&(le=x(ie.call(new se)),le!==Object.prototype&&le.next&&(!A&&x(le)!==te&&(y?y(le,te):g(le[Y])||S(le,Y,R)),b(le,re,!0,!0),A&&(C[re]=R))),W&&_e===ce&&ye&&ye.name!==ce&&(!A&&K?w(Ne,"name",ce):(je=!0,me=function(){return d(ye,this)})),_e)if(Ee={values:ee(ce),keys:Z?me:ee(P),entries:ee($)},Oe)for(Re in Ee)(q||je||!(Re in Ne))&&S(Ne,Re,Ee[Re]);else h({target:fe,proto:!0,forced:q||je},Ee);return(!A||Oe)&&Ne[Y]!==me&&S(Ne,Y,me,{name:_e}),C[fe]=me,Ee}}),"./node_modules/core-js/internals/iterator-helper-throws-on-invalid-iterator.js":(function(l){l.exports=function(u,o){var h=typeof Iterator=="function"&&Iterator.prototype[u];if(h)try{h.call({next:null},o).next()}catch{return!0}}}),"./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js");l.exports=function(d,A){var f=h.Iterator,g=f&&f.prototype,m=g&&g[d],x=!1;if(m)try{m.call({next:function(){return{done:!0}},return:function(){x=!0}},-1)}catch(y){y instanceof A||(x=!1)}if(!x)return m}}),"./node_modules/core-js/internals/iterators-core.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/fails.js"),d=o("./node_modules/core-js/internals/is-callable.js"),A=o("./node_modules/core-js/internals/is-object.js"),f=o("./node_modules/core-js/internals/object-create.js"),g=o("./node_modules/core-js/internals/object-get-prototype-of.js"),m=o("./node_modules/core-js/internals/define-built-in.js"),x=o("./node_modules/core-js/internals/well-known-symbol.js"),y=o("./node_modules/core-js/internals/is-pure.js"),b=x("iterator"),w=!1,S,N,C;[].keys&&(C=[].keys(),"next"in C?(N=g(g(C)),N!==Object.prototype&&(S=N)):w=!0);var O=!A(S)||h(function(){var W={};return S[b].call(W)!==W});O?S={}:y&&(S=f(S)),d(S[b])||m(S,b,function(){return this}),l.exports={IteratorPrototype:S,BUGGY_SAFARI_ITERATORS:w}}),"./node_modules/core-js/internals/iterators.js":(function(l){l.exports={}}),"./node_modules/core-js/internals/length-of-array-like.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/to-length.js");l.exports=function(d){return h(d.length)}}),"./node_modules/core-js/internals/make-built-in.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this.js"),d=o("./node_modules/core-js/internals/fails.js"),A=o("./node_modules/core-js/internals/is-callable.js"),f=o("./node_modules/core-js/internals/has-own-property.js"),g=o("./node_modules/core-js/internals/descriptors.js"),m=o("./node_modules/core-js/internals/function-name.js").CONFIGURABLE,x=o("./node_modules/core-js/internals/inspect-source.js"),y=o("./node_modules/core-js/internals/internal-state.js"),b=y.enforce,w=y.get,S=String,N=Object.defineProperty,C=h("".slice),O=h("".replace),W=h([].join),K=g&&!d(function(){return N(function(){},"length",{value:8}).length!==8}),te=String(String).split("String"),q=l.exports=function(Y,P,ce){C(S(P),0,7)==="Symbol("&&(P="["+O(S(P),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),ce&&ce.getter&&(P="get "+P),ce&&ce.setter&&(P="set "+P),(!f(Y,"name")||m&&Y.name!==P)&&(g?N(Y,"name",{value:P,configurable:!0}):Y.name=P),K&&ce&&f(ce,"arity")&&Y.length!==ce.arity&&N(Y,"length",{value:ce.arity});try{ce&&f(ce,"constructor")&&ce.constructor?g&&N(Y,"prototype",{writable:!1}):Y.prototype&&(Y.prototype=void 0)}catch{}var $=b(Y);return f($,"source")||($.source=W(te,typeof P=="string"?P:"")),Y};Function.prototype.toString=q(function(){return A(this)&&w(this).source||x(this)},"toString")}),"./node_modules/core-js/internals/math-trunc.js":(function(l){var u=Math.ceil,o=Math.floor;l.exports=Math.trunc||function(d){var A=+d;return(A>0?o:u)(A)}}),"./node_modules/core-js/internals/microtask.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js"),d=o("./node_modules/core-js/internals/safe-get-built-in.js"),A=o("./node_modules/core-js/internals/function-bind-context.js"),f=o("./node_modules/core-js/internals/task.js").set,g=o("./node_modules/core-js/internals/queue.js"),m=o("./node_modules/core-js/internals/environment-is-ios.js"),x=o("./node_modules/core-js/internals/environment-is-ios-pebble.js"),y=o("./node_modules/core-js/internals/environment-is-webos-webkit.js"),b=o("./node_modules/core-js/internals/environment-is-node.js"),w=h.MutationObserver||h.WebKitMutationObserver,S=h.document,N=h.process,C=h.Promise,O=d("queueMicrotask"),W,K,te,q,Y;if(!O){var P=new g,ce=function(){var $,R;for(b&&($=N.domain)&&$.exit();R=P.get();)try{R()}catch(se){throw P.head&&W(),se}$&&$.enter()};!m&&!b&&!y&&w&&S?(K=!0,te=S.createTextNode(""),new w(ce).observe(te,{characterData:!0}),W=function(){te.data=K=!K}):!x&&C&&C.resolve?(q=C.resolve(void 0),q.constructor=C,Y=A(q.then,q),W=function(){Y(ce)}):b?W=function(){N.nextTick(ce)}:(f=A(f,h),W=function(){f(ce)}),O=function($){P.head||W(),P.add($)}}l.exports=O}),"./node_modules/core-js/internals/native-raw-json.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/fails.js");l.exports=!h(function(){var d="9007199254740993",A=JSON.rawJSON(d);return!JSON.isRawJSON(A)||JSON.stringify(A)!==d})}),"./node_modules/core-js/internals/new-promise-capability.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/a-callable.js"),d=TypeError,A=function(f){var g,m;this.promise=new f(function(x,y){if(g!==void 0||m!==void 0)throw new d("Bad Promise constructor");g=x,m=y}),this.resolve=h(g),this.reject=h(m)};l.exports.f=function(f){return new A(f)}}),"./node_modules/core-js/internals/not-a-regexp.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/is-regexp.js"),d=TypeError;l.exports=function(A){if(h(A))throw new d("The method doesn't accept regular expressions");return A}}),"./node_modules/core-js/internals/object-assign.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/descriptors.js"),d=o("./node_modules/core-js/internals/function-uncurry-this.js"),A=o("./node_modules/core-js/internals/function-call.js"),f=o("./node_modules/core-js/internals/fails.js"),g=o("./node_modules/core-js/internals/object-keys.js"),m=o("./node_modules/core-js/internals/object-get-own-property-symbols.js"),x=o("./node_modules/core-js/internals/object-property-is-enumerable.js"),y=o("./node_modules/core-js/internals/to-object.js"),b=o("./node_modules/core-js/internals/indexed-object.js"),w=Object.assign,S=Object.defineProperty,N=d([].concat);l.exports=!w||f(function(){if(h&&w({b:1},w(S({},"a",{enumerable:!0,get:function(){S(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var C={},O={},W=Symbol("assign detection"),K="abcdefghijklmnopqrst";return C[W]=7,K.split("").forEach(function(te){O[te]=te}),w({},C)[W]!==7||g(w({},O)).join("")!==K})?function(O,W){for(var K=y(O),te=arguments.length,q=1,Y=m.f,P=x.f;te>q;)for(var ce=b(arguments[q++]),$=Y?N(g(ce),Y(ce)):g(ce),R=$.length,se=0,fe;R>se;)fe=$[se++],(!h||A(P,ce,fe))&&(K[fe]=ce[fe]);return K}:w}),"./node_modules/core-js/internals/object-create.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/an-object.js"),d=o("./node_modules/core-js/internals/object-define-properties.js"),A=o("./node_modules/core-js/internals/enum-bug-keys.js"),f=o("./node_modules/core-js/internals/hidden-keys.js"),g=o("./node_modules/core-js/internals/html.js"),m=o("./node_modules/core-js/internals/document-create-element.js"),x=o("./node_modules/core-js/internals/shared-key.js"),y=">",b="<",w="prototype",S="script",N=x("IE_PROTO"),C=function(){},O=function(Y){return b+S+y+Y+b+"/"+S+y},W=function(Y){Y.write(O("")),Y.close();var P=Y.parentWindow.Object;return Y=null,P},K=function(){var Y=m("iframe"),P="java"+S+":",ce;return Y.style.display="none",g.appendChild(Y),Y.src=String(P),ce=Y.contentWindow.document,ce.open(),ce.write(O("document.F=Object")),ce.close(),ce.F},te,q=function(){try{te=new ActiveXObject("htmlfile")}catch{}q=typeof document<"u"?document.domain&&te?W(te):K():W(te);for(var Y=A.length;Y--;)delete q[w][A[Y]];return q()};f[N]=!0,l.exports=Object.create||function(P,ce){var $;return P!==null?(C[w]=h(P),$=new C,C[w]=null,$[N]=P):$=q(),ce===void 0?$:d.f($,ce)}}),"./node_modules/core-js/internals/object-define-properties.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/descriptors.js"),d=o("./node_modules/core-js/internals/v8-prototype-define-bug.js"),A=o("./node_modules/core-js/internals/object-define-property.js"),f=o("./node_modules/core-js/internals/an-object.js"),g=o("./node_modules/core-js/internals/to-indexed-object.js"),m=o("./node_modules/core-js/internals/object-keys.js");u.f=h&&!d?Object.defineProperties:function(y,b){f(y);for(var w=g(b),S=m(b),N=S.length,C=0,O;N>C;)A.f(y,O=S[C++],w[O]);return y}}),"./node_modules/core-js/internals/object-define-property.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/descriptors.js"),d=o("./node_modules/core-js/internals/ie8-dom-define.js"),A=o("./node_modules/core-js/internals/v8-prototype-define-bug.js"),f=o("./node_modules/core-js/internals/an-object.js"),g=o("./node_modules/core-js/internals/to-property-key.js"),m=TypeError,x=Object.defineProperty,y=Object.getOwnPropertyDescriptor,b="enumerable",w="configurable",S="writable";u.f=h?A?function(C,O,W){if(f(C),O=g(O),f(W),typeof C=="function"&&O==="prototype"&&"value"in W&&S in W&&!W[S]){var K=y(C,O);K&&K[S]&&(C[O]=W.value,W={configurable:w in W?W[w]:K[w],enumerable:b in W?W[b]:K[b],writable:!1})}return x(C,O,W)}:x:function(C,O,W){if(f(C),O=g(O),f(W),d)try{return x(C,O,W)}catch{}if("get"in W||"set"in W)throw new m("Accessors not supported");return"value"in W&&(C[O]=W.value),C}}),"./node_modules/core-js/internals/object-get-own-property-descriptor.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/descriptors.js"),d=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/object-property-is-enumerable.js"),f=o("./node_modules/core-js/internals/create-property-descriptor.js"),g=o("./node_modules/core-js/internals/to-indexed-object.js"),m=o("./node_modules/core-js/internals/to-property-key.js"),x=o("./node_modules/core-js/internals/has-own-property.js"),y=o("./node_modules/core-js/internals/ie8-dom-define.js"),b=Object.getOwnPropertyDescriptor;u.f=h?b:function(S,N){if(S=g(S),N=m(N),y)try{return b(S,N)}catch{}if(x(S,N))return f(!d(A.f,S,N),S[N])}}),"./node_modules/core-js/internals/object-get-own-property-names-external.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/classof-raw.js"),d=o("./node_modules/core-js/internals/to-indexed-object.js"),A=o("./node_modules/core-js/internals/object-get-own-property-names.js").f,f=o("./node_modules/core-js/internals/array-slice.js"),g=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],m=function(x){try{return A(x)}catch{return f(g)}};l.exports.f=function(y){return g&&h(y)==="Window"?m(y):A(d(y))}}),"./node_modules/core-js/internals/object-get-own-property-names.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/object-keys-internal.js"),d=o("./node_modules/core-js/internals/enum-bug-keys.js"),A=d.concat("length","prototype");u.f=Object.getOwnPropertyNames||function(g){return h(g,A)}}),"./node_modules/core-js/internals/object-get-own-property-symbols.js":(function(l,u){u.f=Object.getOwnPropertySymbols}),"./node_modules/core-js/internals/object-get-prototype-of.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/has-own-property.js"),d=o("./node_modules/core-js/internals/is-callable.js"),A=o("./node_modules/core-js/internals/to-object.js"),f=o("./node_modules/core-js/internals/shared-key.js"),g=o("./node_modules/core-js/internals/correct-prototype-getter.js"),m=f("IE_PROTO"),x=Object,y=x.prototype;l.exports=g?x.getPrototypeOf:function(b){var w=A(b);if(h(w,m))return w[m];var S=w.constructor;return d(S)&&w instanceof S?S.prototype:w instanceof x?y:null}}),"./node_modules/core-js/internals/object-is-extensible.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/fails.js"),d=o("./node_modules/core-js/internals/is-object.js"),A=o("./node_modules/core-js/internals/classof-raw.js"),f=o("./node_modules/core-js/internals/array-buffer-non-extensible.js"),g=Object.isExtensible,m=h(function(){});l.exports=m||f?function(y){return!d(y)||f&&A(y)==="ArrayBuffer"?!1:g?g(y):!0}:g}),"./node_modules/core-js/internals/object-is-prototype-of.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this.js");l.exports=h({}.isPrototypeOf)}),"./node_modules/core-js/internals/object-keys-internal.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this.js"),d=o("./node_modules/core-js/internals/has-own-property.js"),A=o("./node_modules/core-js/internals/to-indexed-object.js"),f=o("./node_modules/core-js/internals/array-includes.js").indexOf,g=o("./node_modules/core-js/internals/hidden-keys.js"),m=h([].push);l.exports=function(x,y){var b=A(x),w=0,S=[],N;for(N in b)!d(g,N)&&d(b,N)&&m(S,N);for(;y.length>w;)d(b,N=y[w++])&&(~f(S,N)||m(S,N));return S}}),"./node_modules/core-js/internals/object-keys.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/object-keys-internal.js"),d=o("./node_modules/core-js/internals/enum-bug-keys.js");l.exports=Object.keys||function(f){return h(f,d)}}),"./node_modules/core-js/internals/object-property-is-enumerable.js":(function(l,u){var o={}.propertyIsEnumerable,h=Object.getOwnPropertyDescriptor,d=h&&!o.call({1:2},1);u.f=d?function(f){var g=h(this,f);return!!g&&g.enumerable}:o}),"./node_modules/core-js/internals/object-set-prototype-of.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this-accessor.js"),d=o("./node_modules/core-js/internals/is-object.js"),A=o("./node_modules/core-js/internals/require-object-coercible.js"),f=o("./node_modules/core-js/internals/a-possible-prototype.js");l.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var g=!1,m={},x;try{x=h(Object.prototype,"__proto__","set"),x(m,[]),g=m instanceof Array}catch{}return function(b,w){return A(b),f(w),d(b)&&(g?x(b,w):b.__proto__=w),b}})():void 0)}),"./node_modules/core-js/internals/object-to-string.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/to-string-tag-support.js"),d=o("./node_modules/core-js/internals/classof.js");l.exports=h?{}.toString:function(){return"[object "+d(this)+"]"}}),"./node_modules/core-js/internals/ordinary-to-primitive.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-call.js"),d=o("./node_modules/core-js/internals/is-callable.js"),A=o("./node_modules/core-js/internals/is-object.js"),f=TypeError;l.exports=function(g,m){var x,y;if(m==="string"&&d(x=g.toString)&&!A(y=h(x,g))||d(x=g.valueOf)&&!A(y=h(x,g))||m!=="string"&&d(x=g.toString)&&!A(y=h(x,g)))return y;throw new f("Can't convert object to primitive value")}}),"./node_modules/core-js/internals/own-keys.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/get-built-in.js"),d=o("./node_modules/core-js/internals/function-uncurry-this.js"),A=o("./node_modules/core-js/internals/object-get-own-property-names.js"),f=o("./node_modules/core-js/internals/object-get-own-property-symbols.js"),g=o("./node_modules/core-js/internals/an-object.js"),m=d([].concat);l.exports=h("Reflect","ownKeys")||function(y){var b=A.f(g(y)),w=f.f;return w?m(b,w(y)):b}}),"./node_modules/core-js/internals/parse-json-string.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this.js"),d=o("./node_modules/core-js/internals/has-own-property.js"),A=SyntaxError,f=parseInt,g=String.fromCharCode,m=h("".charAt),x=h("".slice),y=h(/./.exec),b={'\\"':'"',"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":`
`,"\\r":"\r","\\t":"	"},w=/^[\da-f]{4}$/i,S=/^[\u0000-\u001F]$/;l.exports=function(N,C){for(var O=!0,W="";C<N.length;){var K=m(N,C);if(K==="\\"){var te=x(N,C,C+2);if(d(b,te))W+=b[te],C+=2;else if(te==="\\u"){C+=2;var q=x(N,C,C+4);if(!y(w,q))throw new A("Bad Unicode escape at: "+C);W+=g(f(q,16)),C+=4}else throw new A('Unknown escape sequence: "'+te+'"')}else if(K==='"'){O=!1,C++;break}else{if(y(S,K))throw new A("Bad control character in string literal at: "+C);W+=K,C++}}if(O)throw new A("Unterminated string at: "+C);return{value:W,end:C}}}),"./node_modules/core-js/internals/path.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js");l.exports=h}),"./node_modules/core-js/internals/perform.js":(function(l){l.exports=function(u){try{return{error:!1,value:u()}}catch(o){return{error:!0,value:o}}}}),"./node_modules/core-js/internals/promise-constructor-detection.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js"),d=o("./node_modules/core-js/internals/promise-native-constructor.js"),A=o("./node_modules/core-js/internals/is-callable.js"),f=o("./node_modules/core-js/internals/is-forced.js"),g=o("./node_modules/core-js/internals/inspect-source.js"),m=o("./node_modules/core-js/internals/well-known-symbol.js"),x=o("./node_modules/core-js/internals/environment.js"),y=o("./node_modules/core-js/internals/is-pure.js"),b=o("./node_modules/core-js/internals/environment-v8-version.js"),w=d&&d.prototype,S=m("species"),N=!1,C=A(h.PromiseRejectionEvent),O=f("Promise",function(){var W=g(d),K=W!==String(d);if(!K&&b===66||y&&!(w.catch&&w.finally))return!0;if(!b||b<51||!/native code/.test(W)){var te=new d(function(P){P(1)}),q=function(P){P(function(){},function(){})},Y=te.constructor={};if(Y[S]=q,N=te.then(function(){})instanceof q,!N)return!0}return!K&&(x==="BROWSER"||x==="DENO")&&!C});l.exports={CONSTRUCTOR:O,REJECTION_EVENT:C,SUBCLASSING:N}}),"./node_modules/core-js/internals/promise-native-constructor.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js");l.exports=h.Promise}),"./node_modules/core-js/internals/promise-resolve.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/an-object.js"),d=o("./node_modules/core-js/internals/is-object.js"),A=o("./node_modules/core-js/internals/new-promise-capability.js");l.exports=function(f,g){if(h(f),d(g)&&g.constructor===f)return g;var m=A.f(f),x=m.resolve;return x(g),m.promise}}),"./node_modules/core-js/internals/promise-statics-incorrect-iteration.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/promise-native-constructor.js"),d=o("./node_modules/core-js/internals/check-correctness-of-iteration.js"),A=o("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR;l.exports=A||!d(function(f){h.all(f).then(void 0,function(){})})}),"./node_modules/core-js/internals/queue.js":(function(l){var u=function(){this.head=null,this.tail=null};u.prototype={add:function(o){var h={item:o,next:null},d=this.tail;d?d.next=h:this.head=h,this.tail=h},get:function(){var o=this.head;if(o){var h=this.head=o.next;return h===null&&(this.tail=null),o.item}}},l.exports=u}),"./node_modules/core-js/internals/regexp-exec-abstract.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-call.js"),d=o("./node_modules/core-js/internals/an-object.js"),A=o("./node_modules/core-js/internals/is-callable.js"),f=o("./node_modules/core-js/internals/classof-raw.js"),g=o("./node_modules/core-js/internals/regexp-exec.js"),m=TypeError;l.exports=function(x,y){var b=x.exec;if(A(b)){var w=h(b,x,y);return w!==null&&d(w),w}if(f(x)==="RegExp")return h(g,x,y);throw new m("RegExp#exec called on incompatible receiver")}}),"./node_modules/core-js/internals/regexp-exec.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-call.js"),d=o("./node_modules/core-js/internals/function-uncurry-this.js"),A=o("./node_modules/core-js/internals/to-string.js"),f=o("./node_modules/core-js/internals/regexp-flags.js"),g=o("./node_modules/core-js/internals/regexp-sticky-helpers.js"),m=o("./node_modules/core-js/internals/shared.js"),x=o("./node_modules/core-js/internals/object-create.js"),y=o("./node_modules/core-js/internals/internal-state.js").get,b=o("./node_modules/core-js/internals/regexp-unsupported-dot-all.js"),w=o("./node_modules/core-js/internals/regexp-unsupported-ncg.js"),S=m("native-string-replace",String.prototype.replace),N=RegExp.prototype.exec,C=N,O=d("".charAt),W=d("".indexOf),K=d("".replace),te=d("".slice),q=(function(){var $=/a/,R=/b*/g;return h(N,$,"a"),h(N,R,"a"),$.lastIndex!==0||R.lastIndex!==0})(),Y=g.BROKEN_CARET,P=/()??/.exec("")[1]!==void 0,ce=q||P||Y||b||w;ce&&(C=function(R){var se=this,fe=y(se),Te=A(R),Ie=fe.raw,_e,Z,Oe,ee,re,je,Ne;if(Ie)return Ie.lastIndex=se.lastIndex,_e=h(C,Ie,Te),se.lastIndex=Ie.lastIndex,_e;var ye=fe.groups,me=Y&&se.sticky,ie=h(f,se),le=se.source,Ee=0,Re=Te;if(me&&(ie=K(ie,"y",""),W(ie,"g")===-1&&(ie+="g"),Re=te(Te,se.lastIndex),se.lastIndex>0&&(!se.multiline||se.multiline&&O(Te,se.lastIndex-1)!==`
`)&&(le="(?: "+le+")",Re=" "+Re,Ee++),Z=new RegExp("^(?:"+le+")",ie)),P&&(Z=new RegExp("^"+le+"$(?!\\s)",ie)),q&&(Oe=se.lastIndex),ee=h(N,me?Z:se,Re),me?ee?(ee.input=te(ee.input,Ee),ee[0]=te(ee[0],Ee),ee.index=se.lastIndex,se.lastIndex+=ee[0].length):se.lastIndex=0:q&&ee&&(se.lastIndex=se.global?ee.index+ee[0].length:Oe),P&&ee&&ee.length>1&&h(S,ee[0],Z,function(){for(re=1;re<arguments.length-2;re++)arguments[re]===void 0&&(ee[re]=void 0)}),ee&&ye)for(ee.groups=je=x(null),re=0;re<ye.length;re++)Ne=ye[re],je[Ne[0]]=ee[Ne[1]];return ee}),l.exports=C}),"./node_modules/core-js/internals/regexp-flags-detection.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js"),d=o("./node_modules/core-js/internals/fails.js"),A=h.RegExp,f=!d(function(){var g=!0;try{A(".","d")}catch{g=!1}var m={},x="",y=g?"dgimsy":"gimsy",b=function(C,O){Object.defineProperty(m,C,{get:function(){return x+=O,!0}})},w={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};g&&(w.hasIndices="d");for(var S in w)b(S,w[S]);var N=Object.getOwnPropertyDescriptor(A.prototype,"flags").get.call(m);return N!==y||x!==y});l.exports={correct:f}}),"./node_modules/core-js/internals/regexp-flags.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/an-object.js");l.exports=function(){var d=h(this),A="";return d.hasIndices&&(A+="d"),d.global&&(A+="g"),d.ignoreCase&&(A+="i"),d.multiline&&(A+="m"),d.dotAll&&(A+="s"),d.unicode&&(A+="u"),d.unicodeSets&&(A+="v"),d.sticky&&(A+="y"),A}}),"./node_modules/core-js/internals/regexp-get-flags.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-call.js"),d=o("./node_modules/core-js/internals/has-own-property.js"),A=o("./node_modules/core-js/internals/object-is-prototype-of.js"),f=o("./node_modules/core-js/internals/regexp-flags-detection.js"),g=o("./node_modules/core-js/internals/regexp-flags.js"),m=RegExp.prototype;l.exports=f.correct?function(x){return x.flags}:function(x){return!f.correct&&A(m,x)&&!d(x,"flags")?h(g,x):x.flags}}),"./node_modules/core-js/internals/regexp-sticky-helpers.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/fails.js"),d=o("./node_modules/core-js/internals/global-this.js"),A=d.RegExp,f=h(function(){var x=A("a","y");return x.lastIndex=2,x.exec("abcd")!==null}),g=f||h(function(){return!A("a","y").sticky}),m=f||h(function(){var x=A("^r","gy");return x.lastIndex=2,x.exec("str")!==null});l.exports={BROKEN_CARET:m,MISSED_STICKY:g,UNSUPPORTED_Y:f}}),"./node_modules/core-js/internals/regexp-unsupported-dot-all.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/fails.js"),d=o("./node_modules/core-js/internals/global-this.js"),A=d.RegExp;l.exports=h(function(){var f=A(".","s");return!(f.dotAll&&f.test(`
`)&&f.flags==="s")})}),"./node_modules/core-js/internals/regexp-unsupported-ncg.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/fails.js"),d=o("./node_modules/core-js/internals/global-this.js"),A=d.RegExp;l.exports=h(function(){var f=A("(?<a>b)","g");return f.exec("b").groups.a!=="b"||"b".replace(f,"$<a>c")!=="bc"})}),"./node_modules/core-js/internals/require-object-coercible.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/is-null-or-undefined.js"),d=TypeError;l.exports=function(A){if(h(A))throw new d("Can't call method on "+A);return A}}),"./node_modules/core-js/internals/safe-get-built-in.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js"),d=o("./node_modules/core-js/internals/descriptors.js"),A=Object.getOwnPropertyDescriptor;l.exports=function(f){if(!d)return h[f];var g=A(h,f);return g&&g.value}}),"./node_modules/core-js/internals/schedulers-fix.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js"),d=o("./node_modules/core-js/internals/function-apply.js"),A=o("./node_modules/core-js/internals/is-callable.js"),f=o("./node_modules/core-js/internals/environment.js"),g=o("./node_modules/core-js/internals/environment-user-agent.js"),m=o("./node_modules/core-js/internals/array-slice.js"),x=o("./node_modules/core-js/internals/validate-arguments-length.js"),y=h.Function,b=/MSIE .\./.test(g)||f==="BUN"&&(function(){var w=h.Bun.version.split(".");return w.length<3||w[0]==="0"&&(w[1]<3||w[1]==="3"&&w[2]==="0")})();l.exports=function(w,S){var N=S?2:1;return b?function(C,O){var W=x(arguments.length,1)>N,K=A(C)?C:y(C),te=W?m(arguments,N):[],q=W?function(){d(K,this,te)}:K;return S?w(q,O):w(q)}:w}}),"./node_modules/core-js/internals/set-clone.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/set-helpers.js"),d=o("./node_modules/core-js/internals/set-iterate.js"),A=h.Set,f=h.add;l.exports=function(g){var m=new A;return d(g,function(x){f(m,x)}),m}}),"./node_modules/core-js/internals/set-difference.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/a-set.js"),d=o("./node_modules/core-js/internals/set-helpers.js"),A=o("./node_modules/core-js/internals/set-clone.js"),f=o("./node_modules/core-js/internals/set-size.js"),g=o("./node_modules/core-js/internals/get-set-record.js"),m=o("./node_modules/core-js/internals/set-iterate.js"),x=o("./node_modules/core-js/internals/iterate-simple.js"),y=d.has,b=d.remove;l.exports=function(S){var N=h(this),C=g(S),O=A(N);return f(N)<=C.size?m(N,function(W){C.includes(W)&&b(O,W)}):x(C.getIterator(),function(W){y(O,W)&&b(O,W)}),O}}),"./node_modules/core-js/internals/set-helpers.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this.js"),d=Set.prototype;l.exports={Set,add:h(d.add),has:h(d.has),remove:h(d.delete),proto:d}}),"./node_modules/core-js/internals/set-intersection.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/a-set.js"),d=o("./node_modules/core-js/internals/set-helpers.js"),A=o("./node_modules/core-js/internals/set-size.js"),f=o("./node_modules/core-js/internals/get-set-record.js"),g=o("./node_modules/core-js/internals/set-iterate.js"),m=o("./node_modules/core-js/internals/iterate-simple.js"),x=d.Set,y=d.add,b=d.has;l.exports=function(S){var N=h(this),C=f(S),O=new x;return A(N)>C.size?m(C.getIterator(),function(W){b(N,W)&&y(O,W)}):g(N,function(W){C.includes(W)&&y(O,W)}),O}}),"./node_modules/core-js/internals/set-is-disjoint-from.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/a-set.js"),d=o("./node_modules/core-js/internals/set-helpers.js").has,A=o("./node_modules/core-js/internals/set-size.js"),f=o("./node_modules/core-js/internals/get-set-record.js"),g=o("./node_modules/core-js/internals/set-iterate.js"),m=o("./node_modules/core-js/internals/iterate-simple.js"),x=o("./node_modules/core-js/internals/iterator-close.js");l.exports=function(b){var w=h(this),S=f(b);if(A(w)<=S.size)return g(w,function(C){if(S.includes(C))return!1},!0)!==!1;var N=S.getIterator();return m(N,function(C){if(d(w,C))return x(N,"normal",!1)})!==!1}}),"./node_modules/core-js/internals/set-is-subset-of.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/a-set.js"),d=o("./node_modules/core-js/internals/set-size.js"),A=o("./node_modules/core-js/internals/set-iterate.js"),f=o("./node_modules/core-js/internals/get-set-record.js");l.exports=function(m){var x=h(this),y=f(m);return d(x)>y.size?!1:A(x,function(b){if(!y.includes(b))return!1},!0)!==!1}}),"./node_modules/core-js/internals/set-is-superset-of.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/a-set.js"),d=o("./node_modules/core-js/internals/set-helpers.js").has,A=o("./node_modules/core-js/internals/set-size.js"),f=o("./node_modules/core-js/internals/get-set-record.js"),g=o("./node_modules/core-js/internals/iterate-simple.js"),m=o("./node_modules/core-js/internals/iterator-close.js");l.exports=function(y){var b=h(this),w=f(y);if(A(b)<w.size)return!1;var S=w.getIterator();return g(S,function(N){if(!d(b,N))return m(S,"normal",!1)})!==!1}}),"./node_modules/core-js/internals/set-iterate.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this.js"),d=o("./node_modules/core-js/internals/iterate-simple.js"),A=o("./node_modules/core-js/internals/set-helpers.js"),f=A.Set,g=A.proto,m=h(g.forEach),x=h(g.keys),y=x(new f).next;l.exports=function(b,w,S){return S?d({iterator:x(b),next:y},w):m(b,w)}}),"./node_modules/core-js/internals/set-size.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this-accessor.js"),d=o("./node_modules/core-js/internals/set-helpers.js");l.exports=h(d.proto,"size","get")||function(A){return A.size}}),"./node_modules/core-js/internals/set-species.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/get-built-in.js"),d=o("./node_modules/core-js/internals/define-built-in-accessor.js"),A=o("./node_modules/core-js/internals/well-known-symbol.js"),f=o("./node_modules/core-js/internals/descriptors.js"),g=A("species");l.exports=function(m){var x=h(m);f&&x&&!x[g]&&d(x,g,{configurable:!0,get:function(){return this}})}}),"./node_modules/core-js/internals/set-symmetric-difference.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/a-set.js"),d=o("./node_modules/core-js/internals/set-helpers.js"),A=o("./node_modules/core-js/internals/set-clone.js"),f=o("./node_modules/core-js/internals/get-set-record.js"),g=o("./node_modules/core-js/internals/iterate-simple.js"),m=d.add,x=d.has,y=d.remove;l.exports=function(w){var S=h(this),N=f(w).getIterator(),C=A(S);return g(N,function(O){x(S,O)?y(C,O):m(C,O)}),C}}),"./node_modules/core-js/internals/set-to-string-tag.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/object-define-property.js").f,d=o("./node_modules/core-js/internals/has-own-property.js"),A=o("./node_modules/core-js/internals/well-known-symbol.js"),f=A("toStringTag");l.exports=function(g,m,x){g&&!x&&(g=g.prototype),g&&!d(g,f)&&h(g,f,{configurable:!0,value:m})}}),"./node_modules/core-js/internals/set-union.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/a-set.js"),d=o("./node_modules/core-js/internals/set-helpers.js").add,A=o("./node_modules/core-js/internals/set-clone.js"),f=o("./node_modules/core-js/internals/get-set-record.js"),g=o("./node_modules/core-js/internals/iterate-simple.js");l.exports=function(x){var y=h(this),b=f(x).getIterator(),w=A(y);return g(b,function(S){d(w,S)}),w}}),"./node_modules/core-js/internals/shared-key.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/shared.js"),d=o("./node_modules/core-js/internals/uid.js"),A=h("keys");l.exports=function(f){return A[f]||(A[f]=d(f))}}),"./node_modules/core-js/internals/shared-store.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/is-pure.js"),d=o("./node_modules/core-js/internals/global-this.js"),A=o("./node_modules/core-js/internals/define-global-property.js"),f="__core-js_shared__",g=l.exports=d[f]||A(f,{});(g.versions||(g.versions=[])).push({version:"3.47.0",mode:h?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru), 2025 CoreJS Company (core-js.io)",license:"https://github.com/zloirock/core-js/blob/v3.47.0/LICENSE",source:"https://github.com/zloirock/core-js"})}),"./node_modules/core-js/internals/shared.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/shared-store.js");l.exports=function(d,A){return h[d]||(h[d]=A||{})}}),"./node_modules/core-js/internals/species-constructor.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/an-object.js"),d=o("./node_modules/core-js/internals/a-constructor.js"),A=o("./node_modules/core-js/internals/is-null-or-undefined.js"),f=o("./node_modules/core-js/internals/well-known-symbol.js"),g=f("species");l.exports=function(m,x){var y=h(m).constructor,b;return y===void 0||A(b=h(y)[g])?x:d(b)}}),"./node_modules/core-js/internals/string-html-forced.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/fails.js");l.exports=function(d){return h(function(){var A=""[d]('"');return A!==A.toLowerCase()||A.split('"').length>3})}}),"./node_modules/core-js/internals/string-multibyte.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this.js"),d=o("./node_modules/core-js/internals/to-integer-or-infinity.js"),A=o("./node_modules/core-js/internals/to-string.js"),f=o("./node_modules/core-js/internals/require-object-coercible.js"),g=h("".charAt),m=h("".charCodeAt),x=h("".slice),y=function(b){return function(w,S){var N=A(f(w)),C=d(S),O=N.length,W,K;return C<0||C>=O?b?"":void 0:(W=m(N,C),W<55296||W>56319||C+1===O||(K=m(N,C+1))<56320||K>57343?b?g(N,C):W:b?x(N,C,C+2):(W-55296<<10)+(K-56320)+65536)}};l.exports={codeAt:y(!1),charAt:y(!0)}}),"./node_modules/core-js/internals/string-trim-forced.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-name.js").PROPER,d=o("./node_modules/core-js/internals/fails.js"),A=o("./node_modules/core-js/internals/whitespaces.js"),f="";l.exports=function(g){return d(function(){return!!A[g]()||f[g]()!==f||h&&A[g].name!==g})}}),"./node_modules/core-js/internals/string-trim.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this.js"),d=o("./node_modules/core-js/internals/require-object-coercible.js"),A=o("./node_modules/core-js/internals/to-string.js"),f=o("./node_modules/core-js/internals/whitespaces.js"),g=h("".replace),m=RegExp("^["+f+"]+"),x=RegExp("(^|[^"+f+"])["+f+"]+$"),y=function(b){return function(w){var S=A(d(w));return b&1&&(S=g(S,m,"")),b&2&&(S=g(S,x,"$1")),S}};l.exports={start:y(1),end:y(2),trim:y(3)}}),"./node_modules/core-js/internals/symbol-constructor-detection.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/environment-v8-version.js"),d=o("./node_modules/core-js/internals/fails.js"),A=o("./node_modules/core-js/internals/global-this.js"),f=A.String;l.exports=!!Object.getOwnPropertySymbols&&!d(function(){var g=Symbol("symbol detection");return!f(g)||!(Object(g)instanceof Symbol)||!Symbol.sham&&h&&h<41})}),"./node_modules/core-js/internals/symbol-define-to-primitive.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-call.js"),d=o("./node_modules/core-js/internals/get-built-in.js"),A=o("./node_modules/core-js/internals/well-known-symbol.js"),f=o("./node_modules/core-js/internals/define-built-in.js");l.exports=function(){var g=d("Symbol"),m=g&&g.prototype,x=m&&m.valueOf,y=A("toPrimitive");m&&!m[y]&&f(m,y,function(b){return h(x,this)},{arity:1})}}),"./node_modules/core-js/internals/symbol-registry-detection.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/symbol-constructor-detection.js");l.exports=h&&!!Symbol.for&&!!Symbol.keyFor}),"./node_modules/core-js/internals/task.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js"),d=o("./node_modules/core-js/internals/function-apply.js"),A=o("./node_modules/core-js/internals/function-bind-context.js"),f=o("./node_modules/core-js/internals/is-callable.js"),g=o("./node_modules/core-js/internals/has-own-property.js"),m=o("./node_modules/core-js/internals/fails.js"),x=o("./node_modules/core-js/internals/html.js"),y=o("./node_modules/core-js/internals/array-slice.js"),b=o("./node_modules/core-js/internals/document-create-element.js"),w=o("./node_modules/core-js/internals/validate-arguments-length.js"),S=o("./node_modules/core-js/internals/environment-is-ios.js"),N=o("./node_modules/core-js/internals/environment-is-node.js"),C=h.setImmediate,O=h.clearImmediate,W=h.process,K=h.Dispatch,te=h.Function,q=h.MessageChannel,Y=h.String,P=0,ce={},$="onreadystatechange",R,se,fe,Te;m(function(){R=h.location});var Ie=function(ee){if(g(ce,ee)){var re=ce[ee];delete ce[ee],re()}},_e=function(ee){return function(){Ie(ee)}},Z=function(ee){Ie(ee.data)},Oe=function(ee){h.postMessage(Y(ee),R.protocol+"//"+R.host)};(!C||!O)&&(C=function(re){w(arguments.length,1);var je=f(re)?re:te(re),Ne=y(arguments,1);return ce[++P]=function(){d(je,void 0,Ne)},se(P),P},O=function(re){delete ce[re]},N?se=function(ee){W.nextTick(_e(ee))}:K&&K.now?se=function(ee){K.now(_e(ee))}:q&&!S?(fe=new q,Te=fe.port2,fe.port1.onmessage=Z,se=A(Te.postMessage,Te)):h.addEventListener&&f(h.postMessage)&&!h.importScripts&&R&&R.protocol!=="file:"&&!m(Oe)?(se=Oe,h.addEventListener("message",Z,!1)):$ in b("script")?se=function(ee){x.appendChild(b("script"))[$]=function(){x.removeChild(this),Ie(ee)}}:se=function(ee){setTimeout(_e(ee),0)}),l.exports={set:C,clear:O}}),"./node_modules/core-js/internals/this-number-value.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this.js");l.exports=h(1.1.valueOf)}),"./node_modules/core-js/internals/to-absolute-index.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/to-integer-or-infinity.js"),d=Math.max,A=Math.min;l.exports=function(f,g){var m=h(f);return m<0?d(m+g,0):A(m,g)}}),"./node_modules/core-js/internals/to-indexed-object.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/indexed-object.js"),d=o("./node_modules/core-js/internals/require-object-coercible.js");l.exports=function(A){return h(d(A))}}),"./node_modules/core-js/internals/to-integer-or-infinity.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/math-trunc.js");l.exports=function(d){var A=+d;return A!==A||A===0?0:h(A)}}),"./node_modules/core-js/internals/to-length.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/to-integer-or-infinity.js"),d=Math.min;l.exports=function(A){var f=h(A);return f>0?d(f,9007199254740991):0}}),"./node_modules/core-js/internals/to-object.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/require-object-coercible.js"),d=Object;l.exports=function(A){return d(h(A))}}),"./node_modules/core-js/internals/to-primitive.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-call.js"),d=o("./node_modules/core-js/internals/is-object.js"),A=o("./node_modules/core-js/internals/is-symbol.js"),f=o("./node_modules/core-js/internals/get-method.js"),g=o("./node_modules/core-js/internals/ordinary-to-primitive.js"),m=o("./node_modules/core-js/internals/well-known-symbol.js"),x=TypeError,y=m("toPrimitive");l.exports=function(b,w){if(!d(b)||A(b))return b;var S=f(b,y),N;if(S){if(w===void 0&&(w="default"),N=h(S,b,w),!d(N)||A(N))return N;throw new x("Can't convert object to primitive value")}return w===void 0&&(w="number"),g(b,w)}}),"./node_modules/core-js/internals/to-property-key.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/to-primitive.js"),d=o("./node_modules/core-js/internals/is-symbol.js");l.exports=function(A){var f=h(A,"string");return d(f)?f:f+""}}),"./node_modules/core-js/internals/to-set-like.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/get-built-in.js"),d=o("./node_modules/core-js/internals/is-callable.js"),A=o("./node_modules/core-js/internals/is-iterable.js"),f=o("./node_modules/core-js/internals/is-object.js"),g=h("Set"),m=function(x){return f(x)&&typeof x.size=="number"&&d(x.has)&&d(x.keys)};l.exports=function(x){return m(x)?x:A(x)?new g(x):x}}),"./node_modules/core-js/internals/to-string-tag-support.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/well-known-symbol.js"),d=h("toStringTag"),A={};A[d]="z",l.exports=String(A)==="[object z]"}),"./node_modules/core-js/internals/to-string.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/classof.js"),d=String;l.exports=function(A){if(h(A)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return d(A)}}),"./node_modules/core-js/internals/try-to-string.js":(function(l){var u=String;l.exports=function(o){try{return u(o)}catch{return"Object"}}}),"./node_modules/core-js/internals/uid.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this.js"),d=0,A=Math.random(),f=h(1.1.toString);l.exports=function(g){return"Symbol("+(g===void 0?"":g)+")_"+f(++d+A,36)}}),"./node_modules/core-js/internals/use-symbol-as-uid.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/symbol-constructor-detection.js");l.exports=h&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}),"./node_modules/core-js/internals/v8-prototype-define-bug.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/descriptors.js"),d=o("./node_modules/core-js/internals/fails.js");l.exports=h&&d(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})}),"./node_modules/core-js/internals/validate-arguments-length.js":(function(l){var u=TypeError;l.exports=function(o,h){if(o<h)throw new u("Not enough arguments");return o}}),"./node_modules/core-js/internals/weak-map-basic-detection.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js"),d=o("./node_modules/core-js/internals/is-callable.js"),A=h.WeakMap;l.exports=d(A)&&/native code/.test(String(A))}),"./node_modules/core-js/internals/well-known-symbol-define.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/path.js"),d=o("./node_modules/core-js/internals/has-own-property.js"),A=o("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),f=o("./node_modules/core-js/internals/object-define-property.js").f;l.exports=function(g){var m=h.Symbol||(h.Symbol={});d(m,g)||f(m,g,{value:A.f(g)})}}),"./node_modules/core-js/internals/well-known-symbol-wrapped.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/well-known-symbol.js");u.f=h}),"./node_modules/core-js/internals/well-known-symbol.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js"),d=o("./node_modules/core-js/internals/shared.js"),A=o("./node_modules/core-js/internals/has-own-property.js"),f=o("./node_modules/core-js/internals/uid.js"),g=o("./node_modules/core-js/internals/symbol-constructor-detection.js"),m=o("./node_modules/core-js/internals/use-symbol-as-uid.js"),x=h.Symbol,y=d("wks"),b=m?x.for||x:x&&x.withoutSetter||f;l.exports=function(w){return A(y,w)||(y[w]=g&&A(x,w)?x[w]:b("Symbol."+w)),y[w]}}),"./node_modules/core-js/internals/whitespaces.js":(function(l){l.exports=`	
\v\f\r \u2028\u2029\uFEFF`}),"./node_modules/core-js/modules/es.array.concat.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/fails.js"),A=o("./node_modules/core-js/internals/is-array.js"),f=o("./node_modules/core-js/internals/is-object.js"),g=o("./node_modules/core-js/internals/to-object.js"),m=o("./node_modules/core-js/internals/length-of-array-like.js"),x=o("./node_modules/core-js/internals/does-not-exceed-safe-integer.js"),y=o("./node_modules/core-js/internals/create-property.js"),b=o("./node_modules/core-js/internals/array-species-create.js"),w=o("./node_modules/core-js/internals/array-method-has-species-support.js"),S=o("./node_modules/core-js/internals/well-known-symbol.js"),N=o("./node_modules/core-js/internals/environment-v8-version.js"),C=S("isConcatSpreadable"),O=N>=51||!d(function(){var te=[];return te[C]=!1,te.concat()[0]!==te}),W=function(te){if(!f(te))return!1;var q=te[C];return q!==void 0?!!q:A(te)},K=!O||!w("concat");h({target:"Array",proto:!0,arity:1,forced:K},{concat:function(q){var Y=g(this),P=b(Y,0),ce=0,$,R,se,fe,Te;for($=-1,se=arguments.length;$<se;$++)if(Te=$===-1?Y:arguments[$],W(Te))for(fe=m(Te),x(ce+fe),R=0;R<fe;R++,ce++)R in Te&&y(P,ce,Te[R]);else x(ce+1),y(P,ce++,Te);return P.length=ce,P}})}),"./node_modules/core-js/modules/es.array.from.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/array-from.js"),A=o("./node_modules/core-js/internals/check-correctness-of-iteration.js"),f=!A(function(g){Array.from(g)});h({target:"Array",stat:!0,forced:f},{from:d})}),"./node_modules/core-js/modules/es.array.index-of.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-uncurry-this-clause.js"),A=o("./node_modules/core-js/internals/array-includes.js").indexOf,f=o("./node_modules/core-js/internals/array-method-is-strict.js"),g=d([].indexOf),m=!!g&&1/g([1],1,-0)<0,x=m||!f("indexOf");h({target:"Array",proto:!0,forced:x},{indexOf:function(b){var w=arguments.length>1?arguments[1]:void 0;return m?g(this,b,w)||0:A(this,b,w)}})}),"./node_modules/core-js/modules/es.array.iterator.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/to-indexed-object.js"),d=o("./node_modules/core-js/internals/add-to-unscopables.js"),A=o("./node_modules/core-js/internals/iterators.js"),f=o("./node_modules/core-js/internals/internal-state.js"),g=o("./node_modules/core-js/internals/object-define-property.js").f,m=o("./node_modules/core-js/internals/iterator-define.js"),x=o("./node_modules/core-js/internals/create-iter-result-object.js"),y=o("./node_modules/core-js/internals/is-pure.js"),b=o("./node_modules/core-js/internals/descriptors.js"),w="Array Iterator",S=f.set,N=f.getterFor(w);l.exports=m(Array,"Array",function(O,W){S(this,{type:w,target:h(O),index:0,kind:W})},function(){var O=N(this),W=O.target,K=O.index++;if(!W||K>=W.length)return O.target=null,x(void 0,!0);switch(O.kind){case"keys":return x(K,!1);case"values":return x(W[K],!1)}return x([K,W[K]],!1)},"values");var C=A.Arguments=A.Array;if(d("keys"),d("values"),d("entries"),!y&&b&&C.name!=="values")try{g(C,"name",{value:"values"})}catch{}}),"./node_modules/core-js/modules/es.array.join.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-uncurry-this.js"),A=o("./node_modules/core-js/internals/indexed-object.js"),f=o("./node_modules/core-js/internals/to-indexed-object.js"),g=o("./node_modules/core-js/internals/array-method-is-strict.js"),m=d([].join),x=A!==Object,y=x||!g("join",",");h({target:"Array",proto:!0,forced:y},{join:function(w){return m(f(this),w===void 0?",":w)}})}),"./node_modules/core-js/modules/es.array.map.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/array-iteration.js").map,A=o("./node_modules/core-js/internals/array-method-has-species-support.js"),f=A("map");h({target:"Array",proto:!0,forced:!f},{map:function(m){return d(this,m,arguments.length>1?arguments[1]:void 0)}})}),"./node_modules/core-js/modules/es.array.reduce.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/array-reduce.js").left,A=o("./node_modules/core-js/internals/array-method-is-strict.js"),f=o("./node_modules/core-js/internals/environment-v8-version.js"),g=o("./node_modules/core-js/internals/environment-is-node.js"),m=!g&&f>79&&f<83,x=m||!A("reduce");h({target:"Array",proto:!0,forced:x},{reduce:function(b){var w=arguments.length;return d(this,b,w,w>1?arguments[1]:void 0)}})}),"./node_modules/core-js/modules/es.array.reverse.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-uncurry-this.js"),A=o("./node_modules/core-js/internals/is-array.js"),f=d([].reverse),g=[1,2];h({target:"Array",proto:!0,forced:String(g)===String(g.reverse())},{reverse:function(){return A(this)&&(this.length=this.length),f(this)}})}),"./node_modules/core-js/modules/es.array.slice.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/is-array.js"),A=o("./node_modules/core-js/internals/is-constructor.js"),f=o("./node_modules/core-js/internals/is-object.js"),g=o("./node_modules/core-js/internals/to-absolute-index.js"),m=o("./node_modules/core-js/internals/length-of-array-like.js"),x=o("./node_modules/core-js/internals/to-indexed-object.js"),y=o("./node_modules/core-js/internals/create-property.js"),b=o("./node_modules/core-js/internals/well-known-symbol.js"),w=o("./node_modules/core-js/internals/array-method-has-species-support.js"),S=o("./node_modules/core-js/internals/array-slice.js"),N=w("slice"),C=b("species"),O=Array,W=Math.max;h({target:"Array",proto:!0,forced:!N},{slice:function(te,q){var Y=x(this),P=m(Y),ce=g(te,P),$=g(q===void 0?P:q,P),R,se,fe;if(d(Y)&&(R=Y.constructor,A(R)&&(R===O||d(R.prototype))?R=void 0:f(R)&&(R=R[C],R===null&&(R=void 0)),R===O||R===void 0))return S(Y,ce,$);for(se=new(R===void 0?O:R)(W($-ce,0)),fe=0;ce<$;ce++,fe++)ce in Y&&y(se,fe,Y[ce]);return se.length=fe,se}})}),"./node_modules/core-js/modules/es.function.name.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/descriptors.js"),d=o("./node_modules/core-js/internals/function-name.js").EXISTS,A=o("./node_modules/core-js/internals/function-uncurry-this.js"),f=o("./node_modules/core-js/internals/define-built-in-accessor.js"),g=Function.prototype,m=A(g.toString),x=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,y=A(x.exec),b="name";h&&!d&&f(g,b,{configurable:!0,get:function(){try{return y(x,m(this))[1]}catch{return""}}})}),"./node_modules/core-js/modules/es.iterator.constructor.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/global-this.js"),A=o("./node_modules/core-js/internals/an-instance.js"),f=o("./node_modules/core-js/internals/an-object.js"),g=o("./node_modules/core-js/internals/is-callable.js"),m=o("./node_modules/core-js/internals/object-get-prototype-of.js"),x=o("./node_modules/core-js/internals/define-built-in-accessor.js"),y=o("./node_modules/core-js/internals/create-property.js"),b=o("./node_modules/core-js/internals/fails.js"),w=o("./node_modules/core-js/internals/has-own-property.js"),S=o("./node_modules/core-js/internals/well-known-symbol.js"),N=o("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,C=o("./node_modules/core-js/internals/descriptors.js"),O=o("./node_modules/core-js/internals/is-pure.js"),W="constructor",K="Iterator",te=S("toStringTag"),q=TypeError,Y=d[K],P=O||!g(Y)||Y.prototype!==N||!b(function(){Y({})}),ce=function(){if(A(this,N),m(this)===N)throw new q("Abstract class Iterator not directly constructable")},$=function(R,se){C?x(N,R,{configurable:!0,get:function(){return se},set:function(fe){if(f(this),this===N)throw new q("You can't redefine this property");w(this,R)?this[R]=fe:y(this,R,fe)}}):N[R]=se};w(N,te)||$(te,K),(P||!w(N,W)||N[W]===Object)&&$(W,ce),ce.prototype=N,h({global:!0,constructor:!0,forced:P},{Iterator:ce})}),"./node_modules/core-js/modules/es.iterator.for-each.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/iterate.js"),f=o("./node_modules/core-js/internals/a-callable.js"),g=o("./node_modules/core-js/internals/an-object.js"),m=o("./node_modules/core-js/internals/get-iterator-direct.js"),x=o("./node_modules/core-js/internals/iterator-close.js"),y=o("./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js"),b=y("forEach",TypeError);h({target:"Iterator",proto:!0,real:!0,forced:b},{forEach:function(S){g(this);try{f(S)}catch(O){x(this,"throw",O)}if(b)return d(b,this,S);var N=m(this),C=0;A(N,function(O){S(O,C++)},{IS_RECORD:!0})}})}),"./node_modules/core-js/modules/es.iterator.map.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/a-callable.js"),f=o("./node_modules/core-js/internals/an-object.js"),g=o("./node_modules/core-js/internals/get-iterator-direct.js"),m=o("./node_modules/core-js/internals/iterator-create-proxy.js"),x=o("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),y=o("./node_modules/core-js/internals/iterator-close.js"),b=o("./node_modules/core-js/internals/iterator-helper-throws-on-invalid-iterator.js"),w=o("./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js"),S=o("./node_modules/core-js/internals/is-pure.js"),N=!S&&!b("map",function(){}),C=!S&&!N&&w("map",TypeError),O=S||N||C,W=m(function(){var K=this.iterator,te=f(d(this.next,K)),q=this.done=!!te.done;if(!q)return x(K,this.mapper,[te.value,this.counter++],!0)});h({target:"Iterator",proto:!0,real:!0,forced:O},{map:function(te){f(this);try{A(te)}catch(q){y(this,"throw",q)}return C?d(C,this,te):new W(g(this),{mapper:te})}})}),"./node_modules/core-js/modules/es.json.stringify.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/get-built-in.js"),A=o("./node_modules/core-js/internals/function-apply.js"),f=o("./node_modules/core-js/internals/function-call.js"),g=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=o("./node_modules/core-js/internals/fails.js"),x=o("./node_modules/core-js/internals/is-array.js"),y=o("./node_modules/core-js/internals/is-callable.js"),b=o("./node_modules/core-js/internals/is-raw-json.js"),w=o("./node_modules/core-js/internals/is-symbol.js"),S=o("./node_modules/core-js/internals/classof-raw.js"),N=o("./node_modules/core-js/internals/to-string.js"),C=o("./node_modules/core-js/internals/array-slice.js"),O=o("./node_modules/core-js/internals/parse-json-string.js"),W=o("./node_modules/core-js/internals/uid.js"),K=o("./node_modules/core-js/internals/symbol-constructor-detection.js"),te=o("./node_modules/core-js/internals/native-raw-json.js"),q=String,Y=d("JSON","stringify"),P=g(/./.exec),ce=g("".charAt),$=g("".charCodeAt),R=g("".replace),se=g("".slice),fe=g([].push),Te=g(1.1.toString),Ie=/[\uD800-\uDFFF]/g,_e=/^[\uD800-\uDBFF]$/,Z=/^[\uDC00-\uDFFF]$/,Oe=W(),ee=Oe.length,re=!K||m(function(){var ie=d("Symbol")("stringify detection");return Y([ie])!=="[null]"||Y({a:ie})!=="{}"||Y(Object(ie))!=="{}"}),je=m(function(){return Y("\uDF06\uD834")!=='"\\udf06\\ud834"'||Y("\uDEAD")!=='"\\udead"'}),Ne=re?function(ie,le){var Ee=C(arguments),Re=me(le);if(!(!y(Re)&&(ie===void 0||w(ie))))return Ee[1]=function(Ue,de){if(y(Re)&&(de=f(Re,this,q(Ue),de)),!w(de))return de},A(Y,null,Ee)}:Y,ye=function(ie,le,Ee){var Re=ce(Ee,le-1),Ue=ce(Ee,le+1);return P(_e,ie)&&!P(Z,Ue)||P(Z,ie)&&!P(_e,Re)?"\\u"+Te($(ie,0),16):ie},me=function(ie){if(y(ie))return ie;if(x(ie)){for(var le=ie.length,Ee=[],Re=0;Re<le;Re++){var Ue=ie[Re];typeof Ue=="string"?fe(Ee,Ue):(typeof Ue=="number"||S(Ue)==="Number"||S(Ue)==="String")&&fe(Ee,N(Ue))}var de=Ee.length,Ce=!0;return function(ue,$e){if(Ce)return Ce=!1,$e;if(x(this))return $e;for(var it=0;it<de;it++)if(Ee[it]===ue)return $e}}};Y&&h({target:"JSON",stat:!0,arity:3,forced:re||je||!te},{stringify:function(le,Ee,Re){var Ue=me(Ee),de=[],Ce=Ne(le,function(mr,lr){var He=y(Ue)?f(Ue,this,q(mr),lr):lr;return!te&&b(He)?Oe+(fe(de,He.rawJSON)-1):He},Re);if(typeof Ce!="string"||(je&&(Ce=R(Ce,Ie,ye)),te))return Ce;for(var ue="",$e=Ce.length,it=0;it<$e;it++){var Et=ce(Ce,it);if(Et==='"'){var Ct=O(Ce,++it).end-1,Bt=se(Ce,it,Ct);ue+=se(Bt,0,ee)===Oe?de[se(Bt,ee)]:'"'+Bt+'"',it=Ct}else ue+=Et}return ue}})}),"./node_modules/core-js/modules/es.number.constructor.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/is-pure.js"),A=o("./node_modules/core-js/internals/descriptors.js"),f=o("./node_modules/core-js/internals/global-this.js"),g=o("./node_modules/core-js/internals/path.js"),m=o("./node_modules/core-js/internals/function-uncurry-this.js"),x=o("./node_modules/core-js/internals/is-forced.js"),y=o("./node_modules/core-js/internals/has-own-property.js"),b=o("./node_modules/core-js/internals/inherit-if-required.js"),w=o("./node_modules/core-js/internals/object-is-prototype-of.js"),S=o("./node_modules/core-js/internals/is-symbol.js"),N=o("./node_modules/core-js/internals/to-primitive.js"),C=o("./node_modules/core-js/internals/fails.js"),O=o("./node_modules/core-js/internals/object-get-own-property-names.js").f,W=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,K=o("./node_modules/core-js/internals/object-define-property.js").f,te=o("./node_modules/core-js/internals/this-number-value.js"),q=o("./node_modules/core-js/internals/string-trim.js").trim,Y="Number",P=f[Y],ce=g[Y],$=P.prototype,R=f.TypeError,se=m("".slice),fe=m("".charCodeAt),Te=function(re){var je=N(re,"number");return typeof je=="bigint"?je:Ie(je)},Ie=function(re){var je=N(re,"number"),Ne,ye,me,ie,le,Ee,Re,Ue;if(S(je))throw new R("Cannot convert a Symbol value to a number");if(typeof je=="string"&&je.length>2){if(je=q(je),Ne=fe(je,0),Ne===43||Ne===45){if(ye=fe(je,2),ye===88||ye===120)return NaN}else if(Ne===48){switch(fe(je,1)){case 66:case 98:me=2,ie=49;break;case 79:case 111:me=8,ie=55;break;default:return+je}for(le=se(je,2),Ee=le.length,Re=0;Re<Ee;Re++)if(Ue=fe(le,Re),Ue<48||Ue>ie)return NaN;return parseInt(le,me)}}return+je},_e=x(Y,!P(" 0o1")||!P("0b1")||P("+0x1")),Z=function(re){return w($,re)&&C(function(){te(re)})},Oe=function(je){var Ne=arguments.length<1?0:P(Te(je));return Z(this)?b(Object(Ne),this,Oe):Ne};Oe.prototype=$,_e&&!d&&($.constructor=Oe),h({global:!0,constructor:!0,wrap:!0,forced:_e},{Number:Oe});var ee=function(re,je){for(var Ne=A?O(je):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),ye=0,me;Ne.length>ye;ye++)y(je,me=Ne[ye])&&!y(re,me)&&K(re,me,W(je,me))};d&&ce&&ee(g[Y],ce),(_e||d)&&ee(g[Y],P)}),"./node_modules/core-js/modules/es.object.assign.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/object-assign.js");h({target:"Object",stat:!0,arity:2,forced:Object.assign!==d},{assign:d})}),"./node_modules/core-js/modules/es.object.get-own-property-symbols.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/symbol-constructor-detection.js"),A=o("./node_modules/core-js/internals/fails.js"),f=o("./node_modules/core-js/internals/object-get-own-property-symbols.js"),g=o("./node_modules/core-js/internals/to-object.js"),m=!d||A(function(){f.f(1)});h({target:"Object",stat:!0,forced:m},{getOwnPropertySymbols:function(y){var b=f.f;return b?b(g(y)):[]}})}),"./node_modules/core-js/modules/es.object.keys.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/to-object.js"),A=o("./node_modules/core-js/internals/object-keys.js"),f=o("./node_modules/core-js/internals/fails.js"),g=f(function(){A(1)});h({target:"Object",stat:!0,forced:g},{keys:function(x){return A(d(x))}})}),"./node_modules/core-js/modules/es.object.to-string.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/to-string-tag-support.js"),d=o("./node_modules/core-js/internals/define-built-in.js"),A=o("./node_modules/core-js/internals/object-to-string.js");h||d(Object.prototype,"toString",A,{unsafe:!0})}),"./node_modules/core-js/modules/es.promise.all.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/a-callable.js"),f=o("./node_modules/core-js/internals/new-promise-capability.js"),g=o("./node_modules/core-js/internals/perform.js"),m=o("./node_modules/core-js/internals/iterate.js"),x=o("./node_modules/core-js/internals/promise-statics-incorrect-iteration.js");h({target:"Promise",stat:!0,forced:x},{all:function(b){var w=this,S=f.f(w),N=S.resolve,C=S.reject,O=g(function(){var W=A(w.resolve),K=[],te=0,q=1;m(b,function(Y){var P=te++,ce=!1;q++,d(W,w,Y).then(function($){ce||(ce=!0,K[P]=$,--q||N(K))},C)}),--q||N(K)});return O.error&&C(O.value),S.promise}})}),"./node_modules/core-js/modules/es.promise.catch.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/is-pure.js"),A=o("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR,f=o("./node_modules/core-js/internals/promise-native-constructor.js"),g=o("./node_modules/core-js/internals/get-built-in.js"),m=o("./node_modules/core-js/internals/is-callable.js"),x=o("./node_modules/core-js/internals/define-built-in.js"),y=f&&f.prototype;if(h({target:"Promise",proto:!0,forced:A,real:!0},{catch:function(w){return this.then(void 0,w)}}),!d&&m(f)){var b=g("Promise").prototype.catch;y.catch!==b&&x(y,"catch",b,{unsafe:!0})}}),"./node_modules/core-js/modules/es.promise.constructor.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/is-pure.js"),A=o("./node_modules/core-js/internals/environment-is-node.js"),f=o("./node_modules/core-js/internals/global-this.js"),g=o("./node_modules/core-js/internals/path.js"),m=o("./node_modules/core-js/internals/function-call.js"),x=o("./node_modules/core-js/internals/define-built-in.js"),y=o("./node_modules/core-js/internals/object-set-prototype-of.js"),b=o("./node_modules/core-js/internals/set-to-string-tag.js"),w=o("./node_modules/core-js/internals/set-species.js"),S=o("./node_modules/core-js/internals/a-callable.js"),N=o("./node_modules/core-js/internals/is-callable.js"),C=o("./node_modules/core-js/internals/is-object.js"),O=o("./node_modules/core-js/internals/an-instance.js"),W=o("./node_modules/core-js/internals/species-constructor.js"),K=o("./node_modules/core-js/internals/task.js").set,te=o("./node_modules/core-js/internals/microtask.js"),q=o("./node_modules/core-js/internals/host-report-errors.js"),Y=o("./node_modules/core-js/internals/perform.js"),P=o("./node_modules/core-js/internals/queue.js"),ce=o("./node_modules/core-js/internals/internal-state.js"),$=o("./node_modules/core-js/internals/promise-native-constructor.js"),R=o("./node_modules/core-js/internals/promise-constructor-detection.js"),se=o("./node_modules/core-js/internals/new-promise-capability.js"),fe="Promise",Te=R.CONSTRUCTOR,Ie=R.REJECTION_EVENT,_e=R.SUBCLASSING,Z=ce.getterFor(fe),Oe=ce.set,ee=$&&$.prototype,re=$,je=ee,Ne=f.TypeError,ye=f.document,me=f.process,ie=se.f,le=ie,Ee=!!(ye&&ye.createEvent&&f.dispatchEvent),Re="unhandledrejection",Ue="rejectionhandled",de=0,Ce=1,ue=2,$e=1,it=2,Et,Ct,Bt,mr,lr=function(hr){var pr;return C(hr)&&N(pr=hr.then)?pr:!1},He=function(hr,pr){var Lr=pr.value,$r=pr.state===Ce,dn=$r?hr.ok:hr.fail,zr=hr.resolve,Wn=hr.reject,Hr=hr.domain,Mr,jn,cn;try{dn?($r||(pr.rejection===it&&an(pr),pr.rejection=$e),dn===!0?Mr=Lr:(Hr&&Hr.enter(),Mr=dn(Lr),Hr&&(Hr.exit(),cn=!0)),Mr===hr.promise?Wn(new Ne("Promise-chain cycle")):(jn=lr(Mr))?m(jn,Mr,zr,Wn):zr(Mr)):Wn(Lr)}catch(Ln){Hr&&!cn&&Hr.exit(),Wn(Ln)}},$t=function(hr,pr){hr.notified||(hr.notified=!0,te(function(){for(var Lr=hr.reactions,$r;$r=Lr.get();)He($r,hr);hr.notified=!1,pr&&!hr.rejection&&Dr(hr)}))},Nt=function(hr,pr,Lr){var $r,dn;Ee?($r=ye.createEvent("Event"),$r.promise=pr,$r.reason=Lr,$r.initEvent(hr,!1,!0),f.dispatchEvent($r)):$r={promise:pr,reason:Lr},!Ie&&(dn=f["on"+hr])?dn($r):hr===Re&&q("Unhandled promise rejection",Lr)},Dr=function(hr){m(K,f,function(){var pr=hr.facade,Lr=hr.value,$r=vr(hr),dn;if($r&&(dn=Y(function(){A?me.emit("unhandledRejection",Lr,pr):Nt(Re,pr,Lr)}),hr.rejection=A||vr(hr)?it:$e,dn.error))throw dn.value})},vr=function(hr){return hr.rejection!==$e&&!hr.parent},an=function(hr){m(K,f,function(){var pr=hr.facade;A?me.emit("rejectionHandled",pr):Nt(Ue,pr,hr.value)})},Xr=function(hr,pr,Lr){return function($r){hr(pr,$r,Lr)}},Qr=function(hr,pr,Lr){hr.done||(hr.done=!0,Lr&&(hr=Lr),hr.value=pr,hr.state=ue,$t(hr,!0))},Ir=function(hr,pr,Lr){if(!hr.done){hr.done=!0,Lr&&(hr=Lr);try{if(hr.facade===pr)throw new Ne("Promise can't be resolved itself");var $r=lr(pr);$r?te(function(){var dn={done:!1};try{m($r,pr,Xr(Ir,dn,hr),Xr(Qr,dn,hr))}catch(zr){Qr(dn,zr,hr)}}):(hr.value=pr,hr.state=Ce,$t(hr,!1))}catch(dn){Qr({done:!1},dn,hr)}}};if(Te&&(re=function(pr){O(this,je),S(pr),m(Et,this);var Lr=Z(this);try{pr(Xr(Ir,Lr),Xr(Qr,Lr))}catch($r){Qr(Lr,$r)}},je=re.prototype,Et=function(pr){Oe(this,{type:fe,done:!1,notified:!1,parent:!1,reactions:new P,rejection:!1,state:de,value:null})},Et.prototype=x(je,"then",function(pr,Lr){var $r=Z(this),dn=ie(W(this,re));return $r.parent=!0,dn.ok=N(pr)?pr:!0,dn.fail=N(Lr)&&Lr,dn.domain=A?me.domain:void 0,$r.state===de?$r.reactions.add(dn):te(function(){He(dn,$r)}),dn.promise}),Ct=function(){var hr=new Et,pr=Z(hr);this.promise=hr,this.resolve=Xr(Ir,pr),this.reject=Xr(Qr,pr)},se.f=ie=function(hr){return hr===re||hr===Bt?new Ct(hr):le(hr)},!d&&N($)&&ee!==Object.prototype)){mr=ee.then,_e||x(ee,"then",function(pr,Lr){var $r=this;return new re(function(dn,zr){m(mr,$r,dn,zr)}).then(pr,Lr)},{unsafe:!0});try{delete ee.constructor}catch{}y&&y(ee,je)}h({global:!0,constructor:!0,wrap:!0,forced:Te},{Promise:re}),Bt=g.Promise,b(re,fe,!1,!0),w(fe)}),"./node_modules/core-js/modules/es.promise.js":(function(l,u,o){o("./node_modules/core-js/modules/es.promise.constructor.js"),o("./node_modules/core-js/modules/es.promise.all.js"),o("./node_modules/core-js/modules/es.promise.catch.js"),o("./node_modules/core-js/modules/es.promise.race.js"),o("./node_modules/core-js/modules/es.promise.reject.js"),o("./node_modules/core-js/modules/es.promise.resolve.js")}),"./node_modules/core-js/modules/es.promise.race.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/a-callable.js"),f=o("./node_modules/core-js/internals/new-promise-capability.js"),g=o("./node_modules/core-js/internals/perform.js"),m=o("./node_modules/core-js/internals/iterate.js"),x=o("./node_modules/core-js/internals/promise-statics-incorrect-iteration.js");h({target:"Promise",stat:!0,forced:x},{race:function(b){var w=this,S=f.f(w),N=S.reject,C=g(function(){var O=A(w.resolve);m(b,function(W){d(O,w,W).then(S.resolve,N)})});return C.error&&N(C.value),S.promise}})}),"./node_modules/core-js/modules/es.promise.reject.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/new-promise-capability.js"),A=o("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR;h({target:"Promise",stat:!0,forced:A},{reject:function(g){var m=d.f(this),x=m.reject;return x(g),m.promise}})}),"./node_modules/core-js/modules/es.promise.resolve.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/get-built-in.js"),A=o("./node_modules/core-js/internals/is-pure.js"),f=o("./node_modules/core-js/internals/promise-native-constructor.js"),g=o("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR,m=o("./node_modules/core-js/internals/promise-resolve.js"),x=d("Promise"),y=A&&!g;h({target:"Promise",stat:!0,forced:A||g},{resolve:function(w){return m(y&&this===x?f:this,w)}})}),"./node_modules/core-js/modules/es.regexp.exec.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/regexp-exec.js");h({target:"RegExp",proto:!0,forced:/./.exec!==d},{exec:d})}),"./node_modules/core-js/modules/es.regexp.test.js":(function(l,u,o){o("./node_modules/core-js/modules/es.regexp.exec.js");var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/is-callable.js"),f=o("./node_modules/core-js/internals/an-object.js"),g=o("./node_modules/core-js/internals/to-string.js"),m=(function(){var y=!1,b=/[ac]/;return b.exec=function(){return y=!0,/./.exec.apply(this,arguments)},b.test("abc")===!0&&y})(),x=/./.test;h({target:"RegExp",proto:!0,forced:!m},{test:function(y){var b=f(this),w=g(y),S=b.exec;if(!A(S))return d(x,b,w);var N=d(S,b,w);return N===null?!1:(f(N),!0)}})}),"./node_modules/core-js/modules/es.regexp.to-string.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-name.js").PROPER,d=o("./node_modules/core-js/internals/define-built-in.js"),A=o("./node_modules/core-js/internals/an-object.js"),f=o("./node_modules/core-js/internals/to-string.js"),g=o("./node_modules/core-js/internals/fails.js"),m=o("./node_modules/core-js/internals/regexp-get-flags.js"),x="toString",y=RegExp.prototype,b=y[x],w=g(function(){return b.call({source:"a",flags:"b"})!=="/a/b"}),S=h&&b.name!==x;(w||S)&&d(y,x,function(){var C=A(this),O=f(C.source),W=f(m(C));return"/"+O+"/"+W},{unsafe:!0})}),"./node_modules/core-js/modules/es.set.constructor.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/collection.js"),d=o("./node_modules/core-js/internals/collection-strong.js");h("Set",function(A){return function(){return A(this,arguments.length?arguments[0]:void 0)}},d)}),"./node_modules/core-js/modules/es.set.js":(function(l,u,o){o("./node_modules/core-js/modules/es.set.constructor.js")}),"./node_modules/core-js/modules/es.string.ends-with.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-uncurry-this-clause.js"),A=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,f=o("./node_modules/core-js/internals/to-length.js"),g=o("./node_modules/core-js/internals/to-string.js"),m=o("./node_modules/core-js/internals/not-a-regexp.js"),x=o("./node_modules/core-js/internals/require-object-coercible.js"),y=o("./node_modules/core-js/internals/correct-is-regexp-logic.js"),b=o("./node_modules/core-js/internals/is-pure.js"),w=d("".slice),S=Math.min,N=y("endsWith"),C=!b&&!N&&!!(function(){var O=A(String.prototype,"endsWith");return O&&!O.writable})();h({target:"String",proto:!0,forced:!C&&!N},{endsWith:function(W){var K=g(x(this));m(W);var te=arguments.length>1?arguments[1]:void 0,q=K.length,Y=te===void 0?q:S(f(te),q),P=g(W);return w(K,Y-P.length,Y)===P}})}),"./node_modules/core-js/modules/es.string.includes.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-uncurry-this.js"),A=o("./node_modules/core-js/internals/not-a-regexp.js"),f=o("./node_modules/core-js/internals/require-object-coercible.js"),g=o("./node_modules/core-js/internals/to-string.js"),m=o("./node_modules/core-js/internals/correct-is-regexp-logic.js"),x=d("".indexOf);h({target:"String",proto:!0,forced:!m("includes")},{includes:function(b){return!!~x(g(f(this)),g(A(b)),arguments.length>1?arguments[1]:void 0)}})}),"./node_modules/core-js/modules/es.string.iterator.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/string-multibyte.js").charAt,d=o("./node_modules/core-js/internals/to-string.js"),A=o("./node_modules/core-js/internals/internal-state.js"),f=o("./node_modules/core-js/internals/iterator-define.js"),g=o("./node_modules/core-js/internals/create-iter-result-object.js"),m="String Iterator",x=A.set,y=A.getterFor(m);f(String,"String",function(b){x(this,{type:m,string:d(b),index:0})},function(){var w=y(this),S=w.string,N=w.index,C;return N>=S.length?g(void 0,!0):(C=h(S,N),w.index+=C.length,g(C,!1))})}),"./node_modules/core-js/modules/es.string.link.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/create-html.js"),A=o("./node_modules/core-js/internals/string-html-forced.js");h({target:"String",proto:!0,forced:A("link")},{link:function(g){return d(this,"a","href",g)}})}),"./node_modules/core-js/modules/es.string.match.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-call.js"),d=o("./node_modules/core-js/internals/function-uncurry-this.js"),A=o("./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js"),f=o("./node_modules/core-js/internals/an-object.js"),g=o("./node_modules/core-js/internals/is-object.js"),m=o("./node_modules/core-js/internals/to-length.js"),x=o("./node_modules/core-js/internals/to-string.js"),y=o("./node_modules/core-js/internals/require-object-coercible.js"),b=o("./node_modules/core-js/internals/get-method.js"),w=o("./node_modules/core-js/internals/advance-string-index.js"),S=o("./node_modules/core-js/internals/regexp-get-flags.js"),N=o("./node_modules/core-js/internals/regexp-exec-abstract.js"),C=d("".indexOf);A("match",function(O,W,K){return[function(q){var Y=y(this),P=g(q)?b(q,O):void 0;return P?h(P,q,Y):new RegExp(q)[O](x(Y))},function(te){var q=f(this),Y=x(te),P=K(W,q,Y);if(P.done)return P.value;var ce=x(S(q));if(C(ce,"g")===-1)return N(q,Y);var $=C(ce,"u")!==-1;q.lastIndex=0;for(var R=[],se=0,fe;(fe=N(q,Y))!==null;){var Te=x(fe[0]);R[se]=Te,Te===""&&(q.lastIndex=w(Y,m(q.lastIndex),$)),se++}return se===0?null:R}]})}),"./node_modules/core-js/modules/es.string.replace.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-apply.js"),d=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/function-uncurry-this.js"),f=o("./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js"),g=o("./node_modules/core-js/internals/fails.js"),m=o("./node_modules/core-js/internals/an-object.js"),x=o("./node_modules/core-js/internals/is-callable.js"),y=o("./node_modules/core-js/internals/is-object.js"),b=o("./node_modules/core-js/internals/to-integer-or-infinity.js"),w=o("./node_modules/core-js/internals/to-length.js"),S=o("./node_modules/core-js/internals/to-string.js"),N=o("./node_modules/core-js/internals/require-object-coercible.js"),C=o("./node_modules/core-js/internals/advance-string-index.js"),O=o("./node_modules/core-js/internals/get-method.js"),W=o("./node_modules/core-js/internals/get-substitution.js"),K=o("./node_modules/core-js/internals/regexp-get-flags.js"),te=o("./node_modules/core-js/internals/regexp-exec-abstract.js"),q=o("./node_modules/core-js/internals/well-known-symbol.js"),Y=q("replace"),P=Math.max,ce=Math.min,$=A([].concat),R=A([].push),se=A("".indexOf),fe=A("".slice),Te=function(Oe){return Oe===void 0?Oe:String(Oe)},Ie=(function(){return"a".replace(/./,"$0")==="$0"})(),_e=(function(){return/./[Y]?/./[Y]("a","$0")==="":!1})(),Z=!g(function(){var Oe=/./;return Oe.exec=function(){var ee=[];return ee.groups={a:"7"},ee},"".replace(Oe,"$<a>")!=="7"});f("replace",function(Oe,ee,re){var je=_e?"$":"$0";return[function(ye,me){var ie=N(this),le=y(ye)?O(ye,Y):void 0;return le?d(le,ye,ie,me):d(ee,S(ie),ye,me)},function(Ne,ye){var me=m(this),ie=S(Ne);if(typeof ye=="string"&&se(ye,je)===-1&&se(ye,"$<")===-1){var le=re(ee,me,ie,ye);if(le.done)return le.value}var Ee=x(ye);Ee||(ye=S(ye));var Re=S(K(me)),Ue=se(Re,"g")!==-1,de;Ue&&(de=se(Re,"u")!==-1,me.lastIndex=0);for(var Ce=[],ue;ue=te(me,ie),!(ue===null||(R(Ce,ue),!Ue));){var $e=S(ue[0]);$e===""&&(me.lastIndex=C(ie,w(me.lastIndex),de))}for(var it="",Et=0,Ct=0;Ct<Ce.length;Ct++){ue=Ce[Ct];for(var Bt=S(ue[0]),mr=P(ce(b(ue.index),ie.length),0),lr=[],He,$t=1;$t<ue.length;$t++)R(lr,Te(ue[$t]));var Nt=ue.groups;if(Ee){var Dr=$([Bt],lr,mr,ie);Nt!==void 0&&R(Dr,Nt),He=S(h(ye,void 0,Dr))}else He=W(Bt,ie,mr,lr,Nt,ye);mr>=Et&&(it+=fe(ie,Et,mr)+He,Et=mr+Bt.length)}return it+fe(ie,Et)}]},!Z||!Ie||_e)}),"./node_modules/core-js/modules/es.string.split.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-call.js"),d=o("./node_modules/core-js/internals/function-uncurry-this.js"),A=o("./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js"),f=o("./node_modules/core-js/internals/an-object.js"),g=o("./node_modules/core-js/internals/is-object.js"),m=o("./node_modules/core-js/internals/require-object-coercible.js"),x=o("./node_modules/core-js/internals/species-constructor.js"),y=o("./node_modules/core-js/internals/advance-string-index.js"),b=o("./node_modules/core-js/internals/to-length.js"),w=o("./node_modules/core-js/internals/to-string.js"),S=o("./node_modules/core-js/internals/get-method.js"),N=o("./node_modules/core-js/internals/regexp-exec-abstract.js"),C=o("./node_modules/core-js/internals/regexp-sticky-helpers.js"),O=o("./node_modules/core-js/internals/fails.js"),W=C.UNSUPPORTED_Y,K=4294967295,te=Math.min,q=d([].push),Y=d("".slice),P=!O(function(){var $=/(?:)/,R=$.exec;$.exec=function(){return R.apply(this,arguments)};var se="ab".split($);return se.length!==2||se[0]!=="a"||se[1]!=="b"}),ce="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;A("split",function($,R,se){var fe="0".split(void 0,0).length?function(Te,Ie){return Te===void 0&&Ie===0?[]:h(R,this,Te,Ie)}:R;return[function(Ie,_e){var Z=m(this),Oe=g(Ie)?S(Ie,$):void 0;return Oe?h(Oe,Ie,Z,_e):h(fe,w(Z),Ie,_e)},function(Te,Ie){var _e=f(this),Z=w(Te);if(!ce){var Oe=se(fe,_e,Z,Ie,fe!==R);if(Oe.done)return Oe.value}var ee=x(_e,RegExp),re=_e.unicode,je=(_e.ignoreCase?"i":"")+(_e.multiline?"m":"")+(_e.unicode?"u":"")+(W?"g":"y"),Ne=new ee(W?"^(?:"+_e.source+")":_e,je),ye=Ie===void 0?K:Ie>>>0;if(ye===0)return[];if(Z.length===0)return N(Ne,Z)===null?[Z]:[];for(var me=0,ie=0,le=[];ie<Z.length;){Ne.lastIndex=W?0:ie;var Ee=N(Ne,W?Y(Z,ie):Z),Re;if(Ee===null||(Re=te(b(Ne.lastIndex+(W?ie:0)),Z.length))===me)ie=y(Z,ie,re);else{if(q(le,Y(Z,me,ie)),le.length===ye)return le;for(var Ue=1;Ue<=Ee.length-1;Ue++)if(q(le,Ee[Ue]),le.length===ye)return le;ie=me=Re}}return q(le,Y(Z,me)),le}]},ce||!P,W)}),"./node_modules/core-js/modules/es.string.starts-with.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-uncurry-this-clause.js"),A=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,f=o("./node_modules/core-js/internals/to-length.js"),g=o("./node_modules/core-js/internals/to-string.js"),m=o("./node_modules/core-js/internals/not-a-regexp.js"),x=o("./node_modules/core-js/internals/require-object-coercible.js"),y=o("./node_modules/core-js/internals/correct-is-regexp-logic.js"),b=o("./node_modules/core-js/internals/is-pure.js"),w=d("".slice),S=Math.min,N=y("startsWith"),C=!b&&!N&&!!(function(){var O=A(String.prototype,"startsWith");return O&&!O.writable})();h({target:"String",proto:!0,forced:!C&&!N},{startsWith:function(W){var K=g(x(this));m(W);var te=f(S(arguments.length>1?arguments[1]:void 0,K.length)),q=g(W);return w(K,te,te+q.length)===q}})}),"./node_modules/core-js/modules/es.string.trim.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/string-trim.js").trim,A=o("./node_modules/core-js/internals/string-trim-forced.js");h({target:"String",proto:!0,forced:A("trim")},{trim:function(){return d(this)}})}),"./node_modules/core-js/modules/es.symbol.constructor.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/global-this.js"),A=o("./node_modules/core-js/internals/function-call.js"),f=o("./node_modules/core-js/internals/function-uncurry-this.js"),g=o("./node_modules/core-js/internals/is-pure.js"),m=o("./node_modules/core-js/internals/descriptors.js"),x=o("./node_modules/core-js/internals/symbol-constructor-detection.js"),y=o("./node_modules/core-js/internals/fails.js"),b=o("./node_modules/core-js/internals/has-own-property.js"),w=o("./node_modules/core-js/internals/object-is-prototype-of.js"),S=o("./node_modules/core-js/internals/an-object.js"),N=o("./node_modules/core-js/internals/to-indexed-object.js"),C=o("./node_modules/core-js/internals/to-property-key.js"),O=o("./node_modules/core-js/internals/to-string.js"),W=o("./node_modules/core-js/internals/create-property-descriptor.js"),K=o("./node_modules/core-js/internals/object-create.js"),te=o("./node_modules/core-js/internals/object-keys.js"),q=o("./node_modules/core-js/internals/object-get-own-property-names.js"),Y=o("./node_modules/core-js/internals/object-get-own-property-names-external.js"),P=o("./node_modules/core-js/internals/object-get-own-property-symbols.js"),ce=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),$=o("./node_modules/core-js/internals/object-define-property.js"),R=o("./node_modules/core-js/internals/object-define-properties.js"),se=o("./node_modules/core-js/internals/object-property-is-enumerable.js"),fe=o("./node_modules/core-js/internals/define-built-in.js"),Te=o("./node_modules/core-js/internals/define-built-in-accessor.js"),Ie=o("./node_modules/core-js/internals/shared.js"),_e=o("./node_modules/core-js/internals/shared-key.js"),Z=o("./node_modules/core-js/internals/hidden-keys.js"),Oe=o("./node_modules/core-js/internals/uid.js"),ee=o("./node_modules/core-js/internals/well-known-symbol.js"),re=o("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),je=o("./node_modules/core-js/internals/well-known-symbol-define.js"),Ne=o("./node_modules/core-js/internals/symbol-define-to-primitive.js"),ye=o("./node_modules/core-js/internals/set-to-string-tag.js"),me=o("./node_modules/core-js/internals/internal-state.js"),ie=o("./node_modules/core-js/internals/array-iteration.js").forEach,le=_e("hidden"),Ee="Symbol",Re="prototype",Ue=me.set,de=me.getterFor(Ee),Ce=Object[Re],ue=d.Symbol,$e=ue&&ue[Re],it=d.RangeError,Et=d.TypeError,Ct=d.QObject,Bt=ce.f,mr=$.f,lr=Y.f,He=se.f,$t=f([].push),Nt=Ie("symbols"),Dr=Ie("op-symbols"),vr=Ie("wks"),an=!Ct||!Ct[Re]||!Ct[Re].findChild,Xr=function(Hr,Mr,jn){var cn=Bt(Ce,Mr);cn&&delete Ce[Mr],mr(Hr,Mr,jn),cn&&Hr!==Ce&&mr(Ce,Mr,cn)},Qr=m&&y(function(){return K(mr({},"a",{get:function(){return mr(this,"a",{value:7}).a}})).a!==7})?Xr:mr,Ir=function(Hr,Mr){var jn=Nt[Hr]=K($e);return Ue(jn,{type:Ee,tag:Hr,description:Mr}),m||(jn.description=Mr),jn},hr=function(Mr,jn,cn){Mr===Ce&&hr(Dr,jn,cn),S(Mr);var Ln=C(jn);return S(cn),b(Nt,Ln)?(cn.enumerable?(b(Mr,le)&&Mr[le][Ln]&&(Mr[le][Ln]=!1),cn=K(cn,{enumerable:W(0,!1)})):(b(Mr,le)||mr(Mr,le,W(1,K(null))),Mr[le][Ln]=!0),Qr(Mr,Ln,cn)):mr(Mr,Ln,cn)},pr=function(Mr,jn){S(Mr);var cn=N(jn),Ln=te(cn).concat(Wn(cn));return ie(Ln,function(ca){(!m||A($r,cn,ca))&&hr(Mr,ca,cn[ca])}),Mr},Lr=function(Mr,jn){return jn===void 0?K(Mr):pr(K(Mr),jn)},$r=function(Mr){var jn=C(Mr),cn=A(He,this,jn);return this===Ce&&b(Nt,jn)&&!b(Dr,jn)?!1:cn||!b(this,jn)||!b(Nt,jn)||b(this,le)&&this[le][jn]?cn:!0},dn=function(Mr,jn){var cn=N(Mr),Ln=C(jn);if(!(cn===Ce&&b(Nt,Ln)&&!b(Dr,Ln))){var ca=Bt(cn,Ln);return ca&&b(Nt,Ln)&&!(b(cn,le)&&cn[le][Ln])&&(ca.enumerable=!0),ca}},zr=function(Mr){var jn=lr(N(Mr)),cn=[];return ie(jn,function(Ln){!b(Nt,Ln)&&!b(Z,Ln)&&$t(cn,Ln)}),cn},Wn=function(Hr){var Mr=Hr===Ce,jn=lr(Mr?Dr:N(Hr)),cn=[];return ie(jn,function(Ln){b(Nt,Ln)&&(!Mr||b(Ce,Ln))&&$t(cn,Nt[Ln])}),cn};x||(ue=function(){if(w($e,this))throw new Et("Symbol is not a constructor");var Mr=!arguments.length||arguments[0]===void 0?void 0:O(arguments[0]),jn=Oe(Mr),cn=function(Ln){var ca=this===void 0?d:this;ca===Ce&&A(cn,Dr,Ln),b(ca,le)&&b(ca[le],jn)&&(ca[le][jn]=!1);var Pt=W(1,Ln);try{Qr(ca,jn,Pt)}catch(Kr){if(!(Kr instanceof it))throw Kr;Xr(ca,jn,Pt)}};return m&&an&&Qr(Ce,jn,{configurable:!0,set:cn}),Ir(jn,Mr)},$e=ue[Re],fe($e,"toString",function(){return de(this).tag}),fe(ue,"withoutSetter",function(Hr){return Ir(Oe(Hr),Hr)}),se.f=$r,$.f=hr,R.f=pr,ce.f=dn,q.f=Y.f=zr,P.f=Wn,re.f=function(Hr){return Ir(ee(Hr),Hr)},m&&(Te($e,"description",{configurable:!0,get:function(){return de(this).description}}),g||fe(Ce,"propertyIsEnumerable",$r,{unsafe:!0}))),h({global:!0,constructor:!0,wrap:!0,forced:!x,sham:!x},{Symbol:ue}),ie(te(vr),function(Hr){je(Hr)}),h({target:Ee,stat:!0,forced:!x},{useSetter:function(){an=!0},useSimple:function(){an=!1}}),h({target:"Object",stat:!0,forced:!x,sham:!m},{create:Lr,defineProperty:hr,defineProperties:pr,getOwnPropertyDescriptor:dn}),h({target:"Object",stat:!0,forced:!x},{getOwnPropertyNames:zr}),Ne(),ye(ue,Ee),Z[le]=!0}),"./node_modules/core-js/modules/es.symbol.description.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/descriptors.js"),A=o("./node_modules/core-js/internals/global-this.js"),f=o("./node_modules/core-js/internals/function-uncurry-this.js"),g=o("./node_modules/core-js/internals/has-own-property.js"),m=o("./node_modules/core-js/internals/is-callable.js"),x=o("./node_modules/core-js/internals/object-is-prototype-of.js"),y=o("./node_modules/core-js/internals/to-string.js"),b=o("./node_modules/core-js/internals/define-built-in-accessor.js"),w=o("./node_modules/core-js/internals/copy-constructor-properties.js"),S=A.Symbol,N=S&&S.prototype;if(d&&m(S)&&(!("description"in N)||S().description!==void 0)){var C={},O=function(){var $=arguments.length<1||arguments[0]===void 0?void 0:y(arguments[0]),R=x(N,this)?new S($):$===void 0?S():S($);return $===""&&(C[R]=!0),R};w(O,S),O.prototype=N,N.constructor=O;var W=String(S("description detection"))==="Symbol(description detection)",K=f(N.valueOf),te=f(N.toString),q=/^Symbol\((.*)\)[^)]+$/,Y=f("".replace),P=f("".slice);b(N,"description",{configurable:!0,get:function(){var $=K(this);if(g(C,$))return"";var R=te($),se=W?P(R,7,-1):Y(R,q,"$1");return se===""?void 0:se}}),h({global:!0,constructor:!0,forced:!0},{Symbol:O})}}),"./node_modules/core-js/modules/es.symbol.for.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/get-built-in.js"),A=o("./node_modules/core-js/internals/has-own-property.js"),f=o("./node_modules/core-js/internals/to-string.js"),g=o("./node_modules/core-js/internals/shared.js"),m=o("./node_modules/core-js/internals/symbol-registry-detection.js"),x=g("string-to-symbol-registry"),y=g("symbol-to-string-registry");h({target:"Symbol",stat:!0,forced:!m},{for:function(b){var w=f(b);if(A(x,w))return x[w];var S=d("Symbol")(w);return x[w]=S,y[S]=w,S}})}),"./node_modules/core-js/modules/es.symbol.iterator.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/well-known-symbol-define.js");h("iterator")}),"./node_modules/core-js/modules/es.symbol.js":(function(l,u,o){o("./node_modules/core-js/modules/es.symbol.constructor.js"),o("./node_modules/core-js/modules/es.symbol.for.js"),o("./node_modules/core-js/modules/es.symbol.key-for.js"),o("./node_modules/core-js/modules/es.json.stringify.js"),o("./node_modules/core-js/modules/es.object.get-own-property-symbols.js")}),"./node_modules/core-js/modules/es.symbol.key-for.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/has-own-property.js"),A=o("./node_modules/core-js/internals/is-symbol.js"),f=o("./node_modules/core-js/internals/try-to-string.js"),g=o("./node_modules/core-js/internals/shared.js"),m=o("./node_modules/core-js/internals/symbol-registry-detection.js"),x=g("symbol-to-string-registry");h({target:"Symbol",stat:!0,forced:!m},{keyFor:function(b){if(!A(b))throw new TypeError(f(b)+" is not a symbol");if(d(x,b))return x[b]}})}),"./node_modules/core-js/modules/esnext.iterator.constructor.js":(function(l,u,o){o("./node_modules/core-js/modules/es.iterator.constructor.js")}),"./node_modules/core-js/modules/esnext.iterator.for-each.js":(function(l,u,o){o("./node_modules/core-js/modules/es.iterator.for-each.js")}),"./node_modules/core-js/modules/esnext.iterator.map.js":(function(l,u,o){o("./node_modules/core-js/modules/es.iterator.map.js")}),"./node_modules/core-js/modules/esnext.set.add-all.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/a-set.js"),A=o("./node_modules/core-js/internals/set-helpers.js").add;h({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var g=d(this),m=0,x=arguments.length;m<x;m++)A(g,arguments[m]);return g}})}),"./node_modules/core-js/modules/esnext.set.delete-all.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/a-set.js"),A=o("./node_modules/core-js/internals/set-helpers.js").remove;h({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var g=d(this),m=!0,x,y=0,b=arguments.length;y<b;y++)x=A(g,arguments[y]),m=m&&x;return!!m}})}),"./node_modules/core-js/modules/esnext.set.difference.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/to-set-like.js"),f=o("./node_modules/core-js/internals/set-difference.js");h({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(m){return d(f,this,A(m))}})}),"./node_modules/core-js/modules/esnext.set.every.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-bind-context.js"),A=o("./node_modules/core-js/internals/a-set.js"),f=o("./node_modules/core-js/internals/set-iterate.js");h({target:"Set",proto:!0,real:!0,forced:!0},{every:function(m){var x=A(this),y=d(m,arguments.length>1?arguments[1]:void 0);return f(x,function(b){if(!y(b,b,x))return!1},!0)!==!1}})}),"./node_modules/core-js/modules/esnext.set.filter.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-bind-context.js"),A=o("./node_modules/core-js/internals/a-set.js"),f=o("./node_modules/core-js/internals/set-helpers.js"),g=o("./node_modules/core-js/internals/set-iterate.js"),m=f.Set,x=f.add;h({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(b){var w=A(this),S=d(b,arguments.length>1?arguments[1]:void 0),N=new m;return g(w,function(C){S(C,C,w)&&x(N,C)}),N}})}),"./node_modules/core-js/modules/esnext.set.find.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-bind-context.js"),A=o("./node_modules/core-js/internals/a-set.js"),f=o("./node_modules/core-js/internals/set-iterate.js");h({target:"Set",proto:!0,real:!0,forced:!0},{find:function(m){var x=A(this),y=d(m,arguments.length>1?arguments[1]:void 0),b=f(x,function(w){if(y(w,w,x))return{value:w}},!0);return b&&b.value}})}),"./node_modules/core-js/modules/esnext.set.intersection.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/to-set-like.js"),f=o("./node_modules/core-js/internals/set-intersection.js");h({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(m){return d(f,this,A(m))}})}),"./node_modules/core-js/modules/esnext.set.is-disjoint-from.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/to-set-like.js"),f=o("./node_modules/core-js/internals/set-is-disjoint-from.js");h({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(m){return d(f,this,A(m))}})}),"./node_modules/core-js/modules/esnext.set.is-subset-of.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/to-set-like.js"),f=o("./node_modules/core-js/internals/set-is-subset-of.js");h({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(m){return d(f,this,A(m))}})}),"./node_modules/core-js/modules/esnext.set.is-superset-of.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/to-set-like.js"),f=o("./node_modules/core-js/internals/set-is-superset-of.js");h({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(m){return d(f,this,A(m))}})}),"./node_modules/core-js/modules/esnext.set.join.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-uncurry-this.js"),A=o("./node_modules/core-js/internals/a-set.js"),f=o("./node_modules/core-js/internals/set-iterate.js"),g=o("./node_modules/core-js/internals/to-string.js"),m=d([].join),x=d([].push);h({target:"Set",proto:!0,real:!0,forced:!0},{join:function(b){var w=A(this),S=b===void 0?",":g(b),N=[];return f(w,function(C){x(N,C)}),m(N,S)}})}),"./node_modules/core-js/modules/esnext.set.map.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-bind-context.js"),A=o("./node_modules/core-js/internals/a-set.js"),f=o("./node_modules/core-js/internals/set-helpers.js"),g=o("./node_modules/core-js/internals/set-iterate.js"),m=f.Set,x=f.add;h({target:"Set",proto:!0,real:!0,forced:!0},{map:function(b){var w=A(this),S=d(b,arguments.length>1?arguments[1]:void 0),N=new m;return g(w,function(C){x(N,S(C,C,w))}),N}})}),"./node_modules/core-js/modules/esnext.set.reduce.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/a-callable.js"),A=o("./node_modules/core-js/internals/a-set.js"),f=o("./node_modules/core-js/internals/set-iterate.js"),g=TypeError;h({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(x){var y=A(this),b=arguments.length<2,w=b?void 0:arguments[1];if(d(x),f(y,function(S){b?(b=!1,w=S):w=x(w,S,S,y)}),b)throw new g("Reduce of empty set with no initial value");return w}})}),"./node_modules/core-js/modules/esnext.set.some.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-bind-context.js"),A=o("./node_modules/core-js/internals/a-set.js"),f=o("./node_modules/core-js/internals/set-iterate.js");h({target:"Set",proto:!0,real:!0,forced:!0},{some:function(m){var x=A(this),y=d(m,arguments.length>1?arguments[1]:void 0);return f(x,function(b){if(y(b,b,x))return!0},!0)===!0}})}),"./node_modules/core-js/modules/esnext.set.symmetric-difference.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/to-set-like.js"),f=o("./node_modules/core-js/internals/set-symmetric-difference.js");h({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(m){return d(f,this,A(m))}})}),"./node_modules/core-js/modules/esnext.set.union.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/to-set-like.js"),f=o("./node_modules/core-js/internals/set-union.js");h({target:"Set",proto:!0,real:!0,forced:!0},{union:function(m){return d(f,this,A(m))}})}),"./node_modules/core-js/modules/web.dom-collections.for-each.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js"),d=o("./node_modules/core-js/internals/dom-iterables.js"),A=o("./node_modules/core-js/internals/dom-token-list-prototype.js"),f=o("./node_modules/core-js/internals/array-for-each.js"),g=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),m=function(y){if(y&&y.forEach!==f)try{g(y,"forEach",f)}catch{y.forEach=f}};for(var x in d)d[x]&&m(h[x]&&h[x].prototype);m(A)}),"./node_modules/core-js/modules/web.dom-collections.iterator.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js"),d=o("./node_modules/core-js/internals/dom-iterables.js"),A=o("./node_modules/core-js/internals/dom-token-list-prototype.js"),f=o("./node_modules/core-js/modules/es.array.iterator.js"),g=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),m=o("./node_modules/core-js/internals/set-to-string-tag.js"),x=o("./node_modules/core-js/internals/well-known-symbol.js"),y=x("iterator"),b=f.values,w=function(N,C){if(N){if(N[y]!==b)try{g(N,y,b)}catch{N[y]=b}if(m(N,C,!0),d[C]){for(var O in f)if(N[O]!==f[O])try{g(N,O,f[O])}catch{N[O]=f[O]}}}};for(var S in d)w(h[S]&&h[S].prototype,S);w(A,"DOMTokenList")}),"./node_modules/core-js/modules/web.set-interval.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/global-this.js"),A=o("./node_modules/core-js/internals/schedulers-fix.js"),f=A(d.setInterval,!0);h({global:!0,bind:!0,forced:d.setInterval!==f},{setInterval:f})}),"./node_modules/core-js/modules/web.set-timeout.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/global-this.js"),A=o("./node_modules/core-js/internals/schedulers-fix.js"),f=A(d.setTimeout,!0);h({global:!0,bind:!0,forced:d.setTimeout!==f},{setTimeout:f})}),"./node_modules/core-js/modules/web.timers.js":(function(l,u,o){o("./node_modules/core-js/modules/web.set-interval.js"),o("./node_modules/core-js/modules/web.set-timeout.js")}),"./node_modules/dompurify/dist/purify.es.mjs":(function(l,u,o){o.r(u),o.d(u,{default:function(){return Xr}});/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:h,setPrototypeOf:d,isFrozen:A,getPrototypeOf:f,getOwnPropertyDescriptor:g}=Object;let{freeze:m,seal:x,create:y}=Object,{apply:b,construct:w}=typeof Reflect<"u"&&Reflect;m||(m=function(Ir){return Ir}),x||(x=function(Ir){return Ir}),b||(b=function(Ir,hr){for(var pr=arguments.length,Lr=new Array(pr>2?pr-2:0),$r=2;$r<pr;$r++)Lr[$r-2]=arguments[$r];return Ir.apply(hr,Lr)}),w||(w=function(Ir){for(var hr=arguments.length,pr=new Array(hr>1?hr-1:0),Lr=1;Lr<hr;Lr++)pr[Lr-1]=arguments[Lr];return new Ir(...pr)});const S=fe(Array.prototype.forEach),N=fe(Array.prototype.lastIndexOf),C=fe(Array.prototype.pop),O=fe(Array.prototype.push),W=fe(Array.prototype.splice),K=fe(String.prototype.toLowerCase),te=fe(String.prototype.toString),q=fe(String.prototype.match),Y=fe(String.prototype.replace),P=fe(String.prototype.indexOf),ce=fe(String.prototype.trim),$=fe(Object.prototype.hasOwnProperty),R=fe(RegExp.prototype.test),se=Te(TypeError);function fe(Qr){return function(Ir){Ir instanceof RegExp&&(Ir.lastIndex=0);for(var hr=arguments.length,pr=new Array(hr>1?hr-1:0),Lr=1;Lr<hr;Lr++)pr[Lr-1]=arguments[Lr];return b(Qr,Ir,pr)}}function Te(Qr){return function(){for(var Ir=arguments.length,hr=new Array(Ir),pr=0;pr<Ir;pr++)hr[pr]=arguments[pr];return w(Qr,hr)}}function Ie(Qr,Ir){let hr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:K;d&&d(Qr,null);let pr=Ir.length;for(;pr--;){let Lr=Ir[pr];if(typeof Lr=="string"){const $r=hr(Lr);$r!==Lr&&(A(Ir)||(Ir[pr]=$r),Lr=$r)}Qr[Lr]=!0}return Qr}function _e(Qr){for(let Ir=0;Ir<Qr.length;Ir++)$(Qr,Ir)||(Qr[Ir]=null);return Qr}function Z(Qr){const Ir=y(null);for(const[hr,pr]of h(Qr))$(Qr,hr)&&(Array.isArray(pr)?Ir[hr]=_e(pr):pr&&typeof pr=="object"&&pr.constructor===Object?Ir[hr]=Z(pr):Ir[hr]=pr);return Ir}function Oe(Qr,Ir){for(;Qr!==null;){const pr=g(Qr,Ir);if(pr){if(pr.get)return fe(pr.get);if(typeof pr.value=="function")return fe(pr.value)}Qr=f(Qr)}function hr(){return null}return hr}const ee=m(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),re=m(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),je=m(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Ne=m(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ye=m(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),me=m(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ie=m(["#text"]),le=m(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Ee=m(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Re=m(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ue=m(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),de=x(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Ce=x(/<%[\w\W]*|[\w\W]*%>/gm),ue=x(/\$\{[\w\W]*/gm),$e=x(/^data-[\-\w.\u00B7-\uFFFF]+$/),it=x(/^aria-[\-\w]+$/),Et=x(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Ct=x(/^(?:\w+script|data):/i),Bt=x(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),mr=x(/^html$/i),lr=x(/^[a-z][.\w]*(-[.\w]+)+$/i);var He=Object.freeze({__proto__:null,ARIA_ATTR:it,ATTR_WHITESPACE:Bt,CUSTOM_ELEMENT:lr,DATA_ATTR:$e,DOCTYPE_NAME:mr,ERB_EXPR:Ce,IS_ALLOWED_URI:Et,IS_SCRIPT_OR_DATA:Ct,MUSTACHE_EXPR:de,TMPLIT_EXPR:ue});const $t={element:1,text:3,progressingInstruction:7,comment:8,document:9},Nt=function(){return typeof window>"u"?null:window},Dr=function(Ir,hr){if(typeof Ir!="object"||typeof Ir.createPolicy!="function")return null;let pr=null;const Lr="data-tt-policy-suffix";hr&&hr.hasAttribute(Lr)&&(pr=hr.getAttribute(Lr));const $r="dompurify"+(pr?"#"+pr:"");try{return Ir.createPolicy($r,{createHTML(dn){return dn},createScriptURL(dn){return dn}})}catch{return console.warn("TrustedTypes policy "+$r+" could not be created."),null}},vr=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function an(){let Qr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Nt();const Ir=It=>an(It);if(Ir.version="3.3.1",Ir.removed=[],!Qr||!Qr.document||Qr.document.nodeType!==$t.document||!Qr.Element)return Ir.isSupported=!1,Ir;let{document:hr}=Qr;const pr=hr,Lr=pr.currentScript,{DocumentFragment:$r,HTMLTemplateElement:dn,Node:zr,Element:Wn,NodeFilter:Hr,NamedNodeMap:Mr=Qr.NamedNodeMap||Qr.MozNamedAttrMap,HTMLFormElement:jn,DOMParser:cn,trustedTypes:Ln}=Qr,ca=Wn.prototype,Pt=Oe(ca,"cloneNode"),Kr=Oe(ca,"remove"),un=Oe(ca,"nextSibling"),tn=Oe(ca,"childNodes"),cr=Oe(ca,"parentNode");if(typeof dn=="function"){const It=hr.createElement("template");It.content&&It.content.ownerDocument&&(hr=It.content.ownerDocument)}let ga,xi="";const{implementation:Cn,createNodeIterator:Ts,createDocumentFragment:Ni,getElementsByTagName:yi}=hr,{importNode:Wi}=pr;let Ii=vr();Ir.isSupported=typeof h=="function"&&typeof cr=="function"&&Cn&&Cn.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Ds,ERB_EXPR:Ga,TMPLIT_EXPR:xs,DATA_ATTR:Va,ARIA_ATTR:Sc,IS_SCRIPT_OR_DATA:ys,ATTR_WHITESPACE:Bl,CUSTOM_ELEMENT:Ec}=He;let{IS_ALLOWED_URI:Il}=He,$i=null;const yo=Ie({},[...ee,...re,...je,...ye,...ie]);let fa=null;const tc=Ie({},[...le,...Ee,...Re,...Ue]);let ai=Object.seal(y(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),To=null,Ys=null;const _o=Object.seal(y(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let nl=!0,Oo=!0,Vs=!1,Si=!0,ii=!1,ml=!0,ko=!1,Wc=!1,ds=!1,Gn=!1,Vi=!1,bs=!1,ws=!0,Po=!1;const Li="user-content-";let co=!0,Ji=!1,Di={},bo=null;const Fo=Ie({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let va=null;const zi=Ie({},["audio","video","img","source","image","track"]);let js=null;const Zs=Ie({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ms="http://www.w3.org/1998/Math/MathML",Do="http://www.w3.org/2000/svg",Ht="http://www.w3.org/1999/xhtml";let H=Ht,oe=!1,he=null;const M=Ie({},[Ms,Do,Ht],te);let Q=Ie({},["mi","mo","mn","ms","mtext"]),ne=Ie({},["annotation-xml"]);const we=Ie({},["title","style","font","a","script"]);let Fe=null;const qe=["application/xhtml+xml","text/html"],st="text/html";let I=null,E=null;const D=hr.createElement("form"),z=function(tt){return tt instanceof RegExp||tt instanceof Function},X=function(){let tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(E&&E===tt)){if((!tt||typeof tt!="object")&&(tt={}),tt=Z(tt),Fe=qe.indexOf(tt.PARSER_MEDIA_TYPE)===-1?st:tt.PARSER_MEDIA_TYPE,I=Fe==="application/xhtml+xml"?te:K,$i=$(tt,"ALLOWED_TAGS")?Ie({},tt.ALLOWED_TAGS,I):yo,fa=$(tt,"ALLOWED_ATTR")?Ie({},tt.ALLOWED_ATTR,I):tc,he=$(tt,"ALLOWED_NAMESPACES")?Ie({},tt.ALLOWED_NAMESPACES,te):M,js=$(tt,"ADD_URI_SAFE_ATTR")?Ie(Z(Zs),tt.ADD_URI_SAFE_ATTR,I):Zs,va=$(tt,"ADD_DATA_URI_TAGS")?Ie(Z(zi),tt.ADD_DATA_URI_TAGS,I):zi,bo=$(tt,"FORBID_CONTENTS")?Ie({},tt.FORBID_CONTENTS,I):Fo,To=$(tt,"FORBID_TAGS")?Ie({},tt.FORBID_TAGS,I):Z({}),Ys=$(tt,"FORBID_ATTR")?Ie({},tt.FORBID_ATTR,I):Z({}),Di=$(tt,"USE_PROFILES")?tt.USE_PROFILES:!1,nl=tt.ALLOW_ARIA_ATTR!==!1,Oo=tt.ALLOW_DATA_ATTR!==!1,Vs=tt.ALLOW_UNKNOWN_PROTOCOLS||!1,Si=tt.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ii=tt.SAFE_FOR_TEMPLATES||!1,ml=tt.SAFE_FOR_XML!==!1,ko=tt.WHOLE_DOCUMENT||!1,Gn=tt.RETURN_DOM||!1,Vi=tt.RETURN_DOM_FRAGMENT||!1,bs=tt.RETURN_TRUSTED_TYPE||!1,ds=tt.FORCE_BODY||!1,ws=tt.SANITIZE_DOM!==!1,Po=tt.SANITIZE_NAMED_PROPS||!1,co=tt.KEEP_CONTENT!==!1,Ji=tt.IN_PLACE||!1,Il=tt.ALLOWED_URI_REGEXP||Et,H=tt.NAMESPACE||Ht,Q=tt.MATHML_TEXT_INTEGRATION_POINTS||Q,ne=tt.HTML_INTEGRATION_POINTS||ne,ai=tt.CUSTOM_ELEMENT_HANDLING||{},tt.CUSTOM_ELEMENT_HANDLING&&z(tt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ai.tagNameCheck=tt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),tt.CUSTOM_ELEMENT_HANDLING&&z(tt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ai.attributeNameCheck=tt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),tt.CUSTOM_ELEMENT_HANDLING&&typeof tt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ai.allowCustomizedBuiltInElements=tt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ii&&(Oo=!1),Vi&&(Gn=!0),Di&&($i=Ie({},ie),fa=[],Di.html===!0&&(Ie($i,ee),Ie(fa,le)),Di.svg===!0&&(Ie($i,re),Ie(fa,Ee),Ie(fa,Ue)),Di.svgFilters===!0&&(Ie($i,je),Ie(fa,Ee),Ie(fa,Ue)),Di.mathMl===!0&&(Ie($i,ye),Ie(fa,Re),Ie(fa,Ue))),tt.ADD_TAGS&&(typeof tt.ADD_TAGS=="function"?_o.tagCheck=tt.ADD_TAGS:($i===yo&&($i=Z($i)),Ie($i,tt.ADD_TAGS,I))),tt.ADD_ATTR&&(typeof tt.ADD_ATTR=="function"?_o.attributeCheck=tt.ADD_ATTR:(fa===tc&&(fa=Z(fa)),Ie(fa,tt.ADD_ATTR,I))),tt.ADD_URI_SAFE_ATTR&&Ie(js,tt.ADD_URI_SAFE_ATTR,I),tt.FORBID_CONTENTS&&(bo===Fo&&(bo=Z(bo)),Ie(bo,tt.FORBID_CONTENTS,I)),tt.ADD_FORBID_CONTENTS&&(bo===Fo&&(bo=Z(bo)),Ie(bo,tt.ADD_FORBID_CONTENTS,I)),co&&($i["#text"]=!0),ko&&Ie($i,["html","head","body"]),$i.table&&(Ie($i,["tbody"]),delete To.tbody),tt.TRUSTED_TYPES_POLICY){if(typeof tt.TRUSTED_TYPES_POLICY.createHTML!="function")throw se('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof tt.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw se('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ga=tt.TRUSTED_TYPES_POLICY,xi=ga.createHTML("")}else ga===void 0&&(ga=Dr(Ln,Lr)),ga!==null&&typeof xi=="string"&&(xi=ga.createHTML(""));m&&m(tt),E=tt}},ae=Ie({},[...re,...je,...Ne]),Se=Ie({},[...ye,...me]),ge=function(tt){let Wt=cr(tt);(!Wt||!Wt.tagName)&&(Wt={namespaceURI:H,tagName:"template"});const ur=K(tt.tagName),Yt=K(Wt.tagName);return he[tt.namespaceURI]?tt.namespaceURI===Do?Wt.namespaceURI===Ht?ur==="svg":Wt.namespaceURI===Ms?ur==="svg"&&(Yt==="annotation-xml"||Q[Yt]):!!ae[ur]:tt.namespaceURI===Ms?Wt.namespaceURI===Ht?ur==="math":Wt.namespaceURI===Do?ur==="math"&&ne[Yt]:!!Se[ur]:tt.namespaceURI===Ht?Wt.namespaceURI===Do&&!ne[Yt]||Wt.namespaceURI===Ms&&!Q[Yt]?!1:!Se[ur]&&(we[ur]||!ae[ur]):!!(Fe==="application/xhtml+xml"&&he[tt.namespaceURI]):!1},ve=function(tt){O(Ir.removed,{element:tt});try{cr(tt).removeChild(tt)}catch{Kr(tt)}},Me=function(tt,Wt){try{O(Ir.removed,{attribute:Wt.getAttributeNode(tt),from:Wt})}catch{O(Ir.removed,{attribute:null,from:Wt})}if(Wt.removeAttribute(tt),tt==="is")if(Gn||Vi)try{ve(Wt)}catch{}else try{Wt.setAttribute(tt,"")}catch{}},ze=function(tt){let Wt=null,ur=null;if(ds)tt="<remove></remove>"+tt;else{const or=q(tt,/^[\r\n\t ]+/);ur=or&&or[0]}Fe==="application/xhtml+xml"&&H===Ht&&(tt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+tt+"</body></html>");const Yt=ga?ga.createHTML(tt):tt;if(H===Ht)try{Wt=new cn().parseFromString(Yt,Fe)}catch{}if(!Wt||!Wt.documentElement){Wt=Cn.createDocument(H,"template",null);try{Wt.documentElement.innerHTML=oe?xi:Yt}catch{}}const Ot=Wt.body||Wt.documentElement;return tt&&ur&&Ot.insertBefore(hr.createTextNode(ur),Ot.childNodes[0]||null),H===Ht?yi.call(Wt,ko?"html":"body")[0]:ko?Wt.documentElement:Ot},et=function(tt){return Ts.call(tt.ownerDocument||tt,tt,Hr.SHOW_ELEMENT|Hr.SHOW_COMMENT|Hr.SHOW_TEXT|Hr.SHOW_PROCESSING_INSTRUCTION|Hr.SHOW_CDATA_SECTION,null)},ot=function(tt){return tt instanceof jn&&(typeof tt.nodeName!="string"||typeof tt.textContent!="string"||typeof tt.removeChild!="function"||!(tt.attributes instanceof Mr)||typeof tt.removeAttribute!="function"||typeof tt.setAttribute!="function"||typeof tt.namespaceURI!="string"||typeof tt.insertBefore!="function"||typeof tt.hasChildNodes!="function")},Pe=function(tt){return typeof zr=="function"&&tt instanceof zr};function yt(It,tt,Wt){S(It,ur=>{ur.call(Ir,tt,Wt,E)})}const gt=function(tt){let Wt=null;if(yt(Ii.beforeSanitizeElements,tt,null),ot(tt))return ve(tt),!0;const ur=I(tt.nodeName);if(yt(Ii.uponSanitizeElement,tt,{tagName:ur,allowedTags:$i}),ml&&tt.hasChildNodes()&&!Pe(tt.firstElementChild)&&R(/<[/\w!]/g,tt.innerHTML)&&R(/<[/\w!]/g,tt.textContent)||tt.nodeType===$t.progressingInstruction||ml&&tt.nodeType===$t.comment&&R(/<[/\w]/g,tt.data))return ve(tt),!0;if(!(_o.tagCheck instanceof Function&&_o.tagCheck(ur))&&(!$i[ur]||To[ur])){if(!To[ur]&&nt(ur)&&(ai.tagNameCheck instanceof RegExp&&R(ai.tagNameCheck,ur)||ai.tagNameCheck instanceof Function&&ai.tagNameCheck(ur)))return!1;if(co&&!bo[ur]){const Yt=cr(tt)||tt.parentNode,Ot=tn(tt)||tt.childNodes;if(Ot&&Yt){const or=Ot.length;for(let at=or-1;at>=0;--at){const ht=Pt(Ot[at],!0);ht.__removalCount=(tt.__removalCount||0)+1,Yt.insertBefore(ht,un(tt))}}}return ve(tt),!0}return tt instanceof Wn&&!ge(tt)||(ur==="noscript"||ur==="noembed"||ur==="noframes")&&R(/<\/no(script|embed|frames)/i,tt.innerHTML)?(ve(tt),!0):(ii&&tt.nodeType===$t.text&&(Wt=tt.textContent,S([Ds,Ga,xs],Yt=>{Wt=Y(Wt,Yt," ")}),tt.textContent!==Wt&&(O(Ir.removed,{element:tt.cloneNode()}),tt.textContent=Wt)),yt(Ii.afterSanitizeElements,tt,null),!1)},wt=function(tt,Wt,ur){if(ws&&(Wt==="id"||Wt==="name")&&(ur in hr||ur in D))return!1;if(!(Oo&&!Ys[Wt]&&R(Va,Wt))){if(!(nl&&R(Sc,Wt))){if(!(_o.attributeCheck instanceof Function&&_o.attributeCheck(Wt,tt))){if(!fa[Wt]||Ys[Wt]){if(!(nt(tt)&&(ai.tagNameCheck instanceof RegExp&&R(ai.tagNameCheck,tt)||ai.tagNameCheck instanceof Function&&ai.tagNameCheck(tt))&&(ai.attributeNameCheck instanceof RegExp&&R(ai.attributeNameCheck,Wt)||ai.attributeNameCheck instanceof Function&&ai.attributeNameCheck(Wt,tt))||Wt==="is"&&ai.allowCustomizedBuiltInElements&&(ai.tagNameCheck instanceof RegExp&&R(ai.tagNameCheck,ur)||ai.tagNameCheck instanceof Function&&ai.tagNameCheck(ur))))return!1}else if(!js[Wt]){if(!R(Il,Y(ur,Bl,""))){if(!((Wt==="src"||Wt==="xlink:href"||Wt==="href")&&tt!=="script"&&P(ur,"data:")===0&&va[tt])){if(!(Vs&&!R(ys,Y(ur,Bl,"")))){if(ur)return!1}}}}}}}return!0},nt=function(tt){return tt!=="annotation-xml"&&q(tt,Ec)},Ft=function(tt){yt(Ii.beforeSanitizeAttributes,tt,null);const{attributes:Wt}=tt;if(!Wt||ot(tt))return;const ur={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:fa,forceKeepAttr:void 0};let Yt=Wt.length;for(;Yt--;){const Ot=Wt[Yt],{name:or,namespaceURI:at,value:ht}=Ot,Tt=I(or),_t=ht;let dr=or==="value"?_t:ce(_t);if(ur.attrName=Tt,ur.attrValue=dr,ur.keepAttr=!0,ur.forceKeepAttr=void 0,yt(Ii.uponSanitizeAttribute,tt,ur),dr=ur.attrValue,Po&&(Tt==="id"||Tt==="name")&&(Me(or,tt),dr=Li+dr),ml&&R(/((--!?|])>)|<\/(style|title|textarea)/i,dr)){Me(or,tt);continue}if(Tt==="attributename"&&q(dr,"href")){Me(or,tt);continue}if(ur.forceKeepAttr)continue;if(!ur.keepAttr){Me(or,tt);continue}if(!Si&&R(/\/>/i,dr)){Me(or,tt);continue}ii&&S([Ds,Ga,xs],jr=>{dr=Y(dr,jr," ")});const xr=I(tt.nodeName);if(!wt(xr,Tt,dr)){Me(or,tt);continue}if(ga&&typeof Ln=="object"&&typeof Ln.getAttributeType=="function"&&!at)switch(Ln.getAttributeType(xr,Tt)){case"TrustedHTML":{dr=ga.createHTML(dr);break}case"TrustedScriptURL":{dr=ga.createScriptURL(dr);break}}if(dr!==_t)try{at?tt.setAttributeNS(at,or,dr):tt.setAttribute(or,dr),ot(tt)?ve(tt):C(Ir.removed)}catch{Me(or,tt)}}yt(Ii.afterSanitizeAttributes,tt,null)},qt=function It(tt){let Wt=null;const ur=et(tt);for(yt(Ii.beforeSanitizeShadowDOM,tt,null);Wt=ur.nextNode();)yt(Ii.uponSanitizeShadowNode,Wt,null),gt(Wt),Ft(Wt),Wt.content instanceof $r&&It(Wt.content);yt(Ii.afterSanitizeShadowDOM,tt,null)};return Ir.sanitize=function(It){let tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Wt=null,ur=null,Yt=null,Ot=null;if(oe=!It,oe&&(It="<!-->"),typeof It!="string"&&!Pe(It))if(typeof It.toString=="function"){if(It=It.toString(),typeof It!="string")throw se("dirty is not a string, aborting")}else throw se("toString is not a function");if(!Ir.isSupported)return It;if(Wc||X(tt),Ir.removed=[],typeof It=="string"&&(Ji=!1),Ji){if(It.nodeName){const ht=I(It.nodeName);if(!$i[ht]||To[ht])throw se("root node is forbidden and cannot be sanitized in-place")}}else if(It instanceof zr)Wt=ze("<!---->"),ur=Wt.ownerDocument.importNode(It,!0),ur.nodeType===$t.element&&ur.nodeName==="BODY"||ur.nodeName==="HTML"?Wt=ur:Wt.appendChild(ur);else{if(!Gn&&!ii&&!ko&&It.indexOf("<")===-1)return ga&&bs?ga.createHTML(It):It;if(Wt=ze(It),!Wt)return Gn?null:bs?xi:""}Wt&&ds&&ve(Wt.firstChild);const or=et(Ji?It:Wt);for(;Yt=or.nextNode();)gt(Yt),Ft(Yt),Yt.content instanceof $r&&qt(Yt.content);if(Ji)return It;if(Gn){if(Vi)for(Ot=Ni.call(Wt.ownerDocument);Wt.firstChild;)Ot.appendChild(Wt.firstChild);else Ot=Wt;return(fa.shadowroot||fa.shadowrootmode)&&(Ot=Wi.call(pr,Ot,!0)),Ot}let at=ko?Wt.outerHTML:Wt.innerHTML;return ko&&$i["!doctype"]&&Wt.ownerDocument&&Wt.ownerDocument.doctype&&Wt.ownerDocument.doctype.name&&R(mr,Wt.ownerDocument.doctype.name)&&(at="<!DOCTYPE "+Wt.ownerDocument.doctype.name+`>
`+at),ii&&S([Ds,Ga,xs],ht=>{at=Y(at,ht," ")}),ga&&bs?ga.createHTML(at):at},Ir.setConfig=function(){let It=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};X(It),Wc=!0},Ir.clearConfig=function(){E=null,Wc=!1},Ir.isValidAttribute=function(It,tt,Wt){E||X({});const ur=I(It),Yt=I(tt);return wt(ur,Yt,Wt)},Ir.addHook=function(It,tt){typeof tt=="function"&&O(Ii[It],tt)},Ir.removeHook=function(It,tt){if(tt!==void 0){const Wt=N(Ii[It],tt);return Wt===-1?void 0:W(Ii[It],Wt,1)[0]}return C(Ii[It])},Ir.removeHooks=function(It){Ii[It]=[]},Ir.removeAllHooks=function(){Ii=vr()},Ir}var Xr=an()}),"./node_modules/fast-png/lib-esm/PngDecoder.js":(function(l,u,o){o.r(u),o.d(u,{default:function(){return b}});var h=o("./node_modules/iobuffer/lib-esm/IOBuffer.js"),d=o("./node_modules/pako/dist/pako.esm.mjs"),A=o("./node_modules/fast-png/lib-esm/helpers/crc.js"),f=o("./node_modules/fast-png/lib-esm/helpers/decodeInterlaceAdam7.js"),g=o("./node_modules/fast-png/lib-esm/helpers/decodeInterlaceNull.js"),m=o("./node_modules/fast-png/lib-esm/helpers/signature.js"),x=o("./node_modules/fast-png/lib-esm/helpers/text.js"),y=o("./node_modules/fast-png/lib-esm/internalTypes.js");class b extends h.IOBuffer{constructor(C,O={}){super(C);Yi(this,"_checkCrc");Yi(this,"_inflator");Yi(this,"_png");Yi(this,"_apng");Yi(this,"_end");Yi(this,"_hasPalette");Yi(this,"_palette");Yi(this,"_hasTransparency");Yi(this,"_transparency");Yi(this,"_compressionMethod");Yi(this,"_filterMethod");Yi(this,"_interlaceMethod");Yi(this,"_colorType");Yi(this,"_isAnimated");Yi(this,"_numberOfFrames");Yi(this,"_numberOfPlays");Yi(this,"_frames");Yi(this,"_writingDataChunks");const{checkCrc:W=!1}=O;this._checkCrc=W,this._inflator=new d.Inflate,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=y.CompressionMethod.UNKNOWN,this._filterMethod=y.FilterMethod.UNKNOWN,this._interlaceMethod=y.InterlaceMethod.UNKNOWN,this._colorType=y.ColorType.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for((0,m.checkSignature)(this);!this._end;){const C=this.readUint32(),O=this.readChars(4);this.decodeChunk(C,O)}return this.decodeImage(),this._png}decodeApng(){for((0,m.checkSignature)(this);!this._end;){const C=this.readUint32(),O=this.readChars(4);this.decodeApngChunk(C,O)}return this.decodeApngImage(),this._apng}decodeChunk(C,O){const W=this.offset;switch(O){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(C);break;case"IDAT":this.decodeIDAT(C);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(C);break;case"iCCP":this.decodeiCCP(C);break;case x.textChunkName:(0,x.decodetEXt)(this._png.text,this,C);break;case"pHYs":this.decodepHYs();break;default:this.skip(C);break}if(this.offset-W!==C)throw new Error(`Length mismatch while decoding chunk ${O}`);this._checkCrc?(0,A.checkCrc)(this,C+4,O):this.skip(4)}decodeApngChunk(C,O){const W=this.offset;switch(O!=="fdAT"&&O!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),O){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(C);break;default:this.decodeChunk(C,O),this.offset=W+C;break}if(this.offset-W!==C)throw new Error(`Length mismatch while decoding chunk ${O}`);this._checkCrc?(0,A.checkCrc)(this,C+4,O):this.skip(4)}decodeIHDR(){const C=this._png;C.width=this.readUint32(),C.height=this.readUint32(),C.depth=w(this.readUint8());const O=this.readUint8();this._colorType=O;let W;switch(O){case y.ColorType.GREYSCALE:W=1;break;case y.ColorType.TRUECOLOUR:W=3;break;case y.ColorType.INDEXED_COLOUR:W=1;break;case y.ColorType.GREYSCALE_ALPHA:W=2;break;case y.ColorType.TRUECOLOUR_ALPHA:W=4;break;case y.ColorType.UNKNOWN:default:throw new Error(`Unknown color type: ${O}`)}if(this._png.channels=W,this._compressionMethod=this.readUint8(),this._compressionMethod!==y.CompressionMethod.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const C={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(C)}decodePLTE(C){if(C%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${C}`);const O=C/3;this._hasPalette=!0;const W=[];this._palette=W;for(let K=0;K<O;K++)W.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(C){this._writingDataChunks=!0;const O=C,W=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,W,O)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(C)}decodeFDAT(C){this._writingDataChunks=!0;let O=C,W=this.offset+this.byteOffset;if(W+=4,O-=4,this._inflator.push(new Uint8Array(this.buffer,W,O)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(C)}decodetRNS(C){switch(this._colorType){case y.ColorType.GREYSCALE:case y.ColorType.TRUECOLOUR:{if(C%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${C}`);if(C/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${C/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(C/2);for(let O=0;O<C/2;O++)this._transparency[O]=this.readUint16();break}case y.ColorType.INDEXED_COLOUR:{if(C>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${C} vs ${this._palette.length})`);let O=0;for(;O<C;O++){const W=this.readByte();this._palette[O].push(W)}for(;O<this._palette.length;O++)this._palette[O].push(255);break}case y.ColorType.UNKNOWN:case y.ColorType.GREYSCALE_ALPHA:case y.ColorType.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(C){const O=(0,x.readKeyword)(this),W=this.readUint8();if(W!==y.CompressionMethod.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${W}`);const K=this.readBytes(C-O.length-2);this._png.iccEmbeddedProfile={name:O,profile:(0,d.inflate)(K)}}decodepHYs(){const C=this.readUint32(),O=this.readUint32(),W=this.readByte();this._png.resolution={x:C,y:O,unit:W}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let C=0;C<this._numberOfFrames;C++){const O={sequenceNumber:this._frames[C].sequenceNumber,delayNumber:this._frames[C].delayNumber,delayDenominator:this._frames[C].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},W=this._frames.at(C);if(W){if(W.data=(0,g.decodeInterlaceNull)({data:W.data,width:W.width,height:W.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),C===0||W.xOffset===0&&W.yOffset===0&&W.width===this._png.width&&W.height===this._png.height)O.data=W.data;else{const K=this._apng.frames.at(C-1);this.disposeFrame(W,K,O),this.addFrameDataToCanvas(O,W)}this._apng.frames.push(O)}}return this._apng}disposeFrame(C,O,W){switch(C.disposeOp){case y.DisposeOpType.NONE:break;case y.DisposeOpType.BACKGROUND:for(let K=0;K<this._png.height;K++)for(let te=0;te<this._png.width;te++){const q=(K*C.width+te)*this._png.channels;for(let Y=0;Y<this._png.channels;Y++)W.data[q+Y]=0}break;case y.DisposeOpType.PREVIOUS:W.data.set(O.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(C,O){const W=1<<this._png.depth,K=(te,q)=>{const Y=((te+O.yOffset)*this._png.width+O.xOffset+q)*this._png.channels,P=(te*O.width+q)*this._png.channels;return{index:Y,frameIndex:P}};switch(O.blendOp){case y.BlendOpType.SOURCE:for(let te=0;te<O.height;te++)for(let q=0;q<O.width;q++){const{index:Y,frameIndex:P}=K(te,q);for(let ce=0;ce<this._png.channels;ce++)C.data[Y+ce]=O.data[P+ce]}break;case y.BlendOpType.OVER:for(let te=0;te<O.height;te++)for(let q=0;q<O.width;q++){const{index:Y,frameIndex:P}=K(te,q);for(let ce=0;ce<this._png.channels;ce++){const $=O.data[P+this._png.channels-1]/W,R=ce%(this._png.channels-1)===0?1:O.data[P+ce],se=Math.floor($*R+(1-$)*C.data[Y+ce]);C.data[Y+ce]+=se}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var O;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const C=this._isAnimated?((O=this._frames)==null?void 0:O.at(0)).data:this._inflator.result;if(this._filterMethod!==y.FilterMethod.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===y.InterlaceMethod.NO_INTERLACE)this._png.data=(0,g.decodeInterlaceNull)({data:C,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===y.InterlaceMethod.ADAM7)this._png.data=(0,f.decodeInterlaceAdam7)({data:C,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const C=this._inflator.result,O=this._frames.at(-1);O?O.data=C:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:y.DisposeOpType.NONE,blendOp:y.BlendOpType.SOURCE,data:C}),this._inflator=new d.Inflate,this._writingDataChunks=!1}}function w(S){if(S!==1&&S!==2&&S!==4&&S!==8&&S!==16)throw new Error(`invalid bit depth: ${S}`);return S}}),"./node_modules/fast-png/lib-esm/PngEncoder.js":(function(l,u,o){o.r(u),o.d(u,{default:function(){return y}});var h=o("./node_modules/iobuffer/lib-esm/IOBuffer.js"),d=o("./node_modules/pako/dist/pako.esm.mjs"),A=o("./node_modules/fast-png/lib-esm/helpers/crc.js"),f=o("./node_modules/fast-png/lib-esm/helpers/signature.js"),g=o("./node_modules/fast-png/lib-esm/helpers/text.js"),m=o("./node_modules/fast-png/lib-esm/internalTypes.js");const x={level:3};class y extends h.IOBuffer{constructor(K,te={}){super();Yi(this,"_png");Yi(this,"_zlibOptions");Yi(this,"_colorType");Yi(this,"_interlaceMethod");this._colorType=m.ColorType.UNKNOWN,this._zlibOptions={...x,...te.zlib},this._png=this._checkData(K),this._interlaceMethod=(te.interlace==="Adam7"?m.InterlaceMethod.ADAM7:m.InterlaceMethod.NO_INTERLACE)??m.InterlaceMethod.NO_INTERLACE,this.setBigEndian()}encode(){if((0,f.writeSignature)(this),this.encodeIHDR(),this._png.palette&&(this.encodePLTE(),this._png.palette[0].length===4&&this.encodeTRNS()),this.encodeData(),this._png.text)for(const[K,te]of Object.entries(this._png.text))(0,g.encodetEXt)(this,K,te);return this.encodeIEND(),this.toArray()}encodeIHDR(){this.writeUint32(13),this.writeChars("IHDR"),this.writeUint32(this._png.width),this.writeUint32(this._png.height),this.writeByte(this._png.depth),this.writeByte(this._colorType),this.writeByte(m.CompressionMethod.DEFLATE),this.writeByte(m.FilterMethod.ADAPTIVE),this.writeByte(this._interlaceMethod),(0,A.writeCrc)(this,17)}encodeIEND(){this.writeUint32(0),this.writeChars("IEND"),(0,A.writeCrc)(this,4)}encodePLTE(){var te;const K=((te=this._png.palette)==null?void 0:te.length)*3;this.writeUint32(K),this.writeChars("PLTE");for(const q of this._png.palette)this.writeByte(q[0]),this.writeByte(q[1]),this.writeByte(q[2]);(0,A.writeCrc)(this,4+K)}encodeTRNS(){const K=this._png.palette.filter(te=>te.at(-1)!==255);this.writeUint32(K.length),this.writeChars("tRNS");for(const te of K)this.writeByte(te.at(-1));(0,A.writeCrc)(this,4+K.length)}encodeIDAT(K){this.writeUint32(K.length),this.writeChars("IDAT"),this.writeBytes(K),(0,A.writeCrc)(this,K.length+4)}encodeData(){const{width:K,height:te,channels:q,depth:Y,data:P}=this._png,ce=Y<=8?Math.ceil(K*Y/8)*q:Math.ceil(K*Y/8*q/2),$=new h.IOBuffer().setBigEndian();let R=0;if(this._interlaceMethod===m.InterlaceMethod.NO_INTERLACE)for(let Te=0;Te<te;Te++)$.writeByte(0),Y===16?R=C(P,$,ce,R):R=S(P,$,ce,R);else this._interlaceMethod===m.InterlaceMethod.ADAM7&&(R=N(this._png,P,$,R));const se=$.toArray(),fe=(0,d.deflate)(se,this._zlibOptions);this.encodeIDAT(fe)}_checkData(K){const{colorType:te,channels:q,depth:Y}=w(K,K.palette),P={width:b(K.width,"width"),height:b(K.height,"height"),channels:q,data:K.data,depth:Y,text:K.text,palette:K.palette};this._colorType=te;const ce=Y<8?Math.ceil(P.width*Y/8)*P.height*q:P.width*P.height*q;if(P.data.length!==ce)throw new RangeError(`wrong data size. Found ${P.data.length}, expected ${ce}`);return P}}function b(O,W){if(Number.isInteger(O)&&O>0)return O;throw new TypeError(`${W} must be a positive integer`)}function w(O,W){const{channels:K=4,depth:te=8}=O;if(K!==4&&K!==3&&K!==2&&K!==1)throw new RangeError(`unsupported number of channels: ${K}`);const q={channels:K,depth:te,colorType:m.ColorType.UNKNOWN};switch(K){case 4:q.colorType=m.ColorType.TRUECOLOUR_ALPHA;break;case 3:q.colorType=m.ColorType.TRUECOLOUR;break;case 1:W?q.colorType=m.ColorType.INDEXED_COLOUR:q.colorType=m.ColorType.GREYSCALE;break;case 2:q.colorType=m.ColorType.GREYSCALE_ALPHA;break;default:throw new Error("unsupported number of channels")}return q}function S(O,W,K,te){for(let q=0;q<K;q++)W.writeByte(O[te++]);return te}function N(O,W,K,te){const q=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],{width:Y,height:P,channels:ce,depth:$}=O;let R=0;$===16?R=ce*$/8/2:R=ce*$/8;for(let se=0;se<7;se++){const fe=q[se],Te=Math.floor((Y-fe.x+fe.xStep-1)/fe.xStep),Ie=Math.floor((P-fe.y+fe.yStep-1)/fe.yStep);if(Te<=0||Ie<=0)continue;const _e=Te*R;for(let Z=0;Z<Ie;Z++){const Oe=fe.y+Z*fe.yStep,ee=$<=8?new Uint8Array(_e):new Uint16Array(_e);let re=0;for(let je=0;je<Te;je++){const Ne=fe.x+je*fe.xStep;if(Ne<Y&&Oe<P){const ye=(Oe*Y+Ne)*R;for(let me=0;me<R;me++)ee[re++]=W[ye+me]}}if(K.writeByte(0),$===8)K.writeBytes(ee);else if($===16)for(const je of ee)K.writeByte(je>>8&255),K.writeByte(je&255)}}return te}function C(O,W,K,te){for(let q=0;q<K;q++)W.writeUint16(O[te++]);return te}}),"./node_modules/fast-png/lib-esm/convertIndexedToRgb.js":(function(l,u,o){o.r(u),o.d(u,{convertIndexedToRgb:function(){return h}});function h(A){const f=A.palette,g=A.depth;if(!f)throw new Error("Color palette is undefined.");d(A);const m=A.width*A.height,x=m*f[0].length,y=new Uint8Array(x);let b=0,w=0;const S=new Uint8Array(m);let N=255;switch(g){case 1:N=128;break;case 2:N=192;break;case 4:N=240;break;case 8:N=255;break;default:throw new Error("Incorrect depth value")}for(const C of A.data){let O=N,W=8;for(;O&&(W-=g,S[b++]=(C&O)>>W,O=O>>g,b%A.width!==0););}if(A.palette)for(const C of S){const O=A.palette.at(C);if(!O)throw new Error("Incorrect index of palette color");y.set(O,w),w+=O.length}return y}function d(A){const f=A.depth<8?Math.ceil(A.width*A.depth/8)*A.height*A.channels:A.width*A.height*A.channels;if(A.data.length!==f)throw new RangeError(`wrong data size. Found ${A.data.length}, expected ${f}`)}}),"./node_modules/fast-png/lib-esm/helpers/applyUnfilter.js":(function(l,u,o){o.r(u),o.d(u,{applyUnfilter:function(){return d}});var h=o("./node_modules/fast-png/lib-esm/helpers/unfilter.js");function d(A,f,g,m,x,y){switch(A){case 0:(0,h.unfilterNone)(f,g,x);break;case 1:(0,h.unfilterSub)(f,g,x,y);break;case 2:(0,h.unfilterUp)(f,g,m,x);break;case 3:(0,h.unfilterAverage)(f,g,m,x,y);break;case 4:(0,h.unfilterPaeth)(f,g,m,x,y);break;default:throw new Error(`Unsupported filter: ${A}`)}}}),"./node_modules/fast-png/lib-esm/helpers/crc.js":(function(l,u,o){o.r(u),o.d(u,{checkCrc:function(){return g},writeCrc:function(){return m}});const h=[];for(let x=0;x<256;x++){let y=x;for(let b=0;b<8;b++)y&1?y=3988292384^y>>>1:y=y>>>1;h[x]=y}const d=4294967295;function A(x,y,b){let w=x;for(let S=0;S<b;S++)w=h[(w^y[S])&255]^w>>>8;return w}function f(x,y){return(A(d,x,y)^d)>>>0}function g(x,y,b){const w=x.readUint32(),S=f(new Uint8Array(x.buffer,x.byteOffset+x.offset-y-4,y),y);if(S!==w)throw new Error(`CRC mismatch for chunk ${b}. Expected ${w}, found ${S}`)}function m(x,y){x.writeUint32(f(new Uint8Array(x.buffer,x.byteOffset+x.offset-y,y),y))}}),"./node_modules/fast-png/lib-esm/helpers/decodeInterlaceAdam7.js":(function(l,u,o){o.r(u),o.d(u,{decodeInterlaceAdam7:function(){return g}});var h=o("./node_modules/fast-png/lib-esm/helpers/applyUnfilter.js");const d=new Uint16Array([255]),f=new Uint8Array(d.buffer)[0]===255;function g(x){const{data:y,width:b,height:w,channels:S,depth:N}=x,C=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],O=Math.ceil(N/8)*S,W=new Uint8Array(w*b*O);let K=0;for(let te=0;te<7;te++){const q=C[te],Y=Math.ceil((b-q.x)/q.xStep),P=Math.ceil((w-q.y)/q.yStep);if(Y<=0||P<=0)continue;const ce=Y*O,$=new Uint8Array(ce);for(let R=0;R<P;R++){const se=y[K++],fe=y.subarray(K,K+ce);K+=ce;const Te=new Uint8Array(ce);(0,h.applyUnfilter)(se,fe,Te,$,ce,O),$.set(Te);for(let Ie=0;Ie<Y;Ie++){const _e=q.x+Ie*q.xStep,Z=q.y+R*q.yStep;if(!(_e>=b||Z>=w))for(let Oe=0;Oe<O;Oe++)W[(Z*b+_e)*O+Oe]=Te[Ie*O+Oe]}}}if(N===16){const te=new Uint16Array(W.buffer);if(f)for(let q=0;q<te.length;q++)te[q]=m(te[q]);return te}else return W}function m(x){return(x&255)<<8|x>>8&255}}),"./node_modules/fast-png/lib-esm/helpers/decodeInterlaceNull.js":(function(l,u,o){o.r(u),o.d(u,{decodeInterlaceNull:function(){return m}});var h=o("./node_modules/fast-png/lib-esm/helpers/unfilter.js");const d=new Uint16Array([255]),f=new Uint8Array(d.buffer)[0]===255,g=new Uint8Array(0);function m(y){const{data:b,width:w,height:S,channels:N,depth:C}=y,O=Math.ceil(C/8)*N,W=Math.ceil(C/8*N*w),K=new Uint8Array(S*W);let te=g,q=0,Y,P;for(let ce=0;ce<S;ce++){switch(Y=b.subarray(q+1,q+1+W),P=K.subarray(ce*W,(ce+1)*W),b[q]){case 0:(0,h.unfilterNone)(Y,P,W);break;case 1:(0,h.unfilterSub)(Y,P,W,O);break;case 2:(0,h.unfilterUp)(Y,P,te,W);break;case 3:(0,h.unfilterAverage)(Y,P,te,W,O);break;case 4:(0,h.unfilterPaeth)(Y,P,te,W,O);break;default:throw new Error(`Unsupported filter: ${b[q]}`)}te=P,q+=W+1}if(C===16){const ce=new Uint16Array(K.buffer);if(f)for(let $=0;$<ce.length;$++)ce[$]=x(ce[$]);return ce}else return K}function x(y){return(y&255)<<8|y>>8&255}}),"./node_modules/fast-png/lib-esm/helpers/signature.js":(function(l,u,o){o.r(u),o.d(u,{checkSignature:function(){return A},hasPngSignature:function(){return f},writeSignature:function(){return d}});const h=Uint8Array.of(137,80,78,71,13,10,26,10);function d(g){g.writeBytes(h)}function A(g){if(!f(g.readBytes(h.length)))throw new Error("wrong PNG signature")}function f(g){if(g.length<h.length)return!1;for(let m=0;m<h.length;m++)if(g[m]!==h[m])return!1;return!0}}),"./node_modules/fast-png/lib-esm/helpers/text.js":(function(l,u,o){o.r(u),o.d(u,{decodetEXt:function(){return y},encodetEXt:function(){return b},readKeyword:function(){return w},readLatin1:function(){return S},textChunkName:function(){return d}});var h=o("./node_modules/fast-png/lib-esm/helpers/crc.js");const d="tEXt",A=0,f=new TextDecoder("latin1");function g(N){if(x(N),N.length===0||N.length>79)throw new Error("keyword length must be between 1 and 79")}const m=/^[\u0000-\u00FF]*$/;function x(N){if(!m.test(N))throw new Error("invalid latin1 text")}function y(N,C,O){const W=w(C);N[W]=S(C,O-W.length-1)}function b(N,C,O){g(C),x(O);const W=C.length+1+O.length;N.writeUint32(W),N.writeChars(d),N.writeChars(C),N.writeByte(A),N.writeChars(O),(0,h.writeCrc)(N,W+4)}function w(N){for(N.mark();N.readByte()!==A;);const C=N.offset;N.reset();const O=f.decode(N.readBytes(C-N.offset-1));return N.skip(1),g(O),O}function S(N,C){return f.decode(N.readBytes(C))}}),"./node_modules/fast-png/lib-esm/helpers/unfilter.js":(function(l,u,o){o.r(u),o.d(u,{unfilterAverage:function(){return f},unfilterNone:function(){return h},unfilterPaeth:function(){return g},unfilterSub:function(){return d},unfilterUp:function(){return A}});function h(x,y,b){for(let w=0;w<b;w++)y[w]=x[w]}function d(x,y,b,w){let S=0;for(;S<w;S++)y[S]=x[S];for(;S<b;S++)y[S]=x[S]+y[S-w]&255}function A(x,y,b,w){let S=0;if(b.length===0)for(;S<w;S++)y[S]=x[S];else for(;S<w;S++)y[S]=x[S]+b[S]&255}function f(x,y,b,w,S){let N=0;if(b.length===0){for(;N<S;N++)y[N]=x[N];for(;N<w;N++)y[N]=x[N]+(y[N-S]>>1)&255}else{for(;N<S;N++)y[N]=x[N]+(b[N]>>1)&255;for(;N<w;N++)y[N]=x[N]+(y[N-S]+b[N]>>1)&255}}function g(x,y,b,w,S){let N=0;if(b.length===0){for(;N<S;N++)y[N]=x[N];for(;N<w;N++)y[N]=x[N]+y[N-S]&255}else{for(;N<S;N++)y[N]=x[N]+b[N]&255;for(;N<w;N++)y[N]=x[N]+m(y[N-S],b[N],b[N-S])&255}}function m(x,y,b){const w=x+y-b,S=Math.abs(w-x),N=Math.abs(w-y),C=Math.abs(w-b);return S<=N&&S<=C?x:N<=C?y:b}}),"./node_modules/fast-png/lib-esm/index.js":(function(l,u,o){o.r(u),o.d(u,{ResolutionUnitSpecifier:function(){return f.ResolutionUnitSpecifier},convertIndexedToRgb:function(){return g.convertIndexedToRgb},decode:function(){return m},decodeApng:function(){return y},encode:function(){return x},hasPngSignature:function(){return A.hasPngSignature}});var h=o("./node_modules/fast-png/lib-esm/PngDecoder.js"),d=o("./node_modules/fast-png/lib-esm/PngEncoder.js"),A=o("./node_modules/fast-png/lib-esm/helpers/signature.js"),f=o("./node_modules/fast-png/lib-esm/types.js"),g=o("./node_modules/fast-png/lib-esm/convertIndexedToRgb.js");function m(b,w){return new h.default(b,w).decode()}function x(b,w){return new d.default(b,w).encode()}function y(b,w){return new h.default(b,w).decodeApng()}}),"./node_modules/fast-png/lib-esm/internalTypes.js":(function(l,u,o){o.r(u),o.d(u,{BlendOpType:function(){return m},ColorType:function(){return h},CompressionMethod:function(){return d},DisposeOpType:function(){return g},FilterMethod:function(){return A},InterlaceMethod:function(){return f}});const h={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},d={UNKNOWN:-1,DEFLATE:0},A={UNKNOWN:-1,ADAPTIVE:0},f={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},g={NONE:0,BACKGROUND:1,PREVIOUS:2},m={SOURCE:0,OVER:1}}),"./node_modules/fast-png/lib-esm/types.js":(function(l,u,o){o.r(u),o.d(u,{ResolutionUnitSpecifier:function(){return h}});var h;(function(d){d[d.UNKNOWN=0]="UNKNOWN",d[d.METRE=1]="METRE"})(h||(h={}))}),"./node_modules/fflate/esm/browser.js":(function(l,u,o){o.r(u),o.d(u,{AsyncCompress:function(){return Ii},AsyncDecompress:function(){return Ys},AsyncDeflate:function(){return cr},AsyncGunzip:function(){return Va},AsyncGzip:function(){return Ii},AsyncInflate:function(){return Ts},AsyncUnzipInflate:function(){return Do},AsyncUnzlib:function(){return fa},AsyncZipDeflate:function(){return Fo},AsyncZlib:function(){return Ec},Compress:function(){return Wi},DecodeUTF8:function(){return ko},Decompress:function(){return To},Deflate:function(){return tn},EncodeUTF8:function(){return Wc},FlateErrorCode:function(){return ee},Gunzip:function(){return xs},Gzip:function(){return Wi},Inflate:function(){return Cn},Unzip:function(){return Ht},UnzipInflate:function(){return Ms},UnzipPassThrough:function(){return Zs},Unzlib:function(){return yo},Zip:function(){return va},ZipDeflate:function(){return bo},ZipPassThrough:function(){return Di},Zlib:function(){return Bl},compress:function(){return Ds},compressSync:function(){return Ga},decompress:function(){return _o},decompressSync:function(){return nl},deflate:function(){return ga},deflateSync:function(){return xi},gunzip:function(){return Sc},gunzipSync:function(){return ys},gzip:function(){return Ds},gzipSync:function(){return Ga},inflate:function(){return Ni},inflateSync:function(){return yi},strFromU8:function(){return Gn},strToU8:function(){return ds},unzip:function(){return oe},unzipSync:function(){return he},unzlib:function(){return tc},unzlibSync:function(){return ai},zip:function(){return zi},zipSync:function(){return js},zlib:function(){return Il},zlibSync:function(){return $i}});var h={},d=(function(M,Q,ne,we,Fe){var qe=new Worker(h[Q]||(h[Q]=URL.createObjectURL(new Blob([M+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return qe.onmessage=function(st){var I=st.data,E=I.$e$;if(E){var D=new Error(E[0]);D.code=E[1],D.stack=E[2],Fe(D,null)}else Fe(null,I)},qe.postMessage(ne,we),qe}),A=Uint8Array,f=Uint16Array,g=Int32Array,m=new A([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),x=new A([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),y=new A([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),b=function(M,Q){for(var ne=new f(31),we=0;we<31;++we)ne[we]=Q+=1<<M[we-1];for(var Fe=new g(ne[30]),we=1;we<30;++we)for(var qe=ne[we];qe<ne[we+1];++qe)Fe[qe]=qe-ne[we]<<5|we;return{b:ne,r:Fe}},w=b(m,2),S=w.b,N=w.r;S[28]=258,N[258]=28;for(var C=b(x,0),O=C.b,W=C.r,K=new f(32768),te=0;te<32768;++te){var q=(te&43690)>>1|(te&21845)<<1;q=(q&52428)>>2|(q&13107)<<2,q=(q&61680)>>4|(q&3855)<<4,K[te]=((q&65280)>>8|(q&255)<<8)>>1}for(var Y=(function(M,Q,ne){for(var we=M.length,Fe=0,qe=new f(Q);Fe<we;++Fe)M[Fe]&&++qe[M[Fe]-1];var st=new f(Q);for(Fe=1;Fe<Q;++Fe)st[Fe]=st[Fe-1]+qe[Fe-1]<<1;var I;if(ne){I=new f(1<<Q);var E=15-Q;for(Fe=0;Fe<we;++Fe)if(M[Fe])for(var D=Fe<<4|M[Fe],z=Q-M[Fe],X=st[M[Fe]-1]++<<z,ae=X|(1<<z)-1;X<=ae;++X)I[K[X]>>E]=D}else for(I=new f(we),Fe=0;Fe<we;++Fe)M[Fe]&&(I[Fe]=K[st[M[Fe]-1]++]>>15-M[Fe]);return I}),P=new A(288),te=0;te<144;++te)P[te]=8;for(var te=144;te<256;++te)P[te]=9;for(var te=256;te<280;++te)P[te]=7;for(var te=280;te<288;++te)P[te]=8;for(var ce=new A(32),te=0;te<32;++te)ce[te]=5;var $=Y(P,9,0),R=Y(P,9,1),se=Y(ce,5,0),fe=Y(ce,5,1),Te=function(M){for(var Q=M[0],ne=1;ne<M.length;++ne)M[ne]>Q&&(Q=M[ne]);return Q},Ie=function(M,Q,ne){var we=Q/8|0;return(M[we]|M[we+1]<<8)>>(Q&7)&ne},_e=function(M,Q){var ne=Q/8|0;return(M[ne]|M[ne+1]<<8|M[ne+2]<<16)>>(Q&7)},Z=function(M){return(M+7)/8|0},Oe=function(M,Q,ne){return(Q==null||Q<0)&&(Q=0),(ne==null||ne>M.length)&&(ne=M.length),new A(M.subarray(Q,ne))},ee={UnexpectedEOF:0,InvalidBlockType:1,InvalidLengthLiteral:2,InvalidDistance:3,StreamFinished:4,NoStreamHandler:5,InvalidHeader:6,NoCallback:7,InvalidUTF8:8,ExtraFieldTooLong:9,InvalidDate:10,FilenameTooLong:11,StreamFinishing:12,InvalidZipData:13,UnknownCompressionMethod:14},re=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],je=function(M,Q,ne){var we=new Error(Q||re[M]);if(we.code=M,Error.captureStackTrace&&Error.captureStackTrace(we,je),!ne)throw we;return we},Ne=function(M,Q,ne,we){var Fe=M.length,qe=we?we.length:0;if(!Fe||Q.f&&!Q.l)return ne||new A(0);var st=!ne,I=st||Q.i!=2,E=Q.i;st&&(ne=new A(Fe*3));var D=function(St){var Vt=ne.length;if(St>Vt){var Gt=new A(Math.max(Vt*2,St));Gt.set(ne),ne=Gt}},z=Q.f||0,X=Q.p||0,ae=Q.b||0,Se=Q.l,ge=Q.d,ve=Q.m,Me=Q.n,ze=Fe*8;do{if(!Se){z=Ie(M,X,1);var et=Ie(M,X+1,3);if(X+=3,et)if(et==1)Se=R,ge=fe,ve=9,Me=5;else if(et==2){var gt=Ie(M,X,31)+257,wt=Ie(M,X+10,15)+4,nt=gt+Ie(M,X+5,31)+1;X+=14;for(var Ft=new A(nt),qt=new A(19),It=0;It<wt;++It)qt[y[It]]=Ie(M,X+It*3,7);X+=wt*3;for(var tt=Te(qt),Wt=(1<<tt)-1,ur=Y(qt,tt,1),It=0;It<nt;){var Yt=ur[Ie(M,X,Wt)];X+=Yt&15;var ot=Yt>>4;if(ot<16)Ft[It++]=ot;else{var Ot=0,or=0;for(ot==16?(or=3+Ie(M,X,3),X+=2,Ot=Ft[It-1]):ot==17?(or=3+Ie(M,X,7),X+=3):ot==18&&(or=11+Ie(M,X,127),X+=7);or--;)Ft[It++]=Ot}}var at=Ft.subarray(0,gt),ht=Ft.subarray(gt);ve=Te(at),Me=Te(ht),Se=Y(at,ve,1),ge=Y(ht,Me,1)}else je(1);else{var ot=Z(X)+4,Pe=M[ot-4]|M[ot-3]<<8,yt=ot+Pe;if(yt>Fe){E&&je(0);break}I&&D(ae+Pe),ne.set(M.subarray(ot,yt),ae),Q.b=ae+=Pe,Q.p=X=yt*8,Q.f=z;continue}if(X>ze){E&&je(0);break}}I&&D(ae+131072);for(var Tt=(1<<ve)-1,_t=(1<<Me)-1,dr=X;;dr=X){var Ot=Se[_e(M,X)&Tt],xr=Ot>>4;if(X+=Ot&15,X>ze){E&&je(0);break}if(Ot||je(2),xr<256)ne[ae++]=xr;else if(xr==256){dr=X,Se=null;break}else{var jr=xr-254;if(xr>264){var It=xr-257,Jt=m[It];jr=Ie(M,X,(1<<Jt)-1)+S[It],X+=Jt}var br=ge[_e(M,X)&_t],Zr=br>>4;br||je(3),X+=br&15;var ht=O[Zr];if(Zr>3){var Jt=x[Zr];ht+=_e(M,X)&(1<<Jt)-1,X+=Jt}if(X>ze){E&&je(0);break}I&&D(ae+131072);var Wr=ae+jr;if(ae<ht){var Ze=qe-ht,bt=Math.min(ht,Wr);for(Ze+ae<0&&je(3);ae<bt;++ae)ne[ae]=we[Ze+ae]}for(;ae<Wr;++ae)ne[ae]=ne[ae-ht]}}Q.l=Se,Q.p=dr,Q.b=ae,Q.f=z,Se&&(z=1,Q.m=ve,Q.d=ge,Q.n=Me)}while(!z);return ae!=ne.length&&st?Oe(ne,0,ae):ne.subarray(0,ae)},ye=function(M,Q,ne){ne<<=Q&7;var we=Q/8|0;M[we]|=ne,M[we+1]|=ne>>8},me=function(M,Q,ne){ne<<=Q&7;var we=Q/8|0;M[we]|=ne,M[we+1]|=ne>>8,M[we+2]|=ne>>16},ie=function(M,Q){for(var ne=[],we=0;we<M.length;++we)M[we]&&ne.push({s:we,f:M[we]});var Fe=ne.length,qe=ne.slice();if(!Fe)return{t:ue,l:0};if(Fe==1){var st=new A(ne[0].s+1);return st[ne[0].s]=1,{t:st,l:1}}ne.sort(function(yt,gt){return yt.f-gt.f}),ne.push({s:-1,f:25001});var I=ne[0],E=ne[1],D=0,z=1,X=2;for(ne[0]={s:-1,f:I.f+E.f,l:I,r:E};z!=Fe-1;)I=ne[ne[D].f<ne[X].f?D++:X++],E=ne[D!=z&&ne[D].f<ne[X].f?D++:X++],ne[z++]={s:-1,f:I.f+E.f,l:I,r:E};for(var ae=qe[0].s,we=1;we<Fe;++we)qe[we].s>ae&&(ae=qe[we].s);var Se=new f(ae+1),ge=le(ne[z-1],Se,0);if(ge>Q){var we=0,ve=0,Me=ge-Q,ze=1<<Me;for(qe.sort(function(gt,wt){return Se[wt.s]-Se[gt.s]||gt.f-wt.f});we<Fe;++we){var et=qe[we].s;if(Se[et]>Q)ve+=ze-(1<<ge-Se[et]),Se[et]=Q;else break}for(ve>>=Me;ve>0;){var ot=qe[we].s;Se[ot]<Q?ve-=1<<Q-Se[ot]++-1:++we}for(;we>=0&&ve;--we){var Pe=qe[we].s;Se[Pe]==Q&&(--Se[Pe],++ve)}ge=Q}return{t:new A(Se),l:ge}},le=function(M,Q,ne){return M.s==-1?Math.max(le(M.l,Q,ne+1),le(M.r,Q,ne+1)):Q[M.s]=ne},Ee=function(M){for(var Q=M.length;Q&&!M[--Q];);for(var ne=new f(++Q),we=0,Fe=M[0],qe=1,st=function(E){ne[we++]=E},I=1;I<=Q;++I)if(M[I]==Fe&&I!=Q)++qe;else{if(!Fe&&qe>2){for(;qe>138;qe-=138)st(32754);qe>2&&(st(qe>10?qe-11<<5|28690:qe-3<<5|12305),qe=0)}else if(qe>3){for(st(Fe),--qe;qe>6;qe-=6)st(8304);qe>2&&(st(qe-3<<5|8208),qe=0)}for(;qe--;)st(Fe);qe=1,Fe=M[I]}return{c:ne.subarray(0,we),n:Q}},Re=function(M,Q){for(var ne=0,we=0;we<Q.length;++we)ne+=M[we]*Q[we];return ne},Ue=function(M,Q,ne){var we=ne.length,Fe=Z(Q+2);M[Fe]=we&255,M[Fe+1]=we>>8,M[Fe+2]=M[Fe]^255,M[Fe+3]=M[Fe+1]^255;for(var qe=0;qe<we;++qe)M[Fe+qe+4]=ne[qe];return(Fe+4+we)*8},de=function(M,Q,ne,we,Fe,qe,st,I,E,D,z){ye(Q,z++,ne),++Fe[256];for(var X=ie(Fe,15),ae=X.t,Se=X.l,ge=ie(qe,15),ve=ge.t,Me=ge.l,ze=Ee(ae),et=ze.c,ot=ze.n,Pe=Ee(ve),yt=Pe.c,gt=Pe.n,wt=new f(19),nt=0;nt<et.length;++nt)++wt[et[nt]&31];for(var nt=0;nt<yt.length;++nt)++wt[yt[nt]&31];for(var Ft=ie(wt,7),qt=Ft.t,It=Ft.l,tt=19;tt>4&&!qt[y[tt-1]];--tt);var Wt=D+5<<3,ur=Re(Fe,P)+Re(qe,ce)+st,Yt=Re(Fe,ae)+Re(qe,ve)+st+14+3*tt+Re(wt,qt)+2*wt[16]+3*wt[17]+7*wt[18];if(E>=0&&Wt<=ur&&Wt<=Yt)return Ue(Q,z,M.subarray(E,E+D));var Ot,or,at,ht;if(ye(Q,z,1+(Yt<ur)),z+=2,Yt<ur){Ot=Y(ae,Se,0),or=ae,at=Y(ve,Me,0),ht=ve;var Tt=Y(qt,It,0);ye(Q,z,ot-257),ye(Q,z+5,gt-1),ye(Q,z+10,tt-4),z+=14;for(var nt=0;nt<tt;++nt)ye(Q,z+3*nt,qt[y[nt]]);z+=3*tt;for(var _t=[et,yt],dr=0;dr<2;++dr)for(var xr=_t[dr],nt=0;nt<xr.length;++nt){var jr=xr[nt]&31;ye(Q,z,Tt[jr]),z+=qt[jr],jr>15&&(ye(Q,z,xr[nt]>>5&127),z+=xr[nt]>>12)}}else Ot=$,or=P,at=se,ht=ce;for(var nt=0;nt<I;++nt){var Jt=we[nt];if(Jt>255){var jr=Jt>>18&31;me(Q,z,Ot[jr+257]),z+=or[jr+257],jr>7&&(ye(Q,z,Jt>>23&31),z+=m[jr]);var br=Jt&31;me(Q,z,at[br]),z+=ht[br],br>3&&(me(Q,z,Jt>>5&8191),z+=x[br])}else me(Q,z,Ot[Jt]),z+=or[Jt]}return me(Q,z,Ot[256]),z+or[256]},Ce=new g([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),ue=new A(0),$e=function(M,Q,ne,we,Fe,qe){var st=qe.z||M.length,I=new A(we+st+5*(1+Math.ceil(st/7e3))+Fe),E=I.subarray(we,I.length-Fe),D=qe.l,z=(qe.r||0)&7;if(Q){z&&(E[0]=qe.r>>3);for(var X=Ce[Q-1],ae=X>>13,Se=X&8191,ge=(1<<ne)-1,ve=qe.p||new f(32768),Me=qe.h||new f(ge+1),ze=Math.ceil(ne/3),et=2*ze,ot=function(nr){return(M[nr]^M[nr+1]<<ze^M[nr+2]<<et)&ge},Pe=new g(25e3),yt=new f(288),gt=new f(32),wt=0,nt=0,Ft=qe.i||0,qt=0,It=qe.w||0,tt=0;Ft+2<st;++Ft){var Wt=ot(Ft),ur=Ft&32767,Yt=Me[Wt];if(ve[ur]=Yt,Me[Wt]=ur,It<=Ft){var Ot=st-Ft;if((wt>7e3||qt>24576)&&(Ot>423||!D)){z=de(M,E,0,Pe,yt,gt,nt,qt,tt,Ft-tt,z),qt=wt=nt=0,tt=Ft;for(var or=0;or<286;++or)yt[or]=0;for(var or=0;or<30;++or)gt[or]=0}var at=2,ht=0,Tt=Se,_t=ur-Yt&32767;if(Ot>2&&Wt==ot(Ft-_t))for(var dr=Math.min(ae,Ot)-1,xr=Math.min(32767,Ft),jr=Math.min(258,Ot);_t<=xr&&--Tt&&ur!=Yt;){if(M[Ft+at]==M[Ft+at-_t]){for(var Jt=0;Jt<jr&&M[Ft+Jt]==M[Ft+Jt-_t];++Jt);if(Jt>at){if(at=Jt,ht=_t,Jt>dr)break;for(var br=Math.min(_t,Jt-2),Zr=0,or=0;or<br;++or){var Wr=Ft-_t+or&32767,Ze=ve[Wr],bt=Wr-Ze&32767;bt>Zr&&(Zr=bt,Yt=Wr)}}}ur=Yt,Yt=ve[ur],_t+=ur-Yt&32767}if(ht){Pe[qt++]=268435456|N[at]<<18|W[ht];var St=N[at]&31,Vt=W[ht]&31;nt+=m[St]+x[Vt],++yt[257+St],++gt[Vt],It=Ft+at,++wt}else Pe[qt++]=M[Ft],++yt[M[Ft]]}}for(Ft=Math.max(Ft,It);Ft<st;++Ft)Pe[qt++]=M[Ft],++yt[M[Ft]];z=de(M,E,D,Pe,yt,gt,nt,qt,tt,Ft-tt,z),D||(qe.r=z&7|E[z/8|0]<<3,z-=7,qe.h=Me,qe.p=ve,qe.i=Ft,qe.w=It)}else{for(var Ft=qe.w||0;Ft<st+D;Ft+=65535){var Gt=Ft+65535;Gt>=st&&(E[z/8|0]=D,Gt=st),z=Ue(E,z+1,M.subarray(Ft,Gt))}qe.i=st}return Oe(I,0,we+Z(z)+Fe)},it=(function(){for(var M=new Int32Array(256),Q=0;Q<256;++Q){for(var ne=Q,we=9;--we;)ne=(ne&1&&-306674912)^ne>>>1;M[Q]=ne}return M})(),Et=function(){var M=-1;return{p:function(Q){for(var ne=M,we=0;we<Q.length;++we)ne=it[ne&255^Q[we]]^ne>>>8;M=ne},d:function(){return~M}}},Ct=function(){var M=1,Q=0;return{p:function(ne){for(var we=M,Fe=Q,qe=ne.length|0,st=0;st!=qe;){for(var I=Math.min(st+2655,qe);st<I;++st)Fe+=we+=ne[st];we=(we&65535)+15*(we>>16),Fe=(Fe&65535)+15*(Fe>>16)}M=we,Q=Fe},d:function(){return M%=65521,Q%=65521,(M&255)<<24|(M&65280)<<8|(Q&255)<<8|Q>>8}}},Bt=function(M,Q,ne,we,Fe){if(!Fe&&(Fe={l:1},Q.dictionary)){var qe=Q.dictionary.subarray(-32768),st=new A(qe.length+M.length);st.set(qe),st.set(M,qe.length),M=st,Fe.w=qe.length}return $e(M,Q.level==null?6:Q.level,Q.mem==null?Fe.l?Math.ceil(Math.max(8,Math.min(13,Math.log(M.length)))*1.5):20:12+Q.mem,ne,we,Fe)},mr=function(M,Q){var ne={};for(var we in M)ne[we]=M[we];for(var we in Q)ne[we]=Q[we];return ne},lr=function(M,Q,ne){for(var we=M(),Fe=M.toString(),qe=Fe.slice(Fe.indexOf("[")+1,Fe.lastIndexOf("]")).replace(/\s+/g,"").split(","),st=0;st<we.length;++st){var I=we[st],E=qe[st];if(typeof I=="function"){Q+=";"+E+"=";var D=I.toString();if(I.prototype)if(D.indexOf("[native code]")!=-1){var z=D.indexOf(" ",8)+1;Q+=D.slice(z,D.indexOf("(",z))}else{Q+=D;for(var X in I.prototype)Q+=";"+E+".prototype."+X+"="+I.prototype[X].toString()}else Q+=D}else ne[E]=I}return Q},He=[],$t=function(M){var Q=[];for(var ne in M)M[ne].buffer&&Q.push((M[ne]=new M[ne].constructor(M[ne])).buffer);return Q},Nt=function(M,Q,ne,we){if(!He[ne]){for(var Fe="",qe={},st=M.length-1,I=0;I<st;++I)Fe=lr(M[I],Fe,qe);He[ne]={c:lr(M[st],Fe,qe),e:qe}}var E=mr({},He[ne].e);return d(He[ne].c+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+Q.toString()+"}",ne,E,$t(E),we)},Dr=function(){return[A,f,g,m,x,y,S,O,R,fe,K,re,Y,Te,Ie,_e,Z,Oe,je,Ne,yi,hr,pr]},vr=function(){return[A,f,g,m,x,y,N,W,$,P,se,ce,K,Ce,ue,Y,ye,me,ie,le,Ee,Re,Ue,de,Z,Oe,$e,Bt,xi,hr]},an=function(){return[jn,ca,Mr,Et,it]},Xr=function(){return[cn,Ln]},Qr=function(){return[Pt,Mr,Ct]},Ir=function(){return[Kr]},hr=function(M){return postMessage(M,[M.buffer])},pr=function(M){return M&&{out:M.size&&new A(M.size),dictionary:M.dictionary}},Lr=function(M,Q,ne,we,Fe,qe){var st=Nt(ne,we,Fe,function(I,E){st.terminate(),qe(I,E)});return st.postMessage([M,Q],Q.consume?[M.buffer]:[]),function(){st.terminate()}},$r=function(M){return M.ondata=function(Q,ne){return postMessage([Q,ne],[Q.buffer])},function(Q){Q.data.length?(M.push(Q.data[0],Q.data[1]),postMessage([Q.data[0].length])):M.flush()}},dn=function(M,Q,ne,we,Fe,qe,st){var I,E=Nt(M,we,Fe,function(D,z){D?(E.terminate(),Q.ondata.call(Q,D)):Array.isArray(z)?z.length==1?(Q.queuedSize-=z[0],Q.ondrain&&Q.ondrain(z[0])):(z[1]&&E.terminate(),Q.ondata.call(Q,D,z[0],z[1])):st(z)});E.postMessage(ne),Q.queuedSize=0,Q.push=function(D,z){Q.ondata||je(5),I&&Q.ondata(je(4,0,1),null,!!z),Q.queuedSize+=D.length,E.postMessage([D,I=z],[D.buffer])},Q.terminate=function(){E.terminate()},qe&&(Q.flush=function(){E.postMessage([])})},zr=function(M,Q){return M[Q]|M[Q+1]<<8},Wn=function(M,Q){return(M[Q]|M[Q+1]<<8|M[Q+2]<<16|M[Q+3]<<24)>>>0},Hr=function(M,Q){return Wn(M,Q)+Wn(M,Q+4)*4294967296},Mr=function(M,Q,ne){for(;ne;++Q)M[Q]=ne,ne>>>=8},jn=function(M,Q){var ne=Q.filename;if(M[0]=31,M[1]=139,M[2]=8,M[8]=Q.level<2?4:Q.level==9?2:0,M[9]=3,Q.mtime!=0&&Mr(M,4,Math.floor(new Date(Q.mtime||Date.now())/1e3)),ne){M[3]=8;for(var we=0;we<=ne.length;++we)M[we+10]=ne.charCodeAt(we)}},cn=function(M){(M[0]!=31||M[1]!=139||M[2]!=8)&&je(6,"invalid gzip data");var Q=M[3],ne=10;Q&4&&(ne+=(M[10]|M[11]<<8)+2);for(var we=(Q>>3&1)+(Q>>4&1);we>0;we-=!M[ne++]);return ne+(Q&2)},Ln=function(M){var Q=M.length;return(M[Q-4]|M[Q-3]<<8|M[Q-2]<<16|M[Q-1]<<24)>>>0},ca=function(M){return 10+(M.filename?M.filename.length+1:0)},Pt=function(M,Q){var ne=Q.level,we=ne==0?0:ne<6?1:ne==9?3:2;if(M[0]=120,M[1]=we<<6|(Q.dictionary&&32),M[1]|=31-(M[0]<<8|M[1])%31,Q.dictionary){var Fe=Ct();Fe.p(Q.dictionary),Mr(M,2,Fe.d())}},Kr=function(M,Q){return((M[0]&15)!=8||M[0]>>4>7||(M[0]<<8|M[1])%31)&&je(6,"invalid zlib data"),(M[1]>>5&1)==+!Q&&je(6,"invalid zlib data: "+(M[1]&32?"need":"unexpected")+" dictionary"),(M[1]>>3&4)+2};function un(M,Q){return typeof M=="function"&&(Q=M,M={}),this.ondata=Q,M}var tn=(function(){function M(Q,ne){if(typeof Q=="function"&&(ne=Q,Q={}),this.ondata=ne,this.o=Q||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new A(98304),this.o.dictionary){var we=this.o.dictionary.subarray(-32768);this.b.set(we,32768-we.length),this.s.i=32768-we.length}}return M.prototype.p=function(Q,ne){this.ondata(Bt(Q,this.o,0,0,this.s),ne)},M.prototype.push=function(Q,ne){this.ondata||je(5),this.s.l&&je(4);var we=Q.length+this.s.z;if(we>this.b.length){if(we>2*this.b.length-32768){var Fe=new A(we&-32768);Fe.set(this.b.subarray(0,this.s.z)),this.b=Fe}var qe=this.b.length-this.s.z;this.b.set(Q.subarray(0,qe),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(Q.subarray(qe),32768),this.s.z=Q.length-qe+32768,this.s.i=32766,this.s.w=32768}else this.b.set(Q,this.s.z),this.s.z+=Q.length;this.s.l=ne&1,(this.s.z>this.s.w+8191||ne)&&(this.p(this.b,ne||!1),this.s.w=this.s.i,this.s.i-=2)},M.prototype.flush=function(){this.ondata||je(5),this.s.l&&je(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},M})(),cr=(function(){function M(Q,ne){dn([vr,function(){return[$r,tn]}],this,un.call(this,Q,ne),function(we){var Fe=new tn(we.data);onmessage=$r(Fe)},6,1)}return M})();function ga(M,Q,ne){return ne||(ne=Q,Q={}),typeof ne!="function"&&je(7),Lr(M,Q,[vr],function(we){return hr(xi(we.data[0],we.data[1]))},0,ne)}function xi(M,Q){return Bt(M,Q||{},0,0)}var Cn=(function(){function M(Q,ne){typeof Q=="function"&&(ne=Q,Q={}),this.ondata=ne;var we=Q&&Q.dictionary&&Q.dictionary.subarray(-32768);this.s={i:0,b:we?we.length:0},this.o=new A(32768),this.p=new A(0),we&&this.o.set(we)}return M.prototype.e=function(Q){if(this.ondata||je(5),this.d&&je(4),!this.p.length)this.p=Q;else if(Q.length){var ne=new A(this.p.length+Q.length);ne.set(this.p),ne.set(Q,this.p.length),this.p=ne}},M.prototype.c=function(Q){this.s.i=+(this.d=Q||!1);var ne=this.s.b,we=Ne(this.p,this.s,this.o);this.ondata(Oe(we,ne,this.s.b),this.d),this.o=Oe(we,this.s.b-32768),this.s.b=this.o.length,this.p=Oe(this.p,this.s.p/8|0),this.s.p&=7},M.prototype.push=function(Q,ne){this.e(Q),this.c(ne)},M})(),Ts=(function(){function M(Q,ne){dn([Dr,function(){return[$r,Cn]}],this,un.call(this,Q,ne),function(we){var Fe=new Cn(we.data);onmessage=$r(Fe)},7,0)}return M})();function Ni(M,Q,ne){return ne||(ne=Q,Q={}),typeof ne!="function"&&je(7),Lr(M,Q,[Dr],function(we){return hr(yi(we.data[0],pr(we.data[1])))},1,ne)}function yi(M,Q){return Ne(M,{i:2},Q&&Q.out,Q&&Q.dictionary)}var Wi=(function(){function M(Q,ne){this.c=Et(),this.l=0,this.v=1,tn.call(this,Q,ne)}return M.prototype.push=function(Q,ne){this.c.p(Q),this.l+=Q.length,tn.prototype.push.call(this,Q,ne)},M.prototype.p=function(Q,ne){var we=Bt(Q,this.o,this.v&&ca(this.o),ne&&8,this.s);this.v&&(jn(we,this.o),this.v=0),ne&&(Mr(we,we.length-8,this.c.d()),Mr(we,we.length-4,this.l)),this.ondata(we,ne)},M.prototype.flush=function(){tn.prototype.flush.call(this)},M})(),Ii=(function(){function M(Q,ne){dn([vr,an,function(){return[$r,tn,Wi]}],this,un.call(this,Q,ne),function(we){var Fe=new Wi(we.data);onmessage=$r(Fe)},8,1)}return M})();function Ds(M,Q,ne){return ne||(ne=Q,Q={}),typeof ne!="function"&&je(7),Lr(M,Q,[vr,an,function(){return[Ga]}],function(we){return hr(Ga(we.data[0],we.data[1]))},2,ne)}function Ga(M,Q){Q||(Q={});var ne=Et(),we=M.length;ne.p(M);var Fe=Bt(M,Q,ca(Q),8),qe=Fe.length;return jn(Fe,Q),Mr(Fe,qe-8,ne.d()),Mr(Fe,qe-4,we),Fe}var xs=(function(){function M(Q,ne){this.v=1,this.r=0,Cn.call(this,Q,ne)}return M.prototype.push=function(Q,ne){if(Cn.prototype.e.call(this,Q),this.r+=Q.length,this.v){var we=this.p.subarray(this.v-1),Fe=we.length>3?cn(we):4;if(Fe>we.length){if(!ne)return}else this.v>1&&this.onmember&&this.onmember(this.r-we.length);this.p=we.subarray(Fe),this.v=0}Cn.prototype.c.call(this,ne),this.s.f&&!this.s.l&&!ne&&(this.v=Z(this.s.p)+9,this.s={i:0},this.o=new A(0),this.push(new A(0),ne))},M})(),Va=(function(){function M(Q,ne){var we=this;dn([Dr,Xr,function(){return[$r,Cn,xs]}],this,un.call(this,Q,ne),function(Fe){var qe=new xs(Fe.data);qe.onmember=function(st){return postMessage(st)},onmessage=$r(qe)},9,0,function(Fe){return we.onmember&&we.onmember(Fe)})}return M})();function Sc(M,Q,ne){return ne||(ne=Q,Q={}),typeof ne!="function"&&je(7),Lr(M,Q,[Dr,Xr,function(){return[ys]}],function(we){return hr(ys(we.data[0],we.data[1]))},3,ne)}function ys(M,Q){var ne=cn(M);return ne+8>M.length&&je(6,"invalid gzip data"),Ne(M.subarray(ne,-8),{i:2},Q&&Q.out||new A(Ln(M)),Q&&Q.dictionary)}var Bl=(function(){function M(Q,ne){this.c=Ct(),this.v=1,tn.call(this,Q,ne)}return M.prototype.push=function(Q,ne){this.c.p(Q),tn.prototype.push.call(this,Q,ne)},M.prototype.p=function(Q,ne){var we=Bt(Q,this.o,this.v&&(this.o.dictionary?6:2),ne&&4,this.s);this.v&&(Pt(we,this.o),this.v=0),ne&&Mr(we,we.length-4,this.c.d()),this.ondata(we,ne)},M.prototype.flush=function(){tn.prototype.flush.call(this)},M})(),Ec=(function(){function M(Q,ne){dn([vr,Qr,function(){return[$r,tn,Bl]}],this,un.call(this,Q,ne),function(we){var Fe=new Bl(we.data);onmessage=$r(Fe)},10,1)}return M})();function Il(M,Q,ne){return ne||(ne=Q,Q={}),typeof ne!="function"&&je(7),Lr(M,Q,[vr,Qr,function(){return[$i]}],function(we){return hr($i(we.data[0],we.data[1]))},4,ne)}function $i(M,Q){Q||(Q={});var ne=Ct();ne.p(M);var we=Bt(M,Q,Q.dictionary?6:2,4);return Pt(we,Q),Mr(we,we.length-4,ne.d()),we}var yo=(function(){function M(Q,ne){Cn.call(this,Q,ne),this.v=Q&&Q.dictionary?2:1}return M.prototype.push=function(Q,ne){if(Cn.prototype.e.call(this,Q),this.v){if(this.p.length<6&&!ne)return;this.p=this.p.subarray(Kr(this.p,this.v-1)),this.v=0}ne&&(this.p.length<4&&je(6,"invalid zlib data"),this.p=this.p.subarray(0,-4)),Cn.prototype.c.call(this,ne)},M})(),fa=(function(){function M(Q,ne){dn([Dr,Ir,function(){return[$r,Cn,yo]}],this,un.call(this,Q,ne),function(we){var Fe=new yo(we.data);onmessage=$r(Fe)},11,0)}return M})();function tc(M,Q,ne){return ne||(ne=Q,Q={}),typeof ne!="function"&&je(7),Lr(M,Q,[Dr,Ir,function(){return[ai]}],function(we){return hr(ai(we.data[0],pr(we.data[1])))},5,ne)}function ai(M,Q){return Ne(M.subarray(Kr(M,Q&&Q.dictionary),-4),{i:2},Q&&Q.out,Q&&Q.dictionary)}var To=(function(){function M(Q,ne){this.o=un.call(this,Q,ne)||{},this.G=xs,this.I=Cn,this.Z=yo}return M.prototype.i=function(){var Q=this;this.s.ondata=function(ne,we){Q.ondata(ne,we)}},M.prototype.push=function(Q,ne){if(this.ondata||je(5),this.s)this.s.push(Q,ne);else{if(this.p&&this.p.length){var we=new A(this.p.length+Q.length);we.set(this.p),we.set(Q,this.p.length)}else this.p=Q;this.p.length>2&&(this.s=this.p[0]==31&&this.p[1]==139&&this.p[2]==8?new this.G(this.o):(this.p[0]&15)!=8||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(this.o):new this.Z(this.o),this.i(),this.s.push(this.p,ne),this.p=null)}},M})(),Ys=(function(){function M(Q,ne){To.call(this,Q,ne),this.queuedSize=0,this.G=Va,this.I=Ts,this.Z=fa}return M.prototype.i=function(){var Q=this;this.s.ondata=function(ne,we,Fe){Q.ondata(ne,we,Fe)},this.s.ondrain=function(ne){Q.queuedSize-=ne,Q.ondrain&&Q.ondrain(ne)}},M.prototype.push=function(Q,ne){this.queuedSize+=Q.length,To.prototype.push.call(this,Q,ne)},M})();function _o(M,Q,ne){return ne||(ne=Q,Q={}),typeof ne!="function"&&je(7),M[0]==31&&M[1]==139&&M[2]==8?Sc(M,Q,ne):(M[0]&15)!=8||M[0]>>4>7||(M[0]<<8|M[1])%31?Ni(M,Q,ne):tc(M,Q,ne)}function nl(M,Q){return M[0]==31&&M[1]==139&&M[2]==8?ys(M,Q):(M[0]&15)!=8||M[0]>>4>7||(M[0]<<8|M[1])%31?yi(M,Q):ai(M,Q)}var Oo=function(M,Q,ne,we){for(var Fe in M){var qe=M[Fe],st=Q+Fe,I=we;Array.isArray(qe)&&(I=mr(we,qe[1]),qe=qe[0]),qe instanceof A?ne[st]=[qe,I]:(ne[st+="/"]=[new A(0),I],Oo(qe,st,ne,we))}},Vs=typeof TextEncoder<"u"&&new TextEncoder,Si=typeof TextDecoder<"u"&&new TextDecoder,ii=0;try{Si.decode(ue,{stream:!0}),ii=1}catch{}var ml=function(M){for(var Q="",ne=0;;){var we=M[ne++],Fe=(we>127)+(we>223)+(we>239);if(ne+Fe>M.length)return{s:Q,r:Oe(M,ne-1)};Fe?Fe==3?(we=((we&15)<<18|(M[ne++]&63)<<12|(M[ne++]&63)<<6|M[ne++]&63)-65536,Q+=String.fromCharCode(55296|we>>10,56320|we&1023)):Fe&1?Q+=String.fromCharCode((we&31)<<6|M[ne++]&63):Q+=String.fromCharCode((we&15)<<12|(M[ne++]&63)<<6|M[ne++]&63):Q+=String.fromCharCode(we)}},ko=(function(){function M(Q){this.ondata=Q,ii?this.t=new TextDecoder:this.p=ue}return M.prototype.push=function(Q,ne){if(this.ondata||je(5),ne=!!ne,this.t){this.ondata(this.t.decode(Q,{stream:!0}),ne),ne&&(this.t.decode().length&&je(8),this.t=null);return}this.p||je(4);var we=new A(this.p.length+Q.length);we.set(this.p),we.set(Q,this.p.length);var Fe=ml(we),qe=Fe.s,st=Fe.r;ne?(st.length&&je(8),this.p=null):this.p=st,this.ondata(qe,ne)},M})(),Wc=(function(){function M(Q){this.ondata=Q}return M.prototype.push=function(Q,ne){this.ondata||je(5),this.d&&je(4),this.ondata(ds(Q),this.d=ne||!1)},M})();function ds(M,Q){if(Q){for(var ne=new A(M.length),we=0;we<M.length;++we)ne[we]=M.charCodeAt(we);return ne}if(Vs)return Vs.encode(M);for(var Fe=M.length,qe=new A(M.length+(M.length>>1)),st=0,I=function(z){qe[st++]=z},we=0;we<Fe;++we){if(st+5>qe.length){var E=new A(st+8+(Fe-we<<1));E.set(qe),qe=E}var D=M.charCodeAt(we);D<128||Q?I(D):D<2048?(I(192|D>>6),I(128|D&63)):D>55295&&D<57344?(D=65536+(D&1047552)|M.charCodeAt(++we)&1023,I(240|D>>18),I(128|D>>12&63),I(128|D>>6&63),I(128|D&63)):(I(224|D>>12),I(128|D>>6&63),I(128|D&63))}return Oe(qe,0,st)}function Gn(M,Q){if(Q){for(var ne="",we=0;we<M.length;we+=16384)ne+=String.fromCharCode.apply(null,M.subarray(we,we+16384));return ne}else{if(Si)return Si.decode(M);var Fe=ml(M),qe=Fe.s,ne=Fe.r;return ne.length&&je(8),qe}}var Vi=function(M){return M==1?3:M<6?2:M==9?1:0},bs=function(M,Q){return Q+30+zr(M,Q+26)+zr(M,Q+28)},ws=function(M,Q,ne){var we=zr(M,Q+28),Fe=Gn(M.subarray(Q+46,Q+46+we),!(zr(M,Q+8)&2048)),qe=Q+46+we,st=Wn(M,Q+20),I=ne&&st==4294967295?Po(M,qe):[st,Wn(M,Q+24),Wn(M,Q+42)],E=I[0],D=I[1],z=I[2];return[zr(M,Q+10),E,D,Fe,qe+zr(M,Q+30)+zr(M,Q+32),z]},Po=function(M,Q){for(;zr(M,Q)!=1;Q+=4+zr(M,Q+2));return[Hr(M,Q+12),Hr(M,Q+4),Hr(M,Q+20)]},Li=function(M){var Q=0;if(M)for(var ne in M){var we=M[ne].length;we>65535&&je(9),Q+=we+4}return Q},co=function(M,Q,ne,we,Fe,qe,st,I){var E=we.length,D=ne.extra,z=I&&I.length,X=Li(D);Mr(M,Q,st!=null?33639248:67324752),Q+=4,st!=null&&(M[Q++]=20,M[Q++]=ne.os),M[Q]=20,Q+=2,M[Q++]=ne.flag<<1|(qe<0&&8),M[Q++]=Fe&&8,M[Q++]=ne.compression&255,M[Q++]=ne.compression>>8;var ae=new Date(ne.mtime==null?Date.now():ne.mtime),Se=ae.getFullYear()-1980;if((Se<0||Se>119)&&je(10),Mr(M,Q,Se<<25|ae.getMonth()+1<<21|ae.getDate()<<16|ae.getHours()<<11|ae.getMinutes()<<5|ae.getSeconds()>>1),Q+=4,qe!=-1&&(Mr(M,Q,ne.crc),Mr(M,Q+4,qe<0?-qe-2:qe),Mr(M,Q+8,ne.size)),Mr(M,Q+12,E),Mr(M,Q+14,X),Q+=16,st!=null&&(Mr(M,Q,z),Mr(M,Q+6,ne.attrs),Mr(M,Q+10,st),Q+=14),M.set(we,Q),Q+=E,X)for(var ge in D){var ve=D[ge],Me=ve.length;Mr(M,Q,+ge),Mr(M,Q+2,Me),M.set(ve,Q+4),Q+=4+Me}return z&&(M.set(I,Q),Q+=z),Q},Ji=function(M,Q,ne,we,Fe){Mr(M,Q,101010256),Mr(M,Q+8,ne),Mr(M,Q+10,ne),Mr(M,Q+12,we),Mr(M,Q+16,Fe)},Di=(function(){function M(Q){this.filename=Q,this.c=Et(),this.size=0,this.compression=0}return M.prototype.process=function(Q,ne){this.ondata(null,Q,ne)},M.prototype.push=function(Q,ne){this.ondata||je(5),this.c.p(Q),this.size+=Q.length,ne&&(this.crc=this.c.d()),this.process(Q,ne||!1)},M})(),bo=(function(){function M(Q,ne){var we=this;ne||(ne={}),Di.call(this,Q),this.d=new tn(ne,function(Fe,qe){we.ondata(null,Fe,qe)}),this.compression=8,this.flag=Vi(ne.level)}return M.prototype.process=function(Q,ne){try{this.d.push(Q,ne)}catch(we){this.ondata(we,null,ne)}},M.prototype.push=function(Q,ne){Di.prototype.push.call(this,Q,ne)},M})(),Fo=(function(){function M(Q,ne){var we=this;ne||(ne={}),Di.call(this,Q),this.d=new cr(ne,function(Fe,qe,st){we.ondata(Fe,qe,st)}),this.compression=8,this.flag=Vi(ne.level),this.terminate=this.d.terminate}return M.prototype.process=function(Q,ne){this.d.push(Q,ne)},M.prototype.push=function(Q,ne){Di.prototype.push.call(this,Q,ne)},M})(),va=(function(){function M(Q){this.ondata=Q,this.u=[],this.d=1}return M.prototype.add=function(Q){var ne=this;if(this.ondata||je(5),this.d&2)this.ondata(je(4+(this.d&1)*8,0,1),null,!1);else{var we=ds(Q.filename),Fe=we.length,qe=Q.comment,st=qe&&ds(qe),I=Fe!=Q.filename.length||st&&qe.length!=st.length,E=Fe+Li(Q.extra)+30;Fe>65535&&this.ondata(je(11,0,1),null,!1);var D=new A(E);co(D,0,Q,we,I,-1);var z=[D],X=function(){for(var Me=0,ze=z;Me<ze.length;Me++){var et=ze[Me];ne.ondata(null,et,!1)}z=[]},ae=this.d;this.d=0;var Se=this.u.length,ge=mr(Q,{f:we,u:I,o:st,t:function(){Q.terminate&&Q.terminate()},r:function(){if(X(),ae){var Me=ne.u[Se+1];Me?Me.r():ne.d=1}ae=1}}),ve=0;Q.ondata=function(Me,ze,et){if(Me)ne.ondata(Me,ze,et),ne.terminate();else if(ve+=ze.length,z.push(ze),et){var ot=new A(16);Mr(ot,0,134695760),Mr(ot,4,Q.crc),Mr(ot,8,ve),Mr(ot,12,Q.size),z.push(ot),ge.c=ve,ge.b=E+ve+16,ge.crc=Q.crc,ge.size=Q.size,ae&&ge.r(),ae=1}else ae&&X()},this.u.push(ge)}},M.prototype.end=function(){var Q=this;if(this.d&2){this.ondata(je(4+(this.d&1)*8,0,1),null,!0);return}this.d?this.e():this.u.push({r:function(){Q.d&1&&(Q.u.splice(-1,1),Q.e())},t:function(){}}),this.d=3},M.prototype.e=function(){for(var Q=0,ne=0,we=0,Fe=0,qe=this.u;Fe<qe.length;Fe++){var st=qe[Fe];we+=46+st.f.length+Li(st.extra)+(st.o?st.o.length:0)}for(var I=new A(we+22),E=0,D=this.u;E<D.length;E++){var st=D[E];co(I,Q,st,st.f,st.u,-st.c-2,ne,st.o),Q+=46+st.f.length+Li(st.extra)+(st.o?st.o.length:0),ne+=st.b}Ji(I,Q,this.u.length,we,ne),this.ondata(null,I,!0),this.d=2},M.prototype.terminate=function(){for(var Q=0,ne=this.u;Q<ne.length;Q++){var we=ne[Q];we.t()}this.d=2},M})();function zi(M,Q,ne){ne||(ne=Q,Q={}),typeof ne!="function"&&je(7);var we={};Oo(M,"",we,Q);var Fe=Object.keys(we),qe=Fe.length,st=0,I=0,E=qe,D=new Array(qe),z=[],X=function(){for(var Me=0;Me<z.length;++Me)z[Me]()},ae=function(Me,ze){H(function(){ne(Me,ze)})};H(function(){ae=ne});var Se=function(){var Me=new A(I+22),ze=st,et=I-st;I=0;for(var ot=0;ot<E;++ot){var Pe=D[ot];try{var yt=Pe.c.length;co(Me,I,Pe,Pe.f,Pe.u,yt);var gt=30+Pe.f.length+Li(Pe.extra),wt=I+gt;Me.set(Pe.c,wt),co(Me,st,Pe,Pe.f,Pe.u,yt,I,Pe.m),st+=16+gt+(Pe.m?Pe.m.length:0),I=wt+yt}catch(nt){return ae(nt,null)}}Ji(Me,st,D.length,et,ze),ae(null,Me)};qe||Se();for(var ge=function(Me){var ze=Fe[Me],et=we[ze],ot=et[0],Pe=et[1],yt=Et(),gt=ot.length;yt.p(ot);var wt=ds(ze),nt=wt.length,Ft=Pe.comment,qt=Ft&&ds(Ft),It=qt&&qt.length,tt=Li(Pe.extra),Wt=Pe.level==0?0:8,ur=function(Yt,Ot){if(Yt)X(),ae(Yt,null);else{var or=Ot.length;D[Me]=mr(Pe,{size:gt,crc:yt.d(),c:Ot,f:wt,m:qt,u:nt!=ze.length||qt&&Ft.length!=It,compression:Wt}),st+=30+nt+tt+or,I+=76+2*(nt+tt)+(It||0)+or,--qe||Se()}};if(nt>65535&&ur(je(11,0,1),null),!Wt)ur(null,ot);else if(gt<16e4)try{ur(null,xi(ot,Pe))}catch(Yt){ur(Yt,null)}else z.push(ga(ot,Pe,ur))},ve=0;ve<E;++ve)ge(ve);return X}function js(M,Q){Q||(Q={});var ne={},we=[];Oo(M,"",ne,Q);var Fe=0,qe=0;for(var st in ne){var I=ne[st],E=I[0],D=I[1],z=D.level==0?0:8,X=ds(st),ae=X.length,Se=D.comment,ge=Se&&ds(Se),ve=ge&&ge.length,Me=Li(D.extra);ae>65535&&je(11);var ze=z?xi(E,D):E,et=ze.length,ot=Et();ot.p(E),we.push(mr(D,{size:E.length,crc:ot.d(),c:ze,f:X,m:ge,u:ae!=st.length||ge&&Se.length!=ve,o:Fe,compression:z})),Fe+=30+ae+Me+et,qe+=76+2*(ae+Me)+(ve||0)+et}for(var Pe=new A(qe+22),yt=Fe,gt=qe-Fe,wt=0;wt<we.length;++wt){var X=we[wt];co(Pe,X.o,X,X.f,X.u,X.c.length);var nt=30+X.f.length+Li(X.extra);Pe.set(X.c,X.o+nt),co(Pe,Fe,X,X.f,X.u,X.c.length,X.o,X.m),Fe+=16+nt+(X.m?X.m.length:0)}return Ji(Pe,Fe,we.length,gt,yt),Pe}var Zs=(function(){function M(){}return M.prototype.push=function(Q,ne){this.ondata(null,Q,ne)},M.compression=0,M})(),Ms=(function(){function M(){var Q=this;this.i=new Cn(function(ne,we){Q.ondata(null,ne,we)})}return M.prototype.push=function(Q,ne){try{this.i.push(Q,ne)}catch(we){this.ondata(we,null,ne)}},M.compression=8,M})(),Do=(function(){function M(Q,ne){var we=this;ne<32e4?this.i=new Cn(function(Fe,qe){we.ondata(null,Fe,qe)}):(this.i=new Ts(function(Fe,qe,st){we.ondata(Fe,qe,st)}),this.terminate=this.i.terminate)}return M.prototype.push=function(Q,ne){this.i.terminate&&(Q=Oe(Q,0)),this.i.push(Q,ne)},M.compression=8,M})(),Ht=(function(){function M(Q){this.onfile=Q,this.k=[],this.o={0:Zs},this.p=ue}return M.prototype.push=function(Q,ne){var we=this;if(this.onfile||je(5),this.p||je(4),this.c>0){var Fe=Math.min(this.c,Q.length),qe=Q.subarray(0,Fe);if(this.c-=Fe,this.d?this.d.push(qe,!this.c):this.k[0].push(qe),Q=Q.subarray(Fe),Q.length)return this.push(Q,ne)}else{var st=0,I=0,E=void 0,D=void 0;this.p.length?Q.length?(D=new A(this.p.length+Q.length),D.set(this.p),D.set(Q,this.p.length)):D=this.p:D=Q;for(var z=D.length,X=this.c,ae=X&&this.d,Se=function(){var ze,et=Wn(D,I);if(et==67324752){st=1,E=I,ge.d=null,ge.c=0;var ot=zr(D,I+6),Pe=zr(D,I+8),yt=ot&2048,gt=ot&8,wt=zr(D,I+26),nt=zr(D,I+28);if(z>I+30+wt+nt){var Ft=[];ge.k.unshift(Ft),st=2;var qt=Wn(D,I+18),It=Wn(D,I+22),tt=Gn(D.subarray(I+30,I+=30+wt),!yt);qt==4294967295?(ze=gt?[-2]:Po(D,I),qt=ze[0],It=ze[1]):gt&&(qt=-1),I+=nt,ge.c=qt;var Wt,ur={name:tt,compression:Pe,start:function(){if(ur.ondata||je(5),!qt)ur.ondata(null,ue,!0);else{var Yt=we.o[Pe];Yt||ur.ondata(je(14,"unknown compression type "+Pe,1),null,!1),Wt=qt<0?new Yt(tt):new Yt(tt,qt,It),Wt.ondata=function(ht,Tt,_t){ur.ondata(ht,Tt,_t)};for(var Ot=0,or=Ft;Ot<or.length;Ot++){var at=or[Ot];Wt.push(at,!1)}we.k[0]==Ft&&we.c?we.d=Wt:Wt.push(ue,!0)}},terminate:function(){Wt&&Wt.terminate&&Wt.terminate()}};qt>=0&&(ur.size=qt,ur.originalSize=It),ge.onfile(ur)}return"break"}else if(X){if(et==134695760)return E=I+=12+(X==-2&&8),st=3,ge.c=0,"break";if(et==33639248)return E=I-=4,st=3,ge.c=0,"break"}},ge=this;I<z-4;++I){var ve=Se();if(ve==="break")break}if(this.p=ue,X<0){var Me=st?D.subarray(0,E-12-(X==-2&&8)-(Wn(D,E-16)==134695760&&4)):D.subarray(0,I);ae?ae.push(Me,!!st):this.k[+(st==2)].push(Me)}if(st&2)return this.push(D.subarray(I),ne);this.p=D.subarray(I)}ne&&(this.c&&je(13),this.p=null)},M.prototype.register=function(Q){this.o[Q.compression]=Q},M})(),H=typeof queueMicrotask=="function"?queueMicrotask:typeof setTimeout=="function"?setTimeout:function(M){M()};function oe(M,Q,ne){ne||(ne=Q,Q={}),typeof ne!="function"&&je(7);var we=[],Fe=function(){for(var Me=0;Me<we.length;++Me)we[Me]()},qe={},st=function(Me,ze){H(function(){ne(Me,ze)})};H(function(){st=ne});for(var I=M.length-22;Wn(M,I)!=101010256;--I)if(!I||M.length-I>65558)return st(je(13,0,1),null),Fe;var E=zr(M,I+8);if(E){var D=E,z=Wn(M,I+16),X=z==4294967295||D==65535;if(X){var ae=Wn(M,I-12);X=Wn(M,ae)==101075792,X&&(D=E=Wn(M,ae+32),z=Wn(M,ae+48))}for(var Se=Q&&Q.filter,ge=function(Me){var ze=ws(M,z,X),et=ze[0],ot=ze[1],Pe=ze[2],yt=ze[3],gt=ze[4],wt=ze[5],nt=bs(M,wt);z=gt;var Ft=function(It,tt){It?(Fe(),st(It,null)):(tt&&(qe[yt]=tt),--E||st(null,qe))};if(!Se||Se({name:yt,size:ot,originalSize:Pe,compression:et}))if(!et)Ft(null,Oe(M,nt,nt+ot));else if(et==8){var qt=M.subarray(nt,nt+ot);if(Pe<524288||ot>.8*Pe)try{Ft(null,yi(qt,{out:new A(Pe)}))}catch(It){Ft(It,null)}else we.push(Ni(qt,{size:Pe},Ft))}else Ft(je(14,"unknown compression type "+et,1),null);else Ft(null,null)},ve=0;ve<D;++ve)ge(ve)}else st(null,{});return Fe}function he(M,Q){for(var ne={},we=M.length-22;Wn(M,we)!=101010256;--we)(!we||M.length-we>65558)&&je(13);var Fe=zr(M,we+8);if(!Fe)return{};var qe=Wn(M,we+16),st=qe==4294967295||Fe==65535;if(st){var I=Wn(M,we-12);st=Wn(M,I)==101075792,st&&(Fe=Wn(M,I+32),qe=Wn(M,I+48))}for(var E=Q&&Q.filter,D=0;D<Fe;++D){var z=ws(M,qe,st),X=z[0],ae=z[1],Se=z[2],ge=z[3],ve=z[4],Me=z[5],ze=bs(M,Me);qe=ve,(!E||E({name:ge,size:ae,originalSize:Se,compression:X}))&&(X?X==8?ne[ge]=yi(M.subarray(ze,ze+ae),{out:new A(Se)}):je(14,"unknown compression type "+X):ne[ge]=Oe(M,ze,ze+ae))}return ne}}),"./node_modules/iobuffer/lib-esm/IOBuffer.js":(function(l,u,o){o.r(u),o.d(u,{IOBuffer:function(){return g}});var h=o("./node_modules/iobuffer/lib-esm/text.js");const d=1024*8,A=(()=>{const m=new Uint8Array(4),x=new Uint32Array(m.buffer);return!((x[0]=1)&m[0])})(),f={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class g{constructor(x=d,y={}){Yi(this,"buffer");Yi(this,"byteLength");Yi(this,"byteOffset");Yi(this,"length");Yi(this,"offset");Yi(this,"lastWrittenByte");Yi(this,"littleEndian");Yi(this,"_data");Yi(this,"_mark");Yi(this,"_marks");let b=!1;typeof x=="number"?x=new ArrayBuffer(x):(b=!0,this.lastWrittenByte=x.byteLength);const w=y.offset?y.offset>>>0:0,S=x.byteLength-w;let N=w;(ArrayBuffer.isView(x)||x instanceof g)&&(x.byteLength!==x.buffer.byteLength&&(N=x.byteOffset+w),x=x.buffer),b?this.lastWrittenByte=S:this.lastWrittenByte=0,this.buffer=x,this.length=S,this.byteLength=S,this.byteOffset=N,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,N,S),this._mark=0,this._marks=[]}available(x=1){return this.offset+x<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(x=1){return this.offset+=x,this}back(x=1){return this.offset-=x,this}seek(x){return this.offset=x,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const x=this._marks.pop();if(x===void 0)throw new Error("Mark stack empty");return this.seek(x),this}rewind(){return this.offset=0,this}ensureAvailable(x=1){if(!this.available(x)){const b=(this.offset+x)*2,w=new Uint8Array(b);w.set(new Uint8Array(this.buffer)),this.buffer=w.buffer,this.length=b,this.byteLength=b,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(x=1){return this.readArray(x,"uint8")}readArray(x,y){const b=f[y].BYTES_PER_ELEMENT*x,w=this.byteOffset+this.offset,S=this.buffer.slice(w,w+b);if(this.littleEndian===A&&y!=="uint8"&&y!=="int8"){const C=new Uint8Array(this.buffer.slice(w,w+b));C.reverse();const O=new f[y](C.buffer);return this.offset+=b,O.reverse(),O}const N=new f[y](S);return this.offset+=b,N}readInt16(){const x=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,x}readUint16(){const x=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,x}readInt32(){const x=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,x}readUint32(){const x=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,x}readFloat32(){const x=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,x}readFloat64(){const x=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,x}readBigInt64(){const x=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,x}readBigUint64(){const x=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,x}readChar(){return String.fromCharCode(this.readInt8())}readChars(x=1){let y="";for(let b=0;b<x;b++)y+=this.readChar();return y}readUtf8(x=1){return(0,h.decode)(this.readBytes(x))}decodeText(x=1,y="utf8"){return(0,h.decode)(this.readBytes(x),y)}writeBoolean(x){return this.writeUint8(x?255:0),this}writeInt8(x){return this.ensureAvailable(1),this._data.setInt8(this.offset++,x),this._updateLastWrittenByte(),this}writeUint8(x){return this.ensureAvailable(1),this._data.setUint8(this.offset++,x),this._updateLastWrittenByte(),this}writeByte(x){return this.writeUint8(x)}writeBytes(x){this.ensureAvailable(x.length);for(let y=0;y<x.length;y++)this._data.setUint8(this.offset++,x[y]);return this._updateLastWrittenByte(),this}writeInt16(x){return this.ensureAvailable(2),this._data.setInt16(this.offset,x,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(x){return this.ensureAvailable(2),this._data.setUint16(this.offset,x,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(x){return this.ensureAvailable(4),this._data.setInt32(this.offset,x,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(x){return this.ensureAvailable(4),this._data.setUint32(this.offset,x,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(x){return this.ensureAvailable(4),this._data.setFloat32(this.offset,x,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(x){return this.ensureAvailable(8),this._data.setFloat64(this.offset,x,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(x){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,x,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(x){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,x,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(x){return this.writeUint8(x.charCodeAt(0))}writeChars(x){for(let y=0;y<x.length;y++)this.writeUint8(x.charCodeAt(y));return this}writeUtf8(x){return this.writeBytes((0,h.encode)(x))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}}),"./node_modules/iobuffer/lib-esm/text.js":(function(l,u,o){o.r(u),o.d(u,{decode:function(){return h},encode:function(){return A}});function h(f,g="utf8"){return new TextDecoder(g).decode(f)}const d=new TextEncoder;function A(f){return d.encode(f)}}),"./node_modules/jspdf/dist/jspdf.es.min.js":(function(l,u,o){o.r(u),o.d(u,{AcroForm:function(){return xi},AcroFormAppearance:function(){return cr},AcroFormButton:function(){return cn},AcroFormCheckBox:function(){return Kr},AcroFormChoiceField:function(){return Wn},AcroFormComboBox:function(){return Mr},AcroFormEditBox:function(){return jn},AcroFormListBox:function(){return Hr},AcroFormPasswordField:function(){return tn},AcroFormPushButton:function(){return Ln},AcroFormRadioButton:function(){return ca},AcroFormTextField:function(){return un},GState:function(){return Ne},ShadingPattern:function(){return me},TilingPattern:function(){return ie},default:function(){return le},jsPDF:function(){return le}});var h=o("./node_modules/@babel/runtime/helpers/esm/typeof.js"),d=o("./node_modules/fflate/esm/browser.js"),A=o("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),f=o("./node_modules/fast-png/lib-esm/index.js");/** @license
 *
 * jsPDF - PDF Document creation from JavaScript
 * Version 4.0.0 Built on 2025-12-18T10:27:09.425Z
 *                      CommitID 00000000
 *
 * Copyright (c) 2010-2025 James Hall <james@parall.ax>, https://github.com/MrRio/jsPDF
 *               2015-2025 yWorks GmbH, http://www.yworks.com
 *               2015-2025 Lukas Hollnder <lukas.hollaender@yworks.com>, https://github.com/HackbrettXXX
 *               2016-2018 Aras Abbasi <aras.abbasi@gmail.com>
 *               2010 Aaron Spike, https://github.com/acspike
 *               2012 Willow Systems Corporation, https://github.com/willowsystems
 *               2012 Pablo Hess, https://github.com/pablohess
 *               2012 Florian Jenett, https://github.com/fjenett
 *               2013 Warren Weckesser, https://github.com/warrenweckesser
 *               2013 Youssef Beddad, https://github.com/lifof
 *               2013 Lee Driscoll, https://github.com/lsdriscoll
 *               2013 Stefan Slonevskiy, https://github.com/stefslon
 *               2013 Jeremy Morel, https://github.com/jmorel
 *               2013 Christoph Hartmann, https://github.com/chris-rock
 *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
 *               2014 James Makes, https://github.com/dollaruw
 *               2014 Diego Casorran, https://github.com/diegocr
 *               2014 Steven Spungin, https://github.com/Flamenco
 *               2014 Kenneth Glassey, https://github.com/Gavvers
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 * Contributor(s):
 *    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,
 *    kim3er, mfo, alnorth, Flamenco
 */var g=(function(){return typeof window<"u"?window:typeof cA<"u"?cA:typeof self<"u"?self:this})();function m(){g.console&&typeof g.console.log=="function"&&g.console.log.apply(g.console,arguments)}var x={log:m,warn:function(I){g.console&&(typeof g.console.warn=="function"?g.console.warn.apply(g.console,arguments):m.call(null,arguments))},error:function(I){g.console&&(typeof g.console.error=="function"?g.console.error.apply(g.console,arguments):m(I))}};function y(I,E,D){var z=new XMLHttpRequest;z.open("GET",I),z.responseType="blob",z.onload=function(){S(z.response,E,D)},z.onerror=function(){x.error("could not download file")},z.send()}function b(I){var E=new XMLHttpRequest;E.open("HEAD",I,!1);try{E.send()}catch{}return E.status>=200&&E.status<=299}function w(I){try{I.dispatchEvent(new MouseEvent("click"))}catch{var E=document.createEvent("MouseEvents");E.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),I.dispatchEvent(E)}}var S=g.saveAs||((typeof window>"u"?"undefined":(0,h.default)(window))!=="object"||window!==g?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(I,E,D){var z=g.URL||g.webkitURL,X=document.createElement("a");E=E||I.name||"download",X.download=E,X.rel="noopener",typeof I=="string"?(X.href=I,X.origin!==location.origin?b(X.href)?y(I,E,D):w(X,X.target="_blank"):w(X)):(X.href=z.createObjectURL(I),setTimeout(function(){z.revokeObjectURL(X.href)},4e4),setTimeout(function(){w(X)},0))}:"msSaveOrOpenBlob"in navigator?function(I,E,D){if(E=E||I.name||"download",typeof I=="string")if(b(I))y(I,E,D);else{var z=document.createElement("a");z.href=I,z.target="_blank",setTimeout(function(){w(z)})}else navigator.msSaveOrOpenBlob((function(X,ae){return ae===void 0?ae={autoBom:!1}:(0,h.default)(ae)!=="object"&&(x.warn("Deprecated: Expected third argument to be a object"),ae={autoBom:!ae}),ae.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(X.type)?new Blob(["\uFEFF",X],{type:X.type}):X})(I,D),E)}:function(I,E,D,z){if((z=z||open("","_blank"))&&(z.document.title=z.document.body.innerText="downloading..."),typeof I=="string")return y(I,E,D);var X=I.type==="application/octet-stream",ae=/constructor/i.test(g.HTMLElement)||g.safari,Se=/CriOS\/[\d]+/.test(navigator.userAgent);if((Se||X&&ae)&&(typeof FileReader>"u"?"undefined":(0,h.default)(FileReader))==="object"){var ge=new FileReader;ge.onloadend=function(){var ze=ge.result;ze=Se?ze:ze.replace(/^data:[^;]*;/,"data:attachment/file;"),z?z.location.href=ze:location=ze,z=null},ge.readAsDataURL(I)}else{var ve=g.URL||g.webkitURL,Me=ve.createObjectURL(I);z?z.location=Me:location.href=Me,z=null,setTimeout(function(){ve.revokeObjectURL(Me)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function N(I){var E;I=I||"",this.ok=!1,I.charAt(0)=="#"&&(I=I.substr(1,6)),I={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[I=(I=I.replace(/ /g,"")).toLowerCase()]||I;for(var D=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(ge){return[parseInt(ge[1]),parseInt(ge[2]),parseInt(ge[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(ge){return[parseInt(ge[1],16),parseInt(ge[2],16),parseInt(ge[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(ge){return[parseInt(ge[1]+ge[1],16),parseInt(ge[2]+ge[2],16),parseInt(ge[3]+ge[3],16)]}}],z=0;z<D.length;z++){var X=D[z].re,ae=D[z].process,Se=X.exec(I);Se&&(E=ae(Se),this.r=E[0],this.g=E[1],this.b=E[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var ge=this.r.toString(16),ve=this.g.toString(16),Me=this.b.toString(16);return ge.length==1&&(ge="0"+ge),ve.length==1&&(ve="0"+ve),Me.length==1&&(Me="0"+Me),"#"+ge+ve+Me}}var C=g.atob.bind(g),O=g.btoa.bind(g);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function W(I,E){var D=I[0],z=I[1],X=I[2],ae=I[3];D=te(D,z,X,ae,E[0],7,-680876936),ae=te(ae,D,z,X,E[1],12,-389564586),X=te(X,ae,D,z,E[2],17,606105819),z=te(z,X,ae,D,E[3],22,-1044525330),D=te(D,z,X,ae,E[4],7,-176418897),ae=te(ae,D,z,X,E[5],12,1200080426),X=te(X,ae,D,z,E[6],17,-1473231341),z=te(z,X,ae,D,E[7],22,-45705983),D=te(D,z,X,ae,E[8],7,1770035416),ae=te(ae,D,z,X,E[9],12,-1958414417),X=te(X,ae,D,z,E[10],17,-42063),z=te(z,X,ae,D,E[11],22,-1990404162),D=te(D,z,X,ae,E[12],7,1804603682),ae=te(ae,D,z,X,E[13],12,-40341101),X=te(X,ae,D,z,E[14],17,-1502002290),D=q(D,z=te(z,X,ae,D,E[15],22,1236535329),X,ae,E[1],5,-165796510),ae=q(ae,D,z,X,E[6],9,-1069501632),X=q(X,ae,D,z,E[11],14,643717713),z=q(z,X,ae,D,E[0],20,-373897302),D=q(D,z,X,ae,E[5],5,-701558691),ae=q(ae,D,z,X,E[10],9,38016083),X=q(X,ae,D,z,E[15],14,-660478335),z=q(z,X,ae,D,E[4],20,-405537848),D=q(D,z,X,ae,E[9],5,568446438),ae=q(ae,D,z,X,E[14],9,-1019803690),X=q(X,ae,D,z,E[3],14,-187363961),z=q(z,X,ae,D,E[8],20,1163531501),D=q(D,z,X,ae,E[13],5,-1444681467),ae=q(ae,D,z,X,E[2],9,-51403784),X=q(X,ae,D,z,E[7],14,1735328473),D=Y(D,z=q(z,X,ae,D,E[12],20,-1926607734),X,ae,E[5],4,-378558),ae=Y(ae,D,z,X,E[8],11,-2022574463),X=Y(X,ae,D,z,E[11],16,1839030562),z=Y(z,X,ae,D,E[14],23,-35309556),D=Y(D,z,X,ae,E[1],4,-1530992060),ae=Y(ae,D,z,X,E[4],11,1272893353),X=Y(X,ae,D,z,E[7],16,-155497632),z=Y(z,X,ae,D,E[10],23,-1094730640),D=Y(D,z,X,ae,E[13],4,681279174),ae=Y(ae,D,z,X,E[0],11,-358537222),X=Y(X,ae,D,z,E[3],16,-722521979),z=Y(z,X,ae,D,E[6],23,76029189),D=Y(D,z,X,ae,E[9],4,-640364487),ae=Y(ae,D,z,X,E[12],11,-421815835),X=Y(X,ae,D,z,E[15],16,530742520),D=P(D,z=Y(z,X,ae,D,E[2],23,-995338651),X,ae,E[0],6,-198630844),ae=P(ae,D,z,X,E[7],10,1126891415),X=P(X,ae,D,z,E[14],15,-1416354905),z=P(z,X,ae,D,E[5],21,-57434055),D=P(D,z,X,ae,E[12],6,1700485571),ae=P(ae,D,z,X,E[3],10,-1894986606),X=P(X,ae,D,z,E[10],15,-1051523),z=P(z,X,ae,D,E[1],21,-2054922799),D=P(D,z,X,ae,E[8],6,1873313359),ae=P(ae,D,z,X,E[15],10,-30611744),X=P(X,ae,D,z,E[6],15,-1560198380),z=P(z,X,ae,D,E[13],21,1309151649),D=P(D,z,X,ae,E[4],6,-145523070),ae=P(ae,D,z,X,E[11],10,-1120210379),X=P(X,ae,D,z,E[2],15,718787259),z=P(z,X,ae,D,E[9],21,-343485551),I[0]=_e(D,I[0]),I[1]=_e(z,I[1]),I[2]=_e(X,I[2]),I[3]=_e(ae,I[3])}function K(I,E,D,z,X,ae){return E=_e(_e(E,I),_e(z,ae)),_e(E<<X|E>>>32-X,D)}function te(I,E,D,z,X,ae,Se){return K(E&D|~E&z,I,E,X,ae,Se)}function q(I,E,D,z,X,ae,Se){return K(E&z|D&~z,I,E,X,ae,Se)}function Y(I,E,D,z,X,ae,Se){return K(E^D^z,I,E,X,ae,Se)}function P(I,E,D,z,X,ae,Se){return K(D^(E|~z),I,E,X,ae,Se)}function ce(I){var E,D=I.length,z=[1732584193,-271733879,-1732584194,271733878];for(E=64;E<=I.length;E+=64)W(z,$(I.substring(E-64,E)));I=I.substring(E-64);var X=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(E=0;E<I.length;E++)X[E>>2]|=I.charCodeAt(E)<<(E%4<<3);if(X[E>>2]|=128<<(E%4<<3),E>55)for(W(z,X),E=0;E<16;E++)X[E]=0;return X[14]=8*D,W(z,X),z}function $(I){var E,D=[];for(E=0;E<64;E+=4)D[E>>2]=I.charCodeAt(E)+(I.charCodeAt(E+1)<<8)+(I.charCodeAt(E+2)<<16)+(I.charCodeAt(E+3)<<24);return D}var R="0123456789abcdef".split("");function se(I){for(var E="",D=0;D<4;D++)E+=R[I>>8*D+4&15]+R[I>>8*D&15];return E}function fe(I){return String.fromCharCode(255&I,(65280&I)>>8,(16711680&I)>>16,(4278190080&I)>>24)}function Te(I){return ce(I).map(fe).join("")}var Ie=(function(I){for(var E=0;E<I.length;E++)I[E]=se(I[E]);return I.join("")})(ce("hello"))!="5d41402abc4b2a76b9719d911017c592";function _e(I,E){if(Ie){var D=(65535&I)+(65535&E);return(I>>16)+(E>>16)+(D>>16)<<16|65535&D}return I+E&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Z(I,E){var D,z,X,ae;if(I!==D){for(var Se=(X=I,ae=1+(256/I.length|0),new Array(ae+1).join(X)),ge=[],ve=0;ve<256;ve++)ge[ve]=ve;var Me=0;for(ve=0;ve<256;ve++){var ze=ge[ve];Me=(Me+ze+Se.charCodeAt(ve))%256,ge[ve]=ge[Me],ge[Me]=ze}D=I,z=ge}else ge=z;var et=E.length,ot=0,Pe=0,yt="";for(ve=0;ve<et;ve++)Pe=(Pe+(ze=ge[ot=(ot+1)%256]))%256,ge[ot]=ge[Pe],ge[Pe]=ze,Se=ge[(ge[ot]+ge[Pe])%256],yt+=String.fromCharCode(E.charCodeAt(ve)^Se);return yt}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Oe={print:4,modify:8,copy:16,"annot-forms":32};function ee(I,E,D,z){this.v=1,this.r=2;var X=192;I.forEach(function(ge){if(Oe.perm!==void 0)throw new Error("Invalid permission: "+ge);X+=Oe[ge]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var ae=(E+this.padding).substr(0,32),Se=(D+this.padding).substr(0,32);this.O=this.processOwnerPassword(ae,Se),this.P=-(1+(255^X)),this.encryptionKey=Te(ae+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(z)).substr(0,5),this.U=Z(this.encryptionKey,this.padding)}function re(I){if(/[^\u0000-\u00ff]/.test(I))throw new Error("Invalid PDF Name Object: "+I+", Only accept ASCII characters.");for(var E="",D=I.length,z=0;z<D;z++){var X=I.charCodeAt(z);E+=X<33||X===35||X===37||X===40||X===41||X===47||X===60||X===62||X===91||X===93||X===123||X===125||X>126?"#"+("0"+X.toString(16)).slice(-2):I[z]}return E}function je(I){if((0,h.default)(I)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var E={};this.subscribe=function(D,z,X){if(X=X||!1,typeof D!="string"||typeof z!="function"||typeof X!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");E.hasOwnProperty(D)||(E[D]={});var ae=Math.random().toString(35);return E[D][ae]=[z,!!X],ae},this.unsubscribe=function(D){for(var z in E)if(E[z][D])return delete E[z][D],Object.keys(E[z]).length===0&&delete E[z],!0;return!1},this.publish=function(D){if(E.hasOwnProperty(D)){var z=Array.prototype.slice.call(arguments,1),X=[];for(var ae in E[D]){var Se=E[D][ae];try{Se[0].apply(I,z)}catch(ge){g.console&&x.error("jsPDF PubSub Error",ge.message,ge)}Se[1]&&X.push(ae)}X.length&&X.forEach(this.unsubscribe)}},this.getTopics=function(){return E}}function Ne(I){if(!(this instanceof Ne))return new Ne(I);var E="opacity,stroke-opacity".split(",");for(var D in I)I.hasOwnProperty(D)&&E.indexOf(D)>=0&&(this[D]=I[D]);this.id="",this.objectNumber=-1}function ye(I,E){this.gState=I,this.matrix=E,this.id="",this.objectNumber=-1}function me(I,E,D,z,X){if(!(this instanceof me))return new me(I,E,D,z,X);this.type=I==="axial"?2:3,this.coords=E,this.colors=D,ye.call(this,z,X)}function ie(I,E,D,z,X){if(!(this instanceof ie))return new ie(I,E,D,z,X);this.boundingBox=I,this.xStep=E,this.yStep=D,this.stream="",this.cloneIndex=0,ye.call(this,z,X)}function le(I){var E,D=typeof arguments[0]=="string"?arguments[0]:"p",z=arguments[1],X=arguments[2],ae=arguments[3],Se=[],ge=1,ve=16,Me="S",ze=null;(0,h.default)(I=I||{})==="object"&&(D=I.orientation,z=I.unit||z,X=I.format||X,ae=I.compress||I.compressPdf||ae,(ze=I.encryption||null)!==null&&(ze.userPassword=ze.userPassword||"",ze.ownerPassword=ze.ownerPassword||"",ze.userPermissions=ze.userPermissions||[]),ge=typeof I.userUnit=="number"?Math.abs(I.userUnit):1,I.precision!==void 0&&(E=I.precision),I.floatPrecision!==void 0&&(ve=I.floatPrecision),Me=I.defaultPathOperation||"S"),Se=I.filters||(ae===!0?["FlateEncode"]:Se),z=z||"mm",D=(""+(D||"P")).toLowerCase();var et=I.putOnlyUsedFonts||!1,ot={},Pe={internal:{},__private__:{}};Pe.__private__.PubSub=je;var yt="1.3",gt=Pe.__private__.getPdfVersion=function(){return yt};Pe.__private__.setPdfVersion=function(Ae){yt=Ae};var wt={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};Pe.__private__.getPageFormats=function(){return wt};var nt=Pe.__private__.getPageFormat=function(Ae){return wt[Ae]};X=X||"a4";var Ft="compat",qt="advanced",It=Ft;function tt(){this.saveGraphicsState(),dt(new pa(ha,0,0,-ha,0,Kc()*ha).toString()+" cm"),this.setFontSize(this.getFontSize()/ha),Me="n",It=qt}function Wt(){this.restoreGraphicsState(),Me="S",It=Ft}var ur=Pe.__private__.combineFontStyleAndFontWeight=function(Ae,Qe){if(Ae=="bold"&&Qe=="normal"||Ae=="bold"&&Qe==400||Ae=="normal"&&Qe=="italic"||Ae=="bold"&&Qe=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Qe&&(Ae=Qe==400||Qe==="normal"?Ae==="italic"?"italic":"normal":Qe!=700&&Qe!=="bold"||Ae!=="normal"?(Qe==700?"bold":Qe)+""+Ae:"bold"),Ae};Pe.advancedAPI=function(Ae){var Qe=It===Ft;return Qe&&tt.call(this),typeof Ae!="function"||(Ae(this),Qe&&Wt.call(this)),this},Pe.compatAPI=function(Ae){var Qe=It===qt;return Qe&&Wt.call(this),typeof Ae!="function"||(Ae(this),Qe&&tt.call(this)),this},Pe.isAdvancedAPI=function(){return It===qt};var Yt,Ot=function(Ae){if(It!==qt)throw new Error(Ae+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},or=Pe.roundToPrecision=Pe.__private__.roundToPrecision=function(Ae,Qe){var vt=E||Qe;if(isNaN(Ae)||isNaN(vt))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return Ae.toFixed(vt).replace(/0+$/,"")};Yt=Pe.hpf=Pe.__private__.hpf=typeof ve=="number"?function(Ae){if(isNaN(Ae))throw new Error("Invalid argument passed to jsPDF.hpf");return or(Ae,ve)}:ve==="smart"?function(Ae){if(isNaN(Ae))throw new Error("Invalid argument passed to jsPDF.hpf");return or(Ae,Ae>-1&&Ae<1?16:5)}:function(Ae){if(isNaN(Ae))throw new Error("Invalid argument passed to jsPDF.hpf");return or(Ae,16)};var at=Pe.f2=Pe.__private__.f2=function(Ae){if(isNaN(Ae))throw new Error("Invalid argument passed to jsPDF.f2");return or(Ae,2)},ht=Pe.__private__.f3=function(Ae){if(isNaN(Ae))throw new Error("Invalid argument passed to jsPDF.f3");return or(Ae,3)},Tt=Pe.scale=Pe.__private__.scale=function(Ae){if(isNaN(Ae))throw new Error("Invalid argument passed to jsPDF.scale");return It===Ft?Ae*ha:It===qt?Ae:void 0},_t=function(Ae){return Tt((function(Qe){return It===Ft?Kc()-Qe:It===qt?Qe:void 0})(Ae))};Pe.__private__.setPrecision=Pe.setPrecision=function(Ae){typeof parseInt(Ae,10)=="number"&&(E=parseInt(Ae,10))};var dr,xr="00000000000000000000000000000000",jr=Pe.__private__.getFileId=function(){return xr},Jt=Pe.__private__.setFileId=function(Ae){return xr=Ae!==void 0&&/^[a-fA-F0-9]{32}$/.test(Ae)?Ae.toUpperCase():xr.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),ze!==null&&(Os=new ee(ze.userPermissions,ze.userPassword,ze.ownerPassword,xr)),xr};Pe.setFileId=function(Ae){return Jt(Ae),this},Pe.getFileId=function(){return jr()};var br=Pe.__private__.convertDateToPDFDate=function(Ae){var Qe=Ae.getTimezoneOffset(),vt=Qe<0?"+":"-",kt=Math.floor(Math.abs(Qe/60)),Xt=Math.abs(Qe%60),Cr=[vt,St(kt),"'",St(Xt),"'"].join("");return["D:",Ae.getFullYear(),St(Ae.getMonth()+1),St(Ae.getDate()),St(Ae.getHours()),St(Ae.getMinutes()),St(Ae.getSeconds()),Cr].join("")},Zr=Pe.__private__.convertPDFDateToDate=function(Ae){var Qe=parseInt(Ae.substr(2,4),10),vt=parseInt(Ae.substr(6,2),10)-1,kt=parseInt(Ae.substr(8,2),10),Xt=parseInt(Ae.substr(10,2),10),Cr=parseInt(Ae.substr(12,2),10),Fr=parseInt(Ae.substr(14,2),10);return new Date(Qe,vt,kt,Xt,Cr,Fr,0)},Wr=Pe.__private__.setCreationDate=function(Ae){var Qe;if(Ae===void 0&&(Ae=new Date),Ae instanceof Date)Qe=br(Ae);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(Ae))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Qe=Ae}return dr=Qe},Ze=Pe.__private__.getCreationDate=function(Ae){var Qe=dr;return Ae==="jsDate"&&(Qe=Zr(dr)),Qe};Pe.setCreationDate=function(Ae){return Wr(Ae),this},Pe.getCreationDate=function(Ae){return Ze(Ae)};var bt,St=Pe.__private__.padd2=function(Ae){return("0"+parseInt(Ae)).slice(-2)},Vt=Pe.__private__.padd2Hex=function(Ae){return("00"+(Ae=Ae.toString())).substr(Ae.length)},Gt=0,nr=[],yr=[],wr=0,Pr=[],Jr=[],Nn=!1,En=yr;Pe.__private__.setCustomOutputDestination=function(Ae){Nn=!0,En=Ae};var ua=function(Ae){Nn||(En=Ae)};Pe.__private__.resetCustomOutputDestination=function(){Nn=!1,En=yr};var dt=Pe.__private__.out=function(Ae){return Ae=Ae.toString(),wr+=Ae.length+1,En.push(Ae),En},An=Pe.__private__.write=function(Ae){return dt(arguments.length===1?Ae.toString():Array.prototype.join.call(arguments," "))},xa=Pe.__private__.getArrayBuffer=function(Ae){for(var Qe=Ae.length,vt=new ArrayBuffer(Qe),kt=new Uint8Array(vt);Qe--;)kt[Qe]=Ae.charCodeAt(Qe);return vt},hn=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];Pe.__private__.getStandardFonts=function(){return hn};var Vr=I.fontSize||16;Pe.__private__.setFontSize=Pe.setFontSize=function(Ae){return Vr=It===qt?Ae/ha:Ae,this};var oa,Dn=Pe.__private__.getFontSize=Pe.getFontSize=function(){return It===Ft?Vr:Vr*ha},Zn=I.R2L||!1;Pe.__private__.setR2L=Pe.setR2L=function(Ae){return Zn=Ae,this},Pe.__private__.getR2L=Pe.getR2L=function(){return Zn};var Mn,pi=Pe.__private__.setZoomMode=function(Ae){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(Ae))oa=Ae;else if(isNaN(Ae)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(Ae)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+Ae+'" is not recognized.');oa=Ae}else oa=parseInt(Ae,10)};Pe.__private__.getZoomMode=function(){return oa};var Qa,Fn=Pe.__private__.setPageMode=function(Ae){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(Ae)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+Ae+'" is not recognized.');Mn=Ae};Pe.__private__.getPageMode=function(){return Mn};var oi=Pe.__private__.setLayoutMode=function(Ae){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(Ae)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+Ae+'" is not recognized.');Qa=Ae};Pe.__private__.getLayoutMode=function(){return Qa},Pe.__private__.setDisplayMode=Pe.setDisplayMode=function(Ae,Qe,vt){return pi(Ae),oi(Qe),Fn(vt),this};var la={title:"",subject:"",author:"",keywords:"",creator:""};Pe.__private__.getDocumentProperty=function(Ae){if(Object.keys(la).indexOf(Ae)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return la[Ae]},Pe.__private__.getDocumentProperties=function(){return la},Pe.__private__.setDocumentProperties=Pe.setProperties=Pe.setDocumentProperties=function(Ae){for(var Qe in la)la.hasOwnProperty(Qe)&&Ae[Qe]&&(la[Qe]=Ae[Qe]);return this},Pe.__private__.setDocumentProperty=function(Ae,Qe){if(Object.keys(la).indexOf(Ae)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return la[Ae]=Qe};var On,ha,kn,Ca,ui,qa={},Xa={},rs=[],zn={},Ti={},ya={},Vn={},_i=null,Na=0,Bn=[],ei=new je(Pe),au=I.hotfixes||[],zs={},wo={},Bc=[],pa=function Ae(Qe,vt,kt,Xt,Cr,Fr){if(!(this instanceof Ae))return new Ae(Qe,vt,kt,Xt,Cr,Fr);isNaN(Qe)&&(Qe=1),isNaN(vt)&&(vt=0),isNaN(kt)&&(kt=0),isNaN(Xt)&&(Xt=1),isNaN(Cr)&&(Cr=0),isNaN(Fr)&&(Fr=0),this._matrix=[Qe,vt,kt,Xt,Cr,Fr]};Object.defineProperty(pa.prototype,"sx",{get:function(){return this._matrix[0]},set:function(Ae){this._matrix[0]=Ae}}),Object.defineProperty(pa.prototype,"shy",{get:function(){return this._matrix[1]},set:function(Ae){this._matrix[1]=Ae}}),Object.defineProperty(pa.prototype,"shx",{get:function(){return this._matrix[2]},set:function(Ae){this._matrix[2]=Ae}}),Object.defineProperty(pa.prototype,"sy",{get:function(){return this._matrix[3]},set:function(Ae){this._matrix[3]=Ae}}),Object.defineProperty(pa.prototype,"tx",{get:function(){return this._matrix[4]},set:function(Ae){this._matrix[4]=Ae}}),Object.defineProperty(pa.prototype,"ty",{get:function(){return this._matrix[5]},set:function(Ae){this._matrix[5]=Ae}}),Object.defineProperty(pa.prototype,"a",{get:function(){return this._matrix[0]},set:function(Ae){this._matrix[0]=Ae}}),Object.defineProperty(pa.prototype,"b",{get:function(){return this._matrix[1]},set:function(Ae){this._matrix[1]=Ae}}),Object.defineProperty(pa.prototype,"c",{get:function(){return this._matrix[2]},set:function(Ae){this._matrix[2]=Ae}}),Object.defineProperty(pa.prototype,"d",{get:function(){return this._matrix[3]},set:function(Ae){this._matrix[3]=Ae}}),Object.defineProperty(pa.prototype,"e",{get:function(){return this._matrix[4]},set:function(Ae){this._matrix[4]=Ae}}),Object.defineProperty(pa.prototype,"f",{get:function(){return this._matrix[5]},set:function(Ae){this._matrix[5]=Ae}}),Object.defineProperty(pa.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(pa.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(pa.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(pa.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),pa.prototype.join=function(Ae){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Yt).join(Ae)},pa.prototype.multiply=function(Ae){var Qe=Ae.sx*this.sx+Ae.shy*this.shx,vt=Ae.sx*this.shy+Ae.shy*this.sy,kt=Ae.shx*this.sx+Ae.sy*this.shx,Xt=Ae.shx*this.shy+Ae.sy*this.sy,Cr=Ae.tx*this.sx+Ae.ty*this.shx+this.tx,Fr=Ae.tx*this.shy+Ae.ty*this.sy+this.ty;return new pa(Qe,vt,kt,Xt,Cr,Fr)},pa.prototype.decompose=function(){var Ae=this.sx,Qe=this.shy,vt=this.shx,kt=this.sy,Xt=this.tx,Cr=this.ty,Fr=Math.sqrt(Ae*Ae+Qe*Qe),In=(Ae/=Fr)*vt+(Qe/=Fr)*kt;vt-=Ae*In,kt-=Qe*In;var Un=Math.sqrt(vt*vt+kt*kt);return In/=Un,Ae*(kt/=Un)<Qe*(vt/=Un)&&(Ae=-Ae,Qe=-Qe,In=-In,Fr=-Fr),{scale:new pa(Fr,0,0,Un,0,0),translate:new pa(1,0,0,1,Xt,Cr),rotate:new pa(Ae,Qe,-Qe,Ae,0,0),skew:new pa(1,0,In,1,0,0)}},pa.prototype.toString=function(Ae){return this.join(" ")},pa.prototype.inversed=function(){var Ae=this.sx,Qe=this.shy,vt=this.shx,kt=this.sy,Xt=this.tx,Cr=this.ty,Fr=1/(Ae*kt-Qe*vt),In=kt*Fr,Un=-Qe*Fr,ma=-vt*Fr,na=Ae*Fr;return new pa(In,Un,ma,na,-In*Xt-ma*Cr,-Un*Xt-na*Cr)},pa.prototype.applyToPoint=function(Ae){var Qe=Ae.x*this.sx+Ae.y*this.shx+this.tx,vt=Ae.x*this.shy+Ae.y*this.sy+this.ty;return new di(Qe,vt)},pa.prototype.applyToRectangle=function(Ae){var Qe=this.applyToPoint(Ae),vt=this.applyToPoint(new di(Ae.x+Ae.w,Ae.y+Ae.h));return new Oi(Qe.x,Qe.y,vt.x-Qe.x,vt.y-Qe.y)},pa.prototype.clone=function(){var Ae=this.sx,Qe=this.shy,vt=this.shx,kt=this.sy,Xt=this.tx,Cr=this.ty;return new pa(Ae,Qe,vt,kt,Xt,Cr)},Pe.Matrix=pa;var Cs=Pe.matrixMult=function(Ae,Qe){return Qe.multiply(Ae)},jo=new pa(1,0,0,1,0,0);Pe.unitMatrix=Pe.identityMatrix=jo;var Tl=function(Ae,Qe){if(!Ti[Ae]){var vt=(Qe instanceof me?"Sh":"P")+(Object.keys(zn).length+1).toString(10);Qe.id=vt,Ti[Ae]=vt,zn[vt]=Qe,ei.publish("addPattern",Qe)}};Pe.ShadingPattern=me,Pe.TilingPattern=ie,Pe.addShadingPattern=function(Ae,Qe){return Ot("addShadingPattern()"),Tl(Ae,Qe),this},Pe.beginTilingPattern=function(Ae){Ot("beginTilingPattern()"),Ns(Ae.boundingBox[0],Ae.boundingBox[1],Ae.boundingBox[2]-Ae.boundingBox[0],Ae.boundingBox[3]-Ae.boundingBox[1],Ae.matrix)},Pe.endTilingPattern=function(Ae,Qe){Ot("endTilingPattern()"),Qe.stream=Jr[bt].join(`
`),Tl(Ae,Qe),ei.publish("endTilingPattern",Qe),Bc.pop().restore()};var Rs,Mi=Pe.__private__.newObject=function(){var Ae=_s();return uo(Ae,!0),Ae},_s=Pe.__private__.newObjectDeferred=function(){return Gt++,nr[Gt]=function(){return wr},Gt},uo=function(Ae,Qe){return Qe=typeof Qe=="boolean"&&Qe,nr[Ae]=wr,Qe&&dt(Ae+" 0 obj"),Ae},iu=Pe.__private__.newAdditionalObject=function(){var Ae={objId:_s(),content:""};return Pr.push(Ae),Ae},Js=_s(),al=_s(),Ic=Pe.__private__.decodeColorString=function(Ae){var Qe=Ae.split(" ");if(Qe.length!==2||Qe[1]!=="g"&&Qe[1]!=="G")Qe.length!==5||Qe[4]!=="k"&&Qe[4]!=="K"||(Qe=[(1-Qe[0])*(1-Qe[3]),(1-Qe[1])*(1-Qe[3]),(1-Qe[2])*(1-Qe[3]),"r"]);else{var vt=parseFloat(Qe[0]);Qe=[vt,vt,vt,"r"]}for(var kt="#",Xt=0;Xt<3;Xt++)kt+=("0"+Math.floor(255*parseFloat(Qe[Xt])).toString(16)).slice(-2);return kt},rc=Pe.__private__.encodeColorString=function(Ae){var Qe;typeof Ae=="string"&&(Ae={ch1:Ae});var vt=Ae.ch1,kt=Ae.ch2,Xt=Ae.ch3,Cr=Ae.ch4,Fr=Ae.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof vt=="string"&&vt.charAt(0)!=="#"){var In=new N(vt);if(In.ok)vt=In.toHex();else if(!/^\d*\.?\d*$/.test(vt))throw new Error('Invalid color "'+vt+'" passed to jsPDF.encodeColorString.')}if(typeof vt=="string"&&/^#[0-9A-Fa-f]{3}$/.test(vt)&&(vt="#"+vt[1]+vt[1]+vt[2]+vt[2]+vt[3]+vt[3]),typeof vt=="string"&&/^#[0-9A-Fa-f]{6}$/.test(vt)){var Un=parseInt(vt.substr(1),16);vt=Un>>16&255,kt=Un>>8&255,Xt=255&Un}if(kt===void 0||Cr===void 0&&vt===kt&&kt===Xt)Qe=typeof vt=="string"?vt+" "+Fr[0]:Ae.precision===2?at(vt/255)+" "+Fr[0]:ht(vt/255)+" "+Fr[0];else if(Cr===void 0||(0,h.default)(Cr)==="object"){if(Cr&&!isNaN(Cr.a)&&Cr.a===0)return["1.","1.","1.",Fr[1]].join(" ");Qe=typeof vt=="string"?[vt,kt,Xt,Fr[1]].join(" "):Ae.precision===2?[at(vt/255),at(kt/255),at(Xt/255),Fr[1]].join(" "):[ht(vt/255),ht(kt/255),ht(Xt/255),Fr[1]].join(" ")}else Qe=typeof vt=="string"?[vt,kt,Xt,Cr,Fr[2]].join(" "):Ae.precision===2?[at(vt),at(kt),at(Xt),at(Cr),Fr[2]].join(" "):[ht(vt),ht(kt),ht(Xt),ht(Cr),Fr[2]].join(" ");return Qe},eo=Pe.__private__.getFilters=function(){return Se},il=Pe.__private__.putStream=function(Ae){var Qe=(Ae=Ae||{}).data||"",vt=Ae.filters||eo(),kt=Ae.alreadyAppliedFilters||[],Xt=Ae.addLength1||!1,Cr=Qe.length,Fr=Ae.objectId,In=function(hs){return hs};if(ze!==null&&Fr===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");ze!==null&&(In=Os.encryptor(Fr,0));var Un={};vt===!0&&(vt=["FlateEncode"]);var ma=Ae.additionalKeyValues||[],na=(Un=le.API.processDataByFilters!==void 0?le.API.processDataByFilters(Qe,vt):{data:Qe,reverseChain:[]}).reverseChain+(Array.isArray(kt)?kt.join(" "):kt.toString());if(Un.data.length!==0&&(ma.push({key:"Length",value:Un.data.length}),Xt===!0&&ma.push({key:"Length1",value:Cr})),na.length!=0)if(na.split("/").length-1==1)ma.push({key:"Filter",value:na});else{ma.push({key:"Filter",value:"["+na+"]"});for(var Pa=0;Pa<ma.length;Pa+=1)if(ma[Pa].key==="DecodeParms"){for(var Ri=[],Ui=0;Ui<Un.reverseChain.split("/").length-1;Ui+=1)Ri.push("null");Ri.push(ma[Pa].value),ma[Pa].value="["+Ri.join(" ")+"]"}}dt("<<");for(var Ai=0;Ai<ma.length;Ai++)dt("/"+ma[Ai].key+" "+ma[Ai].value);dt(">>"),Un.data.length!==0&&(dt("stream"),dt(In(Un.data)),dt("endstream"))},_l=Pe.__private__.putPage=function(Ae){var Qe=Ae.number,vt=Ae.data,kt=Ae.objId,Xt=Ae.contentsObjId;uo(kt,!0),dt("<</Type /Page"),dt("/Parent "+Ae.rootDictionaryObjId+" 0 R"),dt("/Resources "+Ae.resourceDictionaryObjId+" 0 R"),dt("/MediaBox ["+parseFloat(Yt(Ae.mediaBox.bottomLeftX))+" "+parseFloat(Yt(Ae.mediaBox.bottomLeftY))+" "+Yt(Ae.mediaBox.topRightX)+" "+Yt(Ae.mediaBox.topRightY)+"]"),Ae.cropBox!==null&&dt("/CropBox ["+Yt(Ae.cropBox.bottomLeftX)+" "+Yt(Ae.cropBox.bottomLeftY)+" "+Yt(Ae.cropBox.topRightX)+" "+Yt(Ae.cropBox.topRightY)+"]"),Ae.bleedBox!==null&&dt("/BleedBox ["+Yt(Ae.bleedBox.bottomLeftX)+" "+Yt(Ae.bleedBox.bottomLeftY)+" "+Yt(Ae.bleedBox.topRightX)+" "+Yt(Ae.bleedBox.topRightY)+"]"),Ae.trimBox!==null&&dt("/TrimBox ["+Yt(Ae.trimBox.bottomLeftX)+" "+Yt(Ae.trimBox.bottomLeftY)+" "+Yt(Ae.trimBox.topRightX)+" "+Yt(Ae.trimBox.topRightY)+"]"),Ae.artBox!==null&&dt("/ArtBox ["+Yt(Ae.artBox.bottomLeftX)+" "+Yt(Ae.artBox.bottomLeftY)+" "+Yt(Ae.artBox.topRightX)+" "+Yt(Ae.artBox.topRightY)+"]"),typeof Ae.userUnit=="number"&&Ae.userUnit!==1&&dt("/UserUnit "+Ae.userUnit),ei.publish("putPage",{objId:kt,pageContext:Bn[Qe],pageNumber:Qe,page:vt}),dt("/Contents "+Xt+" 0 R"),dt(">>"),dt("endobj");var Cr=vt.join(`
`);return It===qt&&(Cr+=`
Q`),uo(Xt,!0),il({data:Cr,filters:eo(),objectId:Xt}),dt("endobj"),kt},Ko=Pe.__private__.putPages=function(){var Ae,Qe,vt=[];for(Ae=1;Ae<=Na;Ae++)Bn[Ae].objId=_s(),Bn[Ae].contentsObjId=_s();for(Ae=1;Ae<=Na;Ae++)vt.push(_l({number:Ae,data:Jr[Ae],objId:Bn[Ae].objId,contentsObjId:Bn[Ae].contentsObjId,mediaBox:Bn[Ae].mediaBox,cropBox:Bn[Ae].cropBox,bleedBox:Bn[Ae].bleedBox,trimBox:Bn[Ae].trimBox,artBox:Bn[Ae].artBox,userUnit:Bn[Ae].userUnit,rootDictionaryObjId:Js,resourceDictionaryObjId:al}));uo(Js,!0),dt("<</Type /Pages");var kt="/Kids [";for(Qe=0;Qe<Na;Qe++)kt+=vt[Qe]+" 0 R ";dt(kt+"]"),dt("/Count "+Na),dt(">>"),dt("endobj"),ei.publish("postPutPages")},Mo=function(Ae){ei.publish("putFont",{font:Ae,out:dt,newObject:Mi,putStream:il}),Ae.isAlreadyPutted!==!0&&(Ae.objectNumber=Mi(),dt("<<"),dt("/Type /Font"),dt("/BaseFont /"+re(Ae.postScriptName)),dt("/Subtype /Type1"),typeof Ae.encoding=="string"&&dt("/Encoding /"+Ae.encoding),dt("/FirstChar 32"),dt("/LastChar 255"),dt(">>"),dt("endobj"))},nc=function(Ae){Ae.objectNumber=Mi();var Qe=[];Qe.push({key:"Type",value:"/XObject"}),Qe.push({key:"Subtype",value:"/Form"}),Qe.push({key:"BBox",value:"["+[Yt(Ae.x),Yt(Ae.y),Yt(Ae.x+Ae.width),Yt(Ae.y+Ae.height)].join(" ")+"]"}),Qe.push({key:"Matrix",value:"["+Ae.matrix.toString()+"]"});var vt=Ae.pages[1].join(`
`);il({data:vt,additionalKeyValues:Qe,objectId:Ae.objectNumber}),dt("endobj")},Ol=function(Ae,Qe){Qe||(Qe=21);var vt=Mi(),kt=(function(Fr,In){var Un,ma=[],na=1/(In-1);for(Un=0;Un<1;Un+=na)ma.push(Un);if(ma.push(1),Fr[0].offset!=0){var Pa={offset:0,color:Fr[0].color};Fr.unshift(Pa)}if(Fr[Fr.length-1].offset!=1){var Ri={offset:1,color:Fr[Fr.length-1].color};Fr.push(Ri)}for(var Ui="",Ai=0,hs=0;hs<ma.length;hs++){for(Un=ma[hs];Un>Fr[Ai+1].offset;)Ai++;var T=Fr[Ai].offset,Le=(Un-T)/(Fr[Ai+1].offset-T),J=Fr[Ai].color,Ye=Fr[Ai+1].color;Ui+=Vt(Math.round((1-Le)*J[0]+Le*Ye[0]).toString(16))+Vt(Math.round((1-Le)*J[1]+Le*Ye[1]).toString(16))+Vt(Math.round((1-Le)*J[2]+Le*Ye[2]).toString(16))}return Ui.trim()})(Ae.colors,Qe),Xt=[];Xt.push({key:"FunctionType",value:"0"}),Xt.push({key:"Domain",value:"[0.0 1.0]"}),Xt.push({key:"Size",value:"["+Qe+"]"}),Xt.push({key:"BitsPerSample",value:"8"}),Xt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Xt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),il({data:kt,additionalKeyValues:Xt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:vt}),dt("endobj"),Ae.objectNumber=Mi(),dt("<< /ShadingType "+Ae.type),dt("/ColorSpace /DeviceRGB");var Cr="/Coords ["+Yt(parseFloat(Ae.coords[0]))+" "+Yt(parseFloat(Ae.coords[1]))+" ";Ae.type===2?Cr+=Yt(parseFloat(Ae.coords[2]))+" "+Yt(parseFloat(Ae.coords[3])):Cr+=Yt(parseFloat(Ae.coords[2]))+" "+Yt(parseFloat(Ae.coords[3]))+" "+Yt(parseFloat(Ae.coords[4]))+" "+Yt(parseFloat(Ae.coords[5])),dt(Cr+="]"),Ae.matrix&&dt("/Matrix ["+Ae.matrix.toString()+"]"),dt("/Function "+vt+" 0 R"),dt("/Extend [true true]"),dt(">>"),dt("endobj")},Tc=function(Ae,Qe){var vt=_s(),kt=Mi();Qe.push({resourcesOid:vt,objectOid:kt}),Ae.objectNumber=kt;var Xt=[];Xt.push({key:"Type",value:"/Pattern"}),Xt.push({key:"PatternType",value:"1"}),Xt.push({key:"PaintType",value:"1"}),Xt.push({key:"TilingType",value:"1"}),Xt.push({key:"BBox",value:"["+Ae.boundingBox.map(Yt).join(" ")+"]"}),Xt.push({key:"XStep",value:Yt(Ae.xStep)}),Xt.push({key:"YStep",value:Yt(Ae.yStep)}),Xt.push({key:"Resources",value:vt+" 0 R"}),Ae.matrix&&Xt.push({key:"Matrix",value:"["+Ae.matrix.toString()+"]"}),il({data:Ae.stream,additionalKeyValues:Xt,objectId:Ae.objectNumber}),dt("endobj")},fd=function(Ae){for(var Qe in Ae.objectNumber=Mi(),dt("<<"),Ae)switch(Qe){case"opacity":dt("/ca "+at(Ae[Qe]));break;case"stroke-opacity":dt("/CA "+at(Ae[Qe]))}dt(">>"),dt("endobj")},$c=function(Ae){uo(Ae.resourcesOid,!0),dt("<<"),dt("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var Qe in dt("/Font <<"),qa)qa.hasOwnProperty(Qe)&&(et===!1||et===!0&&ot.hasOwnProperty(Qe))&&dt("/"+Qe+" "+qa[Qe].objectNumber+" 0 R");dt(">>")})(),(function(){if(Object.keys(zn).length>0){for(var Qe in dt("/Shading <<"),zn)zn.hasOwnProperty(Qe)&&zn[Qe]instanceof me&&zn[Qe].objectNumber>=0&&dt("/"+Qe+" "+zn[Qe].objectNumber+" 0 R");ei.publish("putShadingPatternDict"),dt(">>")}})(),(function(Qe){if(Object.keys(zn).length>0){for(var vt in dt("/Pattern <<"),zn)zn.hasOwnProperty(vt)&&zn[vt]instanceof Pe.TilingPattern&&zn[vt].objectNumber>=0&&zn[vt].objectNumber<Qe&&dt("/"+vt+" "+zn[vt].objectNumber+" 0 R");ei.publish("putTilingPatternDict"),dt(">>")}})(Ae.objectOid),(function(){if(Object.keys(ya).length>0){var Qe;for(Qe in dt("/ExtGState <<"),ya)ya.hasOwnProperty(Qe)&&ya[Qe].objectNumber>=0&&dt("/"+Qe+" "+ya[Qe].objectNumber+" 0 R");ei.publish("putGStateDict"),dt(">>")}})(),(function(){for(var Qe in dt("/XObject <<"),zs)zs.hasOwnProperty(Qe)&&zs[Qe].objectNumber>=0&&dt("/"+Qe+" "+zs[Qe].objectNumber+" 0 R");ei.publish("putXobjectDict"),dt(">>")})(),dt(">>"),dt("endobj")},pd=function(Ae){Xa[Ae.fontName]=Xa[Ae.fontName]||{},Xa[Ae.fontName][Ae.fontStyle]=Ae.id},su=function(Ae,Qe,vt,kt,Xt){var Cr={id:"F"+(Object.keys(qa).length+1).toString(10),postScriptName:Ae,fontName:Qe,fontStyle:vt,encoding:kt,isStandardFont:Xt||!1,metadata:{}};return ei.publish("addFont",{font:Cr,instance:this}),qa[Cr.id]=Cr,pd(Cr),Cr.id},Go=Pe.__private__.pdfEscape=Pe.pdfEscape=function(Ae,Qe){return(function(vt,kt){var Xt,Cr,Fr,In,Un,ma,na,Pa,Ri;if(Fr=(kt=kt||{}).sourceEncoding||"Unicode",Un=kt.outputEncoding,(kt.autoencode||Un)&&qa[On].metadata&&qa[On].metadata[Fr]&&qa[On].metadata[Fr].encoding&&(In=qa[On].metadata[Fr].encoding,!Un&&qa[On].encoding&&(Un=qa[On].encoding),!Un&&In.codePages&&(Un=In.codePages[0]),typeof Un=="string"&&(Un=In[Un]),Un)){for(na=!1,ma=[],Xt=0,Cr=vt.length;Xt<Cr;Xt++)(Pa=Un[vt.charCodeAt(Xt)])?ma.push(String.fromCharCode(Pa)):ma.push(vt[Xt]),ma[Xt].charCodeAt(0)>>8&&(na=!0);vt=ma.join("")}for(Xt=vt.length;na===void 0&&Xt!==0;)vt.charCodeAt(Xt-1)>>8&&(na=!0),Xt--;if(!na)return vt;for(ma=kt.noBOM?[]:[254,255],Xt=0,Cr=vt.length;Xt<Cr;Xt++){if((Ri=(Pa=vt.charCodeAt(Xt))>>8)>>8)throw new Error("Character at position "+Xt+" of string '"+vt+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ma.push(Ri),ma.push(Pa-(Ri<<8))}return String.fromCharCode.apply(void 0,ma)})(Ae,Qe).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ou=Pe.__private__.beginPage=function(Ae){Jr[++Na]=[],Bn[Na]={objId:0,contentsObjId:0,userUnit:Number(ge),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(Ae[0]),topRightY:Number(Ae[1])}},kl(Na),ua(Jr[bt])},Nu=function(Ae,Qe){var vt,kt,Xt;switch(D=Qe||D,typeof Ae=="string"&&(vt=nt(Ae.toLowerCase()),Array.isArray(vt)&&(kt=vt[0],Xt=vt[1])),Array.isArray(Ae)&&(kt=Ae[0]*ha,Xt=Ae[1]*ha),isNaN(kt)&&(kt=X[0],Xt=X[1]),(kt>14400||Xt>14400)&&(x.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),kt=Math.min(14400,kt),Xt=Math.min(14400,Xt)),X=[kt,Xt],D.substr(0,1)){case"l":Xt>kt&&(X=[Xt,kt]);break;case"p":kt>Xt&&(X=[Xt,kt])}ou(X),Sa(Kd),dt(vl),kc!==0&&dt(kc+" J"),oc!==0&&dt(oc+" j"),ei.publish("addPage",{pageNumber:Na})},Wu=function(Ae){Ae>0&&Ae<=Na&&(Jr.splice(Ae,1),Bn.splice(Ae,1),Na--,bt>Na&&(bt=Na),this.setPage(bt))},kl=function(Ae){Ae>0&&Ae<=Na&&(bt=Ae)},$u=Pe.__private__.getNumberOfPages=Pe.getNumberOfPages=function(){return Jr.length-1},Vu=function(Ae,Qe,vt){var kt,Xt=void 0;return vt=vt||{},Ae=Ae!==void 0?Ae:qa[On].fontName,Qe=Qe!==void 0?Qe:qa[On].fontStyle,kt=Ae.toLowerCase(),Xa[kt]!==void 0&&Xa[kt][Qe]!==void 0?Xt=Xa[kt][Qe]:Xa[Ae]!==void 0&&Xa[Ae][Qe]!==void 0?Xt=Xa[Ae][Qe]:vt.disableWarning===!1&&x.warn("Unable to look up font label for font '"+Ae+"', '"+Qe+"'. Refer to getFontList() for available fonts."),Xt||vt.noFallback||(Xt=Xa.times[Qe])==null&&(Xt=Xa.times.normal),Xt},ac=Pe.__private__.putInfo=function(){var Ae=Mi(),Qe=function(kt){return kt};for(var vt in ze!==null&&(Qe=Os.encryptor(Ae,0)),dt("<<"),dt("/Producer ("+Go(Qe("jsPDF "+le.version))+")"),la)la.hasOwnProperty(vt)&&la[vt]&&dt("/"+vt.substr(0,1).toUpperCase()+vt.substr(1)+" ("+Go(Qe(la[vt]))+")");dt("/CreationDate ("+Go(Qe(dr))+")"),dt(">>"),dt("endobj")},zu=Pe.__private__.putCatalog=function(Ae){var Qe=(Ae=Ae||{}).rootDictionaryObjId||Js;switch(Mi(),dt("<<"),dt("/Type /Catalog"),dt("/Pages "+Qe+" 0 R"),oa||(oa="fullwidth"),oa){case"fullwidth":dt("/OpenAction [3 0 R /FitH null]");break;case"fullheight":dt("/OpenAction [3 0 R /FitV null]");break;case"fullpage":dt("/OpenAction [3 0 R /Fit]");break;case"original":dt("/OpenAction [3 0 R /XYZ null null 1]");break;default:var vt=""+oa;vt.substr(vt.length-1)==="%"&&(oa=parseInt(oa)/100),typeof oa=="number"&&dt("/OpenAction [3 0 R /XYZ null null "+at(oa)+"]")}switch(Qa||(Qa="continuous"),Qa){case"continuous":dt("/PageLayout /OneColumn");break;case"single":dt("/PageLayout /SinglePage");break;case"two":case"twoleft":dt("/PageLayout /TwoColumnLeft");break;case"tworight":dt("/PageLayout /TwoColumnRight")}Mn&&dt("/PageMode /"+Mn),ei.publish("putCatalog"),dt(">>"),dt("endobj")},Su=Pe.__private__.putTrailer=function(){dt("trailer"),dt("<<"),dt("/Size "+(Gt+1)),dt("/Root "+Gt+" 0 R"),dt("/Info "+(Gt-1)+" 0 R"),ze!==null&&dt("/Encrypt "+Os.oid+" 0 R"),dt("/ID [ <"+xr+"> <"+xr+"> ]"),dt(">>")},wa=Pe.__private__.putHeader=function(){dt("%PDF-"+yt),dt("%")},md=Pe.__private__.putXRef=function(){var Ae="0000000000";dt("xref"),dt("0 "+(Gt+1)),dt("0000000000 65535 f ");for(var Qe=1;Qe<=Gt;Qe++)typeof nr[Qe]=="function"?dt((Ae+nr[Qe]()).slice(-10)+" 00000 n "):nr[Qe]!==void 0?dt((Ae+nr[Qe]).slice(-10)+" 00000 n "):dt("0000000000 00000 n ")},ic=Pe.__private__.buildDocument=function(){var Ae;Gt=0,wr=0,yr=[],nr=[],Pr=[],Js=_s(),al=_s(),ua(yr),ei.publish("buildDocument"),wa(),Ko(),(function(){ei.publish("putAdditionalObjects");for(var vt=0;vt<Pr.length;vt++){var kt=Pr[vt];uo(kt.objId,!0),dt(kt.content),dt("endobj")}ei.publish("postPutAdditionalObjects")})(),Ae=[],(function(){for(var vt in qa)qa.hasOwnProperty(vt)&&(et===!1||et===!0&&ot.hasOwnProperty(vt))&&Mo(qa[vt])})(),(function(){var vt;for(vt in ya)ya.hasOwnProperty(vt)&&fd(ya[vt])})(),(function(){for(var vt in zs)zs.hasOwnProperty(vt)&&nc(zs[vt])})(),(function(vt){var kt;for(kt in zn)zn.hasOwnProperty(kt)&&(zn[kt]instanceof me?Ol(zn[kt]):zn[kt]instanceof ie&&Tc(zn[kt],vt))})(Ae),ei.publish("putResources"),Ae.forEach($c),$c({resourcesOid:al,objectOid:Number.MAX_SAFE_INTEGER}),ei.publish("postPutResources"),ze!==null&&(Os.oid=Mi(),dt("<<"),dt("/Filter /Standard"),dt("/V "+Os.v),dt("/R "+Os.r),dt("/U <"+Os.toHexString(Os.U)+">"),dt("/O <"+Os.toHexString(Os.O)+">"),dt("/P "+Os.P),dt(">>"),dt("endobj")),ac(),zu();var Qe=wr;return md(),Su(),dt("startxref"),dt(""+Qe),dt("%%EOF"),ua(Jr[bt]),yr.join(`
`)},bi=Pe.__private__.getBlob=function(Ae){return new Blob([xa(Ae)],{type:"application/pdf"})},gd=Pe.output=Pe.__private__.output=(Rs=function(Ae,Qe){switch(typeof(Qe=Qe||{})=="string"?Qe={filename:Qe}:Qe.filename=Qe.filename||"generated.pdf",Ae){case void 0:return ic();case"save":Pe.save(Qe.filename);break;case"arraybuffer":return xa(ic());case"blob":return bi(ic());case"bloburi":case"bloburl":if(g.URL!==void 0&&typeof g.URL.createObjectURL=="function")return g.URL&&g.URL.createObjectURL(bi(ic()))||void 0;x.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var vt="",kt=ic();try{vt=O(kt)}catch{vt=O(unescape(encodeURIComponent(kt)))}return"data:application/pdf;filename="+Qe.filename+";base64,"+vt;case"pdfobjectnewwindow":if(Object.prototype.toString.call(g)==="[object Window]"){var Xt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Cr=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Qe.pdfObjectUrl&&(Xt=Qe.pdfObjectUrl,Cr="");var Fr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Xt+'"'+Cr+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Qe)+");<\/script></body></html>",In=g.open();return In!==null&&In.document.write(Fr),In}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(g)==="[object Window]"){var Un='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Qe.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Qe.filename+'" width="500px" height="400px" /></body></html>',ma=g.open();if(ma!==null){ma.document.write(Un);var na=this;ma.document.documentElement.querySelector("#pdfViewer").onload=function(){ma.document.title=Qe.filename,ma.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(na.output("bloburl"))}}return ma}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(g)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Pa='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Qe)+'"></iframe></body></html>',Ri=g.open();if(Ri!==null&&(Ri.document.write(Pa),Ri.document.title=Qe.filename),Ri||typeof safari>"u")return Ri;break;case"datauri":case"dataurl":return g.document.location.href=this.output("datauristring",Qe);default:return null}},Rs.foo=function(){try{return Rs.apply(this,arguments)}catch(vt){var Ae=vt.stack||"";~Ae.indexOf(" at ")&&(Ae=Ae.split(" at ")[1]);var Qe="Error in function "+Ae.split(`
`)[0].split("<")[0]+": "+vt.message;if(!g.console)throw new Error(Qe);g.console.error(Qe,vt),g.alert&&alert(Qe)}},Rs.foo.bar=Rs,Rs.foo),gl=function(Ae){return Array.isArray(au)===!0&&au.indexOf(Ae)>-1};switch(z){case"pt":ha=1;break;case"mm":ha=2.834645669291339;break;case"cm":ha=28.346456692913385;break;case"in":ha=72;break;case"px":ha=gl("px_scaling")==1?.75:1.3333333333333333;break;case"pc":case"em":ha=12;break;case"ex":ha=6;break;default:if(typeof z!="number")throw new Error("Invalid unit: "+z);ha=z}var Os=null;Wr(),Jt();var _c=Pe.__private__.getPageInfo=Pe.getPageInfo=function(Ae){if(isNaN(Ae)||Ae%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Bn[Ae].objId,pageNumber:Ae,pageContext:Bn[Ae]}},lu=Pe.__private__.getPageInfoByObjId=function(Ae){if(isNaN(Ae)||Ae%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Qe in Bn)if(Bn[Qe].objId===Ae)break;return _c(Qe)},Pl=Pe.__private__.getCurrentPageInfo=Pe.getCurrentPageInfo=function(){return{objId:Bn[bt].objId,pageNumber:bt,pageContext:Bn[bt]}};Pe.addPage=function(){return Nu.apply(this,arguments),this},Pe.setPage=function(){return kl.apply(this,arguments),ua.call(this,Jr[bt]),this},Pe.insertPage=function(Ae){return this.addPage(),this.movePage(bt,Ae),this},Pe.movePage=function(Ae,Qe){var vt,kt;if(Ae>Qe){vt=Jr[Ae],kt=Bn[Ae];for(var Xt=Ae;Xt>Qe;Xt--)Jr[Xt]=Jr[Xt-1],Bn[Xt]=Bn[Xt-1];Jr[Qe]=vt,Bn[Qe]=kt,this.setPage(Qe)}else if(Ae<Qe){vt=Jr[Ae],kt=Bn[Ae];for(var Cr=Ae;Cr<Qe;Cr++)Jr[Cr]=Jr[Cr+1],Bn[Cr]=Bn[Cr+1];Jr[Qe]=vt,Bn[Qe]=kt,this.setPage(Qe)}return this},Pe.deletePage=function(){return Wu.apply(this,arguments),this},Pe.__private__.text=Pe.text=function(Ae,Qe,vt,kt,Xt){var Cr,Fr,In,Un,ma,na,Pa,Ri,Ui,Ai=(kt=kt||{}).scope||this;if(typeof Ae=="number"&&typeof Qe=="number"&&(typeof vt=="string"||Array.isArray(vt))){var hs=vt;vt=Qe,Qe=Ae,Ae=hs}if(arguments[3]instanceof pa==0?(In=arguments[4],Un=arguments[5],(0,h.default)(Pa=arguments[3])==="object"&&Pa!==null||(typeof In=="string"&&(Un=In,In=null),typeof Pa=="string"&&(Un=Pa,Pa=null),typeof Pa=="number"&&(In=Pa,Pa=null),kt={flags:Pa,angle:In,align:Un})):(Ot("The transform parameter of text() with a Matrix value"),Ui=Xt),isNaN(Qe)||isNaN(vt)||Ae==null)throw new Error("Invalid arguments passed to jsPDF.text");if(Ae.length===0)return Ai;var T,Le="",J=typeof kt.lineHeightFactor=="number"?kt.lineHeightFactor:Ou,Ye=Ai.internal.scaleFactor;function At(hi){return hi=hi.split("	").join(Array(kt.TabLen||9).join(" ")),Go(hi,Pa)}function lt(hi){for(var Qi,As=hi.concat(),Ao=[],hu=As.length;hu--;)typeof(Qi=As.shift())=="string"?Ao.push(Qi):Array.isArray(hi)&&(Qi.length===1||Qi[1]===void 0&&Qi[2]===void 0)?Ao.push(Qi[0]):Ao.push([Qi[0],Qi[1],Qi[2]]);return Ao}function er(hi,Qi){var As;if(typeof hi=="string")As=Qi(hi)[0];else if(Array.isArray(hi)){for(var Ao,hu,as=hi.concat(),Au=[],jd=as.length;jd--;)typeof(Ao=as.shift())=="string"?Au.push(Qi(Ao)[0]):Array.isArray(Ao)&&typeof Ao[0]=="string"&&(hu=Qi(Ao[0],Ao[1],Ao[2]),Au.push([hu[0],hu[1],hu[2]]));As=Au}return As}var zt=!1,Sn=!0;if(typeof Ae=="string")zt=!0;else if(Array.isArray(Ae)){var Dt=Ae.concat();Fr=[];for(var ir,ba=Dt.length;ba--;)(typeof(ir=Dt.shift())!="string"||Array.isArray(ir)&&typeof ir[0]!="string")&&(Sn=!1);zt=Sn}if(zt===!1)throw new Error('Type of text must be string or Array. "'+Ae+'" is not recognized.');typeof Ae=="string"&&(Ae=Ae.match(/[\r?\n]/)?Ae.split(/\r\n|\r|\n/g):[Ae]);var fn=Vr/Ai.internal.scaleFactor,Rr=fn*(J-1);switch(kt.baseline){case"bottom":vt-=Rr;break;case"top":vt+=fn-Rr;break;case"hanging":vt+=fn-2*Rr;break;case"middle":vt+=fn/2-Rr}if((na=kt.maxWidth||0)>0&&(typeof Ae=="string"?Ae=Ai.splitTextToSize(Ae,na):Object.prototype.toString.call(Ae)==="[object Array]"&&(Ae=Ae.reduce(function(hi,Qi){return hi.concat(Ai.splitTextToSize(Qi,na))},[]))),Cr={text:Ae,x:Qe,y:vt,options:kt,mutex:{pdfEscape:Go,activeFontKey:On,fonts:qa,activeFontSize:Vr}},ei.publish("preProcessText",Cr),Ae=Cr.text,In=(kt=Cr.options).angle,Ui instanceof pa==0&&In&&typeof In=="number"){In*=Math.PI/180,kt.rotationDirection===0&&(In=-In),It===qt&&(In=-In);var Nr=Math.cos(In),Hi=Math.sin(In);Ui=new pa(Nr,Hi,-Hi,Nr,0,0)}else In&&In instanceof pa&&(Ui=In);It!==qt||Ui||(Ui=jo),(ma=kt.charSpace||xl)!==void 0&&(Le+=Yt(Tt(ma))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ri=kt.horizontalScale)!==void 0&&(Le+=Yt(100*Ri)+` Tz
`),kt.lang;var ja=-1,aa=kt.renderingMode!==void 0?kt.renderingMode:kt.stroke,Ea=Ai.internal.getCurrentPageInfo().pageContext;switch(aa){case 0:case!1:case"fill":ja=0;break;case 1:case!0:case"stroke":ja=1;break;case 2:case"fillThenStroke":ja=2;break;case 3:case"invisible":ja=3;break;case 4:case"fillAndAddForClipping":ja=4;break;case 5:case"strokeAndAddPathForClipping":ja=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ja=6;break;case 7:case"addToPathForClipping":ja=7}var ti=Ea.usedRenderingMode!==void 0?Ea.usedRenderingMode:-1;ja!==-1?Le+=ja+` Tr
`:ti!==-1&&(Le+=`0 Tr
`),ja!==-1&&(Ea.usedRenderingMode=ja),Un=kt.align||"left";var sn,Ta=Vr*J,ns=Ai.internal.pageSize.getWidth(),Jn=qa[On];ma=kt.charSpace||xl,na=kt.maxWidth||0,Pa=Object.assign({autoencode:!0,noBOM:!0},kt.flags);var li=[],Fa=function(hi){return Ai.getStringUnitWidth(hi,{font:Jn,charSpace:ma,fontSize:Vr,doKerning:!1})*Vr/Ye};if(Object.prototype.toString.call(Ae)==="[object Array]"){var Hn;Fr=lt(Ae),Un!=="left"&&(sn=Fr.map(Fa));var Aa,No=0;if(Un==="right"){Qe-=sn[0],Ae=[],ba=Fr.length;for(var cc=0;cc<ba;cc++)cc===0?(Aa=Co(Qe),Hn=Dl(vt)):(Aa=Tt(No-sn[cc]),Hn=-Ta),Ae.push([Fr[cc],Aa,Hn]),No=sn[cc]}else if(Un==="center"){Qe-=sn[0]/2,Ae=[],ba=Fr.length;for(var Lo=0;Lo<ba;Lo++)Lo===0?(Aa=Co(Qe),Hn=Dl(vt)):(Aa=Tt((No-sn[Lo])/2),Hn=-Ta),Ae.push([Fr[Lo],Aa,Hn]),No=sn[Lo]}else if(Un==="left"){Ae=[],ba=Fr.length;for(var ho=0;ho<ba;ho++)Ae.push(Fr[ho])}else if(Un==="justify"&&Jn.encoding==="Identity-H"){Ae=[],ba=Fr.length,na=na!==0?na:ns;for(var uc=0,Ks=0;Ks<ba;Ks++)if(Hn=Ks===0?Dl(vt):-Ta,Aa=Ks===0?Co(Qe):uc,Ks<ba-1){var Wh=Tt((na-sn[Ks])/(Fr[Ks].split(" ").length-1)),Yo=Fr[Ks].split(" ");Ae.push([Yo[0]+" ",Aa,Hn]),uc=0;for(var sl=1;sl<Yo.length;sl++){var Yd=(Fa(Yo[sl-1]+" "+Yo[sl])-Fa(Yo[sl]))*Ye+Wh;sl==Yo.length-1?Ae.push([Yo[sl],Yd,0]):Ae.push([Yo[sl]+" ",Yd,0]),uc-=Yd}}else Ae.push([Fr[Ks],Aa,Hn]);Ae.push(["",uc,0])}else{if(Un!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(Ae=[],ba=Fr.length,na=na!==0?na:ns,Ks=0;Ks<ba;Ks++){Hn=Ks===0?Dl(vt):-Ta,Aa=Ks===0?Co(Qe):0;var gh=Fr[Ks].split(" ").length-1,Fc=gh>0?(na-sn[Ks])/gh:0;Ks<ba-1?li.push(Yt(Tt(Fc))):li.push(0),Ae.push([Fr[Ks],Aa,Hn])}}}(typeof kt.R2L=="boolean"?kt.R2L:Zn)===!0&&(Ae=er(Ae,function(hi,Qi,As){return[hi.split("").reverse().join(""),Qi,As]})),Cr={text:Ae,x:Qe,y:vt,options:kt,mutex:{pdfEscape:Go,activeFontKey:On,fonts:qa,activeFontSize:Vr}},ei.publish("postProcessText",Cr),Ae=Cr.text,T=Cr.mutex.isHex||!1;var Gc=qa[On].encoding;Gc!=="WinAnsiEncoding"&&Gc!=="StandardEncoding"||(Ae=er(Ae,function(hi,Qi,As){return[At(hi),Qi,As]})),Fr=lt(Ae),Ae=[];for(var qc,qu,du,wd=Array.isArray(Fr[0])?1:0,Dc="",yl=function(hi,Qi,As){var Ao="";return As instanceof pa?(As=typeof kt.angle=="number"?Cs(As,new pa(1,0,0,1,hi,Qi)):Cs(new pa(1,0,0,1,hi,Qi),As),It===qt&&(As=Cs(new pa(1,0,0,-1,0,0),As)),Ao=As.join(" ")+` Tm
`):Ao=Yt(hi)+" "+Yt(Qi)+` Td
`,Ao},Uo=0;Uo<Fr.length;Uo++){switch(Dc="",wd){case 1:du=(T?"<":"(")+Fr[Uo][0]+(T?">":")"),qc=parseFloat(Fr[Uo][1]),qu=parseFloat(Fr[Uo][2]);break;case 0:du=(T?"<":"(")+Fr[Uo]+(T?">":")"),qc=Co(Qe),qu=Dl(vt)}li!==void 0&&li[Uo]!==void 0&&(Dc=li[Uo]+` Tw
`),Uo===0?Ae.push(Dc+yl(qc,qu,Ui)+du):wd===0?Ae.push(Dc+du):wd===1&&Ae.push(Dc+yl(qc,qu,Ui)+du)}Ae=wd===0?Ae.join(` Tj
T* `):Ae.join(` Tj
`),Ae+=` Tj
`;var dc=`BT
/`;return dc+=On+" "+Vr+` Tf
`,dc+=Yt(Vr*J)+` TL
`,dc+=Xo+`
`,dc+=Le,dc+=Ae,dt(dc+="ET"),ot[On]=!0,Ai};var Ku=Pe.__private__.clip=Pe.clip=function(Ae){return dt(Ae==="evenodd"?"W*":"W"),this};Pe.clipEvenOdd=function(){return Ku("evenodd")},Pe.__private__.discardPath=Pe.discardPath=function(){return dt("n"),this};var qo=Pe.__private__.isValidStyle=function(Ae){var Qe=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(Ae)!==-1&&(Qe=!0),Qe};Pe.__private__.setDefaultPathOperation=Pe.setDefaultPathOperation=function(Ae){return qo(Ae)&&(Me=Ae),this};var vd=Pe.__private__.getStyle=Pe.getStyle=function(Ae){var Qe=Me;switch(Ae){case"D":case"S":Qe="S";break;case"F":Qe="f";break;case"FD":case"DF":Qe="B";break;case"f":case"f*":case"B":case"B*":Qe=Ae}return Qe},Eu=Pe.close=function(){return dt("h"),this};Pe.stroke=function(){return dt("S"),this},Pe.fill=function(Ae){return xd("f",Ae),this},Pe.fillEvenOdd=function(Ae){return xd("f*",Ae),this},Pe.fillStroke=function(Ae){return xd("B",Ae),this},Pe.fillStrokeEvenOdd=function(Ae){return xd("B*",Ae),this};var xd=function(Ae,Qe){(0,h.default)(Qe)==="object"?Iu(Qe,Ae):dt(Ae)},cu=function(Ae){Ae===null||It===qt&&Ae===void 0||(Ae=vd(Ae),dt(Ae))};function Bu(Ae,Qe,vt,kt,Xt){var Cr=new ie(Qe||this.boundingBox,vt||this.xStep,kt||this.yStep,this.gState,Xt||this.matrix);Cr.stream=this.stream;var Fr=Ae+"$$"+this.cloneIndex+++"$$";return Tl(Fr,Cr),Cr}var Iu=function(Ae,Qe){var vt=Ti[Ae.key],kt=zn[vt];if(kt instanceof me)dt("q"),dt(Tu(Qe)),kt.gState&&Pe.setGState(kt.gState),dt(Ae.matrix.toString()+" cm"),dt("/"+vt+" sh"),dt("Q");else if(kt instanceof ie){var Xt=new pa(1,0,0,-1,0,Kc());Ae.matrix&&(Xt=Xt.multiply(Ae.matrix||jo),vt=Bu.call(kt,Ae.key,Ae.boundingBox,Ae.xStep,Ae.yStep,Xt).id),dt("q"),dt("/Pattern cs"),dt("/"+vt+" scn"),kt.gState&&Pe.setGState(kt.gState),dt(Qe),dt("Q")}},Tu=function(Ae){switch(Ae){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},_u=Pe.moveTo=function(Ae,Qe){return dt(Yt(Tt(Ae))+" "+Yt(_t(Qe))+" m"),this},yd=Pe.lineTo=function(Ae,Qe){return dt(Yt(Tt(Ae))+" "+Yt(_t(Qe))+" l"),this},Fl=Pe.curveTo=function(Ae,Qe,vt,kt,Xt,Cr){return dt([Yt(Tt(Ae)),Yt(_t(Qe)),Yt(Tt(vt)),Yt(_t(kt)),Yt(Tt(Xt)),Yt(_t(Cr)),"c"].join(" ")),this};Pe.__private__.line=Pe.line=function(Ae,Qe,vt,kt,Xt){if(isNaN(Ae)||isNaN(Qe)||isNaN(vt)||isNaN(kt)||!qo(Xt))throw new Error("Invalid arguments passed to jsPDF.line");return It===Ft?this.lines([[vt-Ae,kt-Qe]],Ae,Qe,[1,1],Xt||"S"):this.lines([[vt-Ae,kt-Qe]],Ae,Qe,[1,1]).stroke()},Pe.__private__.lines=Pe.lines=function(Ae,Qe,vt,kt,Xt,Cr){var Fr,In,Un,ma,na,Pa,Ri,Ui,Ai,hs,T,Le;if(typeof Ae=="number"&&(Le=vt,vt=Qe,Qe=Ae,Ae=Le),kt=kt||[1,1],Cr=Cr||!1,isNaN(Qe)||isNaN(vt)||!Array.isArray(Ae)||!Array.isArray(kt)||!qo(Xt)||typeof Cr!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(_u(Qe,vt),Fr=kt[0],In=kt[1],ma=Ae.length,hs=Qe,T=vt,Un=0;Un<ma;Un++)(na=Ae[Un]).length===2?(hs=na[0]*Fr+hs,T=na[1]*In+T,yd(hs,T)):(Pa=na[0]*Fr+hs,Ri=na[1]*In+T,Ui=na[2]*Fr+hs,Ai=na[3]*In+T,hs=na[4]*Fr+hs,T=na[5]*In+T,Fl(Pa,Ri,Ui,Ai,hs,T));return Cr&&Eu(),cu(Xt),this},Pe.path=function(Ae){for(var Qe=0;Qe<Ae.length;Qe++){var vt=Ae[Qe],kt=vt.c;switch(vt.op){case"m":_u(kt[0],kt[1]);break;case"l":yd(kt[0],kt[1]);break;case"c":Fl.apply(this,kt);break;case"h":Eu()}}return this},Pe.__private__.rect=Pe.rect=function(Ae,Qe,vt,kt,Xt){if(isNaN(Ae)||isNaN(Qe)||isNaN(vt)||isNaN(kt)||!qo(Xt))throw new Error("Invalid arguments passed to jsPDF.rect");return It===Ft&&(kt=-kt),dt([Yt(Tt(Ae)),Yt(_t(Qe)),Yt(Tt(vt)),Yt(Tt(kt)),"re"].join(" ")),cu(Xt),this},Pe.__private__.triangle=Pe.triangle=function(Ae,Qe,vt,kt,Xt,Cr,Fr){if(isNaN(Ae)||isNaN(Qe)||isNaN(vt)||isNaN(kt)||isNaN(Xt)||isNaN(Cr)||!qo(Fr))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[vt-Ae,kt-Qe],[Xt-vt,Cr-kt],[Ae-Xt,Qe-Cr]],Ae,Qe,[1,1],Fr,!0),this},Pe.__private__.roundedRect=Pe.roundedRect=function(Ae,Qe,vt,kt,Xt,Cr,Fr){if(isNaN(Ae)||isNaN(Qe)||isNaN(vt)||isNaN(kt)||isNaN(Xt)||isNaN(Cr)||!qo(Fr))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var In=4/3*(Math.SQRT2-1);return Xt=Math.min(Xt,.5*vt),Cr=Math.min(Cr,.5*kt),this.lines([[vt-2*Xt,0],[Xt*In,0,Xt,Cr-Cr*In,Xt,Cr],[0,kt-2*Cr],[0,Cr*In,-Xt*In,Cr,-Xt,Cr],[2*Xt-vt,0],[-Xt*In,0,-Xt,-Cr*In,-Xt,-Cr],[0,2*Cr-kt],[0,-Cr*In,Xt*In,-Cr,Xt,-Cr]],Ae+Xt,Qe,[1,1],Fr,!0),this},Pe.__private__.ellipse=Pe.ellipse=function(Ae,Qe,vt,kt,Xt){if(isNaN(Ae)||isNaN(Qe)||isNaN(vt)||isNaN(kt)||!qo(Xt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Cr=4/3*(Math.SQRT2-1)*vt,Fr=4/3*(Math.SQRT2-1)*kt;return _u(Ae+vt,Qe),Fl(Ae+vt,Qe-Fr,Ae+Cr,Qe-kt,Ae,Qe-kt),Fl(Ae-Cr,Qe-kt,Ae-vt,Qe-Fr,Ae-vt,Qe),Fl(Ae-vt,Qe+Fr,Ae-Cr,Qe+kt,Ae,Qe+kt),Fl(Ae+Cr,Qe+kt,Ae+vt,Qe+Fr,Ae+vt,Qe),cu(Xt),this},Pe.__private__.circle=Pe.circle=function(Ae,Qe,vt,kt){if(isNaN(Ae)||isNaN(Qe)||isNaN(vt)||!qo(kt))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(Ae,Qe,vt,vt,kt)},Pe.setFont=function(Ae,Qe,vt){return vt&&(Qe=ur(Qe,vt)),On=Vu(Ae,Qe,{disableWarning:!1}),this};var Hh=Pe.__private__.getFont=Pe.getFont=function(){return qa[Vu.apply(Pe,arguments)]};Pe.__private__.getFontList=Pe.getFontList=function(){var Ae,Qe,vt={};for(Ae in Xa)if(Xa.hasOwnProperty(Ae))for(Qe in vt[Ae]=[],Xa[Ae])Xa[Ae].hasOwnProperty(Qe)&&vt[Ae].push(Qe);return vt},Pe.addFont=function(Ae,Qe,vt,kt,Xt){var Cr=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Cr.indexOf(arguments[3])!==-1?Xt=arguments[3]:arguments[3]&&Cr.indexOf(arguments[3])==-1&&(vt=ur(vt,kt)),su.call(this,Ae,Qe,vt,Xt=Xt||"Identity-H")};var Ou,Kd=I.lineWidth||.200025,Qh=Pe.__private__.getLineWidth=Pe.getLineWidth=function(){return Kd},Sa=Pe.__private__.setLineWidth=Pe.setLineWidth=function(Ae){return Kd=Ae,dt(Yt(Tt(Ae))+" w"),this};Pe.__private__.setLineDash=le.API.setLineDash=le.API.setLineDashPattern=function(Ae,Qe){if(Ae=Ae||[],Qe=Qe||0,isNaN(Qe)||!Array.isArray(Ae))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return Ae=Ae.map(function(vt){return Yt(Tt(vt))}).join(" "),Qe=Yt(Tt(Qe)),dt("["+Ae+"] "+Qe+" d"),this};var Vc=Pe.__private__.getLineHeight=Pe.getLineHeight=function(){return Vr*Ou};Pe.__private__.getLineHeight=Pe.getLineHeight=function(){return Vr*Ou};var mh=Pe.__private__.setLineHeightFactor=Pe.setLineHeightFactor=function(Ae){return typeof(Ae=Ae||1.15)=="number"&&(Ou=Ae),this},Oc=Pe.__private__.getLineHeightFactor=Pe.getLineHeightFactor=function(){return Ou};mh(I.lineHeight);var Co=Pe.__private__.getHorizontalCoordinate=function(Ae){return Tt(Ae)},Dl=Pe.__private__.getVerticalCoordinate=function(Ae){return It===qt?Ae:Bn[bt].mediaBox.topRightY-Bn[bt].mediaBox.bottomLeftY-Tt(Ae)},sc=Pe.__private__.getHorizontalCoordinateString=Pe.getHorizontalCoordinateString=function(Ae){return Yt(Co(Ae))},Gd=Pe.__private__.getVerticalCoordinateString=Pe.getVerticalCoordinateString=function(Ae){return Yt(Dl(Ae))},vl=I.strokeColor||"0 G";Pe.__private__.getStrokeColor=Pe.getDrawColor=function(){return Ic(vl)},Pe.__private__.setStrokeColor=Pe.setDrawColor=function(Ae,Qe,vt,kt){return vl=rc({ch1:Ae,ch2:Qe,ch3:vt,ch4:kt,pdfColorType:"draw",precision:2}),dt(vl),this};var Gu=I.fillColor||"0 g";Pe.__private__.getFillColor=Pe.getFillColor=function(){return Ic(Gu)},Pe.__private__.setFillColor=Pe.setFillColor=function(Ae,Qe,vt,kt){return Gu=rc({ch1:Ae,ch2:Qe,ch3:vt,ch4:kt,pdfColorType:"fill",precision:2}),dt(Gu),this};var Xo=I.textColor||"0 g",ku=Pe.__private__.getTextColor=Pe.getTextColor=function(){return Ic(Xo)};Pe.__private__.setTextColor=Pe.setTextColor=function(Ae,Qe,vt,kt){return Xo=rc({ch1:Ae,ch2:Qe,ch3:vt,ch4:kt,pdfColorType:"text",precision:3}),this};var xl=I.charSpace,bd=Pe.__private__.getCharSpace=Pe.getCharSpace=function(){return parseFloat(xl||0)};Pe.__private__.setCharSpace=Pe.setCharSpace=function(Ae){if(isNaN(Ae))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return xl=Ae,this};var kc=0;Pe.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},Pe.__private__.setLineCap=Pe.setLineCap=function(Ae){var Qe=Pe.CapJoinStyles[Ae];if(Qe===void 0)throw new Error("Line cap style of '"+Ae+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return kc=Qe,dt(Qe+" J"),this};var oc=0;Pe.__private__.setLineJoin=Pe.setLineJoin=function(Ae){var Qe=Pe.CapJoinStyles[Ae];if(Qe===void 0)throw new Error("Line join style of '"+Ae+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return oc=Qe,dt(Qe+" j"),this},Pe.__private__.setLineMiterLimit=Pe.__private__.setMiterLimit=Pe.setLineMiterLimit=Pe.setMiterLimit=function(Ae){if(Ae=Ae||0,isNaN(Ae))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return dt(Yt(Tt(Ae))+" M"),this},Pe.GState=Ne,Pe.setGState=function(Ae){(Ae=typeof Ae=="string"?ya[Vn[Ae]]:Ml(null,Ae)).equals(_i)||(dt("/"+Ae.id+" gs"),_i=Ae)};var Ml=function(Ae,Qe){if(!Ae||!Vn[Ae]){var vt=!1;for(var kt in ya)if(ya.hasOwnProperty(kt)&&ya[kt].equals(Qe)){vt=!0;break}if(vt)Qe=ya[kt];else{var Xt="GS"+(Object.keys(ya).length+1).toString(10);ya[Xt]=Qe,Qe.id=Xt}return Ae&&(Vn[Ae]=Qe.id),ei.publish("addGState",Qe),Qe}};Pe.addGState=function(Ae,Qe){return Ml(Ae,Qe),this},Pe.saveGraphicsState=function(){return dt("q"),rs.push({key:On,size:Vr,color:Xo}),this},Pe.restoreGraphicsState=function(){dt("Q");var Ae=rs.pop();return On=Ae.key,Vr=Ae.size,Xo=Ae.color,_i=null,this},Pe.setCurrentTransformationMatrix=function(Ae){return dt(Ae.toString()+" cm"),this},Pe.comment=function(Ae){return dt("#"+Ae),this};var di=function(Ae,Qe){var vt=Ae||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return vt},set:function(Cr){isNaN(Cr)||(vt=parseFloat(Cr))}});var kt=Qe||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return kt},set:function(Cr){isNaN(Cr)||(kt=parseFloat(Cr))}});var Xt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Xt},set:function(Cr){Xt=Cr.toString()}}),this},Oi=function(Ae,Qe,vt,kt){di.call(this,Ae,Qe),this.type="rect";var Xt=vt||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Xt},set:function(Fr){isNaN(Fr)||(Xt=parseFloat(Fr))}});var Cr=kt||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Cr},set:function(Fr){isNaN(Fr)||(Cr=parseFloat(Fr))}}),this},Rl=function(){this.page=Na,this.currentPage=bt,this.pages=Jr.slice(0),this.pagesContext=Bn.slice(0),this.x=kn,this.y=Ca,this.matrix=ui,this.width=Pc(bt),this.height=Ro(bt),this.outputDestination=En,this.id="",this.objectNumber=-1};Rl.prototype.restore=function(){Na=this.page,bt=this.currentPage,Bn=this.pagesContext,Jr=this.pages,kn=this.x,Ca=this.y,ui=this.matrix,uu(bt,this.width),lc(bt,this.height),En=this.outputDestination};var Ns=function(Ae,Qe,vt,kt,Xt){Bc.push(new Rl),Na=bt=0,Jr=[],kn=Ae,Ca=Qe,ui=Xt,ou([vt,kt])};for(var Ls in Pe.beginFormObject=function(Ae,Qe,vt,kt,Xt){return Ns(Ae,Qe,vt,kt,Xt),this},Pe.endFormObject=function(Ae){return(function(Qe){if(wo[Qe])Bc.pop().restore();else{var vt=new Rl,kt="Xo"+(Object.keys(zs).length+1).toString(10);vt.id=kt,wo[Qe]=kt,zs[kt]=vt,ei.publish("addFormObject",vt),Bc.pop().restore()}})(Ae),this},Pe.doFormObject=function(Ae,Qe){var vt=zs[wo[Ae]];return dt("q"),dt(Qe.toString()+" cm"),dt("/"+vt.id+" Do"),dt("Q"),this},Pe.getFormObject=function(Ae){var Qe=zs[wo[Ae]];return{x:Qe.x,y:Qe.y,width:Qe.width,height:Qe.height,matrix:Qe.matrix}},Pe.save=function(Ae,Qe){return Ae=Ae||"generated.pdf",(Qe=Qe||{}).returnPromise=Qe.returnPromise||!1,Qe.returnPromise===!1?(S(bi(ic()),Ae),typeof S.unload=="function"&&g.setTimeout&&setTimeout(S.unload,911),this):new Promise(function(vt,kt){try{var Xt=S(bi(ic()),Ae);typeof S.unload=="function"&&g.setTimeout&&setTimeout(S.unload,911),vt(Xt)}catch(Cr){kt(Cr.message)}})},le.API)le.API.hasOwnProperty(Ls)&&(Ls==="events"&&le.API.events.length?(function(Ae,Qe){var vt,kt,Xt;for(Xt=Qe.length-1;Xt!==-1;Xt--)vt=Qe[Xt][0],kt=Qe[Xt][1],Ae.subscribe.apply(Ae,[vt].concat(typeof kt=="function"?[kt]:kt))})(ei,le.API.events):Pe[Ls]=le.API[Ls]);function Pc(Ae){return Bn[Ae].mediaBox.topRightX-Bn[Ae].mediaBox.bottomLeftX}function uu(Ae,Qe){Bn[Ae].mediaBox.topRightX=Qe+Bn[Ae].mediaBox.bottomLeftX}function Ro(Ae){return Bn[Ae].mediaBox.topRightY-Bn[Ae].mediaBox.bottomLeftY}function lc(Ae,Qe){Bn[Ae].mediaBox.topRightY=Qe+Bn[Ae].mediaBox.bottomLeftY}var zc=Pe.getPageWidth=function(Ae){return Pc(Ae=Ae||bt)/ha},qd=Pe.setPageWidth=function(Ae,Qe){uu(Ae,Qe*ha)},Kc=Pe.getPageHeight=function(Ae){return Ro(Ae=Ae||bt)/ha},Xd=Pe.setPageHeight=function(Ae,Qe){lc(Ae,Qe*ha)};return Pe.internal={pdfEscape:Go,getStyle:vd,getFont:Hh,getFontSize:Dn,getCharSpace:bd,getTextColor:ku,getLineHeight:Vc,getLineHeightFactor:Oc,getLineWidth:Qh,write:An,getHorizontalCoordinate:Co,getVerticalCoordinate:Dl,getCoordinateString:sc,getVerticalCoordinateString:Gd,collections:{},newObject:Mi,newAdditionalObject:iu,newObjectDeferred:_s,newObjectDeferredBegin:uo,getFilters:eo,putStream:il,events:ei,scaleFactor:ha,pageSize:{getWidth:function(){return zc(bt)},setWidth:function(Ae){qd(bt,Ae)},getHeight:function(){return Kc(bt)},setHeight:function(Ae){Xd(bt,Ae)}},encryptionOptions:ze,encryption:Os,getEncryptor:function(Ae){return ze!==null?Os.encryptor(Ae,0):function(Qe){return Qe}},output:gd,getNumberOfPages:$u,get pages(){return Jr},out:dt,f2:at,f3:ht,getPageInfo:_c,getPageInfoByObjId:lu,getCurrentPageInfo:Pl,getPDFVersion:gt,Point:di,Rectangle:Oi,Matrix:pa,hasHotfix:gl},Object.defineProperty(Pe.internal.pageSize,"width",{get:function(){return zc(bt)},set:function(Ae){qd(bt,Ae)},enumerable:!0,configurable:!0}),Object.defineProperty(Pe.internal.pageSize,"height",{get:function(){return Kc(bt)},set:function(Ae){Xd(bt,Ae)},enumerable:!0,configurable:!0}),(function(Ae){for(var Qe=0,vt=hn.length;Qe<vt;Qe++){var kt=su.call(this,Ae[Qe][0],Ae[Qe][1],Ae[Qe][2],hn[Qe][3],!0);et===!1&&(ot[kt]=!0);var Xt=Ae[Qe][0].split("-");pd({id:kt,fontName:Xt[0],fontStyle:Xt[1]||""})}ei.publish("addFonts",{fonts:qa,dictionary:Xa})}).call(Pe,hn),On="F1",Nu(X,D),ei.publish("initialized"),Pe}ee.prototype.lsbFirstWord=function(I){return String.fromCharCode(255&I,I>>8&255,I>>16&255,I>>24&255)},ee.prototype.toHexString=function(I){return I.split("").map(function(E){return("0"+(255&E.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ee.prototype.hexToBytes=function(I){for(var E=[],D=0;D<I.length;D+=2)E.push(String.fromCharCode(parseInt(I.substr(D,2),16)));return E.join("")},ee.prototype.processOwnerPassword=function(I,E){return Z(Te(E).substr(0,5),I)},ee.prototype.encryptor=function(I,E){var D=Te(this.encryptionKey+String.fromCharCode(255&I,I>>8&255,I>>16&255,255&E,E>>8&255)).substr(0,10);return function(z){return Z(D,z)}},Ne.prototype.equals=function(I){var E,D="id,objectNumber,equals";if(!I||(0,h.default)(I)!==(0,h.default)(this))return!1;var z=0;for(E in this)if(!(D.indexOf(E)>=0)){if(this.hasOwnProperty(E)&&!I.hasOwnProperty(E)||this[E]!==I[E])return!1;z++}for(E in I)I.hasOwnProperty(E)&&D.indexOf(E)<0&&z--;return z===0},le.API={events:[]},le.version="4.0.0";var Ee=le.API,Re=1,Ue=function(I){return I.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},de=function(I){return I.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ce=function(I){return I.toFixed(2)},ue=function(I){return I.toFixed(5)};Ee.__acroform__={};var $e=function(I,E){I.prototype=Object.create(E.prototype),I.prototype.constructor=I},it=function(I){return I*Re},Et=function(I){var E=new $r,D=cr.internal.getHeight(I)||0,z=cr.internal.getWidth(I)||0;return E.BBox=[0,0,Number(Ce(z)),Number(Ce(D))],E},Ct=Ee.__acroform__.setBit=function(I,E){if(I=I||0,E=E||0,isNaN(I)||isNaN(E))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return I|1<<E},Bt=Ee.__acroform__.clearBit=function(I,E){if(I=I||0,E=E||0,isNaN(I)||isNaN(E))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return I&~(1<<E)},mr=Ee.__acroform__.getBit=function(I,E){if(isNaN(I)||isNaN(E))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return I&1<<E?1:0},lr=Ee.__acroform__.getBitForPdf=function(I,E){if(isNaN(I)||isNaN(E))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return mr(I,E-1)},He=Ee.__acroform__.setBitForPdf=function(I,E){if(isNaN(I)||isNaN(E))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Ct(I,E-1)},$t=Ee.__acroform__.clearBitForPdf=function(I,E){if(isNaN(I)||isNaN(E))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Bt(I,E-1)},Nt=Ee.__acroform__.calculateCoordinates=function(I,E){var D=E.internal.getHorizontalCoordinate,z=E.internal.getVerticalCoordinate,X=I[0],ae=I[1],Se=I[2],ge=I[3],ve={};return ve.lowerLeft_X=D(X)||0,ve.lowerLeft_Y=z(ae+ge)||0,ve.upperRight_X=D(X+Se)||0,ve.upperRight_Y=z(ae)||0,[Number(Ce(ve.lowerLeft_X)),Number(Ce(ve.lowerLeft_Y)),Number(Ce(ve.upperRight_X)),Number(Ce(ve.upperRight_Y))]},Dr=function(I){if(I.appearanceStreamContent)return I.appearanceStreamContent;if(I.V||I.DV){var E=[],D=I._V||I.DV,z=vr(I,D),X=I.scope.internal.getFont(I.fontName,I.fontStyle).id;E.push("/Tx BMC"),E.push("q"),E.push("BT"),E.push(I.scope.__private__.encodeColorString(I.color)),E.push("/"+X+" "+Ce(z.fontSize)+" Tf"),E.push("1 0 0 1 0 0 Tm"),E.push(z.text),E.push("ET"),E.push("Q"),E.push("EMC");var ae=Et(I);return ae.scope=I.scope,ae.stream=E.join(`
`),ae}},vr=function(I,E){var D=I.fontSize===0?I.maxFontSize:I.fontSize,z={text:"",fontSize:""},X=(E=(E=E.substr(0,1)=="("?E.substr(1):E).substr(E.length-1)==")"?E.substr(0,E.length-1):E).split(" ");X=I.multiline?X.map(function(at){return at.split(`
`)}):X.map(function(at){return[at]});var ae=D,Se=cr.internal.getHeight(I)||0;Se=Se<0?-Se:Se;var ge=cr.internal.getWidth(I)||0;ge=ge<0?-ge:ge;var ve=function(at,ht,Tt){if(at+1<X.length){var _t=ht+" "+X[at+1][0];return an(_t,I,Tt).width<=ge-4}return!1};ae++;e:for(;ae>0;){E="",ae--;var Me,ze,et=an("3",I,ae).height,ot=I.multiline?Se-ae:(Se-et)/2,Pe=ot+=2,yt=0,gt=0,wt=0;if(ae<=0){E=`(...) Tj
`,E+="% Width of Text: "+an(E,I,ae=12).width+", FieldWidth:"+ge+`
`;break}for(var nt="",Ft=0,qt=0;qt<X.length;qt++)if(X.hasOwnProperty(qt)){var It=!1;if(X[qt].length!==1&&wt!==X[qt].length-1){if((et+2)*(Ft+2)+2>Se)continue e;nt+=X[qt][wt],It=!0,gt=qt,qt--}else{nt=(nt+=X[qt][wt]+" ").substr(nt.length-1)==" "?nt.substr(0,nt.length-1):nt;var tt=parseInt(qt),Wt=ve(tt,nt,ae),ur=qt>=X.length-1;if(Wt&&!ur){nt+=" ",wt=0;continue}if(Wt||ur){if(ur)gt=tt;else if(I.multiline&&(et+2)*(Ft+2)+2>Se)continue e}else{if(!I.multiline||(et+2)*(Ft+2)+2>Se)continue e;gt=tt}}for(var Yt="",Ot=yt;Ot<=gt;Ot++){var or=X[Ot];if(I.multiline){if(Ot===gt){Yt+=or[wt]+" ",wt=(wt+1)%or.length;continue}if(Ot===yt){Yt+=or[or.length-1]+" ";continue}}Yt+=or[0]+" "}switch(Yt=Yt.substr(Yt.length-1)==" "?Yt.substr(0,Yt.length-1):Yt,ze=an(Yt,I,ae).width,I.textAlign){case"right":Me=ge-ze-2;break;case"center":Me=(ge-ze)/2;break;default:Me=2}E+=Ce(Me)+" "+Ce(Pe)+` Td
`,E+="("+Ue(Yt)+`) Tj
`,E+=-Ce(Me)+` 0 Td
`,Pe=-(ae+2),ze=0,yt=It?gt:gt+1,Ft++,nt=""}break}return z.text=E,z.fontSize=ae,z},an=function(I,E,D){var z=E.scope.internal.getFont(E.fontName,E.fontStyle),X=E.scope.getStringUnitWidth(I,{font:z,fontSize:parseFloat(D),charSpace:0})*parseFloat(D);return{height:E.scope.getStringUnitWidth("3",{font:z,fontSize:parseFloat(D),charSpace:0})*parseFloat(D)*1.5,width:X}},Xr={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Qr=function(I,E){var D={type:"reference",object:I};E.internal.getPageInfo(I.page).pageContext.annotations.find(function(z){return z.type===D.type&&z.object===D.object})===void 0&&E.internal.getPageInfo(I.page).pageContext.annotations.push(D)},Ir=function(I,E){if(E.scope=I,I.internal!==void 0&&(I.internal.acroformPlugin===void 0||I.internal.acroformPlugin.isInitialized===!1)){if(zr.FieldNum=0,I.internal.acroformPlugin=JSON.parse(JSON.stringify(Xr)),I.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Re=I.internal.scaleFactor,I.internal.acroformPlugin.acroFormDictionaryRoot=new dn,I.internal.acroformPlugin.acroFormDictionaryRoot.scope=I,I.internal.acroformPlugin.acroFormDictionaryRoot._eventID=I.internal.events.subscribe("postPutResources",function(){(function(D){D.internal.events.unsubscribe(D.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete D.internal.acroformPlugin.acroFormDictionaryRoot._eventID,D.internal.acroformPlugin.printedOut=!0})(I)}),I.internal.events.subscribe("buildDocument",function(){(function(D){D.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var z=D.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var X in z)if(z.hasOwnProperty(X)){var ae=z[X];ae.objId=void 0,ae.hasAnnotation&&Qr(ae,D)}})(I)}),I.internal.events.subscribe("putCatalog",function(){(function(D){if(D.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");D.internal.write("/AcroForm "+D.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(I)}),I.internal.events.subscribe("postPutPages",function(D){(function(z,X){var ae=!z;for(var Se in z||(X.internal.newObjectDeferredBegin(X.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),X.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),z=z||X.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(z.hasOwnProperty(Se)){var ge=z[Se],ve=[],Me=ge.Rect;if(ge.Rect&&(ge.Rect=Nt(ge.Rect,X)),X.internal.newObjectDeferredBegin(ge.objId,!0),ge.DA=cr.createDefaultAppearanceStream(ge),(0,h.default)(ge)==="object"&&typeof ge.getKeyValueListForStream=="function"&&(ve=ge.getKeyValueListForStream()),ge.Rect=Me,ge.hasAppearanceStream&&!ge.appearanceStreamContent){var ze=Dr(ge);ve.push({key:"AP",value:"<</N "+ze+">>"}),X.internal.acroformPlugin.xForms.push(ze)}if(ge.appearanceStreamContent){var et="";for(var ot in ge.appearanceStreamContent)if(ge.appearanceStreamContent.hasOwnProperty(ot)){var Pe=ge.appearanceStreamContent[ot];if(et+="/"+ot+" ",et+="<<",Object.keys(Pe).length>=1||Array.isArray(Pe)){for(var Se in Pe)if(Pe.hasOwnProperty(Se)){var yt=Pe[Se];typeof yt=="function"&&(yt=yt.call(X,ge)),et+="/"+Se+" "+yt+" ",X.internal.acroformPlugin.xForms.indexOf(yt)>=0||X.internal.acroformPlugin.xForms.push(yt)}}else typeof(yt=Pe)=="function"&&(yt=yt.call(X,ge)),et+="/"+Se+" "+yt,X.internal.acroformPlugin.xForms.indexOf(yt)>=0||X.internal.acroformPlugin.xForms.push(yt);et+=">>"}ve.push({key:"AP",value:`<<
`+et+">>"})}X.internal.putStream({additionalKeyValues:ve,objectId:ge.objId}),X.internal.out("endobj")}ae&&(function(gt,wt){for(var nt in gt)if(gt.hasOwnProperty(nt)){var Ft=nt,qt=gt[nt];wt.internal.newObjectDeferredBegin(qt.objId,!0),(0,h.default)(qt)==="object"&&typeof qt.putStream=="function"&&qt.putStream(),delete gt[Ft]}})(X.internal.acroformPlugin.xForms,X)})(D,I)}),I.internal.acroformPlugin.isInitialized=!0}},hr=Ee.__acroform__.arrayToPdfArray=function(I,E,D){var z=function(Se){return Se};if(Array.isArray(I)){for(var X="[",ae=0;ae<I.length;ae++)switch(ae!==0&&(X+=" "),(0,h.default)(I[ae])){case"boolean":case"number":case"object":X+=I[ae].toString();break;case"string":I[ae].substr(0,1)!=="/"?(E!==void 0&&D&&(z=D.internal.getEncryptor(E)),X+="("+Ue(z(I[ae].toString()))+")"):X+=I[ae].toString()}return X+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},pr=function(I,E,D){var z=function(X){return X};return E!==void 0&&D&&(z=D.internal.getEncryptor(E)),(I=I||"").toString(),"("+Ue(z(I))+")"},Lr=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(I){this._objId=I}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Lr.prototype.toString=function(){return this.objId+" 0 R"},Lr.prototype.putStream=function(){var I=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:I,objectId:this.objId}),this.scope.internal.out("endobj")},Lr.prototype.getKeyValueListForStream=function(){var I=[],E=Object.getOwnPropertyNames(this).filter(function(ae){return ae!="content"&&ae!="appearanceStreamContent"&&ae!="scope"&&ae!="objId"&&ae.substring(0,1)!="_"});for(var D in E)if(Object.getOwnPropertyDescriptor(this,E[D]).configurable===!1){var z=E[D],X=this[z];X&&(Array.isArray(X)?I.push({key:z,value:hr(X,this.objId,this.scope)}):X instanceof Lr?(X.scope=this.scope,I.push({key:z,value:X.objId+" 0 R"})):typeof X!="function"&&I.push({key:z,value:X}))}return I};var $r=function(){Lr.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var I,E=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return E},set:function(D){E=D}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(D){I=D.trim()},get:function(){return I||null}})};$e($r,Lr);var dn=function(){Lr.call(this);var I,E=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return E.length>0?E:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return E}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(I){var D=function(z){return z};return this.scope&&(D=this.scope.internal.getEncryptor(this.objId)),"("+Ue(D(I))+")"}},set:function(D){I=D}})};$e(dn,Lr);var zr=function I(){Lr.call(this);var E=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return E},set:function(nt){if(isNaN(nt))throw new Error('Invalid value "'+nt+'" for attribute F supplied.');E=nt}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!lr(E,3)},set:function(nt){nt?this.F=He(E,3):this.F=$t(E,3)}});var D=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return D},set:function(nt){if(isNaN(nt))throw new Error('Invalid value "'+nt+'" for attribute Ff supplied.');D=nt}});var z=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(z.length!==0)return z},set:function(nt){z=nt!==void 0?nt:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!z||isNaN(z[0])?0:z[0]},set:function(nt){z[0]=nt}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!z||isNaN(z[1])?0:z[1]},set:function(nt){z[1]=nt}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!z||isNaN(z[2])?0:z[2]},set:function(nt){z[2]=nt}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!z||isNaN(z[3])?0:z[3]},set:function(nt){z[3]=nt}});var X="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return X},set:function(nt){switch(nt){case"/Btn":case"/Tx":case"/Ch":case"/Sig":X=nt;break;default:throw new Error('Invalid value "'+nt+'" for attribute FT supplied.')}}});var ae=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!ae||ae.length<1){if(this instanceof Pt)return;ae="FieldObject"+I.FieldNum++}var nt=function(Ft){return Ft};return this.scope&&(nt=this.scope.internal.getEncryptor(this.objId)),"("+Ue(nt(ae))+")"},set:function(nt){ae=nt.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return ae},set:function(nt){ae=nt}});var Se="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return Se},set:function(nt){Se=nt}});var ge="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return ge},set:function(nt){ge=nt}});var ve=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return ve},set:function(nt){ve=nt}});var Me=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return Me===void 0?50/Re:Me},set:function(nt){Me=nt}});var ze="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return ze},set:function(nt){ze=nt}});var et="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!et||this instanceof Pt||this instanceof un))return pr(et,this.objId,this.scope)},set:function(nt){nt=nt.toString(),et=nt}});var ot=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(ot)return this instanceof cn==0?pr(ot,this.objId,this.scope):ot},set:function(nt){nt=nt.toString(),ot=this instanceof cn==0?nt.substr(0,1)==="("?de(nt.substr(1,nt.length-2)):de(nt):nt}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof cn==1?de(ot.substr(1,ot.length-1)):ot},set:function(nt){nt=nt.toString(),ot=this instanceof cn==1?"/"+nt:nt}});var Pe=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(Pe)return Pe},set:function(nt){this.V=nt}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(Pe)return this instanceof cn==0?pr(Pe,this.objId,this.scope):Pe},set:function(nt){nt=nt.toString(),Pe=this instanceof cn==0?nt.substr(0,1)==="("?de(nt.substr(1,nt.length-2)):de(nt):nt}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof cn==1?de(Pe.substr(1,Pe.length-1)):Pe},set:function(nt){nt=nt.toString(),Pe=this instanceof cn==1?"/"+nt:nt}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var yt,gt=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return gt},set:function(nt){nt=!!nt,gt=nt}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(yt)return yt},set:function(nt){yt=nt}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,1)},set:function(nt){nt?this.Ff=He(this.Ff,1):this.Ff=$t(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,2)},set:function(nt){nt?this.Ff=He(this.Ff,2):this.Ff=$t(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,3)},set:function(nt){nt?this.Ff=He(this.Ff,3):this.Ff=$t(this.Ff,3)}});var wt=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(wt!==null)return wt},set:function(nt){if([0,1,2].indexOf(nt)===-1)throw new Error('Invalid value "'+nt+'" for attribute Q supplied.');wt=nt}}),Object.defineProperty(this,"textAlign",{get:function(){var nt;switch(wt){case 0:default:nt="left";break;case 1:nt="center";break;case 2:nt="right"}return nt},configurable:!0,enumerable:!0,set:function(nt){switch(nt){case"right":case 2:wt=2;break;case"center":case 1:wt=1;break;default:wt=0}}})};$e(zr,Lr);var Wn=function(){zr.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var I=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return I},set:function(D){I=D}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return I},set:function(D){I=D}});var E=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return hr(E,this.objId,this.scope)},set:function(D){var z,X;X=[],typeof(z=D)=="string"&&(X=(function(ae,Se,ge){ge||(ge=1);for(var ve,Me=[];ve=Se.exec(ae);)Me.push(ve[ge]);return Me})(z,/\((.*?)\)/g)),E=X}}),this.getOptions=function(){return E},this.setOptions=function(D){E=D,this.sort&&E.sort()},this.addOption=function(D){D=(D=D||"").toString(),E.push(D),this.sort&&E.sort()},this.removeOption=function(D,z){for(z=z||!1,D=(D=D||"").toString();E.indexOf(D)!==-1&&(E.splice(E.indexOf(D),1),z!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,18)},set:function(D){D?this.Ff=He(this.Ff,18):this.Ff=$t(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,19)},set:function(D){this.combo===!0&&(D?this.Ff=He(this.Ff,19):this.Ff=$t(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,20)},set:function(D){D?(this.Ff=He(this.Ff,20),E.sort()):this.Ff=$t(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,22)},set:function(D){D?this.Ff=He(this.Ff,22):this.Ff=$t(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,23)},set:function(D){D?this.Ff=He(this.Ff,23):this.Ff=$t(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,27)},set:function(D){D?this.Ff=He(this.Ff,27):this.Ff=$t(this.Ff,27)}}),this.hasAppearanceStream=!1};$e(Wn,zr);var Hr=function(){Wn.call(this),this.fontName="helvetica",this.combo=!1};$e(Hr,Wn);var Mr=function(){Hr.call(this),this.combo=!0};$e(Mr,Hr);var jn=function(){Mr.call(this),this.edit=!0};$e(jn,Mr);var cn=function(){zr.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,15)},set:function(D){D?this.Ff=He(this.Ff,15):this.Ff=$t(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,16)},set:function(D){D?this.Ff=He(this.Ff,16):this.Ff=$t(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,17)},set:function(D){D?this.Ff=He(this.Ff,17):this.Ff=$t(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,26)},set:function(D){D?this.Ff=He(this.Ff,26):this.Ff=$t(this.Ff,26)}});var I,E={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var D=function(ae){return ae};if(this.scope&&(D=this.scope.internal.getEncryptor(this.objId)),Object.keys(E).length!==0){var z,X=[];for(z in X.push("<<"),E)X.push("/"+z+" ("+Ue(D(E[z]))+")");return X.push(">>"),X.join(`
`)}},set:function(D){(0,h.default)(D)==="object"&&(E=D)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return E.CA||""},set:function(D){typeof D=="string"&&(E.CA=D)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return I},set:function(D){I=D}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return I.substr(1,I.length-1)},set:function(D){I="/"+D}})};$e(cn,zr);var Ln=function(){cn.call(this),this.pushButton=!0};$e(Ln,cn);var ca=function(){cn.call(this),this.radio=!0,this.pushButton=!1;var I=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return I},set:function(E){I=E!==void 0?E:[]}})};$e(ca,cn);var Pt=function(){var I,E;zr.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return I},set:function(X){I=X}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return E},set:function(X){E=X}});var D,z={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var X=function(ge){return ge};this.scope&&(X=this.scope.internal.getEncryptor(this.objId));var ae,Se=[];for(ae in Se.push("<<"),z)Se.push("/"+ae+" ("+Ue(X(z[ae]))+")");return Se.push(">>"),Se.join(`
`)},set:function(X){(0,h.default)(X)==="object"&&(z=X)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return z.CA||""},set:function(X){typeof X=="string"&&(z.CA=X)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return D},set:function(X){D=X}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return D.substr(1,D.length-1)},set:function(X){D="/"+X}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=cr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};$e(Pt,zr),ca.prototype.setAppearance=function(I){if(!("createAppearanceStream"in I)||!("getCA"in I))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var E in this.Kids)if(this.Kids.hasOwnProperty(E)){var D=this.Kids[E];D.appearanceStreamContent=I.createAppearanceStream(D.optionName),D.caption=I.getCA()}},ca.prototype.createOption=function(I){var E=new Pt;return E.Parent=this,E.optionName=I,this.Kids.push(E),ga.call(this.scope,E),E};var Kr=function(){cn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=cr.CheckBox.createAppearanceStream()};$e(Kr,cn);var un=function(){zr.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,13)},set:function(E){E?this.Ff=He(this.Ff,13):this.Ff=$t(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,21)},set:function(E){E?this.Ff=He(this.Ff,21):this.Ff=$t(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,23)},set:function(E){E?this.Ff=He(this.Ff,23):this.Ff=$t(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,24)},set:function(E){E?this.Ff=He(this.Ff,24):this.Ff=$t(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,25)},set:function(E){E?this.Ff=He(this.Ff,25):this.Ff=$t(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,26)},set:function(E){E?this.Ff=He(this.Ff,26):this.Ff=$t(this.Ff,26)}});var I=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return I},set:function(E){I=E}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return I},set:function(E){Number.isInteger(E)&&(I=E)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};$e(un,zr);var tn=function(){un.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,14)},set:function(I){I?this.Ff=He(this.Ff,14):this.Ff=$t(this.Ff,14)}}),this.password=!0};$e(tn,un);var cr={CheckBox:{createAppearanceStream:function(){return{N:{On:cr.CheckBox.YesNormal},D:{On:cr.CheckBox.YesPushDown,Off:cr.CheckBox.OffPushDown}}},YesPushDown:function(I){var E=Et(I);E.scope=I.scope;var D=[],z=I.scope.internal.getFont(I.fontName,I.fontStyle).id,X=I.scope.__private__.encodeColorString(I.color),ae=vr(I,I.caption);return D.push("0.749023 g"),D.push("0 0 "+Ce(cr.internal.getWidth(I))+" "+Ce(cr.internal.getHeight(I))+" re"),D.push("f"),D.push("BMC"),D.push("q"),D.push("0 0 1 rg"),D.push("/"+z+" "+Ce(ae.fontSize)+" Tf "+X),D.push("BT"),D.push(ae.text),D.push("ET"),D.push("Q"),D.push("EMC"),E.stream=D.join(`
`),E},YesNormal:function(I){var E=Et(I);E.scope=I.scope;var D=I.scope.internal.getFont(I.fontName,I.fontStyle).id,z=I.scope.__private__.encodeColorString(I.color),X=[],ae=cr.internal.getHeight(I),Se=cr.internal.getWidth(I),ge=vr(I,I.caption);return X.push("1 g"),X.push("0 0 "+Ce(Se)+" "+Ce(ae)+" re"),X.push("f"),X.push("q"),X.push("0 0 1 rg"),X.push("0 0 "+Ce(Se-1)+" "+Ce(ae-1)+" re"),X.push("W"),X.push("n"),X.push("0 g"),X.push("BT"),X.push("/"+D+" "+Ce(ge.fontSize)+" Tf "+z),X.push(ge.text),X.push("ET"),X.push("Q"),E.stream=X.join(`
`),E},OffPushDown:function(I){var E=Et(I);E.scope=I.scope;var D=[];return D.push("0.749023 g"),D.push("0 0 "+Ce(cr.internal.getWidth(I))+" "+Ce(cr.internal.getHeight(I))+" re"),D.push("f"),E.stream=D.join(`
`),E}},RadioButton:{Circle:{createAppearanceStream:function(I){var E={D:{Off:cr.RadioButton.Circle.OffPushDown},N:{}};return E.N[I]=cr.RadioButton.Circle.YesNormal,E.D[I]=cr.RadioButton.Circle.YesPushDown,E},getCA:function(){return"l"},YesNormal:function(I){var E=Et(I);E.scope=I.scope;var D=[],z=cr.internal.getWidth(I)<=cr.internal.getHeight(I)?cr.internal.getWidth(I)/4:cr.internal.getHeight(I)/4;z=Number((.9*z).toFixed(5));var X=cr.internal.Bezier_C,ae=Number((z*X).toFixed(5));return D.push("q"),D.push("1 0 0 1 "+ue(cr.internal.getWidth(I)/2)+" "+ue(cr.internal.getHeight(I)/2)+" cm"),D.push(z+" 0 m"),D.push(z+" "+ae+" "+ae+" "+z+" 0 "+z+" c"),D.push("-"+ae+" "+z+" -"+z+" "+ae+" -"+z+" 0 c"),D.push("-"+z+" -"+ae+" -"+ae+" -"+z+" 0 -"+z+" c"),D.push(ae+" -"+z+" "+z+" -"+ae+" "+z+" 0 c"),D.push("f"),D.push("Q"),E.stream=D.join(`
`),E},YesPushDown:function(I){var E=Et(I);E.scope=I.scope;var D=[],z=cr.internal.getWidth(I)<=cr.internal.getHeight(I)?cr.internal.getWidth(I)/4:cr.internal.getHeight(I)/4;z=Number((.9*z).toFixed(5));var X=Number((2*z).toFixed(5)),ae=Number((X*cr.internal.Bezier_C).toFixed(5)),Se=Number((z*cr.internal.Bezier_C).toFixed(5));return D.push("0.749023 g"),D.push("q"),D.push("1 0 0 1 "+ue(cr.internal.getWidth(I)/2)+" "+ue(cr.internal.getHeight(I)/2)+" cm"),D.push(X+" 0 m"),D.push(X+" "+ae+" "+ae+" "+X+" 0 "+X+" c"),D.push("-"+ae+" "+X+" -"+X+" "+ae+" -"+X+" 0 c"),D.push("-"+X+" -"+ae+" -"+ae+" -"+X+" 0 -"+X+" c"),D.push(ae+" -"+X+" "+X+" -"+ae+" "+X+" 0 c"),D.push("f"),D.push("Q"),D.push("0 g"),D.push("q"),D.push("1 0 0 1 "+ue(cr.internal.getWidth(I)/2)+" "+ue(cr.internal.getHeight(I)/2)+" cm"),D.push(z+" 0 m"),D.push(z+" "+Se+" "+Se+" "+z+" 0 "+z+" c"),D.push("-"+Se+" "+z+" -"+z+" "+Se+" -"+z+" 0 c"),D.push("-"+z+" -"+Se+" -"+Se+" -"+z+" 0 -"+z+" c"),D.push(Se+" -"+z+" "+z+" -"+Se+" "+z+" 0 c"),D.push("f"),D.push("Q"),E.stream=D.join(`
`),E},OffPushDown:function(I){var E=Et(I);E.scope=I.scope;var D=[],z=cr.internal.getWidth(I)<=cr.internal.getHeight(I)?cr.internal.getWidth(I)/4:cr.internal.getHeight(I)/4;z=Number((.9*z).toFixed(5));var X=Number((2*z).toFixed(5)),ae=Number((X*cr.internal.Bezier_C).toFixed(5));return D.push("0.749023 g"),D.push("q"),D.push("1 0 0 1 "+ue(cr.internal.getWidth(I)/2)+" "+ue(cr.internal.getHeight(I)/2)+" cm"),D.push(X+" 0 m"),D.push(X+" "+ae+" "+ae+" "+X+" 0 "+X+" c"),D.push("-"+ae+" "+X+" -"+X+" "+ae+" -"+X+" 0 c"),D.push("-"+X+" -"+ae+" -"+ae+" -"+X+" 0 -"+X+" c"),D.push(ae+" -"+X+" "+X+" -"+ae+" "+X+" 0 c"),D.push("f"),D.push("Q"),E.stream=D.join(`
`),E}},Cross:{createAppearanceStream:function(I){var E={D:{Off:cr.RadioButton.Cross.OffPushDown},N:{}};return E.N[I]=cr.RadioButton.Cross.YesNormal,E.D[I]=cr.RadioButton.Cross.YesPushDown,E},getCA:function(){return"8"},YesNormal:function(I){var E=Et(I);E.scope=I.scope;var D=[],z=cr.internal.calculateCross(I);return D.push("q"),D.push("1 1 "+Ce(cr.internal.getWidth(I)-2)+" "+Ce(cr.internal.getHeight(I)-2)+" re"),D.push("W"),D.push("n"),D.push(Ce(z.x1.x)+" "+Ce(z.x1.y)+" m"),D.push(Ce(z.x2.x)+" "+Ce(z.x2.y)+" l"),D.push(Ce(z.x4.x)+" "+Ce(z.x4.y)+" m"),D.push(Ce(z.x3.x)+" "+Ce(z.x3.y)+" l"),D.push("s"),D.push("Q"),E.stream=D.join(`
`),E},YesPushDown:function(I){var E=Et(I);E.scope=I.scope;var D=cr.internal.calculateCross(I),z=[];return z.push("0.749023 g"),z.push("0 0 "+Ce(cr.internal.getWidth(I))+" "+Ce(cr.internal.getHeight(I))+" re"),z.push("f"),z.push("q"),z.push("1 1 "+Ce(cr.internal.getWidth(I)-2)+" "+Ce(cr.internal.getHeight(I)-2)+" re"),z.push("W"),z.push("n"),z.push(Ce(D.x1.x)+" "+Ce(D.x1.y)+" m"),z.push(Ce(D.x2.x)+" "+Ce(D.x2.y)+" l"),z.push(Ce(D.x4.x)+" "+Ce(D.x4.y)+" m"),z.push(Ce(D.x3.x)+" "+Ce(D.x3.y)+" l"),z.push("s"),z.push("Q"),E.stream=z.join(`
`),E},OffPushDown:function(I){var E=Et(I);E.scope=I.scope;var D=[];return D.push("0.749023 g"),D.push("0 0 "+Ce(cr.internal.getWidth(I))+" "+Ce(cr.internal.getHeight(I))+" re"),D.push("f"),E.stream=D.join(`
`),E}}},createDefaultAppearanceStream:function(I){var E=I.scope.internal.getFont(I.fontName,I.fontStyle).id,D=I.scope.__private__.encodeColorString(I.color);return"/"+E+" "+I.fontSize+" Tf "+D}};cr.internal={Bezier_C:.551915024494,calculateCross:function(I){var E=cr.internal.getWidth(I),D=cr.internal.getHeight(I),z=Math.min(E,D);return{x1:{x:(E-z)/2,y:(D-z)/2+z},x2:{x:(E-z)/2+z,y:(D-z)/2},x3:{x:(E-z)/2,y:(D-z)/2},x4:{x:(E-z)/2+z,y:(D-z)/2+z}}}},cr.internal.getWidth=function(I){var E=0;return(0,h.default)(I)==="object"&&(E=it(I.Rect[2])),E},cr.internal.getHeight=function(I){var E=0;return(0,h.default)(I)==="object"&&(E=it(I.Rect[3])),E};var ga=Ee.addField=function(I){if(Ir(this,I),!(I instanceof zr))throw new Error("Invalid argument passed to jsPDF.addField.");var E;return(E=I).scope.internal.acroformPlugin.printedOut&&(E.scope.internal.acroformPlugin.printedOut=!1,E.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),E.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(E),I.page=I.scope.internal.getCurrentPageInfo().pageNumber,this};Ee.AcroFormChoiceField=Wn,Ee.AcroFormListBox=Hr,Ee.AcroFormComboBox=Mr,Ee.AcroFormEditBox=jn,Ee.AcroFormButton=cn,Ee.AcroFormPushButton=Ln,Ee.AcroFormRadioButton=ca,Ee.AcroFormCheckBox=Kr,Ee.AcroFormTextField=un,Ee.AcroFormPasswordField=tn,Ee.AcroFormAppearance=cr,Ee.AcroForm={ChoiceField:Wn,ListBox:Hr,ComboBox:Mr,EditBox:jn,Button:cn,PushButton:Ln,RadioButton:ca,CheckBox:Kr,TextField:un,PasswordField:tn,Appearance:cr},le.AcroForm={ChoiceField:Wn,ListBox:Hr,ComboBox:Mr,EditBox:jn,Button:cn,PushButton:Ln,RadioButton:ca,CheckBox:Kr,TextField:un,PasswordField:tn,Appearance:cr};var xi=le.AcroForm;function Cn(I){return I.reduce(function(E,D,z){return E[D]=z,E},{})}(function(I){var E="addImage_";I.__addimage__={};var D="UNKNOWN",z={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},X=I.__addimage__.getImageFileTypeByImageData=function(at,ht){var Tt,_t,dr,xr,jr,Jt=D;if((ht=ht||D)==="RGBA"||at.data!==void 0&&at.data instanceof Uint8ClampedArray&&"height"in at&&"width"in at)return"RGBA";if(Wt(at))for(jr in z)for(dr=z[jr],Tt=0;Tt<dr.length;Tt+=1){for(xr=!0,_t=0;_t<dr[Tt].length;_t+=1)if(dr[Tt][_t]!==void 0&&dr[Tt][_t]!==at[_t]){xr=!1;break}if(xr===!0){Jt=jr;break}}else for(jr in z)for(dr=z[jr],Tt=0;Tt<dr.length;Tt+=1){for(xr=!0,_t=0;_t<dr[Tt].length;_t+=1)if(dr[Tt][_t]!==void 0&&dr[Tt][_t]!==at.charCodeAt(_t)){xr=!1;break}if(xr===!0){Jt=jr;break}}return Jt===D&&ht!==D&&(Jt=ht),Jt},ae=function at(ht){for(var Tt=this.internal.write,_t=this.internal.putStream,dr=(0,this.internal.getFilters)();dr.indexOf("FlateEncode")!==-1;)dr.splice(dr.indexOf("FlateEncode"),1);ht.objectId=this.internal.newObject();var xr=[];if(xr.push({key:"Type",value:"/XObject"}),xr.push({key:"Subtype",value:"/Image"}),xr.push({key:"Width",value:ht.width}),xr.push({key:"Height",value:ht.height}),ht.colorSpace===nt.INDEXED?xr.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(ht.palette.length/3-1)+" "+("sMask"in ht&&ht.sMask!==void 0?ht.objectId+2:ht.objectId+1)+" 0 R]"}):(xr.push({key:"ColorSpace",value:"/"+ht.colorSpace}),ht.colorSpace===nt.DEVICE_CMYK&&xr.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),xr.push({key:"BitsPerComponent",value:ht.bitsPerComponent}),"decodeParameters"in ht&&ht.decodeParameters!==void 0&&xr.push({key:"DecodeParms",value:"<<"+ht.decodeParameters+">>"}),"transparency"in ht&&Array.isArray(ht.transparency)&&ht.transparency.length>0){for(var jr="",Jt=0,br=ht.transparency.length;Jt<br;Jt++)jr+=ht.transparency[Jt]+" "+ht.transparency[Jt]+" ";xr.push({key:"Mask",value:"["+jr+"]"})}ht.sMask!==void 0&&xr.push({key:"SMask",value:ht.objectId+1+" 0 R"});var Zr=ht.filter!==void 0?["/"+ht.filter]:void 0;if(_t({data:ht.data,additionalKeyValues:xr,alreadyAppliedFilters:Zr,objectId:ht.objectId}),Tt("endobj"),"sMask"in ht&&ht.sMask!==void 0){var Wr,Ze=(Wr=ht.sMaskBitsPerComponent)!==null&&Wr!==void 0?Wr:ht.bitsPerComponent,bt={width:ht.width,height:ht.height,colorSpace:"DeviceGray",bitsPerComponent:Ze,data:ht.sMask};"filter"in ht&&(bt.decodeParameters="/Predictor ".concat(ht.predictor," /Colors 1 /BitsPerComponent ").concat(Ze," /Columns ").concat(ht.width),bt.filter=ht.filter),at.call(this,bt)}if(ht.colorSpace===nt.INDEXED){var St=this.internal.newObject();_t({data:Yt(new Uint8Array(ht.palette)),objectId:St}),Tt("endobj")}},Se=function(){var at=this.internal.collections[E+"images"];for(var ht in at)ae.call(this,at[ht])},ge=function(){var at,ht=this.internal.collections[E+"images"],Tt=this.internal.write;for(var _t in ht)Tt("/I"+(at=ht[_t]).index,at.objectId,"0","R")},ve=function(){this.internal.collections[E+"images"]||(this.internal.collections[E+"images"]={},this.internal.events.subscribe("putResources",Se),this.internal.events.subscribe("putXobjectDict",ge))},Me=function(){var at=this.internal.collections[E+"images"];return ve.call(this),at},ze=function(){return Object.keys(this.internal.collections[E+"images"]).length},et=function(at){return typeof I["process"+at.toUpperCase()]=="function"},ot=function(at){return(0,h.default)(at)==="object"&&at.nodeType===1},Pe=function(at,ht){if(at.nodeName==="IMG"&&at.hasAttribute("src")){var Tt=""+at.getAttribute("src");if(Tt.indexOf("data:image/")===0)return C(unescape(Tt).split("base64,").pop());var _t=I.loadFile(Tt,!0);if(_t!==void 0)return _t}if(at.nodeName==="CANVAS"){if(at.width===0||at.height===0)throw new Error("Given canvas must have data. Canvas width: "+at.width+", height: "+at.height);var dr;switch(ht){case"PNG":dr="image/png";break;case"WEBP":dr="image/webp";break;default:dr="image/jpeg"}return C(at.toDataURL(dr,1).split("base64,").pop())}},yt=function(at){var ht=this.internal.collections[E+"images"];if(ht){for(var Tt in ht)if(at===ht[Tt].alias)return ht[Tt]}},gt=function(at,ht,Tt){return at||ht||(at=-96,ht=-96),at<0&&(at=-1*Tt.width*72/at/this.internal.scaleFactor),ht<0&&(ht=-1*Tt.height*72/ht/this.internal.scaleFactor),at===0&&(at=ht*Tt.width/Tt.height),ht===0&&(ht=at*Tt.height/Tt.width),[at,ht]},wt=function(at,ht,Tt,_t,dr,xr){var jr=gt.call(this,Tt,_t,dr),Jt=this.internal.getCoordinateString,br=this.internal.getVerticalCoordinateString,Zr=Me.call(this);if(Tt=jr[0],_t=jr[1],Zr[dr.index]=dr,xr){xr*=Math.PI/180;var Wr=Math.cos(xr),Ze=Math.sin(xr),bt=function(Vt){return Vt.toFixed(4)},St=[bt(Wr),bt(Ze),bt(-1*Ze),bt(Wr),0,0,"cm"]}this.internal.write("q"),xr?(this.internal.write([1,"0","0",1,Jt(at),br(ht+_t),"cm"].join(" ")),this.internal.write(St.join(" ")),this.internal.write([Jt(Tt),"0","0",Jt(_t),"0","0","cm"].join(" "))):this.internal.write([Jt(Tt),"0","0",Jt(_t),Jt(at),br(ht+_t),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+dr.index+" Do"),this.internal.write("Q")},nt=I.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};I.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var Ft=I.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},qt=I.__addimage__.sHashCode=function(at){var ht,Tt,_t=0;if(typeof at=="string")for(Tt=at.length,ht=0;ht<Tt;ht++)_t=(_t<<5)-_t+at.charCodeAt(ht),_t|=0;else if(Wt(at))for(Tt=at.byteLength/2,ht=0;ht<Tt;ht++)_t=(_t<<5)-_t+at[ht],_t|=0;return _t},It=I.__addimage__.validateStringAsBase64=function(at){(at=at||"").toString().trim();var ht=!0;return at.length===0&&(ht=!1),at.length%4!=0&&(ht=!1),/^[A-Za-z0-9+/]+$/.test(at.substr(0,at.length-2))===!1&&(ht=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(at.substr(-2))===!1&&(ht=!1),ht},tt=I.__addimage__.extractImageFromDataUrl=function(at){if(at==null||!(at=at.trim()).startsWith("data:"))return null;var ht=at.indexOf(",");return ht<0?null:at.substring(0,ht).trim().endsWith("base64")?at.substring(ht+1):null};I.__addimage__.isArrayBuffer=function(at){return at instanceof ArrayBuffer};var Wt=I.__addimage__.isArrayBufferView=function(at){return at instanceof Int8Array||at instanceof Uint8Array||at instanceof Uint8ClampedArray||at instanceof Int16Array||at instanceof Uint16Array||at instanceof Int32Array||at instanceof Uint32Array||at instanceof Float32Array||at instanceof Float64Array},ur=I.__addimage__.binaryStringToUint8Array=function(at){for(var ht=at.length,Tt=new Uint8Array(ht),_t=0;_t<ht;_t++)Tt[_t]=at.charCodeAt(_t);return Tt},Yt=I.__addimage__.arrayBufferToBinaryString=function(at){for(var ht="",Tt=Wt(at)?at:new Uint8Array(at),_t=0;_t<Tt.length;_t+=8192)ht+=String.fromCharCode.apply(null,Tt.subarray(_t,_t+8192));return ht};I.addImage=function(){var at,ht,Tt,_t,dr,xr,jr,Jt,br;if(typeof arguments[1]=="number"?(ht=D,Tt=arguments[1],_t=arguments[2],dr=arguments[3],xr=arguments[4],jr=arguments[5],Jt=arguments[6],br=arguments[7]):(ht=arguments[1],Tt=arguments[2],_t=arguments[3],dr=arguments[4],xr=arguments[5],jr=arguments[6],Jt=arguments[7],br=arguments[8]),(0,h.default)(at=arguments[0])==="object"&&!ot(at)&&"imageData"in at){var Zr=at;at=Zr.imageData,ht=Zr.format||ht||D,Tt=Zr.x||Tt||0,_t=Zr.y||_t||0,dr=Zr.w||Zr.width||dr,xr=Zr.h||Zr.height||xr,jr=Zr.alias||jr,Jt=Zr.compression||Jt,br=Zr.rotation||Zr.angle||br}var Wr=this.internal.getFilters();if(Jt===void 0&&Wr.indexOf("FlateEncode")!==-1&&(Jt="SLOW"),isNaN(Tt)||isNaN(_t))throw new Error("Invalid coordinates passed to jsPDF.addImage");ve.call(this);var Ze=Ot.call(this,at,ht,jr,Jt);return wt.call(this,Tt,_t,dr,xr,Ze,br),this};var Ot=function(at,ht,Tt,_t){var dr,xr,jr;if(typeof at=="string"&&X(at)===D){at=unescape(at);var Jt=or(at,!1);(Jt!==""||(Jt=I.loadFile(at,!0))!==void 0)&&(at=Jt)}if(ot(at)&&(at=Pe(at,ht)),ht=X(at,ht),!et(ht))throw new Error("addImage does not support files of type '"+ht+"', please ensure that a plugin for '"+ht+"' support is added.");if(((jr=Tt)==null||jr.length===0)&&(Tt=(function(br){return typeof br=="string"||Wt(br)?qt(br):Wt(br.data)?qt(br.data):null})(at)),(dr=yt.call(this,Tt))||(at instanceof Uint8Array||ht==="RGBA"||(xr=at,at=ur(at)),dr=this["process"+ht.toUpperCase()](at,ze.call(this),Tt,(function(br){return br&&typeof br=="string"&&(br=br.toUpperCase()),br in I.image_compression?br:Ft.NONE})(_t),xr)),!dr)throw new Error("An unknown error occurred whilst processing the image.");return dr},or=I.__addimage__.convertBase64ToBinaryString=function(at,ht){ht=typeof ht!="boolean"||ht;var Tt,_t="";if(typeof at=="string"){var dr;Tt=(dr=tt(at))!==null&&dr!==void 0?dr:at;try{_t=C(Tt)}catch(xr){if(ht)throw It(Tt)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+xr.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return _t};I.getImageProperties=function(at){var ht,Tt,_t="";if(ot(at)&&(at=Pe(at)),typeof at=="string"&&X(at)===D&&((_t=or(at,!1))===""&&(_t=I.loadFile(at)||""),at=_t),Tt=X(at),!et(Tt))throw new Error("addImage does not support files of type '"+Tt+"', please ensure that a plugin for '"+Tt+"' support is added.");if(at instanceof Uint8Array||(at=ur(at)),!(ht=this["process"+Tt.toUpperCase()](at)))throw new Error("An unknown error occurred whilst processing the image");return ht.fileType=Tt,ht}})(le.API),(function(I){var E=function(D){if(D!==void 0&&D!="")return!0};le.API.events.push(["addPage",function(D){this.internal.getPageInfo(D.pageNumber).pageContext.annotations=[]}]),I.events.push(["putPage",function(D){for(var z,X,ae,Se=this.internal.getCoordinateString,ge=this.internal.getVerticalCoordinateString,ve=this.internal.getPageInfoByObjId(D.objId),Me=D.pageContext.annotations,ze=!1,et=0;et<Me.length&&!ze;et++)switch((z=Me[et]).type){case"link":(E(z.options.url)||E(z.options.pageNumber))&&(ze=!0);break;case"reference":case"text":case"freetext":ze=!0}if(ze!=0){this.internal.write("/Annots [");for(var ot=0;ot<Me.length;ot++){z=Me[ot];var Pe=this.internal.pdfEscape,yt=this.internal.getEncryptor(D.objId);switch(z.type){case"reference":this.internal.write(" "+z.object.objId+" 0 R ");break;case"text":var gt=this.internal.newAdditionalObject(),wt=this.internal.newAdditionalObject(),nt=this.internal.getEncryptor(gt.objId),Ft=z.title||"Note";ae="<</Type /Annot /Subtype /Text "+(X="/Rect ["+Se(z.bounds.x)+" "+ge(z.bounds.y+z.bounds.h)+" "+Se(z.bounds.x+z.bounds.w)+" "+ge(z.bounds.y)+"] ")+"/Contents ("+Pe(nt(z.contents))+")",ae+=" /Popup "+wt.objId+" 0 R",ae+=" /P "+ve.objId+" 0 R",ae+=" /T ("+Pe(nt(Ft))+") >>",gt.content=ae;var qt=gt.objId+" 0 R";ae="<</Type /Annot /Subtype /Popup "+(X="/Rect ["+Se(z.bounds.x+30)+" "+ge(z.bounds.y+z.bounds.h)+" "+Se(z.bounds.x+z.bounds.w+30)+" "+ge(z.bounds.y)+"] ")+" /Parent "+qt,z.open&&(ae+=" /Open true"),ae+=" >>",wt.content=ae,this.internal.write(gt.objId,"0 R",wt.objId,"0 R");break;case"freetext":X="/Rect ["+Se(z.bounds.x)+" "+ge(z.bounds.y)+" "+Se(z.bounds.x+z.bounds.w)+" "+ge(z.bounds.y+z.bounds.h)+"] ";var It=z.color||"#000000";ae="<</Type /Annot /Subtype /FreeText "+X+"/Contents ("+Pe(yt(z.contents))+")",ae+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+It+")",ae+=" /Border [0 0 0]",ae+=" >>",this.internal.write(ae);break;case"link":if(z.options.name){var tt=this.annotations._nameMap[z.options.name];z.options.pageNumber=tt.page,z.options.top=tt.y}else z.options.top||(z.options.top=0);if(X="/Rect ["+z.finalBounds.x+" "+z.finalBounds.y+" "+z.finalBounds.w+" "+z.finalBounds.h+"] ",ae="",z.options.url)ae="<</Type /Annot /Subtype /Link "+X+"/Border [0 0 0] /A <</S /URI /URI ("+Pe(yt(z.options.url))+") >>";else if(z.options.pageNumber)switch(ae="<</Type /Annot /Subtype /Link "+X+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(z.options.pageNumber).objId+" 0 R",z.options.magFactor=z.options.magFactor||"XYZ",z.options.magFactor){case"Fit":ae+=" /Fit]";break;case"FitH":ae+=" /FitH "+z.options.top+"]";break;case"FitV":z.options.left=z.options.left||0,ae+=" /FitV "+z.options.left+"]";break;default:var Wt=ge(z.options.top);z.options.left=z.options.left||0,z.options.zoom===void 0&&(z.options.zoom=0),ae+=" /XYZ "+z.options.left+" "+Wt+" "+z.options.zoom+"]"}ae!=""&&(ae+=" >>",this.internal.write(ae))}}this.internal.write("]")}}]),I.createAnnotation=function(D){var z=this.internal.getCurrentPageInfo();switch(D.type){case"link":this.link(D.bounds.x,D.bounds.y,D.bounds.w,D.bounds.h,D);break;case"text":case"freetext":z.pageContext.annotations.push(D)}},I.link=function(D,z,X,ae,Se){var ge=this.internal.getCurrentPageInfo(),ve=this.internal.getCoordinateString,Me=this.internal.getVerticalCoordinateString;ge.pageContext.annotations.push({finalBounds:{x:ve(D),y:Me(z),w:ve(D+X),h:Me(z+ae)},options:Se,type:"link"})},I.textWithLink=function(D,z,X,ae){var Se,ge,ve=this.getTextWidth(D),Me=this.internal.getLineHeight()/this.internal.scaleFactor;if(ae.maxWidth!==void 0){ge=ae.maxWidth;var ze=this.splitTextToSize(D,ge).length;Se=Math.ceil(Me*ze)}else ge=ve,Se=Me;return this.text(D,z,X,ae),X+=.2*Me,ae.align==="center"&&(z-=ve/2),ae.align==="right"&&(z-=ve),this.link(z,X-Me,ge,Se,ae),ve},I.getTextWidth=function(D){var z=this.internal.getFontSize();return this.getStringUnitWidth(D)*z/this.internal.scaleFactor}})(le.API),(function(I){var E={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},D={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},z={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},X=[1570,1571,1573,1575];I.__arabicParser__={};var ae=I.__arabicParser__.isInArabicSubstitutionA=function(gt){return E[gt.charCodeAt(0)]!==void 0},Se=I.__arabicParser__.isArabicLetter=function(gt){return typeof gt=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(gt)},ge=I.__arabicParser__.isArabicEndLetter=function(gt){return Se(gt)&&ae(gt)&&E[gt.charCodeAt(0)].length<=2},ve=I.__arabicParser__.isArabicAlfLetter=function(gt){return Se(gt)&&X.indexOf(gt.charCodeAt(0))>=0};I.__arabicParser__.arabicLetterHasIsolatedForm=function(gt){return Se(gt)&&ae(gt)&&E[gt.charCodeAt(0)].length>=1};var Me=I.__arabicParser__.arabicLetterHasFinalForm=function(gt){return Se(gt)&&ae(gt)&&E[gt.charCodeAt(0)].length>=2};I.__arabicParser__.arabicLetterHasInitialForm=function(gt){return Se(gt)&&ae(gt)&&E[gt.charCodeAt(0)].length>=3};var ze=I.__arabicParser__.arabicLetterHasMedialForm=function(gt){return Se(gt)&&ae(gt)&&E[gt.charCodeAt(0)].length==4},et=I.__arabicParser__.resolveLigatures=function(gt){var wt=0,nt=D,Ft="",qt=0;for(wt=0;wt<gt.length;wt+=1)nt[gt.charCodeAt(wt)]!==void 0?(qt++,typeof(nt=nt[gt.charCodeAt(wt)])=="number"&&(Ft+=String.fromCharCode(nt),nt=D,qt=0),wt===gt.length-1&&(nt=D,Ft+=gt.charAt(wt-(qt-1)),wt-=qt-1,qt=0)):(nt=D,Ft+=gt.charAt(wt-qt),wt-=qt,qt=0);return Ft};I.__arabicParser__.isArabicDiacritic=function(gt){return gt!==void 0&&z[gt.charCodeAt(0)]!==void 0};var ot=I.__arabicParser__.getCorrectForm=function(gt,wt,nt){return Se(gt)?ae(gt)===!1?-1:!Me(gt)||!Se(wt)&&!Se(nt)||!Se(nt)&&ge(wt)||ge(gt)&&!Se(wt)||ge(gt)&&ve(wt)||ge(gt)&&ge(wt)?0:ze(gt)&&Se(wt)&&!ge(wt)&&Se(nt)&&Me(nt)?3:ge(gt)||!Se(nt)?1:2:-1},Pe=function(gt){var wt=0,nt=0,Ft=0,qt="",It="",tt="",Wt=(gt=gt||"").split("\\s+"),ur=[];for(wt=0;wt<Wt.length;wt+=1){for(ur.push(""),nt=0;nt<Wt[wt].length;nt+=1)qt=Wt[wt][nt],It=Wt[wt][nt-1],tt=Wt[wt][nt+1],Se(qt)?(Ft=ot(qt,It,tt),ur[wt]+=Ft!==-1?String.fromCharCode(E[qt.charCodeAt(0)][Ft]):qt):ur[wt]+=qt;ur[wt]=et(ur[wt])}return ur.join(" ")},yt=I.__arabicParser__.processArabic=I.processArabic=function(){var gt,wt=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,nt=[];if(Array.isArray(wt)){var Ft=0;for(nt=[],Ft=0;Ft<wt.length;Ft+=1)Array.isArray(wt[Ft])?nt.push([Pe(wt[Ft][0]),wt[Ft][1],wt[Ft][2]]):nt.push([Pe(wt[Ft])]);gt=nt}else gt=Pe(wt);return typeof arguments[0]=="string"?gt:(arguments[0].text=gt,arguments[0])};I.events.push(["preProcessText",yt])})(le.API),le.API.autoPrint=function(I){var E;return(I=I||{}).variant=I.variant||"non-conform",I.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){E=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+E+" 0 R")})),this},(function(I){var E=function(){var D=void 0;Object.defineProperty(this,"pdf",{get:function(){return D},set:function(ge){D=ge}});var z=150;Object.defineProperty(this,"width",{get:function(){return z},set:function(ge){z=isNaN(ge)||Number.isInteger(ge)===!1||ge<0?150:ge,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=z+1)}});var X=300;Object.defineProperty(this,"height",{get:function(){return X},set:function(ge){X=isNaN(ge)||Number.isInteger(ge)===!1||ge<0?300:ge,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=X+1)}});var ae=[];Object.defineProperty(this,"childNodes",{get:function(){return ae},set:function(ge){ae=ge}});var Se={};Object.defineProperty(this,"style",{get:function(){return Se},set:function(ge){Se=ge}}),Object.defineProperty(this,"parentNode",{})};E.prototype.getContext=function(D,z){var X;if((D=D||"2d")!=="2d")return null;for(X in z)this.pdf.context2d.hasOwnProperty(X)&&(this.pdf.context2d[X]=z[X]);return this.pdf.context2d._canvas=this,this.pdf.context2d},E.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},I.events.push(["initialized",function(){this.canvas=new E,this.canvas.pdf=this}])})(le.API),(function(I){var E={left:0,top:0,bottom:0,right:0},D=!1,z=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},E),this.internal.__cell__.margins.width=this.getPageWidth(),X.call(this))},X=function(){this.internal.__cell__.lastCell=new ae,this.internal.__cell__.pages=1},ae=function(){var ve=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ve},set:function(gt){ve=gt}});var Me=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Me},set:function(gt){Me=gt}});var ze=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return ze},set:function(gt){ze=gt}});var et=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return et},set:function(gt){et=gt}});var ot=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return ot},set:function(gt){ot=gt}});var Pe=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return Pe},set:function(gt){Pe=gt}});var yt=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return yt},set:function(gt){yt=gt}}),this};ae.prototype.clone=function(){return new ae(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},ae.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},I.setHeaderFunction=function(ve){return z.call(this),this.internal.__cell__.headerFunction=typeof ve=="function"?ve:void 0,this},I.getTextDimensions=function(ve,Me){z.call(this);var ze=(Me=Me||{}).fontSize||this.getFontSize(),et=Me.font||this.getFont(),ot=Me.scaleFactor||this.internal.scaleFactor,Pe=0,yt=0,gt=0,wt=this;if(!Array.isArray(ve)&&typeof ve!="string"){if(typeof ve!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");ve=String(ve)}var nt=Me.maxWidth;nt>0?typeof ve=="string"?ve=this.splitTextToSize(ve,nt):Object.prototype.toString.call(ve)==="[object Array]"&&(ve=ve.reduce(function(qt,It){return qt.concat(wt.splitTextToSize(It,nt))},[])):ve=Array.isArray(ve)?ve:[ve];for(var Ft=0;Ft<ve.length;Ft++)Pe<(gt=this.getStringUnitWidth(ve[Ft],{font:et})*ze)&&(Pe=gt);return Pe!==0&&(yt=ve.length),{w:Pe/=ot,h:Math.max((yt*ze*this.getLineHeightFactor()-ze*(this.getLineHeightFactor()-1))/ot,0)}},I.cellAddPage=function(){z.call(this),this.addPage();var ve=this.internal.__cell__.margins||E;return this.internal.__cell__.lastCell=new ae(ve.left,ve.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var Se=I.cell=function(){var ve;ve=arguments[0]instanceof ae?arguments[0]:new ae(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),z.call(this);var Me=this.internal.__cell__.lastCell,ze=this.internal.__cell__.padding,et=this.internal.__cell__.margins||E,ot=this.internal.__cell__.tableHeaderRow,Pe=this.internal.__cell__.printHeaders;return Me.lineNumber!==void 0&&(Me.lineNumber===ve.lineNumber?(ve.x=(Me.x||0)+(Me.width||0),ve.y=Me.y||0):Me.y+Me.height+ve.height+et.bottom>this.getPageHeight()?(this.cellAddPage(),ve.y=et.top,Pe&&ot&&(this.printHeaderRow(ve.lineNumber,!0),ve.y+=ot[0].height)):ve.y=Me.y+Me.height||ve.y),ve.text[0]!==void 0&&(this.rect(ve.x,ve.y,ve.width,ve.height,D===!0?"FD":void 0),ve.align==="right"?this.text(ve.text,ve.x+ve.width-ze,ve.y+ze,{align:"right",baseline:"top"}):ve.align==="center"?this.text(ve.text,ve.x+ve.width/2,ve.y+ze,{align:"center",baseline:"top",maxWidth:ve.width-ze-ze}):this.text(ve.text,ve.x+ze,ve.y+ze,{align:"left",baseline:"top",maxWidth:ve.width-ze-ze})),this.internal.__cell__.lastCell=ve,this};I.table=function(ve,Me,ze,et,ot){if(z.call(this),!ze)throw new Error("No data for PDF table.");var Pe,yt,gt,wt,nt=[],Ft=[],qt=[],It={},tt={},Wt=[],ur=[],Yt=(ot=ot||{}).autoSize||!1,Ot=ot.printHeaders!==!1,or=ot.css&&ot.css["font-size"]!==void 0?16*ot.css["font-size"]:ot.fontSize||12,at=ot.margins||Object.assign({width:this.getPageWidth()},E),ht=typeof ot.padding=="number"?ot.padding:3,Tt=ot.headerBackgroundColor||"#c8c8c8",_t=ot.headerTextColor||"#000";if(X.call(this),this.internal.__cell__.printHeaders=Ot,this.internal.__cell__.margins=at,this.internal.__cell__.table_font_size=or,this.internal.__cell__.padding=ht,this.internal.__cell__.headerBackgroundColor=Tt,this.internal.__cell__.headerTextColor=_t,this.setFontSize(or),et==null)Ft=nt=Object.keys(ze[0]),qt=nt.map(function(){return"left"});else if(Array.isArray(et)&&(0,h.default)(et[0])==="object")for(nt=et.map(function(Zr){return Zr.name}),Ft=et.map(function(Zr){return Zr.prompt||Zr.name||""}),qt=et.map(function(Zr){return Zr.align||"left"}),Pe=0;Pe<et.length;Pe+=1)tt[et[Pe].name]=.7499990551181103*et[Pe].width;else Array.isArray(et)&&typeof et[0]=="string"&&(Ft=nt=et,qt=nt.map(function(){return"left"}));if(Yt||Array.isArray(et)&&typeof et[0]=="string")for(Pe=0;Pe<nt.length;Pe+=1){for(It[wt=nt[Pe]]=ze.map(function(Zr){return Zr[wt]}),this.setFont(void 0,"bold"),Wt.push(this.getTextDimensions(Ft[Pe],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),yt=It[wt],this.setFont(void 0,"normal"),gt=0;gt<yt.length;gt+=1)Wt.push(this.getTextDimensions(yt[gt],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);tt[wt]=Math.max.apply(null,Wt)+ht+ht,Wt=[]}if(Ot){var dr={};for(Pe=0;Pe<nt.length;Pe+=1)dr[nt[Pe]]={},dr[nt[Pe]].text=Ft[Pe],dr[nt[Pe]].align=qt[Pe];var xr=ge.call(this,dr,tt);ur=nt.map(function(Zr){return new ae(ve,Me,tt[Zr],xr,dr[Zr].text,void 0,dr[Zr].align)}),this.setTableHeaderRow(ur),this.printHeaderRow(1,!1)}var jr=et.reduce(function(Zr,Wr){return Zr[Wr.name]=Wr.align,Zr},{});for(Pe=0;Pe<ze.length;Pe+=1){"rowStart"in ot&&ot.rowStart instanceof Function&&ot.rowStart({row:Pe,data:ze[Pe]},this);var Jt=ge.call(this,ze[Pe],tt);for(gt=0;gt<nt.length;gt+=1){var br=ze[Pe][nt[gt]];"cellStart"in ot&&ot.cellStart instanceof Function&&ot.cellStart({row:Pe,col:gt,data:br},this),Se.call(this,new ae(ve,Me,tt[nt[gt]],Jt,br,Pe+2,jr[nt[gt]]))}}return this.internal.__cell__.table_x=ve,this.internal.__cell__.table_y=Me,this};var ge=function(ve,Me){var ze=this.internal.__cell__.padding,et=this.internal.__cell__.table_font_size,ot=this.internal.scaleFactor;return Object.keys(ve).map(function(Pe){var yt=ve[Pe];return this.splitTextToSize(yt.hasOwnProperty("text")?yt.text:yt,Me[Pe]-ze-ze)},this).map(function(Pe){return this.getLineHeightFactor()*Pe.length*et/ot+ze+ze},this).reduce(function(Pe,yt){return Math.max(Pe,yt)},0)};I.setTableHeaderRow=function(ve){z.call(this),this.internal.__cell__.tableHeaderRow=ve},I.printHeaderRow=function(ve,Me){if(z.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var ze;if(D=!0,typeof this.internal.__cell__.headerFunction=="function"){var et=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new ae(et[0],et[1],et[2],et[3],void 0,-1)}this.setFont(void 0,"bold");for(var ot=[],Pe=0;Pe<this.internal.__cell__.tableHeaderRow.length;Pe+=1){ze=this.internal.__cell__.tableHeaderRow[Pe].clone(),Me&&(ze.y=this.internal.__cell__.margins.top||0,ot.push(ze)),ze.lineNumber=ve;var yt=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),Se.call(this,ze),this.setTextColor(yt)}ot.length>0&&this.setTableHeaderRow(ot),this.setFont(void 0,"normal"),D=!1}})(le.API);var Ts={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Ni=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],yi=Cn(Ni),Wi=[100,200,300,400,500,600,700,800,900],Ii=Cn(Wi);function Ds(I){var E=I.family.replace(/"|'/g,"").toLowerCase(),D=(function(ae){return Ts[ae=ae||"normal"]?ae:"normal"})(I.style),z=(function(ae){return ae?typeof ae=="number"?ae>=100&&ae<=900&&ae%100==0?ae:400:/^\d00$/.test(ae)?parseInt(ae):ae==="bold"?700:400:400})(I.weight),X=(function(ae){return typeof yi[ae=ae||"normal"]=="number"?ae:"normal"})(I.stretch);return{family:E,style:D,weight:z,stretch:X,src:I.src||[],ref:I.ref||{name:E,style:[X,D,z].join(" ")}}}function Ga(I,E,D,z){var X;for(X=D;X>=0&&X<E.length;X+=z)if(I[E[X]])return I[E[X]];for(X=D;X>=0&&X<E.length;X-=z)if(I[E[X]])return I[E[X]]}var xs={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Va={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Sc(I){return[I.stretch,I.style,I.weight,I.family].join(" ")}function ys(I){return I.trimLeft()}function Bl(I,E){for(var D=0;D<I.length;){if(I.charAt(D)===E)return[I.substring(0,D),I.substring(D+1)];D+=1}return null}function Ec(I){var E=I.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return E===null?null:[E[0],I.substring(E[0].length)]}var Il,$i,yo,fa,tc,ai,To,Ys,_o=["times"];function nl(I,E,D,z,X){var ae=4,Se=Si;switch(X){case le.API.image_compression.FAST:ae=1,Se=Vs;break;case le.API.image_compression.MEDIUM:ae=6,Se=ii;break;case le.API.image_compression.SLOW:ae=9,Se=ml}I=(function(ve,Me,ze,et){for(var ot,Pe=ve.length/Me,yt=new Uint8Array(ve.length+Pe),gt=[Oo,Vs,Si,ii,ml],wt=0;wt<Pe;wt+=1){var nt=wt*Me,Ft=ve.subarray(nt,nt+Me);if(et)yt.set(et(Ft,ze,ot),nt+wt);else{for(var qt=gt.length,It=[],tt=0;tt<qt;tt+=1)It[tt]=gt[tt](Ft,ze,ot);var Wt=Wc(It.concat());yt.set(It[Wt],nt+wt)}ot=Ft}return yt})(I,E,Math.ceil(D*z/8),Se);var ge=(0,d.zlibSync)(I,{level:ae});return le.API.__addimage__.arrayBufferToBinaryString(ge)}function Oo(I){var E=Array.apply([],I);return E.unshift(0),E}function Vs(I,E){var D=I.length,z=[];z[0]=1;for(var X=0;X<D;X+=1){var ae=I[X-E]||0;z[X+1]=I[X]-ae+256&255}return z}function Si(I,E,D){var z=I.length,X=[];X[0]=2;for(var ae=0;ae<z;ae+=1){var Se=D&&D[ae]||0;X[ae+1]=I[ae]-Se+256&255}return X}function ii(I,E,D){var z=I.length,X=[];X[0]=3;for(var ae=0;ae<z;ae+=1){var Se=I[ae-E]||0,ge=D&&D[ae]||0;X[ae+1]=I[ae]+256-(Se+ge>>>1)&255}return X}function ml(I,E,D){var z=I.length,X=[];X[0]=4;for(var ae=0;ae<z;ae+=1){var Se=ko(I[ae-E]||0,D&&D[ae]||0,D&&D[ae-E]||0);X[ae+1]=I[ae]-Se+256&255}return X}function ko(I,E,D){if(I===E&&E===D)return I;var z=Math.abs(E-D),X=Math.abs(I-D),ae=Math.abs(I+E-D-D);return z<=X&&z<=ae?I:X<=ae?E:D}function Wc(I){var E=I.map(function(D){return D.reduce(function(z,X){return z+Math.abs(X)},0)});return E.indexOf(Math.min.apply(null,E))}function ds(I,E,D){var z=E*D,X=Math.floor(z/8),ae=16-(z-8*X+D),Se=(1<<D)-1;return Vi(I,X)>>ae&Se}function Gn(I,E,D,z){var X=D*z,ae=Math.floor(X/8),Se=16-(X-8*ae+z),ge=(1<<z)-1,ve=(E&ge)<<Se;(function(Me,ze,et){if(ze+1<Me.byteLength)Me.setUint16(ze,et,!1);else{var ot=et>>8&255;Me.setUint8(ze,ot)}})(I,ae,Vi(I,ae)&~(ge<<Se)&65535|ve)}function Vi(I,E){return E+1<I.byteLength?I.getUint16(E,!1):I.getUint8(E)<<8}function bs(I){var E=0;if(I[E++]!==71||I[E++]!==73||I[E++]!==70||I[E++]!==56||(I[E++]+1&253)!=56||I[E++]!==97)throw new Error("Invalid GIF 87a/89a header.");var D=I[E++]|I[E++]<<8,z=I[E++]|I[E++]<<8,X=I[E++],ae=X>>7,Se=1<<1+(7&X);I[E++],I[E++];var ge=null,ve=null;ae&&(ge=E,ve=Se,E+=3*Se);var Me=!0,ze=[],et=0,ot=null,Pe=0,yt=null;for(this.width=D,this.height=z;Me&&E<I.length;)switch(I[E++]){case 33:switch(I[E++]){case 255:if(I[E]!==11||I[E+1]==78&&I[E+2]==69&&I[E+3]==84&&I[E+4]==83&&I[E+5]==67&&I[E+6]==65&&I[E+7]==80&&I[E+8]==69&&I[E+9]==50&&I[E+10]==46&&I[E+11]==48&&I[E+12]==3&&I[E+13]==1&&I[E+16]==0)E+=14,yt=I[E++]|I[E++]<<8,E++;else for(E+=12;;){if(!((at=I[E++])>=0))throw Error("Invalid block size");if(at===0)break;E+=at}break;case 249:if(I[E++]!==4||I[E+4]!==0)throw new Error("Invalid graphics extension block.");var gt=I[E++];et=I[E++]|I[E++]<<8,ot=I[E++],1&gt||(ot=null),Pe=gt>>2&7,E++;break;case 254:for(;;){if(!((at=I[E++])>=0))throw Error("Invalid block size");if(at===0)break;E+=at}break;default:throw new Error("Unknown graphic control label: 0x"+I[E-1].toString(16))}break;case 44:var wt=I[E++]|I[E++]<<8,nt=I[E++]|I[E++]<<8,Ft=I[E++]|I[E++]<<8,qt=I[E++]|I[E++]<<8,It=I[E++],tt=It>>6&1,Wt=1<<1+(7&It),ur=ge,Yt=ve,Ot=!1;It>>7&&(Ot=!0,ur=E,Yt=Wt,E+=3*Wt);var or=E;for(E++;;){var at;if(!((at=I[E++])>=0))throw Error("Invalid block size");if(at===0)break;E+=at}ze.push({x:wt,y:nt,width:Ft,height:qt,has_local_palette:Ot,palette_offset:ur,palette_size:Yt,data_offset:or,data_length:E-or,transparent_index:ot,interlaced:!!tt,delay:et,disposal:Pe});break;case 59:Me=!1;break;default:throw new Error("Unknown gif block: 0x"+I[E-1].toString(16))}this.numFrames=function(){return ze.length},this.loopCount=function(){return yt},this.frameInfo=function(ht){if(ht<0||ht>=ze.length)throw new Error("Frame index out of range.");return ze[ht]},this.decodeAndBlitFrameBGRA=function(ht,Tt){var _t=this.frameInfo(ht),dr=_t.width*_t.height,xr=new Uint8Array(dr);ws(I,_t.data_offset,xr,dr);var jr=_t.palette_offset,Jt=_t.transparent_index;Jt===null&&(Jt=256);var br=_t.width,Zr=D-br,Wr=br,Ze=4*(_t.y*D+_t.x),bt=4*((_t.y+_t.height)*D+_t.x),St=Ze,Vt=4*Zr;_t.interlaced===!0&&(Vt+=4*D*7);for(var Gt=8,nr=0,yr=xr.length;nr<yr;++nr){var wr=xr[nr];if(Wr===0&&(Wr=br,(St+=Vt)>=bt&&(Vt=4*Zr+4*D*(Gt-1),St=Ze+(br+Zr)*(Gt<<1),Gt>>=1)),wr===Jt)St+=4;else{var Pr=I[jr+3*wr],Jr=I[jr+3*wr+1],Nn=I[jr+3*wr+2];Tt[St++]=Nn,Tt[St++]=Jr,Tt[St++]=Pr,Tt[St++]=255}--Wr}},this.decodeAndBlitFrameRGBA=function(ht,Tt){var _t=this.frameInfo(ht),dr=_t.width*_t.height,xr=new Uint8Array(dr);ws(I,_t.data_offset,xr,dr);var jr=_t.palette_offset,Jt=_t.transparent_index;Jt===null&&(Jt=256);var br=_t.width,Zr=D-br,Wr=br,Ze=4*(_t.y*D+_t.x),bt=4*((_t.y+_t.height)*D+_t.x),St=Ze,Vt=4*Zr;_t.interlaced===!0&&(Vt+=4*D*7);for(var Gt=8,nr=0,yr=xr.length;nr<yr;++nr){var wr=xr[nr];if(Wr===0&&(Wr=br,(St+=Vt)>=bt&&(Vt=4*Zr+4*D*(Gt-1),St=Ze+(br+Zr)*(Gt<<1),Gt>>=1)),wr===Jt)St+=4;else{var Pr=I[jr+3*wr],Jr=I[jr+3*wr+1],Nn=I[jr+3*wr+2];Tt[St++]=Pr,Tt[St++]=Jr,Tt[St++]=Nn,Tt[St++]=255}--Wr}}}function ws(I,E,D,z){for(var X=I[E++],ae=1<<X,Se=ae+1,ge=Se+1,ve=X+1,Me=(1<<ve)-1,ze=0,et=0,ot=0,Pe=I[E++],yt=new Int32Array(4096),gt=null;;){for(;ze<16&&Pe!==0;)et|=I[E++]<<ze,ze+=8,Pe===1?Pe=I[E++]:--Pe;if(ze<ve)break;var wt=et&Me;if(et>>=ve,ze-=ve,wt!==ae){if(wt===Se)break;for(var nt=wt<ge?wt:gt,Ft=0,qt=nt;qt>ae;)qt=yt[qt]>>8,++Ft;var It=qt;if(ot+Ft+(nt!==wt?1:0)>z)return void x.log("Warning, gif stream longer than expected.");D[ot++]=It;var tt=ot+=Ft;for(nt!==wt&&(D[ot++]=It),qt=nt;Ft--;)qt=yt[qt],D[--tt]=255&qt,qt>>=8;gt!==null&&ge<4096&&(yt[ge++]=gt<<8|It,ge>=Me+1&&ve<12&&(++ve,Me=Me<<1|1)),gt=wt}else ge=Se+1,Me=(1<<(ve=X+1))-1,gt=null}return ot!==z&&x.log("Warning, gif stream shorter than expected."),D}/**
		 * @license
		  Copyright (c) 2008, Adobe Systems Incorporated
		  All rights reserved.

		  Redistribution and use in source and binary forms, with or without 
		  modification, are permitted provided that the following conditions are
		  met:

		  * Redistributions of source code must retain the above copyright notice, 
		    this list of conditions and the following disclaimer.
		  
		  * Redistributions in binary form must reproduce the above copyright
		    notice, this list of conditions and the following disclaimer in the 
		    documentation and/or other materials provided with the distribution.
		  
		  * Neither the name of Adobe Systems Incorporated nor the names of its 
		    contributors may be used to endorse or promote products derived from 
		    this software without specific prior written permission.

		  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
		  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
		  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
		  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
		  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
		  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
		  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
		  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
		  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
		  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
		  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
		*/function Po(I){var E,D,z,X,ae,Se=Math.floor,ge=new Array(64),ve=new Array(64),Me=new Array(64),ze=new Array(64),et=new Array(65535),ot=new Array(65535),Pe=new Array(64),yt=new Array(64),gt=[],wt=0,nt=7,Ft=new Array(64),qt=new Array(64),It=new Array(64),tt=new Array(256),Wt=new Array(2048),ur=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Yt=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Ot=[0,1,2,3,4,5,6,7,8,9,10,11],or=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],at=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],ht=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Tt=[0,1,2,3,4,5,6,7,8,9,10,11],_t=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],dr=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function xr(Ze,bt){for(var St=0,Vt=0,Gt=new Array,nr=1;nr<=16;nr++){for(var yr=1;yr<=Ze[nr];yr++)Gt[bt[Vt]]=[],Gt[bt[Vt]][0]=St,Gt[bt[Vt]][1]=nr,Vt++,St++;St*=2}return Gt}function jr(Ze){for(var bt=Ze[0],St=Ze[1]-1;St>=0;)bt&1<<St&&(wt|=1<<nt),St--,--nt<0&&(wt==255?(Jt(255),Jt(0)):Jt(wt),nt=7,wt=0)}function Jt(Ze){gt.push(Ze)}function br(Ze){Jt(Ze>>8&255),Jt(255&Ze)}function Zr(Ze,bt,St,Vt,Gt){for(var nr,yr=Gt[0],wr=Gt[240],Pr=(function(Vr,oa){var Dn,Zn,Mn,pi,Qa,Fn,oi,la,On,ha,kn=0;for(On=0;On<8;++On){Dn=Vr[kn],Zn=Vr[kn+1],Mn=Vr[kn+2],pi=Vr[kn+3],Qa=Vr[kn+4],Fn=Vr[kn+5],oi=Vr[kn+6];var Ca=Dn+(la=Vr[kn+7]),ui=Dn-la,qa=Zn+oi,Xa=Zn-oi,rs=Mn+Fn,zn=Mn-Fn,Ti=pi+Qa,ya=pi-Qa,Vn=Ca+Ti,_i=Ca-Ti,Na=qa+rs,Bn=qa-rs;Vr[kn]=Vn+Na,Vr[kn+4]=Vn-Na;var ei=.707106781*(Bn+_i);Vr[kn+2]=_i+ei,Vr[kn+6]=_i-ei;var au=.382683433*((Vn=ya+zn)-(Bn=Xa+ui)),zs=.5411961*Vn+au,wo=1.306562965*Bn+au,Bc=.707106781*(Na=zn+Xa),pa=ui+Bc,Cs=ui-Bc;Vr[kn+5]=Cs+zs,Vr[kn+3]=Cs-zs,Vr[kn+1]=pa+wo,Vr[kn+7]=pa-wo,kn+=8}for(kn=0,On=0;On<8;++On){Dn=Vr[kn],Zn=Vr[kn+8],Mn=Vr[kn+16],pi=Vr[kn+24],Qa=Vr[kn+32],Fn=Vr[kn+40],oi=Vr[kn+48];var jo=Dn+(la=Vr[kn+56]),Tl=Dn-la,Rs=Zn+oi,Mi=Zn-oi,_s=Mn+Fn,uo=Mn-Fn,iu=pi+Qa,Js=pi-Qa,al=jo+iu,Ic=jo-iu,rc=Rs+_s,eo=Rs-_s;Vr[kn]=al+rc,Vr[kn+32]=al-rc;var il=.707106781*(eo+Ic);Vr[kn+16]=Ic+il,Vr[kn+48]=Ic-il;var _l=.382683433*((al=Js+uo)-(eo=Mi+Tl)),Ko=.5411961*al+_l,Mo=1.306562965*eo+_l,nc=.707106781*(rc=uo+Mi),Ol=Tl+nc,Tc=Tl-nc;Vr[kn+40]=Tc+Ko,Vr[kn+24]=Tc-Ko,Vr[kn+8]=Ol+Mo,Vr[kn+56]=Ol-Mo,kn++}for(On=0;On<64;++On)ha=Vr[On]*oa[On],Pe[On]=ha>0?ha+.5|0:ha-.5|0;return Pe})(Ze,bt),Jr=0;Jr<64;++Jr)yt[ur[Jr]]=Pr[Jr];var Nn=yt[0]-St;St=yt[0],Nn==0?jr(Vt[0]):(jr(Vt[ot[nr=32767+Nn]]),jr(et[nr]));for(var En=63;En>0&&yt[En]==0;)En--;if(En==0)return jr(yr),St;for(var ua,dt=1;dt<=En;){for(var An=dt;yt[dt]==0&&dt<=En;)++dt;var xa=dt-An;if(xa>=16){ua=xa>>4;for(var hn=1;hn<=ua;++hn)jr(wr);xa&=15}nr=32767+yt[dt],jr(Gt[(xa<<4)+ot[nr]]),jr(et[nr]),dt++}return En!=63&&jr(yr),St}function Wr(Ze){Ze=Math.min(Math.max(Ze,1),100),ae!=Ze&&((function(bt){for(var St=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Vt=0;Vt<64;Vt++){var Gt=Se((St[Vt]*bt+50)/100);Gt=Math.min(Math.max(Gt,1),255),ge[ur[Vt]]=Gt}for(var nr=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],yr=0;yr<64;yr++){var wr=Se((nr[yr]*bt+50)/100);wr=Math.min(Math.max(wr,1),255),ve[ur[yr]]=wr}for(var Pr=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Jr=0,Nn=0;Nn<8;Nn++)for(var En=0;En<8;En++)Me[Jr]=1/(ge[ur[Jr]]*Pr[Nn]*Pr[En]*8),ze[Jr]=1/(ve[ur[Jr]]*Pr[Nn]*Pr[En]*8),Jr++})(Ze<50?Math.floor(5e3/Ze):Math.floor(200-2*Ze)),ae=Ze)}this.encode=function(Ze,bt){bt&&Wr(bt),gt=new Array,wt=0,nt=7,br(65496),br(65504),br(16),Jt(74),Jt(70),Jt(73),Jt(70),Jt(0),Jt(1),Jt(1),Jt(0),br(1),br(1),Jt(0),Jt(0),(function(){br(65499),br(132),Jt(0);for(var Zn=0;Zn<64;Zn++)Jt(ge[Zn]);Jt(1);for(var Mn=0;Mn<64;Mn++)Jt(ve[Mn])})(),(function(Zn,Mn){br(65472),br(17),Jt(8),br(Mn),br(Zn),Jt(3),Jt(1),Jt(17),Jt(0),Jt(2),Jt(17),Jt(1),Jt(3),Jt(17),Jt(1)})(Ze.width,Ze.height),(function(){br(65476),br(418),Jt(0);for(var Zn=0;Zn<16;Zn++)Jt(Yt[Zn+1]);for(var Mn=0;Mn<=11;Mn++)Jt(Ot[Mn]);Jt(16);for(var pi=0;pi<16;pi++)Jt(or[pi+1]);for(var Qa=0;Qa<=161;Qa++)Jt(at[Qa]);Jt(1);for(var Fn=0;Fn<16;Fn++)Jt(ht[Fn+1]);for(var oi=0;oi<=11;oi++)Jt(Tt[oi]);Jt(17);for(var la=0;la<16;la++)Jt(_t[la+1]);for(var On=0;On<=161;On++)Jt(dr[On])})(),br(65498),br(12),Jt(3),Jt(1),Jt(0),Jt(2),Jt(17),Jt(3),Jt(17),Jt(0),Jt(63),Jt(0);var St=0,Vt=0,Gt=0;wt=0,nt=7,this.encode.displayName="_encode_";for(var nr,yr,wr,Pr,Jr,Nn,En,ua,dt,An=Ze.data,xa=Ze.width,hn=Ze.height,Vr=4*xa,oa=0;oa<hn;){for(nr=0;nr<Vr;){for(Jr=Vr*oa+nr,En=-1,ua=0,dt=0;dt<64;dt++)Nn=Jr+(ua=dt>>3)*Vr+(En=4*(7&dt)),oa+ua>=hn&&(Nn-=Vr*(oa+1+ua-hn)),nr+En>=Vr&&(Nn-=nr+En-Vr+4),yr=An[Nn++],wr=An[Nn++],Pr=An[Nn++],Ft[dt]=(Wt[yr]+Wt[wr+256|0]+Wt[Pr+512|0]>>16)-128,qt[dt]=(Wt[yr+768|0]+Wt[wr+1024|0]+Wt[Pr+1280|0]>>16)-128,It[dt]=(Wt[yr+1280|0]+Wt[wr+1536|0]+Wt[Pr+1792|0]>>16)-128;St=Zr(Ft,Me,St,E,z),Vt=Zr(qt,ze,Vt,D,X),Gt=Zr(It,ze,Gt,D,X),nr+=32}oa+=8}if(nt>=0){var Dn=[];Dn[1]=nt+1,Dn[0]=(1<<nt+1)-1,jr(Dn)}return br(65497),new Uint8Array(gt)},I=I||50,(function(){for(var Ze=String.fromCharCode,bt=0;bt<256;bt++)tt[bt]=Ze(bt)})(),E=xr(Yt,Ot),D=xr(ht,Tt),z=xr(or,at),X=xr(_t,dr),(function(){for(var Ze=1,bt=2,St=1;St<=15;St++){for(var Vt=Ze;Vt<bt;Vt++)ot[32767+Vt]=St,et[32767+Vt]=[],et[32767+Vt][1]=St,et[32767+Vt][0]=Vt;for(var Gt=-(bt-1);Gt<=-Ze;Gt++)ot[32767+Gt]=St,et[32767+Gt]=[],et[32767+Gt][1]=St,et[32767+Gt][0]=bt-1+Gt;Ze<<=1,bt<<=1}})(),(function(){for(var Ze=0;Ze<256;Ze++)Wt[Ze]=19595*Ze,Wt[Ze+256|0]=38470*Ze,Wt[Ze+512|0]=7471*Ze+32768,Wt[Ze+768|0]=-11059*Ze,Wt[Ze+1024|0]=-21709*Ze,Wt[Ze+1280|0]=32768*Ze+8421375,Wt[Ze+1536|0]=-27439*Ze,Wt[Ze+1792|0]=-5329*Ze})(),Wr(I)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Li(I,E){if(this.pos=0,this.buffer=I,this.datav=new DataView(I.buffer),this.is_with_alpha=!!E,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function co(I){function E(Ot){if(!Ot)throw Error("assert :P")}function D(Ot,or,at){for(var ht=0;4>ht;ht++)if(Ot[or+ht]!=at.charCodeAt(ht))return!0;return!1}function z(Ot,or,at,ht,Tt){for(var _t=0;_t<Tt;_t++)Ot[or+_t]=at[ht+_t]}function X(Ot,or,at,ht){for(var Tt=0;Tt<ht;Tt++)Ot[or+Tt]=at}function ae(Ot){return new Int32Array(Ot)}function Se(Ot,or){for(var at=[],ht=0;ht<Ot;ht++)at.push(new or);return at}function ge(Ot,or){var at=[];return(function ht(Tt,_t,dr){for(var xr=dr[_t],jr=0;jr<xr&&(Tt.push(dr.length>_t+1?[]:new or),!(dr.length<_t+1));jr++)ht(Tt[jr],_t+1,dr)})(at,0,Ot),at}var ve=function(){var Ot=this;function or(_,G){for(var xe=1<<G-1>>>0;_&xe;)xe>>>=1;return xe?(_&xe-1)+xe:_}function at(_,G,xe,ke,We){E(!(ke%xe));do _[G+(ke-=xe)]=We;while(0<ke)}function ht(_,G,xe,ke,We){if(E(2328>=We),512>=We)var Ge=ae(512);else if((Ge=ae(We))==null)return 0;return(function(Xe,Je,rt,mt,Mt,rr){var ft,Lt,Zt=Je,Sr=1<<rt,ar=ae(16),Br=ae(16);for(E(Mt!=0),E(mt!=null),E(Xe!=null),E(0<rt),Lt=0;Lt<Mt;++Lt){if(15<mt[Lt])return 0;++ar[mt[Lt]]}if(ar[0]==Mt)return 0;for(Br[1]=0,ft=1;15>ft;++ft){if(ar[ft]>1<<ft)return 0;Br[ft+1]=Br[ft]+ar[ft]}for(Lt=0;Lt<Mt;++Lt)ft=mt[Lt],0<mt[Lt]&&(rr[Br[ft]++]=Lt);if(Br[15]==1)return(mt=new Tt).g=0,mt.value=rr[0],at(Xe,Zt,1,Sr,mt),Sr;var _r,Ur=-1,Or=Sr-1,ea=0,Pn=1,za=1,yn=1<<rt;for(Lt=0,ft=1,Mt=2;ft<=rt;++ft,Mt<<=1){if(Pn+=za<<=1,0>(za-=ar[ft]))return 0;for(;0<ar[ft];--ar[ft])(mt=new Tt).g=ft,mt.value=rr[Lt++],at(Xe,Zt+ea,Mt,yn,mt),ea=or(ea,ft)}for(ft=rt+1,Mt=2;15>=ft;++ft,Mt<<=1){if(Pn+=za<<=1,0>(za-=ar[ft]))return 0;for(;0<ar[ft];--ar[ft]){if(mt=new Tt,(ea&Or)!=Ur){for(Zt+=yn,_r=1<<(Ur=ft)-rt;15>Ur&&!(0>=(_r-=ar[Ur]));)++Ur,_r<<=1;Sr+=yn=1<<(_r=Ur-rt),Xe[Je+(Ur=ea&Or)].g=_r+rt,Xe[Je+Ur].value=Zt-Je-Ur}mt.g=ft-rt,mt.value=rr[Lt++],at(Xe,Zt+(ea>>rt),Mt,yn,mt),ea=or(ea,ft)}}return Pn!=2*Br[15]-1?0:Sr})(_,G,xe,ke,We,Ge)}function Tt(){this.value=this.g=0}function _t(){this.value=this.g=0}function dr(){this.G=Se(5,Tt),this.H=ae(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=Se(Fa,_t)}function xr(_,G,xe,ke){E(_!=null),E(G!=null),E(2147483648>ke),_.Ca=254,_.I=0,_.b=-8,_.Ka=0,_.oa=G,_.pa=xe,_.Jd=G,_.Yc=xe+ke,_.Zc=4<=ke?xe+ke-4+1:xe,yr(_)}function jr(_,G){for(var xe=0;0<G--;)xe|=Pr(_,128)<<G;return xe}function Jt(_,G){var xe=jr(_,G);return wr(_)?-xe:xe}function br(_,G,xe,ke){var We,Ge=0;for(E(_!=null),E(G!=null),E(4294967288>ke),_.Sb=ke,_.Ra=0,_.u=0,_.h=0,4<ke&&(ke=4),We=0;We<ke;++We)Ge+=G[xe+We]<<8*We;_.Ra=Ge,_.bb=ke,_.oa=G,_.pa=xe}function Zr(_){for(;8<=_.u&&_.bb<_.Sb;)_.Ra>>>=8,_.Ra+=_.oa[_.pa+_.bb]<<No-8>>>0,++_.bb,_.u-=8;Vt(_)&&(_.h=1,_.u=0)}function Wr(_,G){if(E(0<=G),!_.h&&G<=Aa){var xe=St(_)&Hn[G];return _.u+=G,Zr(_),xe}return _.h=1,_.u=0}function Ze(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function bt(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function St(_){return _.Ra>>>(_.u&No-1)>>>0}function Vt(_){return E(_.bb<=_.Sb),_.h||_.bb==_.Sb&&_.u>No}function Gt(_,G){_.u=G,_.h=Vt(_)}function nr(_){_.u>=cc&&(E(_.u>=cc),Zr(_))}function yr(_){E(_!=null&&_.oa!=null),_.pa<_.Zc?(_.I=(_.oa[_.pa++]|_.I<<8)>>>0,_.b+=8):(E(_!=null&&_.oa!=null),_.pa<_.Yc?(_.b+=8,_.I=_.oa[_.pa++]|_.I<<8):_.Ka?_.b=0:(_.I<<=8,_.b+=8,_.Ka=1))}function wr(_){return jr(_,1)}function Pr(_,G){var xe=_.Ca;0>_.b&&yr(_);var ke=_.b,We=xe*G>>>8,Ge=(_.I>>>ke>We)+0;for(Ge?(xe-=We,_.I-=We+1<<ke>>>0):xe=We+1,ke=xe,We=0;256<=ke;)We+=8,ke>>=8;return ke=7^We+Lo[ke],_.b-=ke,_.Ca=(xe<<ke)-1,Ge}function Jr(_,G,xe){_[G+0]=xe>>24&255,_[G+1]=xe>>16&255,_[G+2]=xe>>8&255,_[G+3]=255&xe}function Nn(_,G){return _[G+0]|_[G+1]<<8}function En(_,G){return Nn(_,G)|_[G+2]<<16}function ua(_,G){return Nn(_,G)|Nn(_,G+2)<<16}function dt(_,G){var xe=1<<G;return E(_!=null),E(0<G),_.X=ae(xe),_.X==null?0:(_.Mb=32-G,_.Xa=G,1)}function An(_,G){E(_!=null),E(G!=null),E(_.Xa==G.Xa),z(G.X,0,_.X,0,1<<G.Xa)}function xa(){this.X=[],this.Xa=this.Mb=0}function hn(_,G,xe,ke){E(xe!=null),E(ke!=null);var We=xe[0],Ge=ke[0];return We==0&&(We=(_*Ge+G/2)/G),Ge==0&&(Ge=(G*We+_/2)/_),0>=We||0>=Ge?0:(xe[0]=We,ke[0]=Ge,1)}function Vr(_,G){return _+(1<<G)-1>>>G}function oa(_,G){return((4278255360&_)+(4278255360&G)>>>0&4278255360)+((16711935&_)+(16711935&G)>>>0&16711935)>>>0}function Dn(_,G){Ot[G]=function(xe,ke,We,Ge,Xe,Je,rt){var mt;for(mt=0;mt<Xe;++mt){var Mt=Ot[_](Je[rt+mt-1],We,Ge+mt);Je[rt+mt]=oa(xe[ke+mt],Mt)}}}function Zn(){this.ud=this.hd=this.jd=0}function Mn(_,G){return((4278124286&(_^G))>>>1)+(_&G)>>>0}function pi(_){return 0<=_&&256>_?_:0>_?0:255<_?255:void 0}function Qa(_,G){return pi(_+(_-G+.5>>1))}function Fn(_,G,xe){return Math.abs(G-xe)-Math.abs(_-xe)}function oi(_,G,xe,ke,We,Ge,Xe){for(ke=Ge[Xe-1],xe=0;xe<We;++xe)Ge[Xe+xe]=ke=oa(_[G+xe],ke)}function la(_,G,xe,ke,We){var Ge;for(Ge=0;Ge<xe;++Ge){var Xe=_[G+Ge],Je=Xe>>8&255,rt=16711935&(rt=(rt=16711935&Xe)+((Je<<16)+Je));ke[We+Ge]=(4278255360&Xe)+rt>>>0}}function On(_,G){G.jd=255&_,G.hd=_>>8&255,G.ud=_>>16&255}function ha(_,G,xe,ke,We,Ge){var Xe;for(Xe=0;Xe<ke;++Xe){var Je=G[xe+Xe],rt=Je>>>8,mt=Je,Mt=255&(Mt=(Mt=Je>>>16)+((_.jd<<24>>24)*(rt<<24>>24)>>>5));mt=255&(mt=(mt+=(_.hd<<24>>24)*(rt<<24>>24)>>>5)+((_.ud<<24>>24)*(Mt<<24>>24)>>>5)),We[Ge+Xe]=(4278255360&Je)+(Mt<<16)+mt}}function kn(_,G,xe,ke,We){Ot[G]=function(Ge,Xe,Je,rt,mt,Mt,rr,ft,Lt){for(rt=rr;rt<ft;++rt)for(rr=0;rr<Lt;++rr)mt[Mt++]=We(Je[ke(Ge[Xe++])])},Ot[_]=function(Ge,Xe,Je,rt,mt,Mt,rr){var ft=8>>Ge.b,Lt=Ge.Ea,Zt=Ge.K[0],Sr=Ge.w;if(8>ft)for(Ge=(1<<Ge.b)-1,Sr=(1<<ft)-1;Xe<Je;++Xe){var ar,Br=0;for(ar=0;ar<Lt;++ar)ar&Ge||(Br=ke(rt[mt++])),Mt[rr++]=We(Zt[Br&Sr]),Br>>=ft}else Ot["VP8LMapColor"+xe](rt,mt,Zt,Sr,Mt,rr,Xe,Je,Lt)}}function Ca(_,G,xe,ke,We){for(xe=G+xe;G<xe;){var Ge=_[G++];ke[We++]=Ge>>16&255,ke[We++]=Ge>>8&255,ke[We++]=255&Ge}}function ui(_,G,xe,ke,We){for(xe=G+xe;G<xe;){var Ge=_[G++];ke[We++]=Ge>>16&255,ke[We++]=Ge>>8&255,ke[We++]=255&Ge,ke[We++]=Ge>>24&255}}function qa(_,G,xe,ke,We){for(xe=G+xe;G<xe;){var Ge=(Xe=_[G++])>>16&240|Xe>>12&15,Xe=240&Xe|Xe>>28&15;ke[We++]=Ge,ke[We++]=Xe}}function Xa(_,G,xe,ke,We){for(xe=G+xe;G<xe;){var Ge=(Xe=_[G++])>>16&248|Xe>>13&7,Xe=Xe>>5&224|Xe>>3&31;ke[We++]=Ge,ke[We++]=Xe}}function rs(_,G,xe,ke,We){for(xe=G+xe;G<xe;){var Ge=_[G++];ke[We++]=255&Ge,ke[We++]=Ge>>8&255,ke[We++]=Ge>>16&255}}function zn(_,G,xe,ke,We,Ge){if(Ge==0)for(xe=G+xe;G<xe;)Jr(ke,((Ge=_[G++])[0]>>24|Ge[1]>>8&65280|Ge[2]<<8&16711680|Ge[3]<<24)>>>0),We+=32;else z(ke,We,_,G,xe)}function Ti(_,G){Ot[G][0]=Ot[_+"0"],Ot[G][1]=Ot[_+"1"],Ot[G][2]=Ot[_+"2"],Ot[G][3]=Ot[_+"3"],Ot[G][4]=Ot[_+"4"],Ot[G][5]=Ot[_+"5"],Ot[G][6]=Ot[_+"6"],Ot[G][7]=Ot[_+"7"],Ot[G][8]=Ot[_+"8"],Ot[G][9]=Ot[_+"9"],Ot[G][10]=Ot[_+"10"],Ot[G][11]=Ot[_+"11"],Ot[G][12]=Ot[_+"12"],Ot[G][13]=Ot[_+"13"],Ot[G][14]=Ot[_+"0"],Ot[G][15]=Ot[_+"0"]}function ya(_){return _==BA||_==qh||_==Pu||_==IA}function Vn(){this.eb=[],this.size=this.A=this.fb=0}function _i(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Na(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Vn,this.f.kb=new _i,this.sd=null}function Bn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ei(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function au(_){return alert("todo:WebPSamplerProcessPlane"),_.T}function zs(_,G){var xe=_.T,ke=G.ba.f.RGBA,We=ke.eb,Ge=ke.fb+_.ka*ke.A,Xe=Ac[G.ba.S],Je=_.y,rt=_.O,mt=_.f,Mt=_.N,rr=_.ea,ft=_.W,Lt=G.cc,Zt=G.dc,Sr=G.Mc,ar=G.Nc,Br=_.ka,_r=_.ka+_.T,Ur=_.U,Or=Ur+1>>1;for(Br==0?Xe(Je,rt,null,null,mt,Mt,rr,ft,mt,Mt,rr,ft,We,Ge,null,null,Ur):(Xe(G.ec,G.fc,Je,rt,Lt,Zt,Sr,ar,mt,Mt,rr,ft,We,Ge-ke.A,We,Ge,Ur),++xe);Br+2<_r;Br+=2)Lt=mt,Zt=Mt,Sr=rr,ar=ft,Mt+=_.Rc,ft+=_.Rc,Ge+=2*ke.A,Xe(Je,(rt+=2*_.fa)-_.fa,Je,rt,Lt,Zt,Sr,ar,mt,Mt,rr,ft,We,Ge-ke.A,We,Ge,Ur);return rt+=_.fa,_.j+_r<_.o?(z(G.ec,G.fc,Je,rt,Ur),z(G.cc,G.dc,mt,Mt,Or),z(G.Mc,G.Nc,rr,ft,Or),xe--):1&_r||Xe(Je,rt,null,null,mt,Mt,rr,ft,mt,Mt,rr,ft,We,Ge+ke.A,null,null,Ur),xe}function wo(_,G,xe){var ke=_.F,We=[_.J];if(ke!=null){var Ge=_.U,Xe=G.ba.S,Je=Xe==fo||Xe==Pu;G=G.ba.f.RGBA;var rt=[0],mt=_.ka;rt[0]=_.T,_.Kb&&(mt==0?--rt[0]:(--mt,We[0]-=_.width),_.j+_.ka+_.T==_.o&&(rt[0]=_.o-_.j-mt));var Mt=G.eb;mt=G.fb+mt*G.A,_=ol(ke,We[0],_.width,Ge,rt,Mt,mt+(Je?0:3),G.A),E(xe==rt),_&&ya(Xe)&&to(Mt,mt,Je,Ge,rt,G.A)}return 0}function Bc(_){var G=_.ma,xe=G.ba.S,ke=11>xe,We=xe==Kh||xe==xh||xe==fo||xe==Nd||xe==12||ya(xe);if(G.memory=null,G.Ib=null,G.Jb=null,G.Nd=null,!ns(G.Oa,_,We?11:12))return 0;if(We&&ya(xe)&&lt(),_.da)alert("todo:use_scaling");else{if(ke){if(G.Ib=au,_.Kb){if(xe=_.U+1>>1,G.memory=ae(_.U+2*xe),G.memory==null)return 0;G.ec=G.memory,G.fc=0,G.cc=G.ec,G.dc=G.fc+_.U,G.Mc=G.cc,G.Nc=G.dc+xe,G.Ib=zs,lt()}}else alert("todo:EmitYUV");We&&(G.Jb=wo,ke&&Ye())}if(ke&&!Nf){for(_=0;256>_;++_)Sf[_]=89858*(_-128)+th>>Bd,bl[_]=-22014*(_-128)+th,Hl[_]=-45773*(_-128),Ef[_]=113618*(_-128)+th>>Bd;for(_=bh;_<FA;++_)G=76283*(_-16)+th>>Bd,DA[_-bh]=ac(G,255),Bf[_-bh]=ac(G+8>>4,15);Nf=1}return 1}function pa(_){var G=_.ma,xe=_.U,ke=_.T;return E(!(1&_.ka)),0>=xe||0>=ke?0:(xe=G.Ib(_,G),G.Jb!=null&&G.Jb(_,G,xe),G.Dc+=xe,1)}function Cs(_){_.ma.memory=null}function jo(_,G,xe,ke){return Wr(_,8)!=47?0:(G[0]=Wr(_,14)+1,xe[0]=Wr(_,14)+1,ke[0]=Wr(_,1),Wr(_,3)!=0?0:!_.h)}function Tl(_,G){if(4>_)return _+1;var xe=_-2>>1;return(2+(1&_)<<xe)+Wr(G,xe)+1}function Rs(_,G){return 120<G?G-120:1<=(xe=((xe=Np[G-1])>>4)*_+(8-(15&xe)))?xe:1;var xe}function Mi(_,G,xe){var ke=St(xe),We=_[G+=255&ke].g-8;return 0<We&&(Gt(xe,xe.u+8),ke=St(xe),G+=_[G].value,G+=ke&(1<<We)-1),Gt(xe,xe.u+_[G].g),_[G].value}function _s(_,G,xe){return xe.g+=_.g,xe.value+=_.value<<G>>>0,E(8>=xe.g),_.g}function uo(_,G,xe){var ke=_.xc;return E((G=ke==0?0:_.vc[_.md*(xe>>ke)+(G>>ke)])<_.Wb),_.Ya[G]}function iu(_,G,xe,ke){var We=_.ab,Ge=_.c*G,Xe=_.C;G=Xe+G;var Je=xe,rt=ke;for(ke=_.Ta,xe=_.Ua;0<We--;){var mt=_.gc[We],Mt=Xe,rr=G,ft=Je,Lt=rt,Zt=(rt=ke,Je=xe,mt.Ea);switch(E(Mt<rr),E(rr<=mt.nc),mt.hc){case 2:Ks(ft,Lt,(rr-Mt)*Zt,rt,Je);break;case 0:var Sr=Mt,ar=rr,Br=rt,_r=Je,Ur=(yn=mt).Ea;Sr==0&&(ho(ft,Lt,null,null,1,Br,_r),oi(ft,Lt+1,0,0,Ur-1,Br,_r+1),Lt+=Ur,_r+=Ur,++Sr);for(var Or=1<<yn.b,ea=Or-1,Pn=Vr(Ur,yn.b),za=yn.K,yn=yn.w+(Sr>>yn.b)*Pn;Sr<ar;){var wi=za,ln=yn,La=1;for(uc(ft,Lt,Br,_r-Ur,1,Br,_r);La<Ur;){var Qn=(La&~ea)+Or;Qn>Ur&&(Qn=Ur),(0,gh[wi[ln++]>>8&15])(ft,Lt+ +La,Br,_r+La-Ur,Qn-La,Br,_r+La),La=Qn}Lt+=Ur,_r+=Ur,++Sr&ea||(yn+=Pn)}rr!=mt.nc&&z(rt,Je-Zt,rt,Je+(rr-Mt-1)*Zt,Zt);break;case 1:for(Zt=ft,ar=Lt,Ur=(ft=mt.Ea)-(_r=ft&~(Br=(Lt=1<<mt.b)-1)),Sr=Vr(ft,mt.b),Or=mt.K,mt=mt.w+(Mt>>mt.b)*Sr;Mt<rr;){for(ea=Or,Pn=mt,za=new Zn,yn=ar+_r,wi=ar+ft;ar<yn;)On(ea[Pn++],za),Fc(za,Zt,ar,Lt,rt,Je),ar+=Lt,Je+=Lt;ar<wi&&(On(ea[Pn++],za),Fc(za,Zt,ar,Ur,rt,Je),ar+=Ur,Je+=Ur),++Mt&Br||(mt+=Sr)}break;case 3:if(ft==rt&&Lt==Je&&0<mt.b){for(ar=rt,ft=Zt=Je+(rr-Mt)*Zt-(_r=(rr-Mt)*Vr(mt.Ea,mt.b)),Lt=rt,Br=Je,Sr=[],_r=(Ur=_r)-1;0<=_r;--_r)Sr[_r]=Lt[Br+_r];for(_r=Ur-1;0<=_r;--_r)ar[ft+_r]=Sr[_r];Wh(mt,Mt,rr,rt,Zt,rt,Je)}else Wh(mt,Mt,rr,ft,Lt,rt,Je)}Je=ke,rt=xe}rt!=xe&&z(ke,xe,Je,rt,Ge)}function Js(_,G){var xe=_.V,ke=_.Ba+_.c*_.C,We=G-_.C;if(E(G<=_.l.o),E(16>=We),0<We){var Ge=_.l,Xe=_.Ta,Je=_.Ua,rt=Ge.width;if(iu(_,We,xe,ke),We=Je=[Je],E((xe=_.C)<(ke=G)),E(Ge.v<Ge.va),ke>Ge.o&&(ke=Ge.o),xe<Ge.j){var mt=Ge.j-xe;xe=Ge.j,We[0]+=mt*rt}if(xe>=ke?xe=0:(We[0]+=4*Ge.v,Ge.ka=xe-Ge.j,Ge.U=Ge.va-Ge.v,Ge.T=ke-xe,xe=1),xe){if(Je=Je[0],11>(xe=_.ca).S){var Mt=xe.f.RGBA,rr=(ke=xe.S,We=Ge.U,Ge=Ge.T,mt=Mt.eb,Mt.A),ft=Ge;for(Mt=Mt.fb+_.Ma*Mt.A;0<ft--;){var Lt=Xe,Zt=Je,Sr=We,ar=mt,Br=Mt;switch(ke){case Zd:Gc(Lt,Zt,Sr,ar,Br);break;case Kh:qc(Lt,Zt,Sr,ar,Br);break;case BA:qc(Lt,Zt,Sr,ar,Br),to(ar,Br,0,Sr,1,0);break;case Gh:wd(Lt,Zt,Sr,ar,Br);break;case xh:zn(Lt,Zt,Sr,ar,Br,1);break;case qh:zn(Lt,Zt,Sr,ar,Br,1),to(ar,Br,0,Sr,1,0);break;case fo:zn(Lt,Zt,Sr,ar,Br,0);break;case Pu:zn(Lt,Zt,Sr,ar,Br,0),to(ar,Br,1,Sr,1,0);break;case Nd:qu(Lt,Zt,Sr,ar,Br);break;case IA:qu(Lt,Zt,Sr,ar,Br),zh(ar,Br,Sr,1,0);break;case gf:du(Lt,Zt,Sr,ar,Br);break;default:E(0)}Je+=rt,Mt+=rr}_.Ma+=Ge}else alert("todo:EmitRescaledRowsYUVA");E(_.Ma<=xe.height)}}_.C=G,E(_.C<=_.i)}function al(_){var G;if(0<_.ua)return 0;for(G=0;G<_.Wb;++G){var xe=_.Ya[G].G,ke=_.Ya[G].H;if(0<xe[1][ke[1]+0].g||0<xe[2][ke[2]+0].g||0<xe[3][ke[3]+0].g)return 0}return 1}function Ic(_,G,xe,ke,We,Ge){if(_.Z!=0){var Xe=_.qd,Je=_.rd;for(E(Ho[_.Z]!=null);G<xe;++G)Ho[_.Z](Xe,Je,ke,We,ke,We,Ge),Xe=ke,Je=We,We+=Ge;_.qd=Xe,_.rd=Je}}function rc(_,G){var xe=_.l.ma,ke=xe.Z==0||xe.Z==1?_.l.j:_.C;if(ke=_.C<ke?ke:_.C,E(G<=_.l.o),G>ke){var We=_.l.width,Ge=xe.ca,Xe=xe.tb+We*ke,Je=_.V,rt=_.Ba+_.c*ke,mt=_.gc;E(_.ab==1),E(mt[0].hc==3),sl(mt[0],ke,G,Je,rt,Ge,Xe),Ic(xe,ke,G,Ge,Xe,We)}_.C=_.Ma=G}function eo(_,G,xe,ke,We,Ge,Xe){var Je=_.$/ke,rt=_.$%ke,mt=_.m,Mt=_.s,rr=xe+_.$,ft=rr;We=xe+ke*We;var Lt=xe+ke*Ge,Zt=280+Mt.ua,Sr=_.Pb?Je:16777216,ar=0<Mt.ua?Mt.Wa:null,Br=Mt.wc,_r=rr<Lt?uo(Mt,rt,Je):null;E(_.C<Ge),E(Lt<=We);var Ur=!1;e:for(;;){for(;Ur||rr<Lt;){var Or=0;if(Je>=Sr){var ea=rr-xe;E((Sr=_).Pb),Sr.wd=Sr.m,Sr.xd=ea,0<Sr.s.ua&&An(Sr.s.Wa,Sr.s.vb),Sr=Je+yf}if(rt&Br||(_r=uo(Mt,rt,Je)),E(_r!=null),_r.Qb&&(G[rr]=_r.qb,Ur=!0),!Ur)if(nr(mt),_r.jc){Or=mt,ea=G;var Pn=rr,za=_r.pd[St(Or)&Fa-1];E(_r.jc),256>za.g?(Gt(Or,Or.u+za.g),ea[Pn]=za.value,Or=0):(Gt(Or,Or.u+za.g-256),E(256<=za.value),Or=za.value),Or==0&&(Ur=!0)}else Or=Mi(_r.G[0],_r.H[0],mt);if(mt.h)break;if(Ur||256>Or){if(!Ur)if(_r.nd)G[rr]=(_r.qb|Or<<8)>>>0;else{if(nr(mt),Ur=Mi(_r.G[1],_r.H[1],mt),nr(mt),ea=Mi(_r.G[2],_r.H[2],mt),Pn=Mi(_r.G[3],_r.H[3],mt),mt.h)break;G[rr]=(Pn<<24|Ur<<16|Or<<8|ea)>>>0}if(Ur=!1,++rr,++rt>=ke&&(rt=0,++Je,Xe!=null&&Je<=Ge&&!(Je%16)&&Xe(_,Je),ar!=null))for(;ft<rr;)Or=G[ft++],ar.X[(506832829*Or&4294967295)>>>ar.Mb]=Or}else if(280>Or){if(Or=Tl(Or-256,mt),ea=Mi(_r.G[4],_r.H[4],mt),nr(mt),ea=Rs(ke,ea=Tl(ea,mt)),mt.h)break;if(rr-xe<ea||We-rr<Or)break e;for(Pn=0;Pn<Or;++Pn)G[rr+Pn]=G[rr+Pn-ea];for(rr+=Or,rt+=Or;rt>=ke;)rt-=ke,++Je,Xe!=null&&Je<=Ge&&!(Je%16)&&Xe(_,Je);if(E(rr<=We),rt&Br&&(_r=uo(Mt,rt,Je)),ar!=null)for(;ft<rr;)Or=G[ft++],ar.X[(506832829*Or&4294967295)>>>ar.Mb]=Or}else{if(!(Or<Zt))break e;for(Ur=Or-280,E(ar!=null);ft<rr;)Or=G[ft++],ar.X[(506832829*Or&4294967295)>>>ar.Mb]=Or;Or=rr,E(!(Ur>>>(ea=ar).Xa)),G[Or]=ea.X[Ur],Ur=!0}Ur||E(mt.h==Vt(mt))}if(_.Pb&&mt.h&&rr<We)E(_.m.h),_.a=5,_.m=_.wd,_.$=_.xd,0<_.s.ua&&An(_.s.vb,_.s.Wa);else{if(mt.h)break e;Xe!=null&&Xe(_,Je>Ge?Ge:Je),_.a=0,_.$=rr-xe}return 1}return _.a=3,0}function il(_){E(_!=null),_.vc=null,_.yc=null,_.Ya=null;var G=_.Wa;G!=null&&(G.X=null),_.vb=null,E(_!=null)}function _l(){var _=new ma;return _==null?null:(_.a=0,_.xb=wf,Ti("Predictor","VP8LPredictors"),Ti("Predictor","VP8LPredictors_C"),Ti("PredictorAdd","VP8LPredictorsAdd"),Ti("PredictorAdd","VP8LPredictorsAdd_C"),Ks=la,Fc=ha,Gc=Ca,qc=ui,qu=qa,du=Xa,wd=rs,Ot.VP8LMapColor32b=Yo,Ot.VP8LMapColor8b=Yd,_)}function Ko(_,G,xe,ke,We){var Ge=1,Xe=[_],Je=[G],rt=ke.m,mt=ke.s,Mt=null,rr=0;e:for(;;){if(xe)for(;Ge&&Wr(rt,1);){var ft=Xe,Lt=Je,Zt=ke,Sr=1,ar=Zt.m,Br=Zt.gc[Zt.ab],_r=Wr(ar,2);if(Zt.Oc&1<<_r)Ge=0;else{switch(Zt.Oc|=1<<_r,Br.hc=_r,Br.Ea=ft[0],Br.nc=Lt[0],Br.K=[null],++Zt.ab,E(4>=Zt.ab),_r){case 0:case 1:Br.b=Wr(ar,3)+2,Sr=Ko(Vr(Br.Ea,Br.b),Vr(Br.nc,Br.b),0,Zt,Br.K),Br.K=Br.K[0];break;case 3:var Ur,Or=Wr(ar,8)+1,ea=16<Or?0:4<Or?1:2<Or?2:3;if(ft[0]=Vr(Br.Ea,ea),Br.b=ea,Ur=Sr=Ko(Or,1,0,Zt,Br.K)){var Pn,za=Or,yn=Br,wi=1<<(8>>yn.b),ln=ae(wi);if(ln==null)Ur=0;else{var La=yn.K[0],Qn=yn.w;for(ln[0]=yn.K[0][0],Pn=1;Pn<1*za;++Pn)ln[Pn]=oa(La[Qn+Pn],ln[Pn-1]);for(;Pn<4*wi;++Pn)ln[Pn]=0;yn.K[0]=null,yn.K[0]=ln,Ur=1}}Sr=Ur;break;case 2:break;default:E(0)}Ge=Sr}}if(Xe=Xe[0],Je=Je[0],Ge&&Wr(rt,1)&&!(Ge=1<=(rr=Wr(rt,4))&&11>=rr)){ke.a=3;break e}var pn;if(pn=Ge)t:{var po,Da,fi,fs=ke,Eo=Xe,Zo=Je,Us=rr,Jo=xe,ul=fs.m,mi=fs.s,Ya=[null],gi=1,Gs=0,Ki=Sp[Us];r:for(;;){if(Jo&&Wr(ul,1)){var ps=Wr(ul,3)+2,fc=Vr(Eo,ps),Gi=Vr(Zo,ps),wl=fc*Gi;if(!Ko(fc,Gi,0,fs,Ya))break r;for(Ya=Ya[0],mi.xc=ps,po=0;po<wl;++po){var is=Ya[po]>>8&65535;Ya[po]=is,is>=gi&&(gi=is+1)}}if(ul.h)break r;for(Da=0;5>Da;++Da){var rn=vf[Da];!Da&&0<Us&&(rn+=1<<Us),Gs<rn&&(Gs=rn)}var Qo=Se(gi*Ki,Tt),Wo=gi,Hs=Se(Wo,dr);if(Hs==null)var jl=null;else E(65536>=Wo),jl=Hs;var Wa=ae(Gs);if(jl==null||Wa==null||Qo==null){fs.a=1;break r}var Ma=Qo;for(po=fi=0;po<gi;++po){var qn=jl[po],qi=qn.G,ki=qn.H,qs=0,Qs=1,ro=0;for(Da=0;5>Da;++Da){rn=vf[Da],qi[Da]=Ma,ki[Da]=fi,!Da&&0<Us&&(rn+=1<<Us);a:{var no,Id=rn,Fu=fs,Zu=Wa,If=Ma,jh=fi,dl=0,Yc=Fu.m,rh=Wr(Yc,1);if(X(Zu,0,0,Id),rh){var Ju=Wr(Yc,1)+1,tA=Wr(Yc,1),LA=Wr(Yc,tA==0?1:8);Zu[LA]=1,Ju==2&&(Zu[LA=Wr(Yc,8)]=1);var pu=1}else{var rA=ae(19),Zc=Wr(Yc,4)+4;if(19<Zc){Fu.a=3;var el=0;break a}for(no=0;no<Zc;++no)rA[Cp[no]]=Wr(Yc,3);var Td=void 0,Du=void 0,nA=Fu,UA=rA,Bo=Id,pc=Zu,Cl=0,mo=nA.m,_d=8,HA=Se(128,Tt);n:for(;ht(HA,0,7,UA,19);){if(Wr(mo,1)){var Tf=2+2*Wr(mo,3);if((Td=2+Wr(mo,Tf))>Bo)break n}else Td=Bo;for(Du=0;Du<Bo&&Td--;){nr(mo);var _f=HA[0+(127&St(mo))];Gt(mo,mo.u+_f.g);var Mc=_f.value;if(16>Mc)pc[Du++]=Mc,Mc!=0&&(_d=Mc);else{var Of=Mc==16,QA=Mc-16,nh=_A[QA],WA=Wr(mo,TA[QA])+nh;if(Du+WA>Bo)break n;for(var ah=Of?_d:0;0<WA--;)pc[Du++]=ah}}Cl=1;break n}Cl||(nA.a=3),pu=Cl}(pu=pu&&!Yc.h)&&(dl=ht(If,jh,8,Zu,Id)),pu&&dl!=0?el=dl:(Fu.a=3,el=0)}if(el==0)break r;if(Qs&&xf[Da]==1&&(Qs=Ma[fi].g==0),qs+=Ma[fi].g,fi+=el,3>=Da){var Ch,$A=Wa[0];for(Ch=1;Ch<rn;++Ch)Wa[Ch]>$A&&($A=Wa[Ch]);ro+=$A}}if(qn.nd=Qs,qn.Qb=0,Qs&&(qn.qb=(qi[3][ki[3]+0].value<<24|qi[1][ki[1]+0].value<<16|qi[2][ki[2]+0].value)>>>0,qs==0&&256>qi[0][ki[0]+0].value&&(qn.Qb=1,qn.qb+=qi[0][ki[0]+0].value<<8)),qn.jc=!qn.Qb&&6>ro,qn.jc){var Nh,Jc=qn;for(Nh=0;Nh<Fa;++Nh){var Od=Nh,kd=Jc.pd[Od],aA=Jc.G[0][Jc.H[0]+Od];256<=aA.value?(kd.g=aA.g+256,kd.value=aA.value):(kd.g=0,kd.value=0,Od>>=_s(aA,8,kd),Od>>=_s(Jc.G[1][Jc.H[1]+Od],16,kd),Od>>=_s(Jc.G[2][Jc.H[2]+Od],0,kd),_s(Jc.G[3][Jc.H[3]+Od],24,kd))}}}mi.vc=Ya,mi.Wb=gi,mi.Ya=jl,mi.yc=Qo,pn=1;break t}pn=0}if(!(Ge=pn)){ke.a=3;break e}if(0<rr){if(mt.ua=1<<rr,!dt(mt.Wa,rr)){ke.a=1,Ge=0;break e}}else mt.ua=0;var VA=ke,Pd=Xe,Vm=Je,F=VA.s,B=F.xc;if(VA.c=Pd,VA.i=Vm,F.md=Vr(Pd,B),F.wc=B==0?-1:(1<<B)-1,xe){ke.xb=Ep;break e}if((Mt=ae(Xe*Je))==null){ke.a=1,Ge=0;break e}Ge=(Ge=eo(ke,Mt,0,Xe,Je,Je,null))&&!rt.h;break e}return Ge?(We!=null?We[0]=Mt:(E(Mt==null),E(xe)),ke.$=0,xe||il(mt)):il(mt),Ge}function Mo(_,G){var xe=_.c*_.i,ke=xe+G+16*G;return E(_.c<=G),_.V=ae(ke),_.V==null?(_.Ta=null,_.Ua=0,_.a=1,0):(_.Ta=_.V,_.Ua=_.Ba+xe+G,1)}function nc(_,G){var xe=_.C,ke=G-xe,We=_.V,Ge=_.Ba+_.c*xe;for(E(G<=_.l.o);0<ke;){var Xe=16<ke?16:ke,Je=_.l.ma,rt=_.l.width,mt=rt*Xe,Mt=Je.ca,rr=Je.tb+rt*xe,ft=_.Ta,Lt=_.Ua;iu(_,Xe,We,Ge),Cd(ft,Lt,Mt,rr,mt),Ic(Je,xe,xe+Xe,Mt,rr,rt),ke-=Xe,We+=Xe*_.c,xe+=Xe}E(xe==G),_.C=_.Ma=G}function Ol(){this.ub=this.yd=this.td=this.Rb=0}function Tc(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function fd(){this.Fb=this.Bb=this.Cb=0,this.Zb=ae(4),this.Lb=ae(4)}function $c(){this.Yb=(function(){var _=[];return(function G(xe,ke,We){for(var Ge=We[ke],Xe=0;Xe<Ge&&(xe.push(We.length>ke+1?[]:0),!(We.length<ke+1));Xe++)G(xe[Xe],ke+1,We)})(_,0,[3,11]),_})()}function pd(){this.jb=ae(3),this.Wc=ge([4,8],$c),this.Xc=ge([4,17],$c)}function su(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new ae(4),this.od=new ae(4)}function Go(){this.ld=this.La=this.dd=this.tc=0}function ou(){this.Na=this.la=0}function Nu(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Wu(){this.ad=ae(384),this.Za=0,this.Ob=ae(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function kl(){this.uc=this.M=this.Nb=0,this.wa=Array(new Go),this.Y=0,this.ya=Array(new Wu),this.aa=0,this.l=new zu}function $u(){this.y=ae(16),this.f=ae(8),this.ea=ae(8)}function Vu(){this.cb=this.a=0,this.sc="",this.m=new Ze,this.Od=new Ol,this.Kc=new Tc,this.ed=new su,this.Qa=new fd,this.Ic=this.$c=this.Aa=0,this.D=new kl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=Se(8,Ze),this.ia=0,this.pb=Se(4,Nu),this.Pa=new pd,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new $u),this.Hd=0,this.rb=Array(new ou),this.sb=0,this.wa=Array(new Go),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Wu),this.L=this.aa=0,this.gd=ge([4,2],Go),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ac(_,G){return 0>_?0:_>G?G:_}function zu(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Su(){var _=new Vu;return _!=null&&(_.a=0,_.sc="OK",_.cb=0,_.Xb=0,Jd||(Jd=bi)),_}function wa(_,G,xe){return _.a==0&&(_.a=G,_.sc=xe,_.cb=0),0}function md(_,G,xe){return 3<=xe&&_[G+0]==157&&_[G+1]==1&&_[G+2]==42}function ic(_,G){if(_==null)return 0;if(_.a=0,_.sc="OK",G==null)return wa(_,2,"null VP8Io passed to VP8GetHeaders()");var xe=G.data,ke=G.w,We=G.ha;if(4>We)return wa(_,7,"Truncated header.");var Ge=xe[ke+0]|xe[ke+1]<<8|xe[ke+2]<<16,Xe=_.Od;if(Xe.Rb=!(1&Ge),Xe.td=Ge>>1&7,Xe.yd=Ge>>4&1,Xe.ub=Ge>>5,3<Xe.td)return wa(_,3,"Incorrect keyframe parameters.");if(!Xe.yd)return wa(_,4,"Frame not displayable.");ke+=3,We-=3;var Je=_.Kc;if(Xe.Rb){if(7>We)return wa(_,7,"cannot parse picture header");if(!md(xe,ke,We))return wa(_,3,"Bad code word");Je.c=16383&(xe[ke+4]<<8|xe[ke+3]),Je.Td=xe[ke+4]>>6,Je.i=16383&(xe[ke+6]<<8|xe[ke+5]),Je.Ud=xe[ke+6]>>6,ke+=7,We-=7,_.za=Je.c+15>>4,_.Ub=Je.i+15>>4,G.width=Je.c,G.height=Je.i,G.Da=0,G.j=0,G.v=0,G.va=G.width,G.o=G.height,G.da=0,G.ib=G.width,G.hb=G.height,G.U=G.width,G.T=G.height,X((Ge=_.Pa).jb,0,255,Ge.jb.length),E((Ge=_.Qa)!=null),Ge.Cb=0,Ge.Bb=0,Ge.Fb=1,X(Ge.Zb,0,0,Ge.Zb.length),X(Ge.Lb,0,0,Ge.Lb)}if(Xe.ub>We)return wa(_,7,"bad partition length");xr(Ge=_.m,xe,ke,Xe.ub),ke+=Xe.ub,We-=Xe.ub,Xe.Rb&&(Je.Ld=wr(Ge),Je.Kd=wr(Ge)),Je=_.Qa;var rt,mt=_.Pa;if(E(Ge!=null),E(Je!=null),Je.Cb=wr(Ge),Je.Cb){if(Je.Bb=wr(Ge),wr(Ge)){for(Je.Fb=wr(Ge),rt=0;4>rt;++rt)Je.Zb[rt]=wr(Ge)?Jt(Ge,7):0;for(rt=0;4>rt;++rt)Je.Lb[rt]=wr(Ge)?Jt(Ge,6):0}if(Je.Bb)for(rt=0;3>rt;++rt)mt.jb[rt]=wr(Ge)?jr(Ge,8):255}else Je.Bb=0;if(Ge.Ka)return wa(_,3,"cannot parse segment header");if((Je=_.ed).zd=wr(Ge),Je.Tb=jr(Ge,6),Je.wb=jr(Ge,3),Je.Pc=wr(Ge),Je.Pc&&wr(Ge)){for(mt=0;4>mt;++mt)wr(Ge)&&(Je.vd[mt]=Jt(Ge,6));for(mt=0;4>mt;++mt)wr(Ge)&&(Je.od[mt]=Jt(Ge,6))}if(_.L=Je.Tb==0?0:Je.zd?1:2,Ge.Ka)return wa(_,3,"cannot parse filter header");var Mt=We;if(We=rt=ke,ke=rt+Mt,Je=Mt,_.Xb=(1<<jr(_.m,2))-1,Mt<3*(mt=_.Xb))xe=7;else{for(rt+=3*mt,Je-=3*mt,Mt=0;Mt<mt;++Mt){var rr=xe[We+0]|xe[We+1]<<8|xe[We+2]<<16;rr>Je&&(rr=Je),xr(_.Jc[+Mt],xe,rt,rr),rt+=rr,Je-=rr,We+=3}xr(_.Jc[+mt],xe,rt,Je),xe=rt<ke?0:5}if(xe!=0)return wa(_,xe,"cannot parse partitions");for(xe=jr(rt=_.m,7),We=wr(rt)?Jt(rt,4):0,ke=wr(rt)?Jt(rt,4):0,Je=wr(rt)?Jt(rt,4):0,mt=wr(rt)?Jt(rt,4):0,rt=wr(rt)?Jt(rt,4):0,Mt=_.Qa,rr=0;4>rr;++rr){if(Mt.Cb){var ft=Mt.Zb[rr];Mt.Fb||(ft+=xe)}else{if(0<rr){_.pb[rr]=_.pb[0];continue}ft=xe}var Lt=_.pb[rr];Lt.Sc[0]=yh[ac(ft+We,127)],Lt.Sc[1]=Xh[ac(ft+0,127)],Lt.Eb[0]=2*yh[ac(ft+ke,127)],Lt.Eb[1]=101581*Xh[ac(ft+Je,127)]>>16,8>Lt.Eb[1]&&(Lt.Eb[1]=8),Lt.Qc[0]=yh[ac(ft+mt,117)],Lt.Qc[1]=Xh[ac(ft+rt,127)],Lt.lc=ft+rt}if(!Xe.Rb)return wa(_,4,"Not a key frame.");for(wr(Ge),Xe=_.Pa,xe=0;4>xe;++xe){for(We=0;8>We;++We)for(ke=0;3>ke;++ke)for(Je=0;11>Je;++Je)mt=Pr(Ge,Yh[xe][We][ke][Je])?jr(Ge,8):Wm[xe][We][ke][Je],Xe.Wc[xe][We].Yb[ke][Je]=mt;for(We=0;17>We;++We)Xe.Xc[xe][We]=Xe.Wc[xe][Zh[We]]}return _.kc=wr(Ge),_.kc&&(_.Bd=jr(Ge,8)),_.cb=1}function bi(_,G,xe,ke,We,Ge,Xe){var Je=G[We].Yb[xe];for(xe=0;16>We;++We){if(!Pr(_,Je[xe+0]))return We;for(;!Pr(_,Je[xe+1]);)if(Je=G[++We].Yb[0],xe=0,We==16)return 16;var rt=G[We+1].Yb;if(Pr(_,Je[xe+2])){var mt=_,Mt=0;if(Pr(mt,(ft=Je)[(rr=xe)+3]))if(Pr(mt,ft[rr+6])){for(Je=0,rr=2*(Mt=Pr(mt,ft[rr+8]))+(ft=Pr(mt,ft[rr+9+Mt])),Mt=0,ft=OA[rr];ft[Je];++Je)Mt+=Mt+Pr(mt,ft[Je]);Mt+=3+(8<<rr)}else Pr(mt,ft[rr+7])?(Mt=7+2*Pr(mt,165),Mt+=Pr(mt,145)):Mt=5+Pr(mt,159);else Mt=Pr(mt,ft[rr+4])?3+Pr(mt,ft[rr+5]):2;Je=rt[2]}else Mt=1,Je=rt[1];rt=Xe+Qm[We],0>(mt=_).b&&yr(mt);var rr,ft=mt.b,Lt=(rr=mt.Ca>>1)-(mt.I>>ft)>>31;--mt.b,mt.Ca+=Lt,mt.Ca|=1,mt.I-=(rr+1&Lt)<<ft,Ge[rt]=((Mt^Lt)-Lt)*ke[(0<We)+0]}return 16}function gd(_){var G=_.rb[_.sb-1];G.la=0,G.Na=0,X(_.zc,0,0,_.zc.length),_.ja=0}function gl(_,G,xe,ke,We){We=_[G+xe+32*ke]+(We>>3),_[G+xe+32*ke]=-256&We?0>We?0:255:We}function Os(_,G,xe,ke,We,Ge){gl(_,G,0,xe,ke+We),gl(_,G,1,xe,ke+Ge),gl(_,G,2,xe,ke-Ge),gl(_,G,3,xe,ke-We)}function _c(_){return(20091*_>>16)+_}function lu(_,G,xe,ke){var We,Ge=0,Xe=ae(16);for(We=0;4>We;++We){var Je=_[G+0]+_[G+8],rt=_[G+0]-_[G+8],mt=(35468*_[G+4]>>16)-_c(_[G+12]),Mt=_c(_[G+4])+(35468*_[G+12]>>16);Xe[Ge+0]=Je+Mt,Xe[Ge+1]=rt+mt,Xe[Ge+2]=rt-mt,Xe[Ge+3]=Je-Mt,Ge+=4,G++}for(We=Ge=0;4>We;++We)Je=(_=Xe[Ge+0]+4)+Xe[Ge+8],rt=_-Xe[Ge+8],mt=(35468*Xe[Ge+4]>>16)-_c(Xe[Ge+12]),gl(xe,ke,0,0,Je+(Mt=_c(Xe[Ge+4])+(35468*Xe[Ge+12]>>16))),gl(xe,ke,1,0,rt+mt),gl(xe,ke,2,0,rt-mt),gl(xe,ke,3,0,Je-Mt),Ge++,ke+=32}function Pl(_,G,xe,ke){var We=_[G+0]+4,Ge=35468*_[G+4]>>16,Xe=_c(_[G+4]),Je=35468*_[G+1]>>16;Os(xe,ke,0,We+Xe,_=_c(_[G+1]),Je),Os(xe,ke,1,We+Ge,_,Je),Os(xe,ke,2,We-Ge,_,Je),Os(xe,ke,3,We-Xe,_,Je)}function Ku(_,G,xe,ke,We){lu(_,G,xe,ke),We&&lu(_,G+16,xe,ke+4)}function qo(_,G,xe,ke){yl(_,G+0,xe,ke,1),yl(_,G+32,xe,ke+128,1)}function vd(_,G,xe,ke){var We;for(_=_[G+0]+4,We=0;4>We;++We)for(G=0;4>G;++G)gl(xe,ke,G,We,_)}function Eu(_,G,xe,ke){_[G+0]&&hi(_,G+0,xe,ke),_[G+16]&&hi(_,G+16,xe,ke+4),_[G+32]&&hi(_,G+32,xe,ke+128),_[G+48]&&hi(_,G+48,xe,ke+128+4)}function xd(_,G,xe,ke){var We,Ge=ae(16);for(We=0;4>We;++We){var Xe=_[G+0+We]+_[G+12+We],Je=_[G+4+We]+_[G+8+We],rt=_[G+4+We]-_[G+8+We],mt=_[G+0+We]-_[G+12+We];Ge[0+We]=Xe+Je,Ge[8+We]=Xe-Je,Ge[4+We]=mt+rt,Ge[12+We]=mt-rt}for(We=0;4>We;++We)Xe=(_=Ge[0+4*We]+3)+Ge[3+4*We],Je=Ge[1+4*We]+Ge[2+4*We],rt=Ge[1+4*We]-Ge[2+4*We],mt=_-Ge[3+4*We],xe[ke+0]=Xe+Je>>3,xe[ke+16]=mt+rt>>3,xe[ke+32]=Xe-Je>>3,xe[ke+48]=mt-rt>>3,ke+=64}function cu(_,G,xe){var ke,We=G-32,Ge=cl,Xe=255-_[We-1];for(ke=0;ke<xe;++ke){var Je,rt=Ge,mt=Xe+_[G-1];for(Je=0;Je<xe;++Je)_[G+Je]=rt[mt+_[We+Je]];G+=32}}function Bu(_,G){cu(_,G,4)}function Iu(_,G){cu(_,G,8)}function Tu(_,G){cu(_,G,16)}function _u(_,G){var xe;for(xe=0;16>xe;++xe)z(_,G+32*xe,_,G-32,16)}function yd(_,G){var xe;for(xe=16;0<xe;--xe)X(_,G,_[G-1],16),G+=32}function Fl(_,G,xe){var ke;for(ke=0;16>ke;++ke)X(G,xe+32*ke,_,16)}function Hh(_,G){var xe,ke=16;for(xe=0;16>xe;++xe)ke+=_[G-1+32*xe]+_[G+xe-32];Fl(ke>>5,_,G)}function Ou(_,G){var xe,ke=8;for(xe=0;16>xe;++xe)ke+=_[G-1+32*xe];Fl(ke>>4,_,G)}function Kd(_,G){var xe,ke=8;for(xe=0;16>xe;++xe)ke+=_[G+xe-32];Fl(ke>>4,_,G)}function Qh(_,G){Fl(128,_,G)}function Sa(_,G,xe){return _+2*G+xe+2>>2}function Vc(_,G){var xe,ke=G-32;for(ke=new Uint8Array([Sa(_[ke-1],_[ke+0],_[ke+1]),Sa(_[ke+0],_[ke+1],_[ke+2]),Sa(_[ke+1],_[ke+2],_[ke+3]),Sa(_[ke+2],_[ke+3],_[ke+4])]),xe=0;4>xe;++xe)z(_,G+32*xe,ke,0,ke.length)}function mh(_,G){var xe=_[G-1],ke=_[G-1+32],We=_[G-1+64],Ge=_[G-1+96];Jr(_,G+0,16843009*Sa(_[G-1-32],xe,ke)),Jr(_,G+32,16843009*Sa(xe,ke,We)),Jr(_,G+64,16843009*Sa(ke,We,Ge)),Jr(_,G+96,16843009*Sa(We,Ge,Ge))}function Oc(_,G){var xe,ke=4;for(xe=0;4>xe;++xe)ke+=_[G+xe-32]+_[G-1+32*xe];for(ke>>=3,xe=0;4>xe;++xe)X(_,G+32*xe,ke,4)}function Co(_,G){var xe=_[G-1+0],ke=_[G-1+32],We=_[G-1+64],Ge=_[G-1-32],Xe=_[G+0-32],Je=_[G+1-32],rt=_[G+2-32],mt=_[G+3-32];_[G+0+96]=Sa(ke,We,_[G-1+96]),_[G+1+96]=_[G+0+64]=Sa(xe,ke,We),_[G+2+96]=_[G+1+64]=_[G+0+32]=Sa(Ge,xe,ke),_[G+3+96]=_[G+2+64]=_[G+1+32]=_[G+0+0]=Sa(Xe,Ge,xe),_[G+3+64]=_[G+2+32]=_[G+1+0]=Sa(Je,Xe,Ge),_[G+3+32]=_[G+2+0]=Sa(rt,Je,Xe),_[G+3+0]=Sa(mt,rt,Je)}function Dl(_,G){var xe=_[G+1-32],ke=_[G+2-32],We=_[G+3-32],Ge=_[G+4-32],Xe=_[G+5-32],Je=_[G+6-32],rt=_[G+7-32];_[G+0+0]=Sa(_[G+0-32],xe,ke),_[G+1+0]=_[G+0+32]=Sa(xe,ke,We),_[G+2+0]=_[G+1+32]=_[G+0+64]=Sa(ke,We,Ge),_[G+3+0]=_[G+2+32]=_[G+1+64]=_[G+0+96]=Sa(We,Ge,Xe),_[G+3+32]=_[G+2+64]=_[G+1+96]=Sa(Ge,Xe,Je),_[G+3+64]=_[G+2+96]=Sa(Xe,Je,rt),_[G+3+96]=Sa(Je,rt,rt)}function sc(_,G){var xe=_[G-1+0],ke=_[G-1+32],We=_[G-1+64],Ge=_[G-1-32],Xe=_[G+0-32],Je=_[G+1-32],rt=_[G+2-32],mt=_[G+3-32];_[G+0+0]=_[G+1+64]=Ge+Xe+1>>1,_[G+1+0]=_[G+2+64]=Xe+Je+1>>1,_[G+2+0]=_[G+3+64]=Je+rt+1>>1,_[G+3+0]=rt+mt+1>>1,_[G+0+96]=Sa(We,ke,xe),_[G+0+64]=Sa(ke,xe,Ge),_[G+0+32]=_[G+1+96]=Sa(xe,Ge,Xe),_[G+1+32]=_[G+2+96]=Sa(Ge,Xe,Je),_[G+2+32]=_[G+3+96]=Sa(Xe,Je,rt),_[G+3+32]=Sa(Je,rt,mt)}function Gd(_,G){var xe=_[G+0-32],ke=_[G+1-32],We=_[G+2-32],Ge=_[G+3-32],Xe=_[G+4-32],Je=_[G+5-32],rt=_[G+6-32],mt=_[G+7-32];_[G+0+0]=xe+ke+1>>1,_[G+1+0]=_[G+0+64]=ke+We+1>>1,_[G+2+0]=_[G+1+64]=We+Ge+1>>1,_[G+3+0]=_[G+2+64]=Ge+Xe+1>>1,_[G+0+32]=Sa(xe,ke,We),_[G+1+32]=_[G+0+96]=Sa(ke,We,Ge),_[G+2+32]=_[G+1+96]=Sa(We,Ge,Xe),_[G+3+32]=_[G+2+96]=Sa(Ge,Xe,Je),_[G+3+64]=Sa(Xe,Je,rt),_[G+3+96]=Sa(Je,rt,mt)}function vl(_,G){var xe=_[G-1+0],ke=_[G-1+32],We=_[G-1+64],Ge=_[G-1+96];_[G+0+0]=xe+ke+1>>1,_[G+2+0]=_[G+0+32]=ke+We+1>>1,_[G+2+32]=_[G+0+64]=We+Ge+1>>1,_[G+1+0]=Sa(xe,ke,We),_[G+3+0]=_[G+1+32]=Sa(ke,We,Ge),_[G+3+32]=_[G+1+64]=Sa(We,Ge,Ge),_[G+3+64]=_[G+2+64]=_[G+0+96]=_[G+1+96]=_[G+2+96]=_[G+3+96]=Ge}function Gu(_,G){var xe=_[G-1+0],ke=_[G-1+32],We=_[G-1+64],Ge=_[G-1+96],Xe=_[G-1-32],Je=_[G+0-32],rt=_[G+1-32],mt=_[G+2-32];_[G+0+0]=_[G+2+32]=xe+Xe+1>>1,_[G+0+32]=_[G+2+64]=ke+xe+1>>1,_[G+0+64]=_[G+2+96]=We+ke+1>>1,_[G+0+96]=Ge+We+1>>1,_[G+3+0]=Sa(Je,rt,mt),_[G+2+0]=Sa(Xe,Je,rt),_[G+1+0]=_[G+3+32]=Sa(xe,Xe,Je),_[G+1+32]=_[G+3+64]=Sa(ke,xe,Xe),_[G+1+64]=_[G+3+96]=Sa(We,ke,xe),_[G+1+96]=Sa(Ge,We,ke)}function Xo(_,G){var xe;for(xe=0;8>xe;++xe)z(_,G+32*xe,_,G-32,8)}function ku(_,G){var xe;for(xe=0;8>xe;++xe)X(_,G,_[G-1],8),G+=32}function xl(_,G,xe){var ke;for(ke=0;8>ke;++ke)X(G,xe+32*ke,_,8)}function bd(_,G){var xe,ke=8;for(xe=0;8>xe;++xe)ke+=_[G+xe-32]+_[G-1+32*xe];xl(ke>>4,_,G)}function kc(_,G){var xe,ke=4;for(xe=0;8>xe;++xe)ke+=_[G+xe-32];xl(ke>>3,_,G)}function oc(_,G){var xe,ke=4;for(xe=0;8>xe;++xe)ke+=_[G-1+32*xe];xl(ke>>3,_,G)}function Ml(_,G){xl(128,_,G)}function di(_,G,xe){var ke=_[G-xe],We=_[G+0],Ge=3*(We-ke)+Xc[1020+_[G-2*xe]-_[G+xe]],Xe=Ll[112+(Ge+4>>3)];_[G-xe]=cl[255+ke+Ll[112+(Ge+3>>3)]],_[G+0]=cl[255+We-Xe]}function Oi(_,G,xe,ke){var We=_[G+0],Ge=_[G+xe];return hc[255+_[G-2*xe]-_[G-xe]]>ke||hc[255+Ge-We]>ke}function Rl(_,G,xe,ke){return 4*hc[255+_[G-xe]-_[G+0]]+hc[255+_[G-2*xe]-_[G+xe]]<=ke}function Ns(_,G,xe,ke,We){var Ge=_[G-3*xe],Xe=_[G-2*xe],Je=_[G-xe],rt=_[G+0],mt=_[G+xe],Mt=_[G+2*xe],rr=_[G+3*xe];return 4*hc[255+Je-rt]+hc[255+Xe-mt]>ke?0:hc[255+_[G-4*xe]-Ge]<=We&&hc[255+Ge-Xe]<=We&&hc[255+Xe-Je]<=We&&hc[255+rr-Mt]<=We&&hc[255+Mt-mt]<=We&&hc[255+mt-rt]<=We}function Ls(_,G,xe,ke){var We=2*ke+1;for(ke=0;16>ke;++ke)Rl(_,G+ke,xe,We)&&di(_,G+ke,xe)}function Pc(_,G,xe,ke){var We=2*ke+1;for(ke=0;16>ke;++ke)Rl(_,G+ke*xe,1,We)&&di(_,G+ke*xe,1)}function uu(_,G,xe,ke){var We;for(We=3;0<We;--We)Ls(_,G+=4*xe,xe,ke)}function Ro(_,G,xe,ke){var We;for(We=3;0<We;--We)Pc(_,G+=4,xe,ke)}function lc(_,G,xe,ke,We,Ge,Xe,Je){for(Ge=2*Ge+1;0<We--;){if(Ns(_,G,xe,Ge,Xe))if(Oi(_,G,xe,Je))di(_,G,xe);else{var rt=_,mt=G,Mt=xe,rr=rt[mt-2*Mt],ft=rt[mt-Mt],Lt=rt[mt+0],Zt=rt[mt+Mt],Sr=rt[mt+2*Mt],ar=27*(_r=Xc[1020+3*(Lt-ft)+Xc[1020+rr-Zt]])+63>>7,Br=18*_r+63>>7,_r=9*_r+63>>7;rt[mt-3*Mt]=cl[255+rt[mt-3*Mt]+_r],rt[mt-2*Mt]=cl[255+rr+Br],rt[mt-Mt]=cl[255+ft+ar],rt[mt+0]=cl[255+Lt-ar],rt[mt+Mt]=cl[255+Zt-Br],rt[mt+2*Mt]=cl[255+Sr-_r]}G+=ke}}function zc(_,G,xe,ke,We,Ge,Xe,Je){for(Ge=2*Ge+1;0<We--;){if(Ns(_,G,xe,Ge,Xe))if(Oi(_,G,xe,Je))di(_,G,xe);else{var rt=_,mt=G,Mt=xe,rr=rt[mt-Mt],ft=rt[mt+0],Lt=rt[mt+Mt],Zt=Ll[112+(4+(Sr=3*(ft-rr))>>3)],Sr=Ll[112+(Sr+3>>3)],ar=Zt+1>>1;rt[mt-2*Mt]=cl[255+rt[mt-2*Mt]+ar],rt[mt-Mt]=cl[255+rr+Sr],rt[mt+0]=cl[255+ft-Zt],rt[mt+Mt]=cl[255+Lt-ar]}G+=ke}}function qd(_,G,xe,ke,We,Ge){lc(_,G,xe,1,16,ke,We,Ge)}function Kc(_,G,xe,ke,We,Ge){lc(_,G,1,xe,16,ke,We,Ge)}function Xd(_,G,xe,ke,We,Ge){var Xe;for(Xe=3;0<Xe;--Xe)zc(_,G+=4*xe,xe,1,16,ke,We,Ge)}function Ae(_,G,xe,ke,We,Ge){var Xe;for(Xe=3;0<Xe;--Xe)zc(_,G+=4,1,xe,16,ke,We,Ge)}function Qe(_,G,xe,ke,We,Ge,Xe,Je){lc(_,G,We,1,8,Ge,Xe,Je),lc(xe,ke,We,1,8,Ge,Xe,Je)}function vt(_,G,xe,ke,We,Ge,Xe,Je){lc(_,G,1,We,8,Ge,Xe,Je),lc(xe,ke,1,We,8,Ge,Xe,Je)}function kt(_,G,xe,ke,We,Ge,Xe,Je){zc(_,G+4*We,We,1,8,Ge,Xe,Je),zc(xe,ke+4*We,We,1,8,Ge,Xe,Je)}function Xt(_,G,xe,ke,We,Ge,Xe,Je){zc(_,G+4,1,We,8,Ge,Xe,Je),zc(xe,ke+4,1,We,8,Ge,Xe,Je)}function Cr(){this.ba=new Na,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ei,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Fr(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function In(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Un(){this.ua=0,this.Wa=new xa,this.vb=new xa,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new dr,this.yc=new Tt}function ma(){this.xb=this.a=0,this.l=new zu,this.ca=new Na,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new bt,this.Pb=0,this.wd=new bt,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Un,this.ab=0,this.gc=Se(4,In),this.Oc=0}function na(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new zu,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Pa(_,G,xe,ke,We,Ge,Xe){for(_=_==null?0:_[G+0],G=0;G<Xe;++G)We[Ge+G]=_+xe[ke+G]&255,_=We[Ge+G]}function Ri(_,G,xe,ke,We,Ge,Xe){var Je;if(_==null)Pa(null,null,xe,ke,We,Ge,Xe);else for(Je=0;Je<Xe;++Je)We[Ge+Je]=_[G+Je]+xe[ke+Je]&255}function Ui(_,G,xe,ke,We,Ge,Xe){if(_==null)Pa(null,null,xe,ke,We,Ge,Xe);else{var Je,rt=_[G+0],mt=rt,Mt=rt;for(Je=0;Je<Xe;++Je)mt=Mt+(rt=_[G+Je])-mt,Mt=xe[ke+Je]+(-256&mt?0>mt?0:255:mt)&255,mt=rt,We[Ge+Je]=Mt}}function Ai(_,G,xe,ke){var We=G.width,Ge=G.o;if(E(_!=null&&G!=null),0>xe||0>=ke||xe+ke>Ge)return null;if(!_.Cc){if(_.ga==null){var Xe;if(_.ga=new na,(Xe=_.ga==null)||(Xe=G.width*G.o,E(_.Gb.length==0),_.Gb=ae(Xe),_.Uc=0,_.Gb==null?Xe=0:(_.mb=_.Gb,_.nb=_.Uc,_.rc=null,Xe=1),Xe=!Xe),!Xe){Xe=_.ga;var Je=_.Fa,rt=_.P,mt=_.qc,Mt=_.mb,rr=_.nb,ft=rt+1,Lt=mt-1,Zt=Xe.l;if(E(Je!=null&&Mt!=null&&G!=null),Ho[0]=null,Ho[1]=Pa,Ho[2]=Ri,Ho[3]=Ui,Xe.ca=Mt,Xe.tb=rr,Xe.c=G.width,Xe.i=G.height,E(0<Xe.c&&0<Xe.i),1>=mt)G=0;else if(Xe.$a=3&Je[rt+0],Xe.Z=Je[rt+0]>>2&3,Xe.Lc=Je[rt+0]>>4&3,rt=Je[rt+0]>>6&3,0>Xe.$a||1<Xe.$a||4<=Xe.Z||1<Xe.Lc||rt)G=0;else if(Zt.put=pa,Zt.ac=Bc,Zt.bc=Cs,Zt.ma=Xe,Zt.width=G.width,Zt.height=G.height,Zt.Da=G.Da,Zt.v=G.v,Zt.va=G.va,Zt.j=G.j,Zt.o=G.o,Xe.$a)e:{E(Xe.$a==1),G=_l();t:for(;;){if(G==null){G=0;break e}if(E(Xe!=null),Xe.mc=G,G.c=Xe.c,G.i=Xe.i,G.l=Xe.l,G.l.ma=Xe,G.l.width=Xe.c,G.l.height=Xe.i,G.a=0,br(G.m,Je,ft,Lt),!Ko(Xe.c,Xe.i,1,G,null)||(G.ab==1&&G.gc[0].hc==3&&al(G.s)?(Xe.ic=1,Je=G.c*G.i,G.Ta=null,G.Ua=0,G.V=ae(Je),G.Ba=0,G.V==null?(G.a=1,G=0):G=1):(Xe.ic=0,G=Mo(G,Xe.c)),!G))break t;G=1;break e}Xe.mc=null,G=0}else G=Lt>=Xe.c*Xe.i;Xe=!G}if(Xe)return null;_.ga.Lc!=1?_.Ga=0:ke=Ge-xe}E(_.ga!=null),E(xe+ke<=Ge);e:{if(G=(Je=_.ga).c,Ge=Je.l.o,Je.$a==0){if(ft=_.rc,Lt=_.Vc,Zt=_.Fa,rt=_.P+1+xe*G,mt=_.mb,Mt=_.nb+xe*G,E(rt<=_.P+_.qc),Je.Z!=0)for(E(Ho[Je.Z]!=null),Xe=0;Xe<ke;++Xe)Ho[Je.Z](ft,Lt,Zt,rt,mt,Mt,G),ft=mt,Lt=Mt,Mt+=G,rt+=G;else for(Xe=0;Xe<ke;++Xe)z(mt,Mt,Zt,rt,G),ft=mt,Lt=Mt,Mt+=G,rt+=G;_.rc=ft,_.Vc=Lt}else{if(E(Je.mc!=null),G=xe+ke,E((Xe=Je.mc)!=null),E(G<=Xe.i),Xe.C>=G)G=1;else if(Je.ic||Ye(),Je.ic){Je=Xe.V,ft=Xe.Ba,Lt=Xe.c;var Sr=Xe.i,ar=(Zt=1,rt=Xe.$/Lt,mt=Xe.$%Lt,Mt=Xe.m,rr=Xe.s,Xe.$),Br=Lt*Sr,_r=Lt*G,Ur=rr.wc,Or=ar<_r?uo(rr,mt,rt):null;E(ar<=Br),E(G<=Sr),E(al(rr));t:for(;;){for(;!Mt.h&&ar<_r;){if(mt&Ur||(Or=uo(rr,mt,rt)),E(Or!=null),nr(Mt),256>(Sr=Mi(Or.G[0],Or.H[0],Mt)))Je[ft+ar]=Sr,++ar,++mt>=Lt&&(mt=0,++rt<=G&&!(rt%16)&&rc(Xe,rt));else{if(!(280>Sr)){Zt=0;break t}Sr=Tl(Sr-256,Mt);var ea,Pn=Mi(Or.G[4],Or.H[4],Mt);if(nr(Mt),!(ar>=(Pn=Rs(Lt,Pn=Tl(Pn,Mt)))&&Br-ar>=Sr)){Zt=0;break t}for(ea=0;ea<Sr;++ea)Je[ft+ar+ea]=Je[ft+ar+ea-Pn];for(ar+=Sr,mt+=Sr;mt>=Lt;)mt-=Lt,++rt<=G&&!(rt%16)&&rc(Xe,rt);ar<_r&&mt&Ur&&(Or=uo(rr,mt,rt))}E(Mt.h==Vt(Mt))}rc(Xe,rt>G?G:rt);break t}!Zt||Mt.h&&ar<Br?(Zt=0,Xe.a=Mt.h?5:3):Xe.$=ar,G=Zt}else G=eo(Xe,Xe.V,Xe.Ba,Xe.c,Xe.i,G,nc);if(!G){ke=0;break e}}xe+ke>=Ge&&(_.Cc=1),ke=1}if(!ke)return null;if(_.Cc&&((ke=_.ga)!=null&&(ke.mc=null),_.ga=null,0<_.Ga))return alert("todo:WebPDequantizeLevels"),null}return _.nb+xe*We}function hs(_,G,xe,ke,We,Ge){for(;0<We--;){var Xe,Je=_,rt=G+(xe?1:0),mt=_,Mt=G+(xe?0:3);for(Xe=0;Xe<ke;++Xe){var rr=mt[Mt+4*Xe];rr!=255&&(rr*=32897,Je[rt+4*Xe+0]=Je[rt+4*Xe+0]*rr>>23,Je[rt+4*Xe+1]=Je[rt+4*Xe+1]*rr>>23,Je[rt+4*Xe+2]=Je[rt+4*Xe+2]*rr>>23)}G+=Ge}}function T(_,G,xe,ke,We){for(;0<ke--;){var Ge;for(Ge=0;Ge<xe;++Ge){var Xe=_[G+2*Ge+0],Je=15&(mt=_[G+2*Ge+1]),rt=4369*Je,mt=(240&mt|mt>>4)*rt>>16;_[G+2*Ge+0]=(240&Xe|Xe>>4)*rt>>16&240|(15&Xe|Xe<<4)*rt>>16>>4&15,_[G+2*Ge+1]=240&mt|Je}G+=We}}function Le(_,G,xe,ke,We,Ge,Xe,Je){var rt,mt,Mt=255;for(mt=0;mt<We;++mt){for(rt=0;rt<ke;++rt){var rr=_[G+rt];Ge[Xe+4*rt]=rr,Mt&=rr}G+=xe,Xe+=Je}return Mt!=255}function J(_,G,xe,ke,We){var Ge;for(Ge=0;Ge<We;++Ge)xe[ke+Ge]=_[G+Ge]>>8}function Ye(){to=hs,zh=T,ol=Le,Cd=J}function At(_,G,xe){Ot[_]=function(ke,We,Ge,Xe,Je,rt,mt,Mt,rr,ft,Lt,Zt,Sr,ar,Br,_r,Ur){var Or,ea=Ur-1>>1,Pn=Je[rt+0]|mt[Mt+0]<<16,za=rr[ft+0]|Lt[Zt+0]<<16;E(ke!=null);var yn=3*Pn+za+131074>>2;for(G(ke[We+0],255&yn,yn>>16,Sr,ar),Ge!=null&&(yn=3*za+Pn+131074>>2,G(Ge[Xe+0],255&yn,yn>>16,Br,_r)),Or=1;Or<=ea;++Or){var wi=Je[rt+Or]|mt[Mt+Or]<<16,ln=rr[ft+Or]|Lt[Zt+Or]<<16,La=Pn+wi+za+ln+524296,Qn=La+2*(wi+za)>>3;yn=Qn+Pn>>1,Pn=(La=La+2*(Pn+ln)>>3)+wi>>1,G(ke[We+2*Or-1],255&yn,yn>>16,Sr,ar+(2*Or-1)*xe),G(ke[We+2*Or-0],255&Pn,Pn>>16,Sr,ar+(2*Or-0)*xe),Ge!=null&&(yn=La+za>>1,Pn=Qn+ln>>1,G(Ge[Xe+2*Or-1],255&yn,yn>>16,Br,_r+(2*Or-1)*xe),G(Ge[Xe+2*Or+0],255&Pn,Pn>>16,Br,_r+(2*Or+0)*xe)),Pn=wi,za=ln}1&Ur||(yn=3*Pn+za+131074>>2,G(ke[We+Ur-1],255&yn,yn>>16,Sr,ar+(Ur-1)*xe),Ge!=null&&(yn=3*za+Pn+131074>>2,G(Ge[Xe+Ur-1],255&yn,yn>>16,Br,_r+(Ur-1)*xe)))}}function lt(){Ac[Zd]=eh,Ac[Kh]=kA,Ac[Gh]=jf,Ac[xh]=Cf,Ac[fo]=PA,Ac[Nd]=Sd,Ac[gf]=Ed,Ac[BA]=kA,Ac[qh]=Cf,Ac[Pu]=PA,Ac[IA]=Sd}function er(_){return _&-16384?0>_?0:255:_>>Bp}function zt(_,G){return er((19077*_>>8)+(26149*G>>8)-14234)}function Sn(_,G,xe){return er((19077*_>>8)-(6419*G>>8)-(13320*xe>>8)+8708)}function Dt(_,G){return er((19077*_>>8)+(33050*G>>8)-17685)}function ir(_,G,xe,ke,We){ke[We+0]=zt(_,xe),ke[We+1]=Sn(_,G,xe),ke[We+2]=Dt(_,G)}function ba(_,G,xe,ke,We){ke[We+0]=Dt(_,G),ke[We+1]=Sn(_,G,xe),ke[We+2]=zt(_,xe)}function fn(_,G,xe,ke,We){var Ge=Sn(_,G,xe);G=Ge<<3&224|Dt(_,G)>>3,ke[We+0]=248&zt(_,xe)|Ge>>5,ke[We+1]=G}function Rr(_,G,xe,ke,We){var Ge=240&Dt(_,G)|15;ke[We+0]=240&zt(_,xe)|Sn(_,G,xe)>>4,ke[We+1]=Ge}function Nr(_,G,xe,ke,We){ke[We+0]=255,ir(_,G,xe,ke,We+1)}function Hi(_,G,xe,ke,We){ba(_,G,xe,ke,We),ke[We+3]=255}function ja(_,G,xe,ke,We){ir(_,G,xe,ke,We),ke[We+3]=255}function aa(_,G,xe){Ot[_]=function(ke,We,Ge,Xe,Je,rt,mt,Mt,rr){for(var ft=Mt+(-2&rr)*xe;Mt!=ft;)G(ke[We+0],Ge[Xe+0],Je[rt+0],mt,Mt),G(ke[We+1],Ge[Xe+0],Je[rt+0],mt,Mt+xe),We+=2,++Xe,++rt,Mt+=2*xe;1&rr&&G(ke[We+0],Ge[Xe+0],Je[rt+0],mt,Mt)}}function Ea(_,G,xe){return xe==0?_==0?G==0?6:5:G==0?4:0:xe}function ti(_,G,xe,ke,We){switch(_>>>30){case 3:yl(G,xe,ke,We,0);break;case 2:Uo(G,xe,ke,We);break;case 1:hi(G,xe,ke,We)}}function sn(_,G){var xe,ke,We=G.M,Ge=G.Nb,Xe=_.oc,Je=_.pc+40,rt=_.oc,mt=_.pc+584,Mt=_.oc,rr=_.pc+600;for(xe=0;16>xe;++xe)Xe[Je+32*xe-1]=129;for(xe=0;8>xe;++xe)rt[mt+32*xe-1]=129,Mt[rr+32*xe-1]=129;for(0<We?Xe[Je-1-32]=rt[mt-1-32]=Mt[rr-1-32]=129:(X(Xe,Je-32-1,127,21),X(rt,mt-32-1,127,9),X(Mt,rr-32-1,127,9)),ke=0;ke<_.za;++ke){var ft=G.ya[G.aa+ke];if(0<ke){for(xe=-1;16>xe;++xe)z(Xe,Je+32*xe-4,Xe,Je+32*xe+12,4);for(xe=-1;8>xe;++xe)z(rt,mt+32*xe-4,rt,mt+32*xe+4,4),z(Mt,rr+32*xe-4,Mt,rr+32*xe+4,4)}var Lt=_.Gd,Zt=_.Hd+ke,Sr=ft.ad,ar=ft.Hc;if(0<We&&(z(Xe,Je-32,Lt[Zt].y,0,16),z(rt,mt-32,Lt[Zt].f,0,8),z(Mt,rr-32,Lt[Zt].ea,0,8)),ft.Za){var Br=Xe,_r=Je-32+16;for(0<We&&(ke>=_.za-1?X(Br,_r,Lt[Zt].y[15],4):z(Br,_r,Lt[Zt+1].y,0,4)),xe=0;4>xe;xe++)Br[_r+128+xe]=Br[_r+256+xe]=Br[_r+384+xe]=Br[_r+0+xe];for(xe=0;16>xe;++xe,ar<<=2)Br=Xe,_r=Je+MA[xe],Ul[ft.Ob[xe]](Br,_r),ti(ar,Sr,16*+xe,Br,_r)}else if(Br=Ea(ke,We,ft.Ob[0]),Yu[Br](Xe,Je),ar!=0)for(xe=0;16>xe;++xe,ar<<=2)ti(ar,Sr,16*+xe,Xe,Je+MA[xe]);for(xe=ft.Gc,Br=Ea(ke,We,ft.Dd),fu[Br](rt,mt),fu[Br](Mt,rr),ar=Sr,Br=rt,_r=mt,255&(ft=0|xe)&&(170&ft?dc(ar,256,Br,_r):Qi(ar,256,Br,_r)),ft=Mt,ar=rr,255&(xe>>=8)&&(170&xe?dc(Sr,320,ft,ar):Qi(Sr,320,ft,ar)),We<_.Ub-1&&(z(Lt[Zt].y,0,Xe,Je+480,16),z(Lt[Zt].f,0,rt,mt+224,8),z(Lt[Zt].ea,0,Mt,rr+224,8)),xe=8*Ge*_.B,Lt=_.sa,Zt=_.ta+16*ke+16*Ge*_.R,Sr=_.qa,ft=_.ra+8*ke+xe,ar=_.Ha,Br=_.Ia+8*ke+xe,xe=0;16>xe;++xe)z(Lt,Zt+xe*_.R,Xe,Je+32*xe,16);for(xe=0;8>xe;++xe)z(Sr,ft+xe*_.B,rt,mt+32*xe,8),z(ar,Br+xe*_.B,Mt,rr+32*xe,8)}}function Ta(_,G,xe,ke,We,Ge,Xe,Je,rt){var mt=[0],Mt=[0],rr=0,ft=rt!=null?rt.kd:0,Lt=rt??new Fr;if(_==null||12>xe)return 7;Lt.data=_,Lt.w=G,Lt.ha=xe,G=[G],xe=[xe],Lt.gb=[Lt.gb];e:{var Zt=G,Sr=xe,ar=Lt.gb;if(E(_!=null),E(Sr!=null),E(ar!=null),ar[0]=0,12<=Sr[0]&&!D(_,Zt[0],"RIFF")){if(D(_,Zt[0]+8,"WEBP")){ar=3;break e}var Br=ua(_,Zt[0]+4);if(12>Br||4294967286<Br){ar=3;break e}if(ft&&Br>Sr[0]-8){ar=7;break e}ar[0]=Br,Zt[0]+=12,Sr[0]-=12}ar=0}if(ar!=0)return ar;for(Br=0<Lt.gb[0],xe=xe[0];;){e:{var _r=_;Sr=G,ar=xe;var Ur=mt,Or=Mt,ea=Zt=[0];if((yn=rr=[rr])[0]=0,8>ar[0])ar=7;else{if(!D(_r,Sr[0],"VP8X")){if(ua(_r,Sr[0]+4)!=10){ar=3;break e}if(18>ar[0]){ar=7;break e}var Pn=ua(_r,Sr[0]+8),za=1+En(_r,Sr[0]+12);if(2147483648<=za*(_r=1+En(_r,Sr[0]+15))){ar=3;break e}ea!=null&&(ea[0]=Pn),Ur!=null&&(Ur[0]=za),Or!=null&&(Or[0]=_r),Sr[0]+=18,ar[0]-=18,yn[0]=1}ar=0}}if(rr=rr[0],Zt=Zt[0],ar!=0)return ar;if(Sr=!!(2&Zt),!Br&&rr)return 3;if(Ge!=null&&(Ge[0]=!!(16&Zt)),Xe!=null&&(Xe[0]=Sr),Je!=null&&(Je[0]=0),Xe=mt[0],Zt=Mt[0],rr&&Sr&&rt==null){ar=0;break}if(4>xe){ar=7;break}if(Br&&rr||!Br&&!rr&&!D(_,G[0],"ALPH")){xe=[xe],Lt.na=[Lt.na],Lt.P=[Lt.P],Lt.Sa=[Lt.Sa];e:{Pn=_,ar=G,Br=xe;var yn=Lt.gb;Ur=Lt.na,Or=Lt.P,ea=Lt.Sa,za=22,E(Pn!=null),E(Br!=null),_r=ar[0];var wi=Br[0];for(E(Ur!=null),E(ea!=null),Ur[0]=null,Or[0]=null,ea[0]=0;;){if(ar[0]=_r,Br[0]=wi,8>wi){ar=7;break e}var ln=ua(Pn,_r+4);if(4294967286<ln){ar=3;break e}var La=8+ln+1&-2;if(za+=La,0<yn&&za>yn){ar=3;break e}if(!D(Pn,_r,"VP8 ")||!D(Pn,_r,"VP8L")){ar=0;break e}if(wi[0]<La){ar=7;break e}D(Pn,_r,"ALPH")||(Ur[0]=Pn,Or[0]=_r+8,ea[0]=ln),_r+=La,wi-=La}}if(xe=xe[0],Lt.na=Lt.na[0],Lt.P=Lt.P[0],Lt.Sa=Lt.Sa[0],ar!=0)break}xe=[xe],Lt.Ja=[Lt.Ja],Lt.xa=[Lt.xa];e:if(yn=_,ar=G,Br=xe,Ur=Lt.gb[0],Or=Lt.Ja,ea=Lt.xa,Pn=ar[0],_r=!D(yn,Pn,"VP8 "),za=!D(yn,Pn,"VP8L"),E(yn!=null),E(Br!=null),E(Or!=null),E(ea!=null),8>Br[0])ar=7;else{if(_r||za){if(yn=ua(yn,Pn+4),12<=Ur&&yn>Ur-12){ar=3;break e}if(ft&&yn>Br[0]-8){ar=7;break e}Or[0]=yn,ar[0]+=8,Br[0]-=8,ea[0]=za}else ea[0]=5<=Br[0]&&yn[Pn+0]==47&&!(yn[Pn+4]>>5),Or[0]=Br[0];ar=0}if(xe=xe[0],Lt.Ja=Lt.Ja[0],Lt.xa=Lt.xa[0],G=G[0],ar!=0)break;if(4294967286<Lt.Ja)return 3;if(Je==null||Sr||(Je[0]=Lt.xa?2:1),Xe=[Xe],Zt=[Zt],Lt.xa){if(5>xe){ar=7;break}Je=Xe,ft=Zt,Sr=Ge,_==null||5>xe?_=0:5<=xe&&_[G+0]==47&&!(_[G+4]>>5)?(Br=[0],yn=[0],Ur=[0],br(Or=new bt,_,G,xe),jo(Or,Br,yn,Ur)?(Je!=null&&(Je[0]=Br[0]),ft!=null&&(ft[0]=yn[0]),Sr!=null&&(Sr[0]=Ur[0]),_=1):_=0):_=0}else{if(10>xe){ar=7;break}Je=Zt,_==null||10>xe||!md(_,G+3,xe-3)?_=0:(ft=_[G+0]|_[G+1]<<8|_[G+2]<<16,Sr=16383&(_[G+7]<<8|_[G+6]),_=16383&(_[G+9]<<8|_[G+8]),1&ft||3<(ft>>1&7)||!(ft>>4&1)||ft>>5>=Lt.Ja||!Sr||!_?_=0:(Xe&&(Xe[0]=Sr),Je&&(Je[0]=_),_=1))}if(!_||(Xe=Xe[0],Zt=Zt[0],rr&&(mt[0]!=Xe||Mt[0]!=Zt)))return 3;rt!=null&&(rt[0]=Lt,rt.offset=G-rt.w,E(4294967286>G-rt.w),E(rt.offset==rt.ha-xe));break}return ar==0||ar==7&&rr&&rt==null?(Ge!=null&&(Ge[0]|=Lt.na!=null&&0<Lt.na.length),ke!=null&&(ke[0]=Xe),We!=null&&(We[0]=Zt),0):ar}function ns(_,G,xe){var ke=G.width,We=G.height,Ge=0,Xe=0,Je=ke,rt=We;if(G.Da=_!=null&&0<_.Da,G.Da&&(Je=_.cd,rt=_.bd,Ge=_.v,Xe=_.j,11>xe||(Ge&=-2,Xe&=-2),0>Ge||0>Xe||0>=Je||0>=rt||Ge+Je>ke||Xe+rt>We))return 0;if(G.v=Ge,G.j=Xe,G.va=Ge+Je,G.o=Xe+rt,G.U=Je,G.T=rt,G.da=_!=null&&0<_.da,G.da){if(!hn(Je,rt,xe=[_.ib],Ge=[_.hb]))return 0;G.ib=xe[0],G.hb=Ge[0]}return G.ob=_!=null&&_.ob,G.Kb=_==null||!_.Sd,G.da&&(G.ob=G.ib<3*ke/4&&G.hb<3*We/4,G.Kb=0),1}function Jn(_){if(_==null)return 2;if(11>_.S){var G=_.f.RGBA;G.fb+=(_.height-1)*G.A,G.A=-G.A}else G=_.f.kb,_=_.height,G.O+=(_-1)*G.fa,G.fa=-G.fa,G.N+=(_-1>>1)*G.Ab,G.Ab=-G.Ab,G.W+=(_-1>>1)*G.Db,G.Db=-G.Db,G.F!=null&&(G.J+=(_-1)*G.lb,G.lb=-G.lb);return 0}function li(_,G,xe,ke){if(ke==null||0>=_||0>=G)return 2;if(xe!=null){if(xe.Da){var We=xe.cd,Ge=xe.bd,Xe=-2&xe.v,Je=-2&xe.j;if(0>Xe||0>Je||0>=We||0>=Ge||Xe+We>_||Je+Ge>G)return 2;_=We,G=Ge}if(xe.da){if(!hn(_,G,We=[xe.ib],Ge=[xe.hb]))return 2;_=We[0],G=Ge[0]}}ke.width=_,ke.height=G;e:{var rt=ke.width,mt=ke.height;if(_=ke.S,0>=rt||0>=mt||!(_>=Zd&&13>_))_=2;else{if(0>=ke.Rd&&ke.sd==null){Xe=Ge=We=G=0;var Mt=(Je=rt*RA[_])*mt;if(11>_||(Ge=(mt+1)/2*(G=(rt+1)/2),_==12&&(Xe=(We=rt)*mt)),(mt=ae(Mt+2*Ge+Xe))==null){_=1;break e}ke.sd=mt,11>_?((rt=ke.f.RGBA).eb=mt,rt.fb=0,rt.A=Je,rt.size=Mt):((rt=ke.f.kb).y=mt,rt.O=0,rt.fa=Je,rt.Fd=Mt,rt.f=mt,rt.N=0+Mt,rt.Ab=G,rt.Cd=Ge,rt.ea=mt,rt.W=0+Mt+Ge,rt.Db=G,rt.Ed=Ge,_==12&&(rt.F=mt,rt.J=0+Mt+2*Ge),rt.Tc=Xe,rt.lb=We)}if(G=1,We=ke.S,Ge=ke.width,Xe=ke.height,We>=Zd&&13>We)if(11>We)_=ke.f.RGBA,G&=(Je=Math.abs(_.A))*(Xe-1)+Ge<=_.size,G&=Je>=Ge*RA[We],G&=_.eb!=null;else{_=ke.f.kb,Je=(Ge+1)/2,Mt=(Xe+1)/2,rt=Math.abs(_.fa),mt=Math.abs(_.Ab);var rr=Math.abs(_.Db),ft=Math.abs(_.lb),Lt=ft*(Xe-1)+Ge;G&=rt*(Xe-1)+Ge<=_.Fd,G&=mt*(Mt-1)+Je<=_.Cd,G=(G&=rr*(Mt-1)+Je<=_.Ed)&rt>=Ge&mt>=Je&rr>=Je,G&=_.y!=null,G&=_.f!=null,G&=_.ea!=null,We==12&&(G&=ft>=Ge,G&=Lt<=_.Tc,G&=_.F!=null)}else G=0;_=G?0:2}}return _!=0||xe!=null&&xe.fd&&(_=Jn(ke)),_}var Fa=64,Hn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Aa=24,No=32,cc=8,Lo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Dn("Predictor0","PredictorAdd0"),Ot.Predictor0=function(){return 4278190080},Ot.Predictor1=function(_){return _},Ot.Predictor2=function(_,G,xe){return G[xe+0]},Ot.Predictor3=function(_,G,xe){return G[xe+1]},Ot.Predictor4=function(_,G,xe){return G[xe-1]},Ot.Predictor5=function(_,G,xe){return Mn(Mn(_,G[xe+1]),G[xe+0])},Ot.Predictor6=function(_,G,xe){return Mn(_,G[xe-1])},Ot.Predictor7=function(_,G,xe){return Mn(_,G[xe+0])},Ot.Predictor8=function(_,G,xe){return Mn(G[xe-1],G[xe+0])},Ot.Predictor9=function(_,G,xe){return Mn(G[xe+0],G[xe+1])},Ot.Predictor10=function(_,G,xe){return Mn(Mn(_,G[xe-1]),Mn(G[xe+0],G[xe+1]))},Ot.Predictor11=function(_,G,xe){var ke=G[xe+0];return 0>=Fn(ke>>24&255,_>>24&255,(G=G[xe-1])>>24&255)+Fn(ke>>16&255,_>>16&255,G>>16&255)+Fn(ke>>8&255,_>>8&255,G>>8&255)+Fn(255&ke,255&_,255&G)?ke:_},Ot.Predictor12=function(_,G,xe){var ke=G[xe+0];return(pi((_>>24&255)+(ke>>24&255)-((G=G[xe-1])>>24&255))<<24|pi((_>>16&255)+(ke>>16&255)-(G>>16&255))<<16|pi((_>>8&255)+(ke>>8&255)-(G>>8&255))<<8|pi((255&_)+(255&ke)-(255&G)))>>>0},Ot.Predictor13=function(_,G,xe){var ke=G[xe-1];return(Qa((_=Mn(_,G[xe+0]))>>24&255,ke>>24&255)<<24|Qa(_>>16&255,ke>>16&255)<<16|Qa(_>>8&255,ke>>8&255)<<8|Qa(255&_,255&ke))>>>0};var ho=Ot.PredictorAdd0;Ot.PredictorAdd1=oi,Dn("Predictor2","PredictorAdd2"),Dn("Predictor3","PredictorAdd3"),Dn("Predictor4","PredictorAdd4"),Dn("Predictor5","PredictorAdd5"),Dn("Predictor6","PredictorAdd6"),Dn("Predictor7","PredictorAdd7"),Dn("Predictor8","PredictorAdd8"),Dn("Predictor9","PredictorAdd9"),Dn("Predictor10","PredictorAdd10"),Dn("Predictor11","PredictorAdd11"),Dn("Predictor12","PredictorAdd12"),Dn("Predictor13","PredictorAdd13");var uc=Ot.PredictorAdd2;kn("ColorIndexInverseTransform","MapARGB","32b",function(_){return _>>8&255},function(_){return _}),kn("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(_){return _},function(_){return _>>8&255});var Ks,Wh=Ot.ColorIndexInverseTransform,Yo=Ot.MapARGB,sl=Ot.VP8LColorIndexInverseTransformAlpha,Yd=Ot.MapAlpha,gh=Ot.VP8LPredictorsAdd=[];gh.length=16,(Ot.VP8LPredictors=[]).length=16,(Ot.VP8LPredictorsAdd_C=[]).length=16,(Ot.VP8LPredictors_C=[]).length=16;var Fc,Gc,qc,qu,du,wd,Dc,yl,Uo,dc,hi,Qi,As,Ao,hu,as,Au,jd,$h,vh,Vh,Xu,Ss,So,to,zh,ol,Cd,jp=ae(511),ll=ae(2041),NA=ae(225),SA=ae(767),EA=0,Xc=ll,Ll=NA,cl=SA,hc=jp,Zd=0,Kh=1,Gh=2,xh=3,fo=4,Nd=5,gf=6,BA=7,qh=8,Pu=9,IA=10,TA=[2,3,7],_A=[3,3,11],vf=[280,256,256,256,40],xf=[0,1,1,1,0],Cp=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Np=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Sp=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],yf=8,yh=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Xh=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Jd=null,OA=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Qm=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],bf=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Wm=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],$m=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Yh=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Zh=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Yu=[],Ul=[],fu=[],Ep=1,wf=2,Ho=[],Ac=[];At("UpsampleRgbLinePair",ir,3),At("UpsampleBgrLinePair",ba,3),At("UpsampleRgbaLinePair",ja,4),At("UpsampleBgraLinePair",Hi,4),At("UpsampleArgbLinePair",Nr,4),At("UpsampleRgba4444LinePair",Rr,2),At("UpsampleRgb565LinePair",fn,2);var eh=Ot.UpsampleRgbLinePair,jf=Ot.UpsampleBgrLinePair,kA=Ot.UpsampleRgbaLinePair,Cf=Ot.UpsampleBgraLinePair,PA=Ot.UpsampleArgbLinePair,Sd=Ot.UpsampleRgba4444LinePair,Ed=Ot.UpsampleRgb565LinePair,Bd=16,th=1<<Bd-1,bh=-227,FA=482,Bp=6,Nf=0,Sf=ae(256),Ef=ae(256),Hl=ae(256),bl=ae(256),DA=ae(FA-bh),Bf=ae(FA-bh);aa("YuvToRgbRow",ir,3),aa("YuvToBgrRow",ba,3),aa("YuvToRgbaRow",ja,4),aa("YuvToBgraRow",Hi,4),aa("YuvToArgbRow",Nr,4),aa("YuvToRgba4444Row",Rr,2),aa("YuvToRgb565Row",fn,2);var MA=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Jh=[0,2,8],eA=[8,7,6,4,4,2,2,2,1,1,1,1],wh=1;this.WebPDecodeRGBA=function(_,G,xe,ke,We){var Ge=Kh,Xe=new Cr,Je=new Na;Xe.ba=Je,Je.S=Ge,Je.width=[Je.width],Je.height=[Je.height];var rt=Je.width,mt=Je.height,Mt=new Bn;if(Mt==null||_==null)var rr=2;else E(Mt!=null),rr=Ta(_,G,xe,Mt.width,Mt.height,Mt.Pd,Mt.Qd,Mt.format,null);if(rr!=0?rt=0:(rt!=null&&(rt[0]=Mt.width[0]),mt!=null&&(mt[0]=Mt.height[0]),rt=1),rt){Je.width=Je.width[0],Je.height=Je.height[0],ke!=null&&(ke[0]=Je.width),We!=null&&(We[0]=Je.height);e:{if(ke=new zu,(We=new Fr).data=_,We.w=G,We.ha=xe,We.kd=1,G=[0],E(We!=null),((_=Ta(We.data,We.w,We.ha,null,null,null,G,null,We))==0||_==7)&&G[0]&&(_=4),(G=_)==0){if(E(Xe!=null),ke.data=We.data,ke.w=We.w+We.offset,ke.ha=We.ha-We.offset,ke.put=pa,ke.ac=Bc,ke.bc=Cs,ke.ma=Xe,We.xa){if((_=_l())==null){Xe=1;break e}if((function(ft,Lt){var Zt=[0],Sr=[0],ar=[0];t:for(;;){if(ft==null)return 0;if(Lt==null)return ft.a=2,0;if(ft.l=Lt,ft.a=0,br(ft.m,Lt.data,Lt.w,Lt.ha),!jo(ft.m,Zt,Sr,ar)){ft.a=3;break t}if(ft.xb=wf,Lt.width=Zt[0],Lt.height=Sr[0],!Ko(Zt[0],Sr[0],1,ft,null))break t;return 1}return E(ft.a!=0),0})(_,ke)){if(ke=(G=li(ke.width,ke.height,Xe.Oa,Xe.ba))==0){t:{ke=_;r:for(;;){if(ke==null){ke=0;break t}if(E(ke.s.yc!=null),E(ke.s.Ya!=null),E(0<ke.s.Wb),E((xe=ke.l)!=null),E((We=xe.ma)!=null),ke.xb!=0){if(ke.ca=We.ba,ke.tb=We.tb,E(ke.ca!=null),!ns(We.Oa,xe,xh)){ke.a=2;break r}if(!Mo(ke,xe.width)||xe.da)break r;if((xe.da||ya(ke.ca.S))&&Ye(),11>ke.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),ke.ca.f.kb.F!=null&&Ye()),ke.Pb&&0<ke.s.ua&&ke.s.vb.X==null&&!dt(ke.s.vb,ke.s.Wa.Xa)){ke.a=1;break r}ke.xb=0}if(!eo(ke,ke.V,ke.Ba,ke.c,ke.i,xe.o,Js))break r;We.Dc=ke.Ma,ke=1;break t}E(ke.a!=0),ke=0}ke=!ke}ke&&(G=_.a)}else G=_.a}else{if((_=new Su)==null){Xe=1;break e}if(_.Fa=We.na,_.P=We.P,_.qc=We.Sa,ic(_,ke)){if((G=li(ke.width,ke.height,Xe.Oa,Xe.ba))==0){if(_.Aa=0,xe=Xe.Oa,E((We=_)!=null),xe!=null){if(0<(rt=0>(rt=xe.Md)?0:100<rt?255:255*rt/100)){for(mt=Mt=0;4>mt;++mt)12>(rr=We.pb[mt]).lc&&(rr.ia=rt*eA[0>rr.lc?0:rr.lc]>>3),Mt|=rr.ia;Mt&&(alert("todo:VP8InitRandom"),We.ia=1)}We.Ga=xe.Id,100<We.Ga?We.Ga=100:0>We.Ga&&(We.Ga=0)}(function(ft,Lt){if(ft==null)return 0;if(Lt==null)return wa(ft,2,"NULL VP8Io parameter in VP8Decode().");if(!ft.cb&&!ic(ft,Lt))return 0;if(E(ft.cb),Lt.ac==null||Lt.ac(Lt)){Lt.ob&&(ft.L=0);var Zt=Jh[ft.L];if(ft.L==2?(ft.yb=0,ft.zb=0):(ft.yb=Lt.v-Zt>>4,ft.zb=Lt.j-Zt>>4,0>ft.yb&&(ft.yb=0),0>ft.zb&&(ft.zb=0)),ft.Va=Lt.o+15+Zt>>4,ft.Hb=Lt.va+15+Zt>>4,ft.Hb>ft.za&&(ft.Hb=ft.za),ft.Va>ft.Ub&&(ft.Va=ft.Ub),0<ft.L){var Sr=ft.ed;for(Zt=0;4>Zt;++Zt){var ar;if(ft.Qa.Cb){var Br=ft.Qa.Lb[Zt];ft.Qa.Fb||(Br+=Sr.Tb)}else Br=Sr.Tb;for(ar=0;1>=ar;++ar){var _r=ft.gd[Zt][ar],Ur=Br;if(Sr.Pc&&(Ur+=Sr.vd[0],ar&&(Ur+=Sr.od[0])),0<(Ur=0>Ur?0:63<Ur?63:Ur)){var Or=Ur;0<Sr.wb&&(Or=4<Sr.wb?Or>>2:Or>>1)>9-Sr.wb&&(Or=9-Sr.wb),1>Or&&(Or=1),_r.dd=Or,_r.tc=2*Ur+Or,_r.ld=40<=Ur?2:15<=Ur?1:0}else _r.tc=0;_r.La=ar}}}Zt=0}else wa(ft,6,"Frame setup failed"),Zt=ft.a;if(Zt=Zt==0){if(Zt){ft.$c=0,0<ft.Aa||(ft.Ic=wh);t:{Zt=ft.Ic,Sr=4*(Or=ft.za);var ea=32*Or,Pn=Or+1,za=0<ft.L?Or*(0<ft.Aa?2:1):0,yn=(ft.Aa==2?2:1)*Or;if((_r=Sr+832+(ar=3*(16*Zt+Jh[ft.L])/2*ea)+(Br=ft.Fa!=null&&0<ft.Fa.length?ft.Kc.c*ft.Kc.i:0))!=_r)Zt=0;else{if(_r>ft.Vb){if(ft.Vb=0,ft.Ec=ae(_r),ft.Fc=0,ft.Ec==null){Zt=wa(ft,1,"no memory during frame initialization.");break t}ft.Vb=_r}_r=ft.Ec,Ur=ft.Fc,ft.Ac=_r,ft.Bc=Ur,Ur+=Sr,ft.Gd=Se(ea,$u),ft.Hd=0,ft.rb=Se(Pn+1,ou),ft.sb=1,ft.wa=za?Se(za,Go):null,ft.Y=0,ft.D.Nb=0,ft.D.wa=ft.wa,ft.D.Y=ft.Y,0<ft.Aa&&(ft.D.Y+=Or),E(!0),ft.oc=_r,ft.pc=Ur,Ur+=832,ft.ya=Se(yn,Wu),ft.aa=0,ft.D.ya=ft.ya,ft.D.aa=ft.aa,ft.Aa==2&&(ft.D.aa+=Or),ft.R=16*Or,ft.B=8*Or,Or=(ea=Jh[ft.L])*ft.R,ea=ea/2*ft.B,ft.sa=_r,ft.ta=Ur+Or,ft.qa=ft.sa,ft.ra=ft.ta+16*Zt*ft.R+ea,ft.Ha=ft.qa,ft.Ia=ft.ra+8*Zt*ft.B+ea,ft.$c=0,Ur+=ar,ft.mb=Br?_r:null,ft.nb=Br?Ur:null,E(Ur+Br<=ft.Fc+ft.Vb),gd(ft),X(ft.Ac,ft.Bc,0,Sr),Zt=1}}if(Zt){if(Lt.ka=0,Lt.y=ft.sa,Lt.O=ft.ta,Lt.f=ft.qa,Lt.N=ft.ra,Lt.ea=ft.Ha,Lt.Vd=ft.Ia,Lt.fa=ft.R,Lt.Rc=ft.B,Lt.F=null,Lt.J=0,!EA){for(Zt=-255;255>=Zt;++Zt)jp[255+Zt]=0>Zt?-Zt:Zt;for(Zt=-1020;1020>=Zt;++Zt)ll[1020+Zt]=-128>Zt?-128:127<Zt?127:Zt;for(Zt=-112;112>=Zt;++Zt)NA[112+Zt]=-16>Zt?-16:15<Zt?15:Zt;for(Zt=-255;510>=Zt;++Zt)SA[255+Zt]=0>Zt?0:255<Zt?255:Zt;EA=1}Dc=xd,yl=Ku,dc=qo,hi=vd,Qi=Eu,Uo=Pl,As=qd,Ao=Kc,hu=Qe,as=vt,Au=Xd,jd=Ae,$h=kt,vh=Xt,Vh=Ls,Xu=Pc,Ss=uu,So=Ro,Ul[0]=Oc,Ul[1]=Bu,Ul[2]=Vc,Ul[3]=mh,Ul[4]=Co,Ul[5]=sc,Ul[6]=Dl,Ul[7]=Gd,Ul[8]=Gu,Ul[9]=vl,Yu[0]=Hh,Yu[1]=Tu,Yu[2]=_u,Yu[3]=yd,Yu[4]=Ou,Yu[5]=Kd,Yu[6]=Qh,fu[0]=bd,fu[1]=Iu,fu[2]=Xo,fu[3]=ku,fu[4]=oc,fu[5]=kc,fu[6]=Ml,Zt=1}else Zt=0}Zt&&(Zt=(function(wi,ln){for(wi.M=0;wi.M<wi.Va;++wi.M){var La,Qn=wi.Jc[wi.M&wi.Xb],pn=wi.m,po=wi;for(La=0;La<po.za;++La){var Da=pn,fi=po,fs=fi.Ac,Eo=fi.Bc+4*La,Zo=fi.zc,Us=fi.ya[fi.aa+La];if(fi.Qa.Bb?Us.$b=Pr(Da,fi.Pa.jb[0])?2+Pr(Da,fi.Pa.jb[2]):Pr(Da,fi.Pa.jb[1]):Us.$b=0,fi.kc&&(Us.Ad=Pr(Da,fi.Bd)),Us.Za=!Pr(Da,145)+0,Us.Za){var Jo=Us.Ob,ul=0;for(fi=0;4>fi;++fi){var mi,Ya=Zo[0+fi];for(mi=0;4>mi;++mi){Ya=$m[fs[Eo+mi]][Ya];for(var gi=bf[Pr(Da,Ya[0])];0<gi;)gi=bf[2*gi+Pr(Da,Ya[gi])];Ya=-gi,fs[Eo+mi]=Ya}z(Jo,ul,fs,Eo,4),ul+=4,Zo[0+fi]=Ya}}else Ya=Pr(Da,156)?Pr(Da,128)?1:3:Pr(Da,163)?2:0,Us.Ob[0]=Ya,X(fs,Eo,Ya,4),X(Zo,0,Ya,4);Us.Dd=Pr(Da,142)?Pr(Da,114)?Pr(Da,183)?1:3:2:0}if(po.m.Ka)return wa(wi,7,"Premature end-of-partition0 encountered.");for(;wi.ja<wi.za;++wi.ja){if(po=Qn,Da=(pn=wi).rb[pn.sb-1],fs=pn.rb[pn.sb+pn.ja],La=pn.ya[pn.aa+pn.ja],Eo=pn.kc?La.Ad:0)Da.la=fs.la=0,La.Za||(Da.Na=fs.Na=0),La.Hc=0,La.Gc=0,La.ia=0;else{var Gs,Ki;if(Da=fs,fs=po,Eo=pn.Pa.Xc,Zo=pn.ya[pn.aa+pn.ja],Us=pn.pb[Zo.$b],fi=Zo.ad,Jo=0,ul=pn.rb[pn.sb-1],Ya=mi=0,X(fi,Jo,0,384),Zo.Za)var ps=0,fc=Eo[3];else{gi=ae(16);var Gi=Da.Na+ul.Na;if(Gi=Jd(fs,Eo[1],Gi,Us.Eb,0,gi,0),Da.Na=ul.Na=(0<Gi)+0,1<Gi)Dc(gi,0,fi,Jo);else{var wl=gi[0]+3>>3;for(gi=0;256>gi;gi+=16)fi[Jo+gi]=wl}ps=1,fc=Eo[0]}var is=15&Da.la,rn=15&ul.la;for(gi=0;4>gi;++gi){var Qo=1&rn;for(wl=Ki=0;4>wl;++wl)is=is>>1|(Qo=(Gi=Jd(fs,fc,Gi=Qo+(1&is),Us.Sc,ps,fi,Jo))>ps)<<7,Ki=Ki<<2|(3<Gi?3:1<Gi?2:fi[Jo+0]!=0),Jo+=16;is>>=4,rn=rn>>1|Qo<<7,mi=(mi<<8|Ki)>>>0}for(fc=is,ps=rn>>4,Gs=0;4>Gs;Gs+=2){for(Ki=0,is=Da.la>>4+Gs,rn=ul.la>>4+Gs,gi=0;2>gi;++gi){for(Qo=1&rn,wl=0;2>wl;++wl)Gi=Qo+(1&is),is=is>>1|(Qo=0<(Gi=Jd(fs,Eo[2],Gi,Us.Qc,0,fi,Jo)))<<3,Ki=Ki<<2|(3<Gi?3:1<Gi?2:fi[Jo+0]!=0),Jo+=16;is>>=2,rn=rn>>1|Qo<<5}Ya|=Ki<<4*Gs,fc|=is<<4<<Gs,ps|=(240&rn)<<Gs}Da.la=fc,ul.la=ps,Zo.Hc=mi,Zo.Gc=Ya,Zo.ia=43690&Ya?0:Us.ia,Eo=!(mi|Ya)}if(0<pn.L&&(pn.wa[pn.Y+pn.ja]=pn.gd[La.$b][La.Za],pn.wa[pn.Y+pn.ja].La|=!Eo),po.Ka)return wa(wi,7,"Premature end-of-file encountered.")}if(gd(wi),pn=ln,po=1,La=(Qn=wi).D,Da=0<Qn.L&&Qn.M>=Qn.zb&&Qn.M<=Qn.Va,Qn.Aa==0)t:{if(La.M=Qn.M,La.uc=Da,sn(Qn,La),po=1,La=(Ki=Qn.D).Nb,Da=(Ya=Jh[Qn.L])*Qn.R,fs=Ya/2*Qn.B,gi=16*La*Qn.R,wl=8*La*Qn.B,Eo=Qn.sa,Zo=Qn.ta-Da+gi,Us=Qn.qa,fi=Qn.ra-fs+wl,Jo=Qn.Ha,ul=Qn.Ia-fs+wl,rn=(is=Ki.M)==0,mi=is>=Qn.Va-1,Qn.Aa==2&&sn(Qn,Ki),Ki.uc)for(Qo=(Gi=Qn).D.M,E(Gi.D.uc),Ki=Gi.yb;Ki<Gi.Hb;++Ki){ps=Ki,fc=Qo;var Wo=(Hs=(ro=Gi).D).Nb;Gs=ro.R;var Hs=Hs.wa[Hs.Y+ps],jl=ro.sa,Wa=ro.ta+16*Wo*Gs+16*ps,Ma=Hs.dd,qn=Hs.tc;if(qn!=0)if(E(3<=qn),ro.L==1)0<ps&&Xu(jl,Wa,Gs,qn+4),Hs.La&&So(jl,Wa,Gs,qn),0<fc&&Vh(jl,Wa,Gs,qn+4),Hs.La&&Ss(jl,Wa,Gs,qn);else{var qi=ro.B,ki=ro.qa,qs=ro.ra+8*Wo*qi+8*ps,Qs=ro.Ha,ro=ro.Ia+8*Wo*qi+8*ps;Wo=Hs.ld,0<ps&&(Ao(jl,Wa,Gs,qn+4,Ma,Wo),as(ki,qs,Qs,ro,qi,qn+4,Ma,Wo)),Hs.La&&(jd(jl,Wa,Gs,qn,Ma,Wo),vh(ki,qs,Qs,ro,qi,qn,Ma,Wo)),0<fc&&(As(jl,Wa,Gs,qn+4,Ma,Wo),hu(ki,qs,Qs,ro,qi,qn+4,Ma,Wo)),Hs.La&&(Au(jl,Wa,Gs,qn,Ma,Wo),$h(ki,qs,Qs,ro,qi,qn,Ma,Wo))}}if(Qn.ia&&alert("todo:DitherRow"),pn.put!=null){if(Ki=16*is,is=16*(is+1),rn?(pn.y=Qn.sa,pn.O=Qn.ta+gi,pn.f=Qn.qa,pn.N=Qn.ra+wl,pn.ea=Qn.Ha,pn.W=Qn.Ia+wl):(Ki-=Ya,pn.y=Eo,pn.O=Zo,pn.f=Us,pn.N=fi,pn.ea=Jo,pn.W=ul),mi||(is-=Ya),is>pn.o&&(is=pn.o),pn.F=null,pn.J=null,Qn.Fa!=null&&0<Qn.Fa.length&&Ki<is&&(pn.J=Ai(Qn,pn,Ki,is-Ki),pn.F=Qn.mb,pn.F==null&&pn.F.length==0)){po=wa(Qn,3,"Could not decode alpha data.");break t}Ki<pn.j&&(Ya=pn.j-Ki,Ki=pn.j,E(!(1&Ya)),pn.O+=Qn.R*Ya,pn.N+=Qn.B*(Ya>>1),pn.W+=Qn.B*(Ya>>1),pn.F!=null&&(pn.J+=pn.width*Ya)),Ki<is&&(pn.O+=pn.v,pn.N+=pn.v>>1,pn.W+=pn.v>>1,pn.F!=null&&(pn.J+=pn.v),pn.ka=Ki-pn.j,pn.U=pn.va-pn.v,pn.T=is-Ki,po=pn.put(pn))}La+1!=Qn.Ic||mi||(z(Qn.sa,Qn.ta-Da,Eo,Zo+16*Qn.R,Da),z(Qn.qa,Qn.ra-fs,Us,fi+8*Qn.B,fs),z(Qn.Ha,Qn.Ia-fs,Jo,ul+8*Qn.B,fs))}if(!po)return wa(wi,6,"Output aborted.")}return 1})(ft,Lt)),Lt.bc!=null&&Lt.bc(Lt),Zt&=1}return Zt?(ft.cb=0,Zt):0})(_,ke)||(G=_.a)}}else G=_.a}G==0&&Xe.Oa!=null&&Xe.Oa.fd&&(G=Jn(Xe.ba))}Xe=G}Ge=Xe!=0?null:11>Ge?Je.f.RGBA.eb:Je.f.kb.y}else Ge=null;return Ge};var RA=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function Me(Ot,or){for(var at="",ht=0;ht<4;ht++)at+=String.fromCharCode(Ot[or++]);return at}function ze(Ot,or){return Ot[or+0]|Ot[or+1]<<8}function et(Ot,or){return(Ot[or+0]|Ot[or+1]<<8|Ot[or+2]<<16)>>>0}function ot(Ot,or){return(Ot[or+0]|Ot[or+1]<<8|Ot[or+2]<<16|Ot[or+3]<<24)>>>0}new ve;var Pe=[0],yt=[0],gt=[],wt=new ve,nt=I,Ft=(function(Ot,or){var at={},ht=0,Tt=!1,_t=0,dr=0;if(at.frames=[],!(function(Ze,bt){for(var St=0;St<4;St++)if(Ze[bt+St]!="RIFF".charCodeAt(St))return!0;return!1})(Ot,or)){for(ot(Ot,or+=4),or+=8;or<Ot.length;){var xr=Me(Ot,or),jr=ot(Ot,or+=4);or+=4;var Jt=jr+(1&jr);switch(xr){case"VP8 ":case"VP8L":at.frames[ht]===void 0&&(at.frames[ht]={}),(Wr=at.frames[ht]).src_off=Tt?dr:or-8,Wr.src_size=_t+jr+8,ht++,Tt&&(Tt=!1,_t=0,dr=0);break;case"VP8X":(Wr=at.header={}).feature_flags=Ot[or];var br=or+4;Wr.canvas_width=1+et(Ot,br),br+=3,Wr.canvas_height=1+et(Ot,br),br+=3;break;case"ALPH":Tt=!0,_t=Jt+8,dr=or-8;break;case"ANIM":(Wr=at.header).bgcolor=ot(Ot,or),br=or+4,Wr.loop_count=ze(Ot,br),br+=2;break;case"ANMF":var Zr,Wr;(Wr=at.frames[ht]={}).offset_x=2*et(Ot,or),or+=3,Wr.offset_y=2*et(Ot,or),or+=3,Wr.width=1+et(Ot,or),or+=3,Wr.height=1+et(Ot,or),or+=3,Wr.duration=et(Ot,or),or+=3,Zr=Ot[or++],Wr.dispose=1&Zr,Wr.blend=Zr>>1&1}xr!="ANMF"&&(or+=Jt)}return at}})(nt,0);Ft.response=nt,Ft.rgbaoutput=!0,Ft.dataurl=!1;var qt=Ft.header?Ft.header:null,It=Ft.frames?Ft.frames:null;if(qt){qt.loop_counter=qt.loop_count,Pe=[qt.canvas_height],yt=[qt.canvas_width];for(var tt=0;tt<It.length&&It[tt].blend!=0;tt++);}var Wt=It[0],ur=wt.WebPDecodeRGBA(nt,Wt.src_off,Wt.src_size,yt,Pe);Wt.rgba=ur,Wt.imgwidth=yt[0],Wt.imgheight=Pe[0];for(var Yt=0;Yt<yt[0]*Pe[0]*4;Yt++)gt[Yt]=ur[Yt];return this.width=yt,this.height=Pe,this.data=gt,this}(function(I){var E,D,z,X,ae,Se,ge,ve,Me,ze=function(Ze){return Ze=Ze||{},this.isStrokeTransparent=Ze.isStrokeTransparent||!1,this.strokeOpacity=Ze.strokeOpacity||1,this.strokeStyle=Ze.strokeStyle||"#000000",this.fillStyle=Ze.fillStyle||"#000000",this.isFillTransparent=Ze.isFillTransparent||!1,this.fillOpacity=Ze.fillOpacity||1,this.font=Ze.font||"10px sans-serif",this.textBaseline=Ze.textBaseline||"alphabetic",this.textAlign=Ze.textAlign||"left",this.lineWidth=Ze.lineWidth||1,this.lineJoin=Ze.lineJoin||"miter",this.lineCap=Ze.lineCap||"butt",this.path=Ze.path||[],this.transform=Ze.transform!==void 0?Ze.transform.clone():new ve,this.globalCompositeOperation=Ze.globalCompositeOperation||"normal",this.globalAlpha=Ze.globalAlpha||1,this.clip_path=Ze.clip_path||[],this.currentPoint=Ze.currentPoint||new Se,this.miterLimit=Ze.miterLimit||10,this.lastPoint=Ze.lastPoint||new Se,this.lineDashOffset=Ze.lineDashOffset||0,this.lineDash=Ze.lineDash||[],this.margin=Ze.margin||[0,0,0,0],this.prevPageLastElemOffset=Ze.prevPageLastElemOffset||0,this.ignoreClearRect=typeof Ze.ignoreClearRect!="boolean"||Ze.ignoreClearRect,this};I.events.push(["initialized",function(){this.context2d=new et(this),E=this.internal.f2,D=this.internal.getCoordinateString,z=this.internal.getVerticalCoordinateString,X=this.internal.getHorizontalCoordinate,ae=this.internal.getVerticalCoordinate,Se=this.internal.Point,ge=this.internal.Rectangle,ve=this.internal.Matrix,Me=new ze}]);var et=function(Ze){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var bt=Ze;Object.defineProperty(this,"pdf",{get:function(){return bt}});var St=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return St},set:function(dt){St=!!dt}});var Vt=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Vt},set:function(dt){Vt=!!dt}});var Gt=0;Object.defineProperty(this,"posX",{get:function(){return Gt},set:function(dt){isNaN(dt)||(Gt=dt)}});var nr=0;Object.defineProperty(this,"posY",{get:function(){return nr},set:function(dt){isNaN(dt)||(nr=dt)}}),Object.defineProperty(this,"margin",{get:function(){return Me.margin},set:function(dt){var An;typeof dt=="number"?An=[dt,dt,dt,dt]:((An=new Array(4))[0]=dt[0],An[1]=dt.length>=2?dt[1]:An[0],An[2]=dt.length>=3?dt[2]:An[0],An[3]=dt.length>=4?dt[3]:An[1]),Me.margin=An}});var yr=!1;Object.defineProperty(this,"autoPaging",{get:function(){return yr},set:function(dt){yr=dt}});var wr=0;Object.defineProperty(this,"lastBreak",{get:function(){return wr},set:function(dt){wr=dt}});var Pr=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Pr},set:function(dt){Pr=dt}}),Object.defineProperty(this,"ctx",{get:function(){return Me},set:function(dt){dt instanceof ze&&(Me=dt)}}),Object.defineProperty(this,"path",{get:function(){return Me.path},set:function(dt){Me.path=dt}});var Jr=[];Object.defineProperty(this,"ctxStack",{get:function(){return Jr},set:function(dt){Jr=dt}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(dt){var An;An=ot(dt),this.ctx.fillStyle=An.style,this.ctx.isFillTransparent=An.a===0,this.ctx.fillOpacity=An.a,this.pdf.setFillColor(An.r,An.g,An.b,{a:An.a}),this.pdf.setTextColor(An.r,An.g,An.b,{a:An.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(dt){var An=ot(dt);this.ctx.strokeStyle=An.style,this.ctx.isStrokeTransparent=An.a===0,this.ctx.strokeOpacity=An.a,An.a===0?this.pdf.setDrawColor(255,255,255):(An.a,this.pdf.setDrawColor(An.r,An.g,An.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(dt){["butt","round","square"].indexOf(dt)!==-1&&(this.ctx.lineCap=dt,this.pdf.setLineCap(dt))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(dt){isNaN(dt)||(this.ctx.lineWidth=dt,this.pdf.setLineWidth(dt))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(dt){["bevel","round","miter"].indexOf(dt)!==-1&&(this.ctx.lineJoin=dt,this.pdf.setLineJoin(dt))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(dt){isNaN(dt)||(this.ctx.miterLimit=dt,this.pdf.setMiterLimit(dt))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(dt){this.ctx.textBaseline=dt}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(dt){["right","end","center","left","start"].indexOf(dt)!==-1&&(this.ctx.textAlign=dt)}});var Nn=null,En=null,ua=null;Object.defineProperty(this,"fontFaces",{get:function(){return ua},set:function(dt){Nn=null,En=null,ua=dt}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(dt){var An;if(this.ctx.font=dt,(An=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(dt))!==null){var xa=An[1];An[2];var hn=An[3],Vr=An[4];An[5];var oa=An[6],Dn=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Vr)[2];Vr=Math.floor(Dn==="px"?parseFloat(Vr)*this.pdf.internal.scaleFactor:Dn==="em"?parseFloat(Vr)*this.pdf.getFontSize():parseFloat(Vr)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Vr);var Zn=(function(kn){var Ca,ui,qa=[],Xa=kn.trim();if(Xa==="")return _o;if(Xa in Va)return[Va[Xa]];for(;Xa!=="";){switch(ui=null,Ca=(Xa=ys(Xa)).charAt(0)){case'"':case"'":ui=Bl(Xa.substring(1),Ca);break;default:ui=Ec(Xa)}if(ui===null||(qa.push(ui[0]),(Xa=ys(ui[1]))!==""&&Xa.charAt(0)!==","))return _o;Xa=Xa.replace(/^,/,"")}return qa})(oa);if(this.fontFaces){var Mn=(function(kn,Ca){var ui=kn.getFontList(),qa=JSON.stringify(ui);if(Nn===null||En!==qa){var Xa=(function(rs){var zn=[];return Object.keys(rs).forEach(function(Ti){rs[Ti].forEach(function(ya){var Vn=null;switch(ya){case"bold":Vn={family:Ti,weight:"bold"};break;case"italic":Vn={family:Ti,style:"italic"};break;case"bolditalic":Vn={family:Ti,weight:"bold",style:"italic"};break;case"":case"normal":Vn={family:Ti}}Vn!==null&&(Vn.ref={name:Ti,style:ya},zn.push(Vn))})}),zn})(ui);Nn=(function(rs){for(var zn={},Ti=0;Ti<rs.length;++Ti){var ya=Ds(rs[Ti]),Vn=ya.family,_i=ya.stretch,Na=ya.style,Bn=ya.weight;zn[Vn]=zn[Vn]||{},zn[Vn][_i]=zn[Vn][_i]||{},zn[Vn][_i][Na]=zn[Vn][_i][Na]||{},zn[Vn][_i][Na][Bn]=ya}return zn})(Xa.concat(Ca)),En=qa}return Nn})(this.pdf,this.fontFaces),pi=Zn.map(function(kn){return{family:kn,stretch:"normal",weight:hn,style:xa}}),Qa=(function(kn,Ca,ui){for(var qa=(ui=ui||{}).defaultFontFamily||"times",Xa=Object.assign({},xs,ui.genericFontFamilies||{}),rs=null,zn=null,Ti=0;Ti<Ca.length;++Ti)if(Xa[(rs=Ds(Ca[Ti])).family]&&(rs.family=Xa[rs.family]),kn.hasOwnProperty(rs.family)){zn=kn[rs.family];break}if(!(zn=zn||kn[qa]))throw new Error("Could not find a font-family for the rule '"+Sc(rs)+"' and default family '"+qa+"'.");if(zn=(function(ya,Vn){if(Vn[ya])return Vn[ya];var _i=yi[ya],Na=_i<=yi.normal?-1:1,Bn=Ga(Vn,Ni,_i,Na);if(!Bn)throw new Error("Could not find a matching font-stretch value for "+ya);return Bn})(rs.stretch,zn),zn=(function(ya,Vn){if(Vn[ya])return Vn[ya];for(var _i=Ts[ya],Na=0;Na<_i.length;++Na)if(Vn[_i[Na]])return Vn[_i[Na]];throw new Error("Could not find a matching font-style for "+ya)})(rs.style,zn),!(zn=(function(ya,Vn){if(Vn[ya])return Vn[ya];if(ya===400&&Vn[500])return Vn[500];if(ya===500&&Vn[400])return Vn[400];var _i=Ii[ya],Na=Ga(Vn,Wi,_i,ya<400?-1:1);if(!Na)throw new Error("Could not find a matching font-weight for value "+ya);return Na})(rs.weight,zn)))throw new Error("Failed to resolve a font for the rule '"+Sc(rs)+"'.");return zn})(Mn,pi);this.pdf.setFont(Qa.ref.name,Qa.ref.style)}else{var Fn="";(hn==="bold"||parseInt(hn,10)>=700||xa==="bold")&&(Fn="bold"),xa==="italic"&&(Fn+="italic"),Fn.length===0&&(Fn="normal");for(var oi="",la={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},On=0;On<Zn.length;On++){if(this.pdf.internal.getFont(Zn[On],Fn,{noFallback:!0,disableWarning:!0})!==void 0){oi=Zn[On];break}if(Fn==="bolditalic"&&this.pdf.internal.getFont(Zn[On],"bold",{noFallback:!0,disableWarning:!0})!==void 0)oi=Zn[On],Fn="bold";else if(this.pdf.internal.getFont(Zn[On],"normal",{noFallback:!0,disableWarning:!0})!==void 0){oi=Zn[On],Fn="normal";break}}if(oi===""){for(var ha=0;ha<Zn.length;ha++)if(la[Zn[ha]]){oi=la[Zn[ha]];break}}oi=oi===""?"Times":oi,this.pdf.setFont(oi,Fn)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(dt){this.ctx.globalCompositeOperation=dt}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(dt){this.ctx.globalAlpha=dt}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(dt){this.ctx.lineDashOffset=dt,Wr.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(dt){this.ctx.lineDash=dt,Wr.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(dt){this.ctx.ignoreClearRect=!!dt}})};et.prototype.setLineDash=function(Ze){this.lineDash=Ze},et.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},et.prototype.fill=function(){It.call(this,"fill",!1)},et.prototype.stroke=function(){It.call(this,"stroke",!1)},et.prototype.beginPath=function(){this.path=[{type:"begin"}]},et.prototype.moveTo=function(Ze,bt){if(isNaN(Ze)||isNaN(bt))throw x.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var St=this.ctx.transform.applyToPoint(new Se(Ze,bt));this.path.push({type:"mt",x:St.x,y:St.y}),this.ctx.lastPoint=new Se(Ze,bt)},et.prototype.closePath=function(){var Ze=new Se(0,0),bt=0;for(bt=this.path.length-1;bt!==-1;bt--)if(this.path[bt].type==="begin"&&(0,h.default)(this.path[bt+1])==="object"&&typeof this.path[bt+1].x=="number"){Ze=new Se(this.path[bt+1].x,this.path[bt+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new Se(Ze.x,Ze.y)},et.prototype.lineTo=function(Ze,bt){if(isNaN(Ze)||isNaN(bt))throw x.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var St=this.ctx.transform.applyToPoint(new Se(Ze,bt));this.path.push({type:"lt",x:St.x,y:St.y}),this.ctx.lastPoint=new Se(St.x,St.y)},et.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),It.call(this,null,!0)},et.prototype.quadraticCurveTo=function(Ze,bt,St,Vt){if(isNaN(St)||isNaN(Vt)||isNaN(Ze)||isNaN(bt))throw x.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Gt=this.ctx.transform.applyToPoint(new Se(St,Vt)),nr=this.ctx.transform.applyToPoint(new Se(Ze,bt));this.path.push({type:"qct",x1:nr.x,y1:nr.y,x:Gt.x,y:Gt.y}),this.ctx.lastPoint=new Se(Gt.x,Gt.y)},et.prototype.bezierCurveTo=function(Ze,bt,St,Vt,Gt,nr){if(isNaN(Gt)||isNaN(nr)||isNaN(Ze)||isNaN(bt)||isNaN(St)||isNaN(Vt))throw x.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var yr=this.ctx.transform.applyToPoint(new Se(Gt,nr)),wr=this.ctx.transform.applyToPoint(new Se(Ze,bt)),Pr=this.ctx.transform.applyToPoint(new Se(St,Vt));this.path.push({type:"bct",x1:wr.x,y1:wr.y,x2:Pr.x,y2:Pr.y,x:yr.x,y:yr.y}),this.ctx.lastPoint=new Se(yr.x,yr.y)},et.prototype.arc=function(Ze,bt,St,Vt,Gt,nr){if(isNaN(Ze)||isNaN(bt)||isNaN(St)||isNaN(Vt)||isNaN(Gt))throw x.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(nr=!!nr,!this.ctx.transform.isIdentity){var yr=this.ctx.transform.applyToPoint(new Se(Ze,bt));Ze=yr.x,bt=yr.y;var wr=this.ctx.transform.applyToPoint(new Se(0,St)),Pr=this.ctx.transform.applyToPoint(new Se(0,0));St=Math.sqrt(Math.pow(wr.x-Pr.x,2)+Math.pow(wr.y-Pr.y,2))}Math.abs(Gt-Vt)>=2*Math.PI&&(Vt=0,Gt=2*Math.PI),this.path.push({type:"arc",x:Ze,y:bt,radius:St,startAngle:Vt,endAngle:Gt,counterclockwise:nr})},et.prototype.arcTo=function(Ze,bt,St,Vt,Gt){throw new Error("arcTo not implemented.")},et.prototype.rect=function(Ze,bt,St,Vt){if(isNaN(Ze)||isNaN(bt)||isNaN(St)||isNaN(Vt))throw x.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(Ze,bt),this.lineTo(Ze+St,bt),this.lineTo(Ze+St,bt+Vt),this.lineTo(Ze,bt+Vt),this.lineTo(Ze,bt),this.lineTo(Ze+St,bt),this.lineTo(Ze,bt)},et.prototype.fillRect=function(Ze,bt,St,Vt){if(isNaN(Ze)||isNaN(bt)||isNaN(St)||isNaN(Vt))throw x.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!Pe.call(this)){var Gt={};this.lineCap!=="butt"&&(Gt.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Gt.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(Ze,bt,St,Vt),this.fill(),Gt.hasOwnProperty("lineCap")&&(this.lineCap=Gt.lineCap),Gt.hasOwnProperty("lineJoin")&&(this.lineJoin=Gt.lineJoin)}},et.prototype.strokeRect=function(Ze,bt,St,Vt){if(isNaN(Ze)||isNaN(bt)||isNaN(St)||isNaN(Vt))throw x.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");yt.call(this)||(this.beginPath(),this.rect(Ze,bt,St,Vt),this.stroke())},et.prototype.clearRect=function(Ze,bt,St,Vt){if(isNaN(Ze)||isNaN(bt)||isNaN(St)||isNaN(Vt))throw x.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(Ze,bt,St,Vt))},et.prototype.save=function(Ze){Ze=typeof Ze!="boolean"||Ze;for(var bt=this.pdf.internal.getCurrentPageInfo().pageNumber,St=0;St<this.pdf.internal.getNumberOfPages();St++)this.pdf.setPage(St+1),this.pdf.internal.out("q");if(this.pdf.setPage(bt),Ze){this.ctx.fontSize=this.pdf.internal.getFontSize();var Vt=new ze(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Vt}},et.prototype.restore=function(Ze){Ze=typeof Ze!="boolean"||Ze;for(var bt=this.pdf.internal.getCurrentPageInfo().pageNumber,St=0;St<this.pdf.internal.getNumberOfPages();St++)this.pdf.setPage(St+1),this.pdf.internal.out("Q");this.pdf.setPage(bt),Ze&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},et.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var ot=function(Ze){var bt,St,Vt,Gt;if(Ze.isCanvasGradient===!0&&(Ze=Ze.getColor()),!Ze)return{r:0,g:0,b:0,a:0,style:Ze};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(Ze))bt=0,St=0,Vt=0,Gt=0;else{var nr=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(Ze);if(nr!==null)bt=parseInt(nr[1]),St=parseInt(nr[2]),Vt=parseInt(nr[3]),Gt=1;else if((nr=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(Ze))!==null)bt=parseInt(nr[1]),St=parseInt(nr[2]),Vt=parseInt(nr[3]),Gt=parseFloat(nr[4]);else{if(Gt=1,typeof Ze=="string"&&Ze.charAt(0)!=="#"){var yr=new N(Ze);Ze=yr.ok?yr.toHex():"#000000"}Ze.length===4?(bt=Ze.substring(1,2),bt+=bt,St=Ze.substring(2,3),St+=St,Vt=Ze.substring(3,4),Vt+=Vt):(bt=Ze.substring(1,3),St=Ze.substring(3,5),Vt=Ze.substring(5,7)),bt=parseInt(bt,16),St=parseInt(St,16),Vt=parseInt(Vt,16)}}return{r:bt,g:St,b:Vt,a:Gt,style:Ze}},Pe=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},yt=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};et.prototype.fillText=function(Ze,bt,St,Vt){if(isNaN(bt)||isNaN(St)||typeof Ze!="string")throw x.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Vt=isNaN(Vt)?void 0:Vt,!Pe.call(this)){var Gt=Jt(this.ctx.transform.rotation),nr=this.ctx.transform.scaleX;ht.call(this,{text:Ze,x:bt,y:St,scale:nr,angle:Gt,align:this.textAlign,maxWidth:Vt})}},et.prototype.strokeText=function(Ze,bt,St,Vt){if(isNaN(bt)||isNaN(St)||typeof Ze!="string")throw x.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!yt.call(this)){Vt=isNaN(Vt)?void 0:Vt;var Gt=Jt(this.ctx.transform.rotation),nr=this.ctx.transform.scaleX;ht.call(this,{text:Ze,x:bt,y:St,scale:nr,renderingMode:"stroke",angle:Gt,align:this.textAlign,maxWidth:Vt})}},et.prototype.measureText=function(Ze){if(typeof Ze!="string")throw x.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var bt=this.pdf,St=this.pdf.internal.scaleFactor,Vt=bt.internal.getFontSize(),Gt=bt.getStringUnitWidth(Ze)*Vt/bt.internal.scaleFactor;return new function(nr){var yr=(nr=nr||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return yr}}),this}({width:Gt*=Math.round(96*St/72*1e4)/1e4})},et.prototype.scale=function(Ze,bt){if(isNaN(Ze)||isNaN(bt))throw x.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var St=new ve(Ze,0,0,bt,0,0);this.ctx.transform=this.ctx.transform.multiply(St)},et.prototype.rotate=function(Ze){if(isNaN(Ze))throw x.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var bt=new ve(Math.cos(Ze),Math.sin(Ze),-Math.sin(Ze),Math.cos(Ze),0,0);this.ctx.transform=this.ctx.transform.multiply(bt)},et.prototype.translate=function(Ze,bt){if(isNaN(Ze)||isNaN(bt))throw x.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var St=new ve(1,0,0,1,Ze,bt);this.ctx.transform=this.ctx.transform.multiply(St)},et.prototype.transform=function(Ze,bt,St,Vt,Gt,nr){if(isNaN(Ze)||isNaN(bt)||isNaN(St)||isNaN(Vt)||isNaN(Gt)||isNaN(nr))throw x.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var yr=new ve(Ze,bt,St,Vt,Gt,nr);this.ctx.transform=this.ctx.transform.multiply(yr)},et.prototype.setTransform=function(Ze,bt,St,Vt,Gt,nr){Ze=isNaN(Ze)?1:Ze,bt=isNaN(bt)?0:bt,St=isNaN(St)?0:St,Vt=isNaN(Vt)?1:Vt,Gt=isNaN(Gt)?0:Gt,nr=isNaN(nr)?0:nr,this.ctx.transform=new ve(Ze,bt,St,Vt,Gt,nr)};var gt=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};et.prototype.drawImage=function(Ze,bt,St,Vt,Gt,nr,yr,wr,Pr){var Jr=this.pdf.getImageProperties(Ze),Nn=1,En=1,ua=1,dt=1;Vt!==void 0&&wr!==void 0&&(ua=wr/Vt,dt=Pr/Gt,Nn=Jr.width/Vt*wr/Vt,En=Jr.height/Gt*Pr/Gt),nr===void 0&&(nr=bt,yr=St,bt=0,St=0),Vt!==void 0&&wr===void 0&&(wr=Vt,Pr=Gt),Vt===void 0&&wr===void 0&&(wr=Jr.width,Pr=Jr.height);var An=this.ctx.transform.decompose(),xa=Jt(An.rotate.shx),hn=new ve,Vr=(hn=(hn=(hn=hn.multiply(An.translate)).multiply(An.skew)).multiply(An.scale)).applyToRectangle(new ge(nr-bt*ua,yr-St*dt,Vt*Nn,Gt*En));if(this.autoPaging){for(var oa,Dn=wt.call(this,Vr),Zn=[],Mn=0;Mn<Dn.length;Mn+=1)Zn.indexOf(Dn[Mn])===-1&&Zn.push(Dn[Mn]);qt(Zn);for(var pi=Zn[0],Qa=Zn[Zn.length-1],Fn=pi;Fn<Qa+1;Fn++){this.pdf.setPage(Fn);var oi=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],la=Fn===1?this.posY+this.margin[0]:this.margin[0],On=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ha=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],kn=Fn===1?0:On+(Fn-2)*ha;if(this.ctx.clip_path.length!==0){var Ca=this.path;oa=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Ft(oa,this.posX+this.margin[3],-kn+la+this.ctx.prevPageLastElemOffset),tt.call(this,"fill",!0),this.path=Ca}var ui=JSON.parse(JSON.stringify(Vr));ui=Ft([ui],this.posX+this.margin[3],-kn+la+this.ctx.prevPageLastElemOffset)[0];var qa=(Fn>pi||Fn<Qa)&&gt.call(this);qa&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],oi,ha,null).clip().discardPath()),this.pdf.addImage(Ze,"JPEG",ui.x,ui.y,ui.w,ui.h,null,null,xa),qa&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(Ze,"JPEG",Vr.x,Vr.y,Vr.w,Vr.h,null,null,xa)};var wt=function(Ze,bt,St){var Vt=[];bt=bt||this.pdf.internal.pageSize.width,St=St||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Gt=this.posY+this.ctx.prevPageLastElemOffset;switch(Ze.type){default:case"mt":case"lt":Vt.push(Math.floor((Ze.y+Gt)/St)+1);break;case"arc":Vt.push(Math.floor((Ze.y+Gt-Ze.radius)/St)+1),Vt.push(Math.floor((Ze.y+Gt+Ze.radius)/St)+1);break;case"qct":var nr=br(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Ze.x1,Ze.y1,Ze.x,Ze.y);Vt.push(Math.floor((nr.y+Gt)/St)+1),Vt.push(Math.floor((nr.y+nr.h+Gt)/St)+1);break;case"bct":var yr=Zr(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Ze.x1,Ze.y1,Ze.x2,Ze.y2,Ze.x,Ze.y);Vt.push(Math.floor((yr.y+Gt)/St)+1),Vt.push(Math.floor((yr.y+yr.h+Gt)/St)+1);break;case"rect":Vt.push(Math.floor((Ze.y+Gt)/St)+1),Vt.push(Math.floor((Ze.y+Ze.h+Gt)/St)+1)}for(var wr=0;wr<Vt.length;wr+=1)for(;this.pdf.internal.getNumberOfPages()<Vt[wr];)nt.call(this);return Vt},nt=function(){var Ze=this.fillStyle,bt=this.strokeStyle,St=this.font,Vt=this.lineCap,Gt=this.lineWidth,nr=this.lineJoin;this.pdf.addPage(),this.fillStyle=Ze,this.strokeStyle=bt,this.font=St,this.lineCap=Vt,this.lineWidth=Gt,this.lineJoin=nr},Ft=function(Ze,bt,St){for(var Vt=0;Vt<Ze.length;Vt++)switch(Ze[Vt].type){case"bct":Ze[Vt].x2+=bt,Ze[Vt].y2+=St;case"qct":Ze[Vt].x1+=bt,Ze[Vt].y1+=St;default:Ze[Vt].x+=bt,Ze[Vt].y+=St}return Ze},qt=function(Ze){return Ze.sort(function(bt,St){return bt-St})},It=function(Ze,bt){var St=this.fillStyle,Vt=this.strokeStyle,Gt=this.lineCap,nr=this.lineWidth,yr=Math.abs(nr*this.ctx.transform.scaleX),wr=this.lineJoin;if(this.autoPaging){for(var Pr,Jr,Nn=JSON.parse(JSON.stringify(this.path)),En=JSON.parse(JSON.stringify(this.path)),ua=[],dt=0;dt<En.length;dt++)if(En[dt].x!==void 0)for(var An=wt.call(this,En[dt]),xa=0;xa<An.length;xa+=1)ua.indexOf(An[xa])===-1&&ua.push(An[xa]);for(var hn=0;hn<ua.length;hn++)for(;this.pdf.internal.getNumberOfPages()<ua[hn];)nt.call(this);qt(ua);for(var Vr=ua[0],oa=ua[ua.length-1],Dn=Vr;Dn<oa+1;Dn++){this.pdf.setPage(Dn),this.fillStyle=St,this.strokeStyle=Vt,this.lineCap=Gt,this.lineWidth=yr,this.lineJoin=wr;var Zn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Mn=Dn===1?this.posY+this.margin[0]:this.margin[0],pi=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Qa=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Fn=Dn===1?0:pi+(Dn-2)*Qa;if(this.ctx.clip_path.length!==0){var oi=this.path;Pr=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Ft(Pr,this.posX+this.margin[3],-Fn+Mn+this.ctx.prevPageLastElemOffset),tt.call(this,Ze,!0),this.path=oi}if(Jr=JSON.parse(JSON.stringify(Nn)),this.path=Ft(Jr,this.posX+this.margin[3],-Fn+Mn+this.ctx.prevPageLastElemOffset),bt===!1||Dn===0){var la=(Dn>Vr||Dn<oa)&&gt.call(this);la&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Zn,Qa,null).clip().discardPath()),tt.call(this,Ze,bt),la&&this.pdf.restoreGraphicsState()}this.lineWidth=nr}this.path=Nn}else this.lineWidth=yr,tt.call(this,Ze,bt),this.lineWidth=nr},tt=function(Ze,bt){if((Ze!=="stroke"||bt||!yt.call(this))&&(Ze==="stroke"||bt||!Pe.call(this))){for(var St,Vt,Gt=[],nr=this.path,yr=0;yr<nr.length;yr++){var wr=nr[yr];switch(wr.type){case"begin":Gt.push({begin:!0});break;case"close":Gt.push({close:!0});break;case"mt":Gt.push({start:wr,deltas:[],abs:[]});break;case"lt":var Pr=Gt.length;if(nr[yr-1]&&!isNaN(nr[yr-1].x)&&(St=[wr.x-nr[yr-1].x,wr.y-nr[yr-1].y],Pr>0)){for(;Pr>=0;Pr--)if(Gt[Pr-1].close!==!0&&Gt[Pr-1].begin!==!0){Gt[Pr-1].deltas.push(St),Gt[Pr-1].abs.push(wr);break}}break;case"bct":St=[wr.x1-nr[yr-1].x,wr.y1-nr[yr-1].y,wr.x2-nr[yr-1].x,wr.y2-nr[yr-1].y,wr.x-nr[yr-1].x,wr.y-nr[yr-1].y],Gt[Gt.length-1].deltas.push(St);break;case"qct":var Jr=nr[yr-1].x+2/3*(wr.x1-nr[yr-1].x),Nn=nr[yr-1].y+2/3*(wr.y1-nr[yr-1].y),En=wr.x+2/3*(wr.x1-wr.x),ua=wr.y+2/3*(wr.y1-wr.y),dt=wr.x,An=wr.y;St=[Jr-nr[yr-1].x,Nn-nr[yr-1].y,En-nr[yr-1].x,ua-nr[yr-1].y,dt-nr[yr-1].x,An-nr[yr-1].y],Gt[Gt.length-1].deltas.push(St);break;case"arc":Gt.push({deltas:[],abs:[],arc:!0}),Array.isArray(Gt[Gt.length-1].abs)&&Gt[Gt.length-1].abs.push(wr)}}Vt=bt?null:Ze==="stroke"?"stroke":"fill";for(var xa=!1,hn=0;hn<Gt.length;hn++)if(Gt[hn].arc)for(var Vr=Gt[hn].abs,oa=0;oa<Vr.length;oa++){var Dn=Vr[oa];Dn.type==="arc"?Yt.call(this,Dn.x,Dn.y,Dn.radius,Dn.startAngle,Dn.endAngle,Dn.counterclockwise,void 0,bt,!xa):Tt.call(this,Dn.x,Dn.y),xa=!0}else if(Gt[hn].close===!0)this.pdf.internal.out("h"),xa=!1;else if(Gt[hn].begin!==!0){var Zn=Gt[hn].start.x,Mn=Gt[hn].start.y;_t.call(this,Gt[hn].deltas,Zn,Mn),xa=!0}Vt&&Ot.call(this,Vt),bt&&or.call(this)}},Wt=function(Ze){var bt=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,St=bt*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return Ze-St;case"top":return Ze+bt-St;case"hanging":return Ze+bt-2*St;case"middle":return Ze+bt/2-St;default:return Ze}},ur=function(Ze){return Ze+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};et.prototype.createLinearGradient=function(){var Ze=function(){};return Ze.colorStops=[],Ze.addColorStop=function(bt,St){this.colorStops.push([bt,St])},Ze.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},Ze.isCanvasGradient=!0,Ze},et.prototype.createPattern=function(){return this.createLinearGradient()},et.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Yt=function(Ze,bt,St,Vt,Gt,nr,yr,wr,Pr){for(var Jr=xr.call(this,St,Vt,Gt,nr),Nn=0;Nn<Jr.length;Nn++){var En=Jr[Nn];Nn===0&&(Pr?at.call(this,En.x1+Ze,En.y1+bt):Tt.call(this,En.x1+Ze,En.y1+bt)),dr.call(this,Ze,bt,En.x2,En.y2,En.x3,En.y3,En.x4,En.y4)}wr?or.call(this):Ot.call(this,yr)},Ot=function(Ze){switch(Ze){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},or=function(){this.pdf.clip(),this.pdf.discardPath()},at=function(Ze,bt){this.pdf.internal.out(D(Ze)+" "+z(bt)+" m")},ht=function(Ze){var bt;switch(Ze.align){case"right":case"end":bt="right";break;case"center":bt="center";break;default:bt="left"}var St,Vt,Gt,nr=this.pdf.getTextDimensions(Ze.text),yr=Wt.call(this,Ze.y),wr=ur.call(this,yr)-nr.h,Pr=this.ctx.transform.applyToPoint(new Se(Ze.x,yr));if(this.autoPaging){var Jr=this.ctx.transform.decompose(),Nn=new ve;Nn=(Nn=(Nn=Nn.multiply(Jr.translate)).multiply(Jr.skew)).multiply(Jr.scale);for(var En=this.ctx.transform.applyToRectangle(new ge(Ze.x,yr,nr.w,nr.h)),ua=Nn.applyToRectangle(new ge(Ze.x,wr,nr.w,nr.h)),dt=wt.call(this,ua),An=[],xa=0;xa<dt.length;xa+=1)An.indexOf(dt[xa])===-1&&An.push(dt[xa]);qt(An);for(var hn=An[0],Vr=An[An.length-1],oa=hn;oa<Vr+1;oa++){this.pdf.setPage(oa);var Dn=oa===1?this.posY+this.margin[0]:this.margin[0],Zn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Mn=this.pdf.internal.pageSize.height-this.margin[2],pi=Mn-this.margin[0],Qa=this.pdf.internal.pageSize.width-this.margin[1],Fn=Qa-this.margin[3],oi=oa===1?0:Zn+(oa-2)*pi;if(this.ctx.clip_path.length!==0){var la=this.path;St=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Ft(St,this.posX+this.margin[3],-1*oi+Dn),tt.call(this,"fill",!0),this.path=la}var On=Ft([JSON.parse(JSON.stringify(ua))],this.posX+this.margin[3],-oi+Dn+this.ctx.prevPageLastElemOffset)[0];Ze.scale>=.01&&(Vt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Vt*Ze.scale),Gt=this.lineWidth,this.lineWidth=Gt*Ze.scale);var ha=this.autoPaging!=="text";if(ha||On.y+On.h<=Mn){if(ha||On.y>=Dn&&On.x<=Qa){var kn=ha?Ze.text:this.pdf.splitTextToSize(Ze.text,Ze.maxWidth||Qa-On.x)[0],Ca=Ft([JSON.parse(JSON.stringify(En))],this.posX+this.margin[3],-oi+Dn+this.ctx.prevPageLastElemOffset)[0],ui=ha&&(oa>hn||oa<Vr)&&gt.call(this);ui&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Fn,pi,null).clip().discardPath()),this.pdf.text(kn,Ca.x,Ca.y,{angle:Ze.angle,align:bt,renderingMode:Ze.renderingMode}),ui&&this.pdf.restoreGraphicsState()}}else On.y<Mn&&(this.ctx.prevPageLastElemOffset+=Mn-On.y);Ze.scale>=.01&&(this.pdf.setFontSize(Vt),this.lineWidth=Gt)}}else Ze.scale>=.01&&(Vt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Vt*Ze.scale),Gt=this.lineWidth,this.lineWidth=Gt*Ze.scale),this.pdf.text(Ze.text,Pr.x+this.posX,Pr.y+this.posY,{angle:Ze.angle,align:bt,renderingMode:Ze.renderingMode,maxWidth:Ze.maxWidth}),Ze.scale>=.01&&(this.pdf.setFontSize(Vt),this.lineWidth=Gt)},Tt=function(Ze,bt,St,Vt){St=St||0,Vt=Vt||0,this.pdf.internal.out(D(Ze+St)+" "+z(bt+Vt)+" l")},_t=function(Ze,bt,St){return this.pdf.lines(Ze,bt,St,null,null)},dr=function(Ze,bt,St,Vt,Gt,nr,yr,wr){this.pdf.internal.out([E(X(St+Ze)),E(ae(Vt+bt)),E(X(Gt+Ze)),E(ae(nr+bt)),E(X(yr+Ze)),E(ae(wr+bt)),"c"].join(" "))},xr=function(Ze,bt,St,Vt){for(var Gt=2*Math.PI,nr=Math.PI/2;bt>St;)bt-=Gt;var yr=Math.abs(St-bt);yr<Gt&&Vt&&(yr=Gt-yr);for(var wr=[],Pr=Vt?-1:1,Jr=bt;yr>1e-5;){var Nn=Jr+Pr*Math.min(yr,nr);wr.push(jr.call(this,Ze,Jr,Nn)),yr-=Math.abs(Nn-Jr),Jr=Nn}return wr},jr=function(Ze,bt,St){var Vt=(St-bt)/2,Gt=Ze*Math.cos(Vt),nr=Ze*Math.sin(Vt),yr=Gt,wr=-nr,Pr=yr*yr+wr*wr,Jr=Pr+yr*Gt+wr*nr,Nn=4/3*(Math.sqrt(2*Pr*Jr)-Jr)/(yr*nr-wr*Gt),En=yr-Nn*wr,ua=wr+Nn*yr,dt=En,An=-ua,xa=Vt+bt,hn=Math.cos(xa),Vr=Math.sin(xa);return{x1:Ze*Math.cos(bt),y1:Ze*Math.sin(bt),x2:En*hn-ua*Vr,y2:En*Vr+ua*hn,x3:dt*hn-An*Vr,y3:dt*Vr+An*hn,x4:Ze*Math.cos(St),y4:Ze*Math.sin(St)}},Jt=function(Ze){return 180*Ze/Math.PI},br=function(Ze,bt,St,Vt,Gt,nr){var yr=Ze+.5*(St-Ze),wr=bt+.5*(Vt-bt),Pr=Gt+.5*(St-Gt),Jr=nr+.5*(Vt-nr),Nn=Math.min(Ze,Gt,yr,Pr),En=Math.max(Ze,Gt,yr,Pr),ua=Math.min(bt,nr,wr,Jr),dt=Math.max(bt,nr,wr,Jr);return new ge(Nn,ua,En-Nn,dt-ua)},Zr=function(Ze,bt,St,Vt,Gt,nr,yr,wr){var Pr,Jr,Nn,En,ua,dt,An,xa,hn,Vr,oa,Dn,Zn,Mn,pi=St-Ze,Qa=Vt-bt,Fn=Gt-St,oi=nr-Vt,la=yr-Gt,On=wr-nr;for(Jr=0;Jr<41;Jr++)hn=(An=(Nn=Ze+(Pr=Jr/40)*pi)+Pr*((ua=St+Pr*Fn)-Nn))+Pr*(ua+Pr*(Gt+Pr*la-ua)-An),Vr=(xa=(En=bt+Pr*Qa)+Pr*((dt=Vt+Pr*oi)-En))+Pr*(dt+Pr*(nr+Pr*On-dt)-xa),Jr==0?(oa=hn,Dn=Vr,Zn=hn,Mn=Vr):(oa=Math.min(oa,hn),Dn=Math.min(Dn,Vr),Zn=Math.max(Zn,hn),Mn=Math.max(Mn,Vr));return new ge(Math.round(oa),Math.round(Dn),Math.round(Zn-oa),Math.round(Mn-Dn))},Wr=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var Ze,bt,St=(Ze=this.ctx.lineDash,bt=this.ctx.lineDashOffset,JSON.stringify({lineDash:Ze,lineDashOffset:bt}));this.prevLineDash!==St&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=St)}}})(le.API),(function(I){var E=function(Se){var ge,ve,Me,ze,et,ot,Pe,yt,gt,wt;for(ve=[],Me=0,ze=(Se+=ge="\0\0\0\0".slice(Se.length%4||4)).length;ze>Me;Me+=4)(et=(Se.charCodeAt(Me)<<24)+(Se.charCodeAt(Me+1)<<16)+(Se.charCodeAt(Me+2)<<8)+Se.charCodeAt(Me+3))!==0?(ot=(et=((et=((et=((et=(et-(wt=et%85))/85)-(gt=et%85))/85)-(yt=et%85))/85)-(Pe=et%85))/85)%85,ve.push(ot+33,Pe+33,yt+33,gt+33,wt+33)):ve.push(122);return(function(nt,Ft){for(var qt=Ft;qt>0;qt--)nt.pop()})(ve,ge.length),String.fromCharCode.apply(String,ve)+"~>"},D=function(Se){var ge,ve,Me,ze,et,ot=String,Pe="length",yt=255,gt="charCodeAt",wt="slice",nt="replace";for(Se[wt](-2),Se=Se[wt](0,-2)[nt](/\s/g,"")[nt]("z","!!!!!"),Me=[],ze=0,et=(Se+=ge="uuuuu"[wt](Se[Pe]%5||5))[Pe];et>ze;ze+=5)ve=52200625*(Se[gt](ze)-33)+614125*(Se[gt](ze+1)-33)+7225*(Se[gt](ze+2)-33)+85*(Se[gt](ze+3)-33)+(Se[gt](ze+4)-33),Me.push(yt&ve>>24,yt&ve>>16,yt&ve>>8,yt&ve);return(function(Ft,qt){for(var It=qt;It>0;It--)Ft.pop()})(Me,ge[Pe]),ot.fromCharCode.apply(ot,Me)},z=function(Se){return Se.split("").map(function(ge){return("0"+ge.charCodeAt().toString(16)).slice(-2)}).join("")+">"},X=function(Se){var ge=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((Se=Se.replace(/\s/g,"")).indexOf(">")!==-1&&(Se=Se.substr(0,Se.indexOf(">"))),Se.length%2&&(Se+="0"),ge.test(Se)===!1)return"";for(var ve="",Me=0;Me<Se.length;Me+=2)ve+=String.fromCharCode("0x"+(Se[Me]+Se[Me+1]));return ve},ae=function(Se){for(var ge=new Uint8Array(Se.length),ve=Se.length;ve--;)ge[ve]=Se.charCodeAt(ve);return(ge=(0,d.zlibSync)(ge)).reduce(function(Me,ze){return Me+String.fromCharCode(ze)},"")};I.processDataByFilters=function(Se,ge){var ve=0,Me=Se||"",ze=[];for(typeof(ge=ge||[])=="string"&&(ge=[ge]),ve=0;ve<ge.length;ve+=1)switch(ge[ve]){case"ASCII85Decode":case"/ASCII85Decode":Me=D(Me),ze.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":Me=E(Me),ze.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":Me=X(Me),ze.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":Me=z(Me),ze.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":Me=ae(Me),ze.push("/FlateDecode");break;default:throw new Error('The filter: "'+ge[ve]+'" is not implemented')}return{data:Me,reverseChain:ze.reverse().join(" ")}}})(le.API),(function(I){I.loadFile=function(E,D,z){return(function(X,ae,Se){ae=ae!==!1,Se=typeof Se=="function"?Se:function(){};var ge=void 0;try{ge=(function(ve,Me,ze){var et=new XMLHttpRequest,ot=0,Pe=function(yt){var gt=yt.length,wt=[],nt=String.fromCharCode;for(ot=0;ot<gt;ot+=1)wt.push(nt(255&yt.charCodeAt(ot)));return wt.join("")};if(et.open("GET",ve,!Me),et.overrideMimeType("text/plain; charset=x-user-defined"),Me===!1&&(et.onload=function(){et.status===200?ze(Pe(this.responseText)):ze(void 0)}),et.send(null),Me&&et.status===200)return Pe(et.responseText)})(X,ae,Se)}catch{}return ge})(E,D,z)},I.allowFsRead=void 0,I.loadImageFile=I.loadFile})(le.API),(function(I){function E(){return(g.html2canvas?Promise.resolve(g.html2canvas):Promise.resolve().then(o.t.bind(o,"html2canvas",23))).catch(function(ge){return Promise.reject(new Error("Could not load html2canvas: "+ge))}).then(function(ge){return ge.default?ge.default:ge})}function D(){return(g.DOMPurify?Promise.resolve(g.DOMPurify):Promise.resolve().then(o.bind(o,"./node_modules/dompurify/dist/purify.es.mjs"))).catch(function(ge){return Promise.reject(new Error("Could not load dompurify: "+ge))}).then(function(ge){return ge.default?ge.default:ge})}var z=function(ge){var ve=(0,h.default)(ge);return ve==="undefined"?"undefined":ve==="string"||ge instanceof String?"string":ve==="number"||ge instanceof Number?"number":ve==="function"||ge instanceof Function?"function":ge&&ge.constructor===Array?"array":ge&&ge.nodeType===1?"element":ve==="object"?"object":"unknown"},X=function(ge,ve){var Me=document.createElement(ge);for(var ze in ve.className&&(Me.className=ve.className),ve.innerHTML&&ve.dompurify&&(Me.innerHTML=ve.dompurify.sanitize(ve.innerHTML)),ve.style)Me.style[ze]=ve.style[ze];return Me},ae=function ge(ve,Me){for(var ze=ve.nodeType===3?document.createTextNode(ve.nodeValue):ve.cloneNode(!1),et=ve.firstChild;et;et=et.nextSibling)Me!==!0&&et.nodeType===1&&et.nodeName==="SCRIPT"||ze.appendChild(ge(et,Me));return ve.nodeType===1&&(ve.nodeName==="CANVAS"?(ze.width=ve.width,ze.height=ve.height,ze.getContext("2d").drawImage(ve,0,0)):ve.nodeName!=="TEXTAREA"&&ve.nodeName!=="SELECT"||(ze.value=ve.value),ze.addEventListener("load",function(){ze.scrollTop=ve.scrollTop,ze.scrollLeft=ve.scrollLeft},!0)),ze},Se=function ge(ve){var Me=Object.assign(ge.convert(Promise.resolve()),JSON.parse(JSON.stringify(ge.template))),ze=ge.convert(Promise.resolve(),Me);return(ze=ze.setProgress(1,ge,1,[ge])).set(ve)};(Se.prototype=Object.create(Promise.prototype)).constructor=Se,Se.convert=function(ge,ve){return ge.__proto__=ve||Se.prototype,ge},Se.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},Se.prototype.from=function(ge,ve){return this.then(function(){switch(ve=ve||(function(Me){switch(z(Me)){case"string":return"string";case"element":return Me.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(ge),ve){case"string":return this.then(D).then(function(Me){return this.set({src:X("div",{innerHTML:ge,dompurify:Me})})});case"element":return this.set({src:ge});case"canvas":return this.set({canvas:ge});case"img":return this.set({img:ge});default:return this.error("Unknown source type.")}})},Se.prototype.to=function(ge){switch(ge){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},Se.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var ge={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},ve=ae(this.prop.src,this.opt.html2canvas.javascriptEnabled);ve.tagName==="BODY"&&(ge.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=X("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=X("div",{className:"html2pdf__container",style:ge}),this.prop.container.appendChild(ve),this.prop.container.firstChild.appendChild(X("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},Se.prototype.toCanvas=function(){var ge=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(ge).then(E).then(function(ve){var Me=Object.assign({},this.opt.html2canvas);return delete Me.onrendered,ve(this.prop.container,Me)}).then(function(ve){(this.opt.html2canvas.onrendered||function(){})(ve),this.prop.canvas=ve,document.body.removeChild(this.prop.overlay)})},Se.prototype.toContext2d=function(){var ge=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(ge).then(E).then(function(ve){var Me=this.opt.jsPDF,ze=this.opt.fontFaces,et=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,ot=Object.assign({async:!0,allowTaint:!0,scale:et,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete ot.onrendered,Me.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,Me.context2d.posX=this.opt.x,Me.context2d.posY=this.opt.y,Me.context2d.margin=this.opt.margin,Me.context2d.fontFaces=ze,ze)for(var Pe=0;Pe<ze.length;++Pe){var yt=ze[Pe],gt=yt.src.find(function(wt){return wt.format==="truetype"});gt&&Me.addFont(gt.url,yt.ref.name,yt.ref.style)}return ot.windowHeight=ot.windowHeight||0,ot.windowHeight=ot.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):ot.windowHeight,Me.context2d.save(!0),ve(this.prop.container,ot)}).then(function(ve){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(ve),this.prop.canvas=ve,document.body.removeChild(this.prop.overlay)})},Se.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var ge=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=ge})},Se.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},Se.prototype.output=function(ge,ve,Me){return(Me=Me||"pdf").toLowerCase()==="img"||Me.toLowerCase()==="image"?this.outputImg(ge,ve):this.outputPdf(ge,ve)},Se.prototype.outputPdf=function(ge,ve){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(ge,ve)})},Se.prototype.outputImg=function(ge){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(ge){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+ge+'" is not supported.'}})},Se.prototype.save=function(ge){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(ge?{filename:ge}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},Se.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},Se.prototype.set=function(ge){if(z(ge)!=="object")return this;var ve=Object.keys(ge||{}).map(function(Me){if(Me in Se.template.prop)return function(){this.prop[Me]=ge[Me]};switch(Me){case"margin":return this.setMargin.bind(this,ge.margin);case"jsPDF":return function(){return this.opt.jsPDF=ge.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,ge.pageSize);default:return function(){this.opt[Me]=ge[Me]}}},this);return this.then(function(){return this.thenList(ve)})},Se.prototype.get=function(ge,ve){return this.then(function(){var Me=ge in Se.template.prop?this.prop[ge]:this.opt[ge];return ve?ve(Me):Me})},Se.prototype.setMargin=function(ge){return this.then(function(){switch(z(ge)){case"number":ge=[ge,ge,ge,ge];case"array":if(ge.length===2&&(ge=[ge[0],ge[1],ge[0],ge[1]]),ge.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=ge}).then(this.setPageSize)},Se.prototype.setPageSize=function(ge){function ve(Me,ze){return Math.floor(Me*ze/72*96)}return this.then(function(){(ge=ge||le.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(ge.inner={width:ge.width-this.opt.margin[1]-this.opt.margin[3],height:ge.height-this.opt.margin[0]-this.opt.margin[2]},ge.inner.px={width:ve(ge.inner.width,ge.k),height:ve(ge.inner.height,ge.k)},ge.inner.ratio=ge.inner.height/ge.inner.width),this.prop.pageSize=ge})},Se.prototype.setProgress=function(ge,ve,Me,ze){return ge!=null&&(this.progress.val=ge),ve!=null&&(this.progress.state=ve),Me!=null&&(this.progress.n=Me),ze!=null&&(this.progress.stack=ze),this.progress.ratio=this.progress.val/this.progress.state,this},Se.prototype.updateProgress=function(ge,ve,Me,ze){return this.setProgress(ge?this.progress.val+ge:null,ve||null,Me?this.progress.n+Me:null,ze?this.progress.stack.concat(ze):null)},Se.prototype.then=function(ge,ve){var Me=this;return this.thenCore(ge,ve,function(ze,et){return Me.updateProgress(null,null,1,[ze]),Promise.prototype.then.call(this,function(ot){return Me.updateProgress(null,ze),ot}).then(ze,et).then(function(ot){return Me.updateProgress(1),ot})})},Se.prototype.thenCore=function(ge,ve,Me){Me=Me||Promise.prototype.then;var ze=this;ge&&(ge=ge.bind(ze)),ve&&(ve=ve.bind(ze));var et=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?ze:Se.convert(Object.assign({},ze),Promise.prototype),ot=Me.call(et,ge,ve);return Se.convert(ot,ze.__proto__)},Se.prototype.thenExternal=function(ge,ve){return Promise.prototype.then.call(this,ge,ve)},Se.prototype.thenList=function(ge){var ve=this;return ge.forEach(function(Me){ve=ve.thenCore(Me)}),ve},Se.prototype.catch=function(ge){ge&&(ge=ge.bind(this));var ve=Promise.prototype.catch.call(this,ge);return Se.convert(ve,this)},Se.prototype.catchExternal=function(ge){return Promise.prototype.catch.call(this,ge)},Se.prototype.error=function(ge){return this.then(function(){throw new Error(ge)})},Se.prototype.using=Se.prototype.set,Se.prototype.saveAs=Se.prototype.save,Se.prototype.export=Se.prototype.output,Se.prototype.run=Se.prototype.then,le.getPageSize=function(ge,ve,Me){if((0,h.default)(ge)==="object"){var ze=ge;ge=ze.orientation,ve=ze.unit||ve,Me=ze.format||Me}ve=ve||"mm",Me=Me||"a4",ge=(""+(ge||"P")).toLowerCase();var et,ot=(""+Me).toLowerCase(),Pe={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(ve){case"pt":et=1;break;case"mm":et=2.834645669291339;break;case"cm":et=28.346456692913385;break;case"in":et=72;break;case"px":et=.75;break;case"pc":case"em":et=12;break;case"ex":et=6;break;default:throw"Invalid unit: "+ve}var yt,gt=0,wt=0;if(Pe.hasOwnProperty(ot))gt=Pe[ot][1]/et,wt=Pe[ot][0]/et;else try{gt=Me[1],wt=Me[0]}catch{throw new Error("Invalid format: "+Me)}if(ge==="p"||ge==="portrait")ge="p",wt>gt&&(yt=wt,wt=gt,gt=yt);else{if(ge!=="l"&&ge!=="landscape")throw"Invalid orientation: "+ge;ge="l",gt>wt&&(yt=wt,wt=gt,gt=yt)}return{width:wt,height:gt,unit:ve,k:et,orientation:ge}},I.html=function(ge,ve){(ve=ve||{}).callback=ve.callback||function(){},ve.html2canvas=ve.html2canvas||{},ve.html2canvas.canvas=ve.html2canvas.canvas||this.canvas,ve.jsPDF=ve.jsPDF||this,ve.fontFaces=ve.fontFaces?ve.fontFaces.map(Ds):null;var Me=new Se(ve);return ve.worker?Me:Me.from(ge).doCallback()}})(le.API),le.API.addJS=function(I){return yo=I,this.internal.events.subscribe("postPutResources",function(){Il=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Il+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),$i=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+yo+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Il!==void 0&&$i!==void 0&&this.internal.out("/Names <</JavaScript "+Il+" 0 R>>")}),this},(function(I){var E;I.events.push(["postPutResources",function(){var D=this,z=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var X=D.outline.render().split(/\r\n/),ae=0;ae<X.length;ae++){var Se=X[ae],ge=z.exec(Se);if(ge!=null){var ve=ge[1];D.internal.newObjectDeferredBegin(ve,!1)}D.internal.write(Se)}if(this.outline.createNamedDestinations){var Me=this.internal.pages.length,ze=[];for(ae=0;ae<Me;ae++){var et=D.internal.newObject();ze.push(et);var ot=D.internal.getPageInfo(ae+1);D.internal.write("<< /D["+ot.objId+" 0 R /XYZ null null null]>> endobj")}var Pe=D.internal.newObject();for(D.internal.write("<< /Names [ "),ae=0;ae<ze.length;ae++)D.internal.write("(page_"+(ae+1)+")"+ze[ae]+" 0 R");D.internal.write(" ] >>","endobj"),E=D.internal.newObject(),D.internal.write("<< /Dests "+Pe+" 0 R"),D.internal.write(">>","endobj")}}]),I.events.push(["putCatalog",function(){var D=this;D.outline.root.children.length>0&&(D.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&D.internal.write("/Names "+E+" 0 R"))}]),I.events.push(["initialized",function(){var D=this;D.outline={createNamedDestinations:!1,root:{children:[]}},D.outline.add=function(z,X,ae){var Se={title:X,options:ae,children:[]};return z==null&&(z=this.root),z.children.push(Se),Se},D.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=D,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},D.outline.genIds_r=function(z){z.id=D.internal.newObjectDeferred();for(var X=0;X<z.children.length;X++)this.genIds_r(z.children[X])},D.outline.renderRoot=function(z){this.objStart(z),this.line("/Type /Outlines"),z.children.length>0&&(this.line("/First "+this.makeRef(z.children[0])),this.line("/Last "+this.makeRef(z.children[z.children.length-1]))),this.line("/Count "+this.count_r({count:0},z)),this.objEnd()},D.outline.renderItems=function(z){for(var X=this.ctx.pdf.internal.getVerticalCoordinateString,ae=0;ae<z.children.length;ae++){var Se=z.children[ae];this.objStart(Se),this.line("/Title "+this.makeString(Se.title)),this.line("/Parent "+this.makeRef(z)),ae>0&&this.line("/Prev "+this.makeRef(z.children[ae-1])),ae<z.children.length-1&&this.line("/Next "+this.makeRef(z.children[ae+1])),Se.children.length>0&&(this.line("/First "+this.makeRef(Se.children[0])),this.line("/Last "+this.makeRef(Se.children[Se.children.length-1])));var ge=this.count=this.count_r({count:0},Se);if(ge>0&&this.line("/Count "+ge),Se.options&&Se.options.pageNumber){var ve=D.internal.getPageInfo(Se.options.pageNumber);this.line("/Dest ["+ve.objId+" 0 R /XYZ 0 "+X(0)+" 0]")}this.objEnd()}for(var Me=0;Me<z.children.length;Me++)this.renderItems(z.children[Me])},D.outline.line=function(z){this.ctx.val+=z+`\r
`},D.outline.makeRef=function(z){return z.id+" 0 R"},D.outline.makeString=function(z){return"("+D.internal.pdfEscape(z)+")"},D.outline.objStart=function(z){this.ctx.val+=`\r
`+z.id+` 0 obj\r
<<\r
`},D.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},D.outline.count_r=function(z,X){for(var ae=0;ae<X.children.length;ae++)z.count++,this.count_r(z,X.children[ae]);return z.count}}])})(le.API),(function(I){var E=[192,193,194,195,196,197,198,199];I.processJPEG=function(D,z,X,ae,Se,ge){var ve,Me=this.decode.DCT_DECODE,ze=null;if(typeof D=="string"||this.__addimage__.isArrayBuffer(D)||this.__addimage__.isArrayBufferView(D)){switch(D=Se||D,D=this.__addimage__.isArrayBuffer(D)?new Uint8Array(D):D,ve=(function(et){for(var ot,Pe=256*et.charCodeAt(4)+et.charCodeAt(5),yt=et.length,gt={width:0,height:0,numcomponents:1},wt=4;wt<yt;wt+=2){if(wt+=Pe,E.indexOf(et.charCodeAt(wt+1))!==-1){ot=256*et.charCodeAt(wt+5)+et.charCodeAt(wt+6),gt={width:256*et.charCodeAt(wt+7)+et.charCodeAt(wt+8),height:ot,numcomponents:et.charCodeAt(wt+9)};break}Pe=256*et.charCodeAt(wt+2)+et.charCodeAt(wt+3)}return gt})(D=this.__addimage__.isArrayBufferView(D)?this.__addimage__.arrayBufferToBinaryString(D):D),ve.numcomponents){case 1:ge=this.color_spaces.DEVICE_GRAY;break;case 4:ge=this.color_spaces.DEVICE_CMYK;break;case 3:ge=this.color_spaces.DEVICE_RGB}ze={data:D,width:ve.width,height:ve.height,colorSpace:ge,bitsPerComponent:8,filter:Me,index:z,alias:X}}return ze}})(le.API),le.API.processPNG=function(I,E,D,z){if(this.__addimage__.isArrayBuffer(I)&&(I=new Uint8Array(I)),this.__addimage__.isArrayBufferView(I)){var X,ae=(0,f.decode)(I,{checkCrc:!0}),Se=ae.width,ge=ae.height,ve=ae.channels,Me=ae.palette,ze=ae.depth;X=Me&&ve===1?(function(Yt){for(var Ot=Yt.width,or=Yt.height,at=Yt.data,ht=Yt.palette,Tt=Yt.depth,_t=!1,dr=[],xr=[],jr=void 0,Jt=!1,br=0,Zr=0;Zr<ht.length;Zr++){var Wr=(0,A.default)(ht[Zr],4),Ze=Wr[0],bt=Wr[1],St=Wr[2],Vt=Wr[3];dr.push(Ze,bt,St),Vt!=null&&(Vt===0?(br++,xr.length<1&&xr.push(Zr)):Vt<255&&(Jt=!0))}if(Jt||br>1){_t=!0,xr=void 0;var Gt=Ot*or;jr=new Uint8Array(Gt);for(var nr=new DataView(at.buffer),yr=0;yr<Gt;yr++){var wr=ds(nr,yr,Tt),Pr=(0,A.default)(ht[wr],4)[3];jr[yr]=Pr}}else br===0&&(xr=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:_t?8:void 0,colorBytes:at,alphaBytes:jr,needSMask:_t,palette:dr,mask:xr}})(ae):ve===2||ve===4?(function(Yt){for(var Ot=Yt.data,or=Yt.width,at=Yt.height,ht=Yt.channels,Tt=Yt.depth,_t=ht===2?"DeviceGray":"DeviceRGB",dr=ht-1,xr=or*at,jr=dr,Jt=xr*jr,br=1*xr,Zr=Math.ceil(Jt*Tt/8),Wr=Math.ceil(br*Tt/8),Ze=new Uint8Array(Zr),bt=new Uint8Array(Wr),St=new DataView(Ot.buffer),Vt=new DataView(Ze.buffer),Gt=new DataView(bt.buffer),nr=!1,yr=0;yr<xr;yr++){for(var wr=yr*ht,Pr=0;Pr<jr;Pr++)Gn(Vt,ds(St,wr+Pr,Tt),yr*jr+Pr,Tt);var Jr=ds(St,wr+jr,Tt);Jr<(1<<Tt)-1&&(nr=!0),Gn(Gt,Jr,1*yr,Tt)}return{colorSpace:_t,colorsPerPixel:dr,sMaskBitsPerComponent:nr?Tt:void 0,colorBytes:Ze,alphaBytes:bt,needSMask:nr}})(ae):(function(Yt){var Ot=Yt.data,or=Yt.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:or,colorsPerPixel:or==="DeviceGray"?1:3,colorBytes:Ot instanceof Uint16Array?(function(at){for(var ht=at.length,Tt=new Uint8Array(2*ht),_t=new DataView(Tt.buffer,Tt.byteOffset,Tt.byteLength),dr=0;dr<ht;dr++)_t.setUint16(2*dr,at[dr],!1);return Tt})(Ot):Ot,needSMask:!1}})(ae);var et,ot,Pe,yt=X,gt=yt.colorSpace,wt=yt.colorsPerPixel,nt=yt.sMaskBitsPerComponent,Ft=yt.colorBytes,qt=yt.alphaBytes,It=yt.needSMask,tt=yt.palette,Wt=yt.mask,ur=null;return z!==le.API.image_compression.NONE&&typeof d.zlibSync=="function"?(ur=(function(Yt){var Ot;switch(Yt){case le.API.image_compression.FAST:Ot=11;break;case le.API.image_compression.MEDIUM:Ot=13;break;case le.API.image_compression.SLOW:Ot=14;break;default:Ot=12}return Ot})(z),et=this.decode.FLATE_DECODE,ot="/Predictor ".concat(ur," /Colors ").concat(wt," /BitsPerComponent ").concat(ze," /Columns ").concat(Se),I=nl(Ft,Math.ceil(Se*wt*ze/8),wt,ze,z),It&&(Pe=nl(qt,Math.ceil(Se*nt/8),1,nt,z))):(et=void 0,ot=void 0,I=Ft,It&&(Pe=qt)),(this.__addimage__.isArrayBuffer(I)||this.__addimage__.isArrayBufferView(I))&&(I=this.__addimage__.arrayBufferToBinaryString(I)),(Pe&&this.__addimage__.isArrayBuffer(Pe)||this.__addimage__.isArrayBufferView(Pe))&&(Pe=this.__addimage__.arrayBufferToBinaryString(Pe)),{alias:D,data:I,index:E,filter:et,decodeParameters:ot,transparency:Wt,palette:tt,sMask:Pe,predictor:ur,width:Se,height:ge,bitsPerComponent:ze,sMaskBitsPerComponent:nt,colorSpace:gt}}},(function(I){I.processGIF89A=function(E,D,z,X){var ae=new bs(E),Se=ae.width,ge=ae.height,ve=[];ae.decodeAndBlitFrameRGBA(0,ve);var Me={data:ve,width:Se,height:ge},ze=new Po(100).encode(Me,100);return I.processJPEG.call(this,ze,D,z,X)},I.processGIF87A=I.processGIF89A})(le.API),Li.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var I=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(I);for(var E=0;E<I;E++){var D=this.datav.getUint8(this.pos++,!0),z=this.datav.getUint8(this.pos++,!0),X=this.datav.getUint8(this.pos++,!0),ae=this.datav.getUint8(this.pos++,!0);this.palette[E]={red:X,green:z,blue:D,quad:ae}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Li.prototype.parseBGR=function(){this.pos=this.offset;try{var I="bit"+this.bitPP,E=this.width*this.height*4;this.data=new Uint8Array(E),this[I]()}catch(D){x.log("bit decode error:"+D)}},Li.prototype.bit1=function(){var I,E=Math.ceil(this.width/8),D=E%4;for(I=this.height-1;I>=0;I--){for(var z=this.bottom_up?I:this.height-1-I,X=0;X<E;X++)for(var ae=this.datav.getUint8(this.pos++,!0),Se=z*this.width*4+8*X*4,ge=0;ge<8&&8*X+ge<this.width;ge++){var ve=this.palette[ae>>7-ge&1];this.data[Se+4*ge]=ve.blue,this.data[Se+4*ge+1]=ve.green,this.data[Se+4*ge+2]=ve.red,this.data[Se+4*ge+3]=255}D!==0&&(this.pos+=4-D)}},Li.prototype.bit4=function(){for(var I=Math.ceil(this.width/2),E=I%4,D=this.height-1;D>=0;D--){for(var z=this.bottom_up?D:this.height-1-D,X=0;X<I;X++){var ae=this.datav.getUint8(this.pos++,!0),Se=z*this.width*4+2*X*4,ge=ae>>4,ve=15&ae,Me=this.palette[ge];if(this.data[Se]=Me.blue,this.data[Se+1]=Me.green,this.data[Se+2]=Me.red,this.data[Se+3]=255,2*X+1>=this.width)break;Me=this.palette[ve],this.data[Se+4]=Me.blue,this.data[Se+4+1]=Me.green,this.data[Se+4+2]=Me.red,this.data[Se+4+3]=255}E!==0&&(this.pos+=4-E)}},Li.prototype.bit8=function(){for(var I=this.width%4,E=this.height-1;E>=0;E--){for(var D=this.bottom_up?E:this.height-1-E,z=0;z<this.width;z++){var X=this.datav.getUint8(this.pos++,!0),ae=D*this.width*4+4*z;if(X<this.palette.length){var Se=this.palette[X];this.data[ae]=Se.red,this.data[ae+1]=Se.green,this.data[ae+2]=Se.blue,this.data[ae+3]=255}else this.data[ae]=255,this.data[ae+1]=255,this.data[ae+2]=255,this.data[ae+3]=255}I!==0&&(this.pos+=4-I)}},Li.prototype.bit15=function(){for(var I=this.width%3,E=parseInt("11111",2),D=this.height-1;D>=0;D--){for(var z=this.bottom_up?D:this.height-1-D,X=0;X<this.width;X++){var ae=this.datav.getUint16(this.pos,!0);this.pos+=2;var Se=(ae&E)/E*255|0,ge=(ae>>5&E)/E*255|0,ve=(ae>>10&E)/E*255|0,Me=ae>>15?255:0,ze=z*this.width*4+4*X;this.data[ze]=ve,this.data[ze+1]=ge,this.data[ze+2]=Se,this.data[ze+3]=Me}this.pos+=I}},Li.prototype.bit16=function(){for(var I=this.width%3,E=parseInt("11111",2),D=parseInt("111111",2),z=this.height-1;z>=0;z--){for(var X=this.bottom_up?z:this.height-1-z,ae=0;ae<this.width;ae++){var Se=this.datav.getUint16(this.pos,!0);this.pos+=2;var ge=(Se&E)/E*255|0,ve=(Se>>5&D)/D*255|0,Me=(Se>>11)/E*255|0,ze=X*this.width*4+4*ae;this.data[ze]=Me,this.data[ze+1]=ve,this.data[ze+2]=ge,this.data[ze+3]=255}this.pos+=I}},Li.prototype.bit24=function(){for(var I=this.height-1;I>=0;I--){for(var E=this.bottom_up?I:this.height-1-I,D=0;D<this.width;D++){var z=this.datav.getUint8(this.pos++,!0),X=this.datav.getUint8(this.pos++,!0),ae=this.datav.getUint8(this.pos++,!0),Se=E*this.width*4+4*D;this.data[Se]=ae,this.data[Se+1]=X,this.data[Se+2]=z,this.data[Se+3]=255}this.pos+=this.width%4}},Li.prototype.bit32=function(){for(var I=this.height-1;I>=0;I--)for(var E=this.bottom_up?I:this.height-1-I,D=0;D<this.width;D++){var z=this.datav.getUint8(this.pos++,!0),X=this.datav.getUint8(this.pos++,!0),ae=this.datav.getUint8(this.pos++,!0),Se=this.datav.getUint8(this.pos++,!0),ge=E*this.width*4+4*D;this.data[ge]=ae,this.data[ge+1]=X,this.data[ge+2]=z,this.data[ge+3]=Se}},Li.prototype.getData=function(){return this.data},(function(I){I.processBMP=function(E,D,z,X){var ae=new Li(E,!1),Se=ae.width,ge=ae.height,ve={data:ae.getData(),width:Se,height:ge},Me=new Po(100).encode(ve,100);return I.processJPEG.call(this,Me,D,z,X)}})(le.API),co.prototype.getData=function(){return this.data},(function(I){I.processWEBP=function(E,D,z,X){var ae=new co(E),Se=ae.width,ge=ae.height,ve={data:ae.getData(),width:Se,height:ge},Me=new Po(100).encode(ve,100);return I.processJPEG.call(this,Me,D,z,X)}})(le.API),le.API.processRGBA=function(I,E,D){for(var z=I.data,X=z.length,ae=new Uint8Array(X/4*3),Se=new Uint8Array(X/4),ge=0,ve=0,Me=0;Me<X;Me+=4){var ze=z[Me],et=z[Me+1],ot=z[Me+2],Pe=z[Me+3];ae[ge++]=ze,ae[ge++]=et,ae[ge++]=ot,Se[ve++]=Pe}var yt=this.__addimage__.arrayBufferToBinaryString(ae);return{alpha:this.__addimage__.arrayBufferToBinaryString(Se),data:yt,index:E,alias:D,colorSpace:"DeviceRGB",bitsPerComponent:8,width:I.width,height:I.height}},le.API.setLanguage=function(I){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[I]!==void 0&&(this.internal.languageSettings.languageCode=I,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},fa=le.API,tc=fa.getCharWidthsArray=function(I,E){var D,z,X=(E=E||{}).font||this.internal.getFont(),ae=E.fontSize||this.internal.getFontSize(),Se=E.charSpace||this.internal.getCharSpace(),ge=E.widths?E.widths:X.metadata.Unicode.widths,ve=ge.fof?ge.fof:1,Me=E.kerning?E.kerning:X.metadata.Unicode.kerning,ze=Me.fof?Me.fof:1,et=E.doKerning!==!1,ot=0,Pe=I.length,yt=0,gt=ge[0]||ve,wt=[];for(D=0;D<Pe;D++)z=I.charCodeAt(D),typeof X.metadata.widthOfString=="function"?wt.push((X.metadata.widthOfGlyph(X.metadata.characterToGlyph(z))+Se*(1e3/ae)||0)/1e3):(ot=et&&(0,h.default)(Me[z])==="object"&&!isNaN(parseInt(Me[z][yt],10))?Me[z][yt]/ze:0,wt.push((ge[z]||gt)/ve+ot)),yt=z;return wt},ai=fa.getStringUnitWidth=function(I,E){var D=(E=E||{}).fontSize||this.internal.getFontSize(),z=E.font||this.internal.getFont(),X=E.charSpace||this.internal.getCharSpace();return fa.processArabic&&(I=fa.processArabic(I)),typeof z.metadata.widthOfString=="function"?z.metadata.widthOfString(I,D,X)/D:tc.apply(this,arguments).reduce(function(ae,Se){return ae+Se},0)},To=function(I,E,D,z){for(var X=[],ae=0,Se=I.length,ge=0;ae!==Se&&ge+E[ae]<D;)ge+=E[ae],ae++;X.push(I.slice(0,ae));var ve=ae;for(ge=0;ae!==Se;)ge+E[ae]>z&&(X.push(I.slice(ve,ae)),ge=0,ve=ae),ge+=E[ae],ae++;return ve!==ae&&X.push(I.slice(ve,ae)),X},Ys=function(I,E,D){D||(D={});var z,X,ae,Se,ge,ve,Me,ze=[],et=[ze],ot=D.textIndent||0,Pe=0,yt=0,gt=I.split(" "),wt=tc.apply(this,[" ",D])[0];if(ve=D.lineIndent===-1?gt[0].length+2:D.lineIndent||0){var nt=Array(ve).join(" "),Ft=[];gt.map(function(It){(It=It.split(/\s*\n/)).length>1?Ft=Ft.concat(It.map(function(tt,Wt){return(Wt&&tt.length?`
`:"")+tt})):Ft.push(It[0])}),gt=Ft,ve=ai.apply(this,[nt,D])}for(ae=0,Se=gt.length;ae<Se;ae++){var qt=0;if(z=gt[ae],ve&&z[0]==`
`&&(z=z.substr(1),qt=1),ot+Pe+(yt=(X=tc.apply(this,[z,D])).reduce(function(It,tt){return It+tt},0))>E||qt){if(yt>E){for(ge=To.apply(this,[z,X,E-(ot+Pe),E]),ze.push(ge.shift()),ze=[ge.pop()];ge.length;)et.push([ge.shift()]);yt=X.slice(z.length-(ze[0]?ze[0].length:0)).reduce(function(It,tt){return It+tt},0)}else ze=[z];et.push(ze),ot=yt+ve,Pe=wt}else ze.push(z),ot+=Pe+yt,Pe=wt}return Me=ve?function(It,tt){return(tt?nt:"")+It.join(" ")}:function(It){return It.join(" ")},et.map(Me)},fa.splitTextToSize=function(I,E,D){var z,X=(D=D||{}).fontSize||this.internal.getFontSize(),ae=(function(ze){if(ze.widths&&ze.kerning)return{widths:ze.widths,kerning:ze.kerning};var et=this.internal.getFont(ze.fontName,ze.fontStyle),ot="Unicode";return et.metadata[ot]?{widths:et.metadata[ot].widths||{0:1},kerning:et.metadata[ot].kerning||{}}:{font:et.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,D);z=Array.isArray(I)?I:String(I).split(/\r?\n/);var Se=1*this.internal.scaleFactor*E/X;ae.textIndent=D.textIndent?1*D.textIndent*this.internal.scaleFactor/X:0,ae.lineIndent=D.lineIndent;var ge,ve,Me=[];for(ge=0,ve=z.length;ge<ve;ge++)Me=Me.concat(Ys.apply(this,[z[ge],Se,ae]));return Me},(function(I){I.__fontmetrics__=I.__fontmetrics__||{};for(var E="0123456789abcdef",D="klmnopqrstuvwxyz",z={},X={},ae=0;ae<16;ae++)z[D[ae]]=E[ae],X[E[ae]]=D[ae];var Se=function(ot){return"0x"+parseInt(ot,10).toString(16)},ge=I.__fontmetrics__.compress=function(ot){var Pe,yt,gt,wt,nt=["{"];for(var Ft in ot){if(Pe=ot[Ft],isNaN(parseInt(Ft,10))?yt="'"+Ft+"'":(Ft=parseInt(Ft,10),yt=(yt=Se(Ft).slice(2)).slice(0,-1)+X[yt.slice(-1)]),typeof Pe=="number")Pe<0?(gt=Se(Pe).slice(3),wt="-"):(gt=Se(Pe).slice(2),wt=""),gt=wt+gt.slice(0,-1)+X[gt.slice(-1)];else{if((0,h.default)(Pe)!=="object")throw new Error("Don't know what to do with value type "+(0,h.default)(Pe)+".");gt=ge(Pe)}nt.push(yt+gt)}return nt.push("}"),nt.join("")},ve=I.__fontmetrics__.uncompress=function(ot){if(typeof ot!="string")throw new Error("Invalid argument passed to uncompress.");for(var Pe,yt,gt,wt,nt={},Ft=1,qt=nt,It=[],tt="",Wt="",ur=ot.length-1,Yt=1;Yt<ur;Yt+=1)(wt=ot[Yt])=="'"?Pe?(gt=Pe.join(""),Pe=void 0):Pe=[]:Pe?Pe.push(wt):wt=="{"?(It.push([qt,gt]),qt={},gt=void 0):wt=="}"?((yt=It.pop())[0][yt[1]]=qt,gt=void 0,qt=yt[0]):wt=="-"?Ft=-1:gt===void 0?z.hasOwnProperty(wt)?(tt+=z[wt],gt=parseInt(tt,16)*Ft,Ft=1,tt=""):tt+=wt:z.hasOwnProperty(wt)?(Wt+=z[wt],qt[gt]=parseInt(Wt,16)*Ft,Ft=1,gt=void 0,Wt=""):Wt+=wt;return nt},Me={codePages:["WinAnsiEncoding"],WinAnsiEncoding:ve("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},ze={Unicode:{Courier:Me,"Courier-Bold":Me,"Courier-BoldOblique":Me,"Courier-Oblique":Me,Helvetica:Me,"Helvetica-Bold":Me,"Helvetica-BoldOblique":Me,"Helvetica-Oblique":Me,"Times-Roman":Me,"Times-Bold":Me,"Times-BoldItalic":Me,"Times-Italic":Me}},et={Unicode:{"Courier-Oblique":ve("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":ve("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":ve("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:ve("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":ve("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":ve("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:ve("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:ve("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":ve("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:ve("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":ve("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":ve("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":ve("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":ve("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};I.events.push(["addFont",function(ot){var Pe=ot.font,yt=et.Unicode[Pe.postScriptName];yt&&(Pe.metadata.Unicode={},Pe.metadata.Unicode.widths=yt.widths,Pe.metadata.Unicode.kerning=yt.kerning);var gt=ze.Unicode[Pe.postScriptName];gt&&(Pe.metadata.Unicode.encoding=gt,Pe.encoding=gt.codePages[0])}])})(le.API),(function(I){var E=function(D){for(var z=D.length,X=new Uint8Array(z),ae=0;ae<z;ae++)X[ae]=D.charCodeAt(ae);return X};I.API.events.push(["addFont",function(D){var z=void 0,X=D.font,ae=D.instance;if(!X.isStandardFont){if(ae===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+X.postScriptName+"').");if(typeof(z=ae.existsFileInVFS(X.postScriptName)===!1?ae.loadFile(X.postScriptName):ae.getFileFromVFS(X.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+X.postScriptName+"').");(function(Se,ge){ge=/^\x00\x01\x00\x00/.test(ge)?E(ge):E(C(ge)),Se.metadata=I.API.TTFFont.open(ge),Se.metadata.Unicode=Se.metadata.Unicode||{encoding:{},kerning:{},widths:[]},Se.metadata.glyIdsUsed=[0]})(X,z)}}])})(le),le.API.addSvgAsImage=function(I,E,D,z,X,ae,Se,ge){if(isNaN(E)||isNaN(D))throw x.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(z)||isNaN(X))throw x.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var ve=document.createElement("canvas");ve.width=z,ve.height=X;var Me=ve.getContext("2d");Me.fillStyle="#fff",Me.fillRect(0,0,ve.width,ve.height);var ze={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},et=this;return(g.canvg?Promise.resolve(g.canvg):Promise.resolve().then(o.bind(o,"./node_modules/canvg/lib/index.es.js"))).catch(function(ot){return Promise.reject(new Error("Could not load canvg: "+ot))}).then(function(ot){return ot.default?ot.default:ot}).then(function(ot){return ot.fromString(Me,I,ze)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(ot){return ot.render(ze)}).then(function(){et.addImage(ve.toDataURL("image/jpeg",1),E,D,z,X,Se,ge)})},le.API.putTotalPages=function(I){var E,D=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(E=new RegExp(I,"g"),D=this.internal.getNumberOfPages()):(E=new RegExp(this.pdfEscape16(I,this.internal.getFont()),"g"),D=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var z=1;z<=this.internal.getNumberOfPages();z++)for(var X=0;X<this.internal.pages[z].length;X++)this.internal.pages[z][X]=this.internal.pages[z][X].replace(E,D);return this},le.API.viewerPreferences=function(I,E){var D;I=I||{},E=E||!1;var z,X,ae,Se={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},ge=Object.keys(Se),ve=[],Me=0,ze=0,et=0;function ot(yt,gt){var wt,nt=!1;for(wt=0;wt<yt.length;wt+=1)yt[wt]===gt&&(nt=!0);return nt}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(Se)),this.internal.viewerpreferences.isSubscribed=!1),D=this.internal.viewerpreferences.configuration,I==="reset"||E===!0){var Pe=ge.length;for(et=0;et<Pe;et+=1)D[ge[et]].value=D[ge[et]].defaultValue,D[ge[et]].explicitSet=!1}if((0,h.default)(I)==="object"){for(X in I)if(ae=I[X],ot(ge,X)&&ae!==void 0){if(D[X].type==="boolean"&&typeof ae=="boolean")D[X].value=ae;else if(D[X].type==="name"&&ot(D[X].valueSet,ae))D[X].value=ae;else if(D[X].type==="integer"&&Number.isInteger(ae))D[X].value=ae;else if(D[X].type==="array"){for(Me=0;Me<ae.length;Me+=1)if(z=!0,ae[Me].length===1&&typeof ae[Me][0]=="number")ve.push(String(ae[Me]-1));else if(ae[Me].length>1){for(ze=0;ze<ae[Me].length;ze+=1)typeof ae[Me][ze]!="number"&&(z=!1);z===!0&&ve.push([ae[Me][0]-1,ae[Me][1]-1].join(" "))}D[X].value="["+ve.join(" ")+"]"}else D[X].value=D[X].defaultValue;D[X].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var yt,gt=[];for(yt in D)D[yt].explicitSet===!0&&(D[yt].type==="name"?gt.push("/"+yt+" /"+D[yt].value):gt.push("/"+yt+" "+D[yt].value));gt.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+gt.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=D,this},(function(I){var E=function(){var z='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',X=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),ae=unescape(encodeURIComponent(z)),Se=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),ge=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),ve=unescape(encodeURIComponent("</x:xmpmeta>")),Me=ae.length+Se.length+ge.length+X.length+ve.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+Me+" >>"),this.internal.write("stream"),this.internal.write(X+ae+Se+ge+ve),this.internal.write("endstream"),this.internal.write("endobj")},D=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};I.addMetadata=function(z,X){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:z,namespaceuri:X||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",D),this.internal.events.subscribe("postPutResources",E)),this}})(le.API),(function(I){var E=I.API,D=E.pdfEscape16=function(ae,Se){for(var ge,ve=Se.metadata.Unicode.widths,Me=["","0","00","000","0000"],ze=[""],et=0,ot=ae.length;et<ot;++et){if(ge=Se.metadata.characterToGlyph(ae.charCodeAt(et)),Se.metadata.glyIdsUsed.push(ge),Se.metadata.toUnicode[ge]=ae.charCodeAt(et),ve.indexOf(ge)==-1&&(ve.push(ge),ve.push([parseInt(Se.metadata.widthOfGlyph(ge),10)])),ge=="0")return ze.join("");ge=ge.toString(16),ze.push(Me[4-ge.length],ge)}return ze.join("")},z=function(ae){var Se,ge,ve,Me,ze,et,ot;for(ze=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,ve=[],et=0,ot=(ge=Object.keys(ae).sort(function(Pe,yt){return Pe-yt})).length;et<ot;et++)Se=ge[et],ve.length>=100&&(ze+=`
`+ve.length+` beginbfchar
`+ve.join(`
`)+`
endbfchar`,ve=[]),ae[Se]!==void 0&&ae[Se]!==null&&typeof ae[Se].toString=="function"&&(Me=("0000"+ae[Se].toString(16)).slice(-4),Se=("0000"+(+Se).toString(16)).slice(-4),ve.push("<"+Se+"><"+Me+">"));return ve.length&&(ze+=`
`+ve.length+` beginbfchar
`+ve.join(`
`)+`
endbfchar
`),ze+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};E.events.push(["putFont",function(ae){(function(Se){var ge=Se.font,ve=Se.out,Me=Se.newObject,ze=Se.putStream;if(ge.metadata instanceof I.API.TTFFont&&ge.encoding==="Identity-H"){for(var et=ge.metadata.Unicode.widths,ot=ge.metadata.subset.encode(ge.metadata.glyIdsUsed,1),Pe="",yt=0;yt<ot.length;yt++)Pe+=String.fromCharCode(ot[yt]);var gt=Me();ze({data:Pe,addLength1:!0,objectId:gt}),ve("endobj");var wt=Me();ze({data:z(ge.metadata.toUnicode),addLength1:!0,objectId:wt}),ve("endobj");var nt=Me();ve("<<"),ve("/Type /FontDescriptor"),ve("/FontName /"+re(ge.fontName)),ve("/FontFile2 "+gt+" 0 R"),ve("/FontBBox "+I.API.PDFObject.convert(ge.metadata.bbox)),ve("/Flags "+ge.metadata.flags),ve("/StemV "+ge.metadata.stemV),ve("/ItalicAngle "+ge.metadata.italicAngle),ve("/Ascent "+ge.metadata.ascender),ve("/Descent "+ge.metadata.decender),ve("/CapHeight "+ge.metadata.capHeight),ve(">>"),ve("endobj");var Ft=Me();ve("<<"),ve("/Type /Font"),ve("/BaseFont /"+re(ge.fontName)),ve("/FontDescriptor "+nt+" 0 R"),ve("/W "+I.API.PDFObject.convert(et)),ve("/CIDToGIDMap /Identity"),ve("/DW 1000"),ve("/Subtype /CIDFontType2"),ve("/CIDSystemInfo"),ve("<<"),ve("/Supplement 0"),ve("/Registry (Adobe)"),ve("/Ordering ("+ge.encoding+")"),ve(">>"),ve(">>"),ve("endobj"),ge.objectNumber=Me(),ve("<<"),ve("/Type /Font"),ve("/Subtype /Type0"),ve("/ToUnicode "+wt+" 0 R"),ve("/BaseFont /"+re(ge.fontName)),ve("/Encoding /"+ge.encoding),ve("/DescendantFonts ["+Ft+" 0 R]"),ve(">>"),ve("endobj"),ge.isAlreadyPutted=!0}})(ae)}]),E.events.push(["putFont",function(ae){(function(Se){var ge=Se.font,ve=Se.out,Me=Se.newObject,ze=Se.putStream;if(ge.metadata instanceof I.API.TTFFont&&ge.encoding==="WinAnsiEncoding"){for(var et=ge.metadata.rawData,ot="",Pe=0;Pe<et.length;Pe++)ot+=String.fromCharCode(et[Pe]);var yt=Me();ze({data:ot,addLength1:!0,objectId:yt}),ve("endobj");var gt=Me();ze({data:z(ge.metadata.toUnicode),addLength1:!0,objectId:gt}),ve("endobj");var wt=Me();ve("<<"),ve("/Descent "+ge.metadata.decender),ve("/CapHeight "+ge.metadata.capHeight),ve("/StemV "+ge.metadata.stemV),ve("/Type /FontDescriptor"),ve("/FontFile2 "+yt+" 0 R"),ve("/Flags 96"),ve("/FontBBox "+I.API.PDFObject.convert(ge.metadata.bbox)),ve("/FontName /"+re(ge.fontName)),ve("/ItalicAngle "+ge.metadata.italicAngle),ve("/Ascent "+ge.metadata.ascender),ve(">>"),ve("endobj"),ge.objectNumber=Me();for(var nt=0;nt<ge.metadata.hmtx.widths.length;nt++)ge.metadata.hmtx.widths[nt]=parseInt(ge.metadata.hmtx.widths[nt]*(1e3/ge.metadata.head.unitsPerEm));ve("<</Subtype/TrueType/Type/Font/ToUnicode "+gt+" 0 R/BaseFont/"+re(ge.fontName)+"/FontDescriptor "+wt+" 0 R/Encoding/"+ge.encoding+" /FirstChar 29 /LastChar 255 /Widths "+I.API.PDFObject.convert(ge.metadata.hmtx.widths)+">>"),ve("endobj"),ge.isAlreadyPutted=!0}})(ae)}]);var X=function(ae){var Se,ge=ae.text||"",ve=ae.x,Me=ae.y,ze=ae.options||{},et=ae.mutex||{},ot=et.pdfEscape,Pe=et.activeFontKey,yt=et.fonts,gt=Pe,wt="",nt=0,Ft="",qt=yt[gt].encoding;if(yt[gt].encoding!=="Identity-H")return{text:ge,x:ve,y:Me,options:ze,mutex:et};for(Ft=ge,gt=Pe,Array.isArray(ge)&&(Ft=ge[0]),nt=0;nt<Ft.length;nt+=1)yt[gt].metadata.hasOwnProperty("cmap")&&(Se=yt[gt].metadata.cmap.unicode.codeMap[Ft[nt].charCodeAt(0)]),Se||Ft[nt].charCodeAt(0)<256&&yt[gt].metadata.hasOwnProperty("Unicode")?wt+=Ft[nt]:wt+="";var It="";return parseInt(gt.slice(1))<14||qt==="WinAnsiEncoding"?It=ot(wt,gt).split("").map(function(tt){return tt.charCodeAt(0).toString(16)}).join(""):qt==="Identity-H"&&(It=D(wt,yt[gt])),et.isHex=!0,{text:It,x:ve,y:Me,options:ze,mutex:et}};E.events.push(["postProcessText",function(ae){var Se=ae.text||"",ge=[],ve={text:Se,x:ae.x,y:ae.y,options:ae.options,mutex:ae.mutex};if(Array.isArray(Se)){var Me=0;for(Me=0;Me<Se.length;Me+=1)Array.isArray(Se[Me])&&Se[Me].length===3?ge.push([X(Object.assign({},ve,{text:Se[Me][0]})).text,Se[Me][1],Se[Me][2]]):ge.push(X(Object.assign({},ve,{text:Se[Me]})).text);ae.text=ge}else ae.text=X(Object.assign({},ve,{text:Se})).text}])})(le),(function(I){var E=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};I.existsFileInVFS=function(D){return E.call(this),this.internal.vFS[D]!==void 0},I.addFileToVFS=function(D,z){return E.call(this),this.internal.vFS[D]=z,this},I.getFileFromVFS=function(D){return E.call(this),this.internal.vFS[D]!==void 0?this.internal.vFS[D]:null}})(le.API),(function(I){I.__bidiEngine__=I.prototype.__bidiEngine__=function(z){var X,ae,Se,ge,ve,Me,ze,et=E,ot=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],Pe=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],yt={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},gt={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},wt=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],nt=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),Ft=!1,qt=0;this.__bidiEngine__={};var It=function(at){var ht=at.charCodeAt(),Tt=ht>>8,_t=gt[Tt];return _t!==void 0?et[256*_t+(255&ht)]:Tt===252||Tt===253?"AL":nt.test(Tt)?"L":Tt===8?"R":"N"},tt=function(at){for(var ht,Tt=0;Tt<at.length;Tt++){if((ht=It(at.charAt(Tt)))==="L")return!1;if(ht==="R")return!0}return!1},Wt=function(at,ht,Tt,_t){var dr,xr,jr,Jt,br=ht[_t];switch(br){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":Ft=!1;break;case"N":case"AN":break;case"EN":Ft&&(br="AN");break;case"AL":Ft=!0,br="R";break;case"WS":case"BN":br="N";break;case"CS":_t<1||_t+1>=ht.length||(dr=Tt[_t-1])!=="EN"&&dr!=="AN"||(xr=ht[_t+1])!=="EN"&&xr!=="AN"?br="N":Ft&&(xr="AN"),br=xr===dr?xr:"N";break;case"ES":br=(dr=_t>0?Tt[_t-1]:"B")==="EN"&&_t+1<ht.length&&ht[_t+1]==="EN"?"EN":"N";break;case"ET":if(_t>0&&Tt[_t-1]==="EN"){br="EN";break}if(Ft){br="N";break}for(jr=_t+1,Jt=ht.length;jr<Jt&&ht[jr]==="ET";)jr++;br=jr<Jt&&ht[jr]==="EN"?"EN":"N";break;case"NSM":if(Se&&!ge){for(Jt=ht.length,jr=_t+1;jr<Jt&&ht[jr]==="NSM";)jr++;if(jr<Jt){var Zr=at[_t],Wr=Zr>=1425&&Zr<=2303||Zr===64286;if(dr=ht[jr],Wr&&(dr==="R"||dr==="AL")){br="R";break}}}br=_t<1||(dr=ht[_t-1])==="B"?"N":Tt[_t-1];break;case"B":Ft=!1,X=!0,br=qt;break;case"S":ae=!0,br="N"}return br},ur=function(at,ht,Tt){var _t=at.split("");return Tt&&Yt(_t,Tt,{hiLevel:qt}),_t.reverse(),ht&&ht.reverse(),_t.join("")},Yt=function(at,ht,Tt){var _t,dr,xr,jr,Jt,br=-1,Zr=at.length,Wr=0,Ze=[],bt=qt?Pe:ot,St=[];for(Ft=!1,X=!1,ae=!1,dr=0;dr<Zr;dr++)St[dr]=It(at[dr]);for(xr=0;xr<Zr;xr++){if(Jt=Wr,Ze[xr]=Wt(at,St,Ze,xr),_t=240&(Wr=bt[Jt][yt[Ze[xr]]]),Wr&=15,ht[xr]=jr=bt[Wr][5],_t>0)if(_t===16){for(dr=br;dr<xr;dr++)ht[dr]=1;br=-1}else br=-1;if(bt[Wr][6])br===-1&&(br=xr);else if(br>-1){for(dr=br;dr<xr;dr++)ht[dr]=jr;br=-1}St[xr]==="B"&&(ht[xr]=0),Tt.hiLevel|=jr}ae&&(function(Vt,Gt,nr){for(var yr=0;yr<nr;yr++)if(Vt[yr]==="S"){Gt[yr]=qt;for(var wr=yr-1;wr>=0&&Vt[wr]==="WS";wr--)Gt[wr]=qt}})(St,ht,Zr)},Ot=function(at,ht,Tt,_t,dr){if(!(dr.hiLevel<at)){if(at===1&&qt===1&&!X)return ht.reverse(),void(Tt&&Tt.reverse());for(var xr,jr,Jt,br,Zr=ht.length,Wr=0;Wr<Zr;){if(_t[Wr]>=at){for(Jt=Wr+1;Jt<Zr&&_t[Jt]>=at;)Jt++;for(br=Wr,jr=Jt-1;br<jr;br++,jr--)xr=ht[br],ht[br]=ht[jr],ht[jr]=xr,Tt&&(xr=Tt[br],Tt[br]=Tt[jr],Tt[jr]=xr);Wr=Jt}Wr++}}},or=function(at,ht,Tt){var _t=at.split(""),dr={hiLevel:qt};return Tt||(Tt=[]),Yt(_t,Tt,dr),(function(xr,jr,Jt){if(Jt.hiLevel!==0&&ze)for(var br,Zr=0;Zr<xr.length;Zr++)jr[Zr]===1&&(br=wt.indexOf(xr[Zr]))>=0&&(xr[Zr]=wt[br+1])})(_t,Tt,dr),Ot(2,_t,ht,Tt,dr),Ot(1,_t,ht,Tt,dr),_t.join("")};return this.__bidiEngine__.doBidiReorder=function(at,ht,Tt){if((function(dr,xr){if(xr)for(var jr=0;jr<dr.length;jr++)xr[jr]=jr;ge===void 0&&(ge=tt(dr)),Me===void 0&&(Me=tt(dr))})(at,ht),Se||!ve||Me)if(Se&&ve&&ge^Me)qt=ge?1:0,at=ur(at,ht,Tt);else if(!Se&&ve&&Me)qt=ge?1:0,at=or(at,ht,Tt),at=ur(at,ht);else if(!Se||ge||ve||Me){if(Se&&!ve&&ge^Me)at=ur(at,ht),ge?(qt=0,at=or(at,ht,Tt)):(qt=1,at=or(at,ht,Tt),at=ur(at,ht));else if(Se&&ge&&!ve&&Me)qt=1,at=or(at,ht,Tt),at=ur(at,ht);else if(!Se&&!ve&&ge^Me){var _t=ze;ge?(qt=1,at=or(at,ht,Tt),qt=0,ze=!1,at=or(at,ht,Tt),ze=_t):(qt=0,at=or(at,ht,Tt),at=ur(at,ht),qt=1,ze=!1,at=or(at,ht,Tt),ze=_t,at=ur(at,ht))}}else qt=0,at=or(at,ht,Tt);else qt=ge?1:0,at=or(at,ht,Tt);return at},this.__bidiEngine__.setOptions=function(at){at&&(Se=at.isInputVisual,ve=at.isOutputVisual,ge=at.isInputRtl,Me=at.isOutputRtl,ze=at.isSymmetricSwapping)},this.__bidiEngine__.setOptions(z),this.__bidiEngine__};var E=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],D=new I.__bidiEngine__({isInputVisual:!0});I.API.events.push(["postProcessText",function(z){var X=z.text;z.x,z.y;var ae=z.options||{};z.mutex,ae.lang;var Se=[];if(ae.isInputVisual=typeof ae.isInputVisual!="boolean"||ae.isInputVisual,D.setOptions(ae),Object.prototype.toString.call(X)==="[object Array]"){var ge=0;for(Se=[],ge=0;ge<X.length;ge+=1)Object.prototype.toString.call(X[ge])==="[object Array]"?Se.push([D.doBidiReorder(X[ge][0]),X[ge][1],X[ge][2]]):Se.push([D.doBidiReorder(X[ge])]);z.text=Se}else z.text=D.doBidiReorder(X);D.setOptions({isInputVisual:!0})}])})(le),le.API.TTFFont=(function(){function I(E){var D;if(this.rawData=E,D=this.contents=new Di(E),this.contents.pos=4,D.readString(4)==="ttcf")throw new Error("TTCF not supported.");D.pos=0,this.parse(),this.subset=new st(this),this.registerTTF()}return I.open=function(E){return new I(E)},I.prototype.parse=function(){return this.directory=new bo(this.contents),this.head=new zi(this),this.name=new oe(this),this.cmap=new Zs(this),this.toUnicode={},this.hhea=new Ms(this),this.maxp=new he(this),this.hmtx=new M(this),this.post=new Ht(this),this.os2=new Do(this),this.loca=new qe(this),this.glyf=new ne(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},I.prototype.registerTTF=function(){var E,D,z,X,ae;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var Se,ge,ve,Me;for(Me=[],Se=0,ge=(ve=this.bbox).length;Se<ge;Se++)E=ve[Se],Me.push(Math.round(E*this.scaleFactor));return Me}).call(this),this.stemV=0,this.post.exists?(z=255&(X=this.post.italic_angle),32768&(D=X>>16)&&(D=-(1+(65535^D))),this.italicAngle=+(D+"."+z)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(ae=this.familyClass)===1||ae===2||ae===3||ae===4||ae===5||ae===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},I.prototype.characterToGlyph=function(E){var D;return((D=this.cmap.unicode)!=null?D.codeMap[E]:void 0)||0},I.prototype.widthOfGlyph=function(E){var D;return D=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(E).advance*D},I.prototype.widthOfString=function(E,D,z){var X,ae,Se,ge;for(Se=0,ae=0,ge=(E=""+E).length;0<=ge?ae<ge:ae>ge;ae=0<=ge?++ae:--ae)X=E.charCodeAt(ae),Se+=this.widthOfGlyph(this.characterToGlyph(X))+z*(1e3/D)||0;return Se*(D/1e3)},I.prototype.lineHeight=function(E,D){var z;return D==null&&(D=!1),z=D?this.lineGap:0,(this.ascender+z-this.decender)/1e3*E},I})();var Ji,Di=(function(){function I(E){this.data=E??[],this.pos=0,this.length=this.data.length}return I.prototype.readByte=function(){return this.data[this.pos++]},I.prototype.writeByte=function(E){return this.data[this.pos++]=E},I.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},I.prototype.writeUInt32=function(E){return this.writeByte(E>>>24&255),this.writeByte(E>>16&255),this.writeByte(E>>8&255),this.writeByte(255&E)},I.prototype.readInt32=function(){var E;return(E=this.readUInt32())>=2147483648?E-4294967296:E},I.prototype.writeInt32=function(E){return E<0&&(E+=4294967296),this.writeUInt32(E)},I.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},I.prototype.writeUInt16=function(E){return this.writeByte(E>>8&255),this.writeByte(255&E)},I.prototype.readInt16=function(){var E;return(E=this.readUInt16())>=32768?E-65536:E},I.prototype.writeInt16=function(E){return E<0&&(E+=65536),this.writeUInt16(E)},I.prototype.readString=function(E){var D,z;for(z=[],D=0;0<=E?D<E:D>E;D=0<=E?++D:--D)z[D]=String.fromCharCode(this.readByte());return z.join("")},I.prototype.writeString=function(E){var D,z,X;for(X=[],D=0,z=E.length;0<=z?D<z:D>z;D=0<=z?++D:--D)X.push(this.writeByte(E.charCodeAt(D)));return X},I.prototype.readShort=function(){return this.readInt16()},I.prototype.writeShort=function(E){return this.writeInt16(E)},I.prototype.readLongLong=function(){var E,D,z,X,ae,Se,ge,ve;return E=this.readByte(),D=this.readByte(),z=this.readByte(),X=this.readByte(),ae=this.readByte(),Se=this.readByte(),ge=this.readByte(),ve=this.readByte(),128&E?-1*(72057594037927940*(255^E)+281474976710656*(255^D)+1099511627776*(255^z)+4294967296*(255^X)+16777216*(255^ae)+65536*(255^Se)+256*(255^ge)+(255^ve)+1):72057594037927940*E+281474976710656*D+1099511627776*z+4294967296*X+16777216*ae+65536*Se+256*ge+ve},I.prototype.writeLongLong=function(E){var D,z;return D=Math.floor(E/4294967296),z=4294967295&E,this.writeByte(D>>24&255),this.writeByte(D>>16&255),this.writeByte(D>>8&255),this.writeByte(255&D),this.writeByte(z>>24&255),this.writeByte(z>>16&255),this.writeByte(z>>8&255),this.writeByte(255&z)},I.prototype.readInt=function(){return this.readInt32()},I.prototype.writeInt=function(E){return this.writeInt32(E)},I.prototype.read=function(E){var D,z;for(D=[],z=0;0<=E?z<E:z>E;z=0<=E?++z:--z)D.push(this.readByte());return D},I.prototype.write=function(E){var D,z,X,ae;for(ae=[],z=0,X=E.length;z<X;z++)D=E[z],ae.push(this.writeByte(D));return ae},I})(),bo=(function(){var I;function E(D){var z,X,ae;for(this.scalarType=D.readInt(),this.tableCount=D.readShort(),this.searchRange=D.readShort(),this.entrySelector=D.readShort(),this.rangeShift=D.readShort(),this.tables={},X=0,ae=this.tableCount;0<=ae?X<ae:X>ae;X=0<=ae?++X:--X)z={tag:D.readString(4),checksum:D.readInt(),offset:D.readInt(),length:D.readInt()},this.tables[z.tag]=z}return E.prototype.encode=function(D){var z,X,ae,Se,ge,ve,Me,ze,et,ot,Pe,yt,gt;for(gt in Pe=Object.keys(D).length,ve=Math.log(2),et=16*Math.floor(Math.log(Pe)/ve),Se=Math.floor(et/ve),ze=16*Pe-et,(X=new Di).writeInt(this.scalarType),X.writeShort(Pe),X.writeShort(et),X.writeShort(Se),X.writeShort(ze),ae=16*Pe,Me=X.pos+ae,ge=null,yt=[],D)for(ot=D[gt],X.writeString(gt),X.writeInt(I(ot)),X.writeInt(Me),X.writeInt(ot.length),yt=yt.concat(ot),gt==="head"&&(ge=Me),Me+=ot.length;Me%4;)yt.push(0),Me++;return X.write(yt),z=2981146554-I(X.data),X.pos=ge+8,X.writeUInt32(z),X.data},I=function(D){var z,X,ae,Se;for(D=Q.call(D);D.length%4;)D.push(0);for(ae=new Di(D),X=0,z=0,Se=D.length;z<Se;z=z+=4)X+=ae.readUInt32();return 4294967295&X},E})(),Fo={}.hasOwnProperty,va=function(I,E){for(var D in E)Fo.call(E,D)&&(I[D]=E[D]);function z(){this.constructor=I}return z.prototype=E.prototype,I.prototype=new z,I.__super__=E.prototype,I};Ji=(function(){function I(E){var D;this.file=E,D=this.file.directory.tables[this.tag],this.exists=!!D,D&&(this.offset=D.offset,this.length=D.length,this.parse(this.file.contents))}return I.prototype.parse=function(){},I.prototype.encode=function(){},I.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},I})();var zi=(function(){function I(){return I.__super__.constructor.apply(this,arguments)}return va(I,Ji),I.prototype.tag="head",I.prototype.parse=function(E){return E.pos=this.offset,this.version=E.readInt(),this.revision=E.readInt(),this.checkSumAdjustment=E.readInt(),this.magicNumber=E.readInt(),this.flags=E.readShort(),this.unitsPerEm=E.readShort(),this.created=E.readLongLong(),this.modified=E.readLongLong(),this.xMin=E.readShort(),this.yMin=E.readShort(),this.xMax=E.readShort(),this.yMax=E.readShort(),this.macStyle=E.readShort(),this.lowestRecPPEM=E.readShort(),this.fontDirectionHint=E.readShort(),this.indexToLocFormat=E.readShort(),this.glyphDataFormat=E.readShort()},I.prototype.encode=function(E){var D;return(D=new Di).writeInt(this.version),D.writeInt(this.revision),D.writeInt(this.checkSumAdjustment),D.writeInt(this.magicNumber),D.writeShort(this.flags),D.writeShort(this.unitsPerEm),D.writeLongLong(this.created),D.writeLongLong(this.modified),D.writeShort(this.xMin),D.writeShort(this.yMin),D.writeShort(this.xMax),D.writeShort(this.yMax),D.writeShort(this.macStyle),D.writeShort(this.lowestRecPPEM),D.writeShort(this.fontDirectionHint),D.writeShort(E),D.writeShort(this.glyphDataFormat),D.data},I})(),js=(function(){function I(E,D){var z,X,ae,Se,ge,ve,Me,ze,et,ot,Pe,yt,gt,wt,nt,Ft,qt;switch(this.platformID=E.readUInt16(),this.encodingID=E.readShort(),this.offset=D+E.readInt(),et=E.pos,E.pos=this.offset,this.format=E.readUInt16(),this.length=E.readUInt16(),this.language=E.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(ve=0;ve<256;++ve)this.codeMap[ve]=E.readByte();break;case 4:for(Pe=E.readUInt16(),ot=Pe/2,E.pos+=6,ae=(function(){var It,tt;for(tt=[],ve=It=0;0<=ot?It<ot:It>ot;ve=0<=ot?++It:--It)tt.push(E.readUInt16());return tt})(),E.pos+=2,gt=(function(){var It,tt;for(tt=[],ve=It=0;0<=ot?It<ot:It>ot;ve=0<=ot?++It:--It)tt.push(E.readUInt16());return tt})(),Me=(function(){var It,tt;for(tt=[],ve=It=0;0<=ot?It<ot:It>ot;ve=0<=ot?++It:--It)tt.push(E.readUInt16());return tt})(),ze=(function(){var It,tt;for(tt=[],ve=It=0;0<=ot?It<ot:It>ot;ve=0<=ot?++It:--It)tt.push(E.readUInt16());return tt})(),X=(this.length-E.pos+this.offset)/2,ge=(function(){var It,tt;for(tt=[],ve=It=0;0<=X?It<X:It>X;ve=0<=X?++It:--It)tt.push(E.readUInt16());return tt})(),ve=nt=0,qt=ae.length;nt<qt;ve=++nt)for(wt=ae[ve],z=Ft=yt=gt[ve];yt<=wt?Ft<=wt:Ft>=wt;z=yt<=wt?++Ft:--Ft)ze[ve]===0?Se=z+Me[ve]:(Se=ge[ze[ve]/2+(z-yt)-(ot-ve)]||0)!==0&&(Se+=Me[ve]),this.codeMap[z]=65535&Se}E.pos=et}return I.encode=function(E,D){var z,X,ae,Se,ge,ve,Me,ze,et,ot,Pe,yt,gt,wt,nt,Ft,qt,It,tt,Wt,ur,Yt,Ot,or,at,ht,Tt,_t,dr,xr,jr,Jt,br,Zr,Wr,Ze,bt,St,Vt,Gt,nr,yr,wr,Pr,Jr,Nn;switch(_t=new Di,Se=Object.keys(E).sort(function(En,ua){return En-ua}),D){case"macroman":for(gt=0,wt=(function(){var En=[];for(yt=0;yt<256;++yt)En.push(0);return En})(),Ft={0:0},ae={},dr=0,br=Se.length;dr<br;dr++)Ft[wr=E[X=Se[dr]]]==null&&(Ft[wr]=++gt),ae[X]={old:E[X],new:Ft[E[X]]},wt[X]=Ft[E[X]];return _t.writeUInt16(1),_t.writeUInt16(0),_t.writeUInt32(12),_t.writeUInt16(0),_t.writeUInt16(262),_t.writeUInt16(0),_t.write(wt),{charMap:ae,subtable:_t.data,maxGlyphID:gt+1};case"unicode":for(ht=[],et=[],qt=0,Ft={},z={},nt=Me=null,xr=0,Zr=Se.length;xr<Zr;xr++)Ft[tt=E[X=Se[xr]]]==null&&(Ft[tt]=++qt),z[X]={old:tt,new:Ft[tt]},ge=Ft[tt]-X,nt!=null&&ge===Me||(nt&&et.push(nt),ht.push(X),Me=ge),nt=X;for(nt&&et.push(nt),et.push(65535),ht.push(65535),or=2*(Ot=ht.length),Yt=2*Math.pow(Math.log(Ot)/Math.LN2,2),ot=Math.log(Yt/2)/Math.LN2,ur=2*Ot-Yt,ve=[],Wt=[],Pe=[],yt=jr=0,Wr=ht.length;jr<Wr;yt=++jr){if(at=ht[yt],ze=et[yt],at===65535){ve.push(0),Wt.push(0);break}if(at-(Tt=z[at].new)>=32768)for(ve.push(0),Wt.push(2*(Pe.length+Ot-yt)),X=Jt=at;at<=ze?Jt<=ze:Jt>=ze;X=at<=ze?++Jt:--Jt)Pe.push(z[X].new);else ve.push(Tt-at),Wt.push(0)}for(_t.writeUInt16(3),_t.writeUInt16(1),_t.writeUInt32(12),_t.writeUInt16(4),_t.writeUInt16(16+8*Ot+2*Pe.length),_t.writeUInt16(0),_t.writeUInt16(or),_t.writeUInt16(Yt),_t.writeUInt16(ot),_t.writeUInt16(ur),nr=0,Ze=et.length;nr<Ze;nr++)X=et[nr],_t.writeUInt16(X);for(_t.writeUInt16(0),yr=0,bt=ht.length;yr<bt;yr++)X=ht[yr],_t.writeUInt16(X);for(Pr=0,St=ve.length;Pr<St;Pr++)ge=ve[Pr],_t.writeUInt16(ge);for(Jr=0,Vt=Wt.length;Jr<Vt;Jr++)It=Wt[Jr],_t.writeUInt16(It);for(Nn=0,Gt=Pe.length;Nn<Gt;Nn++)gt=Pe[Nn],_t.writeUInt16(gt);return{charMap:z,subtable:_t.data,maxGlyphID:qt+1}}},I})(),Zs=(function(){function I(){return I.__super__.constructor.apply(this,arguments)}return va(I,Ji),I.prototype.tag="cmap",I.prototype.parse=function(E){var D,z,X;for(E.pos=this.offset,this.version=E.readUInt16(),X=E.readUInt16(),this.tables=[],this.unicode=null,z=0;0<=X?z<X:z>X;z=0<=X?++z:--z)D=new js(E,this.offset),this.tables.push(D),D.isUnicode&&this.unicode==null&&(this.unicode=D);return!0},I.encode=function(E,D){var z,X;return D==null&&(D="macroman"),z=js.encode(E,D),(X=new Di).writeUInt16(0),X.writeUInt16(1),z.table=X.data.concat(z.subtable),z},I})(),Ms=(function(){function I(){return I.__super__.constructor.apply(this,arguments)}return va(I,Ji),I.prototype.tag="hhea",I.prototype.parse=function(E){return E.pos=this.offset,this.version=E.readInt(),this.ascender=E.readShort(),this.decender=E.readShort(),this.lineGap=E.readShort(),this.advanceWidthMax=E.readShort(),this.minLeftSideBearing=E.readShort(),this.minRightSideBearing=E.readShort(),this.xMaxExtent=E.readShort(),this.caretSlopeRise=E.readShort(),this.caretSlopeRun=E.readShort(),this.caretOffset=E.readShort(),E.pos+=8,this.metricDataFormat=E.readShort(),this.numberOfMetrics=E.readUInt16()},I})(),Do=(function(){function I(){return I.__super__.constructor.apply(this,arguments)}return va(I,Ji),I.prototype.tag="OS/2",I.prototype.parse=function(E){if(E.pos=this.offset,this.version=E.readUInt16(),this.averageCharWidth=E.readShort(),this.weightClass=E.readUInt16(),this.widthClass=E.readUInt16(),this.type=E.readShort(),this.ySubscriptXSize=E.readShort(),this.ySubscriptYSize=E.readShort(),this.ySubscriptXOffset=E.readShort(),this.ySubscriptYOffset=E.readShort(),this.ySuperscriptXSize=E.readShort(),this.ySuperscriptYSize=E.readShort(),this.ySuperscriptXOffset=E.readShort(),this.ySuperscriptYOffset=E.readShort(),this.yStrikeoutSize=E.readShort(),this.yStrikeoutPosition=E.readShort(),this.familyClass=E.readShort(),this.panose=(function(){var D,z;for(z=[],D=0;D<10;++D)z.push(E.readByte());return z})(),this.charRange=(function(){var D,z;for(z=[],D=0;D<4;++D)z.push(E.readInt());return z})(),this.vendorID=E.readString(4),this.selection=E.readShort(),this.firstCharIndex=E.readShort(),this.lastCharIndex=E.readShort(),this.version>0&&(this.ascent=E.readShort(),this.descent=E.readShort(),this.lineGap=E.readShort(),this.winAscent=E.readShort(),this.winDescent=E.readShort(),this.codePageRange=(function(){var D,z;for(z=[],D=0;D<2;D=++D)z.push(E.readInt());return z})(),this.version>1))return this.xHeight=E.readShort(),this.capHeight=E.readShort(),this.defaultChar=E.readShort(),this.breakChar=E.readShort(),this.maxContext=E.readShort()},I})(),Ht=(function(){function I(){return I.__super__.constructor.apply(this,arguments)}return va(I,Ji),I.prototype.tag="post",I.prototype.parse=function(E){var D,z,X;switch(E.pos=this.offset,this.format=E.readInt(),this.italicAngle=E.readInt(),this.underlinePosition=E.readShort(),this.underlineThickness=E.readShort(),this.isFixedPitch=E.readInt(),this.minMemType42=E.readInt(),this.maxMemType42=E.readInt(),this.minMemType1=E.readInt(),this.maxMemType1=E.readInt(),this.format){case 65536:case 196608:break;case 131072:var ae;for(z=E.readUInt16(),this.glyphNameIndex=[],ae=0;0<=z?ae<z:ae>z;ae=0<=z?++ae:--ae)this.glyphNameIndex.push(E.readUInt16());for(this.names=[],X=[];E.pos<this.offset+this.length;)D=E.readByte(),X.push(this.names.push(E.readString(D)));return X;case 151552:return z=E.readUInt16(),this.offsets=E.read(z);case 262144:return this.map=(function(){var Se,ge,ve;for(ve=[],ae=Se=0,ge=this.file.maxp.numGlyphs;0<=ge?Se<ge:Se>ge;ae=0<=ge?++Se:--Se)ve.push(E.readUInt32());return ve}).call(this)}},I})(),H=function(I,E){this.raw=I,this.length=I.length,this.platformID=E.platformID,this.encodingID=E.encodingID,this.languageID=E.languageID},oe=(function(){function I(){return I.__super__.constructor.apply(this,arguments)}return va(I,Ji),I.prototype.tag="name",I.prototype.parse=function(E){var D,z,X,ae,Se,ge,ve,Me,ze,et,ot;for(E.pos=this.offset,E.readShort(),D=E.readShort(),ge=E.readShort(),z=[],ae=0;0<=D?ae<D:ae>D;ae=0<=D?++ae:--ae)z.push({platformID:E.readShort(),encodingID:E.readShort(),languageID:E.readShort(),nameID:E.readShort(),length:E.readShort(),offset:this.offset+ge+E.readShort()});for(ve={},ae=ze=0,et=z.length;ze<et;ae=++ze)X=z[ae],E.pos=X.offset,Me=E.readString(X.length),Se=new H(Me,X),ve[ot=X.nameID]==null&&(ve[ot]=[]),ve[X.nameID].push(Se);this.strings=ve,this.copyright=ve[0],this.fontFamily=ve[1],this.fontSubfamily=ve[2],this.uniqueSubfamily=ve[3],this.fontName=ve[4],this.version=ve[5];try{this.postscriptName=ve[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=ve[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=ve[7],this.manufacturer=ve[8],this.designer=ve[9],this.description=ve[10],this.vendorUrl=ve[11],this.designerUrl=ve[12],this.license=ve[13],this.licenseUrl=ve[14],this.preferredFamily=ve[15],this.preferredSubfamily=ve[17],this.compatibleFull=ve[18],this.sampleText=ve[19]},I})(),he=(function(){function I(){return I.__super__.constructor.apply(this,arguments)}return va(I,Ji),I.prototype.tag="maxp",I.prototype.parse=function(E){return E.pos=this.offset,this.version=E.readInt(),this.numGlyphs=E.readUInt16(),this.maxPoints=E.readUInt16(),this.maxContours=E.readUInt16(),this.maxCompositePoints=E.readUInt16(),this.maxComponentContours=E.readUInt16(),this.maxZones=E.readUInt16(),this.maxTwilightPoints=E.readUInt16(),this.maxStorage=E.readUInt16(),this.maxFunctionDefs=E.readUInt16(),this.maxInstructionDefs=E.readUInt16(),this.maxStackElements=E.readUInt16(),this.maxSizeOfInstructions=E.readUInt16(),this.maxComponentElements=E.readUInt16(),this.maxComponentDepth=E.readUInt16()},I})(),M=(function(){function I(){return I.__super__.constructor.apply(this,arguments)}return va(I,Ji),I.prototype.tag="hmtx",I.prototype.parse=function(E){var D,z,X,ae,Se,ge,ve;for(E.pos=this.offset,this.metrics=[],D=0,ge=this.file.hhea.numberOfMetrics;0<=ge?D<ge:D>ge;D=0<=ge?++D:--D)this.metrics.push({advance:E.readUInt16(),lsb:E.readInt16()});for(X=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var Me,ze;for(ze=[],D=Me=0;0<=X?Me<X:Me>X;D=0<=X?++Me:--Me)ze.push(E.readInt16());return ze})(),this.widths=(function(){var Me,ze,et,ot;for(ot=[],Me=0,ze=(et=this.metrics).length;Me<ze;Me++)ae=et[Me],ot.push(ae.advance);return ot}).call(this),z=this.widths[this.widths.length-1],ve=[],D=Se=0;0<=X?Se<X:Se>X;D=0<=X?++Se:--Se)ve.push(this.widths.push(z));return ve},I.prototype.forGlyph=function(E){return E in this.metrics?this.metrics[E]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[E-this.metrics.length]}},I})(),Q=[].slice,ne=(function(){function I(){return I.__super__.constructor.apply(this,arguments)}return va(I,Ji),I.prototype.tag="glyf",I.prototype.parse=function(){return this.cache={}},I.prototype.glyphFor=function(E){var D,z,X,ae,Se,ge,ve,Me,ze,et;return E in this.cache?this.cache[E]:(ae=this.file.loca,D=this.file.contents,z=ae.indexOf(E),(X=ae.lengthOf(E))===0?this.cache[E]=null:(D.pos=this.offset+z,Se=(ge=new Di(D.read(X))).readShort(),Me=ge.readShort(),et=ge.readShort(),ve=ge.readShort(),ze=ge.readShort(),this.cache[E]=Se===-1?new Fe(ge,Me,et,ve,ze):new we(ge,Se,Me,et,ve,ze),this.cache[E]))},I.prototype.encode=function(E,D,z){var X,ae,Se,ge,ve;for(Se=[],ae=[],ge=0,ve=D.length;ge<ve;ge++)X=E[D[ge]],ae.push(Se.length),X&&(Se=Se.concat(X.encode(z)));return ae.push(Se.length),{table:Se,offsets:ae}},I})(),we=(function(){function I(E,D,z,X,ae,Se){this.raw=E,this.numberOfContours=D,this.xMin=z,this.yMin=X,this.xMax=ae,this.yMax=Se,this.compound=!1}return I.prototype.encode=function(){return this.raw.data},I})(),Fe=(function(){function I(E,D,z,X,ae){var Se,ge;for(this.raw=E,this.xMin=D,this.yMin=z,this.xMax=X,this.yMax=ae,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],Se=this.raw;ge=Se.readShort(),this.glyphOffsets.push(Se.pos),this.glyphIDs.push(Se.readUInt16()),32&ge;)Se.pos+=1&ge?4:2,128&ge?Se.pos+=8:64&ge?Se.pos+=4:8&ge&&(Se.pos+=2)}return I.prototype.encode=function(){var E,D,z;for(D=new Di(Q.call(this.raw.data)),E=0,z=this.glyphIDs.length;E<z;++E)D.pos=this.glyphOffsets[E];return D.data},I})(),qe=(function(){function I(){return I.__super__.constructor.apply(this,arguments)}return va(I,Ji),I.prototype.tag="loca",I.prototype.parse=function(E){var D,z;return E.pos=this.offset,D=this.file.head.indexToLocFormat,this.offsets=D===0?(function(){var X,ae;for(ae=[],z=0,X=this.length;z<X;z+=2)ae.push(2*E.readUInt16());return ae}).call(this):(function(){var X,ae;for(ae=[],z=0,X=this.length;z<X;z+=4)ae.push(E.readUInt32());return ae}).call(this)},I.prototype.indexOf=function(E){return this.offsets[E]},I.prototype.lengthOf=function(E){return this.offsets[E+1]-this.offsets[E]},I.prototype.encode=function(E,D){for(var z=new Uint32Array(this.offsets.length),X=0,ae=0,Se=0;Se<z.length;++Se)if(z[Se]=X,ae<D.length&&D[ae]==Se){++ae,z[Se]=X;var ge=this.offsets[Se],ve=this.offsets[Se+1]-ge;ve>0&&(X+=ve)}for(var Me=new Array(4*z.length),ze=0;ze<z.length;++ze)Me[4*ze+3]=255&z[ze],Me[4*ze+2]=(65280&z[ze])>>8,Me[4*ze+1]=(16711680&z[ze])>>16,Me[4*ze]=(4278190080&z[ze])>>24;return Me},I})(),st=(function(){function I(E){this.font=E,this.subset={},this.unicodes={},this.next=33}return I.prototype.generateCmap=function(){var E,D,z,X,ae;for(D in X=this.font.cmap.tables[0].codeMap,E={},ae=this.subset)z=ae[D],E[D]=X[z];return E},I.prototype.glyphsFor=function(E){var D,z,X,ae,Se,ge,ve;for(X={},Se=0,ge=E.length;Se<ge;Se++)X[ae=E[Se]]=this.font.glyf.glyphFor(ae);for(ae in D=[],X)(z=X[ae])!=null&&z.compound&&D.push.apply(D,z.glyphIDs);if(D.length>0)for(ae in ve=this.glyphsFor(D))z=ve[ae],X[ae]=z;return X},I.prototype.encode=function(E,D){var z,X,ae,Se,ge,ve,Me,ze,et,ot,Pe,yt,gt,wt,nt;for(X in z=Zs.encode(this.generateCmap(),"unicode"),Se=this.glyphsFor(E),Pe={0:0},nt=z.charMap)Pe[(ve=nt[X]).old]=ve.new;for(yt in ot=z.maxGlyphID,Se)yt in Pe||(Pe[yt]=ot++);return ze=(function(Ft){var qt,It;for(qt in It={},Ft)It[Ft[qt]]=qt;return It})(Pe),et=Object.keys(ze).sort(function(Ft,qt){return Ft-qt}),gt=(function(){var Ft,qt,It;for(It=[],Ft=0,qt=et.length;Ft<qt;Ft++)ge=et[Ft],It.push(ze[ge]);return It})(),ae=this.font.glyf.encode(Se,gt,Pe),Me=this.font.loca.encode(ae.offsets,gt),wt={cmap:this.font.cmap.raw(),glyf:ae.table,loca:Me,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(D)},this.font.os2.exists&&(wt["OS/2"]=this.font.os2.raw()),this.font.directory.encode(wt)},I})();le.API.PDFObject=(function(){var I;function E(){}return I=function(D,z){return(Array(z+1).join("0")+D).slice(-z)},E.convert=function(D){var z,X,ae,Se;if(Array.isArray(D))return"["+(function(){var ge,ve,Me;for(Me=[],ge=0,ve=D.length;ge<ve;ge++)z=D[ge],Me.push(E.convert(z));return Me})().join(" ")+"]";if(typeof D=="string")return"/"+D;if(D!=null&&D.isString)return"("+D+")";if(D instanceof Date)return"(D:"+I(D.getUTCFullYear(),4)+I(D.getUTCMonth(),2)+I(D.getUTCDate(),2)+I(D.getUTCHours(),2)+I(D.getUTCMinutes(),2)+I(D.getUTCSeconds(),2)+"Z)";if({}.toString.call(D)==="[object Object]"){for(X in ae=["<<"],D)Se=D[X],ae.push("/"+X+" "+E.convert(Se));return ae.push(">>"),ae.join(`
`)}return""+D},E})()}),"./node_modules/pako/dist/pako.esm.mjs":(function(l,u,o){o.r(u),o.d(u,{Deflate:function(){return Fr},Inflate:function(){return na},constants:function(){return Ai},default:function(){return hs},deflate:function(){return In},deflateRaw:function(){return Un},gzip:function(){return ma},inflate:function(){return Pa},inflateRaw:function(){return Ri},ungzip:function(){return Ui}});/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const h=4,d=0,A=1,f=2;function g(T){let Le=T.length;for(;--Le>=0;)T[Le]=0}const m=0,x=1,y=2,b=3,w=258,S=29,N=256,C=N+1+S,O=30,W=19,K=2*C+1,te=15,q=16,Y=7,P=256,ce=16,$=17,R=18,se=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),fe=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Te=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Ie=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),_e=512,Z=new Array((C+2)*2);g(Z);const Oe=new Array(O*2);g(Oe);const ee=new Array(_e);g(ee);const re=new Array(w-b+1);g(re);const je=new Array(S);g(je);const Ne=new Array(O);g(Ne);function ye(T,Le,J,Ye,At){this.static_tree=T,this.extra_bits=Le,this.extra_base=J,this.elems=Ye,this.max_length=At,this.has_stree=T&&T.length}let me,ie,le;function Ee(T,Le){this.dyn_tree=T,this.max_code=0,this.stat_desc=Le}const Re=T=>T<256?ee[T]:ee[256+(T>>>7)],Ue=(T,Le)=>{T.pending_buf[T.pending++]=Le&255,T.pending_buf[T.pending++]=Le>>>8&255},de=(T,Le,J)=>{T.bi_valid>q-J?(T.bi_buf|=Le<<T.bi_valid&65535,Ue(T,T.bi_buf),T.bi_buf=Le>>q-T.bi_valid,T.bi_valid+=J-q):(T.bi_buf|=Le<<T.bi_valid&65535,T.bi_valid+=J)},Ce=(T,Le,J)=>{de(T,J[Le*2],J[Le*2+1])},ue=(T,Le)=>{let J=0;do J|=T&1,T>>>=1,J<<=1;while(--Le>0);return J>>>1},$e=T=>{T.bi_valid===16?(Ue(T,T.bi_buf),T.bi_buf=0,T.bi_valid=0):T.bi_valid>=8&&(T.pending_buf[T.pending++]=T.bi_buf&255,T.bi_buf>>=8,T.bi_valid-=8)},it=(T,Le)=>{const J=Le.dyn_tree,Ye=Le.max_code,At=Le.stat_desc.static_tree,lt=Le.stat_desc.has_stree,er=Le.stat_desc.extra_bits,zt=Le.stat_desc.extra_base,Sn=Le.stat_desc.max_length;let Dt,ir,ba,fn,Rr,Nr,Hi=0;for(fn=0;fn<=te;fn++)T.bl_count[fn]=0;for(J[T.heap[T.heap_max]*2+1]=0,Dt=T.heap_max+1;Dt<K;Dt++)ir=T.heap[Dt],fn=J[J[ir*2+1]*2+1]+1,fn>Sn&&(fn=Sn,Hi++),J[ir*2+1]=fn,!(ir>Ye)&&(T.bl_count[fn]++,Rr=0,ir>=zt&&(Rr=er[ir-zt]),Nr=J[ir*2],T.opt_len+=Nr*(fn+Rr),lt&&(T.static_len+=Nr*(At[ir*2+1]+Rr)));if(Hi!==0){do{for(fn=Sn-1;T.bl_count[fn]===0;)fn--;T.bl_count[fn]--,T.bl_count[fn+1]+=2,T.bl_count[Sn]--,Hi-=2}while(Hi>0);for(fn=Sn;fn!==0;fn--)for(ir=T.bl_count[fn];ir!==0;)ba=T.heap[--Dt],!(ba>Ye)&&(J[ba*2+1]!==fn&&(T.opt_len+=(fn-J[ba*2+1])*J[ba*2],J[ba*2+1]=fn),ir--)}},Et=(T,Le,J)=>{const Ye=new Array(te+1);let At=0,lt,er;for(lt=1;lt<=te;lt++)At=At+J[lt-1]<<1,Ye[lt]=At;for(er=0;er<=Le;er++){let zt=T[er*2+1];zt!==0&&(T[er*2]=ue(Ye[zt]++,zt))}},Ct=()=>{let T,Le,J,Ye,At;const lt=new Array(te+1);for(J=0,Ye=0;Ye<S-1;Ye++)for(je[Ye]=J,T=0;T<1<<se[Ye];T++)re[J++]=Ye;for(re[J-1]=Ye,At=0,Ye=0;Ye<16;Ye++)for(Ne[Ye]=At,T=0;T<1<<fe[Ye];T++)ee[At++]=Ye;for(At>>=7;Ye<O;Ye++)for(Ne[Ye]=At<<7,T=0;T<1<<fe[Ye]-7;T++)ee[256+At++]=Ye;for(Le=0;Le<=te;Le++)lt[Le]=0;for(T=0;T<=143;)Z[T*2+1]=8,T++,lt[8]++;for(;T<=255;)Z[T*2+1]=9,T++,lt[9]++;for(;T<=279;)Z[T*2+1]=7,T++,lt[7]++;for(;T<=287;)Z[T*2+1]=8,T++,lt[8]++;for(Et(Z,C+1,lt),T=0;T<O;T++)Oe[T*2+1]=5,Oe[T*2]=ue(T,5);me=new ye(Z,se,N+1,C,te),ie=new ye(Oe,fe,0,O,te),le=new ye(new Array(0),Te,0,W,Y)},Bt=T=>{let Le;for(Le=0;Le<C;Le++)T.dyn_ltree[Le*2]=0;for(Le=0;Le<O;Le++)T.dyn_dtree[Le*2]=0;for(Le=0;Le<W;Le++)T.bl_tree[Le*2]=0;T.dyn_ltree[P*2]=1,T.opt_len=T.static_len=0,T.sym_next=T.matches=0},mr=T=>{T.bi_valid>8?Ue(T,T.bi_buf):T.bi_valid>0&&(T.pending_buf[T.pending++]=T.bi_buf),T.bi_buf=0,T.bi_valid=0},lr=(T,Le,J,Ye)=>{const At=Le*2,lt=J*2;return T[At]<T[lt]||T[At]===T[lt]&&Ye[Le]<=Ye[J]},He=(T,Le,J)=>{const Ye=T.heap[J];let At=J<<1;for(;At<=T.heap_len&&(At<T.heap_len&&lr(Le,T.heap[At+1],T.heap[At],T.depth)&&At++,!lr(Le,Ye,T.heap[At],T.depth));)T.heap[J]=T.heap[At],J=At,At<<=1;T.heap[J]=Ye},$t=(T,Le,J)=>{let Ye,At,lt=0,er,zt;if(T.sym_next!==0)do Ye=T.pending_buf[T.sym_buf+lt++]&255,Ye+=(T.pending_buf[T.sym_buf+lt++]&255)<<8,At=T.pending_buf[T.sym_buf+lt++],Ye===0?Ce(T,At,Le):(er=re[At],Ce(T,er+N+1,Le),zt=se[er],zt!==0&&(At-=je[er],de(T,At,zt)),Ye--,er=Re(Ye),Ce(T,er,J),zt=fe[er],zt!==0&&(Ye-=Ne[er],de(T,Ye,zt)));while(lt<T.sym_next);Ce(T,P,Le)},Nt=(T,Le)=>{const J=Le.dyn_tree,Ye=Le.stat_desc.static_tree,At=Le.stat_desc.has_stree,lt=Le.stat_desc.elems;let er,zt,Sn=-1,Dt;for(T.heap_len=0,T.heap_max=K,er=0;er<lt;er++)J[er*2]!==0?(T.heap[++T.heap_len]=Sn=er,T.depth[er]=0):J[er*2+1]=0;for(;T.heap_len<2;)Dt=T.heap[++T.heap_len]=Sn<2?++Sn:0,J[Dt*2]=1,T.depth[Dt]=0,T.opt_len--,At&&(T.static_len-=Ye[Dt*2+1]);for(Le.max_code=Sn,er=T.heap_len>>1;er>=1;er--)He(T,J,er);Dt=lt;do er=T.heap[1],T.heap[1]=T.heap[T.heap_len--],He(T,J,1),zt=T.heap[1],T.heap[--T.heap_max]=er,T.heap[--T.heap_max]=zt,J[Dt*2]=J[er*2]+J[zt*2],T.depth[Dt]=(T.depth[er]>=T.depth[zt]?T.depth[er]:T.depth[zt])+1,J[er*2+1]=J[zt*2+1]=Dt,T.heap[1]=Dt++,He(T,J,1);while(T.heap_len>=2);T.heap[--T.heap_max]=T.heap[1],it(T,Le),Et(J,Sn,T.bl_count)},Dr=(T,Le,J)=>{let Ye,At=-1,lt,er=Le[1],zt=0,Sn=7,Dt=4;for(er===0&&(Sn=138,Dt=3),Le[(J+1)*2+1]=65535,Ye=0;Ye<=J;Ye++)lt=er,er=Le[(Ye+1)*2+1],!(++zt<Sn&&lt===er)&&(zt<Dt?T.bl_tree[lt*2]+=zt:lt!==0?(lt!==At&&T.bl_tree[lt*2]++,T.bl_tree[ce*2]++):zt<=10?T.bl_tree[$*2]++:T.bl_tree[R*2]++,zt=0,At=lt,er===0?(Sn=138,Dt=3):lt===er?(Sn=6,Dt=3):(Sn=7,Dt=4))},vr=(T,Le,J)=>{let Ye,At=-1,lt,er=Le[1],zt=0,Sn=7,Dt=4;for(er===0&&(Sn=138,Dt=3),Ye=0;Ye<=J;Ye++)if(lt=er,er=Le[(Ye+1)*2+1],!(++zt<Sn&&lt===er)){if(zt<Dt)do Ce(T,lt,T.bl_tree);while(--zt!==0);else lt!==0?(lt!==At&&(Ce(T,lt,T.bl_tree),zt--),Ce(T,ce,T.bl_tree),de(T,zt-3,2)):zt<=10?(Ce(T,$,T.bl_tree),de(T,zt-3,3)):(Ce(T,R,T.bl_tree),de(T,zt-11,7));zt=0,At=lt,er===0?(Sn=138,Dt=3):lt===er?(Sn=6,Dt=3):(Sn=7,Dt=4)}},an=T=>{let Le;for(Dr(T,T.dyn_ltree,T.l_desc.max_code),Dr(T,T.dyn_dtree,T.d_desc.max_code),Nt(T,T.bl_desc),Le=W-1;Le>=3&&T.bl_tree[Ie[Le]*2+1]===0;Le--);return T.opt_len+=3*(Le+1)+5+5+4,Le},Xr=(T,Le,J,Ye)=>{let At;for(de(T,Le-257,5),de(T,J-1,5),de(T,Ye-4,4),At=0;At<Ye;At++)de(T,T.bl_tree[Ie[At]*2+1],3);vr(T,T.dyn_ltree,Le-1),vr(T,T.dyn_dtree,J-1)},Qr=T=>{let Le=4093624447,J;for(J=0;J<=31;J++,Le>>>=1)if(Le&1&&T.dyn_ltree[J*2]!==0)return d;if(T.dyn_ltree[18]!==0||T.dyn_ltree[20]!==0||T.dyn_ltree[26]!==0)return A;for(J=32;J<N;J++)if(T.dyn_ltree[J*2]!==0)return A;return d};let Ir=!1;const hr=T=>{Ir||(Ct(),Ir=!0),T.l_desc=new Ee(T.dyn_ltree,me),T.d_desc=new Ee(T.dyn_dtree,ie),T.bl_desc=new Ee(T.bl_tree,le),T.bi_buf=0,T.bi_valid=0,Bt(T)},pr=(T,Le,J,Ye)=>{de(T,(m<<1)+(Ye?1:0),3),mr(T),Ue(T,J),Ue(T,~J),J&&T.pending_buf.set(T.window.subarray(Le,Le+J),T.pending),T.pending+=J},Lr=T=>{de(T,x<<1,3),Ce(T,P,Z),$e(T)},$r=(T,Le,J,Ye)=>{let At,lt,er=0;T.level>0?(T.strm.data_type===f&&(T.strm.data_type=Qr(T)),Nt(T,T.l_desc),Nt(T,T.d_desc),er=an(T),At=T.opt_len+3+7>>>3,lt=T.static_len+3+7>>>3,lt<=At&&(At=lt)):At=lt=J+5,J+4<=At&&Le!==-1?pr(T,Le,J,Ye):T.strategy===h||lt===At?(de(T,(x<<1)+(Ye?1:0),3),$t(T,Z,Oe)):(de(T,(y<<1)+(Ye?1:0),3),Xr(T,T.l_desc.max_code+1,T.d_desc.max_code+1,er+1),$t(T,T.dyn_ltree,T.dyn_dtree)),Bt(T),Ye&&mr(T)},dn=(T,Le,J)=>(T.pending_buf[T.sym_buf+T.sym_next++]=Le,T.pending_buf[T.sym_buf+T.sym_next++]=Le>>8,T.pending_buf[T.sym_buf+T.sym_next++]=J,Le===0?T.dyn_ltree[J*2]++:(T.matches++,Le--,T.dyn_ltree[(re[J]+N+1)*2]++,T.dyn_dtree[Re(Le)*2]++),T.sym_next===T.sym_end);var zr=hr,Wn=pr,Hr=$r,Mr=dn,jn=Lr,cn={_tr_init:zr,_tr_stored_block:Wn,_tr_flush_block:Hr,_tr_tally:Mr,_tr_align:jn},ca=(T,Le,J,Ye)=>{let At=T&65535|0,lt=T>>>16&65535|0,er=0;for(;J!==0;){er=J>2e3?2e3:J,J-=er;do At=At+Le[Ye++]|0,lt=lt+At|0;while(--er);At%=65521,lt%=65521}return At|lt<<16|0};const Pt=()=>{let T,Le=[];for(var J=0;J<256;J++){T=J;for(var Ye=0;Ye<8;Ye++)T=T&1?3988292384^T>>>1:T>>>1;Le[J]=T}return Le},Kr=new Uint32Array(Pt());var tn=(T,Le,J,Ye)=>{const At=Kr,lt=Ye+J;T^=-1;for(let er=Ye;er<lt;er++)T=T>>>8^At[(T^Le[er])&255];return T^-1},cr={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ga={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:xi,_tr_stored_block:Cn,_tr_flush_block:Ts,_tr_tally:Ni,_tr_align:yi}=cn,{Z_NO_FLUSH:Wi,Z_PARTIAL_FLUSH:Ii,Z_FULL_FLUSH:Ds,Z_FINISH:Ga,Z_BLOCK:xs,Z_OK:Va,Z_STREAM_END:Sc,Z_STREAM_ERROR:ys,Z_DATA_ERROR:Bl,Z_BUF_ERROR:Ec,Z_DEFAULT_COMPRESSION:Il,Z_FILTERED:$i,Z_HUFFMAN_ONLY:yo,Z_RLE:fa,Z_FIXED:tc,Z_DEFAULT_STRATEGY:ai,Z_UNKNOWN:To,Z_DEFLATED:Ys}=ga,_o=9,nl=15,Oo=8,ii=256+1+29,ml=30,ko=19,Wc=2*ii+1,ds=15,Gn=3,Vi=258,bs=Vi+Gn+1,ws=32,Po=42,Li=57,co=69,Ji=73,Di=91,bo=103,Fo=113,va=666,zi=1,js=2,Zs=3,Ms=4,Do=3,Ht=(T,Le)=>(T.msg=cr[Le],Le),H=T=>T*2-(T>4?9:0),oe=T=>{let Le=T.length;for(;--Le>=0;)T[Le]=0},he=T=>{let Le,J,Ye,At=T.w_size;Le=T.hash_size,Ye=Le;do J=T.head[--Ye],T.head[Ye]=J>=At?J-At:0;while(--Le);Le=At,Ye=Le;do J=T.prev[--Ye],T.prev[Ye]=J>=At?J-At:0;while(--Le)};let Q=(T,Le,J)=>(Le<<T.hash_shift^J)&T.hash_mask;const ne=T=>{const Le=T.state;let J=Le.pending;J>T.avail_out&&(J=T.avail_out),J!==0&&(T.output.set(Le.pending_buf.subarray(Le.pending_out,Le.pending_out+J),T.next_out),T.next_out+=J,Le.pending_out+=J,T.total_out+=J,T.avail_out-=J,Le.pending-=J,Le.pending===0&&(Le.pending_out=0))},we=(T,Le)=>{Ts(T,T.block_start>=0?T.block_start:-1,T.strstart-T.block_start,Le),T.block_start=T.strstart,ne(T.strm)},Fe=(T,Le)=>{T.pending_buf[T.pending++]=Le},qe=(T,Le)=>{T.pending_buf[T.pending++]=Le>>>8&255,T.pending_buf[T.pending++]=Le&255},st=(T,Le,J,Ye)=>{let At=T.avail_in;return At>Ye&&(At=Ye),At===0?0:(T.avail_in-=At,Le.set(T.input.subarray(T.next_in,T.next_in+At),J),T.state.wrap===1?T.adler=ca(T.adler,Le,At,J):T.state.wrap===2&&(T.adler=tn(T.adler,Le,At,J)),T.next_in+=At,T.total_in+=At,At)},I=(T,Le)=>{let J=T.max_chain_length,Ye=T.strstart,At,lt,er=T.prev_length,zt=T.nice_match;const Sn=T.strstart>T.w_size-bs?T.strstart-(T.w_size-bs):0,Dt=T.window,ir=T.w_mask,ba=T.prev,fn=T.strstart+Vi;let Rr=Dt[Ye+er-1],Nr=Dt[Ye+er];T.prev_length>=T.good_match&&(J>>=2),zt>T.lookahead&&(zt=T.lookahead);do if(At=Le,!(Dt[At+er]!==Nr||Dt[At+er-1]!==Rr||Dt[At]!==Dt[Ye]||Dt[++At]!==Dt[Ye+1])){Ye+=2,At++;do;while(Dt[++Ye]===Dt[++At]&&Dt[++Ye]===Dt[++At]&&Dt[++Ye]===Dt[++At]&&Dt[++Ye]===Dt[++At]&&Dt[++Ye]===Dt[++At]&&Dt[++Ye]===Dt[++At]&&Dt[++Ye]===Dt[++At]&&Dt[++Ye]===Dt[++At]&&Ye<fn);if(lt=Vi-(fn-Ye),Ye=fn-Vi,lt>er){if(T.match_start=Le,er=lt,lt>=zt)break;Rr=Dt[Ye+er-1],Nr=Dt[Ye+er]}}while((Le=ba[Le&ir])>Sn&&--J!==0);return er<=T.lookahead?er:T.lookahead},E=T=>{const Le=T.w_size;let J,Ye,At;do{if(Ye=T.window_size-T.lookahead-T.strstart,T.strstart>=Le+(Le-bs)&&(T.window.set(T.window.subarray(Le,Le+Le-Ye),0),T.match_start-=Le,T.strstart-=Le,T.block_start-=Le,T.insert>T.strstart&&(T.insert=T.strstart),he(T),Ye+=Le),T.strm.avail_in===0)break;if(J=st(T.strm,T.window,T.strstart+T.lookahead,Ye),T.lookahead+=J,T.lookahead+T.insert>=Gn)for(At=T.strstart-T.insert,T.ins_h=T.window[At],T.ins_h=Q(T,T.ins_h,T.window[At+1]);T.insert&&(T.ins_h=Q(T,T.ins_h,T.window[At+Gn-1]),T.prev[At&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=At,At++,T.insert--,!(T.lookahead+T.insert<Gn)););}while(T.lookahead<bs&&T.strm.avail_in!==0)},D=(T,Le)=>{let J=T.pending_buf_size-5>T.w_size?T.w_size:T.pending_buf_size-5,Ye,At,lt,er=0,zt=T.strm.avail_in;do{if(Ye=65535,lt=T.bi_valid+42>>3,T.strm.avail_out<lt||(lt=T.strm.avail_out-lt,At=T.strstart-T.block_start,Ye>At+T.strm.avail_in&&(Ye=At+T.strm.avail_in),Ye>lt&&(Ye=lt),Ye<J&&(Ye===0&&Le!==Ga||Le===Wi||Ye!==At+T.strm.avail_in)))break;er=Le===Ga&&Ye===At+T.strm.avail_in?1:0,Cn(T,0,0,er),T.pending_buf[T.pending-4]=Ye,T.pending_buf[T.pending-3]=Ye>>8,T.pending_buf[T.pending-2]=~Ye,T.pending_buf[T.pending-1]=~Ye>>8,ne(T.strm),At&&(At>Ye&&(At=Ye),T.strm.output.set(T.window.subarray(T.block_start,T.block_start+At),T.strm.next_out),T.strm.next_out+=At,T.strm.avail_out-=At,T.strm.total_out+=At,T.block_start+=At,Ye-=At),Ye&&(st(T.strm,T.strm.output,T.strm.next_out,Ye),T.strm.next_out+=Ye,T.strm.avail_out-=Ye,T.strm.total_out+=Ye)}while(er===0);return zt-=T.strm.avail_in,zt&&(zt>=T.w_size?(T.matches=2,T.window.set(T.strm.input.subarray(T.strm.next_in-T.w_size,T.strm.next_in),0),T.strstart=T.w_size,T.insert=T.strstart):(T.window_size-T.strstart<=zt&&(T.strstart-=T.w_size,T.window.set(T.window.subarray(T.w_size,T.w_size+T.strstart),0),T.matches<2&&T.matches++,T.insert>T.strstart&&(T.insert=T.strstart)),T.window.set(T.strm.input.subarray(T.strm.next_in-zt,T.strm.next_in),T.strstart),T.strstart+=zt,T.insert+=zt>T.w_size-T.insert?T.w_size-T.insert:zt),T.block_start=T.strstart),T.high_water<T.strstart&&(T.high_water=T.strstart),er?Ms:Le!==Wi&&Le!==Ga&&T.strm.avail_in===0&&T.strstart===T.block_start?js:(lt=T.window_size-T.strstart,T.strm.avail_in>lt&&T.block_start>=T.w_size&&(T.block_start-=T.w_size,T.strstart-=T.w_size,T.window.set(T.window.subarray(T.w_size,T.w_size+T.strstart),0),T.matches<2&&T.matches++,lt+=T.w_size,T.insert>T.strstart&&(T.insert=T.strstart)),lt>T.strm.avail_in&&(lt=T.strm.avail_in),lt&&(st(T.strm,T.window,T.strstart,lt),T.strstart+=lt,T.insert+=lt>T.w_size-T.insert?T.w_size-T.insert:lt),T.high_water<T.strstart&&(T.high_water=T.strstart),lt=T.bi_valid+42>>3,lt=T.pending_buf_size-lt>65535?65535:T.pending_buf_size-lt,J=lt>T.w_size?T.w_size:lt,At=T.strstart-T.block_start,(At>=J||(At||Le===Ga)&&Le!==Wi&&T.strm.avail_in===0&&At<=lt)&&(Ye=At>lt?lt:At,er=Le===Ga&&T.strm.avail_in===0&&Ye===At?1:0,Cn(T,T.block_start,Ye,er),T.block_start+=Ye,ne(T.strm)),er?Zs:zi)},z=(T,Le)=>{let J,Ye;for(;;){if(T.lookahead<bs){if(E(T),T.lookahead<bs&&Le===Wi)return zi;if(T.lookahead===0)break}if(J=0,T.lookahead>=Gn&&(T.ins_h=Q(T,T.ins_h,T.window[T.strstart+Gn-1]),J=T.prev[T.strstart&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=T.strstart),J!==0&&T.strstart-J<=T.w_size-bs&&(T.match_length=I(T,J)),T.match_length>=Gn)if(Ye=Ni(T,T.strstart-T.match_start,T.match_length-Gn),T.lookahead-=T.match_length,T.match_length<=T.max_lazy_match&&T.lookahead>=Gn){T.match_length--;do T.strstart++,T.ins_h=Q(T,T.ins_h,T.window[T.strstart+Gn-1]),J=T.prev[T.strstart&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=T.strstart;while(--T.match_length!==0);T.strstart++}else T.strstart+=T.match_length,T.match_length=0,T.ins_h=T.window[T.strstart],T.ins_h=Q(T,T.ins_h,T.window[T.strstart+1]);else Ye=Ni(T,0,T.window[T.strstart]),T.lookahead--,T.strstart++;if(Ye&&(we(T,!1),T.strm.avail_out===0))return zi}return T.insert=T.strstart<Gn-1?T.strstart:Gn-1,Le===Ga?(we(T,!0),T.strm.avail_out===0?Zs:Ms):T.sym_next&&(we(T,!1),T.strm.avail_out===0)?zi:js},X=(T,Le)=>{let J,Ye,At;for(;;){if(T.lookahead<bs){if(E(T),T.lookahead<bs&&Le===Wi)return zi;if(T.lookahead===0)break}if(J=0,T.lookahead>=Gn&&(T.ins_h=Q(T,T.ins_h,T.window[T.strstart+Gn-1]),J=T.prev[T.strstart&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=T.strstart),T.prev_length=T.match_length,T.prev_match=T.match_start,T.match_length=Gn-1,J!==0&&T.prev_length<T.max_lazy_match&&T.strstart-J<=T.w_size-bs&&(T.match_length=I(T,J),T.match_length<=5&&(T.strategy===$i||T.match_length===Gn&&T.strstart-T.match_start>4096)&&(T.match_length=Gn-1)),T.prev_length>=Gn&&T.match_length<=T.prev_length){At=T.strstart+T.lookahead-Gn,Ye=Ni(T,T.strstart-1-T.prev_match,T.prev_length-Gn),T.lookahead-=T.prev_length-1,T.prev_length-=2;do++T.strstart<=At&&(T.ins_h=Q(T,T.ins_h,T.window[T.strstart+Gn-1]),J=T.prev[T.strstart&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=T.strstart);while(--T.prev_length!==0);if(T.match_available=0,T.match_length=Gn-1,T.strstart++,Ye&&(we(T,!1),T.strm.avail_out===0))return zi}else if(T.match_available){if(Ye=Ni(T,0,T.window[T.strstart-1]),Ye&&we(T,!1),T.strstart++,T.lookahead--,T.strm.avail_out===0)return zi}else T.match_available=1,T.strstart++,T.lookahead--}return T.match_available&&(Ye=Ni(T,0,T.window[T.strstart-1]),T.match_available=0),T.insert=T.strstart<Gn-1?T.strstart:Gn-1,Le===Ga?(we(T,!0),T.strm.avail_out===0?Zs:Ms):T.sym_next&&(we(T,!1),T.strm.avail_out===0)?zi:js},ae=(T,Le)=>{let J,Ye,At,lt;const er=T.window;for(;;){if(T.lookahead<=Vi){if(E(T),T.lookahead<=Vi&&Le===Wi)return zi;if(T.lookahead===0)break}if(T.match_length=0,T.lookahead>=Gn&&T.strstart>0&&(At=T.strstart-1,Ye=er[At],Ye===er[++At]&&Ye===er[++At]&&Ye===er[++At])){lt=T.strstart+Vi;do;while(Ye===er[++At]&&Ye===er[++At]&&Ye===er[++At]&&Ye===er[++At]&&Ye===er[++At]&&Ye===er[++At]&&Ye===er[++At]&&Ye===er[++At]&&At<lt);T.match_length=Vi-(lt-At),T.match_length>T.lookahead&&(T.match_length=T.lookahead)}if(T.match_length>=Gn?(J=Ni(T,1,T.match_length-Gn),T.lookahead-=T.match_length,T.strstart+=T.match_length,T.match_length=0):(J=Ni(T,0,T.window[T.strstart]),T.lookahead--,T.strstart++),J&&(we(T,!1),T.strm.avail_out===0))return zi}return T.insert=0,Le===Ga?(we(T,!0),T.strm.avail_out===0?Zs:Ms):T.sym_next&&(we(T,!1),T.strm.avail_out===0)?zi:js},Se=(T,Le)=>{let J;for(;;){if(T.lookahead===0&&(E(T),T.lookahead===0)){if(Le===Wi)return zi;break}if(T.match_length=0,J=Ni(T,0,T.window[T.strstart]),T.lookahead--,T.strstart++,J&&(we(T,!1),T.strm.avail_out===0))return zi}return T.insert=0,Le===Ga?(we(T,!0),T.strm.avail_out===0?Zs:Ms):T.sym_next&&(we(T,!1),T.strm.avail_out===0)?zi:js};function ge(T,Le,J,Ye,At){this.good_length=T,this.max_lazy=Le,this.nice_length=J,this.max_chain=Ye,this.func=At}const ve=[new ge(0,0,0,0,D),new ge(4,4,8,4,z),new ge(4,5,16,8,z),new ge(4,6,32,32,z),new ge(4,4,16,16,X),new ge(8,16,32,32,X),new ge(8,16,128,128,X),new ge(8,32,128,256,X),new ge(32,128,258,1024,X),new ge(32,258,258,4096,X)],Me=T=>{T.window_size=2*T.w_size,oe(T.head),T.max_lazy_match=ve[T.level].max_lazy,T.good_match=ve[T.level].good_length,T.nice_match=ve[T.level].nice_length,T.max_chain_length=ve[T.level].max_chain,T.strstart=0,T.block_start=0,T.lookahead=0,T.insert=0,T.match_length=T.prev_length=Gn-1,T.match_available=0,T.ins_h=0};function ze(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ys,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Wc*2),this.dyn_dtree=new Uint16Array((2*ml+1)*2),this.bl_tree=new Uint16Array((2*ko+1)*2),oe(this.dyn_ltree),oe(this.dyn_dtree),oe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(ds+1),this.heap=new Uint16Array(2*ii+1),oe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*ii+1),oe(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const et=T=>{if(!T)return 1;const Le=T.state;return!Le||Le.strm!==T||Le.status!==Po&&Le.status!==Li&&Le.status!==co&&Le.status!==Ji&&Le.status!==Di&&Le.status!==bo&&Le.status!==Fo&&Le.status!==va?1:0},ot=T=>{if(et(T))return Ht(T,ys);T.total_in=T.total_out=0,T.data_type=To;const Le=T.state;return Le.pending=0,Le.pending_out=0,Le.wrap<0&&(Le.wrap=-Le.wrap),Le.status=Le.wrap===2?Li:Le.wrap?Po:Fo,T.adler=Le.wrap===2?0:1,Le.last_flush=-2,xi(Le),Va},Pe=T=>{const Le=ot(T);return Le===Va&&Me(T.state),Le},yt=(T,Le)=>et(T)||T.state.wrap!==2?ys:(T.state.gzhead=Le,Va),gt=(T,Le,J,Ye,At,lt)=>{if(!T)return ys;let er=1;if(Le===Il&&(Le=6),Ye<0?(er=0,Ye=-Ye):Ye>15&&(er=2,Ye-=16),At<1||At>_o||J!==Ys||Ye<8||Ye>15||Le<0||Le>9||lt<0||lt>tc||Ye===8&&er!==1)return Ht(T,ys);Ye===8&&(Ye=9);const zt=new ze;return T.state=zt,zt.strm=T,zt.status=Po,zt.wrap=er,zt.gzhead=null,zt.w_bits=Ye,zt.w_size=1<<zt.w_bits,zt.w_mask=zt.w_size-1,zt.hash_bits=At+7,zt.hash_size=1<<zt.hash_bits,zt.hash_mask=zt.hash_size-1,zt.hash_shift=~~((zt.hash_bits+Gn-1)/Gn),zt.window=new Uint8Array(zt.w_size*2),zt.head=new Uint16Array(zt.hash_size),zt.prev=new Uint16Array(zt.w_size),zt.lit_bufsize=1<<At+6,zt.pending_buf_size=zt.lit_bufsize*4,zt.pending_buf=new Uint8Array(zt.pending_buf_size),zt.sym_buf=zt.lit_bufsize,zt.sym_end=(zt.lit_bufsize-1)*3,zt.level=Le,zt.strategy=lt,zt.method=J,Pe(T)},wt=(T,Le)=>gt(T,Le,Ys,nl,Oo,ai),nt=(T,Le)=>{if(et(T)||Le>xs||Le<0)return T?Ht(T,ys):ys;const J=T.state;if(!T.output||T.avail_in!==0&&!T.input||J.status===va&&Le!==Ga)return Ht(T,T.avail_out===0?Ec:ys);const Ye=J.last_flush;if(J.last_flush=Le,J.pending!==0){if(ne(T),T.avail_out===0)return J.last_flush=-1,Va}else if(T.avail_in===0&&H(Le)<=H(Ye)&&Le!==Ga)return Ht(T,Ec);if(J.status===va&&T.avail_in!==0)return Ht(T,Ec);if(J.status===Po&&J.wrap===0&&(J.status=Fo),J.status===Po){let At=Ys+(J.w_bits-8<<4)<<8,lt=-1;if(J.strategy>=yo||J.level<2?lt=0:J.level<6?lt=1:J.level===6?lt=2:lt=3,At|=lt<<6,J.strstart!==0&&(At|=ws),At+=31-At%31,qe(J,At),J.strstart!==0&&(qe(J,T.adler>>>16),qe(J,T.adler&65535)),T.adler=1,J.status=Fo,ne(T),J.pending!==0)return J.last_flush=-1,Va}if(J.status===Li){if(T.adler=0,Fe(J,31),Fe(J,139),Fe(J,8),J.gzhead)Fe(J,(J.gzhead.text?1:0)+(J.gzhead.hcrc?2:0)+(J.gzhead.extra?4:0)+(J.gzhead.name?8:0)+(J.gzhead.comment?16:0)),Fe(J,J.gzhead.time&255),Fe(J,J.gzhead.time>>8&255),Fe(J,J.gzhead.time>>16&255),Fe(J,J.gzhead.time>>24&255),Fe(J,J.level===9?2:J.strategy>=yo||J.level<2?4:0),Fe(J,J.gzhead.os&255),J.gzhead.extra&&J.gzhead.extra.length&&(Fe(J,J.gzhead.extra.length&255),Fe(J,J.gzhead.extra.length>>8&255)),J.gzhead.hcrc&&(T.adler=tn(T.adler,J.pending_buf,J.pending,0)),J.gzindex=0,J.status=co;else if(Fe(J,0),Fe(J,0),Fe(J,0),Fe(J,0),Fe(J,0),Fe(J,J.level===9?2:J.strategy>=yo||J.level<2?4:0),Fe(J,Do),J.status=Fo,ne(T),J.pending!==0)return J.last_flush=-1,Va}if(J.status===co){if(J.gzhead.extra){let At=J.pending,lt=(J.gzhead.extra.length&65535)-J.gzindex;for(;J.pending+lt>J.pending_buf_size;){let zt=J.pending_buf_size-J.pending;if(J.pending_buf.set(J.gzhead.extra.subarray(J.gzindex,J.gzindex+zt),J.pending),J.pending=J.pending_buf_size,J.gzhead.hcrc&&J.pending>At&&(T.adler=tn(T.adler,J.pending_buf,J.pending-At,At)),J.gzindex+=zt,ne(T),J.pending!==0)return J.last_flush=-1,Va;At=0,lt-=zt}let er=new Uint8Array(J.gzhead.extra);J.pending_buf.set(er.subarray(J.gzindex,J.gzindex+lt),J.pending),J.pending+=lt,J.gzhead.hcrc&&J.pending>At&&(T.adler=tn(T.adler,J.pending_buf,J.pending-At,At)),J.gzindex=0}J.status=Ji}if(J.status===Ji){if(J.gzhead.name){let At=J.pending,lt;do{if(J.pending===J.pending_buf_size){if(J.gzhead.hcrc&&J.pending>At&&(T.adler=tn(T.adler,J.pending_buf,J.pending-At,At)),ne(T),J.pending!==0)return J.last_flush=-1,Va;At=0}J.gzindex<J.gzhead.name.length?lt=J.gzhead.name.charCodeAt(J.gzindex++)&255:lt=0,Fe(J,lt)}while(lt!==0);J.gzhead.hcrc&&J.pending>At&&(T.adler=tn(T.adler,J.pending_buf,J.pending-At,At)),J.gzindex=0}J.status=Di}if(J.status===Di){if(J.gzhead.comment){let At=J.pending,lt;do{if(J.pending===J.pending_buf_size){if(J.gzhead.hcrc&&J.pending>At&&(T.adler=tn(T.adler,J.pending_buf,J.pending-At,At)),ne(T),J.pending!==0)return J.last_flush=-1,Va;At=0}J.gzindex<J.gzhead.comment.length?lt=J.gzhead.comment.charCodeAt(J.gzindex++)&255:lt=0,Fe(J,lt)}while(lt!==0);J.gzhead.hcrc&&J.pending>At&&(T.adler=tn(T.adler,J.pending_buf,J.pending-At,At))}J.status=bo}if(J.status===bo){if(J.gzhead.hcrc){if(J.pending+2>J.pending_buf_size&&(ne(T),J.pending!==0))return J.last_flush=-1,Va;Fe(J,T.adler&255),Fe(J,T.adler>>8&255),T.adler=0}if(J.status=Fo,ne(T),J.pending!==0)return J.last_flush=-1,Va}if(T.avail_in!==0||J.lookahead!==0||Le!==Wi&&J.status!==va){let At=J.level===0?D(J,Le):J.strategy===yo?Se(J,Le):J.strategy===fa?ae(J,Le):ve[J.level].func(J,Le);if((At===Zs||At===Ms)&&(J.status=va),At===zi||At===Zs)return T.avail_out===0&&(J.last_flush=-1),Va;if(At===js&&(Le===Ii?yi(J):Le!==xs&&(Cn(J,0,0,!1),Le===Ds&&(oe(J.head),J.lookahead===0&&(J.strstart=0,J.block_start=0,J.insert=0))),ne(T),T.avail_out===0))return J.last_flush=-1,Va}return Le!==Ga?Va:J.wrap<=0?Sc:(J.wrap===2?(Fe(J,T.adler&255),Fe(J,T.adler>>8&255),Fe(J,T.adler>>16&255),Fe(J,T.adler>>24&255),Fe(J,T.total_in&255),Fe(J,T.total_in>>8&255),Fe(J,T.total_in>>16&255),Fe(J,T.total_in>>24&255)):(qe(J,T.adler>>>16),qe(J,T.adler&65535)),ne(T),J.wrap>0&&(J.wrap=-J.wrap),J.pending!==0?Va:Sc)},Ft=T=>{if(et(T))return ys;const Le=T.state.status;return T.state=null,Le===Fo?Ht(T,Bl):Va},qt=(T,Le)=>{let J=Le.length;if(et(T))return ys;const Ye=T.state,At=Ye.wrap;if(At===2||At===1&&Ye.status!==Po||Ye.lookahead)return ys;if(At===1&&(T.adler=ca(T.adler,Le,J,0)),Ye.wrap=0,J>=Ye.w_size){At===0&&(oe(Ye.head),Ye.strstart=0,Ye.block_start=0,Ye.insert=0);let Sn=new Uint8Array(Ye.w_size);Sn.set(Le.subarray(J-Ye.w_size,J),0),Le=Sn,J=Ye.w_size}const lt=T.avail_in,er=T.next_in,zt=T.input;for(T.avail_in=J,T.next_in=0,T.input=Le,E(Ye);Ye.lookahead>=Gn;){let Sn=Ye.strstart,Dt=Ye.lookahead-(Gn-1);do Ye.ins_h=Q(Ye,Ye.ins_h,Ye.window[Sn+Gn-1]),Ye.prev[Sn&Ye.w_mask]=Ye.head[Ye.ins_h],Ye.head[Ye.ins_h]=Sn,Sn++;while(--Dt);Ye.strstart=Sn,Ye.lookahead=Gn-1,E(Ye)}return Ye.strstart+=Ye.lookahead,Ye.block_start=Ye.strstart,Ye.insert=Ye.lookahead,Ye.lookahead=0,Ye.match_length=Ye.prev_length=Gn-1,Ye.match_available=0,T.next_in=er,T.input=zt,T.avail_in=lt,Ye.wrap=At,Va};var It=wt,tt=gt,Wt=Pe,ur=ot,Yt=yt,Ot=nt,or=Ft,at=qt,ht="pako deflate (from Nodeca project)",Tt={deflateInit:It,deflateInit2:tt,deflateReset:Wt,deflateResetKeep:ur,deflateSetHeader:Yt,deflate:Ot,deflateEnd:or,deflateSetDictionary:at,deflateInfo:ht};const _t=(T,Le)=>Object.prototype.hasOwnProperty.call(T,Le);var dr=function(T){const Le=Array.prototype.slice.call(arguments,1);for(;Le.length;){const J=Le.shift();if(J){if(typeof J!="object")throw new TypeError(J+"must be non-object");for(const Ye in J)_t(J,Ye)&&(T[Ye]=J[Ye])}}return T},xr=T=>{let Le=0;for(let Ye=0,At=T.length;Ye<At;Ye++)Le+=T[Ye].length;const J=new Uint8Array(Le);for(let Ye=0,At=0,lt=T.length;Ye<lt;Ye++){let er=T[Ye];J.set(er,At),At+=er.length}return J},jr={assign:dr,flattenChunks:xr};let Jt=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Jt=!1}const br=new Uint8Array(256);for(let T=0;T<256;T++)br[T]=T>=252?6:T>=248?5:T>=240?4:T>=224?3:T>=192?2:1;br[254]=br[254]=1;var Zr=T=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(T);let Le,J,Ye,At,lt,er=T.length,zt=0;for(At=0;At<er;At++)J=T.charCodeAt(At),(J&64512)===55296&&At+1<er&&(Ye=T.charCodeAt(At+1),(Ye&64512)===56320&&(J=65536+(J-55296<<10)+(Ye-56320),At++)),zt+=J<128?1:J<2048?2:J<65536?3:4;for(Le=new Uint8Array(zt),lt=0,At=0;lt<zt;At++)J=T.charCodeAt(At),(J&64512)===55296&&At+1<er&&(Ye=T.charCodeAt(At+1),(Ye&64512)===56320&&(J=65536+(J-55296<<10)+(Ye-56320),At++)),J<128?Le[lt++]=J:J<2048?(Le[lt++]=192|J>>>6,Le[lt++]=128|J&63):J<65536?(Le[lt++]=224|J>>>12,Le[lt++]=128|J>>>6&63,Le[lt++]=128|J&63):(Le[lt++]=240|J>>>18,Le[lt++]=128|J>>>12&63,Le[lt++]=128|J>>>6&63,Le[lt++]=128|J&63);return Le};const Wr=(T,Le)=>{if(Le<65534&&T.subarray&&Jt)return String.fromCharCode.apply(null,T.length===Le?T:T.subarray(0,Le));let J="";for(let Ye=0;Ye<Le;Ye++)J+=String.fromCharCode(T[Ye]);return J};var Ze=(T,Le)=>{const J=Le||T.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(T.subarray(0,Le));let Ye,At;const lt=new Array(J*2);for(At=0,Ye=0;Ye<J;){let er=T[Ye++];if(er<128){lt[At++]=er;continue}let zt=br[er];if(zt>4){lt[At++]=65533,Ye+=zt-1;continue}for(er&=zt===2?31:zt===3?15:7;zt>1&&Ye<J;)er=er<<6|T[Ye++]&63,zt--;if(zt>1){lt[At++]=65533;continue}er<65536?lt[At++]=er:(er-=65536,lt[At++]=55296|er>>10&1023,lt[At++]=56320|er&1023)}return Wr(lt,At)},bt=(T,Le)=>{Le=Le||T.length,Le>T.length&&(Le=T.length);let J=Le-1;for(;J>=0&&(T[J]&192)===128;)J--;return J<0||J===0?Le:J+br[T[J]]>Le?J:Le},St={string2buf:Zr,buf2string:Ze,utf8border:bt};function Vt(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Gt=Vt;const nr=Object.prototype.toString,{Z_NO_FLUSH:yr,Z_SYNC_FLUSH:wr,Z_FULL_FLUSH:Pr,Z_FINISH:Jr,Z_OK:Nn,Z_STREAM_END:En,Z_DEFAULT_COMPRESSION:ua,Z_DEFAULT_STRATEGY:dt,Z_DEFLATED:An}=ga;function xa(T){this.options=jr.assign({level:ua,method:An,chunkSize:16384,windowBits:15,memLevel:8,strategy:dt},T||{});let Le=this.options;Le.raw&&Le.windowBits>0?Le.windowBits=-Le.windowBits:Le.gzip&&Le.windowBits>0&&Le.windowBits<16&&(Le.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Gt,this.strm.avail_out=0;let J=Tt.deflateInit2(this.strm,Le.level,Le.method,Le.windowBits,Le.memLevel,Le.strategy);if(J!==Nn)throw new Error(cr[J]);if(Le.header&&Tt.deflateSetHeader(this.strm,Le.header),Le.dictionary){let Ye;if(typeof Le.dictionary=="string"?Ye=St.string2buf(Le.dictionary):nr.call(Le.dictionary)==="[object ArrayBuffer]"?Ye=new Uint8Array(Le.dictionary):Ye=Le.dictionary,J=Tt.deflateSetDictionary(this.strm,Ye),J!==Nn)throw new Error(cr[J]);this._dict_set=!0}}xa.prototype.push=function(T,Le){const J=this.strm,Ye=this.options.chunkSize;let At,lt;if(this.ended)return!1;for(Le===~~Le?lt=Le:lt=Le===!0?Jr:yr,typeof T=="string"?J.input=St.string2buf(T):nr.call(T)==="[object ArrayBuffer]"?J.input=new Uint8Array(T):J.input=T,J.next_in=0,J.avail_in=J.input.length;;){if(J.avail_out===0&&(J.output=new Uint8Array(Ye),J.next_out=0,J.avail_out=Ye),(lt===wr||lt===Pr)&&J.avail_out<=6){this.onData(J.output.subarray(0,J.next_out)),J.avail_out=0;continue}if(At=Tt.deflate(J,lt),At===En)return J.next_out>0&&this.onData(J.output.subarray(0,J.next_out)),At=Tt.deflateEnd(this.strm),this.onEnd(At),this.ended=!0,At===Nn;if(J.avail_out===0){this.onData(J.output);continue}if(lt>0&&J.next_out>0){this.onData(J.output.subarray(0,J.next_out)),J.avail_out=0;continue}if(J.avail_in===0)break}return!0},xa.prototype.onData=function(T){this.chunks.push(T)},xa.prototype.onEnd=function(T){T===Nn&&(this.result=jr.flattenChunks(this.chunks)),this.chunks=[],this.err=T,this.msg=this.strm.msg};function hn(T,Le){const J=new xa(Le);if(J.push(T,!0),J.err)throw J.msg||cr[J.err];return J.result}function Vr(T,Le){return Le=Le||{},Le.raw=!0,hn(T,Le)}function oa(T,Le){return Le=Le||{},Le.gzip=!0,hn(T,Le)}var Dn=xa,Zn=hn,Mn=Vr,pi=oa,Qa={Deflate:Dn,deflate:Zn,deflateRaw:Mn,gzip:pi};const Fn=16209,oi=16191;var la=function(Le,J){let Ye,At,lt,er,zt,Sn,Dt,ir,ba,fn,Rr,Nr,Hi,ja,aa,Ea,ti,sn,Ta,ns,Jn,li,Fa,Hn;const Aa=Le.state;Ye=Le.next_in,Fa=Le.input,At=Ye+(Le.avail_in-5),lt=Le.next_out,Hn=Le.output,er=lt-(J-Le.avail_out),zt=lt+(Le.avail_out-257),Sn=Aa.dmax,Dt=Aa.wsize,ir=Aa.whave,ba=Aa.wnext,fn=Aa.window,Rr=Aa.hold,Nr=Aa.bits,Hi=Aa.lencode,ja=Aa.distcode,aa=(1<<Aa.lenbits)-1,Ea=(1<<Aa.distbits)-1;e:do{Nr<15&&(Rr+=Fa[Ye++]<<Nr,Nr+=8,Rr+=Fa[Ye++]<<Nr,Nr+=8),ti=Hi[Rr&aa];t:for(;;){if(sn=ti>>>24,Rr>>>=sn,Nr-=sn,sn=ti>>>16&255,sn===0)Hn[lt++]=ti&65535;else if(sn&16){Ta=ti&65535,sn&=15,sn&&(Nr<sn&&(Rr+=Fa[Ye++]<<Nr,Nr+=8),Ta+=Rr&(1<<sn)-1,Rr>>>=sn,Nr-=sn),Nr<15&&(Rr+=Fa[Ye++]<<Nr,Nr+=8,Rr+=Fa[Ye++]<<Nr,Nr+=8),ti=ja[Rr&Ea];r:for(;;){if(sn=ti>>>24,Rr>>>=sn,Nr-=sn,sn=ti>>>16&255,sn&16){if(ns=ti&65535,sn&=15,Nr<sn&&(Rr+=Fa[Ye++]<<Nr,Nr+=8,Nr<sn&&(Rr+=Fa[Ye++]<<Nr,Nr+=8)),ns+=Rr&(1<<sn)-1,ns>Sn){Le.msg="invalid distance too far back",Aa.mode=Fn;break e}if(Rr>>>=sn,Nr-=sn,sn=lt-er,ns>sn){if(sn=ns-sn,sn>ir&&Aa.sane){Le.msg="invalid distance too far back",Aa.mode=Fn;break e}if(Jn=0,li=fn,ba===0){if(Jn+=Dt-sn,sn<Ta){Ta-=sn;do Hn[lt++]=fn[Jn++];while(--sn);Jn=lt-ns,li=Hn}}else if(ba<sn){if(Jn+=Dt+ba-sn,sn-=ba,sn<Ta){Ta-=sn;do Hn[lt++]=fn[Jn++];while(--sn);if(Jn=0,ba<Ta){sn=ba,Ta-=sn;do Hn[lt++]=fn[Jn++];while(--sn);Jn=lt-ns,li=Hn}}}else if(Jn+=ba-sn,sn<Ta){Ta-=sn;do Hn[lt++]=fn[Jn++];while(--sn);Jn=lt-ns,li=Hn}for(;Ta>2;)Hn[lt++]=li[Jn++],Hn[lt++]=li[Jn++],Hn[lt++]=li[Jn++],Ta-=3;Ta&&(Hn[lt++]=li[Jn++],Ta>1&&(Hn[lt++]=li[Jn++]))}else{Jn=lt-ns;do Hn[lt++]=Hn[Jn++],Hn[lt++]=Hn[Jn++],Hn[lt++]=Hn[Jn++],Ta-=3;while(Ta>2);Ta&&(Hn[lt++]=Hn[Jn++],Ta>1&&(Hn[lt++]=Hn[Jn++]))}}else if((sn&64)===0){ti=ja[(ti&65535)+(Rr&(1<<sn)-1)];continue r}else{Le.msg="invalid distance code",Aa.mode=Fn;break e}break}}else if((sn&64)===0){ti=Hi[(ti&65535)+(Rr&(1<<sn)-1)];continue t}else if(sn&32){Aa.mode=oi;break e}else{Le.msg="invalid literal/length code",Aa.mode=Fn;break e}break}}while(Ye<At&&lt<zt);Ta=Nr>>3,Ye-=Ta,Nr-=Ta<<3,Rr&=(1<<Nr)-1,Le.next_in=Ye,Le.next_out=lt,Le.avail_in=Ye<At?5+(At-Ye):5-(Ye-At),Le.avail_out=lt<zt?257+(zt-lt):257-(lt-zt),Aa.hold=Rr,Aa.bits=Nr};const On=15,ha=852,kn=592,Ca=0,ui=1,qa=2,Xa=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),rs=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),zn=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Ti=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Vn=(T,Le,J,Ye,At,lt,er,zt)=>{const Sn=zt.bits;let Dt=0,ir=0,ba=0,fn=0,Rr=0,Nr=0,Hi=0,ja=0,aa=0,Ea=0,ti,sn,Ta,ns,Jn,li=null,Fa;const Hn=new Uint16Array(On+1),Aa=new Uint16Array(On+1);let No=null,cc,Lo,ho;for(Dt=0;Dt<=On;Dt++)Hn[Dt]=0;for(ir=0;ir<Ye;ir++)Hn[Le[J+ir]]++;for(Rr=Sn,fn=On;fn>=1&&Hn[fn]===0;fn--);if(Rr>fn&&(Rr=fn),fn===0)return At[lt++]=1<<24|64<<16|0,At[lt++]=1<<24|64<<16|0,zt.bits=1,0;for(ba=1;ba<fn&&Hn[ba]===0;ba++);for(Rr<ba&&(Rr=ba),ja=1,Dt=1;Dt<=On;Dt++)if(ja<<=1,ja-=Hn[Dt],ja<0)return-1;if(ja>0&&(T===Ca||fn!==1))return-1;for(Aa[1]=0,Dt=1;Dt<On;Dt++)Aa[Dt+1]=Aa[Dt]+Hn[Dt];for(ir=0;ir<Ye;ir++)Le[J+ir]!==0&&(er[Aa[Le[J+ir]]++]=ir);if(T===Ca?(li=No=er,Fa=20):T===ui?(li=Xa,No=rs,Fa=257):(li=zn,No=Ti,Fa=0),Ea=0,ir=0,Dt=ba,Jn=lt,Nr=Rr,Hi=0,Ta=-1,aa=1<<Rr,ns=aa-1,T===ui&&aa>ha||T===qa&&aa>kn)return 1;for(;;){cc=Dt-Hi,er[ir]+1<Fa?(Lo=0,ho=er[ir]):er[ir]>=Fa?(Lo=No[er[ir]-Fa],ho=li[er[ir]-Fa]):(Lo=96,ho=0),ti=1<<Dt-Hi,sn=1<<Nr,ba=sn;do sn-=ti,At[Jn+(Ea>>Hi)+sn]=cc<<24|Lo<<16|ho|0;while(sn!==0);for(ti=1<<Dt-1;Ea&ti;)ti>>=1;if(ti!==0?(Ea&=ti-1,Ea+=ti):Ea=0,ir++,--Hn[Dt]===0){if(Dt===fn)break;Dt=Le[J+er[ir]]}if(Dt>Rr&&(Ea&ns)!==Ta){for(Hi===0&&(Hi=Rr),Jn+=ba,Nr=Dt-Hi,ja=1<<Nr;Nr+Hi<fn&&(ja-=Hn[Nr+Hi],!(ja<=0));)Nr++,ja<<=1;if(aa+=1<<Nr,T===ui&&aa>ha||T===qa&&aa>kn)return 1;Ta=Ea&ns,At[Ta]=Rr<<24|Nr<<16|Jn-lt|0}}return Ea!==0&&(At[Jn+Ea]=Dt-Hi<<24|64<<16|0),zt.bits=Rr,0};const _i=0,Na=1,Bn=2,{Z_FINISH:ei,Z_BLOCK:au,Z_TREES:zs,Z_OK:wo,Z_STREAM_END:Bc,Z_NEED_DICT:pa,Z_STREAM_ERROR:Cs,Z_DATA_ERROR:jo,Z_MEM_ERROR:Tl,Z_BUF_ERROR:Rs,Z_DEFLATED:Mi}=ga,_s=16180,uo=16181,iu=16182,Js=16183,al=16184,Ic=16185,rc=16186,eo=16187,il=16188,_l=16189,Ko=16190,Mo=16191,nc=16192,Ol=16193,Tc=16194,fd=16195,$c=16196,pd=16197,su=16198,Go=16199,ou=16200,Nu=16201,Wu=16202,kl=16203,$u=16204,Vu=16205,ac=16206,zu=16207,Su=16208,wa=16209,md=16210,ic=16211,bi=852,gd=592,Os=15,_c=T=>(T>>>24&255)+(T>>>8&65280)+((T&65280)<<8)+((T&255)<<24);function lu(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Pl=T=>{if(!T)return 1;const Le=T.state;return!Le||Le.strm!==T||Le.mode<_s||Le.mode>ic?1:0},Ku=T=>{if(Pl(T))return Cs;const Le=T.state;return T.total_in=T.total_out=Le.total=0,T.msg="",Le.wrap&&(T.adler=Le.wrap&1),Le.mode=_s,Le.last=0,Le.havedict=0,Le.flags=-1,Le.dmax=32768,Le.head=null,Le.hold=0,Le.bits=0,Le.lencode=Le.lendyn=new Int32Array(bi),Le.distcode=Le.distdyn=new Int32Array(gd),Le.sane=1,Le.back=-1,wo},qo=T=>{if(Pl(T))return Cs;const Le=T.state;return Le.wsize=0,Le.whave=0,Le.wnext=0,Ku(T)},vd=(T,Le)=>{let J;if(Pl(T))return Cs;const Ye=T.state;return Le<0?(J=0,Le=-Le):(J=(Le>>4)+5,Le<48&&(Le&=15)),Le&&(Le<8||Le>15)?Cs:(Ye.window!==null&&Ye.wbits!==Le&&(Ye.window=null),Ye.wrap=J,Ye.wbits=Le,qo(T))},Eu=(T,Le)=>{if(!T)return Cs;const J=new lu;T.state=J,J.strm=T,J.window=null,J.mode=_s;const Ye=vd(T,Le);return Ye!==wo&&(T.state=null),Ye},xd=T=>Eu(T,Os);let cu=!0,Bu,Iu;const Tu=T=>{if(cu){Bu=new Int32Array(512),Iu=new Int32Array(32);let Le=0;for(;Le<144;)T.lens[Le++]=8;for(;Le<256;)T.lens[Le++]=9;for(;Le<280;)T.lens[Le++]=7;for(;Le<288;)T.lens[Le++]=8;for(Vn(Na,T.lens,0,288,Bu,0,T.work,{bits:9}),Le=0;Le<32;)T.lens[Le++]=5;Vn(Bn,T.lens,0,32,Iu,0,T.work,{bits:5}),cu=!1}T.lencode=Bu,T.lenbits=9,T.distcode=Iu,T.distbits=5},_u=(T,Le,J,Ye)=>{let At;const lt=T.state;return lt.window===null&&(lt.wsize=1<<lt.wbits,lt.wnext=0,lt.whave=0,lt.window=new Uint8Array(lt.wsize)),Ye>=lt.wsize?(lt.window.set(Le.subarray(J-lt.wsize,J),0),lt.wnext=0,lt.whave=lt.wsize):(At=lt.wsize-lt.wnext,At>Ye&&(At=Ye),lt.window.set(Le.subarray(J-Ye,J-Ye+At),lt.wnext),Ye-=At,Ye?(lt.window.set(Le.subarray(J-Ye,J),0),lt.wnext=Ye,lt.whave=lt.wsize):(lt.wnext+=At,lt.wnext===lt.wsize&&(lt.wnext=0),lt.whave<lt.wsize&&(lt.whave+=At))),0},yd=(T,Le)=>{let J,Ye,At,lt,er,zt,Sn,Dt,ir,ba,fn,Rr,Nr,Hi,ja=0,aa,Ea,ti,sn,Ta,ns,Jn,li;const Fa=new Uint8Array(4);let Hn,Aa;const No=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Pl(T)||!T.output||!T.input&&T.avail_in!==0)return Cs;J=T.state,J.mode===Mo&&(J.mode=nc),er=T.next_out,At=T.output,Sn=T.avail_out,lt=T.next_in,Ye=T.input,zt=T.avail_in,Dt=J.hold,ir=J.bits,ba=zt,fn=Sn,li=wo;e:for(;;)switch(J.mode){case _s:if(J.wrap===0){J.mode=nc;break}for(;ir<16;){if(zt===0)break e;zt--,Dt+=Ye[lt++]<<ir,ir+=8}if(J.wrap&2&&Dt===35615){J.wbits===0&&(J.wbits=15),J.check=0,Fa[0]=Dt&255,Fa[1]=Dt>>>8&255,J.check=tn(J.check,Fa,2,0),Dt=0,ir=0,J.mode=uo;break}if(J.head&&(J.head.done=!1),!(J.wrap&1)||(((Dt&255)<<8)+(Dt>>8))%31){T.msg="incorrect header check",J.mode=wa;break}if((Dt&15)!==Mi){T.msg="unknown compression method",J.mode=wa;break}if(Dt>>>=4,ir-=4,Jn=(Dt&15)+8,J.wbits===0&&(J.wbits=Jn),Jn>15||Jn>J.wbits){T.msg="invalid window size",J.mode=wa;break}J.dmax=1<<J.wbits,J.flags=0,T.adler=J.check=1,J.mode=Dt&512?_l:Mo,Dt=0,ir=0;break;case uo:for(;ir<16;){if(zt===0)break e;zt--,Dt+=Ye[lt++]<<ir,ir+=8}if(J.flags=Dt,(J.flags&255)!==Mi){T.msg="unknown compression method",J.mode=wa;break}if(J.flags&57344){T.msg="unknown header flags set",J.mode=wa;break}J.head&&(J.head.text=Dt>>8&1),J.flags&512&&J.wrap&4&&(Fa[0]=Dt&255,Fa[1]=Dt>>>8&255,J.check=tn(J.check,Fa,2,0)),Dt=0,ir=0,J.mode=iu;case iu:for(;ir<32;){if(zt===0)break e;zt--,Dt+=Ye[lt++]<<ir,ir+=8}J.head&&(J.head.time=Dt),J.flags&512&&J.wrap&4&&(Fa[0]=Dt&255,Fa[1]=Dt>>>8&255,Fa[2]=Dt>>>16&255,Fa[3]=Dt>>>24&255,J.check=tn(J.check,Fa,4,0)),Dt=0,ir=0,J.mode=Js;case Js:for(;ir<16;){if(zt===0)break e;zt--,Dt+=Ye[lt++]<<ir,ir+=8}J.head&&(J.head.xflags=Dt&255,J.head.os=Dt>>8),J.flags&512&&J.wrap&4&&(Fa[0]=Dt&255,Fa[1]=Dt>>>8&255,J.check=tn(J.check,Fa,2,0)),Dt=0,ir=0,J.mode=al;case al:if(J.flags&1024){for(;ir<16;){if(zt===0)break e;zt--,Dt+=Ye[lt++]<<ir,ir+=8}J.length=Dt,J.head&&(J.head.extra_len=Dt),J.flags&512&&J.wrap&4&&(Fa[0]=Dt&255,Fa[1]=Dt>>>8&255,J.check=tn(J.check,Fa,2,0)),Dt=0,ir=0}else J.head&&(J.head.extra=null);J.mode=Ic;case Ic:if(J.flags&1024&&(Rr=J.length,Rr>zt&&(Rr=zt),Rr&&(J.head&&(Jn=J.head.extra_len-J.length,J.head.extra||(J.head.extra=new Uint8Array(J.head.extra_len)),J.head.extra.set(Ye.subarray(lt,lt+Rr),Jn)),J.flags&512&&J.wrap&4&&(J.check=tn(J.check,Ye,Rr,lt)),zt-=Rr,lt+=Rr,J.length-=Rr),J.length))break e;J.length=0,J.mode=rc;case rc:if(J.flags&2048){if(zt===0)break e;Rr=0;do Jn=Ye[lt+Rr++],J.head&&Jn&&J.length<65536&&(J.head.name+=String.fromCharCode(Jn));while(Jn&&Rr<zt);if(J.flags&512&&J.wrap&4&&(J.check=tn(J.check,Ye,Rr,lt)),zt-=Rr,lt+=Rr,Jn)break e}else J.head&&(J.head.name=null);J.length=0,J.mode=eo;case eo:if(J.flags&4096){if(zt===0)break e;Rr=0;do Jn=Ye[lt+Rr++],J.head&&Jn&&J.length<65536&&(J.head.comment+=String.fromCharCode(Jn));while(Jn&&Rr<zt);if(J.flags&512&&J.wrap&4&&(J.check=tn(J.check,Ye,Rr,lt)),zt-=Rr,lt+=Rr,Jn)break e}else J.head&&(J.head.comment=null);J.mode=il;case il:if(J.flags&512){for(;ir<16;){if(zt===0)break e;zt--,Dt+=Ye[lt++]<<ir,ir+=8}if(J.wrap&4&&Dt!==(J.check&65535)){T.msg="header crc mismatch",J.mode=wa;break}Dt=0,ir=0}J.head&&(J.head.hcrc=J.flags>>9&1,J.head.done=!0),T.adler=J.check=0,J.mode=Mo;break;case _l:for(;ir<32;){if(zt===0)break e;zt--,Dt+=Ye[lt++]<<ir,ir+=8}T.adler=J.check=_c(Dt),Dt=0,ir=0,J.mode=Ko;case Ko:if(J.havedict===0)return T.next_out=er,T.avail_out=Sn,T.next_in=lt,T.avail_in=zt,J.hold=Dt,J.bits=ir,pa;T.adler=J.check=1,J.mode=Mo;case Mo:if(Le===au||Le===zs)break e;case nc:if(J.last){Dt>>>=ir&7,ir-=ir&7,J.mode=ac;break}for(;ir<3;){if(zt===0)break e;zt--,Dt+=Ye[lt++]<<ir,ir+=8}switch(J.last=Dt&1,Dt>>>=1,ir-=1,Dt&3){case 0:J.mode=Ol;break;case 1:if(Tu(J),J.mode=Go,Le===zs){Dt>>>=2,ir-=2;break e}break;case 2:J.mode=$c;break;case 3:T.msg="invalid block type",J.mode=wa}Dt>>>=2,ir-=2;break;case Ol:for(Dt>>>=ir&7,ir-=ir&7;ir<32;){if(zt===0)break e;zt--,Dt+=Ye[lt++]<<ir,ir+=8}if((Dt&65535)!==(Dt>>>16^65535)){T.msg="invalid stored block lengths",J.mode=wa;break}if(J.length=Dt&65535,Dt=0,ir=0,J.mode=Tc,Le===zs)break e;case Tc:J.mode=fd;case fd:if(Rr=J.length,Rr){if(Rr>zt&&(Rr=zt),Rr>Sn&&(Rr=Sn),Rr===0)break e;At.set(Ye.subarray(lt,lt+Rr),er),zt-=Rr,lt+=Rr,Sn-=Rr,er+=Rr,J.length-=Rr;break}J.mode=Mo;break;case $c:for(;ir<14;){if(zt===0)break e;zt--,Dt+=Ye[lt++]<<ir,ir+=8}if(J.nlen=(Dt&31)+257,Dt>>>=5,ir-=5,J.ndist=(Dt&31)+1,Dt>>>=5,ir-=5,J.ncode=(Dt&15)+4,Dt>>>=4,ir-=4,J.nlen>286||J.ndist>30){T.msg="too many length or distance symbols",J.mode=wa;break}J.have=0,J.mode=pd;case pd:for(;J.have<J.ncode;){for(;ir<3;){if(zt===0)break e;zt--,Dt+=Ye[lt++]<<ir,ir+=8}J.lens[No[J.have++]]=Dt&7,Dt>>>=3,ir-=3}for(;J.have<19;)J.lens[No[J.have++]]=0;if(J.lencode=J.lendyn,J.lenbits=7,Hn={bits:J.lenbits},li=Vn(_i,J.lens,0,19,J.lencode,0,J.work,Hn),J.lenbits=Hn.bits,li){T.msg="invalid code lengths set",J.mode=wa;break}J.have=0,J.mode=su;case su:for(;J.have<J.nlen+J.ndist;){for(;ja=J.lencode[Dt&(1<<J.lenbits)-1],aa=ja>>>24,Ea=ja>>>16&255,ti=ja&65535,!(aa<=ir);){if(zt===0)break e;zt--,Dt+=Ye[lt++]<<ir,ir+=8}if(ti<16)Dt>>>=aa,ir-=aa,J.lens[J.have++]=ti;else{if(ti===16){for(Aa=aa+2;ir<Aa;){if(zt===0)break e;zt--,Dt+=Ye[lt++]<<ir,ir+=8}if(Dt>>>=aa,ir-=aa,J.have===0){T.msg="invalid bit length repeat",J.mode=wa;break}Jn=J.lens[J.have-1],Rr=3+(Dt&3),Dt>>>=2,ir-=2}else if(ti===17){for(Aa=aa+3;ir<Aa;){if(zt===0)break e;zt--,Dt+=Ye[lt++]<<ir,ir+=8}Dt>>>=aa,ir-=aa,Jn=0,Rr=3+(Dt&7),Dt>>>=3,ir-=3}else{for(Aa=aa+7;ir<Aa;){if(zt===0)break e;zt--,Dt+=Ye[lt++]<<ir,ir+=8}Dt>>>=aa,ir-=aa,Jn=0,Rr=11+(Dt&127),Dt>>>=7,ir-=7}if(J.have+Rr>J.nlen+J.ndist){T.msg="invalid bit length repeat",J.mode=wa;break}for(;Rr--;)J.lens[J.have++]=Jn}}if(J.mode===wa)break;if(J.lens[256]===0){T.msg="invalid code -- missing end-of-block",J.mode=wa;break}if(J.lenbits=9,Hn={bits:J.lenbits},li=Vn(Na,J.lens,0,J.nlen,J.lencode,0,J.work,Hn),J.lenbits=Hn.bits,li){T.msg="invalid literal/lengths set",J.mode=wa;break}if(J.distbits=6,J.distcode=J.distdyn,Hn={bits:J.distbits},li=Vn(Bn,J.lens,J.nlen,J.ndist,J.distcode,0,J.work,Hn),J.distbits=Hn.bits,li){T.msg="invalid distances set",J.mode=wa;break}if(J.mode=Go,Le===zs)break e;case Go:J.mode=ou;case ou:if(zt>=6&&Sn>=258){T.next_out=er,T.avail_out=Sn,T.next_in=lt,T.avail_in=zt,J.hold=Dt,J.bits=ir,la(T,fn),er=T.next_out,At=T.output,Sn=T.avail_out,lt=T.next_in,Ye=T.input,zt=T.avail_in,Dt=J.hold,ir=J.bits,J.mode===Mo&&(J.back=-1);break}for(J.back=0;ja=J.lencode[Dt&(1<<J.lenbits)-1],aa=ja>>>24,Ea=ja>>>16&255,ti=ja&65535,!(aa<=ir);){if(zt===0)break e;zt--,Dt+=Ye[lt++]<<ir,ir+=8}if(Ea&&(Ea&240)===0){for(sn=aa,Ta=Ea,ns=ti;ja=J.lencode[ns+((Dt&(1<<sn+Ta)-1)>>sn)],aa=ja>>>24,Ea=ja>>>16&255,ti=ja&65535,!(sn+aa<=ir);){if(zt===0)break e;zt--,Dt+=Ye[lt++]<<ir,ir+=8}Dt>>>=sn,ir-=sn,J.back+=sn}if(Dt>>>=aa,ir-=aa,J.back+=aa,J.length=ti,Ea===0){J.mode=Vu;break}if(Ea&32){J.back=-1,J.mode=Mo;break}if(Ea&64){T.msg="invalid literal/length code",J.mode=wa;break}J.extra=Ea&15,J.mode=Nu;case Nu:if(J.extra){for(Aa=J.extra;ir<Aa;){if(zt===0)break e;zt--,Dt+=Ye[lt++]<<ir,ir+=8}J.length+=Dt&(1<<J.extra)-1,Dt>>>=J.extra,ir-=J.extra,J.back+=J.extra}J.was=J.length,J.mode=Wu;case Wu:for(;ja=J.distcode[Dt&(1<<J.distbits)-1],aa=ja>>>24,Ea=ja>>>16&255,ti=ja&65535,!(aa<=ir);){if(zt===0)break e;zt--,Dt+=Ye[lt++]<<ir,ir+=8}if((Ea&240)===0){for(sn=aa,Ta=Ea,ns=ti;ja=J.distcode[ns+((Dt&(1<<sn+Ta)-1)>>sn)],aa=ja>>>24,Ea=ja>>>16&255,ti=ja&65535,!(sn+aa<=ir);){if(zt===0)break e;zt--,Dt+=Ye[lt++]<<ir,ir+=8}Dt>>>=sn,ir-=sn,J.back+=sn}if(Dt>>>=aa,ir-=aa,J.back+=aa,Ea&64){T.msg="invalid distance code",J.mode=wa;break}J.offset=ti,J.extra=Ea&15,J.mode=kl;case kl:if(J.extra){for(Aa=J.extra;ir<Aa;){if(zt===0)break e;zt--,Dt+=Ye[lt++]<<ir,ir+=8}J.offset+=Dt&(1<<J.extra)-1,Dt>>>=J.extra,ir-=J.extra,J.back+=J.extra}if(J.offset>J.dmax){T.msg="invalid distance too far back",J.mode=wa;break}J.mode=$u;case $u:if(Sn===0)break e;if(Rr=fn-Sn,J.offset>Rr){if(Rr=J.offset-Rr,Rr>J.whave&&J.sane){T.msg="invalid distance too far back",J.mode=wa;break}Rr>J.wnext?(Rr-=J.wnext,Nr=J.wsize-Rr):Nr=J.wnext-Rr,Rr>J.length&&(Rr=J.length),Hi=J.window}else Hi=At,Nr=er-J.offset,Rr=J.length;Rr>Sn&&(Rr=Sn),Sn-=Rr,J.length-=Rr;do At[er++]=Hi[Nr++];while(--Rr);J.length===0&&(J.mode=ou);break;case Vu:if(Sn===0)break e;At[er++]=J.length,Sn--,J.mode=ou;break;case ac:if(J.wrap){for(;ir<32;){if(zt===0)break e;zt--,Dt|=Ye[lt++]<<ir,ir+=8}if(fn-=Sn,T.total_out+=fn,J.total+=fn,J.wrap&4&&fn&&(T.adler=J.check=J.flags?tn(J.check,At,fn,er-fn):ca(J.check,At,fn,er-fn)),fn=Sn,J.wrap&4&&(J.flags?Dt:_c(Dt))!==J.check){T.msg="incorrect data check",J.mode=wa;break}Dt=0,ir=0}J.mode=zu;case zu:if(J.wrap&&J.flags){for(;ir<32;){if(zt===0)break e;zt--,Dt+=Ye[lt++]<<ir,ir+=8}if(J.wrap&4&&Dt!==(J.total&4294967295)){T.msg="incorrect length check",J.mode=wa;break}Dt=0,ir=0}J.mode=Su;case Su:li=Bc;break e;case wa:li=jo;break e;case md:return Tl;case ic:default:return Cs}return T.next_out=er,T.avail_out=Sn,T.next_in=lt,T.avail_in=zt,J.hold=Dt,J.bits=ir,(J.wsize||fn!==T.avail_out&&J.mode<wa&&(J.mode<ac||Le!==ei))&&_u(T,T.output,T.next_out,fn-T.avail_out),ba-=T.avail_in,fn-=T.avail_out,T.total_in+=ba,T.total_out+=fn,J.total+=fn,J.wrap&4&&fn&&(T.adler=J.check=J.flags?tn(J.check,At,fn,T.next_out-fn):ca(J.check,At,fn,T.next_out-fn)),T.data_type=J.bits+(J.last?64:0)+(J.mode===Mo?128:0)+(J.mode===Go||J.mode===Tc?256:0),(ba===0&&fn===0||Le===ei)&&li===wo&&(li=Rs),li},Fl=T=>{if(Pl(T))return Cs;let Le=T.state;return Le.window&&(Le.window=null),T.state=null,wo},Hh=(T,Le)=>{if(Pl(T))return Cs;const J=T.state;return(J.wrap&2)===0?Cs:(J.head=Le,Le.done=!1,wo)},Ou=(T,Le)=>{const J=Le.length;let Ye,At,lt;return Pl(T)||(Ye=T.state,Ye.wrap!==0&&Ye.mode!==Ko)?Cs:Ye.mode===Ko&&(At=1,At=ca(At,Le,J,0),At!==Ye.check)?jo:(lt=_u(T,Le,J,J),lt?(Ye.mode=md,Tl):(Ye.havedict=1,wo))};var Kd=qo,Qh=vd,Sa=Ku,Vc=xd,mh=Eu,Oc=yd,Co=Fl,Dl=Hh,sc=Ou,Gd="pako inflate (from Nodeca project)",vl={inflateReset:Kd,inflateReset2:Qh,inflateResetKeep:Sa,inflateInit:Vc,inflateInit2:mh,inflate:Oc,inflateEnd:Co,inflateGetHeader:Dl,inflateSetDictionary:sc,inflateInfo:Gd};function Gu(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Xo=Gu;const ku=Object.prototype.toString,{Z_NO_FLUSH:xl,Z_FINISH:bd,Z_OK:kc,Z_STREAM_END:oc,Z_NEED_DICT:Ml,Z_STREAM_ERROR:di,Z_DATA_ERROR:Oi,Z_MEM_ERROR:Rl}=ga;function Ns(T){this.options=jr.assign({chunkSize:65536,windowBits:15,to:""},T||{});const Le=this.options;Le.raw&&Le.windowBits>=0&&Le.windowBits<16&&(Le.windowBits=-Le.windowBits,Le.windowBits===0&&(Le.windowBits=-15)),Le.windowBits>=0&&Le.windowBits<16&&!(T&&T.windowBits)&&(Le.windowBits+=32),Le.windowBits>15&&Le.windowBits<48&&(Le.windowBits&15)===0&&(Le.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Gt,this.strm.avail_out=0;let J=vl.inflateInit2(this.strm,Le.windowBits);if(J!==kc)throw new Error(cr[J]);if(this.header=new Xo,vl.inflateGetHeader(this.strm,this.header),Le.dictionary&&(typeof Le.dictionary=="string"?Le.dictionary=St.string2buf(Le.dictionary):ku.call(Le.dictionary)==="[object ArrayBuffer]"&&(Le.dictionary=new Uint8Array(Le.dictionary)),Le.raw&&(J=vl.inflateSetDictionary(this.strm,Le.dictionary),J!==kc)))throw new Error(cr[J])}Ns.prototype.push=function(T,Le){const J=this.strm,Ye=this.options.chunkSize,At=this.options.dictionary;let lt,er,zt;if(this.ended)return!1;for(Le===~~Le?er=Le:er=Le===!0?bd:xl,ku.call(T)==="[object ArrayBuffer]"?J.input=new Uint8Array(T):J.input=T,J.next_in=0,J.avail_in=J.input.length;;){for(J.avail_out===0&&(J.output=new Uint8Array(Ye),J.next_out=0,J.avail_out=Ye),lt=vl.inflate(J,er),lt===Ml&&At&&(lt=vl.inflateSetDictionary(J,At),lt===kc?lt=vl.inflate(J,er):lt===Oi&&(lt=Ml));J.avail_in>0&&lt===oc&&J.state.wrap>0&&T[J.next_in]!==0;)vl.inflateReset(J),lt=vl.inflate(J,er);switch(lt){case di:case Oi:case Ml:case Rl:return this.onEnd(lt),this.ended=!0,!1}if(zt=J.avail_out,J.next_out&&(J.avail_out===0||lt===oc))if(this.options.to==="string"){let Sn=St.utf8border(J.output,J.next_out),Dt=J.next_out-Sn,ir=St.buf2string(J.output,Sn);J.next_out=Dt,J.avail_out=Ye-Dt,Dt&&J.output.set(J.output.subarray(Sn,Sn+Dt),0),this.onData(ir)}else this.onData(J.output.length===J.next_out?J.output:J.output.subarray(0,J.next_out));if(!(lt===kc&&zt===0)){if(lt===oc)return lt=vl.inflateEnd(this.strm),this.onEnd(lt),this.ended=!0,!0;if(J.avail_in===0)break}}return!0},Ns.prototype.onData=function(T){this.chunks.push(T)},Ns.prototype.onEnd=function(T){T===kc&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=jr.flattenChunks(this.chunks)),this.chunks=[],this.err=T,this.msg=this.strm.msg};function Ls(T,Le){const J=new Ns(Le);if(J.push(T),J.err)throw J.msg||cr[J.err];return J.result}function Pc(T,Le){return Le=Le||{},Le.raw=!0,Ls(T,Le)}var uu=Ns,Ro=Ls,lc=Pc,zc=Ls,qd={Inflate:uu,inflate:Ro,inflateRaw:lc,ungzip:zc};const{Deflate:Kc,deflate:Xd,deflateRaw:Ae,gzip:Qe}=Qa,{Inflate:vt,inflate:kt,inflateRaw:Xt,ungzip:Cr}=qd;var Fr=Kc,In=Xd,Un=Ae,ma=Qe,na=vt,Pa=kt,Ri=Xt,Ui=Cr,Ai=ga,hs={Deflate:Fr,deflate:In,deflateRaw:Un,gzip:ma,Inflate:na,inflate:Pa,inflateRaw:Ri,ungzip:Ui,constants:Ai}}),"./node_modules/performance-now/lib/performance-now.js":(function(l){(function(){var u,o,h,d,A,f;typeof performance<"u"&&performance!==null&&performance.now?l.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(l.exports=function(){return(u()-A)/1e6},o=process.hrtime,u=function(){var g;return g=o(),g[0]*1e9+g[1]},d=u(),f=process.uptime()*1e9,A=d-f):Date.now?(l.exports=function(){return Date.now()-h},h=Date.now()):(l.exports=function(){return new Date().getTime()-h},h=new Date().getTime())}).call(this)}),"./node_modules/raf/index.js":(function(l,u,o){for(var h=o("./node_modules/performance-now/lib/performance-now.js"),d=typeof window>"u"?cA:window,A=["moz","webkit"],f="AnimationFrame",g=d["request"+f],m=d["cancel"+f]||d["cancelRequest"+f],x=0;!g&&x<A.length;x++)g=d[A[x]+"Request"+f],m=d[A[x]+"Cancel"+f]||d[A[x]+"CancelRequest"+f];if(!g||!m){var y=0,b=0,w=[],S=1e3/60;g=function(N){if(w.length===0){var C=h(),O=Math.max(0,S-(C-y));y=O+C,setTimeout(function(){var W=w.slice(0);w.length=0;for(var K=0;K<W.length;K++)if(!W[K].cancelled)try{W[K].callback(y)}catch(te){setTimeout(function(){throw te},0)}},Math.round(O))}return w.push({handle:++b,callback:N,cancelled:!1}),b},m=function(N){for(var C=0;C<w.length;C++)w[C].handle===N&&(w[C].cancelled=!0)}}l.exports=function(N){return g.call(d,N)},l.exports.cancel=function(){m.apply(d,arguments)},l.exports.polyfill=function(N){N||(N=d),N.requestAnimationFrame=g,N.cancelAnimationFrame=m}}),"./node_modules/rgbcolor/index.js":(function(l){l.exports=function(u){this.ok=!1,this.alpha=1,u.charAt(0)=="#"&&(u=u.substr(1,6)),u=u.replace(/ /g,""),u=u.toLowerCase();var o={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};u=o[u]||u;for(var h=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(x){return[parseInt(x[1]),parseInt(x[2]),parseInt(x[3]),parseFloat(x[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(x){return[parseInt(x[1]),parseInt(x[2]),parseInt(x[3])]}},{re:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,example:["#00ff00","336699"],process:function(x){return[parseInt(x[1],16),parseInt(x[2],16),parseInt(x[3],16)]}},{re:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,example:["#fb0","f0f"],process:function(x){return[parseInt(x[1]+x[1],16),parseInt(x[2]+x[2],16),parseInt(x[3]+x[3],16)]}}],d=0;d<h.length;d++){var A=h[d].re,f=h[d].process,g=A.exec(u);if(g){var m=f(g);this.r=m[0],this.g=m[1],this.b=m[2],m.length>3&&(this.alpha=m[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var x=this.r.toString(16),y=this.g.toString(16),b=this.b.toString(16);return x.length==1&&(x="0"+x),y.length==1&&(y="0"+y),b.length==1&&(b="0"+b),"#"+x+y+b},this.getHelpXML=function(){for(var x=new Array,y=0;y<h.length;y++)for(var b=h[y].example,w=0;w<b.length;w++)x[x.length]=b[w];for(var S in o)x[x.length]=S;var N=document.createElement("ul");N.setAttribute("id","rgbcolor-examples");for(var y=0;y<x.length;y++)try{var C=document.createElement("li"),O=new RGBColor(x[y]),W=document.createElement("div");W.style.cssText="margin: 3px; border: 1px solid black; background:"+O.toHex()+"; color:"+O.toHex(),W.appendChild(document.createTextNode("test"));var K=document.createTextNode(" "+x[y]+" -> "+O.toRGB()+" -> "+O.toHex());C.appendChild(W),C.appendChild(K),N.appendChild(C)}catch{}return N}}}),"./node_modules/stackblur-canvas/dist/stackblur-es.js":(function(l,u,o){o.r(u),o.d(u,{BlurStack:function(){return S},canvasRGB:function(){return b},canvasRGBA:function(){return x},image:function(){return g},imageDataRGB:function(){return w},imageDataRGBA:function(){return y}});function h(N){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?h=function(C){return typeof C}:h=function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},h(N)}function d(N,C){if(!(N instanceof C))throw new TypeError("Cannot call a class as a function")}var A=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],f=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function g(N,C,O,W,K,te){if(typeof N=="string"&&(N=document.getElementById(N)),!(!N||Object.prototype.toString.call(N).slice(8,-1)==="HTMLImageElement"&&!("naturalWidth"in N))){var q=K?"offset":"natural",Y=N[q+"Width"],P=N[q+"Height"];if(Object.prototype.toString.call(N).slice(8,-1)==="ImageBitmap"&&(Y=N.width,P=N.height),typeof C=="string"&&(C=document.getElementById(C)),!(!C||!("getContext"in C))){te||(C.style.width=Y+"px",C.style.height=P+"px"),C.width=Y,C.height=P;var ce=C.getContext("2d");ce.clearRect(0,0,Y,P),ce.drawImage(N,0,0,N.naturalWidth,N.naturalHeight,0,0,Y,P),!(isNaN(O)||O<1)&&(W?x(C,0,0,Y,P,O):b(C,0,0,Y,P,O))}}}function m(N,C,O,W,K){if(typeof N=="string"&&(N=document.getElementById(N)),!N||h(N)!=="object"||!("getContext"in N))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var te=N.getContext("2d");try{return te.getImageData(C,O,W,K)}catch(q){throw new Error("unable to access image data: "+q)}}function x(N,C,O,W,K,te){if(!(isNaN(te)||te<1)){te|=0;var q=m(N,C,O,W,K);q=y(q,C,O,W,K,te),N.getContext("2d").putImageData(q,C,O)}}function y(N,C,O,W,K,te){for(var q=N.data,Y=2*te+1,P=W-1,ce=K-1,$=te+1,R=$*($+1)/2,se=new S,fe=se,Te,Ie=1;Ie<Y;Ie++)fe=fe.next=new S,Ie===$&&(Te=fe);fe.next=se;for(var _e=null,Z=null,Oe=0,ee=0,re=A[te],je=f[te],Ne=0;Ne<K;Ne++){fe=se;for(var ye=q[ee],me=q[ee+1],ie=q[ee+2],le=q[ee+3],Ee=0;Ee<$;Ee++)fe.r=ye,fe.g=me,fe.b=ie,fe.a=le,fe=fe.next;for(var Re=0,Ue=0,de=0,Ce=0,ue=$*ye,$e=$*me,it=$*ie,Et=$*le,Ct=R*ye,Bt=R*me,mr=R*ie,lr=R*le,He=1;He<$;He++){var $t=ee+((P<He?P:He)<<2),Nt=q[$t],Dr=q[$t+1],vr=q[$t+2],an=q[$t+3],Xr=$-He;Ct+=(fe.r=Nt)*Xr,Bt+=(fe.g=Dr)*Xr,mr+=(fe.b=vr)*Xr,lr+=(fe.a=an)*Xr,Re+=Nt,Ue+=Dr,de+=vr,Ce+=an,fe=fe.next}_e=se,Z=Te;for(var Qr=0;Qr<W;Qr++){var Ir=lr*re>>>je;if(q[ee+3]=Ir,Ir!==0){var hr=255/Ir;q[ee]=(Ct*re>>>je)*hr,q[ee+1]=(Bt*re>>>je)*hr,q[ee+2]=(mr*re>>>je)*hr}else q[ee]=q[ee+1]=q[ee+2]=0;Ct-=ue,Bt-=$e,mr-=it,lr-=Et,ue-=_e.r,$e-=_e.g,it-=_e.b,Et-=_e.a;var pr=Qr+te+1;pr=Oe+(pr<P?pr:P)<<2,Re+=_e.r=q[pr],Ue+=_e.g=q[pr+1],de+=_e.b=q[pr+2],Ce+=_e.a=q[pr+3],Ct+=Re,Bt+=Ue,mr+=de,lr+=Ce,_e=_e.next;var Lr=Z,$r=Lr.r,dn=Lr.g,zr=Lr.b,Wn=Lr.a;ue+=$r,$e+=dn,it+=zr,Et+=Wn,Re-=$r,Ue-=dn,de-=zr,Ce-=Wn,Z=Z.next,ee+=4}Oe+=W}for(var Hr=0;Hr<W;Hr++){ee=Hr<<2;var Mr=q[ee],jn=q[ee+1],cn=q[ee+2],Ln=q[ee+3],ca=$*Mr,Pt=$*jn,Kr=$*cn,un=$*Ln,tn=R*Mr,cr=R*jn,ga=R*cn,xi=R*Ln;fe=se;for(var Cn=0;Cn<$;Cn++)fe.r=Mr,fe.g=jn,fe.b=cn,fe.a=Ln,fe=fe.next;for(var Ts=W,Ni=0,yi=0,Wi=0,Ii=0,Ds=1;Ds<=te;Ds++){ee=Ts+Hr<<2;var Ga=$-Ds;tn+=(fe.r=Mr=q[ee])*Ga,cr+=(fe.g=jn=q[ee+1])*Ga,ga+=(fe.b=cn=q[ee+2])*Ga,xi+=(fe.a=Ln=q[ee+3])*Ga,Ii+=Mr,Ni+=jn,yi+=cn,Wi+=Ln,fe=fe.next,Ds<ce&&(Ts+=W)}ee=Hr,_e=se,Z=Te;for(var xs=0;xs<K;xs++){var Va=ee<<2;q[Va+3]=Ln=xi*re>>>je,Ln>0?(Ln=255/Ln,q[Va]=(tn*re>>>je)*Ln,q[Va+1]=(cr*re>>>je)*Ln,q[Va+2]=(ga*re>>>je)*Ln):q[Va]=q[Va+1]=q[Va+2]=0,tn-=ca,cr-=Pt,ga-=Kr,xi-=un,ca-=_e.r,Pt-=_e.g,Kr-=_e.b,un-=_e.a,Va=Hr+((Va=xs+$)<ce?Va:ce)*W<<2,tn+=Ii+=_e.r=q[Va],cr+=Ni+=_e.g=q[Va+1],ga+=yi+=_e.b=q[Va+2],xi+=Wi+=_e.a=q[Va+3],_e=_e.next,ca+=Mr=Z.r,Pt+=jn=Z.g,Kr+=cn=Z.b,un+=Ln=Z.a,Ii-=Mr,Ni-=jn,yi-=cn,Wi-=Ln,Z=Z.next,ee+=W}}return N}function b(N,C,O,W,K,te){if(!(isNaN(te)||te<1)){te|=0;var q=m(N,C,O,W,K);q=w(q,C,O,W,K,te),N.getContext("2d").putImageData(q,C,O)}}function w(N,C,O,W,K,te){for(var q=N.data,Y=2*te+1,P=W-1,ce=K-1,$=te+1,R=$*($+1)/2,se=new S,fe=se,Te,Ie=1;Ie<Y;Ie++)fe=fe.next=new S,Ie===$&&(Te=fe);fe.next=se;for(var _e=null,Z=null,Oe=A[te],ee=f[te],re,je,Ne=0,ye=0,me=0;me<K;me++){var ie=q[ye],le=q[ye+1],Ee=q[ye+2],Re=$*ie,Ue=$*le,de=$*Ee,Ce=R*ie,ue=R*le,$e=R*Ee;fe=se;for(var it=0;it<$;it++)fe.r=ie,fe.g=le,fe.b=Ee,fe=fe.next;for(var Et=0,Ct=0,Bt=0,mr=1;mr<$;mr++)re=ye+((P<mr?P:mr)<<2),Ce+=(fe.r=ie=q[re])*(je=$-mr),ue+=(fe.g=le=q[re+1])*je,$e+=(fe.b=Ee=q[re+2])*je,Et+=ie,Ct+=le,Bt+=Ee,fe=fe.next;_e=se,Z=Te;for(var lr=0;lr<W;lr++)q[ye]=Ce*Oe>>>ee,q[ye+1]=ue*Oe>>>ee,q[ye+2]=$e*Oe>>>ee,Ce-=Re,ue-=Ue,$e-=de,Re-=_e.r,Ue-=_e.g,de-=_e.b,re=Ne+((re=lr+te+1)<P?re:P)<<2,Et+=_e.r=q[re],Ct+=_e.g=q[re+1],Bt+=_e.b=q[re+2],Ce+=Et,ue+=Ct,$e+=Bt,_e=_e.next,Re+=ie=Z.r,Ue+=le=Z.g,de+=Ee=Z.b,Et-=ie,Ct-=le,Bt-=Ee,Z=Z.next,ye+=4;Ne+=W}for(var He=0;He<W;He++){ye=He<<2;var $t=q[ye],Nt=q[ye+1],Dr=q[ye+2],vr=$*$t,an=$*Nt,Xr=$*Dr,Qr=R*$t,Ir=R*Nt,hr=R*Dr;fe=se;for(var pr=0;pr<$;pr++)fe.r=$t,fe.g=Nt,fe.b=Dr,fe=fe.next;for(var Lr=0,$r=0,dn=0,zr=1,Wn=W;zr<=te;zr++)ye=Wn+He<<2,Qr+=(fe.r=$t=q[ye])*(je=$-zr),Ir+=(fe.g=Nt=q[ye+1])*je,hr+=(fe.b=Dr=q[ye+2])*je,Lr+=$t,$r+=Nt,dn+=Dr,fe=fe.next,zr<ce&&(Wn+=W);ye=He,_e=se,Z=Te;for(var Hr=0;Hr<K;Hr++)re=ye<<2,q[re]=Qr*Oe>>>ee,q[re+1]=Ir*Oe>>>ee,q[re+2]=hr*Oe>>>ee,Qr-=vr,Ir-=an,hr-=Xr,vr-=_e.r,an-=_e.g,Xr-=_e.b,re=He+((re=Hr+$)<ce?re:ce)*W<<2,Qr+=Lr+=_e.r=q[re],Ir+=$r+=_e.g=q[re+1],hr+=dn+=_e.b=q[re+2],_e=_e.next,vr+=$t=Z.r,an+=Nt=Z.g,Xr+=Dr=Z.b,Lr-=$t,$r-=Nt,dn-=Dr,Z=Z.next,ye+=W}return N}var S=function N(){d(this,N),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}}),"./node_modules/svg-pathdata/lib/SVGPathData.module.js":(function(l,u,o){o.r(u),o.d(u,{COMMAND_ARG_COUNTS:function(){return ce},SVGPathData:function(){return P},SVGPathDataParser:function(){return Y},SVGPathDataTransformer:function(){return b},encodeSVGPath:function(){return A}});/*! *****************************************************************************
		Copyright (c) Microsoft Corporation.

		Permission to use, copy, modify, and/or distribute this software for any
		purpose with or without fee is hereby granted.

		THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
		REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
		AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
		INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
		LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
		OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
		PERFORMANCE OF THIS SOFTWARE.
		***************************************************************************** */var h=function($,R){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(se,fe){se.__proto__=fe}||function(se,fe){for(var Te in fe)Object.prototype.hasOwnProperty.call(fe,Te)&&(se[Te]=fe[Te])})($,R)};function d($,R){if(typeof R!="function"&&R!==null)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");function se(){this.constructor=$}h($,R),$.prototype=R===null?Object.create(R):(se.prototype=R.prototype,new se)}function A($){var R="";Array.isArray($)||($=[$]);for(var se=0;se<$.length;se++){var fe=$[se];if(fe.type===P.CLOSE_PATH)R+="z";else if(fe.type===P.HORIZ_LINE_TO)R+=(fe.relative?"h":"H")+fe.x;else if(fe.type===P.VERT_LINE_TO)R+=(fe.relative?"v":"V")+fe.y;else if(fe.type===P.MOVE_TO)R+=(fe.relative?"m":"M")+fe.x+" "+fe.y;else if(fe.type===P.LINE_TO)R+=(fe.relative?"l":"L")+fe.x+" "+fe.y;else if(fe.type===P.CURVE_TO)R+=(fe.relative?"c":"C")+fe.x1+" "+fe.y1+" "+fe.x2+" "+fe.y2+" "+fe.x+" "+fe.y;else if(fe.type===P.SMOOTH_CURVE_TO)R+=(fe.relative?"s":"S")+fe.x2+" "+fe.y2+" "+fe.x+" "+fe.y;else if(fe.type===P.QUAD_TO)R+=(fe.relative?"q":"Q")+fe.x1+" "+fe.y1+" "+fe.x+" "+fe.y;else if(fe.type===P.SMOOTH_QUAD_TO)R+=(fe.relative?"t":"T")+fe.x+" "+fe.y;else{if(fe.type!==P.ARC)throw new Error('Unexpected command type "'+fe.type+'" at index '+se+".");R+=(fe.relative?"a":"A")+fe.rX+" "+fe.rY+" "+fe.xRot+" "+ +fe.lArcFlag+" "+ +fe.sweepFlag+" "+fe.x+" "+fe.y}}return R}function f($,R){var se=$[0],fe=$[1];return[se*Math.cos(R)-fe*Math.sin(R),se*Math.sin(R)+fe*Math.cos(R)]}function g(){for(var $=[],R=0;R<arguments.length;R++)$[R]=arguments[R];for(var se=0;se<$.length;se++)if(typeof $[se]!="number")throw new Error("assertNumbers arguments["+se+"] is not a number. "+typeof $[se]+" == typeof "+$[se]);return!0}var m=Math.PI;function x($,R,se){$.lArcFlag=$.lArcFlag===0?0:1,$.sweepFlag=$.sweepFlag===0?0:1;var fe=$.rX,Te=$.rY,Ie=$.x,_e=$.y;fe=Math.abs($.rX),Te=Math.abs($.rY);var Z=f([(R-Ie)/2,(se-_e)/2],-$.xRot/180*m),Oe=Z[0],ee=Z[1],re=Math.pow(Oe,2)/Math.pow(fe,2)+Math.pow(ee,2)/Math.pow(Te,2);1<re&&(fe*=Math.sqrt(re),Te*=Math.sqrt(re)),$.rX=fe,$.rY=Te;var je=Math.pow(fe,2)*Math.pow(ee,2)+Math.pow(Te,2)*Math.pow(Oe,2),Ne=($.lArcFlag!==$.sweepFlag?1:-1)*Math.sqrt(Math.max(0,(Math.pow(fe,2)*Math.pow(Te,2)-je)/je)),ye=fe*ee/Te*Ne,me=-Te*Oe/fe*Ne,ie=f([ye,me],$.xRot/180*m);$.cX=ie[0]+(R+Ie)/2,$.cY=ie[1]+(se+_e)/2,$.phi1=Math.atan2((ee-me)/Te,(Oe-ye)/fe),$.phi2=Math.atan2((-ee-me)/Te,(-Oe-ye)/fe),$.sweepFlag===0&&$.phi2>$.phi1&&($.phi2-=2*m),$.sweepFlag===1&&$.phi2<$.phi1&&($.phi2+=2*m),$.phi1*=180/m,$.phi2*=180/m}function y($,R,se){g($,R,se);var fe=$*$+R*R-se*se;if(0>fe)return[];if(fe===0)return[[$*se/($*$+R*R),R*se/($*$+R*R)]];var Te=Math.sqrt(fe);return[[($*se+R*Te)/($*$+R*R),(R*se-$*Te)/($*$+R*R)],[($*se-R*Te)/($*$+R*R),(R*se+$*Te)/($*$+R*R)]]}var b,w=Math.PI/180;function S($,R,se){return(1-se)*$+se*R}function N($,R,se,fe){return $+Math.cos(fe/180*m)*R+Math.sin(fe/180*m)*se}function C($,R,se,fe){var Te=1e-6,Ie=R-$,_e=se-R,Z=3*Ie+3*(fe-se)-6*_e,Oe=6*(_e-Ie),ee=3*Ie;return Math.abs(Z)<Te?[-ee/Oe]:(function(re,je,Ne){var ye=re*re/4-je;if(ye<-Ne)return[];if(ye<=Ne)return[-re/2];var me=Math.sqrt(ye);return[-re/2-me,-re/2+me]})(Oe/Z,ee/Z,Te)}function O($,R,se,fe,Te){var Ie=1-Te;return $*(Ie*Ie*Ie)+R*(3*Ie*Ie*Te)+se*(3*Ie*Te*Te)+fe*(Te*Te*Te)}(function($){function R(){return Te((function(Z,Oe,ee){return Z.relative&&(Z.x1!==void 0&&(Z.x1+=Oe),Z.y1!==void 0&&(Z.y1+=ee),Z.x2!==void 0&&(Z.x2+=Oe),Z.y2!==void 0&&(Z.y2+=ee),Z.x!==void 0&&(Z.x+=Oe),Z.y!==void 0&&(Z.y+=ee),Z.relative=!1),Z}))}function se(){var Z=NaN,Oe=NaN,ee=NaN,re=NaN;return Te((function(je,Ne,ye){return je.type&P.SMOOTH_CURVE_TO&&(je.type=P.CURVE_TO,Z=isNaN(Z)?Ne:Z,Oe=isNaN(Oe)?ye:Oe,je.x1=je.relative?Ne-Z:2*Ne-Z,je.y1=je.relative?ye-Oe:2*ye-Oe),je.type&P.CURVE_TO?(Z=je.relative?Ne+je.x2:je.x2,Oe=je.relative?ye+je.y2:je.y2):(Z=NaN,Oe=NaN),je.type&P.SMOOTH_QUAD_TO&&(je.type=P.QUAD_TO,ee=isNaN(ee)?Ne:ee,re=isNaN(re)?ye:re,je.x1=je.relative?Ne-ee:2*Ne-ee,je.y1=je.relative?ye-re:2*ye-re),je.type&P.QUAD_TO?(ee=je.relative?Ne+je.x1:je.x1,re=je.relative?ye+je.y1:je.y1):(ee=NaN,re=NaN),je}))}function fe(){var Z=NaN,Oe=NaN;return Te((function(ee,re,je){if(ee.type&P.SMOOTH_QUAD_TO&&(ee.type=P.QUAD_TO,Z=isNaN(Z)?re:Z,Oe=isNaN(Oe)?je:Oe,ee.x1=ee.relative?re-Z:2*re-Z,ee.y1=ee.relative?je-Oe:2*je-Oe),ee.type&P.QUAD_TO){Z=ee.relative?re+ee.x1:ee.x1,Oe=ee.relative?je+ee.y1:ee.y1;var Ne=ee.x1,ye=ee.y1;ee.type=P.CURVE_TO,ee.x1=((ee.relative?0:re)+2*Ne)/3,ee.y1=((ee.relative?0:je)+2*ye)/3,ee.x2=(ee.x+2*Ne)/3,ee.y2=(ee.y+2*ye)/3}else Z=NaN,Oe=NaN;return ee}))}function Te(Z){var Oe=0,ee=0,re=NaN,je=NaN;return function(Ne){if(isNaN(re)&&!(Ne.type&P.MOVE_TO))throw new Error("path must start with moveto");var ye=Z(Ne,Oe,ee,re,je);return Ne.type&P.CLOSE_PATH&&(Oe=re,ee=je),Ne.x!==void 0&&(Oe=Ne.relative?Oe+Ne.x:Ne.x),Ne.y!==void 0&&(ee=Ne.relative?ee+Ne.y:Ne.y),Ne.type&P.MOVE_TO&&(re=Oe,je=ee),ye}}function Ie(Z,Oe,ee,re,je,Ne){return g(Z,Oe,ee,re,je,Ne),Te((function(ye,me,ie,le){var Ee=ye.x1,Re=ye.x2,Ue=ye.relative&&!isNaN(le),de=ye.x!==void 0?ye.x:Ue?0:me,Ce=ye.y!==void 0?ye.y:Ue?0:ie;function ue(Ir){return Ir*Ir}ye.type&P.HORIZ_LINE_TO&&Oe!==0&&(ye.type=P.LINE_TO,ye.y=ye.relative?0:ie),ye.type&P.VERT_LINE_TO&&ee!==0&&(ye.type=P.LINE_TO,ye.x=ye.relative?0:me),ye.x!==void 0&&(ye.x=ye.x*Z+Ce*ee+(Ue?0:je)),ye.y!==void 0&&(ye.y=de*Oe+ye.y*re+(Ue?0:Ne)),ye.x1!==void 0&&(ye.x1=ye.x1*Z+ye.y1*ee+(Ue?0:je)),ye.y1!==void 0&&(ye.y1=Ee*Oe+ye.y1*re+(Ue?0:Ne)),ye.x2!==void 0&&(ye.x2=ye.x2*Z+ye.y2*ee+(Ue?0:je)),ye.y2!==void 0&&(ye.y2=Re*Oe+ye.y2*re+(Ue?0:Ne));var $e=Z*re-Oe*ee;if(ye.xRot!==void 0&&(Z!==1||Oe!==0||ee!==0||re!==1))if($e===0)delete ye.rX,delete ye.rY,delete ye.xRot,delete ye.lArcFlag,delete ye.sweepFlag,ye.type=P.LINE_TO;else{var it=ye.xRot*Math.PI/180,Et=Math.sin(it),Ct=Math.cos(it),Bt=1/ue(ye.rX),mr=1/ue(ye.rY),lr=ue(Ct)*Bt+ue(Et)*mr,He=2*Et*Ct*(Bt-mr),$t=ue(Et)*Bt+ue(Ct)*mr,Nt=lr*re*re-He*Oe*re+$t*Oe*Oe,Dr=He*(Z*re+Oe*ee)-2*(lr*ee*re+$t*Z*Oe),vr=lr*ee*ee-He*Z*ee+$t*Z*Z,an=(Math.atan2(Dr,Nt-vr)+Math.PI)%Math.PI/2,Xr=Math.sin(an),Qr=Math.cos(an);ye.rX=Math.abs($e)/Math.sqrt(Nt*ue(Qr)+Dr*Xr*Qr+vr*ue(Xr)),ye.rY=Math.abs($e)/Math.sqrt(Nt*ue(Xr)-Dr*Xr*Qr+vr*ue(Qr)),ye.xRot=180*an/Math.PI}return ye.sweepFlag!==void 0&&0>$e&&(ye.sweepFlag=+!ye.sweepFlag),ye}))}function _e(){return function(Z){var Oe={};for(var ee in Z)Oe[ee]=Z[ee];return Oe}}$.ROUND=function(Z){function Oe(ee){return Math.round(ee*Z)/Z}return Z===void 0&&(Z=1e13),g(Z),function(ee){return ee.x1!==void 0&&(ee.x1=Oe(ee.x1)),ee.y1!==void 0&&(ee.y1=Oe(ee.y1)),ee.x2!==void 0&&(ee.x2=Oe(ee.x2)),ee.y2!==void 0&&(ee.y2=Oe(ee.y2)),ee.x!==void 0&&(ee.x=Oe(ee.x)),ee.y!==void 0&&(ee.y=Oe(ee.y)),ee.rX!==void 0&&(ee.rX=Oe(ee.rX)),ee.rY!==void 0&&(ee.rY=Oe(ee.rY)),ee}},$.TO_ABS=R,$.TO_REL=function(){return Te((function(Z,Oe,ee){return Z.relative||(Z.x1!==void 0&&(Z.x1-=Oe),Z.y1!==void 0&&(Z.y1-=ee),Z.x2!==void 0&&(Z.x2-=Oe),Z.y2!==void 0&&(Z.y2-=ee),Z.x!==void 0&&(Z.x-=Oe),Z.y!==void 0&&(Z.y-=ee),Z.relative=!0),Z}))},$.NORMALIZE_HVZ=function(Z,Oe,ee){return Z===void 0&&(Z=!0),Oe===void 0&&(Oe=!0),ee===void 0&&(ee=!0),Te((function(re,je,Ne,ye,me){if(isNaN(ye)&&!(re.type&P.MOVE_TO))throw new Error("path must start with moveto");return Oe&&re.type&P.HORIZ_LINE_TO&&(re.type=P.LINE_TO,re.y=re.relative?0:Ne),ee&&re.type&P.VERT_LINE_TO&&(re.type=P.LINE_TO,re.x=re.relative?0:je),Z&&re.type&P.CLOSE_PATH&&(re.type=P.LINE_TO,re.x=re.relative?ye-je:ye,re.y=re.relative?me-Ne:me),re.type&P.ARC&&(re.rX===0||re.rY===0)&&(re.type=P.LINE_TO,delete re.rX,delete re.rY,delete re.xRot,delete re.lArcFlag,delete re.sweepFlag),re}))},$.NORMALIZE_ST=se,$.QT_TO_C=fe,$.INFO=Te,$.SANITIZE=function(Z){Z===void 0&&(Z=0),g(Z);var Oe=NaN,ee=NaN,re=NaN,je=NaN;return Te((function(Ne,ye,me,ie,le){var Ee=Math.abs,Re=!1,Ue=0,de=0;if(Ne.type&P.SMOOTH_CURVE_TO&&(Ue=isNaN(Oe)?0:ye-Oe,de=isNaN(ee)?0:me-ee),Ne.type&(P.CURVE_TO|P.SMOOTH_CURVE_TO)?(Oe=Ne.relative?ye+Ne.x2:Ne.x2,ee=Ne.relative?me+Ne.y2:Ne.y2):(Oe=NaN,ee=NaN),Ne.type&P.SMOOTH_QUAD_TO?(re=isNaN(re)?ye:2*ye-re,je=isNaN(je)?me:2*me-je):Ne.type&P.QUAD_TO?(re=Ne.relative?ye+Ne.x1:Ne.x1,je=Ne.relative?me+Ne.y1:Ne.y2):(re=NaN,je=NaN),Ne.type&P.LINE_COMMANDS||Ne.type&P.ARC&&(Ne.rX===0||Ne.rY===0||!Ne.lArcFlag)||Ne.type&P.CURVE_TO||Ne.type&P.SMOOTH_CURVE_TO||Ne.type&P.QUAD_TO||Ne.type&P.SMOOTH_QUAD_TO){var Ce=Ne.x===void 0?0:Ne.relative?Ne.x:Ne.x-ye,ue=Ne.y===void 0?0:Ne.relative?Ne.y:Ne.y-me;Ue=isNaN(re)?Ne.x1===void 0?Ue:Ne.relative?Ne.x:Ne.x1-ye:re-ye,de=isNaN(je)?Ne.y1===void 0?de:Ne.relative?Ne.y:Ne.y1-me:je-me;var $e=Ne.x2===void 0?0:Ne.relative?Ne.x:Ne.x2-ye,it=Ne.y2===void 0?0:Ne.relative?Ne.y:Ne.y2-me;Ee(Ce)<=Z&&Ee(ue)<=Z&&Ee(Ue)<=Z&&Ee(de)<=Z&&Ee($e)<=Z&&Ee(it)<=Z&&(Re=!0)}return Ne.type&P.CLOSE_PATH&&Ee(ye-ie)<=Z&&Ee(me-le)<=Z&&(Re=!0),Re?[]:Ne}))},$.MATRIX=Ie,$.ROTATE=function(Z,Oe,ee){Oe===void 0&&(Oe=0),ee===void 0&&(ee=0),g(Z,Oe,ee);var re=Math.sin(Z),je=Math.cos(Z);return Ie(je,re,-re,je,Oe-Oe*je+ee*re,ee-Oe*re-ee*je)},$.TRANSLATE=function(Z,Oe){return Oe===void 0&&(Oe=0),g(Z,Oe),Ie(1,0,0,1,Z,Oe)},$.SCALE=function(Z,Oe){return Oe===void 0&&(Oe=Z),g(Z,Oe),Ie(Z,0,0,Oe,0,0)},$.SKEW_X=function(Z){return g(Z),Ie(1,0,Math.atan(Z),1,0,0)},$.SKEW_Y=function(Z){return g(Z),Ie(1,Math.atan(Z),0,1,0,0)},$.X_AXIS_SYMMETRY=function(Z){return Z===void 0&&(Z=0),g(Z),Ie(-1,0,0,1,Z,0)},$.Y_AXIS_SYMMETRY=function(Z){return Z===void 0&&(Z=0),g(Z),Ie(1,0,0,-1,0,Z)},$.A_TO_C=function(){return Te((function(Z,Oe,ee){return P.ARC===Z.type?(function(re,je,Ne){var ye,me,ie,le;re.cX||x(re,je,Ne);for(var Ee=Math.min(re.phi1,re.phi2),Re=Math.max(re.phi1,re.phi2)-Ee,Ue=Math.ceil(Re/90),de=new Array(Ue),Ce=je,ue=Ne,$e=0;$e<Ue;$e++){var it=S(re.phi1,re.phi2,$e/Ue),Et=S(re.phi1,re.phi2,($e+1)/Ue),Ct=Et-it,Bt=4/3*Math.tan(Ct*w/4),mr=[Math.cos(it*w)-Bt*Math.sin(it*w),Math.sin(it*w)+Bt*Math.cos(it*w)],lr=mr[0],He=mr[1],$t=[Math.cos(Et*w),Math.sin(Et*w)],Nt=$t[0],Dr=$t[1],vr=[Nt+Bt*Math.sin(Et*w),Dr-Bt*Math.cos(Et*w)],an=vr[0],Xr=vr[1];de[$e]={relative:re.relative,type:P.CURVE_TO};var Qr=function(Ir,hr){var pr=f([Ir*re.rX,hr*re.rY],re.xRot),Lr=pr[0],$r=pr[1];return[re.cX+Lr,re.cY+$r]};ye=Qr(lr,He),de[$e].x1=ye[0],de[$e].y1=ye[1],me=Qr(an,Xr),de[$e].x2=me[0],de[$e].y2=me[1],ie=Qr(Nt,Dr),de[$e].x=ie[0],de[$e].y=ie[1],re.relative&&(de[$e].x1-=Ce,de[$e].y1-=ue,de[$e].x2-=Ce,de[$e].y2-=ue,de[$e].x-=Ce,de[$e].y-=ue),Ce=(le=[de[$e].x,de[$e].y])[0],ue=le[1]}return de})(Z,Z.relative?0:Oe,Z.relative?0:ee):Z}))},$.ANNOTATE_ARCS=function(){return Te((function(Z,Oe,ee){return Z.relative&&(Oe=0,ee=0),P.ARC===Z.type&&x(Z,Oe,ee),Z}))},$.CLONE=_e,$.CALCULATE_BOUNDS=function(){var Z=function(Ne){var ye={};for(var me in Ne)ye[me]=Ne[me];return ye},Oe=R(),ee=fe(),re=se(),je=Te((function(Ne,ye,me){var ie=re(ee(Oe(Z(Ne))));function le(Xr){Xr>je.maxX&&(je.maxX=Xr),Xr<je.minX&&(je.minX=Xr)}function Ee(Xr){Xr>je.maxY&&(je.maxY=Xr),Xr<je.minY&&(je.minY=Xr)}if(ie.type&P.DRAWING_COMMANDS&&(le(ye),Ee(me)),ie.type&P.HORIZ_LINE_TO&&le(ie.x),ie.type&P.VERT_LINE_TO&&Ee(ie.y),ie.type&P.LINE_TO&&(le(ie.x),Ee(ie.y)),ie.type&P.CURVE_TO){le(ie.x),Ee(ie.y);for(var Re=0,Ue=C(ye,ie.x1,ie.x2,ie.x);Re<Ue.length;Re++)0<(an=Ue[Re])&&1>an&&le(O(ye,ie.x1,ie.x2,ie.x,an));for(var de=0,Ce=C(me,ie.y1,ie.y2,ie.y);de<Ce.length;de++)0<(an=Ce[de])&&1>an&&Ee(O(me,ie.y1,ie.y2,ie.y,an))}if(ie.type&P.ARC){le(ie.x),Ee(ie.y),x(ie,ye,me);for(var ue=ie.xRot/180*Math.PI,$e=Math.cos(ue)*ie.rX,it=Math.sin(ue)*ie.rX,Et=-Math.sin(ue)*ie.rY,Ct=Math.cos(ue)*ie.rY,Bt=ie.phi1<ie.phi2?[ie.phi1,ie.phi2]:-180>ie.phi2?[ie.phi2+360,ie.phi1+360]:[ie.phi2,ie.phi1],mr=Bt[0],lr=Bt[1],He=function(Xr){var Qr=Xr[0],Ir=Xr[1],hr=180*Math.atan2(Ir,Qr)/Math.PI;return hr<mr?hr+360:hr},$t=0,Nt=y(Et,-$e,0).map(He);$t<Nt.length;$t++)(an=Nt[$t])>mr&&an<lr&&le(N(ie.cX,$e,Et,an));for(var Dr=0,vr=y(Ct,-it,0).map(He);Dr<vr.length;Dr++){var an;(an=vr[Dr])>mr&&an<lr&&Ee(N(ie.cY,it,Ct,an))}}return Ne}));return je.minX=1/0,je.maxX=-1/0,je.minY=1/0,je.maxY=-1/0,je}})(b||(b={}));var W,K=(function(){function $(){}return $.prototype.round=function(R){return this.transform(b.ROUND(R))},$.prototype.toAbs=function(){return this.transform(b.TO_ABS())},$.prototype.toRel=function(){return this.transform(b.TO_REL())},$.prototype.normalizeHVZ=function(R,se,fe){return this.transform(b.NORMALIZE_HVZ(R,se,fe))},$.prototype.normalizeST=function(){return this.transform(b.NORMALIZE_ST())},$.prototype.qtToC=function(){return this.transform(b.QT_TO_C())},$.prototype.aToC=function(){return this.transform(b.A_TO_C())},$.prototype.sanitize=function(R){return this.transform(b.SANITIZE(R))},$.prototype.translate=function(R,se){return this.transform(b.TRANSLATE(R,se))},$.prototype.scale=function(R,se){return this.transform(b.SCALE(R,se))},$.prototype.rotate=function(R,se,fe){return this.transform(b.ROTATE(R,se,fe))},$.prototype.matrix=function(R,se,fe,Te,Ie,_e){return this.transform(b.MATRIX(R,se,fe,Te,Ie,_e))},$.prototype.skewX=function(R){return this.transform(b.SKEW_X(R))},$.prototype.skewY=function(R){return this.transform(b.SKEW_Y(R))},$.prototype.xSymmetry=function(R){return this.transform(b.X_AXIS_SYMMETRY(R))},$.prototype.ySymmetry=function(R){return this.transform(b.Y_AXIS_SYMMETRY(R))},$.prototype.annotateArcs=function(){return this.transform(b.ANNOTATE_ARCS())},$})(),te=function($){return $===" "||$==="	"||$==="\r"||$===`
`},q=function($){return 48<=$.charCodeAt(0)&&$.charCodeAt(0)<=57},Y=(function($){function R(){var se=$.call(this)||this;return se.curNumber="",se.curCommandType=-1,se.curCommandRelative=!1,se.canParseCommandOrComma=!0,se.curNumberHasExp=!1,se.curNumberHasExpDigits=!1,se.curNumberHasDecimal=!1,se.curArgs=[],se}return d(R,$),R.prototype.finish=function(se){if(se===void 0&&(se=[]),this.parse(" ",se),this.curArgs.length!==0||!this.canParseCommandOrComma)throw new SyntaxError("Unterminated command at the path end.");return se},R.prototype.parse=function(se,fe){var Te=this;fe===void 0&&(fe=[]);for(var Ie=function(je){fe.push(je),Te.curArgs.length=0,Te.canParseCommandOrComma=!0},_e=0;_e<se.length;_e++){var Z=se[_e],Oe=!(this.curCommandType!==P.ARC||this.curArgs.length!==3&&this.curArgs.length!==4||this.curNumber.length!==1||this.curNumber!=="0"&&this.curNumber!=="1"),ee=q(Z)&&(this.curNumber==="0"&&Z==="0"||Oe);if(!q(Z)||ee)if(Z!=="e"&&Z!=="E")if(Z!=="-"&&Z!=="+"||!this.curNumberHasExp||this.curNumberHasExpDigits)if(Z!=="."||this.curNumberHasExp||this.curNumberHasDecimal||Oe){if(this.curNumber&&this.curCommandType!==-1){var re=Number(this.curNumber);if(isNaN(re))throw new SyntaxError("Invalid number ending at "+_e);if(this.curCommandType===P.ARC){if(this.curArgs.length===0||this.curArgs.length===1){if(0>re)throw new SyntaxError('Expected positive number, got "'+re+'" at index "'+_e+'"')}else if((this.curArgs.length===3||this.curArgs.length===4)&&this.curNumber!=="0"&&this.curNumber!=="1")throw new SyntaxError('Expected a flag, got "'+this.curNumber+'" at index "'+_e+'"')}this.curArgs.push(re),this.curArgs.length===ce[this.curCommandType]&&(P.HORIZ_LINE_TO===this.curCommandType?Ie({type:P.HORIZ_LINE_TO,relative:this.curCommandRelative,x:re}):P.VERT_LINE_TO===this.curCommandType?Ie({type:P.VERT_LINE_TO,relative:this.curCommandRelative,y:re}):this.curCommandType===P.MOVE_TO||this.curCommandType===P.LINE_TO||this.curCommandType===P.SMOOTH_QUAD_TO?(Ie({type:this.curCommandType,relative:this.curCommandRelative,x:this.curArgs[0],y:this.curArgs[1]}),P.MOVE_TO===this.curCommandType&&(this.curCommandType=P.LINE_TO)):this.curCommandType===P.CURVE_TO?Ie({type:P.CURVE_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x2:this.curArgs[2],y2:this.curArgs[3],x:this.curArgs[4],y:this.curArgs[5]}):this.curCommandType===P.SMOOTH_CURVE_TO?Ie({type:P.SMOOTH_CURVE_TO,relative:this.curCommandRelative,x2:this.curArgs[0],y2:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===P.QUAD_TO?Ie({type:P.QUAD_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===P.ARC&&Ie({type:P.ARC,relative:this.curCommandRelative,rX:this.curArgs[0],rY:this.curArgs[1],xRot:this.curArgs[2],lArcFlag:this.curArgs[3],sweepFlag:this.curArgs[4],x:this.curArgs[5],y:this.curArgs[6]})),this.curNumber="",this.curNumberHasExpDigits=!1,this.curNumberHasExp=!1,this.curNumberHasDecimal=!1,this.canParseCommandOrComma=!0}if(!te(Z))if(Z===","&&this.canParseCommandOrComma)this.canParseCommandOrComma=!1;else if(Z!=="+"&&Z!=="-"&&Z!==".")if(ee)this.curNumber=Z,this.curNumberHasDecimal=!1;else{if(this.curArgs.length!==0)throw new SyntaxError("Unterminated command at index "+_e+".");if(!this.canParseCommandOrComma)throw new SyntaxError('Unexpected character "'+Z+'" at index '+_e+". Command cannot follow comma");if(this.canParseCommandOrComma=!1,Z!=="z"&&Z!=="Z")if(Z==="h"||Z==="H")this.curCommandType=P.HORIZ_LINE_TO,this.curCommandRelative=Z==="h";else if(Z==="v"||Z==="V")this.curCommandType=P.VERT_LINE_TO,this.curCommandRelative=Z==="v";else if(Z==="m"||Z==="M")this.curCommandType=P.MOVE_TO,this.curCommandRelative=Z==="m";else if(Z==="l"||Z==="L")this.curCommandType=P.LINE_TO,this.curCommandRelative=Z==="l";else if(Z==="c"||Z==="C")this.curCommandType=P.CURVE_TO,this.curCommandRelative=Z==="c";else if(Z==="s"||Z==="S")this.curCommandType=P.SMOOTH_CURVE_TO,this.curCommandRelative=Z==="s";else if(Z==="q"||Z==="Q")this.curCommandType=P.QUAD_TO,this.curCommandRelative=Z==="q";else if(Z==="t"||Z==="T")this.curCommandType=P.SMOOTH_QUAD_TO,this.curCommandRelative=Z==="t";else{if(Z!=="a"&&Z!=="A")throw new SyntaxError('Unexpected character "'+Z+'" at index '+_e+".");this.curCommandType=P.ARC,this.curCommandRelative=Z==="a"}else fe.push({type:P.CLOSE_PATH}),this.canParseCommandOrComma=!0,this.curCommandType=-1}else this.curNumber=Z,this.curNumberHasDecimal=Z==="."}else this.curNumber+=Z,this.curNumberHasDecimal=!0;else this.curNumber+=Z;else this.curNumber+=Z,this.curNumberHasExp=!0;else this.curNumber+=Z,this.curNumberHasExpDigits=this.curNumberHasExp}return fe},R.prototype.transform=function(se){return Object.create(this,{parse:{value:function(fe,Te){Te===void 0&&(Te=[]);for(var Ie=0,_e=Object.getPrototypeOf(this).parse.call(this,fe);Ie<_e.length;Ie++){var Z=_e[Ie],Oe=se(Z);Array.isArray(Oe)?Te.push.apply(Te,Oe):Te.push(Oe)}return Te}}})},R})(K),P=(function($){function R(se){var fe=$.call(this)||this;return fe.commands=typeof se=="string"?R.parse(se):se,fe}return d(R,$),R.prototype.encode=function(){return R.encode(this.commands)},R.prototype.getBounds=function(){var se=b.CALCULATE_BOUNDS();return this.transform(se),se},R.prototype.transform=function(se){for(var fe=[],Te=0,Ie=this.commands;Te<Ie.length;Te++){var _e=se(Ie[Te]);Array.isArray(_e)?fe.push.apply(fe,_e):fe.push(_e)}return this.commands=fe,this},R.encode=function(se){return A(se)},R.parse=function(se){var fe=new Y,Te=[];return fe.parse(se,Te),fe.finish(Te),Te},R.CLOSE_PATH=1,R.MOVE_TO=2,R.HORIZ_LINE_TO=4,R.VERT_LINE_TO=8,R.LINE_TO=16,R.CURVE_TO=32,R.SMOOTH_CURVE_TO=64,R.QUAD_TO=128,R.SMOOTH_QUAD_TO=256,R.ARC=512,R.LINE_COMMANDS=R.LINE_TO|R.HORIZ_LINE_TO|R.VERT_LINE_TO,R.DRAWING_COMMANDS=R.HORIZ_LINE_TO|R.VERT_LINE_TO|R.LINE_TO|R.CURVE_TO|R.SMOOTH_CURVE_TO|R.QUAD_TO|R.SMOOTH_QUAD_TO|R.ARC,R})(K),ce=((W={})[P.MOVE_TO]=2,W[P.LINE_TO]=2,W[P.HORIZ_LINE_TO]=1,W[P.VERT_LINE_TO]=1,W[P.CLOSE_PATH]=0,W[P.QUAD_TO]=4,W[P.SMOOTH_QUAD_TO]=2,W[P.CURVE_TO]=6,W[P.SMOOTH_CURVE_TO]=4,W[P.ARC]=7,W)}),"./src/plugin/hyperlinks.js":(function(l,u,o){o.r(u),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.string.link.js"),o("./node_modules/core-js/modules/esnext.iterator.constructor.js"),o("./node_modules/core-js/modules/esnext.iterator.for-each.js"),o("./node_modules/core-js/modules/web.dom-collections.for-each.js");var h=o("./src/worker.js"),d=o("./src/utils.js"),A=[],f={toContainer:h.default.prototype.toContainer,toPdf:h.default.prototype.toPdf};h.default.prototype.toContainer=function(){return f.toContainer.call(this).then(function(){if(this.opt.enableLinks){var x=this.prop.container,y=x.querySelectorAll("a"),b=(0,d.unitConvert)(x.getBoundingClientRect(),this.prop.pageSize.k);A=[],Array.prototype.forEach.call(y,function(w){for(var S=w.getClientRects(),N=0;N<S.length;N++){var C=(0,d.unitConvert)(S[N],this.prop.pageSize.k);C.left-=b.left,C.top-=b.top;var O=Math.floor(C.top/this.prop.pageSize.inner.height)+1,W=this.opt.margin[0]+C.top%this.prop.pageSize.inner.height,K=this.opt.margin[1]+C.left;A.push({page:O,top:W,left:K,clientRect:C,link:w})}},this)}})},h.default.prototype.toPdf=function(){return f.toPdf.call(this).then(function(){if(this.opt.enableLinks){A.forEach(function(y){this.prop.pdf.setPage(y.page),this.prop.pdf.link(y.left,y.top,y.clientRect.width,y.clientRect.height,{url:y.link.href})},this);var x=this.prop.pdf.internal.getNumberOfPages();this.prop.pdf.setPage(x)}})}}),"./src/plugin/jspdf-plugin.js":(function(l,u,o){o.r(u),o("./node_modules/core-js/modules/es.symbol.js"),o("./node_modules/core-js/modules/es.symbol.description.js"),o("./node_modules/core-js/modules/es.symbol.iterator.js"),o("./node_modules/core-js/modules/es.array.iterator.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.string.iterator.js"),o("./node_modules/core-js/modules/web.dom-collections.iterator.js");var h=o("./node_modules/jspdf/dist/jspdf.es.min.js");function d(A){"@babel/helpers - typeof";return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},d(A)}h.jsPDF.getPageSize=function(A,f,g){if(d(A)==="object"){var m=A;A=m.orientation,f=m.unit||f,g=m.format||g}f=f||"mm",g=g||"a4",A=(""+(A||"P")).toLowerCase();var x=(""+g).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":var b=1;break;case"mm":var b=72/25.4;break;case"cm":var b=72/2.54;break;case"in":var b=72;break;case"px":var b=72/96;break;case"pc":var b=12;break;case"em":var b=12;break;case"ex":var b=6;break;default:throw"Invalid unit: "+f}if(y.hasOwnProperty(x))var w=y[x][1]/b,S=y[x][0]/b;else try{var w=g[1],S=g[0]}catch{throw new Error("Invalid format: "+g)}if(A==="p"||A==="portrait"){if(A="p",S>w){var N=S;S=w,w=N}}else if(A==="l"||A==="landscape"){if(A="l",w>S){var N=S;S=w,w=N}}else throw"Invalid orientation: "+A;var C={width:S,height:w,unit:f,k:b};return C},u.default=h.jsPDF}),"./src/plugin/pagebreaks.js":(function(l,u,o){o.r(u),o("./node_modules/core-js/modules/es.array.concat.js"),o("./node_modules/core-js/modules/es.array.join.js"),o("./node_modules/core-js/modules/es.array.slice.js"),o("./node_modules/core-js/modules/es.object.keys.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/esnext.iterator.constructor.js"),o("./node_modules/core-js/modules/esnext.iterator.for-each.js"),o("./node_modules/core-js/modules/web.dom-collections.for-each.js");var h=o("./src/worker.js"),d=o("./src/utils.js"),A={toContainer:h.default.prototype.toContainer};h.default.template.opt.pagebreak={mode:["css","legacy"],before:[],after:[],avoid:[]},h.default.prototype.toContainer=function(){return A.toContainer.call(this).then(function(){var m=this.prop.container,x=this.prop.pageSize.inner.px.height,y=[].concat(this.opt.pagebreak.mode),b={avoidAll:y.indexOf("avoid-all")!==-1,css:y.indexOf("css")!==-1,legacy:y.indexOf("legacy")!==-1},w={},S=this;["before","after","avoid"].forEach(function(O){var W=b.avoidAll&&O==="avoid";w[O]=W?[]:[].concat(S.opt.pagebreak[O]||[]),w[O].length>0&&(w[O]=Array.prototype.slice.call(m.querySelectorAll(w[O].join(", "))))});var N=m.querySelectorAll(".html2pdf__page-break");N=Array.prototype.slice.call(N);var C=m.querySelectorAll("*");Array.prototype.forEach.call(C,function(W){var K={before:!1,after:b.legacy&&N.indexOf(W)!==-1,avoid:b.avoidAll};if(b.css){var te=window.getComputedStyle(W),q=["always","page","left","right"],Y=["avoid","avoid-page"];K={before:K.before||q.indexOf(te.breakBefore||te.pageBreakBefore)!==-1,after:K.after||q.indexOf(te.breakAfter||te.pageBreakAfter)!==-1,avoid:K.avoid||Y.indexOf(te.breakInside||te.pageBreakInside)!==-1}}Object.keys(K).forEach(function(fe){K[fe]=K[fe]||w[fe].indexOf(W)!==-1});var P=W.getBoundingClientRect();if(K.avoid&&!K.before){var ce=Math.floor(P.top/x),$=Math.floor(P.bottom/x),R=Math.abs(P.bottom-P.top)/x;$!==ce&&R<=1&&(K.before=!0)}if(K.before){var se=(0,d.createElement)("div",{style:{display:"block",height:x-P.top%x+"px"}});W.parentNode.insertBefore(se,W)}if(K.after){var se=(0,d.createElement)("div",{style:{display:"block",height:x-P.bottom%x+"px"}});W.parentNode.insertBefore(se,W.nextSibling)}})})}}),"./src/snapdom/clone.js":(function(l,u,o){o.r(u),o.d(u,{deepCloneBasic:function(){return g}}),o("./node_modules/core-js/modules/es.symbol.js"),o("./node_modules/core-js/modules/es.symbol.description.js"),o("./node_modules/core-js/modules/es.symbol.iterator.js"),o("./node_modules/core-js/modules/es.array.concat.js"),o("./node_modules/core-js/modules/es.array.from.js"),o("./node_modules/core-js/modules/es.array.iterator.js"),o("./node_modules/core-js/modules/es.array.slice.js"),o("./node_modules/core-js/modules/es.function.name.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.regexp.exec.js"),o("./node_modules/core-js/modules/es.regexp.test.js"),o("./node_modules/core-js/modules/es.regexp.to-string.js"),o("./node_modules/core-js/modules/es.set.js"),o("./node_modules/core-js/modules/es.string.iterator.js"),o("./node_modules/core-js/modules/esnext.set.add-all.js"),o("./node_modules/core-js/modules/esnext.set.delete-all.js"),o("./node_modules/core-js/modules/esnext.set.difference.js"),o("./node_modules/core-js/modules/esnext.set.every.js"),o("./node_modules/core-js/modules/esnext.set.filter.js"),o("./node_modules/core-js/modules/esnext.set.find.js"),o("./node_modules/core-js/modules/esnext.set.intersection.js"),o("./node_modules/core-js/modules/esnext.set.is-disjoint-from.js"),o("./node_modules/core-js/modules/esnext.set.is-subset-of.js"),o("./node_modules/core-js/modules/esnext.set.is-superset-of.js"),o("./node_modules/core-js/modules/esnext.set.join.js"),o("./node_modules/core-js/modules/esnext.set.map.js"),o("./node_modules/core-js/modules/esnext.set.reduce.js"),o("./node_modules/core-js/modules/esnext.set.some.js"),o("./node_modules/core-js/modules/esnext.set.symmetric-difference.js"),o("./node_modules/core-js/modules/esnext.set.union.js"),o("./node_modules/core-js/modules/web.dom-collections.iterator.js");function h(m,x){var y=typeof Symbol<"u"&&m[Symbol.iterator]||m["@@iterator"];if(!y){if(Array.isArray(m)||(y=d(m))||x){y&&(m=y);var b=0,w=function(){};return{s:w,n:function(){return b>=m.length?{done:!0}:{done:!1,value:m[b++]}},e:function(W){throw W},f:w}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var S,N=!0,C=!1;return{s:function(){y=y.call(m)},n:function(){var W=y.next();return N=W.done,W},e:function(W){C=!0,S=W},f:function(){try{N||y.return==null||y.return()}finally{if(C)throw S}}}}function d(m,x){if(m){if(typeof m=="string")return A(m,x);var y={}.toString.call(m).slice(8,-1);return y==="Object"&&m.constructor&&(y=m.constructor.name),y==="Map"||y==="Set"?Array.from(m):y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y)?A(m,x):void 0}}function A(m,x){(x==null||x>m.length)&&(x=m.length);for(var y=0,b=Array(x);y<x;y++)b[y]=m[y];return b}function f(m,x){try{var y=m.currentSrc||m.src||"";if(!y)return;x.setAttribute("src",y),x.removeAttribute("srcset"),x.removeAttribute("sizes"),x.loading="eager",x.decoding="sync"}catch{}}function g(m){if(!m)throw new Error("Invalid node");var x=new Set,y=null;if(m.nodeType===Node.TEXT_NODE||m.nodeType!==Node.ELEMENT_NODE)return m.cloneNode(!0);if(m.tagName==="IFRAME"){var b=document.createElement("div");return b.style.cssText="width:".concat(m.offsetWidth,"px;height:").concat(m.offsetHeight,"px;background-image:repeating-linear-gradient(45deg,#ddd,#ddd 5px,#f9f9f9 5px,#f9f9f9 10px);display:flex;align-items:center;justify-content:center;font-size:12px;color:#555;border:1px solid #aaa;"),b}if(m.tagName==="CANVAS"){var w=m.toDataURL(),S=document.createElement("img");return S.src=w,S.width=m.width,S.height=m.height,S}var N;try{N=m.cloneNode(!1),m.tagName==="IMG"&&f(m,N)}catch(Ee){throw console.error("[Snapdom] Failed to clone node:",m,Ee),Ee}if(m instanceof HTMLTextAreaElement){N.textContent=m.value,N.value=m.value;var C=m.getBoundingClientRect();return N.style.boxSizing="border-box",N.style.width="".concat(C.width,"px"),N.style.height="".concat(C.height,"px"),N}if(m instanceof HTMLInputElement&&(m.hasAttribute("value")&&(N.value=m.value,N.setAttribute("value",m.value)),m.checked!==void 0&&(N.checked=m.checked,m.checked&&N.setAttribute("checked",""),m.indeterminate&&(N.indeterminate=m.indeterminate))),m instanceof HTMLSelectElement&&(y=m.value),m.shadowRoot){var O=Array.from(m.shadowRoot.querySelectorAll("slot")).length>0;if(!O){var W=document.createDocumentFragment(),K=h(m.shadowRoot.childNodes),te;try{for(K.s();!(te=K.n()).done;){var q=te.value;if(!(q.nodeType===Node.ELEMENT_NODE&&q.tagName==="STYLE")){var Y=g(q);Y&&W.appendChild(Y)}}}catch(Ee){K.e(Ee)}finally{K.f()}N.appendChild(W)}}if(m.tagName==="SLOT"){var P,ce=((P=m.assignedNodes)===null||P===void 0?void 0:P.call(m,{flatten:!0}))||[],$=ce.length>0?ce:Array.from(m.childNodes),R=document.createDocumentFragment(),se=h($),fe;try{for(se.s();!(fe=se.n()).done;){var Te=fe.value,Ie=g(Te);Ie&&R.appendChild(Ie)}}catch(Ee){se.e(Ee)}finally{se.f()}return R}var _e=h(m.childNodes),Z;try{for(_e.s();!(Z=_e.n()).done;){var Oe=Z.value;if(!x.has(Oe)){var ee=g(Oe);ee&&N.appendChild(ee)}}}catch(Ee){_e.e(Ee)}finally{_e.f()}if(y!==null&&N instanceof HTMLSelectElement){N.value=y;var re=h(N.options),je;try{for(re.s();!(je=re.n()).done;){var Ne=je.value;Ne.value===y?Ne.setAttribute("selected",""):Ne.removeAttribute("selected")}}catch(Ee){re.e(Ee)}finally{re.f()}}var ye=m.scrollLeft,me=m.scrollTop,ie=ye||me;if(ie&&N instanceof HTMLElement){N.style.overflow="hidden",N.style.scrollbarWidth="none",N.style.msOverflowStyle="none";var le=document.createElement("div");for(le.style.transform="translate(".concat(-ye,"px, ").concat(-me,"px)"),le.style.willChange="transform",le.style.display="inline-block",le.style.width="100%";N.firstChild;)le.appendChild(N.firstChild);N.appendChild(le)}return N}}),"./src/utils.js":(function(l,u,o){o.r(u),o.d(u,{createElement:function(){return f},objType:function(){return A},toPx:function(){return m},unitConvert:function(){return g}}),o("./node_modules/core-js/modules/es.symbol.js"),o("./node_modules/core-js/modules/es.symbol.description.js"),o("./node_modules/core-js/modules/es.symbol.iterator.js"),o("./node_modules/core-js/modules/es.array.iterator.js"),o("./node_modules/core-js/modules/es.number.constructor.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.string.iterator.js"),o("./node_modules/core-js/modules/web.dom-collections.iterator.js");var h=o("./node_modules/dompurify/dist/purify.es.mjs");function d(x){"@babel/helpers - typeof";return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},d(x)}var A=function(y){var b=d(y);return b==="undefined"?"undefined":b==="string"||y instanceof String?"string":b==="number"||y instanceof Number?"number":b==="function"||y instanceof Function?"function":y&&y.constructor===Array?"array":y&&y.nodeType===1?"element":b==="object"?"object":"unknown"},f=function(y,b){var w=document.createElement(y);b.className&&(w.className=b.className),b.innerHTML&&(w.innerHTML=h.default.sanitize(b.innerHTML));for(var S in b.style)w.style[S]=b.style[S];return w},g=function(y,b){if(A(y)==="number")return y*72/96/b;var w={};for(var S in y)w[S]=y[S]*72/96/b;return w},m=function(y,b){return Math.floor(y*b/72*96)}}),"./src/worker.js":(function(l,u,o){o.r(u),o("./node_modules/core-js/modules/es.array.concat.js"),o("./node_modules/core-js/modules/es.array.map.js"),o("./node_modules/core-js/modules/es.function.name.js"),o("./node_modules/core-js/modules/es.json.stringify.js"),o("./node_modules/core-js/modules/es.object.assign.js"),o("./node_modules/core-js/modules/es.object.keys.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.promise.js"),o("./node_modules/core-js/modules/es.regexp.to-string.js"),o("./node_modules/core-js/modules/esnext.iterator.constructor.js"),o("./node_modules/core-js/modules/esnext.iterator.for-each.js"),o("./node_modules/core-js/modules/esnext.iterator.map.js"),o("./node_modules/core-js/modules/web.dom-collections.for-each.js"),o("./node_modules/core-js/modules/web.timers.js");var h=o("./node_modules/jspdf/dist/jspdf.es.min.js"),d=o("html2canvas"),A=o.n(d),f=o("./src/snapdom/clone.js"),g=o("./src/utils.js"),m=function x(y){var b=Object.assign(x.convert(Promise.resolve()),JSON.parse(JSON.stringify(x.template))),w=x.convert(Promise.resolve(),b);return w=w.setProgress(1,x,1,[x]),w=w.set(y),w};m.prototype=Object.create(Promise.prototype),m.prototype.constructor=m,m.convert=function(y,b){return y.__proto__=b||m.prototype,y},m.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],image:{type:"jpeg",quality:.95},enableLinks:!0,html2canvas:{},jsPDF:{}}},m.prototype.from=function(y,b){function w(S){switch((0,g.objType)(S)){case"string":return"string";case"element":return S.nodeName.toLowerCase&&S.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}return this.then(function(){switch(b=b||w(y),b){case"string":return this.set({src:(0,g.createElement)("div",{innerHTML:y})});case"element":return this.set({src:y});case"canvas":return this.set({canvas:y});case"img":return this.set({img:y});default:return this.error("Unknown source type.")}})},m.prototype.to=function(y){switch(y){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},m.prototype.toContainer=function(){var y=[function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(y).then(function(){var w={position:"fixed",overflow:"hidden",zIndex:1e3,left:0,right:0,bottom:0,top:0,backgroundColor:"rgba(0,0,0,0.8)"},S={position:"absolute",width:this.prop.pageSize.inner.width+this.prop.pageSize.unit,left:0,right:0,top:0,height:"auto",margin:"auto",backgroundColor:"white"};w.opacity=0;var N=(0,f.deepCloneBasic)(this.prop.src);return this.prop.overlay=(0,g.createElement)("div",{className:"html2pdf__overlay",style:w}),this.prop.container=(0,g.createElement)("div",{className:"html2pdf__container",style:S}),this.prop.container.appendChild(N),this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),new Promise(function(C){return setTimeout(C,10)})})},m.prototype.toCanvas=function(){var y=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(y).then(function(){var w=Object.assign({},this.opt.html2canvas);return delete w.onrendered,A()(this.prop.container,w)}).then(function(w){var S=this.opt.html2canvas.onrendered||function(){};S(w),this.prop.canvas=w,document.body.removeChild(this.prop.overlay)})},m.prototype.toImg=function(){var y=[function(){return this.prop.canvas||this.toCanvas()}];return this.thenList(y).then(function(){var w=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=w})},m.prototype.toPdf=function(){var y=[function(){return this.prop.canvas||this.toCanvas()},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(y).then(function(){var w=this.prop.canvas,S=this.opt,N=w.height,C=Math.floor(w.width*this.prop.pageSize.inner.ratio),O=Math.ceil(N/C),W=this.prop.pageSize.inner.height,K=document.createElement("canvas"),te=K.getContext("2d");K.width=w.width,K.height=C,this.prop.pdf=this.prop.pdf||new h.jsPDF(S.jsPDF);for(var q=0;q<O;q++){q===O-1&&N%C!==0&&(K.height=N%C,W=K.height*this.prop.pageSize.inner.width/K.width);var Y=K.width,P=K.height;te.fillStyle="white",te.fillRect(0,0,Y,P),te.drawImage(w,0,q*C,Y,P,0,0,Y,P),q&&this.prop.pdf.addPage();var ce=K.toDataURL("image/"+S.image.type,S.image.quality);this.prop.pdf.addImage(ce,S.image.type,S.margin[1],S.margin[0],this.prop.pageSize.inner.width,W)}})},m.prototype.output=function(y,b,w){return w=w||"pdf",w.toLowerCase()==="img"||w.toLowerCase()==="image"?this.outputImg(y,b):this.outputPdf(y,b)},m.prototype.outputPdf=function(y,b){var w=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(w).then(function(){return this.prop.pdf.output(y,b)})},m.prototype.outputImg=function(y,b){var w=[function(){return this.prop.img||this.toImg()}];return this.thenList(w).then(function(){switch(y){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+y+'" is not supported.'}})},m.prototype.save=function(y){var b=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(b).set(y?{filename:y}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},m.prototype.set=function(y){if((0,g.objType)(y)!=="object")return this;var b=Object.keys(y||{}).map(function(w){switch(w){case"margin":return this.setMargin.bind(this,y.margin);case"jsPDF":return function(){return this.opt.jsPDF=y.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,y.pageSize);default:return w in m.template.prop?function(){this.prop[w]=y[w]}:function(){this.opt[w]=y[w]}}},this);return this.then(function(){return this.thenList(b)})},m.prototype.get=function(y,b){return this.then(function(){var S=y in m.template.prop?this.prop[y]:this.opt[y];return b?b(S):S})},m.prototype.setMargin=function(y){return this.then(function(){switch((0,g.objType)(y)){case"number":y=[y,y,y,y];case"array":if(y.length===2&&(y=[y[0],y[1],y[0],y[1]]),y.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=y}).then(this.setPageSize)},m.prototype.setPageSize=function(y){return this.then(function(){y=y||h.jsPDF.getPageSize(this.opt.jsPDF),y.hasOwnProperty("inner")||(y.inner={width:y.width-this.opt.margin[1]-this.opt.margin[3],height:y.height-this.opt.margin[0]-this.opt.margin[2]},y.inner.px={width:(0,g.toPx)(y.inner.width,y.k),height:(0,g.toPx)(y.inner.height,y.k)},y.inner.ratio=y.inner.height/y.inner.width),this.prop.pageSize=y})},m.prototype.setProgress=function(y,b,w,S){return y!=null&&(this.progress.val=y),b!=null&&(this.progress.state=b),w!=null&&(this.progress.n=w),S!=null&&(this.progress.stack=S),this.progress.ratio=this.progress.val/this.progress.state,this},m.prototype.updateProgress=function(y,b,w,S){return this.setProgress(y?this.progress.val+y:null,b||null,w?this.progress.n+w:null,S?this.progress.stack.concat(S):null)},m.prototype.then=function(y,b){var w=this;return this.thenCore(y,b,function(N,C){return w.updateProgress(null,null,1,[N]),Promise.prototype.then.call(this,function(W){return w.updateProgress(null,N),W}).then(N,C).then(function(W){return w.updateProgress(1),W})})},m.prototype.thenCore=function(y,b,w){w=w||Promise.prototype.then;var S=this;y&&(y=y.bind(S)),b&&(b=b.bind(S));var N=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise",C=N?S:m.convert(Object.assign({},S),Promise.prototype),O=w.call(C,y,b);return m.convert(O,S.__proto__)},m.prototype.thenExternal=function(y,b){return Promise.prototype.then.call(this,y,b)},m.prototype.thenList=function(y){var b=this;return y.forEach(function(S){b=b.thenCore(S)}),b},m.prototype.catch=function(x){x&&(x=x.bind(this));var y=Promise.prototype.catch.call(this,x);return m.convert(y,this)},m.prototype.catchExternal=function(y){return Promise.prototype.catch.call(this,y)},m.prototype.error=function(y){return this.then(function(){throw new Error(y)})},m.prototype.using=m.prototype.set,m.prototype.saveAs=m.prototype.save,m.prototype.export=m.prototype.output,m.prototype.run=m.prototype.then,u.default=m}),html2canvas:(function(l){l.exports=n})},i={};function s(l){var u=i[l];if(u!==void 0)return u.exports;if(a[l]===void 0){var o=new Error("Cannot find module '"+l+"'");throw o.code="MODULE_NOT_FOUND",o}var h=i[l]={exports:{}};return a[l].call(h.exports,h,h.exports,s),h.exports}(function(){s.n=function(l){var u=l&&l.__esModule?function(){return l.default}:function(){return l};return s.d(u,{a:u}),u}})(),(function(){var l=Object.getPrototypeOf?function(o){return Object.getPrototypeOf(o)}:function(o){return o.__proto__},u;s.t=function(o,h){if(h&1&&(o=this(o)),h&8||typeof o=="object"&&o&&(h&4&&o.__esModule||h&16&&typeof o.then=="function"))return o;var d=Object.create(null);s.r(d);var A={};u=u||[null,l({}),l([]),l(l)];for(var f=h&2&&o;(typeof f=="object"||typeof f=="function")&&!~u.indexOf(f);f=l(f))Object.getOwnPropertyNames(f).forEach(function(g){A[g]=function(){return o[g]}});return A.default=function(){return o},s.d(d,A),d}})(),(function(){s.d=function(l,u){for(var o in u)s.o(u,o)&&!s.o(l,o)&&Object.defineProperty(l,o,{enumerable:!0,get:u[o]})}})(),(function(){s.o=function(l,u){return Object.prototype.hasOwnProperty.call(l,u)}})(),(function(){s.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})}})();var c={};return(function(){/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/s.r(c);var l=s("./src/worker.js");s("./src/plugin/jspdf-plugin.js"),s("./src/plugin/pagebreaks.js"),s("./src/plugin/hyperlinks.js");var u=function o(h,d){var A=new o.Worker(d);return h?A.from(h).save():A};u.Worker=l.default,c.default=u})(),c=c.default,c})()})})(Xj)),Xj.exports}var Rne=Mne();const Lne=ts(Rne),Une=()=>{const{logout:r,permissions:e}=da(),n=Tn(),[a]=YN(),i=a.get("contractId"),[s,c]=k.useState(""),[l,u]=k.useState("All"),[o,h]=k.useState(!1),[d,A]=k.useState(!1),[f,g]=k.useState(null),[m,x]=k.useState(null),[y,b]=k.useState([]),[w,S]=k.useState([]),[N,C]=k.useState(!1),[O,W]=k.useState(null),[K,te]=k.useState(!1),[q,Y]=k.useState(!1),P=()=>{Y(!q)},ce=k.useCallback(async()=>{try{const re=await lf.getAllContracts();S(re.map(je=>({id:je.id,contractID:je.contractID,contractNum:je.contractNum})))}catch(re){console.error("Failed to load contracts:",re)}},[]),$=k.useCallback(async()=>{try{C(!0),W(null);const je=(await Z0.getAllAgreements(i||void 0)).map(Ne=>{const ye=w.find(me=>me.id===Ne.contractId);return{id:Ne.id,agreementID:Ne.agreementID,contractID:Ne.contractId,contractNum:(ye==null?void 0:ye.contractNum)||"",agreementNum:Ne.agreementNum,agreementDate:Ne.agreementDate,status:Ne.status}});b(je)}catch(re){console.error("Failed to load agreements:",re),W(re.message||"Failed to load agreements")}finally{C(!1)}},[i,w]);k.useEffect(()=>{ce()},[ce]),k.useEffect(()=>{w.length>0&&$()},[w.length,$]);const{filteredAgreements:R}=One({agreements:y,searchQuery:s,statusFilter:l}),se=()=>{x(null),A(!0)},fe=(re,je)=>{je.stopPropagation(),x(re),A(!0)},Te=async re=>{try{if(te(!0),W(null),m)await Z0.updateAgreement(m.id,{agreementNum:re.agreementNum,agreementDate:re.agreementDate,status:re.status});else{if(!re.contractID){alert("Please select a contract");return}await Z0.createAgreement({contractId:re.contractID,agreementDate:re.agreementDate,status:re.status})}A(!1),x(null),await $()}catch(je){console.error("Failed to save agreement:",je),W(je.message||"Failed to save agreement"),alert(je.message||"Failed to save agreement")}finally{te(!1)}},Ie=re=>{g(re),h(!0)},_e=({status:re})=>{const je=`agreement-status-badge agreement-status-badge--${re.toLowerCase()}`;return t.jsx("span",{className:je,role:"status","aria-label":`Status: ${re}`,children:re})},Z=({agreement:re})=>t.jsxs("div",{className:"agreement-action-buttons",style:{display:"flex",gap:"4px",alignItems:"center"},children:[t.jsx("button",{className:"action-btn action-btn--edit",onClick:je=>fe(re,je),title:"Edit Agreement","aria-label":`Edit agreement ${re.agreementNum}`,children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"action-btn action-btn--view",onClick:()=>Ie(re),title:"View Agreement","aria-label":`View agreement ${re.agreementNum}`,children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),Oe=[{key:"agreementNum",label:"Agreement Number",minWidth:180,render:re=>t.jsx("span",{className:"agreement-num-cell",children:re.agreementNum})},{key:"agreementID",label:"Agreement ID",minWidth:120},{key:"contractNum",label:"Contract Reference",minWidth:180,render:re=>re.contractNum?`${re.contractID} - ${re.contractNum}`:re.contractID},{key:"agreementDate",label:"Agreement Date",minWidth:140},{key:"status",label:"Status",minWidth:120,render:re=>t.jsx(_e,{status:re.status})},{key:"actions",label:"Actions",minWidth:120,render:re=>t.jsx(Z,{agreement:re})}],ee=us(e,n.pathname);return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${q?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!q&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:P,"aria-label":q?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:q?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:ee.map(re=>t.jsx("li",{children:t.jsxs(Yr,{to:re.path,className:`nav-link ${re.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:re.icon}),!q&&t.jsx("span",{className:"nav-label",children:re.label})]})},re.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Yr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!q&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!q&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Commercial Agreements / Agreement Management"})})}),t.jsxs("div",{className:"agreement-page",children:[t.jsx("div",{className:"agreement-header",children:t.jsx("h1",{className:"agreement-title",children:"Agreement Management"})}),O&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"20px",backgroundColor:"#fee",color:"#c00",borderRadius:"4px"},children:O}),t.jsxs("div",{className:"agreement-actions",children:[t.jsxs("div",{className:"agreement-search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"agreement-search-input",placeholder:"Search by agreement number...",value:s,onChange:re=>c(re.target.value),"aria-label":"Search agreements by agreement number"})]}),t.jsxs("select",{className:"status-filter-select",value:l,onChange:re=>u(re.target.value),"aria-label":"Filter by status",children:[t.jsx("option",{value:"All",children:"All Status"}),t.jsx("option",{value:"Draft",children:"Draft"}),t.jsx("option",{value:"Generated",children:"Generated"}),t.jsx("option",{value:"Signed",children:"Signed"})]}),t.jsxs("button",{className:"add-agreement-btn",onClick:se,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Agreement"]})]}),N&&t.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading agreements..."}),t.jsx("div",{className:"agreement-table-container",children:t.jsx(ly,{data:R,columns:Oe,getId:re=>re.id,emptyMessage:"No agreement records found"})}),t.jsxs("div",{className:"agreement-pagination-info",children:["Showing ",R.length," of ",y.length," Items"]})]})]}),d&&t.jsx(Hne,{agreement:m,contracts:w,contractIdParam:i,saving:K,onClose:()=>{A(!1),x(null)},onSave:Te}),o&&f&&t.jsx(Qne,{agreement:f,contractNum:f.contractNum,onClose:()=>{h(!1),g(null)}})]})},Hne=({agreement:r,contracts:e,contractIdParam:n,saving:a,onClose:i,onSave:s})=>{const[c,l]=k.useState(r||{contractID:n||"",agreementNum:"",agreementDate:new Date().toISOString().split("T")[0],status:"Draft"}),u=o=>{if(o.preventDefault(),!c.contractID||!c.agreementDate){alert("Please fill in all required fields");return}s(c)};return t.jsx("div",{className:"modal-overlay",onClick:i,children:t.jsxs("div",{className:"modal-content",onClick:o=>o.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Agreement":"Add Agreement"}),t.jsx("button",{className:"modal-close-btn",onClick:i,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"agreement-form",onSubmit:u,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Agreement Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Contract *"}),t.jsxs("select",{value:c.contractID||"",onChange:o=>l({...c,contractID:o.target.value}),required:!0,disabled:a||!!n||!!r,children:[t.jsx("option",{value:"",children:"Select Contract"}),e.map(o=>t.jsxs("option",{value:o.id,children:[o.contractID," - ",o.contractNum]},o.id))]})]}),r&&t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Agreement Number"}),t.jsx("input",{type:"text",value:c.agreementNum||"",onChange:o=>l({...c,agreementNum:o.target.value}),disabled:a,placeholder:"Auto-generated if empty"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Agreement Date *"}),t.jsx("input",{type:"date",value:c.agreementDate||"",onChange:o=>l({...c,agreementDate:o.target.value}),required:!0,disabled:a})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:c.status||"Draft",onChange:o=>l({...c,status:o.target.value}),disabled:a,children:[t.jsx("option",{value:"Draft",children:"Draft"}),t.jsx("option",{value:"Generated",children:"Generated"}),t.jsx("option",{value:"Signed",children:"Signed"})]})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:i,disabled:a,children:"Cancel"}),t.jsxs("button",{type:"submit",className:"btn btn--primary",disabled:a,children:[a?"Saving...":r?"Update":"Add"," Agreement"]})]})]})]})})},Qne=({agreement:r,contractNum:e,onClose:n})=>{const[a,i]=k.useState(!1),[s,c]=k.useState([]),[l,u]=k.useState(!1),[o,h]=k.useState(!1),[d,A]=k.useState(null),[f,g]=k.useState(null),[m,x]=k.useState(!1),y=k.useRef(null);k.useEffect(()=>{const O=async()=>{try{u(!0);const K=(await YA.getAllClauses(r.id)).map(te=>({id:te.id,pointNum:te.pointNum,pointTitle:te.pointTitle,pointText:te.pointText,sequenceNo:te.sequenceNo,status:te.status})).sort((te,q)=>te.sequenceNo-q.sequenceNo);c(K)}catch(W){console.error("Failed to load clauses:",W),c([])}finally{u(!1)}};r.id&&O()},[r.id]),k.useEffect(()=>{(async()=>{if(r.contractID)try{x(!0);const W=await lf.getContractById(r.contractID),[K,te]=await Promise.all([Ha.getCompanyById(W.companyId),Fs.getHcfById(W.hcfId)]);A(K),g(te)}catch(W){console.error("Failed to load party data:",W)}finally{x(!1)}})()},[r.contractID]);const b=()=>{window.print()},w=async()=>{if(!y.current){alert("Unable to generate PDF. Please try again.");return}try{h(!0);const O=y.current,W={margin:[10,10,10,10],filename:`${r.agreementNum}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0,letterRendering:!0},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"},pagebreak:{mode:["avoid-all","css","legacy"]}};await Lne().set(W).from(O).save()}catch(O){console.error("Failed to generate PDF:",O),alert("Failed to generate PDF. Please try again.")}finally{h(!1)}},S=O=>{const W=O.pointTitle.toLowerCase().includes("whereas"),K=O.pointNum.toLowerCase().startsWith("w"),te=O.pointNum.toLowerCase().startsWith("whereas");return W||K||te},N=O=>!!(O.pointNum&&O.pointNum.trim()!==""&&/^\d+$/.test(O.pointNum.trim())),C=O=>!S(O)&&!N(O);return t.jsx("div",{className:"modal-overlay",onClick:n,children:t.jsxs("div",{className:"modal-content modal-content--view modal-content--large",onClick:O=>O.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsxs("h2",{className:"modal-title",children:["Agreement Preview - ",r.agreementNum]}),t.jsx("button",{className:"modal-close-btn",onClick:n,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("div",{className:"agreement-preview-controls",children:[t.jsxs("label",{className:"stamp-paper-toggle",children:[t.jsx("input",{type:"checkbox",checked:a,onChange:O=>i(O.target.checked)}),t.jsx("span",{children:"Print on Stamp Paper"})]}),t.jsxs("div",{className:"preview-actions",children:[t.jsxs("button",{type:"button",className:"btn btn--secondary",onClick:b,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),t.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),t.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]}),"Print"]}),t.jsxs("button",{type:"button",className:"btn btn--primary",onClick:w,disabled:o,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),t.jsx("polyline",{points:"7 10 12 15 17 10"}),t.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),o?"Generating...":"Download PDF"]})]})]}),t.jsx("div",{ref:y,className:`agreement-document ${a?"stamp-paper-mode":""}`,children:l?t.jsx("div",{className:"loading-message",children:"Loading agreement clauses..."}):t.jsxs(t.Fragment,{children:[a&&t.jsxs("div",{className:"agreement-page agreement-page--stamp-paper",children:[t.jsx("div",{className:"stamp-paper-blank-space"}),t.jsxs("div",{className:"agreement-party-intro",children:[t.jsx("h2",{className:"party-intro-title",children:"THIS SERVICE AGREEMENT"}),t.jsxs("p",{className:"party-intro-subtitle",children:["is made on this ",t.jsx("strong",{children:new Date(r.agreementDate).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})})]}),t.jsxs("div",{className:"party-details",children:[t.jsxs("div",{className:"party-section",children:[t.jsx("p",{className:"party-intro-text",children:t.jsx("strong",{children:"BETWEEN"})}),t.jsx("h3",{className:"party-name",children:"PARTY OF THE FIRST PART"}),t.jsx("p",{className:"party-description",children:d?t.jsxs(t.Fragment,{children:[t.jsx("strong",{children:d.companyName}),', a company incorporated under the Companies Act, 2013, having its registered office at [Address], represented by [Authorized Person], hereinafter referred to as the "',t.jsx("strong",{children:"Service Provider"}),'" (which expression shall, unless repugnant to the context or meaning thereof, be deemed to include its successors and assigns).']}):t.jsxs(t.Fragment,{children:['[Company Name], a company incorporated under the Companies Act, 2013, having its registered office at [Address], represented by [Authorized Person], hereinafter referred to as the "',t.jsx("strong",{children:"Service Provider"}),'" (which expression shall, unless repugnant to the context or meaning thereof, be deemed to include its successors and assigns).']})})]}),t.jsxs("div",{className:"party-section",children:[t.jsx("p",{className:"party-intro-text",children:t.jsx("strong",{children:"AND"})}),t.jsx("h3",{className:"party-name",children:"PARTY OF THE SECOND PART"}),t.jsx("p",{className:"party-description",children:f?t.jsxs(t.Fragment,{children:[t.jsx("strong",{children:f.hcfName}),", a healthcare facility located at ",f.serviceAddress||"[Address]",", represented by",f.agrSignAuthName?` ${f.agrSignAuthName}`:" [Authorized Person]",', hereinafter referred to as the "',t.jsx("strong",{children:"Client"}),'" (which expression shall, unless repugnant to the context or meaning thereof, be deemed to include its successors and assigns).']}):t.jsxs(t.Fragment,{children:['[HCF Name], a healthcare facility located at [Address], represented by [Authorized Person], hereinafter referred to as the "',t.jsx("strong",{children:"Client"}),'" (which expression shall, unless repugnant to the context or meaning thereof, be deemed to include its successors and assigns).']})})]})]})]})]}),t.jsxs("div",{className:"agreement-page",children:[t.jsxs("div",{className:"agreement-header-section",children:[t.jsx("h1",{className:"agreement-main-title",children:"SERVICE AGREEMENT"}),t.jsxs("div",{className:"agreement-meta",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Agreement No.:"})," ",r.agreementNum]}),e&&t.jsxs("p",{children:[t.jsx("strong",{children:"Contract Reference:"})," ",e]})]})]}),s.length>0&&S(s[0])&&t.jsx("div",{className:"agreement-section agreement-intro-section",children:t.jsxs("p",{className:"whereas-intro",children:['This Service Agreement ("Agreement") is made on this ',t.jsx("strong",{children:new Date(r.agreementDate).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})})," between ",d?t.jsx("strong",{children:d.companyName}):"[Company Name]",' (hereinafter referred to as the "',t.jsx("strong",{children:"Service Provider"}),'") and ',f?t.jsx("strong",{children:f.hcfName}):"[HCF Name]",' (hereinafter referred to as the "',t.jsx("strong",{children:"Client"}),'"):']})}),(s.length===0||!S(s[0]))&&t.jsxs("div",{className:"agreement-section agreement-intro-section",children:[t.jsxs("p",{className:"intro-text",children:['This Service Agreement ("Agreement") is made on this ',t.jsx("strong",{children:new Date(r.agreementDate).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})})," between ",d?t.jsx("strong",{children:d.companyName}):"[Company Name]",' (hereinafter referred to as the "',t.jsx("strong",{children:"Service Provider"}),'") and ',f?t.jsx("strong",{children:f.hcfName}):"[HCF Name]",' (hereinafter referred to as the "',t.jsx("strong",{children:"Client"}),'").']}),s.length>0&&t.jsx("p",{className:"intro-continuation",children:"The parties agree as follows:"})]}),s.length>0&&(()=>{let O=0;return t.jsx("div",{className:"agreement-section agreement-clauses-section",children:s.map((W,K)=>{const te=S(W),q=N(W),Y=C(W);te&&O++;const P=K>0?s[K-1]:null,ce=P&&S(P)&&!te;return t.jsxs("div",{children:[ce&&t.jsx("div",{className:"agreement-section agreement-now-therefore-section",children:t.jsxs("p",{className:"now-therefore-text",children:[t.jsx("strong",{children:"NOW THEREFORE"}),", in consideration of the mutual covenants and agreements contained herein, the parties agree as follows:"]})}),te?t.jsx("div",{className:"whereas-item",children:t.jsxs("p",{className:"whereas-text",children:[t.jsxs("strong",{children:["WHEREAS ",O===1?"":String.fromCharCode(64+O)+") "]}),W.pointText]})}):q?t.jsx("div",{className:"clause-item clause-item--numbered",children:t.jsxs("p",{className:"clause-text",children:[t.jsxs("strong",{children:[W.pointNum,"."]})," ",W.pointText]})}):Y?t.jsx("div",{className:"clause-item clause-item--normal",children:t.jsx("p",{className:"clause-text",children:W.pointText})}):t.jsx("div",{className:"clause-item",children:t.jsx("p",{className:"clause-text",children:W.pointText})})]},W.id)})})})(),t.jsxs("div",{className:"agreement-section agreement-signature-section",children:[t.jsxs("div",{className:"signature-block",children:[t.jsxs("div",{className:"signature-party",children:[t.jsx("p",{className:"signature-party-title",children:t.jsx("strong",{children:"PARTY OF THE FIRST PART"})}),t.jsxs("div",{className:"signature-space",children:[t.jsx("div",{className:"signature-line"}),t.jsx("p",{className:"signature-name",children:"Signature"}),t.jsx("p",{className:"signature-name",children:"[Name of Authorized Signatory]"}),t.jsx("p",{className:"signature-designation",children:"[Designation]"}),t.jsxs("p",{className:"signature-designation",children:["For and on behalf of ",d?d.companyName:"[Company Name]"]})]})]}),t.jsxs("div",{className:"signature-party",children:[t.jsx("p",{className:"signature-party-title",children:t.jsx("strong",{children:"PARTY OF THE SECOND PART"})}),t.jsxs("div",{className:"signature-space",children:[t.jsx("div",{className:"signature-line"}),t.jsx("p",{className:"signature-name",children:"Signature"}),t.jsx("p",{className:"signature-name",children:f&&f.agrSignAuthName||"[Name of Authorized Signatory]"}),t.jsx("p",{className:"signature-designation",children:f&&f.agrSignAuthDesignation||"[Designation]"}),t.jsxs("p",{className:"signature-designation",children:["For and on behalf of ",f?f.hcfName:"[HCF Name]"]})]})]})]}),t.jsxs("div",{className:"signature-date-place",children:[t.jsxs("p",{className:"date-place-text",children:[t.jsx("strong",{children:"Date:"})," _______________________"]}),t.jsxs("p",{className:"date-place-text",children:[t.jsx("strong",{children:"Place:"})," _______________________"]})]}),t.jsxs("div",{className:"witness-section",children:[t.jsx("p",{className:"witness-title",children:t.jsx("strong",{children:"WITNESSES:"})}),t.jsxs("div",{className:"witness-block",children:[t.jsxs("div",{className:"witness-item",children:[t.jsx("div",{className:"signature-line"}),t.jsx("p",{className:"witness-name",children:"1. [Name of Witness]"}),t.jsx("p",{className:"witness-address",children:"[Address]"})]}),t.jsxs("div",{className:"witness-item",children:[t.jsx("div",{className:"signature-line"}),t.jsx("p",{className:"witness-name",children:"2. [Name of Witness]"}),t.jsx("p",{className:"witness-address",children:"[Address]"})]})]})]})]})]})]})}),t.jsx("div",{className:"modal-footer",children:t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Back"})})]})})},Wne=({clauses:r,agreementFilter:e,statusFilter:n})=>({filteredClauses:k.useMemo(()=>r.filter(i=>{const s=e==="All"||i.agreementID===e,c=n==="All"||i.status===n;return s&&c}).sort((i,s)=>i.agreementID!==s.agreementID?i.agreementID.localeCompare(s.agreementID):i.sequenceNo-s.sequenceNo),[r,e,n])}),$ne=()=>{const{logout:r,permissions:e}=da(),n=Tn(),[a,i]=k.useState("All"),[s,c]=k.useState("All"),[l,u]=k.useState(!1),[o,h]=k.useState(null),[d,A]=k.useState(!1),[f,g]=k.useState(null),[m,x]=k.useState(!1),[y,b]=k.useState(!1),w=()=>{b(!y)},[S,N]=k.useState([]),[C,O]=k.useState([]),W=k.useCallback(async()=>{try{A(!0),g(null);const Z=await Z0.getAllAgreements();N(Z.map(Oe=>({id:Oe.id,agreementID:Oe.agreementID,agreementNum:Oe.agreementNum,status:Oe.status})))}catch(Z){console.error("Failed to load agreements:",Z),g(Z.message||"Failed to load agreements")}finally{A(!1)}},[]),K=k.useCallback(async Z=>{var Oe;try{A(!0),g(null);const ee=a!=="All"?(Oe=Z.find(ye=>ye.agreementID===a))==null?void 0:Oe.id:void 0,re=s!=="All"?s:void 0,Ne=(await YA.getAllClauses(ee,re)).map(ye=>{const me=Z.find(ie=>ie.id===ye.agreementId);return{id:ye.id,agreementClauseID:ye.agreementClauseID,agreementID:(me==null?void 0:me.agreementID)||ye.agreementId,pointNum:ye.pointNum,pointTitle:ye.pointTitle,pointText:ye.pointText,sequenceNo:ye.sequenceNo,status:ye.status}});Ne.sort((ye,me)=>ye.agreementID!==me.agreementID?ye.agreementID.localeCompare(me.agreementID):ye.sequenceNo-me.sequenceNo),O(Ne)}catch(ee){console.error("Failed to load clauses:",ee),g(ee.message||"Failed to load clauses")}finally{A(!1)}},[a,s]);k.useEffect(()=>{W()},[W]),k.useEffect(()=>{S.length>0&&K(S)},[S.length,a,s,K]);const{filteredClauses:te}=Wne({clauses:C,agreementFilter:a,statusFilter:s}),q=Z=>{const Oe=S.find(ee=>ee.agreementID===Z);return Oe||console.warn(`Agreement not found for agreementID: ${Z}. Available agreements:`,S.map(ee=>ee.agreementID)),(Oe==null?void 0:Oe.status)||null},Y=Z=>q(Z.agreementID)==="Draft",P=Z=>{if(!Y(Z)){alert("Clauses can only be edited when the agreement status is Draft.");return}h(Z),u(!0)},ce=async Z=>{if(!Y(Z)){alert("Clauses can only be reordered when the agreement status is Draft.");return}const ee=[...C.filter(je=>je.agreementID===Z.agreementID)].sort((je,Ne)=>je.sequenceNo-Ne.sequenceNo),re=ee.findIndex(je=>je.id===Z.id);if(re>0){const je=ee[re-1];try{A(!0),g(null),await YA.reorderClause(Z.id,je.sequenceNo),await YA.reorderClause(je.id,Z.sequenceNo),await K(S)}catch(Ne){console.error("Failed to reorder clause:",Ne),g(Ne.message||"Failed to reorder clause"),alert(Ne.message||"Failed to reorder clause")}finally{A(!1)}}},$=async Z=>{if(!Y(Z)){alert("Clauses can only be reordered when the agreement status is Draft.");return}const ee=[...C.filter(je=>je.agreementID===Z.agreementID)].sort((je,Ne)=>je.sequenceNo-Ne.sequenceNo),re=ee.findIndex(je=>je.id===Z.id);if(re<ee.length-1){const je=ee[re+1];try{A(!0),g(null),await YA.reorderClause(Z.id,je.sequenceNo),await YA.reorderClause(je.id,Z.sequenceNo),await K(S)}catch(Ne){console.error("Failed to reorder clause:",Ne),g(Ne.message||"Failed to reorder clause"),alert(Ne.message||"Failed to reorder clause")}finally{A(!1)}}},R=async Z=>{try{if(x(!0),g(null),Z.pointNum&&Z.agreementID&&C.find(ee=>ee.agreementID===Z.agreementID&&ee.pointNum===Z.pointNum&&ee.id!==(o==null?void 0:o.id)))throw new Error(`Point number ${Z.pointNum} already exists for this agreement.`);if(o)await YA.updateClause(o.id,{pointNum:Z.pointNum,pointTitle:Z.pointTitle,pointText:Z.pointText,sequenceNo:Z.sequenceNo});else{const Oe=C.filter(re=>re.agreementID===Z.agreementID).reduce((re,je)=>Math.max(re,je.sequenceNo),0),ee=S.find(re=>re.agreementID===Z.agreementID);if(!ee)throw new Error("Agreement not found");await YA.createClause({agreementId:ee.id,pointNum:Z.pointNum,pointTitle:Z.pointTitle,pointText:Z.pointText,sequenceNo:Oe+1})}u(!1),h(null),await K(S)}catch(Oe){console.error("Failed to save clause:",Oe),g(Oe.message||"Failed to save clause"),alert(Oe.message||"Failed to save clause")}finally{x(!1)}},se=({text:Z,maxLength:Oe=50})=>{const ee=Z.length>Oe?`${Z.substring(0,Oe)}...`:Z,re=Z.length>Oe;return t.jsx("span",{className:"point-text-cell",title:re?Z:void 0,style:{cursor:re?"help":"default"},children:ee})},fe=({status:Z})=>{const Oe=`clause-status-badge clause-status-badge--${Z.toLowerCase()}`;return t.jsx("span",{className:Oe,role:"status","aria-label":`Status: ${Z}`,children:Z})},Te=({clause:Z})=>{const Oe=q(Z.agreementID),ee=Oe==="Draft",je=[...C.filter(Re=>Re.agreementID===Z.agreementID)].sort((Re,Ue)=>Re.sequenceNo-Ue.sequenceNo),Ne=je.findIndex(Re=>Re.id===Z.id),ye=ee&&Ne>0,me=ee&&Ne<je.length-1,ie=ee?"Edit Clause":`Edit only available when agreement status is Draft. Current status: ${Oe||"Unknown"}`,le=ye?"Move Up":ee?"Already at the top":`Move Up only available when agreement status is Draft. Current status: ${Oe||"Unknown"}`,Ee=me?"Move Down":ee?"Already at the bottom":`Move Down only available when agreement status is Draft. Current status: ${Oe||"Unknown"}`;return t.jsxs("div",{className:"clause-action-buttons",style:{display:"flex",gap:"4px",alignItems:"center"},children:[t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>P(Z),title:ie,"aria-label":`Edit clause ${Z.pointTitle}`,disabled:!ee,type:"button",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"action-btn action-btn--up",onClick:()=>ce(Z),disabled:!ye,title:le,"aria-label":`Move clause ${Z.pointTitle} up`,type:"button",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:t.jsx("polyline",{points:"18 15 12 9 6 15"})})}),t.jsx("button",{className:"action-btn action-btn--down",onClick:()=>$(Z),disabled:!me,title:Ee,"aria-label":`Move clause ${Z.pointTitle} down`,type:"button",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:t.jsx("polyline",{points:"6 9 12 15 18 9"})})})]})},Ie=[{key:"agreementID",label:"Agreement ID",minWidth:150,render:Z=>{const Oe=S.find(ee=>ee.agreementID===Z.agreementID);return Oe?`${Z.agreementID} - ${Oe.agreementNum}`:Z.agreementID}},{key:"sequenceNo",label:"Sequence",minWidth:100,render:Z=>t.jsx("span",{className:"sequence-cell",children:Z.sequenceNo})},{key:"pointNum",label:"Point Number",minWidth:120},{key:"pointTitle",label:"Point Title",minWidth:150},{key:"pointText",label:"Point Text",minWidth:300,allowWrap:!0,render:Z=>t.jsx(se,{text:Z.pointText,maxLength:80})},{key:"status",label:"Status",minWidth:100,render:Z=>t.jsx(fe,{status:Z.status})},{key:"actions",label:"Actions",minWidth:150,render:Z=>t.jsx(Te,{clause:Z})}],_e=us(e,n.pathname);return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${y?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!y&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:w,"aria-label":y?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:y?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:_e.map(Z=>t.jsx("li",{children:t.jsxs(Yr,{to:Z.path,className:`nav-link ${Z.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:Z.icon}),!y&&t.jsx("span",{className:"nav-label",children:Z.label})]})},Z.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Yr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!y&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!y&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Commercial Agreements / Agreement Clause Management"})})}),t.jsxs("div",{className:"agreement-clause-page",children:[t.jsx("div",{className:"agreement-clause-header",children:t.jsx("h1",{className:"agreement-clause-title",children:"Agreement Clause Management"})}),f&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"20px",backgroundColor:"#fee",color:"#c00",borderRadius:"4px"},children:f}),t.jsxs("div",{className:"agreement-clause-filters",children:[t.jsxs("select",{className:"filter-select",value:a,onChange:Z=>i(Z.target.value),"aria-label":"Filter by agreement",children:[t.jsx("option",{value:"All",children:"All Agreements"}),S.map(Z=>t.jsxs("option",{value:Z.agreementID,children:[Z.agreementID," - ",Z.agreementNum]},Z.id))]}),t.jsxs("select",{className:"filter-select",value:s,onChange:Z=>c(Z.target.value),"aria-label":"Filter by status",children:[t.jsx("option",{value:"All",children:"All Status"}),t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]}),t.jsxs("button",{className:"add-clause-btn",onClick:()=>u(!0),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Clause"]})]}),d&&t.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading clauses..."}),!d&&t.jsx("div",{className:"clause-table-container",children:t.jsx(ly,{data:te,columns:Ie,getId:Z=>Z.id,emptyMessage:"No clause records found"})}),t.jsx("div",{className:"clause-pagination-info",children:d?"Loading...":`Showing ${te.length} of ${C.length} Items`})]})]}),l&&t.jsx(Vne,{clause:o,agreements:S,clauses:C,saving:m,onClose:()=>{u(!1),h(null)},onSave:R})]})},Vne=({clause:r,agreements:e,clauses:n,saving:a,onClose:i,onSave:s})=>{const[c,l]=k.useState(r||{agreementID:"",pointNum:"",pointTitle:"",pointText:"",sequenceNo:0,status:"Active"}),[u,o]=k.useState(null),h=(g,m)=>!g||!m?!0:n.find(y=>y.agreementID===m&&y.pointNum===g&&y.id!==(r==null?void 0:r.id))?(o(`Point number ${g} already exists for this agreement.`),!1):(o(null),!0),d=g=>{l({...c,pointNum:g}),c.agreementID&&h(g,c.agreementID)},A=g=>{l({...c,agreementID:g,pointNum:""}),o(null)},f=g=>{if(g.preventDefault(),!c.agreementID||!c.pointText||!c.pointNum){alert("Please fill in all required fields");return}h(c.pointNum,c.agreementID)&&s(c)};return t.jsx("div",{className:"modal-overlay",onClick:i,children:t.jsxs("div",{className:"modal-content",onClick:g=>g.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Agreement Clause":"Add Agreement Clause"}),t.jsx("button",{className:"modal-close-btn",onClick:i,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"clause-form",onSubmit:f,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Clause Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Agreement ID *"}),t.jsxs("select",{value:c.agreementID||"",onChange:g=>A(g.target.value),required:!0,disabled:!!r||a,children:[t.jsx("option",{value:"",children:"Select Agreement"}),e.map(g=>t.jsxs("option",{value:g.agreementID,children:[g.agreementID," - ",g.agreementNum]},g.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Point Number *"}),t.jsx("input",{type:"text",value:c.pointNum||"",onChange:g=>d(g.target.value),placeholder:"e.g., 1, 2, 3",required:!0,disabled:a}),u&&t.jsx("span",{className:"form-error",style:{color:"#dc2626",fontSize:"12px",marginTop:"4px",display:"block"},children:u}),t.jsx("p",{className:"form-help-text",style:{fontSize:"11px",color:"#64748b",marginTop:"4px"},children:"Must be unique per agreement"})]}),t.jsxs("div",{className:"form-group form-group--full",children:[t.jsx("label",{children:"Point Title"}),t.jsx("input",{type:"text",value:c.pointTitle||"",onChange:g=>l({...c,pointTitle:g.target.value}),disabled:a,placeholder:"Optional: For reference only (not printed in PDF)"})]}),t.jsxs("div",{className:"form-group form-group--full",children:[t.jsx("label",{children:"Point Text *"}),t.jsx("textarea",{value:c.pointText||"",onChange:g=>l({...c,pointText:g.target.value}),required:!0,disabled:a,placeholder:"Enter the clause text...",rows:4})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:i,disabled:a,children:"Cancel"}),t.jsxs("button",{type:"submit",className:"btn btn--primary",disabled:a||!!u,children:[a?"Saving...":r?"Update":"Add"," Clause"]})]})]})]})})},zne=()=>{const{createUser:r,loading:e,user:n}=da(),[a,i]=k.useState({userName:"",mobileNumber:"",empCode:"",userRoleID:"",employmentType:"",webLogin:!1,mobileApp:!1,dlNum:"",aadhaar:"",pan:"",uan:"",pfNum:"",esiNum:"",grossSalary:"",contractorName:"",companyName:"",address:"",area:"",city:"",district:"",pincode:"",emergencyContact:"",status:!0}),[s,c]=k.useState(null),[l,u]=k.useState(null),o=async d=>{d.preventDefault(),c(null),u(null);try{const A=await r({name:a.userName,email:a.mobileNumber+"@medi-waste.io",password:"TempPass123!",role:"staff"});c(`User ${A.name} created successfully!`),i({userName:"",mobileNumber:"",empCode:"",userRoleID:"",employmentType:"",webLogin:!1,mobileApp:!1,dlNum:"",aadhaar:"",pan:"",uan:"",pfNum:"",esiNum:"",grossSalary:"",contractorName:"",companyName:"",address:"",area:"",city:"",district:"",pincode:"",emergencyContact:"",status:!0})}catch(A){u(A.message||"Unable to create user")}},h=(d,A)=>{i(f=>({...f,[d]:A}))};return t.jsx("div",{className:"user-management-page",children:t.jsxs("div",{className:"user-management-container",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"User Management"}),t.jsx("p",{className:"page-subtitle",children:"Create and manage user accounts with complete information"})]}),t.jsxs("form",{className:"user-form",onSubmit:o,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h2",{className:"section-title",children:"Basic Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"userName",className:"form-label required",children:"User Name"}),t.jsx("input",{id:"userName",type:"text",className:"form-input",placeholder:"Enter user name",value:a.userName,onChange:d=>h("userName",d.target.value),required:!0,maxLength:50})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"mobileNumber",className:"form-label required",children:"Mobile Number"}),t.jsx("input",{id:"mobileNumber",type:"tel",className:"form-input",placeholder:"10-digit mobile number",value:a.mobileNumber,onChange:d=>h("mobileNumber",d.target.value.replace(/\D/g,"").slice(0,10)),required:!0,maxLength:10})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"empCode",className:"form-label required",children:"Employee Code"}),t.jsx("input",{id:"empCode",type:"text",className:"form-input",placeholder:"Enter employee code",value:a.empCode,onChange:d=>h("empCode",d.target.value),required:!0,maxLength:10})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"userRoleID",className:"form-label required",children:"User Role"}),t.jsxs("select",{id:"userRoleID",className:"form-input",value:a.userRoleID,onChange:d=>h("userRoleID",d.target.value),required:!0,children:[t.jsx("option",{value:"",children:"Select Role"}),t.jsx("option",{value:"admin",children:"Admin"}),t.jsx("option",{value:"manager",children:"Manager"}),t.jsx("option",{value:"staff",children:"Staff"}),t.jsx("option",{value:"viewer",children:"Viewer"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"employmentType",className:"form-label",children:"Employment Type"}),t.jsxs("select",{id:"employmentType",className:"form-input",value:a.employmentType,onChange:d=>h("employmentType",d.target.value),children:[t.jsx("option",{value:"",children:"Select Type"}),t.jsx("option",{value:"Full-time",children:"Full-time"}),t.jsx("option",{value:"Part-time",children:"Part-time"}),t.jsx("option",{value:"Contract",children:"Contract"}),t.jsx("option",{value:"Temporary",children:"Temporary"})]})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h2",{className:"section-title",children:"Access Control"}),t.jsxs("div",{className:"form-grid",children:[t.jsx("div",{className:"form-group checkbox-group",children:t.jsxs("label",{className:"checkbox-label",children:[t.jsx("input",{type:"checkbox",checked:a.webLogin,onChange:d=>h("webLogin",d.target.checked)}),t.jsx("span",{children:"Web Login Access"})]})}),t.jsx("div",{className:"form-group checkbox-group",children:t.jsxs("label",{className:"checkbox-label",children:[t.jsx("input",{type:"checkbox",checked:a.mobileApp,onChange:d=>h("mobileApp",d.target.checked)}),t.jsx("span",{children:"Mobile App Access"})]})})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h2",{className:"section-title",children:"Identity Documents"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"dlNum",className:"form-label",children:"Driving License Number"}),t.jsx("input",{id:"dlNum",type:"text",className:"form-input",placeholder:"Enter DL number",value:a.dlNum,onChange:d=>h("dlNum",d.target.value),maxLength:20})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"aadhaar",className:"form-label",children:"Aadhaar Number"}),t.jsx("input",{id:"aadhaar",type:"text",className:"form-input",placeholder:"12-digit Aadhaar",value:a.aadhaar,onChange:d=>h("aadhaar",d.target.value.replace(/\D/g,"").slice(0,12)),maxLength:12})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"pan",className:"form-label",children:"PAN Number"}),t.jsx("input",{id:"pan",type:"text",className:"form-input",placeholder:"10-character PAN",value:a.pan,onChange:d=>h("pan",d.target.value.toUpperCase().slice(0,10)),maxLength:10})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h2",{className:"section-title",children:"Employment Details"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"uan",className:"form-label",children:"UAN (Universal Account Number)"}),t.jsx("input",{id:"uan",type:"text",className:"form-input",placeholder:"12-digit UAN",value:a.uan,onChange:d=>h("uan",d.target.value.replace(/\D/g,"").slice(0,12)),maxLength:12})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"pfNum",className:"form-label",children:"PF Number"}),t.jsx("input",{id:"pfNum",type:"text",className:"form-input",placeholder:"Enter PF number",value:a.pfNum,onChange:d=>h("pfNum",d.target.value),maxLength:22})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"esiNum",className:"form-label",children:"ESI Number"}),t.jsx("input",{id:"esiNum",type:"text",className:"form-input",placeholder:"Enter ESI number",value:a.esiNum,onChange:d=>h("esiNum",d.target.value),maxLength:22})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"grossSalary",className:"form-label required",children:"Gross Salary"}),t.jsx("input",{id:"grossSalary",type:"number",className:"form-input",placeholder:"Enter gross salary",value:a.grossSalary,onChange:d=>h("grossSalary",d.target.value),required:!0,min:"0",step:"0.01"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"contractorName",className:"form-label",children:"Contractor Name"}),t.jsx("input",{id:"contractorName",type:"text",className:"form-input",placeholder:"Enter contractor name",value:a.contractorName,onChange:d=>h("contractorName",d.target.value),maxLength:50})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"companyName",className:"form-label",children:"Company Name"}),t.jsx("input",{id:"companyName",type:"text",className:"form-input",placeholder:"Enter company name",value:a.companyName,onChange:d=>h("companyName",d.target.value),maxLength:50})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h2",{className:"section-title",children:"Address Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group full-width",children:[t.jsx("label",{htmlFor:"address",className:"form-label",children:"Address"}),t.jsx("textarea",{id:"address",className:"form-input",placeholder:"Enter full address",value:a.address,onChange:d=>h("address",d.target.value),rows:3})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"area",className:"form-label",children:"Area"}),t.jsx("input",{id:"area",type:"text",className:"form-input",placeholder:"Enter area",value:a.area,onChange:d=>h("area",d.target.value)})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"city",className:"form-label",children:"City"}),t.jsx("input",{id:"city",type:"text",className:"form-input",placeholder:"Enter city",value:a.city,onChange:d=>h("city",d.target.value)})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"district",className:"form-label",children:"District"}),t.jsx("input",{id:"district",type:"text",className:"form-input",placeholder:"Enter district",value:a.district,onChange:d=>h("district",d.target.value)})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"pincode",className:"form-label",children:"Pincode"}),t.jsx("input",{id:"pincode",type:"text",className:"form-input",placeholder:"6-digit pincode",value:a.pincode,onChange:d=>h("pincode",d.target.value.replace(/\D/g,"").slice(0,6)),maxLength:6})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"emergencyContact",className:"form-label",children:"Emergency Contact"}),t.jsx("input",{id:"emergencyContact",type:"tel",className:"form-input",placeholder:"Emergency contact number",value:a.emergencyContact,onChange:d=>h("emergencyContact",d.target.value),maxLength:25})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h2",{className:"section-title",children:"Status"}),t.jsx("div",{className:"form-group checkbox-group",children:t.jsxs("label",{className:"checkbox-label",children:[t.jsx("input",{type:"checkbox",checked:a.status,onChange:d=>h("status",d.target.checked)}),t.jsx("span",{children:"Active Status"})]})})]}),l&&t.jsx("div",{className:"form-error",children:l}),s&&t.jsx("div",{className:"form-success",children:s}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{type:"submit",className:"btn-primary",disabled:e,children:e?"Creating User...":"Create User"}),t.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>window.location.reload(),children:"Reset Form"})]})]})]})})},Nc=({children:r,navItems:e=[]})=>{const{user:n,logout:a,permissions:i}=da(),s=Tn();Ka();const[c,l]=k.useState(!1),[u,o]=k.useState(!1),[h,d]=k.useState(!1);k.useEffect(()=>{const w=()=>{d(window.innerWidth<=768)};return w(),window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[]);const A=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:s.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:s.pathname==="/transaction"||s.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:s.pathname==="/finance"||s.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),active:s.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:s.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:s.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:s.pathname.startsWith("/report")}],g=(e.length>0?e:A).filter(w=>w.path==="/dashboard"?sa(i,"dashboard"):w.path==="/transaction"||w.path.startsWith("/transaction")?sa(i,"transaction"):w.path==="/finance"||w.path.startsWith("/finance")?sa(i,"finance"):w.path==="/commercial-agreements"||w.path.startsWith("/commercial-agreements")?sa(i,"commercial"):w.path==="/compliance-training"||w.path.startsWith("/compliance-training")?sa(i,"compliance"):w.path==="/master"||w.path.startsWith("/master")?sa(i,"master"):w.path==="/report"||w.path.startsWith("/report")?sa(i,"report"):!0),m=nS(Array.isArray(i)?i:[],s.pathname),x=[...g,...m.filter(w=>!g.some(S=>S.path===w.path))],y=()=>{l(!c)},b=()=>{o(!u)};return t.jsxs("div",{className:"app-layout",children:[h&&t.jsx("button",{className:"mobile-menu-toggle",onClick:b,"aria-label":"Toggle menu",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),t.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),t.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})}),h&&u&&t.jsx("div",{className:"mobile-overlay",onClick:b}),t.jsxs("aside",{className:`app-layout__sidebar ${c?"collapsed":""} ${h&&u?"open":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!c&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),!h&&t.jsx("button",{className:"sidebar-toggle",onClick:y,"aria-label":c?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:x.map(w=>t.jsx("li",{children:t.jsxs(Yr,{to:w.path,className:`nav-link ${w.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:w.icon}),!c&&t.jsx("span",{className:"nav-label",children:w.label})]})},w.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs(Yr,{to:"/profile",className:"sidebar-profile-link",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!c&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:a,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!c&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsx("main",{className:"app-layout__content",children:r})]})},Kne=({id:r,title:e,description:n,icon:a,path:i,parameters:s,indicators:c=[]})=>{const l=()=>{if(s.length===0)return"No parameters";const u=3,o=s.slice(0,u),h=s.length-u;let d=o.join("  ");return h>0&&(d+=` +${h} more`),d};return t.jsxs(Yr,{to:i,className:"report-card-modern","aria-label":`View ${e} report`,children:[t.jsxs("div",{className:"report-card-modern-header",children:[t.jsx("div",{className:"report-card-modern-icon",children:a}),t.jsxs("div",{className:"report-card-modern-title-section",children:[t.jsx("h3",{className:"report-card-modern-title",children:e}),c.length>0&&t.jsxs("div",{className:"report-card-modern-indicators",children:[c.includes("popular")&&t.jsx("span",{className:"indicator-icon",title:"Frequently used",children:""}),c.includes("scheduled")&&t.jsx("span",{className:"indicator-icon",title:"Scheduled",children:""}),c.includes("restricted")&&t.jsx("span",{className:"indicator-icon",title:"Restricted",children:""}),c.includes("beta")&&t.jsx("span",{className:"indicator-icon",title:"Beta",children:""})]})]})]}),t.jsxs("div",{className:"report-card-modern-body",children:[t.jsx("p",{className:"report-card-modern-description",children:n}),t.jsxs("div",{className:"report-card-modern-parameters",children:[t.jsx("span",{className:"parameters-label",children:"Params:"}),t.jsx("span",{className:"parameters-value",children:l()})]})]})]})},Gne=()=>{var fe;const r=Tn(),[e,n]=k.useState(""),[a,i]=k.useState("All"),[s,c]=k.useState(!1),[l,u]=k.useState(!1),[o,h]=k.useState({reportType:"",ownership:"",favorites:!1}),[d,A]=k.useState(new Set),f=k.useRef(null),g=k.useRef(null),m=t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"10"}),t.jsx("line",{x1:"18",y1:"20",x2:"18",y2:"4"}),t.jsx("line",{x1:"6",y1:"20",x2:"6",y2:"16"})]}),x=t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),y=t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),b=t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M12 20h9"}),t.jsx("path",{d:"M16.5 3.5a2.1 2.1 0 0 1 3 3L7 19l-4 1 1-4Z"})]}),w=t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"23 4 23 10 17 10"}),t.jsx("polyline",{points:"1 20 1 14 7 14"}),t.jsx("path",{d:"M3.51 9a9 9 0 0 1 14.13-3.36L23 10"}),t.jsx("path",{d:"M20.49 15a9 9 0 0 1-14.13 3.36L1 14"})]}),S=t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"3",width:"15",height:"13"}),t.jsx("polygon",{points:"16 8 20 8 23 11 23 16 16 16 16 8"}),t.jsx("circle",{cx:"5.5",cy:"18.5",r:"2.5"}),t.jsx("circle",{cx:"18.5",cy:"18.5",r:"2.5"})]}),N=t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polygon",{points:"1 6 8 3 16 6 23 3 23 18 16 21 8 18 1 21 1 6"}),t.jsx("line",{x1:"8",y1:"3",x2:"8",y2:"18"}),t.jsx("line",{x1:"16",y1:"6",x2:"16",y2:"21"})]}),C=t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),t.jsx("polyline",{points:"3.29 7 12 12 20.71 7"}),t.jsx("line",{x1:"12",y1:"22",x2:"12",y2:"12"})]}),O=t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 22V6a2 2 0 0 1 2-2h6v18"}),t.jsx("path",{d:"M13 22V10a2 2 0 0 1 2-2h6v14"}),t.jsx("line",{x1:"7",y1:"8",x2:"7",y2:"8"}),t.jsx("line",{x1:"7",y1:"12",x2:"7",y2:"12"}),t.jsx("line",{x1:"17",y1:"12",x2:"17",y2:"12"}),t.jsx("line",{x1:"17",y1:"16",x2:"17",y2:"16"})]}),W=t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),K=t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),te=t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 11l3 3L22 4"}),t.jsx("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"})]}),q=[{id:"All",label:"All Reports",icon:m},{id:"BillingFinance",label:"Billing & Finance",icon:x,children:[{id:"BillingFinance-Invoices",label:"Invoices",icon:y},{id:"BillingFinance-Payments",label:"Payments",icon:x},{id:"BillingFinance-Revenue",label:"Revenue",icon:m},{id:"BillingFinance-Outstanding",label:"Outstanding",icon:m}]},{id:"ContractAgreement",label:"Contract & Agreement",icon:b,children:[{id:"ContractAgreement-Contracts",label:"Contracts",icon:y},{id:"ContractAgreement-Agreements",label:"Agreements",icon:y},{id:"ContractAgreement-Renewals",label:"Renewals",icon:w}]},{id:"OperationsLogistics",label:"Operations & Logistics",icon:S,children:[{id:"OperationsLogistics-Fleet",label:"Fleet",icon:S},{id:"OperationsLogistics-Routes",label:"Routes",icon:N},{id:"OperationsLogistics-Collection",label:"Collection",icon:C},{id:"OperationsLogistics-Barcode",label:"Barcode",icon:m}]},{id:"MasterData",label:"Master Data",icon:K,children:[{id:"MasterData-Company",label:"Company",icon:O},{id:"MasterData-HCF",label:"HCF",icon:K},{id:"MasterData-User",label:"User",icon:W},{id:"MasterData-Fleet",label:"Fleet",icon:S}]},{id:"ComplianceTraining",label:"Compliance & Training",icon:te,children:[{id:"ComplianceTraining-Certificates",label:"Certificates",icon:te},{id:"ComplianceTraining-Compliance",label:"Compliance",icon:te}]}],P=[{id:"invoice-report",category:"BillingFinance",title:"Invoice Report",description:"Generate invoice reports with filters",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),path:"/report/invoice",parameters:["Company","HCF","Date Range","Status","Billing Type"],indicators:["popular"],reportType:"Transactional",ownership:"System",isFavorite:!0},{id:"payment-report",category:"BillingFinance",title:"Payment Report",description:"Track payments and receipts",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),path:"/report/payment",parameters:["Company","Date Range","Payment Status","Payment Mode"],indicators:["popular"],reportType:"Transactional",ownership:"System",isFavorite:!0},{id:"revenue-report",category:"BillingFinance",title:"Revenue Analysis Report",description:"Analyze revenue by period and company",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"10"}),t.jsx("line",{x1:"18",y1:"20",x2:"18",y2:"4"}),t.jsx("line",{x1:"6",y1:"20",x2:"6",y2:"16"})]}),path:"/report/revenue",parameters:["Company","Date Range","Group By","HCF"],indicators:["popular"],reportType:"Analytics",ownership:"System",isFavorite:!0},{id:"outstanding-report",category:"BillingFinance",title:"Outstanding Amount Report",description:"View outstanding payments and aging analysis",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("polyline",{points:"12 6 12 12 16 14"})]}),path:"/report/outstanding",parameters:["Company","HCF","Date Range","Aging Period"],reportType:"Analytics",ownership:"Shared"},{id:"contract-report",category:"ContractAgreement",title:"Contract Report",description:"Generate contract reports with status and dates",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),path:"/report/contract",parameters:["Company","HCF","Status","Date Range","Billing Type"],indicators:["restricted"],reportType:"Transactional",ownership:"Shared"},{id:"agreement-report",category:"ContractAgreement",title:"Agreement Report",description:"View agreement documents and status",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),path:"/report/agreement",parameters:["Company","Contract","Status","Date Range"],reportType:"Transactional",ownership:"My Reports"},{id:"contract-renewal-report",category:"ContractAgreement",title:"Contract Renewal Report",description:"Track contracts due for renewal",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("polyline",{points:"12 6 12 12 16 14"})]}),path:"/report/contract-renewal",parameters:["Company","Renewal Period","Days Before Expiry"],reportType:"Analytics",ownership:"Shared"},{id:"fleet-report",category:"OperationsLogistics",title:"Fleet Management Report",description:"Vehicle and fleet utilization reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),t.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]}),path:"/report/fleet",parameters:["Company","Vehicle Type","Status","Compliance Status"],reportType:"Master",ownership:"System"},{id:"route-report",category:"OperationsLogistics",title:"Route Report",description:"Route performance and assignment reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),t.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),path:"/report/route",parameters:["Company","Route Code","Status","HCF"],indicators:["beta"],reportType:"Master",ownership:"System"},{id:"barcode-report",category:"OperationsLogistics",title:"Barcode Usage Report",description:"Track barcode generation and usage",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("rect",{x:"3",y:"4",width:"18",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"7",y1:"8",x2:"7",y2:"16"}),t.jsx("line",{x1:"11",y1:"8",x2:"11",y2:"16"}),t.jsx("line",{x1:"15",y1:"8",x2:"15",y2:"16"})]}),path:"/report/barcode",parameters:["Company","Status","Date Range","Assigned Entity"],reportType:"Transactional",ownership:"My Reports"},{id:"collection-report",category:"OperationsLogistics",title:"Waste Collection Report",description:"Daily/weekly/monthly collection reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),t.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),t.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]}),path:"/report/collection",parameters:["Company","HCF","Date Range","Route","Weight Range"],indicators:["popular"],reportType:"Transactional",ownership:"System",isFavorite:!0},{id:"company-report",category:"MasterData",title:"Company Master Report",description:"Company information and details report",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),path:"/report/company",parameters:["Status","State","PCB Zone","GST Status"],reportType:"Master",ownership:"System"},{id:"hcf-report",category:"MasterData",title:"HCF Master Report",description:"Healthcare facility information report",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"9",cy:"7",r:"4"}),t.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),t.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),path:"/report/hcf",parameters:["Company","HCF Type","Status","State","District","Category"],reportType:"Master",ownership:"System"},{id:"user-report",category:"MasterData",title:"User Report",description:"User and role assignment reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),path:"/report/user",parameters:["Company","Role","Status","Employment Type","Department"],indicators:["restricted"],reportType:"Master",ownership:"Shared"},{id:"fleet-master-report",category:"MasterData",title:"Fleet Master Report",description:"Vehicle master data report",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),t.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]}),path:"/report/fleet-master",parameters:["Company","Vehicle Make","Status","Compliance Status","Owner Type"],reportType:"Master",ownership:"System"},{id:"training-certificate-report",category:"ComplianceTraining",title:"Training Certificate Report",description:"Staff training and certification reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),path:"/report/training-certificate",parameters:["Company","HCF","Training Date Range","Status","Staff Designation"],reportType:"Transactional",ownership:"Shared"},{id:"compliance-report",category:"ComplianceTraining",title:"Compliance Status Report",description:"Compliance tracking and status reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),path:"/report/compliance",parameters:["Company","HCF","Compliance Type","Status","Date Range"],reportType:"Analytics",ownership:"System"}].filter(Te=>{const Ie=Te.title.toLowerCase().includes(e.toLowerCase())||Te.description.toLowerCase().includes(e.toLowerCase())||Te.parameters.some(Oe=>Oe.toLowerCase().includes(e.toLowerCase())),_e=a==="All"||Te.category===a||a.startsWith(Te.category+"-"),Z=(!o.reportType||Te.reportType===o.reportType)&&(!o.ownership||Te.ownership===o.ownership)&&(!o.favorites||d.has(Te.id)||Te.isFavorite);return Ie&&_e&&Z});k.useEffect(()=>{const Te=Ie=>{f.current&&!f.current.contains(Ie.target)&&c(!1),g.current&&!g.current.contains(Ie.target)&&(Ie.target.closest(".filters-toggle-btn")||u(!1))};return document.addEventListener("mousedown",Te),()=>document.removeEventListener("mousedown",Te)},[]);const ce=()=>{if(a==="All")return"All Reports";const Te=(_e,Z)=>{for(const Oe of _e){if(Oe.id===Z)return Oe;if(Oe.children){const ee=Te(Oe.children,Z);if(ee)return ee}}return null},Ie=Te(q,a);return(Ie==null?void 0:Ie.label)||"All Reports"},$=Te=>{i(Te),c(!1)},R=()=>{let Te=0;return o.reportType&&Te++,o.ownership&&Te++,o.favorites&&Te++,Te},se=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname==="/transaction"||r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname==="/finance"||r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname==="/commercial-agreements"||r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:r.pathname==="/compliance-training"||r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Masters",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(Nc,{navItems:se,children:t.jsxs("div",{className:"reports-page",children:[t.jsx("div",{className:"reports-header",children:t.jsx("div",{className:"reports-header-content",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Dashboard / Reports"})})})}),l&&t.jsxs("div",{className:"filters-drawer-compact",ref:g,children:[t.jsxs("div",{className:"filters-drawer-header-compact",children:[t.jsx("h3",{children:"Filters"}),t.jsx("button",{className:"filters-drawer-close",onClick:()=>u(!1),"aria-label":"Close filters",children:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("div",{className:"filters-drawer-content-compact",children:[t.jsxs("div",{className:"filter-section-compact",children:[t.jsx("label",{className:"filter-section-label",children:"Report Type"}),t.jsxs("div",{className:"filter-segmented-buttons",children:[t.jsx("button",{className:`segmented-btn ${o.reportType?"":"active"}`,onClick:()=>h({...o,reportType:""}),children:"All"}),t.jsx("button",{className:`segmented-btn ${o.reportType==="Transactional"?"active":""}`,onClick:()=>h({...o,reportType:"Transactional"}),children:"Transactional"}),t.jsx("button",{className:`segmented-btn ${o.reportType==="Master"?"active":""}`,onClick:()=>h({...o,reportType:"Master"}),children:"Master"}),t.jsx("button",{className:`segmented-btn ${o.reportType==="Analytics"?"active":""}`,onClick:()=>h({...o,reportType:"Analytics"}),children:"Analytics"})]})]}),t.jsxs("div",{className:"filter-section-compact",children:[t.jsx("label",{className:"filter-section-label",children:"Ownership"}),t.jsxs("div",{className:"filter-segmented-buttons",children:[t.jsx("button",{className:`segmented-btn ${o.ownership?"":"active"}`,onClick:()=>h({...o,ownership:""}),children:"All"}),t.jsx("button",{className:`segmented-btn ${o.ownership==="My Reports"?"active":""}`,onClick:()=>h({...o,ownership:"My Reports"}),children:"My Reports"}),t.jsx("button",{className:`segmented-btn ${o.ownership==="Shared"?"active":""}`,onClick:()=>h({...o,ownership:"Shared"}),children:"Shared"}),t.jsx("button",{className:`segmented-btn ${o.ownership==="System"?"active":""}`,onClick:()=>h({...o,ownership:"System"}),children:"System"})]})]}),t.jsxs("div",{className:"filter-section-compact",children:[t.jsx("label",{className:"filter-section-label",children:"Favorites"}),t.jsxs("div",{className:"filter-toggle-wrapper",children:[t.jsx("button",{className:`filter-toggle-btn ${o.favorites?"active":""}`,onClick:()=>h({...o,favorites:!o.favorites}),"aria-pressed":o.favorites,children:t.jsx("span",{className:"filter-toggle-slider"})}),t.jsx("span",{className:"filter-toggle-label",children:o.favorites?"Show favorites only":"Show all reports"})]})]}),R()>0&&t.jsx("div",{className:"filters-drawer-actions-compact",children:t.jsx("button",{className:"filter-clear-btn-compact",onClick:()=>h({reportType:"",ownership:"",favorites:!1}),children:"Clear All"})})]})]}),t.jsxs("div",{className:"reports-content-wrapper",children:[t.jsx("div",{className:"reports-title-section",children:t.jsx("h1",{className:"reports-title",children:"Reports"})}),t.jsxs("div",{className:"reports-search-section",children:[t.jsxs("div",{className:"reports-search-box",children:[t.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"reports-search-input",placeholder:"Search reports...",value:e,onChange:Te=>n(Te.target.value),"aria-label":"Search reports"})]}),t.jsxs("div",{className:"category-popover-wrapper",ref:f,children:[t.jsxs("button",{className:"category-popover-toggle",onClick:()=>c(!s),"aria-expanded":s,children:[t.jsx("span",{className:"category-icon",children:((fe=q.find(Te=>Te.id===a))==null?void 0:fe.icon)||m}),t.jsx("span",{className:"category-label",children:ce()}),t.jsx("svg",{className:"category-arrow",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),s&&t.jsx("div",{className:"category-popover",children:q.map(Te=>t.jsxs("div",{className:"category-group",children:[t.jsxs("button",{className:`category-item ${a===Te.id?"active":""}`,onClick:()=>!Te.children&&$(Te.id),children:[t.jsx("span",{className:"category-item-icon",children:Te.icon}),t.jsx("span",{className:"category-item-label",children:Te.label}),Te.children&&t.jsx("svg",{className:"category-expand-icon",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"9 18 15 12 9 6"})})]}),Te.children&&t.jsx("div",{className:"category-children",children:Te.children.map(Ie=>t.jsxs("button",{className:`category-item category-child ${a===Ie.id?"active":""}`,onClick:()=>$(Ie.id),children:[t.jsx("span",{className:"category-item-icon",children:Ie.icon}),t.jsx("span",{className:"category-item-label",children:Ie.label})]},Ie.id))})]},Te.id))})]}),t.jsxs("button",{className:"filters-toggle-btn",onClick:()=>u(!l),"aria-expanded":l,children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),t.jsx("span",{children:"Filters"}),R()>0&&t.jsx("span",{className:"filter-count-badge",children:R()})]}),t.jsxs("span",{className:"results-count-inline",children:[P.length," report",P.length!==1?"s":""]})]}),t.jsx("div",{className:"reports-grid-container",children:t.jsxs("div",{className:"reports-grid",children:[P.map(Te=>t.jsx(Kne,{id:Te.id,title:Te.title,description:Te.description,icon:Te.icon,path:Te.path,parameters:Te.parameters,indicators:Te.indicators},Te.id)),P.length===0&&t.jsxs("div",{className:"reports-empty-state",children:[t.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("h3",{children:"No reports found"}),t.jsx("p",{children:"Try adjusting your search or filter criteria"})]})]})})]})]})})},qne=()=>{const{logout:r,permissions:e}=da(),n=Tn(),[a,i]=k.useState(""),[s,c]=k.useState(!1),l=()=>{c(!s)},u=us(e,n.pathname),h=[{id:"invoice-generation",title:"Invoice Generation & Printing",description:"Generate and print invoices for services",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),path:"/report/invoice"},{id:"unbilled-services",title:"Unbilled Services Report",description:"View services that are yet to be billed",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/invoice"},{id:"outstanding-payments",title:"Outstanding Payments Report",description:"Track outstanding payment amounts",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/billing-finance/outstanding-payments"},{id:"pending-payments",title:"Pending Payments Report (Period & Executive-Wise)",description:"View pending payments by period and executive",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/payment"},{id:"cost-revenue-analysis",title:"Cost & Revenue Analysis Report",description:"Analyze costs and revenue trends",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/revenue"}].filter(d=>d.title.toLowerCase().includes(a.toLowerCase())||d.description.toLowerCase().includes(a.toLowerCase()));return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${s?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!s&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:l,"aria-label":s?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:u.map(d=>t.jsx("li",{children:t.jsxs(Yr,{to:d.path,className:`nav-link ${d.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:d.icon}),!s&&t.jsx("span",{className:"nav-label",children:d.label})]})},d.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Yr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!s&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!s&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Dashboard / Reports / Billing & Finance Reports"})})}),t.jsxs("div",{className:"master-page",children:[t.jsx("div",{className:"master-header",children:t.jsxs("div",{className:"master-title-section",children:[t.jsx("h1",{className:"master-title",children:"Billing & Finance Reports"}),t.jsx("p",{className:"master-subtitle",children:"Manage your billing and finance reports"})]})}),t.jsx("div",{className:"master-search-section",children:t.jsxs("div",{className:"master-search-box",children:[t.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:a,onChange:d=>i(d.target.value)})]})}),t.jsx("div",{className:"master-grid",children:h.map(d=>t.jsxs(Yr,{to:d.path,className:"master-card",children:[t.jsx("div",{className:"master-card-icon",children:d.icon}),t.jsx("h3",{className:"master-card-title",children:d.title}),t.jsx("p",{className:"master-card-description",children:d.description})]},d.id))})]})]})]})},Xne=()=>{const{logout:r,permissions:e}=da(),n=Tn(),[a,i]=k.useState(""),[s,c]=k.useState(!1),l=()=>{c(!s)},u=us(e,n.pathname),h=[{id:"route-trip-sheet",title:"Route Trip Sheet / Trip Manifest",description:"View route trip sheets and trip manifests",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),path:"/report/operations-logistics/route-trip-sheet"},{id:"waste-collection-transactions",title:"Waste Collection Transactions",description:"Track waste collection transaction details",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/operations-logistics/waste-collection-transactions"},{id:"missed-collection",title:"Missed Collection Report",description:"View reports of missed waste collections",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/operations-logistics/missed-collection"},{id:"pcb-zone-waste-generation",title:"PCB Zone-Wise Waste Generation Report",description:"Analyze waste generation by PCB zones",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/operations-logistics/pcb-zone-waste-generation"}].filter(d=>d.title.toLowerCase().includes(a.toLowerCase())||d.description.toLowerCase().includes(a.toLowerCase()));return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${s?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!s&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:l,"aria-label":s?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:u.map(d=>t.jsx("li",{children:t.jsxs(Yr,{to:d.path,className:`nav-link ${d.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:d.icon}),!s&&t.jsx("span",{className:"nav-label",children:d.label})]})},d.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Yr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!s&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!s&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Dashboard / Reports / Operations & Logistics"})})}),t.jsxs("div",{className:"master-page",children:[t.jsx("div",{className:"master-header",children:t.jsxs("div",{className:"master-title-section",children:[t.jsx("h1",{className:"master-title",children:"Operations & Logistics"}),t.jsx("p",{className:"master-subtitle",children:"Manage your operations and logistics reports"})]})}),t.jsx("div",{className:"master-search-section",children:t.jsxs("div",{className:"master-search-box",children:[t.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:a,onChange:d=>i(d.target.value)})]})}),t.jsx("div",{className:"master-grid",children:h.map(d=>t.jsxs(Yr,{to:d.path,className:"master-card",children:[t.jsx("div",{className:"master-card-icon",children:d.icon}),t.jsx("h3",{className:"master-card-title",children:d.title}),t.jsx("p",{className:"master-card-description",children:d.description})]},d.id))})]})]})]})},Yne=()=>{const{logout:r,permissions:e}=da(),n=Tn(),[a,i]=k.useState(""),[s,c]=k.useState(!1),l=()=>{c(!s)},u=us(e,n.pathname),h=[{id:"hcf-service-history",title:"HCF Service History Report",description:"View complete service history for Healthcare Facilities",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),path:"/report/hcf-compliance/service-history"},{id:"hcf-status-report",title:"Active / Inactive HCF Status Report",description:"Monitor active and inactive Healthcare Facility status",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/hcf-compliance/status-report"},{id:"agreements-renewal",title:"Agreements Due for Renewal (Current Month)",description:"Track agreements that need renewal this month",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/hcf-compliance/agreements-renewal"},{id:"training-certification",title:"Training & Certification Records",description:"Manage training and certification documentation",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/hcf-compliance/training-certification"}].filter(d=>d.title.toLowerCase().includes(a.toLowerCase())||d.description.toLowerCase().includes(a.toLowerCase()));return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${s?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!s&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:l,"aria-label":s?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:u.map(d=>t.jsx("li",{children:t.jsxs(Yr,{to:d.path,className:`nav-link ${d.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:d.icon}),!s&&t.jsx("span",{className:"nav-label",children:d.label})]})},d.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Yr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!s&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!s&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Dashboard / Reports / HCF & Compliance"})})}),t.jsxs("div",{className:"master-page",children:[t.jsx("div",{className:"master-header",children:t.jsxs("div",{className:"master-title-section",children:[t.jsx("h1",{className:"master-title",children:"HCF & Compliance"}),t.jsx("p",{className:"master-subtitle",children:"Manage your HCF and compliance reports"})]})}),t.jsx("div",{className:"master-search-section",children:t.jsxs("div",{className:"master-search-box",children:[t.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:a,onChange:d=>i(d.target.value)})]})}),t.jsx("div",{className:"master-grid",children:h.map(d=>t.jsxs(Yr,{to:d.path,className:"master-card",children:[t.jsx("div",{className:"master-card-icon",children:d.icon}),t.jsx("h3",{className:"master-card-title",children:d.title}),t.jsx("p",{className:"master-card-description",children:d.description})]},d.id))})]})]})]})},Zne=()=>{const[r,e]=k.useState({page:1,pageSize:25,invoiceFromDate:"",invoiceToDate:"",companyId:"",hcfId:"",status:"All",billingType:"All",searchText:"",sortBy:"invoiceDate",sortOrder:"DESC"}),[n,a]=k.useState({invoiceFromDate:"",invoiceToDate:"",companyId:"",hcfId:"",status:"All",billingType:"All"}),i=k.useCallback((A,f)=>{e(g=>({...g,[A]:f}))},[]),s=k.useCallback((A,f)=>{a(g=>({...g,[A]:f}))},[]),c=k.useCallback(()=>{e(A=>({...A,invoiceFromDate:n.invoiceFromDate||"",invoiceToDate:n.invoiceToDate||"",companyId:n.companyId||"",hcfId:n.hcfId||"",status:n.status||"All",billingType:n.billingType||"All",page:1}))},[n]),l=k.useCallback(()=>{const A={page:1,pageSize:r.pageSize||25,invoiceFromDate:"",invoiceToDate:"",companyId:"",hcfId:"",status:"All",billingType:"All",searchText:"",sortBy:"invoiceDate",sortOrder:"DESC"};e(A),a({invoiceFromDate:"",invoiceToDate:"",companyId:"",hcfId:"",status:"All",billingType:"All"})},[r.pageSize]),u=k.useCallback((A,f)=>{e(g=>({...g,page:A,...f!==void 0&&{pageSize:f}}))},[]),o=k.useCallback(A=>{e(f=>({...f,searchText:A,page:1}))},[]),h=k.useCallback(()=>{var A;return!!(r.invoiceFromDate||r.invoiceToDate||r.companyId||r.hcfId||r.status&&r.status!=="All"||r.billingType&&r.billingType!=="All"||(A=r.searchText)!=null&&A.trim())},[r]),d=k.useCallback(()=>{var f;const A={page:r.page||1,pageSize:r.pageSize||25,sortBy:r.sortBy||"invoiceDate",sortOrder:r.sortOrder||"DESC"};return r.invoiceFromDate&&(A.invoiceFromDate=r.invoiceFromDate),r.invoiceToDate&&(A.invoiceToDate=r.invoiceToDate),r.companyId&&(A.companyId=r.companyId),r.hcfId&&(A.hcfId=r.hcfId),r.status&&r.status!=="All"&&(A.status=r.status),r.billingType&&r.billingType!=="All"&&(A.billingType=r.billingType),(f=r.searchText)!=null&&f.trim()&&(A.searchText=r.searchText.trim()),A},[r]);return{filters:r,pendingFilters:n,updateFilter:i,updatePendingFilter:s,applyFilters:c,clearFilters:l,updatePagination:u,updateSearchText:o,hasFiltersApplied:h,buildApiFilters:d}},Yj=()=>{const r=Tn(),e=Ka(),{filters:n,pendingFilters:a,updatePendingFilter:i,applyFilters:s,clearFilters:c,updatePagination:l,updateSearchText:u,hasFiltersApplied:o,buildApiFilters:h}=Zne(),[d,A]=k.useState(!1),f=n.searchText||"",[g,m]=k.useState([]),[x,y]=k.useState([]),[b,w]=k.useState([]),[S,N]=k.useState([]),[C,O]=k.useState(!1),[W,K]=k.useState(!1),[te,q]=k.useState(null),Y=n.page||1,P=n.pageSize||25,ce=k.useRef(null),$=k.useRef(null),[R,se]=k.useState(null),[fe,Te]=k.useState({totalInvoices:0,totalAmount:0,paidAmount:0,balanceAmount:0});k.useEffect(()=>{(async()=>{try{const[ue,$e]=await Promise.all([Ha.getAllCompanies(),Fs.getAllHcfs()]);m(ue),y($e)}catch(ue){console.error("Error loading master data:",ue)}})()},[]);const Ie=n.companyId?x.filter(Ce=>Ce.companyId===n.companyId):x,_e=()=>{if(!o())return"No filters applied. Select a date range or search to view invoices.";const Ce=[];if(n.invoiceFromDate&&n.invoiceToDate){const ue=new Date(n.invoiceFromDate),$e=new Date(n.invoiceToDate),it=new Date,Et=it.getMonth(),Ct=it.getFullYear();if(ue.getMonth()===Et&&ue.getFullYear()===Ct&&$e.getMonth()===Et&&$e.getFullYear()===Ct)Ce.push("Current Month");else{const Bt=ue.toLocaleDateString("en-US",{month:"short",day:"numeric"}),mr=$e.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});Ce.push(`${Bt} - ${mr}`)}}else if(n.invoiceFromDate||n.invoiceToDate){if(n.invoiceFromDate){const ue=new Date(n.invoiceFromDate);Ce.push(`From ${ue.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}if(n.invoiceToDate){const ue=new Date(n.invoiceToDate);Ce.push(`To ${ue.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}}if(n.companyId){const ue=g.find($e=>$e.id===n.companyId);Ce.push(ue?ue.companyName:"Selected Company")}else Ce.push("All Companies");if(n.hcfId){const ue=Ie.find($e=>$e.id===n.hcfId);Ce.push(ue?ue.hcfName:"Selected HCF")}else Ce.push("All HCFs");return n.status&&n.status!=="All"?Ce.push(n.status):Ce.push("All Status"),`Showing invoices for: ${Ce.join("  ")}`},Z=[{value:"All",label:"All Status"},{value:"Draft",label:"Draft"},{value:"Generated",label:"Generated"},{value:"Partially Paid",label:"Partially Paid"},{value:"Paid",label:"Paid"},{value:"Cancelled",label:"Cancelled"}],Oe=[{value:"All",label:"All Types"},{value:"Monthly",label:"Monthly"},{value:"Quarterly",label:"Quarterly"},{value:"Yearly",label:"Yearly"}],ee=Ce=>{N(Ce),re(Ce)};k.useEffect(()=>{var Ce;!W&&!C&&!((Ce=n.searchText)!=null&&Ce.trim())&&!o()&&Ne()},[]),k.useEffect(()=>{var ue;if(C||!W&&!((ue=n.searchText)!=null&&ue.trim())&&!o())return;const Ce=setTimeout(()=>{C||Ne()},500);return()=>clearTimeout(Ce)},[n.searchText,n.invoiceFromDate,n.invoiceToDate,n.companyId,n.hcfId,n.status,n.billingType,n.page,n.pageSize]);const re=Ce=>{const ue=Ce.length,$e=Ce.reduce((Ct,Bt)=>Ct+(Bt.invoiceValue||0),0),it=Ce.reduce((Ct,Bt)=>Ct+(Bt.totalPaidAmount||0),0),Et=Ce.reduce((Ct,Bt)=>Ct+(Bt.balanceAmount||0),0);Te({totalInvoices:ue,totalAmount:$e,paidAmount:it,balanceAmount:Et})},je=async()=>{var ue,$e;s(),A(!1);const Ce={page:1,pageSize:n.pageSize||25,sortBy:n.sortBy||"invoiceDate",sortOrder:n.sortOrder||"DESC"};a.invoiceFromDate&&(Ce.invoiceFromDate=a.invoiceFromDate),a.invoiceToDate&&(Ce.invoiceToDate=a.invoiceToDate),a.companyId&&(Ce.companyId=a.companyId),a.hcfId&&(Ce.hcfId=a.hcfId),a.status&&a.status!=="All"&&(Ce.status=a.status),a.billingType&&a.billingType!=="All"&&(Ce.billingType=a.billingType),(ue=n.searchText)!=null&&ue.trim()&&(Ce.searchText=n.searchText.trim()),O(!0),q(null);try{const it=await Y0(Ce);if(!it||!it.data||!Array.isArray(it.data))throw console.error("Invalid response structure:",it),new Error("Invalid response format from server");if(!it.meta)throw console.error("Missing meta in response:",it),new Error("Missing pagination metadata in response");let Et=(it.data||[]).map(lr=>({id:lr.invoiceId,invoiceNumber:lr.invoiceNumber,invoiceDate:lr.invoiceDate,dueDate:lr.dueDate,companyId:lr.companyId,companyName:lr.companyName,hcfId:lr.hcfId,hcfName:lr.hcfName,hcfCode:lr.hcfCode,billingType:lr.billingType,invoiceValue:lr.invoiceValue,totalPaidAmount:lr.totalPaidAmount,balanceAmount:lr.balanceAmount,status:lr.status}));w(Et),ee(Et),K(!0);const Ct=Et.reduce((lr,He)=>lr+(He.invoiceValue||0),0),Bt=Et.reduce((lr,He)=>lr+(He.totalPaidAmount||0),0),mr=Et.reduce((lr,He)=>lr+(He.balanceAmount||0),0);Te({totalInvoices:(($e=it.meta)==null?void 0:$e.totalRecords)||0,totalAmount:Ct,paidAmount:Bt,balanceAmount:mr})}catch(it){console.error("Error applying filters:",it),q(it.message||"Failed to apply filters")}finally{O(!1)}},Ne=async()=>{var Ce,ue,$e,it,Et;O(!0),q(null);try{const Ct=h(),Bt=await Y0(Ct);if(Ct.searchText&&Bt.data.length===0&&((Ce=Bt==null?void 0:Bt.meta)==null?void 0:Ce.state)==="HAS_RESULTS"&&((ue=Bt==null?void 0:Bt.meta)==null?void 0:ue.totalRecords)===0)try{const vr={...Ct};delete vr.searchText,vr.page=1,vr.pageSize=100;let an=[],Xr=1;const Qr=5;for(;Xr<=Qr;){vr.page=Xr;const Ir=await Y0(vr);if(Ir!=null&&Ir.data&&Ir.data.length>0){if(an=an.concat(Ir.data),Ir.data.length<vr.pageSize)break;Xr++}else break}if(an.length>0){const Ir=Ct.searchText.toLowerCase().trim(),hr=an.filter(pr=>{const Lr=(pr.invoiceNumber||"").toLowerCase(),$r=(pr.companyName||"").toLowerCase(),dn=(pr.hcfCode||"").toLowerCase(),zr=(pr.status||"").toLowerCase();return Lr.includes(Ir)||$r.includes(Ir)||dn.includes(Ir)||zr.includes(Ir)||pr.invoiceValue&&pr.invoiceValue.toString().includes(Ir)});hr.length>0&&(Bt.data=hr,Bt.meta&&(Bt.meta.totalRecords=hr.length,Bt.meta.dataCount=hr.length,Bt.meta.state=hr.length>0?"HAS_RESULTS":"NO_RESULTS",Bt.meta.totalPages=Math.ceil(hr.length/(Ct.pageSize||25))))}}catch(vr){console.error("Client-side fallback failed:",vr)}if(!Bt||!Bt.data||!Array.isArray(Bt.data))throw console.error("Invalid response structure:",Bt),new Error("Invalid response format from server");if(!Bt.meta)throw console.error("Missing meta in response:",Bt),new Error("Missing pagination metadata in response");const lr=(Bt.data||[]).map(vr=>({invoiceId:vr.invoiceId,companyId:vr.companyId,hcfId:vr.hcfId,invoiceNumber:vr.invoiceNumber,invoiceDate:vr.invoiceDate,dueDate:vr.dueDate,billingType:vr.billingType,billingDays:null,billingOption:"Bed-wise",generationType:"Manual",bedCount:null,bedRate:null,weightInKg:null,kgRate:null,lumpsumAmount:null,taxableValue:0,igst:0,cgst:0,sgst:0,roundOff:0,invoiceValue:vr.invoiceValue,totalPaidAmount:vr.totalPaidAmount,balanceAmount:vr.balanceAmount,status:vr.status,isLocked:!1,lockedAfterDate:null,financialYear:"",sequenceNumber:0,billingPeriodStart:null,billingPeriodEnd:null,notes:null,createdBy:null,createdOn:new Date().toISOString(),modifiedBy:null,modifiedOn:new Date().toISOString(),companyName:vr.companyName,companyCode:vr.companyCode,hcfName:vr.hcfName,hcfCode:vr.hcfCode}))||[];w(()=>lr),N(()=>lr),K(()=>!0),Bt.meta&&!f.trim()?l(Bt.meta.page):Bt.meta&&f.trim()&&l(Y===1?1:Bt.meta.page);const He=Bt.data||[],$t=He.reduce((vr,an)=>vr+(an.invoiceValue||0),0),Nt=He.reduce((vr,an)=>vr+(an.totalPaidAmount||0),0),Dr=He.reduce((vr,an)=>vr+(an.balanceAmount||0),0);Te({totalInvoices:(($e=Bt.meta)==null?void 0:$e.totalRecords)||0,totalAmount:$t,paidAmount:Nt,balanceAmount:Dr}),A(!1),setTimeout(()=>{var vr;(vr=ce.current)==null||vr.scrollIntoView({behavior:"smooth",block:"start"})},100)}catch(Ct){console.error("Error generating report:",Ct),q(Ct.message||"Failed to generate report"),((it=Ct.message)!=null&&it.includes("Invalid response")||(Et=Ct.message)!=null&&Et.includes("Missing"))&&(w([]),N([]),K(!1)),console.error("Report error:",Ct)}finally{O(!1)}},ye=async()=>{c(),A(!1),await Ne()},me=Ce=>Ce==null?"0.00":`${Ce.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`,ie=Ce=>Ce?new Date(Ce).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",le=Ce=>{switch(Ce){case"Paid":return"status-badge status-badge--paid";case"Partially Paid":return"status-badge status-badge--partial";case"Generated":return"status-badge status-badge--generated";case"Draft":return"status-badge status-badge--draft";case"Cancelled":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},Ee=W&&fe.totalInvoices>0?Math.ceil(fe.totalInvoices/P):0;(Y-1)*P+((S==null?void 0:S.length)||0);const Ue=S||[],de=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(Nc,{navItems:de,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Invoice Generation & Printing"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Invoice Generation & Printing Report"}),!o()&&t.jsx("div",{className:"page-context-subtitle",children:_e()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${C?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Invoice Number, Company, HCF, Status, or Amount",value:f,onChange:Ce=>u(Ce.target.value),onKeyDown:Ce=>{Ce.key==="Enter"&&!C&&(Ce.preventDefault(),Ne())},disabled:C}),f&&!C&&t.jsx("button",{className:"clear-search-btn",onClick:async()=>{u(""),(W||o())&&await Ne()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:$,className:`btn btn-filters-toggle ${d?"active":""} ${C?"loading":""}`,onClick:()=>{if(!C){if(d||(i("companyId",n.companyId||""),i("hcfId",n.hcfId||""),i("status",n.status||"All"),i("billingType",n.billingType||"All"),i("invoiceFromDate",n.invoiceFromDate||""),i("invoiceToDate",n.invoiceToDate||"")),$.current){const Ce=$.current.getBoundingClientRect();se({top:Ce.bottom+8,left:Ce.left})}A(!d)}},disabled:C,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfId,n.status&&n.status!=="All"?n.status:"",n.billingType&&n.billingType!=="All"?n.billingType:"",n.invoiceFromDate,n.invoiceToDate].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfId,n.status&&n.status!=="All"?n.status:"",n.billingType&&n.billingType!=="All"?n.billingType:"",n.invoiceFromDate,n.invoiceToDate].filter(Boolean).length})]})]}),d&&Qc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{A(!1),se(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:Ce=>Ce.stopPropagation(),style:R?{position:"fixed",top:`${R.top}px`,left:`${R.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{i("companyId",""),i("hcfId",""),i("invoiceFromDate",""),i("invoiceToDate",""),i("status","All"),i("billingType","All")},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>A(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Invoice Date"}),t.jsxs("div",{className:"filter-date-range",children:[t.jsx("input",{type:"date",className:"filter-modal-input",value:a.invoiceFromDate||"",onChange:Ce=>i("invoiceFromDate",Ce.target.value),placeholder:"Select Date"}),t.jsx("span",{className:"filter-date-separator",children:"to"}),t.jsx("input",{type:"date",className:"filter-modal-input",value:a.invoiceToDate||"",onChange:Ce=>i("invoiceToDate",Ce.target.value),placeholder:"Select Date"})]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:a.companyId||"",onChange:Ce=>{i("companyId",Ce.target.value),i("hcfId","")},children:[t.jsx("option",{value:"",children:"Select Company Name"}),g.map(Ce=>t.jsxs("option",{value:Ce.id,children:[Ce.companyCode," - ",Ce.companyName]},Ce.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),t.jsxs("select",{className:"filter-modal-select",value:a.hcfId||"",onChange:Ce=>i("hcfId",Ce.target.value),disabled:!a.companyId,children:[t.jsx("option",{value:"",children:"Select HCF Name"}),(a.companyId?x.filter(Ce=>Ce.companyId===a.companyId):x).map(Ce=>t.jsxs("option",{value:Ce.id,children:[Ce.hcfCode," - ",Ce.hcfName]},Ce.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Status"}),t.jsx("select",{className:"filter-modal-select",value:a.status||"All",onChange:Ce=>i("status",Ce.target.value),children:Z.map(Ce=>t.jsx("option",{value:Ce.value,children:Ce.label},Ce.value))})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Billing Type"}),t.jsx("select",{className:"filter-modal-select",value:a.billingType||"All",onChange:Ce=>i("billingType",Ce.target.value),children:Oe.map(Ce=>t.jsx("option",{value:Ce.value,children:Ce.label},Ce.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await je(),A(!1)},disabled:C,children:C?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),t.jsxs("div",{className:"results-section",ref:ce,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Invoice No"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"HCF"}),t.jsx("th",{children:"Invoice Date"}),t.jsx("th",{children:"Billing Type"}),t.jsx("th",{className:"text-right",children:"Invoice Amount"}),t.jsx("th",{className:"text-right",children:"Paid Amount"}),t.jsx("th",{className:"text-right",children:"Balance"}),t.jsx("th",{className:"text-center",children:"Status"})]})}),t.jsx("tbody",{className:"table-body",children:C?Array.from({length:5}).map((Ce,ue)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{className:"text-right",children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{className:"text-right",children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{className:"text-right",children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${ue}`)):W?Ue.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:9,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No invoices found"}),t.jsx("p",{className:"empty-state-text",children:f.trim()?`No invoices match "${f.trim()}". Try adjusting your search or filters.`:o()?"No invoices match the current filters. Try adjusting your filter criteria.":"No invoices available. Use the search bar or apply filters to view reports."}),(o()||f.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:ye,children:"Clear Filters"})})]})})}):Ue.map((Ce,ue)=>t.jsxs("tr",{className:ue%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:Ce.invoiceNumber}),t.jsx("td",{children:Ce.companyName||"N/A"}),t.jsx("td",{children:Ce.hcfCode||"N/A"}),t.jsx("td",{children:ie(Ce.invoiceDate)}),t.jsx("td",{children:Ce.billingType}),t.jsx("td",{className:"text-right",children:me(Ce.invoiceValue)}),t.jsx("td",{className:"text-right",children:me(Ce.totalPaidAmount)}),t.jsx("td",{className:"text-right",children:me(Ce.balanceAmount)}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:le(Ce.status),children:Ce.status})})]},Ce.invoiceId)):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:9,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No invoices found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view invoice reports"})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:W&&S.length>0?`Showing ${P} of ${fe.totalInvoices} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:P,disabled:!W||S.length===0,onChange:async Ce=>{l(1,Number(Ce.target.value)),W&&await Ne()},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Ce=Math.max(1,Y-1);l(Ce),W&&await Ne()},disabled:Y===1||!W||S.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const Ce=[];let $e=Math.max(1,Y-Math.floor(2.5)),it=Math.min(Ee,$e+5-1);it-$e<4&&($e=Math.max(1,it-5+1)),$e>1&&(Ce.push(1),$e>2&&Ce.push("..."));for(let Et=$e;Et<=it;Et++)Ce.push(Et);return it<Ee&&(it<Ee-1&&Ce.push("..."),Ce.push(Ee)),Ce.map((Et,Ct)=>{if(Et==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${Ct}`);const Bt=Et;return t.jsx("button",{className:`pagination-page-btn ${Y===Bt?"active":""}`,onClick:async()=>{l(Bt),W&&await Ne()},disabled:!W||S.length===0,children:Bt},Bt)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Ce=Math.min(Ee,Y+1);l(Ce),W&&await Ne()},disabled:Y===Ee||Ee===0||!W||S.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Jne=()=>{const r=Tn(),e=Ka(),[n,a]=k.useState({page:1,pageSize:25,fromDate:"",toDate:"",companyId:"",hcfId:"",status:"All",billingType:"All",searchText:"",sortBy:"startDate",sortOrder:"DESC"}),[i,s]=k.useState({fromDate:"",toDate:"",companyId:"",hcfId:"",status:"All",billingType:"All"}),[c,l]=k.useState(!1),u=n.searchText||"",[o,h]=k.useState([]),[d,A]=k.useState([]),[f,g]=k.useState([]),[m,x]=k.useState([]),[y,b]=k.useState(!1),[w,S]=k.useState(!1),[N,C]=k.useState(null),O=n.page||1,W=n.pageSize||25,K=k.useRef(null),te=k.useRef(null),[q,Y]=k.useState(null),[P,ce]=k.useState({totalContracts:0});k.useEffect(()=>{(async()=>{try{const[ie,le]=await Promise.all([Ha.getAllCompanies(),Fs.getAllHcfs()]);h(ie),A(le)}catch(ie){console.error("Error loading master data:",ie)}})()},[]);const $=n.companyId?d.filter(me=>me.companyId===n.companyId):d,R=()=>{var me;return!!(n.fromDate||n.toDate||n.companyId||n.hcfId||n.status&&n.status!=="All"||n.billingType&&n.billingType!=="All"||(me=n.searchText)!=null&&me.trim())},se=()=>{if(!R())return"No filters applied. Select a date range or search to view contracts.";const me=[];if(n.fromDate&&n.toDate){const ie=new Date(n.fromDate),le=new Date(n.toDate),Ee=ie.toLocaleDateString("en-US",{month:"short",day:"numeric"}),Re=le.toLocaleDateString("en-US",{month:"short",day:"numeric"});me.push(`Date: ${Ee}${Re}`)}if(n.companyId){const ie=o.find(le=>le.id===n.companyId);ie&&me.push(`Company: ${ie.companyName}`)}if(n.hcfId){const ie=$.find(le=>le.id===n.hcfId);ie&&me.push(`HCF: ${ie.hcfCode}`)}return n.status&&n.status!=="All"&&me.push(`Status: ${n.status}`),me.join("  ")},fe=[{value:"All",label:"All Status"},{value:"Draft",label:"Draft"},{value:"Active",label:"Active"},{value:"Expired",label:"Expired"}],Te=[{value:"All",label:"All Types"},{value:"Bed",label:"Bed"},{value:"Kg",label:"Kg"},{value:"Lumpsum",label:"Lumpsum"}],Ie=async()=>{var me;b(!0),C(null);try{const ie={companyId:n.companyId||void 0,status:n.status!=="All"?n.status:void 0};let le=await lf.getAllContracts(ie.companyId,ie.status);if(n.hcfId&&(le=le.filter(de=>de.hcfId===n.hcfId)),n.fromDate){const de=new Date(n.fromDate);le=le.filter(Ce=>new Date(Ce.startDate)>=de)}if(n.toDate){const de=new Date(n.toDate);de.setHours(23,59,59,999),le=le.filter(Ce=>new Date(Ce.startDate)<=de)}if(n.billingType&&n.billingType!=="All"&&(le=le.filter(de=>de.billingType===n.billingType)),(me=n.searchText)!=null&&me.trim()){const de=n.searchText.toLowerCase().trim();le=le.filter(Ce=>{const ue=(Ce.contractNum||"").toLowerCase(),$e=o.find(Bt=>Bt.id===Ce.companyId),it=(($e==null?void 0:$e.companyName)||"").toLowerCase(),Et=d.find(Bt=>Bt.id===Ce.hcfId),Ct=((Et==null?void 0:Et.hcfCode)||"").toLowerCase();return ue.includes(de)||it.includes(de)||Ct.includes(de)})}le.sort((de,Ce)=>{const ue=de[n.sortBy]||"",$e=Ce[n.sortBy]||"";return n.sortOrder==="ASC"?ue>$e?1:-1:ue<$e?1:-1});const Ee=(O-1)*W,Re=Ee+W,Ue=le.slice(Ee,Re);g(le),x(Ue),S(!0),ce({totalContracts:le.length})}catch(ie){console.error("Error loading contracts:",ie),C(ie.message||"Failed to load contract data"),g([]),x([])}finally{b(!1)}},_e=async()=>{a(me=>({...me,fromDate:i.fromDate||"",toDate:i.toDate||"",companyId:i.companyId||"",hcfId:i.hcfId||"",status:i.status||"All",billingType:i.billingType||"All",page:1})),l(!1),await Ie()},Z=async()=>{a({page:1,pageSize:25,fromDate:"",toDate:"",companyId:"",hcfId:"",status:"All",billingType:"All",searchText:"",sortBy:"startDate",sortOrder:"DESC"}),s({fromDate:"",toDate:"",companyId:"",hcfId:"",status:"All",billingType:"All"}),l(!1),await Ie()};k.useEffect(()=>{if(o.length>0||!n.companyId){const me=setTimeout(()=>{Ie()},500);return()=>clearTimeout(me)}},[n,o]);const Oe=me=>me?new Date(me).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",ee=me=>{switch(me){case"Active":return"status-badge status-badge--paid";case"Draft":return"status-badge status-badge--draft";case"Expired":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},re=w&&P.totalContracts>0?Math.ceil(P.totalContracts/W):0,je=(O-1)*W,Ne=Math.min(je+m.length,P.totalContracts),ye=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(Nc,{navItems:ye,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Contract"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Contract Report"}),!R()&&t.jsx("div",{className:"page-context-subtitle",children:se()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${y?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Contract Number, Company, HCF",value:u,onChange:me=>a(ie=>({...ie,searchText:me.target.value,page:1})),onKeyDown:me=>{me.key==="Enter"&&!y&&(me.preventDefault(),Ie())},disabled:y}),u&&!y&&t.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(me=>({...me,searchText:"",page:1})),(w||R())&&await Ie()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:te,className:`btn btn-filters-toggle ${c?"active":""} ${y?"loading":""}`,onClick:()=>{if(!y){if(c||s({fromDate:n.fromDate||"",toDate:n.toDate||"",companyId:n.companyId||"",hcfId:n.hcfId||"",status:n.status||"All",billingType:n.billingType||"All"}),te.current){const me=te.current.getBoundingClientRect();Y({top:me.bottom+8,left:me.left})}l(!c)}},disabled:y,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfId,n.fromDate,n.toDate,n.status&&n.status!=="All"?n.status:"",n.billingType&&n.billingType!=="All"?n.billingType:""].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfId,n.fromDate,n.toDate,n.status&&n.status!=="All"?n.status:"",n.billingType&&n.billingType!=="All"?n.billingType:""].filter(Boolean).length})]})]}),c&&Qc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),Y(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:me=>me.stopPropagation(),style:q?{position:"fixed",top:`${q.top}px`,left:`${q.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{s({fromDate:"",toDate:"",companyId:"",hcfId:"",status:"All",billingType:"All"})},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Contract Date"}),t.jsxs("div",{className:"filter-date-range",children:[t.jsx("input",{type:"date",className:"filter-modal-input",value:i.fromDate||"",onChange:me=>s(ie=>({...ie,fromDate:me.target.value})),placeholder:"From Date"}),t.jsx("span",{className:"filter-date-separator",children:"to"}),t.jsx("input",{type:"date",className:"filter-modal-input",value:i.toDate||"",onChange:me=>s(ie=>({...ie,toDate:me.target.value})),placeholder:"To Date"})]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.companyId||"",onChange:me=>{s(ie=>({...ie,companyId:me.target.value,hcfId:""}))},children:[t.jsx("option",{value:"",children:"Select Company Name"}),o.map(me=>t.jsxs("option",{value:me.id,children:[me.companyCode," - ",me.companyName]},me.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.hcfId||"",onChange:me=>s(ie=>({...ie,hcfId:me.target.value})),disabled:!i.companyId,children:[t.jsx("option",{value:"",children:"Select HCF Name"}),(i.companyId?d.filter(me=>me.companyId===i.companyId):d).map(me=>t.jsxs("option",{value:me.id,children:[me.hcfCode," - ",me.hcfName]},me.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Status"}),t.jsx("select",{className:"filter-modal-select",value:i.status||"All",onChange:me=>s(ie=>({...ie,status:me.target.value})),children:fe.map(me=>t.jsx("option",{value:me.value,children:me.label},me.value))})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Billing Type"}),t.jsx("select",{className:"filter-modal-select",value:i.billingType||"All",onChange:me=>s(ie=>({...ie,billingType:me.target.value})),children:Te.map(me=>t.jsx("option",{value:me.value,children:me.label},me.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await _e(),l(!1)},disabled:y,children:y?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),N&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:N}),t.jsxs("div",{className:"results-section",ref:K,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Contract No"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"HCF"}),t.jsx("th",{children:"Start Date"}),t.jsx("th",{children:"End Date"}),t.jsx("th",{children:"Billing Type"}),t.jsx("th",{className:"text-center",children:"Status"})]})}),t.jsx("tbody",{className:"table-body",children:y?Array.from({length:5}).map((me,ie)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${ie}`)):w?m.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:7,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No contracts found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No contracts match "${u.trim()}". Try adjusting your search or filters.`:R()?"No contracts match the current filters. Try adjusting your filter criteria.":"No contracts available. Use the search bar or apply filters to view reports."}),(R()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:Z,children:"Clear Filters"})})]})})}):m.map((me,ie)=>{var le,Ee;return t.jsxs("tr",{className:ie%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:me.contractNum}),t.jsx("td",{children:((le=o.find(Re=>Re.id===me.companyId))==null?void 0:le.companyName)||"N/A"}),t.jsx("td",{children:((Ee=d.find(Re=>Re.id===me.hcfId))==null?void 0:Ee.hcfCode)||"N/A"}),t.jsx("td",{children:Oe(me.startDate)}),t.jsx("td",{children:Oe(me.endDate)}),t.jsx("td",{children:me.billingType}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:ee(me.status),children:me.status})})]},me.id)}):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:7,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No contracts found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view contract reports."})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:w&&m.length>0?`Showing ${je+1}-${Ne} of ${P.totalContracts} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:W,disabled:!w||m.length===0,onChange:async me=>{a(ie=>({...ie,page:1,pageSize:Number(me.target.value)}))},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const me=Math.max(1,O-1);a(ie=>({...ie,page:me}))},disabled:O===1||!w||m.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const me=[];let le=Math.max(1,O-Math.floor(2.5)),Ee=Math.min(re,le+5-1);Ee-le<4&&(le=Math.max(1,Ee-5+1)),le>1&&(me.push(1),le>2&&me.push("..."));for(let Re=le;Re<=Ee;Re++)me.push(Re);return Ee<re&&(Ee<re-1&&me.push("..."),me.push(re)),me.map((Re,Ue)=>{if(Re==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${Ue}`);const de=Re;return t.jsx("button",{className:`pagination-page-btn ${O===de?"active":""}`,onClick:async()=>{a(Ce=>({...Ce,page:de}))},disabled:!w||m.length===0,children:de},de)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const me=Math.min(re,O+1);a(ie=>({...ie,page:me}))},disabled:O===re||re===0||!w||m.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},eae=()=>{const r=Tn(),e=Ka(),[n,a]=k.useState({page:1,pageSize:25,companyId:"",hcfType:"All",status:"All",stateCode:"",district:"",category:"",searchText:"",sortBy:"hcfCode",sortOrder:"ASC"}),[i,s]=k.useState({companyId:"",hcfType:"All",status:"All",stateCode:"",district:"",category:""}),[c,l]=k.useState(!1),u=n.searchText||"",[o,h]=k.useState([]),[d,A]=k.useState([]),[f,g]=k.useState([]),[m,x]=k.useState(!1),[y,b]=k.useState(!1),[w,S]=k.useState(null),N=n.page||1,C=n.pageSize||25,O=k.useRef(null),W=k.useRef(null),[K,te]=k.useState(null),[q,Y]=k.useState({totalHcfs:0});k.useEffect(()=>{(async()=>{try{const je=await Ha.getAllCompanies();h(je)}catch(je){console.error("Error loading master data:",je)}})()},[]);const P=()=>{var re;return!!(n.companyId||n.hcfType&&n.hcfType!=="All"||n.status&&n.status!=="All"||n.stateCode||n.district||n.category||(re=n.searchText)!=null&&re.trim())},ce=()=>{if(!P())return"No filters applied. View all healthcare facilities.";const re=[];if(n.companyId){const je=o.find(Ne=>Ne.id===n.companyId);je&&re.push(`Company: ${je.companyName}`)}return n.hcfType&&n.hcfType!=="All"&&re.push(`Type: ${n.hcfType}`),n.status&&n.status!=="All"&&re.push(`Status: ${n.status}`),n.stateCode&&re.push(`State: ${n.stateCode}`),n.district&&re.push(`District: ${n.district}`),n.category&&re.push(`Category: ${n.category}`),re.join("  ")},$=[{value:"All",label:"All Types"},{value:"Hospital",label:"Hospital"},{value:"Clinic",label:"Clinic"},{value:"Laboratory",label:"Laboratory"}],R=[{value:"All",label:"All Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],se=async()=>{var re;x(!0),S(null);try{let je=await Fs.getAllHcfs();if(n.companyId&&(je=je.filter(ie=>ie.companyId===n.companyId)),n.hcfType&&n.hcfType!=="All"&&(je=je.filter(ie=>ie.hcfTypeCode===n.hcfType)),n.status&&n.status!=="All"&&(je=je.filter(ie=>ie.status===n.status)),n.stateCode&&(je=je.filter(ie=>ie.stateCode===n.stateCode)),n.district){const ie=n.district.toLowerCase().trim();je=je.filter(le=>le.district&&le.district.toLowerCase().includes(ie))}if(n.category){const ie=n.category.toLowerCase().trim();je=je.filter(le=>le.category&&le.category.toLowerCase().includes(ie))}if((re=n.searchText)!=null&&re.trim()){const ie=n.searchText.toLowerCase().trim();je=je.filter(le=>{const Ee=(le.hcfCode||"").toLowerCase(),Re=(le.hcfName||"").toLowerCase(),Ue=(le.hcfShortName||"").toLowerCase(),de=o.find(it=>it.id===le.companyId),Ce=((de==null?void 0:de.companyName)||"").toLowerCase(),ue=(le.district||"").toLowerCase(),$e=(le.category||"").toLowerCase();return Ee.includes(ie)||Re.includes(ie)||Ue.includes(ie)||Ce.includes(ie)||ue.includes(ie)||$e.includes(ie)||le.pincode&&le.pincode.includes(ie)||le.gstin&&le.gstin.toLowerCase().includes(ie)})}je.sort((ie,le)=>{const Ee=ie[n.sortBy]||"",Re=le[n.sortBy]||"";return n.sortOrder==="ASC"?Ee>Re?1:-1:Ee<Re?1:-1});const Ne=(N-1)*C,ye=Ne+C,me=je.slice(Ne,ye);A(je),g(me),b(!0),Y({totalHcfs:je.length})}catch(je){console.error("Error loading HCFs:",je),S(je.message||"Failed to load HCF data"),A([]),g([])}finally{x(!1)}},fe=async()=>{a(re=>({...re,companyId:i.companyId||"",hcfType:i.hcfType||"All",status:i.status||"All",stateCode:i.stateCode||"",district:i.district||"",category:i.category||"",page:1})),l(!1),await se()},Te=async()=>{a({page:1,pageSize:25,companyId:"",hcfType:"All",status:"All",stateCode:"",district:"",category:"",searchText:"",sortBy:"hcfCode",sortOrder:"ASC"}),s({companyId:"",hcfType:"All",status:"All",stateCode:"",district:"",category:""}),l(!1),await se()};k.useEffect(()=>{if(o.length>0||!n.companyId){const re=setTimeout(()=>{se()},500);return()=>clearTimeout(re)}},[n,o]);const Ie=re=>{switch(re){case"Active":return"status-badge status-badge--paid";case"Inactive":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},_e=y&&q.totalHcfs>0?Math.ceil(q.totalHcfs/C):0,Z=(N-1)*C,Oe=Math.min(Z+f.length,q.totalHcfs),ee=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(Nc,{navItems:ee,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"HCF Master"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"HCF Master Report"}),!P()&&t.jsx("div",{className:"page-context-subtitle",children:ce()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${m?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by HCF Code, HCF Name, Company, District, Category, Pincode, GSTIN",value:u,onChange:re=>a(je=>({...je,searchText:re.target.value,page:1})),onKeyDown:re=>{re.key==="Enter"&&!m&&(re.preventDefault(),se())},disabled:m}),u&&!m&&t.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(re=>({...re,searchText:"",page:1})),(y||P())&&await se()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:W,className:`btn btn-filters-toggle ${c?"active":""} ${m?"loading":""}`,onClick:()=>{if(!m){if(c||s({companyId:n.companyId||"",hcfType:n.hcfType||"All",status:n.status||"All",stateCode:n.stateCode||"",district:n.district||"",category:n.category||""}),W.current){const re=W.current.getBoundingClientRect();te({top:re.bottom+8,left:re.left})}l(!c)}},disabled:m,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfType&&n.hcfType!=="All"?n.hcfType:"",n.status&&n.status!=="All"?n.status:"",n.stateCode,n.district,n.category].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfType&&n.hcfType!=="All"?n.hcfType:"",n.status&&n.status!=="All"?n.status:"",n.stateCode,n.district,n.category].filter(Boolean).length})]})]}),c&&Qc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),te(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:re=>re.stopPropagation(),style:K?{position:"fixed",top:`${K.top}px`,left:`${K.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{s({companyId:"",hcfType:"All",status:"All",stateCode:"",district:"",category:""})},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.companyId||"",onChange:re=>s(je=>({...je,companyId:re.target.value})),children:[t.jsx("option",{value:"",children:"Select Company Name"}),o.map(re=>t.jsxs("option",{value:re.id,children:[re.companyCode," - ",re.companyName]},re.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"HCF Type"}),t.jsx("select",{className:"filter-modal-select",value:i.hcfType||"All",onChange:re=>s(je=>({...je,hcfType:re.target.value})),children:$.map(re=>t.jsx("option",{value:re.value,children:re.label},re.value))})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Status"}),t.jsx("select",{className:"filter-modal-select",value:i.status||"All",onChange:re=>s(je=>({...je,status:re.target.value})),children:R.map(re=>t.jsx("option",{value:re.value,children:re.label},re.value))})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"State Code"}),t.jsx("input",{type:"text",className:"filter-modal-input",value:i.stateCode||"",onChange:re=>s(je=>({...je,stateCode:re.target.value})),placeholder:"Enter state code"})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"District"}),t.jsx("input",{type:"text",className:"filter-modal-input",value:i.district||"",onChange:re=>s(je=>({...je,district:re.target.value})),placeholder:"Enter district name"})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Category"}),t.jsx("input",{type:"text",className:"filter-modal-input",value:i.category||"",onChange:re=>s(je=>({...je,category:re.target.value})),placeholder:"Enter category"})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await fe(),l(!1)},disabled:m,children:m?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),w&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:w}),t.jsxs("div",{className:"results-section",ref:O,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"HCF Code"}),t.jsx("th",{children:"HCF Name"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"HCF Type"}),t.jsx("th",{children:"District"}),t.jsx("th",{children:"State"}),t.jsx("th",{children:"Category"}),t.jsx("th",{children:"Pincode"}),t.jsx("th",{className:"text-center",children:"Status"})]})}),t.jsx("tbody",{className:"table-body",children:m?Array.from({length:5}).map((re,je)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${je}`)):y?f.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:9,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No HCFs found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No HCFs match "${u.trim()}". Try adjusting your search or filters.`:P()?"No HCFs match the current filters. Try adjusting your filter criteria.":"No HCFs available. Use the search bar or apply filters to view reports."}),(P()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:Te,children:"Clear Filters"})})]})})}):f.map((re,je)=>{var Ne;return t.jsxs("tr",{className:je%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:re.hcfCode}),t.jsx("td",{children:re.hcfName}),t.jsx("td",{children:((Ne=o.find(ye=>ye.id===re.companyId))==null?void 0:Ne.companyName)||"N/A"}),t.jsx("td",{children:re.hcfTypeCode||"N/A"}),t.jsx("td",{children:re.district||"N/A"}),t.jsx("td",{children:re.stateCode||"N/A"}),t.jsx("td",{children:re.category||"N/A"}),t.jsx("td",{children:re.pincode||"N/A"}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:Ie(re.status),children:re.status})})]},re.id)}):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:9,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No HCFs found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view HCF master reports."})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:y&&f.length>0?`Showing ${Z+1}-${Oe} of ${q.totalHcfs} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:C,disabled:!y||f.length===0,onChange:async re=>{a(je=>({...je,page:1,pageSize:Number(re.target.value)}))},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const re=Math.max(1,N-1);a(je=>({...je,page:re}))},disabled:N===1||!y||f.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const re=[];let Ne=Math.max(1,N-Math.floor(2.5)),ye=Math.min(_e,Ne+5-1);ye-Ne<4&&(Ne=Math.max(1,ye-5+1)),Ne>1&&(re.push(1),Ne>2&&re.push("..."));for(let me=Ne;me<=ye;me++)re.push(me);return ye<_e&&(ye<_e-1&&re.push("..."),re.push(_e)),re.map((me,ie)=>{if(me==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${ie}`);const le=me;return t.jsx("button",{className:`pagination-page-btn ${N===le?"active":""}`,onClick:async()=>{a(Ee=>({...Ee,page:le}))},disabled:!y||f.length===0,children:le},le)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const re=Math.min(_e,N+1);a(je=>({...je,page:re}))},disabled:N===_e||_e===0||!y||f.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},tae=()=>{const r=Tn(),e=Ka(),[n,a]=k.useState({page:1,pageSize:25,trainingFromDate:"",trainingToDate:"",companyId:"",hcfId:"",status:"All",searchText:"",sortBy:"trainingDate",sortOrder:"DESC"}),[i,s]=k.useState({trainingFromDate:"",trainingToDate:"",companyId:"",hcfId:"",status:"All"}),[c,l]=k.useState(!1),u=n.searchText||"",[o,h]=k.useState([]),[d,A]=k.useState([]),[f,g]=k.useState([]),[m,x]=k.useState([]),[y,b]=k.useState(!1),[w,S]=k.useState(!1),[N,C]=k.useState(null),O=n.page||1,W=n.pageSize||25,K=k.useRef(null),te=k.useRef(null),[q,Y]=k.useState(null),[P,ce]=k.useState({totalCertificates:0});k.useEffect(()=>{(async()=>{try{const[me,ie]=await Promise.all([Ha.getAllCompanies(),Fs.getAllHcfs()]);h(me),A(ie)}catch(me){console.error("Error loading master data:",me)}})()},[]);const $=n.companyId?d.filter(ye=>ye.companyId===n.companyId):d,R=()=>{var ye;return!!(n.trainingFromDate||n.trainingToDate||n.companyId||n.hcfId||n.status&&n.status!=="All"||(ye=n.searchText)!=null&&ye.trim())},se=()=>{if(!R())return"No filters applied. Select a date range or search to view training certificates.";const ye=[];if(n.trainingFromDate&&n.trainingToDate){const me=new Date(n.trainingFromDate),ie=new Date(n.trainingToDate),le=me.toLocaleDateString("en-US",{month:"short",day:"numeric"}),Ee=ie.toLocaleDateString("en-US",{month:"short",day:"numeric"});ye.push(`Date: ${le}${Ee}`)}if(n.companyId){const me=o.find(ie=>ie.id===n.companyId);me&&ye.push(`Company: ${me.companyName}`)}if(n.hcfId){const me=$.find(ie=>ie.id===n.hcfId);me&&ye.push(`HCF: ${me.hcfCode}`)}return n.status&&n.status!=="All"&&ye.push(`Status: ${n.status}`),ye.join("  ")},fe=[{value:"All",label:"All Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],Te=async()=>{var ye;b(!0),C(null);try{const me={companyId:n.companyId||void 0,hcfId:n.hcfId||void 0,status:n.status!=="All"?n.status:void 0,dateFrom:n.trainingFromDate||void 0,dateTo:n.trainingToDate||void 0};let ie=await uv.getAllCertificates(me.companyId,!1,me);if((ye=n.searchText)!=null&&ye.trim()){const Ue=n.searchText.toLowerCase().trim();ie=ie.filter(de=>{const Ce=(de.certificateNo||"").toLowerCase(),ue=(de.staffName||"").toLowerCase(),$e=(de.staffCode||"").toLowerCase(),it=o.find(mr=>mr.id===de.companyId),Et=((it==null?void 0:it.companyName)||"").toLowerCase(),Ct=d.find(mr=>mr.id===de.hcfId),Bt=((Ct==null?void 0:Ct.hcfCode)||"").toLowerCase();return Ce.includes(Ue)||ue.includes(Ue)||$e.includes(Ue)||Et.includes(Ue)||Bt.includes(Ue)})}ie.sort((Ue,de)=>{const Ce=Ue[n.sortBy]||"",ue=de[n.sortBy]||"";return n.sortOrder==="ASC"?Ce>ue?1:-1:Ce<ue?1:-1});const le=(O-1)*W,Ee=le+W,Re=ie.slice(le,Ee);g(ie),x(Re),S(!0),ce({totalCertificates:ie.length})}catch(me){console.error("Error loading training certificates:",me),C(me.message||"Failed to load training certificate data"),g([]),x([])}finally{b(!1)}},Ie=async()=>{a(ye=>({...ye,trainingFromDate:i.trainingFromDate||"",trainingToDate:i.trainingToDate||"",companyId:i.companyId||"",hcfId:i.hcfId||"",status:i.status||"All",page:1})),l(!1),await Te()},_e=async()=>{a({page:1,pageSize:25,trainingFromDate:"",trainingToDate:"",companyId:"",hcfId:"",status:"All",searchText:"",sortBy:"trainingDate",sortOrder:"DESC"}),s({trainingFromDate:"",trainingToDate:"",companyId:"",hcfId:"",status:"All"}),l(!1),await Te()};k.useEffect(()=>{if(o.length>0||!n.companyId){const ye=setTimeout(()=>{Te()},500);return()=>clearTimeout(ye)}},[n,o]);const Z=ye=>ye?new Date(ye).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",Oe=ye=>{switch(ye){case"Active":return"status-badge status-badge--paid";case"Inactive":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},ee=w&&P.totalCertificates>0?Math.ceil(P.totalCertificates/W):0,re=(O-1)*W,je=Math.min(re+m.length,P.totalCertificates),Ne=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(Nc,{navItems:Ne,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Training Certificate"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Training Certificate Report"}),!R()&&t.jsx("div",{className:"page-context-subtitle",children:se()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${y?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Certificate No, Staff Name, Staff Code, Company, HCF",value:u,onChange:ye=>a(me=>({...me,searchText:ye.target.value,page:1})),onKeyDown:ye=>{ye.key==="Enter"&&!y&&(ye.preventDefault(),Te())},disabled:y}),u&&!y&&t.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(ye=>({...ye,searchText:"",page:1})),(w||R())&&await Te()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:te,className:`btn btn-filters-toggle ${c?"active":""} ${y?"loading":""}`,onClick:()=>{if(!y){if(c||s({trainingFromDate:n.trainingFromDate||"",trainingToDate:n.trainingToDate||"",companyId:n.companyId||"",hcfId:n.hcfId||"",status:n.status||"All"}),te.current){const ye=te.current.getBoundingClientRect();Y({top:ye.bottom+8,left:ye.left})}l(!c)}},disabled:y,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfId,n.trainingFromDate,n.trainingToDate,n.status&&n.status!=="All"?n.status:""].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfId,n.trainingFromDate,n.trainingToDate,n.status&&n.status!=="All"?n.status:""].filter(Boolean).length})]})]}),c&&Qc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),Y(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:ye=>ye.stopPropagation(),style:q?{position:"fixed",top:`${q.top}px`,left:`${q.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{s({trainingFromDate:"",trainingToDate:"",companyId:"",hcfId:"",status:"All"})},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Training Date"}),t.jsxs("div",{className:"filter-date-range",children:[t.jsx("input",{type:"date",className:"filter-modal-input",value:i.trainingFromDate||"",onChange:ye=>s(me=>({...me,trainingFromDate:ye.target.value})),placeholder:"From Date"}),t.jsx("span",{className:"filter-date-separator",children:"to"}),t.jsx("input",{type:"date",className:"filter-modal-input",value:i.trainingToDate||"",onChange:ye=>s(me=>({...me,trainingToDate:ye.target.value})),placeholder:"To Date"})]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.companyId||"",onChange:ye=>{s(me=>({...me,companyId:ye.target.value,hcfId:""}))},children:[t.jsx("option",{value:"",children:"Select Company Name"}),o.map(ye=>t.jsxs("option",{value:ye.id,children:[ye.companyCode," - ",ye.companyName]},ye.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.hcfId||"",onChange:ye=>s(me=>({...me,hcfId:ye.target.value})),disabled:!i.companyId,children:[t.jsx("option",{value:"",children:"Select HCF Name"}),(i.companyId?d.filter(ye=>ye.companyId===i.companyId):d).map(ye=>t.jsxs("option",{value:ye.id,children:[ye.hcfCode," - ",ye.hcfName]},ye.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Status"}),t.jsx("select",{className:"filter-modal-select",value:i.status||"All",onChange:ye=>s(me=>({...me,status:ye.target.value})),children:fe.map(ye=>t.jsx("option",{value:ye.value,children:ye.label},ye.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await Ie(),l(!1)},disabled:y,children:y?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),N&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:N}),t.jsxs("div",{className:"results-section",ref:K,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Certificate No"}),t.jsx("th",{children:"Staff Name"}),t.jsx("th",{children:"Staff Code"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"HCF"}),t.jsx("th",{children:"Training Date"}),t.jsx("th",{children:"Trained By"}),t.jsx("th",{className:"text-center",children:"Status"})]})}),t.jsx("tbody",{className:"table-body",children:y?Array.from({length:5}).map((ye,me)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${me}`)):w?m.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:8,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No training certificates found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No certificates match "${u.trim()}". Try adjusting your search or filters.`:R()?"No certificates match the current filters. Try adjusting your filter criteria.":"No training certificates available. Use the search bar or apply filters to view reports."}),(R()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:_e,children:"Clear Filters"})})]})})}):m.map((ye,me)=>{var ie,le;return t.jsxs("tr",{className:me%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:ye.certificateNo}),t.jsx("td",{children:ye.staffName}),t.jsx("td",{children:ye.staffCode}),t.jsx("td",{children:((ie=o.find(Ee=>Ee.id===ye.companyId))==null?void 0:ie.companyName)||"N/A"}),t.jsx("td",{children:((le=d.find(Ee=>Ee.id===ye.hcfId))==null?void 0:le.hcfCode)||"N/A"}),t.jsx("td",{children:Z(ye.trainingDate)}),t.jsx("td",{children:ye.trainedBy}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:Oe(ye.status),children:ye.status})})]},ye.id)}):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:8,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No training certificates found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view training certificate reports."})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:w&&m.length>0?`Showing ${re+1}-${je} of ${P.totalCertificates} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:W,disabled:!w||m.length===0,onChange:async ye=>{a(me=>({...me,page:1,pageSize:Number(ye.target.value)}))},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ye=Math.max(1,O-1);a(me=>({...me,page:ye}))},disabled:O===1||!w||m.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const ye=[];let ie=Math.max(1,O-Math.floor(2.5)),le=Math.min(ee,ie+5-1);le-ie<4&&(ie=Math.max(1,le-5+1)),ie>1&&(ye.push(1),ie>2&&ye.push("..."));for(let Ee=ie;Ee<=le;Ee++)ye.push(Ee);return le<ee&&(le<ee-1&&ye.push("..."),ye.push(ee)),ye.map((Ee,Re)=>{if(Ee==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${Re}`);const Ue=Ee;return t.jsx("button",{className:`pagination-page-btn ${O===Ue?"active":""}`,onClick:async()=>{a(de=>({...de,page:Ue}))},disabled:!w||m.length===0,children:Ue},Ue)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ye=Math.min(ee,O+1);a(me=>({...me,page:ye}))},disabled:O===ee||ee===0||!w||m.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},d_=()=>{const r=Tn(),e=Ka(),[n,a]=k.useState({page:1,pageSize:25,paymentFromDate:"",paymentToDate:"",companyId:"",status:"All",paymentMode:"All",searchText:"",sortBy:"paymentDate",sortOrder:"DESC"}),[i,s]=k.useState({paymentFromDate:"",paymentToDate:"",companyId:"",status:"All",paymentMode:"All"}),[c,l]=k.useState(!1),u=n.searchText||"",[o,h]=k.useState([]),[d,A]=k.useState([]),[f,g]=k.useState([]),[m,x]=k.useState(!1),[y,b]=k.useState(!1),[w,S]=k.useState(null),N=n.page||1,C=n.pageSize||25,O=k.useRef(null),W=k.useRef(null),[K,te]=k.useState(null),[q,Y]=k.useState({totalPayments:0,totalAmount:0});k.useEffect(()=>{(async()=>{try{const ye=await Ha.getAllCompanies();h(ye)}catch(ye){console.error("Error loading master data:",ye)}})()},[]);const P=()=>{var Ne;return!!(n.paymentFromDate||n.paymentToDate||n.companyId||n.status&&n.status!=="All"||n.paymentMode&&n.paymentMode!=="All"||(Ne=n.searchText)!=null&&Ne.trim())},ce=()=>{if(!P())return"No filters applied. Select a date range or search to view payments.";const Ne=[];if(n.paymentFromDate&&n.paymentToDate){const ye=new Date(n.paymentFromDate),me=new Date(n.paymentToDate),ie=ye.toLocaleDateString("en-US",{month:"short",day:"numeric"}),le=me.toLocaleDateString("en-US",{month:"short",day:"numeric"});Ne.push(`Date: ${ie}${le}`)}if(n.companyId){const ye=o.find(me=>me.id===n.companyId);ye&&Ne.push(`Company: ${ye.companyName}`)}return n.status&&n.status!=="All"&&Ne.push(`Status: ${n.status}`),n.paymentMode&&n.paymentMode!=="All"&&Ne.push(`Mode: ${n.paymentMode}`),Ne.join("  ")},$=[{value:"All",label:"All Status"},{value:"Pending",label:"Pending"},{value:"Completed",label:"Completed"},{value:"Cancelled",label:"Cancelled"}],R=[{value:"All",label:"All Modes"},{value:"Cash",label:"Cash"},{value:"Cheque",label:"Cheque"},{value:"Bank Transfer",label:"Bank Transfer"},{value:"UPI",label:"UPI"},{value:"NEFT",label:"NEFT"},{value:"RTGS",label:"RTGS"},{value:"Other",label:"Other"}],se=async()=>{var Ne;x(!0),S(null);try{const ye={companyId:n.companyId||void 0,status:n.status!=="All"?n.status:void 0,paymentDateFrom:n.paymentFromDate||void 0,paymentDateTo:n.paymentToDate||void 0};let ie=(await Hte(ye)).data||[];if((Ne=n.searchText)!=null&&Ne.trim()){const Ue=n.searchText.toLowerCase().trim();ie=ie.filter(de=>{const Ce=(de.receiptNumber||"").toLowerCase(),ue=(de.referenceNumber||"").toLowerCase(),$e=o.find(Et=>Et.id===de.companyId),it=(($e==null?void 0:$e.companyName)||"").toLowerCase();return Ce.includes(Ue)||ue.includes(Ue)||it.includes(Ue)||de.paymentAmount.toString().includes(Ue)})}n.paymentMode&&n.paymentMode!=="All"&&(ie=ie.filter(Ue=>Ue.paymentMode===n.paymentMode)),ie.sort((Ue,de)=>{const Ce=Ue[n.sortBy]||"",ue=de[n.sortBy]||"";return n.sortOrder==="ASC"?Ce>ue?1:-1:Ce<ue?1:-1});const le=(N-1)*C,Ee=le+C,Re=ie.slice(le,Ee);A(ie),g(Re),b(!0),Y({totalPayments:ie.length,totalAmount:ie.reduce((Ue,de)=>Ue+(de.paymentAmount||0),0)})}catch(ye){console.error("Error loading payments:",ye),S(ye.message||"Failed to load payment data"),A([]),g([])}finally{x(!1)}},fe=async()=>{a(Ne=>({...Ne,paymentFromDate:i.paymentFromDate||"",paymentToDate:i.paymentToDate||"",companyId:i.companyId||"",status:i.status||"All",paymentMode:i.paymentMode||"All",page:1})),l(!1),await se()},Te=async()=>{a({page:1,pageSize:25,paymentFromDate:"",paymentToDate:"",companyId:"",status:"All",paymentMode:"All",searchText:"",sortBy:"paymentDate",sortOrder:"DESC"}),s({paymentFromDate:"",paymentToDate:"",companyId:"",status:"All",paymentMode:"All"}),l(!1),await se()};k.useEffect(()=>{if(o.length>0||!n.companyId){const Ne=setTimeout(()=>{se()},500);return()=>clearTimeout(Ne)}},[n,o]);const Ie=Ne=>Ne==null?"0.00":`${Ne.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`,_e=Ne=>Ne?new Date(Ne).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",Z=Ne=>{switch(Ne){case"Completed":return"status-badge status-badge--paid";case"Pending":return"status-badge status-badge--partial";case"Cancelled":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},Oe=y&&q.totalPayments>0?Math.ceil(q.totalPayments/C):0,ee=(N-1)*C,re=Math.min(ee+f.length,q.totalPayments),je=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(Nc,{navItems:je,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Payment"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Payment Report"}),!P()&&t.jsx("div",{className:"page-context-subtitle",children:ce()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${m?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Receipt Number, Reference Number, Company, Amount",value:u,onChange:Ne=>a(ye=>({...ye,searchText:Ne.target.value,page:1})),onKeyDown:Ne=>{Ne.key==="Enter"&&!m&&(Ne.preventDefault(),se())},disabled:m}),u&&!m&&t.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(Ne=>({...Ne,searchText:"",page:1})),(y||P())&&await se()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:W,className:`btn btn-filters-toggle ${c?"active":""} ${m?"loading":""}`,onClick:()=>{if(!m){if(c||s({paymentFromDate:n.paymentFromDate||"",paymentToDate:n.paymentToDate||"",companyId:n.companyId||"",status:n.status||"All",paymentMode:n.paymentMode||"All"}),W.current){const Ne=W.current.getBoundingClientRect();te({top:Ne.bottom+8,left:Ne.left})}l(!c)}},disabled:m,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.paymentFromDate,n.paymentToDate,n.status&&n.status!=="All"?n.status:"",n.paymentMode&&n.paymentMode!=="All"?n.paymentMode:""].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[n.companyId,n.paymentFromDate,n.paymentToDate,n.status&&n.status!=="All"?n.status:"",n.paymentMode&&n.paymentMode!=="All"?n.paymentMode:""].filter(Boolean).length})]})]}),c&&Qc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),te(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:Ne=>Ne.stopPropagation(),style:K?{position:"fixed",top:`${K.top}px`,left:`${K.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{s({paymentFromDate:"",paymentToDate:"",companyId:"",status:"All",paymentMode:"All"})},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Payment Date"}),t.jsxs("div",{className:"filter-date-range",children:[t.jsx("input",{type:"date",className:"filter-modal-input",value:i.paymentFromDate||"",onChange:Ne=>s(ye=>({...ye,paymentFromDate:Ne.target.value})),placeholder:"From Date"}),t.jsx("span",{className:"filter-date-separator",children:"to"}),t.jsx("input",{type:"date",className:"filter-modal-input",value:i.paymentToDate||"",onChange:Ne=>s(ye=>({...ye,paymentToDate:Ne.target.value})),placeholder:"To Date"})]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.companyId||"",onChange:Ne=>s(ye=>({...ye,companyId:Ne.target.value})),children:[t.jsx("option",{value:"",children:"Select Company Name"}),o.map(Ne=>t.jsxs("option",{value:Ne.id,children:[Ne.companyCode," - ",Ne.companyName]},Ne.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Status"}),t.jsx("select",{className:"filter-modal-select",value:i.status||"All",onChange:Ne=>s(ye=>({...ye,status:Ne.target.value})),children:$.map(Ne=>t.jsx("option",{value:Ne.value,children:Ne.label},Ne.value))})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Payment Mode"}),t.jsx("select",{className:"filter-modal-select",value:i.paymentMode||"All",onChange:Ne=>s(ye=>({...ye,paymentMode:Ne.target.value})),children:R.map(Ne=>t.jsx("option",{value:Ne.value,children:Ne.label},Ne.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await fe(),l(!1)},disabled:m,children:m?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),w&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:w}),t.jsxs("div",{className:"results-section",ref:O,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Receipt No"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"Payment Date"}),t.jsx("th",{children:"Payment Mode"}),t.jsx("th",{className:"text-right",children:"Payment Amount"}),t.jsx("th",{children:"Reference Number"}),t.jsx("th",{className:"text-center",children:"Status"})]})}),t.jsx("tbody",{className:"table-body",children:m?Array.from({length:5}).map((Ne,ye)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{className:"text-right",children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${ye}`)):y?f.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:7,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No payments found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No payments match "${u.trim()}". Try adjusting your search or filters.`:P()?"No payments match the current filters. Try adjusting your filter criteria.":"No payments available. Use the search bar or apply filters to view reports."}),(P()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:Te,children:"Clear Filters"})})]})})}):f.map((Ne,ye)=>{var me;return t.jsxs("tr",{className:ye%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:Ne.receiptNumber||"N/A"}),t.jsx("td",{children:((me=o.find(ie=>ie.id===Ne.companyId))==null?void 0:me.companyName)||"N/A"}),t.jsx("td",{children:_e(Ne.paymentDate)}),t.jsx("td",{children:Ne.paymentMode}),t.jsx("td",{className:"text-right",children:Ie(Ne.paymentAmount)}),t.jsx("td",{children:Ne.referenceNumber||"N/A"}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:Z(Ne.status),children:Ne.status})})]},Ne.paymentId)}):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:7,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No payments found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view payment reports."})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:y&&f.length>0?`Showing ${ee+1}-${re} of ${q.totalPayments} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:C,disabled:!y||f.length===0,onChange:async Ne=>{a(ye=>({...ye,page:1,pageSize:Number(Ne.target.value)}))},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Ne=Math.max(1,N-1);a(ye=>({...ye,page:Ne}))},disabled:N===1||!y||f.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const Ne=[];let me=Math.max(1,N-Math.floor(2.5)),ie=Math.min(Oe,me+5-1);ie-me<4&&(me=Math.max(1,ie-5+1)),me>1&&(Ne.push(1),me>2&&Ne.push("..."));for(let le=me;le<=ie;le++)Ne.push(le);return ie<Oe&&(ie<Oe-1&&Ne.push("..."),Ne.push(Oe)),Ne.map((le,Ee)=>{if(le==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${Ee}`);const Re=le;return t.jsx("button",{className:`pagination-page-btn ${N===Re?"active":""}`,onClick:async()=>{a(Ue=>({...Ue,page:Re}))},disabled:!y||f.length===0,children:Re},Re)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Ne=Math.min(Oe,N+1);a(ye=>({...ye,page:Ne}))},disabled:N===Oe||Oe===0||!y||f.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},rae=()=>{const r=Tn(),e=Ka(),[n,a]=k.useState({page:1,pageSize:25,fromDate:"",toDate:"",contractId:"",status:"All",searchText:"",sortBy:"agreementDate",sortOrder:"DESC"}),[i,s]=k.useState({fromDate:"",toDate:"",contractId:"",status:"All"}),[c,l]=k.useState(!1),u=n.searchText||"",[o,h]=k.useState([]),[d,A]=k.useState([]),[f,g]=k.useState([]),[m,x]=k.useState(!1),[y,b]=k.useState(!1),[w,S]=k.useState(null),N=n.page||1,C=n.pageSize||25,O=k.useRef(null),W=k.useRef(null),[K,te]=k.useState(null),[q,Y]=k.useState({totalAgreements:0});k.useEffect(()=>{(async()=>{try{const je=await lf.getAllContracts();h(je)}catch(je){console.error("Error loading master data:",je)}})()},[]);const P=()=>{var re;return!!(n.fromDate||n.toDate||n.contractId||n.status&&n.status!=="All"||(re=n.searchText)!=null&&re.trim())},ce=()=>{if(!P())return"No filters applied. Select a date range or search to view agreements.";const re=[];if(n.fromDate&&n.toDate){const je=new Date(n.fromDate),Ne=new Date(n.toDate),ye=je.toLocaleDateString("en-US",{month:"short",day:"numeric"}),me=Ne.toLocaleDateString("en-US",{month:"short",day:"numeric"});re.push(`Date: ${ye}${me}`)}if(n.contractId){const je=o.find(Ne=>Ne.id===n.contractId);je&&re.push(`Contract: ${je.contractNum}`)}return n.status&&n.status!=="All"&&re.push(`Status: ${n.status}`),re.join("  ")},$=[{value:"All",label:"All Status"},{value:"Draft",label:"Draft"},{value:"Generated",label:"Generated"},{value:"Signed",label:"Signed"}],R=async()=>{var re;x(!0),S(null);try{const je={contractId:n.contractId||void 0,status:n.status!=="All"?n.status:void 0};let Ne=await Z0.getAllAgreements(je.contractId,je.status);if(n.fromDate){const le=new Date(n.fromDate);Ne=Ne.filter(Ee=>new Date(Ee.agreementDate)>=le)}if(n.toDate){const le=new Date(n.toDate);le.setHours(23,59,59,999),Ne=Ne.filter(Ee=>new Date(Ee.agreementDate)<=le)}if((re=n.searchText)!=null&&re.trim()){const le=n.searchText.toLowerCase().trim();Ne=Ne.filter(Ee=>{const Re=(Ee.agreementNum||"").toLowerCase(),Ue=(Ee.contractNum||"").toLowerCase();return Re.includes(le)||Ue.includes(le)})}Ne.sort((le,Ee)=>{const Re=le[n.sortBy]||"",Ue=Ee[n.sortBy]||"";return n.sortOrder==="ASC"?Re>Ue?1:-1:Re<Ue?1:-1});const ye=(N-1)*C,me=ye+C,ie=Ne.slice(ye,me);A(Ne),g(ie),b(!0),Y({totalAgreements:Ne.length})}catch(je){console.error("Error loading agreements:",je),S(je.message||"Failed to load agreement data"),A([]),g([])}finally{x(!1)}},se=async()=>{a(re=>({...re,fromDate:i.fromDate||"",toDate:i.toDate||"",contractId:i.contractId||"",status:i.status||"All",page:1})),l(!1),await R()},fe=async()=>{a({page:1,pageSize:25,fromDate:"",toDate:"",contractId:"",status:"All",searchText:"",sortBy:"agreementDate",sortOrder:"DESC"}),s({fromDate:"",toDate:"",contractId:"",status:"All"}),l(!1),await R()};k.useEffect(()=>{if(o.length>0||!n.contractId){const re=setTimeout(()=>{R()},500);return()=>clearTimeout(re)}},[n,o]);const Te=re=>re?new Date(re).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",Ie=re=>{switch(re){case"Signed":return"status-badge status-badge--paid";case"Generated":return"status-badge status-badge--generated";case"Draft":return"status-badge status-badge--draft";default:return"status-badge status-badge--generated"}},_e=y&&q.totalAgreements>0?Math.ceil(q.totalAgreements/C):0,Z=(N-1)*C,Oe=Math.min(Z+f.length,q.totalAgreements),ee=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(Nc,{navItems:ee,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Agreement"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Agreement Report"}),!P()&&t.jsx("div",{className:"page-context-subtitle",children:ce()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${m?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Agreement Number, Contract Number",value:u,onChange:re=>a(je=>({...je,searchText:re.target.value,page:1})),onKeyDown:re=>{re.key==="Enter"&&!m&&(re.preventDefault(),R())},disabled:m}),u&&!m&&t.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(re=>({...re,searchText:"",page:1})),(y||P())&&await R()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:W,className:`btn btn-filters-toggle ${c?"active":""} ${m?"loading":""}`,onClick:()=>{if(!m){if(c||s({fromDate:n.fromDate||"",toDate:n.toDate||"",contractId:n.contractId||"",status:n.status||"All"}),W.current){const re=W.current.getBoundingClientRect();te({top:re.bottom+8,left:re.left})}l(!c)}},disabled:m,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.contractId,n.fromDate,n.toDate,n.status&&n.status!=="All"?n.status:""].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[n.contractId,n.fromDate,n.toDate,n.status&&n.status!=="All"?n.status:""].filter(Boolean).length})]})]}),c&&Qc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),te(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:re=>re.stopPropagation(),style:K?{position:"fixed",top:`${K.top}px`,left:`${K.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{s({fromDate:"",toDate:"",contractId:"",status:"All"})},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Agreement Date"}),t.jsxs("div",{className:"filter-date-range",children:[t.jsx("input",{type:"date",className:"filter-modal-input",value:i.fromDate||"",onChange:re=>s(je=>({...je,fromDate:re.target.value})),placeholder:"From Date"}),t.jsx("span",{className:"filter-date-separator",children:"to"}),t.jsx("input",{type:"date",className:"filter-modal-input",value:i.toDate||"",onChange:re=>s(je=>({...je,toDate:re.target.value})),placeholder:"To Date"})]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Contract"}),t.jsxs("select",{className:"filter-modal-select",value:i.contractId||"",onChange:re=>s(je=>({...je,contractId:re.target.value})),children:[t.jsx("option",{value:"",children:"Select Contract"}),o.map(re=>t.jsx("option",{value:re.id,children:re.contractNum},re.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Status"}),t.jsx("select",{className:"filter-modal-select",value:i.status||"All",onChange:re=>s(je=>({...je,status:re.target.value})),children:$.map(re=>t.jsx("option",{value:re.value,children:re.label},re.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await se(),l(!1)},disabled:m,children:m?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),w&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:w}),t.jsxs("div",{className:"results-section",ref:O,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Agreement No"}),t.jsx("th",{children:"Contract No"}),t.jsx("th",{children:"Agreement Date"}),t.jsx("th",{className:"text-center",children:"Status"})]})}),t.jsx("tbody",{className:"table-body",children:m?Array.from({length:5}).map((re,je)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${je}`)):y?f.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:4,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No agreements found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No agreements match "${u.trim()}". Try adjusting your search or filters.`:P()?"No agreements match the current filters. Try adjusting your filter criteria.":"No agreements available. Use the search bar or apply filters to view reports."}),(P()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:fe,children:"Clear Filters"})})]})})}):f.map((re,je)=>t.jsxs("tr",{className:je%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:re.agreementNum}),t.jsx("td",{children:re.contractNum||"N/A"}),t.jsx("td",{children:Te(re.agreementDate)}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:Ie(re.status),children:re.status})})]},re.id)):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:4,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No agreements found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view agreement reports."})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:y&&f.length>0?`Showing ${Z+1}-${Oe} of ${q.totalAgreements} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:C,disabled:!y||f.length===0,onChange:async re=>{a(je=>({...je,page:1,pageSize:Number(re.target.value)}))},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const re=Math.max(1,N-1);a(je=>({...je,page:re}))},disabled:N===1||!y||f.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const re=[];let Ne=Math.max(1,N-Math.floor(2.5)),ye=Math.min(_e,Ne+5-1);ye-Ne<4&&(Ne=Math.max(1,ye-5+1)),Ne>1&&(re.push(1),Ne>2&&re.push("..."));for(let me=Ne;me<=ye;me++)re.push(me);return ye<_e&&(ye<_e-1&&re.push("..."),re.push(_e)),re.map((me,ie)=>{if(me==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${ie}`);const le=me;return t.jsx("button",{className:`pagination-page-btn ${N===le?"active":""}`,onClick:async()=>{a(Ee=>({...Ee,page:le}))},disabled:!y||f.length===0,children:le},le)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const re=Math.min(_e,N+1);a(je=>({...je,page:re}))},disabled:N===_e||_e===0||!y||f.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},nae=()=>{const[r,e]=k.useState({page:1,pageSize:25,createdFromDate:"",createdToDate:"",companyId:"",hcfId:"",barcodeType:"All",colorBlock:"All",searchText:"",sortBy:"createdOn",sortOrder:"DESC"}),[n,a]=k.useState({createdFromDate:"",createdToDate:"",companyId:"",hcfId:"",barcodeType:"All",colorBlock:"All"}),i=k.useCallback((A,f)=>{e(g=>({...g,[A]:f}))},[]),s=k.useCallback((A,f)=>{a(g=>({...g,[A]:f}))},[]),c=k.useCallback(()=>{e(A=>({...A,createdFromDate:n.createdFromDate||"",createdToDate:n.createdToDate||"",companyId:n.companyId||"",hcfId:n.hcfId||"",barcodeType:n.barcodeType||"All",colorBlock:n.colorBlock||"All",page:1}))},[n]),l=k.useCallback(()=>{const A={page:1,pageSize:r.pageSize||25,createdFromDate:"",createdToDate:"",companyId:"",hcfId:"",barcodeType:"All",colorBlock:"All",searchText:"",sortBy:"createdOn",sortOrder:"DESC"};e(A),a({createdFromDate:"",createdToDate:"",companyId:"",hcfId:"",barcodeType:"All",colorBlock:"All"})},[r.pageSize]),u=k.useCallback((A,f)=>{e(g=>({...g,page:A,...f!==void 0&&{pageSize:f}}))},[]),o=k.useCallback(A=>{e(f=>({...f,searchText:A,page:1}))},[]),h=k.useCallback(()=>{var A;return!!(r.createdFromDate||r.createdToDate||r.companyId||r.hcfId||r.barcodeType&&r.barcodeType!=="All"||r.colorBlock&&r.colorBlock!=="All"||(A=r.searchText)!=null&&A.trim())},[r]),d=k.useCallback(()=>{var f;const A={page:r.page,pageSize:r.pageSize,sortBy:r.sortBy,sortOrder:r.sortOrder};return r.createdFromDate&&(A.createdFromDate=r.createdFromDate),r.createdToDate&&(A.createdToDate=r.createdToDate),r.companyId&&(A.companyId=r.companyId),r.hcfId&&(A.hcfId=r.hcfId),r.barcodeType&&r.barcodeType!=="All"&&(A.barcodeType=r.barcodeType),r.colorBlock&&r.colorBlock!=="All"&&(A.colorBlock=r.colorBlock),(f=r.searchText)!=null&&f.trim()&&(A.searchText=r.searchText.trim()),A},[r]);return{filters:r,pendingFilters:n,updateFilter:i,updatePendingFilter:s,applyFilters:c,clearFilters:l,updatePagination:u,updateSearchText:o,hasFiltersApplied:h,buildApiFilters:d}},h_=()=>{const r=Tn(),e=Ka(),{filters:n,pendingFilters:a,updatePendingFilter:i,applyFilters:s,clearFilters:c,updatePagination:l,updateSearchText:u,hasFiltersApplied:o,buildApiFilters:h}=nae(),[d,A]=k.useState(!1),f=n.searchText||"",[g,m]=k.useState([]),[x,y]=k.useState([]),[b,w]=k.useState([]),[S,N]=k.useState([]),[C,O]=k.useState(!1),[W,K]=k.useState(!1),[te,q]=k.useState(null),Y=n.page||1,P=n.pageSize||25,ce=k.useRef(null),$=k.useRef(null),[R,se]=k.useState(null),[fe,Te]=k.useState({totalBarcodes:0,barcodeCount:0,qrCodeCount:0});k.useEffect(()=>{(async()=>{try{const[Re,Ue]=await Promise.all([Ha.getAllCompanies(),Fs.getAllHcfs()]);m(Re),y(Ue)}catch(Re){console.error("Error loading master data:",Re),q(Re.message||"Failed to load master data. Please refresh the page."),m([]),y([])}})()},[]);const Ie=n.companyId?x.filter(Ee=>Ee.companyId===n.companyId):x,_e=()=>{if(!o())return"No filters applied. Select a date range or search to view barcode usage.";const Ee=[];if(n.createdFromDate&&n.createdToDate){const Re=new Date(n.createdFromDate),Ue=new Date(n.createdToDate),de=Re.toLocaleDateString("en-US",{month:"short",day:"numeric"}),Ce=Ue.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});Ee.push(`${de} - ${Ce}`)}else if(n.createdFromDate||n.createdToDate){if(n.createdFromDate){const Re=new Date(n.createdFromDate);Ee.push(`From ${Re.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}if(n.createdToDate){const Re=new Date(n.createdToDate);Ee.push(`To ${Re.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}}if(n.companyId){const Re=g.find(Ue=>Ue.id===n.companyId);Ee.push(Re?Re.companyName:"Selected Company")}else Ee.push("All Companies");if(n.hcfId){const Re=Ie.find(Ue=>Ue.id===n.hcfId);Ee.push(Re?`HCF: ${Re.hcfCode}`:"Selected HCF")}return n.barcodeType&&n.barcodeType!=="All"&&Ee.push(`Type: ${n.barcodeType}`),n.colorBlock&&n.colorBlock!=="All"&&Ee.push(`Color: ${n.colorBlock}`),`Showing barcode usage for: ${Ee.join("  ")}`},Z=[{value:"All",label:"All Types"},{value:"Barcode",label:"Barcode"},{value:"QR Code",label:"QR Code"}],Oe=[{value:"All",label:"All Colors"},{value:"Yellow",label:"Yellow"},{value:"Red",label:"Red"},{value:"White",label:"White"}],ee=async()=>{var Ee;O(!0),q(null);try{const Re=h();let Ue=[];if(Re.companyId)Ue=await ep.getAllBarcodeLabels(Re.companyId);else if(g.length>0)for(const it of g)try{const Et=await ep.getAllBarcodeLabels(it.id);Ue.push(...Et)}catch(Et){console.warn(`Failed to load barcodes for company ${it.companyName}:`,Et)}else try{Ue=await ep.getAllBarcodeLabels()}catch(it){console.warn("Failed to load barcodes without company filter:",it)}let de=Ue;if(n.createdFromDate){const it=new Date(n.createdFromDate);de=de.filter(Et=>new Date(Et.createdOn)>=it)}if(n.createdToDate){const it=new Date(n.createdToDate);it.setHours(23,59,59,999),de=de.filter(Et=>new Date(Et.createdOn)<=it)}if(n.companyId&&(de=de.filter(it=>it.companyId===n.companyId)),n.hcfId&&(de=de.filter(it=>it.hcfId===n.hcfId)),n.barcodeType&&n.barcodeType!=="All"&&(de=de.filter(it=>it.barcodeType===n.barcodeType)),n.colorBlock&&n.colorBlock!=="All"&&(de=de.filter(it=>it.colorBlock===n.colorBlock)),(Ee=n.searchText)!=null&&Ee.trim()){const it=n.searchText.toLowerCase().trim();de=de.filter(Et=>{const Ct=(Et.barcodeValue||"").toLowerCase(),Bt=(Et.hcfCode||"").toLowerCase(),mr=g.find(He=>He.id===Et.companyId),lr=((mr==null?void 0:mr.companyName)||"").toLowerCase();return Ct.includes(it)||Bt.includes(it)||lr.includes(it)||Et.sequenceNumber.toString().includes(it)})}de.sort((it,Et)=>{const Ct=it[n.sortBy]||"",Bt=Et[n.sortBy]||"";return n.sortOrder==="ASC"?Ct>Bt?1:-1:Ct<Bt?1:-1});const Ce=(Y-1)*P,ue=Ce+P,$e=de.slice(Ce,ue);w(de),N($e),K(!0),Te({totalBarcodes:de.length,barcodeCount:de.filter(it=>it.barcodeType==="Barcode").length,qrCodeCount:de.filter(it=>it.barcodeType==="QR Code").length})}catch(Re){console.error("Error loading barcodes:",Re),q(Re.message||"Failed to load barcode usage data"),w([]),N([])}finally{O(!1)}},re=async()=>{s(),A(!1),await ee()},je=async()=>{c(),A(!1),await ee()};k.useEffect(()=>{var Ee;if(g.length>0||o()||(Ee=n.searchText)!=null&&Ee.trim()){const Re=setTimeout(()=>{ee()},500);return()=>clearTimeout(Re)}},[n,g]);const Ne=Ee=>Ee?new Date(Ee).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",ye=W&&fe.totalBarcodes>0?Math.ceil(fe.totalBarcodes/P):0,me=(Y-1)*P,ie=Math.min(me+S.length,fe.totalBarcodes),le=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(Nc,{navItems:le,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Barcode Usage"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Barcode Usage Report"}),!o()&&t.jsx("div",{className:"page-context-subtitle",children:_e()}),te&&g.length===0&&t.jsxs("div",{style:{marginTop:"12px",padding:"12px",backgroundColor:"#fef2f2",color:"#991b1b",borderRadius:"6px",fontSize:"13px",border:"1px solid #fecaca"},children:[t.jsx("strong",{children:"Warning:"})," Failed to load master data. Filter options may be limited. Please refresh the page or check your authentication."]})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${C?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Barcode Value, HCF Code, Company, Sequence Number",value:f,onChange:Ee=>u(Ee.target.value),onKeyDown:Ee=>{Ee.key==="Enter"&&!C&&(Ee.preventDefault(),ee())},disabled:C}),f&&!C&&t.jsx("button",{className:"clear-search-btn",onClick:()=>{u(""),ee()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:$,className:`btn btn-filters-toggle ${d?"active":""} ${C?"loading":""}`,onClick:()=>{if(!C){if(d||(i("companyId",n.companyId||""),i("hcfId",n.hcfId||""),i("barcodeType",n.barcodeType||"All"),i("colorBlock",n.colorBlock||"All"),i("createdFromDate",n.createdFromDate||""),i("createdToDate",n.createdToDate||"")),$.current){const Ee=$.current.getBoundingClientRect();se({top:Ee.bottom+8,left:Ee.left})}A(!d)}},disabled:C,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[a.companyId,a.hcfId,a.barcodeType&&a.barcodeType!=="All"?a.barcodeType:"",a.colorBlock&&a.colorBlock!=="All"?a.colorBlock:"",a.createdFromDate,a.createdToDate].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[a.companyId,a.hcfId,a.barcodeType&&a.barcodeType!=="All"?a.barcodeType:"",a.colorBlock&&a.colorBlock!=="All"?a.colorBlock:"",a.createdFromDate,a.createdToDate].filter(Boolean).length})]})]}),d&&Qc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{A(!1),se(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:Ee=>Ee.stopPropagation(),style:R?{position:"fixed",top:`${R.top}px`,left:`${R.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{i("companyId",""),i("hcfId",""),i("createdFromDate",""),i("createdToDate",""),i("barcodeType","All"),i("colorBlock","All")},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>A(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Created Date"}),t.jsxs("div",{className:"filter-date-range",children:[t.jsx("input",{type:"date",className:"filter-modal-input",value:a.createdFromDate||"",onChange:Ee=>i("createdFromDate",Ee.target.value),placeholder:"Select Date"}),t.jsx("span",{className:"filter-date-separator",children:"to"}),t.jsx("input",{type:"date",className:"filter-modal-input",value:a.createdToDate||"",onChange:Ee=>i("createdToDate",Ee.target.value),placeholder:"Select Date"})]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:a.companyId||"",onChange:Ee=>{i("companyId",Ee.target.value),i("hcfId","")},children:[t.jsx("option",{value:"",children:"Select Company Name"}),g.map(Ee=>t.jsxs("option",{value:Ee.id,children:[Ee.companyCode," - ",Ee.companyName]},Ee.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),t.jsxs("select",{className:"filter-modal-select",value:a.hcfId||"",onChange:Ee=>i("hcfId",Ee.target.value),disabled:!a.companyId,children:[t.jsx("option",{value:"",children:"Select HCF Name"}),(a.companyId?x.filter(Ee=>Ee.companyId===a.companyId):x).map(Ee=>t.jsxs("option",{value:Ee.id,children:[Ee.hcfCode," - ",Ee.hcfName]},Ee.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Barcode Type"}),t.jsx("select",{className:"filter-modal-select",value:a.barcodeType||"All",onChange:Ee=>i("barcodeType",Ee.target.value),children:Z.map(Ee=>t.jsx("option",{value:Ee.value,children:Ee.label},Ee.value))})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Color Block"}),t.jsx("select",{className:"filter-modal-select",value:a.colorBlock||"All",onChange:Ee=>i("colorBlock",Ee.target.value),children:Oe.map(Ee=>t.jsx("option",{value:Ee.value,children:Ee.label},Ee.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:re,disabled:C,children:C?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),t.jsxs("div",{className:"results-section",ref:ce,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Barcode Value"}),t.jsx("th",{children:"HCF Code"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"Barcode Type"}),t.jsx("th",{children:"Color Block"}),t.jsx("th",{children:"Sequence Number"}),t.jsx("th",{children:"Created Date"})]})}),t.jsx("tbody",{className:"table-body",children:C?Array.from({length:5}).map((Ee,Re)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})})]},`skeleton-${Re}`)):W?S.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:7,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("rect",{x:"3",y:"4",width:"18",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"7",y1:"8",x2:"7",y2:"16"}),t.jsx("line",{x1:"11",y1:"8",x2:"11",y2:"16"}),t.jsx("line",{x1:"15",y1:"8",x2:"15",y2:"16"}),t.jsx("line",{x1:"19",y1:"8",x2:"19",y2:"16"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No barcodes found"}),t.jsx("p",{className:"empty-state-text",children:f.trim()?`No barcodes match "${f.trim()}". Try adjusting your search or filters.`:o()?"No barcodes match the current filters. Try adjusting your filter criteria.":"No barcodes available. Use the search bar or apply filters to view reports."}),(o()||f.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:je,children:"Clear Filters"})})]})})}):S.map((Ee,Re)=>{const Ue=g.find(de=>de.id===Ee.companyId);return t.jsxs("tr",{className:Re%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:Ee.barcodeValue}),t.jsx("td",{children:Ee.hcfCode||"N/A"}),t.jsx("td",{children:(Ue==null?void 0:Ue.companyName)||"N/A"}),t.jsx("td",{children:Ee.barcodeType}),t.jsx("td",{children:t.jsx("span",{className:`status-badge status-badge--${Ee.colorBlock.toLowerCase()}`,children:Ee.colorBlock})}),t.jsx("td",{children:Ee.sequenceNumber}),t.jsx("td",{children:Ne(Ee.createdOn)})]},Ee.id)}):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:7,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("rect",{x:"3",y:"4",width:"18",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"7",y1:"8",x2:"7",y2:"16"}),t.jsx("line",{x1:"11",y1:"8",x2:"11",y2:"16"}),t.jsx("line",{x1:"15",y1:"8",x2:"15",y2:"16"}),t.jsx("line",{x1:"19",y1:"8",x2:"19",y2:"16"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No barcodes found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view barcode usage reports"})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:W&&S.length>0?`Showing ${ie} of ${fe.totalBarcodes} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:P,disabled:!W||S.length===0,onChange:async Ee=>{l(1,Number(Ee.target.value)),await ee()},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Ee=Math.max(1,Y-1);l(Ee),await ee()},disabled:Y===1||!W||S.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const Ee=[];let Ue=Math.max(1,Y-Math.floor(2.5)),de=Math.min(ye,Ue+5-1);de-Ue<4&&(Ue=Math.max(1,de-5+1)),Ue>1&&(Ee.push(1),Ue>2&&Ee.push("..."));for(let Ce=Ue;Ce<=de;Ce++)Ee.push(Ce);return de<ye&&(de<ye-1&&Ee.push("..."),Ee.push(ye)),Ee.map((Ce,ue)=>{if(Ce==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${ue}`);const $e=Ce;return t.jsx("button",{className:`pagination-page-btn ${Y===$e?"active":""}`,onClick:async()=>{l($e),await ee()},disabled:!W||S.length===0,children:$e},$e)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Ee=Math.min(ye,Y+1);l(Ee),await ee()},disabled:Y===ye||ye===0||!W||S.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},aae=()=>{const r=Tn(),e=Ka(),[n,a]=k.useState({page:1,pageSize:25,createdFromDate:"",createdToDate:"",companyId:"",roleId:"",status:"All",employmentType:"All",searchText:"",sortBy:"createdOn",sortOrder:"DESC"}),[i,s]=k.useState({createdFromDate:"",createdToDate:"",companyId:"",roleId:"",status:"All",employmentType:"All"}),[c,l]=k.useState(!1),u=n.searchText||"",[o,h]=k.useState([]),[d,A]=k.useState([]),[f,g]=k.useState([]),[m,x]=k.useState([]),[y,b]=k.useState(!1),[w,S]=k.useState(!1),[N,C]=k.useState(null),O=n.page||1,W=n.pageSize||25,K=k.useRef(null),te=k.useRef(null),[q,Y]=k.useState(null),[P,ce]=k.useState({totalUsers:0,activeUsers:0,inactiveUsers:0});k.useEffect(()=>{(async()=>{try{const[de,Ce]=await Promise.all([Ha.getAllCompanies(),Kp.getAllRoles()]);h(de),A(Ce)}catch(de){console.error("Error loading master data:",de)}})()},[]);const $=n.companyId?d.filter(Ue=>Ue.companyId===n.companyId):d,R=()=>{var Ue;return!!(n.createdFromDate||n.createdToDate||n.companyId||n.roleId||n.status&&n.status!=="All"||n.employmentType&&n.employmentType!=="All"||(Ue=n.searchText)!=null&&Ue.trim())},se=()=>{if(!R())return"No filters applied. Select a date range or search to view users.";const Ue=[];if(n.createdFromDate&&n.createdToDate){const de=new Date(n.createdFromDate),Ce=new Date(n.createdToDate),ue=de.toLocaleDateString("en-US",{month:"short",day:"numeric"}),$e=Ce.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});Ue.push(`${ue} - ${$e}`)}else if(n.createdFromDate||n.createdToDate){if(n.createdFromDate){const de=new Date(n.createdFromDate);Ue.push(`From ${de.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}if(n.createdToDate){const de=new Date(n.createdToDate);Ue.push(`To ${de.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}}if(n.companyId){const de=o.find(Ce=>Ce.id===n.companyId);Ue.push(de?de.companyName:"Selected Company")}else Ue.push("All Companies");if(n.roleId){const de=$.find(Ce=>Ce.roleId===n.roleId);Ue.push(de?de.roleName:"Selected Role")}else Ue.push("All Roles");return n.status&&n.status!=="All"?Ue.push(n.status):Ue.push("All Status"),`Showing users for: ${Ue.join("  ")}`},fe=(Ue,de)=>{s(Ce=>({...Ce,[Ue]:de}))},Te=()=>{a(Ue=>({...Ue,createdFromDate:i.createdFromDate||"",createdToDate:i.createdToDate||"",companyId:i.companyId||"",roleId:i.roleId||"",status:i.status||"All",employmentType:i.employmentType||"All",page:1}))},Ie=()=>{const Ue={page:1,pageSize:n.pageSize||25,createdFromDate:"",createdToDate:"",companyId:"",roleId:"",status:"All",employmentType:"All",searchText:"",sortBy:"createdOn",sortOrder:"DESC"};a(Ue),s({createdFromDate:"",createdToDate:"",companyId:"",roleId:"",status:"All",employmentType:"All"})},_e=(Ue,de)=>{a(Ce=>({...Ce,page:Ue,...de!==void 0&&{pageSize:de}}))},Z=Ue=>{a(de=>({...de,searchText:Ue,page:1}))},Oe=[{value:"All",label:"All Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"},{value:"Draft",label:"Draft"}],ee=[{value:"All",label:"All Types"},{value:"Permanent",label:"Permanent"},{value:"Contract",label:"Contract"},{value:"Part-time",label:"Part-time"}],re=async()=>{var Ue;b(!0),C(null);try{let de=[];if(n.companyId)de=await Kl.getUsersByCompany(n.companyId);else{const Et=o.length>0?o:await Ha.getAllCompanies();for(const Ct of Et)try{const Bt=await Kl.getUsersByCompany(Ct.id);de.push(...Bt)}catch(Bt){console.warn(`Failed to load users for company ${Ct.companyName}:`,Bt)}}let Ce=de;if(n.createdFromDate){const Et=new Date(n.createdFromDate);Ce=Ce.filter(Ct=>new Date(Ct.createdOn)>=Et)}if(n.createdToDate){const Et=new Date(n.createdToDate);Et.setHours(23,59,59,999),Ce=Ce.filter(Ct=>new Date(Ct.createdOn)<=Et)}if(n.roleId&&(Ce=Ce.filter(Et=>Et.userRoleId===n.roleId)),n.status&&n.status!=="All"&&(Ce=Ce.filter(Et=>Et.status===n.status)),n.employmentType&&n.employmentType!=="All"&&(Ce=Ce.filter(Et=>Et.employmentType===n.employmentType)),(Ue=n.searchText)!=null&&Ue.trim()){const Et=n.searchText.toLowerCase().trim();Ce=Ce.filter(Ct=>{const Bt=(Ct.userName||"").toLowerCase(),mr=(Ct.employeeCode||"").toLowerCase(),lr=(Ct.emailAddress||"").toLowerCase(),He=(Ct.mobileNumber||"").toLowerCase();return Bt.includes(Et)||mr.includes(Et)||lr.includes(Et)||He.includes(Et)})}Ce.sort((Et,Ct)=>{const Bt=Et[n.sortBy]||"",mr=Ct[n.sortBy]||"";return n.sortOrder==="ASC"?Bt>mr?1:-1:Bt<mr?1:-1});const ue=(O-1)*W,$e=ue+W,it=Ce.slice(ue,$e);g(Ce),x(it),S(!0),ce({totalUsers:Ce.length,activeUsers:Ce.filter(Et=>Et.status==="Active").length,inactiveUsers:Ce.filter(Et=>Et.status==="Inactive").length})}catch(de){console.error("Error loading users:",de),C(de.message||"Failed to load users"),g([]),x([])}finally{b(!1)}};k.useEffect(()=>{if(o.length>0){const Ue=setTimeout(()=>{re()},500);return()=>clearTimeout(Ue)}},[n,o]);const je=async()=>{Te(),l(!1),await re()},Ne=async()=>{Ie(),l(!1),await re()},ye=Ue=>Ue?new Date(Ue).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",me=Ue=>{switch(Ue){case"Active":return"status-badge status-badge--active";case"Inactive":return"status-badge status-badge--inactive";case"Draft":return"status-badge status-badge--draft";default:return"status-badge status-badge--active"}},ie=w&&P.totalUsers>0?Math.ceil(P.totalUsers/W):0,le=(O-1)*W,Ee=Math.min(le+m.length,P.totalUsers),Re=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(Nc,{navItems:Re,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"User Report"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"User Report"}),!R()&&t.jsx("div",{className:"page-context-subtitle",children:se()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${y?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by User Name, Employee Code, Email, Mobile Number",value:u,onChange:Ue=>Z(Ue.target.value),onKeyDown:Ue=>{Ue.key==="Enter"&&!y&&(Ue.preventDefault(),re())},disabled:y}),u&&!y&&t.jsx("button",{className:"clear-search-btn",onClick:()=>{Z(""),re()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:te,className:`btn btn-filters-toggle ${c?"active":""} ${y?"loading":""}`,onClick:()=>{if(!y){if(c||(fe("companyId",n.companyId||""),fe("roleId",n.roleId||""),fe("status",n.status||"All"),fe("employmentType",n.employmentType||"All"),fe("createdFromDate",n.createdFromDate||""),fe("createdToDate",n.createdToDate||"")),te.current){const Ue=te.current.getBoundingClientRect();Y({top:Ue.bottom+8,left:Ue.left})}l(!c)}},disabled:y,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[i.companyId,i.roleId,i.status&&i.status!=="All"?i.status:"",i.employmentType&&i.employmentType!=="All"?i.employmentType:"",i.createdFromDate,i.createdToDate].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[i.companyId,i.roleId,i.status&&i.status!=="All"?i.status:"",i.employmentType&&i.employmentType!=="All"?i.employmentType:"",i.createdFromDate,i.createdToDate].filter(Boolean).length})]})]}),c&&Qc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),Y(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:Ue=>Ue.stopPropagation(),style:q?{position:"fixed",top:`${q.top}px`,left:`${q.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{fe("companyId",""),fe("roleId",""),fe("createdFromDate",""),fe("createdToDate",""),fe("status","All"),fe("employmentType","All")},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Created Date"}),t.jsxs("div",{className:"filter-date-range",children:[t.jsx("input",{type:"date",className:"filter-modal-input",value:i.createdFromDate||"",onChange:Ue=>fe("createdFromDate",Ue.target.value),placeholder:"Select Date"}),t.jsx("span",{className:"filter-date-separator",children:"to"}),t.jsx("input",{type:"date",className:"filter-modal-input",value:i.createdToDate||"",onChange:Ue=>fe("createdToDate",Ue.target.value),placeholder:"Select Date"})]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.companyId||"",onChange:Ue=>{fe("companyId",Ue.target.value),fe("roleId","")},children:[t.jsx("option",{value:"",children:"Select Company Name"}),o.map(Ue=>t.jsxs("option",{value:Ue.id,children:[Ue.companyCode," - ",Ue.companyName]},Ue.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Role"}),t.jsxs("select",{className:"filter-modal-select",value:i.roleId||"",onChange:Ue=>fe("roleId",Ue.target.value),disabled:!i.companyId,children:[t.jsx("option",{value:"",children:"Select Role"}),(i.companyId?d.filter(Ue=>Ue.companyId===i.companyId):d).map(Ue=>t.jsx("option",{value:Ue.roleId,children:Ue.roleName},Ue.roleId))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Status"}),t.jsx("select",{className:"filter-modal-select",value:i.status||"All",onChange:Ue=>fe("status",Ue.target.value),children:Oe.map(Ue=>t.jsx("option",{value:Ue.value,children:Ue.label},Ue.value))})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Employment Type"}),t.jsx("select",{className:"filter-modal-select",value:i.employmentType||"All",onChange:Ue=>fe("employmentType",Ue.target.value),children:ee.map(Ue=>t.jsx("option",{value:Ue.value,children:Ue.label},Ue.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:je,disabled:y,children:y?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),t.jsxs("div",{className:"results-section",ref:K,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"User Name"}),t.jsx("th",{children:"Employee Code"}),t.jsx("th",{children:"Email"}),t.jsx("th",{children:"Mobile"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"Role"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Employment Type"}),t.jsx("th",{children:"Created Date"})]})}),t.jsx("tbody",{className:"table-body",children:y?Array.from({length:5}).map((Ue,de)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})})]},`skeleton-${de}`)):w?m.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:9,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),t.jsx("path",{d:"M20 8v6M23 11h-6"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No users found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No users match "${u.trim()}". Try adjusting your search or filters.`:R()?"No users match the current filters. Try adjusting your filter criteria.":"No users available. Use the search bar or apply filters to view reports."}),(R()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:Ne,children:"Clear Filters"})})]})})}):m.map((Ue,de)=>{const Ce=d.find($e=>$e.roleId===Ue.userRoleId),ue=o.find($e=>$e.id===Ue.companyId);return t.jsxs("tr",{className:de%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:Ue.userName}),t.jsx("td",{children:Ue.employeeCode||"N/A"}),t.jsx("td",{children:Ue.emailAddress||"N/A"}),t.jsx("td",{children:Ue.mobileNumber}),t.jsx("td",{children:(ue==null?void 0:ue.companyName)||"N/A"}),t.jsx("td",{children:(Ce==null?void 0:Ce.roleName)||"N/A"}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:me(Ue.status),children:Ue.status})}),t.jsx("td",{children:Ue.employmentType||"N/A"}),t.jsx("td",{children:ye(Ue.createdOn)})]},Ue.userId)}):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:9,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),t.jsx("path",{d:"M20 8v6M23 11h-6"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No users found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view user reports"})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:w&&m.length>0?`Showing ${Ee} of ${P.totalUsers} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:W,disabled:!w||m.length===0,onChange:async Ue=>{_e(1,Number(Ue.target.value)),await re()},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Ue=Math.max(1,O-1);_e(Ue),await re()},disabled:O===1||!w||m.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const Ue=[];let Ce=Math.max(1,O-Math.floor(2.5)),ue=Math.min(ie,Ce+5-1);ue-Ce<4&&(Ce=Math.max(1,ue-5+1)),Ce>1&&(Ue.push(1),Ce>2&&Ue.push("..."));for(let $e=Ce;$e<=ue;$e++)Ue.push($e);return ue<ie&&(ue<ie-1&&Ue.push("..."),Ue.push(ie)),Ue.map(($e,it)=>{if($e==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${it}`);const Et=$e;return t.jsx("button",{className:`pagination-page-btn ${O===Et?"active":""}`,onClick:async()=>{_e(Et),await re()},disabled:!w||m.length===0,children:Et},Et)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Ue=Math.min(ie,O+1);_e(Ue),await re()},disabled:O===ie||ie===0||!w||m.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},iae=()=>{const r=Tn(),e=Ka(),[n,a]=k.useState({page:1,pageSize:25,createdFromDate:"",createdToDate:"",companyId:"",vehMake:"",status:"All",complianceStatus:"All",searchText:"",sortBy:"createdOn",sortOrder:"DESC"}),[i,s]=k.useState({createdFromDate:"",createdToDate:"",companyId:"",vehMake:"",status:"All",complianceStatus:"All"}),[c,l]=k.useState(!1),u=n.searchText||"",[o,h]=k.useState([]),[d,A]=k.useState([]),[f,g]=k.useState([]),[m,x]=k.useState(!1),[y,b]=k.useState(!1),[w,S]=k.useState(null),N=n.page||1,C=n.pageSize||25,O=k.useRef(null),W=k.useRef(null),[K,te]=k.useState(null),[q,Y]=k.useState({totalFleets:0,activeFleets:0,inactiveFleets:0});k.useEffect(()=>{(async()=>{try{const Ce=await Ha.getAllCompanies();h(Ce)}catch(Ce){console.error("Error loading master data:",Ce)}})()},[]);const P=()=>{var de;return!!(n.createdFromDate||n.createdToDate||n.companyId||n.vehMake||n.status&&n.status!=="All"||n.complianceStatus&&n.complianceStatus!=="All"||(de=n.searchText)!=null&&de.trim())},ce=()=>{if(!P())return"No filters applied. Select a date range or search to view fleet vehicles.";const de=[];if(n.createdFromDate&&n.createdToDate){const Ce=new Date(n.createdFromDate),ue=new Date(n.createdToDate),$e=Ce.toLocaleDateString("en-US",{month:"short",day:"numeric"}),it=ue.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});de.push(`${$e} - ${it}`)}else if(n.createdFromDate||n.createdToDate){if(n.createdFromDate){const Ce=new Date(n.createdFromDate);de.push(`From ${Ce.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}if(n.createdToDate){const Ce=new Date(n.createdToDate);de.push(`To ${Ce.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}}if(n.companyId){const Ce=o.find(ue=>ue.id===n.companyId);de.push(Ce?Ce.companyName:"Selected Company")}else de.push("All Companies");return n.vehMake&&n.vehMake!=="All"&&de.push(`Make: ${n.vehMake}`),n.status&&n.status!=="All"?de.push(n.status):de.push("All Status"),n.complianceStatus&&n.complianceStatus!=="All"&&de.push(`Compliance: ${n.complianceStatus}`),`Showing fleet vehicles for: ${de.join("  ")}`},$=(de,Ce)=>{s(ue=>({...ue,[de]:Ce}))},R=()=>{a(de=>({...de,createdFromDate:i.createdFromDate||"",createdToDate:i.createdToDate||"",companyId:i.companyId||"",vehMake:i.vehMake||"",status:i.status||"All",complianceStatus:i.complianceStatus||"All",page:1}))},se=()=>{const de={page:1,pageSize:n.pageSize||25,createdFromDate:"",createdToDate:"",companyId:"",vehMake:"",status:"All",complianceStatus:"All",searchText:"",sortBy:"createdOn",sortOrder:"DESC"};a(de),s({createdFromDate:"",createdToDate:"",companyId:"",vehMake:"",status:"All",complianceStatus:"All"})},fe=(de,Ce)=>{a(ue=>({...ue,page:de,...Ce!==void 0&&{pageSize:Ce}}))},Te=de=>{a(Ce=>({...Ce,searchText:de,page:1}))},Ie=[{value:"All",label:"All Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],_e=[{value:"All",label:"All"},{value:"Compliant",label:"Compliant"},{value:"Expiring Soon",label:"Expiring Soon"},{value:"Expired",label:"Expired"}],Z=()=>{const de=new Set;return d.forEach(Ce=>{Ce.vehMake&&de.add(Ce.vehMake)}),Array.from(de).sort()},Oe=de=>{const Ce=new Date;Ce.setHours(0,0,0,0);const ue=[de.nextFCDate?new Date(de.nextFCDate):null,de.pucDateValidUpto?new Date(de.pucDateValidUpto):null,de.insuranceValidUpto?new Date(de.insuranceValidUpto):null].filter(Boolean);if(ue.length===0)return"Compliant";if(ue.filter(Ct=>Ct<Ce).length>0)return"Expired";const it=new Date(Ce);return it.setDate(it.getDate()+30),ue.filter(Ct=>Ct<=it&&Ct>=Ce).length>0?"Expiring Soon":"Compliant"},ee=async()=>{var de;x(!0),S(null);try{let Ce=[];if(n.companyId)Ce=await _h.getAllFleets(n.companyId);else{const Ct=o.length>0?o:await Ha.getAllCompanies();for(const Bt of Ct)try{const mr=await _h.getAllFleets(Bt.id);Ce.push(...mr)}catch(mr){console.warn(`Failed to load fleets for company ${Bt.companyName}:`,mr)}}let ue=Ce;if(n.createdFromDate){const Ct=new Date(n.createdFromDate);ue=ue.filter(Bt=>new Date(Bt.createdOn)>=Ct)}if(n.createdToDate){const Ct=new Date(n.createdToDate);Ct.setHours(23,59,59,999),ue=ue.filter(Bt=>new Date(Bt.createdOn)<=Ct)}if(n.companyId&&(ue=ue.filter(Ct=>Ct.companyId===n.companyId)),n.vehMake&&n.vehMake!=="All"&&(ue=ue.filter(Ct=>Ct.vehMake===n.vehMake)),n.status&&n.status!=="All"&&(ue=ue.filter(Ct=>Ct.status===n.status)),n.complianceStatus&&n.complianceStatus!=="All"&&(ue=ue.filter(Ct=>Oe(Ct)===n.complianceStatus)),(de=n.searchText)!=null&&de.trim()){const Ct=n.searchText.toLowerCase().trim();ue=ue.filter(Bt=>{const mr=(Bt.vehicleNum||"").toLowerCase(),lr=(Bt.vehMake||"").toLowerCase(),He=(Bt.vehModel||"").toLowerCase(),$t=(Bt.ownerName||"").toLowerCase(),Nt=(Bt.ownerContact||"").toLowerCase(),Dr=(Bt.capacity||"").toLowerCase();return mr.includes(Ct)||lr.includes(Ct)||He.includes(Ct)||$t.includes(Ct)||Nt.includes(Ct)||Dr.includes(Ct)})}ue.sort((Ct,Bt)=>{const mr=Ct[n.sortBy]||"",lr=Bt[n.sortBy]||"";return n.sortOrder==="ASC"?mr>lr?1:-1:mr<lr?1:-1});const $e=(N-1)*C,it=$e+C,Et=ue.slice($e,it);A(ue),g(Et),b(!0),Y({totalFleets:ue.length,activeFleets:ue.filter(Ct=>Ct.status==="Active").length,inactiveFleets:ue.filter(Ct=>Ct.status==="Inactive").length})}catch(Ce){console.error("Error loading fleets:",Ce),S(Ce.message||"Failed to load fleet vehicles"),A([]),g([])}finally{x(!1)}};k.useEffect(()=>{if(o.length>0){const de=setTimeout(()=>{ee()},500);return()=>clearTimeout(de)}},[n,o]);const re=async()=>{R(),l(!1),await ee()},je=async()=>{se(),l(!1),await ee()},Ne=de=>de?new Date(de).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",ye=de=>{switch(de){case"Active":return"status-badge status-badge--active";case"Inactive":return"status-badge status-badge--inactive";default:return"status-badge status-badge--active"}},me=de=>{switch(de){case"Compliant":return"status-badge status-badge--compliant";case"Expiring Soon":return"status-badge status-badge--expiring";case"Expired":return"status-badge status-badge--expired";default:return"status-badge status-badge--compliant"}},ie=y&&q.totalFleets>0?Math.ceil(q.totalFleets/C):0,le=(N-1)*C,Ee=Math.min(le+f.length,q.totalFleets),Re=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}],Ue=Z();return t.jsx(Nc,{navItems:Re,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Fleet Master Report"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Fleet Master Report"}),!P()&&t.jsx("div",{className:"page-context-subtitle",children:ce()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${m?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Vehicle Number, Make, Model, Owner Name, Contact, Capacity",value:u,onChange:de=>Te(de.target.value),onKeyDown:de=>{de.key==="Enter"&&!m&&(de.preventDefault(),ee())},disabled:m}),u&&!m&&t.jsx("button",{className:"clear-search-btn",onClick:()=>{Te(""),ee()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:W,className:`btn btn-filters-toggle ${c?"active":""} ${m?"loading":""}`,onClick:()=>{if(!m){if(c||($("companyId",n.companyId||""),$("vehMake",n.vehMake||""),$("status",n.status||"All"),$("complianceStatus",n.complianceStatus||"All"),$("createdFromDate",n.createdFromDate||""),$("createdToDate",n.createdToDate||"")),W.current){const de=W.current.getBoundingClientRect();te({top:de.bottom+8,left:de.left})}l(!c)}},disabled:m,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[i.companyId,i.vehMake&&i.vehMake!=="All"?i.vehMake:"",i.status&&i.status!=="All"?i.status:"",i.complianceStatus&&i.complianceStatus!=="All"?i.complianceStatus:"",i.createdFromDate,i.createdToDate].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[i.companyId,i.vehMake&&i.vehMake!=="All"?i.vehMake:"",i.status&&i.status!=="All"?i.status:"",i.complianceStatus&&i.complianceStatus!=="All"?i.complianceStatus:"",i.createdFromDate,i.createdToDate].filter(Boolean).length})]})]}),c&&Qc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),te(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:de=>de.stopPropagation(),style:K?{position:"fixed",top:`${K.top}px`,left:`${K.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{$("companyId",""),$("vehMake",""),$("createdFromDate",""),$("createdToDate",""),$("status","All"),$("complianceStatus","All")},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Created Date"}),t.jsxs("div",{className:"filter-date-range",children:[t.jsx("input",{type:"date",className:"filter-modal-input",value:i.createdFromDate||"",onChange:de=>$("createdFromDate",de.target.value),placeholder:"Select Date"}),t.jsx("span",{className:"filter-date-separator",children:"to"}),t.jsx("input",{type:"date",className:"filter-modal-input",value:i.createdToDate||"",onChange:de=>$("createdToDate",de.target.value),placeholder:"Select Date"})]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.companyId||"",onChange:de=>$("companyId",de.target.value),children:[t.jsx("option",{value:"",children:"Select Company Name"}),o.map(de=>t.jsxs("option",{value:de.id,children:[de.companyCode," - ",de.companyName]},de.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Vehicle Make"}),t.jsxs("select",{className:"filter-modal-select",value:i.vehMake||"All",onChange:de=>$("vehMake",de.target.value),children:[t.jsx("option",{value:"All",children:"All Makes"}),Ue.map(de=>t.jsx("option",{value:de,children:de},de))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Status"}),t.jsx("select",{className:"filter-modal-select",value:i.status||"All",onChange:de=>$("status",de.target.value),children:Ie.map(de=>t.jsx("option",{value:de.value,children:de.label},de.value))})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Compliance Status"}),t.jsx("select",{className:"filter-modal-select",value:i.complianceStatus||"All",onChange:de=>$("complianceStatus",de.target.value),children:_e.map(de=>t.jsx("option",{value:de.value,children:de.label},de.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:re,disabled:m,children:m?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),t.jsxs("div",{className:"results-section",ref:O,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Vehicle Number"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"Make"}),t.jsx("th",{children:"Model"}),t.jsx("th",{children:"Capacity"}),t.jsx("th",{children:"Owner Name"}),t.jsx("th",{children:"Owner Contact"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Compliance"}),t.jsx("th",{children:"Created Date"})]})}),t.jsx("tbody",{className:"table-body",children:m?Array.from({length:5}).map((de,Ce)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})})]},`skeleton-${Ce}`)):y?f.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:10,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),t.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No fleet vehicles found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No vehicles match "${u.trim()}". Try adjusting your search or filters.`:P()?"No vehicles match the current filters. Try adjusting your filter criteria.":"No vehicles available. Use the search bar or apply filters to view reports."}),(P()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:je,children:"Clear Filters"})})]})})}):f.map((de,Ce)=>{const ue=o.find(it=>it.id===de.companyId),$e=Oe(de);return t.jsxs("tr",{className:Ce%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:de.vehicleNum}),t.jsx("td",{children:(ue==null?void 0:ue.companyName)||"N/A"}),t.jsx("td",{children:de.vehMake||"N/A"}),t.jsx("td",{children:de.vehModel||"N/A"}),t.jsx("td",{children:de.capacity||"N/A"}),t.jsx("td",{children:de.ownerName||"N/A"}),t.jsx("td",{children:de.ownerContact||"N/A"}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:ye(de.status),children:de.status})}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:me($e),children:$e})}),t.jsx("td",{children:Ne(de.createdOn)})]},de.id)}):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:10,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),t.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No fleet vehicles found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view fleet reports"})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:y&&f.length>0?`Showing ${Ee} of ${q.totalFleets} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:C,disabled:!y||f.length===0,onChange:async de=>{fe(1,Number(de.target.value)),await ee()},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const de=Math.max(1,N-1);fe(de),await ee()},disabled:N===1||!y||f.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const de=[];let ue=Math.max(1,N-Math.floor(2.5)),$e=Math.min(ie,ue+5-1);$e-ue<4&&(ue=Math.max(1,$e-5+1)),ue>1&&(de.push(1),ue>2&&de.push("..."));for(let it=ue;it<=$e;it++)de.push(it);return $e<ie&&($e<ie-1&&de.push("..."),de.push(ie)),de.map((it,Et)=>{if(it==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${Et}`);const Ct=it;return t.jsx("button",{className:`pagination-page-btn ${N===Ct?"active":""}`,onClick:async()=>{fe(Ct),await ee()},disabled:!y||f.length===0,children:Ct},Ct)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const de=Math.min(ie,N+1);fe(de),await ee()},disabled:N===ie||ie===0||!y||f.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},A_=()=>{const r=Tn(),e=Ka(),[n,a]=k.useState({page:1,pageSize:25,fromDate:"",toDate:"",companyId:"",hcfId:"",groupBy:"Company",searchText:"",sortBy:"invoiceDate",sortOrder:"DESC"}),[i,s]=k.useState({fromDate:"",toDate:"",companyId:"",hcfId:"",groupBy:"Company"}),[c,l]=k.useState(!1),u=n.searchText||"",[o,h]=k.useState([]),[d,A]=k.useState([]),[f,g]=k.useState([]),[m,x]=k.useState([]),[y,b]=k.useState(!1),[w,S]=k.useState(!1),[N,C]=k.useState(null),O=n.page||1,W=n.pageSize||25,K=k.useRef(null),te=k.useRef(null),[q,Y]=k.useState(null),[P,ce]=k.useState({totalRevenue:0,totalInvoices:0,paidAmount:0});k.useEffect(()=>{(async()=>{try{const[me,ie]=await Promise.all([Ha.getAllCompanies(),Fs.getAllHcfs()]);h(me),A(ie)}catch(me){console.error("Error loading master data:",me)}})()},[]);const $=n.companyId?d.filter(ye=>ye.companyId===n.companyId):d,R=()=>{var ye;return!!(n.fromDate||n.toDate||n.companyId||n.hcfId||(ye=n.searchText)!=null&&ye.trim())},se=()=>{if(!R())return"No filters applied. Select a date range or search to view revenue analysis.";const ye=[];if(n.fromDate&&n.toDate){const me=new Date(n.fromDate),ie=new Date(n.toDate),le=me.toLocaleDateString("en-US",{month:"short",day:"numeric"}),Ee=ie.toLocaleDateString("en-US",{month:"short",day:"numeric"});ye.push(`Date: ${le}${Ee}`)}if(n.companyId){const me=o.find(ie=>ie.id===n.companyId);me&&ye.push(`Company: ${me.companyName}`)}if(n.hcfId){const me=$.find(ie=>ie.id===n.hcfId);me&&ye.push(`HCF: ${me.hcfCode}`)}return n.groupBy&&ye.push(`Group By: ${n.groupBy}`),ye.join("  ")},fe=[{value:"Company",label:"By Company"},{value:"HCF",label:"By HCF"},{value:"Month",label:"By Month"},{value:"Quarter",label:"By Quarter"},{value:"Year",label:"By Year"}],Te=async()=>{var ye;b(!0),C(null);try{const me={page:n.page||1,pageSize:n.pageSize||25,invoiceFromDate:n.fromDate||void 0,invoiceToDate:n.toDate||void 0,companyId:n.companyId||void 0,hcfId:n.hcfId||void 0};let le=((await Y0(me)).data||[]).map(de=>({invoiceId:de.invoiceId,companyId:de.companyId,hcfId:de.hcfId,invoiceNumber:de.invoiceNumber,invoiceDate:de.invoiceDate,dueDate:de.dueDate,billingType:de.billingType,billingDays:null,billingOption:"Bed-wise",generationType:"Manual",bedCount:null,bedRate:null,weightInKg:null,kgRate:null,lumpsumAmount:null,taxableValue:0,igst:0,cgst:0,sgst:0,roundOff:0,invoiceValue:de.invoiceValue,totalPaidAmount:de.totalPaidAmount,balanceAmount:de.balanceAmount,status:de.status,isLocked:!1,lockedAfterDate:null,financialYear:"",sequenceNumber:0,billingPeriodStart:null,billingPeriodEnd:null,notes:null,createdBy:null,createdOn:new Date().toISOString(),modifiedBy:null,modifiedOn:new Date().toISOString(),companyName:de.companyName,companyCode:de.companyCode,hcfName:de.hcfName,hcfCode:de.hcfCode}));if((ye=n.searchText)!=null&&ye.trim()){const de=n.searchText.toLowerCase().trim();le=le.filter(Ce=>{const ue=(Ce.invoiceNumber||"").toLowerCase(),$e=(Ce.companyName||"").toLowerCase(),it=(Ce.hcfCode||"").toLowerCase();return ue.includes(de)||$e.includes(de)||it.includes(de)||Ce.invoiceValue.toString().includes(de)})}le.sort((de,Ce)=>{const ue=de[n.sortBy]||"",$e=Ce[n.sortBy]||"";return n.sortOrder==="ASC"?ue>$e?1:-1:ue<$e?1:-1});const Ee=(O-1)*W,Re=Ee+W,Ue=le.slice(Ee,Re);g(le),x(Ue),S(!0),ce({totalRevenue:le.reduce((de,Ce)=>de+(Ce.invoiceValue||0),0),totalInvoices:le.length,paidAmount:le.reduce((de,Ce)=>de+(Ce.totalPaidAmount||0),0)})}catch(me){console.error("Error loading revenue data:",me),C(me.message||"Failed to load revenue analysis data"),g([]),x([])}finally{b(!1)}},Ie=async()=>{a(ye=>({...ye,fromDate:i.fromDate||"",toDate:i.toDate||"",companyId:i.companyId||"",hcfId:i.hcfId||"",groupBy:i.groupBy||"Company",page:1})),l(!1),await Te()},_e=async()=>{a({page:1,pageSize:25,fromDate:"",toDate:"",companyId:"",hcfId:"",groupBy:"Company",searchText:"",sortBy:"invoiceDate",sortOrder:"DESC"}),s({fromDate:"",toDate:"",companyId:"",hcfId:"",groupBy:"Company"}),l(!1),await Te()};k.useEffect(()=>{if(o.length>0||!n.companyId){const ye=setTimeout(()=>{Te()},500);return()=>clearTimeout(ye)}},[n,o]);const Z=ye=>ye==null?"0.00":`${ye.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`,Oe=ye=>ye?new Date(ye).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",ee=w&&P.totalInvoices>0?Math.ceil(P.totalInvoices/W):0,re=(O-1)*W,je=Math.min(re+m.length,P.totalInvoices),Ne=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(Nc,{navItems:Ne,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Revenue Analysis"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Revenue Analysis Report"}),!R()&&t.jsx("div",{className:"page-context-subtitle",children:se()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${y?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Invoice Number, Company, HCF, Amount",value:u,onChange:ye=>a(me=>({...me,searchText:ye.target.value,page:1})),onKeyDown:ye=>{ye.key==="Enter"&&!y&&(ye.preventDefault(),Te())},disabled:y}),u&&!y&&t.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(ye=>({...ye,searchText:"",page:1})),(w||R())&&await Te()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:te,className:`btn btn-filters-toggle ${c?"active":""} ${y?"loading":""}`,onClick:()=>{if(!y){if(c||s({fromDate:n.fromDate||"",toDate:n.toDate||"",companyId:n.companyId||"",hcfId:n.hcfId||"",groupBy:n.groupBy||"Company"}),te.current){const ye=te.current.getBoundingClientRect();Y({top:ye.bottom+8,left:ye.left})}l(!c)}},disabled:y,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfId,n.fromDate,n.toDate].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfId,n.fromDate,n.toDate].filter(Boolean).length})]})]}),c&&Qc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),Y(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:ye=>ye.stopPropagation(),style:q?{position:"fixed",top:`${q.top}px`,left:`${q.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{s({fromDate:"",toDate:"",companyId:"",hcfId:"",groupBy:"Company"})},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Date Range"}),t.jsxs("div",{className:"filter-date-range",children:[t.jsx("input",{type:"date",className:"filter-modal-input",value:i.fromDate||"",onChange:ye=>s(me=>({...me,fromDate:ye.target.value})),placeholder:"From Date"}),t.jsx("span",{className:"filter-date-separator",children:"to"}),t.jsx("input",{type:"date",className:"filter-modal-input",value:i.toDate||"",onChange:ye=>s(me=>({...me,toDate:ye.target.value})),placeholder:"To Date"})]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.companyId||"",onChange:ye=>{s(me=>({...me,companyId:ye.target.value,hcfId:""}))},children:[t.jsx("option",{value:"",children:"Select Company Name"}),o.map(ye=>t.jsxs("option",{value:ye.id,children:[ye.companyCode," - ",ye.companyName]},ye.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.hcfId||"",onChange:ye=>s(me=>({...me,hcfId:ye.target.value})),disabled:!i.companyId,children:[t.jsx("option",{value:"",children:"Select HCF Name"}),(i.companyId?d.filter(ye=>ye.companyId===i.companyId):d).map(ye=>t.jsxs("option",{value:ye.id,children:[ye.hcfCode," - ",ye.hcfName]},ye.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Group By"}),t.jsx("select",{className:"filter-modal-select",value:i.groupBy||"Company",onChange:ye=>s(me=>({...me,groupBy:ye.target.value})),children:fe.map(ye=>t.jsx("option",{value:ye.value,children:ye.label},ye.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await Ie(),l(!1)},disabled:y,children:y?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),N&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:N}),t.jsxs("div",{className:"results-section",ref:K,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Invoice No"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"HCF"}),t.jsx("th",{children:"Invoice Date"}),t.jsx("th",{className:"text-right",children:"Invoice Amount"}),t.jsx("th",{className:"text-right",children:"Paid Amount"}),t.jsx("th",{className:"text-right",children:"Revenue"})]})}),t.jsx("tbody",{className:"table-body",children:y?Array.from({length:5}).map((ye,me)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{className:"text-right",children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{className:"text-right",children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{className:"text-right",children:t.jsx("div",{className:"skeleton-cell"})})]},`skeleton-${me}`)):w?m.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:7,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No revenue data found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No data match "${u.trim()}". Try adjusting your search or filters.`:R()?"No data match the current filters. Try adjusting your filter criteria.":"No revenue data available. Use the search bar or apply filters to view reports."}),(R()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:_e,children:"Clear Filters"})})]})})}):m.map((ye,me)=>t.jsxs("tr",{className:me%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:ye.invoiceNumber}),t.jsx("td",{children:ye.companyName||"N/A"}),t.jsx("td",{children:ye.hcfCode||"N/A"}),t.jsx("td",{children:Oe(ye.invoiceDate)}),t.jsx("td",{className:"text-right",children:Z(ye.invoiceValue)}),t.jsx("td",{className:"text-right",children:Z(ye.totalPaidAmount)}),t.jsx("td",{className:"text-right",children:Z(ye.invoiceValue)})]},ye.invoiceId)):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:7,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No revenue data found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view revenue analysis reports."})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:w&&m.length>0?`Showing ${re+1}-${je} of ${P.totalInvoices} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:W,disabled:!w||m.length===0,onChange:async ye=>{a(me=>({...me,page:1,pageSize:Number(ye.target.value)}))},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ye=Math.max(1,O-1);a(me=>({...me,page:ye}))},disabled:O===1||!w||m.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const ye=[];let ie=Math.max(1,O-Math.floor(2.5)),le=Math.min(ee,ie+5-1);le-ie<4&&(ie=Math.max(1,le-5+1)),ie>1&&(ye.push(1),ie>2&&ye.push("..."));for(let Ee=ie;Ee<=le;Ee++)ye.push(Ee);return le<ee&&(le<ee-1&&ye.push("..."),ye.push(ee)),ye.map((Ee,Re)=>{if(Ee==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${Re}`);const Ue=Ee;return t.jsx("button",{className:`pagination-page-btn ${O===Ue?"active":""}`,onClick:async()=>{a(de=>({...de,page:Ue}))},disabled:!w||m.length===0,children:Ue},Ue)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ye=Math.min(ee,O+1);a(me=>({...me,page:ye}))},disabled:O===ee||ee===0||!w||m.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},f_=()=>{const r=Tn(),e=Ka(),[n,a]=k.useState({page:1,pageSize:25,fromDate:"",toDate:"",companyId:"",hcfId:"",agingPeriod:"All",searchText:"",sortBy:"invoiceDate",sortOrder:"DESC"}),[i,s]=k.useState({fromDate:"",toDate:"",companyId:"",hcfId:"",agingPeriod:"All"}),[c,l]=k.useState(!1),u=n.searchText||"",[o,h]=k.useState([]),[d,A]=k.useState([]),[f,g]=k.useState([]),[m,x]=k.useState([]),[y,b]=k.useState(!1),[w,S]=k.useState(!1),[N,C]=k.useState(null),O=n.page||1,W=n.pageSize||25,K=k.useRef(null),te=k.useRef(null),[q,Y]=k.useState(null),[P,ce]=k.useState({totalOutstanding:0,totalInvoices:0});k.useEffect(()=>{(async()=>{try{const[le,Ee]=await Promise.all([Ha.getAllCompanies(),Fs.getAllHcfs()]);h(le),A(Ee)}catch(le){console.error("Error loading master data:",le)}})()},[]);const $=n.companyId?d.filter(ie=>ie.companyId===n.companyId):d,R=()=>{var ie;return!!(n.fromDate||n.toDate||n.companyId||n.hcfId||n.agingPeriod&&n.agingPeriod!=="All"||(ie=n.searchText)!=null&&ie.trim())},se=()=>{if(!R())return"No filters applied. Select a date range or search to view outstanding payments.";const ie=[];if(n.fromDate&&n.toDate){const le=new Date(n.fromDate),Ee=new Date(n.toDate),Re=le.toLocaleDateString("en-US",{month:"short",day:"numeric"}),Ue=Ee.toLocaleDateString("en-US",{month:"short",day:"numeric"});ie.push(`Date: ${Re}${Ue}`)}if(n.companyId){const le=o.find(Ee=>Ee.id===n.companyId);le&&ie.push(`Company: ${le.companyName}`)}if(n.hcfId){const le=$.find(Ee=>Ee.id===n.hcfId);le&&ie.push(`HCF: ${le.hcfCode}`)}return n.agingPeriod&&n.agingPeriod!=="All"&&ie.push(`Aging: ${n.agingPeriod}`),ie.join("  ")},fe=[{value:"All",label:"All Periods"},{value:"0-30",label:"0-30 Days"},{value:"31-60",label:"31-60 Days"},{value:"61-90",label:"61-90 Days"},{value:"90+",label:"90+ Days"}],Te=ie=>{const le=new Date(ie),Re=Math.abs(new Date().getTime()-le.getTime());return Math.ceil(Re/(1e3*60*60*24))},Ie=async()=>{var ie;b(!0),C(null);try{const le={page:n.page||1,pageSize:n.pageSize||25,invoiceFromDate:n.fromDate||void 0,invoiceToDate:n.toDate||void 0,companyId:n.companyId||void 0,hcfId:n.hcfId||void 0};let Re=((await Y0(le)).data||[]).map(ue=>({invoiceId:ue.invoiceId,companyId:ue.companyId,hcfId:ue.hcfId,invoiceNumber:ue.invoiceNumber,invoiceDate:ue.invoiceDate,dueDate:ue.dueDate,billingType:ue.billingType,billingDays:null,billingOption:"Bed-wise",generationType:"Manual",bedCount:null,bedRate:null,weightInKg:null,kgRate:null,lumpsumAmount:null,taxableValue:0,igst:0,cgst:0,sgst:0,roundOff:0,invoiceValue:ue.invoiceValue,totalPaidAmount:ue.totalPaidAmount,balanceAmount:ue.balanceAmount,status:ue.status,isLocked:!1,lockedAfterDate:null,financialYear:"",sequenceNumber:0,billingPeriodStart:null,billingPeriodEnd:null,notes:null,createdBy:null,createdOn:new Date().toISOString(),modifiedBy:null,modifiedOn:new Date().toISOString(),companyName:ue.companyName,companyCode:ue.companyCode,hcfName:ue.hcfName,hcfCode:ue.hcfCode}));if(Re=Re.filter(ue=>(ue.balanceAmount||0)>0),(ie=n.searchText)!=null&&ie.trim()){const ue=n.searchText.toLowerCase().trim();Re=Re.filter($e=>{const it=($e.invoiceNumber||"").toLowerCase(),Et=($e.companyName||"").toLowerCase(),Ct=($e.hcfCode||"").toLowerCase();return it.includes(ue)||Et.includes(ue)||Ct.includes(ue)||$e.balanceAmount.toString().includes(ue)})}n.agingPeriod&&n.agingPeriod!=="All"&&(Re=Re.filter(ue=>{const $e=Te(ue.invoiceDate);switch(n.agingPeriod){case"0-30":return $e>=0&&$e<=30;case"31-60":return $e>=31&&$e<=60;case"61-90":return $e>=61&&$e<=90;case"90+":return $e>90;default:return!0}})),Re.sort((ue,$e)=>{const it=ue[n.sortBy]||"",Et=$e[n.sortBy]||"";return n.sortOrder==="ASC"?it>Et?1:-1:it<Et?1:-1});const Ue=(O-1)*W,de=Ue+W,Ce=Re.slice(Ue,de);g(Re),x(Ce),S(!0),ce({totalOutstanding:Re.reduce((ue,$e)=>ue+($e.balanceAmount||0),0),totalInvoices:Re.length})}catch(le){console.error("Error loading outstanding data:",le),C(le.message||"Failed to load outstanding payment data"),g([]),x([])}finally{b(!1)}},_e=async()=>{a(ie=>({...ie,fromDate:i.fromDate||"",toDate:i.toDate||"",companyId:i.companyId||"",hcfId:i.hcfId||"",agingPeriod:i.agingPeriod||"All",page:1})),l(!1),await Ie()},Z=async()=>{a({page:1,pageSize:25,fromDate:"",toDate:"",companyId:"",hcfId:"",agingPeriod:"All",searchText:"",sortBy:"invoiceDate",sortOrder:"DESC"}),s({fromDate:"",toDate:"",companyId:"",hcfId:"",agingPeriod:"All"}),l(!1),await Ie()};k.useEffect(()=>{if(o.length>0||!n.companyId){const ie=setTimeout(()=>{Ie()},500);return()=>clearTimeout(ie)}},[n,o]);const Oe=ie=>ie==null?"0.00":`${ie.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`,ee=ie=>ie?new Date(ie).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",re=ie=>{switch(ie){case"Paid":return"status-badge status-badge--paid";case"Partially Paid":return"status-badge status-badge--partial";case"Generated":return"status-badge status-badge--generated";case"Draft":return"status-badge status-badge--draft";case"Cancelled":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},je=w&&P.totalInvoices>0?Math.ceil(P.totalInvoices/W):0,Ne=(O-1)*W,ye=Math.min(Ne+m.length,P.totalInvoices),me=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(Nc,{navItems:me,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Outstanding Payment"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Outstanding Payment Report"}),!R()&&t.jsx("div",{className:"page-context-subtitle",children:se()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${y?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Invoice Number, Company, HCF, Amount",value:u,onChange:ie=>a(le=>({...le,searchText:ie.target.value,page:1})),onKeyDown:ie=>{ie.key==="Enter"&&!y&&(ie.preventDefault(),Ie())},disabled:y}),u&&!y&&t.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(ie=>({...ie,searchText:"",page:1})),(w||R())&&await Ie()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:te,className:`btn btn-filters-toggle ${c?"active":""} ${y?"loading":""}`,onClick:()=>{if(!y){if(c||s({fromDate:n.fromDate||"",toDate:n.toDate||"",companyId:n.companyId||"",hcfId:n.hcfId||"",agingPeriod:n.agingPeriod||"All"}),te.current){const ie=te.current.getBoundingClientRect();Y({top:ie.bottom+8,left:ie.left})}l(!c)}},disabled:y,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfId,n.fromDate,n.toDate,n.agingPeriod&&n.agingPeriod!=="All"?n.agingPeriod:""].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfId,n.fromDate,n.toDate,n.agingPeriod&&n.agingPeriod!=="All"?n.agingPeriod:""].filter(Boolean).length})]})]}),c&&Qc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),Y(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:ie=>ie.stopPropagation(),style:q?{position:"fixed",top:`${q.top}px`,left:`${q.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{s({fromDate:"",toDate:"",companyId:"",hcfId:"",agingPeriod:"All"})},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Invoice Date"}),t.jsxs("div",{className:"filter-date-range",children:[t.jsx("input",{type:"date",className:"filter-modal-input",value:i.fromDate||"",onChange:ie=>s(le=>({...le,fromDate:ie.target.value})),placeholder:"From Date"}),t.jsx("span",{className:"filter-date-separator",children:"to"}),t.jsx("input",{type:"date",className:"filter-modal-input",value:i.toDate||"",onChange:ie=>s(le=>({...le,toDate:ie.target.value})),placeholder:"To Date"})]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.companyId||"",onChange:ie=>{s(le=>({...le,companyId:ie.target.value,hcfId:""}))},children:[t.jsx("option",{value:"",children:"Select Company Name"}),o.map(ie=>t.jsxs("option",{value:ie.id,children:[ie.companyCode," - ",ie.companyName]},ie.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.hcfId||"",onChange:ie=>s(le=>({...le,hcfId:ie.target.value})),disabled:!i.companyId,children:[t.jsx("option",{value:"",children:"Select HCF Name"}),(i.companyId?d.filter(ie=>ie.companyId===i.companyId):d).map(ie=>t.jsxs("option",{value:ie.id,children:[ie.hcfCode," - ",ie.hcfName]},ie.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Aging Period"}),t.jsx("select",{className:"filter-modal-select",value:i.agingPeriod||"All",onChange:ie=>s(le=>({...le,agingPeriod:ie.target.value})),children:fe.map(ie=>t.jsx("option",{value:ie.value,children:ie.label},ie.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await _e(),l(!1)},disabled:y,children:y?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),N&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:N}),t.jsxs("div",{className:"results-section",ref:K,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Invoice No"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"HCF"}),t.jsx("th",{children:"Invoice Date"}),t.jsx("th",{children:"Due Date"}),t.jsx("th",{className:"text-right",children:"Invoice Amount"}),t.jsx("th",{className:"text-right",children:"Paid Amount"}),t.jsx("th",{className:"text-right",children:"Outstanding"}),t.jsx("th",{className:"text-center",children:"Status"})]})}),t.jsx("tbody",{className:"table-body",children:y?Array.from({length:5}).map((ie,le)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{className:"text-right",children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{className:"text-right",children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{className:"text-right",children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${le}`)):w?m.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:9,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No outstanding payments found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No outstanding payments match "${u.trim()}". Try adjusting your search or filters.`:R()?"No outstanding payments match the current filters. Try adjusting your filter criteria.":"No outstanding payments available. Use the search bar or apply filters to view reports."}),(R()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:Z,children:"Clear Filters"})})]})})}):m.map((ie,le)=>t.jsxs("tr",{className:le%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:ie.invoiceNumber}),t.jsx("td",{children:ie.companyName||"N/A"}),t.jsx("td",{children:ie.hcfCode||"N/A"}),t.jsx("td",{children:ee(ie.invoiceDate)}),t.jsx("td",{children:ee(ie.dueDate)}),t.jsx("td",{className:"text-right",children:Oe(ie.invoiceValue)}),t.jsx("td",{className:"text-right",children:Oe(ie.totalPaidAmount)}),t.jsx("td",{className:"text-right",children:Oe(ie.balanceAmount)}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:re(ie.status),children:ie.status})})]},ie.invoiceId)):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:9,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No outstanding payments found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view outstanding payment reports."})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:w&&m.length>0?`Showing ${Ne+1}-${ye} of ${P.totalInvoices} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:W,disabled:!w||m.length===0,onChange:async ie=>{a(le=>({...le,page:1,pageSize:Number(ie.target.value)}))},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ie=Math.max(1,O-1);a(le=>({...le,page:ie}))},disabled:O===1||!w||m.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const ie=[];let Ee=Math.max(1,O-Math.floor(2.5)),Re=Math.min(je,Ee+5-1);Re-Ee<4&&(Ee=Math.max(1,Re-5+1)),Ee>1&&(ie.push(1),Ee>2&&ie.push("..."));for(let Ue=Ee;Ue<=Re;Ue++)ie.push(Ue);return Re<je&&(Re<je-1&&ie.push("..."),ie.push(je)),ie.map((Ue,de)=>{if(Ue==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${de}`);const Ce=Ue;return t.jsx("button",{className:`pagination-page-btn ${O===Ce?"active":""}`,onClick:async()=>{a(ue=>({...ue,page:Ce}))},disabled:!w||m.length===0,children:Ce},Ce)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ie=Math.min(je,O+1);a(le=>({...le,page:ie}))},disabled:O===je||je===0||!w||m.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},sae=()=>{const r=Tn(),e=Ka(),[n,a]=k.useState({page:1,pageSize:25,companyId:"",hcfId:"",daysToExpiry:"All",searchText:"",sortBy:"endDate",sortOrder:"ASC"}),[i,s]=k.useState({companyId:"",hcfId:"",daysToExpiry:"All"}),[c,l]=k.useState(!1),u=n.searchText||"",[o,h]=k.useState([]),[d,A]=k.useState([]),[f,g]=k.useState([]),[m,x]=k.useState([]),[y,b]=k.useState(!1),[w,S]=k.useState(!1),[N,C]=k.useState(null),O=n.page||1,W=n.pageSize||25,K=k.useRef(null),te=k.useRef(null),[q,Y]=k.useState(null),[P,ce]=k.useState({totalContracts:0,expiringSoon:0});k.useEffect(()=>{(async()=>{try{const[le,Ee]=await Promise.all([Ha.getAllCompanies(),Fs.getAllHcfs()]);h(le),A(Ee)}catch(le){console.error("Error loading master data:",le)}})()},[]);const $=n.companyId?d.filter(ie=>ie.companyId===n.companyId):d,R=()=>{var ie;return!!(n.companyId||n.hcfId||n.daysToExpiry&&n.daysToExpiry!=="All"||(ie=n.searchText)!=null&&ie.trim())},se=()=>{if(!R())return"No filters applied. View contracts that are due for renewal.";const ie=[];if(n.companyId){const le=o.find(Ee=>Ee.id===n.companyId);le&&ie.push(`Company: ${le.companyName}`)}if(n.hcfId){const le=$.find(Ee=>Ee.id===n.hcfId);le&&ie.push(`HCF: ${le.hcfCode}`)}return n.daysToExpiry&&n.daysToExpiry!=="All"&&ie.push(`Expiring: ${n.daysToExpiry}`),ie.join("  ")},fe=[{value:"All",label:"All Contracts"},{value:"0-30",label:"Expiring in 0-30 Days"},{value:"31-60",label:"Expiring in 31-60 Days"},{value:"61-90",label:"Expiring in 61-90 Days"},{value:"90+",label:"Expiring in 90+ Days"}],Te=ie=>{const le=new Date(ie),Ee=new Date,Re=le.getTime()-Ee.getTime();return Math.ceil(Re/(1e3*60*60*24))},Ie=async()=>{var ie;b(!0),C(null);try{const le={companyId:n.companyId||void 0,status:"Active"};let Ee=await lf.getAllContracts(le.companyId,le.status);if(n.hcfId&&(Ee=Ee.filter(ue=>ue.hcfId===n.hcfId)),n.daysToExpiry&&n.daysToExpiry!=="All"&&(Ee=Ee.filter(ue=>{const $e=Te(ue.endDate);switch(n.daysToExpiry){case"0-30":return $e>=0&&$e<=30;case"31-60":return $e>=31&&$e<=60;case"61-90":return $e>=61&&$e<=90;case"90+":return $e>90;default:return!0}})),(ie=n.searchText)!=null&&ie.trim()){const ue=n.searchText.toLowerCase().trim();Ee=Ee.filter($e=>{const it=($e.contractNum||"").toLowerCase(),Et=o.find(lr=>lr.id===$e.companyId),Ct=((Et==null?void 0:Et.companyName)||"").toLowerCase(),Bt=d.find(lr=>lr.id===$e.hcfId),mr=((Bt==null?void 0:Bt.hcfCode)||"").toLowerCase();return it.includes(ue)||Ct.includes(ue)||mr.includes(ue)})}Ee.sort((ue,$e)=>{const it=ue[n.sortBy]||"",Et=$e[n.sortBy]||"";return n.sortOrder==="ASC"?it>Et?1:-1:it<Et?1:-1});const Re=(O-1)*W,Ue=Re+W,de=Ee.slice(Re,Ue);g(Ee),x(de),S(!0);const Ce=Ee.filter(ue=>{const $e=Te(ue.endDate);return $e>=0&&$e<=90}).length;ce({totalContracts:Ee.length,expiringSoon:Ce})}catch(le){console.error("Error loading contracts:",le),C(le.message||"Failed to load contract renewal data"),g([]),x([])}finally{b(!1)}},_e=async()=>{a(ie=>({...ie,companyId:i.companyId||"",hcfId:i.hcfId||"",daysToExpiry:i.daysToExpiry||"All",page:1})),l(!1),await Ie()},Z=async()=>{a({page:1,pageSize:25,companyId:"",hcfId:"",daysToExpiry:"All",searchText:"",sortBy:"endDate",sortOrder:"ASC"}),s({companyId:"",hcfId:"",daysToExpiry:"All"}),l(!1),await Ie()};k.useEffect(()=>{if(o.length>0||!n.companyId){const ie=setTimeout(()=>{Ie()},500);return()=>clearTimeout(ie)}},[n,o]);const Oe=ie=>ie?new Date(ie).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",ee=ie=>{switch(ie){case"Active":return"status-badge status-badge--paid";case"Draft":return"status-badge status-badge--draft";case"Expired":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},re=ie=>ie<0?"status-badge status-badge--cancelled":ie<=30?"status-badge status-badge--due":ie<=60?"status-badge status-badge--partial":"status-badge status-badge--generated",je=w&&P.totalContracts>0?Math.ceil(P.totalContracts/W):0,Ne=(O-1)*W,ye=Math.min(Ne+m.length,P.totalContracts),me=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(Nc,{navItems:me,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Contract Renewal"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Contract Renewal Report"}),!R()&&t.jsx("div",{className:"page-context-subtitle",children:se()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${y?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Contract Number, Company, HCF",value:u,onChange:ie=>a(le=>({...le,searchText:ie.target.value,page:1})),onKeyDown:ie=>{ie.key==="Enter"&&!y&&(ie.preventDefault(),Ie())},disabled:y}),u&&!y&&t.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(ie=>({...ie,searchText:"",page:1})),(w||R())&&await Ie()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:te,className:`btn btn-filters-toggle ${c?"active":""} ${y?"loading":""}`,onClick:()=>{if(!y){if(c||s({companyId:n.companyId||"",hcfId:n.hcfId||"",daysToExpiry:n.daysToExpiry||"All"}),te.current){const ie=te.current.getBoundingClientRect();Y({top:ie.bottom+8,left:ie.left})}l(!c)}},disabled:y,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfId,n.daysToExpiry&&n.daysToExpiry!=="All"?n.daysToExpiry:""].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfId,n.daysToExpiry&&n.daysToExpiry!=="All"?n.daysToExpiry:""].filter(Boolean).length})]})]}),c&&Qc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),Y(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:ie=>ie.stopPropagation(),style:q?{position:"fixed",top:`${q.top}px`,left:`${q.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{s({companyId:"",hcfId:"",daysToExpiry:"All"})},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.companyId||"",onChange:ie=>{s(le=>({...le,companyId:ie.target.value,hcfId:""}))},children:[t.jsx("option",{value:"",children:"Select Company Name"}),o.map(ie=>t.jsxs("option",{value:ie.id,children:[ie.companyCode," - ",ie.companyName]},ie.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.hcfId||"",onChange:ie=>s(le=>({...le,hcfId:ie.target.value})),disabled:!i.companyId,children:[t.jsx("option",{value:"",children:"Select HCF Name"}),(i.companyId?d.filter(ie=>ie.companyId===i.companyId):d).map(ie=>t.jsxs("option",{value:ie.id,children:[ie.hcfCode," - ",ie.hcfName]},ie.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Days to Expiry"}),t.jsx("select",{className:"filter-modal-select",value:i.daysToExpiry||"All",onChange:ie=>s(le=>({...le,daysToExpiry:ie.target.value})),children:fe.map(ie=>t.jsx("option",{value:ie.value,children:ie.label},ie.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await _e(),l(!1)},disabled:y,children:y?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),N&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:N}),t.jsxs("div",{className:"results-section",ref:K,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Contract No"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"HCF"}),t.jsx("th",{children:"Start Date"}),t.jsx("th",{children:"End Date"}),t.jsx("th",{children:"Days to Expiry"}),t.jsx("th",{children:"Billing Type"}),t.jsx("th",{className:"text-center",children:"Status"})]})}),t.jsx("tbody",{className:"table-body",children:y?Array.from({length:5}).map((ie,le)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${le}`)):w?m.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:8,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No contracts found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No contracts match "${u.trim()}". Try adjusting your search or filters.`:R()?"No contracts match the current filters. Try adjusting your filter criteria.":"No contracts available. Use the search bar or apply filters to view reports."}),(R()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:Z,children:"Clear Filters"})})]})})}):m.map((ie,le)=>{var Re,Ue;const Ee=Te(ie.endDate);return t.jsxs("tr",{className:le%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:ie.contractNum}),t.jsx("td",{children:((Re=o.find(de=>de.id===ie.companyId))==null?void 0:Re.companyName)||"N/A"}),t.jsx("td",{children:((Ue=d.find(de=>de.id===ie.hcfId))==null?void 0:Ue.hcfCode)||"N/A"}),t.jsx("td",{children:Oe(ie.startDate)}),t.jsx("td",{children:Oe(ie.endDate)}),t.jsx("td",{children:t.jsx("span",{className:re(Ee),children:Ee<0?"Expired":`${Ee} days`})}),t.jsx("td",{children:ie.billingType}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:ee(ie.status),children:ie.status})})]},ie.id)}):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:8,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No contracts found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view contract renewal reports."})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:w&&m.length>0?`Showing ${Ne+1}-${ye} of ${P.totalContracts} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:W,disabled:!w||m.length===0,onChange:async ie=>{a(le=>({...le,page:1,pageSize:Number(ie.target.value)}))},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ie=Math.max(1,O-1);a(le=>({...le,page:ie}))},disabled:O===1||!w||m.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const ie=[];let Ee=Math.max(1,O-Math.floor(2.5)),Re=Math.min(je,Ee+5-1);Re-Ee<4&&(Ee=Math.max(1,Re-5+1)),Ee>1&&(ie.push(1),Ee>2&&ie.push("..."));for(let Ue=Ee;Ue<=Re;Ue++)ie.push(Ue);return Re<je&&(Re<je-1&&ie.push("..."),ie.push(je)),ie.map((Ue,de)=>{if(Ue==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${de}`);const Ce=Ue;return t.jsx("button",{className:`pagination-page-btn ${O===Ce?"active":""}`,onClick:async()=>{a(ue=>({...ue,page:Ce}))},disabled:!w||m.length===0,children:Ce},Ce)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ie=Math.min(je,O+1);a(le=>({...le,page:ie}))},disabled:O===je||je===0||!w||m.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},oae=()=>{const r=Tn(),e=Ka(),[n,a]=k.useState({page:1,pageSize:25,companyId:"",status:"All",searchText:"",sortBy:"routeCode",sortOrder:"ASC"}),[i,s]=k.useState({companyId:"",status:"All"}),[c,l]=k.useState(!1),u=n.searchText||"",[o,h]=k.useState([]),[d,A]=k.useState([]),[f,g]=k.useState([]),[m,x]=k.useState(!1),[y,b]=k.useState(!1),[w,S]=k.useState(null),N=n.page||1,C=n.pageSize||25,O=k.useRef(null),W=k.useRef(null),[K,te]=k.useState(null),[q,Y]=k.useState({totalRoutes:0});k.useEffect(()=>{(async()=>{try{const re=await Ha.getAllCompanies();h(re)}catch(re){console.error("Error loading master data:",re)}})()},[]);const P=()=>{var ee;return!!(n.companyId||n.status&&n.status!=="All"||(ee=n.searchText)!=null&&ee.trim())},ce=()=>{if(!P())return"No filters applied. View all routes.";const ee=[];if(n.companyId){const re=o.find(je=>je.id===n.companyId);re&&ee.push(`Company: ${re.companyName}`)}return n.status&&n.status!=="All"&&ee.push(`Status: ${n.status}`),ee.join("  ")},$=[{value:"All",label:"All Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],R=async()=>{var ee;x(!0),S(null);try{let re=await af.getAllRoutes(!0);if(n.companyId&&(re=re.filter(me=>me.companyId===n.companyId)),n.status&&n.status!=="All"&&(re=re.filter(me=>me.status===n.status)),(ee=n.searchText)!=null&&ee.trim()){const me=n.searchText.toLowerCase().trim();re=re.filter(ie=>{const le=(ie.routeCode||"").toLowerCase(),Ee=(ie.routeName||"").toLowerCase(),Re=o.find(de=>de.id===ie.companyId),Ue=((Re==null?void 0:Re.companyName)||"").toLowerCase();return le.includes(me)||Ee.includes(me)||Ue.includes(me)})}re.sort((me,ie)=>{const le=me[n.sortBy]||"",Ee=ie[n.sortBy]||"";return n.sortOrder==="ASC"?le>Ee?1:-1:le<Ee?1:-1});const je=(N-1)*C,Ne=je+C,ye=re.slice(je,Ne);A(re),g(ye),b(!0),Y({totalRoutes:re.length})}catch(re){console.error("Error loading routes:",re),S(re.message||"Failed to load route data"),A([]),g([])}finally{x(!1)}},se=async()=>{a(ee=>({...ee,companyId:i.companyId||"",status:i.status||"All",page:1})),l(!1),await R()},fe=async()=>{a({page:1,pageSize:25,companyId:"",status:"All",searchText:"",sortBy:"routeCode",sortOrder:"ASC"}),s({companyId:"",status:"All"}),l(!1),await R()};k.useEffect(()=>{if(o.length>0||!n.companyId){const ee=setTimeout(()=>{R()},500);return()=>clearTimeout(ee)}},[n,o]);const Te=ee=>{switch(ee){case"Active":return"status-badge status-badge--paid";case"Inactive":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},Ie=y&&q.totalRoutes>0?Math.ceil(q.totalRoutes/C):0,_e=(N-1)*C,Z=Math.min(_e+f.length,q.totalRoutes),Oe=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(Nc,{navItems:Oe,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Route"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Route Report"}),!P()&&t.jsx("div",{className:"page-context-subtitle",children:ce()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${m?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Route Code, Route Name, Company",value:u,onChange:ee=>a(re=>({...re,searchText:ee.target.value,page:1})),onKeyDown:ee=>{ee.key==="Enter"&&!m&&(ee.preventDefault(),R())},disabled:m}),u&&!m&&t.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(ee=>({...ee,searchText:"",page:1})),(y||P())&&await R()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:W,className:`btn btn-filters-toggle ${c?"active":""} ${m?"loading":""}`,onClick:()=>{if(!m){if(c||s({companyId:n.companyId||"",status:n.status||"All"}),W.current){const ee=W.current.getBoundingClientRect();te({top:ee.bottom+8,left:ee.left})}l(!c)}},disabled:m,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.status&&n.status!=="All"?n.status:""].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[n.companyId,n.status&&n.status!=="All"?n.status:""].filter(Boolean).length})]})]}),c&&Qc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),te(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:ee=>ee.stopPropagation(),style:K?{position:"fixed",top:`${K.top}px`,left:`${K.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{s({companyId:"",status:"All"})},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.companyId||"",onChange:ee=>s(re=>({...re,companyId:ee.target.value})),children:[t.jsx("option",{value:"",children:"Select Company Name"}),o.map(ee=>t.jsxs("option",{value:ee.id,children:[ee.companyCode," - ",ee.companyName]},ee.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Status"}),t.jsx("select",{className:"filter-modal-select",value:i.status||"All",onChange:ee=>s(re=>({...re,status:ee.target.value})),children:$.map(ee=>t.jsx("option",{value:ee.value,children:ee.label},ee.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await se(),l(!1)},disabled:m,children:m?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),w&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:w}),t.jsxs("div",{className:"results-section",ref:O,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Route Code"}),t.jsx("th",{children:"Route Name"}),t.jsx("th",{children:"Company"}),t.jsx("th",{className:"text-center",children:"Status"})]})}),t.jsx("tbody",{className:"table-body",children:m?Array.from({length:5}).map((ee,re)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${re}`)):y?f.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:4,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No routes found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No routes match "${u.trim()}". Try adjusting your search or filters.`:P()?"No routes match the current filters. Try adjusting your filter criteria.":"No routes available. Use the search bar or apply filters to view reports."}),(P()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:fe,children:"Clear Filters"})})]})})}):f.map((ee,re)=>{var je;return t.jsxs("tr",{className:re%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:ee.routeCode}),t.jsx("td",{children:ee.routeName}),t.jsx("td",{children:((je=o.find(Ne=>Ne.id===ee.companyId))==null?void 0:je.companyName)||"N/A"}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:Te(ee.status),children:ee.status})})]},ee.id)}):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:4,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No routes found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view route reports."})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:y&&f.length>0?`Showing ${_e+1}-${Z} of ${q.totalRoutes} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:C,disabled:!y||f.length===0,onChange:async ee=>{a(re=>({...re,page:1,pageSize:Number(ee.target.value)}))},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ee=Math.max(1,N-1);a(re=>({...re,page:ee}))},disabled:N===1||!y||f.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const ee=[];let je=Math.max(1,N-Math.floor(2.5)),Ne=Math.min(Ie,je+5-1);Ne-je<4&&(je=Math.max(1,Ne-5+1)),je>1&&(ee.push(1),je>2&&ee.push("..."));for(let ye=je;ye<=Ne;ye++)ee.push(ye);return Ne<Ie&&(Ne<Ie-1&&ee.push("..."),ee.push(Ie)),ee.map((ye,me)=>{if(ye==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${me}`);const ie=ye;return t.jsx("button",{className:`pagination-page-btn ${N===ie?"active":""}`,onClick:async()=>{a(le=>({...le,page:ie}))},disabled:!y||f.length===0,children:ie},ie)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ee=Math.min(Ie,N+1);a(re=>({...re,page:ee}))},disabled:N===Ie||Ie===0||!y||f.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},lae=()=>{const r=Tn(),e=Ka(),[n,a]=k.useState({page:1,pageSize:25,collectionFromDate:"",collectionToDate:"",companyId:"",hcfId:"",wasteColor:"All",status:"All",searchText:"",sortBy:"collectionDate",sortOrder:"DESC"}),[i,s]=k.useState({collectionFromDate:"",collectionToDate:"",companyId:"",hcfId:"",wasteColor:"All",status:"All"}),[c,l]=k.useState(!1),u=n.searchText||"",[o,h]=k.useState([]),[d,A]=k.useState([]),[f,g]=k.useState([]),[m,x]=k.useState([]),[y,b]=k.useState(!1),[w,S]=k.useState(!1),[N,C]=k.useState(null),O=n.page||1,W=n.pageSize||25,K=k.useRef(null),te=k.useRef(null),[q,Y]=k.useState(null),[P,ce]=k.useState({totalCollections:0,totalWeight:0});k.useEffect(()=>{(async()=>{try{const[Ee,Re]=await Promise.all([Ha.getAllCompanies(),Fs.getAllHcfs()]);h(Ee),A(Re)}catch(Ee){console.error("Error loading master data:",Ee)}})()},[]);const $=n.companyId?d.filter(le=>le.companyId===n.companyId):d,R=()=>{var le;return!!(n.collectionFromDate||n.collectionToDate||n.companyId||n.hcfId||n.wasteColor&&n.wasteColor!=="All"||n.status&&n.status!=="All"||(le=n.searchText)!=null&&le.trim())},se=()=>{if(!R())return"No filters applied. Select a date range or search to view waste collection data.";const le=[];if(n.collectionFromDate&&n.collectionToDate){const Ee=new Date(n.collectionFromDate),Re=new Date(n.collectionToDate),Ue=Ee.toLocaleDateString("en-US",{month:"short",day:"numeric"}),de=Re.toLocaleDateString("en-US",{month:"short",day:"numeric"});le.push(`Date: ${Ue}${de}`)}if(n.companyId){const Ee=o.find(Re=>Re.id===n.companyId);Ee&&le.push(`Company: ${Ee.companyName}`)}if(n.hcfId){const Ee=$.find(Re=>Re.id===n.hcfId);Ee&&le.push(`HCF: ${Ee.hcfCode}`)}return n.wasteColor&&n.wasteColor!=="All"&&le.push(`Color: ${n.wasteColor}`),le.join("  ")},fe=[{value:"All",label:"All Colors"},{value:"Yellow",label:"Yellow"},{value:"Red",label:"Red"},{value:"White",label:"White"}],Te=[{value:"All",label:"All Status"},{value:"Pending",label:"Pending"},{value:"Collected",label:"Collected"},{value:"In Transit",label:"In Transit"},{value:"Processed",label:"Processed"},{value:"Disposed",label:"Disposed"}],Ie=async()=>{var le;b(!0),C(null);try{let Ee=[];if(n.companyId)try{Ee=await AA.getAllCollections(),Ee=Ee.filter(Ce=>Ce.companyId===n.companyId)}catch(Ce){console.warn("Error loading collections:",Ce),Ee=[]}else try{Ee=await AA.getAllCollections()}catch(Ce){console.warn("Error loading collections:",Ce),Ee=[]}if(n.collectionFromDate){const Ce=new Date(n.collectionFromDate);Ee=Ee.filter(ue=>new Date(ue.collectionDate)>=Ce)}if(n.collectionToDate){const Ce=new Date(n.collectionToDate);Ce.setHours(23,59,59,999),Ee=Ee.filter(ue=>new Date(ue.collectionDate)<=Ce)}if(n.hcfId&&(Ee=Ee.filter(Ce=>Ce.hcfId===n.hcfId)),n.wasteColor&&n.wasteColor!=="All"&&(Ee=Ee.filter(Ce=>Ce.wasteColor===n.wasteColor)),n.status&&n.status!=="All"&&(Ee=Ee.filter(Ce=>Ce.status===n.status)),(le=n.searchText)!=null&&le.trim()){const Ce=n.searchText.toLowerCase().trim();Ee=Ee.filter(ue=>{const $e=(ue.barcode||"").toLowerCase(),it=o.find(mr=>mr.id===ue.companyId),Et=((it==null?void 0:it.companyName)||"").toLowerCase(),Ct=d.find(mr=>mr.id===ue.hcfId),Bt=((Ct==null?void 0:Ct.hcfCode)||"").toLowerCase();return $e.includes(Ce)||Et.includes(Ce)||Bt.includes(Ce)||ue.weightKg&&ue.weightKg.toString().includes(Ce)})}Ee.sort((Ce,ue)=>{const $e=Ce[n.sortBy]||"",it=ue[n.sortBy]||"";return n.sortOrder==="ASC"?$e>it?1:-1:$e<it?1:-1});const Re=(O-1)*W,Ue=Re+W,de=Ee.slice(Re,Ue);g(Ee),x(de),S(!0),ce({totalCollections:Ee.length,totalWeight:Ee.reduce((Ce,ue)=>Ce+(ue.weightKg||0),0)})}catch(Ee){console.error("Error loading waste collections:",Ee),C(Ee.message||"Failed to load waste collection data"),g([]),x([])}finally{b(!1)}},_e=async()=>{a(le=>({...le,collectionFromDate:i.collectionFromDate||"",collectionToDate:i.collectionToDate||"",companyId:i.companyId||"",hcfId:i.hcfId||"",wasteColor:i.wasteColor||"All",status:i.status||"All",page:1})),l(!1),await Ie()},Z=async()=>{a({page:1,pageSize:25,collectionFromDate:"",collectionToDate:"",companyId:"",hcfId:"",wasteColor:"All",status:"All",searchText:"",sortBy:"collectionDate",sortOrder:"DESC"}),s({collectionFromDate:"",collectionToDate:"",companyId:"",hcfId:"",wasteColor:"All",status:"All"}),l(!1),await Ie()};k.useEffect(()=>{if(o.length>0||!n.companyId){const le=setTimeout(()=>{Ie()},500);return()=>clearTimeout(le)}},[n,o]);const Oe=le=>le?new Date(le).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",ee=le=>le==null?"N/A":`${le.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})} kg`,re=le=>{switch(le){case"Collected":return"status-badge status-badge--paid";case"Processed":return"status-badge status-badge--generated";case"Disposed":return"status-badge status-badge--paid";case"In Transit":return"status-badge status-badge--partial";case"Pending":return"status-badge status-badge--draft";default:return"status-badge status-badge--generated"}},je=le=>{switch(le){case"Yellow":return"status-badge status-badge--partial";case"Red":return"status-badge status-badge--due";case"White":return"status-badge status-badge--generated";default:return"status-badge status-badge--generated"}},Ne=w&&P.totalCollections>0?Math.ceil(P.totalCollections/W):0,ye=(O-1)*W,me=Math.min(ye+m.length,P.totalCollections),ie=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(Nc,{navItems:ie,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Waste Collection"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Waste Collection Report"}),!R()&&t.jsx("div",{className:"page-context-subtitle",children:se()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${y?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Barcode, Company, HCF, Weight",value:u,onChange:le=>a(Ee=>({...Ee,searchText:le.target.value,page:1})),onKeyDown:le=>{le.key==="Enter"&&!y&&(le.preventDefault(),Ie())},disabled:y}),u&&!y&&t.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(le=>({...le,searchText:"",page:1})),(w||R())&&await Ie()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:te,className:`btn btn-filters-toggle ${c?"active":""} ${y?"loading":""}`,onClick:()=>{if(!y){if(c||s({collectionFromDate:n.collectionFromDate||"",collectionToDate:n.collectionToDate||"",companyId:n.companyId||"",hcfId:n.hcfId||"",wasteColor:n.wasteColor||"All",status:n.status||"All"}),te.current){const le=te.current.getBoundingClientRect();Y({top:le.bottom+8,left:le.left})}l(!c)}},disabled:y,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfId,n.collectionFromDate,n.collectionToDate,n.wasteColor&&n.wasteColor!=="All"?n.wasteColor:"",n.status&&n.status!=="All"?n.status:""].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfId,n.collectionFromDate,n.collectionToDate,n.wasteColor&&n.wasteColor!=="All"?n.wasteColor:"",n.status&&n.status!=="All"?n.status:""].filter(Boolean).length})]})]}),c&&Qc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),Y(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:le=>le.stopPropagation(),style:q?{position:"fixed",top:`${q.top}px`,left:`${q.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{s({collectionFromDate:"",collectionToDate:"",companyId:"",hcfId:"",wasteColor:"All",status:"All"})},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Collection Date"}),t.jsxs("div",{className:"filter-date-range",children:[t.jsx("input",{type:"date",className:"filter-modal-input",value:i.collectionFromDate||"",onChange:le=>s(Ee=>({...Ee,collectionFromDate:le.target.value})),placeholder:"From Date"}),t.jsx("span",{className:"filter-date-separator",children:"to"}),t.jsx("input",{type:"date",className:"filter-modal-input",value:i.collectionToDate||"",onChange:le=>s(Ee=>({...Ee,collectionToDate:le.target.value})),placeholder:"To Date"})]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.companyId||"",onChange:le=>{s(Ee=>({...Ee,companyId:le.target.value,hcfId:""}))},children:[t.jsx("option",{value:"",children:"Select Company Name"}),o.map(le=>t.jsxs("option",{value:le.id,children:[le.companyCode," - ",le.companyName]},le.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.hcfId||"",onChange:le=>s(Ee=>({...Ee,hcfId:le.target.value})),disabled:!i.companyId,children:[t.jsx("option",{value:"",children:"Select HCF Name"}),(i.companyId?d.filter(le=>le.companyId===i.companyId):d).map(le=>t.jsxs("option",{value:le.id,children:[le.hcfCode," - ",le.hcfName]},le.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Waste Color"}),t.jsx("select",{className:"filter-modal-select",value:i.wasteColor||"All",onChange:le=>s(Ee=>({...Ee,wasteColor:le.target.value})),children:fe.map(le=>t.jsx("option",{value:le.value,children:le.label},le.value))})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Status"}),t.jsx("select",{className:"filter-modal-select",value:i.status||"All",onChange:le=>s(Ee=>({...Ee,status:le.target.value})),children:Te.map(le=>t.jsx("option",{value:le.value,children:le.label},le.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await _e(),l(!1)},disabled:y,children:y?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),N&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:N}),t.jsxs("div",{className:"results-section",ref:K,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Barcode"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"HCF"}),t.jsx("th",{children:"Collection Date"}),t.jsx("th",{children:"Waste Color"}),t.jsx("th",{className:"text-right",children:"Weight (kg)"}),t.jsx("th",{className:"text-center",children:"Status"})]})}),t.jsx("tbody",{className:"table-body",children:y?Array.from({length:5}).map((le,Ee)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{className:"text-right",children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${Ee}`)):w?m.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:7,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No waste collection data found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No collections match "${u.trim()}". Try adjusting your search or filters.`:R()?"No collections match the current filters. Try adjusting your filter criteria.":"No waste collection data available. Use the search bar or apply filters to view reports."}),(R()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:Z,children:"Clear Filters"})})]})})}):m.map((le,Ee)=>{var Re,Ue;return t.jsxs("tr",{className:Ee%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:le.barcode}),t.jsx("td",{children:((Re=o.find(de=>de.id===le.companyId))==null?void 0:Re.companyName)||"N/A"}),t.jsx("td",{children:((Ue=d.find(de=>de.id===le.hcfId))==null?void 0:Ue.hcfCode)||"N/A"}),t.jsx("td",{children:Oe(le.collectionDate)}),t.jsx("td",{children:t.jsx("span",{className:je(le.wasteColor),children:le.wasteColor})}),t.jsx("td",{className:"text-right",children:ee(le.weightKg)}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:re(le.status),children:le.status})})]},le.id)}):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:7,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No waste collection data found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view waste collection reports."})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:w&&m.length>0?`Showing ${ye+1}-${me} of ${P.totalCollections} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:W,disabled:!w||m.length===0,onChange:async le=>{a(Ee=>({...Ee,page:1,pageSize:Number(le.target.value)}))},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const le=Math.max(1,O-1);a(Ee=>({...Ee,page:le}))},disabled:O===1||!w||m.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const le=[];let Re=Math.max(1,O-Math.floor(2.5)),Ue=Math.min(Ne,Re+5-1);Ue-Re<4&&(Re=Math.max(1,Ue-5+1)),Re>1&&(le.push(1),Re>2&&le.push("..."));for(let de=Re;de<=Ue;de++)le.push(de);return Ue<Ne&&(Ue<Ne-1&&le.push("..."),le.push(Ne)),le.map((de,Ce)=>{if(de==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${Ce}`);const ue=de;return t.jsx("button",{className:`pagination-page-btn ${O===ue?"active":""}`,onClick:async()=>{a($e=>({...$e,page:ue}))},disabled:!w||m.length===0,children:ue},ue)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const le=Math.min(Ne,O+1);a(Ee=>({...Ee,page:le}))},disabled:O===Ne||Ne===0||!w||m.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},cae=()=>{const r=Tn(),e=Ka(),[n,a]=k.useState({page:1,pageSize:25,status:"All",searchText:"",sortBy:"companyCode",sortOrder:"ASC"}),[i,s]=k.useState({status:"All"}),[c,l]=k.useState(!1),u=n.searchText||"",[o,h]=k.useState([]),[d,A]=k.useState([]),[f,g]=k.useState(!1),[m,x]=k.useState(!1),[y,b]=k.useState(null),w=n.page||1,S=n.pageSize||25,N=k.useRef(null),C=k.useRef(null),[O,W]=k.useState(null),[K,te]=k.useState({totalCompanies:0}),q=()=>{var Oe;return!!(n.status&&n.status!=="All"||(Oe=n.searchText)!=null&&Oe.trim())},Y=()=>{if(!q())return"No filters applied. View all companies.";const Oe=[];return n.status&&n.status!=="All"&&Oe.push(`Status: ${n.status}`),Oe.join("  ")},P=[{value:"All",label:"All Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],ce=async()=>{var Oe;g(!0),b(null);try{let ee=await Ha.getAllCompanies();if(n.status&&n.status!=="All"&&(ee=ee.filter(ye=>ye.status===n.status)),(Oe=n.searchText)!=null&&Oe.trim()){const ye=n.searchText.toLowerCase().trim();ee=ee.filter(me=>{const ie=(me.companyCode||"").toLowerCase(),le=(me.companyName||"").toLowerCase();return ie.includes(ye)||le.includes(ye)})}ee.sort((ye,me)=>{const ie=ye[n.sortBy]||"",le=me[n.sortBy]||"";return n.sortOrder==="ASC"?ie>le?1:-1:ie<le?1:-1});const re=(w-1)*S,je=re+S,Ne=ee.slice(re,je);h(ee),A(Ne),x(!0),te({totalCompanies:ee.length})}catch(ee){console.error("Error loading companies:",ee),b(ee.message||"Failed to load company data"),h([]),A([])}finally{g(!1)}},$=async()=>{a(Oe=>({...Oe,status:i.status||"All",page:1})),l(!1),await ce()},R=async()=>{a({page:1,pageSize:25,status:"All",searchText:"",sortBy:"companyCode",sortOrder:"ASC"}),s({status:"All"}),l(!1),await ce()};k.useEffect(()=>{const Oe=setTimeout(()=>{ce()},500);return()=>clearTimeout(Oe)},[n]);const se=Oe=>Oe?new Date(Oe).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",fe=Oe=>{switch(Oe){case"Active":return"status-badge status-badge--paid";case"Inactive":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},Te=m&&K.totalCompanies>0?Math.ceil(K.totalCompanies/S):0,Ie=(w-1)*S,_e=Math.min(Ie+d.length,K.totalCompanies),Z=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(Nc,{navItems:Z,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Company Master"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Company Master Report"}),!q()&&t.jsx("div",{className:"page-context-subtitle",children:Y()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${f?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Company Code, Company Name",value:u,onChange:Oe=>a(ee=>({...ee,searchText:Oe.target.value,page:1})),onKeyDown:Oe=>{Oe.key==="Enter"&&!f&&(Oe.preventDefault(),ce())},disabled:f}),u&&!f&&t.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(Oe=>({...Oe,searchText:"",page:1})),(m||q())&&await ce()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:C,className:`btn btn-filters-toggle ${c?"active":""} ${f?"loading":""}`,onClick:()=>{if(!f){if(c||s({status:n.status||"All"}),C.current){const Oe=C.current.getBoundingClientRect();W({top:Oe.bottom+8,left:Oe.left})}l(!c)}},disabled:f,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.status&&n.status!=="All"?n.status:""].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[n.status&&n.status!=="All"?n.status:""].filter(Boolean).length})]})]}),c&&Qc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),W(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:Oe=>Oe.stopPropagation(),style:O?{position:"fixed",top:`${O.top}px`,left:`${O.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{s({status:"All"})},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsx("div",{className:"filter-modal-grid",children:t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Status"}),t.jsx("select",{className:"filter-modal-select",value:i.status||"All",onChange:Oe=>s(ee=>({...ee,status:Oe.target.value})),children:P.map(Oe=>t.jsx("option",{value:Oe.value,children:Oe.label},Oe.value))})]})})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await $(),l(!1)},disabled:f,children:f?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),y&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:y}),t.jsxs("div",{className:"results-section",ref:N,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Company Code"}),t.jsx("th",{children:"Company Name"}),t.jsx("th",{children:"Created Date"}),t.jsx("th",{className:"text-center",children:"Status"})]})}),t.jsx("tbody",{className:"table-body",children:f?Array.from({length:5}).map((Oe,ee)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${ee}`)):m?d.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:4,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No companies found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No companies match "${u.trim()}". Try adjusting your search or filters.`:q()?"No companies match the current filters. Try adjusting your filter criteria.":"No companies available. Use the search bar or apply filters to view reports."}),(q()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:R,children:"Clear Filters"})})]})})}):d.map((Oe,ee)=>t.jsxs("tr",{className:ee%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:Oe.companyCode}),t.jsx("td",{children:Oe.companyName}),t.jsx("td",{children:se(Oe.createdOn)}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:fe(Oe.status),children:Oe.status})})]},Oe.id)):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:4,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No companies found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view company reports."})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:m&&d.length>0?`Showing ${Ie+1}-${_e} of ${K.totalCompanies} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:S,disabled:!m||d.length===0,onChange:async Oe=>{a(ee=>({...ee,page:1,pageSize:Number(Oe.target.value)}))},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Oe=Math.max(1,w-1);a(ee=>({...ee,page:Oe}))},disabled:w===1||!m||d.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const Oe=[];let re=Math.max(1,w-Math.floor(2.5)),je=Math.min(Te,re+5-1);je-re<4&&(re=Math.max(1,je-5+1)),re>1&&(Oe.push(1),re>2&&Oe.push("..."));for(let Ne=re;Ne<=je;Ne++)Oe.push(Ne);return je<Te&&(je<Te-1&&Oe.push("..."),Oe.push(Te)),Oe.map((Ne,ye)=>{if(Ne==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${ye}`);const me=Ne;return t.jsx("button",{className:`pagination-page-btn ${w===me?"active":""}`,onClick:async()=>{a(ie=>({...ie,page:me}))},disabled:!m||d.length===0,children:me},me)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Oe=Math.min(Te,w+1);a(ee=>({...ee,page:Oe}))},disabled:w===Te||Te===0||!m||d.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},uae=()=>{const r=Tn(),e=Ka(),[n,a]=k.useState({page:1,pageSize:25,companyId:"",hcfId:"",complianceType:"All",status:"All",searchText:"",sortBy:"lastChecked",sortOrder:"DESC"}),[i,s]=k.useState({companyId:"",hcfId:"",complianceType:"All",status:"All"}),[c,l]=k.useState(!1),u=n.searchText||"",[o,h]=k.useState([]),[d,A]=k.useState([]),[f,g]=k.useState([]),[m,x]=k.useState([]),[y,b]=k.useState(!1),[w,S]=k.useState(!1),[N,C]=k.useState(null),O=n.page||1,W=n.pageSize||25,K=k.useRef(null),te=k.useRef(null),[q,Y]=k.useState(null),[P,ce]=k.useState({totalItems:0,compliant:0,nonCompliant:0});k.useEffect(()=>{(async()=>{try{const[ie,le]=await Promise.all([Ha.getAllCompanies(),Fs.getAllHcfs()]);h(ie),A(le)}catch(ie){console.error("Error loading master data:",ie)}})()},[]);const $=n.companyId?d.filter(me=>me.companyId===n.companyId):d,R=()=>{var me;return!!(n.companyId||n.hcfId||n.complianceType&&n.complianceType!=="All"||n.status&&n.status!=="All"||(me=n.searchText)!=null&&me.trim())},se=()=>{if(!R())return"No filters applied. View all compliance statuses.";const me=[];if(n.companyId){const ie=o.find(le=>le.id===n.companyId);ie&&me.push(`Company: ${ie.companyName}`)}if(n.hcfId){const ie=$.find(le=>le.id===n.hcfId);ie&&me.push(`HCF: ${ie.hcfCode}`)}return n.complianceType&&n.complianceType!=="All"&&me.push(`Type: ${n.complianceType}`),n.status&&n.status!=="All"&&me.push(`Status: ${n.status}`),me.join("  ")},fe=[{value:"All",label:"All Types"},{value:"License",label:"License"},{value:"Permit",label:"Permit"},{value:"Certificate",label:"Certificate"},{value:"Registration",label:"Registration"}],Te=[{value:"All",label:"All Status"},{value:"Compliant",label:"Compliant"},{value:"Non-Compliant",label:"Non-Compliant"},{value:"Expiring Soon",label:"Expiring Soon"},{value:"Expired",label:"Expired"}],Ie=async()=>{var me;b(!0),C(null);try{let ie=[];if(n.companyId&&(ie=ie.filter(Ue=>Ue.companyId===n.companyId)),n.hcfId&&(ie=ie.filter(Ue=>Ue.hcfId===n.hcfId)),n.complianceType&&n.complianceType!=="All"&&(ie=ie.filter(Ue=>Ue.complianceType===n.complianceType)),n.status&&n.status!=="All"&&(ie=ie.filter(Ue=>Ue.status===n.status)),(me=n.searchText)!=null&&me.trim()){const Ue=n.searchText.toLowerCase().trim();ie=ie.filter(de=>{const Ce=o.find(Et=>Et.id===de.companyId),ue=((Ce==null?void 0:Ce.companyName)||"").toLowerCase(),$e=d.find(Et=>Et.id===de.hcfId),it=(($e==null?void 0:$e.hcfCode)||"").toLowerCase();return de.complianceType.toLowerCase().includes(Ue)||ue.includes(Ue)||it.includes(Ue)||de.notes&&de.notes.toLowerCase().includes(Ue)})}ie.sort((Ue,de)=>{const Ce=Ue[n.sortBy]||"",ue=de[n.sortBy]||"";return n.sortOrder==="ASC"?Ce>ue?1:-1:Ce<ue?1:-1});const le=(O-1)*W,Ee=le+W,Re=ie.slice(le,Ee);g(ie),x(Re),S(!0),ce({totalItems:ie.length,compliant:ie.filter(Ue=>Ue.status==="Compliant").length,nonCompliant:ie.filter(Ue=>Ue.status==="Non-Compliant"||Ue.status==="Expired").length})}catch(ie){console.error("Error loading compliance data:",ie),C(ie.message||"Failed to load compliance status data"),g([]),x([])}finally{b(!1)}},_e=async()=>{a(me=>({...me,companyId:i.companyId||"",hcfId:i.hcfId||"",complianceType:i.complianceType||"All",status:i.status||"All",page:1})),l(!1),await Ie()},Z=async()=>{a({page:1,pageSize:25,companyId:"",hcfId:"",complianceType:"All",status:"All",searchText:"",sortBy:"lastChecked",sortOrder:"DESC"}),s({companyId:"",hcfId:"",complianceType:"All",status:"All"}),l(!1),await Ie()};k.useEffect(()=>{if(o.length>0||!n.companyId){const me=setTimeout(()=>{Ie()},500);return()=>clearTimeout(me)}},[n,o]);const Oe=me=>me?new Date(me).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",ee=me=>{switch(me){case"Compliant":return"status-badge status-badge--paid";case"Non-Compliant":return"status-badge status-badge--due";case"Expiring Soon":return"status-badge status-badge--partial";case"Expired":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},re=w&&P.totalItems>0?Math.ceil(P.totalItems/W):0,je=(O-1)*W,Ne=Math.min(je+m.length,P.totalItems),ye=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(Nc,{navItems:ye,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Compliance Status"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Compliance Status Report"}),!R()&&t.jsx("div",{className:"page-context-subtitle",children:se()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${y?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Compliance Type, Company, HCF, Notes",value:u,onChange:me=>a(ie=>({...ie,searchText:me.target.value,page:1})),onKeyDown:me=>{me.key==="Enter"&&!y&&(me.preventDefault(),Ie())},disabled:y}),u&&!y&&t.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(me=>({...me,searchText:"",page:1})),(w||R())&&await Ie()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:te,className:`btn btn-filters-toggle ${c?"active":""} ${y?"loading":""}`,onClick:()=>{if(!y){if(c||s({companyId:n.companyId||"",hcfId:n.hcfId||"",complianceType:n.complianceType||"All",status:n.status||"All"}),te.current){const me=te.current.getBoundingClientRect();Y({top:me.bottom+8,left:me.left})}l(!c)}},disabled:y,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfId,n.complianceType&&n.complianceType!=="All"?n.complianceType:"",n.status&&n.status!=="All"?n.status:""].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfId,n.complianceType&&n.complianceType!=="All"?n.complianceType:"",n.status&&n.status!=="All"?n.status:""].filter(Boolean).length})]})]}),c&&Qc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),Y(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:me=>me.stopPropagation(),style:q?{position:"fixed",top:`${q.top}px`,left:`${q.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{s({companyId:"",hcfId:"",complianceType:"All",status:"All"})},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.companyId||"",onChange:me=>{s(ie=>({...ie,companyId:me.target.value,hcfId:""}))},children:[t.jsx("option",{value:"",children:"Select Company Name"}),o.map(me=>t.jsxs("option",{value:me.id,children:[me.companyCode," - ",me.companyName]},me.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.hcfId||"",onChange:me=>s(ie=>({...ie,hcfId:me.target.value})),disabled:!i.companyId,children:[t.jsx("option",{value:"",children:"Select HCF Name"}),(i.companyId?d.filter(me=>me.companyId===i.companyId):d).map(me=>t.jsxs("option",{value:me.id,children:[me.hcfCode," - ",me.hcfName]},me.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Compliance Type"}),t.jsx("select",{className:"filter-modal-select",value:i.complianceType||"All",onChange:me=>s(ie=>({...ie,complianceType:me.target.value})),children:fe.map(me=>t.jsx("option",{value:me.value,children:me.label},me.value))})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Status"}),t.jsx("select",{className:"filter-modal-select",value:i.status||"All",onChange:me=>s(ie=>({...ie,status:me.target.value})),children:Te.map(me=>t.jsx("option",{value:me.value,children:me.label},me.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await _e(),l(!1)},disabled:y,children:y?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),N&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:N}),t.jsxs("div",{className:"results-section",ref:K,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Compliance Type"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"HCF"}),t.jsx("th",{children:"Expiry Date"}),t.jsx("th",{children:"Last Checked"}),t.jsx("th",{className:"text-center",children:"Status"})]})}),t.jsx("tbody",{className:"table-body",children:y?Array.from({length:5}).map((me,ie)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${ie}`)):w?m.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:6,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No compliance data found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No compliance items match "${u.trim()}". Try adjusting your search or filters.`:R()?"No compliance items match the current filters. Try adjusting your filter criteria.":"No compliance data available. Use the search bar or apply filters to view reports."}),(R()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:Z,children:"Clear Filters"})})]})})}):m.map((me,ie)=>{var le,Ee;return t.jsxs("tr",{className:ie%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{children:me.complianceType}),t.jsx("td",{children:((le=o.find(Re=>Re.id===me.companyId))==null?void 0:le.companyName)||"N/A"}),t.jsx("td",{children:((Ee=d.find(Re=>Re.id===me.hcfId))==null?void 0:Ee.hcfCode)||"N/A"}),t.jsx("td",{children:Oe(me.expiryDate)}),t.jsx("td",{children:Oe(me.lastChecked)}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:ee(me.status),children:me.status})})]},me.id)}):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:6,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No compliance data found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view compliance status reports."})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:w&&m.length>0?`Showing ${je+1}-${Ne} of ${P.totalItems} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:W,disabled:!w||m.length===0,onChange:async me=>{a(ie=>({...ie,page:1,pageSize:Number(me.target.value)}))},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const me=Math.max(1,O-1);a(ie=>({...ie,page:me}))},disabled:O===1||!w||m.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const me=[];let le=Math.max(1,O-Math.floor(2.5)),Ee=Math.min(re,le+5-1);Ee-le<4&&(le=Math.max(1,Ee-5+1)),le>1&&(me.push(1),le>2&&me.push("..."));for(let Re=le;Re<=Ee;Re++)me.push(Re);return Ee<re&&(Ee<re-1&&me.push("..."),me.push(re)),me.map((Re,Ue)=>{if(Re==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${Ue}`);const de=Re;return t.jsx("button",{className:`pagination-page-btn ${O===de?"active":""}`,onClick:async()=>{a(Ce=>({...Ce,page:de}))},disabled:!w||m.length===0,children:de},de)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const me=Math.min(re,O+1);a(ie=>({...ie,page:me}))},disabled:O===re||re===0||!w||m.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},dae=()=>{const r=Tn(),e=Ka(),[n,a]=k.useState({page:1,pageSize:25,createdFromDate:"",createdToDate:"",companyId:"",vehMake:"",status:"All",complianceStatus:"All",searchText:"",sortBy:"createdOn",sortOrder:"DESC"}),[i,s]=k.useState({createdFromDate:"",createdToDate:"",companyId:"",vehMake:"",status:"All",complianceStatus:"All"}),[c,l]=k.useState(!1),u=n.searchText||"",[o,h]=k.useState([]),[d,A]=k.useState([]),[f,g]=k.useState([]),[m,x]=k.useState(!1),[y,b]=k.useState(!1),[w,S]=k.useState(null),N=n.page||1,C=n.pageSize||25,O=k.useRef(null),W=k.useRef(null),[K,te]=k.useState(null),[q,Y]=k.useState({totalFleets:0,activeFleets:0,inactiveFleets:0});k.useEffect(()=>{(async()=>{try{const Ce=await Ha.getAllCompanies();h(Ce)}catch(Ce){console.error("Error loading master data:",Ce)}})()},[]);const P=()=>{var de;return!!(n.createdFromDate||n.createdToDate||n.companyId||n.vehMake||n.status&&n.status!=="All"||n.complianceStatus&&n.complianceStatus!=="All"||(de=n.searchText)!=null&&de.trim())},ce=()=>{if(!P())return"No filters applied. Select a date range or search to view fleet vehicles.";const de=[];if(n.createdFromDate&&n.createdToDate){const Ce=new Date(n.createdFromDate),ue=new Date(n.createdToDate),$e=Ce.toLocaleDateString("en-US",{month:"short",day:"numeric"}),it=ue.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});de.push(`${$e} - ${it}`)}else if(n.createdFromDate||n.createdToDate){if(n.createdFromDate){const Ce=new Date(n.createdFromDate);de.push(`From ${Ce.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}if(n.createdToDate){const Ce=new Date(n.createdToDate);de.push(`To ${Ce.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}}if(n.companyId){const Ce=o.find(ue=>ue.id===n.companyId);de.push(Ce?Ce.companyName:"Selected Company")}else de.push("All Companies");return n.vehMake&&n.vehMake!=="All"&&de.push(`Make: ${n.vehMake}`),n.status&&n.status!=="All"?de.push(n.status):de.push("All Status"),n.complianceStatus&&n.complianceStatus!=="All"&&de.push(`Compliance: ${n.complianceStatus}`),`Showing fleet vehicles for: ${de.join("  ")}`},$=(de,Ce)=>{s(ue=>({...ue,[de]:Ce}))},R=()=>{a(de=>({...de,createdFromDate:i.createdFromDate||"",createdToDate:i.createdToDate||"",companyId:i.companyId||"",vehMake:i.vehMake||"",status:i.status||"All",complianceStatus:i.complianceStatus||"All",page:1}))},se=()=>{const de={page:1,pageSize:n.pageSize||25,createdFromDate:"",createdToDate:"",companyId:"",vehMake:"",status:"All",complianceStatus:"All",searchText:"",sortBy:"createdOn",sortOrder:"DESC"};a(de),s({createdFromDate:"",createdToDate:"",companyId:"",vehMake:"",status:"All",complianceStatus:"All"})},fe=(de,Ce)=>{a(ue=>({...ue,page:de,...Ce!==void 0&&{pageSize:Ce}}))},Te=de=>{a(Ce=>({...Ce,searchText:de,page:1}))},Ie=[{value:"All",label:"All Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],_e=[{value:"All",label:"All"},{value:"Compliant",label:"Compliant"},{value:"Expiring Soon",label:"Expiring Soon"},{value:"Expired",label:"Expired"}],Z=()=>{const de=new Set;return d.forEach(Ce=>{Ce.vehMake&&de.add(Ce.vehMake)}),Array.from(de).sort()},Oe=de=>{const Ce=new Date;Ce.setHours(0,0,0,0);const ue=[de.nextFCDate?new Date(de.nextFCDate):null,de.pucDateValidUpto?new Date(de.pucDateValidUpto):null,de.insuranceValidUpto?new Date(de.insuranceValidUpto):null].filter(Boolean);if(ue.length===0)return"Compliant";if(ue.filter(Ct=>Ct<Ce).length>0)return"Expired";const it=new Date(Ce);return it.setDate(it.getDate()+30),ue.filter(Ct=>Ct<=it&&Ct>=Ce).length>0?"Expiring Soon":"Compliant"},ee=async()=>{var de;x(!0),S(null);try{let Ce=[];if(n.companyId)Ce=await _h.getAllFleets(n.companyId);else{const Ct=o.length>0?o:await Ha.getAllCompanies();for(const Bt of Ct)try{const mr=await _h.getAllFleets(Bt.id);Ce.push(...mr)}catch(mr){console.warn(`Failed to load fleets for company ${Bt.companyName}:`,mr)}}let ue=Ce;if(n.createdFromDate){const Ct=new Date(n.createdFromDate);ue=ue.filter(Bt=>new Date(Bt.createdOn)>=Ct)}if(n.createdToDate){const Ct=new Date(n.createdToDate);Ct.setHours(23,59,59,999),ue=ue.filter(Bt=>new Date(Bt.createdOn)<=Ct)}if(n.companyId&&(ue=ue.filter(Ct=>Ct.companyId===n.companyId)),n.vehMake&&n.vehMake!=="All"&&(ue=ue.filter(Ct=>Ct.vehMake===n.vehMake)),n.status&&n.status!=="All"&&(ue=ue.filter(Ct=>Ct.status===n.status)),n.complianceStatus&&n.complianceStatus!=="All"&&(ue=ue.filter(Ct=>Oe(Ct)===n.complianceStatus)),(de=n.searchText)!=null&&de.trim()){const Ct=n.searchText.toLowerCase().trim();ue=ue.filter(Bt=>{const mr=(Bt.vehicleNum||"").toLowerCase(),lr=(Bt.vehMake||"").toLowerCase(),He=(Bt.vehModel||"").toLowerCase(),$t=(Bt.ownerName||"").toLowerCase(),Nt=(Bt.ownerContact||"").toLowerCase(),Dr=(Bt.capacity||"").toLowerCase();return mr.includes(Ct)||lr.includes(Ct)||He.includes(Ct)||$t.includes(Ct)||Nt.includes(Ct)||Dr.includes(Ct)})}ue.sort((Ct,Bt)=>{const mr=Ct[n.sortBy]||"",lr=Bt[n.sortBy]||"";return n.sortOrder==="ASC"?mr>lr?1:-1:mr<lr?1:-1});const $e=(N-1)*C,it=$e+C,Et=ue.slice($e,it);A(ue),g(Et),b(!0),Y({totalFleets:ue.length,activeFleets:ue.filter(Ct=>Ct.status==="Active").length,inactiveFleets:ue.filter(Ct=>Ct.status==="Inactive").length})}catch(Ce){console.error("Error loading fleets:",Ce),S(Ce.message||"Failed to load fleet vehicles"),A([]),g([])}finally{x(!1)}};k.useEffect(()=>{if(o.length>0){const de=setTimeout(()=>{ee()},500);return()=>clearTimeout(de)}},[n,o]);const re=async()=>{R(),l(!1),await ee()},je=async()=>{se(),l(!1),await ee()},Ne=de=>de?new Date(de).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",ye=de=>{switch(de){case"Active":return"status-badge status-badge--active";case"Inactive":return"status-badge status-badge--inactive";default:return"status-badge status-badge--active"}},me=de=>{switch(de){case"Compliant":return"status-badge status-badge--compliant";case"Expiring Soon":return"status-badge status-badge--expiring";case"Expired":return"status-badge status-badge--expired";default:return"status-badge status-badge--compliant"}},ie=y&&q.totalFleets>0?Math.ceil(q.totalFleets/C):0,le=(N-1)*C,Ee=Math.min(le+f.length,q.totalFleets),Re=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}],Ue=Z();return t.jsx(Nc,{navItems:Re,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Fleet Master Report"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Fleet Master Report"}),!P()&&t.jsx("div",{className:"page-context-subtitle",children:ce()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${m?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Vehicle Number, Make, Model, Owner Name, Contact, Capacity",value:u,onChange:de=>Te(de.target.value),onKeyDown:de=>{de.key==="Enter"&&!m&&(de.preventDefault(),ee())},disabled:m}),u&&!m&&t.jsx("button",{className:"clear-search-btn",onClick:()=>{Te(""),ee()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:W,className:`btn btn-filters-toggle ${c?"active":""} ${m?"loading":""}`,onClick:()=>{if(!m){if(c||($("companyId",n.companyId||""),$("vehMake",n.vehMake||""),$("status",n.status||"All"),$("complianceStatus",n.complianceStatus||"All"),$("createdFromDate",n.createdFromDate||""),$("createdToDate",n.createdToDate||"")),W.current){const de=W.current.getBoundingClientRect();te({top:de.bottom+8,left:de.left})}l(!c)}},disabled:m,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[i.companyId,i.vehMake&&i.vehMake!=="All"?i.vehMake:"",i.status&&i.status!=="All"?i.status:"",i.complianceStatus&&i.complianceStatus!=="All"?i.complianceStatus:"",i.createdFromDate,i.createdToDate].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[i.companyId,i.vehMake&&i.vehMake!=="All"?i.vehMake:"",i.status&&i.status!=="All"?i.status:"",i.complianceStatus&&i.complianceStatus!=="All"?i.complianceStatus:"",i.createdFromDate,i.createdToDate].filter(Boolean).length})]})]}),c&&Qc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),te(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:de=>de.stopPropagation(),style:K?{position:"fixed",top:`${K.top}px`,left:`${K.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{$("companyId",""),$("vehMake",""),$("createdFromDate",""),$("createdToDate",""),$("status","All"),$("complianceStatus","All")},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Created Date"}),t.jsxs("div",{className:"filter-date-range",children:[t.jsx("input",{type:"date",className:"filter-modal-input",value:i.createdFromDate||"",onChange:de=>$("createdFromDate",de.target.value),placeholder:"Select Date"}),t.jsx("span",{className:"filter-date-separator",children:"to"}),t.jsx("input",{type:"date",className:"filter-modal-input",value:i.createdToDate||"",onChange:de=>$("createdToDate",de.target.value),placeholder:"Select Date"})]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.companyId||"",onChange:de=>$("companyId",de.target.value),children:[t.jsx("option",{value:"",children:"Select Company Name"}),o.map(de=>t.jsxs("option",{value:de.id,children:[de.companyCode," - ",de.companyName]},de.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Vehicle Make"}),t.jsxs("select",{className:"filter-modal-select",value:i.vehMake||"All",onChange:de=>$("vehMake",de.target.value),children:[t.jsx("option",{value:"All",children:"All Makes"}),Ue.map(de=>t.jsx("option",{value:de,children:de},de))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Status"}),t.jsx("select",{className:"filter-modal-select",value:i.status||"All",onChange:de=>$("status",de.target.value),children:Ie.map(de=>t.jsx("option",{value:de.value,children:de.label},de.value))})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Compliance Status"}),t.jsx("select",{className:"filter-modal-select",value:i.complianceStatus||"All",onChange:de=>$("complianceStatus",de.target.value),children:_e.map(de=>t.jsx("option",{value:de.value,children:de.label},de.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:re,disabled:m,children:m?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),t.jsxs("div",{className:"results-section",ref:O,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Vehicle Number"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"Make"}),t.jsx("th",{children:"Model"}),t.jsx("th",{children:"Capacity"}),t.jsx("th",{children:"Owner Name"}),t.jsx("th",{children:"Owner Contact"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Compliance"}),t.jsx("th",{children:"Created Date"})]})}),t.jsx("tbody",{className:"table-body",children:m?Array.from({length:5}).map((de,Ce)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})})]},`skeleton-${Ce}`)):y?f.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:10,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),t.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No fleet vehicles found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No vehicles match "${u.trim()}". Try adjusting your search or filters.`:P()?"No vehicles match the current filters. Try adjusting your filter criteria.":"No vehicles available. Use the search bar or apply filters to view reports."}),(P()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:je,children:"Clear Filters"})})]})})}):f.map((de,Ce)=>{const ue=o.find(it=>it.id===de.companyId),$e=Oe(de);return t.jsxs("tr",{className:Ce%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:de.vehicleNum}),t.jsx("td",{children:(ue==null?void 0:ue.companyName)||"N/A"}),t.jsx("td",{children:de.vehMake||"N/A"}),t.jsx("td",{children:de.vehModel||"N/A"}),t.jsx("td",{children:de.capacity||"N/A"}),t.jsx("td",{children:de.ownerName||"N/A"}),t.jsx("td",{children:de.ownerContact||"N/A"}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:ye(de.status),children:de.status})}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:me($e),children:$e})}),t.jsx("td",{children:Ne(de.createdOn)})]},de.id)}):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:10,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),t.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No fleet vehicles found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view fleet reports"})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:y&&f.length>0?`Showing ${Ee} of ${q.totalFleets} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:C,disabled:!y||f.length===0,onChange:async de=>{fe(1,Number(de.target.value)),await ee()},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const de=Math.max(1,N-1);fe(de),await ee()},disabled:N===1||!y||f.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const de=[];let ue=Math.max(1,N-Math.floor(2.5)),$e=Math.min(ie,ue+5-1);$e-ue<4&&(ue=Math.max(1,$e-5+1)),ue>1&&(de.push(1),ue>2&&de.push("..."));for(let it=ue;it<=$e;it++)de.push(it);return $e<ie&&($e<ie-1&&de.push("..."),de.push(ie)),de.map((it,Et)=>{if(it==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${Et}`);const Ct=it;return t.jsx("button",{className:`pagination-page-btn ${N===Ct?"active":""}`,onClick:async()=>{fe(Ct),await ee()},disabled:!y||f.length===0,children:Ct},Ct)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const de=Math.min(ie,N+1);fe(de),await ee()},disabled:N===ie||ie===0||!y||f.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},hae=()=>{const{login:r,verifyOTP:e,loading:n,user:a}=da(),i=Ka(),s=Tn(),[c,l]=k.useState(""),[u,o]=k.useState(""),[h,d]=k.useState(!1),[A,f]=k.useState(!1),[g,m]=k.useState(null),[x,y]=k.useState(!1),[b,w]=k.useState(""),[S,N]=k.useState(["","","","","",""]),[C,O]=k.useState(0);k.useEffect(()=>{if(C>0){const ce=setTimeout(()=>O(C-1),1e3);return()=>clearTimeout(ce)}},[C]);const W=ce=>{if(!ce||ce.trim().length===0)return!1;const $=/^[a-zA-Z0-9_-]+$/,R=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return $.test(ce.trim())||R.test(ce.trim())},K=async ce=>{var $,R;if(ce.preventDefault(),m(null),!W(c)){m("Please enter a valid username or email address");return}if(!u||u.trim().length===0){m("Please enter your password");return}try{const se=await r(c.trim(),u);if(se.requiresOTP&&se.email)w(se.email),y(!0),O(60);else{const fe=(R=($=s.state)==null?void 0:$.from)==null?void 0:R.pathname;i(fe||"/mobile/home",{replace:!0})}}catch(se){m(se.message||"Invalid credentials. Please check your username and password.")}},te=(ce,$)=>{if($.length>1)return;const R=[...S];if(R[ce]=$,N(R),$&&ce<5){const se=document.getElementById(`otp-input-mobile-${ce+1}`);se==null||se.focus()}},q=(ce,$)=>{if($.key==="Backspace"&&!S[ce]&&ce>0){const R=document.getElementById(`otp-input-mobile-${ce-1}`);R==null||R.focus()}},Y=async ce=>{var R,se,fe;ce.preventDefault(),m(null);const $=S.join("");if($.length!==6){m("Please enter a valid 6-digit OTP");return}try{await e(b,$);const Te=(se=(R=s.state)==null?void 0:R.from)==null?void 0:se.pathname;i(Te||"/mobile/home",{replace:!0})}catch(Te){m(Te.message||"Invalid OTP"),N(["","","","","",""]),(fe=document.getElementById("otp-input-mobile-0"))==null||fe.focus()}},P=async()=>{if(!(C>0)){m(null);try{await r(c,u),O(60),N(["","","","","",""])}catch(ce){m(ce.message||"Failed to resend OTP")}}};return n&&!x&&!c&&!u?t.jsxs("div",{className:"mobile-login-container",style:{justifyContent:"center",alignItems:"center"},children:[t.jsx("div",{className:"loading-spinner"}),t.jsx("p",{style:{color:"#666",fontSize:"14px",marginTop:"16px"},children:"Loading..."})]}):t.jsxs("div",{className:"mobile-login-container",children:[t.jsxs("header",{className:"login-header",children:[t.jsx("h1",{className:"header-title",children:"Medi Waste Management System"}),t.jsx("p",{className:"header-subtitle",children:"Streamlined healthcare waste tracking and compliance"})]}),t.jsx("main",{className:"login-main",children:t.jsxs("div",{className:"login-card",children:[t.jsx("h2",{className:"login-card-title",children:x?"Verify OTP":"Log in"}),x?t.jsxs("form",{className:"login-form",onSubmit:Y,children:[t.jsx("div",{className:"otp-instruction-mobile",children:b.toLowerCase()==="superadmin@medi-waste.io"||b.toLowerCase()==="superadmin"?t.jsx("p",{children:"Use your configured SuperAdmin OTP."}):t.jsx("p",{children:"We've sent a 6-digit code to your email. Please enter it below."})}),t.jsx("div",{className:"otp-inputs-row-mobile",children:S.map((ce,$)=>t.jsx("input",{id:`otp-input-mobile-${$}`,type:"text",inputMode:"numeric",maxLength:1,className:"otp-input-mobile",value:ce,onChange:R=>te($,R.target.value),onKeyDown:R=>q($,R),autoFocus:$===0,disabled:n},$))}),g&&t.jsx("div",{className:"error-message-mobile",children:g}),t.jsx("button",{type:"submit",className:"login-button",disabled:n||S.some(ce=>!ce),children:n?"Verifying...":"Verify OTP"}),t.jsx("div",{className:"otp-resend-mobile",children:t.jsxs("p",{className:"otp-resend-text-mobile",children:["Didn't receive the code?"," ",C>0?t.jsxs("span",{className:"otp-timer-mobile",children:["Resend in ",C,"s"]}):t.jsx("button",{type:"button",className:"otp-resend-link-mobile",onClick:P,children:"Resend OTP"})]})})]}):t.jsxs("form",{className:"login-form",onSubmit:K,children:[t.jsx("div",{className:"form-field",children:t.jsxs("div",{className:"input-wrapper",children:[t.jsxs("svg",{className:"input-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),t.jsx("input",{type:"text",className:"form-input",placeholder:"Username or Email",value:c,onChange:ce=>{l(ce.target.value),m(null)},autoComplete:"username",disabled:n})]})}),t.jsx("div",{className:"form-field",children:t.jsxs("div",{className:"input-wrapper",children:[t.jsxs("svg",{className:"input-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),t.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),t.jsx("input",{type:A?"text":"password",className:"form-input",placeholder:"Password",value:u,onChange:ce=>{o(ce.target.value),m(null)},autoComplete:"current-password",disabled:n}),t.jsx("button",{type:"button",className:"password-toggle",onClick:()=>f(!A),"aria-label":A?"Hide password":"Show password",disabled:n,children:A?t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),t.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})}),t.jsxs("div",{className:"form-options",children:[t.jsxs("label",{className:"checkbox-label",children:[t.jsx("input",{type:"checkbox",className:"checkbox-input",checked:h,onChange:ce=>d(ce.target.checked),disabled:n}),t.jsx("span",{className:"checkbox-text",children:"Remember Me"})]}),t.jsx(Yr,{to:"/forgot-password",className:"forgot-password-link",children:"Forgot Password?"})]}),g&&t.jsx("div",{className:"error-message-mobile",children:g}),t.jsx("button",{type:"submit",className:"login-button",disabled:n,children:n?"Logging in...":"Log in"})]})]})})]})},Aae=({title:r,subtitle:e,action:n,children:a})=>t.jsxs("section",{className:"form-card",children:[t.jsxs("div",{className:"form-card__header",children:[t.jsxs("div",{children:[t.jsx("h1",{children:r}),e&&t.jsx("p",{children:e})]}),n&&t.jsx("div",{className:"form-card__action",children:n})]}),t.jsx("div",{className:"form-card__body",children:a})]}),Zj=({label:r,type:e="text",error:n,hint:a,...i})=>{const[s,c]=k.useState(!1),l=e==="password",u=l&&s?"text":e;return t.jsxs("label",{className:`input-field ${n?"input-field--error":""}`,children:[t.jsx("span",{children:r}),t.jsxs("div",{className:"input-field__control",children:[t.jsx("input",{type:u,...i}),l&&t.jsx("button",{type:"button",className:"input-field__toggle",onClick:()=>c(o=>!o),"aria-label":s?"Hide password":"Show password",children:s?"Hide":"Show"})]}),n?t.jsx("small",{className:"input-field__error",children:n}):a&&t.jsx("small",{children:a})]})},fae=({loading:r,children:e,...n})=>t.jsx("button",{className:"primary-btn",disabled:r||n.disabled,...n,children:r?"Working...":e}),pae=({role:r})=>t.jsx("span",{className:"role-pill",children:r}),p_={manager:"Approve & oversee routes",staff:"Execute pickups",viewer:"Read-only visibility"},mae=()=>{const{createUser:r,loading:e,user:n}=da(),[a,i]=k.useState({name:"",email:"",password:"",role:"staff"}),[s,c]=k.useState(null),[l,u]=k.useState(null),o=async h=>{h.preventDefault(),c(null),u(null);try{const d=await r(a);c(`Created ${d.name} (${d.roles.join(", ")})`),i({...a,name:"",email:"",password:""})}catch(d){u(d.message||"Unable to create user")}};return t.jsx(Aae,{title:"Add Field User",subtitle:"Mobile-first creation for operational leads.",action:n?t.jsx(pae,{role:n.roles[0]}):null,children:t.jsxs("form",{className:"form-grid mobile",onSubmit:o,children:[t.jsx(Zj,{label:"Name",placeholder:"Jordan Blake",value:a.name,onChange:h=>i(d=>({...d,name:h.target.value}))}),t.jsx(Zj,{label:"Email",type:"email",placeholder:"user@medi-waste.io",value:a.email,onChange:h=>i(d=>({...d,email:h.target.value}))}),t.jsx(Zj,{label:"Password",type:"password",placeholder:"Strong password",value:a.password,onChange:h=>i(d=>({...d,password:h.target.value})),hint:"Min 8 characters"}),t.jsxs("label",{className:"input-field",children:[t.jsx("span",{children:"Role"}),t.jsx("div",{className:"role-options",children:Object.keys(p_).map(h=>t.jsxs("button",{type:"button",className:`role-chip ${a.role===h?"role-chip--active":""}`,onClick:()=>i(d=>({...d,role:h})),children:[t.jsx("strong",{children:h}),t.jsx("small",{children:p_[h]})]},h))})]}),l&&t.jsx("div",{className:"form-error",children:l}),s&&t.jsx("div",{className:"form-success",children:s}),t.jsx(fae,{type:"submit",loading:e,children:"Save User"}),t.jsx("p",{className:"muted",children:"Managers can add staff on the go."})]})})},gae=()=>{const{user:r,logout:e,permissions:n}=da(),a=Tn();Ka();const[i,s]=k.useState(!1),[c,l]=k.useState(!1),u=()=>{l(!c)},[o,h]=k.useState(null),[d,A]=k.useState(null),[f,g]=k.useState("basic"),[m,x]=k.useState(null),[y,b]=k.useState(!1),[w,S]=k.useState({emailAddress:"",emergencyContact:"",addressLine:"",area:"",city:"",district:"",pincode:""}),[N,C]=k.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[O,W]=k.useState({current:!1,new:!1,confirm:!1}),[K,te]=k.useState({length:!1,uppercase:!1,lowercase:!1,number:!1,special:!1,match:!1});k.useEffect(()=>{r!=null&&r.id&&q()},[r]);const q=async()=>{if(r){s(!0),h(null);try{const ee=r.id&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(r.id);let re=null;if(ee)try{re=await Kl.getUserById(r.id)}catch(je){console.log("User ID lookup failed, trying search by username:",je)}if(!re&&r.name)try{re=await Kl.getUserByUsername(r.name)}catch(je){console.log("User lookup by username failed:",je)}if(re)x(re),S({emailAddress:re.emailAddress||"",emergencyContact:re.emergencyContact||"",addressLine:re.addressLine||"",area:re.area||"",city:re.city||"",district:re.district||"",pincode:re.pincode||""});else{const je={userName:r.name,emailAddress:r.email||null,status:"Active",mobileNumber:"-",employeeCode:null,userRoleId:r.roles.join(", ")||null};x(je),h("Showing basic information from your session. Some details may be incomplete.")}}catch(ee){console.error("Error loading user profile:",ee),h("Unable to load complete profile data. Showing basic information from your session.")}finally{s(!1)}}},Y=async()=>{if(m!=null&&m.userId){s(!0),A(null),h(null);try{await Kl.updateCompleteUser(m.userId,{emailAddress:w.emailAddress||void 0,emergencyContact:w.emergencyContact||void 0,addressLine:w.addressLine||void 0,area:w.area||void 0,city:w.city||void 0,district:w.district||void 0,pincode:w.pincode||void 0}),A("Contact information updated successfully!"),b(!1),await q()}catch(ee){h(ee.message||"Failed to update contact information")}finally{s(!1)}}},P=()=>{m&&S({emailAddress:m.emailAddress||"",emergencyContact:m.emergencyContact||"",addressLine:m.addressLine||"",area:m.area||"",city:m.city||"",district:m.district||"",pincode:m.pincode||""}),b(!1)},ce=ee=>{te({length:ee.length>=8,uppercase:/[A-Z]/.test(ee),lowercase:/[a-z]/.test(ee),number:/[0-9]/.test(ee),special:/[!@#$%^&*(),.?":{}|<>]/.test(ee),match:ee===N.confirmPassword&&ee.length>0})},$=(ee,re)=>{const je={...N,[ee]:re};C(je),ee==="newPassword"?(ce(re),N.confirmPassword&&te(Ne=>({...Ne,match:re===N.confirmPassword&&re.length>0}))):te(Ne=>({...Ne,match:re===N.newPassword&&re.length>0}))},R=()=>{const re=[K.length,K.uppercase,K.lowercase,K.number,K.special].filter(Boolean).length;return re===0?{level:0,label:"",color:""}:re<=2?{level:1,label:"Weak",color:"#ef4444"}:re<=4?{level:2,label:"Medium",color:"#f59e0b"}:{level:3,label:"Strong",color:"#10b981"}},se=async ee=>{if(ee.preventDefault(),h(null),A(null),!K.length){h("Password must be at least 8 characters long");return}if(!K.uppercase){h("Password must contain at least one uppercase letter");return}if(!K.lowercase){h("Password must contain at least one lowercase letter");return}if(!K.number){h("Password must contain at least one number");return}if(!K.special){h("Password must contain at least one special character");return}if(!K.match){h("New password and confirm password do not match");return}s(!0);try{if(!(r!=null&&r.id))throw new Error("User ID not found");await mx(r.id,{currentPassword:N.currentPassword,newPassword:N.newPassword}),A("Password changed successfully!"),C({currentPassword:"",newPassword:"",confirmPassword:""}),te({length:!1,uppercase:!1,lowercase:!1,number:!1,special:!1,match:!1}),W({current:!1,new:!1,confirm:!1})}catch(re){h(re.message||"Failed to change password")}finally{s(!1)}},fe=ee=>{const re=ee.toLowerCase();return re==="active"?"status-badge--active":re==="inactive"?"status-badge--inactive":re==="draft"?"status-badge--draft":"status-badge--active"},Te=ee=>{const re=ee.trim().split(" ");return re.length>=2?(re[0][0]+re[re.length-1][0]).toUpperCase():ee.charAt(0).toUpperCase()},Ie=(m==null?void 0:m.userName)||(r==null?void 0:r.name)||"User",_e=(m==null?void 0:m.userRoleId)||(r==null?void 0:r.roles.join(", "))||"User",Z=(m==null?void 0:m.status)||"Active",Oe=us(n,a.pathname);return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${c?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!c&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:u,"aria-label":c?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:Oe.map(ee=>t.jsx("li",{children:t.jsxs(Yr,{to:ee.path,className:`nav-link ${ee.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:ee.icon}),!c&&t.jsx("span",{className:"nav-label",children:ee.label})]})},ee.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Yr,{to:"/profile",className:`sidebar-profile-btn ${a.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsx("span",{className:"nav-icon",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!c&&t.jsx("span",{className:"nav-label",children:"Profile"})]}),t.jsxs("button",{onClick:e,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!c&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Profile"})})}),t.jsx("div",{className:"dashboard-content",children:t.jsxs("div",{className:"profile-page",children:[t.jsxs("div",{className:"profile-header-card profile-header-card--template",children:[t.jsxs("div",{className:"profile-header-left",children:[t.jsx("div",{className:"profile-header-avatar",children:t.jsx("div",{className:"profile-avatar-large",children:Te(Ie)})}),t.jsxs("div",{className:"profile-header-info",children:[t.jsxs("div",{className:"profile-header-top",children:[t.jsx("h1",{className:"profile-header-name",children:Ie}),t.jsxs("div",{className:"profile-header-badges",children:[t.jsx("span",{className:"profile-role-pill",children:_e}),t.jsx("span",{className:`profile-status-pill ${fe(Z)}`,children:Z})]})]}),t.jsxs("div",{className:"profile-header-sub",children:[t.jsx("span",{className:"profile-header-subitem",children:(m==null?void 0:m.emailAddress)||(r==null?void 0:r.email)||""}),t.jsx("span",{className:"profile-header-dot",children:""}),t.jsx("span",{className:"profile-header-subitem",children:(m==null?void 0:m.employmentType)||"Administration"})]})]})]}),t.jsx("div",{className:"profile-header-actions",children:t.jsxs("button",{type:"button",className:"profile-save-btn",onClick:Y,disabled:i||f!=="contact"||!y||!(m!=null&&m.userId),title:f!=="contact"?"Switch to Contact Info to save":y?"Save contact information":"Click Edit Contact Info to make changes",children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),t.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),t.jsx("polyline",{points:"7 3 7 8 15 8"})]}),"Save"]})})]}),o&&t.jsxs("div",{className:"profile-info-banner",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),t.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),t.jsx("span",{children:o})]}),d&&t.jsxs("div",{className:"profile-success-message",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),d]}),t.jsxs("div",{className:"profile-section-tabs",children:[t.jsxs("button",{className:`section-tab ${f==="basic"?"active":""}`,onClick:()=>g("basic"),children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Basic Info"]}),t.jsxs("button",{className:`section-tab ${f==="contact"?"active":""}`,onClick:()=>g("contact"),children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),t.jsx("polyline",{points:"22,6 12,13 2,6"})]}),"Contact Info"]}),t.jsxs("button",{className:`section-tab ${f==="security"?"active":""}`,onClick:()=>g("security"),children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),t.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),"Security"]})]}),t.jsx("div",{className:"profile-section-content",children:i&&!m?t.jsxs("div",{className:"profile-loading",children:[t.jsx("div",{className:"loading-spinner"}),t.jsx("p",{children:"Loading profile data..."})]}):t.jsxs(t.Fragment,{children:[f==="basic"&&t.jsxs("div",{className:"profile-section",children:[t.jsxs("div",{className:"section-header",children:[t.jsx("h2",{className:"section-title",children:"Basic Information"}),t.jsx("p",{className:"section-description",children:"Your account information (read-only)"})]}),t.jsxs("div",{className:"profile-cards-grid",children:[t.jsxs("div",{className:"profile-card",children:[t.jsxs("div",{className:"profile-card-header",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),t.jsx("span",{className:"profile-card-title",children:"User Name"})]}),t.jsx("div",{className:"profile-card-value",children:(m==null?void 0:m.userName)||(r==null?void 0:r.name)||"-"})]}),t.jsxs("div",{className:"profile-card",children:[t.jsxs("div",{className:"profile-card-header",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),t.jsx("path",{d:"M20 8v6M23 11h-6"})]}),t.jsx("span",{className:"profile-card-title",children:"Employee Code"})]}),t.jsx("div",{className:"profile-card-value",children:(m==null?void 0:m.employeeCode)||"-"})]}),t.jsxs("div",{className:"profile-card",children:[t.jsxs("div",{className:"profile-card-header",children:[t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),t.jsx("span",{className:"profile-card-title",children:"Mobile Number"})]}),t.jsx("div",{className:"profile-card-value",children:(m==null?void 0:m.mobileNumber)||"-"})]}),t.jsxs("div",{className:"profile-card",children:[t.jsxs("div",{className:"profile-card-header",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("path",{d:"M12 6v6l4 2"})]}),t.jsx("span",{className:"profile-card-title",children:"Status"})]}),t.jsx("div",{className:"profile-card-value",children:t.jsx("span",{className:`status-badge ${fe(Z)}`,children:Z})})]}),t.jsxs("div",{className:"profile-card",children:[t.jsxs("div",{className:"profile-card-header",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"9",cy:"7",r:"4"}),t.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),t.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),t.jsx("span",{className:"profile-card-title",children:"Role"})]}),t.jsx("div",{className:"profile-card-value",children:_e})]}),t.jsxs("div",{className:"profile-card",children:[t.jsxs("div",{className:"profile-card-header",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),t.jsx("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),t.jsx("line",{x1:"23",y1:"11",x2:"17",y2:"11"})]}),t.jsx("span",{className:"profile-card-title",children:"Employment Type"})]}),t.jsx("div",{className:"profile-card-value",children:(m==null?void 0:m.employmentType)||"-"})]})]})]}),f==="contact"&&t.jsxs("div",{className:"profile-section",children:[t.jsxs("div",{className:"section-header",children:[t.jsx("h2",{className:"section-title",children:"Contact Information"}),t.jsx("p",{className:"section-description",children:y?"Edit your contact details":"Update your contact details"})]}),t.jsxs("div",{className:"profile-contact-form",children:[t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"emailAddress",children:"Email Address"}),y?t.jsx("input",{type:"email",id:"emailAddress",value:w.emailAddress,onChange:ee=>S({...w,emailAddress:ee.target.value}),placeholder:"Enter email address",disabled:i}):t.jsx("div",{className:"form-value",children:(m==null?void 0:m.emailAddress)||"Not provided"}),t.jsx("small",{className:"form-hint",children:"Email is optional and can be updated"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"emergencyContact",children:"Emergency Contact"}),y?t.jsx("input",{type:"text",id:"emergencyContact",value:w.emergencyContact,onChange:ee=>S({...w,emergencyContact:ee.target.value}),placeholder:"Enter emergency contact number",disabled:i}):t.jsx("div",{className:"form-value",children:(m==null?void 0:m.emergencyContact)||"-"})]})]}),t.jsxs("div",{className:"form-group form-group--full",children:[t.jsx("label",{htmlFor:"addressLine",children:"Address Line"}),y?t.jsx("input",{type:"text",id:"addressLine",value:w.addressLine,onChange:ee=>S({...w,addressLine:ee.target.value}),placeholder:"Enter address line",disabled:i}):t.jsx("div",{className:"form-value",children:(m==null?void 0:m.addressLine)||"-"})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"area",children:"Area"}),y?t.jsx("input",{type:"text",id:"area",value:w.area,onChange:ee=>S({...w,area:ee.target.value}),placeholder:"Enter area",disabled:i}):t.jsx("div",{className:"form-value",children:(m==null?void 0:m.area)||"-"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"city",children:"City"}),y?t.jsx("input",{type:"text",id:"city",value:w.city,onChange:ee=>S({...w,city:ee.target.value}),placeholder:"Enter city",disabled:i}):t.jsx("div",{className:"form-value",children:(m==null?void 0:m.city)||"-"})]})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"district",children:"District"}),y?t.jsx("input",{type:"text",id:"district",value:w.district,onChange:ee=>S({...w,district:ee.target.value}),placeholder:"Enter district",disabled:i}):t.jsx("div",{className:"form-value",children:(m==null?void 0:m.district)||"-"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"pincode",children:"Pincode"}),y?t.jsx("input",{type:"text",id:"pincode",value:w.pincode,onChange:ee=>S({...w,pincode:ee.target.value}),placeholder:"Enter pincode",disabled:i}):t.jsx("div",{className:"form-value",children:(m==null?void 0:m.pincode)||"-"})]})]}),t.jsx("div",{className:"form-actions",children:y?t.jsxs(t.Fragment,{children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:P,disabled:i,children:"Cancel"}),t.jsx("button",{type:"button",className:"btn btn--primary",onClick:Y,disabled:i,children:i?"Saving...":"Save Changes"})]}):t.jsx("button",{type:"button",className:"btn btn--primary",onClick:()=>b(!0),children:"Edit Contact Info"})})]})]}),f==="security"&&t.jsxs("div",{className:"profile-section",children:[t.jsxs("div",{className:"section-header",children:[t.jsx("h2",{className:"section-title",children:"Security Settings"}),t.jsx("p",{className:"section-description",children:"Manage your password and security preferences"})]}),t.jsxs("div",{className:"security-card security-card--password",children:[t.jsx("div",{className:"security-card-header",children:t.jsxs("div",{className:"security-card-title-group",children:[t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),t.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"security-card-title",children:"Change Password"}),t.jsx("p",{className:"security-card-subtitle",children:"Update your account password to keep your account secure"})]})]})}),t.jsxs("form",{onSubmit:se,className:"password-form",children:[t.jsxs("div",{className:"form-group form-group--password",children:[t.jsxs("label",{htmlFor:"currentPassword",children:["Current Password",t.jsx("span",{className:"required-asterisk",children:"*"})]}),t.jsxs("div",{className:"password-input-wrapper",children:[t.jsx("input",{type:O.current?"text":"password",id:"currentPassword",value:N.currentPassword,onChange:ee=>C({...N,currentPassword:ee.target.value}),required:!0,placeholder:"Enter your current password",disabled:i,className:N.currentPassword?"has-value":""}),t.jsx("button",{type:"button",className:"password-toggle",onClick:()=>W({...O,current:!O.current}),tabIndex:-1,"aria-label":O.current?"Hide password":"Show password",children:O.current?t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),t.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),t.jsxs("div",{className:"form-group form-group--password",children:[t.jsxs("label",{htmlFor:"newPassword",children:["New Password",t.jsx("span",{className:"required-asterisk",children:"*"})]}),t.jsxs("div",{className:"password-input-wrapper",children:[t.jsx("input",{type:O.new?"text":"password",id:"newPassword",value:N.newPassword,onChange:ee=>$("newPassword",ee.target.value),required:!0,placeholder:"Enter new password",disabled:i,className:N.newPassword?"has-value":""}),t.jsx("button",{type:"button",className:"password-toggle",onClick:()=>W({...O,new:!O.new}),tabIndex:-1,"aria-label":O.new?"Hide password":"Show password",children:O.new?t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),t.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),N.newPassword&&t.jsxs("div",{className:"password-strength",children:[t.jsx("div",{className:"password-strength-bar",children:t.jsx("div",{className:"password-strength-fill",style:{width:`${R().level/3*100}%`,backgroundColor:R().color}})}),t.jsx("span",{className:"password-strength-label",style:{color:R().color},children:R().label||"Enter password"})]}),t.jsxs("div",{className:"password-requirements",children:[t.jsxs("div",{className:`requirement-item ${K.length?"requirement-item--valid":""}`,children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:K.length?t.jsx("path",{d:"M20 6L9 17l-5-5"}):t.jsx("circle",{cx:"12",cy:"12",r:"10"})}),t.jsx("span",{children:"At least 8 characters"})]}),t.jsxs("div",{className:`requirement-item ${K.uppercase?"requirement-item--valid":""}`,children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:K.uppercase?t.jsx("path",{d:"M20 6L9 17l-5-5"}):t.jsx("circle",{cx:"12",cy:"12",r:"10"})}),t.jsx("span",{children:"One uppercase letter"})]}),t.jsxs("div",{className:`requirement-item ${K.lowercase?"requirement-item--valid":""}`,children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:K.lowercase?t.jsx("path",{d:"M20 6L9 17l-5-5"}):t.jsx("circle",{cx:"12",cy:"12",r:"10"})}),t.jsx("span",{children:"One lowercase letter"})]}),t.jsxs("div",{className:`requirement-item ${K.number?"requirement-item--valid":""}`,children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:K.number?t.jsx("path",{d:"M20 6L9 17l-5-5"}):t.jsx("circle",{cx:"12",cy:"12",r:"10"})}),t.jsx("span",{children:"One number"})]}),t.jsxs("div",{className:`requirement-item ${K.special?"requirement-item--valid":""}`,children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:K.special?t.jsx("path",{d:"M20 6L9 17l-5-5"}):t.jsx("circle",{cx:"12",cy:"12",r:"10"})}),t.jsx("span",{children:"One special character"})]})]})]}),t.jsxs("div",{className:"form-group form-group--password",children:[t.jsxs("label",{htmlFor:"confirmPassword",children:["Confirm New Password",t.jsx("span",{className:"required-asterisk",children:"*"})]}),t.jsxs("div",{className:"password-input-wrapper",children:[t.jsx("input",{type:O.confirm?"text":"password",id:"confirmPassword",value:N.confirmPassword,onChange:ee=>$("confirmPassword",ee.target.value),required:!0,placeholder:"Re-enter new password",disabled:i,className:`${N.confirmPassword?"has-value":""} ${N.confirmPassword&&K.match?"password-match":N.confirmPassword&&!K.match?"password-mismatch":""}`}),t.jsx("button",{type:"button",className:"password-toggle",onClick:()=>W({...O,confirm:!O.confirm}),tabIndex:-1,"aria-label":O.confirm?"Hide password":"Show password",children:O.confirm?t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),t.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),N.confirmPassword&&t.jsxs("div",{className:`password-match-indicator ${K.match?"password-match-indicator--valid":"password-match-indicator--invalid"}`,children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:K.match?t.jsx("path",{d:"M20 6L9 17l-5-5"}):t.jsx("path",{d:"M18 6L6 18M6 6l12 12"})}),t.jsx("span",{children:K.match?"Passwords match":"Passwords do not match"})]})]}),t.jsx("div",{className:"form-actions form-actions--password",children:t.jsx("button",{type:"submit",className:"btn btn--primary btn--password",disabled:i||!K.match||!K.length||!K.uppercase||!K.lowercase||!K.number||!K.special,children:i?t.jsxs(t.Fragment,{children:[t.jsx("svg",{className:"btn-spinner",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Changing Password..."]}):t.jsxs(t.Fragment,{children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),t.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),t.jsx("polyline",{points:"7 3 7 8 15 8"})]}),"Update Password"]})})})]})]})]})]})})]})})]})]})},vae=()=>{const r=Ka(),e=Tn(),{user:n,logout:a}=da(),[i,s]=k.useState(!1),[c,l]=k.useState(null),[u,o]=k.useState(!1);k.useEffect(()=>{(async()=>{if(n!=null&&n.token){const S=await lO(n.token);l(S)}})()},[n]);const h=[{id:"home",label:"Home",icon:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),path:"/mobile/home",permission:"HOME_VIEW"},{id:"scan",label:"Scan",icon:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 12v3a2 2 0 0 1-2 2h-3"}),t.jsx("path",{d:"M3 12V9a2 2 0 0 1 2-2h3"}),t.jsx("path",{d:"M21 12H3"}),t.jsx("path",{d:"M12 21v-9"}),t.jsx("path",{d:"M12 3v9"})]}),path:"/mobile/scan",scanButton:!0},{id:"more",label:"More",icon:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"1"}),t.jsx("circle",{cx:"12",cy:"5",r:"1"}),t.jsx("circle",{cx:"12",cy:"19",r:"1"})]}),path:"#"}],d=w=>{if(w.scanButton||w.id==="more"||w.id==="home")return!0;if(w.permission&&c){if(w.permission.includes("ROUTE_ASSIGNMENT")||w.permission.includes("WASTE_COLLECTION"))return ef(c,"transaction");if(w.permission.includes("HCF"))return ef(c,"master","hcf")}return!0},A=w=>{if(w.id==="more"){s(!i);return}w.path&&w.path!=="#"&&(r(w.path),s(!1))},f=()=>{r("/mobile/scan"),s(!1)},g=()=>{a(),r("/mobile/login"),s(!1)},m=h.filter(d),x=m.find(w=>w.id==="home"),y=m.find(w=>w.scanButton),b=m.find(w=>w.id==="more");return t.jsxs(t.Fragment,{children:[i&&t.jsx("div",{className:"mobile-more-overlay",onClick:()=>s(!1),children:t.jsxs("div",{className:"mobile-more-menu",onClick:w=>w.stopPropagation(),children:[t.jsxs("div",{className:"mobile-more-header",children:[t.jsx("h3",{children:"More Options"}),t.jsx("button",{className:"mobile-more-close",onClick:()=>s(!1),children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("div",{className:"mobile-more-content",children:[t.jsxs("button",{className:"mobile-more-item",onClick:()=>{r("/mobile/profile"),s(!1)},children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{className:"mobile-more-item mobile-more-item--logout",onClick:g,children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),t.jsx("span",{children:"Logout"})]})]})]})}),t.jsxs("nav",{className:"mobile-bottom-nav",children:[x&&t.jsxs("button",{className:`mobile-nav-item ${e.pathname===x.path?"mobile-nav-item--active":""}`,onClick:()=>A(x),"aria-label":"Home",children:[t.jsx("span",{className:"mobile-nav-icon",children:x.icon}),t.jsx("span",{className:"mobile-nav-label",children:x.label})]}),y&&t.jsxs("button",{className:"mobile-nav-item mobile-nav-item--scan",onClick:f,"aria-label":"Scan Barcode",children:[t.jsx("span",{className:"mobile-nav-icon mobile-nav-icon--scan",children:y.icon}),t.jsx("span",{className:"mobile-nav-label",children:y.label})]}),b&&t.jsxs("button",{className:`mobile-nav-item ${i?"mobile-nav-item--active":""}`,onClick:()=>A(b),"aria-label":"More",children:[t.jsx("span",{className:"mobile-nav-icon",children:b.icon}),t.jsx("span",{className:"mobile-nav-label",children:b.label})]})]})]})},Uh=({children:r,title:e,showBackButton:n=!1,onBack:a})=>t.jsxs("div",{className:"mobile-layout",children:[(e||n)&&t.jsxs("header",{className:"mobile-header",children:[n&&t.jsx("button",{className:"mobile-back-btn",onClick:a,"aria-label":"Go back",children:t.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e&&t.jsx("h1",{className:"mobile-header-title",children:e}),t.jsx("div",{style:{width:n?"40px":"auto"}})]}),t.jsx("main",{className:"mobile-page-content",children:r}),t.jsx(vae,{})]}),xae=({isOpen:r,onClose:e})=>{const n=Ka(),a=Tn(),{user:i,permissions:s,logout:c}=da(),[l,u]=k.useState(null),[o,h]=k.useState(new Set);k.useEffect(()=>{(async()=>{if(i!=null&&i.token){const b=await lO(i.token);u(b)}})()},[i]);const d=()=>{if(i!=null&&i.name){const y=i.name.split(" ");return y.length>=2?`${y[0][0]}${y[1][0]}`.toUpperCase():i.name.substring(0,2).toUpperCase()}return"MW"},A=[{title:"Operations",items:[{id:"dashboard",label:"Home",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),path:"/mobile/home",permission:"HOME.VIEW"},{id:"waste-collection",label:"Waste Entry",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),t.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),t.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]}),path:"/mobile/waste-entry",permission:"WASTE_COLLECTION.CREATE"},{id:"waste-collections",label:"Waste Collections",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M8 6h13"}),t.jsx("path",{d:"M8 12h13"}),t.jsx("path",{d:"M8 18h13"}),t.jsx("path",{d:"M3 6h.01"}),t.jsx("path",{d:"M3 12h.01"}),t.jsx("path",{d:"M3 18h.01"})]}),path:"/mobile/waste-collections",permission:"WASTE_COLLECTION.VIEW"},{id:"route-assignment",label:"Route Assignment",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),t.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),path:"/mobile/assign-hospital",permission:"ROUTE_ASSIGNMENT.VIEW"},{id:"assigned-hcfs",label:"Assigned HCF List",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 11l3 3L22 4"}),t.jsx("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"})]}),path:"/mobile/assigned-hcfs",permission:"ROUTE_HCF.VIEW"},{id:"scan",label:"Scan Barcode",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 12v3a2 2 0 0 1-2 2h-3"}),t.jsx("path",{d:"M3 12V9a2 2 0 0 1 2-2h3"}),t.jsx("path",{d:"M21 12H3"}),t.jsx("path",{d:"M12 21v-9"}),t.jsx("path",{d:"M12 3v9"})]}),path:"/mobile/scan"},{id:"hcf-master",label:"HCF Master",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),path:"/mobile/hcf-master",permission:"HCF.VIEW"},{id:"analytics",label:"Analytics",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83"}),t.jsx("path",{d:"M22 12A10 10 0 0 0 12 2v10z"})]}),path:"/mobile/analytics",permission:"REPORT.VIEW"}]},{title:"Admin",items:[{id:"users",label:"User Management",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"9",cy:"7",r:"4"}),t.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),t.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),path:"/users",permission:"USER_VIEW"},{id:"settings",label:"Settings",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),path:"/mobile/settings"}]}],f=y=>{if(y.permission&&s&&s.length>0)return Yl(s,y.permission);if(y.permission&&l){if(y.permission.includes("ROUTE_ASSIGNMENT")||y.permission.includes("WASTE_COLLECTION"))return ef(l,"transaction");if(y.permission.includes("HCF"))return ef(l,"master","hcf");if(y.permission.includes("USER"))return ef(l,"master");if(y.permission.includes("REPORT"))return ef(l,"report")}return!0},g=y=>{if(y.children&&y.children.length>0){const b=new Set(o);b.has(y.id)?b.delete(y.id):b.add(y.id),h(b)}else y.path&&(n(y.path),e())},m=()=>{c(),n("/mobile/login"),e()},x=y=>a.pathname===y||a.pathname.startsWith(y+"/");return k.useEffect(()=>(r?(document.body.style.overflow="hidden",document.body.classList.add("drawer-open")):(document.body.style.overflow="",document.body.classList.remove("drawer-open")),()=>{document.body.style.overflow="",document.body.classList.remove("drawer-open")}),[r]),t.jsxs(t.Fragment,{children:[r&&t.jsx("div",{className:"mobile-drawer-overlay",onClick:e}),t.jsxs("div",{className:`mobile-drawer ${r?"mobile-drawer--open":""}`,children:[t.jsxs("div",{className:"mobile-drawer-header",children:[t.jsxs("div",{className:"mobile-drawer-profile",children:[t.jsx("div",{className:"mobile-drawer-avatar",children:d()}),t.jsxs("div",{className:"mobile-drawer-profile-info",children:[t.jsx("div",{className:"mobile-drawer-profile-name",children:"Medi Waste"}),t.jsx("div",{className:"mobile-drawer-profile-role",children:"Waste Management"})]})]}),t.jsx("button",{className:"mobile-drawer-close",onClick:e,"aria-label":"Close menu",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsx("div",{className:"mobile-drawer-content",children:A.map(y=>{const b=y.items.filter(f);return b.length===0?null:t.jsxs("div",{className:"mobile-drawer-group",children:[t.jsx("div",{className:"mobile-drawer-group-title",children:y.title}),b.map(w=>{const S=w.children&&w.children.length>0,N=o.has(w.id),C=x(w.path);return t.jsxs("div",{children:[t.jsxs("button",{className:`mobile-drawer-item ${C?"mobile-drawer-item--active":""}`,onClick:()=>g(w),children:[t.jsx("span",{className:"mobile-drawer-item-icon",children:w.icon}),t.jsx("span",{className:"mobile-drawer-item-label",children:w.label}),S&&t.jsx("svg",{className:`mobile-drawer-item-chevron ${N?"mobile-drawer-item-chevron--expanded":""}`,width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"9 18 15 12 9 6"})})]}),S&&N&&t.jsx("div",{className:"mobile-drawer-submenu",children:w.children.map(O=>t.jsxs("button",{className:`mobile-drawer-item mobile-drawer-item--sub ${x(O.path)?"mobile-drawer-item--active":""}`,onClick:()=>g(O),children:[t.jsx("span",{className:"mobile-drawer-item-icon",children:O.icon}),t.jsx("span",{className:"mobile-drawer-item-label",children:O.label})]},O.id))})]},w.id)})]},y.title)})}),t.jsx("div",{className:"mobile-drawer-footer",children:t.jsxs("button",{className:"mobile-drawer-item mobile-drawer-item--logout",onClick:m,children:[t.jsxs("svg",{className:"mobile-drawer-item-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),t.jsx("span",{className:"mobile-drawer-item-label",children:"Logout"})]})})]})]})},yae=()=>{const{user:r}=da(),[e,n]=k.useState(!1),a=()=>{if(r!=null&&r.name){const i=r.name.split(" ");return i.length>=2?`${i[0][0]}${i[1][0]}`.toUpperCase():r.name.substring(0,2).toUpperCase()}return"MW"};return t.jsxs(Uh,{children:[t.jsx(xae,{isOpen:e,onClose:()=>n(!1)}),t.jsx("div",{className:"mobile-home-template",children:t.jsxs("div",{className:"mobile-home-profile",children:[t.jsxs("div",{className:"mobile-home-profile-left",onClick:()=>n(!0),style:{cursor:"pointer"},children:[t.jsx("div",{className:"mobile-home-avatar",children:a()}),t.jsxs("div",{className:"mobile-home-profile-info",children:[t.jsx("div",{className:"mobile-home-profile-name",children:"Medi Waste"}),t.jsx("div",{className:"mobile-home-profile-role",children:"Waste Management"})]})]}),t.jsx("button",{className:"mobile-home-menu-button",onClick:()=>n(!0),"aria-label":"Open menu",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),t.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),t.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})})]})})]})};function bae(r,e){var n=Object.setPrototypeOf;n?n(r,e):r.__proto__=e}function wae(r,e){e===void 0&&(e=r.constructor);var n=Error.captureStackTrace;n&&n(r,e)}var jae=(function(){var r=function(n,a){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(i[c]=s[c])},r(n,a)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Cae=(function(r){jae(e,r);function e(n,a){var i=this.constructor,s=r.call(this,n,a)||this;return Object.defineProperty(s,"name",{value:i.name,enumerable:!1,configurable:!0}),bae(s,i.prototype),wae(s),s}return e})(Error),Nae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Qu=(function(r){Nae(e,r);function e(n){n===void 0&&(n=void 0);var a=r.call(this,n)||this;return a.message=n,a}return e.prototype.getKind=function(){var n=this.constructor;return n.kind},e.kind="Exception",e})(Cae),Sae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),fl=(function(r){Sae(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ArgumentException",e})(Qu),Eae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Ia=(function(r){Eae(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e})(Qu),qF=(function(){function r(e){if(this.binarizer=e,e===null)throw new Ia("Binarizer must be non-null.")}return r.prototype.getWidth=function(){return this.binarizer.getWidth()},r.prototype.getHeight=function(){return this.binarizer.getHeight()},r.prototype.getBlackRow=function(e,n){return this.binarizer.getBlackRow(e,n)},r.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},r.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},r.prototype.crop=function(e,n,a,i){var s=this.binarizer.getLuminanceSource().crop(e,n,a,i);return new r(this.binarizer.createBinarizer(s))},r.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},r.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new r(this.binarizer.createBinarizer(e))},r.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new r(this.binarizer.createBinarizer(e))},r.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},r})(),Bae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Sl=(function(r){Bae(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e})(Qu),Iae=(function(){function r(e){this.source=e}return r.prototype.getLuminanceSource=function(){return this.source},r.prototype.getWidth=function(){return this.source.getWidth()},r.prototype.getHeight=function(){return this.source.getHeight()},r})(),oo=(function(){function r(){}return r.arraycopy=function(e,n,a,i,s){for(;s--;)a[i++]=e[n++]},r.currentTimeMillis=function(){return Date.now()},r})(),Tae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),sS=(function(r){Tae(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e})(Qu),_ae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),m_=(function(r){_ae(e,r);function e(n,a){n===void 0&&(n=void 0),a===void 0&&(a=void 0);var i=r.call(this,a)||this;return i.index=n,i.message=a,i}return e.kind="ArrayIndexOutOfBoundsException",e})(sS),Oae=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Xl=(function(){function r(){}return r.fill=function(e,n){for(var a=0,i=e.length;a<i;a++)e[a]=n},r.fillWithin=function(e,n,a,i){r.rangeCheck(e.length,n,a);for(var s=n;s<a;s++)e[s]=i},r.rangeCheck=function(e,n,a){if(n>a)throw new Ia("fromIndex("+n+") > toIndex("+a+")");if(n<0)throw new m_(n);if(a>e)throw new m_(a)},r.asList=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e},r.create=function(e,n,a){var i=Array.from({length:e});return i.map(function(s){return Array.from({length:n}).fill(a)})},r.createInt32Array=function(e,n,a){var i=Array.from({length:e});return i.map(function(s){return Int32Array.from({length:n}).fill(a)})},r.equals=function(e,n){if(!e||!n||!e.length||!n.length||e.length!==n.length)return!1;for(var a=0,i=e.length;a<i;a++)if(e[a]!==n[a])return!1;return!0},r.hashCode=function(e){var n,a;if(e===null)return 0;var i=1;try{for(var s=Oae(e),c=s.next();!c.done;c=s.next()){var l=c.value;i=31*i+l}}catch(u){n={error:u}}finally{try{c&&!c.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}return i},r.fillUint8Array=function(e,n){for(var a=0;a!==e.length;a++)e[a]=n},r.copyOf=function(e,n){return e.slice(0,n)},r.copyOfUint8Array=function(e,n){if(e.length<=n){var a=new Uint8Array(n);return a.set(e),a}return e.slice(0,n)},r.copyOfRange=function(e,n,a){var i=a-n,s=new Int32Array(i);return oo.arraycopy(e,n,s,0,i),s},r.binarySearch=function(e,n,a){a===void 0&&(a=r.numberComparator);for(var i=0,s=e.length-1;i<=s;){var c=s+i>>1,l=a(n,e[c]);if(l>0)i=c+1;else if(l<0)s=c-1;else return c}return-i-1},r.numberComparator=function(e,n){return e-n},r})(),Bi=(function(){function r(){}return r.numberOfTrailingZeros=function(e){var n;if(e===0)return 32;var a=31;return n=e<<16,n!==0&&(a-=16,e=n),n=e<<8,n!==0&&(a-=8,e=n),n=e<<4,n!==0&&(a-=4,e=n),n=e<<2,n!==0&&(a-=2,e=n),a-(e<<1>>>31)},r.numberOfLeadingZeros=function(e){if(e===0)return 32;var n=1;return e>>>16||(n+=16,e<<=16),e>>>24||(n+=8,e<<=8),e>>>28||(n+=4,e<<=4),e>>>30||(n+=2,e<<=2),n-=e>>>31,n},r.toHexString=function(e){return e.toString(16)},r.toBinaryString=function(e){return String(parseInt(String(e),2))},r.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},r.truncDivision=function(e,n){return Math.trunc(e/n)},r.parseInt=function(e,n){return n===void 0&&(n=void 0),parseInt(e,n)},r.MIN_VALUE_32_BITS=-2147483648,r.MAX_VALUE=Number.MAX_SAFE_INTEGER,r})(),jc=(function(){function r(e,n){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,n==null?this.bits=r.makeArray(e):this.bits=n)}return r.prototype.getSize=function(){return this.size},r.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},r.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var n=r.makeArray(e);oo.arraycopy(this.bits,0,n,0,this.bits.length),this.bits=n}},r.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},r.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},r.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},r.prototype.getNextSet=function(e){var n=this.size;if(e>=n)return n;var a=this.bits,i=Math.floor(e/32),s=a[i];s&=~((1<<(e&31))-1);for(var c=a.length;s===0;){if(++i===c)return n;s=a[i]}var l=i*32+Bi.numberOfTrailingZeros(s);return l>n?n:l},r.prototype.getNextUnset=function(e){var n=this.size;if(e>=n)return n;var a=this.bits,i=Math.floor(e/32),s=~a[i];s&=~((1<<(e&31))-1);for(var c=a.length;s===0;){if(++i===c)return n;s=~a[i]}var l=i*32+Bi.numberOfTrailingZeros(s);return l>n?n:l},r.prototype.setBulk=function(e,n){this.bits[Math.floor(e/32)]=n},r.prototype.setRange=function(e,n){if(n<e||e<0||n>this.size)throw new Ia;if(n!==e){n--;for(var a=Math.floor(e/32),i=Math.floor(n/32),s=this.bits,c=a;c<=i;c++){var l=c>a?0:e&31,u=c<i?31:n&31,o=(2<<u)-(1<<l);s[c]|=o}}},r.prototype.clear=function(){for(var e=this.bits.length,n=this.bits,a=0;a<e;a++)n[a]=0},r.prototype.isRange=function(e,n,a){if(n<e||e<0||n>this.size)throw new Ia;if(n===e)return!0;n--;for(var i=Math.floor(e/32),s=Math.floor(n/32),c=this.bits,l=i;l<=s;l++){var u=l>i?0:e&31,o=l<s?31:n&31,h=(2<<o)-(1<<u)&4294967295;if((c[l]&h)!==(a?h:0))return!1}return!0},r.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},r.prototype.appendBits=function(e,n){if(n<0||n>32)throw new Ia("Num bits must be between 0 and 32");this.ensureCapacity(this.size+n);for(var a=n;a>0;a--)this.appendBit((e>>a-1&1)===1)},r.prototype.appendBitArray=function(e){var n=e.size;this.ensureCapacity(this.size+n);for(var a=0;a<n;a++)this.appendBit(e.get(a))},r.prototype.xor=function(e){if(this.size!==e.size)throw new Ia("Sizes don't match");for(var n=this.bits,a=0,i=n.length;a<i;a++)n[a]^=e.bits[a]},r.prototype.toBytes=function(e,n,a,i){for(var s=0;s<i;s++){for(var c=0,l=0;l<8;l++)this.get(e)&&(c|=1<<7-l),e++;n[a+s]=c}},r.prototype.getBitArray=function(){return this.bits},r.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),n=Math.floor((this.size-1)/32),a=n+1,i=this.bits,s=0;s<a;s++){var c=i[s];c=c>>1&1431655765|(c&1431655765)<<1,c=c>>2&858993459|(c&858993459)<<2,c=c>>4&252645135|(c&252645135)<<4,c=c>>8&16711935|(c&16711935)<<8,c=c>>16&65535|(c&65535)<<16,e[n-s]=c}if(this.size!==a*32){for(var l=a*32-this.size,u=e[0]>>>l,s=1;s<a;s++){var o=e[s];u|=o<<32-l,e[s-1]=u,u=o>>>l}e[a-1]=u}this.bits=e},r.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var n=e;return this.size===n.size&&Xl.equals(this.bits,n.bits)},r.prototype.hashCode=function(){return 31*this.size+Xl.hashCode(this.bits)},r.prototype.toString=function(){for(var e="",n=0,a=this.size;n<a;n++)(n&7)===0&&(e+=" "),e+=this.get(n)?"X":".";return e},r.prototype.clone=function(){return new r(this.size,this.bits.slice())},r.prototype.toArray=function(){for(var e=[],n=0,a=this.size;n<a;n++)e.push(this.get(n));return e},r})(),FN;(function(r){r[r.OTHER=0]="OTHER",r[r.PURE_BARCODE=1]="PURE_BARCODE",r[r.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",r[r.TRY_HARDER=3]="TRY_HARDER",r[r.CHARACTER_SET=4]="CHARACTER_SET",r[r.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",r[r.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",r[r.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",r[r.ASSUME_GS1=8]="ASSUME_GS1",r[r.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",r[r.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",r[r.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(FN||(FN={}));const lo=FN;var kae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),gn=(function(r){kae(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e})(Qu),Pae=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ks;(function(r){r[r.Cp437=0]="Cp437",r[r.ISO8859_1=1]="ISO8859_1",r[r.ISO8859_2=2]="ISO8859_2",r[r.ISO8859_3=3]="ISO8859_3",r[r.ISO8859_4=4]="ISO8859_4",r[r.ISO8859_5=5]="ISO8859_5",r[r.ISO8859_6=6]="ISO8859_6",r[r.ISO8859_7=7]="ISO8859_7",r[r.ISO8859_8=8]="ISO8859_8",r[r.ISO8859_9=9]="ISO8859_9",r[r.ISO8859_10=10]="ISO8859_10",r[r.ISO8859_11=11]="ISO8859_11",r[r.ISO8859_13=12]="ISO8859_13",r[r.ISO8859_14=13]="ISO8859_14",r[r.ISO8859_15=14]="ISO8859_15",r[r.ISO8859_16=15]="ISO8859_16",r[r.SJIS=16]="SJIS",r[r.Cp1250=17]="Cp1250",r[r.Cp1251=18]="Cp1251",r[r.Cp1252=19]="Cp1252",r[r.Cp1256=20]="Cp1256",r[r.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",r[r.UTF8=22]="UTF8",r[r.ASCII=23]="ASCII",r[r.Big5=24]="Big5",r[r.GB18030=25]="GB18030",r[r.EUC_KR=26]="EUC_KR"})(ks||(ks={}));var Gl=(function(){function r(e,n,a){for(var i,s,c=[],l=3;l<arguments.length;l++)c[l-3]=arguments[l];this.valueIdentifier=e,this.name=a,typeof n=="number"?this.values=Int32Array.from([n]):this.values=n,this.otherEncodingNames=c,r.VALUE_IDENTIFIER_TO_ECI.set(e,this),r.NAME_TO_ECI.set(a,this);for(var u=this.values,o=0,h=u.length;o!==h;o++){var d=u[o];r.VALUES_TO_ECI.set(d,this)}try{for(var A=Pae(c),f=A.next();!f.done;f=A.next()){var g=f.value;r.NAME_TO_ECI.set(g,this)}}catch(m){i={error:m}}finally{try{f&&!f.done&&(s=A.return)&&s.call(A)}finally{if(i)throw i.error}}}return r.prototype.getValueIdentifier=function(){return this.valueIdentifier},r.prototype.getName=function(){return this.name},r.prototype.getValue=function(){return this.values[0]},r.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new gn("incorect value");var n=r.VALUES_TO_ECI.get(e);if(n===void 0)throw new gn("incorect value");return n},r.getCharacterSetECIByName=function(e){var n=r.NAME_TO_ECI.get(e);if(n===void 0)throw new gn("incorect value");return n},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var n=e;return this.getName()===n.getName()},r.VALUE_IDENTIFIER_TO_ECI=new Map,r.VALUES_TO_ECI=new Map,r.NAME_TO_ECI=new Map,r.Cp437=new r(ks.Cp437,Int32Array.from([0,2]),"Cp437"),r.ISO8859_1=new r(ks.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),r.ISO8859_2=new r(ks.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),r.ISO8859_3=new r(ks.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),r.ISO8859_4=new r(ks.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),r.ISO8859_5=new r(ks.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),r.ISO8859_6=new r(ks.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),r.ISO8859_7=new r(ks.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),r.ISO8859_8=new r(ks.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),r.ISO8859_9=new r(ks.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),r.ISO8859_10=new r(ks.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),r.ISO8859_11=new r(ks.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),r.ISO8859_13=new r(ks.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),r.ISO8859_14=new r(ks.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),r.ISO8859_15=new r(ks.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),r.ISO8859_16=new r(ks.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),r.SJIS=new r(ks.SJIS,20,"SJIS","Shift_JIS"),r.Cp1250=new r(ks.Cp1250,21,"Cp1250","windows-1250"),r.Cp1251=new r(ks.Cp1251,22,"Cp1251","windows-1251"),r.Cp1252=new r(ks.Cp1252,23,"Cp1252","windows-1252"),r.Cp1256=new r(ks.Cp1256,24,"Cp1256","windows-1256"),r.UnicodeBigUnmarked=new r(ks.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),r.UTF8=new r(ks.UTF8,26,"UTF8","UTF-8"),r.ASCII=new r(ks.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),r.Big5=new r(ks.Big5,28,"Big5"),r.GB18030=new r(ks.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),r.EUC_KR=new r(ks.EUC_KR,30,"EUC_KR","EUC-KR"),r})(),Fae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),hv=(function(r){Fae(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e})(Qu),$d=(function(){function r(){}return r.decode=function(e,n){var a=this.encodingName(n);return this.customDecoder?this.customDecoder(e,a):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(a)?this.decodeFallback(e,a):new TextDecoder(a).decode(e)},r.shouldDecodeOnFallback=function(e){return!r.isBrowser()&&e==="ISO-8859-1"},r.encode=function(e,n){var a=this.encodingName(n);return this.customEncoder?this.customEncoder(e,a):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},r.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},r.encodingName=function(e){return typeof e=="string"?e:e.getName()},r.encodingCharacterSet=function(e){return e instanceof Gl?e:Gl.getCharacterSetECIByName(e)},r.decodeFallback=function(e,n){var a=this.encodingCharacterSet(n);if(r.isDecodeFallbackSupported(a)){for(var i="",s=0,c=e.length;s<c;s++){var l=e[s].toString(16);l.length<2&&(l="0"+l),i+="%"+l}return decodeURIComponent(i)}if(a.equals(Gl.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new hv("Encoding "+this.encodingName(n)+" not supported by fallback.")},r.isDecodeFallbackSupported=function(e){return e.equals(Gl.UTF8)||e.equals(Gl.ISO8859_1)||e.equals(Gl.ASCII)},r.encodeFallback=function(e){for(var n=btoa(unescape(encodeURIComponent(e))),a=n.split(""),i=[],s=0;s<a.length;s++)i.push(a[s].charCodeAt(0));return new Uint8Array(i)},r})(),Zi=(function(){function r(){}return r.castAsNonUtf8Char=function(e,n){n===void 0&&(n=null);var a=n?n.getName():this.ISO88591;return $d.decode(new Uint8Array([e]),a)},r.guessEncoding=function(e,n){if(n!=null&&n.get(lo.CHARACTER_SET)!==void 0)return n.get(lo.CHARACTER_SET).toString();for(var a=e.length,i=!0,s=!0,c=!0,l=0,u=0,o=0,h=0,d=0,A=0,f=0,g=0,m=0,x=0,y=0,b=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,w=0;w<a&&(i||s||c);w++){var S=e[w]&255;c&&(l>0?(S&128)===0?c=!1:l--:(S&128)!==0&&((S&64)===0?c=!1:(l++,(S&32)===0?u++:(l++,(S&16)===0?o++:(l++,(S&8)===0?h++:c=!1))))),i&&(S>127&&S<160?i=!1:S>159&&(S<192||S===215||S===247)&&y++),s&&(d>0?S<64||S===127||S>252?s=!1:d--:S===128||S===160||S>239?s=!1:S>160&&S<224?(A++,g=0,f++,f>m&&(m=f)):S>127?(d++,f=0,g++,g>x&&(x=g)):(f=0,g=0))}return c&&l>0&&(c=!1),s&&d>0&&(s=!1),c&&(b||u+o+h>0)?r.UTF8:s&&(r.ASSUME_SHIFT_JIS||m>=3||x>=3)?r.SHIFT_JIS:i&&s?m===2&&A===2||y*10>=a?r.SHIFT_JIS:r.ISO88591:i?r.ISO88591:s?r.SHIFT_JIS:c?r.UTF8:r.PLATFORM_DEFAULT_ENCODING},r.format=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];var i=-1;function s(l,u,o,h,d,A){if(l==="%%")return"%";if(n[++i]!==void 0){l=h?parseInt(h.substr(1)):void 0;var f=d?parseInt(d.substr(1)):void 0,g;switch(A){case"s":g=n[i];break;case"c":g=n[i][0];break;case"f":g=parseFloat(n[i]).toFixed(l);break;case"p":g=parseFloat(n[i]).toPrecision(l);break;case"e":g=parseFloat(n[i]).toExponential(l);break;case"x":g=parseInt(n[i]).toString(f||16);break;case"d":g=parseFloat(parseInt(n[i],f||10).toPrecision(l)).toFixed(0);break}g=typeof g=="object"?JSON.stringify(g):(+g).toString(f);for(var m=parseInt(o),x=o&&o[0]+""=="0"?"0":" ";g.length<m;)g=u!==void 0?g+x:x+g;return g}}var c=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(c,s)},r.getBytes=function(e,n){return $d.encode(e,n)},r.getCharCode=function(e,n){return n===void 0&&(n=0),e.charCodeAt(n)},r.getCharAt=function(e){return String.fromCharCode(e)},r.SHIFT_JIS=Gl.SJIS.getName(),r.GB2312="GB2312",r.ISO88591=Gl.ISO8859_1.getName(),r.EUC_JP="EUC_JP",r.UTF8=Gl.UTF8.getName(),r.PLATFORM_DEFAULT_ENCODING=r.UTF8,r.ASSUME_SHIFT_JIS=!1,r})(),Ci=(function(){function r(e){e===void 0&&(e=""),this.value=e}return r.prototype.enableDecoding=function(e){return this.encoding=e,this},r.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=Zi.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},r.prototype.appendChars=function(e,n,a){for(var i=n;n<n+a;i++)this.append(e[i]);return this},r.prototype.length=function(){return this.value.length},r.prototype.charAt=function(e){return this.value.charAt(e)},r.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},r.prototype.setCharAt=function(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+1)},r.prototype.substring=function(e,n){return this.value.substring(e,n)},r.prototype.setLengthToZero=function(){this.value=""},r.prototype.toString=function(){return this.value},r.prototype.insert=function(e,n){this.value=this.value.substring(0,e)+n+this.value.substring(e)},r})(),Mh=(function(){function r(e,n,a,i){if(this.width=e,this.height=n,this.rowSize=a,this.bits=i,n==null&&(n=e),this.height=n,e<1||n<1)throw new Ia("Both dimensions must be greater than 0");a==null&&(a=Math.floor((e+31)/32)),this.rowSize=a,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return r.parseFromBooleanArray=function(e){for(var n=e.length,a=e[0].length,i=new r(a,n),s=0;s<n;s++)for(var c=e[s],l=0;l<a;l++)c[l]&&i.set(l,s);return i},r.parseFromString=function(e,n,a){if(e===null)throw new Ia("stringRepresentation cannot be null");for(var i=new Array(e.length),s=0,c=0,l=-1,u=0,o=0;o<e.length;)if(e.charAt(o)===`
`||e.charAt(o)==="\r"){if(s>c){if(l===-1)l=s-c;else if(s-c!==l)throw new Ia("row lengths do not match");c=s,u++}o++}else if(e.substring(o,o+n.length)===n)o+=n.length,i[s]=!0,s++;else if(e.substring(o,o+a.length)===a)o+=a.length,i[s]=!1,s++;else throw new Ia("illegal character encountered: "+e.substring(o));if(s>c){if(l===-1)l=s-c;else if(s-c!==l)throw new Ia("row lengths do not match");u++}for(var h=new r(l,u),d=0;d<s;d++)i[d]&&h.set(Math.floor(d%l),Math.floor(d/l));return h},r.prototype.get=function(e,n){var a=n*this.rowSize+Math.floor(e/32);return(this.bits[a]>>>(e&31)&1)!==0},r.prototype.set=function(e,n){var a=n*this.rowSize+Math.floor(e/32);this.bits[a]|=1<<(e&31)&4294967295},r.prototype.unset=function(e,n){var a=n*this.rowSize+Math.floor(e/32);this.bits[a]&=~(1<<(e&31)&4294967295)},r.prototype.flip=function(e,n){var a=n*this.rowSize+Math.floor(e/32);this.bits[a]^=1<<(e&31)&4294967295},r.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new Ia("input matrix dimensions do not match");for(var n=new jc(Math.floor(this.width/32)+1),a=this.rowSize,i=this.bits,s=0,c=this.height;s<c;s++)for(var l=s*a,u=e.getRow(s,n).getBitArray(),o=0;o<a;o++)i[l+o]^=u[o]},r.prototype.clear=function(){for(var e=this.bits,n=e.length,a=0;a<n;a++)e[a]=0},r.prototype.setRegion=function(e,n,a,i){if(n<0||e<0)throw new Ia("Left and top must be nonnegative");if(i<1||a<1)throw new Ia("Height and width must be at least 1");var s=e+a,c=n+i;if(c>this.height||s>this.width)throw new Ia("The region must fit inside the matrix");for(var l=this.rowSize,u=this.bits,o=n;o<c;o++)for(var h=o*l,d=e;d<s;d++)u[h+Math.floor(d/32)]|=1<<(d&31)&4294967295},r.prototype.getRow=function(e,n){n==null||n.getSize()<this.width?n=new jc(this.width):n.clear();for(var a=this.rowSize,i=this.bits,s=e*a,c=0;c<a;c++)n.setBulk(c*32,i[s+c]);return n},r.prototype.setRow=function(e,n){oo.arraycopy(n.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},r.prototype.rotate180=function(){for(var e=this.getWidth(),n=this.getHeight(),a=new jc(e),i=new jc(e),s=0,c=Math.floor((n+1)/2);s<c;s++)a=this.getRow(s,a),i=this.getRow(n-1-s,i),a.reverse(),i.reverse(),this.setRow(s,i),this.setRow(n-1-s,a)},r.prototype.getEnclosingRectangle=function(){for(var e=this.width,n=this.height,a=this.rowSize,i=this.bits,s=e,c=n,l=-1,u=-1,o=0;o<n;o++)for(var h=0;h<a;h++){var d=i[o*a+h];if(d!==0){if(o<c&&(c=o),o>u&&(u=o),h*32<s){for(var A=0;(d<<31-A&4294967295)===0;)A++;h*32+A<s&&(s=h*32+A)}if(h*32+31>l){for(var A=31;!(d>>>A);)A--;h*32+A>l&&(l=h*32+A)}}}return l<s||u<c?null:Int32Array.from([s,c,l-s+1,u-c+1])},r.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,n=this.bits,a=0;a<n.length&&n[a]===0;)a++;if(a===n.length)return null;for(var i=a/e,s=a%e*32,c=n[a],l=0;(c<<31-l&4294967295)===0;)l++;return s+=l,Int32Array.from([s,i])},r.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,n=this.bits,a=n.length-1;a>=0&&n[a]===0;)a--;if(a<0)return null;for(var i=Math.floor(a/e),s=Math.floor(a%e)*32,c=n[a],l=31;!(c>>>l);)l--;return s+=l,Int32Array.from([s,i])},r.prototype.getWidth=function(){return this.width},r.prototype.getHeight=function(){return this.height},r.prototype.getRowSize=function(){return this.rowSize},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var n=e;return this.width===n.width&&this.height===n.height&&this.rowSize===n.rowSize&&Xl.equals(this.bits,n.bits)},r.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+Xl.hashCode(this.bits),e},r.prototype.toString=function(e,n,a){return e===void 0&&(e="X "),n===void 0&&(n="  "),a===void 0&&(a=`
`),this.buildToString(e,n,a)},r.prototype.buildToString=function(e,n,a){for(var i=new Ci,s=0,c=this.height;s<c;s++){for(var l=0,u=this.width;l<u;l++)i.append(this.get(l,s)?e:n);i.append(a)}return i.toString()},r.prototype.clone=function(){return new r(this.width,this.height,this.rowSize,this.bits.slice())},r})(),Dae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Tr=(function(r){Dae(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e})(Qu),Mae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Rae=(function(r){Mae(e,r);function e(n){var a=r.call(this,n)||this;return a.luminances=e.EMPTY,a.buckets=new Int32Array(e.LUMINANCE_BUCKETS),a}return e.prototype.getBlackRow=function(n,a){var i=this.getLuminanceSource(),s=i.getWidth();a==null||a.getSize()<s?a=new jc(s):a.clear(),this.initArrays(s);for(var c=i.getRow(n,this.luminances),l=this.buckets,u=0;u<s;u++)l[(c[u]&255)>>e.LUMINANCE_SHIFT]++;var o=e.estimateBlackPoint(l);if(s<3)for(var u=0;u<s;u++)(c[u]&255)<o&&a.set(u);else for(var h=c[0]&255,d=c[1]&255,u=1;u<s-1;u++){var A=c[u+1]&255;(d*4-h-A)/2<o&&a.set(u),h=d,d=A}return a},e.prototype.getBlackMatrix=function(){var n=this.getLuminanceSource(),a=n.getWidth(),i=n.getHeight(),s=new Mh(a,i);this.initArrays(a);for(var c=this.buckets,l=1;l<5;l++)for(var u=Math.floor(i*l/5),o=n.getRow(u,this.luminances),h=Math.floor(a*4/5),d=Math.floor(a/5);d<h;d++){var A=o[d]&255;c[A>>e.LUMINANCE_SHIFT]++}for(var f=e.estimateBlackPoint(c),g=n.getMatrix(),l=0;l<i;l++)for(var m=l*a,d=0;d<a;d++){var A=g[m+d]&255;A<f&&s.set(d,l)}return s},e.prototype.createBinarizer=function(n){return new e(n)},e.prototype.initArrays=function(n){this.luminances.length<n&&(this.luminances=new Uint8ClampedArray(n));for(var a=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)a[i]=0},e.estimateBlackPoint=function(n){for(var a=n.length,i=0,s=0,c=0,l=0;l<a;l++)n[l]>c&&(s=l,c=n[l]),n[l]>i&&(i=n[l]);for(var u=0,o=0,l=0;l<a;l++){var h=l-s,d=n[l]*h*h;d>o&&(u=l,o=d)}if(s>u){var A=s;s=u,u=A}if(u-s<=a/16)throw new Tr;for(var f=u-1,g=-1,l=u-1;l>s;l--){var m=l-s,d=m*m*(u-l)*(i-n[l]);d>g&&(f=l,g=d)}return f<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e})(Iae),Lae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),XF=(function(r){Lae(e,r);function e(n){var a=r.call(this,n)||this;return a.matrix=null,a}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var n=this.getLuminanceSource(),a=n.getWidth(),i=n.getHeight();if(a>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var s=n.getMatrix(),c=a>>e.BLOCK_SIZE_POWER;(a&e.BLOCK_SIZE_MASK)!==0&&c++;var l=i>>e.BLOCK_SIZE_POWER;(i&e.BLOCK_SIZE_MASK)!==0&&l++;var u=e.calculateBlackPoints(s,c,l,a,i),o=new Mh(a,i);e.calculateThresholdForBlock(s,c,l,a,i,u,o),this.matrix=o}else this.matrix=r.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(n){return new e(n)},e.calculateThresholdForBlock=function(n,a,i,s,c,l,u){for(var o=c-e.BLOCK_SIZE,h=s-e.BLOCK_SIZE,d=0;d<i;d++){var A=d<<e.BLOCK_SIZE_POWER;A>o&&(A=o);for(var f=e.cap(d,2,i-3),g=0;g<a;g++){var m=g<<e.BLOCK_SIZE_POWER;m>h&&(m=h);for(var x=e.cap(g,2,a-3),y=0,b=-2;b<=2;b++){var w=l[f+b];y+=w[x-2]+w[x-1]+w[x]+w[x+1]+w[x+2]}var S=y/25;e.thresholdBlock(n,m,A,S,s,u)}}},e.cap=function(n,a,i){return n<a?a:n>i?i:n},e.thresholdBlock=function(n,a,i,s,c,l){for(var u=0,o=i*c+a;u<e.BLOCK_SIZE;u++,o+=c)for(var h=0;h<e.BLOCK_SIZE;h++)(n[o+h]&255)<=s&&l.set(a+h,i+u)},e.calculateBlackPoints=function(n,a,i,s,c){for(var l=c-e.BLOCK_SIZE,u=s-e.BLOCK_SIZE,o=new Array(i),h=0;h<i;h++){o[h]=new Int32Array(a);var d=h<<e.BLOCK_SIZE_POWER;d>l&&(d=l);for(var A=0;A<a;A++){var f=A<<e.BLOCK_SIZE_POWER;f>u&&(f=u);for(var g=0,m=255,x=0,y=0,b=d*s+f;y<e.BLOCK_SIZE;y++,b+=s){for(var w=0;w<e.BLOCK_SIZE;w++){var S=n[b+w]&255;g+=S,S<m&&(m=S),S>x&&(x=S)}if(x-m>e.MIN_DYNAMIC_RANGE)for(y++,b+=s;y<e.BLOCK_SIZE;y++,b+=s)for(var w=0;w<e.BLOCK_SIZE;w++)g+=n[b+w]&255}var N=g>>e.BLOCK_SIZE_POWER*2;if(x-m<=e.MIN_DYNAMIC_RANGE&&(N=m/2,h>0&&A>0)){var C=(o[h-1][A]+2*o[h][A-1]+o[h-1][A-1])/4;m<C&&(N=C)}o[h][A]=N}}return o},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e})(Rae),Zg=(function(){function r(e,n){this.width=e,this.height=n}return r.prototype.getWidth=function(){return this.width},r.prototype.getHeight=function(){return this.height},r.prototype.isCropSupported=function(){return!1},r.prototype.crop=function(e,n,a,i){throw new hv("This luminance source does not support cropping.")},r.prototype.isRotateSupported=function(){return!1},r.prototype.rotateCounterClockwise=function(){throw new hv("This luminance source does not support rotation by 90 degrees.")},r.prototype.rotateCounterClockwise45=function(){throw new hv("This luminance source does not support rotation by 45 degrees.")},r.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),n=new Ci,a=0;a<this.height;a++){for(var i=this.getRow(a,e),s=0;s<this.width;s++){var c=i[s]&255,l=void 0;c<64?l="#":c<128?l="+":c<192?l=".":l=" ",n.append(l)}n.append(`
`)}return n.toString()},r})(),Uae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),hy=(function(r){Uae(e,r);function e(n){var a=r.call(this,n.getWidth(),n.getHeight())||this;return a.delegate=n,a}return e.prototype.getRow=function(n,a){for(var i=this.delegate.getRow(n,a),s=this.getWidth(),c=0;c<s;c++)i[c]=255-(i[c]&255);return i},e.prototype.getMatrix=function(){for(var n=this.delegate.getMatrix(),a=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(a),s=0;s<a;s++)i[s]=255-(n[s]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(n,a,i,s){return new e(this.delegate.crop(n,a,i,s))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e})(Zg),Hae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Qae=(function(r){Hae(e,r);function e(n,a){a===void 0&&(a=!1);var i=r.call(this,n.width,n.height)||this;return i.canvas=n,i.tempCanvasElement=null,i.buffer=e.makeBufferFromCanvasImageData(n,a),i}return e.makeBufferFromCanvasImageData=function(n,a){a===void 0&&(a=!1);var i=n.getContext("2d").getImageData(0,0,n.width,n.height);return e.toGrayscaleBuffer(i.data,n.width,n.height,a)},e.toGrayscaleBuffer=function(n,a,i,s){s===void 0&&(s=!1);var c=new Uint8ClampedArray(a*i);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!s)for(var l=0,u=0,o=n.length;l<o;l+=4,u++){var h=void 0,d=n[l+3];if(d===0)h=255;else{var A=n[l],f=n[l+1],g=n[l+2];h=306*A+601*f+117*g+512>>10}c[u]=h}else for(var l=0,u=0,m=n.length;l<m;l+=4,u++){var h=void 0,d=n[l+3];if(d===0)h=255;else{var A=n[l],f=n[l+1],g=n[l+2];h=306*A+601*f+117*g+512>>10}c[u]=255-h}return c},e.prototype.getRow=function(n,a){if(n<0||n>=this.getHeight())throw new Ia("Requested row is outside the image: "+n);var i=this.getWidth(),s=n*i;return a===null?a=this.buffer.slice(s,s+i):(a.length<i&&(a=new Uint8ClampedArray(i)),a.set(this.buffer.slice(s,s+i))),a},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(n,a,i,s){return r.prototype.crop.call(this,n,a,i,s),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement},e.prototype.rotate=function(n){var a=this.getTempCanvasElement(),i=a.getContext("2d"),s=n*e.DEGREE_TO_RADIANS,c=this.canvas.width,l=this.canvas.height,u=Math.ceil(Math.abs(Math.cos(s))*c+Math.abs(Math.sin(s))*l),o=Math.ceil(Math.abs(Math.sin(s))*c+Math.abs(Math.cos(s))*l);return a.width=u,a.height=o,i.translate(u/2,o/2),i.rotate(s),i.drawImage(this.canvas,c/-2,l/-2),this.buffer=e.makeBufferFromCanvasImageData(a),this},e.prototype.invert=function(){return new hy(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e})(Zg),Wae=(function(){function r(e,n,a){this.deviceId=e,this.label=n,this.kind="videoinput",this.groupId=a||void 0}return r.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},r})(),xu=function(r,e,n,a){function i(s){return s instanceof n?s:new n(function(c){c(s)})}return new(n||(n=Promise))(function(s,c){function l(h){try{o(a.next(h))}catch(d){c(d)}}function u(h){try{o(a.throw(h))}catch(d){c(d)}}function o(h){h.done?s(h.value):i(h.value).then(l,u)}o((a=a.apply(r,e||[])).next())})},yu=function(r,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},a,i,s,c;return c={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function l(o){return function(h){return u([o,h])}}function u(o){if(a)throw new TypeError("Generator is already executing.");for(;n;)try{if(a=1,i&&(s=o[0]&2?i.return:o[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,o[1])).done)return s;switch(i=0,s&&(o=[o[0]&2,s.value]),o[0]){case 0:case 1:s=o;break;case 4:return n.label++,{value:o[1],done:!1};case 5:n.label++,i=o[1],o=[0];continue;case 7:o=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(o[0]===6||o[0]===2)){n=0;continue}if(o[0]===3&&(!s||o[1]>s[0]&&o[1]<s[3])){n.label=o[1];break}if(o[0]===6&&n.label<s[1]){n.label=s[1],s=o;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(o);break}s[2]&&n.ops.pop(),n.trys.pop();continue}o=e.call(r,n)}catch(h){o=[6,h],i=0}finally{a=s=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},$ae=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Um=(function(){function r(e,n,a){n===void 0&&(n=500),this.reader=e,this.timeBetweenScansMillis=n,this._hints=a,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(r.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),r.prototype.listVideoInputDevices=function(){return xu(this,void 0,void 0,function(){var e,n,a,i,s,c,l,u,o,h,d,A;return yu(this,function(f){switch(f.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=f.sent(),n=[];try{for(a=$ae(e),i=a.next();!i.done;i=a.next())s=i.value,c=s.kind==="video"?"videoinput":s.kind,c==="videoinput"&&(l=s.deviceId||s.id,u=s.label||"Video device "+(n.length+1),o=s.groupId,h={deviceId:l,label:u,kind:c,groupId:o},n.push(h))}catch(g){d={error:g}}finally{try{i&&!i.done&&(A=a.return)&&A.call(a)}finally{if(d)throw d.error}}return[2,n]}})})},r.prototype.getVideoInputDevices=function(){return xu(this,void 0,void 0,function(){var e;return yu(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=n.sent(),[2,e.map(function(a){return new Wae(a.deviceId,a.label)})]}})})},r.prototype.findDeviceById=function(e){return xu(this,void 0,void 0,function(){var n;return yu(this,function(a){switch(a.label){case 0:return[4,this.listVideoInputDevices()];case 1:return n=a.sent(),n?[2,n.find(function(i){return i.deviceId===e})]:[2,null]}})})},r.prototype.decodeFromInputVideoDevice=function(e,n){return xu(this,void 0,void 0,function(){return yu(this,function(a){switch(a.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,n)];case 1:return[2,a.sent()]}})})},r.prototype.decodeOnceFromVideoDevice=function(e,n){return xu(this,void 0,void 0,function(){var a,i;return yu(this,function(s){switch(s.label){case 0:return this.reset(),e?a={deviceId:{exact:e}}:a={facingMode:"environment"},i={video:a},[4,this.decodeOnceFromConstraints(i,n)];case 1:return[2,s.sent()]}})})},r.prototype.decodeOnceFromConstraints=function(e,n){return xu(this,void 0,void 0,function(){var a;return yu(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return a=i.sent(),[4,this.decodeOnceFromStream(a,n)];case 2:return[2,i.sent()]}})})},r.prototype.decodeOnceFromStream=function(e,n){return xu(this,void 0,void 0,function(){var a,i;return yu(this,function(s){switch(s.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,n)];case 1:return a=s.sent(),[4,this.decodeOnce(a)];case 2:return i=s.sent(),[2,i]}})})},r.prototype.decodeFromInputVideoDeviceContinuously=function(e,n,a){return xu(this,void 0,void 0,function(){return yu(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,n,a)];case 1:return[2,i.sent()]}})})},r.prototype.decodeFromVideoDevice=function(e,n,a){return xu(this,void 0,void 0,function(){var i,s;return yu(this,function(c){switch(c.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},s={video:i},[4,this.decodeFromConstraints(s,n,a)];case 1:return[2,c.sent()]}})})},r.prototype.decodeFromConstraints=function(e,n,a){return xu(this,void 0,void 0,function(){var i;return yu(this,function(s){switch(s.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=s.sent(),[4,this.decodeFromStream(i,n,a)];case 2:return[2,s.sent()]}})})},r.prototype.decodeFromStream=function(e,n,a){return xu(this,void 0,void 0,function(){var i;return yu(this,function(s){switch(s.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,n)];case 1:return i=s.sent(),[4,this.decodeContinuously(i,a)];case 2:return[2,s.sent()]}})})},r.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},r.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},r.prototype.attachStreamToVideo=function(e,n){return xu(this,void 0,void 0,function(){var a;return yu(this,function(i){switch(i.label){case 0:return a=this.prepareVideoElement(n),this.addVideoSource(a,e),this.videoElement=a,this.stream=e,[4,this.playVideoOnLoadAsync(a)];case 1:return i.sent(),[2,a]}})})},r.prototype.playVideoOnLoadAsync=function(e){var n=this;return new Promise(function(a,i){return n.playVideoOnLoad(e,function(){return a()})})},r.prototype.playVideoOnLoad=function(e,n){var a=this;this.videoEndedListener=function(){return a.stopStreams()},this.videoCanPlayListener=function(){return a.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",n),this.tryPlayVideo(e)},r.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},r.prototype.tryPlayVideo=function(e){return xu(this,void 0,void 0,function(){return yu(this,function(n){switch(n.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,e.play()];case 2:return n.sent(),[3,4];case 3:return n.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},r.prototype.getMediaElement=function(e,n){var a=document.getElementById(e);if(!a)throw new fl("element with id '"+e+"' not found");if(a.nodeName.toLowerCase()!==n.toLowerCase())throw new fl("element with id '"+e+"' must be an "+n+" element");return a},r.prototype.decodeFromImage=function(e,n){if(!e&&!n)throw new fl("either imageElement with a src set or an url must be provided");return n&&!e?this.decodeFromImageUrl(n):this.decodeFromImageElement(e)},r.prototype.decodeFromVideo=function(e,n){if(!e&&!n)throw new fl("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrl(n):this.decodeFromVideoElement(e)},r.prototype.decodeFromVideoContinuously=function(e,n,a){if(e===void 0&&n===void 0)throw new fl("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrlContinuously(n,a):this.decodeFromVideoElementContinuously(e,a)},r.prototype.decodeFromImageElement=function(e){if(!e)throw new fl("An image element must be provided.");this.reset();var n=this.prepareImageElement(e);this.imageElement=n;var a;return this.isImageLoaded(n)?a=this.decodeOnce(n,!1,!0):a=this._decodeOnLoadImage(n),a},r.prototype.decodeFromVideoElement=function(e){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(n)},r.prototype.decodeFromVideoElementContinuously=function(e,n){var a=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(a,n)},r.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new fl("A video element must be provided.");this.reset();var n=this.prepareVideoElement(e);return this.videoElement=n,n},r.prototype.decodeFromImageUrl=function(e){if(!e)throw new fl("An URL must be provided.");this.reset();var n=this.prepareImageElement();this.imageElement=n;var a=this._decodeOnLoadImage(n);return n.src=e,a},r.prototype.decodeFromVideoUrl=function(e){if(!e)throw new fl("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),a=this.decodeFromVideoElement(n);return n.src=e,a},r.prototype.decodeFromVideoUrlContinuously=function(e,n){if(!e)throw new fl("An URL must be provided.");this.reset();var a=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(a,n);return a.src=e,i},r.prototype._decodeOnLoadImage=function(e){var n=this;return new Promise(function(a,i){n.imageLoadedListener=function(){return n.decodeOnce(e,!1,!0).then(a,i)},e.addEventListener("load",n.imageLoadedListener)})},r.prototype._decodeOnLoadVideo=function(e){return xu(this,void 0,void 0,function(){return yu(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),[4,this.decodeOnce(e)];case 2:return[2,n.sent()]}})})},r.prototype._decodeOnLoadVideoContinuously=function(e,n){return xu(this,void 0,void 0,function(){return yu(this,function(a){switch(a.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return a.sent(),this.decodeContinuously(e,n),[2]}})})},r.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},r.prototype.prepareImageElement=function(e){var n;return typeof e>"u"&&(n=document.createElement("img"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(n=e),n},r.prototype.prepareVideoElement=function(e){var n;return!e&&typeof document<"u"&&(n=document.createElement("video"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(n=e),n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n},r.prototype.decodeOnce=function(e,n,a){var i=this;n===void 0&&(n=!0),a===void 0&&(a=!0),this._stopAsyncDecode=!1;var s=function(c,l){if(i._stopAsyncDecode){l(new Tr("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var u=i.decode(e);c(u)}catch(A){var o=n&&A instanceof Tr,h=A instanceof Sl||A instanceof gn,d=h&&a;if(o||d)return setTimeout(s,i._timeBetweenDecodingAttempts,c,l);l(A)}};return new Promise(function(c,l){return s(c,l)})},r.prototype.decodeContinuously=function(e,n){var a=this;this._stopContinuousDecode=!1;var i=function(){if(a._stopContinuousDecode){a._stopContinuousDecode=void 0;return}try{var s=a.decode(e);n(s,null),setTimeout(i,a.timeBetweenScansMillis)}catch(u){n(null,u);var c=u instanceof Sl||u instanceof gn,l=u instanceof Tr;(c||l)&&setTimeout(i,a._timeBetweenDecodingAttempts)}};i()},r.prototype.decode=function(e){var n=this.createBinaryBitmap(e);return this.decodeBitmap(n)},r.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var n=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),n=!0):this.drawImageOnCanvas(e);var a=this.getCaptureCanvas(e),i=new Qae(a,n),s=new XF(i);return new qF(s)},r.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var n=this.getCaptureCanvas(e),a=void 0;try{a=n.getContext("2d",{willReadFrequently:!0})}catch{a=n.getContext("2d")}this.captureCanvasContext=a}return this.captureCanvasContext},r.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var n=this.createCaptureCanvas(e);this.captureCanvas=n}return this.captureCanvas},r.prototype.drawFrameOnCanvas=function(e,n,a){n===void 0&&(n={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),a===void 0&&(a=this.captureCanvasContext),a.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)},r.prototype.drawImageOnCanvas=function(e,n,a){n===void 0&&(n={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),a===void 0&&(a=this.captureCanvasContext),a.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)},r.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},r.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var n=document.createElement("canvas"),a,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(a=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(a=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),n.style.width=a+"px",n.style.height=i+"px",n.width=a,n.height=i,n},r.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},r.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},r.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},r.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},r.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},r.prototype.addVideoSource=function(e,n){try{e.srcObject=n}catch{e.src=URL.createObjectURL(n)}},r.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},r})(),nu=(function(){function r(e,n,a,i,s,c){a===void 0&&(a=n==null?0:8*n.length),c===void 0&&(c=oo.currentTimeMillis()),this.text=e,this.rawBytes=n,this.numBits=a,this.resultPoints=i,this.format=s,this.timestamp=c,this.text=e,this.rawBytes=n,a==null?this.numBits=n==null?0:8*n.length:this.numBits=a,this.resultPoints=i,this.format=s,this.resultMetadata=null,c==null?this.timestamp=oo.currentTimeMillis():this.timestamp=c}return r.prototype.getText=function(){return this.text},r.prototype.getRawBytes=function(){return this.rawBytes},r.prototype.getNumBits=function(){return this.numBits},r.prototype.getResultPoints=function(){return this.resultPoints},r.prototype.getBarcodeFormat=function(){return this.format},r.prototype.getResultMetadata=function(){return this.resultMetadata},r.prototype.putMetadata=function(e,n){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,n)},r.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},r.prototype.addResultPoints=function(e){var n=this.resultPoints;if(n===null)this.resultPoints=e;else if(e!==null&&e.length>0){var a=new Array(n.length+e.length);oo.arraycopy(n,0,a,0,n.length),oo.arraycopy(e,0,a,n.length,e.length),this.resultPoints=a}},r.prototype.getTimestamp=function(){return this.timestamp},r.prototype.toString=function(){return this.text},r})(),DN;(function(r){r[r.AZTEC=0]="AZTEC",r[r.CODABAR=1]="CODABAR",r[r.CODE_39=2]="CODE_39",r[r.CODE_93=3]="CODE_93",r[r.CODE_128=4]="CODE_128",r[r.DATA_MATRIX=5]="DATA_MATRIX",r[r.EAN_8=6]="EAN_8",r[r.EAN_13=7]="EAN_13",r[r.ITF=8]="ITF",r[r.MAXICODE=9]="MAXICODE",r[r.PDF_417=10]="PDF_417",r[r.QR_CODE=11]="QR_CODE",r[r.RSS_14=12]="RSS_14",r[r.RSS_EXPANDED=13]="RSS_EXPANDED",r[r.UPC_A=14]="UPC_A",r[r.UPC_E=15]="UPC_E",r[r.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(DN||(DN={}));const Ba=DN;var MN;(function(r){r[r.OTHER=0]="OTHER",r[r.ORIENTATION=1]="ORIENTATION",r[r.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",r[r.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",r[r.ISSUE_NUMBER=4]="ISSUE_NUMBER",r[r.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",r[r.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",r[r.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",r[r.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",r[r.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",r[r.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(MN||(MN={}));const Hc=MN;var Ay=(function(){function r(e,n,a,i,s,c){s===void 0&&(s=-1),c===void 0&&(c=-1),this.rawBytes=e,this.text=n,this.byteSegments=a,this.ecLevel=i,this.structuredAppendSequenceNumber=s,this.structuredAppendParity=c,this.numBits=e==null?0:8*e.length}return r.prototype.getRawBytes=function(){return this.rawBytes},r.prototype.getNumBits=function(){return this.numBits},r.prototype.setNumBits=function(e){this.numBits=e},r.prototype.getText=function(){return this.text},r.prototype.getByteSegments=function(){return this.byteSegments},r.prototype.getECLevel=function(){return this.ecLevel},r.prototype.getErrorsCorrected=function(){return this.errorsCorrected},r.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},r.prototype.getErasures=function(){return this.erasures},r.prototype.setErasures=function(e){this.erasures=e},r.prototype.getOther=function(){return this.other},r.prototype.setOther=function(e){this.other=e},r.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},r.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},r.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},r})(),H0=(function(){function r(){}return r.prototype.exp=function(e){return this.expTable[e]},r.prototype.log=function(e){if(e===0)throw new Ia;return this.logTable[e]},r.addOrSubtract=function(e,n){return e^n},r})(),cf=(function(){function r(e,n){if(n.length===0)throw new Ia;this.field=e;var a=n.length;if(a>1&&n[0]===0){for(var i=1;i<a&&n[i]===0;)i++;i===a?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(a-i),oo.arraycopy(n,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}return r.prototype.getCoefficients=function(){return this.coefficients},r.prototype.getDegree=function(){return this.coefficients.length-1},r.prototype.isZero=function(){return this.coefficients[0]===0},r.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},r.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var n=this.coefficients,a;if(e===1){a=0;for(var i=0,s=n.length;i!==s;i++){var c=n[i];a=H0.addOrSubtract(a,c)}return a}a=n[0];for(var l=n.length,u=this.field,i=1;i<l;i++)a=H0.addOrSubtract(u.multiply(e,a),n[i]);return a},r.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new Ia("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var n=this.coefficients,a=e.coefficients;if(n.length>a.length){var i=n;n=a,a=i}var s=new Int32Array(a.length),c=a.length-n.length;oo.arraycopy(a,0,s,0,c);for(var l=c;l<a.length;l++)s[l]=H0.addOrSubtract(n[l-c],a[l]);return new r(this.field,s)},r.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new Ia("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var n=this.coefficients,a=n.length,i=e.coefficients,s=i.length,c=new Int32Array(a+s-1),l=this.field,u=0;u<a;u++)for(var o=n[u],h=0;h<s;h++)c[u+h]=H0.addOrSubtract(c[u+h],l.multiply(o,i[h]));return new r(l,c)},r.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var n=this.coefficients.length,a=this.field,i=new Int32Array(n),s=this.coefficients,c=0;c<n;c++)i[c]=a.multiply(s[c],e);return new r(a,i)},r.prototype.multiplyByMonomial=function(e,n){if(e<0)throw new Ia;if(n===0)return this.field.getZero();for(var a=this.coefficients,i=a.length,s=new Int32Array(i+e),c=this.field,l=0;l<i;l++)s[l]=c.multiply(a[l],n);return new r(c,s)},r.prototype.divide=function(e){if(!this.field.equals(e.field))throw new Ia("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new Ia("Divide by 0");for(var n=this.field,a=n.getZero(),i=this,s=e.getCoefficient(e.getDegree()),c=n.inverse(s);i.getDegree()>=e.getDegree()&&!i.isZero();){var l=i.getDegree()-e.getDegree(),u=n.multiply(i.getCoefficient(i.getDegree()),c),o=e.multiplyByMonomial(l,u),h=n.buildMonomial(l,u);a=a.addOrSubtract(h),i=i.addOrSubtract(o)}return[a,i]},r.prototype.toString=function(){for(var e="",n=this.getDegree();n>=0;n--){var a=this.getCoefficient(n);if(a!==0){if(a<0?(e+=" - ",a=-a):e.length>0&&(e+=" + "),n===0||a!==1){var i=this.field.log(a);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}n!==0&&(n===1?e+="x":(e+="x^",e+=n))}}return e},r})(),Vae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),YF=(function(r){Vae(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ArithmeticException",e})(Qu),zae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Lu=(function(r){zae(e,r);function e(n,a,i){var s=r.call(this)||this;s.primitive=n,s.size=a,s.generatorBase=i;for(var c=new Int32Array(a),l=1,u=0;u<a;u++)c[u]=l,l*=2,l>=a&&(l^=n,l&=a-1);s.expTable=c;for(var o=new Int32Array(a),u=0;u<a-1;u++)o[c[u]]=u;return s.logTable=o,s.zero=new cf(s,Int32Array.from([0])),s.one=new cf(s,Int32Array.from([1])),s}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(n,a){if(n<0)throw new Ia;if(a===0)return this.zero;var i=new Int32Array(n+1);return i[0]=a,new cf(this,i)},e.prototype.inverse=function(n){if(n===0)throw new YF;return this.expTable[this.size-this.logTable[n]-1]},e.prototype.multiply=function(n,a){return n===0||a===0?0:this.expTable[(this.logTable[n]+this.logTable[a])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+Bi.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(n){return n===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e})(H0),Kae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),rv=(function(r){Kae(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ReedSolomonException",e})(Qu),Gae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Jg=(function(r){Gae(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="IllegalStateException",e})(Qu),fy=(function(){function r(e){this.field=e}return r.prototype.decode=function(e,n){for(var a=this.field,i=new cf(a,e),s=new Int32Array(n),c=!0,l=0;l<n;l++){var u=i.evaluateAt(a.exp(l+a.getGeneratorBase()));s[s.length-1-l]=u,u!==0&&(c=!1)}if(!c)for(var o=new cf(a,s),h=this.runEuclideanAlgorithm(a.buildMonomial(n,1),o,n),d=h[0],A=h[1],f=this.findErrorLocations(d),g=this.findErrorMagnitudes(A,f),l=0;l<f.length;l++){var m=e.length-1-a.log(f[l]);if(m<0)throw new rv("Bad error location");e[m]=Lu.addOrSubtract(e[m],g[l])}},r.prototype.runEuclideanAlgorithm=function(e,n,a){if(e.getDegree()<n.getDegree()){var i=e;e=n,n=i}for(var s=this.field,c=e,l=n,u=s.getZero(),o=s.getOne();l.getDegree()>=(a/2|0);){var h=c,d=u;if(c=l,u=o,c.isZero())throw new rv("r_{i-1} was zero");l=h;for(var A=s.getZero(),f=c.getCoefficient(c.getDegree()),g=s.inverse(f);l.getDegree()>=c.getDegree()&&!l.isZero();){var m=l.getDegree()-c.getDegree(),x=s.multiply(l.getCoefficient(l.getDegree()),g);A=A.addOrSubtract(s.buildMonomial(m,x)),l=l.addOrSubtract(c.multiplyByMonomial(m,x))}if(o=A.multiply(u).addOrSubtract(d),l.getDegree()>=c.getDegree())throw new Jg("Division algorithm failed to reduce polynomial?")}var y=o.getCoefficient(0);if(y===0)throw new rv("sigmaTilde(0) was zero");var b=s.inverse(y),w=o.multiplyScalar(b),S=l.multiplyScalar(b);return[w,S]},r.prototype.findErrorLocations=function(e){var n=e.getDegree();if(n===1)return Int32Array.from([e.getCoefficient(1)]);for(var a=new Int32Array(n),i=0,s=this.field,c=1;c<s.getSize()&&i<n;c++)e.evaluateAt(c)===0&&(a[i]=s.inverse(c),i++);if(i!==n)throw new rv("Error locator degree does not match number of roots");return a},r.prototype.findErrorMagnitudes=function(e,n){for(var a=n.length,i=new Int32Array(a),s=this.field,c=0;c<a;c++){for(var l=s.inverse(n[c]),u=1,o=0;o<a;o++)if(c!==o){var h=s.multiply(n[o],l),d=(h&1)===0?h|1:h&-2;u=s.multiply(u,d)}i[c]=s.multiply(e.evaluateAt(l),s.inverse(u)),s.getGeneratorBase()!==0&&(i[c]=s.multiply(i[c],l))}return i},r})(),Rc;(function(r){r[r.UPPER=0]="UPPER",r[r.LOWER=1]="LOWER",r[r.MIXED=2]="MIXED",r[r.DIGIT=3]="DIGIT",r[r.PUNCT=4]="PUNCT",r[r.BINARY=5]="BINARY"})(Rc||(Rc={}));var g_=(function(){function r(){}return r.prototype.decode=function(e){this.ddata=e;var n=e.getBits(),a=this.extractBits(n),i=this.correctBits(a),s=r.convertBoolArrayToByteArray(i),c=r.getEncodedData(i),l=new Ay(s,c,null,null);return l.setNumBits(i.length),l},r.highLevelDecode=function(e){return this.getEncodedData(e)},r.getEncodedData=function(e){for(var n=e.length,a=Rc.UPPER,i=Rc.UPPER,s="",c=0;c<n;)if(i===Rc.BINARY){if(n-c<5)break;var l=r.readCode(e,c,5);if(c+=5,l===0){if(n-c<11)break;l=r.readCode(e,c,11)+31,c+=11}for(var u=0;u<l;u++){if(n-c<8){c=n;break}var o=r.readCode(e,c,8);s+=Zi.castAsNonUtf8Char(o),c+=8}i=a}else{var h=i===Rc.DIGIT?4:5;if(n-c<h)break;var o=r.readCode(e,c,h);c+=h;var d=r.getCharacter(i,o);d.startsWith("CTRL_")?(a=i,i=r.getTable(d.charAt(5)),d.charAt(6)==="L"&&(a=i)):(s+=d,i=a)}return s},r.getTable=function(e){switch(e){case"L":return Rc.LOWER;case"P":return Rc.PUNCT;case"M":return Rc.MIXED;case"D":return Rc.DIGIT;case"B":return Rc.BINARY;case"U":default:return Rc.UPPER}},r.getCharacter=function(e,n){switch(e){case Rc.UPPER:return r.UPPER_TABLE[n];case Rc.LOWER:return r.LOWER_TABLE[n];case Rc.MIXED:return r.MIXED_TABLE[n];case Rc.PUNCT:return r.PUNCT_TABLE[n];case Rc.DIGIT:return r.DIGIT_TABLE[n];default:throw new Jg("Bad table")}},r.prototype.correctBits=function(e){var n,a;this.ddata.getNbLayers()<=2?(a=6,n=Lu.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(a=8,n=Lu.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(a=10,n=Lu.AZTEC_DATA_10):(a=12,n=Lu.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),s=e.length/a;if(s<i)throw new gn;for(var c=e.length%a,l=new Int32Array(s),u=0;u<s;u++,c+=a)l[u]=r.readCode(e,c,a);try{var o=new fy(n);o.decode(l,s-i)}catch(x){throw new gn(x)}for(var h=(1<<a)-1,d=0,u=0;u<i;u++){var A=l[u];if(A===0||A===h)throw new gn;(A===1||A===h-1)&&d++}for(var f=new Array(i*a-d),g=0,u=0;u<i;u++){var A=l[u];if(A===1||A===h-1)f.fill(A>1,g,g+a-1),g+=a-1;else for(var m=a-1;m>=0;--m)f[g++]=(A&1<<m)!==0}return f},r.prototype.extractBits=function(e){var n=this.ddata.isCompact(),a=this.ddata.getNbLayers(),i=(n?11:14)+a*4,s=new Int32Array(i),c=new Array(this.totalBitsInLayer(a,n));if(n)for(var l=0;l<s.length;l++)s[l]=l;else for(var u=i+1+2*Bi.truncDivision(Bi.truncDivision(i,2)-1,15),o=i/2,h=Bi.truncDivision(u,2),l=0;l<o;l++){var d=l+Bi.truncDivision(l,15);s[o-l-1]=h-d-1,s[o+l]=h+d+1}for(var l=0,A=0;l<a;l++){for(var f=(a-l)*4+(n?9:12),g=l*2,m=i-1-g,x=0;x<f;x++)for(var y=x*2,b=0;b<2;b++)c[A+y+b]=e.get(s[g+b],s[g+x]),c[A+2*f+y+b]=e.get(s[g+x],s[m-b]),c[A+4*f+y+b]=e.get(s[m-b],s[m-x]),c[A+6*f+y+b]=e.get(s[m-x],s[g+b]);A+=f*8}return c},r.readCode=function(e,n,a){for(var i=0,s=n;s<n+a;s++)i<<=1,e[s]&&(i|=1);return i},r.readByte=function(e,n){var a=e.length-n;return a>=8?r.readCode(e,n,8):r.readCode(e,n,a)<<8-a},r.convertBoolArrayToByteArray=function(e){for(var n=new Uint8Array((e.length+7)/8),a=0;a<n.length;a++)n[a]=r.readByte(e,8*a);return n},r.prototype.totalBitsInLayer=function(e,n){return((n?88:112)+16*e)*e},r.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],r.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],r.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],r.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],r.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],r})(),os=(function(){function r(){}return r.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},r.distance=function(e,n,a,i){var s=e-a,c=n-i;return Math.sqrt(s*s+c*c)},r.sum=function(e){for(var n=0,a=0,i=e.length;a!==i;a++){var s=e[a];n+=s}return n},r})(),RN=(function(){function r(){}return r.floatToIntBits=function(e){return e},r.MAX_VALUE=Number.MAX_SAFE_INTEGER,r})(),ra=(function(){function r(e,n){this.x=e,this.y=n}return r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r.prototype.equals=function(e){if(e instanceof r){var n=e;return this.x===n.x&&this.y===n.y}return!1},r.prototype.hashCode=function(){return 31*RN.floatToIntBits(this.x)+RN.floatToIntBits(this.y)},r.prototype.toString=function(){return"("+this.x+","+this.y+")"},r.orderBestPatterns=function(e){var n=this.distance(e[0],e[1]),a=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),s,c,l;if(a>=n&&a>=i?(c=e[0],s=e[1],l=e[2]):i>=a&&i>=n?(c=e[1],s=e[0],l=e[2]):(c=e[2],s=e[0],l=e[1]),this.crossProductZ(s,c,l)<0){var u=s;s=l,l=u}e[0]=s,e[1]=c,e[2]=l},r.distance=function(e,n){return os.distance(e.x,e.y,n.x,n.y)},r.crossProductZ=function(e,n,a){var i=n.x,s=n.y;return(a.x-i)*(e.y-s)-(a.y-s)*(e.x-i)},r})(),oS=(function(){function r(e,n){this.bits=e,this.points=n}return r.prototype.getBits=function(){return this.bits},r.prototype.getPoints=function(){return this.points},r})(),qae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Xae=(function(r){qae(e,r);function e(n,a,i,s,c){var l=r.call(this,n,a)||this;return l.compact=i,l.nbDatablocks=s,l.nbLayers=c,l}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e})(oS),LN=(function(){function r(e,n,a,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),n==null&&(n=r.INIT_SIZE),a==null&&(a=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var s=n/2|0;if(this.leftInit=a-s,this.rightInit=a+s,this.upInit=i-s,this.downInit=i+s,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Tr}return r.prototype.detect=function(){for(var e=this.leftInit,n=this.rightInit,a=this.upInit,i=this.downInit,s=!1,c=!0,l=!1,u=!1,o=!1,h=!1,d=!1,A=this.width,f=this.height;c;){c=!1;for(var g=!0;(g||!u)&&n<A;)g=this.containsBlackPoint(a,i,n,!1),g?(n++,c=!0,u=!0):u||n++;if(n>=A){s=!0;break}for(var m=!0;(m||!o)&&i<f;)m=this.containsBlackPoint(e,n,i,!0),m?(i++,c=!0,o=!0):o||i++;if(i>=f){s=!0;break}for(var x=!0;(x||!h)&&e>=0;)x=this.containsBlackPoint(a,i,e,!1),x?(e--,c=!0,h=!0):h||e--;if(e<0){s=!0;break}for(var y=!0;(y||!d)&&a>=0;)y=this.containsBlackPoint(e,n,a,!0),y?(a--,c=!0,d=!0):d||a--;if(a<0){s=!0;break}c&&(l=!0)}if(!s&&l){for(var b=n-e,w=null,S=1;w===null&&S<b;S++)w=this.getBlackPointOnSegment(e,i-S,e+S,i);if(w==null)throw new Tr;for(var N=null,S=1;N===null&&S<b;S++)N=this.getBlackPointOnSegment(e,a+S,e+S,a);if(N==null)throw new Tr;for(var C=null,S=1;C===null&&S<b;S++)C=this.getBlackPointOnSegment(n,a+S,n-S,a);if(C==null)throw new Tr;for(var O=null,S=1;O===null&&S<b;S++)O=this.getBlackPointOnSegment(n,i-S,n-S,i);if(O==null)throw new Tr;return this.centerEdges(O,w,C,N)}else throw new Tr},r.prototype.getBlackPointOnSegment=function(e,n,a,i){for(var s=os.round(os.distance(e,n,a,i)),c=(a-e)/s,l=(i-n)/s,u=this.image,o=0;o<s;o++){var h=os.round(e+o*c),d=os.round(n+o*l);if(u.get(h,d))return new ra(h,d)}return null},r.prototype.centerEdges=function(e,n,a,i){var s=e.getX(),c=e.getY(),l=n.getX(),u=n.getY(),o=a.getX(),h=a.getY(),d=i.getX(),A=i.getY(),f=r.CORR;return s<this.width/2?[new ra(d-f,A+f),new ra(l+f,u+f),new ra(o-f,h-f),new ra(s+f,c-f)]:[new ra(d+f,A+f),new ra(l+f,u-f),new ra(o-f,h+f),new ra(s-f,c-f)]},r.prototype.containsBlackPoint=function(e,n,a,i){var s=this.image;if(i){for(var c=e;c<=n;c++)if(s.get(c,a))return!0}else for(var l=e;l<=n;l++)if(s.get(a,l))return!0;return!1},r.INIT_SIZE=10,r.CORR=1,r})(),v_=(function(){function r(){}return r.checkAndNudgePoints=function(e,n){for(var a=e.getWidth(),i=e.getHeight(),s=!0,c=0;c<n.length&&s;c+=2){var l=Math.floor(n[c]),u=Math.floor(n[c+1]);if(l<-1||l>a||u<-1||u>i)throw new Tr;s=!1,l===-1?(n[c]=0,s=!0):l===a&&(n[c]=a-1,s=!0),u===-1?(n[c+1]=0,s=!0):u===i&&(n[c+1]=i-1,s=!0)}s=!0;for(var c=n.length-2;c>=0&&s;c-=2){var l=Math.floor(n[c]),u=Math.floor(n[c+1]);if(l<-1||l>a||u<-1||u>i)throw new Tr;s=!1,l===-1?(n[c]=0,s=!0):l===a&&(n[c]=a-1,s=!0),u===-1?(n[c+1]=0,s=!0):u===i&&(n[c+1]=i-1,s=!0)}},r})(),ZF=(function(){function r(e,n,a,i,s,c,l,u,o){this.a11=e,this.a21=n,this.a31=a,this.a12=i,this.a22=s,this.a32=c,this.a13=l,this.a23=u,this.a33=o}return r.quadrilateralToQuadrilateral=function(e,n,a,i,s,c,l,u,o,h,d,A,f,g,m,x){var y=r.quadrilateralToSquare(e,n,a,i,s,c,l,u),b=r.squareToQuadrilateral(o,h,d,A,f,g,m,x);return b.times(y)},r.prototype.transformPoints=function(e){for(var n=e.length,a=this.a11,i=this.a12,s=this.a13,c=this.a21,l=this.a22,u=this.a23,o=this.a31,h=this.a32,d=this.a33,A=0;A<n;A+=2){var f=e[A],g=e[A+1],m=s*f+u*g+d;e[A]=(a*f+c*g+o)/m,e[A+1]=(i*f+l*g+h)/m}},r.prototype.transformPointsWithValues=function(e,n){for(var a=this.a11,i=this.a12,s=this.a13,c=this.a21,l=this.a22,u=this.a23,o=this.a31,h=this.a32,d=this.a33,A=e.length,f=0;f<A;f++){var g=e[f],m=n[f],x=s*g+u*m+d;e[f]=(a*g+c*m+o)/x,n[f]=(i*g+l*m+h)/x}},r.squareToQuadrilateral=function(e,n,a,i,s,c,l,u){var o=e-a+s-l,h=n-i+c-u;if(o===0&&h===0)return new r(a-e,s-a,e,i-n,c-i,n,0,0,1);var d=a-s,A=l-s,f=i-c,g=u-c,m=d*g-A*f,x=(o*g-A*h)/m,y=(d*h-o*f)/m;return new r(a-e+x*a,l-e+y*l,e,i-n+x*i,u-n+y*u,n,x,y,1)},r.quadrilateralToSquare=function(e,n,a,i,s,c,l,u){return r.squareToQuadrilateral(e,n,a,i,s,c,l,u).buildAdjoint()},r.prototype.buildAdjoint=function(){return new r(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},r.prototype.times=function(e){return new r(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},r})(),Yae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Zae=(function(r){Yae(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.sampleGrid=function(n,a,i,s,c,l,u,o,h,d,A,f,g,m,x,y,b,w,S){var N=ZF.quadrilateralToQuadrilateral(s,c,l,u,o,h,d,A,f,g,m,x,y,b,w,S);return this.sampleGridWithTransform(n,a,i,N)},e.prototype.sampleGridWithTransform=function(n,a,i,s){if(a<=0||i<=0)throw new Tr;for(var c=new Mh(a,i),l=new Float32Array(2*a),u=0;u<i;u++){for(var o=l.length,h=u+.5,d=0;d<o;d+=2)l[d]=d/2+.5,l[d+1]=h;s.transformPoints(l),v_.checkAndNudgePoints(n,l);try{for(var d=0;d<o;d+=2)n.get(Math.floor(l[d]),Math.floor(l[d+1]))&&c.set(d/2,u)}catch{throw new Tr}}return c},e})(v_),lS=(function(){function r(){}return r.setGridSampler=function(e){r.gridSampler=e},r.getInstance=function(){return r.gridSampler},r.gridSampler=new Zae,r})(),Ru=(function(){function r(e,n){this.x=e,this.y=n}return r.prototype.toResultPoint=function(){return new ra(this.getX(),this.getY())},r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r})(),Jae=(function(){function r(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return r.prototype.detect=function(){return this.detectMirror(!1)},r.prototype.detectMirror=function(e){var n=this.getMatrixCenter(),a=this.getBullsEyeCorners(n);if(e){var i=a[0];a[0]=a[2],a[2]=i}this.extractParameters(a);var s=this.sampleGrid(this.image,a[this.shift%4],a[(this.shift+1)%4],a[(this.shift+2)%4],a[(this.shift+3)%4]),c=this.getMatrixCornerPoints(a);return new Xae(s,c,this.compact,this.nbDataBlocks,this.nbLayers)},r.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new Tr;var n=2*this.nbCenterLayers,a=new Int32Array([this.sampleLine(e[0],e[1],n),this.sampleLine(e[1],e[2],n),this.sampleLine(e[2],e[3],n),this.sampleLine(e[3],e[0],n)]);this.shift=this.getRotation(a,n);for(var i=0,s=0;s<4;s++){var c=a[(this.shift+s)%4];this.compact?(i<<=7,i+=c>>1&127):(i<<=10,i+=(c>>2&992)+(c>>1&31))}var l=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(l>>6)+1,this.nbDataBlocks=(l&63)+1):(this.nbLayers=(l>>11)+1,this.nbDataBlocks=(l&2047)+1)},r.prototype.getRotation=function(e,n){var a=0;e.forEach(function(s,c,l){var u=(s>>n-2<<1)+(s&1);a=(a<<3)+u}),a=((a&1)<<11)+(a>>1);for(var i=0;i<4;i++)if(Bi.bitCount(a^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new Tr},r.prototype.getCorrectedParameterData=function(e,n){var a,i;n?(a=7,i=2):(a=10,i=4);for(var s=a-i,c=new Int32Array(a),l=a-1;l>=0;--l)c[l]=e&15,e>>=4;try{var u=new fy(Lu.AZTEC_PARAM);u.decode(c,s)}catch{throw new Tr}for(var o=0,l=0;l<i;l++)o=(o<<4)+c[l];return o},r.prototype.getBullsEyeCorners=function(e){var n=e,a=e,i=e,s=e,c=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var l=this.getFirstDifferent(n,c,1,-1),u=this.getFirstDifferent(a,c,1,1),o=this.getFirstDifferent(i,c,-1,1),h=this.getFirstDifferent(s,c,-1,-1);if(this.nbCenterLayers>2){var d=this.distancePoint(h,l)*this.nbCenterLayers/(this.distancePoint(s,n)*(this.nbCenterLayers+2));if(d<.75||d>1.25||!this.isWhiteOrBlackRectangle(l,u,o,h))break}n=l,a=u,i=o,s=h,c=!c}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Tr;this.compact=this.nbCenterLayers===5;var A=new ra(n.getX()+.5,n.getY()-.5),f=new ra(a.getX()+.5,a.getY()+.5),g=new ra(i.getX()-.5,i.getY()+.5),m=new ra(s.getX()-.5,s.getY()-.5);return this.expandSquare([A,f,g,m],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},r.prototype.getMatrixCenter=function(){var e,n,a,i;try{var s=new LN(this.image).detect();e=s[0],n=s[1],a=s[2],i=s[3]}catch{var c=this.image.getWidth()/2,l=this.image.getHeight()/2;e=this.getFirstDifferent(new Ru(c+7,l-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new Ru(c+7,l+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new Ru(c-7,l+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Ru(c-7,l-7),!1,-1,-1).toResultPoint()}var u=os.round((e.getX()+i.getX()+n.getX()+a.getX())/4),o=os.round((e.getY()+i.getY()+n.getY()+a.getY())/4);try{var s=new LN(this.image,15,u,o).detect();e=s[0],n=s[1],a=s[2],i=s[3]}catch{e=this.getFirstDifferent(new Ru(u+7,o-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new Ru(u+7,o+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new Ru(u-7,o+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Ru(u-7,o-7),!1,-1,-1).toResultPoint()}return u=os.round((e.getX()+i.getX()+n.getX()+a.getX())/4),o=os.round((e.getY()+i.getY()+n.getY()+a.getY())/4),new Ru(u,o)},r.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},r.prototype.sampleGrid=function(e,n,a,i,s){var c=lS.getInstance(),l=this.getDimension(),u=l/2-this.nbCenterLayers,o=l/2+this.nbCenterLayers;return c.sampleGrid(e,l,l,u,u,o,u,o,o,u,o,n.getX(),n.getY(),a.getX(),a.getY(),i.getX(),i.getY(),s.getX(),s.getY())},r.prototype.sampleLine=function(e,n,a){for(var i=0,s=this.distanceResultPoint(e,n),c=s/a,l=e.getX(),u=e.getY(),o=c*(n.getX()-e.getX())/s,h=c*(n.getY()-e.getY())/s,d=0;d<a;d++)this.image.get(os.round(l+d*o),os.round(u+d*h))&&(i|=1<<a-d-1);return i},r.prototype.isWhiteOrBlackRectangle=function(e,n,a,i){var s=3;e=new Ru(e.getX()-s,e.getY()+s),n=new Ru(n.getX()-s,n.getY()-s),a=new Ru(a.getX()+s,a.getY()-s),i=new Ru(i.getX()+s,i.getY()+s);var c=this.getColor(i,e);if(c===0)return!1;var l=this.getColor(e,n);return l!==c||(l=this.getColor(n,a),l!==c)?!1:(l=this.getColor(a,i),l===c)},r.prototype.getColor=function(e,n){for(var a=this.distancePoint(e,n),i=(n.getX()-e.getX())/a,s=(n.getY()-e.getY())/a,c=0,l=e.getX(),u=e.getY(),o=this.image.get(e.getX(),e.getY()),h=Math.ceil(a),d=0;d<h;d++)l+=i,u+=s,this.image.get(os.round(l),os.round(u))!==o&&c++;var A=c/a;return A>.1&&A<.9?0:A<=.1===o?1:-1},r.prototype.getFirstDifferent=function(e,n,a,i){for(var s=e.getX()+a,c=e.getY()+i;this.isValid(s,c)&&this.image.get(s,c)===n;)s+=a,c+=i;for(s-=a,c-=i;this.isValid(s,c)&&this.image.get(s,c)===n;)s+=a;for(s-=a;this.isValid(s,c)&&this.image.get(s,c)===n;)c+=i;return c-=i,new Ru(s,c)},r.prototype.expandSquare=function(e,n,a){var i=a/(2*n),s=e[0].getX()-e[2].getX(),c=e[0].getY()-e[2].getY(),l=(e[0].getX()+e[2].getX())/2,u=(e[0].getY()+e[2].getY())/2,o=new ra(l+i*s,u+i*c),h=new ra(l-i*s,u-i*c);s=e[1].getX()-e[3].getX(),c=e[1].getY()-e[3].getY(),l=(e[1].getX()+e[3].getX())/2,u=(e[1].getY()+e[3].getY())/2;var d=new ra(l+i*s,u+i*c),A=new ra(l-i*s,u-i*c),f=[o,d,h,A];return f},r.prototype.isValid=function(e,n){return e>=0&&e<this.image.getWidth()&&n>0&&n<this.image.getHeight()},r.prototype.isValidPoint=function(e){var n=os.round(e.getX()),a=os.round(e.getY());return this.isValid(n,a)},r.prototype.distancePoint=function(e,n){return os.distance(e.getX(),e.getY(),n.getX(),n.getY())},r.prototype.distanceResultPoint=function(e,n){return os.distance(e.getX(),e.getY(),n.getX(),n.getY())},r.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Bi.truncDivision(this.nbLayers-4,8)+1)+15},r})(),gx=(function(){function r(){}return r.prototype.decode=function(e,n){n===void 0&&(n=null);var a=null,i=new Jae(e.getBlackMatrix()),s=null,c=null;try{var l=i.detectMirror(!1);s=l.getPoints(),this.reportFoundResultPoints(n,s),c=new g_().decode(l)}catch(d){a=d}if(c==null)try{var l=i.detectMirror(!0);s=l.getPoints(),this.reportFoundResultPoints(n,s),c=new g_().decode(l)}catch(d){throw a??d}var u=new nu(c.getText(),c.getRawBytes(),c.getNumBits(),s,Ba.AZTEC,oo.currentTimeMillis()),o=c.getByteSegments();o!=null&&u.putMetadata(Hc.BYTE_SEGMENTS,o);var h=c.getECLevel();return h!=null&&u.putMetadata(Hc.ERROR_CORRECTION_LEVEL,h),u},r.prototype.reportFoundResultPoints=function(e,n){if(e!=null){var a=e.get(lo.NEED_RESULT_POINT_CALLBACK);a!=null&&n.forEach(function(i,s,c){a.foundPossibleResultPoint(i)})}},r.prototype.reset=function(){},r})(),eie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){eie(e,r);function e(n){return n===void 0&&(n=500),r.call(this,new gx,n)||this}return e})(Um);var Jl=(function(){function r(){}return r.prototype.decode=function(e,n){try{return this.doDecode(e,n)}catch{var a=n&&n.get(lo.TRY_HARDER)===!0;if(a&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),s=this.doDecode(i,n),c=s.getResultMetadata(),l=270;c!==null&&c.get(Hc.ORIENTATION)===!0&&(l=l+c.get(Hc.ORIENTATION)%360),s.putMetadata(Hc.ORIENTATION,l);var u=s.getResultPoints();if(u!==null)for(var o=i.getHeight(),h=0;h<u.length;h++)u[h]=new ra(o-u[h].getY()-1,u[h].getX());return s}else throw new Tr}},r.prototype.reset=function(){},r.prototype.doDecode=function(e,n){var a=e.getWidth(),i=e.getHeight(),s=new jc(a),c=n&&n.get(lo.TRY_HARDER)===!0,l=Math.max(1,i>>(c?8:5)),u;c?u=i:u=15;for(var o=Math.trunc(i/2),h=0;h<u;h++){var d=Math.trunc((h+1)/2),A=(h&1)===0,f=o+l*(A?d:-d);if(f<0||f>=i)break;try{s=e.getBlackRow(f,s)}catch{continue}for(var g=function(b){if(b===1&&(s.reverse(),n&&n.get(lo.NEED_RESULT_POINT_CALLBACK)===!0)){var w=new Map;n.forEach(function(C,O){return w.set(O,C)}),w.delete(lo.NEED_RESULT_POINT_CALLBACK),n=w}try{var S=m.decodeRow(f,s,n);if(b===1){S.putMetadata(Hc.ORIENTATION,180);var N=S.getResultPoints();N!==null&&(N[0]=new ra(a-N[0].getX()-1,N[0].getY()),N[1]=new ra(a-N[1].getX()-1,N[1].getY()))}return{value:S}}catch{}},m=this,x=0;x<2;x++){var y=g(x);if(typeof y=="object")return y.value}}throw new Tr},r.recordPattern=function(e,n,a){for(var i=a.length,s=0;s<i;s++)a[s]=0;var c=e.getSize();if(n>=c)throw new Tr;for(var l=!e.get(n),u=0,o=n;o<c;){if(e.get(o)!==l)a[u]++;else{if(++u===i)break;a[u]=1,l=!l}o++}if(!(u===i||u===i-1&&o===c))throw new Tr},r.recordPatternInReverse=function(e,n,a){for(var i=a.length,s=e.get(n);n>0&&i>=0;)e.get(--n)!==s&&(i--,s=!s);if(i>=0)throw new Tr;r.recordPattern(e,n+1,a)},r.patternMatchVariance=function(e,n,a){for(var i=e.length,s=0,c=0,l=0;l<i;l++)s+=e[l],c+=n[l];if(s<c)return Number.POSITIVE_INFINITY;var u=s/c;a*=u;for(var o=0,h=0;h<i;h++){var d=e[h],A=n[h]*u,f=d>A?d-A:A-d;if(f>a)return Number.POSITIVE_INFINITY;o+=f}return o/s},r})(),tie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),x_=(function(r){tie(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.findStartPattern=function(n){for(var a=n.getSize(),i=n.getNextSet(0),s=0,c=Int32Array.from([0,0,0,0,0,0]),l=i,u=!1,o=6,h=i;h<a;h++)if(n.get(h)!==u)c[s]++;else{if(s===o-1){for(var d=e.MAX_AVG_VARIANCE,A=-1,f=e.CODE_START_A;f<=e.CODE_START_C;f++){var g=Jl.patternMatchVariance(c,e.CODE_PATTERNS[f],e.MAX_INDIVIDUAL_VARIANCE);g<d&&(d=g,A=f)}if(A>=0&&n.isRange(Math.max(0,l-(h-l)/2),l,!1))return Int32Array.from([l,h,A]);l+=c[0]+c[1],c=c.slice(2,c.length),c[s-1]=0,c[s]=0,s--}else s++;c[s]=1,u=!u}throw new Tr},e.decodeCode=function(n,a,i){Jl.recordPattern(n,i,a);for(var s=e.MAX_AVG_VARIANCE,c=-1,l=0;l<e.CODE_PATTERNS.length;l++){var u=e.CODE_PATTERNS[l],o=this.patternMatchVariance(a,u,e.MAX_INDIVIDUAL_VARIANCE);o<s&&(s=o,c=l)}if(c>=0)return c;throw new Tr},e.prototype.decodeRow=function(n,a,i){var s=i&&i.get(lo.ASSUME_GS1)===!0,c=e.findStartPattern(a),l=c[2],u=0,o=new Uint8Array(20);o[u++]=l;var h;switch(l){case e.CODE_START_A:h=e.CODE_CODE_A;break;case e.CODE_START_B:h=e.CODE_CODE_B;break;case e.CODE_START_C:h=e.CODE_CODE_C;break;default:throw new gn}for(var d=!1,A=!1,f="",g=c[0],m=c[1],x=Int32Array.from([0,0,0,0,0,0]),y=0,b=0,w=l,S=0,N=!0,C=!1,O=!1;!d;){var W=A;switch(A=!1,y=b,b=e.decodeCode(a,x,m),o[u++]=b,b!==e.CODE_STOP&&(N=!0),b!==e.CODE_STOP&&(S++,w+=S*b),g=m,m+=x.reduce(function(se,fe){return se+fe},0),b){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new gn}switch(h){case e.CODE_CODE_A:if(b<64)O===C?f+=String.fromCharCode(32+b):f+=String.fromCharCode(32+b+128),O=!1;else if(b<96)O===C?f+=String.fromCharCode(b-64):f+=String.fromCharCode(b+64),O=!1;else switch(b!==e.CODE_STOP&&(N=!1),b){case e.CODE_FNC_1:s&&(f.length===0?f+="]C1":f+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!C&&O?(C=!0,O=!1):C&&O?(C=!1,O=!1):O=!0;break;case e.CODE_SHIFT:A=!0,h=e.CODE_CODE_B;break;case e.CODE_CODE_B:h=e.CODE_CODE_B;break;case e.CODE_CODE_C:h=e.CODE_CODE_C;break;case e.CODE_STOP:d=!0;break}break;case e.CODE_CODE_B:if(b<96)O===C?f+=String.fromCharCode(32+b):f+=String.fromCharCode(32+b+128),O=!1;else switch(b!==e.CODE_STOP&&(N=!1),b){case e.CODE_FNC_1:s&&(f.length===0?f+="]C1":f+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!C&&O?(C=!0,O=!1):C&&O?(C=!1,O=!1):O=!0;break;case e.CODE_SHIFT:A=!0,h=e.CODE_CODE_A;break;case e.CODE_CODE_A:h=e.CODE_CODE_A;break;case e.CODE_CODE_C:h=e.CODE_CODE_C;break;case e.CODE_STOP:d=!0;break}break;case e.CODE_CODE_C:if(b<100)b<10&&(f+="0"),f+=b;else switch(b!==e.CODE_STOP&&(N=!1),b){case e.CODE_FNC_1:s&&(f.length===0?f+="]C1":f+="");break;case e.CODE_CODE_A:h=e.CODE_CODE_A;break;case e.CODE_CODE_B:h=e.CODE_CODE_B;break;case e.CODE_STOP:d=!0;break}break}W&&(h=h===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var K=m-g;if(m=a.getNextUnset(m),!a.isRange(m,Math.min(a.getSize(),m+(m-g)/2),!1))throw new Tr;if(w-=S*y,w%103!==y)throw new Sl;var te=f.length;if(te===0)throw new Tr;te>0&&N&&(h===e.CODE_CODE_C?f=f.substring(0,te-2):f=f.substring(0,te-1));for(var q=(c[1]+c[0])/2,Y=g+K/2,P=o.length,ce=new Uint8Array(P),$=0;$<P;$++)ce[$]=o[$];var R=[new ra(q,n),new ra(Y,n)];return new nu(f,ce,0,R,Ba.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e})(Jl),rie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Jj=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},y_=(function(r){rie(e,r);function e(n,a){n===void 0&&(n=!1),a===void 0&&(a=!1);var i=r.call(this)||this;return i.usingCheckDigit=n,i.extendedMode=a,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(n,a,i){var s,c,l,u,o=this.counters;o.fill(0),this.decodeRowResult="";var h=e.findAsteriskPattern(a,o),d=a.getNextSet(h[1]),A=a.getSize(),f,g;do{e.recordPattern(a,d,o);var m=e.toNarrowWidePattern(o);if(m<0)throw new Tr;f=e.patternToChar(m),this.decodeRowResult+=f,g=d;try{for(var x=(s=void 0,Jj(o)),y=x.next();!y.done;y=x.next()){var b=y.value;d+=b}}catch(P){s={error:P}}finally{try{y&&!y.done&&(c=x.return)&&c.call(x)}finally{if(s)throw s.error}}d=a.getNextSet(d)}while(f!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var w=0;try{for(var S=Jj(o),N=S.next();!N.done;N=S.next()){var b=N.value;w+=b}}catch(P){l={error:P}}finally{try{N&&!N.done&&(u=S.return)&&u.call(S)}finally{if(l)throw l.error}}var C=d-g-w;if(d!==A&&C*2<w)throw new Tr;if(this.usingCheckDigit){for(var O=this.decodeRowResult.length-1,W=0,K=0;K<O;K++)W+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(K));if(this.decodeRowResult.charAt(O)!==e.ALPHABET_STRING.charAt(W%43))throw new Sl;this.decodeRowResult=this.decodeRowResult.substring(0,O)}if(this.decodeRowResult.length===0)throw new Tr;var te;this.extendedMode?te=e.decodeExtended(this.decodeRowResult):te=this.decodeRowResult;var q=(h[1]+h[0])/2,Y=g+w/2;return new nu(te,null,0,[new ra(q,n),new ra(Y,n)],Ba.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(n,a){for(var i=n.getSize(),s=n.getNextSet(0),c=0,l=s,u=!1,o=a.length,h=s;h<i;h++)if(n.get(h)!==u)a[c]++;else{if(c===o-1){if(this.toNarrowWidePattern(a)===e.ASTERISK_ENCODING&&n.isRange(Math.max(0,l-Math.floor((h-l)/2)),l,!1))return[l,h];l+=a[0]+a[1],a.copyWithin(0,2,2+c-1),a[c-1]=0,a[c]=0,c--}else c++;a[c]=1,u=!u}throw new Tr},e.toNarrowWidePattern=function(n){var a,i,s=n.length,c=0,l;do{var u=2147483647;try{for(var o=(a=void 0,Jj(n)),h=o.next();!h.done;h=o.next()){var d=h.value;d<u&&d>c&&(u=d)}}catch(m){a={error:m}}finally{try{h&&!h.done&&(i=o.return)&&i.call(o)}finally{if(a)throw a.error}}c=u,l=0;for(var A=0,f=0,g=0;g<s;g++){var d=n[g];d>c&&(f|=1<<s-1-g,l++,A+=d)}if(l===3){for(var g=0;g<s&&l>0;g++){var d=n[g];if(d>c&&(l--,d*2>=A))return-1}return f}}while(l>3);return-1},e.patternToChar=function(n){for(var a=0;a<e.CHARACTER_ENCODINGS.length;a++)if(e.CHARACTER_ENCODINGS[a]===n)return e.ALPHABET_STRING.charAt(a);if(n===e.ASTERISK_ENCODING)return"*";throw new Tr},e.decodeExtended=function(n){for(var a=n.length,i="",s=0;s<a;s++){var c=n.charAt(s);if(c==="+"||c==="$"||c==="%"||c==="/"){var l=n.charAt(s+1),u="\0";switch(c){case"+":if(l>="A"&&l<="Z")u=String.fromCharCode(l.charCodeAt(0)+32);else throw new gn;break;case"$":if(l>="A"&&l<="Z")u=String.fromCharCode(l.charCodeAt(0)-64);else throw new gn;break;case"%":if(l>="A"&&l<="E")u=String.fromCharCode(l.charCodeAt(0)-38);else if(l>="F"&&l<="J")u=String.fromCharCode(l.charCodeAt(0)-11);else if(l>="K"&&l<="O")u=String.fromCharCode(l.charCodeAt(0)+16);else if(l>="P"&&l<="T")u=String.fromCharCode(l.charCodeAt(0)+43);else if(l==="U")u="\0";else if(l==="V")u="@";else if(l==="W")u="`";else if(l==="X"||l==="Y"||l==="Z")u="";else throw new gn;break;case"/":if(l>="A"&&l<="O")u=String.fromCharCode(l.charCodeAt(0)-32);else if(l==="Z")u=":";else throw new gn;break}i+=u,s++}else i+=c}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e})(Jl),nie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),eC=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},b_=(function(r){nie(e,r);function e(){var n=r.call(this)||this;return n.decodeRowResult="",n.counters=new Int32Array(6),n}return e.prototype.decodeRow=function(n,a,i){var s,c,l,u,o=this.findAsteriskPattern(a),h=a.getNextSet(o[1]),d=a.getSize(),A=this.counters;A.fill(0),this.decodeRowResult="";var f,g;do{e.recordPattern(a,h,A);var m=this.toPattern(A);if(m<0)throw new Tr;f=this.patternToChar(m),this.decodeRowResult+=f,g=h;try{for(var x=(s=void 0,eC(A)),y=x.next();!y.done;y=x.next()){var b=y.value;h+=b}}catch(K){s={error:K}}finally{try{y&&!y.done&&(c=x.return)&&c.call(x)}finally{if(s)throw s.error}}h=a.getNextSet(h)}while(f!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var w=0;try{for(var S=eC(A),N=S.next();!N.done;N=S.next()){var b=N.value;w+=b}}catch(K){l={error:K}}finally{try{N&&!N.done&&(u=S.return)&&u.call(S)}finally{if(l)throw l.error}}if(h===d||!a.get(h))throw new Tr;if(this.decodeRowResult.length<2)throw new Tr;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var C=this.decodeExtended(this.decodeRowResult),O=(o[1]+o[0])/2,W=g+w/2;return new nu(C,null,0,[new ra(O,n),new ra(W,n)],Ba.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(n){var a=n.getSize(),i=n.getNextSet(0);this.counters.fill(0);for(var s=this.counters,c=i,l=!1,u=s.length,o=0,h=i;h<a;h++)if(n.get(h)!==l)s[o]++;else{if(o===u-1){if(this.toPattern(s)===e.ASTERISK_ENCODING)return new Int32Array([c,h]);c+=s[0]+s[1],s.copyWithin(0,2,2+o-1),s[o-1]=0,s[o]=0,o--}else o++;s[o]=1,l=!l}throw new Tr},e.prototype.toPattern=function(n){var a,i,s=0;try{for(var c=eC(n),l=c.next();!l.done;l=c.next()){var u=l.value;s+=u}}catch(g){a={error:g}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(a)throw a.error}}for(var o=0,h=n.length,d=0;d<h;d++){var A=Math.round(n[d]*9/s);if(A<1||A>4)return-1;if((d&1)===0)for(var f=0;f<A;f++)o=o<<1|1;else o<<=A}return o},e.prototype.patternToChar=function(n){for(var a=0;a<e.CHARACTER_ENCODINGS.length;a++)if(e.CHARACTER_ENCODINGS[a]===n)return e.ALPHABET_STRING.charAt(a);throw new Tr},e.prototype.decodeExtended=function(n){for(var a=n.length,i="",s=0;s<a;s++){var c=n.charAt(s);if(c>="a"&&c<="d"){if(s>=a-1)throw new gn;var l=n.charAt(s+1),u="\0";switch(c){case"d":if(l>="A"&&l<="Z")u=String.fromCharCode(l.charCodeAt(0)+32);else throw new gn;break;case"a":if(l>="A"&&l<="Z")u=String.fromCharCode(l.charCodeAt(0)-64);else throw new gn;break;case"b":if(l>="A"&&l<="E")u=String.fromCharCode(l.charCodeAt(0)-38);else if(l>="F"&&l<="J")u=String.fromCharCode(l.charCodeAt(0)-11);else if(l>="K"&&l<="O")u=String.fromCharCode(l.charCodeAt(0)+16);else if(l>="P"&&l<="T")u=String.fromCharCode(l.charCodeAt(0)+43);else if(l==="U")u="\0";else if(l==="V")u="@";else if(l==="W")u="`";else if(l>="X"&&l<="Z")u="";else throw new gn;break;case"c":if(l>="A"&&l<="O")u=String.fromCharCode(l.charCodeAt(0)-32);else if(l==="Z")u=":";else throw new gn;break}i+=u,s++}else i+=c}return i},e.prototype.checkChecksums=function(n){var a=n.length;this.checkOneChecksum(n,a-2,20),this.checkOneChecksum(n,a-1,15)},e.prototype.checkOneChecksum=function(n,a,i){for(var s=1,c=0,l=a-1;l>=0;l--)c+=s*e.ALPHABET_STRING.indexOf(n.charAt(l)),++s>i&&(s=1);if(n.charAt(a)!==e.ALPHABET_STRING[c%47])throw new Sl},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e})(Jl),aie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),iie=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},w_=(function(r){aie(e,r);function e(){var n=r!==null&&r.apply(this,arguments)||this;return n.narrowLineWidth=-1,n}return e.prototype.decodeRow=function(n,a,i){var s,c,l=this.decodeStart(a),u=this.decodeEnd(a),o=new Ci;e.decodeMiddle(a,l[1],u[0],o);var h=o.toString(),d=null;i!=null&&(d=i.get(lo.ALLOWED_LENGTHS)),d==null&&(d=e.DEFAULT_ALLOWED_LENGTHS);var A=h.length,f=!1,g=0;try{for(var m=iie(d),x=m.next();!x.done;x=m.next()){var y=x.value;if(A===y){f=!0;break}y>g&&(g=y)}}catch(S){s={error:S}}finally{try{x&&!x.done&&(c=m.return)&&c.call(m)}finally{if(s)throw s.error}}if(!f&&A>g&&(f=!0),!f)throw new gn;var b=[new ra(l[1],n),new ra(u[0],n)],w=new nu(h,null,0,b,Ba.ITF,new Date().getTime());return w},e.decodeMiddle=function(n,a,i,s){var c=new Int32Array(10),l=new Int32Array(5),u=new Int32Array(5);for(c.fill(0),l.fill(0),u.fill(0);a<i;){Jl.recordPattern(n,a,c);for(var o=0;o<5;o++){var h=2*o;l[o]=c[h],u[o]=c[h+1]}var d=e.decodeDigit(l);s.append(d.toString()),d=this.decodeDigit(u),s.append(d.toString()),c.forEach(function(A){a+=A})}},e.prototype.decodeStart=function(n){var a=e.skipWhiteSpace(n),i=e.findGuardPattern(n,a,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(n,i[0]),i},e.prototype.validateQuietZone=function(n,a){var i=this.narrowLineWidth*10;i=i<a?i:a;for(var s=a-1;i>0&&s>=0&&!n.get(s);s--)i--;if(i!==0)throw new Tr},e.skipWhiteSpace=function(n){var a=n.getSize(),i=n.getNextSet(0);if(i===a)throw new Tr;return i},e.prototype.decodeEnd=function(n){n.reverse();try{var a=e.skipWhiteSpace(n),i=void 0;try{i=e.findGuardPattern(n,a,e.END_PATTERN_REVERSED[0])}catch(c){c instanceof Tr&&(i=e.findGuardPattern(n,a,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(n,i[0]);var s=i[0];return i[0]=n.getSize()-i[1],i[1]=n.getSize()-s,i}finally{n.reverse()}},e.findGuardPattern=function(n,a,i){var s=i.length,c=new Int32Array(s),l=n.getSize(),u=!1,o=0,h=a;c.fill(0);for(var d=a;d<l;d++)if(n.get(d)!==u)c[o]++;else{if(o===s-1){if(Jl.patternMatchVariance(c,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[h,d];h+=c[0]+c[1],oo.arraycopy(c,2,c,0,o-1),c[o-1]=0,c[o]=0,o--}else o++;c[o]=1,u=!u}throw new Tr},e.decodeDigit=function(n){for(var a=e.MAX_AVG_VARIANCE,i=-1,s=e.PATTERNS.length,c=0;c<s;c++){var l=e.PATTERNS[c],u=Jl.patternMatchVariance(n,l,e.MAX_INDIVIDUAL_VARIANCE);u<a?(a=u,i=c):u===a&&(i=-1)}if(i>=0)return i%10;throw new Tr},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e})(Jl),sie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Im=(function(r){sie(e,r);function e(){var n=r!==null&&r.apply(this,arguments)||this;return n.decodeRowStringBuffer="",n}return e.findStartGuardPattern=function(n){for(var a=!1,i,s=0,c=Int32Array.from([0,0,0]);!a;){c=Int32Array.from([0,0,0]),i=e.findGuardPattern(n,s,!1,this.START_END_PATTERN,c);var l=i[0];s=i[1];var u=l-(s-l);u>=0&&(a=n.isRange(u,l,!1))}return i},e.checkChecksum=function(n){return e.checkStandardUPCEANChecksum(n)},e.checkStandardUPCEANChecksum=function(n){var a=n.length;if(a===0)return!1;var i=parseInt(n.charAt(a-1),10);return e.getStandardUPCEANChecksum(n.substring(0,a-1))===i},e.getStandardUPCEANChecksum=function(n){for(var a=n.length,i=0,s=a-1;s>=0;s-=2){var c=n.charAt(s).charCodeAt(0)-48;if(c<0||c>9)throw new gn;i+=c}i*=3;for(var s=a-2;s>=0;s-=2){var c=n.charAt(s).charCodeAt(0)-48;if(c<0||c>9)throw new gn;i+=c}return(1e3-i)%10},e.decodeEnd=function(n,a){return e.findGuardPattern(n,a,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(n,a,i,s){return this.findGuardPattern(n,a,i,s,new Int32Array(s.length))},e.findGuardPattern=function(n,a,i,s,c){var l=n.getSize();a=i?n.getNextUnset(a):n.getNextSet(a);for(var u=0,o=a,h=s.length,d=i,A=a;A<l;A++)if(n.get(A)!==d)c[u]++;else{if(u===h-1){if(Jl.patternMatchVariance(c,s,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([o,A]);o+=c[0]+c[1];for(var f=c.slice(2,c.length),g=0;g<u-1;g++)c[g]=f[g];c[u-1]=0,c[u]=0,u--}else u++;c[u]=1,d=!d}throw new Tr},e.decodeDigit=function(n,a,i,s){this.recordPattern(n,i,a);for(var c=this.MAX_AVG_VARIANCE,l=-1,u=s.length,o=0;o<u;o++){var h=s[o],d=Jl.patternMatchVariance(a,h,e.MAX_INDIVIDUAL_VARIANCE);d<c&&(c=d,l=o)}if(l>=0)return l;throw new Tr},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e})(Jl),oie=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},lie=(function(){function r(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return r.prototype.decodeRow=function(e,n,a){var i=this.decodeRowStringBuffer,s=this.decodeMiddle(n,a,i),c=i.toString(),l=r.parseExtensionString(c),u=[new ra((a[0]+a[1])/2,e),new ra(s,e)],o=new nu(c,null,0,u,Ba.UPC_EAN_EXTENSION,new Date().getTime());return l!=null&&o.putAllMetadata(l),o},r.prototype.decodeMiddle=function(e,n,a){var i,s,c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;for(var l=e.getSize(),u=n[1],o=0,h=0;h<5&&u<l;h++){var d=Im.decodeDigit(e,c,u,Im.L_AND_G_PATTERNS);a+=String.fromCharCode(48+d%10);try{for(var A=(i=void 0,oie(c)),f=A.next();!f.done;f=A.next()){var g=f.value;u+=g}}catch(x){i={error:x}}finally{try{f&&!f.done&&(s=A.return)&&s.call(A)}finally{if(i)throw i.error}}d>=10&&(o|=1<<4-h),h!==4&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(a.length!==5)throw new Tr;var m=this.determineCheckDigit(o);if(r.extensionChecksum(a.toString())!==m)throw new Tr;return u},r.extensionChecksum=function(e){for(var n=e.length,a=0,i=n-2;i>=0;i-=2)a+=e.charAt(i).charCodeAt(0)-48;a*=3;for(var i=n-1;i>=0;i-=2)a+=e.charAt(i).charCodeAt(0)-48;return a*=3,a%10},r.prototype.determineCheckDigit=function(e){for(var n=0;n<10;n++)if(e===this.CHECK_DIGIT_ENCODINGS[n])return n;throw new Tr},r.parseExtensionString=function(e){if(e.length!==5)return null;var n=r.parseExtension5String(e);return n==null?null:new Map([[Hc.SUGGESTED_PRICE,n]])},r.parseExtension5String=function(e){var n;switch(e.charAt(0)){case"0":n="";break;case"5":n="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}n="";break;default:n="";break}var a=parseInt(e.substring(1)),i=(a/100).toString(),s=a%100,c=s<10?"0"+s:s.toString();return n+i+"."+c},r})(),cie=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},uie=(function(){function r(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return r.prototype.decodeRow=function(e,n,a){var i=this.decodeRowStringBuffer,s=this.decodeMiddle(n,a,i),c=i.toString(),l=r.parseExtensionString(c),u=[new ra((a[0]+a[1])/2,e),new ra(s,e)],o=new nu(c,null,0,u,Ba.UPC_EAN_EXTENSION,new Date().getTime());return l!=null&&o.putAllMetadata(l),o},r.prototype.decodeMiddle=function(e,n,a){var i,s,c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;for(var l=e.getSize(),u=n[1],o=0,h=0;h<2&&u<l;h++){var d=Im.decodeDigit(e,c,u,Im.L_AND_G_PATTERNS);a+=String.fromCharCode(48+d%10);try{for(var A=(i=void 0,cie(c)),f=A.next();!f.done;f=A.next()){var g=f.value;u+=g}}catch(m){i={error:m}}finally{try{f&&!f.done&&(s=A.return)&&s.call(A)}finally{if(i)throw i.error}}d>=10&&(o|=1<<1-h),h!==1&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(a.length!==2)throw new Tr;if(parseInt(a.toString())%4!==o)throw new Tr;return u},r.parseExtensionString=function(e){return e.length!==2?null:new Map([[Hc.ISSUE_NUMBER,parseInt(e)]])},r})(),die=(function(){function r(){}return r.decodeRow=function(e,n,a){var i=Im.findGuardPattern(n,a,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var s=new lie;return s.decodeRow(e,n,i)}catch{var c=new uie;return c.decodeRow(e,n,i)}},r.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),r})(),hie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),zl=(function(r){hie(e,r);function e(){var n=r.call(this)||this;n.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(l){return Int32Array.from(l)});for(var a=10;a<20;a++){for(var i=e.L_PATTERNS[a-10],s=new Int32Array(i.length),c=0;c<i.length;c++)s[c]=i[i.length-c-1];e.L_AND_G_PATTERNS[a]=s}return n}return e.prototype.decodeRow=function(n,a,i){var s=e.findStartGuardPattern(a),c=i==null?null:i.get(lo.NEED_RESULT_POINT_CALLBACK);if(c!=null){var l=new ra((s[0]+s[1])/2,n);c.foundPossibleResultPoint(l)}var u=this.decodeMiddle(a,s,this.decodeRowStringBuffer),o=u.rowOffset,h=u.resultString;if(c!=null){var d=new ra(o,n);c.foundPossibleResultPoint(d)}var A=e.decodeEnd(a,o);if(c!=null){var f=new ra((A[0]+A[1])/2,n);c.foundPossibleResultPoint(f)}var g=A[1],m=g+(g-A[0]);if(m>=a.getSize()||!a.isRange(g,m,!1))throw new Tr;var x=h.toString();if(x.length<8)throw new gn;if(!e.checkChecksum(x))throw new Sl;var y=(s[1]+s[0])/2,b=(A[1]+A[0])/2,w=this.getBarcodeFormat(),S=[new ra(y,n),new ra(b,n)],N=new nu(x,null,0,S,w,new Date().getTime()),C=0;try{var O=die.decodeRow(n,a,A[1]);N.putMetadata(Hc.UPC_EAN_EXTENSION,O.getText()),N.putAllMetadata(O.getResultMetadata()),N.addResultPoints(O.getResultPoints()),C=O.getText().length}catch{}var W=i==null?null:i.get(lo.ALLOWED_EAN_EXTENSIONS);if(W!=null){var K=!1;for(var te in W)if(C.toString()===te){K=!0;break}if(!K)throw new Tr}return w===Ba.EAN_13||Ba.UPC_A,N},e.checkChecksum=function(n){return e.checkStandardUPCEANChecksum(n)},e.checkStandardUPCEANChecksum=function(n){var a=n.length;if(a===0)return!1;var i=parseInt(n.charAt(a-1),10);return e.getStandardUPCEANChecksum(n.substring(0,a-1))===i},e.getStandardUPCEANChecksum=function(n){for(var a=n.length,i=0,s=a-1;s>=0;s-=2){var c=n.charAt(s).charCodeAt(0)-48;if(c<0||c>9)throw new gn;i+=c}i*=3;for(var s=a-2;s>=0;s-=2){var c=n.charAt(s).charCodeAt(0)-48;if(c<0||c>9)throw new gn;i+=c}return(1e3-i)%10},e.decodeEnd=function(n,a){return e.findGuardPattern(n,a,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e})(Im),Aie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),j_=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},UN=(function(r){Aie(e,r);function e(){var n=r.call(this)||this;return n.decodeMiddleCounters=Int32Array.from([0,0,0,0]),n}return e.prototype.decodeMiddle=function(n,a,i){var s,c,l,u,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var h=n.getSize(),d=a[1],A=0,f=0;f<6&&d<h;f++){var g=zl.decodeDigit(n,o,d,zl.L_AND_G_PATTERNS);i+=String.fromCharCode(48+g%10);try{for(var m=(s=void 0,j_(o)),x=m.next();!x.done;x=m.next()){var y=x.value;d+=y}}catch(N){s={error:N}}finally{try{x&&!x.done&&(c=m.return)&&c.call(m)}finally{if(s)throw s.error}}g>=10&&(A|=1<<5-f)}i=e.determineFirstDigit(i,A);var b=zl.findGuardPattern(n,d,!0,zl.MIDDLE_PATTERN,new Int32Array(zl.MIDDLE_PATTERN.length).fill(0));d=b[1];for(var f=0;f<6&&d<h;f++){var g=zl.decodeDigit(n,o,d,zl.L_PATTERNS);i+=String.fromCharCode(48+g);try{for(var w=(l=void 0,j_(o)),S=w.next();!S.done;S=w.next()){var y=S.value;d+=y}}catch(O){l={error:O}}finally{try{S&&!S.done&&(u=w.return)&&u.call(w)}finally{if(l)throw l.error}}}return{rowOffset:d,resultString:i}},e.prototype.getBarcodeFormat=function(){return Ba.EAN_13},e.determineFirstDigit=function(n,a){for(var i=0;i<10;i++)if(a===this.FIRST_DIGIT_ENCODINGS[i])return n=String.fromCharCode(48+i)+n,n;throw new Tr},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e})(zl),fie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),C_=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},N_=(function(r){fie(e,r);function e(){var n=r.call(this)||this;return n.decodeMiddleCounters=Int32Array.from([0,0,0,0]),n}return e.prototype.decodeMiddle=function(n,a,i){var s,c,l,u,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var h=n.getSize(),d=a[1],A=0;A<4&&d<h;A++){var f=zl.decodeDigit(n,o,d,zl.L_PATTERNS);i+=String.fromCharCode(48+f);try{for(var g=(s=void 0,C_(o)),m=g.next();!m.done;m=g.next()){var x=m.value;d+=x}}catch(S){s={error:S}}finally{try{m&&!m.done&&(c=g.return)&&c.call(g)}finally{if(s)throw s.error}}}var y=zl.findGuardPattern(n,d,!0,zl.MIDDLE_PATTERN,new Int32Array(zl.MIDDLE_PATTERN.length).fill(0));d=y[1];for(var A=0;A<4&&d<h;A++){var f=zl.decodeDigit(n,o,d,zl.L_PATTERNS);i+=String.fromCharCode(48+f);try{for(var b=(l=void 0,C_(o)),w=b.next();!w.done;w=b.next()){var x=w.value;d+=x}}catch(C){l={error:C}}finally{try{w&&!w.done&&(u=b.return)&&u.call(b)}finally{if(l)throw l.error}}}return{rowOffset:d,resultString:i}},e.prototype.getBarcodeFormat=function(){return Ba.EAN_8},e})(zl),pie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),S_=(function(r){pie(e,r);function e(){var n=r!==null&&r.apply(this,arguments)||this;return n.ean13Reader=new UN,n}return e.prototype.getBarcodeFormat=function(){return Ba.UPC_A},e.prototype.decode=function(n,a){return this.maybeReturnResult(this.ean13Reader.decode(n))},e.prototype.decodeRow=function(n,a,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(n,a,i))},e.prototype.decodeMiddle=function(n,a,i){return this.ean13Reader.decodeMiddle(n,a,i)},e.prototype.maybeReturnResult=function(n){var a=n.getText();if(a.charAt(0)==="0"){var i=new nu(a.substring(1),null,null,n.getResultPoints(),Ba.UPC_A);return n.getResultMetadata()!=null&&i.putAllMetadata(n.getResultMetadata()),i}else throw new Tr},e.prototype.reset=function(){this.ean13Reader.reset()},e})(zl),mie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),gie=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},E_=(function(r){mie(e,r);function e(){var n=r.call(this)||this;return n.decodeMiddleCounters=new Int32Array(4),n}return e.prototype.decodeMiddle=function(n,a,i){var s,c,l=this.decodeMiddleCounters.map(function(x){return x});l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var u=n.getSize(),o=a[1],h=0,d=0;d<6&&o<u;d++){var A=e.decodeDigit(n,l,o,e.L_AND_G_PATTERNS);i+=String.fromCharCode(48+A%10);try{for(var f=(s=void 0,gie(l)),g=f.next();!g.done;g=f.next()){var m=g.value;o+=m}}catch(x){s={error:x}}finally{try{g&&!g.done&&(c=f.return)&&c.call(f)}finally{if(s)throw s.error}}A>=10&&(h|=1<<5-d)}return e.determineNumSysAndCheckDigit(new Ci(i),h),o},e.prototype.decodeEnd=function(n,a){return e.findGuardPatternWithoutCounters(n,a,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(n){return zl.checkChecksum(e.convertUPCEtoUPCA(n))},e.determineNumSysAndCheckDigit=function(n,a){for(var i=0;i<=1;i++)for(var s=0;s<10;s++)if(a===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][s]){n.insert(0,"0"+i),n.append("0"+s);return}throw Tr.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return Ba.UPC_E},e.convertUPCEtoUPCA=function(n){var a=n.slice(1,7).split("").map(function(c){return c.charCodeAt(0)}),i=new Ci;i.append(n.charAt(0));var s=a[5];switch(s){case 0:case 1:case 2:i.appendChars(a,0,2),i.append(s),i.append("0000"),i.appendChars(a,2,3);break;case 3:i.appendChars(a,0,3),i.append("00000"),i.appendChars(a,3,2);break;case 4:i.appendChars(a,0,4),i.append("00000"),i.append(a[4]);break;default:i.appendChars(a,0,5),i.append("0000"),i.append(s);break}return n.length>=8&&i.append(n.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e})(zl),vie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),B_=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},tC=(function(r){vie(e,r);function e(n){var a=r.call(this)||this,i=n==null?null:n.get(lo.POSSIBLE_FORMATS),s=[];return i!=null&&(i.indexOf(Ba.EAN_13)>-1&&s.push(new UN),i.indexOf(Ba.UPC_A)>-1&&s.push(new S_),i.indexOf(Ba.EAN_8)>-1&&s.push(new N_),i.indexOf(Ba.UPC_E)>-1&&s.push(new E_)),s.length===0&&(s.push(new UN),s.push(new S_),s.push(new N_),s.push(new E_)),a.readers=s,a}return e.prototype.decodeRow=function(n,a,i){var s,c;try{for(var l=B_(this.readers),u=l.next();!u.done;u=l.next()){var o=u.value;try{var h=o.decodeRow(n,a,i),d=h.getBarcodeFormat()===Ba.EAN_13&&h.getText().charAt(0)==="0",A=i==null?null:i.get(lo.POSSIBLE_FORMATS),f=A==null||A.includes(Ba.UPC_A);if(d&&f){var g=h.getRawBytes(),m=new nu(h.getText().substring(1),g,g?g.length:null,h.getResultPoints(),Ba.UPC_A);return m.putAllMetadata(h.getResultMetadata()),m}return h}catch{}}}catch(x){s={error:x}}finally{try{u&&!u.done&&(c=l.return)&&c.call(l)}finally{if(s)throw s.error}}throw new Tr},e.prototype.reset=function(){var n,a;try{for(var i=B_(this.readers),s=i.next();!s.done;s=i.next()){var c=s.value;c.reset()}}catch(l){n={error:l}}finally{try{s&&!s.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}},e})(Jl),xie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),yie=(function(r){xie(e,r);function e(){var n=r!==null&&r.apply(this,arguments)||this;return n.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},n}return e.prototype.decodeRow=function(n,a,i){var s=this.getValidRowData(a);if(!s)throw new Tr;var c=this.codaBarDecodeRow(s.row);if(!c)throw new Tr;return new nu(c,null,0,[new ra(s.left,n),new ra(s.right,n)],Ba.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(n){var a=n.toArray(),i=a.indexOf(!0);if(i===-1)return null;var s=a.lastIndexOf(!0);if(s<=i)return null;a=a.slice(i,s+1);for(var c=[],l=a[0],u=1,o=1;o<a.length;o++)a[o]===l?u++:(l=a[o],c.push(u),u=1);return c.push(u),c.length<23&&(c.length+1)%8!==0?null:{row:c,left:i,right:s}},e.prototype.codaBarDecodeRow=function(n){for(var a=[],i=Math.ceil(n.reduce(function(u,o){return(u+o)/2},0));n.length>0;){var s=n.splice(0,8).splice(0,7),c=s.map(function(u){return u<i?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[c]===void 0)return null;a.push(this.CODA_BAR_CHAR_SET[c])}var l=a.join("");return this.validCodaBarString(l)?l:null},e.prototype.validCodaBarString=function(n){var a=/^[A-D].{1,}[A-D]$/;return a.test(n)},e})(Jl),bie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),wie=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Kf=(function(r){bie(e,r);function e(){var n=r.call(this)||this;return n.decodeFinderCounters=new Int32Array(4),n.dataCharacterCounters=new Int32Array(8),n.oddRoundingErrors=new Array(4),n.evenRoundingErrors=new Array(4),n.oddCounts=new Array(n.dataCharacterCounters.length/2),n.evenCounts=new Array(n.dataCharacterCounters.length/2),n}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(n,a){for(var i=0;i<a.length;i++)if(Jl.patternMatchVariance(n,a[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new Tr},e.count=function(n){return os.sum(new Int32Array(n))},e.increment=function(n,a){for(var i=0,s=a[0],c=1;c<n.length;c++)a[c]>s&&(s=a[c],i=c);n[i]++},e.decrement=function(n,a){for(var i=0,s=a[0],c=1;c<n.length;c++)a[c]<s&&(s=a[c],i=c);n[i]--},e.isFinderPattern=function(n){var a,i,s=n[0]+n[1],c=s+n[2]+n[3],l=s/c;if(l>=e.MIN_FINDER_PATTERN_RATIO&&l<=e.MAX_FINDER_PATTERN_RATIO){var u=Number.MAX_SAFE_INTEGER,o=Number.MIN_SAFE_INTEGER;try{for(var h=wie(n),d=h.next();!d.done;d=h.next()){var A=d.value;A>o&&(o=A),A<u&&(u=A)}}catch(f){a={error:f}}finally{try{d&&!d.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}return o<10*u}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e})(Jl),vx=(function(){function r(e,n){this.value=e,this.checksumPortion=n}return r.prototype.getValue=function(){return this.value},r.prototype.getChecksumPortion=function(){return this.checksumPortion},r.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var n=e;return this.value===n.value&&this.checksumPortion===n.checksumPortion},r.prototype.hashCode=function(){return this.value^this.checksumPortion},r})(),JF=(function(){function r(e,n,a,i,s){this.value=e,this.startEnd=n,this.value=e,this.startEnd=n,this.resultPoints=new Array,this.resultPoints.push(new ra(a,s)),this.resultPoints.push(new ra(i,s))}return r.prototype.getValue=function(){return this.value},r.prototype.getStartEnd=function(){return this.startEnd},r.prototype.getResultPoints=function(){return this.resultPoints},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var n=e;return this.value===n.value},r.prototype.hashCode=function(){return this.value},r})(),jie=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},qp=(function(){function r(){}return r.getRSSvalue=function(e,n,a){var i,s,c=0;try{for(var l=jie(e),u=l.next();!u.done;u=l.next()){var o=u.value;c+=o}}catch(b){i={error:b}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(i)throw i.error}}for(var h=0,d=0,A=e.length,f=0;f<A-1;f++){var g=void 0;for(g=1,d|=1<<f;g<e[f];g++,d&=~(1<<f)){var m=r.combins(c-g-1,A-f-2);if(a&&d===0&&c-g-(A-f-1)>=A-f-1&&(m-=r.combins(c-g-(A-f),A-f-2)),A-f-1>1){for(var x=0,y=c-g-(A-f-2);y>n;y--)x+=r.combins(c-g-y-1,A-f-3);m-=x*(A-1-f)}else c-g>n&&m--;h+=m}c-=g}return h},r.combins=function(e,n){var a,i;e-n>n?(i=n,a=e-n):(i=e-n,a=n);for(var s=1,c=1,l=e;l>a;l--)s*=l,c<=i&&(s/=c,c++);for(;c<=i;)s/=c,c++;return s},r})(),Cie=(function(){function r(){}return r.buildBitArray=function(e){var n=e.length*2-1;e[e.length-1].getRightChar()==null&&(n-=1);for(var a=12*n,i=new jc(a),s=0,c=e[0],l=c.getRightChar().getValue(),u=11;u>=0;--u)(l&1<<u)!==0&&i.set(s),s++;for(var u=1;u<e.length;++u){for(var o=e[u],h=o.getLeftChar().getValue(),d=11;d>=0;--d)(h&1<<d)!==0&&i.set(s),s++;if(o.getRightChar()!==null)for(var A=o.getRightChar().getValue(),d=11;d>=0;--d)(A&1<<d)!==0&&i.set(s),s++}return i},r})(),Wf=(function(){function r(e,n){n?this.decodedInformation=null:(this.finished=e,this.decodedInformation=n)}return r.prototype.getDecodedInformation=function(){return this.decodedInformation},r.prototype.isFinished=function(){return this.finished},r})(),cS=(function(){function r(e){this.newPosition=e}return r.prototype.getNewPosition=function(){return this.newPosition},r})(),Nie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),lh=(function(r){Nie(e,r);function e(n,a){var i=r.call(this,n)||this;return i.value=a,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e})(cS),Sie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),$f=(function(r){Sie(e,r);function e(n,a,i){var s=r.call(this,n)||this;return i?(s.remaining=!0,s.remainingValue=s.remainingValue):(s.remaining=!1,s.remainingValue=0),s.newString=a,s}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e})(cS),Eie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Hp=(function(r){Eie(e,r);function e(n,a,i){var s=r.call(this,n)||this;if(a<0||a>10||i<0||i>10)throw new gn;return s.firstDigit=a,s.secondDigit=i,s}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e})(cS),nv=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Bie=(function(){function r(){}return r.parseFieldsInGeneralPurpose=function(e){var n,a,i,s,c,l,u,o;if(!e)return null;if(e.length<2)throw new Tr;var h=e.substring(0,2);try{for(var d=nv(r.TWO_DIGIT_DATA_LENGTH),A=d.next();!A.done;A=d.next()){var f=A.value;if(f[0]===h)return f[1]===r.VARIABLE_LENGTH?r.processVariableAI(2,f[2],e):r.processFixedAI(2,f[1],e)}}catch(C){n={error:C}}finally{try{A&&!A.done&&(a=d.return)&&a.call(d)}finally{if(n)throw n.error}}if(e.length<3)throw new Tr;var g=e.substring(0,3);try{for(var m=nv(r.THREE_DIGIT_DATA_LENGTH),x=m.next();!x.done;x=m.next()){var f=x.value;if(f[0]===g)return f[1]===r.VARIABLE_LENGTH?r.processVariableAI(3,f[2],e):r.processFixedAI(3,f[1],e)}}catch(C){i={error:C}}finally{try{x&&!x.done&&(s=m.return)&&s.call(m)}finally{if(i)throw i.error}}try{for(var y=nv(r.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),b=y.next();!b.done;b=y.next()){var f=b.value;if(f[0]===g)return f[1]===r.VARIABLE_LENGTH?r.processVariableAI(4,f[2],e):r.processFixedAI(4,f[1],e)}}catch(C){c={error:C}}finally{try{b&&!b.done&&(l=y.return)&&l.call(y)}finally{if(c)throw c.error}}if(e.length<4)throw new Tr;var w=e.substring(0,4);try{for(var S=nv(r.FOUR_DIGIT_DATA_LENGTH),N=S.next();!N.done;N=S.next()){var f=N.value;if(f[0]===w)return f[1]===r.VARIABLE_LENGTH?r.processVariableAI(4,f[2],e):r.processFixedAI(4,f[1],e)}}catch(C){u={error:C}}finally{try{N&&!N.done&&(o=S.return)&&o.call(S)}finally{if(u)throw u.error}}throw new Tr},r.processFixedAI=function(e,n,a){if(a.length<e)throw new Tr;var i=a.substring(0,e);if(a.length<e+n)throw new Tr;var s=a.substring(e,e+n),c=a.substring(e+n),l="("+i+")"+s,u=r.parseFieldsInGeneralPurpose(c);return u==null?l:l+u},r.processVariableAI=function(e,n,a){var i=a.substring(0,e),s;a.length<e+n?s=a.length:s=e+n;var c=a.substring(e,s),l=a.substring(s),u="("+i+")"+c,o=r.parseFieldsInGeneralPurpose(l);return o==null?u:u+o},r.VARIABLE_LENGTH=[],r.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",r.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",r.VARIABLE_LENGTH,20],["22",r.VARIABLE_LENGTH,29],["30",r.VARIABLE_LENGTH,8],["37",r.VARIABLE_LENGTH,8],["90",r.VARIABLE_LENGTH,30],["91",r.VARIABLE_LENGTH,30],["92",r.VARIABLE_LENGTH,30],["93",r.VARIABLE_LENGTH,30],["94",r.VARIABLE_LENGTH,30],["95",r.VARIABLE_LENGTH,30],["96",r.VARIABLE_LENGTH,30],["97",r.VARIABLE_LENGTH,3],["98",r.VARIABLE_LENGTH,30],["99",r.VARIABLE_LENGTH,30]],r.THREE_DIGIT_DATA_LENGTH=[["240",r.VARIABLE_LENGTH,30],["241",r.VARIABLE_LENGTH,30],["242",r.VARIABLE_LENGTH,6],["250",r.VARIABLE_LENGTH,30],["251",r.VARIABLE_LENGTH,30],["253",r.VARIABLE_LENGTH,17],["254",r.VARIABLE_LENGTH,20],["400",r.VARIABLE_LENGTH,30],["401",r.VARIABLE_LENGTH,30],["402",17],["403",r.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",r.VARIABLE_LENGTH,20],["421",r.VARIABLE_LENGTH,15],["422",3],["423",r.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],r.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",r.VARIABLE_LENGTH,15],["391",r.VARIABLE_LENGTH,18],["392",r.VARIABLE_LENGTH,15],["393",r.VARIABLE_LENGTH,18],["703",r.VARIABLE_LENGTH,30]],r.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",r.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",r.VARIABLE_LENGTH,20],["8003",r.VARIABLE_LENGTH,30],["8004",r.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",r.VARIABLE_LENGTH,30],["8008",r.VARIABLE_LENGTH,12],["8018",18],["8020",r.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",r.VARIABLE_LENGTH,70],["8200",r.VARIABLE_LENGTH,70]],r})(),Av=(function(){function r(e){this.buffer=new Ci,this.information=e}return r.prototype.decodeAllCodes=function(e,n){var a=n,i=null;do{var s=this.decodeGeneralPurposeField(a,i),c=Bie.parseFieldsInGeneralPurpose(s.getNewString());if(c!=null&&e.append(c),s.isRemaining()?i=""+s.getRemainingValue():i=null,a===s.getNewPosition())break;a=s.getNewPosition()}while(!0);return e.toString()},r.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var n=e;n<e+3;++n)if(this.information.get(n))return!0;return this.information.get(e+3)},r.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var n=this.extractNumericValueFromBitArray(e,4);return n===0?new Hp(this.information.getSize(),Hp.FNC1,Hp.FNC1):new Hp(this.information.getSize(),n-1,Hp.FNC1)}var a=this.extractNumericValueFromBitArray(e,7),i=(a-8)/11,s=(a-8)%11;return new Hp(e+7,i,s)},r.prototype.extractNumericValueFromBitArray=function(e,n){return r.extractNumericValueFromBitArray(this.information,e,n)},r.extractNumericValueFromBitArray=function(e,n,a){for(var i=0,s=0;s<a;++s)e.get(n+s)&&(i|=1<<a-s-1);return i},r.prototype.decodeGeneralPurposeField=function(e,n){this.buffer.setLengthToZero(),n!=null&&this.buffer.append(n),this.current.setPosition(e);var a=this.parseBlocks();return a!=null&&a.isRemaining()?new $f(this.current.getPosition(),this.buffer.toString(),a.getRemainingValue()):new $f(this.current.getPosition(),this.buffer.toString())},r.prototype.parseBlocks=function(){var e,n;do{var a=this.current.getPosition();this.current.isAlpha()?(n=this.parseAlphaBlock(),e=n.isFinished()):this.current.isIsoIec646()?(n=this.parseIsoIec646Block(),e=n.isFinished()):(n=this.parseNumericBlock(),e=n.isFinished());var i=a!==this.current.getPosition();if(!i&&!e)break}while(!e);return n.getDecodedInformation()},r.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var n=void 0;return e.isSecondDigitFNC1()?n=new $f(this.current.getPosition(),this.buffer.toString()):n=new $f(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Wf(!0,n)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var n=new $f(this.current.getPosition(),this.buffer.toString());return new Wf(!0,n)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Wf(!1)},r.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var n=new $f(this.current.getPosition(),this.buffer.toString());return new Wf(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Wf(!1)},r.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var n=new $f(this.current.getPosition(),this.buffer.toString());return new Wf(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Wf(!1)},r.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+7>this.information.getSize())return!1;var a=this.extractNumericValueFromBitArray(e,7);if(a>=64&&a<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},r.prototype.decodeIsoIec646=function(e){var n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new lh(e+5,lh.FNC1);if(n>=5&&n<15)return new lh(e+5,"0"+(n-5));var a=this.extractNumericValueFromBitArray(e,7);if(a>=64&&a<90)return new lh(e+7,""+(a+1));if(a>=90&&a<116)return new lh(e+7,""+(a+7));var i=this.extractNumericValueFromBitArray(e,8),s;switch(i){case 232:s="!";break;case 233:s='"';break;case 234:s="%";break;case 235:s="&";break;case 236:s="'";break;case 237:s="(";break;case 238:s=")";break;case 239:s="*";break;case 240:s="+";break;case 241:s=",";break;case 242:s="-";break;case 243:s=".";break;case 244:s="/";break;case 245:s=":";break;case 246:s=";";break;case 247:s="<";break;case 248:s="=";break;case 249:s=">";break;case 250:s="?";break;case 251:s="_";break;case 252:s=" ";break;default:throw new gn}return new lh(e+8,s)},r.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+6>this.information.getSize())return!1;var a=this.extractNumericValueFromBitArray(e,6);return a>=16&&a<63},r.prototype.decodeAlphanumeric=function(e){var n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new lh(e+5,lh.FNC1);if(n>=5&&n<15)return new lh(e+5,"0"+(n-5));var a=this.extractNumericValueFromBitArray(e,6);if(a>=32&&a<58)return new lh(e+6,""+(a+33));var i;switch(a){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new Jg("Decoding invalid alphanumeric value: "+a)}return new lh(e+6,i)},r.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var n=0;n<5&&n+e<this.information.getSize();++n)if(n===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+n))return!1;return!0},r.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var n=e;n<e+3;++n)if(this.information.get(n))return!1;return!0},r.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var n=0;n<4&&n+e<this.information.getSize();++n)if(this.information.get(e+n))return!1;return!0},r})(),eD=(function(){function r(e){this.information=e,this.generalDecoder=new Av(e)}return r.prototype.getInformation=function(){return this.information},r.prototype.getGeneralDecoder=function(){return this.generalDecoder},r})(),Iie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),hh=(function(r){Iie(e,r);function e(n){return r.call(this,n)||this}return e.prototype.encodeCompressedGtin=function(n,a){n.append("(01)");var i=n.length();n.append("9"),this.encodeCompressedGtinWithoutAI(n,a,i)},e.prototype.encodeCompressedGtinWithoutAI=function(n,a,i){for(var s=0;s<4;++s){var c=this.getGeneralDecoder().extractNumericValueFromBitArray(a+10*s,10);c/100===0&&n.append("0"),c/10===0&&n.append("0"),n.append(c)}e.appendCheckDigit(n,i)},e.appendCheckDigit=function(n,a){for(var i=0,s=0;s<13;s++){var c=n.charAt(s+a).charCodeAt(0)-48;i+=(s&1)===0?3*c:c}i=10-i%10,i===10&&(i=0),n.append(i)},e.GTIN_SIZE=40,e})(eD),Tie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),_ie=(function(r){Tie(e,r);function e(n){return r.call(this,n)||this}return e.prototype.parseInformation=function(){var n=new Ci;n.append("(01)");var a=n.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return n.append(i),this.encodeCompressedGtinWithoutAI(n,e.HEADER_SIZE+4,a),this.getGeneralDecoder().decodeAllCodes(n,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e})(hh),Oie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),kie=(function(r){Oie(e,r);function e(n){return r.call(this,n)||this}return e.prototype.parseInformation=function(){var n=new Ci;return this.getGeneralDecoder().decodeAllCodes(n,e.HEADER_SIZE)},e.HEADER_SIZE=5,e})(eD),Pie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),fv=(function(r){Pie(e,r);function e(n){return r.call(this,n)||this}return e.prototype.encodeCompressedWeight=function(n,a,i){var s=this.getGeneralDecoder().extractNumericValueFromBitArray(a,i);this.addWeightCode(n,s);for(var c=this.checkWeight(s),l=1e5,u=0;u<5;++u)c/l===0&&n.append("0"),l/=10;n.append(c)},e})(hh),Fie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),tD=(function(r){Fie(e,r);function e(n){return r.call(this,n)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+fv.GTIN_SIZE+e.WEIGHT_SIZE)throw new Tr;var n=new Ci;return this.encodeCompressedGtin(n,e.HEADER_SIZE),this.encodeCompressedWeight(n,e.HEADER_SIZE+fv.GTIN_SIZE,e.WEIGHT_SIZE),n.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e})(fv),Die=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Mie=(function(r){Die(e,r);function e(n){return r.call(this,n)||this}return e.prototype.addWeightCode=function(n,a){n.append("(3103)")},e.prototype.checkWeight=function(n){return n},e})(tD),Rie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Lie=(function(r){Rie(e,r);function e(n){return r.call(this,n)||this}return e.prototype.addWeightCode=function(n,a){a<1e4?n.append("(3202)"):n.append("(3203)")},e.prototype.checkWeight=function(n){return n<1e4?n:n-1e4},e})(tD),Uie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Hie=(function(r){Uie(e,r);function e(n){return r.call(this,n)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+hh.GTIN_SIZE)throw new Tr;var n=new Ci;this.encodeCompressedGtin(n,e.HEADER_SIZE);var a=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+hh.GTIN_SIZE,e.LAST_DIGIT_SIZE);n.append("(392"),n.append(a),n.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+hh.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return n.append(i.getNewString()),n.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e})(hh),Qie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Wie=(function(r){Qie(e,r);function e(n){return r.call(this,n)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+hh.GTIN_SIZE)throw new Tr;var n=new Ci;this.encodeCompressedGtin(n,e.HEADER_SIZE);var a=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+hh.GTIN_SIZE,e.LAST_DIGIT_SIZE);n.append("(393"),n.append(a),n.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+hh.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100===0&&n.append("0"),i/10===0&&n.append("0"),n.append(i);var s=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+hh.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return n.append(s.getNewString()),n.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e})(hh),$ie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),qA=(function(r){$ie(e,r);function e(n,a,i){var s=r.call(this,n)||this;return s.dateCode=i,s.firstAIdigits=a,s}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new Tr;var n=new Ci;return this.encodeCompressedGtin(n,e.HEADER_SIZE),this.encodeCompressedWeight(n,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(n,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),n.toString()},e.prototype.encodeCompressedDate=function(n,a){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(a,e.DATE_SIZE);if(i!==38400){n.append("("),n.append(this.dateCode),n.append(")");var s=i%32;i/=32;var c=i%12+1;i/=12;var l=i;l/10===0&&n.append("0"),n.append(l),c/10===0&&n.append("0"),n.append(c),s/10===0&&n.append("0"),n.append(s)}},e.prototype.addWeightCode=function(n,a){n.append("("),n.append(this.firstAIdigits),n.append(a/1e5),n.append(")")},e.prototype.checkWeight=function(n){return n%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e})(fv);function Vie(r){try{if(r.get(1))return new _ie(r);if(!r.get(2))return new kie(r);var e=Av.extractNumericValueFromBitArray(r,1,4);switch(e){case 4:return new Mie(r);case 5:return new Lie(r)}var n=Av.extractNumericValueFromBitArray(r,1,5);switch(n){case 12:return new Hie(r);case 13:return new Wie(r)}var a=Av.extractNumericValueFromBitArray(r,1,7);switch(a){case 56:return new qA(r,"310","11");case 57:return new qA(r,"320","11");case 58:return new qA(r,"310","13");case 59:return new qA(r,"320","13");case 60:return new qA(r,"310","15");case 61:return new qA(r,"320","15");case 62:return new qA(r,"310","17");case 63:return new qA(r,"320","17")}}catch(i){throw console.log(i),new Jg("unknown decoder: "+r)}}var I_=(function(){function r(e,n,a,i){this.leftchar=e,this.rightchar=n,this.finderpattern=a,this.maybeLast=i}return r.prototype.mayBeLast=function(){return this.maybeLast},r.prototype.getLeftChar=function(){return this.leftchar},r.prototype.getRightChar=function(){return this.rightchar},r.prototype.getFinderPattern=function(){return this.finderpattern},r.prototype.mustBeLast=function(){return this.rightchar==null},r.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},r.equals=function(e,n){return e instanceof r?r.equalsOrNull(e.leftchar,n.leftchar)&&r.equalsOrNull(e.rightchar,n.rightchar)&&r.equalsOrNull(e.finderpattern,n.finderpattern):!1},r.equalsOrNull=function(e,n){return e===null?n===null:r.equals(e,n)},r.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},r})(),zie=(function(){function r(e,n,a){this.pairs=e,this.rowNumber=n,this.wasReversed=a}return r.prototype.getPairs=function(){return this.pairs},r.prototype.getRowNumber=function(){return this.rowNumber},r.prototype.isReversed=function(){return this.wasReversed},r.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},r.prototype.toString=function(){return"{ "+this.pairs+" }"},r.prototype.equals=function(e,n){return e instanceof r?this.checkEqualitity(e,n)&&e.wasReversed===n.wasReversed:!1},r.prototype.checkEqualitity=function(e,n){if(!(!e||!n)){var a;return e.forEach(function(i,s){n.forEach(function(c){i.getLeftChar().getValue()===c.getLeftChar().getValue()&&i.getRightChar().getValue()===c.getRightChar().getValue()&&i.getFinderPatter().getValue()===c.getFinderPatter().getValue()&&(a=!0)})}),a}},r})(),Kie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),XA=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Gie=(function(r){Kie(e,r);function e(){var n=r!==null&&r.apply(this,arguments)||this;return n.pairs=new Array(e.MAX_PAIRS),n.rows=new Array,n.startEnd=[2],n}return e.prototype.decodeRow=function(n,a,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(n,a))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(n,a))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(n,a){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(a,this.pairs,n))}catch(l){if(l instanceof Tr){if(!this.pairs.length)throw new Tr;i=!0}}if(this.checkChecksum())return this.pairs;var s;if(this.rows.length?s=!0:s=!1,this.storeRow(n,!1),s){var c=this.checkRowsBoolean(!1);if(c!=null||(c=this.checkRowsBoolean(!0),c!=null))return c}throw new Tr},e.prototype.checkRowsBoolean=function(n){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,n&&(this.rows=this.rows.reverse());var a=null;try{a=this.checkRows(new Array,0)}catch(i){console.log(i)}return n&&(this.rows=this.rows.reverse()),a},e.prototype.checkRows=function(n,a){for(var i,s,c=a;c<this.rows.length;c++){var l=this.rows[c];this.pairs.length=0;try{for(var u=(i=void 0,XA(n)),o=u.next();!o.done;o=u.next()){var h=o.value;this.pairs.push(h.getPairs())}}catch(A){i={error:A}}finally{try{o&&!o.done&&(s=u.return)&&s.call(u)}finally{if(i)throw i.error}}if(this.pairs.push(l.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var d=new Array(n);d.push(l);try{return this.checkRows(d,c+1)}catch(A){console.log(A)}}}throw new Tr},e.isValidSequence=function(n){var a,i;try{for(var s=XA(e.FINDER_PATTERN_SEQUENCES),c=s.next();!c.done;c=s.next()){var l=c.value;if(!(n.length>l.length)){for(var u=!0,o=0;o<n.length;o++)if(n[o].getFinderPattern().getValue()!==l[o]){u=!1;break}if(u)return!0}}}catch(h){a={error:h}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(a)throw a.error}}return!1},e.prototype.storeRow=function(n,a){for(var i=0,s=!1,c=!1;i<this.rows.length;){var l=this.rows[i];if(l.getRowNumber()>n){c=l.isEquivalent(this.pairs);break}s=l.isEquivalent(this.pairs),i++}c||s||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new zie(this.pairs,n,a)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(n,a){var i,s,c,l,u,o;try{for(var h=XA(a),d=h.next();!d.done;d=h.next()){var A=d.value;if(A.getPairs().length!==n.length){var f=!0;try{for(var g=(c=void 0,XA(A.getPairs())),m=g.next();!m.done;m=g.next()){var x=m.value,y=!1;try{for(var b=(u=void 0,XA(n)),w=b.next();!w.done;w=b.next()){var S=w.value;if(I_.equals(x,S)){y=!0;break}}}catch(N){u={error:N}}finally{try{w&&!w.done&&(o=b.return)&&o.call(b)}finally{if(u)throw u.error}}y||(f=!1)}}catch(N){c={error:N}}finally{try{m&&!m.done&&(l=g.return)&&l.call(g)}finally{if(c)throw c.error}}}}}catch(N){i={error:N}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}},e.isPartialRow=function(n,a){var i,s,c,l,u,o;try{for(var h=XA(a),d=h.next();!d.done;d=h.next()){var A=d.value,f=!0;try{for(var g=(c=void 0,XA(n)),m=g.next();!m.done;m=g.next()){var x=m.value,y=!1;try{for(var b=(u=void 0,XA(A.getPairs())),w=b.next();!w.done;w=b.next()){var S=w.value;if(x.equals(S)){y=!0;break}}}catch(N){u={error:N}}finally{try{w&&!w.done&&(o=b.return)&&o.call(b)}finally{if(u)throw u.error}}if(!y){f=!1;break}}}catch(N){c={error:N}}finally{try{m&&!m.done&&(l=g.return)&&l.call(g)}finally{if(c)throw c.error}}if(f)return!0}}catch(N){i={error:N}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(n){var a=Cie.buildBitArray(n),i=Vie(a),s=i.parseInformation(),c=n[0].getFinderPattern().getResultPoints(),l=n[n.length-1].getFinderPattern().getResultPoints(),u=[c[0],c[1],l[0],l[1]];return new nu(s,null,null,u,Ba.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var n=this.pairs.get(0),a=n.getLeftChar(),i=n.getRightChar();if(i===null)return!1;for(var s=i.getChecksumPortion(),c=2,l=1;l<this.pairs.size();++l){var u=this.pairs.get(l);s+=u.getLeftChar().getChecksumPortion(),c++;var o=u.getRightChar();o!=null&&(s+=o.getChecksumPortion(),c++)}s%=211;var h=211*(c-4)+s;return h===a.getValue()},e.getNextSecondBar=function(n,a){var i;return n.get(a)?(i=n.getNextUnset(a),i=n.getNextSet(i)):(i=n.getNextSet(a),i=n.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(n,a,i){var s=a.length%2===0;this.startFromEven&&(s=!s);var c,l=!0,u=-1;do this.findNextPair(n,a,u),c=this.parseFoundFinderPattern(n,i,s),c===null?u=e.getNextSecondBar(n,this.startEnd[0]):l=!1;while(l);var o=this.decodeDataCharacter(n,c,s,!0);if(!this.isEmptyPair(a)&&a[a.length-1].mustBeLast())throw new Tr;var h;try{h=this.decodeDataCharacter(n,c,s,!1)}catch(d){h=null,console.log(d)}return new I_(o,h,c,!0)},e.prototype.isEmptyPair=function(n){return n.length===0},e.prototype.findNextPair=function(n,a,i){var s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;var c=n.getSize(),l;if(i>=0)l=i;else if(this.isEmptyPair(a))l=0;else{var u=a[a.length-1];l=u.getFinderPattern().getStartEnd()[1]}var o=a.length%2!==0;this.startFromEven&&(o=!o);for(var h=!1;l<c&&(h=!n.get(l),!!h);)l++;for(var d=0,A=l,f=l;f<c;f++)if(n.get(f)!==h)s[d]++;else{if(d===3){if(o&&e.reverseCounters(s),e.isFinderPattern(s)){this.startEnd[0]=A,this.startEnd[1]=f;return}o&&e.reverseCounters(s),A+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,d--}else d++;s[d]=1,h=!h}throw new Tr},e.reverseCounters=function(n){for(var a=n.length,i=0;i<a/2;++i){var s=n[i];n[i]=n[a-i-1],n[a-i-1]=s}},e.prototype.parseFoundFinderPattern=function(n,a,i){var s,c,l;if(i){for(var u=this.startEnd[0]-1;u>=0&&!n.get(u);)u--;u++,s=this.startEnd[0]-u,c=u,l=this.startEnd[1]}else c=this.startEnd[0],l=n.getNextUnset(this.startEnd[1]+1),s=l-this.startEnd[1];var o=this.getDecodeFinderCounters();oo.arraycopy(o,0,o,1,o.length-1),o[0]=s;var h;try{h=this.parseFinderValue(o,e.FINDER_PATTERNS)}catch{return null}return new JF(h,[c,l],c,l,a)},e.prototype.decodeDataCharacter=function(n,a,i,s){for(var c=this.getDataCharacterCounters(),l=0;l<c.length;l++)c[l]=0;if(s)e.recordPatternInReverse(n,a.getStartEnd()[0],c);else{e.recordPattern(n,a.getStartEnd()[1],c);for(var u=0,o=c.length-1;u<o;u++,o--){var h=c[u];c[u]=c[o],c[o]=h}}var d=17,A=os.sum(new Int32Array(c))/d,f=(a.getStartEnd()[1]-a.getStartEnd()[0])/15;if(Math.abs(A-f)/f>.3)throw new Tr;for(var g=this.getOddCounts(),m=this.getEvenCounts(),x=this.getOddRoundingErrors(),y=this.getEvenRoundingErrors(),u=0;u<c.length;u++){var b=1*c[u]/A,w=b+.5;if(w<1){if(b<.3)throw new Tr;w=1}else if(w>8){if(b>8.7)throw new Tr;w=8}var S=u/2;(u&1)===0?(g[S]=w,x[S]=b-w):(m[S]=w,y[S]=b-w)}this.adjustOddEvenCounts(d);for(var N=4*a.getValue()+(i?0:2)+(s?0:1)-1,C=0,O=0,u=g.length-1;u>=0;u--){if(e.isNotA1left(a,i,s)){var W=e.WEIGHTS[N][2*u];O+=g[u]*W}C+=g[u]}for(var K=0,u=m.length-1;u>=0;u--)if(e.isNotA1left(a,i,s)){var W=e.WEIGHTS[N][2*u+1];K+=m[u]*W}var te=O+K;if((C&1)!==0||C>13||C<4)throw new Tr;var q=(13-C)/2,Y=e.SYMBOL_WIDEST[q],P=9-Y,ce=qp.getRSSvalue(g,Y,!0),$=qp.getRSSvalue(m,P,!1),R=e.EVEN_TOTAL_SUBSET[q],se=e.GSUM[q],fe=ce*R+$+se;return new vx(fe,te)},e.isNotA1left=function(n,a,i){return!(n.getValue()===0&&a&&i)},e.prototype.adjustOddEvenCounts=function(n){var a=os.sum(new Int32Array(this.getOddCounts())),i=os.sum(new Int32Array(this.getEvenCounts())),s=!1,c=!1;a>13?c=!0:a<4&&(s=!0);var l=!1,u=!1;i>13?u=!0:i<4&&(l=!0);var o=a+i-n,h=(a&1)===1,d=(i&1)===0;if(o===1)if(h){if(d)throw new Tr;c=!0}else{if(!d)throw new Tr;u=!0}else if(o===-1)if(h){if(d)throw new Tr;s=!0}else{if(!d)throw new Tr;l=!0}else if(o===0){if(h){if(!d)throw new Tr;a<i?(s=!0,u=!0):(c=!0,l=!0)}else if(d)throw new Tr}else throw new Tr;if(s){if(c)throw new Tr;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(u)throw new Tr;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e})(Kf),qie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Xie=(function(r){qie(e,r);function e(n,a,i){var s=r.call(this,n,a)||this;return s.count=0,s.finderPattern=i,s}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e})(vx),Yie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),rC=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},T_=(function(r){Yie(e,r);function e(){var n=r!==null&&r.apply(this,arguments)||this;return n.possibleLeftPairs=[],n.possibleRightPairs=[],n}return e.prototype.decodeRow=function(n,a,i){var s,c,l,u,o=this.decodePair(a,!1,n,i);e.addOrTally(this.possibleLeftPairs,o),a.reverse();var h=this.decodePair(a,!0,n,i);e.addOrTally(this.possibleRightPairs,h),a.reverse();try{for(var d=rC(this.possibleLeftPairs),A=d.next();!A.done;A=d.next()){var f=A.value;if(f.getCount()>1)try{for(var g=(l=void 0,rC(this.possibleRightPairs)),m=g.next();!m.done;m=g.next()){var x=m.value;if(x.getCount()>1&&e.checkChecksum(f,x))return e.constructResult(f,x)}}catch(y){l={error:y}}finally{try{m&&!m.done&&(u=g.return)&&u.call(g)}finally{if(l)throw l.error}}}}catch(y){s={error:y}}finally{try{A&&!A.done&&(c=d.return)&&c.call(d)}finally{if(s)throw s.error}}throw new Tr},e.addOrTally=function(n,a){var i,s;if(a!=null){var c=!1;try{for(var l=rC(n),u=l.next();!u.done;u=l.next()){var o=u.value;if(o.getValue()===a.getValue()){o.incrementCount(),c=!0;break}}}catch(h){i={error:h}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(i)throw i.error}}c||n.push(a)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(n,a){for(var i=4537077*n.getValue()+a.getValue(),s=new String(i).toString(),c=new Ci,l=13-s.length;l>0;l--)c.append("0");c.append(s);for(var u=0,l=0;l<13;l++){var o=c.charAt(l).charCodeAt(0)-48;u+=(l&1)===0?3*o:o}u=10-u%10,u===10&&(u=0),c.append(u.toString());var h=n.getFinderPattern().getResultPoints(),d=a.getFinderPattern().getResultPoints();return new nu(c.toString(),null,0,[h[0],h[1],d[0],d[1]],Ba.RSS_14,new Date().getTime())},e.checkChecksum=function(n,a){var i=(n.getChecksumPortion()+16*a.getChecksumPortion())%79,s=9*n.getFinderPattern().getValue()+a.getFinderPattern().getValue();return s>72&&s--,s>8&&s--,i===s},e.prototype.decodePair=function(n,a,i,s){try{var c=this.findFinderPattern(n,a),l=this.parseFoundFinderPattern(n,i,a,c),u=s==null?null:s.get(lo.NEED_RESULT_POINT_CALLBACK);if(u!=null){var o=(c[0]+c[1])/2;a&&(o=n.getSize()-1-o),u.foundPossibleResultPoint(new ra(o,i))}var h=this.decodeDataCharacter(n,l,!0),d=this.decodeDataCharacter(n,l,!1);return new Xie(1597*h.getValue()+d.getValue(),h.getChecksumPortion()+4*d.getChecksumPortion(),l)}catch{return null}},e.prototype.decodeDataCharacter=function(n,a,i){for(var s=this.getDataCharacterCounters(),c=0;c<s.length;c++)s[c]=0;if(i)Jl.recordPatternInReverse(n,a.getStartEnd()[0],s);else{Jl.recordPattern(n,a.getStartEnd()[1]+1,s);for(var l=0,u=s.length-1;l<u;l++,u--){var o=s[l];s[l]=s[u],s[u]=o}}for(var h=i?16:15,d=os.sum(new Int32Array(s))/h,A=this.getOddCounts(),f=this.getEvenCounts(),g=this.getOddRoundingErrors(),m=this.getEvenRoundingErrors(),l=0;l<s.length;l++){var x=s[l]/d,y=Math.floor(x+.5);y<1?y=1:y>8&&(y=8);var b=Math.floor(l/2);(l&1)===0?(A[b]=y,g[b]=x-y):(f[b]=y,m[b]=x-y)}this.adjustOddEvenCounts(i,h);for(var w=0,S=0,l=A.length-1;l>=0;l--)S*=9,S+=A[l],w+=A[l];for(var N=0,C=0,l=f.length-1;l>=0;l--)N*=9,N+=f[l],C+=f[l];var O=S+3*N;if(i){if((w&1)!==0||w>12||w<4)throw new Tr;var W=(12-w)/2,K=e.OUTSIDE_ODD_WIDEST[W],te=9-K,q=qp.getRSSvalue(A,K,!1),Y=qp.getRSSvalue(f,te,!0),P=e.OUTSIDE_EVEN_TOTAL_SUBSET[W],ce=e.OUTSIDE_GSUM[W];return new vx(q*P+Y+ce,O)}else{if((C&1)!==0||C>10||C<4)throw new Tr;var W=(10-C)/2,K=e.INSIDE_ODD_WIDEST[W],te=9-K,q=qp.getRSSvalue(A,K,!0),Y=qp.getRSSvalue(f,te,!1),$=e.INSIDE_ODD_TOTAL_SUBSET[W],ce=e.INSIDE_GSUM[W];return new vx(Y*$+q+ce,O)}},e.prototype.findFinderPattern=function(n,a){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var s=n.getSize(),c=!1,l=0;l<s&&(c=!n.get(l),a!==c);)l++;for(var u=0,o=l,h=l;h<s;h++)if(n.get(h)!==c)i[u]++;else{if(u===3){if(Kf.isFinderPattern(i))return[o,h];o+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,u--}else u++;i[u]=1,c=!c}throw new Tr},e.prototype.parseFoundFinderPattern=function(n,a,i,s){for(var c=n.get(s[0]),l=s[0]-1;l>=0&&c!==n.get(l);)l--;l++;var u=s[0]-l,o=this.getDecodeFinderCounters(),h=new Int32Array(o.length);oo.arraycopy(o,0,h,1,o.length-1),h[0]=u;var d=this.parseFinderValue(h,e.FINDER_PATTERNS),A=l,f=s[1];return i&&(A=n.getSize()-1-A,f=n.getSize()-1-f),new JF(d,[l,s[1]],A,f,a)},e.prototype.adjustOddEvenCounts=function(n,a){var i=os.sum(new Int32Array(this.getOddCounts())),s=os.sum(new Int32Array(this.getEvenCounts())),c=!1,l=!1,u=!1,o=!1;n?(i>12?l=!0:i<4&&(c=!0),s>12?o=!0:s<4&&(u=!0)):(i>11?l=!0:i<5&&(c=!0),s>10?o=!0:s<4&&(u=!0));var h=i+s-a,d=(i&1)===(n?1:0),A=(s&1)===1;if(h===1)if(d){if(A)throw new Tr;l=!0}else{if(!A)throw new Tr;o=!0}else if(h===-1)if(d){if(A)throw new Tr;c=!0}else{if(!A)throw new Tr;u=!0}else if(h===0){if(d){if(!A)throw new Tr;i<s?(c=!0,o=!0):(l=!0,u=!0)}else if(A)throw new Tr}else throw new Tr;if(c){if(l)throw new Tr;Kf.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&Kf.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(o)throw new Tr;Kf.increment(this.getEvenCounts(),this.getOddRoundingErrors())}o&&Kf.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e})(Kf),Zie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Xp=(function(r){Zie(e,r);function e(n){var a=r.call(this)||this;a.readers=[];var i=n?n.get(lo.POSSIBLE_FORMATS):null,s=n&&n.get(lo.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,c=n&&n.get(lo.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return i&&((i.includes(Ba.EAN_13)||i.includes(Ba.UPC_A)||i.includes(Ba.EAN_8)||i.includes(Ba.UPC_E))&&a.readers.push(new tC(n)),i.includes(Ba.CODE_39)&&a.readers.push(new y_(s,c)),i.includes(Ba.CODE_93)&&a.readers.push(new b_),i.includes(Ba.CODE_128)&&a.readers.push(new x_),i.includes(Ba.ITF)&&a.readers.push(new w_),i.includes(Ba.CODABAR)&&a.readers.push(new yie),i.includes(Ba.RSS_14)&&a.readers.push(new T_),i.includes(Ba.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),a.readers.push(new Gie))),a.readers.length===0&&(a.readers.push(new tC(n)),a.readers.push(new y_),a.readers.push(new b_),a.readers.push(new tC(n)),a.readers.push(new x_),a.readers.push(new w_),a.readers.push(new T_)),a}return e.prototype.decodeRow=function(n,a,i){for(var s=0;s<this.readers.length;s++)try{return this.readers[s].decodeRow(n,a,i)}catch{}throw new Tr},e.prototype.reset=function(){this.readers.forEach(function(n){return n.reset()})},e})(Jl),Jie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){Jie(e,r);function e(n,a){return n===void 0&&(n=500),r.call(this,new Xp(a),n,a)||this}return e})(Um);var __=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Is=(function(){function r(e,n,a){this.ecCodewords=e,this.ecBlocks=[n],a&&this.ecBlocks.push(a)}return r.prototype.getECCodewords=function(){return this.ecCodewords},r.prototype.getECBlocks=function(){return this.ecBlocks},r})(),gs=(function(){function r(e,n){this.count=e,this.dataCodewords=n}return r.prototype.getCount=function(){return this.count},r.prototype.getDataCodewords=function(){return this.dataCodewords},r})(),ese=(function(){function r(e,n,a,i,s,c){var l,u;this.versionNumber=e,this.symbolSizeRows=n,this.symbolSizeColumns=a,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=s,this.ecBlocks=c;var o=0,h=c.getECCodewords(),d=c.getECBlocks();try{for(var A=__(d),f=A.next();!f.done;f=A.next()){var g=f.value;o+=g.getCount()*(g.getDataCodewords()+h)}}catch(m){l={error:m}}finally{try{f&&!f.done&&(u=A.return)&&u.call(A)}finally{if(l)throw l.error}}this.totalCodewords=o}return r.prototype.getVersionNumber=function(){return this.versionNumber},r.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},r.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},r.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},r.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},r.prototype.getTotalCodewords=function(){return this.totalCodewords},r.prototype.getECBlocks=function(){return this.ecBlocks},r.getVersionForDimensions=function(e,n){var a,i;if((e&1)!==0||(n&1)!==0)throw new gn;try{for(var s=__(r.VERSIONS),c=s.next();!c.done;c=s.next()){var l=c.value;if(l.symbolSizeRows===e&&l.symbolSizeColumns===n)return l}}catch(u){a={error:u}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(a)throw a.error}}throw new gn},r.prototype.toString=function(){return""+this.versionNumber},r.buildVersions=function(){return[new r(1,10,10,8,8,new Is(5,new gs(1,3))),new r(2,12,12,10,10,new Is(7,new gs(1,5))),new r(3,14,14,12,12,new Is(10,new gs(1,8))),new r(4,16,16,14,14,new Is(12,new gs(1,12))),new r(5,18,18,16,16,new Is(14,new gs(1,18))),new r(6,20,20,18,18,new Is(18,new gs(1,22))),new r(7,22,22,20,20,new Is(20,new gs(1,30))),new r(8,24,24,22,22,new Is(24,new gs(1,36))),new r(9,26,26,24,24,new Is(28,new gs(1,44))),new r(10,32,32,14,14,new Is(36,new gs(1,62))),new r(11,36,36,16,16,new Is(42,new gs(1,86))),new r(12,40,40,18,18,new Is(48,new gs(1,114))),new r(13,44,44,20,20,new Is(56,new gs(1,144))),new r(14,48,48,22,22,new Is(68,new gs(1,174))),new r(15,52,52,24,24,new Is(42,new gs(2,102))),new r(16,64,64,14,14,new Is(56,new gs(2,140))),new r(17,72,72,16,16,new Is(36,new gs(4,92))),new r(18,80,80,18,18,new Is(48,new gs(4,114))),new r(19,88,88,20,20,new Is(56,new gs(4,144))),new r(20,96,96,22,22,new Is(68,new gs(4,174))),new r(21,104,104,24,24,new Is(56,new gs(6,136))),new r(22,120,120,18,18,new Is(68,new gs(6,175))),new r(23,132,132,20,20,new Is(62,new gs(8,163))),new r(24,144,144,22,22,new Is(62,new gs(8,156),new gs(2,155))),new r(25,8,18,6,16,new Is(7,new gs(1,5))),new r(26,8,32,6,14,new Is(11,new gs(1,10))),new r(27,12,26,10,24,new Is(14,new gs(1,16))),new r(28,12,36,10,16,new Is(18,new gs(1,22))),new r(29,16,36,14,16,new Is(24,new gs(1,32))),new r(30,16,48,14,22,new Is(28,new gs(1,49)))]},r.VERSIONS=r.buildVersions(),r})(),tse=(function(){function r(e){var n=e.getHeight();if(n<8||n>144||(n&1)!==0)throw new gn;this.version=r.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new Mh(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return r.prototype.getVersion=function(){return this.version},r.readVersion=function(e){var n=e.getHeight(),a=e.getWidth();return ese.getVersionForDimensions(n,a)},r.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),n=0,a=4,i=0,s=this.mappingBitMatrix.getHeight(),c=this.mappingBitMatrix.getWidth(),l=!1,u=!1,o=!1,h=!1;do if(a===s&&i===0&&!l)e[n++]=this.readCorner1(s,c)&255,a-=2,i+=2,l=!0;else if(a===s-2&&i===0&&(c&3)!==0&&!u)e[n++]=this.readCorner2(s,c)&255,a-=2,i+=2,u=!0;else if(a===s+4&&i===2&&(c&7)===0&&!o)e[n++]=this.readCorner3(s,c)&255,a-=2,i+=2,o=!0;else if(a===s-2&&i===0&&(c&7)===4&&!h)e[n++]=this.readCorner4(s,c)&255,a-=2,i+=2,h=!0;else{do a<s&&i>=0&&!this.readMappingMatrix.get(i,a)&&(e[n++]=this.readUtah(a,i,s,c)&255),a-=2,i+=2;while(a>=0&&i<c);a+=1,i+=3;do a>=0&&i<c&&!this.readMappingMatrix.get(i,a)&&(e[n++]=this.readUtah(a,i,s,c)&255),a+=2,i-=2;while(a<s&&i>=0);a+=3,i+=1}while(a<s||i<c);if(n!==this.version.getTotalCodewords())throw new gn;return e},r.prototype.readModule=function(e,n,a,i){return e<0&&(e+=a,n+=4-(a+4&7)),n<0&&(n+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(n,e),this.mappingBitMatrix.get(n,e)},r.prototype.readUtah=function(e,n,a,i){var s=0;return this.readModule(e-2,n-2,a,i)&&(s|=1),s<<=1,this.readModule(e-2,n-1,a,i)&&(s|=1),s<<=1,this.readModule(e-1,n-2,a,i)&&(s|=1),s<<=1,this.readModule(e-1,n-1,a,i)&&(s|=1),s<<=1,this.readModule(e-1,n,a,i)&&(s|=1),s<<=1,this.readModule(e,n-2,a,i)&&(s|=1),s<<=1,this.readModule(e,n-1,a,i)&&(s|=1),s<<=1,this.readModule(e,n,a,i)&&(s|=1),s},r.prototype.readCorner1=function(e,n){var a=0;return this.readModule(e-1,0,e,n)&&(a|=1),a<<=1,this.readModule(e-1,1,e,n)&&(a|=1),a<<=1,this.readModule(e-1,2,e,n)&&(a|=1),a<<=1,this.readModule(0,n-2,e,n)&&(a|=1),a<<=1,this.readModule(0,n-1,e,n)&&(a|=1),a<<=1,this.readModule(1,n-1,e,n)&&(a|=1),a<<=1,this.readModule(2,n-1,e,n)&&(a|=1),a<<=1,this.readModule(3,n-1,e,n)&&(a|=1),a},r.prototype.readCorner2=function(e,n){var a=0;return this.readModule(e-3,0,e,n)&&(a|=1),a<<=1,this.readModule(e-2,0,e,n)&&(a|=1),a<<=1,this.readModule(e-1,0,e,n)&&(a|=1),a<<=1,this.readModule(0,n-4,e,n)&&(a|=1),a<<=1,this.readModule(0,n-3,e,n)&&(a|=1),a<<=1,this.readModule(0,n-2,e,n)&&(a|=1),a<<=1,this.readModule(0,n-1,e,n)&&(a|=1),a<<=1,this.readModule(1,n-1,e,n)&&(a|=1),a},r.prototype.readCorner3=function(e,n){var a=0;return this.readModule(e-1,0,e,n)&&(a|=1),a<<=1,this.readModule(e-1,n-1,e,n)&&(a|=1),a<<=1,this.readModule(0,n-3,e,n)&&(a|=1),a<<=1,this.readModule(0,n-2,e,n)&&(a|=1),a<<=1,this.readModule(0,n-1,e,n)&&(a|=1),a<<=1,this.readModule(1,n-3,e,n)&&(a|=1),a<<=1,this.readModule(1,n-2,e,n)&&(a|=1),a<<=1,this.readModule(1,n-1,e,n)&&(a|=1),a},r.prototype.readCorner4=function(e,n){var a=0;return this.readModule(e-3,0,e,n)&&(a|=1),a<<=1,this.readModule(e-2,0,e,n)&&(a|=1),a<<=1,this.readModule(e-1,0,e,n)&&(a|=1),a<<=1,this.readModule(0,n-2,e,n)&&(a|=1),a<<=1,this.readModule(0,n-1,e,n)&&(a|=1),a<<=1,this.readModule(1,n-1,e,n)&&(a|=1),a<<=1,this.readModule(2,n-1,e,n)&&(a|=1),a<<=1,this.readModule(3,n-1,e,n)&&(a|=1),a},r.prototype.extractDataRegion=function(e){var n=this.version.getSymbolSizeRows(),a=this.version.getSymbolSizeColumns();if(e.getHeight()!==n)throw new Ia("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),s=this.version.getDataRegionSizeColumns(),c=n/i|0,l=a/s|0,u=c*i,o=l*s,h=new Mh(o,u),d=0;d<c;++d)for(var A=d*i,f=0;f<l;++f)for(var g=f*s,m=0;m<i;++m)for(var x=d*(i+2)+1+m,y=A+m,b=0;b<s;++b){var w=f*(s+2)+1+b;if(e.get(w,x)){var S=g+b;h.set(S,y)}}return h},r})(),O_=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},rse=(function(){function r(e,n){this.numDataCodewords=e,this.codewords=n}return r.getDataBlocks=function(e,n){var a,i,s,c,l=n.getECBlocks(),u=0,o=l.getECBlocks();try{for(var h=O_(o),d=h.next();!d.done;d=h.next()){var A=d.value;u+=A.getCount()}}catch(ce){a={error:ce}}finally{try{d&&!d.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}var f=new Array(u),g=0;try{for(var m=O_(o),x=m.next();!x.done;x=m.next())for(var A=x.value,y=0;y<A.getCount();y++){var b=A.getDataCodewords(),w=l.getECCodewords()+b;f[g++]=new r(b,new Uint8Array(w))}}catch(ce){s={error:ce}}finally{try{x&&!x.done&&(c=m.return)&&c.call(m)}finally{if(s)throw s.error}}for(var S=f[0].codewords.length,N=S-l.getECCodewords(),C=N-1,O=0,y=0;y<C;y++)for(var W=0;W<g;W++)f[W].codewords[y]=e[O++];for(var K=n.getVersionNumber()===24,te=K?8:g,W=0;W<te;W++)f[W].codewords[N-1]=e[O++];for(var q=f[0].codewords.length,y=N;y<q;y++)for(var W=0;W<g;W++){var Y=K?(W+8)%g:W,P=K&&Y>7?y-1:y;f[Y].codewords[P]=e[O++]}if(O!==e.length)throw new Ia;return f},r.prototype.getNumDataCodewords=function(){return this.numDataCodewords},r.prototype.getCodewords=function(){return this.codewords},r})(),rD=(function(){function r(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return r.prototype.getBitOffset=function(){return this.bitOffset},r.prototype.getByteOffset=function(){return this.byteOffset},r.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new Ia(""+e);var n=0,a=this.bitOffset,i=this.byteOffset,s=this.bytes;if(a>0){var c=8-a,l=e<c?e:c,u=c-l,o=255>>8-l<<u;n=(s[i]&o)>>u,e-=l,a+=l,a===8&&(a=0,i++)}if(e>0){for(;e>=8;)n=n<<8|s[i]&255,i++,e-=8;if(e>0){var u=8-e,o=255>>u<<u;n=n<<e|(s[i]&o)>>u,a+=e}}return this.bitOffset=a,this.byteOffset=i,n},r.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},r})(),$l;(function(r){r[r.PAD_ENCODE=0]="PAD_ENCODE",r[r.ASCII_ENCODE=1]="ASCII_ENCODE",r[r.C40_ENCODE=2]="C40_ENCODE",r[r.TEXT_ENCODE=3]="TEXT_ENCODE",r[r.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",r[r.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",r[r.BASE256_ENCODE=6]="BASE256_ENCODE"})($l||($l={}));var nse=(function(){function r(){}return r.decode=function(e){var n=new rD(e),a=new Ci,i=new Ci,s=new Array,c=$l.ASCII_ENCODE;do if(c===$l.ASCII_ENCODE)c=this.decodeAsciiSegment(n,a,i);else{switch(c){case $l.C40_ENCODE:this.decodeC40Segment(n,a);break;case $l.TEXT_ENCODE:this.decodeTextSegment(n,a);break;case $l.ANSIX12_ENCODE:this.decodeAnsiX12Segment(n,a);break;case $l.EDIFACT_ENCODE:this.decodeEdifactSegment(n,a);break;case $l.BASE256_ENCODE:this.decodeBase256Segment(n,a,s);break;default:throw new gn}c=$l.ASCII_ENCODE}while(c!==$l.PAD_ENCODE&&n.available()>0);return i.length()>0&&a.append(i.toString()),new Ay(e,a.toString(),s.length===0?null:s,null)},r.decodeAsciiSegment=function(e,n,a){var i=!1;do{var s=e.readBits(8);if(s===0)throw new gn;if(s<=128)return i&&(s+=128),n.append(String.fromCharCode(s-1)),$l.ASCII_ENCODE;if(s===129)return $l.PAD_ENCODE;if(s<=229){var c=s-130;c<10&&n.append("0"),n.append(""+c)}else switch(s){case 230:return $l.C40_ENCODE;case 231:return $l.BASE256_ENCODE;case 232:n.append("");break;case 233:case 234:break;case 235:i=!0;break;case 236:n.append("[)>05"),a.insert(0,"");break;case 237:n.append("[)>06"),a.insert(0,"");break;case 238:return $l.ANSIX12_ENCODE;case 239:return $l.TEXT_ENCODE;case 240:return $l.EDIFACT_ENCODE;case 241:break;default:if(s!==254||e.available()!==0)throw new gn;break}}while(e.available()>0);return $l.ASCII_ENCODE},r.decodeC40Segment=function(e,n){var a=!1,i=[],s=0;do{if(e.available()===8)return;var c=e.readBits(8);if(c===254)return;this.parseTwoBytes(c,e.readBits(8),i);for(var l=0;l<3;l++){var u=i[l];switch(s){case 0:if(u<3)s=u+1;else if(u<this.C40_BASIC_SET_CHARS.length){var o=this.C40_BASIC_SET_CHARS[u];a?(n.append(String.fromCharCode(o.charCodeAt(0)+128)),a=!1):n.append(o)}else throw new gn;break;case 1:a?(n.append(String.fromCharCode(u+128)),a=!1):n.append(String.fromCharCode(u)),s=0;break;case 2:if(u<this.C40_SHIFT2_SET_CHARS.length){var o=this.C40_SHIFT2_SET_CHARS[u];a?(n.append(String.fromCharCode(o.charCodeAt(0)+128)),a=!1):n.append(o)}else switch(u){case 27:n.append("");break;case 30:a=!0;break;default:throw new gn}s=0;break;case 3:a?(n.append(String.fromCharCode(u+224)),a=!1):n.append(String.fromCharCode(u+96)),s=0;break;default:throw new gn}}}while(e.available()>0)},r.decodeTextSegment=function(e,n){var a=!1,i=[],s=0;do{if(e.available()===8)return;var c=e.readBits(8);if(c===254)return;this.parseTwoBytes(c,e.readBits(8),i);for(var l=0;l<3;l++){var u=i[l];switch(s){case 0:if(u<3)s=u+1;else if(u<this.TEXT_BASIC_SET_CHARS.length){var o=this.TEXT_BASIC_SET_CHARS[u];a?(n.append(String.fromCharCode(o.charCodeAt(0)+128)),a=!1):n.append(o)}else throw new gn;break;case 1:a?(n.append(String.fromCharCode(u+128)),a=!1):n.append(String.fromCharCode(u)),s=0;break;case 2:if(u<this.TEXT_SHIFT2_SET_CHARS.length){var o=this.TEXT_SHIFT2_SET_CHARS[u];a?(n.append(String.fromCharCode(o.charCodeAt(0)+128)),a=!1):n.append(o)}else switch(u){case 27:n.append("");break;case 30:a=!0;break;default:throw new gn}s=0;break;case 3:if(u<this.TEXT_SHIFT3_SET_CHARS.length){var o=this.TEXT_SHIFT3_SET_CHARS[u];a?(n.append(String.fromCharCode(o.charCodeAt(0)+128)),a=!1):n.append(o),s=0}else throw new gn;break;default:throw new gn}}}while(e.available()>0)},r.decodeAnsiX12Segment=function(e,n){var a=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),a);for(var s=0;s<3;s++){var c=a[s];switch(c){case 0:n.append("\r");break;case 1:n.append("*");break;case 2:n.append(">");break;case 3:n.append(" ");break;default:if(c<14)n.append(String.fromCharCode(c+44));else if(c<40)n.append(String.fromCharCode(c+51));else throw new gn;break}}}while(e.available()>0)},r.parseTwoBytes=function(e,n,a){var i=(e<<8)+n-1,s=Math.floor(i/1600);a[0]=s,i-=s*1600,s=Math.floor(i/40),a[1]=s,a[2]=i-s*40},r.decodeEdifactSegment=function(e,n){do{if(e.available()<=16)return;for(var a=0;a<4;a++){var i=e.readBits(6);if(i===31){var s=8-e.getBitOffset();s!==8&&e.readBits(s);return}(i&32)===0&&(i|=64),n.append(String.fromCharCode(i))}}while(e.available()>0)},r.decodeBase256Segment=function(e,n,a){var i=1+e.getByteOffset(),s=this.unrandomize255State(e.readBits(8),i++),c;if(s===0?c=e.available()/8|0:s<250?c=s:c=250*(s-249)+this.unrandomize255State(e.readBits(8),i++),c<0)throw new gn;for(var l=new Uint8Array(c),u=0;u<c;u++){if(e.available()<8)throw new gn;l[u]=this.unrandomize255State(e.readBits(8),i++)}a.push(l);try{n.append($d.decode(l,Zi.ISO88591))}catch(o){throw new Jg("Platform does not support required encoding: "+o.message)}},r.unrandomize255State=function(e,n){var a=149*n%255+1,i=e-a;return i>=0?i:i+256},r.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],r.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],r.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],r.TEXT_SHIFT2_SET_CHARS=r.C40_SHIFT2_SET_CHARS,r.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],r})(),ase=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ise=(function(){function r(){this.rsDecoder=new fy(Lu.DATA_MATRIX_FIELD_256)}return r.prototype.decode=function(e){var n,a,i=new tse(e),s=i.getVersion(),c=i.readCodewords(),l=rse.getDataBlocks(c,s),u=0;try{for(var o=ase(l),h=o.next();!h.done;h=o.next()){var d=h.value;u+=d.getNumDataCodewords()}}catch(w){n={error:w}}finally{try{h&&!h.done&&(a=o.return)&&a.call(o)}finally{if(n)throw n.error}}for(var A=new Uint8Array(u),f=l.length,g=0;g<f;g++){var m=l[g],x=m.getCodewords(),y=m.getNumDataCodewords();this.correctErrors(x,y);for(var b=0;b<y;b++)A[b*f+g]=x[b]}return nse.decode(A)},r.prototype.correctErrors=function(e,n){var a=new Int32Array(e);try{this.rsDecoder.decode(a,e.length-n)}catch{throw new Sl}for(var i=0;i<n;i++)e[i]=a[i]},r})(),sse=(function(){function r(e){this.image=e,this.rectangleDetector=new LN(this.image)}return r.prototype.detect=function(){var e=this.rectangleDetector.detect(),n=this.detectSolid1(e);if(n=this.detectSolid2(n),n[3]=this.correctTopRight(n),!n[3])throw new Tr;n=this.shiftToModuleCenter(n);var a=n[0],i=n[1],s=n[2],c=n[3],l=this.transitionsBetween(a,c)+1,u=this.transitionsBetween(s,c)+1;(l&1)===1&&(l+=1),(u&1)===1&&(u+=1),4*l<7*u&&4*u<7*l&&(l=u=Math.max(l,u));var o=r.sampleGrid(this.image,a,i,s,c,l,u);return new oS(o,[a,i,s,c])},r.shiftPoint=function(e,n,a){var i=(n.getX()-e.getX())/(a+1),s=(n.getY()-e.getY())/(a+1);return new ra(e.getX()+i,e.getY()+s)},r.moveAway=function(e,n,a){var i=e.getX(),s=e.getY();return i<n?i-=1:i+=1,s<a?s-=1:s+=1,new ra(i,s)},r.prototype.detectSolid1=function(e){var n=e[0],a=e[1],i=e[3],s=e[2],c=this.transitionsBetween(n,a),l=this.transitionsBetween(a,i),u=this.transitionsBetween(i,s),o=this.transitionsBetween(s,n),h=c,d=[s,n,a,i];return h>l&&(h=l,d[0]=n,d[1]=a,d[2]=i,d[3]=s),h>u&&(h=u,d[0]=a,d[1]=i,d[2]=s,d[3]=n),h>o&&(d[0]=i,d[1]=s,d[2]=n,d[3]=a),d},r.prototype.detectSolid2=function(e){var n=e[0],a=e[1],i=e[2],s=e[3],c=this.transitionsBetween(n,s),l=r.shiftPoint(a,i,(c+1)*4),u=r.shiftPoint(i,a,(c+1)*4),o=this.transitionsBetween(l,n),h=this.transitionsBetween(u,s);return o<h?(e[0]=n,e[1]=a,e[2]=i,e[3]=s):(e[0]=a,e[1]=i,e[2]=s,e[3]=n),e},r.prototype.correctTopRight=function(e){var n=e[0],a=e[1],i=e[2],s=e[3],c=this.transitionsBetween(n,s),l=this.transitionsBetween(a,s),u=r.shiftPoint(n,a,(l+1)*4),o=r.shiftPoint(i,a,(c+1)*4);c=this.transitionsBetween(u,s),l=this.transitionsBetween(o,s);var h=new ra(s.getX()+(i.getX()-a.getX())/(c+1),s.getY()+(i.getY()-a.getY())/(c+1)),d=new ra(s.getX()+(n.getX()-a.getX())/(l+1),s.getY()+(n.getY()-a.getY())/(l+1));if(!this.isValid(h))return this.isValid(d)?d:null;if(!this.isValid(d))return h;var A=this.transitionsBetween(u,h)+this.transitionsBetween(o,h),f=this.transitionsBetween(u,d)+this.transitionsBetween(o,d);return A>f?h:d},r.prototype.shiftToModuleCenter=function(e){var n=e[0],a=e[1],i=e[2],s=e[3],c=this.transitionsBetween(n,s)+1,l=this.transitionsBetween(i,s)+1,u=r.shiftPoint(n,a,l*4),o=r.shiftPoint(i,a,c*4);c=this.transitionsBetween(u,s)+1,l=this.transitionsBetween(o,s)+1,(c&1)===1&&(c+=1),(l&1)===1&&(l+=1);var h=(n.getX()+a.getX()+i.getX()+s.getX())/4,d=(n.getY()+a.getY()+i.getY()+s.getY())/4;n=r.moveAway(n,h,d),a=r.moveAway(a,h,d),i=r.moveAway(i,h,d),s=r.moveAway(s,h,d);var A,f;return u=r.shiftPoint(n,a,l*4),u=r.shiftPoint(u,s,c*4),A=r.shiftPoint(a,n,l*4),A=r.shiftPoint(A,i,c*4),o=r.shiftPoint(i,s,l*4),o=r.shiftPoint(o,a,c*4),f=r.shiftPoint(s,i,l*4),f=r.shiftPoint(f,n,c*4),[u,A,o,f]},r.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},r.sampleGrid=function(e,n,a,i,s,c,l){var u=lS.getInstance();return u.sampleGrid(e,c,l,.5,.5,c-.5,.5,c-.5,l-.5,.5,l-.5,n.getX(),n.getY(),s.getX(),s.getY(),i.getX(),i.getY(),a.getX(),a.getY())},r.prototype.transitionsBetween=function(e,n){var a=Math.trunc(e.getX()),i=Math.trunc(e.getY()),s=Math.trunc(n.getX()),c=Math.trunc(n.getY()),l=Math.abs(c-i)>Math.abs(s-a);if(l){var u=a;a=i,i=u,u=s,s=c,c=u}for(var o=Math.abs(s-a),h=Math.abs(c-i),d=-o/2,A=i<c?1:-1,f=a<s?1:-1,g=0,m=this.image.get(l?i:a,l?a:i),x=a,y=i;x!==s;x+=f){var b=this.image.get(l?y:x,l?x:y);if(b!==m&&(g++,m=b),d+=h,d>0){if(y===c)break;y+=A,d-=o}}return g},r})(),xx=(function(){function r(){this.decoder=new ise}return r.prototype.decode=function(e,n){n===void 0&&(n=null);var a,i;if(n!=null&&n.has(lo.PURE_BARCODE)){var s=r.extractPureBits(e.getBlackMatrix());a=this.decoder.decode(s),i=r.NO_POINTS}else{var c=new sse(e.getBlackMatrix()).detect();a=this.decoder.decode(c.getBits()),i=c.getPoints()}var l=a.getRawBytes(),u=new nu(a.getText(),l,8*l.length,i,Ba.DATA_MATRIX,oo.currentTimeMillis()),o=a.getByteSegments();o!=null&&u.putMetadata(Hc.BYTE_SEGMENTS,o);var h=a.getECLevel();return h!=null&&u.putMetadata(Hc.ERROR_CORRECTION_LEVEL,h),u},r.prototype.reset=function(){},r.extractPureBits=function(e){var n=e.getTopLeftOnBit(),a=e.getBottomRightOnBit();if(n==null||a==null)throw new Tr;var i=this.moduleSize(n,e),s=n[1],c=a[1],l=n[0],u=a[0],o=(u-l+1)/i,h=(c-s+1)/i;if(o<=0||h<=0)throw new Tr;var d=i/2;s+=d,l+=d;for(var A=new Mh(o,h),f=0;f<h;f++)for(var g=s+f*i,m=0;m<o;m++)e.get(l+m*i,g)&&A.set(m,f);return A},r.moduleSize=function(e,n){for(var a=n.getWidth(),i=e[0],s=e[1];i<a&&n.get(i,s);)i++;if(i===a)throw new Tr;var c=i-e[0];if(c===0)throw new Tr;return c},r.NO_POINTS=[],r})(),ose=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){ose(e,r);function e(n){return n===void 0&&(n=500),r.call(this,new xx,n)||this}return e})(Um);var Yp;(function(r){r[r.L=0]="L",r[r.M=1]="M",r[r.Q=2]="Q",r[r.H=3]="H"})(Yp||(Yp={}));var lse=(function(){function r(e,n,a){this.value=e,this.stringValue=n,this.bits=a,r.FOR_BITS.set(a,this),r.FOR_VALUE.set(e,this)}return r.prototype.getValue=function(){return this.value},r.prototype.getBits=function(){return this.bits},r.fromString=function(e){switch(e){case"L":return r.L;case"M":return r.M;case"Q":return r.Q;case"H":return r.H;default:throw new fl(e+"not available")}},r.prototype.toString=function(){return this.stringValue},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var n=e;return this.value===n.value},r.forBits=function(e){if(e<0||e>=r.FOR_BITS.size)throw new Ia;return r.FOR_BITS.get(e)},r.FOR_BITS=new Map,r.FOR_VALUE=new Map,r.L=new r(Yp.L,"L",1),r.M=new r(Yp.M,"M",0),r.Q=new r(Yp.Q,"Q",3),r.H=new r(Yp.H,"H",2),r})(),cse=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nD=(function(){function r(e){this.errorCorrectionLevel=lse.forBits(e>>3&3),this.dataMask=e&7}return r.numBitsDiffering=function(e,n){return Bi.bitCount(e^n)},r.decodeFormatInformation=function(e,n){var a=r.doDecodeFormatInformation(e,n);return a!==null?a:r.doDecodeFormatInformation(e^r.FORMAT_INFO_MASK_QR,n^r.FORMAT_INFO_MASK_QR)},r.doDecodeFormatInformation=function(e,n){var a,i,s=Number.MAX_SAFE_INTEGER,c=0;try{for(var l=cse(r.FORMAT_INFO_DECODE_LOOKUP),u=l.next();!u.done;u=l.next()){var o=u.value,h=o[0];if(h===e||h===n)return new r(o[1]);var d=r.numBitsDiffering(e,h);d<s&&(c=o[1],s=d),e!==n&&(d=r.numBitsDiffering(n,h),d<s&&(c=o[1],s=d))}}catch(A){a={error:A}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(a)throw a.error}}return s<=3?new r(c):null},r.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},r.prototype.getDataMask=function(){return this.dataMask},r.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var n=e;return this.errorCorrectionLevel===n.errorCorrectionLevel&&this.dataMask===n.dataMask},r.FORMAT_INFO_MASK_QR=21522,r.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],r})(),use=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ar=(function(){function r(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];this.ecCodewordsPerBlock=e,this.ecBlocks=n}return r.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},r.prototype.getNumBlocks=function(){var e,n,a=0,i=this.ecBlocks;try{for(var s=use(i),c=s.next();!c.done;c=s.next()){var l=c.value;a+=l.getCount()}}catch(u){e={error:u}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return a},r.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},r.prototype.getECBlocks=function(){return this.ecBlocks},r})(),pt=(function(){function r(e,n){this.count=e,this.dataCodewords=n}return r.prototype.getCount=function(){return this.count},r.prototype.getDataCodewords=function(){return this.dataCodewords},r})(),dse=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},sp=(function(){function r(e,n){for(var a,i,s=[],c=2;c<arguments.length;c++)s[c-2]=arguments[c];this.versionNumber=e,this.alignmentPatternCenters=n,this.ecBlocks=s;var l=0,u=s[0].getECCodewordsPerBlock(),o=s[0].getECBlocks();try{for(var h=dse(o),d=h.next();!d.done;d=h.next()){var A=d.value;l+=A.getCount()*(A.getDataCodewords()+u)}}catch(f){a={error:f}}finally{try{d&&!d.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}this.totalCodewords=l}return r.prototype.getVersionNumber=function(){return this.versionNumber},r.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},r.prototype.getTotalCodewords=function(){return this.totalCodewords},r.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},r.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},r.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new gn;try{return this.getVersionForNumber((e-17)/4)}catch{throw new gn}},r.getVersionForNumber=function(e){if(e<1||e>40)throw new Ia;return r.VERSIONS[e-1]},r.decodeVersionInformation=function(e){for(var n=Number.MAX_SAFE_INTEGER,a=0,i=0;i<r.VERSION_DECODE_INFO.length;i++){var s=r.VERSION_DECODE_INFO[i];if(s===e)return r.getVersionForNumber(i+7);var c=nD.numBitsDiffering(e,s);c<n&&(a=i+7,n=c)}return n<=3?r.getVersionForNumber(a):null},r.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),n=new Mh(e);n.setRegion(0,0,9,9),n.setRegion(e-8,0,8,9),n.setRegion(0,e-8,9,8);for(var a=this.alignmentPatternCenters.length,i=0;i<a;i++)for(var s=this.alignmentPatternCenters[i]-2,c=0;c<a;c++)i===0&&(c===0||c===a-1)||i===a-1&&c===0||n.setRegion(this.alignmentPatternCenters[c]-2,s,5,5);return n.setRegion(6,9,1,e-17),n.setRegion(9,6,e-17,1),this.versionNumber>6&&(n.setRegion(e-11,0,3,6),n.setRegion(0,e-11,6,3)),n},r.prototype.toString=function(){return""+this.versionNumber},r.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),r.VERSIONS=[new r(1,new Int32Array(0),new Ar(7,new pt(1,19)),new Ar(10,new pt(1,16)),new Ar(13,new pt(1,13)),new Ar(17,new pt(1,9))),new r(2,Int32Array.from([6,18]),new Ar(10,new pt(1,34)),new Ar(16,new pt(1,28)),new Ar(22,new pt(1,22)),new Ar(28,new pt(1,16))),new r(3,Int32Array.from([6,22]),new Ar(15,new pt(1,55)),new Ar(26,new pt(1,44)),new Ar(18,new pt(2,17)),new Ar(22,new pt(2,13))),new r(4,Int32Array.from([6,26]),new Ar(20,new pt(1,80)),new Ar(18,new pt(2,32)),new Ar(26,new pt(2,24)),new Ar(16,new pt(4,9))),new r(5,Int32Array.from([6,30]),new Ar(26,new pt(1,108)),new Ar(24,new pt(2,43)),new Ar(18,new pt(2,15),new pt(2,16)),new Ar(22,new pt(2,11),new pt(2,12))),new r(6,Int32Array.from([6,34]),new Ar(18,new pt(2,68)),new Ar(16,new pt(4,27)),new Ar(24,new pt(4,19)),new Ar(28,new pt(4,15))),new r(7,Int32Array.from([6,22,38]),new Ar(20,new pt(2,78)),new Ar(18,new pt(4,31)),new Ar(18,new pt(2,14),new pt(4,15)),new Ar(26,new pt(4,13),new pt(1,14))),new r(8,Int32Array.from([6,24,42]),new Ar(24,new pt(2,97)),new Ar(22,new pt(2,38),new pt(2,39)),new Ar(22,new pt(4,18),new pt(2,19)),new Ar(26,new pt(4,14),new pt(2,15))),new r(9,Int32Array.from([6,26,46]),new Ar(30,new pt(2,116)),new Ar(22,new pt(3,36),new pt(2,37)),new Ar(20,new pt(4,16),new pt(4,17)),new Ar(24,new pt(4,12),new pt(4,13))),new r(10,Int32Array.from([6,28,50]),new Ar(18,new pt(2,68),new pt(2,69)),new Ar(26,new pt(4,43),new pt(1,44)),new Ar(24,new pt(6,19),new pt(2,20)),new Ar(28,new pt(6,15),new pt(2,16))),new r(11,Int32Array.from([6,30,54]),new Ar(20,new pt(4,81)),new Ar(30,new pt(1,50),new pt(4,51)),new Ar(28,new pt(4,22),new pt(4,23)),new Ar(24,new pt(3,12),new pt(8,13))),new r(12,Int32Array.from([6,32,58]),new Ar(24,new pt(2,92),new pt(2,93)),new Ar(22,new pt(6,36),new pt(2,37)),new Ar(26,new pt(4,20),new pt(6,21)),new Ar(28,new pt(7,14),new pt(4,15))),new r(13,Int32Array.from([6,34,62]),new Ar(26,new pt(4,107)),new Ar(22,new pt(8,37),new pt(1,38)),new Ar(24,new pt(8,20),new pt(4,21)),new Ar(22,new pt(12,11),new pt(4,12))),new r(14,Int32Array.from([6,26,46,66]),new Ar(30,new pt(3,115),new pt(1,116)),new Ar(24,new pt(4,40),new pt(5,41)),new Ar(20,new pt(11,16),new pt(5,17)),new Ar(24,new pt(11,12),new pt(5,13))),new r(15,Int32Array.from([6,26,48,70]),new Ar(22,new pt(5,87),new pt(1,88)),new Ar(24,new pt(5,41),new pt(5,42)),new Ar(30,new pt(5,24),new pt(7,25)),new Ar(24,new pt(11,12),new pt(7,13))),new r(16,Int32Array.from([6,26,50,74]),new Ar(24,new pt(5,98),new pt(1,99)),new Ar(28,new pt(7,45),new pt(3,46)),new Ar(24,new pt(15,19),new pt(2,20)),new Ar(30,new pt(3,15),new pt(13,16))),new r(17,Int32Array.from([6,30,54,78]),new Ar(28,new pt(1,107),new pt(5,108)),new Ar(28,new pt(10,46),new pt(1,47)),new Ar(28,new pt(1,22),new pt(15,23)),new Ar(28,new pt(2,14),new pt(17,15))),new r(18,Int32Array.from([6,30,56,82]),new Ar(30,new pt(5,120),new pt(1,121)),new Ar(26,new pt(9,43),new pt(4,44)),new Ar(28,new pt(17,22),new pt(1,23)),new Ar(28,new pt(2,14),new pt(19,15))),new r(19,Int32Array.from([6,30,58,86]),new Ar(28,new pt(3,113),new pt(4,114)),new Ar(26,new pt(3,44),new pt(11,45)),new Ar(26,new pt(17,21),new pt(4,22)),new Ar(26,new pt(9,13),new pt(16,14))),new r(20,Int32Array.from([6,34,62,90]),new Ar(28,new pt(3,107),new pt(5,108)),new Ar(26,new pt(3,41),new pt(13,42)),new Ar(30,new pt(15,24),new pt(5,25)),new Ar(28,new pt(15,15),new pt(10,16))),new r(21,Int32Array.from([6,28,50,72,94]),new Ar(28,new pt(4,116),new pt(4,117)),new Ar(26,new pt(17,42)),new Ar(28,new pt(17,22),new pt(6,23)),new Ar(30,new pt(19,16),new pt(6,17))),new r(22,Int32Array.from([6,26,50,74,98]),new Ar(28,new pt(2,111),new pt(7,112)),new Ar(28,new pt(17,46)),new Ar(30,new pt(7,24),new pt(16,25)),new Ar(24,new pt(34,13))),new r(23,Int32Array.from([6,30,54,78,102]),new Ar(30,new pt(4,121),new pt(5,122)),new Ar(28,new pt(4,47),new pt(14,48)),new Ar(30,new pt(11,24),new pt(14,25)),new Ar(30,new pt(16,15),new pt(14,16))),new r(24,Int32Array.from([6,28,54,80,106]),new Ar(30,new pt(6,117),new pt(4,118)),new Ar(28,new pt(6,45),new pt(14,46)),new Ar(30,new pt(11,24),new pt(16,25)),new Ar(30,new pt(30,16),new pt(2,17))),new r(25,Int32Array.from([6,32,58,84,110]),new Ar(26,new pt(8,106),new pt(4,107)),new Ar(28,new pt(8,47),new pt(13,48)),new Ar(30,new pt(7,24),new pt(22,25)),new Ar(30,new pt(22,15),new pt(13,16))),new r(26,Int32Array.from([6,30,58,86,114]),new Ar(28,new pt(10,114),new pt(2,115)),new Ar(28,new pt(19,46),new pt(4,47)),new Ar(28,new pt(28,22),new pt(6,23)),new Ar(30,new pt(33,16),new pt(4,17))),new r(27,Int32Array.from([6,34,62,90,118]),new Ar(30,new pt(8,122),new pt(4,123)),new Ar(28,new pt(22,45),new pt(3,46)),new Ar(30,new pt(8,23),new pt(26,24)),new Ar(30,new pt(12,15),new pt(28,16))),new r(28,Int32Array.from([6,26,50,74,98,122]),new Ar(30,new pt(3,117),new pt(10,118)),new Ar(28,new pt(3,45),new pt(23,46)),new Ar(30,new pt(4,24),new pt(31,25)),new Ar(30,new pt(11,15),new pt(31,16))),new r(29,Int32Array.from([6,30,54,78,102,126]),new Ar(30,new pt(7,116),new pt(7,117)),new Ar(28,new pt(21,45),new pt(7,46)),new Ar(30,new pt(1,23),new pt(37,24)),new Ar(30,new pt(19,15),new pt(26,16))),new r(30,Int32Array.from([6,26,52,78,104,130]),new Ar(30,new pt(5,115),new pt(10,116)),new Ar(28,new pt(19,47),new pt(10,48)),new Ar(30,new pt(15,24),new pt(25,25)),new Ar(30,new pt(23,15),new pt(25,16))),new r(31,Int32Array.from([6,30,56,82,108,134]),new Ar(30,new pt(13,115),new pt(3,116)),new Ar(28,new pt(2,46),new pt(29,47)),new Ar(30,new pt(42,24),new pt(1,25)),new Ar(30,new pt(23,15),new pt(28,16))),new r(32,Int32Array.from([6,34,60,86,112,138]),new Ar(30,new pt(17,115)),new Ar(28,new pt(10,46),new pt(23,47)),new Ar(30,new pt(10,24),new pt(35,25)),new Ar(30,new pt(19,15),new pt(35,16))),new r(33,Int32Array.from([6,30,58,86,114,142]),new Ar(30,new pt(17,115),new pt(1,116)),new Ar(28,new pt(14,46),new pt(21,47)),new Ar(30,new pt(29,24),new pt(19,25)),new Ar(30,new pt(11,15),new pt(46,16))),new r(34,Int32Array.from([6,34,62,90,118,146]),new Ar(30,new pt(13,115),new pt(6,116)),new Ar(28,new pt(14,46),new pt(23,47)),new Ar(30,new pt(44,24),new pt(7,25)),new Ar(30,new pt(59,16),new pt(1,17))),new r(35,Int32Array.from([6,30,54,78,102,126,150]),new Ar(30,new pt(12,121),new pt(7,122)),new Ar(28,new pt(12,47),new pt(26,48)),new Ar(30,new pt(39,24),new pt(14,25)),new Ar(30,new pt(22,15),new pt(41,16))),new r(36,Int32Array.from([6,24,50,76,102,128,154]),new Ar(30,new pt(6,121),new pt(14,122)),new Ar(28,new pt(6,47),new pt(34,48)),new Ar(30,new pt(46,24),new pt(10,25)),new Ar(30,new pt(2,15),new pt(64,16))),new r(37,Int32Array.from([6,28,54,80,106,132,158]),new Ar(30,new pt(17,122),new pt(4,123)),new Ar(28,new pt(29,46),new pt(14,47)),new Ar(30,new pt(49,24),new pt(10,25)),new Ar(30,new pt(24,15),new pt(46,16))),new r(38,Int32Array.from([6,32,58,84,110,136,162]),new Ar(30,new pt(4,122),new pt(18,123)),new Ar(28,new pt(13,46),new pt(32,47)),new Ar(30,new pt(48,24),new pt(14,25)),new Ar(30,new pt(42,15),new pt(32,16))),new r(39,Int32Array.from([6,26,54,82,110,138,166]),new Ar(30,new pt(20,117),new pt(4,118)),new Ar(28,new pt(40,47),new pt(7,48)),new Ar(30,new pt(43,24),new pt(22,25)),new Ar(30,new pt(10,15),new pt(67,16))),new r(40,Int32Array.from([6,30,58,86,114,142,170]),new Ar(30,new pt(19,118),new pt(6,119)),new Ar(28,new pt(18,47),new pt(31,48)),new Ar(30,new pt(34,24),new pt(34,25)),new Ar(30,new pt(20,15),new pt(61,16)))],r})(),xc;(function(r){r[r.DATA_MASK_000=0]="DATA_MASK_000",r[r.DATA_MASK_001=1]="DATA_MASK_001",r[r.DATA_MASK_010=2]="DATA_MASK_010",r[r.DATA_MASK_011=3]="DATA_MASK_011",r[r.DATA_MASK_100=4]="DATA_MASK_100",r[r.DATA_MASK_101=5]="DATA_MASK_101",r[r.DATA_MASK_110=6]="DATA_MASK_110",r[r.DATA_MASK_111=7]="DATA_MASK_111"})(xc||(xc={}));var k_=(function(){function r(e,n){this.value=e,this.isMasked=n}return r.prototype.unmaskBitMatrix=function(e,n){for(var a=0;a<n;a++)for(var i=0;i<n;i++)this.isMasked(a,i)&&e.flip(i,a)},r.values=new Map([[xc.DATA_MASK_000,new r(xc.DATA_MASK_000,function(e,n){return(e+n&1)===0})],[xc.DATA_MASK_001,new r(xc.DATA_MASK_001,function(e,n){return(e&1)===0})],[xc.DATA_MASK_010,new r(xc.DATA_MASK_010,function(e,n){return n%3===0})],[xc.DATA_MASK_011,new r(xc.DATA_MASK_011,function(e,n){return(e+n)%3===0})],[xc.DATA_MASK_100,new r(xc.DATA_MASK_100,function(e,n){return(Math.floor(e/2)+Math.floor(n/3)&1)===0})],[xc.DATA_MASK_101,new r(xc.DATA_MASK_101,function(e,n){return e*n%6===0})],[xc.DATA_MASK_110,new r(xc.DATA_MASK_110,function(e,n){return e*n%6<3})],[xc.DATA_MASK_111,new r(xc.DATA_MASK_111,function(e,n){return(e+n+e*n%3&1)===0})]]),r})(),hse=(function(){function r(e){var n=e.getHeight();if(n<21||(n&3)!==1)throw new gn;this.bitMatrix=e}return r.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,n=0;n<6;n++)e=this.copyBit(n,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var a=5;a>=0;a--)e=this.copyBit(8,a,e);for(var i=this.bitMatrix.getHeight(),s=0,c=i-7,a=i-1;a>=c;a--)s=this.copyBit(8,a,s);for(var n=i-8;n<i;n++)s=this.copyBit(n,8,s);if(this.parsedFormatInfo=nD.decodeFormatInformation(e,s),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new gn},r.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),n=Math.floor((e-17)/4);if(n<=6)return sp.getVersionForNumber(n);for(var a=0,i=e-11,s=5;s>=0;s--)for(var c=e-9;c>=i;c--)a=this.copyBit(c,s,a);var l=sp.decodeVersionInformation(a);if(l!==null&&l.getDimensionForVersion()===e)return this.parsedVersion=l,l;a=0;for(var c=5;c>=0;c--)for(var s=e-9;s>=i;s--)a=this.copyBit(c,s,a);if(l=sp.decodeVersionInformation(a),l!==null&&l.getDimensionForVersion()===e)return this.parsedVersion=l,l;throw new gn},r.prototype.copyBit=function(e,n,a){var i=this.isMirror?this.bitMatrix.get(n,e):this.bitMatrix.get(e,n);return i?a<<1|1:a<<1},r.prototype.readCodewords=function(){var e=this.readFormatInformation(),n=this.readVersion(),a=k_.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,i);for(var s=n.buildFunctionPattern(),c=!0,l=new Uint8Array(n.getTotalCodewords()),u=0,o=0,h=0,d=i-1;d>0;d-=2){d===6&&d--;for(var A=0;A<i;A++)for(var f=c?i-1-A:A,g=0;g<2;g++)s.get(d-g,f)||(h++,o<<=1,this.bitMatrix.get(d-g,f)&&(o|=1),h===8&&(l[u++]=o,h=0,o=0));c=!c}if(u!==n.getTotalCodewords())throw new gn;return l},r.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=k_.values.get(this.parsedFormatInfo.getDataMask()),n=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,n)}},r.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},r.prototype.mirror=function(){for(var e=this.bitMatrix,n=0,a=e.getWidth();n<a;n++)for(var i=n+1,s=e.getHeight();i<s;i++)e.get(n,i)!==e.get(i,n)&&(e.flip(i,n),e.flip(n,i))},r})(),P_=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ase=(function(){function r(e,n){this.numDataCodewords=e,this.codewords=n}return r.getDataBlocks=function(e,n,a){var i,s,c,l;if(e.length!==n.getTotalCodewords())throw new Ia;var u=n.getECBlocksForLevel(a),o=0,h=u.getECBlocks();try{for(var d=P_(h),A=d.next();!A.done;A=d.next()){var f=A.value;o+=f.getCount()}}catch(P){i={error:P}}finally{try{A&&!A.done&&(s=d.return)&&s.call(d)}finally{if(i)throw i.error}}var g=new Array(o),m=0;try{for(var x=P_(h),y=x.next();!y.done;y=x.next())for(var f=y.value,b=0;b<f.getCount();b++){var w=f.getDataCodewords(),S=u.getECCodewordsPerBlock()+w;g[m++]=new r(w,new Uint8Array(S))}}catch(P){c={error:P}}finally{try{y&&!y.done&&(l=x.return)&&l.call(x)}finally{if(c)throw c.error}}for(var N=g[0].codewords.length,C=g.length-1;C>=0;){var O=g[C].codewords.length;if(O===N)break;C--}C++;for(var W=N-u.getECCodewordsPerBlock(),K=0,b=0;b<W;b++)for(var te=0;te<m;te++)g[te].codewords[b]=e[K++];for(var te=C;te<m;te++)g[te].codewords[W]=e[K++];for(var q=g[0].codewords.length,b=W;b<q;b++)for(var te=0;te<m;te++){var Y=te<C?b:b+1;g[te].codewords[Y]=e[K++]}return g},r.prototype.getNumDataCodewords=function(){return this.numDataCodewords},r.prototype.getCodewords=function(){return this.codewords},r})(),Ud;(function(r){r[r.TERMINATOR=0]="TERMINATOR",r[r.NUMERIC=1]="NUMERIC",r[r.ALPHANUMERIC=2]="ALPHANUMERIC",r[r.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",r[r.BYTE=4]="BYTE",r[r.ECI=5]="ECI",r[r.KANJI=6]="KANJI",r[r.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",r[r.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",r[r.HANZI=9]="HANZI"})(Ud||(Ud={}));var vo=(function(){function r(e,n,a,i){this.value=e,this.stringValue=n,this.characterCountBitsForVersions=a,this.bits=i,r.FOR_BITS.set(i,this),r.FOR_VALUE.set(e,this)}return r.forBits=function(e){var n=r.FOR_BITS.get(e);if(n===void 0)throw new Ia;return n},r.prototype.getCharacterCountBits=function(e){var n=e.getVersionNumber(),a;return n<=9?a=0:n<=26?a=1:a=2,this.characterCountBitsForVersions[a]},r.prototype.getValue=function(){return this.value},r.prototype.getBits=function(){return this.bits},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var n=e;return this.value===n.value},r.prototype.toString=function(){return this.stringValue},r.FOR_BITS=new Map,r.FOR_VALUE=new Map,r.TERMINATOR=new r(Ud.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),r.NUMERIC=new r(Ud.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),r.ALPHANUMERIC=new r(Ud.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),r.STRUCTURED_APPEND=new r(Ud.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),r.BYTE=new r(Ud.BYTE,"BYTE",Int32Array.from([8,16,16]),4),r.ECI=new r(Ud.ECI,"ECI",Int32Array.from([0,0,0]),7),r.KANJI=new r(Ud.KANJI,"KANJI",Int32Array.from([8,10,12]),8),r.FNC1_FIRST_POSITION=new r(Ud.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),r.FNC1_SECOND_POSITION=new r(Ud.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),r.HANZI=new r(Ud.HANZI,"HANZI",Int32Array.from([8,10,12]),13),r})(),fse=(function(){function r(){}return r.decode=function(e,n,a,i){var s=new rD(e),c=new Ci,l=new Array,u=-1,o=-1;try{var h=null,d=!1,A=void 0;do{if(s.available()<4)A=vo.TERMINATOR;else{var f=s.readBits(4);A=vo.forBits(f)}switch(A){case vo.TERMINATOR:break;case vo.FNC1_FIRST_POSITION:case vo.FNC1_SECOND_POSITION:d=!0;break;case vo.STRUCTURED_APPEND:if(s.available()<16)throw new gn;u=s.readBits(8),o=s.readBits(8);break;case vo.ECI:var g=r.parseECIValue(s);if(h=Gl.getCharacterSetECIByValue(g),h===null)throw new gn;break;case vo.HANZI:var m=s.readBits(4),x=s.readBits(A.getCharacterCountBits(n));m===r.GB2312_SUBSET&&r.decodeHanziSegment(s,c,x);break;default:var y=s.readBits(A.getCharacterCountBits(n));switch(A){case vo.NUMERIC:r.decodeNumericSegment(s,c,y);break;case vo.ALPHANUMERIC:r.decodeAlphanumericSegment(s,c,y,d);break;case vo.BYTE:r.decodeByteSegment(s,c,y,h,l,i);break;case vo.KANJI:r.decodeKanjiSegment(s,c,y);break;default:throw new gn}break}}while(A!==vo.TERMINATOR)}catch{throw new gn}return new Ay(e,c.toString(),l.length===0?null:l,a===null?null:a.toString(),u,o)},r.decodeHanziSegment=function(e,n,a){if(a*13>e.available())throw new gn;for(var i=new Uint8Array(2*a),s=0;a>0;){var c=e.readBits(13),l=c/96<<8&4294967295|c%96;l<959?l+=41377:l+=42657,i[s]=l>>8&255,i[s+1]=l&255,s+=2,a--}try{n.append($d.decode(i,Zi.GB2312))}catch(u){throw new gn(u)}},r.decodeKanjiSegment=function(e,n,a){if(a*13>e.available())throw new gn;for(var i=new Uint8Array(2*a),s=0;a>0;){var c=e.readBits(13),l=c/192<<8&4294967295|c%192;l<7936?l+=33088:l+=49472,i[s]=l>>8,i[s+1]=l,s+=2,a--}try{n.append($d.decode(i,Zi.SHIFT_JIS))}catch(u){throw new gn(u)}},r.decodeByteSegment=function(e,n,a,i,s,c){if(8*a>e.available())throw new gn;for(var l=new Uint8Array(a),u=0;u<a;u++)l[u]=e.readBits(8);var o;i===null?o=Zi.guessEncoding(l,c):o=i.getName();try{n.append($d.decode(l,o))}catch(h){throw new gn(h)}s.push(l)},r.toAlphaNumericChar=function(e){if(e>=r.ALPHANUMERIC_CHARS.length)throw new gn;return r.ALPHANUMERIC_CHARS[e]},r.decodeAlphanumericSegment=function(e,n,a,i){for(var s=n.length();a>1;){if(e.available()<11)throw new gn;var c=e.readBits(11);n.append(r.toAlphaNumericChar(Math.floor(c/45))),n.append(r.toAlphaNumericChar(c%45)),a-=2}if(a===1){if(e.available()<6)throw new gn;n.append(r.toAlphaNumericChar(e.readBits(6)))}if(i)for(var l=s;l<n.length();l++)n.charAt(l)==="%"&&(l<n.length()-1&&n.charAt(l+1)==="%"?n.deleteCharAt(l+1):n.setCharAt(l,""))},r.decodeNumericSegment=function(e,n,a){for(;a>=3;){if(e.available()<10)throw new gn;var i=e.readBits(10);if(i>=1e3)throw new gn;n.append(r.toAlphaNumericChar(Math.floor(i/100))),n.append(r.toAlphaNumericChar(Math.floor(i/10)%10)),n.append(r.toAlphaNumericChar(i%10)),a-=3}if(a===2){if(e.available()<7)throw new gn;var s=e.readBits(7);if(s>=100)throw new gn;n.append(r.toAlphaNumericChar(Math.floor(s/10))),n.append(r.toAlphaNumericChar(s%10))}else if(a===1){if(e.available()<4)throw new gn;var c=e.readBits(4);if(c>=10)throw new gn;n.append(r.toAlphaNumericChar(c))}},r.parseECIValue=function(e){var n=e.readBits(8);if((n&128)===0)return n&127;if((n&192)===128){var a=e.readBits(8);return(n&63)<<8&4294967295|a}if((n&224)===192){var i=e.readBits(16);return(n&31)<<16&4294967295|i}throw new gn},r.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",r.GB2312_SUBSET=1,r})(),aD=(function(){function r(e){this.mirrored=e}return r.prototype.isMirrored=function(){return this.mirrored},r.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var n=e[0];e[0]=e[2],e[2]=n}},r})(),F_=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},pse=(function(){function r(){this.rsDecoder=new fy(Lu.QR_CODE_FIELD_256)}return r.prototype.decodeBooleanArray=function(e,n){return this.decodeBitMatrix(Mh.parseFromBooleanArray(e),n)},r.prototype.decodeBitMatrix=function(e,n){var a=new hse(e),i=null;try{return this.decodeBitMatrixParser(a,n)}catch(c){i=c}try{a.remask(),a.setMirror(!0),a.readVersion(),a.readFormatInformation(),a.mirror();var s=this.decodeBitMatrixParser(a,n);return s.setOther(new aD(!0)),s}catch(c){throw i!==null?i:c}},r.prototype.decodeBitMatrixParser=function(e,n){var a,i,s,c,l=e.readVersion(),u=e.readFormatInformation().getErrorCorrectionLevel(),o=e.readCodewords(),h=Ase.getDataBlocks(o,l,u),d=0;try{for(var A=F_(h),f=A.next();!f.done;f=A.next()){var g=f.value;d+=g.getNumDataCodewords()}}catch(C){a={error:C}}finally{try{f&&!f.done&&(i=A.return)&&i.call(A)}finally{if(a)throw a.error}}var m=new Uint8Array(d),x=0;try{for(var y=F_(h),b=y.next();!b.done;b=y.next()){var g=b.value,w=g.getCodewords(),S=g.getNumDataCodewords();this.correctErrors(w,S);for(var N=0;N<S;N++)m[x++]=w[N]}}catch(C){s={error:C}}finally{try{b&&!b.done&&(c=y.return)&&c.call(y)}finally{if(s)throw s.error}}return fse.decode(m,l,u,n)},r.prototype.correctErrors=function(e,n){var a=new Int32Array(e);try{this.rsDecoder.decode(a,e.length-n)}catch{throw new Sl}for(var i=0;i<n;i++)e[i]=a[i]},r})(),mse=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),gse=(function(r){mse(e,r);function e(n,a,i){var s=r.call(this,n,a)||this;return s.estimatedModuleSize=i,s}return e.prototype.aboutEquals=function(n,a,i){if(Math.abs(a-this.getY())<=n&&Math.abs(i-this.getX())<=n){var s=Math.abs(n-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(n,a,i){var s=(this.getX()+a)/2,c=(this.getY()+n)/2,l=(this.estimatedModuleSize+i)/2;return new e(s,c,l)},e})(ra),vse=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xse=(function(){function r(e,n,a,i,s,c,l){this.image=e,this.startX=n,this.startY=a,this.width=i,this.height=s,this.moduleSize=c,this.resultPointCallback=l,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return r.prototype.find=function(){for(var e=this.startX,n=this.height,a=this.width,i=e+a,s=this.startY+n/2,c=new Int32Array(3),l=this.image,u=0;u<n;u++){var o=s+((u&1)===0?Math.floor((u+1)/2):-Math.floor((u+1)/2));c[0]=0,c[1]=0,c[2]=0;for(var h=e;h<i&&!l.get(h,o);)h++;for(var d=0;h<i;){if(l.get(h,o))if(d===1)c[1]++;else if(d===2){if(this.foundPatternCross(c)){var A=this.handlePossibleCenter(c,o,h);if(A!==null)return A}c[0]=c[2],c[1]=1,c[2]=0,d=1}else c[++d]++;else d===1&&d++,c[d]++;h++}if(this.foundPatternCross(c)){var A=this.handlePossibleCenter(c,o,i);if(A!==null)return A}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Tr},r.centerFromEnd=function(e,n){return n-e[2]-e[1]/2},r.prototype.foundPatternCross=function(e){for(var n=this.moduleSize,a=n/2,i=0;i<3;i++)if(Math.abs(n-e[i])>=a)return!1;return!0},r.prototype.crossCheckVertical=function(e,n,a,i){var s=this.image,c=s.getHeight(),l=this.crossCheckStateCount;l[0]=0,l[1]=0,l[2]=0;for(var u=e;u>=0&&s.get(n,u)&&l[1]<=a;)l[1]++,u--;if(u<0||l[1]>a)return NaN;for(;u>=0&&!s.get(n,u)&&l[0]<=a;)l[0]++,u--;if(l[0]>a)return NaN;for(u=e+1;u<c&&s.get(n,u)&&l[1]<=a;)l[1]++,u++;if(u===c||l[1]>a)return NaN;for(;u<c&&!s.get(n,u)&&l[2]<=a;)l[2]++,u++;if(l[2]>a)return NaN;var o=l[0]+l[1]+l[2];return 5*Math.abs(o-i)>=2*i?NaN:this.foundPatternCross(l)?r.centerFromEnd(l,u):NaN},r.prototype.handlePossibleCenter=function(e,n,a){var i,s,c=e[0]+e[1]+e[2],l=r.centerFromEnd(e,a),u=this.crossCheckVertical(n,l,2*e[1],c);if(!isNaN(u)){var o=(e[0]+e[1]+e[2])/3;try{for(var h=vse(this.possibleCenters),d=h.next();!d.done;d=h.next()){var A=d.value;if(A.aboutEquals(o,u,l))return A.combineEstimate(u,l,o)}}catch(g){i={error:g}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}var f=new gse(l,u,o);this.possibleCenters.push(f),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(f)}return null},r})(),yse=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),bse=(function(r){yse(e,r);function e(n,a,i,s){var c=r.call(this,n,a)||this;return c.estimatedModuleSize=i,c.count=s,s===void 0&&(c.count=1),c}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(n,a,i){if(Math.abs(a-this.getY())<=n&&Math.abs(i-this.getX())<=n){var s=Math.abs(n-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(n,a,i){var s=this.count+1,c=(this.count*this.getX()+a)/s,l=(this.count*this.getY()+n)/s,u=(this.count*this.estimatedModuleSize+i)/s;return new e(c,l,u,s)},e})(ra),wse=(function(){function r(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return r.prototype.getBottomLeft=function(){return this.bottomLeft},r.prototype.getTopLeft=function(){return this.topLeft},r.prototype.getTopRight=function(){return this.topRight},r})(),I0=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jse=(function(){function r(e,n){this.image=e,this.resultPointCallback=n,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=n}return r.prototype.getImage=function(){return this.image},r.prototype.getPossibleCenters=function(){return this.possibleCenters},r.prototype.find=function(e){var n=e!=null&&e.get(lo.TRY_HARDER)!==void 0,a=e!=null&&e.get(lo.PURE_BARCODE)!==void 0,i=this.image,s=i.getHeight(),c=i.getWidth(),l=Math.floor(3*s/(4*r.MAX_MODULES));(l<r.MIN_SKIP||n)&&(l=r.MIN_SKIP);for(var u=!1,o=new Int32Array(5),h=l-1;h<s&&!u;h+=l){o[0]=0,o[1]=0,o[2]=0,o[3]=0,o[4]=0;for(var d=0,A=0;A<c;A++)if(i.get(A,h))(d&1)===1&&d++,o[d]++;else if((d&1)===0)if(d===4)if(r.foundPatternCross(o)){var f=this.handlePossibleCenter(o,h,A,a);if(f===!0)if(l=2,this.hasSkipped===!0)u=this.haveMultiplyConfirmedCenters();else{var g=this.findRowSkip();g>o[2]&&(h+=g-o[2]-l,A=c-1)}else{o[0]=o[2],o[1]=o[3],o[2]=o[4],o[3]=1,o[4]=0,d=3;continue}d=0,o[0]=0,o[1]=0,o[2]=0,o[3]=0,o[4]=0}else o[0]=o[2],o[1]=o[3],o[2]=o[4],o[3]=1,o[4]=0,d=3;else o[++d]++;else o[d]++;if(r.foundPatternCross(o)){var f=this.handlePossibleCenter(o,h,c,a);f===!0&&(l=o[0],this.hasSkipped&&(u=this.haveMultiplyConfirmedCenters()))}}var m=this.selectBestPatterns();return ra.orderBestPatterns(m),new wse(m)},r.centerFromEnd=function(e,n){return n-e[4]-e[3]-e[2]/2},r.foundPatternCross=function(e){for(var n=0,a=0;a<5;a++){var i=e[a];if(i===0)return!1;n+=i}if(n<7)return!1;var s=n/7,c=s/2;return Math.abs(s-e[0])<c&&Math.abs(s-e[1])<c&&Math.abs(3*s-e[2])<3*c&&Math.abs(s-e[3])<c&&Math.abs(s-e[4])<c},r.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},r.prototype.crossCheckDiagonal=function(e,n,a,i){for(var s=this.getCrossCheckStateCount(),c=0,l=this.image;e>=c&&n>=c&&l.get(n-c,e-c);)s[2]++,c++;if(e<c||n<c)return!1;for(;e>=c&&n>=c&&!l.get(n-c,e-c)&&s[1]<=a;)s[1]++,c++;if(e<c||n<c||s[1]>a)return!1;for(;e>=c&&n>=c&&l.get(n-c,e-c)&&s[0]<=a;)s[0]++,c++;if(s[0]>a)return!1;var u=l.getHeight(),o=l.getWidth();for(c=1;e+c<u&&n+c<o&&l.get(n+c,e+c);)s[2]++,c++;if(e+c>=u||n+c>=o)return!1;for(;e+c<u&&n+c<o&&!l.get(n+c,e+c)&&s[3]<a;)s[3]++,c++;if(e+c>=u||n+c>=o||s[3]>=a)return!1;for(;e+c<u&&n+c<o&&l.get(n+c,e+c)&&s[4]<a;)s[4]++,c++;if(s[4]>=a)return!1;var h=s[0]+s[1]+s[2]+s[3]+s[4];return Math.abs(h-i)<2*i&&r.foundPatternCross(s)},r.prototype.crossCheckVertical=function(e,n,a,i){for(var s=this.image,c=s.getHeight(),l=this.getCrossCheckStateCount(),u=e;u>=0&&s.get(n,u);)l[2]++,u--;if(u<0)return NaN;for(;u>=0&&!s.get(n,u)&&l[1]<=a;)l[1]++,u--;if(u<0||l[1]>a)return NaN;for(;u>=0&&s.get(n,u)&&l[0]<=a;)l[0]++,u--;if(l[0]>a)return NaN;for(u=e+1;u<c&&s.get(n,u);)l[2]++,u++;if(u===c)return NaN;for(;u<c&&!s.get(n,u)&&l[3]<a;)l[3]++,u++;if(u===c||l[3]>=a)return NaN;for(;u<c&&s.get(n,u)&&l[4]<a;)l[4]++,u++;if(l[4]>=a)return NaN;var o=l[0]+l[1]+l[2]+l[3]+l[4];return 5*Math.abs(o-i)>=2*i?NaN:r.foundPatternCross(l)?r.centerFromEnd(l,u):NaN},r.prototype.crossCheckHorizontal=function(e,n,a,i){for(var s=this.image,c=s.getWidth(),l=this.getCrossCheckStateCount(),u=e;u>=0&&s.get(u,n);)l[2]++,u--;if(u<0)return NaN;for(;u>=0&&!s.get(u,n)&&l[1]<=a;)l[1]++,u--;if(u<0||l[1]>a)return NaN;for(;u>=0&&s.get(u,n)&&l[0]<=a;)l[0]++,u--;if(l[0]>a)return NaN;for(u=e+1;u<c&&s.get(u,n);)l[2]++,u++;if(u===c)return NaN;for(;u<c&&!s.get(u,n)&&l[3]<a;)l[3]++,u++;if(u===c||l[3]>=a)return NaN;for(;u<c&&s.get(u,n)&&l[4]<a;)l[4]++,u++;if(l[4]>=a)return NaN;var o=l[0]+l[1]+l[2]+l[3]+l[4];return 5*Math.abs(o-i)>=i?NaN:r.foundPatternCross(l)?r.centerFromEnd(l,u):NaN},r.prototype.handlePossibleCenter=function(e,n,a,i){var s=e[0]+e[1]+e[2]+e[3]+e[4],c=r.centerFromEnd(e,a),l=this.crossCheckVertical(n,Math.floor(c),e[2],s);if(!isNaN(l)&&(c=this.crossCheckHorizontal(Math.floor(c),Math.floor(l),e[2],s),!isNaN(c)&&(!i||this.crossCheckDiagonal(Math.floor(l),Math.floor(c),e[2],s)))){for(var u=s/7,o=!1,h=this.possibleCenters,d=0,A=h.length;d<A;d++){var f=h[d];if(f.aboutEquals(u,l,c)){h[d]=f.combineEstimate(l,c,u),o=!0;break}}if(!o){var g=new bse(c,l,u);h.push(g),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(g)}return!0}return!1},r.prototype.findRowSkip=function(){var e,n,a=this.possibleCenters.length;if(a<=1)return 0;var i=null;try{for(var s=I0(this.possibleCenters),c=s.next();!c.done;c=s.next()){var l=c.value;if(l.getCount()>=r.CENTER_QUORUM)if(i==null)i=l;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-l.getX())-Math.abs(i.getY()-l.getY()))/2)}}catch(u){e={error:u}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return 0},r.prototype.haveMultiplyConfirmedCenters=function(){var e,n,a,i,s=0,c=0,l=this.possibleCenters.length;try{for(var u=I0(this.possibleCenters),o=u.next();!o.done;o=u.next()){var h=o.value;h.getCount()>=r.CENTER_QUORUM&&(s++,c+=h.getEstimatedModuleSize())}}catch(m){e={error:m}}finally{try{o&&!o.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}if(s<3)return!1;var d=c/l,A=0;try{for(var f=I0(this.possibleCenters),g=f.next();!g.done;g=f.next()){var h=g.value;A+=Math.abs(h.getEstimatedModuleSize()-d)}}catch(m){a={error:m}}finally{try{g&&!g.done&&(i=f.return)&&i.call(f)}finally{if(a)throw a.error}}return A<=.05*c},r.prototype.selectBestPatterns=function(){var e,n,a,i,s=this.possibleCenters.length;if(s<3)throw new Tr;var c=this.possibleCenters,l;if(s>3){var u=0,o=0;try{for(var h=I0(this.possibleCenters),d=h.next();!d.done;d=h.next()){var A=d.value,f=A.getEstimatedModuleSize();u+=f,o+=f*f}}catch(N){e={error:N}}finally{try{d&&!d.done&&(n=h.return)&&n.call(h)}finally{if(e)throw e.error}}l=u/s;var g=Math.sqrt(o/s-l*l);c.sort(function(N,C){var O=Math.abs(C.getEstimatedModuleSize()-l),W=Math.abs(N.getEstimatedModuleSize()-l);return O<W?-1:O>W?1:0});for(var m=Math.max(.2*l,g),x=0;x<c.length&&c.length>3;x++){var y=c[x];Math.abs(y.getEstimatedModuleSize()-l)>m&&(c.splice(x,1),x--)}}if(c.length>3){var u=0;try{for(var b=I0(c),w=b.next();!w.done;w=b.next()){var S=w.value;u+=S.getEstimatedModuleSize()}}catch(C){a={error:C}}finally{try{w&&!w.done&&(i=b.return)&&i.call(b)}finally{if(a)throw a.error}}l=u/c.length,c.sort(function(C,O){if(O.getCount()===C.getCount()){var W=Math.abs(O.getEstimatedModuleSize()-l),K=Math.abs(C.getEstimatedModuleSize()-l);return W<K?1:W>K?-1:0}else return O.getCount()-C.getCount()}),c.splice(3)}return[c[0],c[1],c[2]]},r.CENTER_QUORUM=2,r.MIN_SKIP=3,r.MAX_MODULES=57,r})(),Cse=(function(){function r(e){this.image=e}return r.prototype.getImage=function(){return this.image},r.prototype.getResultPointCallback=function(){return this.resultPointCallback},r.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(lo.NEED_RESULT_POINT_CALLBACK);var n=new jse(this.image,this.resultPointCallback),a=n.find(e);return this.processFinderPatternInfo(a)},r.prototype.processFinderPatternInfo=function(e){var n=e.getTopLeft(),a=e.getTopRight(),i=e.getBottomLeft(),s=this.calculateModuleSize(n,a,i);if(s<1)throw new Tr("No pattern found in proccess finder.");var c=r.computeDimension(n,a,i,s),l=sp.getProvisionalVersionForDimension(c),u=l.getDimensionForVersion()-7,o=null;if(l.getAlignmentPatternCenters().length>0)for(var h=a.getX()-n.getX()+i.getX(),d=a.getY()-n.getY()+i.getY(),A=1-3/u,f=Math.floor(n.getX()+A*(h-n.getX())),g=Math.floor(n.getY()+A*(d-n.getY())),m=4;m<=16;m<<=1)try{o=this.findAlignmentInRegion(s,f,g,m);break}catch(w){if(!(w instanceof Tr))throw w}var x=r.createTransform(n,a,i,o,c),y=r.sampleGrid(this.image,x,c),b;return o===null?b=[i,n,a]:b=[i,n,a,o],new oS(y,b)},r.createTransform=function(e,n,a,i,s){var c=s-3.5,l,u,o,h;return i!==null?(l=i.getX(),u=i.getY(),o=c-3,h=o):(l=n.getX()-e.getX()+a.getX(),u=n.getY()-e.getY()+a.getY(),o=c,h=c),ZF.quadrilateralToQuadrilateral(3.5,3.5,c,3.5,o,h,3.5,c,e.getX(),e.getY(),n.getX(),n.getY(),l,u,a.getX(),a.getY())},r.sampleGrid=function(e,n,a){var i=lS.getInstance();return i.sampleGridWithTransform(e,a,a,n)},r.computeDimension=function(e,n,a,i){var s=os.round(ra.distance(e,n)/i),c=os.round(ra.distance(e,a)/i),l=Math.floor((s+c)/2)+7;switch(l&3){case 0:l++;break;case 2:l--;break;case 3:throw new Tr("Dimensions could be not found.")}return l},r.prototype.calculateModuleSize=function(e,n,a){return(this.calculateModuleSizeOneWay(e,n)+this.calculateModuleSizeOneWay(e,a))/2},r.prototype.calculateModuleSizeOneWay=function(e,n){var a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(n.getX()),Math.floor(n.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(a)?i/7:isNaN(i)?a/7:(a+i)/14},r.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,n,a,i){var s=this.sizeOfBlackWhiteBlackRun(e,n,a,i),c=1,l=e-(a-e);l<0?(c=e/(e-l),l=0):l>=this.image.getWidth()&&(c=(this.image.getWidth()-1-e)/(l-e),l=this.image.getWidth()-1);var u=Math.floor(n-(i-n)*c);return c=1,u<0?(c=n/(n-u),u=0):u>=this.image.getHeight()&&(c=(this.image.getHeight()-1-n)/(u-n),u=this.image.getHeight()-1),l=Math.floor(e+(l-e)*c),s+=this.sizeOfBlackWhiteBlackRun(e,n,l,u),s-1},r.prototype.sizeOfBlackWhiteBlackRun=function(e,n,a,i){var s=Math.abs(i-n)>Math.abs(a-e);if(s){var c=e;e=n,n=c,c=a,a=i,i=c}for(var l=Math.abs(a-e),u=Math.abs(i-n),o=-l/2,h=e<a?1:-1,d=n<i?1:-1,A=0,f=a+h,g=e,m=n;g!==f;g+=h){var x=s?m:g,y=s?g:m;if(A===1===this.image.get(x,y)){if(A===2)return os.distance(g,m,e,n);A++}if(o+=u,o>0){if(m===i)break;m+=d,o-=l}}return A===2?os.distance(a+h,i,e,n):NaN},r.prototype.findAlignmentInRegion=function(e,n,a,i){var s=Math.floor(i*e),c=Math.max(0,n-s),l=Math.min(this.image.getWidth()-1,n+s);if(l-c<e*3)throw new Tr("Alignment top exceeds estimated module size.");var u=Math.max(0,a-s),o=Math.min(this.image.getHeight()-1,a+s);if(o-u<e*3)throw new Tr("Alignment bottom exceeds estimated module size.");var h=new xse(this.image,c,u,l-c,o-u,e,this.resultPointCallback);return h.find()},r})(),yx=(function(){function r(){this.decoder=new pse}return r.prototype.getDecoder=function(){return this.decoder},r.prototype.decode=function(e,n){var a,i;if(n!=null&&n.get(lo.PURE_BARCODE)!==void 0){var s=r.extractPureBits(e.getBlackMatrix());a=this.decoder.decodeBitMatrix(s,n),i=r.NO_POINTS}else{var c=new Cse(e.getBlackMatrix()).detect(n);a=this.decoder.decodeBitMatrix(c.getBits(),n),i=c.getPoints()}a.getOther()instanceof aD&&a.getOther().applyMirroredCorrection(i);var l=new nu(a.getText(),a.getRawBytes(),void 0,i,Ba.QR_CODE,void 0),u=a.getByteSegments();u!==null&&l.putMetadata(Hc.BYTE_SEGMENTS,u);var o=a.getECLevel();return o!==null&&l.putMetadata(Hc.ERROR_CORRECTION_LEVEL,o),a.hasStructuredAppend()&&(l.putMetadata(Hc.STRUCTURED_APPEND_SEQUENCE,a.getStructuredAppendSequenceNumber()),l.putMetadata(Hc.STRUCTURED_APPEND_PARITY,a.getStructuredAppendParity())),l},r.prototype.reset=function(){},r.extractPureBits=function(e){var n=e.getTopLeftOnBit(),a=e.getBottomRightOnBit();if(n===null||a===null)throw new Tr;var i=this.moduleSize(n,e),s=n[1],c=a[1],l=n[0],u=a[0];if(l>=u||s>=c)throw new Tr;if(c-s!==u-l&&(u=l+(c-s),u>=e.getWidth()))throw new Tr;var o=Math.round((u-l+1)/i),h=Math.round((c-s+1)/i);if(o<=0||h<=0)throw new Tr;if(h!==o)throw new Tr;var d=Math.floor(i/2);s+=d,l+=d;var A=l+Math.floor((o-1)*i)-u;if(A>0){if(A>d)throw new Tr;l-=A}var f=s+Math.floor((h-1)*i)-c;if(f>0){if(f>d)throw new Tr;s-=f}for(var g=new Mh(o,h),m=0;m<h;m++)for(var x=s+Math.floor(m*i),y=0;y<o;y++)e.get(l+Math.floor(y*i),x)&&g.set(y,m);return g},r.moduleSize=function(e,n){for(var a=n.getHeight(),i=n.getWidth(),s=e[0],c=e[1],l=!0,u=0;s<i&&c<a;){if(l!==n.get(s,c)){if(++u===5)break;l=!l}s++,c++}if(s===i||c===a)throw new Tr;return(s-e[0])/7},r.NO_POINTS=new Array,r})(),Nse=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},es=(function(){function r(){}return r.prototype.PDF417Common=function(){},r.getBitCountSum=function(e){return os.sum(e)},r.toIntArray=function(e){var n,a;if(e==null||!e.length)return r.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),s=0;try{for(var c=Nse(e),l=c.next();!l.done;l=c.next()){var u=l.value;i[s++]=u}}catch(o){n={error:o}}finally{try{l&&!l.done&&(a=c.return)&&a.call(c)}finally{if(n)throw n.error}}return i},r.getCodeword=function(e){var n=Xl.binarySearch(r.SYMBOL_TABLE,e&262143);return n<0?-1:(r.CODEWORD_TABLE[n]-1)%r.NUMBER_OF_CODEWORDS},r.NUMBER_OF_CODEWORDS=929,r.MAX_CODEWORDS_IN_BARCODE=r.NUMBER_OF_CODEWORDS-1,r.MIN_ROWS_IN_BARCODE=3,r.MAX_ROWS_IN_BARCODE=90,r.MODULES_IN_CODEWORD=17,r.MODULES_IN_STOP_PATTERN=18,r.BARS_IN_MODULE=8,r.EMPTY_INT_ARRAY=new Int32Array([]),r.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),r.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),r})(),Sse=(function(){function r(e,n){this.bits=e,this.points=n}return r.prototype.getBits=function(){return this.bits},r.prototype.getPoints=function(){return this.points},r})(),Ese=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Bse=(function(){function r(){}return r.detectMultiple=function(e,n,a){var i=e.getBlackMatrix(),s=r.detect(a,i);return s.length||(i=i.clone(),i.rotate180(),s=r.detect(a,i)),new Sse(i,s)},r.detect=function(e,n){for(var a,i,s=new Array,c=0,l=0,u=!1;c<n.getHeight();){var o=r.findVertices(n,c,l);if(o[0]==null&&o[3]==null){if(!u)break;u=!1,l=0;try{for(var h=(a=void 0,Ese(s)),d=h.next();!d.done;d=h.next()){var A=d.value;A[1]!=null&&(c=Math.trunc(Math.max(c,A[1].getY()))),A[3]!=null&&(c=Math.max(c,Math.trunc(A[3].getY())))}}catch(f){a={error:f}}finally{try{d&&!d.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}c+=r.ROW_STEP;continue}if(u=!0,s.push(o),!e)break;o[2]!=null?(l=Math.trunc(o[2].getX()),c=Math.trunc(o[2].getY())):(l=Math.trunc(o[4].getX()),c=Math.trunc(o[4].getY()))}return s},r.findVertices=function(e,n,a){var i=e.getHeight(),s=e.getWidth(),c=new Array(8);return r.copyToResult(c,r.findRowsWithPattern(e,i,s,n,a,r.START_PATTERN),r.INDEXES_START_PATTERN),c[4]!=null&&(a=Math.trunc(c[4].getX()),n=Math.trunc(c[4].getY())),r.copyToResult(c,r.findRowsWithPattern(e,i,s,n,a,r.STOP_PATTERN),r.INDEXES_STOP_PATTERN),c},r.copyToResult=function(e,n,a){for(var i=0;i<a.length;i++)e[a[i]]=n[i]},r.findRowsWithPattern=function(e,n,a,i,s,c){for(var l=new Array(4),u=!1,o=new Int32Array(c.length);i<n;i+=r.ROW_STEP){var h=r.findGuardPattern(e,s,i,a,!1,c,o);if(h!=null){for(;i>0;){var d=r.findGuardPattern(e,s,--i,a,!1,c,o);if(d!=null)h=d;else{i++;break}}l[0]=new ra(h[0],i),l[1]=new ra(h[1],i),u=!0;break}}var A=i+1;if(u){for(var f=0,d=Int32Array.from([Math.trunc(l[0].getX()),Math.trunc(l[1].getX())]);A<n;A++){var h=r.findGuardPattern(e,d[0],A,a,!1,c,o);if(h!=null&&Math.abs(d[0]-h[0])<r.MAX_PATTERN_DRIFT&&Math.abs(d[1]-h[1])<r.MAX_PATTERN_DRIFT)d=h,f=0;else{if(f>r.SKIPPED_ROW_COUNT_MAX)break;f++}}A-=f+1,l[2]=new ra(d[0],A),l[3]=new ra(d[1],A)}return A-i<r.BARCODE_MIN_HEIGHT&&Xl.fill(l,null),l},r.findGuardPattern=function(e,n,a,i,s,c,l){Xl.fillWithin(l,0,l.length,0);for(var u=n,o=0;e.get(u,a)&&u>0&&o++<r.MAX_PIXEL_DRIFT;)u--;for(var h=u,d=0,A=c.length,f=s;h<i;h++){var g=e.get(h,a);if(g!==f)l[d]++;else{if(d===A-1){if(r.patternMatchVariance(l,c,r.MAX_INDIVIDUAL_VARIANCE)<r.MAX_AVG_VARIANCE)return new Int32Array([u,h]);u+=l[0]+l[1],oo.arraycopy(l,2,l,0,d-1),l[d-1]=0,l[d]=0,d--}else d++;l[d]=1,f=!f}}return d===A-1&&r.patternMatchVariance(l,c,r.MAX_INDIVIDUAL_VARIANCE)<r.MAX_AVG_VARIANCE?new Int32Array([u,h-1]):null},r.patternMatchVariance=function(e,n,a){for(var i=e.length,s=0,c=0,l=0;l<i;l++)s+=e[l],c+=n[l];if(s<c)return 1/0;var u=s/c;a*=u;for(var o=0,h=0;h<i;h++){var d=e[h],A=n[h]*u,f=d>A?d-A:A-d;if(f>a)return 1/0;o+=f}return o/s},r.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),r.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),r.MAX_AVG_VARIANCE=.42,r.MAX_INDIVIDUAL_VARIANCE=.8,r.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),r.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),r.MAX_PIXEL_DRIFT=3,r.MAX_PATTERN_DRIFT=5,r.SKIPPED_ROW_COUNT_MAX=25,r.ROW_STEP=5,r.BARCODE_MIN_HEIGHT=10,r})(),Ise=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},tp=(function(){function r(e,n){if(n.length===0)throw new Ia;this.field=e;var a=n.length;if(a>1&&n[0]===0){for(var i=1;i<a&&n[i]===0;)i++;i===a?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(a-i),oo.arraycopy(n,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}return r.prototype.getCoefficients=function(){return this.coefficients},r.prototype.getDegree=function(){return this.coefficients.length-1},r.prototype.isZero=function(){return this.coefficients[0]===0},r.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},r.prototype.evaluateAt=function(e){var n,a;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var s=Ise(this.coefficients),c=s.next();!c.done;c=s.next()){var l=c.value;i=this.field.add(i,l)}}catch(d){n={error:d}}finally{try{c&&!c.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}return i}for(var u=this.coefficients[0],o=this.coefficients.length,h=1;h<o;h++)u=this.field.add(this.field.multiply(e,u),this.coefficients[h]);return u},r.prototype.add=function(e){if(!this.field.equals(e.field))throw new Ia("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var n=this.coefficients,a=e.coefficients;if(n.length>a.length){var i=n;n=a,a=i}var s=new Int32Array(a.length),c=a.length-n.length;oo.arraycopy(a,0,s,0,c);for(var l=c;l<a.length;l++)s[l]=this.field.add(n[l-c],a[l]);return new r(this.field,s)},r.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new Ia("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},r.prototype.multiply=function(e){return e instanceof r?this.multiplyOther(e):this.multiplyScalar(e)},r.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new Ia("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new r(this.field,new Int32Array([0]));for(var n=this.coefficients,a=n.length,i=e.coefficients,s=i.length,c=new Int32Array(a+s-1),l=0;l<a;l++)for(var u=n[l],o=0;o<s;o++)c[l+o]=this.field.add(c[l+o],this.field.multiply(u,i[o]));return new r(this.field,c)},r.prototype.negative=function(){for(var e=this.coefficients.length,n=new Int32Array(e),a=0;a<e;a++)n[a]=this.field.subtract(0,this.coefficients[a]);return new r(this.field,n)},r.prototype.multiplyScalar=function(e){if(e===0)return new r(this.field,new Int32Array([0]));if(e===1)return this;for(var n=this.coefficients.length,a=new Int32Array(n),i=0;i<n;i++)a[i]=this.field.multiply(this.coefficients[i],e);return new r(this.field,a)},r.prototype.multiplyByMonomial=function(e,n){if(e<0)throw new Ia;if(n===0)return new r(this.field,new Int32Array([0]));for(var a=this.coefficients.length,i=new Int32Array(a+e),s=0;s<a;s++)i[s]=this.field.multiply(this.coefficients[s],n);return new r(this.field,i)},r.prototype.toString=function(){for(var e=new Ci,n=this.getDegree();n>=0;n--){var a=this.getCoefficient(n);a!==0&&(a<0?(e.append(" - "),a=-a):e.length()>0&&e.append(" + "),(n===0||a!==1)&&e.append(a),n!==0&&(n===1?e.append("x"):(e.append("x^"),e.append(n))))}return e.toString()},r})(),Tse=(function(){function r(){}return r.prototype.add=function(e,n){return(e+n)%this.modulus},r.prototype.subtract=function(e,n){return(this.modulus+e-n)%this.modulus},r.prototype.exp=function(e){return this.expTable[e]},r.prototype.log=function(e){if(e===0)throw new Ia;return this.logTable[e]},r.prototype.inverse=function(e){if(e===0)throw new YF;return this.expTable[this.modulus-this.logTable[e]-1]},r.prototype.multiply=function(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.modulus-1)]},r.prototype.getSize=function(){return this.modulus},r.prototype.equals=function(e){return e===this},r})(),_se=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Ose=(function(r){_se(e,r);function e(n,a){var i=r.call(this)||this;i.modulus=n,i.expTable=new Int32Array(n),i.logTable=new Int32Array(n);for(var s=1,c=0;c<n;c++)i.expTable[c]=s,s=s*a%n;for(var c=0;c<n-1;c++)i.logTable[i.expTable[c]]=c;return i.zero=new tp(i,new Int32Array([0])),i.one=new tp(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(n,a){if(n<0)throw new Ia;if(a===0)return this.zero;var i=new Int32Array(n+1);return i[0]=a,new tp(this,i)},e.PDF417_GF=new e(es.NUMBER_OF_CODEWORDS,3),e})(Tse),kse=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Pse=(function(){function r(){this.field=Ose.PDF417_GF}return r.prototype.decode=function(e,n,a){for(var i,s,c=new tp(this.field,e),l=new Int32Array(n),u=!1,o=n;o>0;o--){var h=c.evaluateAt(this.field.exp(o));l[n-o]=h,h!==0&&(u=!0)}if(!u)return 0;var d=this.field.getOne();if(a!=null)try{for(var A=kse(a),f=A.next();!f.done;f=A.next()){var g=f.value,m=this.field.exp(e.length-1-g),x=new tp(this.field,new Int32Array([this.field.subtract(0,m),1]));d=d.multiply(x)}}catch(W){i={error:W}}finally{try{f&&!f.done&&(s=A.return)&&s.call(A)}finally{if(i)throw i.error}}for(var y=new tp(this.field,l),b=this.runEuclideanAlgorithm(this.field.buildMonomial(n,1),y,n),w=b[0],S=b[1],N=this.findErrorLocations(w),C=this.findErrorMagnitudes(S,w,N),o=0;o<N.length;o++){var O=e.length-1-this.field.log(N[o]);if(O<0)throw Sl.getChecksumInstance();e[O]=this.field.subtract(e[O],C[o])}return N.length},r.prototype.runEuclideanAlgorithm=function(e,n,a){if(e.getDegree()<n.getDegree()){var i=e;e=n,n=i}for(var s=e,c=n,l=this.field.getZero(),u=this.field.getOne();c.getDegree()>=Math.round(a/2);){var o=s,h=l;if(s=c,l=u,s.isZero())throw Sl.getChecksumInstance();c=o;for(var d=this.field.getZero(),A=s.getCoefficient(s.getDegree()),f=this.field.inverse(A);c.getDegree()>=s.getDegree()&&!c.isZero();){var g=c.getDegree()-s.getDegree(),m=this.field.multiply(c.getCoefficient(c.getDegree()),f);d=d.add(this.field.buildMonomial(g,m)),c=c.subtract(s.multiplyByMonomial(g,m))}u=d.multiply(l).subtract(h).negative()}var x=u.getCoefficient(0);if(x===0)throw Sl.getChecksumInstance();var y=this.field.inverse(x),b=u.multiply(y),w=c.multiply(y);return[b,w]},r.prototype.findErrorLocations=function(e){for(var n=e.getDegree(),a=new Int32Array(n),i=0,s=1;s<this.field.getSize()&&i<n;s++)e.evaluateAt(s)===0&&(a[i]=this.field.inverse(s),i++);if(i!==n)throw Sl.getChecksumInstance();return a},r.prototype.findErrorMagnitudes=function(e,n,a){for(var i=n.getDegree(),s=new Int32Array(i),c=1;c<=i;c++)s[i-c]=this.field.multiply(c,n.getCoefficient(c));for(var l=new tp(this.field,s),u=a.length,o=new Int32Array(u),c=0;c<u;c++){var h=this.field.inverse(a[c]),d=this.field.subtract(0,e.evaluateAt(h)),A=this.field.inverse(l.evaluateAt(h));o[c]=this.field.multiply(d,A)}return o},r})(),HN=(function(){function r(e,n,a,i,s){e instanceof r?this.constructor_2(e):this.constructor_1(e,n,a,i,s)}return r.prototype.constructor_1=function(e,n,a,i,s){var c=n==null||a==null,l=i==null||s==null;if(c&&l)throw new Tr;c?(n=new ra(0,i.getY()),a=new ra(0,s.getY())):l&&(i=new ra(e.getWidth()-1,n.getY()),s=new ra(e.getWidth()-1,a.getY())),this.image=e,this.topLeft=n,this.bottomLeft=a,this.topRight=i,this.bottomRight=s,this.minX=Math.trunc(Math.min(n.getX(),a.getX())),this.maxX=Math.trunc(Math.max(i.getX(),s.getX())),this.minY=Math.trunc(Math.min(n.getY(),i.getY())),this.maxY=Math.trunc(Math.max(a.getY(),s.getY()))},r.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},r.merge=function(e,n){return e==null?n:n==null?e:new r(e.image,e.topLeft,e.bottomLeft,n.topRight,n.bottomRight)},r.prototype.addMissingRows=function(e,n,a){var i=this.topLeft,s=this.bottomLeft,c=this.topRight,l=this.bottomRight;if(e>0){var u=a?this.topLeft:this.topRight,o=Math.trunc(u.getY()-e);o<0&&(o=0);var h=new ra(u.getX(),o);a?i=h:c=h}if(n>0){var d=a?this.bottomLeft:this.bottomRight,A=Math.trunc(d.getY()+n);A>=this.image.getHeight()&&(A=this.image.getHeight()-1);var f=new ra(d.getX(),A);a?s=f:l=f}return new r(this.image,i,s,c,l)},r.prototype.getMinX=function(){return this.minX},r.prototype.getMaxX=function(){return this.maxX},r.prototype.getMinY=function(){return this.minY},r.prototype.getMaxY=function(){return this.maxY},r.prototype.getTopLeft=function(){return this.topLeft},r.prototype.getTopRight=function(){return this.topRight},r.prototype.getBottomLeft=function(){return this.bottomLeft},r.prototype.getBottomRight=function(){return this.bottomRight},r})(),Fse=(function(){function r(e,n,a,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=n,this.rowCountLowerPart=a,this.rowCount=n+a}return r.prototype.getColumnCount=function(){return this.columnCount},r.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},r.prototype.getRowCount=function(){return this.rowCount},r.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},r.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},r})(),uS=(function(){function r(){this.buffer=""}return r.form=function(e,n){var a=-1;function i(c,l,u,o,h,d){if(c==="%%")return"%";if(n[++a]!==void 0){c=o?parseInt(o.substr(1)):void 0;var A=h?parseInt(h.substr(1)):void 0,f;switch(d){case"s":f=n[a];break;case"c":f=n[a][0];break;case"f":f=parseFloat(n[a]).toFixed(c);break;case"p":f=parseFloat(n[a]).toPrecision(c);break;case"e":f=parseFloat(n[a]).toExponential(c);break;case"x":f=parseInt(n[a]).toString(A||16);break;case"d":f=parseFloat(parseInt(n[a],A||10).toPrecision(c)).toFixed(0);break}f=typeof f=="object"?JSON.stringify(f):(+f).toString(A);for(var g=parseInt(u),m=u&&u[0]+""=="0"?"0":" ";f.length<g;)f=l!==void 0?f+m:m+f;return f}}var s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(s,i)},r.prototype.format=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];this.buffer+=r.form(e,n)},r.prototype.toString=function(){return this.buffer},r})(),Dse=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},iD=(function(){function r(e){this.boundingBox=new HN(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return r.prototype.getCodewordNearby=function(e){var n=this.getCodeword(e);if(n!=null)return n;for(var a=1;a<r.MAX_NEARBY_DISTANCE;a++){var i=this.imageRowToCodewordIndex(e)-a;if(i>=0&&(n=this.codewords[i],n!=null)||(i=this.imageRowToCodewordIndex(e)+a,i<this.codewords.length&&(n=this.codewords[i],n!=null)))return n}return null},r.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},r.prototype.setCodeword=function(e,n){this.codewords[this.imageRowToCodewordIndex(e)]=n},r.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},r.prototype.getBoundingBox=function(){return this.boundingBox},r.prototype.getCodewords=function(){return this.codewords},r.prototype.toString=function(){var e,n,a=new uS,i=0;try{for(var s=Dse(this.codewords),c=s.next();!c.done;c=s.next()){var l=c.value;if(l==null){a.format("%3d:    |   %n",i++);continue}a.format("%3d: %3d|%3d%n",i++,l.getRowNumber(),l.getValue())}}catch(u){e={error:u}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return a.toString()},r.MAX_NEARBY_DISTANCE=5,r})(),Mse=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Rse=function(r,e){var n=typeof Symbol=="function"&&r[Symbol.iterator];if(!n)return r;var a=n.call(r),i,s=[],c;try{for(;(e===void 0||e-- >0)&&!(i=a.next()).done;)s.push(i.value)}catch(l){c={error:l}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(c)throw c.error}}return s},Q0=(function(){function r(){this.values=new Map}return r.prototype.setValue=function(e){e=Math.trunc(e);var n=this.values.get(e);n==null&&(n=0),n++,this.values.set(e,n)},r.prototype.getValue=function(){var e,n,a=-1,i=new Array,s=function(d,A){var f={getKey:function(){return d},getValue:function(){return A}};f.getValue()>a?(a=f.getValue(),i=[],i.push(f.getKey())):f.getValue()===a&&i.push(f.getKey())};try{for(var c=Mse(this.values.entries()),l=c.next();!l.done;l=c.next()){var u=Rse(l.value,2),o=u[0],h=u[1];s(o,h)}}catch(d){e={error:d}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return es.toIntArray(i)},r.prototype.getConfidence=function(e){return this.values.get(e)},r})(),Lse=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),nC=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},D_=(function(r){Lse(e,r);function e(n,a){var i=r.call(this,n)||this;return i._isLeft=a,i}return e.prototype.setRowNumbers=function(){var n,a;try{for(var i=nC(this.getCodewords()),s=i.next();!s.done;s=i.next()){var c=s.value;c!=null&&c.setRowNumberAsRowIndicatorColumn()}}catch(l){n={error:l}}finally{try{s&&!s.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(n){var a=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(a,n);for(var i=this.getBoundingBox(),s=this._isLeft?i.getTopLeft():i.getTopRight(),c=this._isLeft?i.getBottomLeft():i.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(s.getY())),u=this.imageRowToCodewordIndex(Math.trunc(c.getY())),o=-1,h=1,d=0,A=l;A<u;A++)if(a[A]!=null){var f=a[A],g=f.getRowNumber()-o;if(g===0)d++;else if(g===1)h=Math.max(h,d),d=1,o=f.getRowNumber();else if(g<0||f.getRowNumber()>=n.getRowCount()||g>A)a[A]=null;else{var m=void 0;h>2?m=(h-2)*g:m=g;for(var x=m>=A,y=1;y<=m&&!x;y++)x=a[A-y]!=null;x?a[A]=null:(o=f.getRowNumber(),d=1)}}},e.prototype.getRowHeights=function(){var n,a,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var s=new Int32Array(i.getRowCount());try{for(var c=nC(this.getCodewords()),l=c.next();!l.done;l=c.next()){var u=l.value;if(u!=null){var o=u.getRowNumber();if(o>=s.length)continue;s[o]++}}}catch(h){n={error:h}}finally{try{l&&!l.done&&(a=c.return)&&a.call(c)}finally{if(n)throw n.error}}return s},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(n){for(var a=this.getBoundingBox(),i=this._isLeft?a.getTopLeft():a.getTopRight(),s=this._isLeft?a.getBottomLeft():a.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(i.getY())),l=this.imageRowToCodewordIndex(Math.trunc(s.getY())),u=this.getCodewords(),o=-1,h=c;h<l;h++)if(u[h]!=null){var d=u[h];d.setRowNumberAsRowIndicatorColumn();var A=d.getRowNumber()-o;A===0||(A===1?o=d.getRowNumber():d.getRowNumber()>=n.getRowCount()?u[h]=null:o=d.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var n,a,i=this.getCodewords(),s=new Q0,c=new Q0,l=new Q0,u=new Q0;try{for(var o=nC(i),h=o.next();!h.done;h=o.next()){var d=h.value;if(d!=null){d.setRowNumberAsRowIndicatorColumn();var A=d.getValue()%30,f=d.getRowNumber();switch(this._isLeft||(f+=2),f%3){case 0:c.setValue(A*3+1);break;case 1:u.setValue(A/3),l.setValue(A%3);break;case 2:s.setValue(A+1);break}}}}catch(m){n={error:m}}finally{try{h&&!h.done&&(a=o.return)&&a.call(o)}finally{if(n)throw n.error}}if(s.getValue().length===0||c.getValue().length===0||l.getValue().length===0||u.getValue().length===0||s.getValue()[0]<1||c.getValue()[0]+l.getValue()[0]<es.MIN_ROWS_IN_BARCODE||c.getValue()[0]+l.getValue()[0]>es.MAX_ROWS_IN_BARCODE)return null;var g=new Fse(s.getValue()[0],c.getValue()[0],l.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(i,g),g},e.prototype.removeIncorrectCodewords=function(n,a){for(var i=0;i<n.length;i++){var s=n[i];if(n[i]!=null){var c=s.getValue()%30,l=s.getRowNumber();if(l>a.getRowCount()){n[i]=null;continue}switch(this._isLeft||(l+=2),l%3){case 0:c*3+1!==a.getRowCountUpperPart()&&(n[i]=null);break;case 1:(Math.trunc(c/3)!==a.getErrorCorrectionLevel()||c%3!==a.getRowCountLowerPart())&&(n[i]=null);break;case 2:c+1!==a.getColumnCount()&&(n[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+r.prototype.toString.call(this)},e})(iD),Use=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Hse=(function(){function r(e,n){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=n,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return r.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=es.MAX_CODEWORDS_IN_BARCODE,n;do n=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<n);return this.detectionResultColumns},r.prototype.adjustIndicatorColumnRowNumbers=function(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},r.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var n=1;n<this.barcodeColumnCount+1;n++)for(var a=this.detectionResultColumns[n].getCodewords(),i=0;i<a.length;i++)a[i]!=null&&(a[i].hasValidRowNumber()||this.adjustRowNumbers(n,i,a));return e},r.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},r.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),a=0;a<e.length;a++)if(e[a]!=null&&n[a]!=null&&e[a].getRowNumber()===n[a].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var s=this.detectionResultColumns[i].getCodewords()[a];s!=null&&(s.setRowNumber(e[a].getRowNumber()),s.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[a]=null))}}},r.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),a=0;a<n.length;a++)if(n[a]!=null)for(var i=n[a].getRowNumber(),s=0,c=this.barcodeColumnCount+1;c>0&&s<this.ADJUST_ROW_NUMBER_SKIP;c--){var l=this.detectionResultColumns[c].getCodewords()[a];l!=null&&(s=r.adjustRowNumberIfValid(i,s,l),l.hasValidRowNumber()||e++)}return e},r.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,n=this.detectionResultColumns[0].getCodewords(),a=0;a<n.length;a++)if(n[a]!=null)for(var i=n[a].getRowNumber(),s=0,c=1;c<this.barcodeColumnCount+1&&s<this.ADJUST_ROW_NUMBER_SKIP;c++){var l=this.detectionResultColumns[c].getCodewords()[a];l!=null&&(s=r.adjustRowNumberIfValid(i,s,l),l.hasValidRowNumber()||e++)}return e},r.adjustRowNumberIfValid=function(e,n,a){return a==null||a.hasValidRowNumber()||(a.isValidRowNumber(e)?(a.setRowNumber(e),n=0):++n),n},r.prototype.adjustRowNumbers=function(e,n,a){var i,s;if(this.detectionResultColumns[e-1]!=null){var c=a[n],l=this.detectionResultColumns[e-1].getCodewords(),u=l;this.detectionResultColumns[e+1]!=null&&(u=this.detectionResultColumns[e+1].getCodewords());var o=new Array(14);o[2]=l[n],o[3]=u[n],n>0&&(o[0]=a[n-1],o[4]=l[n-1],o[5]=u[n-1]),n>1&&(o[8]=a[n-2],o[10]=l[n-2],o[11]=u[n-2]),n<a.length-1&&(o[1]=a[n+1],o[6]=l[n+1],o[7]=u[n+1]),n<a.length-2&&(o[9]=a[n+2],o[12]=l[n+2],o[13]=u[n+2]);try{for(var h=Use(o),d=h.next();!d.done;d=h.next()){var A=d.value;if(r.adjustRowNumber(c,A))return}}catch(f){i={error:f}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}}},r.adjustRowNumber=function(e,n){return n==null?!1:n.hasValidRowNumber()&&n.getBucket()===e.getBucket()?(e.setRowNumber(n.getRowNumber()),!0):!1},r.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},r.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},r.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},r.prototype.setBoundingBox=function(e){this.boundingBox=e},r.prototype.getBoundingBox=function(){return this.boundingBox},r.prototype.setDetectionResultColumn=function(e,n){this.detectionResultColumns[e]=n},r.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},r.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var n=new uS,a=0;a<e.getCodewords().length;a++){n.format("CW %3d:",a);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){n.format("    |   ");continue}var s=this.detectionResultColumns[i].getCodewords()[a];if(s==null){n.format("    |   ");continue}n.format(" %3d|%3d",s.getRowNumber(),s.getValue())}n.format("%n")}return n.toString()},r})(),Qse=(function(){function r(e,n,a,i){this.rowNumber=r.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(n),this.bucket=Math.trunc(a),this.value=Math.trunc(i)}return r.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},r.prototype.isValidRowNumber=function(e){return e!==r.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},r.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},r.prototype.getWidth=function(){return this.endX-this.startX},r.prototype.getStartX=function(){return this.startX},r.prototype.getEndX=function(){return this.endX},r.prototype.getBucket=function(){return this.bucket},r.prototype.getValue=function(){return this.value},r.prototype.getRowNumber=function(){return this.rowNumber},r.prototype.setRowNumber=function(e){this.rowNumber=e},r.prototype.toString=function(){return this.rowNumber+"|"+this.value},r.BARCODE_ROW_UNKNOWN=-1,r})(),Wse=(function(){function r(){}return r.initialize=function(){for(var e=0;e<es.SYMBOL_TABLE.length;e++)for(var n=es.SYMBOL_TABLE[e],a=n&1,i=0;i<es.BARS_IN_MODULE;i++){for(var s=0;(n&1)===a;)s+=1,n>>=1;a=n&1,r.RATIOS_TABLE[e]||(r.RATIOS_TABLE[e]=new Array(es.BARS_IN_MODULE)),r.RATIOS_TABLE[e][es.BARS_IN_MODULE-i-1]=Math.fround(s/es.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},r.getDecodedValue=function(e){var n=r.getDecodedCodewordValue(r.sampleBitCounts(e));return n!==-1?n:r.getClosestDecodedValue(e)},r.sampleBitCounts=function(e){for(var n=os.sum(e),a=new Int32Array(es.BARS_IN_MODULE),i=0,s=0,c=0;c<es.MODULES_IN_CODEWORD;c++){var l=n/(2*es.MODULES_IN_CODEWORD)+c*n/es.MODULES_IN_CODEWORD;s+e[i]<=l&&(s+=e[i],i++),a[i]++}return a},r.getDecodedCodewordValue=function(e){var n=r.getBitValue(e);return es.getCodeword(n)===-1?-1:n},r.getBitValue=function(e){for(var n=0,a=0;a<e.length;a++)for(var i=0;i<e[a];i++)n=n<<1|(a%2===0?1:0);return Math.trunc(n)},r.getClosestDecodedValue=function(e){var n=os.sum(e),a=new Array(es.BARS_IN_MODULE);if(n>1)for(var i=0;i<a.length;i++)a[i]=Math.fround(e[i]/n);var s=RN.MAX_VALUE,c=-1;this.bSymbolTableReady||r.initialize();for(var l=0;l<r.RATIOS_TABLE.length;l++){for(var u=0,o=r.RATIOS_TABLE[l],h=0;h<es.BARS_IN_MODULE;h++){var d=Math.fround(o[h]-a[h]);if(u+=Math.fround(d*d),u>=s)break}u<s&&(s=u,c=es.SYMBOL_TABLE[l])}return c},r.bSymbolTableReady=!1,r.RATIOS_TABLE=new Array(es.SYMBOL_TABLE.length).map(function(e){return new Array(es.BARS_IN_MODULE)}),r})(),$se=(function(){function r(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return r.prototype.getSegmentIndex=function(){return this.segmentIndex},r.prototype.setSegmentIndex=function(e){this.segmentIndex=e},r.prototype.getFileId=function(){return this.fileId},r.prototype.setFileId=function(e){this.fileId=e},r.prototype.getOptionalData=function(){return this.optionalData},r.prototype.setOptionalData=function(e){this.optionalData=e},r.prototype.isLastSegment=function(){return this.lastSegment},r.prototype.setLastSegment=function(e){this.lastSegment=e},r.prototype.getSegmentCount=function(){return this.segmentCount},r.prototype.setSegmentCount=function(e){this.segmentCount=e},r.prototype.getSender=function(){return this.sender||null},r.prototype.setSender=function(e){this.sender=e},r.prototype.getAddressee=function(){return this.addressee||null},r.prototype.setAddressee=function(e){this.addressee=e},r.prototype.getFileName=function(){return this.fileName},r.prototype.setFileName=function(e){this.fileName=e},r.prototype.getFileSize=function(){return this.fileSize},r.prototype.setFileSize=function(e){this.fileSize=e},r.prototype.getChecksum=function(){return this.checksum},r.prototype.setChecksum=function(e){this.checksum=e},r.prototype.getTimestamp=function(){return this.timestamp},r.prototype.setTimestamp=function(e){this.timestamp=e},r})(),M_=(function(){function r(){}return r.parseLong=function(e,n){return n===void 0&&(n=void 0),parseInt(e,n)},r})(),Vse=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),zse=(function(r){Vse(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="NullPointerException",e})(Qu),Kse=(function(){function r(){}return r.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},r.prototype.writeBytesOffset=function(e,n,a){if(e==null)throw new zse;if(n<0||n>e.length||a<0||n+a>e.length||n+a<0)throw new sS;if(a===0)return;for(var i=0;i<a;i++)this.write(e[n+i])},r.prototype.flush=function(){},r.prototype.close=function(){},r})(),Gse=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),qse=(function(r){Gse(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e})(Qu),Xse=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Yse=(function(r){Xse(e,r);function e(n){n===void 0&&(n=32);var a=r.call(this)||this;if(a.count=0,n<0)throw new Ia("Negative initial size: "+n);return a.buf=new Uint8Array(n),a}return e.prototype.ensureCapacity=function(n){n-this.buf.length>0&&this.grow(n)},e.prototype.grow=function(n){var a=this.buf.length,i=a<<1;if(i-n<0&&(i=n),i<0){if(n<0)throw new qse;i=Bi.MAX_VALUE}this.buf=Xl.copyOfUint8Array(this.buf,i)},e.prototype.write=function(n){this.ensureCapacity(this.count+1),this.buf[this.count]=n,this.count+=1},e.prototype.writeBytesOffset=function(n,a,i){if(a<0||a>n.length||i<0||a+i-n.length>0)throw new sS;this.ensureCapacity(this.count+i),oo.arraycopy(n,a,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(n){n.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return Xl.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(n){return n?typeof n=="string"?this.toString_string(n):this.toString_number(n):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(n){return new String(this.buf).toString()},e.prototype.toString_number=function(n){return new String(this.buf).toString()},e.prototype.close=function(){},e})(Kse),Ws;(function(r){r[r.ALPHA=0]="ALPHA",r[r.LOWER=1]="LOWER",r[r.MIXED=2]="MIXED",r[r.PUNCT=3]="PUNCT",r[r.ALPHA_SHIFT=4]="ALPHA_SHIFT",r[r.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Ws||(Ws={}));function sD(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var av;function JA(r){if(typeof av>"u"&&(av=sD()),av===null)throw new Error("BigInt is not supported!");return av(r)}function Zse(){var r=[];r[0]=JA(1);var e=JA(900);r[1]=e;for(var n=2;n<16;n++)r[n]=r[n-1]*e;return r}var Jse=(function(){function r(){}return r.decode=function(e,n){var a=new Ci(""),i=Gl.ISO8859_1;a.enableDecoding(i);for(var s=1,c=e[s++],l=new $se;s<e[0];){switch(c){case r.TEXT_COMPACTION_MODE_LATCH:s=r.textCompaction(e,s,a);break;case r.BYTE_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:s=r.byteCompaction(c,e,i,s,a);break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(e[s++]);break;case r.NUMERIC_COMPACTION_MODE_LATCH:s=r.numericCompaction(e,s,a);break;case r.ECI_CHARSET:Gl.getCharacterSetECIByValue(e[s++]);break;case r.ECI_GENERAL_PURPOSE:s+=2;break;case r.ECI_USER_DEFINED:s++;break;case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:s=r.decodeMacroBlock(e,s,l);break;case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:throw new gn;default:s--,s=r.textCompaction(e,s,a);break}if(s<e.length)c=e[s++];else throw gn.getFormatInstance()}if(a.length()===0)throw gn.getFormatInstance();var u=new Ay(null,a.toString(),null,n);return u.setOther(l),u},r.decodeMacroBlock=function(e,n,a){if(n+r.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw gn.getFormatInstance();for(var i=new Int32Array(r.NUMBER_OF_SEQUENCE_CODEWORDS),s=0;s<r.NUMBER_OF_SEQUENCE_CODEWORDS;s++,n++)i[s]=e[n];a.setSegmentIndex(Bi.parseInt(r.decodeBase900toBase10(i,r.NUMBER_OF_SEQUENCE_CODEWORDS)));var c=new Ci;n=r.textCompaction(e,n,c),a.setFileId(c.toString());var l=-1;for(e[n]===r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(l=n+1);n<e[0];)switch(e[n]){case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(n++,e[n]){case r.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var u=new Ci;n=r.textCompaction(e,n+1,u),a.setFileName(u.toString());break;case r.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var o=new Ci;n=r.textCompaction(e,n+1,o),a.setSender(o.toString());break;case r.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var h=new Ci;n=r.textCompaction(e,n+1,h),a.setAddressee(h.toString());break;case r.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var d=new Ci;n=r.numericCompaction(e,n+1,d),a.setSegmentCount(Bi.parseInt(d.toString()));break;case r.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var A=new Ci;n=r.numericCompaction(e,n+1,A),a.setTimestamp(M_.parseLong(A.toString()));break;case r.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var f=new Ci;n=r.numericCompaction(e,n+1,f),a.setChecksum(Bi.parseInt(f.toString()));break;case r.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var g=new Ci;n=r.numericCompaction(e,n+1,g),a.setFileSize(M_.parseLong(g.toString()));break;default:throw gn.getFormatInstance()}break;case r.MACRO_PDF417_TERMINATOR:n++,a.setLastSegment(!0);break;default:throw gn.getFormatInstance()}if(l!==-1){var m=n-l;a.isLastSegment()&&m--,a.setOptionalData(Xl.copyOfRange(e,l,l+m))}return n},r.textCompaction=function(e,n,a){for(var i=new Int32Array((e[0]-n)*2),s=new Int32Array((e[0]-n)*2),c=0,l=!1;n<e[0]&&!l;){var u=e[n++];if(u<r.TEXT_COMPACTION_MODE_LATCH)i[c]=u/30,i[c+1]=u%30,c+=2;else switch(u){case r.TEXT_COMPACTION_MODE_LATCH:i[c++]=r.TEXT_COMPACTION_MODE_LATCH;break;case r.BYTE_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.NUMERIC_COMPACTION_MODE_LATCH:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:n--,l=!0;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[c]=r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,u=e[n++],s[c]=u,c++;break}}return r.decodeTextCompaction(i,s,c,a),n},r.decodeTextCompaction=function(e,n,a,i){for(var s=Ws.ALPHA,c=Ws.ALPHA,l=0;l<a;){var u=e[l],o="";switch(s){case Ws.ALPHA:if(u<26)o=String.fromCharCode(65+u);else switch(u){case 26:o=" ";break;case r.LL:s=Ws.LOWER;break;case r.ML:s=Ws.MIXED;break;case r.PS:c=s,s=Ws.PUNCT_SHIFT;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[l]);break;case r.TEXT_COMPACTION_MODE_LATCH:s=Ws.ALPHA;break}break;case Ws.LOWER:if(u<26)o=String.fromCharCode(97+u);else switch(u){case 26:o=" ";break;case r.AS:c=s,s=Ws.ALPHA_SHIFT;break;case r.ML:s=Ws.MIXED;break;case r.PS:c=s,s=Ws.PUNCT_SHIFT;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[l]);break;case r.TEXT_COMPACTION_MODE_LATCH:s=Ws.ALPHA;break}break;case Ws.MIXED:if(u<r.PL)o=r.MIXED_CHARS[u];else switch(u){case r.PL:s=Ws.PUNCT;break;case 26:o=" ";break;case r.LL:s=Ws.LOWER;break;case r.AL:s=Ws.ALPHA;break;case r.PS:c=s,s=Ws.PUNCT_SHIFT;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[l]);break;case r.TEXT_COMPACTION_MODE_LATCH:s=Ws.ALPHA;break}break;case Ws.PUNCT:if(u<r.PAL)o=r.PUNCT_CHARS[u];else switch(u){case r.PAL:s=Ws.ALPHA;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[l]);break;case r.TEXT_COMPACTION_MODE_LATCH:s=Ws.ALPHA;break}break;case Ws.ALPHA_SHIFT:if(s=c,u<26)o=String.fromCharCode(65+u);else switch(u){case 26:o=" ";break;case r.TEXT_COMPACTION_MODE_LATCH:s=Ws.ALPHA;break}break;case Ws.PUNCT_SHIFT:if(s=c,u<r.PAL)o=r.PUNCT_CHARS[u];else switch(u){case r.PAL:s=Ws.ALPHA;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[l]);break;case r.TEXT_COMPACTION_MODE_LATCH:s=Ws.ALPHA;break}break}o!==""&&i.append(o),l++}},r.byteCompaction=function(e,n,a,i,s){var c=new Yse,l=0,u=0,o=!1;switch(e){case r.BYTE_COMPACTION_MODE_LATCH:for(var h=new Int32Array(6),d=n[i++];i<n[0]&&!o;)switch(h[l++]=d,u=900*u+d,d=n[i++],d){case r.TEXT_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH:case r.NUMERIC_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:i--,o=!0;break;default:if(l%5===0&&l>0){for(var A=0;A<6;++A)c.write(Number(JA(u)>>JA(8*(5-A))));u=0,l=0}break}i===n[0]&&d<r.TEXT_COMPACTION_MODE_LATCH&&(h[l++]=d);for(var f=0;f<l;f++)c.write(h[f]);break;case r.BYTE_COMPACTION_MODE_LATCH_6:for(;i<n[0]&&!o;){var g=n[i++];if(g<r.TEXT_COMPACTION_MODE_LATCH)l++,u=900*u+g;else switch(g){case r.TEXT_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH:case r.NUMERIC_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:i--,o=!0;break}if(l%5===0&&l>0){for(var A=0;A<6;++A)c.write(Number(JA(u)>>JA(8*(5-A))));u=0,l=0}}break}return s.append($d.decode(c.toByteArray(),a)),i},r.numericCompaction=function(e,n,a){for(var i=0,s=!1,c=new Int32Array(r.MAX_NUMERIC_CODEWORDS);n<e[0]&&!s;){var l=e[n++];if(n===e[0]&&(s=!0),l<r.TEXT_COMPACTION_MODE_LATCH)c[i]=l,i++;else switch(l){case r.TEXT_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:n--,s=!0;break}(i%r.MAX_NUMERIC_CODEWORDS===0||l===r.NUMERIC_COMPACTION_MODE_LATCH||s)&&i>0&&(a.append(r.decodeBase900toBase10(c,i)),i=0)}return n},r.decodeBase900toBase10=function(e,n){for(var a=JA(0),i=0;i<n;i++)a+=r.EXP900[n-i-1]*JA(e[i]);var s=a.toString();if(s.charAt(0)!=="1")throw new gn;return s.substring(1)},r.TEXT_COMPACTION_MODE_LATCH=900,r.BYTE_COMPACTION_MODE_LATCH=901,r.NUMERIC_COMPACTION_MODE_LATCH=902,r.BYTE_COMPACTION_MODE_LATCH_6=924,r.ECI_USER_DEFINED=925,r.ECI_GENERAL_PURPOSE=926,r.ECI_CHARSET=927,r.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,r.MACRO_PDF417_TERMINATOR=922,r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,r.MAX_NUMERIC_CODEWORDS=15,r.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,r.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,r.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,r.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,r.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,r.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,r.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,r.PL=25,r.LL=27,r.AS=27,r.ML=28,r.AL=28,r.PS=29,r.PAL=29,r.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,r.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",r.EXP900=sD()?Zse():[],r.NUMBER_OF_SEQUENCE_CODEWORDS=2,r})(),T0=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},eoe=(function(){function r(){}return r.decode=function(e,n,a,i,s,c,l){for(var u=new HN(e,n,a,i,s),o=null,h=null,d,A=!0;;A=!1){if(n!=null&&(o=r.getRowIndicatorColumn(e,u,n,!0,c,l)),i!=null&&(h=r.getRowIndicatorColumn(e,u,i,!1,c,l)),d=r.merge(o,h),d==null)throw Tr.getNotFoundInstance();var f=d.getBoundingBox();if(A&&f!=null&&(f.getMinY()<u.getMinY()||f.getMaxY()>u.getMaxY()))u=f;else break}d.setBoundingBox(u);var g=d.getBarcodeColumnCount()+1;d.setDetectionResultColumn(0,o),d.setDetectionResultColumn(g,h);for(var m=o!=null,x=1;x<=g;x++){var y=m?x:g-x;if(d.getDetectionResultColumn(y)===void 0){var b=void 0;y===0||y===g?b=new D_(u,y===0):b=new iD(u),d.setDetectionResultColumn(y,b);for(var w=-1,S=w,N=u.getMinY();N<=u.getMaxY();N++){if(w=r.getStartColumn(d,y,N,m),w<0||w>u.getMaxX()){if(S===-1)continue;w=S}var C=r.detectCodeword(e,u.getMinX(),u.getMaxX(),m,w,N,c,l);C!=null&&(b.setCodeword(N,C),S=w,c=Math.min(c,C.getWidth()),l=Math.max(l,C.getWidth()))}}}return r.createDecoderResult(d)},r.merge=function(e,n){if(e==null&&n==null)return null;var a=r.getBarcodeMetadata(e,n);if(a==null)return null;var i=HN.merge(r.adjustBoundingBox(e),r.adjustBoundingBox(n));return new Hse(a,i)},r.adjustBoundingBox=function(e){var n,a;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var s=r.getMax(i),c=0;try{for(var l=T0(i),u=l.next();!u.done;u=l.next()){var o=u.value;if(c+=s-o,o>0)break}}catch(f){n={error:f}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(n)throw n.error}}for(var h=e.getCodewords(),d=0;c>0&&h[d]==null;d++)c--;for(var A=0,d=i.length-1;d>=0&&(A+=s-i[d],!(i[d]>0));d--);for(var d=h.length-1;A>0&&h[d]==null;d--)A--;return e.getBoundingBox().addMissingRows(c,A,e.isLeft())},r.getMax=function(e){var n,a,i=-1;try{for(var s=T0(e),c=s.next();!c.done;c=s.next()){var l=c.value;i=Math.max(i,l)}}catch(u){n={error:u}}finally{try{c&&!c.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}return i},r.getBarcodeMetadata=function(e,n){var a;if(e==null||(a=e.getBarcodeMetadata())==null)return n==null?null:n.getBarcodeMetadata();var i;return n==null||(i=n.getBarcodeMetadata())==null?a:a.getColumnCount()!==i.getColumnCount()&&a.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&a.getRowCount()!==i.getRowCount()?null:a},r.getRowIndicatorColumn=function(e,n,a,i,s,c){for(var l=new D_(n,i),u=0;u<2;u++)for(var o=u===0?1:-1,h=Math.trunc(Math.trunc(a.getX())),d=Math.trunc(Math.trunc(a.getY()));d<=n.getMaxY()&&d>=n.getMinY();d+=o){var A=r.detectCodeword(e,0,e.getWidth(),i,h,d,s,c);A!=null&&(l.setCodeword(d,A),i?h=A.getStartX():h=A.getEndX())}return l},r.adjustCodewordCount=function(e,n){var a=n[0][1],i=a.getValue(),s=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-r.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(s<1||s>es.MAX_CODEWORDS_IN_BARCODE)throw Tr.getNotFoundInstance();a.setValue(s)}else i[0]!==s&&a.setValue(s)},r.createDecoderResult=function(e){var n=r.createBarcodeMatrix(e);r.adjustCodewordCount(e,n);for(var a=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),s=[],c=new Array,l=0;l<e.getBarcodeRowCount();l++)for(var u=0;u<e.getBarcodeColumnCount();u++){var o=n[l][u+1].getValue(),h=l*e.getBarcodeColumnCount()+u;o.length===0?a.push(h):o.length===1?i[h]=o[0]:(c.push(h),s.push(o))}for(var d=new Array(s.length),A=0;A<d.length;A++)d[A]=s[A];return r.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,es.toIntArray(a),es.toIntArray(c),d)},r.createDecoderResultFromAmbiguousValues=function(e,n,a,i,s){for(var c=new Int32Array(i.length),l=100;l-- >0;){for(var u=0;u<c.length;u++)n[i[u]]=s[u][c[u]];try{return r.decodeCodewords(n,e,a)}catch(h){var o=h instanceof Sl;if(!o)throw h}if(c.length===0)throw Sl.getChecksumInstance();for(var u=0;u<c.length;u++)if(c[u]<s[u].length-1){c[u]++;break}else if(c[u]=0,u===c.length-1)throw Sl.getChecksumInstance()}throw Sl.getChecksumInstance()},r.createBarcodeMatrix=function(e){for(var n,a,i,s,c=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),l=0;l<c.length;l++)for(var u=0;u<c[l].length;u++)c[l][u]=new Q0;var o=0;try{for(var h=T0(e.getDetectionResultColumns()),d=h.next();!d.done;d=h.next()){var A=d.value;if(A!=null)try{for(var f=(i=void 0,T0(A.getCodewords())),g=f.next();!g.done;g=f.next()){var m=g.value;if(m!=null){var x=m.getRowNumber();if(x>=0){if(x>=c.length)continue;c[x][o].setValue(m.getValue())}}}}catch(y){i={error:y}}finally{try{g&&!g.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}o++}}catch(y){n={error:y}}finally{try{d&&!d.done&&(a=h.return)&&a.call(h)}finally{if(n)throw n.error}}return c},r.isValidBarcodeColumn=function(e,n){return n>=0&&n<=e.getBarcodeColumnCount()+1},r.getStartColumn=function(e,n,a,i){var s,c,l=i?1:-1,u=null;if(r.isValidBarcodeColumn(e,n-l)&&(u=e.getDetectionResultColumn(n-l).getCodeword(a)),u!=null)return i?u.getEndX():u.getStartX();if(u=e.getDetectionResultColumn(n).getCodewordNearby(a),u!=null)return i?u.getStartX():u.getEndX();if(r.isValidBarcodeColumn(e,n-l)&&(u=e.getDetectionResultColumn(n-l).getCodewordNearby(a)),u!=null)return i?u.getEndX():u.getStartX();for(var o=0;r.isValidBarcodeColumn(e,n-l);){n-=l;try{for(var h=(s=void 0,T0(e.getDetectionResultColumn(n).getCodewords())),d=h.next();!d.done;d=h.next()){var A=d.value;if(A!=null)return(i?A.getEndX():A.getStartX())+l*o*(A.getEndX()-A.getStartX())}}catch(f){s={error:f}}finally{try{d&&!d.done&&(c=h.return)&&c.call(h)}finally{if(s)throw s.error}}o++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},r.detectCodeword=function(e,n,a,i,s,c,l,u){s=r.adjustCodewordStartColumn(e,n,a,i,s,c);var o=r.getModuleBitCount(e,n,a,i,s,c);if(o==null)return null;var h,d=os.sum(o);if(i)h=s+d;else{for(var A=0;A<o.length/2;A++){var f=o[A];o[A]=o[o.length-1-A],o[o.length-1-A]=f}h=s,s=h-d}if(!r.checkCodewordSkew(d,l,u))return null;var g=Wse.getDecodedValue(o),m=es.getCodeword(g);return m===-1?null:new Qse(s,h,r.getCodewordBucketNumber(g),m)},r.getModuleBitCount=function(e,n,a,i,s,c){for(var l=s,u=new Int32Array(8),o=0,h=i?1:-1,d=i;(i?l<a:l>=n)&&o<u.length;)e.get(l,c)===d?(u[o]++,l+=h):(o++,d=!d);return o===u.length||l===(i?a:n)&&o===u.length-1?u:null},r.getNumberOfECCodeWords=function(e){return 2<<e},r.adjustCodewordStartColumn=function(e,n,a,i,s,c){for(var l=s,u=i?-1:1,o=0;o<2;o++){for(;(i?l>=n:l<a)&&i===e.get(l,c);){if(Math.abs(s-l)>r.CODEWORD_SKEW_SIZE)return s;l+=u}u=-u,i=!i}return l},r.checkCodewordSkew=function(e,n,a){return n-r.CODEWORD_SKEW_SIZE<=e&&e<=a+r.CODEWORD_SKEW_SIZE},r.decodeCodewords=function(e,n,a){if(e.length===0)throw gn.getFormatInstance();var i=1<<n+1,s=r.correctErrors(e,a,i);r.verifyCodewordCount(e,i);var c=Jse.decode(e,""+n);return c.setErrorsCorrected(s),c.setErasures(a.length),c},r.correctErrors=function(e,n,a){if(n!=null&&n.length>a/2+r.MAX_ERRORS||a<0||a>r.MAX_EC_CODEWORDS)throw Sl.getChecksumInstance();return r.errorCorrection.decode(e,a,n)},r.verifyCodewordCount=function(e,n){if(e.length<4)throw gn.getFormatInstance();var a=e[0];if(a>e.length)throw gn.getFormatInstance();if(a===0)if(n<e.length)e[0]=e.length-n;else throw gn.getFormatInstance()},r.getBitCountForCodeword=function(e){for(var n=new Int32Array(8),a=0,i=n.length-1;!((e&1)!==a&&(a=e&1,i--,i<0));)n[i]++,e>>=1;return n},r.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},r.getCodewordBucketNumber_number=function(e){return r.getCodewordBucketNumber(r.getBitCountForCodeword(e))},r.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},r.toString=function(e){for(var n=new uS,a=0;a<e.length;a++){n.format("Row %2d: ",a);for(var i=0;i<e[a].length;i++){var s=e[a][i];s.getValue().length===0?n.format("        ",null):n.format("%4d(%2d)",s.getValue()[0],s.getConfidence(s.getValue()[0]))}n.format("%n")}return n.toString()},r.CODEWORD_SKEW_SIZE=2,r.MAX_ERRORS=3,r.MAX_EC_CODEWORDS=512,r.errorCorrection=new Pse,r})(),toe=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},bx=(function(){function r(){}return r.prototype.decode=function(e,n){n===void 0&&(n=null);var a=r.decode(e,n,!1);if(a==null||a.length===0||a[0]==null)throw Tr.getNotFoundInstance();return a[0]},r.prototype.decodeMultiple=function(e,n){n===void 0&&(n=null);try{return r.decode(e,n,!0)}catch(a){throw a instanceof gn||a instanceof Sl?Tr.getNotFoundInstance():a}},r.decode=function(e,n,a){var i,s,c=new Array,l=Bse.detectMultiple(e,n,a);try{for(var u=toe(l.getPoints()),o=u.next();!o.done;o=u.next()){var h=o.value,d=eoe.decode(l.getBits(),h[4],h[5],h[6],h[7],r.getMinCodewordWidth(h),r.getMaxCodewordWidth(h)),A=new nu(d.getText(),d.getRawBytes(),void 0,h,Ba.PDF_417);A.putMetadata(Hc.ERROR_CORRECTION_LEVEL,d.getECLevel());var f=d.getOther();f!=null&&A.putMetadata(Hc.PDF417_EXTRA_METADATA,f),c.push(A)}}catch(g){i={error:g}}finally{try{o&&!o.done&&(s=u.return)&&s.call(u)}finally{if(i)throw i.error}}return c.map(function(g){return g})},r.getMaxWidth=function(e,n){return e==null||n==null?0:Math.trunc(Math.abs(e.getX()-n.getX()))},r.getMinWidth=function(e,n){return e==null||n==null?Bi.MAX_VALUE:Math.trunc(Math.abs(e.getX()-n.getX()))},r.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(r.getMaxWidth(e[0],e[4]),r.getMaxWidth(e[6],e[2])*es.MODULES_IN_CODEWORD/es.MODULES_IN_STOP_PATTERN),Math.max(r.getMaxWidth(e[1],e[5]),r.getMaxWidth(e[7],e[3])*es.MODULES_IN_CODEWORD/es.MODULES_IN_STOP_PATTERN)))},r.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(r.getMinWidth(e[0],e[4]),r.getMinWidth(e[6],e[2])*es.MODULES_IN_CODEWORD/es.MODULES_IN_STOP_PATTERN),Math.min(r.getMinWidth(e[1],e[5]),r.getMinWidth(e[7],e[3])*es.MODULES_IN_CODEWORD/es.MODULES_IN_STOP_PATTERN)))},r.prototype.reset=function(){},r})(),roe=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),R_=(function(r){roe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ReaderException",e})(Qu),L_=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},oD=(function(){function r(){}return r.prototype.decode=function(e,n){return this.setHints(n),this.decodeInternal(e)},r.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},r.prototype.setHints=function(e){this.hints=e;var n=e!=null&&e.get(lo.TRY_HARDER)!==void 0,a=e==null?null:e.get(lo.POSSIBLE_FORMATS),i=new Array;if(a!=null){var s=a.some(function(c){return c===Ba.UPC_A||c===Ba.UPC_E||c===Ba.EAN_13||c===Ba.EAN_8||c===Ba.CODABAR||c===Ba.CODE_39||c===Ba.CODE_93||c===Ba.CODE_128||c===Ba.ITF||c===Ba.RSS_14||c===Ba.RSS_EXPANDED});s&&!n&&i.push(new Xp(e)),a.includes(Ba.QR_CODE)&&i.push(new yx),a.includes(Ba.DATA_MATRIX)&&i.push(new xx),a.includes(Ba.AZTEC)&&i.push(new gx),a.includes(Ba.PDF_417)&&i.push(new bx),s&&n&&i.push(new Xp(e))}i.length===0&&(n||i.push(new Xp(e)),i.push(new yx),i.push(new xx),i.push(new gx),i.push(new bx),n&&i.push(new Xp(e))),this.readers=i},r.prototype.reset=function(){var e,n;if(this.readers!==null)try{for(var a=L_(this.readers),i=a.next();!i.done;i=a.next()){var s=i.value;s.reset()}}catch(c){e={error:c}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}},r.prototype.decodeInternal=function(e){var n,a;if(this.readers===null)throw new R_("No readers where selected, nothing can be read.");try{for(var i=L_(this.readers),s=i.next();!s.done;s=i.next()){var c=s.value;try{return c.decode(e,this.hints)}catch(l){if(l instanceof R_)continue}}}catch(l){n={error:l}}finally{try{s&&!s.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}throw new Tr("No MultiFormat Readers were able to detect the code.")},r})(),noe=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){noe(e,r);function e(n,a){n===void 0&&(n=null),a===void 0&&(a=500);var i=this,s=new oD;return s.setHints(n),i=r.call(this,s,a)||this,i}return e.prototype.decodeBitmap=function(n){return this.reader.decodeWithState(n)},e})(Um);var aoe=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){aoe(e,r);function e(n){return n===void 0&&(n=500),r.call(this,new bx,n)||this}return e})(Um);var ioe=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){ioe(e,r);function e(n){return n===void 0&&(n=500),r.call(this,new yx,n)||this}return e})(Um);var QN;(function(r){r[r.ERROR_CORRECTION=0]="ERROR_CORRECTION",r[r.CHARACTER_SET=1]="CHARACTER_SET",r[r.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",r[r.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",r[r.MIN_SIZE=4]="MIN_SIZE",r[r.MAX_SIZE=5]="MAX_SIZE",r[r.MARGIN=6]="MARGIN",r[r.PDF417_COMPACT=7]="PDF417_COMPACT",r[r.PDF417_COMPACTION=8]="PDF417_COMPACTION",r[r.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",r[r.AZTEC_LAYERS=10]="AZTEC_LAYERS",r[r.QR_VERSION=11]="QR_VERSION",r[r.GS1_FORMAT=12]="GS1_FORMAT",r[r.FORCE_C40=13]="FORCE_C40"})(QN||(QN={}));const iv=QN;var lD=(function(){function r(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new cf(e,Int32Array.from([1])))}return r.prototype.buildGenerator=function(e){var n=this.cachedGenerators;if(e>=n.length)for(var a=n[n.length-1],i=this.field,s=n.length;s<=e;s++){var c=a.multiply(new cf(i,Int32Array.from([1,i.exp(s-1+i.getGeneratorBase())])));n.push(c),a=c}return n[e]},r.prototype.encode=function(e,n){if(n===0)throw new Ia("No error correction bytes");var a=e.length-n;if(a<=0)throw new Ia("No data bytes provided");var i=this.buildGenerator(n),s=new Int32Array(a);oo.arraycopy(e,0,s,0,a);var c=new cf(this.field,s);c=c.multiplyByMonomial(n,1);for(var l=c.divide(i)[1],u=l.getCoefficients(),o=n-u.length,h=0;h<o;h++)e[a+h]=0;oo.arraycopy(u,0,e,a+o,u.length)},r})(),W0=(function(){function r(){}return r.applyMaskPenaltyRule1=function(e){return r.applyMaskPenaltyRule1Internal(e,!0)+r.applyMaskPenaltyRule1Internal(e,!1)},r.applyMaskPenaltyRule2=function(e){for(var n=0,a=e.getArray(),i=e.getWidth(),s=e.getHeight(),c=0;c<s-1;c++)for(var l=a[c],u=0;u<i-1;u++){var o=l[u];o===l[u+1]&&o===a[c+1][u]&&o===a[c+1][u+1]&&n++}return r.N2*n},r.applyMaskPenaltyRule3=function(e){for(var n=0,a=e.getArray(),i=e.getWidth(),s=e.getHeight(),c=0;c<s;c++)for(var l=0;l<i;l++){var u=a[c];l+6<i&&u[l]===1&&u[l+1]===0&&u[l+2]===1&&u[l+3]===1&&u[l+4]===1&&u[l+5]===0&&u[l+6]===1&&(r.isWhiteHorizontal(u,l-4,l)||r.isWhiteHorizontal(u,l+7,l+11))&&n++,c+6<s&&a[c][l]===1&&a[c+1][l]===0&&a[c+2][l]===1&&a[c+3][l]===1&&a[c+4][l]===1&&a[c+5][l]===0&&a[c+6][l]===1&&(r.isWhiteVertical(a,l,c-4,c)||r.isWhiteVertical(a,l,c+7,c+11))&&n++}return n*r.N3},r.isWhiteHorizontal=function(e,n,a){n=Math.max(n,0),a=Math.min(a,e.length);for(var i=n;i<a;i++)if(e[i]===1)return!1;return!0},r.isWhiteVertical=function(e,n,a,i){a=Math.max(a,0),i=Math.min(i,e.length);for(var s=a;s<i;s++)if(e[s][n]===1)return!1;return!0},r.applyMaskPenaltyRule4=function(e){for(var n=0,a=e.getArray(),i=e.getWidth(),s=e.getHeight(),c=0;c<s;c++)for(var l=a[c],u=0;u<i;u++)l[u]===1&&n++;var o=e.getHeight()*e.getWidth(),h=Math.floor(Math.abs(n*2-o)*10/o);return h*r.N4},r.getDataMaskBit=function(e,n,a){var i,s;switch(e){case 0:i=a+n&1;break;case 1:i=a&1;break;case 2:i=n%3;break;case 3:i=(a+n)%3;break;case 4:i=Math.floor(a/2)+Math.floor(n/3)&1;break;case 5:s=a*n,i=(s&1)+s%3;break;case 6:s=a*n,i=(s&1)+s%3&1;break;case 7:s=a*n,i=s%3+(a+n&1)&1;break;default:throw new Ia("Invalid mask pattern: "+e)}return i===0},r.applyMaskPenaltyRule1Internal=function(e,n){for(var a=0,i=n?e.getHeight():e.getWidth(),s=n?e.getWidth():e.getHeight(),c=e.getArray(),l=0;l<i;l++){for(var u=0,o=-1,h=0;h<s;h++){var d=n?c[l][h]:c[h][l];d===o?u++:(u>=5&&(a+=r.N1+(u-5)),u=1,o=d)}u>=5&&(a+=r.N1+(u-5))}return a},r.N1=3,r.N2=3,r.N3=40,r.N4=10,r})(),soe=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ooe=(function(){function r(e,n){this.width=e,this.height=n;for(var a=new Array(n),i=0;i!==n;i++)a[i]=new Uint8Array(e);this.bytes=a}return r.prototype.getHeight=function(){return this.height},r.prototype.getWidth=function(){return this.width},r.prototype.get=function(e,n){return this.bytes[n][e]},r.prototype.getArray=function(){return this.bytes},r.prototype.setNumber=function(e,n,a){this.bytes[n][e]=a},r.prototype.setBoolean=function(e,n,a){this.bytes[n][e]=a?1:0},r.prototype.clear=function(e){var n,a;try{for(var i=soe(this.bytes),s=i.next();!s.done;s=i.next()){var c=s.value;Xl.fill(c,e)}}catch(l){n={error:l}}finally{try{s&&!s.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var n=e;if(this.width!==n.width||this.height!==n.height)return!1;for(var a=0,i=this.height;a<i;++a)for(var s=this.bytes[a],c=n.bytes[a],l=0,u=this.width;l<u;++l)if(s[l]!==c[l])return!1;return!0},r.prototype.toString=function(){for(var e=new Ci,n=0,a=this.height;n<a;++n){for(var i=this.bytes[n],s=0,c=this.width;s<c;++s)switch(i[s]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},r})(),WN=(function(){function r(){this.maskPattern=-1}return r.prototype.getMode=function(){return this.mode},r.prototype.getECLevel=function(){return this.ecLevel},r.prototype.getVersion=function(){return this.version},r.prototype.getMaskPattern=function(){return this.maskPattern},r.prototype.getMatrix=function(){return this.matrix},r.prototype.toString=function(){var e=new Ci;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},r.prototype.setMode=function(e){this.mode=e},r.prototype.setECLevel=function(e){this.ecLevel=e},r.prototype.setVersion=function(e){this.version=e},r.prototype.setMaskPattern=function(e){this.maskPattern=e},r.prototype.setMatrix=function(e){this.matrix=e},r.isValidMaskPattern=function(e){return e>=0&&e<r.NUM_MASK_PATTERNS},r.NUM_MASK_PATTERNS=8,r})(),loe=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),go=(function(r){loe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="WriterException",e})(Qu),U_=(function(){function r(){}return r.clearMatrix=function(e){e.clear(255)},r.buildMatrix=function(e,n,a,i,s){r.clearMatrix(s),r.embedBasicPatterns(a,s),r.embedTypeInfo(n,i,s),r.maybeEmbedVersionInfo(a,s),r.embedDataBits(e,i,s)},r.embedBasicPatterns=function(e,n){r.embedPositionDetectionPatternsAndSeparators(n),r.embedDarkDotAtLeftBottomCorner(n),r.maybeEmbedPositionAdjustmentPatterns(e,n),r.embedTimingPatterns(n)},r.embedTypeInfo=function(e,n,a){var i=new jc;r.makeTypeInfoBits(e,n,i);for(var s=0,c=i.getSize();s<c;++s){var l=i.get(i.getSize()-1-s),u=r.TYPE_INFO_COORDINATES[s],o=u[0],h=u[1];if(a.setBoolean(o,h,l),s<8){var d=a.getWidth()-s-1,A=8;a.setBoolean(d,A,l)}else{var d=8,A=a.getHeight()-7+(s-8);a.setBoolean(d,A,l)}}},r.maybeEmbedVersionInfo=function(e,n){if(!(e.getVersionNumber()<7)){var a=new jc;r.makeVersionInfoBits(e,a);for(var i=17,s=0;s<6;++s)for(var c=0;c<3;++c){var l=a.get(i);i--,n.setBoolean(s,n.getHeight()-11+c,l),n.setBoolean(n.getHeight()-11+c,s,l)}}},r.embedDataBits=function(e,n,a){for(var i=0,s=-1,c=a.getWidth()-1,l=a.getHeight()-1;c>0;){for(c===6&&(c-=1);l>=0&&l<a.getHeight();){for(var u=0;u<2;++u){var o=c-u;if(r.isEmpty(a.get(o,l))){var h=void 0;i<e.getSize()?(h=e.get(i),++i):h=!1,n!==255&&W0.getDataMaskBit(n,o,l)&&(h=!h),a.setBoolean(o,l,h)}}l+=s}s=-s,l+=s,c-=2}if(i!==e.getSize())throw new go("Not all bits consumed: "+i+"/"+e.getSize())},r.findMSBSet=function(e){return 32-Bi.numberOfLeadingZeros(e)},r.calculateBCHCode=function(e,n){if(n===0)throw new Ia("0 polynomial");var a=r.findMSBSet(n);for(e<<=a-1;r.findMSBSet(e)>=a;)e^=n<<r.findMSBSet(e)-a;return e},r.makeTypeInfoBits=function(e,n,a){if(!WN.isValidMaskPattern(n))throw new go("Invalid mask pattern");var i=e.getBits()<<3|n;a.appendBits(i,5);var s=r.calculateBCHCode(i,r.TYPE_INFO_POLY);a.appendBits(s,10);var c=new jc;if(c.appendBits(r.TYPE_INFO_MASK_PATTERN,15),a.xor(c),a.getSize()!==15)throw new go("should not happen but we got: "+a.getSize())},r.makeVersionInfoBits=function(e,n){n.appendBits(e.getVersionNumber(),6);var a=r.calculateBCHCode(e.getVersionNumber(),r.VERSION_INFO_POLY);if(n.appendBits(a,12),n.getSize()!==18)throw new go("should not happen but we got: "+n.getSize())},r.isEmpty=function(e){return e===255},r.embedTimingPatterns=function(e){for(var n=8;n<e.getWidth()-8;++n){var a=(n+1)%2;r.isEmpty(e.get(n,6))&&e.setNumber(n,6,a),r.isEmpty(e.get(6,n))&&e.setNumber(6,n,a)}},r.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new go;e.setNumber(8,e.getHeight()-8,1)},r.embedHorizontalSeparationPattern=function(e,n,a){for(var i=0;i<8;++i){if(!r.isEmpty(a.get(e+i,n)))throw new go;a.setNumber(e+i,n,0)}},r.embedVerticalSeparationPattern=function(e,n,a){for(var i=0;i<7;++i){if(!r.isEmpty(a.get(e,n+i)))throw new go;a.setNumber(e,n+i,0)}},r.embedPositionAdjustmentPattern=function(e,n,a){for(var i=0;i<5;++i)for(var s=r.POSITION_ADJUSTMENT_PATTERN[i],c=0;c<5;++c)a.setNumber(e+c,n+i,s[c])},r.embedPositionDetectionPattern=function(e,n,a){for(var i=0;i<7;++i)for(var s=r.POSITION_DETECTION_PATTERN[i],c=0;c<7;++c)a.setNumber(e+c,n+i,s[c])},r.embedPositionDetectionPatternsAndSeparators=function(e){var n=r.POSITION_DETECTION_PATTERN[0].length;r.embedPositionDetectionPattern(0,0,e),r.embedPositionDetectionPattern(e.getWidth()-n,0,e),r.embedPositionDetectionPattern(0,e.getWidth()-n,e);var a=8;r.embedHorizontalSeparationPattern(0,a-1,e),r.embedHorizontalSeparationPattern(e.getWidth()-a,a-1,e),r.embedHorizontalSeparationPattern(0,e.getWidth()-a,e);var i=7;r.embedVerticalSeparationPattern(i,0,e),r.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),r.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},r.maybeEmbedPositionAdjustmentPatterns=function(e,n){if(!(e.getVersionNumber()<2))for(var a=e.getVersionNumber()-1,i=r.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[a],s=0,c=i.length;s!==c;s++){var l=i[s];if(l>=0)for(var u=0;u!==c;u++){var o=i[u];o>=0&&r.isEmpty(n.get(o,l))&&r.embedPositionAdjustmentPattern(o-2,l-2,n)}}},r.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),r.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),r.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),r.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),r.VERSION_INFO_POLY=7973,r.TYPE_INFO_POLY=1335,r.TYPE_INFO_MASK_PATTERN=21522,r})(),coe=(function(){function r(e,n){this.dataBytes=e,this.errorCorrectionBytes=n}return r.prototype.getDataBytes=function(){return this.dataBytes},r.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},r})(),H_=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function r(){}return r.calculateMaskPenalty=function(e){return W0.applyMaskPenaltyRule1(e)+W0.applyMaskPenaltyRule2(e)+W0.applyMaskPenaltyRule3(e)+W0.applyMaskPenaltyRule4(e)},r.encode=function(e,n,a){a===void 0&&(a=null);var i=r.DEFAULT_BYTE_MODE_ENCODING,s=a!==null&&a.get(iv.CHARACTER_SET)!==void 0;s&&(i=a.get(iv.CHARACTER_SET).toString());var c=this.chooseMode(e,i),l=new jc;if(c===vo.BYTE&&(s||r.DEFAULT_BYTE_MODE_ENCODING!==i)){var u=Gl.getCharacterSetECIByName(i);u!==void 0&&this.appendECI(u,l)}this.appendModeInfo(c,l);var o=new jc;this.appendBytes(e,c,o,i);var h;if(a!==null&&a.get(iv.QR_VERSION)!==void 0){var d=Number.parseInt(a.get(iv.QR_VERSION).toString(),10);h=sp.getVersionForNumber(d);var A=this.calculateBitsNeeded(c,l,o,h);if(!this.willFit(A,h,n))throw new go("Data too big for requested version")}else h=this.recommendVersion(n,c,l,o);var f=new jc;f.appendBitArray(l);var g=c===vo.BYTE?o.getSizeInBytes():e.length;this.appendLengthInfo(g,h,c,f),f.appendBitArray(o);var m=h.getECBlocksForLevel(n),x=h.getTotalCodewords()-m.getTotalECCodewords();this.terminateBits(x,f);var y=this.interleaveWithECBytes(f,h.getTotalCodewords(),x,m.getNumBlocks()),b=new WN;b.setECLevel(n),b.setMode(c),b.setVersion(h);var w=h.getDimensionForVersion(),S=new ooe(w,w),N=this.chooseMaskPattern(y,n,h,S);return b.setMaskPattern(N),U_.buildMatrix(y,n,h,N,S),b.setMatrix(S),b},r.recommendVersion=function(e,n,a,i){var s=this.calculateBitsNeeded(n,a,i,sp.getVersionForNumber(1)),c=this.chooseVersion(s,e),l=this.calculateBitsNeeded(n,a,i,c);return this.chooseVersion(l,e)},r.calculateBitsNeeded=function(e,n,a,i){return n.getSize()+e.getCharacterCountBits(i)+a.getSize()},r.getAlphanumericCode=function(e){return e<r.ALPHANUMERIC_TABLE.length?r.ALPHANUMERIC_TABLE[e]:-1},r.chooseMode=function(e,n){if(n===void 0&&(n=null),Gl.SJIS.getName()===n&&this.isOnlyDoubleByteKanji(e))return vo.KANJI;for(var a=!1,i=!1,s=0,c=e.length;s<c;++s){var l=e.charAt(s);if(r.isDigit(l))a=!0;else if(this.getAlphanumericCode(l.charCodeAt(0))!==-1)i=!0;else return vo.BYTE}return i?vo.ALPHANUMERIC:a?vo.NUMERIC:vo.BYTE},r.isOnlyDoubleByteKanji=function(e){var n;try{n=$d.encode(e,Gl.SJIS)}catch{return!1}var a=n.length;if(a%2!==0)return!1;for(var i=0;i<a;i+=2){var s=n[i]&255;if((s<129||s>159)&&(s<224||s>235))return!1}return!0},r.chooseMaskPattern=function(e,n,a,i){for(var s=Number.MAX_SAFE_INTEGER,c=-1,l=0;l<WN.NUM_MASK_PATTERNS;l++){U_.buildMatrix(e,n,a,l,i);var u=this.calculateMaskPenalty(i);u<s&&(s=u,c=l)}return c},r.chooseVersion=function(e,n){for(var a=1;a<=40;a++){var i=sp.getVersionForNumber(a);if(r.willFit(e,i,n))return i}throw new go("Data too big")},r.willFit=function(e,n,a){var i=n.getTotalCodewords(),s=n.getECBlocksForLevel(a),c=s.getTotalECCodewords(),l=i-c,u=(e+7)/8;return l>=u},r.terminateBits=function(e,n){var a=e*8;if(n.getSize()>a)throw new go("data bits cannot fit in the QR Code"+n.getSize()+" > "+a);for(var i=0;i<4&&n.getSize()<a;++i)n.appendBit(!1);var s=n.getSize()&7;if(s>0)for(var i=s;i<8;i++)n.appendBit(!1);for(var c=e-n.getSizeInBytes(),i=0;i<c;++i)n.appendBits((i&1)===0?236:17,8);if(n.getSize()!==a)throw new go("Bits size does not equal capacity")},r.getNumDataBytesAndNumECBytesForBlockID=function(e,n,a,i,s,c){if(i>=a)throw new go("Block ID too large");var l=e%a,u=a-l,o=Math.floor(e/a),h=o+1,d=Math.floor(n/a),A=d+1,f=o-d,g=h-A;if(f!==g)throw new go("EC bytes mismatch");if(a!==u+l)throw new go("RS blocks mismatch");if(e!==(d+f)*u+(A+g)*l)throw new go("Total bytes mismatch");i<u?(s[0]=d,c[0]=f):(s[0]=A,c[0]=g)},r.interleaveWithECBytes=function(e,n,a,i){var s,c,l,u;if(e.getSizeInBytes()!==a)throw new go("Number of bits and data bytes does not match");for(var o=0,h=0,d=0,A=new Array,f=0;f<i;++f){var g=new Int32Array(1),m=new Int32Array(1);r.getNumDataBytesAndNumECBytesForBlockID(n,a,i,f,g,m);var x=g[0],y=new Uint8Array(x);e.toBytes(8*o,y,0,x);var b=r.generateECBytes(y,m[0]);A.push(new coe(y,b)),h=Math.max(h,x),d=Math.max(d,b.length),o+=g[0]}if(a!==o)throw new go("Data bytes does not match offset");for(var w=new jc,f=0;f<h;++f)try{for(var S=(s=void 0,H_(A)),N=S.next();!N.done;N=S.next()){var C=N.value,y=C.getDataBytes();f<y.length&&w.appendBits(y[f],8)}}catch(te){s={error:te}}finally{try{N&&!N.done&&(c=S.return)&&c.call(S)}finally{if(s)throw s.error}}for(var f=0;f<d;++f)try{for(var O=(l=void 0,H_(A)),W=O.next();!W.done;W=O.next()){var C=W.value,b=C.getErrorCorrectionBytes();f<b.length&&w.appendBits(b[f],8)}}catch(te){l={error:te}}finally{try{W&&!W.done&&(u=O.return)&&u.call(O)}finally{if(l)throw l.error}}if(n!==w.getSizeInBytes())throw new go("Interleaving error: "+n+" and "+w.getSizeInBytes()+" differ.");return w},r.generateECBytes=function(e,n){for(var a=e.length,i=new Int32Array(a+n),s=0;s<a;s++)i[s]=e[s]&255;new lD(Lu.QR_CODE_FIELD_256).encode(i,n);for(var c=new Uint8Array(n),s=0;s<n;s++)c[s]=i[a+s];return c},r.appendModeInfo=function(e,n){n.appendBits(e.getBits(),4)},r.appendLengthInfo=function(e,n,a,i){var s=a.getCharacterCountBits(n);if(e>=1<<s)throw new go(e+" is bigger than "+((1<<s)-1));i.appendBits(e,s)},r.appendBytes=function(e,n,a,i){switch(n){case vo.NUMERIC:r.appendNumericBytes(e,a);break;case vo.ALPHANUMERIC:r.appendAlphanumericBytes(e,a);break;case vo.BYTE:r.append8BitBytes(e,a,i);break;case vo.KANJI:r.appendKanjiBytes(e,a);break;default:throw new go("Invalid mode: "+n)}},r.getDigit=function(e){return e.charCodeAt(0)-48},r.isDigit=function(e){var n=r.getDigit(e);return n>=0&&n<=9},r.appendNumericBytes=function(e,n){for(var a=e.length,i=0;i<a;){var s=r.getDigit(e.charAt(i));if(i+2<a){var c=r.getDigit(e.charAt(i+1)),l=r.getDigit(e.charAt(i+2));n.appendBits(s*100+c*10+l,10),i+=3}else if(i+1<a){var c=r.getDigit(e.charAt(i+1));n.appendBits(s*10+c,7),i+=2}else n.appendBits(s,4),i++}},r.appendAlphanumericBytes=function(e,n){for(var a=e.length,i=0;i<a;){var s=r.getAlphanumericCode(e.charCodeAt(i));if(s===-1)throw new go;if(i+1<a){var c=r.getAlphanumericCode(e.charCodeAt(i+1));if(c===-1)throw new go;n.appendBits(s*45+c,11),i+=2}else n.appendBits(s,6),i++}},r.append8BitBytes=function(e,n,a){var i;try{i=$d.encode(e,a)}catch(u){throw new go(u)}for(var s=0,c=i.length;s!==c;s++){var l=i[s];n.appendBits(l,8)}},r.appendKanjiBytes=function(e,n){var a;try{a=$d.encode(e,Gl.SJIS)}catch(d){throw new go(d)}for(var i=a.length,s=0;s<i;s+=2){var c=a[s]&255,l=a[s+1]&255,u=c<<8&4294967295|l,o=-1;if(u>=33088&&u<=40956?o=u-33088:u>=57408&&u<=60351&&(o=u-49472),o===-1)throw new go("Invalid byte sequence");var h=(o>>8)*192+(o&255);n.appendBits(h,13)}},r.appendECI=function(e,n){n.appendBits(vo.ECI.getBits(),4),n.appendBits(e.getValue(),8)},r.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),r.DEFAULT_BYTE_MODE_ENCODING=Gl.UTF8.getName(),r})();var uoe=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){uoe(e,r);function e(n,a,i,s,c,l,u,o){var h=r.call(this,l,u)||this;if(h.yuvData=n,h.dataWidth=a,h.dataHeight=i,h.left=s,h.top=c,s+l>a||c+u>i)throw new Ia("Crop rectangle does not fit within image data.");return o&&h.reverseHorizontal(l,u),h}return e.prototype.getRow=function(n,a){if(n<0||n>=this.getHeight())throw new Ia("Requested row is outside the image: "+n);var i=this.getWidth();(a==null||a.length<i)&&(a=new Uint8ClampedArray(i));var s=(n+this.top)*this.dataWidth+this.left;return oo.arraycopy(this.yuvData,s,a,0,i),a},e.prototype.getMatrix=function(){var n=this.getWidth(),a=this.getHeight();if(n===this.dataWidth&&a===this.dataHeight)return this.yuvData;var i=n*a,s=new Uint8ClampedArray(i),c=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return oo.arraycopy(this.yuvData,c,s,0,i),s;for(var l=0;l<a;l++){var u=l*n;oo.arraycopy(this.yuvData,c,s,u,n),c+=this.dataWidth}return s},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(n,a,i,s){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+n,this.top+a,i,s,!1)},e.prototype.renderThumbnail=function(){for(var n=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,a=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(n*a),s=this.yuvData,c=this.top*this.dataWidth+this.left,l=0;l<a;l++){for(var u=l*n,o=0;o<n;o++){var h=s[c+o*e.THUMBNAIL_SCALE_FACTOR]&255;i[u+o]=4278190080|h*65793}c+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(n,a){for(var i=this.yuvData,s=0,c=this.top*this.dataWidth+this.left;s<a;s++,c+=this.dataWidth)for(var l=c+n/2,u=c,o=c+n-1;u<l;u++,o--){var h=i[u];i[u]=i[o],i[o]=h}},e.prototype.invert=function(){return new hy(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(Zg);var doe=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){doe(e,r);function e(n,a,i,s,c,l,u){var o=r.call(this,a,i)||this;if(o.dataWidth=s,o.dataHeight=c,o.left=l,o.top=u,n.BYTES_PER_ELEMENT===4){for(var h=a*i,d=new Uint8ClampedArray(h),A=0;A<h;A++){var f=n[A],g=f>>16&255,m=f>>7&510,x=f&255;d[A]=(g+m+x)/4&255}o.luminances=d}else o.luminances=n;if(s===void 0&&(o.dataWidth=a),c===void 0&&(o.dataHeight=i),l===void 0&&(o.left=0),u===void 0&&(o.top=0),o.left+a>o.dataWidth||o.top+i>o.dataHeight)throw new Ia("Crop rectangle does not fit within image data.");return o}return e.prototype.getRow=function(n,a){if(n<0||n>=this.getHeight())throw new Ia("Requested row is outside the image: "+n);var i=this.getWidth();(a==null||a.length<i)&&(a=new Uint8ClampedArray(i));var s=(n+this.top)*this.dataWidth+this.left;return oo.arraycopy(this.luminances,s,a,0,i),a},e.prototype.getMatrix=function(){var n=this.getWidth(),a=this.getHeight();if(n===this.dataWidth&&a===this.dataHeight)return this.luminances;var i=n*a,s=new Uint8ClampedArray(i),c=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return oo.arraycopy(this.luminances,c,s,0,i),s;for(var l=0;l<a;l++){var u=l*n;oo.arraycopy(this.luminances,c,s,u,n),c+=this.dataWidth}return s},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(n,a,i,s){return new e(this.luminances,i,s,this.dataWidth,this.dataHeight,this.left+n,this.top+a)},e.prototype.invert=function(){return new hy(this)},e})(Zg);var hoe=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Aoe=(function(r){hoe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.forName=function(n){return this.getCharacterSetECIByName(n)},e})(Gl),foe=(function(){function r(){}return r.ISO_8859_1=Gl.ISO8859_1,r})(),$N,poe=301,moe=function(r,e){for(var n=1,a=0;a<255;a++)e[a]=n,r[n]=a,n*=2,n>=256&&(n^=poe);return{LOG:r,ALOG:e}};$N=moe([],[]),$N.LOG;$N.ALOG;var Q_;(function(r){r[r.FORCE_NONE=0]="FORCE_NONE",r[r.FORCE_SQUARE=1]="FORCE_SQUARE",r[r.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(Q_||(Q_={}));var W_=129,cD=230,goe=231,voe=235,xoe=236,yoe=237,boe=238,woe=239,joe=240,aC=254,Coe=254,$_="[)>05",V_="[)>06",z_="",Ps=0,Lc=1,bu=2,Vl=3,yc=4,eu=5,Noe=(function(){function r(){}return r.prototype.getEncodingMode=function(){return Ps},r.prototype.encode=function(e){var n=Ah.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(n>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var a=e.getCurrentChar(),i=Ah.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode())switch(i){case eu:e.writeCodeword(goe),e.signalEncoderChange(eu);return;case Lc:e.writeCodeword(cD),e.signalEncoderChange(Lc);return;case Vl:e.writeCodeword(boe),e.signalEncoderChange(Vl);break;case bu:e.writeCodeword(woe),e.signalEncoderChange(bu);break;case yc:e.writeCodeword(joe),e.signalEncoderChange(yc);break;default:throw new Error("Illegal mode: "+i)}else Ah.isExtendedASCII(a)?(e.writeCodeword(voe),e.writeCodeword(a-128+1),e.pos++):(e.writeCodeword(a+1),e.pos++)}},r.prototype.encodeASCIIDigits=function(e,n){if(Ah.isDigit(e)&&Ah.isDigit(n)){var a=(e-48)*10+(n-48);return a+130}throw new Error("not digits: "+e+n)},r})(),Soe=(function(){function r(){}return r.prototype.getEncodingMode=function(){return eu},r.prototype.encode=function(e){var n=new Ci;for(n.append(0);e.hasMoreCharacters();){var a=e.getCurrentChar();n.append(a),e.pos++;var i=Ah.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode()){e.signalEncoderChange(Ps);break}}var s=n.length()-1,c=1,l=e.getCodewordCount()+s+c;e.updateSymbolInfo(l);var u=e.getSymbolInfo().getDataCapacity()-l>0;if(e.hasMoreCharacters()||u)if(s<=249)n.setCharAt(0,Zi.getCharAt(s));else if(s<=1555)n.setCharAt(0,Zi.getCharAt(Math.floor(s/250)+249)),n.insert(1,Zi.getCharAt(s%250));else throw new Error("Message length not in valid ranges: "+s);for(var o=0,a=n.length();o<a;o++)e.writeCodeword(this.randomize255State(n.charAt(o).charCodeAt(0),e.getCodewordCount()+1))},r.prototype.randomize255State=function(e,n){var a=149*n%255+1,i=e+a;return i<=255?i:i-256},r})(),dS=(function(){function r(){}return r.prototype.getEncodingMode=function(){return Lc},r.prototype.encodeMaximal=function(e){for(var n=new Ci,a=0,i=e.pos,s=0;e.hasMoreCharacters();){var c=e.getCurrentChar();e.pos++,a=this.encodeChar(c,n),n.length()%3===0&&(i=e.pos,s=n.length())}if(s!==n.length()){var l=Math.floor(n.length()/3*2),u=Math.floor(e.getCodewordCount()+l+1);e.updateSymbolInfo(u);var o=e.getSymbolInfo().getDataCapacity()-u,h=Math.floor(n.length()%3);(h===2&&o!==2||h===1&&(a>3||o!==1))&&(e.pos=i)}n.length()>0&&e.writeCodeword(cD),this.handleEOD(e,n)},r.prototype.encode=function(e){for(var n=new Ci;e.hasMoreCharacters();){var a=e.getCurrentChar();e.pos++;var i=this.encodeChar(a,n),s=Math.floor(n.length()/3)*2,c=e.getCodewordCount()+s;e.updateSymbolInfo(c);var l=e.getSymbolInfo().getDataCapacity()-c;if(!e.hasMoreCharacters()){var u=new Ci;for(n.length()%3===2&&l!==2&&(i=this.backtrackOneCharacter(e,n,u,i));n.length()%3===1&&(i>3||l!==1);)i=this.backtrackOneCharacter(e,n,u,i);break}var o=n.length();if(o%3===0){var h=Ah.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(h!==this.getEncodingMode()){e.signalEncoderChange(Ps);break}}}this.handleEOD(e,n)},r.prototype.backtrackOneCharacter=function(e,n,a,i){var s=n.length(),c=n.toString().substring(0,s-i);n.setLengthToZero(),n.append(c),e.pos--;var l=e.getCurrentChar();return i=this.encodeChar(l,a),e.resetSymbolInfo(),i},r.prototype.writeNextTriplet=function(e,n){e.writeCodewords(this.encodeToCodewords(n.toString()));var a=n.toString().substring(3);n.setLengthToZero(),n.append(a)},r.prototype.handleEOD=function(e,n){var a=Math.floor(n.length()/3*2),i=n.length()%3,s=e.getCodewordCount()+a;e.updateSymbolInfo(s);var c=e.getSymbolInfo().getDataCapacity()-s;if(i===2){for(n.append("\0");n.length()>=3;)this.writeNextTriplet(e,n);e.hasMoreCharacters()&&e.writeCodeword(aC)}else if(c===1&&i===1){for(;n.length()>=3;)this.writeNextTriplet(e,n);e.hasMoreCharacters()&&e.writeCodeword(aC),e.pos--}else if(i===0){for(;n.length()>=3;)this.writeNextTriplet(e,n);(c>0||e.hasMoreCharacters())&&e.writeCodeword(aC)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(Ps)},r.prototype.encodeChar=function(e,n){if(e===32)return n.append(3),1;if(e>=48&&e<=57)return n.append(e-48+4),1;if(e>=65&&e<=90)return n.append(e-65+14),1;if(e<32)return n.append(0),n.append(e),2;if(e<=47)return n.append(1),n.append(e-33),2;if(e<=64)return n.append(1),n.append(e-58+15),2;if(e<=95)return n.append(1),n.append(e-91+22),2;if(e<=127)return n.append(2),n.append(e-96),2;n.append("1");var a=2;return a+=this.encodeChar(e-128,n),a},r.prototype.encodeToCodewords=function(e){var n=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,a=n/256,i=n%256,s=new Ci;return s.append(a),s.append(i),s.toString()},r})(),Eoe=(function(){function r(){}return r.prototype.getEncodingMode=function(){return yc},r.prototype.encode=function(e){for(var n=new Ci;e.hasMoreCharacters();){var a=e.getCurrentChar();this.encodeChar(a,n),e.pos++;var i=n.length();if(i>=4){e.writeCodewords(this.encodeToCodewords(n.toString()));var s=n.toString().substring(4);n.setLengthToZero(),n.append(s);var c=Ah.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(c!==this.getEncodingMode()){e.signalEncoderChange(Ps);break}}}n.append(Zi.getCharAt(31)),this.handleEOD(e,n)},r.prototype.handleEOD=function(e,n){try{var a=n.length();if(a===0)return;if(a===1){e.updateSymbolInfo();var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),s=e.getRemainingCharacters();if(s>i&&(e.updateSymbolInfo(e.getCodewordCount()+1),i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),s<=i&&i<=2)return}if(a>4)throw new Error("Count must not exceed 4");var c=a-1,l=this.encodeToCodewords(n.toString()),u=!e.hasMoreCharacters(),o=u&&c<=2;if(c<=2){e.updateSymbolInfo(e.getCodewordCount()+c);var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();i>=3&&(o=!1,e.updateSymbolInfo(e.getCodewordCount()+l.length))}o?(e.resetSymbolInfo(),e.pos-=c):e.writeCodewords(l)}finally{e.signalEncoderChange(Ps)}},r.prototype.encodeChar=function(e,n){e>=32&&e<=63?n.append(e):e>=64&&e<=94?n.append(Zi.getCharAt(e-64)):Ah.illegalCharacter(Zi.getCharAt(e))},r.prototype.encodeToCodewords=function(e){var n=e.length;if(n===0)throw new Error("StringBuilder must not be empty");var a=e.charAt(0).charCodeAt(0),i=n>=2?e.charAt(1).charCodeAt(0):0,s=n>=3?e.charAt(2).charCodeAt(0):0,c=n>=4?e.charAt(3).charCodeAt(0):0,l=(a<<18)+(i<<12)+(s<<6)+c,u=l>>16&255,o=l>>8&255,h=l&255,d=new Ci;return d.append(u),n>=2&&d.append(o),n>=3&&d.append(h),d.toString()},r})(),Boe=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Ioe=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},vs=(function(){function r(e,n,a,i,s,c,l,u){l===void 0&&(l=0),u===void 0&&(u=0),this.rectangular=e,this.dataCapacity=n,this.errorCodewords=a,this.matrixWidth=i,this.matrixHeight=s,this.dataRegions=c,this.rsBlockData=l,this.rsBlockError=u}return r.lookup=function(e,n,a,i,s){var c,l;n===void 0&&(n=0),a===void 0&&(a=null),i===void 0&&(i=null),s===void 0&&(s=!0);try{for(var u=Ioe(_oe),o=u.next();!o.done;o=u.next()){var h=o.value;if(!(n===1&&h.rectangular)&&!(n===2&&!h.rectangular)&&!(a!=null&&(h.getSymbolWidth()<a.getWidth()||h.getSymbolHeight()<a.getHeight()))&&!(i!=null&&(h.getSymbolWidth()>i.getWidth()||h.getSymbolHeight()>i.getHeight()))&&e<=h.dataCapacity)return h}}catch(d){c={error:d}}finally{try{o&&!o.done&&(l=u.return)&&l.call(u)}finally{if(c)throw c.error}}if(s)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},r.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},r.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},r.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},r.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},r.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},r.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},r.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},r.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},r.prototype.getDataCapacity=function(){return this.dataCapacity},r.prototype.getErrorCodewords=function(){return this.errorCodewords},r.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},r.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},r})(),Toe=(function(r){Boe(e,r);function e(){return r.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(n){return n<=8?156:155},e})(vs),_oe=[new vs(!1,3,5,8,8,1),new vs(!1,5,7,10,10,1),new vs(!0,5,7,16,6,1),new vs(!1,8,10,12,12,1),new vs(!0,10,11,14,6,2),new vs(!1,12,12,14,14,1),new vs(!0,16,14,24,10,1),new vs(!1,18,14,16,16,1),new vs(!1,22,18,18,18,1),new vs(!0,22,18,16,10,2),new vs(!1,30,20,20,20,1),new vs(!0,32,24,16,14,2),new vs(!1,36,24,22,22,1),new vs(!1,44,28,24,24,1),new vs(!0,49,28,22,14,2),new vs(!1,62,36,14,14,4),new vs(!1,86,42,16,16,4),new vs(!1,114,48,18,18,4),new vs(!1,144,56,20,20,4),new vs(!1,174,68,22,22,4),new vs(!1,204,84,24,24,4,102,42),new vs(!1,280,112,14,14,16,140,56),new vs(!1,368,144,16,16,16,92,36),new vs(!1,456,192,18,18,16,114,48),new vs(!1,576,224,20,20,16,144,56),new vs(!1,696,272,22,22,16,174,68),new vs(!1,816,336,24,24,16,136,56),new vs(!1,1050,408,18,18,36,175,68),new vs(!1,1304,496,20,20,36,163,62),new Toe],Ooe=(function(){function r(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var n=e.split("").map(function(l){return l.charCodeAt(0)}),a=new Ci,i=0,s=n.length;i<s;i++){var c=String.fromCharCode(n[i]&255);if(c==="?"&&e.charAt(i)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");a.append(c)}this.msg=a.toString(),this.shape=0,this.codewords=new Ci,this.newEncoding=-1}return r.prototype.setSymbolShape=function(e){this.shape=e},r.prototype.setSizeConstraints=function(e,n){this.minSize=e,this.maxSize=n},r.prototype.getMessage=function(){return this.msg},r.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},r.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},r.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},r.prototype.getCodewords=function(){return this.codewords},r.prototype.writeCodewords=function(e){this.codewords.append(e)},r.prototype.writeCodeword=function(e){this.codewords.append(e)},r.prototype.getCodewordCount=function(){return this.codewords.length()},r.prototype.getNewEncoding=function(){return this.newEncoding},r.prototype.signalEncoderChange=function(e){this.newEncoding=e},r.prototype.resetEncoderSignal=function(){this.newEncoding=-1},r.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},r.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},r.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},r.prototype.getSymbolInfo=function(){return this.symbolInfo},r.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=vs.lookup(e,this.shape,this.minSize,this.maxSize,!0))},r.prototype.resetSymbolInfo=function(){this.symbolInfo=null},r})(),koe=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Poe=(function(r){koe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return Vl},e.prototype.encode=function(n){for(var a=new Ci;n.hasMoreCharacters();){var i=n.getCurrentChar();n.pos++,this.encodeChar(i,a);var s=a.length();if(s%3===0){this.writeNextTriplet(n,a);var c=Ah.lookAheadTest(n.getMessage(),n.pos,this.getEncodingMode());if(c!==this.getEncodingMode()){n.signalEncoderChange(Ps);break}}}this.handleEOD(n,a)},e.prototype.encodeChar=function(n,a){switch(n){case 13:a.append(0);break;case 42:a.append(1);break;case 62:a.append(2);break;case 32:a.append(3);break;default:n>=48&&n<=57?a.append(n-48+4):n>=65&&n<=90?a.append(n-65+14):Ah.illegalCharacter(Zi.getCharAt(n));break}return 1},e.prototype.handleEOD=function(n,a){n.updateSymbolInfo();var i=n.getSymbolInfo().getDataCapacity()-n.getCodewordCount(),s=a.length();n.pos-=s,(n.getRemainingCharacters()>1||i>1||n.getRemainingCharacters()!==i)&&n.writeCodeword(Coe),n.getNewEncoding()<0&&n.signalEncoderChange(Ps)},e})(dS),Foe=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Doe=(function(r){Foe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return bu},e.prototype.encodeChar=function(n,a){if(n===32)return a.append(3),1;if(n>=48&&n<=57)return a.append(n-48+4),1;if(n>=97&&n<=122)return a.append(n-97+14),1;if(n<32)return a.append(0),a.append(n),2;if(n<=47)return a.append(1),a.append(n-33),2;if(n<=64)return a.append(1),a.append(n-58+15),2;if(n>=91&&n<=95)return a.append(1),a.append(n-91+22),2;if(n===96)return a.append(2),a.append(0),2;if(n<=90)return a.append(2),a.append(n-65+1),2;if(n<=127)return a.append(2),a.append(n-123+27),2;a.append("1");var i=2;return i+=this.encodeChar(n-128,a),i},e})(dS),Ah=(function(){function r(){}return r.randomize253State=function(e){var n=149*e%253+1,a=W_+n;return a<=254?a:a-254},r.encodeHighLevel=function(e,n,a,i,s){n===void 0&&(n=0),a===void 0&&(a=null),i===void 0&&(i=null),s===void 0&&(s=!1);var c=new dS,l=[new Noe,c,new Doe,new Poe,new Eoe,new Soe],u=new Ooe(e);u.setSymbolShape(n),u.setSizeConstraints(a,i),e.startsWith($_)&&e.endsWith(z_)?(u.writeCodeword(xoe),u.setSkipAtEnd(2),u.pos+=$_.length):e.startsWith(V_)&&e.endsWith(z_)&&(u.writeCodeword(yoe),u.setSkipAtEnd(2),u.pos+=V_.length);var o=Ps;for(s&&(c.encodeMaximal(u),o=u.getNewEncoding(),u.resetEncoderSignal());u.hasMoreCharacters();)l[o].encode(u),u.getNewEncoding()>=0&&(o=u.getNewEncoding(),u.resetEncoderSignal());var h=u.getCodewordCount();u.updateSymbolInfo();var d=u.getSymbolInfo().getDataCapacity();h<d&&o!==Ps&&o!==eu&&o!==yc&&u.writeCodeword("");var A=u.getCodewords();for(A.length()<d&&A.append(W_);A.length()<d;)A.append(this.randomize253State(A.length()+1));return u.getCodewords().toString()},r.lookAheadTest=function(e,n,a){var i=this.lookAheadTestIntern(e,n,a);if(a===Vl&&i===Vl){for(var s=Math.min(n+3,e.length),c=n;c<s;c++)if(!this.isNativeX12(e.charCodeAt(c)))return Ps}else if(a===yc&&i===yc){for(var s=Math.min(n+4,e.length),c=n;c<s;c++)if(!this.isNativeEDIFACT(e.charCodeAt(c)))return Ps}return i},r.lookAheadTestIntern=function(e,n,a){if(n>=e.length)return a;var i;a===Ps?i=[0,1,1,1,1,1.25]:(i=[1,2,2,2,2,2.25],i[a]=0);for(var s=0,c=new Uint8Array(6),l=[];;){if(n+s===e.length){Xl.fill(c,0),Xl.fill(l,0);var u=this.findMinimums(i,l,Bi.MAX_VALUE,c),o=this.getMinimumCount(c);if(l[Ps]===u)return Ps;if(o===1){if(c[eu]>0)return eu;if(c[yc]>0)return yc;if(c[bu]>0)return bu;if(c[Vl]>0)return Vl}return Lc}var h=e.charCodeAt(n+s);if(s++,this.isDigit(h)?i[Ps]+=.5:this.isExtendedASCII(h)?(i[Ps]=Math.ceil(i[Ps]),i[Ps]+=2):(i[Ps]=Math.ceil(i[Ps]),i[Ps]++),this.isNativeC40(h)?i[Lc]+=2/3:this.isExtendedASCII(h)?i[Lc]+=8/3:i[Lc]+=4/3,this.isNativeText(h)?i[bu]+=2/3:this.isExtendedASCII(h)?i[bu]+=8/3:i[bu]+=4/3,this.isNativeX12(h)?i[Vl]+=2/3:this.isExtendedASCII(h)?i[Vl]+=13/3:i[Vl]+=10/3,this.isNativeEDIFACT(h)?i[yc]+=3/4:this.isExtendedASCII(h)?i[yc]+=17/4:i[yc]+=13/4,this.isSpecialB256(h)?i[eu]+=4:i[eu]++,s>=4){if(Xl.fill(c,0),Xl.fill(l,0),this.findMinimums(i,l,Bi.MAX_VALUE,c),l[Ps]<this.min(l[eu],l[Lc],l[bu],l[Vl],l[yc]))return Ps;if(l[eu]<l[Ps]||l[eu]+1<this.min(l[Lc],l[bu],l[Vl],l[yc]))return eu;if(l[yc]+1<this.min(l[eu],l[Lc],l[bu],l[Vl],l[Ps]))return yc;if(l[bu]+1<this.min(l[eu],l[Lc],l[yc],l[Vl],l[Ps]))return bu;if(l[Vl]+1<this.min(l[eu],l[Lc],l[yc],l[bu],l[Ps]))return Vl;if(l[Lc]+1<this.min(l[Ps],l[eu],l[yc],l[bu])){if(l[Lc]<l[Vl])return Lc;if(l[Lc]===l[Vl]){for(var d=n+s+1;d<e.length;){var A=e.charCodeAt(d);if(this.isX12TermSep(A))return Vl;if(!this.isNativeX12(A))break;d++}return Lc}}}}},r.min=function(e,n,a,i,s){var c=Math.min(e,Math.min(n,Math.min(a,i)));return s===void 0?c:Math.min(c,s)},r.findMinimums=function(e,n,a,i){for(var s=0;s<6;s++){var c=n[s]=Math.ceil(e[s]);a>c&&(a=c,Xl.fill(i,0)),a===c&&(i[s]=i[s]+1)}return a},r.getMinimumCount=function(e){for(var n=0,a=0;a<6;a++)n+=e[a];return n||0},r.isDigit=function(e){return e>=48&&e<=57},r.isExtendedASCII=function(e){return e>=128&&e<=255},r.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},r.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},r.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},r.isX12TermSep=function(e){return e===13||e===42||e===62},r.isNativeEDIFACT=function(e){return e>=32&&e<=94},r.isSpecialB256=function(e){return!1},r.determineConsecutiveDigitCount=function(e,n){n===void 0&&(n=0);for(var a=e.length,i=n;i<a&&this.isDigit(e.charCodeAt(i));)i++;return i-n},r.illegalCharacter=function(e){var n=Bi.toHexString(e.charCodeAt(0));throw n="0000".substring(0,4-n.length)+n,new Error("Illegal character: "+e+" (0x"+n+")")},r})(),iC=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},K_=(function(){function r(e){this.charset=e,this.name=e.name}return r.prototype.canEncode=function(e){try{return $d.encode(e,this.charset)!=null}catch{return!1}},r})(),Moe=(function(){function r(e,n,a){var i,s,c,l,u,o;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(K){return new K_(Aoe.forName(K))}),this.encoders=[];var h=[];h.push(new K_(foe.ISO_8859_1));for(var d=n!=null&&n.name.startsWith("UTF"),A=0;A<e.length;A++){var f=!1;try{for(var g=(i=void 0,iC(h)),m=g.next();!m.done;m=g.next()){var x=m.value,y=e.charAt(A),b=y.charCodeAt(0);if(b===a||x.canEncode(y)){f=!0;break}}}catch(K){i={error:K}}finally{try{m&&!m.done&&(s=g.return)&&s.call(g)}finally{if(i)throw i.error}}if(!f)try{for(var w=(c=void 0,iC(this.ENCODERS)),S=w.next();!S.done;S=w.next()){var x=S.value;if(x.canEncode(e.charAt(A))){h.push(x),f=!0;break}}}catch(K){c={error:K}}finally{try{S&&!S.done&&(l=w.return)&&l.call(w)}finally{if(c)throw c.error}}f||(d=!0)}if(h.length===1&&!d)this.encoders=[h[0]];else{this.encoders=[];var N=0;try{for(var C=iC(h),O=C.next();!O.done;O=C.next()){var x=O.value;this.encoders[N++]=x}}catch(K){u={error:K}}finally{try{O&&!O.done&&(o=C.return)&&o.call(C)}finally{if(u)throw u.error}}}var W=-1;if(n!=null){for(var A=0;A<this.encoders.length;A++)if(this.encoders[A]!=null&&n.name===this.encoders[A].name){W=A;break}}this.priorityEncoderIndex=W}return r.prototype.length=function(){return this.encoders.length},r.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},r.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},r.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},r.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},r.prototype.canEncode=function(e,n){if(!(n<this.length()))throw new Error("index must be less than length");return!0},r.prototype.encode=function(e,n){if(!(n<this.length()))throw new Error("index must be less than length");return $d.encode(Zi.getCharAt(e),this.encoders[n].name)},r})(),Roe=3,Loe=(function(){function r(e,n,a){this.fnc1=a;var i=new Moe(e,n,a);if(i.length()===1)for(var s=0;s<this.bytes.length;s++){var c=e.charAt(s).charCodeAt(0);this.bytes[s]=c===a?1e3:c}else this.bytes=this.encodeMinimally(e,i,a)}return r.prototype.getFNC1Character=function(){return this.fnc1},r.prototype.length=function(){return this.bytes.length},r.prototype.haveNCharacters=function(e,n){if(e+n-1>=this.bytes.length)return!1;for(var a=0;a<n;a++)if(this.isECI(e+a))return!1;return!0},r.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},r.prototype.subSequence=function(e,n){if(e<0||e>n||n>this.length())throw new Error(""+e);for(var a=new Ci,i=e;i<n;i++){if(this.isECI(i))throw new Error("value at "+i+" is not a character but an ECI");a.append(this.charAt(i))}return a.toString()},r.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},r.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},r.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},r.prototype.addEdge=function(e,n,a){(e[n][a.encoderIndex]==null||e[n][a.encoderIndex].cachedTotalSize>a.cachedTotalSize)&&(e[n][a.encoderIndex]=a)},r.prototype.addEdges=function(e,n,a,i,s,c){var l=e.charAt(i).charCodeAt(0),u=0,o=n.length();n.getPriorityEncoderIndex()>=0&&(l===c||n.canEncode(l,n.getPriorityEncoderIndex()))&&(u=n.getPriorityEncoderIndex(),o=u+1);for(var h=u;h<o;h++)(l===c||n.canEncode(l,h))&&this.addEdge(a,i+1,new G_(l,n,h,s,c))},r.prototype.encodeMinimally=function(e,n,a){var i=e.length,s=new G_[i+1][n.length()];this.addEdges(e,n,s,0,null,a);for(var c=1;c<=i;c++){for(var l=0;l<n.length();l++)s[c][l]!=null&&c<i&&this.addEdges(e,n,s,c,s[c][l],a);for(var l=0;l<n.length();l++)s[c-1][l]=null}for(var u=-1,o=Bi.MAX_VALUE,l=0;l<n.length();l++)if(s[i][l]!=null){var h=s[i][l];h.cachedTotalSize<o&&(o=h.cachedTotalSize,u=l)}if(u<0)throw new Error('Failed to encode "'+e+'"');for(var d=[],A=s[i][u];A!=null;){if(A.isFNC1())d.unshift(1e3);else for(var f=n.encode(A.c,A.encoderIndex),c=f.length-1;c>=0;c--)d.unshift(f[c]&255);var g=A.previous===null?0:A.previous.encoderIndex;g!==A.encoderIndex&&d.unshift(256+n.getECIValue(A.encoderIndex)),A=A.previous}for(var m=[],c=0;c<m.length;c++)m[c]=d[c];return m},r})(),G_=(function(){function r(e,n,a,i,s){this.c=e,this.encoderSet=n,this.encoderIndex=a,this.previous=i,this.fnc1=s,this.c=e===s?1e3:e;var c=this.isFNC1()?1:n.encode(e,a).length,l=i===null?0:i.encoderIndex;l!==a&&(c+=Roe),i!=null&&(c+=i.cachedTotalSize),this.cachedTotalSize=c}return r.prototype.isFNC1=function(){return this.c===1e3},r})(),Uoe=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();var q_;(function(r){r[r.ASCII=0]="ASCII",r[r.C40=1]="C40",r[r.TEXT=2]="TEXT",r[r.X12=3]="X12",r[r.EDF=4]="EDF",r[r.B256=5]="B256"})(q_||(q_={}));(function(r){Uoe(e,r);function e(n,a,i,s,c){var l=r.call(this,n,a,i)||this;return l.shape=s,l.macroId=c,l}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(Loe);var Hoe=(function(){function r(){}return r.prototype.isCompact=function(){return this.compact},r.prototype.setCompact=function(e){this.compact=e},r.prototype.getSize=function(){return this.size},r.prototype.setSize=function(e){this.size=e},r.prototype.getLayers=function(){return this.layers},r.prototype.setLayers=function(e){this.layers=e},r.prototype.getCodeWords=function(){return this.codeWords},r.prototype.setCodeWords=function(e){this.codeWords=e},r.prototype.getMatrix=function(){return this.matrix},r.prototype.setMatrix=function(e){this.matrix=e},r})(),X_=(function(){function r(){}return r.singletonList=function(e){return[e]},r.min=function(e,n){return e.sort(n)[0]},r})(),Qoe=(function(){function r(e){this.previous=e}return r.prototype.getPrevious=function(){return this.previous},r})(),Woe=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),hS=(function(r){Woe(e,r);function e(n,a,i){var s=r.call(this,n)||this;return s.value=a,s.bitCount=i,s}return e.prototype.appendTo=function(n,a){n.appendBits(this.value,this.bitCount)},e.prototype.add=function(n,a){return new e(this,n,a)},e.prototype.addBinaryShift=function(n,a){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,n,a)},e.prototype.toString=function(){var n=this.value&(1<<this.bitCount)-1;return n|=1<<this.bitCount,"<"+Bi.toBinaryString(n|1<<this.bitCount).substring(1)+">"},e})(Qoe),$oe=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Voe=(function(r){$oe(e,r);function e(n,a,i){var s=r.call(this,n,0,0)||this;return s.binaryShiftStart=a,s.binaryShiftByteCount=i,s}return e.prototype.appendTo=function(n,a){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(n.appendBits(31,5),this.binaryShiftByteCount>62?n.appendBits(this.binaryShiftByteCount-31,16):i===0?n.appendBits(Math.min(this.binaryShiftByteCount,31),5):n.appendBits(this.binaryShiftByteCount-31,5)),n.appendBits(a[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(n,a){return new e(this,n,a)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e})(hS);function zoe(r,e,n){return new Voe(r,e,n)}function _0(r,e,n){return new hS(r,e,n)}var Koe=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],uf=0,wx=1,Wd=2,uD=3,Oh=4,Goe=new hS(null,0,0),sC=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],qoe=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function Xoe(r){var e,n;try{for(var a=qoe(r),i=a.next();!i.done;i=a.next()){var s=i.value;Xl.fill(s,-1)}}catch(c){e={error:c}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return r[uf][Oh]=0,r[wx][Oh]=0,r[wx][uf]=28,r[uD][Oh]=0,r[Wd][Oh]=0,r[Wd][uf]=15,r}var dD=Xoe(Xl.createInt32Array(6,6)),Yoe=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Zoe=(function(){function r(e,n,a,i){this.token=e,this.mode=n,this.binaryShiftByteCount=a,this.bitCount=i}return r.prototype.getMode=function(){return this.mode},r.prototype.getToken=function(){return this.token},r.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},r.prototype.getBitCount=function(){return this.bitCount},r.prototype.latchAndAppend=function(e,n){var a=this.bitCount,i=this.token;if(e!==this.mode){var s=sC[this.mode][e];i=_0(i,s&65535,s>>16),a+=s>>16}var c=e===Wd?4:5;return i=_0(i,n,c),new r(i,e,0,a+c)},r.prototype.shiftAndAppend=function(e,n){var a=this.token,i=this.mode===Wd?4:5;return a=_0(a,dD[this.mode][e],i),a=_0(a,n,5),new r(a,this.mode,0,this.bitCount+i+5)},r.prototype.addBinaryShiftChar=function(e){var n=this.token,a=this.mode,i=this.bitCount;if(this.mode===Oh||this.mode===Wd){var s=sC[a][uf];n=_0(n,s&65535,s>>16),i+=s>>16,a=uf}var c=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,l=new r(n,a,this.binaryShiftByteCount+1,i+c);return l.binaryShiftByteCount===2078&&(l=l.endBinaryShift(e+1)),l},r.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var n=this.token;return n=zoe(n,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new r(n,this.mode,0,this.bitCount)},r.prototype.isBetterThanOrEqualTo=function(e){var n=this.bitCount+(sC[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?n+=r.calculateBinaryShiftCost(e)-r.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(n+=10),n<=e.bitCount},r.prototype.toBitArray=function(e){for(var n,a,i=[],s=this.endBinaryShift(e.length).token;s!==null;s=s.getPrevious())i.unshift(s);var c=new jc;try{for(var l=Yoe(i),u=l.next();!u.done;u=l.next()){var o=u.value;o.appendTo(c,e)}}catch(h){n={error:h}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(n)throw n.error}}return c},r.prototype.toString=function(){return Zi.format("%s bits=%d bytes=%d",Koe[this.mode],this.bitCount,this.binaryShiftByteCount)},r.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},r.INITIAL_STATE=new r(Goe,uf,0,0),r})();function Joe(r){var e=Zi.getCharCode(" "),n=Zi.getCharCode("."),a=Zi.getCharCode(",");r[uf][e]=1;for(var i=Zi.getCharCode("Z"),s=Zi.getCharCode("A"),c=s;c<=i;c++)r[uf][c]=c-s+2;r[wx][e]=1;for(var l=Zi.getCharCode("z"),u=Zi.getCharCode("a"),c=u;c<=l;c++)r[wx][c]=c-u+2;r[Wd][e]=1;for(var o=Zi.getCharCode("9"),h=Zi.getCharCode("0"),c=h;c<=o;c++)r[Wd][c]=c-h+2;r[Wd][a]=12,r[Wd][n]=13;for(var d=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],A=0;A<d.length;A++)r[uD][Zi.getCharCode(d[A])]=A;for(var f=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],A=0;A<f.length;A++)Zi.getCharCode(f[A])>0&&(r[Oh][Zi.getCharCode(f[A])]=A);return r}var oC=Joe(Xl.createInt32Array(5,256)),sv=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ele=(function(){function r(e){this.text=e}return r.prototype.encode=function(){for(var e=Zi.getCharCode(" "),n=Zi.getCharCode(`
`),a=X_.singletonList(Zoe.INITIAL_STATE),i=0;i<this.text.length;i++){var s=void 0,c=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case Zi.getCharCode("\r"):s=c===n?2:0;break;case Zi.getCharCode("."):s=c===e?3:0;break;case Zi.getCharCode(","):s=c===e?4:0;break;case Zi.getCharCode(":"):s=c===e?5:0;break;default:s=0}s>0?(a=r.updateStateListForPair(a,i,s),i++):a=this.updateStateListForChar(a,i)}var l=X_.min(a,function(u,o){return u.getBitCount()-o.getBitCount()});return l.toBitArray(this.text)},r.prototype.updateStateListForChar=function(e,n){var a,i,s=[];try{for(var c=sv(e),l=c.next();!l.done;l=c.next()){var u=l.value;this.updateStateForChar(u,n,s)}}catch(o){a={error:o}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(a)throw a.error}}return r.simplifyStates(s)},r.prototype.updateStateForChar=function(e,n,a){for(var i=this.text[n]&255,s=oC[e.getMode()][i]>0,c=null,l=0;l<=Oh;l++){var u=oC[l][i];if(u>0){if(c==null&&(c=e.endBinaryShift(n)),!s||l===e.getMode()||l===Wd){var o=c.latchAndAppend(l,u);a.push(o)}if(!s&&dD[e.getMode()][l]>=0){var h=c.shiftAndAppend(l,u);a.push(h)}}}if(e.getBinaryShiftByteCount()>0||oC[e.getMode()][i]===0){var d=e.addBinaryShiftChar(n);a.push(d)}},r.updateStateListForPair=function(e,n,a){var i,s,c=[];try{for(var l=sv(e),u=l.next();!u.done;u=l.next()){var o=u.value;this.updateStateForPair(o,n,a,c)}}catch(h){i={error:h}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(i)throw i.error}}return this.simplifyStates(c)},r.updateStateForPair=function(e,n,a,i){var s=e.endBinaryShift(n);if(i.push(s.latchAndAppend(Oh,a)),e.getMode()!==Oh&&i.push(s.shiftAndAppend(Oh,a)),a===3||a===4){var c=s.latchAndAppend(Wd,16-a).latchAndAppend(Wd,1);i.push(c)}if(e.getBinaryShiftByteCount()>0){var l=e.addBinaryShiftChar(n).addBinaryShiftChar(n+1);i.push(l)}},r.simplifyStates=function(e){var n,a,i,s,c=[];try{for(var l=sv(e),u=l.next();!u.done;u=l.next()){var o=u.value,h=!0,d=function(x){if(x.isBetterThanOrEqualTo(o))return h=!1,"break";o.isBetterThanOrEqualTo(x)&&(c=c.filter(function(y){return y!==x}))};try{for(var A=(i=void 0,sv(c)),f=A.next();!f.done;f=A.next()){var g=f.value,m=d(g);if(m==="break")break}}catch(x){i={error:x}}finally{try{f&&!f.done&&(s=A.return)&&s.call(A)}finally{if(i)throw i.error}}h&&c.push(o)}}catch(x){n={error:x}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(n)throw n.error}}return c},r})(),tle=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function r(){}return r.encodeBytes=function(e){return r.encode(e,r.DEFAULT_EC_PERCENT,r.DEFAULT_AZTEC_LAYERS)},r.encode=function(e,n,a){var i=new ele(e).encode(),s=Bi.truncDivision(i.getSize()*n,100)+11,c=i.getSize()+s,l,u,o,h,d;if(a!==r.DEFAULT_AZTEC_LAYERS){if(l=a<0,u=Math.abs(a),u>(l?r.MAX_NB_BITS_COMPACT:r.MAX_NB_BITS))throw new Ia(Zi.format("Illegal value %s for layers",a));o=r.totalBitsInLayer(u,l),h=r.WORD_SIZE[u];var A=o-o%h;if(d=r.stuffBits(i,h),d.getSize()+s>A)throw new Ia("Data to large for user specified layer");if(l&&d.getSize()>h*64)throw new Ia("Data to large for user specified layer")}else{h=0,d=null;for(var f=0;;f++){if(f>r.MAX_NB_BITS)throw new Ia("Data too large for an Aztec code");if(l=f<=3,u=l?f+1:f,o=r.totalBitsInLayer(u,l),!(c>o)){(d==null||h!==r.WORD_SIZE[u])&&(h=r.WORD_SIZE[u],d=r.stuffBits(i,h));var A=o-o%h;if(!(l&&d.getSize()>h*64)&&d.getSize()+s<=A)break}}}var g=r.generateCheckWords(d,o,h),m=d.getSize()/h,x=r.generateModeMessage(l,u,m),y=(l?11:14)+u*4,b=new Int32Array(y),w;if(l){w=y;for(var f=0;f<b.length;f++)b[f]=f}else{w=y+1+2*Bi.truncDivision(Bi.truncDivision(y,2)-1,15);for(var S=Bi.truncDivision(y,2),N=Bi.truncDivision(w,2),f=0;f<S;f++){var C=f+Bi.truncDivision(f,15);b[S-f-1]=N-C-1,b[S+f]=N+C+1}}for(var O=new Mh(w),f=0,W=0;f<u;f++){for(var K=(u-f)*4+(l?9:12),te=0;te<K;te++)for(var q=te*2,Y=0;Y<2;Y++)g.get(W+q+Y)&&O.set(b[f*2+Y],b[f*2+te]),g.get(W+K*2+q+Y)&&O.set(b[f*2+te],b[y-1-f*2-Y]),g.get(W+K*4+q+Y)&&O.set(b[y-1-f*2-Y],b[y-1-f*2-te]),g.get(W+K*6+q+Y)&&O.set(b[y-1-f*2-te],b[f*2+Y]);W+=K*8}if(r.drawModeMessage(O,l,w,x),l)r.drawBullsEye(O,Bi.truncDivision(w,2),5);else{r.drawBullsEye(O,Bi.truncDivision(w,2),7);for(var f=0,te=0;f<Bi.truncDivision(y,2)-1;f+=15,te+=16)for(var Y=Bi.truncDivision(w,2)&1;Y<w;Y+=2)O.set(Bi.truncDivision(w,2)-te,Y),O.set(Bi.truncDivision(w,2)+te,Y),O.set(Y,Bi.truncDivision(w,2)-te),O.set(Y,Bi.truncDivision(w,2)+te)}var P=new Hoe;return P.setCompact(l),P.setSize(w),P.setLayers(u),P.setCodeWords(m),P.setMatrix(O),P},r.drawBullsEye=function(e,n,a){for(var i=0;i<a;i+=2)for(var s=n-i;s<=n+i;s++)e.set(s,n-i),e.set(s,n+i),e.set(n-i,s),e.set(n+i,s);e.set(n-a,n-a),e.set(n-a+1,n-a),e.set(n-a,n-a+1),e.set(n+a,n-a),e.set(n+a,n-a+1),e.set(n+a,n+a-1)},r.generateModeMessage=function(e,n,a){var i=new jc;return e?(i.appendBits(n-1,2),i.appendBits(a-1,6),i=r.generateCheckWords(i,28,4)):(i.appendBits(n-1,5),i.appendBits(a-1,11),i=r.generateCheckWords(i,40,4)),i},r.drawModeMessage=function(e,n,a,i){var s=Bi.truncDivision(a,2);if(n)for(var c=0;c<7;c++){var l=s-3+c;i.get(c)&&e.set(l,s-5),i.get(c+7)&&e.set(s+5,l),i.get(20-c)&&e.set(l,s+5),i.get(27-c)&&e.set(s-5,l)}else for(var c=0;c<10;c++){var l=s-5+c+Bi.truncDivision(c,5);i.get(c)&&e.set(l,s-7),i.get(c+10)&&e.set(s+7,l),i.get(29-c)&&e.set(l,s+7),i.get(39-c)&&e.set(s-7,l)}},r.generateCheckWords=function(e,n,a){var i,s,c=e.getSize()/a,l=new lD(r.getGF(a)),u=Bi.truncDivision(n,a),o=r.bitsToWords(e,a,u);l.encode(o,u-c);var h=n%a,d=new jc;d.appendBits(0,h);try{for(var A=tle(Array.from(o)),f=A.next();!f.done;f=A.next()){var g=f.value;d.appendBits(g,a)}}catch(m){i={error:m}}finally{try{f&&!f.done&&(s=A.return)&&s.call(A)}finally{if(i)throw i.error}}return d},r.bitsToWords=function(e,n,a){var i=new Int32Array(a),s,c;for(s=0,c=e.getSize()/n;s<c;s++){for(var l=0,u=0;u<n;u++)l|=e.get(s*n+u)?1<<n-u-1:0;i[s]=l}return i},r.getGF=function(e){switch(e){case 4:return Lu.AZTEC_PARAM;case 6:return Lu.AZTEC_DATA_6;case 8:return Lu.AZTEC_DATA_8;case 10:return Lu.AZTEC_DATA_10;case 12:return Lu.AZTEC_DATA_12;default:throw new Ia("Unsupported word size "+e)}},r.stuffBits=function(e,n){for(var a=new jc,i=e.getSize(),s=(1<<n)-2,c=0;c<i;c+=n){for(var l=0,u=0;u<n;u++)(c+u>=i||e.get(c+u))&&(l|=1<<n-1-u);(l&s)===s?(a.appendBits(l&s,n),c--):(l&s)===0?(a.appendBits(l|1,n),c--):a.appendBits(l,n)}return a},r.totalBitsInLayer=function(e,n){return((n?88:112)+16*e)*e},r.DEFAULT_EC_PERCENT=33,r.DEFAULT_AZTEC_LAYERS=0,r.MAX_NB_BITS=32,r.MAX_NB_BITS_COMPACT=4,r.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),r})();var rle=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(a[s]=i[s])},r(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),nle=(function(r){rle(e,r);function e(n){var a=r.call(this,n.width,n.height)||this;return a.canvas=n,a.tempCanvasElement=null,a.buffer=e.makeBufferFromCanvasImageData(n),a}return e.makeBufferFromCanvasImageData=function(n){var a;try{a=n.getContext("2d",{willReadFrequently:!0})}catch{a=n.getContext("2d")}if(!a)throw new Error("Couldn't get canvas context.");var i=a.getImageData(0,0,n.width,n.height);return e.toGrayscaleBuffer(i.data,n.width,n.height)},e.toGrayscaleBuffer=function(n,a,i){for(var s=new Uint8ClampedArray(a*i),c=0,l=0,u=n.length;c<u;c+=4,l++){var o=void 0,h=n[c+3];if(h===0)o=255;else{var d=n[c],A=n[c+1],f=n[c+2];o=306*d+601*A+117*f+512>>10}s[l]=o}return s},e.prototype.getRow=function(n,a){if(n<0||n>=this.getHeight())throw new Ia("Requested row is outside the image: "+n);var i=this.getWidth(),s=n*i;return a===null?a=this.buffer.slice(s,s+i):(a.length<i&&(a=new Uint8ClampedArray(i)),a.set(this.buffer.slice(s,s+i))),a},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(n,a,i,s){return r.prototype.crop.call(this,n,a,i,s),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.invert=function(){return new hy(this)},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement},e.prototype.rotate=function(n){var a=this.getTempCanvasElement();if(!a)throw new Error("Could not create a Canvas element.");var i=n*e.DEGREE_TO_RADIANS,s=this.canvas.width,c=this.canvas.height,l=Math.ceil(Math.abs(Math.cos(i))*s+Math.abs(Math.sin(i))*c),u=Math.ceil(Math.abs(Math.sin(i))*s+Math.abs(Math.cos(i))*c);a.width=l,a.height=u;var o=a.getContext("2d");if(!o)throw new Error("Could not create a Canvas Context element.");return o.translate(l/2,u/2),o.rotate(i),o.drawImage(this.canvas,s/-2,c/-2),this.buffer=e.makeBufferFromCanvasImageData(a),this},e.DEGREE_TO_RADIANS=Math.PI/180,e})(Zg);function hD(){return typeof navigator<"u"}function ale(){return hD()&&!!navigator.mediaDevices}function ile(){return!!(ale()&&navigator.mediaDevices.enumerateDevices)}var Zp=function(){return Zp=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Zp.apply(this,arguments)},Vo=function(r,e,n,a){function i(s){return s instanceof n?s:new n(function(c){c(s)})}return new(n||(n=Promise))(function(s,c){function l(h){try{o(a.next(h))}catch(d){c(d)}}function u(h){try{o(a.throw(h))}catch(d){c(d)}}function o(h){h.done?s(h.value):i(h.value).then(l,u)}o((a=a.apply(r,e||[])).next())})},zo=function(r,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},a,i,s,c;return c={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function l(o){return function(h){return u([o,h])}}function u(o){if(a)throw new TypeError("Generator is already executing.");for(;n;)try{if(a=1,i&&(s=o[0]&2?i.return:o[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,o[1])).done)return s;switch(i=0,s&&(o=[o[0]&2,s.value]),o[0]){case 0:case 1:s=o;break;case 4:return n.label++,{value:o[1],done:!1};case 5:n.label++,i=o[1],o=[0];continue;case 7:o=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(o[0]===6||o[0]===2)){n=0;continue}if(o[0]===3&&(!s||o[1]>s[0]&&o[1]<s[3])){n.label=o[1];break}if(o[0]===6&&n.label<s[1]){n.label=s[1],s=o;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(o);break}s[2]&&n.ops.pop(),n.trys.pop();continue}o=e.call(r,n)}catch(h){o=[6,h],i=0}finally{a=s=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},lC=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},sle={delayBetweenScanAttempts:500,delayBetweenScanSuccess:500,tryPlayVideoTimeout:5e3},Hm=(function(){function r(e,n,a){n===void 0&&(n=new Map),a===void 0&&(a={}),this.reader=e,this.hints=n,this.options=Zp(Zp({},sle),a)}return Object.defineProperty(r.prototype,"possibleFormats",{set:function(e){this.hints.set(lo.POSSIBLE_FORMATS,e)},enumerable:!1,configurable:!0}),r.addVideoSource=function(e,n){try{e.srcObject=n}catch{console.error("got interrupted by new loading request")}},r.mediaStreamSetTorch=function(e,n){return Vo(this,void 0,void 0,function(){return zo(this,function(a){switch(a.label){case 0:return[4,e.applyConstraints({advanced:[{fillLightMode:n?"flash":"off",torch:!!n}]})];case 1:return a.sent(),[2]}})})},r.mediaStreamIsTorchCompatible=function(e){var n,a,i=e.getVideoTracks();try{for(var s=lC(i),c=s.next();!c.done;c=s.next()){var l=c.value;if(r.mediaStreamIsTorchCompatibleTrack(l))return!0}}catch(u){n={error:u}}finally{try{c&&!c.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}return!1},r.mediaStreamIsTorchCompatibleTrack=function(e){try{var n=e.getCapabilities();return"torch"in n}catch(a){return console.error(a),console.warn("Your browser may be not fully compatible with WebRTC and/or ImageCapture specs. Torch will not be available."),!1}},r.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&e.readyState>2},r.getMediaElement=function(e,n){var a=document.getElementById(e);if(!a)throw new fl("element with id '".concat(e,"' not found"));if(a.nodeName.toLowerCase()!==n.toLowerCase())throw new fl("element with id '".concat(e,"' must be an ").concat(n," element"));return a},r.createVideoElement=function(e){if(e instanceof HTMLVideoElement)return e;if(typeof e=="string")return r.getMediaElement(e,"video");if(!e&&typeof document<"u"){var n=document.createElement("video");return n.width=200,n.height=200,n}throw new Error("Couldn't get videoElement from videoSource!")},r.prepareImageElement=function(e){if(e instanceof HTMLImageElement)return e;if(typeof e=="string")return r.getMediaElement(e,"img");if(typeof e>"u"){var n=document.createElement("img");return n.width=200,n.height=200,n}throw new Error("Couldn't get imageElement from imageSource!")},r.prepareVideoElement=function(e){var n=r.createVideoElement(e);return n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n},r.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},r.createBinaryBitmapFromCanvas=function(e){var n=new nle(e),a=new XF(n);return new qF(a)},r.drawImageOnCanvas=function(e,n){e.drawImage(n,0,0)},r.getMediaElementDimensions=function(e){if(e instanceof HTMLVideoElement)return{height:e.videoHeight,width:e.videoWidth};if(e instanceof HTMLImageElement)return{height:e.naturalHeight||e.height,width:e.naturalWidth||e.width};throw new Error("Couldn't find the Source's dimensions!")},r.createCaptureCanvas=function(e){if(!e)throw new fl("Cannot create a capture canvas without a media element.");if(typeof document>"u")throw new Error(`The page "Document" is undefined, make sure you're running in a browser.`);var n=document.createElement("canvas"),a=r.getMediaElementDimensions(e),i=a.width,s=a.height;return n.style.width=i+"px",n.style.height=s+"px",n.width=i,n.height=s,n},r.tryPlayVideo=function(e){return Vo(this,void 0,void 0,function(){var n;return zo(this,function(a){switch(a.label){case 0:if(e!=null&&e.ended)return console.error("Trying to play video that has ended."),[2,!1];if(r.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2,!0];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,e.play()];case 2:return a.sent(),[2,!0];case 3:return n=a.sent(),console.warn("It was not possible to play the video.",n),[2,!1];case 4:return[2]}})})},r.createCanvasFromMediaElement=function(e){var n=r.createCaptureCanvas(e),a=n.getContext("2d");if(!a)throw new Error("Couldn't find Canvas 2D Context.");return r.drawImageOnCanvas(a,e),n},r.createBinaryBitmapFromMediaElem=function(e){var n=r.createCanvasFromMediaElement(e);return r.createBinaryBitmapFromCanvas(n)},r.destroyImageElement=function(e){e.src="",e.removeAttribute("src"),e=void 0},r.listVideoInputDevices=function(){return Vo(this,void 0,void 0,function(){var e,n,a,i,s,c,l,u,o,h,d,A;return zo(this,function(f){switch(f.label){case 0:if(!hD())throw new Error("Can't enumerate devices, navigator is not present.");if(!ile())throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=f.sent(),n=[];try{for(a=lC(e),i=a.next();!i.done;i=a.next())s=i.value,c=s.kind==="video"?"videoinput":s.kind,c==="videoinput"&&(l=s.deviceId||s.id,u=s.label||"Video device ".concat(n.length+1),o=s.groupId,h={deviceId:l,label:u,kind:c,groupId:o},n.push(h))}catch(g){d={error:g}}finally{try{i&&!i.done&&(A=a.return)&&A.call(a)}finally{if(d)throw d.error}}return[2,n]}})})},r.findDeviceById=function(e){return Vo(this,void 0,void 0,function(){var n;return zo(this,function(a){switch(a.label){case 0:return[4,r.listVideoInputDevices()];case 1:return n=a.sent(),n?[2,n.find(function(i){return i.deviceId===e})]:[2]}})})},r.cleanVideoSource=function(e){if(e){try{e.srcObject=null}catch{e.src=""}e&&e.removeAttribute("src")}},r.releaseAllStreams=function(){r.streamTracker.length!==0&&r.streamTracker.forEach(function(e){e.getTracks().forEach(function(n){return n.stop()})}),r.streamTracker=[]},r.playVideoOnLoadAsync=function(e,n){return Vo(this,void 0,void 0,function(){var a;return zo(this,function(i){switch(i.label){case 0:return[4,r.tryPlayVideo(e)];case 1:return a=i.sent(),a?[2,!0]:[2,new Promise(function(s,c){var l=setTimeout(function(){r.isVideoPlaying(e)||(c(!1),e.removeEventListener("canplay",u))},n),u=function(){r.tryPlayVideo(e).then(function(o){clearTimeout(l),e.removeEventListener("canplay",u),s(o)})};e.addEventListener("canplay",u)})]}})})},r.attachStreamToVideo=function(e,n,a){return a===void 0&&(a=5e3),Vo(this,void 0,void 0,function(){var i;return zo(this,function(s){switch(s.label){case 0:return i=r.prepareVideoElement(n),r.addVideoSource(i,e),[4,r.playVideoOnLoadAsync(i,a)];case 1:return s.sent(),[2,i]}})})},r._waitImageLoad=function(e){return new Promise(function(n,a){var i=1e4,s=setTimeout(function(){r.isImageLoaded(e)||(e.removeEventListener("load",c),a())},i),c=function(){clearTimeout(s),e.removeEventListener("load",c),n()};e.addEventListener("load",c)})},r.checkCallbackFnOrThrow=function(e){if(!e)throw new fl("`callbackFn` is a required parameter, you cannot capture results without it.")},r.disposeMediaStream=function(e){e.getVideoTracks().forEach(function(n){return n.stop()}),e=void 0},r.prototype.decode=function(e){var n=r.createCanvasFromMediaElement(e);return this.decodeFromCanvas(n)},r.prototype.decodeBitmap=function(e){return this.reader.decode(e,this.hints)},r.prototype.decodeFromCanvas=function(e){var n=r.createBinaryBitmapFromCanvas(e);return this.decodeBitmap(n)},r.prototype.decodeFromImageElement=function(e){return Vo(this,void 0,void 0,function(){var n;return zo(this,function(a){switch(a.label){case 0:if(!e)throw new fl("An image element must be provided.");return n=r.prepareImageElement(e),[4,this._decodeOnLoadImage(n)];case 1:return[2,a.sent()]}})})},r.prototype.decodeFromImageUrl=function(e){return Vo(this,void 0,void 0,function(){var n;return zo(this,function(a){switch(a.label){case 0:if(!e)throw new fl("An URL must be provided.");n=r.prepareImageElement(),n.src=e,a.label=1;case 1:return a.trys.push([1,,3,4]),[4,this.decodeFromImageElement(n)];case 2:return[2,a.sent()];case 3:return r.destroyImageElement(n),[7];case 4:return[2]}})})},r.prototype.decodeFromConstraints=function(e,n,a){return Vo(this,void 0,void 0,function(){var i,s;return zo(this,function(c){switch(c.label){case 0:return r.checkCallbackFnOrThrow(a),[4,this.getUserMedia(e)];case 1:i=c.sent(),c.label=2;case 2:return c.trys.push([2,4,,5]),[4,this.decodeFromStream(i,n,a)];case 3:return[2,c.sent()];case 4:throw s=c.sent(),r.disposeMediaStream(i),s;case 5:return[2]}})})},r.prototype.decodeFromStream=function(e,n,a){return Vo(this,void 0,void 0,function(){var i,s,c,l,u,o,h,d,A,f=this;return zo(this,function(g){switch(g.label){case 0:return r.checkCallbackFnOrThrow(a),i=this.options.tryPlayVideoTimeout,[4,r.attachStreamToVideo(e,n,i)];case 1:return s=g.sent(),c=function(){r.disposeMediaStream(e),r.cleanVideoSource(s)},l=this.scan(s,a,c),u=e.getVideoTracks(),o=Zp(Zp({},l),{stop:function(){l.stop()},streamVideoConstraintsApply:function(m,x){return Vo(this,void 0,void 0,function(){var y,b,w,S,N,C,O;return zo(this,function(W){switch(W.label){case 0:y=x?u.filter(x):u,W.label=1;case 1:W.trys.push([1,6,7,8]),b=lC(y),w=b.next(),W.label=2;case 2:return w.done?[3,5]:(S=w.value,[4,S.applyConstraints(m)]);case 3:W.sent(),W.label=4;case 4:return w=b.next(),[3,2];case 5:return[3,8];case 6:return N=W.sent(),C={error:N},[3,8];case 7:try{w&&!w.done&&(O=b.return)&&O.call(b)}finally{if(C)throw C.error}return[7];case 8:return[2]}})})},streamVideoConstraintsGet:function(m){return u.find(m).getConstraints()},streamVideoSettingsGet:function(m){return u.find(m).getSettings()},streamVideoCapabilitiesGet:function(m){return u.find(m).getCapabilities()}}),h=r.mediaStreamIsTorchCompatible(e),h&&(d=u==null?void 0:u.find(function(m){return r.mediaStreamIsTorchCompatibleTrack(m)}),A=function(m){return Vo(f,void 0,void 0,function(){return zo(this,function(x){switch(x.label){case 0:return[4,r.mediaStreamSetTorch(d,m)];case 1:return x.sent(),[2]}})})},o.switchTorch=A,o.stop=function(){return Vo(f,void 0,void 0,function(){return zo(this,function(m){switch(m.label){case 0:return l.stop(),[4,A(!1)];case 1:return m.sent(),[2]}})})}),[2,o]}})})},r.prototype.decodeFromVideoDevice=function(e,n,a){return Vo(this,void 0,void 0,function(){var i,s;return zo(this,function(c){switch(c.label){case 0:return r.checkCallbackFnOrThrow(a),e?i={deviceId:{exact:e}}:i={facingMode:"environment"},s={video:i},[4,this.decodeFromConstraints(s,n,a)];case 1:return[2,c.sent()]}})})},r.prototype.decodeFromVideoElement=function(e,n){return Vo(this,void 0,void 0,function(){var a,i;return zo(this,function(s){switch(s.label){case 0:if(r.checkCallbackFnOrThrow(n),!e)throw new fl("A video element must be provided.");return a=r.prepareVideoElement(e),i=this.options.tryPlayVideoTimeout,[4,r.playVideoOnLoadAsync(a,i)];case 1:return s.sent(),[2,this.scan(a,n)]}})})},r.prototype.decodeFromVideoUrl=function(e,n){return Vo(this,void 0,void 0,function(){var a,i,s,c;return zo(this,function(l){switch(l.label){case 0:if(r.checkCallbackFnOrThrow(n),!e)throw new fl("An URL must be provided.");return a=r.prepareVideoElement(),a.src=e,i=function(){r.cleanVideoSource(a)},s=this.options.tryPlayVideoTimeout,[4,r.playVideoOnLoadAsync(a,s)];case 1:return l.sent(),c=this.scan(a,n,i),[2,c]}})})},r.prototype.decodeOnceFromConstraints=function(e,n){return Vo(this,void 0,void 0,function(){var a;return zo(this,function(i){switch(i.label){case 0:return[4,this.getUserMedia(e)];case 1:return a=i.sent(),[4,this.decodeOnceFromStream(a,n)];case 2:return[2,i.sent()]}})})},r.prototype.decodeOnceFromStream=function(e,n){return Vo(this,void 0,void 0,function(){var a,i,s;return zo(this,function(c){switch(c.label){case 0:return a=!!n,[4,r.attachStreamToVideo(e,n)];case 1:i=c.sent(),c.label=2;case 2:return c.trys.push([2,,4,5]),[4,this.scanOneResult(i)];case 3:return s=c.sent(),[2,s];case 4:return a||r.cleanVideoSource(i),[7];case 5:return[2]}})})},r.prototype.decodeOnceFromVideoDevice=function(e,n){return Vo(this,void 0,void 0,function(){var a,i;return zo(this,function(s){switch(s.label){case 0:return e?a={deviceId:{exact:e}}:a={facingMode:"environment"},i={video:a},[4,this.decodeOnceFromConstraints(i,n)];case 1:return[2,s.sent()]}})})},r.prototype.decodeOnceFromVideoElement=function(e){return Vo(this,void 0,void 0,function(){var n,a;return zo(this,function(i){switch(i.label){case 0:if(!e)throw new fl("A video element must be provided.");return n=r.prepareVideoElement(e),a=this.options.tryPlayVideoTimeout,[4,r.playVideoOnLoadAsync(n,a)];case 1:return i.sent(),[4,this.scanOneResult(n)];case 2:return[2,i.sent()]}})})},r.prototype.decodeOnceFromVideoUrl=function(e){return Vo(this,void 0,void 0,function(){var n,a;return zo(this,function(i){switch(i.label){case 0:if(!e)throw new fl("An URL must be provided.");n=r.prepareVideoElement(),n.src=e,a=this.decodeOnceFromVideoElement(n),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,a];case 2:return[2,i.sent()];case 3:return r.cleanVideoSource(n),[7];case 4:return[2]}})})},r.prototype.scanOneResult=function(e,n,a,i){var s=this;return n===void 0&&(n=!0),a===void 0&&(a=!0),i===void 0&&(i=!0),new Promise(function(c,l){s.scan(e,function(u,o,h){if(u){c(u),h.stop();return}if(o){if(o instanceof Tr&&n||o instanceof Sl&&a||o instanceof gn&&i)return;h.stop(),l(o)}})})},r.prototype.scan=function(e,n,a){var i=this;r.checkCallbackFnOrThrow(n);var s=r.createCaptureCanvas(e),c;try{c=s.getContext("2d",{willReadFrequently:!0})}catch{c=s.getContext("2d")}if(!c)throw new Error("Couldn't create canvas for visual element scan.");var l=function(){c=void 0,s=void 0},u=!1,o,h=function(){u=!0,clearTimeout(o),l(),a&&a()},d={stop:h},A=function(){if(!u)try{r.drawImageOnCanvas(c,e);var f=i.decodeFromCanvas(s);n(f,void 0,d),o=setTimeout(A,i.options.delayBetweenScanSuccess)}catch(y){n(void 0,y,d);var g=y instanceof Sl,m=y instanceof gn,x=y instanceof Tr;if(g||m||x){o=setTimeout(A,i.options.delayBetweenScanAttempts);return}l(),a&&a(y)}};return A(),d},r.prototype._decodeOnLoadImage=function(e){return Vo(this,void 0,void 0,function(){var n;return zo(this,function(a){switch(a.label){case 0:return n=r.isImageLoaded(e),n?[3,2]:[4,r._waitImageLoad(e)];case 1:a.sent(),a.label=2;case 2:return[2,this.decode(e)]}})})},r.prototype.getUserMedia=function(e){return Vo(this,void 0,void 0,function(){var n;return zo(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=a.sent(),r.streamTracker.push(n),[2,n]}})})},r.streamTracker=[],r})(),ole=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(a[s]=i[s])},r(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){ole(e,r);function e(n,a){return r.call(this,new gx,n,a)||this}return e})(Hm);var lle=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(a[s]=i[s])},r(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){lle(e,r);function e(n,a){return r.call(this,new Xp(n),n,a)||this}return e})(Hm);var cle=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(a[s]=i[s])},r(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){cle(e,r);function e(n,a){return r.call(this,new xx,n,a)||this}return e})(Hm);var ule=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(a[s]=i[s])},r(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),dle=(function(r){ule(e,r);function e(n,a){var i=this,s=new oD;return s.setHints(n),i=r.call(this,s,n,a)||this,i.reader=s,i}return Object.defineProperty(e.prototype,"possibleFormats",{set:function(n){this.hints.set(lo.POSSIBLE_FORMATS,n),this.reader.setHints(this.hints)},enumerable:!1,configurable:!0}),e.prototype.decodeBitmap=function(n){return this.reader.decodeWithState(n)},e.prototype.setHints=function(n){this.hints=n,this.reader.setHints(this.hints)},e})(Hm),hle=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(a[s]=i[s])},r(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){hle(e,r);function e(n,a){return r.call(this,new bx,n,a)||this}return e})(Hm);var Ale=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(a[s]=i[s])},r(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){Ale(e,r);function e(n,a){return r.call(this,new yx,n,a)||this}return e})(Hm);const fle=()=>{const r=Ka(),[e,n]=k.useState(""),[a,i]=k.useState(null),[s,c]=k.useState(!1),[l,u]=k.useState(null),o=k.useRef(null),h=k.useRef(null),d=k.useRef(null),[A,f]=k.useState(!1);k.useEffect(()=>{o.current&&o.current.focus()},[]);const g=k.useCallback(()=>{var w;try{(w=d.current)==null||w.reset()}catch{}finally{d.current=null,f(!1)}},[]);k.useEffect(()=>()=>{g()},[g]);const m=async w=>{if(!w||w.length<5){u("Please enter a valid barcode (at least 5 characters)");return}c(!0),u(null),i(null);try{const S=await AA.lookupBarcode(w);i(S),n("")}catch(S){const N=(S==null?void 0:S.message)||"Barcode not found";u(N),i(null)}finally{c(!1)}},x=k.useCallback(async()=>{if(u(null),i(null),!h.current){u("Camera preview not available");return}g();const w=new dle;d.current=w,f(!0);try{await w.decodeFromConstraints({video:{facingMode:{ideal:"environment"}}},h.current,(S,N)=>{var C;if(S){const O=(C=S.getText())==null?void 0:C.trim();O&&(g(),m(O))}})}catch(S){g();const N=(S==null?void 0:S.name)==="NotAllowedError"?"Camera permission denied. Please allow camera access and try again.":(S==null?void 0:S.name)==="NotFoundError"?"No camera found on this device.":(S==null?void 0:S.message)||"Failed to start camera scanner";u(N)}},[g]),y=w=>{w.preventDefault(),e.trim()&&m(e.trim())},b=()=>{a&&r("/mobile/waste-entry",{state:{barcode:a.barcode,companyId:a.companyId,hcfId:a.hcfId,wasteColor:a.wasteColor}})};return t.jsx(Uh,{title:"Scan Barcode",showBackButton:!0,onBack:()=>r("/mobile/home"),children:t.jsxs("div",{className:"mobile-scan",children:[t.jsxs("div",{className:"mobile-scan-camera-section",children:[t.jsx("div",{className:"mobile-scan-camera-actions",children:A?t.jsx("button",{type:"button",className:"mobile-scan-camera-btn stop",onClick:g,children:"Stop Camera"}):t.jsx("button",{type:"button",className:"mobile-scan-camera-btn",onClick:x,disabled:s,children:"Start Camera Scan"})}),A&&t.jsxs("div",{className:"mobile-scan-camera-preview",children:[t.jsx("video",{ref:h,className:"mobile-scan-video",muted:!0,playsInline:!0}),t.jsx("div",{className:"mobile-scan-overlay","aria-hidden":"true"}),t.jsx("div",{className:"mobile-scan-hint",children:"Align barcode/QR inside the frame"})]})]}),t.jsxs("div",{className:"mobile-scan-input-section",children:[t.jsx("form",{onSubmit:y,className:"mobile-scan-form",children:t.jsxs("div",{className:"mobile-scan-input-wrapper",children:[t.jsx("input",{ref:o,type:"text",value:e,onChange:w=>n(w.target.value),placeholder:"Enter or scan barcode",className:"mobile-scan-input",autoFocus:!0,autoComplete:"off"}),t.jsx("button",{type:"submit",className:"mobile-scan-submit-btn",disabled:s||!e.trim(),children:s?"...":""})]})}),l&&t.jsxs("div",{className:"mobile-scan-error",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),t.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),t.jsx("span",{children:l})]})]}),a&&t.jsxs("div",{className:"mobile-scan-result",children:[t.jsxs("div",{className:"mobile-scan-result-header",children:[t.jsx("h3",{children:"Barcode Found"}),t.jsx("div",{className:"mobile-scan-result-badge","data-color":a.wasteColor,children:a.wasteColor})]}),t.jsxs("div",{className:"mobile-scan-result-details",children:[t.jsxs("div",{className:"mobile-scan-result-item",children:[t.jsx("span",{className:"mobile-scan-result-label",children:"Barcode:"}),t.jsx("span",{className:"mobile-scan-result-value",children:a.barcode})]}),t.jsxs("div",{className:"mobile-scan-result-item",children:[t.jsx("span",{className:"mobile-scan-result-label",children:"Company:"}),t.jsx("span",{className:"mobile-scan-result-value",children:a.companyName})]}),t.jsxs("div",{className:"mobile-scan-result-item",children:[t.jsx("span",{className:"mobile-scan-result-label",children:"HCF:"}),t.jsx("span",{className:"mobile-scan-result-value",children:a.hcfName})]}),t.jsxs("div",{className:"mobile-scan-result-item",children:[t.jsx("span",{className:"mobile-scan-result-label",children:"HCF Code:"}),t.jsx("span",{className:"mobile-scan-result-value",children:a.hcfCode})]})]}),t.jsx("button",{className:"mobile-scan-proceed-btn",onClick:b,children:"Proceed to Waste Entry"})]}),!a&&!l&&t.jsxs("div",{className:"mobile-scan-instructions",children:[t.jsx("h4",{children:"How to scan:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Enter the barcode manually in the input field above"}),t.jsx("li",{children:"Or tap Start Camera Scan to scan using your device camera"}),t.jsx("li",{children:"Barcode must be at least 5 characters long"})]})]})]})})},ple=()=>{const r=Ka(),e=Tn(),[n,a]=k.useState(""),[i,s]=k.useState(""),[c,l]=k.useState(""),[u,o]=k.useState(!1),[h,d]=k.useState(null),[A,f]=k.useState(!1);k.useEffect(()=>{if(e.state){const{barcode:m}=e.state;m&&a(m)}},[e.state]);const g=async m=>{if(m.preventDefault(),d(null),f(!1),!n||n.length<5){d("Please enter a valid barcode");return}if(!i||parseFloat(i)<=0){d("Please enter a valid weight");return}o(!0);try{await AA.createWasteCollection({barcode:n.trim(),weightKg:parseFloat(i),notes:c.trim()||void 0}),f(!0),a(""),s(""),l(""),setTimeout(()=>{r("/mobile/home")},2e3)}catch(x){d((x==null?void 0:x.message)||"Failed to save waste entry")}finally{o(!1)}};return t.jsx(Uh,{title:"Waste Entry",showBackButton:!0,onBack:()=>r("/mobile/home"),children:t.jsxs("div",{className:"mobile-waste-entry",children:[A&&t.jsxs("div",{className:"mobile-waste-entry-success",children:[t.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"20 6 9 17 4 12"})}),t.jsx("span",{children:"Waste entry saved successfully!"})]}),h&&t.jsxs("div",{className:"mobile-waste-entry-error",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),t.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),t.jsx("span",{children:h})]}),t.jsxs("form",{onSubmit:g,className:"mobile-waste-entry-form",children:[t.jsxs("div",{className:"mobile-waste-entry-field",children:[t.jsx("label",{htmlFor:"barcode",children:"Barcode *"}),t.jsx("input",{id:"barcode",type:"text",value:n,onChange:m=>a(m.target.value),placeholder:"Enter barcode",required:!0,disabled:u})]}),t.jsxs("div",{className:"mobile-waste-entry-field",children:[t.jsx("label",{htmlFor:"weight",children:"Weight (Kg) *"}),t.jsx("input",{id:"weight",type:"number",step:"0.01",min:"0",value:i,onChange:m=>s(m.target.value),placeholder:"0.00",required:!0,disabled:u})]}),t.jsxs("div",{className:"mobile-waste-entry-field",children:[t.jsx("label",{htmlFor:"notes",children:"Notes (Optional)"}),t.jsx("textarea",{id:"notes",value:c,onChange:m=>l(m.target.value),placeholder:"Add any additional notes...",rows:4,disabled:u})]}),t.jsx("button",{type:"submit",className:"mobile-waste-entry-submit",disabled:u||A,children:u?"Saving...":A?"Saved!":"Save Entry"})]})]})})},mle=()=>{const r=Ka();return t.jsx(Uh,{title:"Route Assignment",showBackButton:!0,onBack:()=>r("/mobile/home"),children:t.jsx("div",{className:"mobile-assign-hospital",children:t.jsxs("div",{className:"mobile-assign-hospital-info",children:[t.jsx("p",{children:"Route assignment functionality will be available here."}),t.jsx("button",{className:"mobile-assign-hospital-btn",onClick:()=>r("/transaction/route-assignment"),children:"Open Full View"})]})})})},AD=({label:r="Company",placeholder:e="Select Company",value:n,options:a,onChange:i})=>{const[s,c]=k.useState(!1),[l,u]=k.useState(""),o=k.useMemo(()=>a.find(d=>d.id===n),[a,n]),h=k.useMemo(()=>{const d=l.trim().toLowerCase();return d?a.filter(A=>A.name.toLowerCase().includes(d)):a},[a,l]);return t.jsxs("div",{className:"company-picker",children:[r&&t.jsx("div",{className:"company-picker-label",children:r}),t.jsxs("button",{type:"button",className:"company-picker-button",onClick:()=>c(!0),children:[t.jsx("span",{className:"company-picker-button-text",children:o?o.name:e}),t.jsx("span",{className:"company-picker-chevron","aria-hidden":"true",children:""})]}),s&&t.jsx("div",{className:"company-picker-overlay",onClick:()=>c(!1),children:t.jsxs("div",{className:"company-picker-sheet",onClick:d=>d.stopPropagation(),children:[t.jsxs("div",{className:"company-picker-sheet-header",children:[t.jsx("div",{className:"company-picker-sheet-title",children:e}),t.jsx("button",{type:"button",className:"company-picker-close",onClick:()=>c(!1),"aria-label":"Close",children:""})]}),t.jsx("div",{className:"company-picker-search",children:t.jsx("input",{value:l,onChange:d=>u(d.target.value),placeholder:"Search company..."})}),t.jsx("div",{className:"company-picker-list",children:h.length===0?t.jsx("div",{className:"company-picker-empty",children:"No companies found."}):h.map(d=>t.jsx("button",{type:"button",className:`company-picker-item ${d.id===n?"active":""}`,onClick:()=>{i(d.id),c(!1)},children:d.name},d.id))})]})})]})},gle=()=>{const r=Ka(),[e,n]=k.useState([]),[a,i]=k.useState(""),[s,c]=k.useState([]),[l,u]=k.useState(!1),[o,h]=k.useState(null),[d,A]=k.useState("");k.useEffect(()=>{(async()=>{try{const m=await Ha.getAllCompanies(!0);n(m),m.length===1&&i(m[0].id)}catch(m){h((m==null?void 0:m.message)||"Failed to load companies")}})()},[]),k.useEffect(()=>{(async()=>{if(!a){c([]);return}u(!0),h(null);try{const m=await Fs.getAllHcfs(a,!0);c(Array.isArray(m)?m:[])}catch(m){h((m==null?void 0:m.message)||"Failed to load HCF list")}finally{u(!1)}})()},[a]);const f=k.useMemo(()=>{const g=d.trim().toLowerCase();return g?s.filter(m=>(m.hcfCode||"").toLowerCase().includes(g)||(m.hcfName||"").toLowerCase().includes(g)||(m.district||"").toLowerCase().includes(g)||(m.pincode||"").toLowerCase().includes(g)):s},[s,d]);return t.jsx(Uh,{title:"HCF Master",showBackButton:!0,onBack:()=>r("/mobile/home"),children:t.jsxs("div",{className:"mobile-hcf-master",children:[t.jsxs("div",{className:"mobile-hcf-toolbar",children:[t.jsx(AD,{placeholder:"Select Company",value:a,options:e.map(g=>({id:g.id,name:g.companyName})),onChange:i}),t.jsx("input",{className:"mobile-hcf-search",value:d,onChange:g=>A(g.target.value),placeholder:"Search HCF code / name / area / pincode"})]}),o&&t.jsx("div",{className:"mobile-hcf-empty",children:o}),t.jsx("div",{className:"mobile-hcf-table",children:l?t.jsx("div",{className:"mobile-hcf-empty",children:"Loading..."}):f.length===0?t.jsx("div",{className:"mobile-hcf-empty",children:"No HCFs found."}):t.jsxs("table",{children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"HCF Code"}),t.jsx("th",{children:"HCF Name"}),t.jsx("th",{children:"Area"}),t.jsx("th",{children:"PinCode"})]})}),t.jsx("tbody",{children:f.map(g=>t.jsxs("tr",{children:[t.jsx("td",{children:g.hcfCode}),t.jsx("td",{children:g.hcfName}),t.jsx("td",{children:g.district||g.areaId||"-"}),t.jsx("td",{children:g.pincode||"-"})]},g.id))})]})})]})})},fD="mw-mobile-settings",vle=()=>{try{const r=localStorage.getItem(fD);if(!r)return{darkMode:!1,notifications:!0};const e=JSON.parse(r);return{darkMode:!!e.darkMode,notifications:e.notifications!==!1}}catch{return{darkMode:!1,notifications:!0}}},xle=r=>{try{localStorage.setItem(fD,JSON.stringify(r))}catch{}},yle=()=>{const r=Ka(),{user:e,logout:n}=da(),[a,i]=k.useState(()=>vle()),s=k.useMemo(()=>e?e.name||e.email||"User":"Guest",[e]);k.useEffect(()=>{a.darkMode?document.body.classList.add("mw-dark"):document.body.classList.remove("mw-dark"),xle(a)},[a]);const c=u=>{i(o=>({...o,[u]:!o[u]}))},l=()=>{try{localStorage.removeItem("mw-auth-user")}catch{}n(),r("/mobile/login",{replace:!0})};return t.jsx(Uh,{title:"Settings",showBackButton:!0,onBack:()=>r(-1),children:t.jsxs("div",{className:"mobile-settings",children:[t.jsxs("div",{className:"mobile-settings-card",children:[t.jsx("div",{className:"mobile-settings-title",children:"Account"}),t.jsx("div",{className:"mobile-settings-row",children:t.jsxs("div",{className:"mobile-settings-row-main",children:[t.jsx("div",{className:"mobile-settings-label",children:"Signed in as"}),t.jsx("div",{className:"mobile-settings-value",children:s})]})})]}),t.jsxs("div",{className:"mobile-settings-card",children:[t.jsx("div",{className:"mobile-settings-title",children:"Preferences"}),t.jsxs("button",{className:"mobile-settings-row button",onClick:()=>c("darkMode"),children:[t.jsxs("div",{className:"mobile-settings-row-main",children:[t.jsx("div",{className:"mobile-settings-label",children:"Dark mode"}),t.jsx("div",{className:"mobile-settings-sub",children:"Applies a dark theme on this device"})]}),t.jsx("div",{className:`mobile-settings-toggle ${a.darkMode?"on":""}`,"aria-hidden":"true"})]}),t.jsxs("button",{className:"mobile-settings-row button",onClick:()=>c("notifications"),children:[t.jsxs("div",{className:"mobile-settings-row-main",children:[t.jsx("div",{className:"mobile-settings-label",children:"Notifications"}),t.jsx("div",{className:"mobile-settings-sub",children:"Enable in-app reminders (placeholder)"})]}),t.jsx("div",{className:`mobile-settings-toggle ${a.notifications?"on":""}`,"aria-hidden":"true"})]})]}),t.jsxs("div",{className:"mobile-settings-card",children:[t.jsx("div",{className:"mobile-settings-title",children:"Security"}),t.jsx("button",{className:"mobile-settings-row danger",onClick:l,children:t.jsxs("div",{className:"mobile-settings-row-main",children:[t.jsx("div",{className:"mobile-settings-label",children:"Logout"}),t.jsx("div",{className:"mobile-settings-sub",children:"Sign out from this device"})]})})]}),t.jsx("div",{className:"mobile-settings-footer",children:t.jsx("div",{className:"mobile-settings-footer-text",children:"Medi Waste Management (Mobile)"})})]})})},cC=r=>!!r&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(r),ble=()=>{const r=Ka(),{user:e,logout:n}=da(),[a,i]=k.useState(!1),[s,c]=k.useState(null),[l,u]=k.useState(null),[o,h]=k.useState(null),[d,A]=k.useState(!1),[f,g]=k.useState({emailAddress:"",emergencyContact:"",addressLine:"",city:"",district:"",pincode:""}),[m,x]=k.useState({currentPassword:"",newPassword:"",confirmPassword:""}),y=k.useMemo(()=>e?(e.roles||[]).join(", "):"",[e]);k.useEffect(()=>{(async()=>{if(e!=null&&e.id){i(!0),c(null);try{if(cC(e.id)){const C=await Kl.getUserById(e.id);h(C),g({emailAddress:C.emailAddress||"",emergencyContact:C.emergencyContact||"",addressLine:C.addressLine||"",city:C.city||"",district:C.district||"",pincode:C.pincode||""})}else c("Showing basic profile from session.")}catch(C){c((C==null?void 0:C.message)||"Failed to load profile.")}finally{i(!1)}}})()},[e==null?void 0:e.id]);const b=async()=>{if(!(e!=null&&e.id)||!cC(e.id)){c("Cannot update profile: user id missing.");return}i(!0),c(null),u(null);try{if(await Kl.updateCompleteUser(e.id,{companyId:(o==null?void 0:o.companyId)||"",userName:(o==null?void 0:o.userName)||e.name||"",mobileNumber:(o==null?void 0:o.mobileNumber)||"-",userRoleId:(o==null?void 0:o.userRoleId)||void 0,emailAddress:f.emailAddress||void 0,emergencyContact:f.emergencyContact||void 0,addressLine:f.addressLine||void 0,city:f.city||void 0,district:f.district||void 0,pincode:f.pincode||void 0}),u("Profile updated successfully."),A(!1),cC(e.id)){const N=await Kl.getUserById(e.id);h(N)}}catch(N){c((N==null?void 0:N.message)||"Failed to update profile.")}finally{i(!1)}},w=async()=>{if(c(null),u(null),!(e!=null&&e.id)){c("Unable to identify user for password change.");return}if(!m.currentPassword||!m.newPassword){c("Please fill current password and new password.");return}if(m.newPassword!==m.confirmPassword){c("New password and confirm password do not match.");return}i(!0);try{await mx(e.id,{currentPassword:m.currentPassword,newPassword:m.newPassword}),u("Password changed successfully."),x({currentPassword:"",newPassword:"",confirmPassword:""})}catch(N){c((N==null?void 0:N.message)||"Failed to change password.")}finally{i(!1)}},S=()=>{n(),r("/mobile/login",{replace:!0})};return t.jsx(Uh,{title:"Profile",showBackButton:!0,onBack:()=>r(-1),children:t.jsxs("div",{className:"mobile-profile",children:[(s||l)&&t.jsx("div",{className:`mobile-profile-banner ${l?"success":"info"}`,children:l||s}),t.jsxs("div",{className:"mobile-profile-card",children:[t.jsx("div",{className:"mobile-profile-section-title",children:"Account"}),t.jsxs("div",{className:"mobile-profile-row",children:[t.jsx("div",{className:"label",children:"Name"}),t.jsx("div",{className:"value",children:(e==null?void 0:e.name)||"-"})]}),t.jsxs("div",{className:"mobile-profile-row",children:[t.jsx("div",{className:"label",children:"Email"}),t.jsx("div",{className:"value",children:(e==null?void 0:e.email)||(o==null?void 0:o.emailAddress)||"-"})]}),t.jsxs("div",{className:"mobile-profile-row",children:[t.jsx("div",{className:"label",children:"Role"}),t.jsx("div",{className:"value",children:y||(o==null?void 0:o.userRoleId)||"-"})]})]}),t.jsxs("div",{className:"mobile-profile-card",children:[t.jsxs("div",{className:"mobile-profile-section-title",children:["Contact Info",t.jsx("button",{className:"mobile-profile-link",onClick:()=>{u(null),c(null),A(N=>!N)},disabled:a,type:"button",children:d?"Cancel":"Edit"})]}),t.jsxs("div",{className:"mobile-profile-form",children:[t.jsxs("label",{children:["Email",t.jsx("input",{value:d?f.emailAddress:(o==null?void 0:o.emailAddress)||(e==null?void 0:e.email)||"",onChange:N=>g(C=>({...C,emailAddress:N.target.value})),disabled:!d||a,placeholder:"Email address"})]}),t.jsxs("label",{children:["Emergency Contact",t.jsx("input",{value:f.emergencyContact,onChange:N=>g(C=>({...C,emergencyContact:N.target.value})),disabled:!d||a,placeholder:"Emergency contact"})]}),t.jsxs("label",{children:["Address",t.jsx("input",{value:f.addressLine,onChange:N=>g(C=>({...C,addressLine:N.target.value})),disabled:!d||a,placeholder:"Address line"})]}),t.jsxs("div",{className:"two-col",children:[t.jsxs("label",{children:["City",t.jsx("input",{value:f.city,onChange:N=>g(C=>({...C,city:N.target.value})),disabled:!d||a,placeholder:"City"})]}),t.jsxs("label",{children:["Pincode",t.jsx("input",{value:f.pincode,onChange:N=>g(C=>({...C,pincode:N.target.value})),disabled:!d||a,placeholder:"Pincode"})]})]}),t.jsxs("label",{children:["District",t.jsx("input",{value:f.district,onChange:N=>g(C=>({...C,district:N.target.value})),disabled:!d||a,placeholder:"District"})]}),d&&t.jsx("button",{className:"mobile-profile-btn",onClick:b,disabled:a,type:"button",children:a?"Saving...":"Save"})]})]}),t.jsxs("div",{className:"mobile-profile-card",children:[t.jsx("div",{className:"mobile-profile-section-title",children:"Security"}),t.jsxs("div",{className:"mobile-profile-form",children:[t.jsxs("label",{children:["Current Password",t.jsx("input",{type:"password",value:m.currentPassword,onChange:N=>x(C=>({...C,currentPassword:N.target.value})),disabled:a})]}),t.jsxs("label",{children:["New Password",t.jsx("input",{type:"password",value:m.newPassword,onChange:N=>x(C=>({...C,newPassword:N.target.value})),disabled:a})]}),t.jsxs("label",{children:["Confirm Password",t.jsx("input",{type:"password",value:m.confirmPassword,onChange:N=>x(C=>({...C,confirmPassword:N.target.value})),disabled:a})]}),t.jsx("button",{className:"mobile-profile-btn",onClick:w,disabled:a,type:"button",children:a?"Updating...":"Change Password"})]})]}),t.jsx("button",{className:"mobile-profile-btn danger",onClick:S,type:"button",children:"Logout"})]})})},wle=r=>{if(!r)return"-";const e=new Date(r);return Number.isNaN(e.getTime())?r:e.toLocaleString()},jle=()=>{const r=Ka(),[e,n]=k.useState([]),[a,i]=k.useState(!1),[s,c]=k.useState(null),[l,u]=k.useState(""),o=k.useMemo(()=>{const d=l.trim().toLowerCase();return d?e.filter(A=>(A.barcode||"").toLowerCase().includes(d)||(A.status||"").toLowerCase().includes(d)||(A.wasteColor||"").toLowerCase().includes(d)):e},[e,l]),h=async()=>{i(!0),c(null);try{const d=await AA.getAllWasteCollections();n(Array.isArray(d)?d:[])}catch(d){c((d==null?void 0:d.message)||"Failed to load waste collections")}finally{i(!1)}};return k.useEffect(()=>{h()},[]),t.jsx(Uh,{title:"Waste Collections",showBackButton:!0,onBack:()=>r(-1),children:t.jsxs("div",{className:"mobile-wc",children:[t.jsxs("div",{className:"mobile-wc-toolbar",children:[t.jsx("input",{className:"mobile-wc-search",placeholder:"Search by barcode / status / color",value:l,onChange:d=>u(d.target.value)}),t.jsx("button",{className:"mobile-wc-refresh",onClick:h,disabled:a,type:"button",children:a?"...":""})]}),s&&t.jsx("div",{className:"mobile-wc-banner error",children:s}),t.jsxs("div",{className:"mobile-wc-actions",children:[t.jsx("button",{className:"mobile-wc-primary",type:"button",onClick:()=>r("/mobile/scan"),children:"New Collection (Scan)"}),t.jsx("button",{className:"mobile-wc-secondary",type:"button",onClick:()=>r("/mobile/waste-entry"),children:"Manual Waste Entry"})]}),t.jsx("div",{className:"mobile-wc-list",children:a&&e.length===0?t.jsx("div",{className:"mobile-wc-empty",children:"Loading..."}):o.length===0?t.jsx("div",{className:"mobile-wc-empty",children:"No waste collections found."}):o.map(d=>t.jsxs("div",{className:"mobile-wc-item",children:[t.jsxs("div",{className:"mobile-wc-item-top",children:[t.jsx("div",{className:"mobile-wc-barcode",children:d.barcode}),t.jsx("div",{className:`mobile-wc-badge ${String(d.status||"").toLowerCase().replace(/\s+/g,"-")}`,children:d.status})]}),t.jsxs("div",{className:"mobile-wc-meta",children:[t.jsxs("div",{className:"mobile-wc-meta-row",children:[t.jsx("span",{className:"k",children:"Color"}),t.jsx("span",{className:"v",children:d.wasteColor})]}),t.jsxs("div",{className:"mobile-wc-meta-row",children:[t.jsx("span",{className:"k",children:"Weight"}),t.jsx("span",{className:"v",children:d.weightKg??"-"})]}),t.jsxs("div",{className:"mobile-wc-meta-row",children:[t.jsx("span",{className:"k",children:"Created"}),t.jsx("span",{className:"v",children:wle(d.createdOn)})]})]})]},d.id))})]})})},Cle=()=>{const r=Ka(),[e,n]=k.useState([]),[a,i]=k.useState(""),[s,c]=k.useState(""),[l,u]=k.useState(!1),[o,h]=k.useState(null),[d,A]=k.useState([]);k.useEffect(()=>{(async()=>{try{const m=await Ha.getAllCompanies(!0);n(m),m.length===1&&i(m[0].id)}catch(m){h((m==null?void 0:m.message)||"Failed to load companies")}})()},[]),k.useEffect(()=>{(async()=>{if(!a){A([]);return}u(!0),h(null);try{const[m,x]=await Promise.all([U0.getAllRouteHcfMappings(void 0,void 0,a,!0),Fs.getAllHcfs(a,!0)]),y=new Map;(m||[]).forEach(S=>{const N=y.get(S.hcfId)||new Set;N.add(S.routeId),y.set(S.hcfId,N)});const b=new Set(Array.from(y.keys())),w=(x||[]).filter(S=>b.has(S.id)).map(S=>{var N;return{hcfId:S.id,hcfCode:S.hcfCode,hcfName:S.hcfName,area:S.district||S.areaId||"-",pincode:S.pincode||"-",routesCount:((N=y.get(S.id))==null?void 0:N.size)||0}});A(w)}catch(m){h((m==null?void 0:m.message)||"Failed to load assigned HCF list")}finally{u(!1)}})()},[a]);const f=k.useMemo(()=>{const g=s.trim().toLowerCase();return g?d.filter(m=>m.hcfCode.toLowerCase().includes(g)||m.hcfName.toLowerCase().includes(g)||m.area.toLowerCase().includes(g)||m.pincode.toLowerCase().includes(g)):d},[d,s]);return t.jsx(Uh,{title:"Assigned HCF List",showBackButton:!0,onBack:()=>r(-1),children:t.jsxs("div",{className:"mobile-ahcf",children:[t.jsxs("div",{className:"mobile-ahcf-toolbar",children:[t.jsx(AD,{placeholder:"Select Company",value:a,options:e.map(g=>({id:g.id,name:g.companyName})),onChange:i}),t.jsx("input",{className:"mobile-ahcf-search",value:s,onChange:g=>c(g.target.value),placeholder:"Search HCF code / name / area / pincode"})]}),o&&t.jsx("div",{className:"mobile-ahcf-banner",children:o}),t.jsx("div",{className:"mobile-ahcf-table",children:l?t.jsx("div",{className:"mobile-ahcf-empty",children:"Loading..."}):f.length===0?t.jsx("div",{className:"mobile-ahcf-empty",children:"No assigned HCFs found."}):t.jsxs("table",{children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"HCF Code"}),t.jsx("th",{children:"HCF Name"}),t.jsx("th",{children:"Area"}),t.jsx("th",{children:"PinCode"}),t.jsx("th",{children:"Routes"})]})}),t.jsx("tbody",{children:f.map(g=>t.jsxs("tr",{children:[t.jsx("td",{children:g.hcfCode}),t.jsx("td",{children:g.hcfName}),t.jsx("td",{children:g.area}),t.jsx("td",{children:g.pincode}),t.jsx("td",{children:g.routesCount})]},g.hcfId))})]})})]})})},Nle=()=>{const r=Ka();return t.jsx(Uh,{title:"Analytics",showBackButton:!0,onBack:()=>r("/mobile/home"),children:t.jsx("div",{className:"mobile-analytics",children:t.jsxs("div",{className:"mobile-analytics-card",children:[t.jsx("div",{className:"mobile-analytics-title",children:"Analytics"}),t.jsx("div",{className:"mobile-analytics-sub",children:"Mobile analytics screen. Use the buttons below to open full reports."}),t.jsx("button",{className:"mobile-analytics-btn",type:"button",onClick:()=>r("/report"),children:"Open Reports (Full)"}),t.jsx("button",{className:"mobile-analytics-btn secondary",type:"button",onClick:()=>r("/dashboard"),children:"Open Dashboard (Full)"})]})})})};function Fi({anyOf:r,children:e}){const{permissions:n}=da(),a=Tn(),i=Array.isArray(n)?n:[];return i.includes("*")?t.jsx(t.Fragment,{children:e}):r.some(c=>Yl(i,c))?t.jsx(t.Fragment,{children:e}):t.jsx(Jp,{to:"/not-authorized",replace:!0,state:{from:a.pathname}})}const Sle=()=>{const{user:r}=uO();return t.jsx(HM,{user:r,children:t.jsxs(bM,{children:[t.jsx(mn,{path:"/",element:t.jsx(Jp,{to:"/login",replace:!0})}),t.jsx(mn,{path:"/login",element:t.jsx(QM,{})}),t.jsx(mn,{path:"/verify-otp",element:t.jsx(WM,{})}),t.jsx(mn,{path:"/mobile/login",element:t.jsx(hae,{})}),t.jsx(mn,{path:"/mobile/home",element:t.jsx(wn,{children:t.jsx(yae,{})})}),t.jsx(mn,{path:"/mobile/scan",element:t.jsx(wn,{children:t.jsx(fle,{})})}),t.jsx(mn,{path:"/mobile/waste-entry",element:t.jsx(wn,{children:t.jsx(ple,{})})}),t.jsx(mn,{path:"/mobile/waste-collections",element:t.jsx(wn,{children:t.jsx(jle,{})})}),t.jsx(mn,{path:"/mobile/assign-hospital",element:t.jsx(wn,{children:t.jsx(mle,{})})}),t.jsx(mn,{path:"/mobile/assigned-hcfs",element:t.jsx(wn,{children:t.jsx(Cle,{})})}),t.jsx(mn,{path:"/mobile/analytics",element:t.jsx(wn,{children:t.jsx(Nle,{})})}),t.jsx(mn,{path:"/mobile/hcf-master",element:t.jsx(wn,{children:t.jsx(gle,{})})}),t.jsx(mn,{path:"/mobile/profile",element:t.jsx(wn,{children:t.jsx(ble,{})})}),t.jsx(mn,{path:"/mobile/settings",element:t.jsx(wn,{children:t.jsx(yle,{})})}),t.jsx(mn,{path:"/dashboard",element:t.jsx(wn,{children:t.jsx(WJ,{})})}),t.jsx(mn,{path:"/not-authorized",element:t.jsx(wn,{children:t.jsx(ree,{})})}),t.jsx(mn,{path:"/admin/dashboard-configuration",element:t.jsx(wn,{children:t.jsx(Fi,{anyOf:["DASHBOARD_CONFIG_UPDATE","DASHBOARD_CONFIG.UPDATE"],children:t.jsx(GJ,{})})})}),t.jsx(mn,{path:"/admin/permission-configuration",element:t.jsx(wn,{children:t.jsx(Fi,{anyOf:["ROLE_PERMISSIONS_MANAGE","ROLE_PERMISSIONS.MANAGE"],children:t.jsx(tee,{})})})}),t.jsx(mn,{path:"/profile",element:t.jsx(wn,{children:t.jsx(gae,{})})}),t.jsx(mn,{path:"/transaction",element:t.jsx(wn,{children:t.jsx(Fi,{anyOf:["MENU_TRANSACTION_VIEW","MENU_TRANSACTION.VIEW"],children:t.jsx(nee,{})})})}),t.jsx(mn,{path:"/transaction/barcode-generation",element:t.jsx(wn,{children:t.jsx(Fi,{anyOf:["BARCODE_LABEL_VIEW","BARCODE_LABEL_CREATE","BARCODE_LABEL_DELETE"],children:t.jsx(vne,{})})})}),t.jsx(mn,{path:"/transaction/route-assignment",element:t.jsx(wn,{children:t.jsx(Fi,{anyOf:["ROUTE_ASSIGNMENT_VIEW","ROUTE_ASSIGNMENT_CREATE","ROUTE_ASSIGNMENT_EDIT"],children:t.jsx(mte,{})})})}),t.jsx(mn,{path:"/transaction/waste-collection",element:t.jsx(wn,{children:t.jsx(Fi,{anyOf:["WASTE_COLLECTION_VIEW","WASTE_COLLECTION_CREATE","WASTE_COLLECTION_EDIT"],children:t.jsx(yte,{})})})}),t.jsx(mn,{path:"/transaction/waste-transaction-data",element:t.jsx(wn,{children:t.jsx(Fi,{anyOf:["WASTE_TRANSACTION_VIEW","WASTE_TRANSACTION_CREATE","WASTE_TRANSACTION_EDIT","WASTE_TRANSACTION_VERIFY"],children:t.jsx(Nte,{})})})}),t.jsx(mn,{path:"/transaction/vehicle-wise-waste-collection",element:t.jsx(wn,{children:t.jsx(Fi,{anyOf:["VEHICLE_WASTE_COLLECTION_VIEW","VEHICLE_WASTE_COLLECTION_CREATE","VEHICLE_WASTE_COLLECTION_EDIT","VEHICLE_WASTE_COLLECTION_VERIFY"],children:t.jsx(Bte,{})})})}),t.jsx(mn,{path:"/transaction/waste-processing",element:t.jsx(wn,{children:t.jsx(Fi,{anyOf:["WASTE_PROCESS_VIEW","WASTE_PROCESS_CREATE","WASTE_PROCESS_EDIT","WASTE_PROCESS_VERIFY","WASTE_PROCESS_CLOSE"],children:t.jsx(_te,{})})})}),t.jsx(mn,{path:"/finance",element:t.jsx(wn,{children:t.jsx(Fi,{anyOf:["MENU_FINANCE_VIEW","MENU_FINANCE.VIEW","FINANCE_VIEW","FINANCE.VIEW"],children:t.jsx(aee,{})})})}),t.jsx(mn,{path:"/commercial-agreements",element:t.jsx(wn,{children:t.jsx(Fi,{anyOf:["MENU_COMMERCIAL_VIEW","MENU_COMMERCIAL.VIEW"],children:t.jsx(iee,{})})})}),t.jsx(mn,{path:"/commercial-agreements/contract-master",element:t.jsx(wn,{children:t.jsx(Fi,{anyOf:["CONTRACT_VIEW","CONTRACT_CREATE","CONTRACT_EDIT","CONTRACT_DELETE"],children:t.jsx(Tne,{})})})}),t.jsx(mn,{path:"/commercial-agreements/agreement",element:t.jsx(wn,{children:t.jsx(Fi,{anyOf:["AGREEMENT_VIEW","AGREEMENT_CREATE","AGREEMENT_EDIT","AGREEMENT_DELETE"],children:t.jsx(Une,{})})})}),t.jsx(mn,{path:"/commercial-agreements/agreement-clause",element:t.jsx(wn,{children:t.jsx(Fi,{anyOf:["AGREEMENT_CLAUSE_VIEW","AGREEMENT_CLAUSE_CREATE","AGREEMENT_CLAUSE_EDIT","AGREEMENT_CLAUSE_DELETE"],children:t.jsx($ne,{})})})}),t.jsx(mn,{path:"/compliance-training",element:t.jsx(wn,{children:t.jsx(Fi,{anyOf:["MENU_COMPLIANCE_VIEW","MENU_COMPLIANCE.VIEW"],children:t.jsx(see,{})})})}),t.jsx(mn,{path:"/compliance-training/training-certificate-management",element:t.jsx(wn,{children:t.jsx(Fi,{anyOf:["TRAINING_CERTIFICATE_VIEW","TRAINING_CERTIFICATE_CREATE","TRAINING_CERTIFICATE_EDIT","TRAINING_CERTIFICATE_DELETE"],children:t.jsx(Cne,{})})})}),t.jsx(mn,{path:"/master",element:t.jsx(wn,{children:t.jsx(Fi,{anyOf:["MENU_MASTER_VIEW","MENU_MASTER.VIEW","MASTERS_VIEW","MASTERS.VIEW","MASTER_VIEW","MASTER.VIEW"],children:t.jsx(oee,{})})})}),t.jsx(mn,{path:"/master/company",element:t.jsx(wn,{children:t.jsx(Fi,{anyOf:["COMPANY_VIEW","COMPANY_CREATE","COMPANY_EDIT","COMPANY_DELETE"],children:t.jsx(lee,{})})})}),t.jsx(mn,{path:"/master/state",element:t.jsx(wn,{children:t.jsx(Fi,{anyOf:["STATE_VIEW","STATE_CREATE","STATE_EDIT","STATE_DELETE"],children:t.jsx(hee,{})})})}),t.jsx(mn,{path:"/master/area",element:t.jsx(wn,{children:t.jsx(Fi,{anyOf:["AREA_VIEW","AREA_CREATE","AREA_EDIT","AREA_DELETE"],children:t.jsx(mee,{})})})}),t.jsx(mn,{path:"/master/category",element:t.jsx(wn,{children:t.jsx(Fi,{anyOf:["CATEGORY_VIEW","CATEGORY_CREATE","CATEGORY_EDIT","CATEGORY_DELETE"],children:t.jsx(yee,{})})})}),t.jsx(mn,{path:"/master/pcb-zone",element:t.jsx(wn,{children:t.jsx(Fi,{anyOf:["PCB_ZONE_VIEW","PCB_ZONE_CREATE","PCB_ZONE_EDIT","PCB_ZONE_DELETE"],children:t.jsx(Cee,{})})})}),t.jsx(mn,{path:"/master/route",element:t.jsx(wn,{children:t.jsx(Fi,{anyOf:["ROUTE_VIEW","ROUTE_CREATE","ROUTE_EDIT","ROUTE_DELETE"],children:t.jsx(Tee,{})})})}),t.jsx(mn,{path:"/master/color-code",element:t.jsx(wn,{children:t.jsx(Fi,{anyOf:["COLOR_VIEW","COLOR_CREATE","COLOR_EDIT","COLOR_DELETE"],children:t.jsx(Pee,{})})})}),t.jsx(mn,{path:"/master/user-management",element:t.jsx(wn,{children:t.jsx(Fi,{anyOf:["USER_VIEW","USER_CREATE","USER_EDIT","USER_DELETE","USER_ACTIVATE","USER_DEACTIVATE"],children:t.jsx(Wee,{})})})}),t.jsx(mn,{path:"/master/roles-permissions",element:t.jsx(wn,{children:t.jsx(Fi,{anyOf:["ROLE_VIEW","ROLE_CREATE","ROLE_EDIT","ROLE_DELETE","ROLE_PERMISSIONS_MANAGE"],children:t.jsx(Kee,{})})})}),t.jsx(mn,{path:"/master/hcf-master",element:t.jsx(wn,{children:t.jsx(Fi,{anyOf:["HCF_VIEW","HCF_CREATE","HCF_EDIT","HCF_DELETE"],children:t.jsx(Yee,{})})})}),t.jsx(mn,{path:"/master/hcf-amendments",element:t.jsx(wn,{children:t.jsx(Fi,{anyOf:["HCF_AMENDMENT_VIEW","HCF_AMENDMENT_CREATE","HCF_AMENDMENT_EDIT","HCF_AMENDMENT_DELETE"],children:t.jsx(tte,{})})})}),t.jsx(mn,{path:"/master/hcf-type",element:t.jsx(wn,{children:t.jsx(Fi,{anyOf:["HCF_TYPE_VIEW","HCF_TYPE_CREATE","HCF_TYPE_EDIT","HCF_TYPE_DELETE"],children:t.jsx(nte,{})})})}),t.jsx(mn,{path:"/master/fleet-management",element:t.jsx(wn,{children:t.jsx(Fi,{anyOf:["FLEET_VIEW","FLEET_CREATE","FLEET_EDIT","FLEET_DELETE"],children:t.jsx(ote,{})})})}),t.jsx(mn,{path:"/master/route-hcf-mapping",element:t.jsx(wn,{children:t.jsx(Fi,{anyOf:["ROUTE_HCF_VIEW","ROUTE_HCF_CREATE","ROUTE_HCF_EDIT","ROUTE_HCF_DELETE"],children:t.jsx(ute,{})})})}),t.jsx(mn,{path:"/master/frequency",element:t.jsx(wn,{children:t.jsx(Fi,{anyOf:["FREQUENCY_VIEW","FREQUENCY_CREATE","FREQUENCY_EDIT","FREQUENCY_DELETE"],children:t.jsx(hte,{})})})}),t.jsx(mn,{path:"/finance/invoice-management",element:t.jsx(wn,{children:t.jsx(Fi,{anyOf:["INVOICE_VIEW","INVOICE_CREATE","INVOICE_UPDATE","INVOICE_DELETE"],children:t.jsx($te,{})})})}),t.jsx(mn,{path:"/finance/payment",element:t.jsx(wn,{children:t.jsx(Fi,{anyOf:["INVOICE_VIEW","INVOICE_CREATE"],children:t.jsx(Jte,{})})})}),t.jsx(mn,{path:"/finance/payment-success",element:t.jsx(wn,{children:t.jsx(ere,{})})}),t.jsx(mn,{path:"/finance/receipt-management",element:t.jsx(wn,{children:t.jsx(Fi,{anyOf:["INVOICE_VIEW","INVOICE_CREATE"],children:t.jsx(tre,{})})})}),t.jsx(mn,{path:"/finance/financial-balance-summary",element:t.jsx(wn,{children:t.jsx(Fi,{anyOf:["INVOICE_VIEW","INVOICE_CREATE"],children:t.jsx(lre,{})})})}),t.jsx(mn,{path:"/report",element:t.jsx(wn,{children:t.jsx(Fi,{anyOf:["MENU_REPORTS_VIEW","MENU_REPORTS.VIEW","REPORTS_VIEW","REPORTS.VIEW"],children:t.jsx(Gne,{})})})}),t.jsx(mn,{path:"/report/invoice",element:t.jsx(wn,{children:t.jsx(Yj,{})})}),t.jsx(mn,{path:"/report/contract",element:t.jsx(wn,{children:t.jsx(Jne,{})})}),t.jsx(mn,{path:"/report/hcf",element:t.jsx(wn,{children:t.jsx(eae,{})})}),t.jsx(mn,{path:"/report/training-certificate",element:t.jsx(wn,{children:t.jsx(tae,{})})}),t.jsx(mn,{path:"/report/payment",element:t.jsx(wn,{children:t.jsx(d_,{})})}),t.jsx(mn,{path:"/report/agreement",element:t.jsx(wn,{children:t.jsx(rae,{})})}),t.jsx(mn,{path:"/report/barcode",element:t.jsx(wn,{children:t.jsx(h_,{})})}),t.jsx(mn,{path:"/report/barcode-usage",element:t.jsx(wn,{children:t.jsx(h_,{})})}),t.jsx(mn,{path:"/report/user",element:t.jsx(wn,{children:t.jsx(aae,{})})}),t.jsx(mn,{path:"/report/fleet",element:t.jsx(wn,{children:t.jsx(iae,{})})}),t.jsx(mn,{path:"/report/revenue",element:t.jsx(wn,{children:t.jsx(A_,{})})}),t.jsx(mn,{path:"/report/outstanding",element:t.jsx(wn,{children:t.jsx(f_,{})})}),t.jsx(mn,{path:"/report/contract-renewal",element:t.jsx(wn,{children:t.jsx(sae,{})})}),t.jsx(mn,{path:"/report/route",element:t.jsx(wn,{children:t.jsx(oae,{})})}),t.jsx(mn,{path:"/report/collection",element:t.jsx(wn,{children:t.jsx(lae,{})})}),t.jsx(mn,{path:"/report/company",element:t.jsx(wn,{children:t.jsx(cae,{})})}),t.jsx(mn,{path:"/report/compliance",element:t.jsx(wn,{children:t.jsx(uae,{})})}),t.jsx(mn,{path:"/report/fleet-master",element:t.jsx(wn,{children:t.jsx(dae,{})})}),t.jsx(mn,{path:"/report/billing-finance",element:t.jsx(wn,{children:t.jsx(qne,{})})}),t.jsx(mn,{path:"/report/billing-finance/invoice-generation",element:t.jsx(wn,{children:t.jsx(Yj,{})})}),t.jsx(mn,{path:"/report/billing-finance/unbilled-services",element:t.jsx(wn,{children:t.jsx(Yj,{})})}),t.jsx(mn,{path:"/report/billing-finance/outstanding-payments",element:t.jsx(wn,{children:t.jsx(f_,{})})}),t.jsx(mn,{path:"/report/billing-finance/pending-payments",element:t.jsx(wn,{children:t.jsx(d_,{})})}),t.jsx(mn,{path:"/report/billing-finance/cost-revenue-analysis",element:t.jsx(wn,{children:t.jsx(A_,{})})}),t.jsx(mn,{path:"/report/operations-logistics",element:t.jsx(wn,{children:t.jsx(Xne,{})})}),t.jsx(mn,{path:"/report/hcf-compliance",element:t.jsx(wn,{children:t.jsx(Yne,{})})}),t.jsx(mn,{path:"/users/new",element:t.jsx(_S,{children:t.jsx(wn,{roles:["admin"],children:t.jsx(zne,{})})})}),t.jsx(mn,{path:"/mobile/users/new",element:t.jsx(_S,{children:t.jsx(wn,{roles:["admin","manager"],children:t.jsx(mae,{})})})})]})})},Ele=()=>t.jsx(LM,{children:t.jsx(Sle,{})});class Ble extends k.Component{constructor(){super(...arguments);Yi(this,"state",{hasError:!1,error:null})}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,a){console.error("Uncaught error:",n,a)}render(){return this.state.hasError?t.jsxs("div",{style:{padding:"20px",fontFamily:"Arial, sans-serif"},children:[t.jsx("h2",{style:{color:"#dc2626"},children:"Something went wrong"}),t.jsx("p",{children:"Please check the browser console for details."}),t.jsxs("details",{style:{marginTop:"10px"},children:[t.jsx("summary",{style:{cursor:"pointer",color:"#3b82f6"},children:"Error Details"}),t.jsxs("pre",{style:{background:"#f3f4f6",padding:"10px",borderRadius:"4px",overflow:"auto",marginTop:"10px"},children:[this.state.error&&this.state.error.toString(),this.state.error&&this.state.error.stack]})]}),t.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:"10px",padding:"8px 16px",background:"#3b82f6",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Reload Page"})]}):this.props.children}}const pD=document.getElementById("root");if(!pD)throw new Error("Root element #root not found. Make sure index.html mounts it.");ID.createRoot(pD).render(t.jsx(xt.StrictMode,{children:t.jsx(Ble,{children:t.jsx(IM,{children:t.jsx(Ele,{})})})}));
