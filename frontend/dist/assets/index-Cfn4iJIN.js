var LD=Object.defineProperty;var UD=(r,t,n)=>t in r?LD(r,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[t]=n;var ei=(r,t,n)=>UD(r,typeof t!="symbol"?t+"":t,n);function HD(r,t){for(var n=0;n<t.length;n++){const a=t[n];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in r)){const i=Object.getOwnPropertyDescriptor(a,s);i&&Object.defineProperty(r,s,i.get?i:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var ff=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function si(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var k2={exports:{}},Vm={},_2={exports:{}},ks={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OS;function QD(){if(OS)return ks;OS=1;var r=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),c=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),l=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),h=Symbol.iterator;function f(Z){return Z===null||typeof Z!="object"?null:(Z=h&&Z[h]||Z["@@iterator"],typeof Z=="function"?Z:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function x(Z,D,ue){this.props=Z,this.context=D,this.refs=m,this.updater=ue||A}x.prototype.isReactComponent={},x.prototype.setState=function(Z,D){if(typeof Z!="object"&&typeof Z!="function"&&Z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,D,"setState")},x.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};function y(){}y.prototype=x.prototype;function j(Z,D,ue){this.props=Z,this.context=D,this.refs=m,this.updater=ue||A}var b=j.prototype=new y;b.constructor=j,g(b,x.prototype),b.isPureReactComponent=!0;var S=Array.isArray,w=Object.prototype.hasOwnProperty,E={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function L(Z,D,ue){var te,ye={},pe=null,je=null;if(D!=null)for(te in D.ref!==void 0&&(je=D.ref),D.key!==void 0&&(pe=""+D.key),D)w.call(D,te)&&!I.hasOwnProperty(te)&&(ye[te]=D[te]);var re=arguments.length-2;if(re===1)ye.children=ue;else if(1<re){for(var he=Array(re),X=0;X<re;X++)he[X]=arguments[X+2];ye.children=he}if(Z&&Z.defaultProps)for(te in re=Z.defaultProps,re)ye[te]===void 0&&(ye[te]=re[te]);return{$$typeof:r,type:Z,key:pe,ref:je,props:ye,_owner:E.current}}function J(Z,D){return{$$typeof:r,type:Z.type,key:D,ref:Z.ref,props:Z.props,_owner:Z._owner}}function ae(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===r}function G(Z){var D={"=":"=0",":":"=2"};return"$"+Z.replace(/[=:]/g,function(ue){return D[ue]})}var le=/\/+/g;function V(Z,D){return typeof Z=="object"&&Z!==null&&Z.key!=null?G(""+Z.key):D.toString(36)}function me(Z,D,ue,te,ye){var pe=typeof Z;(pe==="undefined"||pe==="boolean")&&(Z=null);var je=!1;if(Z===null)je=!0;else switch(pe){case"string":case"number":je=!0;break;case"object":switch(Z.$$typeof){case r:case t:je=!0}}if(je)return je=Z,ye=ye(je),Z=te===""?"."+V(je,0):te,S(ye)?(ue="",Z!=null&&(ue=Z.replace(le,"$&/")+"/"),me(ye,D,ue,"",function(X){return X})):ye!=null&&(ae(ye)&&(ye=J(ye,ue+(!ye.key||je&&je.key===ye.key?"":(""+ye.key).replace(le,"$&/")+"/")+Z)),D.push(ye)),1;if(je=0,te=te===""?".":te+":",S(Z))for(var re=0;re<Z.length;re++){pe=Z[re];var he=te+V(pe,re);je+=me(pe,D,ue,he,ye)}else if(he=f(Z),typeof he=="function")for(Z=he.call(Z),re=0;!(pe=Z.next()).done;)pe=pe.value,he=te+V(pe,re++),je+=me(pe,D,ue,he,ye);else if(pe==="object")throw D=String(Z),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.");return je}function $(Z,D,ue){if(Z==null)return Z;var te=[],ye=0;return me(Z,te,"","",function(pe){return D.call(ue,pe,ye++)}),te}function ee(Z){if(Z._status===-1){var D=Z._result;D=D(),D.then(function(ue){(Z._status===0||Z._status===-1)&&(Z._status=1,Z._result=ue)},function(ue){(Z._status===0||Z._status===-1)&&(Z._status=2,Z._result=ue)}),Z._status===-1&&(Z._status=0,Z._result=D)}if(Z._status===1)return Z._result.default;throw Z._result}var we={current:null},R={transition:null},q={ReactCurrentDispatcher:we,ReactCurrentBatchConfig:R,ReactCurrentOwner:E};function ie(){throw Error("act(...) is not supported in production builds of React.")}return ks.Children={map:$,forEach:function(Z,D,ue){$(Z,function(){D.apply(this,arguments)},ue)},count:function(Z){var D=0;return $(Z,function(){D++}),D},toArray:function(Z){return $(Z,function(D){return D})||[]},only:function(Z){if(!ae(Z))throw Error("React.Children.only expected to receive a single React element child.");return Z}},ks.Component=x,ks.Fragment=n,ks.Profiler=s,ks.PureComponent=j,ks.StrictMode=a,ks.Suspense=d,ks.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q,ks.act=ie,ks.cloneElement=function(Z,D,ue){if(Z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Z+".");var te=g({},Z.props),ye=Z.key,pe=Z.ref,je=Z._owner;if(D!=null){if(D.ref!==void 0&&(pe=D.ref,je=E.current),D.key!==void 0&&(ye=""+D.key),Z.type&&Z.type.defaultProps)var re=Z.type.defaultProps;for(he in D)w.call(D,he)&&!I.hasOwnProperty(he)&&(te[he]=D[he]===void 0&&re!==void 0?re[he]:D[he])}var he=arguments.length-2;if(he===1)te.children=ue;else if(1<he){re=Array(he);for(var X=0;X<he;X++)re[X]=arguments[X+2];te.children=re}return{$$typeof:r,type:Z.type,key:ye,ref:pe,props:te,_owner:je}},ks.createContext=function(Z){return Z={$$typeof:c,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Z.Provider={$$typeof:i,_context:Z},Z.Consumer=Z},ks.createElement=L,ks.createFactory=function(Z){var D=L.bind(null,Z);return D.type=Z,D},ks.createRef=function(){return{current:null}},ks.forwardRef=function(Z){return{$$typeof:o,render:Z}},ks.isValidElement=ae,ks.lazy=function(Z){return{$$typeof:u,_payload:{_status:-1,_result:Z},_init:ee}},ks.memo=function(Z,D){return{$$typeof:l,type:Z,compare:D===void 0?null:D}},ks.startTransition=function(Z){var D=R.transition;R.transition={};try{Z()}finally{R.transition=D}},ks.unstable_act=ie,ks.useCallback=function(Z,D){return we.current.useCallback(Z,D)},ks.useContext=function(Z){return we.current.useContext(Z)},ks.useDebugValue=function(){},ks.useDeferredValue=function(Z){return we.current.useDeferredValue(Z)},ks.useEffect=function(Z,D){return we.current.useEffect(Z,D)},ks.useId=function(){return we.current.useId()},ks.useImperativeHandle=function(Z,D,ue){return we.current.useImperativeHandle(Z,D,ue)},ks.useInsertionEffect=function(Z,D){return we.current.useInsertionEffect(Z,D)},ks.useLayoutEffect=function(Z,D){return we.current.useLayoutEffect(Z,D)},ks.useMemo=function(Z,D){return we.current.useMemo(Z,D)},ks.useReducer=function(Z,D,ue){return we.current.useReducer(Z,D,ue)},ks.useRef=function(Z){return we.current.useRef(Z)},ks.useState=function(Z){return we.current.useState(Z)},ks.useSyncExternalStore=function(Z,D,ue){return we.current.useSyncExternalStore(Z,D,ue)},ks.useTransition=function(){return we.current.useTransition()},ks.version="18.3.1",ks}var FS;function u4(){return FS||(FS=1,_2.exports=QD()),_2.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PS;function WD(){if(PS)return Vm;PS=1;var r=u4(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function c(o,d,l){var u,h={},f=null,A=null;l!==void 0&&(f=""+l),d.key!==void 0&&(f=""+d.key),d.ref!==void 0&&(A=d.ref);for(u in d)a.call(d,u)&&!i.hasOwnProperty(u)&&(h[u]=d[u]);if(o&&o.defaultProps)for(u in d=o.defaultProps,d)h[u]===void 0&&(h[u]=d[u]);return{$$typeof:t,type:o,key:f,ref:A,props:h,_owner:s.current}}return Vm.Fragment=n,Vm.jsx=c,Vm.jsxs=c,Vm}var DS;function $D(){return DS||(DS=1,k2.exports=WD()),k2.exports}var e=$D(),C=u4();const Ct=si(C),VD=HD({__proto__:null,default:Ct},[C]);var o0={},O2={exports:{}},Rd={},F2={exports:{}},P2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MS;function zD(){return MS||(MS=1,(function(r){function t(R,q){var ie=R.length;R.push(q);e:for(;0<ie;){var Z=ie-1>>>1,D=R[Z];if(0<s(D,q))R[Z]=q,R[ie]=D,ie=Z;else break e}}function n(R){return R.length===0?null:R[0]}function a(R){if(R.length===0)return null;var q=R[0],ie=R.pop();if(ie!==q){R[0]=ie;e:for(var Z=0,D=R.length,ue=D>>>1;Z<ue;){var te=2*(Z+1)-1,ye=R[te],pe=te+1,je=R[pe];if(0>s(ye,ie))pe<D&&0>s(je,ye)?(R[Z]=je,R[pe]=ie,Z=pe):(R[Z]=ye,R[te]=ie,Z=te);else if(pe<D&&0>s(je,ie))R[Z]=je,R[pe]=ie,Z=pe;else break e}}return q}function s(R,q){var ie=R.sortIndex-q.sortIndex;return ie!==0?ie:R.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;r.unstable_now=function(){return i.now()}}else{var c=Date,o=c.now();r.unstable_now=function(){return c.now()-o}}var d=[],l=[],u=1,h=null,f=3,A=!1,g=!1,m=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(R){for(var q=n(l);q!==null;){if(q.callback===null)a(l);else if(q.startTime<=R)a(l),q.sortIndex=q.expirationTime,t(d,q);else break;q=n(l)}}function S(R){if(m=!1,b(R),!g)if(n(d)!==null)g=!0,ee(w);else{var q=n(l);q!==null&&we(S,q.startTime-R)}}function w(R,q){g=!1,m&&(m=!1,y(L),L=-1),A=!0;var ie=f;try{for(b(q),h=n(d);h!==null&&(!(h.expirationTime>q)||R&&!G());){var Z=h.callback;if(typeof Z=="function"){h.callback=null,f=h.priorityLevel;var D=Z(h.expirationTime<=q);q=r.unstable_now(),typeof D=="function"?h.callback=D:h===n(d)&&a(d),b(q)}else a(d);h=n(d)}if(h!==null)var ue=!0;else{var te=n(l);te!==null&&we(S,te.startTime-q),ue=!1}return ue}finally{h=null,f=ie,A=!1}}var E=!1,I=null,L=-1,J=5,ae=-1;function G(){return!(r.unstable_now()-ae<J)}function le(){if(I!==null){var R=r.unstable_now();ae=R;var q=!0;try{q=I(!0,R)}finally{q?V():(E=!1,I=null)}}else E=!1}var V;if(typeof j=="function")V=function(){j(le)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,$=me.port2;me.port1.onmessage=le,V=function(){$.postMessage(null)}}else V=function(){x(le,0)};function ee(R){I=R,E||(E=!0,V())}function we(R,q){L=x(function(){R(r.unstable_now())},q)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(R){R.callback=null},r.unstable_continueExecution=function(){g||A||(g=!0,ee(w))},r.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<R?Math.floor(1e3/R):5},r.unstable_getCurrentPriorityLevel=function(){return f},r.unstable_getFirstCallbackNode=function(){return n(d)},r.unstable_next=function(R){switch(f){case 1:case 2:case 3:var q=3;break;default:q=f}var ie=f;f=q;try{return R()}finally{f=ie}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(R,q){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var ie=f;f=R;try{return q()}finally{f=ie}},r.unstable_scheduleCallback=function(R,q,ie){var Z=r.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?Z+ie:Z):ie=Z,R){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ie+D,R={id:u++,callback:q,priorityLevel:R,startTime:ie,expirationTime:D,sortIndex:-1},ie>Z?(R.sortIndex=ie,t(l,R),n(d)===null&&R===n(l)&&(m?(y(L),L=-1):m=!0,we(S,ie-Z))):(R.sortIndex=D,t(d,R),g||A||(g=!0,ee(w))),R},r.unstable_shouldYield=G,r.unstable_wrapCallback=function(R){var q=f;return function(){var ie=f;f=q;try{return R.apply(this,arguments)}finally{f=ie}}}})(P2)),P2}var RS;function KD(){return RS||(RS=1,F2.exports=zD()),F2.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LS;function GD(){if(LS)return Rd;LS=1;var r=u4(),t=KD();function n(p){for(var v="https://reactjs.org/docs/error-decoder.html?invariant="+p,N=1;N<arguments.length;N++)v+="&args[]="+encodeURIComponent(arguments[N]);return"Minified React error #"+p+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function i(p,v){c(p,v),c(p+"Capture",v)}function c(p,v){for(s[p]=v,p=0;p<v.length;p++)a.add(v[p])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,l=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u={},h={};function f(p){return d.call(h,p)?!0:d.call(u,p)?!1:l.test(p)?h[p]=!0:(u[p]=!0,!1)}function A(p,v,N,z){if(N!==null&&N.type===0)return!1;switch(typeof v){case"function":case"symbol":return!0;case"boolean":return z?!1:N!==null?!N.acceptsBooleans:(p=p.toLowerCase().slice(0,5),p!=="data-"&&p!=="aria-");default:return!1}}function g(p,v,N,z){if(v===null||typeof v>"u"||A(p,v,N,z))return!0;if(z)return!1;if(N!==null)switch(N.type){case 3:return!v;case 4:return v===!1;case 5:return isNaN(v);case 6:return isNaN(v)||1>v}return!1}function m(p,v,N,z,xe,Te,Ve){this.acceptsBooleans=v===2||v===3||v===4,this.attributeName=z,this.attributeNamespace=xe,this.mustUseProperty=N,this.propertyName=p,this.type=v,this.sanitizeURL=Te,this.removeEmptyString=Ve}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(p){x[p]=new m(p,0,!1,p,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(p){var v=p[0];x[v]=new m(v,1,!1,p[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(p){x[p]=new m(p,2,!1,p.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(p){x[p]=new m(p,2,!1,p,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(p){x[p]=new m(p,3,!1,p.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(p){x[p]=new m(p,3,!0,p,null,!1,!1)}),["capture","download"].forEach(function(p){x[p]=new m(p,4,!1,p,null,!1,!1)}),["cols","rows","size","span"].forEach(function(p){x[p]=new m(p,6,!1,p,null,!1,!1)}),["rowSpan","start"].forEach(function(p){x[p]=new m(p,5,!1,p.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function j(p){return p[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(p){var v=p.replace(y,j);x[v]=new m(v,1,!1,p,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(p){var v=p.replace(y,j);x[v]=new m(v,1,!1,p,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(p){var v=p.replace(y,j);x[v]=new m(v,1,!1,p,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(p){x[p]=new m(p,1,!1,p.toLowerCase(),null,!1,!1)}),x.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(p){x[p]=new m(p,1,!1,p.toLowerCase(),null,!0,!0)});function b(p,v,N,z){var xe=x.hasOwnProperty(v)?x[v]:null;(xe!==null?xe.type!==0:z||!(2<v.length)||v[0]!=="o"&&v[0]!=="O"||v[1]!=="n"&&v[1]!=="N")&&(g(v,N,xe,z)&&(N=null),z||xe===null?f(v)&&(N===null?p.removeAttribute(v):p.setAttribute(v,""+N)):xe.mustUseProperty?p[xe.propertyName]=N===null?xe.type===3?!1:"":N:(v=xe.attributeName,z=xe.attributeNamespace,N===null?p.removeAttribute(v):(xe=xe.type,N=xe===3||xe===4&&N===!0?"":""+N,z?p.setAttributeNS(z,v,N):p.setAttribute(v,N))))}var S=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),E=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),ae=Symbol.for("react.provider"),G=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),we=Symbol.for("react.offscreen"),R=Symbol.iterator;function q(p){return p===null||typeof p!="object"?null:(p=R&&p[R]||p["@@iterator"],typeof p=="function"?p:null)}var ie=Object.assign,Z;function D(p){if(Z===void 0)try{throw Error()}catch(N){var v=N.stack.trim().match(/\n( *(at )?)/);Z=v&&v[1]||""}return`
`+Z+p}var ue=!1;function te(p,v){if(!p||ue)return"";ue=!0;var N=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(v)if(v=function(){throw Error()},Object.defineProperty(v.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(v,[])}catch(xr){var z=xr}Reflect.construct(p,[],v)}else{try{v.call()}catch(xr){z=xr}p.call(v.prototype)}else{try{throw Error()}catch(xr){z=xr}p()}}catch(xr){if(xr&&z&&typeof xr.stack=="string"){for(var xe=xr.stack.split(`
`),Te=z.stack.split(`
`),Ve=xe.length-1,It=Te.length-1;1<=Ve&&0<=It&&xe[Ve]!==Te[It];)It--;for(;1<=Ve&&0<=It;Ve--,It--)if(xe[Ve]!==Te[It]){if(Ve!==1||It!==1)do if(Ve--,It--,0>It||xe[Ve]!==Te[It]){var Qt=`
`+xe[Ve].replace(" at new "," at ");return p.displayName&&Qt.includes("<anonymous>")&&(Qt=Qt.replace("<anonymous>",p.displayName)),Qt}while(1<=Ve&&0<=It);break}}}finally{ue=!1,Error.prepareStackTrace=N}return(p=p?p.displayName||p.name:"")?D(p):""}function ye(p){switch(p.tag){case 5:return D(p.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return p=te(p.type,!1),p;case 11:return p=te(p.type.render,!1),p;case 1:return p=te(p.type,!0),p;default:return""}}function pe(p){if(p==null)return null;if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case I:return"Fragment";case E:return"Portal";case J:return"Profiler";case L:return"StrictMode";case V:return"Suspense";case me:return"SuspenseList"}if(typeof p=="object")switch(p.$$typeof){case G:return(p.displayName||"Context")+".Consumer";case ae:return(p._context.displayName||"Context")+".Provider";case le:var v=p.render;return p=p.displayName,p||(p=v.displayName||v.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case $:return v=p.displayName||null,v!==null?v:pe(p.type)||"Memo";case ee:v=p._payload,p=p._init;try{return pe(p(v))}catch{}}return null}function je(p){var v=p.type;switch(p.tag){case 24:return"Cache";case 9:return(v.displayName||"Context")+".Consumer";case 10:return(v._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return p=v.render,p=p.displayName||p.name||"",v.displayName||(p!==""?"ForwardRef("+p+")":"ForwardRef");case 7:return"Fragment";case 5:return v;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(v);case 8:return v===L?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof v=="function")return v.displayName||v.name||null;if(typeof v=="string")return v}return null}function re(p){switch(typeof p){case"boolean":case"number":case"string":case"undefined":return p;case"object":return p;default:return""}}function he(p){var v=p.type;return(p=p.nodeName)&&p.toLowerCase()==="input"&&(v==="checkbox"||v==="radio")}function X(p){var v=he(p)?"checked":"value",N=Object.getOwnPropertyDescriptor(p.constructor.prototype,v),z=""+p[v];if(!p.hasOwnProperty(v)&&typeof N<"u"&&typeof N.get=="function"&&typeof N.set=="function"){var xe=N.get,Te=N.set;return Object.defineProperty(p,v,{configurable:!0,get:function(){return xe.call(this)},set:function(Ve){z=""+Ve,Te.call(this,Ve)}}),Object.defineProperty(p,v,{enumerable:N.enumerable}),{getValue:function(){return z},setValue:function(Ve){z=""+Ve},stopTracking:function(){p._valueTracker=null,delete p[v]}}}}function Ae(p){p._valueTracker||(p._valueTracker=X(p))}function Be(p){if(!p)return!1;var v=p._valueTracker;if(!v)return!0;var N=v.getValue(),z="";return p&&(z=he(p)?p.checked?"true":"false":p.value),p=z,p!==N?(v.setValue(p),!0):!1}function Me(p){if(p=p||(typeof document<"u"?document:void 0),typeof p>"u")return null;try{return p.activeElement||p.body}catch{return p.body}}function $e(p,v){var N=v.checked;return ie({},v,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:N??p._wrapperState.initialChecked})}function ne(p,v){var N=v.defaultValue==null?"":v.defaultValue,z=v.checked!=null?v.checked:v.defaultChecked;N=re(v.value!=null?v.value:N),p._wrapperState={initialChecked:z,initialValue:N,controlled:v.type==="checkbox"||v.type==="radio"?v.checked!=null:v.value!=null}}function Pe(p,v){v=v.checked,v!=null&&b(p,"checked",v,!1)}function _e(p,v){Pe(p,v);var N=re(v.value),z=v.type;if(N!=null)z==="number"?(N===0&&p.value===""||p.value!=N)&&(p.value=""+N):p.value!==""+N&&(p.value=""+N);else if(z==="submit"||z==="reset"){p.removeAttribute("value");return}v.hasOwnProperty("value")?et(p,v.type,N):v.hasOwnProperty("defaultValue")&&et(p,v.type,re(v.defaultValue)),v.checked==null&&v.defaultChecked!=null&&(p.defaultChecked=!!v.defaultChecked)}function rt(p,v,N){if(v.hasOwnProperty("value")||v.hasOwnProperty("defaultValue")){var z=v.type;if(!(z!=="submit"&&z!=="reset"||v.value!==void 0&&v.value!==null))return;v=""+p._wrapperState.initialValue,N||v===p.value||(p.value=v),p.defaultValue=v}N=p.name,N!==""&&(p.name=""),p.defaultChecked=!!p._wrapperState.initialChecked,N!==""&&(p.name=N)}function et(p,v,N){(v!=="number"||Me(p.ownerDocument)!==p)&&(N==null?p.defaultValue=""+p._wrapperState.initialValue:p.defaultValue!==""+N&&(p.defaultValue=""+N))}var Le=Array.isArray;function it(p,v,N,z){if(p=p.options,v){v={};for(var xe=0;xe<N.length;xe++)v["$"+N[xe]]=!0;for(N=0;N<p.length;N++)xe=v.hasOwnProperty("$"+p[N].value),p[N].selected!==xe&&(p[N].selected=xe),xe&&z&&(p[N].defaultSelected=!0)}else{for(N=""+re(N),v=null,xe=0;xe<p.length;xe++){if(p[xe].value===N){p[xe].selected=!0,z&&(p[xe].defaultSelected=!0);return}v!==null||p[xe].disabled||(v=p[xe])}v!==null&&(v.selected=!0)}}function Wt(p,v){if(v.dangerouslySetInnerHTML!=null)throw Error(n(91));return ie({},v,{value:void 0,defaultValue:void 0,children:""+p._wrapperState.initialValue})}function qe(p,v){var N=v.value;if(N==null){if(N=v.children,v=v.defaultValue,N!=null){if(v!=null)throw Error(n(92));if(Le(N)){if(1<N.length)throw Error(n(93));N=N[0]}v=N}v==null&&(v=""),N=v}p._wrapperState={initialValue:re(N)}}function St(p,v){var N=re(v.value),z=re(v.defaultValue);N!=null&&(N=""+N,N!==p.value&&(p.value=N),v.defaultValue==null&&p.defaultValue!==N&&(p.defaultValue=N)),z!=null&&(p.defaultValue=""+z)}function _t(p){var v=p.textContent;v===p._wrapperState.initialValue&&v!==""&&v!==null&&(p.value=v)}function ar(p){switch(p){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function en(p,v){return p==null||p==="http://www.w3.org/1999/xhtml"?ar(v):p==="http://www.w3.org/2000/svg"&&v==="foreignObject"?"http://www.w3.org/1999/xhtml":p}var Xt,Yr=(function(p){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(v,N,z,xe){MSApp.execUnsafeLocalFunction(function(){return p(v,N,z,xe)})}:p})(function(p,v){if(p.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in p)p.innerHTML=v;else{for(Xt=Xt||document.createElement("div"),Xt.innerHTML="<svg>"+v.valueOf().toString()+"</svg>",v=Xt.firstChild;p.firstChild;)p.removeChild(p.firstChild);for(;v.firstChild;)p.appendChild(v.firstChild)}});function Qr(p,v){if(v){var N=p.firstChild;if(N&&N===p.lastChild&&N.nodeType===3){N.nodeValue=v;return}}p.textContent=v}var He={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Rt=["Webkit","ms","Moz","O"];Object.keys(He).forEach(function(p){Rt.forEach(function(v){v=v+p.charAt(0).toUpperCase()+p.substring(1),He[v]=He[p]})});function ot(p,v,N){return v==null||typeof v=="boolean"||v===""?"":N||typeof v!="number"||v===0||He.hasOwnProperty(p)&&He[p]?(""+v).trim():v+"px"}function Ht(p,v){p=p.style;for(var N in v)if(v.hasOwnProperty(N)){var z=N.indexOf("--")===0,xe=ot(N,v[N],z);N==="float"&&(N="cssFloat"),z?p.setProperty(N,xe):p[N]=xe}}var $t=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dr(p,v){if(v){if($t[p]&&(v.children!=null||v.dangerouslySetInnerHTML!=null))throw Error(n(137,p));if(v.dangerouslySetInnerHTML!=null){if(v.children!=null)throw Error(n(60));if(typeof v.dangerouslySetInnerHTML!="object"||!("__html"in v.dangerouslySetInnerHTML))throw Error(n(61))}if(v.style!=null&&typeof v.style!="object")throw Error(n(62))}}function Fr(p,v){if(p.indexOf("-")===-1)return typeof v.is=="string";switch(p){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jr=null;function Wr(p){return p=p.target||p.srcElement||window,p.correspondingUseElement&&(p=p.correspondingUseElement),p.nodeType===3?p.parentNode:p}var Ln=null,Vr=null,Ur=null;function Cn(p){if(p=Fd(p)){if(typeof Ln!="function")throw Error(n(280));var v=p.stateNode;v&&(v=bu(v),Ln(p.stateNode,p.type,v))}}function un(p){Vr?Ur?Ur.push(p):Ur=[p]:Vr=p}function Dn(){if(Vr){var p=Vr,v=Ur;if(Ur=Vr=null,Cn(p),v)for(p=0;p<v.length;p++)Cn(v[p])}}function da(p,v){return p(v)}function ri(){}var Ks=!1;function Hs(p,v,N){if(Ks)return p(v,N);Ks=!0;try{return da(p,v,N)}finally{Ks=!1,(Vr!==null||Ur!==null)&&(ri(),Dn())}}function oa(p,v){var N=p.stateNode;if(N===null)return null;var z=bu(N);if(z===null)return null;N=z[v];e:switch(v){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(z=!z.disabled)||(p=p.type,z=!(p==="button"||p==="input"||p==="select"||p==="textarea")),p=!z;break e;default:p=!1}if(p)return null;if(N&&typeof N!="function")throw Error(n(231,v,typeof N));return N}var rn=!1;if(o)try{var ds={};Object.defineProperty(ds,"passive",{get:function(){rn=!0}}),window.addEventListener("test",ds,ds),window.removeEventListener("test",ds,ds)}catch{rn=!1}function wi(p,v,N,z,xe,Te,Ve,It,Qt){var xr=Array.prototype.slice.call(arguments,3);try{v.apply(N,xr)}catch(Zr){this.onError(Zr)}}var wt=!1,Pr=null,Mr=!1,tn=null,Kr={onError:function(p){wt=!0,Pr=p}};function Ma(p,v,N,z,xe,Te,Ve,It,Qt){wt=!1,Pr=null,wi.apply(Kr,arguments)}function ys(p,v,N,z,xe,Te,Ve,It,Qt){if(Ma.apply(this,arguments),wt){if(wt){var xr=Pr;wt=!1,Pr=null}else throw Error(n(198));Mr||(Mr=!0,tn=xr)}}function Va(p){var v=p,N=p;if(p.alternate)for(;v.return;)v=v.return;else{p=v;do v=p,(v.flags&4098)!==0&&(N=v.return),p=v.return;while(p)}return v.tag===3?N:null}function Ai(p){if(p.tag===13){var v=p.memoizedState;if(v===null&&(p=p.alternate,p!==null&&(v=p.memoizedState)),v!==null)return v.dehydrated}return null}function Ca(p){if(Va(p)!==p)throw Error(n(188))}function ko(p){var v=p.alternate;if(!v){if(v=Va(p),v===null)throw Error(n(188));return v!==p?null:p}for(var N=p,z=v;;){var xe=N.return;if(xe===null)break;var Te=xe.alternate;if(Te===null){if(z=xe.return,z!==null){N=z;continue}break}if(xe.child===Te.child){for(Te=xe.child;Te;){if(Te===N)return Ca(xe),p;if(Te===z)return Ca(xe),v;Te=Te.sibling}throw Error(n(188))}if(N.return!==z.return)N=xe,z=Te;else{for(var Ve=!1,It=xe.child;It;){if(It===N){Ve=!0,N=xe,z=Te;break}if(It===z){Ve=!0,z=xe,N=Te;break}It=It.sibling}if(!Ve){for(It=Te.child;It;){if(It===N){Ve=!0,N=Te,z=xe;break}if(It===z){Ve=!0,z=Te,N=xe;break}It=It.sibling}if(!Ve)throw Error(n(189))}}if(N.alternate!==z)throw Error(n(190))}if(N.tag!==3)throw Error(n(188));return N.stateNode.current===N?p:v}function Qs(p){return p=ko(p),p!==null?qo(p):null}function qo(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){var v=qo(p);if(v!==null)return v;p=p.sibling}return null}var yl=t.unstable_scheduleCallback,Xo=t.unstable_cancelCallback,Is=t.unstable_shouldYield,jo=t.unstable_requestPaint,pa=t.unstable_now,rc=t.unstable_getCurrentPriorityLevel,os=t.unstable_ImmediatePriority,_o=t.unstable_UserBlockingPriority,Ji=t.unstable_NormalPriority,Oo=t.unstable_LowPriority,ol=t.unstable_IdlePriority,Fo=null,zi=null;function Ts(p){if(zi&&typeof zi.onCommitFiberRoot=="function")try{zi.onCommitFiberRoot(Fo,p,void 0,(p.current.flags&128)===128)}catch{}}var ls=Math.clz32?Math.clz32:$c,jl=Math.log,Po=Math.LN2;function $c(p){return p>>>=0,p===0?32:31-(jl(p)/Po|0)|0}var pi=64,Gn=4194304;function Gs(p){switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return p&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return p}}function Ci(p,v){var N=p.pendingLanes;if(N===0)return 0;var z=0,xe=p.suspendedLanes,Te=p.pingedLanes,Ve=N&268435455;if(Ve!==0){var It=Ve&~xe;It!==0?z=Gs(It):(Te&=Ve,Te!==0&&(z=Gs(Te)))}else Ve=N&~xe,Ve!==0?z=Gs(Ve):Te!==0&&(z=Gs(Te));if(z===0)return 0;if(v!==0&&v!==z&&(v&xe)===0&&(xe=z&-z,Te=v&-v,xe>=Te||xe===16&&(Te&4194240)!==0))return v;if((z&4)!==0&&(z|=N&16),v=p.entangledLanes,v!==0)for(p=p.entanglements,v&=z;0<v;)N=31-ls(v),xe=1<<N,z|=p[N],v&=~xe;return z}function Ni(p,v){switch(p){case 1:case 2:case 4:return v+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return v+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Do(p,v){for(var N=p.suspendedLanes,z=p.pingedLanes,xe=p.expirationTimes,Te=p.pendingLanes;0<Te;){var Ve=31-ls(Te),It=1<<Ve,Qt=xe[Ve];Qt===-1?((It&N)===0||(It&z)!==0)&&(xe[Ve]=Ni(It,v)):Qt<=v&&(p.expiredLanes|=It),Te&=~It}}function Ws(p){return p=p.pendingLanes&-1073741825,p!==0?p:p&1073741824?1073741824:0}function uo(){var p=pi;return pi<<=1,(pi&4194240)===0&&(pi=64),p}function ni(p){for(var v=[],N=0;31>N;N++)v.push(p);return v}function Rs(p,v,N){p.pendingLanes|=v,v!==536870912&&(p.suspendedLanes=0,p.pingedLanes=0),p=p.eventTimes,v=31-ls(v),p[v]=N}function bo(p,v){var N=p.pendingLanes&~v;p.pendingLanes=v,p.suspendedLanes=0,p.pingedLanes=0,p.expiredLanes&=v,p.mutableReadLanes&=v,p.entangledLanes&=v,v=p.entanglements;var z=p.eventTimes;for(p=p.expirationTimes;0<N;){var xe=31-ls(N),Te=1<<xe;v[xe]=0,z[xe]=-1,p[xe]=-1,N&=~Te}}function Mo(p,v){var N=p.entangledLanes|=v;for(p=p.entanglements;N;){var z=31-ls(N),xe=1<<z;xe&v|p[z]&v&&(p[z]|=v),N&=~xe}}var va=0;function qs(p){return p&=-p,1<p?4<p?(p&268435455)!==0?16:536870912:4:1}var Si,Zi,Ri,Ro,Kt,Q=!1,fe=[],ge=null,M=null,W=null,ce=new Map,Ee=new Map,Fe=[],Xe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dt(p,v){switch(p){case"focusin":case"focusout":ge=null;break;case"dragenter":case"dragleave":M=null;break;case"mouseover":case"mouseout":W=null;break;case"pointerover":case"pointerout":ce.delete(v.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ee.delete(v.pointerId)}}function k(p,v,N,z,xe,Te){return p===null||p.nativeEvent!==Te?(p={blockedOn:v,domEventName:N,eventSystemFlags:z,nativeEvent:Te,targetContainers:[xe]},v!==null&&(v=Fd(v),v!==null&&Zi(v)),p):(p.eventSystemFlags|=z,v=p.targetContainers,xe!==null&&v.indexOf(xe)===-1&&v.push(xe),p)}function B(p,v,N,z,xe){switch(v){case"focusin":return ge=k(ge,p,v,N,z,xe),!0;case"dragenter":return M=k(M,p,v,N,z,xe),!0;case"mouseover":return W=k(W,p,v,N,z,xe),!0;case"pointerover":var Te=xe.pointerId;return ce.set(Te,k(ce.get(Te)||null,p,v,N,z,xe)),!0;case"gotpointercapture":return Te=xe.pointerId,Ee.set(Te,k(Ee.get(Te)||null,p,v,N,z,xe)),!0}return!1}function P(p){var v=el(p.target);if(v!==null){var N=Va(v);if(N!==null){if(v=N.tag,v===13){if(v=Ai(N),v!==null){p.blockedOn=v,Kt(p.priority,function(){Ri(N)});return}}else if(v===3&&N.stateNode.current.memoizedState.isDehydrated){p.blockedOn=N.tag===3?N.stateNode.containerInfo:null;return}}}p.blockedOn=null}function K(p){if(p.blockedOn!==null)return!1;for(var v=p.targetContainers;0<v.length;){var N=Nt(p.domEventName,p.eventSystemFlags,v[0],p.nativeEvent);if(N===null){N=p.nativeEvent;var z=new N.constructor(N.type,N);Jr=z,N.target.dispatchEvent(z),Jr=null}else return v=Fd(N),v!==null&&Zi(v),p.blockedOn=N,!1;v.shift()}return!0}function se(p,v,N){K(p)&&N.delete(v)}function de(){Q=!1,ge!==null&&K(ge)&&(ge=null),M!==null&&K(M)&&(M=null),W!==null&&K(W)&&(W=null),ce.forEach(se),Ee.forEach(se)}function Ie(p,v){p.blockedOn===v&&(p.blockedOn=null,Q||(Q=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,de)))}function be(p){function v(xe){return Ie(xe,p)}if(0<fe.length){Ie(fe[0],p);for(var N=1;N<fe.length;N++){var z=fe[N];z.blockedOn===p&&(z.blockedOn=null)}}for(ge!==null&&Ie(ge,p),M!==null&&Ie(M,p),W!==null&&Ie(W,p),ce.forEach(v),Ee.forEach(v),N=0;N<Fe.length;N++)z=Fe[N],z.blockedOn===p&&(z.blockedOn=null);for(;0<Fe.length&&(N=Fe[0],N.blockedOn===null);)P(N),N.blockedOn===null&&Fe.shift()}var Ce=S.ReactCurrentBatchConfig,Re=!0;function ze(p,v,N,z){var xe=va,Te=Ce.transition;Ce.transition=null;try{va=1,ut(p,v,N,z)}finally{va=xe,Ce.transition=Te}}function nt(p,v,N,z){var xe=va,Te=Ce.transition;Ce.transition=null;try{va=4,ut(p,v,N,z)}finally{va=xe,Ce.transition=Te}}function ut(p,v,N,z){if(Re){var xe=Nt(p,v,N,z);if(xe===null)cd(p,v,z,Oe,N),dt(p,z);else if(B(xe,p,v,N,z))z.stopPropagation();else if(dt(p,z),v&4&&-1<Xe.indexOf(p)){for(;xe!==null;){var Te=Fd(xe);if(Te!==null&&Si(Te),Te=Nt(p,v,N,z),Te===null&&cd(p,v,z,Oe,N),Te===xe)break;xe=Te}xe!==null&&z.stopPropagation()}else cd(p,v,z,null,N)}}var Oe=null;function Nt(p,v,N,z){if(Oe=null,p=Wr(z),p=el(p),p!==null)if(v=Va(p),v===null)p=null;else if(N=v.tag,N===13){if(p=Ai(v),p!==null)return p;p=null}else if(N===3){if(v.stateNode.current.memoizedState.isDehydrated)return v.tag===3?v.stateNode.containerInfo:null;p=null}else v!==p&&(p=null);return Oe=p,null}function jt(p){switch(p){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rc()){case os:return 1;case _o:return 4;case Ji:case Oo:return 16;case ol:return 536870912;default:return 16}default:return 16}}var Bt=null,lt=null,Mt=null;function tr(){if(Mt)return Mt;var p,v=lt,N=v.length,z,xe="value"in Bt?Bt.value:Bt.textContent,Te=xe.length;for(p=0;p<N&&v[p]===xe[p];p++);var Ve=N-p;for(z=1;z<=Ve&&v[N-z]===xe[Te-z];z++);return Mt=xe.slice(p,1<z?1-z:void 0)}function kt(p){var v=p.keyCode;return"charCode"in p?(p=p.charCode,p===0&&v===13&&(p=13)):p=v,p===10&&(p=13),32<=p||p===13?p:0}function at(){return!0}function qt(){return!1}function pr(p){function v(N,z,xe,Te,Ve){this._reactName=N,this._targetInst=xe,this.type=z,this.nativeEvent=Te,this.target=Ve,this.currentTarget=null;for(var It in p)p.hasOwnProperty(It)&&(N=p[It],this[It]=N?N(Te):Te[It]);return this.isDefaultPrevented=(Te.defaultPrevented!=null?Te.defaultPrevented:Te.returnValue===!1)?at:qt,this.isPropagationStopped=qt,this}return ie(v.prototype,{preventDefault:function(){this.defaultPrevented=!0;var N=this.nativeEvent;N&&(N.preventDefault?N.preventDefault():typeof N.returnValue!="unknown"&&(N.returnValue=!1),this.isDefaultPrevented=at)},stopPropagation:function(){var N=this.nativeEvent;N&&(N.stopPropagation?N.stopPropagation():typeof N.cancelBubble!="unknown"&&(N.cancelBubble=!0),this.isPropagationStopped=at)},persist:function(){},isPersistent:at}),v}var nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(p){return p.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pt=pr(nr),Ar=ie({},nr,{view:0,detail:0}),ct=pr(Ar),mt,Ot,Ft,mr=ie({},Ar,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:an,button:0,buttons:0,relatedTarget:function(p){return p.relatedTarget===void 0?p.fromElement===p.srcElement?p.toElement:p.fromElement:p.relatedTarget},movementX:function(p){return"movementX"in p?p.movementX:(p!==Ft&&(Ft&&p.type==="mousemove"?(mt=p.screenX-Ft.screenX,Ot=p.screenY-Ft.screenY):Ot=mt=0,Ft=p),mt)},movementY:function(p){return"movementY"in p?p.movementY:Ot}}),yr=pr(mr),Cr=ie({},mr,{dataTransfer:0}),ir=pr(Cr),br=ie({},Ar,{relatedTarget:0}),nn=pr(br),Gr=ie({},nr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ze=pr(Gr),Et=ie({},nr,{clipboardData:function(p){return"clipboardData"in p?p.clipboardData:window.clipboardData}}),Tt=pr(Et),Yt=ie({},nr,{data:0}),er=pr(Yt),dr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rr(p){var v=this.nativeEvent;return v.getModifierState?v.getModifierState(p):(p=wr[p])?!!v[p]:!1}function an(){return Rr}var Sn=ie({},Ar,{key:function(p){if(p.key){var v=dr[p.key]||p.key;if(v!=="Unidentified")return v}return p.type==="keypress"?(p=kt(p),p===13?"Enter":String.fromCharCode(p)):p.type==="keydown"||p.type==="keyup"?jr[p.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:an,charCode:function(p){return p.type==="keypress"?kt(p):0},keyCode:function(p){return p.type==="keydown"||p.type==="keyup"?p.keyCode:0},which:function(p){return p.type==="keypress"?kt(p):p.type==="keydown"||p.type==="keyup"?p.keyCode:0}}),Bn=pr(Sn),ua=ie({},mr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pt=pr(ua),mn=ie({},Ar,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:an}),xa=pr(mn),pn=ie({},nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),qr=pr(pn),la=ie({},mr,{deltaX:function(p){return"deltaX"in p?p.deltaX:"wheelDeltaX"in p?-p.wheelDeltaX:0},deltaY:function(p){return"deltaY"in p?p.deltaY:"wheelDeltaY"in p?-p.wheelDeltaY:"wheelDelta"in p?-p.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=pr(la),Zn=[9,13,27,32],Rn=o&&"CompositionEvent"in window,js=null;o&&"documentMode"in document&&(js=document.documentMode);var za=o&&"TextEvent"in window&&!js,Pn=o&&(!Rn||js&&8<js&&11>=js),us=" ",ca=!1;function _n(p,v){switch(p){case"keyup":return Zn.indexOf(v.keyCode)!==-1;case"keydown":return v.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fa(p){return p=p.detail,typeof p=="object"&&"data"in p?p.data:null}var On=!1;function Na(p,v){switch(p){case"compositionend":return fa(v);case"keypress":return v.which!==32?null:(ca=!0,us);case"textInput":return p=v.data,p===us&&ca?null:p;default:return null}}function As(p,v){if(On)return p==="compositionend"||!Rn&&_n(p,v)?(p=tr(),Mt=lt=Bt=null,On=!1,p):null;switch(p){case"paste":return null;case"keypress":if(!(v.ctrlKey||v.altKey||v.metaKey)||v.ctrlKey&&v.altKey){if(v.char&&1<v.char.length)return v.char;if(v.which)return String.fromCharCode(v.which)}return null;case"compositionend":return Pn&&v.locale!=="ko"?null:v.data;default:return null}}var Ya={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ja(p){var v=p&&p.nodeName&&p.nodeName.toLowerCase();return v==="input"?!!Ya[p.type]:v==="textarea"}function ii(p,v,N,z){un(z),v=Gd(v,"onChange"),0<v.length&&(N=new Pt("onChange","change",null,N,z),p.push({event:N,listeners:v}))}var zn=null,Os=null;function ya(p){ic(p,0)}function Vn(p){var v=Cl(p);if(Be(v))return p}function Fs(p,v){if(p==="change")return v}var Sa=!1;if(o){var In;if(o){var rs="oninput"in document;if(!rs){var sd=document.createElement("div");sd.setAttribute("oninput","return;"),rs=typeof sd.oninput=="function"}In=rs}else In=!1;Sa=In&&(!document.documentMode||9<document.documentMode)}function Ki(){zn&&(zn.detachEvent("onpropertychange",wo),Os=zn=null)}function wo(p){if(p.propertyName==="value"&&Vn(Os)){var v=[];ii(v,Os,p,Wr(p)),Hs(ya,v)}}function Bc(p,v,N){p==="focusin"?(Ki(),zn=v,Os=N,zn.attachEvent("onpropertychange",wo)):p==="focusout"&&Ki()}function ma(p){if(p==="selectionchange"||p==="keyup"||p==="keydown")return Vn(Os)}function Ei(p,v){if(p==="click")return Vn(v)}function Co(p,v){if(p==="input"||p==="change")return Vn(v)}function Ol(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var Li=typeof Object.is=="function"?Object.is:Ol;function Ls(p,v){if(Li(p,v))return!0;if(typeof p!="object"||p===null||typeof v!="object"||v===null)return!1;var N=Object.keys(p),z=Object.keys(v);if(N.length!==z.length)return!1;for(z=0;z<N.length;z++){var xe=N[z];if(!d.call(v,xe)||!Li(p[xe],v[xe]))return!1}return!0}function Oi(p){for(;p&&p.firstChild;)p=p.firstChild;return p}function ho(p,v){var N=Oi(p);p=0;for(var z;N;){if(N.nodeType===3){if(z=p+N.textContent.length,p<=v&&z>=v)return{node:N,offset:v-p};p=z}e:{for(;N;){if(N.nextSibling){N=N.nextSibling;break e}N=N.parentNode}N=void 0}N=Oi(N)}}function id(p,v){return p&&v?p===v?!0:p&&p.nodeType===3?!1:v&&v.nodeType===3?id(p,v.parentNode):"contains"in p?p.contains(v):p.compareDocumentPosition?!!(p.compareDocumentPosition(v)&16):!1:!1}function eo(){for(var p=window,v=Me();v instanceof p.HTMLIFrameElement;){try{var N=typeof v.contentWindow.location.href=="string"}catch{N=!1}if(N)p=v.contentWindow;else break;v=Me(p.document)}return v}function ll(p){var v=p&&p.nodeName&&p.nodeName.toLowerCase();return v&&(v==="input"&&(p.type==="text"||p.type==="search"||p.type==="tel"||p.type==="url"||p.type==="password")||v==="textarea"||p.contentEditable==="true")}function Ic(p){var v=eo(),N=p.focusedElem,z=p.selectionRange;if(v!==N&&N&&N.ownerDocument&&id(N.ownerDocument.documentElement,N)){if(z!==null&&ll(N)){if(v=z.start,p=z.end,p===void 0&&(p=v),"selectionStart"in N)N.selectionStart=v,N.selectionEnd=Math.min(p,N.value.length);else if(p=(v=N.ownerDocument||document)&&v.defaultView||window,p.getSelection){p=p.getSelection();var xe=N.textContent.length,Te=Math.min(z.start,xe);z=z.end===void 0?Te:Math.min(z.end,xe),!p.extend&&Te>z&&(xe=z,z=Te,Te=xe),xe=ho(N,Te);var Ve=ho(N,z);xe&&Ve&&(p.rangeCount!==1||p.anchorNode!==xe.node||p.anchorOffset!==xe.offset||p.focusNode!==Ve.node||p.focusOffset!==Ve.offset)&&(v=v.createRange(),v.setStart(xe.node,xe.offset),p.removeAllRanges(),Te>z?(p.addRange(v),p.extend(Ve.node,Ve.offset)):(v.setEnd(Ve.node,Ve.offset),p.addRange(v)))}}for(v=[],p=N;p=p.parentNode;)p.nodeType===1&&v.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<v.length;N++)p=v[N],p.element.scrollLeft=p.left,p.element.scrollTop=p.top}}var nc=o&&"documentMode"in document&&11>=document.documentMode,to=null,cl=null,Fl=null,Yo=!1;function Lo(p,v,N){var z=N.window===N?N.document:N.nodeType===9?N:N.ownerDocument;Yo||to==null||to!==Me(z)||(z=to,"selectionStart"in z&&ll(z)?z={start:z.selectionStart,end:z.selectionEnd}:(z=(z.ownerDocument&&z.ownerDocument.defaultView||window).getSelection(),z={anchorNode:z.anchorNode,anchorOffset:z.anchorOffset,focusNode:z.focusNode,focusOffset:z.focusOffset}),Fl&&Ls(Fl,z)||(Fl=z,z=Gd(cl,"onSelect"),0<z.length&&(v=new Pt("onSelect","select",null,v,N),p.push({event:v,listeners:z}),v.target=to)))}function ac(p,v){var N={};return N[p.toLowerCase()]=v.toLowerCase(),N["Webkit"+p]="webkit"+v,N["Moz"+p]="moz"+v,N}var Pl={animationend:ac("Animation","AnimationEnd"),animationiteration:ac("Animation","AnimationIteration"),animationstart:ac("Animation","AnimationStart"),transitionend:ac("Transition","TransitionEnd")},Tc={},pu={};o&&(pu=document.createElement("div").style,"AnimationEvent"in window||(delete Pl.animationend.animation,delete Pl.animationiteration.animation,delete Pl.animationstart.animation),"TransitionEvent"in window||delete Pl.transitionend.transition);function Vc(p){if(Tc[p])return Tc[p];if(!Pl[p])return p;var v=Pl[p],N;for(N in v)if(v.hasOwnProperty(N)&&N in pu)return Tc[p]=v[N];return p}var mu=Vc("animationend"),od=Vc("animationiteration"),Jo=Vc("animationstart"),ld=Vc("transitionend"),Sd=new Map,$d="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dl(p,v){Sd.set(p,v),i(v,[p])}for(var Vd=0;Vd<$d.length;Vd++){var zd=$d[Vd],sc=zd.toLowerCase(),Kd=zd[0].toUpperCase()+zd.slice(1);Dl(sc,"on"+Kd)}Dl(mu,"onAnimationEnd"),Dl(od,"onAnimationIteration"),Dl(Jo,"onAnimationStart"),Dl("dblclick","onDoubleClick"),Dl("focusin","onFocus"),Dl("focusout","onBlur"),Dl(ld,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ed="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ba=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ed));function gu(p,v,N){var z=p.type||"unknown-event";p.currentTarget=N,ys(z,v,void 0,p),p.currentTarget=null}function ic(p,v){v=(v&4)!==0;for(var N=0;N<p.length;N++){var z=p[N],xe=z.event;z=z.listeners;e:{var Te=void 0;if(v)for(var Ve=z.length-1;0<=Ve;Ve--){var It=z[Ve],Qt=It.instance,xr=It.currentTarget;if(It=It.listener,Qt!==Te&&xe.isPropagationStopped())break e;gu(xe,It,xr),Te=Qt}else for(Ve=0;Ve<z.length;Ve++){if(It=z[Ve],Qt=It.instance,xr=It.currentTarget,It=It.listener,Qt!==Te&&xe.isPropagationStopped())break e;gu(xe,It,xr),Te=Qt}}}if(Mr)throw p=tn,Mr=!1,tn=null,p}function Ns(p,v){var N=v[qu];N===void 0&&(N=v[qu]=new Set);var z=p+"__bubble";N.has(z)||(kc(v,p,2,!1),N.add(z))}function vu(p,v,N){var z=0;v&&(z|=4),kc(N,p,z,v)}var bl="_reactListening"+Math.random().toString(36).slice(2);function Fi(p){if(!p[bl]){p[bl]=!0,a.forEach(function(N){N!=="selectionchange"&&(ba.has(N)||vu(N,!1,p),vu(N,!0,p))});var v=p.nodeType===9?p:p.ownerDocument;v===null||v[bl]||(v[bl]=!0,vu("selectionchange",!1,v))}}function kc(p,v,N,z){switch(jt(v)){case 1:var xe=ze;break;case 4:xe=nt;break;default:xe=ut}N=xe.bind(null,v,N,p),xe=void 0,!rn||v!=="touchstart"&&v!=="touchmove"&&v!=="wheel"||(xe=!0),z?xe!==void 0?p.addEventListener(v,N,{capture:!0,passive:xe}):p.addEventListener(v,N,!0):xe!==void 0?p.addEventListener(v,N,{passive:xe}):p.addEventListener(v,N,!1)}function cd(p,v,N,z,xe){var Te=z;if((v&1)===0&&(v&2)===0&&z!==null)e:for(;;){if(z===null)return;var Ve=z.tag;if(Ve===3||Ve===4){var It=z.stateNode.containerInfo;if(It===xe||It.nodeType===8&&It.parentNode===xe)break;if(Ve===4)for(Ve=z.return;Ve!==null;){var Qt=Ve.tag;if((Qt===3||Qt===4)&&(Qt=Ve.stateNode.containerInfo,Qt===xe||Qt.nodeType===8&&Qt.parentNode===xe))return;Ve=Ve.return}for(;It!==null;){if(Ve=el(It),Ve===null)return;if(Qt=Ve.tag,Qt===5||Qt===6){z=Te=Ve;continue e}It=It.parentNode}}z=z.return}Hs(function(){var xr=Te,Zr=Wr(N),sn=[];e:{var Xr=Sd.get(p);if(Xr!==void 0){var Un=Pt,Jn=p;switch(p){case"keypress":if(kt(N)===0)break e;case"keydown":case"keyup":Un=Bn;break;case"focusin":Jn="focus",Un=nn;break;case"focusout":Jn="blur",Un=nn;break;case"beforeblur":case"afterblur":Un=nn;break;case"click":if(N.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Un=yr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Un=ir;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Un=xa;break;case mu:case od:case Jo:Un=Ze;break;case ld:Un=qr;break;case"scroll":Un=ct;break;case"wheel":Un=Mn;break;case"copy":case"cut":case"paste":Un=Tt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Un=pt}var ra=(v&4)!==0,gl=!ra&&p==="scroll",fr=ra?Xr!==null?Xr+"Capture":null:Xr;ra=[];for(var Zt=xr,vr;Zt!==null;){vr=Zt;var hn=vr.stateNode;if(vr.tag===5&&hn!==null&&(vr=hn,fr!==null&&(hn=oa(Zt,fr),hn!=null&&ra.push(Ml(Zt,hn,vr)))),gl)break;Zt=Zt.return}0<ra.length&&(Xr=new Un(Xr,Jn,null,N,Zr),sn.push({event:Xr,listeners:ra}))}}if((v&7)===0){e:{if(Xr=p==="mouseover"||p==="pointerover",Un=p==="mouseout"||p==="pointerout",Xr&&N!==Jr&&(Jn=N.relatedTarget||N.fromElement)&&(el(Jn)||Jn[oc]))break e;if((Un||Xr)&&(Xr=Zr.window===Zr?Zr:(Xr=Zr.ownerDocument)?Xr.defaultView||Xr.parentWindow:window,Un?(Jn=N.relatedTarget||N.toElement,Un=xr,Jn=Jn?el(Jn):null,Jn!==null&&(gl=Va(Jn),Jn!==gl||Jn.tag!==5&&Jn.tag!==6)&&(Jn=null)):(Un=null,Jn=xr),Un!==Jn)){if(ra=yr,hn="onMouseLeave",fr="onMouseEnter",Zt="mouse",(p==="pointerout"||p==="pointerover")&&(ra=pt,hn="onPointerLeave",fr="onPointerEnter",Zt="pointer"),gl=Un==null?Xr:Cl(Un),vr=Jn==null?Xr:Cl(Jn),Xr=new ra(hn,Zt+"leave",Un,N,Zr),Xr.target=gl,Xr.relatedTarget=vr,hn=null,el(Zr)===xr&&(ra=new ra(fr,Zt+"enter",Jn,N,Zr),ra.target=vr,ra.relatedTarget=gl,hn=ra),gl=hn,Un&&Jn)t:{for(ra=Un,fr=Jn,Zt=0,vr=ra;vr;vr=Zo(vr))Zt++;for(vr=0,hn=fr;hn;hn=Zo(hn))vr++;for(;0<Zt-vr;)ra=Zo(ra),Zt--;for(;0<vr-Zt;)fr=Zo(fr),vr--;for(;Zt--;){if(ra===fr||fr!==null&&ra===fr.alternate)break t;ra=Zo(ra),fr=Zo(fr)}ra=null}else ra=null;Un!==null&&xu(sn,Xr,Un,ra,!1),Jn!==null&&gl!==null&&xu(sn,gl,Jn,ra,!0)}}e:{if(Xr=xr?Cl(xr):window,Un=Xr.nodeName&&Xr.nodeName.toLowerCase(),Un==="select"||Un==="input"&&Xr.type==="file")var ia=Fs;else if(Ja(Xr))if(Sa)ia=Co;else{ia=ma;var Fa=Bc}else(Un=Xr.nodeName)&&Un.toLowerCase()==="input"&&(Xr.type==="checkbox"||Xr.type==="radio")&&(ia=Ei);if(ia&&(ia=ia(p,xr))){ii(sn,ia,N,Zr);break e}Fa&&Fa(p,Xr,xr),p==="focusout"&&(Fa=Xr._wrapperState)&&Fa.controlled&&Xr.type==="number"&&et(Xr,"number",Xr.value)}switch(Fa=xr?Cl(xr):window,p){case"focusin":(Ja(Fa)||Fa.contentEditable==="true")&&(to=Fa,cl=xr,Fl=null);break;case"focusout":Fl=cl=to=null;break;case"mousedown":Yo=!0;break;case"contextmenu":case"mouseup":case"dragend":Yo=!1,Lo(sn,N,Zr);break;case"selectionchange":if(nc)break;case"keydown":case"keyup":Lo(sn,N,Zr)}var Pa;if(Rn)e:{switch(p){case"compositionstart":var es="onCompositionStart";break e;case"compositionend":es="onCompositionEnd";break e;case"compositionupdate":es="onCompositionUpdate";break e}es=void 0}else On?_n(p,N)&&(es="onCompositionEnd"):p==="keydown"&&N.keyCode===229&&(es="onCompositionStart");es&&(Pn&&N.locale!=="ko"&&(On||es!=="onCompositionStart"?es==="onCompositionEnd"&&On&&(Pa=tr()):(Bt=Zr,lt="value"in Bt?Bt.value:Bt.textContent,On=!0)),Fa=Gd(xr,es),0<Fa.length&&(es=new er(es,p,null,N,Zr),sn.push({event:es,listeners:Fa}),Pa?es.data=Pa:(Pa=fa(N),Pa!==null&&(es.data=Pa)))),(Pa=za?Na(p,N):As(p,N))&&(xr=Gd(xr,"onBeforeInput"),0<xr.length&&(Zr=new er("onBeforeInput","beforeinput",null,N,Zr),sn.push({event:Zr,listeners:xr}),Zr.data=Pa))}ic(sn,v)})}function Ml(p,v,N){return{instance:p,listener:v,currentTarget:N}}function Gd(p,v){for(var N=v+"Capture",z=[];p!==null;){var xe=p,Te=xe.stateNode;xe.tag===5&&Te!==null&&(xe=Te,Te=oa(p,N),Te!=null&&z.unshift(Ml(p,Te,xe)),Te=oa(p,v),Te!=null&&z.push(Ml(p,Te,xe))),p=p.return}return z}function Zo(p){if(p===null)return null;do p=p.return;while(p&&p.tag!==5);return p||null}function xu(p,v,N,z,xe){for(var Te=v._reactName,Ve=[];N!==null&&N!==z;){var It=N,Qt=It.alternate,xr=It.stateNode;if(Qt!==null&&Qt===z)break;It.tag===5&&xr!==null&&(It=xr,xe?(Qt=oa(N,Te),Qt!=null&&Ve.unshift(Ml(N,Qt,It))):xe||(Qt=oa(N,Te),Qt!=null&&Ve.push(Ml(N,Qt,It)))),N=N.return}Ve.length!==0&&p.push({event:v,listeners:Ve})}var Bd=/\r\n?/g,yu=/\u0000|\uFFFD/g;function dd(p){return(typeof p=="string"?p:""+p).replace(Bd,`
`).replace(yu,"")}function Id(p,v,N){if(v=dd(v),dd(p)!==v&&N)throw Error(n(425))}function Td(){}var kd=null,_d=null;function ju(p,v){return p==="textarea"||p==="noscript"||typeof v.children=="string"||typeof v.children=="number"||typeof v.dangerouslySetInnerHTML=="object"&&v.dangerouslySetInnerHTML!==null&&v.dangerouslySetInnerHTML.__html!=null}var Rl=typeof setTimeout=="function"?setTimeout:void 0,$h=typeof clearTimeout=="function"?clearTimeout:void 0,Od=typeof Promise=="function"?Promise:void 0,Gu=typeof queueMicrotask=="function"?queueMicrotask:typeof Od<"u"?function(p){return Od.resolve(null).then(p).catch(Vh)}:Rl;function Vh(p){setTimeout(function(){throw p})}function Ea(p,v){var N=v,z=0;do{var xe=N.nextSibling;if(p.removeChild(N),xe&&xe.nodeType===8)if(N=xe.data,N==="/$"){if(z===0){p.removeChild(xe),be(v);return}z--}else N!=="$"&&N!=="$?"&&N!=="$!"||z++;N=xe}while(N);be(v)}function zc(p){for(;p!=null;p=p.nextSibling){var v=p.nodeType;if(v===1||v===3)break;if(v===8){if(v=p.data,v==="$"||v==="$!"||v==="$?")break;if(v==="/$")return null}}return p}function gh(p){p=p.previousSibling;for(var v=0;p;){if(p.nodeType===8){var N=p.data;if(N==="$"||N==="$!"||N==="$?"){if(v===0)return p;v--}else N==="/$"&&v++}p=p.previousSibling}return null}var _c=Math.random().toString(36).slice(2),No="__reactFiber$"+_c,Ll="__reactProps$"+_c,oc="__reactContainer$"+_c,qu="__reactEvents$"+_c,wl="__reactListeners$"+_c,qd="__reactHandles$"+_c;function el(p){var v=p[No];if(v)return v;for(var N=p.parentNode;N;){if(v=N[oc]||N[No]){if(N=v.alternate,v.child!==null||N!==null&&N.child!==null)for(p=gh(p);p!==null;){if(N=p[No])return N;p=gh(p)}return v}p=N,N=p.parentNode}return null}function Fd(p){return p=p[No]||p[oc],!p||p.tag!==5&&p.tag!==6&&p.tag!==13&&p.tag!==3?null:p}function Cl(p){if(p.tag===5||p.tag===6)return p.stateNode;throw Error(n(33))}function bu(p){return p[Ll]||null}var Oc=[],lc=-1;function Ul(p){return{current:p}}function ps(p){0>lc||(p.current=Oc[lc],Oc[lc]=null,lc--)}function Ps(p,v){lc++,Oc[lc]=p.current,p.current=v}var Hl={},Bi=Ul(Hl),Ui=Ul(!1),Fc=Hl;function ud(p,v){var N=p.type.contextTypes;if(!N)return Hl;var z=p.stateNode;if(z&&z.__reactInternalMemoizedUnmaskedChildContext===v)return z.__reactInternalMemoizedMaskedChildContext;var xe={},Te;for(Te in N)xe[Te]=v[Te];return z&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=v,p.__reactInternalMemoizedMaskedChildContext=xe),xe}function Uo(p){return p=p.childContextTypes,p!=null}function cc(){ps(Ui),ps(Bi)}function Kc(p,v,N){if(Bi.current!==Hl)throw Error(n(168));Ps(Bi,v),Ps(Ui,N)}function Xu(p,v,N){var z=p.stateNode;if(v=v.childContextTypes,typeof z.getChildContext!="function")return N;z=z.getChildContext();for(var xe in z)if(!(xe in v))throw Error(n(108,je(p)||"Unknown",xe));return ie({},N,z)}function Gc(p){return p=(p=p.stateNode)&&p.__reactInternalMemoizedMergedChildContext||Hl,Fc=Bi.current,Ps(Bi,p),Ps(Ui,Ui.current),!0}function Yu(p,v,N){var z=p.stateNode;if(!z)throw Error(n(169));N?(p=Xu(p,v,Fc),z.__reactInternalMemoizedMergedChildContext=p,ps(Ui),ps(Bi),Ps(Bi,p)):ps(Ui),Ps(Ui,N)}var ve=null,Qe=!1,bt=!1;function Dt(p){ve===null?ve=[p]:ve.push(p)}function rr(p){Qe=!0,Dt(p)}function Nr(){if(!bt&&ve!==null){bt=!0;var p=0,v=va;try{var N=ve;for(va=1;p<N.length;p++){var z=N[p];do z=z(!0);while(z!==null)}ve=null,Qe=!1}catch(xe){throw ve!==null&&(ve=ve.slice(p+1)),yl(os,Nr),xe}finally{va=v,bt=!1}}return null}var Lr=[],Tn=0,Hn=null,ga=0,aa=[],Ra=0,Us=null,$s=1,gs="";function mi(p,v){Lr[Tn++]=ga,Lr[Tn++]=Hn,Hn=p,ga=v}function _(p,v,N){aa[Ra++]=$s,aa[Ra++]=gs,aa[Ra++]=Us,Us=p;var z=$s;p=gs;var xe=32-ls(z)-1;z&=~(1<<xe),N+=1;var Te=32-ls(v)+xe;if(30<Te){var Ve=xe-xe%5;Te=(z&(1<<Ve)-1).toString(32),z>>=Ve,xe-=Ve,$s=1<<32-ls(v)+xe|N<<xe|z,gs=Te+p}else $s=1<<Te|N<<xe|z,gs=p}function Ue(p){p.return!==null&&(mi(p,1),_(p,1,0))}function oe(p){for(;p===Hn;)Hn=Lr[--Tn],Lr[Tn]=null,ga=Lr[--Tn],Lr[Tn]=null;for(;p===Us;)Us=aa[--Ra],aa[Ra]=null,gs=aa[--Ra],aa[Ra]=null,$s=aa[--Ra],aa[Ra]=null}var Je=null,gt=null,ht=!1,or=null;function Jt(p,v){var N=Gt(5,null,null,0);N.elementType="DELETED",N.stateNode=v,N.return=p,v=p.deletions,v===null?(p.deletions=[N],p.flags|=16):v.push(N)}function En(p,v){switch(p.tag){case 5:var N=p.type;return v=v.nodeType!==1||N.toLowerCase()!==v.nodeName.toLowerCase()?null:v,v!==null?(p.stateNode=v,Je=p,gt=zc(v.firstChild),!0):!1;case 6:return v=p.pendingProps===""||v.nodeType!==3?null:v,v!==null?(p.stateNode=v,Je=p,gt=null,!0):!1;case 13:return v=v.nodeType!==8?null:v,v!==null?(N=Us!==null?{id:$s,overflow:gs}:null,p.memoizedState={dehydrated:v,treeContext:N,retryLane:1073741824},N=Gt(18,null,null,0),N.stateNode=v,N.return=p,p.child=N,Je=p,gt=null,!0):!1;default:return!1}}function Lt(p){return(p.mode&1)!==0&&(p.flags&128)===0}function hr(p){if(ht){var v=gt;if(v){var N=v;if(!En(p,v)){if(Lt(p))throw Error(n(418));v=zc(N.nextSibling);var z=Je;v&&En(p,v)?Jt(z,N):(p.flags=p.flags&-4097|2,ht=!1,Je=p)}}else{if(Lt(p))throw Error(n(418));p.flags=p.flags&-4097|2,ht=!1,Je=p}}}function ja(p){for(p=p.return;p!==null&&p.tag!==5&&p.tag!==3&&p.tag!==13;)p=p.return;Je=p}function gn(p){if(p!==Je)return!1;if(!ht)return ja(p),ht=!0,!1;var v;if((v=p.tag!==3)&&!(v=p.tag!==5)&&(v=p.type,v=v!=="head"&&v!=="body"&&!ju(p.type,p.memoizedProps)),v&&(v=gt)){if(Lt(p))throw $r(),Error(n(418));for(;v;)Jt(p,v),v=zc(v.nextSibling)}if(ja(p),p.tag===13){if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));e:{for(p=p.nextSibling,v=0;p;){if(p.nodeType===8){var N=p.data;if(N==="/$"){if(v===0){gt=zc(p.nextSibling);break e}v--}else N!=="$"&&N!=="$!"&&N!=="$?"||v++}p=p.nextSibling}gt=null}}else gt=Je?zc(p.stateNode.nextSibling):null;return!0}function $r(){for(var p=gt;p;)p=zc(p.nextSibling)}function Sr(){gt=Je=null,ht=!1}function Vs(p){or===null?or=[p]:or.push(p)}var wa=S.ReactCurrentBatchConfig;function sa(p,v,N){if(p=N.ref,p!==null&&typeof p!="function"&&typeof p!="object"){if(N._owner){if(N=N._owner,N){if(N.tag!==1)throw Error(n(309));var z=N.stateNode}if(!z)throw Error(n(147,p));var xe=z,Te=""+p;return v!==null&&v.ref!==null&&typeof v.ref=="function"&&v.ref._stringRef===Te?v.ref:(v=function(Ve){var It=xe.refs;Ve===null?delete It[Te]:It[Te]=Ve},v._stringRef=Te,v)}if(typeof p!="string")throw Error(n(284));if(!N._owner)throw Error(n(290,p))}return p}function Ba(p,v){throw p=Object.prototype.toString.call(v),Error(n(31,p==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":p))}function ns(p){var v=p._init;return v(p._payload)}function dn(p){function v(fr,Zt){if(p){var vr=fr.deletions;vr===null?(fr.deletions=[Zt],fr.flags|=16):vr.push(Zt)}}function N(fr,Zt){if(!p)return null;for(;Zt!==null;)v(fr,Zt),Zt=Zt.sibling;return null}function z(fr,Zt){for(fr=new Map;Zt!==null;)Zt.key!==null?fr.set(Zt.key,Zt):fr.set(Zt.index,Zt),Zt=Zt.sibling;return fr}function xe(fr,Zt){return fr=Nn(fr,Zt),fr.index=0,fr.sibling=null,fr}function Te(fr,Zt,vr){return fr.index=vr,p?(vr=fr.alternate,vr!==null?(vr=vr.index,vr<Zt?(fr.flags|=2,Zt):vr):(fr.flags|=2,Zt)):(fr.flags|=1048576,Zt)}function Ve(fr){return p&&fr.alternate===null&&(fr.flags|=2),fr}function It(fr,Zt,vr,hn){return Zt===null||Zt.tag!==6?(Zt=Xn(vr,fr.mode,hn),Zt.return=fr,Zt):(Zt=xe(Zt,vr),Zt.return=fr,Zt)}function Qt(fr,Zt,vr,hn){var ia=vr.type;return ia===I?Zr(fr,Zt,vr.props.children,hn,vr.key):Zt!==null&&(Zt.elementType===ia||typeof ia=="object"&&ia!==null&&ia.$$typeof===ee&&ns(ia)===Zt.type)?(hn=xe(Zt,vr.props),hn.ref=sa(fr,Zt,vr),hn.return=fr,hn):(hn=ln(vr.type,vr.key,vr.props,null,fr.mode,hn),hn.ref=sa(fr,Zt,vr),hn.return=fr,hn)}function xr(fr,Zt,vr,hn){return Zt===null||Zt.tag!==4||Zt.stateNode.containerInfo!==vr.containerInfo||Zt.stateNode.implementation!==vr.implementation?(Zt=$n(vr,fr.mode,hn),Zt.return=fr,Zt):(Zt=xe(Zt,vr.children||[]),Zt.return=fr,Zt)}function Zr(fr,Zt,vr,hn,ia){return Zt===null||Zt.tag!==7?(Zt=bn(vr,fr.mode,hn,ia),Zt.return=fr,Zt):(Zt=xe(Zt,vr),Zt.return=fr,Zt)}function sn(fr,Zt,vr){if(typeof Zt=="string"&&Zt!==""||typeof Zt=="number")return Zt=Xn(""+Zt,fr.mode,vr),Zt.return=fr,Zt;if(typeof Zt=="object"&&Zt!==null){switch(Zt.$$typeof){case w:return vr=ln(Zt.type,Zt.key,Zt.props,null,fr.mode,vr),vr.ref=sa(fr,null,Zt),vr.return=fr,vr;case E:return Zt=$n(Zt,fr.mode,vr),Zt.return=fr,Zt;case ee:var hn=Zt._init;return sn(fr,hn(Zt._payload),vr)}if(Le(Zt)||q(Zt))return Zt=bn(Zt,fr.mode,vr,null),Zt.return=fr,Zt;Ba(fr,Zt)}return null}function Xr(fr,Zt,vr,hn){var ia=Zt!==null?Zt.key:null;if(typeof vr=="string"&&vr!==""||typeof vr=="number")return ia!==null?null:It(fr,Zt,""+vr,hn);if(typeof vr=="object"&&vr!==null){switch(vr.$$typeof){case w:return vr.key===ia?Qt(fr,Zt,vr,hn):null;case E:return vr.key===ia?xr(fr,Zt,vr,hn):null;case ee:return ia=vr._init,Xr(fr,Zt,ia(vr._payload),hn)}if(Le(vr)||q(vr))return ia!==null?null:Zr(fr,Zt,vr,hn,null);Ba(fr,vr)}return null}function Un(fr,Zt,vr,hn,ia){if(typeof hn=="string"&&hn!==""||typeof hn=="number")return fr=fr.get(vr)||null,It(Zt,fr,""+hn,ia);if(typeof hn=="object"&&hn!==null){switch(hn.$$typeof){case w:return fr=fr.get(hn.key===null?vr:hn.key)||null,Qt(Zt,fr,hn,ia);case E:return fr=fr.get(hn.key===null?vr:hn.key)||null,xr(Zt,fr,hn,ia);case ee:var Fa=hn._init;return Un(fr,Zt,vr,Fa(hn._payload),ia)}if(Le(hn)||q(hn))return fr=fr.get(vr)||null,Zr(Zt,fr,hn,ia,null);Ba(Zt,hn)}return null}function Jn(fr,Zt,vr,hn){for(var ia=null,Fa=null,Pa=Zt,es=Zt=0,xc=null;Pa!==null&&es<vr.length;es++){Pa.index>es?(xc=Pa,Pa=null):xc=Pa.sibling;var di=Xr(fr,Pa,vr[es],hn);if(di===null){Pa===null&&(Pa=xc);break}p&&Pa&&di.alternate===null&&v(fr,Pa),Zt=Te(di,Zt,es),Fa===null?ia=di:Fa.sibling=di,Fa=di,Pa=xc}if(es===vr.length)return N(fr,Pa),ht&&mi(fr,es),ia;if(Pa===null){for(;es<vr.length;es++)Pa=sn(fr,vr[es],hn),Pa!==null&&(Zt=Te(Pa,Zt,es),Fa===null?ia=Pa:Fa.sibling=Pa,Fa=Pa);return ht&&mi(fr,es),ia}for(Pa=z(fr,Pa);es<vr.length;es++)xc=Un(Pa,fr,es,vr[es],hn),xc!==null&&(p&&xc.alternate!==null&&Pa.delete(xc.key===null?es:xc.key),Zt=Te(xc,Zt,es),Fa===null?ia=xc:Fa.sibling=xc,Fa=xc);return p&&Pa.forEach(function(qf){return v(fr,qf)}),ht&&mi(fr,es),ia}function ra(fr,Zt,vr,hn){var ia=q(vr);if(typeof ia!="function")throw Error(n(150));if(vr=ia.call(vr),vr==null)throw Error(n(151));for(var Fa=ia=null,Pa=Zt,es=Zt=0,xc=null,di=vr.next();Pa!==null&&!di.done;es++,di=vr.next()){Pa.index>es?(xc=Pa,Pa=null):xc=Pa.sibling;var qf=Xr(fr,Pa,di.value,hn);if(qf===null){Pa===null&&(Pa=xc);break}p&&Pa&&qf.alternate===null&&v(fr,Pa),Zt=Te(qf,Zt,es),Fa===null?ia=qf:Fa.sibling=qf,Fa=qf,Pa=xc}if(di.done)return N(fr,Pa),ht&&mi(fr,es),ia;if(Pa===null){for(;!di.done;es++,di=vr.next())di=sn(fr,di.value,hn),di!==null&&(Zt=Te(di,Zt,es),Fa===null?ia=di:Fa.sibling=di,Fa=di);return ht&&mi(fr,es),ia}for(Pa=z(fr,Pa);!di.done;es++,di=vr.next())di=Un(Pa,fr,es,di.value,hn),di!==null&&(p&&di.alternate!==null&&Pa.delete(di.key===null?es:di.key),Zt=Te(di,Zt,es),Fa===null?ia=di:Fa.sibling=di,Fa=di);return p&&Pa.forEach(function(RD){return v(fr,RD)}),ht&&mi(fr,es),ia}function gl(fr,Zt,vr,hn){if(typeof vr=="object"&&vr!==null&&vr.type===I&&vr.key===null&&(vr=vr.props.children),typeof vr=="object"&&vr!==null){switch(vr.$$typeof){case w:e:{for(var ia=vr.key,Fa=Zt;Fa!==null;){if(Fa.key===ia){if(ia=vr.type,ia===I){if(Fa.tag===7){N(fr,Fa.sibling),Zt=xe(Fa,vr.props.children),Zt.return=fr,fr=Zt;break e}}else if(Fa.elementType===ia||typeof ia=="object"&&ia!==null&&ia.$$typeof===ee&&ns(ia)===Fa.type){N(fr,Fa.sibling),Zt=xe(Fa,vr.props),Zt.ref=sa(fr,Fa,vr),Zt.return=fr,fr=Zt;break e}N(fr,Fa);break}else v(fr,Fa);Fa=Fa.sibling}vr.type===I?(Zt=bn(vr.props.children,fr.mode,hn,vr.key),Zt.return=fr,fr=Zt):(hn=ln(vr.type,vr.key,vr.props,null,fr.mode,hn),hn.ref=sa(fr,Zt,vr),hn.return=fr,fr=hn)}return Ve(fr);case E:e:{for(Fa=vr.key;Zt!==null;){if(Zt.key===Fa)if(Zt.tag===4&&Zt.stateNode.containerInfo===vr.containerInfo&&Zt.stateNode.implementation===vr.implementation){N(fr,Zt.sibling),Zt=xe(Zt,vr.children||[]),Zt.return=fr,fr=Zt;break e}else{N(fr,Zt);break}else v(fr,Zt);Zt=Zt.sibling}Zt=$n(vr,fr.mode,hn),Zt.return=fr,fr=Zt}return Ve(fr);case ee:return Fa=vr._init,gl(fr,Zt,Fa(vr._payload),hn)}if(Le(vr))return Jn(fr,Zt,vr,hn);if(q(vr))return ra(fr,Zt,vr,hn);Ba(fr,vr)}return typeof vr=="string"&&vr!==""||typeof vr=="number"?(vr=""+vr,Zt!==null&&Zt.tag===6?(N(fr,Zt.sibling),Zt=xe(Zt,vr),Zt.return=fr,fr=Zt):(N(fr,Zt),Zt=Xn(vr,fr.mode,hn),Zt.return=fr,fr=Zt),Ve(fr)):N(fr,Zt)}return gl}var Oa=dn(!0),oi=dn(!1),ea=Ul(null),hs=null,La=null,Qn=null;function Aa(){Qn=La=hs=null}function So(p){var v=ea.current;ps(ea),p._currentValue=v}function dc(p,v,N){for(;p!==null;){var z=p.alternate;if((p.childLanes&v)!==v?(p.childLanes|=v,z!==null&&(z.childLanes|=v)):z!==null&&(z.childLanes&v)!==v&&(z.childLanes|=v),p===N)break;p=p.return}}function Ho(p,v){hs=p,Qn=La=null,p=p.dependencies,p!==null&&p.firstContext!==null&&((p.lanes&v)!==0&&($l=!0),p.firstContext=null)}function fo(p){var v=p._currentValue;if(Qn!==p)if(p={context:p,memoizedValue:v,next:null},La===null){if(hs===null)throw Error(n(308));La=p,hs.dependencies={lanes:0,firstContext:p}}else La=La.next=p;return v}var uc=null;function Gi(p){uc===null?uc=[p]:uc.push(p)}function zh(p,v,N,z){var xe=v.interleaved;return xe===null?(N.next=N,Gi(v)):(N.next=xe.next,xe.next=N),v.interleaved=N,tl(p,z)}function tl(p,v){p.lanes|=v;var N=p.alternate;for(N!==null&&(N.lanes|=v),N=p,p=p.return;p!==null;)p.childLanes|=v,N=p.alternate,N!==null&&(N.childLanes|=v),N=p,p=p.return;return N.tag===3?N.stateNode:null}var dl=!1;function Ju(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vh(p,v){p=p.updateQueue,v.updateQueue===p&&(v.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,effects:p.effects})}function Pc(p,v){return{eventTime:p,lane:v,tag:0,payload:null,callback:null,next:null}}function qc(p,v,N){var z=p.updateQueue;if(z===null)return null;if(z=z.shared,(qn&2)!==0){var xe=z.pending;return xe===null?v.next=v:(v.next=xe.next,xe.next=v),z.pending=v,tl(p,N)}return xe=z.interleaved,xe===null?(v.next=v,Gi(z)):(v.next=xe.next,xe.next=v),z.interleaved=v,tl(p,N)}function Xc(p,v,N){if(v=v.updateQueue,v!==null&&(v=v.shared,(N&4194240)!==0)){var z=v.lanes;z&=p.pendingLanes,N|=z,v.lanes=N,Mo(p,N)}}function Xd(p,v){var N=p.updateQueue,z=p.alternate;if(z!==null&&(z=z.updateQueue,N===z)){var xe=null,Te=null;if(N=N.firstBaseUpdate,N!==null){do{var Ve={eventTime:N.eventTime,lane:N.lane,tag:N.tag,payload:N.payload,callback:N.callback,next:null};Te===null?xe=Te=Ve:Te=Te.next=Ve,N=N.next}while(N!==null);Te===null?xe=Te=v:Te=Te.next=v}else xe=Te=v;N={baseState:z.baseState,firstBaseUpdate:xe,lastBaseUpdate:Te,shared:z.shared,effects:z.effects},p.updateQueue=N;return}p=N.lastBaseUpdate,p===null?N.firstBaseUpdate=v:p.next=v,N.lastBaseUpdate=v}function hd(p,v,N,z){var xe=p.updateQueue;dl=!1;var Te=xe.firstBaseUpdate,Ve=xe.lastBaseUpdate,It=xe.shared.pending;if(It!==null){xe.shared.pending=null;var Qt=It,xr=Qt.next;Qt.next=null,Ve===null?Te=xr:Ve.next=xr,Ve=Qt;var Zr=p.alternate;Zr!==null&&(Zr=Zr.updateQueue,It=Zr.lastBaseUpdate,It!==Ve&&(It===null?Zr.firstBaseUpdate=xr:It.next=xr,Zr.lastBaseUpdate=Qt))}if(Te!==null){var sn=xe.baseState;Ve=0,Zr=xr=Qt=null,It=Te;do{var Xr=It.lane,Un=It.eventTime;if((z&Xr)===Xr){Zr!==null&&(Zr=Zr.next={eventTime:Un,lane:0,tag:It.tag,payload:It.payload,callback:It.callback,next:null});e:{var Jn=p,ra=It;switch(Xr=v,Un=N,ra.tag){case 1:if(Jn=ra.payload,typeof Jn=="function"){sn=Jn.call(Un,sn,Xr);break e}sn=Jn;break e;case 3:Jn.flags=Jn.flags&-65537|128;case 0:if(Jn=ra.payload,Xr=typeof Jn=="function"?Jn.call(Un,sn,Xr):Jn,Xr==null)break e;sn=ie({},sn,Xr);break e;case 2:dl=!0}}It.callback!==null&&It.lane!==0&&(p.flags|=64,Xr=xe.effects,Xr===null?xe.effects=[It]:Xr.push(It))}else Un={eventTime:Un,lane:Xr,tag:It.tag,payload:It.payload,callback:It.callback,next:null},Zr===null?(xr=Zr=Un,Qt=sn):Zr=Zr.next=Un,Ve|=Xr;if(It=It.next,It===null){if(It=xe.shared.pending,It===null)break;Xr=It,It=Xr.next,Xr.next=null,xe.lastBaseUpdate=Xr,xe.shared.pending=null}}while(!0);if(Zr===null&&(Qt=sn),xe.baseState=Qt,xe.firstBaseUpdate=xr,xe.lastBaseUpdate=Zr,v=xe.shared.interleaved,v!==null){xe=v;do Ve|=xe.lane,xe=xe.next;while(xe!==v)}else Te===null&&(xe.shared.lanes=0);Dd|=Ve,p.lanes=Ve,p.memoizedState=sn}}function wu(p,v,N){if(p=v.effects,v.effects=null,p!==null)for(v=0;v<p.length;v++){var z=p[v],xe=z.callback;if(xe!==null){if(z.callback=null,z=N,typeof xe!="function")throw Error(n(191,xe));xe.call(z)}}}var Dc={},Nl=Ul(Dc),Qo=Ul(Dc),hc=Ul(Dc);function ms(p){if(p===Dc)throw Error(n(174));return p}function zs(p,v){switch(Ps(hc,v),Ps(Qo,p),Ps(Nl,Dc),p=v.nodeType,p){case 9:case 11:v=(v=v.documentElement)?v.namespaceURI:en(null,"");break;default:p=p===8?v.parentNode:v,v=p.namespaceURI||null,p=p.tagName,v=en(v,p)}ps(Nl),Ps(Nl,v)}function gi(){ps(Nl),ps(Qo),ps(hc)}function Ao(p){ms(hc.current);var v=ms(Nl.current),N=en(v,p.type);v!==N&&(Ps(Qo,p),Ps(Nl,N))}function fd(p){Qo.current===p&&(ps(Nl),ps(Qo))}var li=Ul(0);function Ad(p){for(var v=p;v!==null;){if(v.tag===13){var N=v.memoizedState;if(N!==null&&(N=N.dehydrated,N===null||N.data==="$?"||N.data==="$!"))return v}else if(v.tag===19&&v.memoizedProps.revealOrder!==void 0){if((v.flags&128)!==0)return v}else if(v.child!==null){v.child.return=v,v=v.child;continue}if(v===p)break;for(;v.sibling===null;){if(v.return===null||v.return===p)return null;v=v.return}v.sibling.return=v.return,v=v.sibling}return null}var Cu=[];function Kh(){for(var p=0;p<Cu.length;p++)Cu[p]._workInProgressVersionPrimary=null;Cu.length=0}var xh=S.ReactCurrentDispatcher,Gh=S.ReactCurrentBatchConfig,Yd=0,Ii=null,Eo=null,ro=null,qh=!1,ul=!1,Nu=0,bp=0;function hl(){throw Error(n(321))}function Bf(p,v){if(v===null)return!1;for(var N=0;N<v.length&&N<p.length;N++)if(!Li(p[N],v[N]))return!1;return!0}function If(p,v,N,z,xe,Te){if(Yd=Te,Ii=v,v.memoizedState=null,v.updateQueue=null,v.lanes=0,xh.current=p===null||p.memoizedState===null?pd:Sp,p=N(z,xe),ul){Te=0;do{if(ul=!1,Nu=0,25<=Te)throw Error(n(301));Te+=1,ro=Eo=null,v.updateQueue=null,xh.current=NA,p=N(z,xe)}while(ul)}if(xh.current=Wl,v=Eo!==null&&Eo.next!==null,Yd=0,ro=Eo=Ii=null,qh=!1,v)throw Error(n(300));return p}function Tf(){var p=Nu!==0;return Nu=0,p}function Yc(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ro===null?Ii.memoizedState=ro=p:ro=ro.next=p,ro}function Ql(){if(Eo===null){var p=Ii.alternate;p=p!==null?p.memoizedState:null}else p=Eo.next;var v=ro===null?Ii.memoizedState:ro.next;if(v!==null)ro=v,Eo=p;else{if(p===null)throw Error(n(310));Eo=p,p={memoizedState:Eo.memoizedState,baseState:Eo.baseState,baseQueue:Eo.baseQueue,queue:Eo.queue,next:null},ro===null?Ii.memoizedState=ro=p:ro=ro.next=p}return ro}function fl(p,v){return typeof v=="function"?v(p):v}function fc(p){var v=Ql(),N=v.queue;if(N===null)throw Error(n(311));N.lastRenderedReducer=p;var z=Eo,xe=z.baseQueue,Te=N.pending;if(Te!==null){if(xe!==null){var Ve=xe.next;xe.next=Te.next,Te.next=Ve}z.baseQueue=xe=Te,N.pending=null}if(xe!==null){Te=xe.next,z=z.baseState;var It=Ve=null,Qt=null,xr=Te;do{var Zr=xr.lane;if((Yd&Zr)===Zr)Qt!==null&&(Qt=Qt.next={lane:0,action:xr.action,hasEagerState:xr.hasEagerState,eagerState:xr.eagerState,next:null}),z=xr.hasEagerState?xr.eagerState:p(z,xr.action);else{var sn={lane:Zr,action:xr.action,hasEagerState:xr.hasEagerState,eagerState:xr.eagerState,next:null};Qt===null?(It=Qt=sn,Ve=z):Qt=Qt.next=sn,Ii.lanes|=Zr,Dd|=Zr}xr=xr.next}while(xr!==null&&xr!==Te);Qt===null?Ve=z:Qt.next=It,Li(z,v.memoizedState)||($l=!0),v.memoizedState=z,v.baseState=Ve,v.baseQueue=Qt,N.lastRenderedState=z}if(p=N.interleaved,p!==null){xe=p;do Te=xe.lane,Ii.lanes|=Te,Dd|=Te,xe=xe.next;while(xe!==p)}else xe===null&&(N.lanes=0);return[v.memoizedState,N.dispatch]}function Zu(p){var v=Ql(),N=v.queue;if(N===null)throw Error(n(311));N.lastRenderedReducer=p;var z=N.dispatch,xe=N.pending,Te=v.memoizedState;if(xe!==null){N.pending=null;var Ve=xe=xe.next;do Te=p(Te,Ve.action),Ve=Ve.next;while(Ve!==xe);Li(Te,v.memoizedState)||($l=!0),v.memoizedState=Te,v.baseQueue===null&&(v.baseState=Te),N.lastRenderedState=Te}return[Te,z]}function Xh(){}function Yh(p,v){var N=Ii,z=Ql(),xe=v(),Te=!Li(z.memoizedState,xe);if(Te&&(z.memoizedState=xe,$l=!0),z=z.queue,bA(Su.bind(null,N,z,p),[p]),z.getSnapshot!==v||Te||ro!==null&&ro.memoizedState.tag&1){if(N.flags|=2048,Pd(9,po.bind(null,N,z,xe,v),void 0,null),Js===null)throw Error(n(349));(Yd&30)!==0||yh(N,v,xe)}return xe}function yh(p,v,N){p.flags|=16384,p={getSnapshot:v,value:N},v=Ii.updateQueue,v===null?(v={lastEffect:null,stores:null},Ii.updateQueue=v,v.stores=[p]):(N=v.stores,N===null?v.stores=[p]:N.push(p))}function po(p,v,N,z){v.value=N,v.getSnapshot=z,yA(v)&&kf(p)}function Su(p,v,N){return N(function(){yA(v)&&kf(p)})}function yA(p){var v=p.getSnapshot;p=p.value;try{var N=v();return!Li(p,N)}catch{return!0}}function kf(p){var v=tl(p,1);v!==null&&Il(v,p,1,-1)}function Jh(p){var v=Yc();return typeof p=="function"&&(p=p()),v.memoizedState=v.baseState=p,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fl,lastRenderedState:p},v.queue=p,p=p.dispatch=Wm.bind(null,Ii,p),[v.memoizedState,p]}function Pd(p,v,N,z){return p={tag:p,create:v,destroy:N,deps:z,next:null},v=Ii.updateQueue,v===null?(v={lastEffect:null,stores:null},Ii.updateQueue=v,v.lastEffect=p.next=p):(N=v.lastEffect,N===null?v.lastEffect=p.next=p:(z=N.next,N.next=p,p.next=z,v.lastEffect=p)),p}function _f(){return Ql().memoizedState}function Of(p,v,N,z){var xe=Yc();Ii.flags|=p,xe.memoizedState=Pd(1|v,N,void 0,z===void 0?null:z)}function Ff(p,v,N,z){var xe=Ql();z=z===void 0?null:z;var Te=void 0;if(Eo!==null){var Ve=Eo.memoizedState;if(Te=Ve.destroy,z!==null&&Bf(z,Ve.deps)){xe.memoizedState=Pd(v,N,Te,z);return}}Ii.flags|=p,xe.memoizedState=Pd(1|v,N,Te,z)}function jA(p,v){return Of(8390656,8,p,v)}function bA(p,v){return Ff(2048,8,p,v)}function wp(p,v){return Ff(4,2,p,v)}function Cp(p,v){return Ff(4,4,p,v)}function Np(p,v){if(typeof v=="function")return p=p(),v(p),function(){v(null)};if(v!=null)return p=p(),v.current=p,function(){v.current=null}}function wA(p,v,N){return N=N!=null?N.concat([p]):null,Ff(4,4,Np.bind(null,v,p),N)}function jh(){}function Zh(p,v){var N=Ql();v=v===void 0?null:v;var z=N.memoizedState;return z!==null&&v!==null&&Bf(v,z[1])?z[0]:(N.memoizedState=[p,v],p)}function eh(p,v){var N=Ql();v=v===void 0?null:v;var z=N.memoizedState;return z!==null&&v!==null&&Bf(v,z[1])?z[0]:(p=p(),N.memoizedState=[p,v],p)}function Pf(p,v,N){return(Yd&21)===0?(p.baseState&&(p.baseState=!1,$l=!0),p.memoizedState=N):(Li(N,v)||(N=uo(),Ii.lanes|=N,Dd|=N,p.baseState=!0),v)}function Hm(p,v){var N=va;va=N!==0&&4>N?N:4,p(!0);var z=Gh.transition;Gh.transition={};try{p(!1),v()}finally{va=N,Gh.transition=z}}function CA(){return Ql().memoizedState}function Qm(p,v,N){var z=mc(p);if(N={lane:z,action:N,hasEagerState:!1,eagerState:null,next:null},ef(p))tf(v,N);else if(N=zh(p,v,N,z),N!==null){var xe=Io();Il(N,p,z,xe),Jd(N,v,z)}}function Wm(p,v,N){var z=mc(p),xe={lane:z,action:N,hasEagerState:!1,eagerState:null,next:null};if(ef(p))tf(v,xe);else{var Te=p.alternate;if(p.lanes===0&&(Te===null||Te.lanes===0)&&(Te=v.lastRenderedReducer,Te!==null))try{var Ve=v.lastRenderedState,It=Te(Ve,N);if(xe.hasEagerState=!0,xe.eagerState=It,Li(It,Ve)){var Qt=v.interleaved;Qt===null?(xe.next=xe,Gi(v)):(xe.next=Qt.next,Qt.next=xe),v.interleaved=xe;return}}catch{}finally{}N=zh(p,v,xe,z),N!==null&&(xe=Io(),Il(N,p,z,xe),Jd(N,v,z))}}function ef(p){var v=p.alternate;return p===Ii||v!==null&&v===Ii}function tf(p,v){ul=qh=!0;var N=p.pending;N===null?v.next=v:(v.next=N.next,N.next=v),p.pending=v}function Jd(p,v,N){if((N&4194240)!==0){var z=v.lanes;z&=p.pendingLanes,N|=z,v.lanes=N,Mo(p,N)}}var Wl={readContext:fo,useCallback:hl,useContext:hl,useEffect:hl,useImperativeHandle:hl,useInsertionEffect:hl,useLayoutEffect:hl,useMemo:hl,useReducer:hl,useRef:hl,useState:hl,useDebugValue:hl,useDeferredValue:hl,useTransition:hl,useMutableSource:hl,useSyncExternalStore:hl,useId:hl,unstable_isNewReconciler:!1},pd={readContext:fo,useCallback:function(p,v){return Yc().memoizedState=[p,v===void 0?null:v],p},useContext:fo,useEffect:jA,useImperativeHandle:function(p,v,N){return N=N!=null?N.concat([p]):null,Of(4194308,4,Np.bind(null,v,p),N)},useLayoutEffect:function(p,v){return Of(4194308,4,p,v)},useInsertionEffect:function(p,v){return Of(4,2,p,v)},useMemo:function(p,v){var N=Yc();return v=v===void 0?null:v,p=p(),N.memoizedState=[p,v],p},useReducer:function(p,v,N){var z=Yc();return v=N!==void 0?N(v):v,z.memoizedState=z.baseState=v,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:v},z.queue=p,p=p.dispatch=Qm.bind(null,Ii,p),[z.memoizedState,p]},useRef:function(p){var v=Yc();return p={current:p},v.memoizedState=p},useState:Jh,useDebugValue:jh,useDeferredValue:function(p){return Yc().memoizedState=p},useTransition:function(){var p=Jh(!1),v=p[0];return p=Hm.bind(null,p[1]),Yc().memoizedState=p,[v,p]},useMutableSource:function(){},useSyncExternalStore:function(p,v,N){var z=Ii,xe=Yc();if(ht){if(N===void 0)throw Error(n(407));N=N()}else{if(N=v(),Js===null)throw Error(n(349));(Yd&30)!==0||yh(z,v,N)}xe.memoizedState=N;var Te={value:N,getSnapshot:v};return xe.queue=Te,jA(Su.bind(null,z,Te,p),[p]),z.flags|=2048,Pd(9,po.bind(null,z,Te,N,v),void 0,null),N},useId:function(){var p=Yc(),v=Js.identifierPrefix;if(ht){var N=gs,z=$s;N=(z&~(1<<32-ls(z)-1)).toString(32)+N,v=":"+v+"R"+N,N=Nu++,0<N&&(v+="H"+N.toString(32)),v+=":"}else N=bp++,v=":"+v+"r"+N.toString(32)+":";return p.memoizedState=v},unstable_isNewReconciler:!1},Sp={readContext:fo,useCallback:Zh,useContext:fo,useEffect:bA,useImperativeHandle:wA,useInsertionEffect:wp,useLayoutEffect:Cp,useMemo:eh,useReducer:fc,useRef:_f,useState:function(){return fc(fl)},useDebugValue:jh,useDeferredValue:function(p){var v=Ql();return Pf(v,Eo.memoizedState,p)},useTransition:function(){var p=fc(fl)[0],v=Ql().memoizedState;return[p,v]},useMutableSource:Xh,useSyncExternalStore:Yh,useId:CA,unstable_isNewReconciler:!1},NA={readContext:fo,useCallback:Zh,useContext:fo,useEffect:bA,useImperativeHandle:wA,useInsertionEffect:wp,useLayoutEffect:Cp,useMemo:eh,useReducer:Zu,useRef:_f,useState:function(){return Zu(fl)},useDebugValue:jh,useDeferredValue:function(p){var v=Ql();return Eo===null?v.memoizedState=p:Pf(v,Eo.memoizedState,p)},useTransition:function(){var p=Zu(fl)[0],v=Ql().memoizedState;return[p,v]},useMutableSource:Xh,useSyncExternalStore:Yh,useId:CA,unstable_isNewReconciler:!1};function Wo(p,v){if(p&&p.defaultProps){v=ie({},v),p=p.defaultProps;for(var N in p)v[N]===void 0&&(v[N]=p[N]);return v}return v}function Ac(p,v,N,z){v=p.memoizedState,N=N(z,v),N=N==null?v:ie({},v,N),p.memoizedState=N,p.lanes===0&&(p.updateQueue.baseState=N)}var th={isMounted:function(p){return(p=p._reactInternals)?Va(p)===p:!1},enqueueSetState:function(p,v,N){p=p._reactInternals;var z=Io(),xe=mc(p),Te=Pc(z,xe);Te.payload=v,N!=null&&(Te.callback=N),v=qc(p,Te,xe),v!==null&&(Il(v,p,xe,z),Xc(v,p,xe))},enqueueReplaceState:function(p,v,N){p=p._reactInternals;var z=Io(),xe=mc(p),Te=Pc(z,xe);Te.tag=1,Te.payload=v,N!=null&&(Te.callback=N),v=qc(p,Te,xe),v!==null&&(Il(v,p,xe,z),Xc(v,p,xe))},enqueueForceUpdate:function(p,v){p=p._reactInternals;var N=Io(),z=mc(p),xe=Pc(N,z);xe.tag=2,v!=null&&(xe.callback=v),v=qc(p,xe,z),v!==null&&(Il(v,p,z,N),Xc(v,p,z))}};function SA(p,v,N,z,xe,Te,Ve){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(z,Te,Ve):v.prototype&&v.prototype.isPureReactComponent?!Ls(N,z)||!Ls(xe,Te):!0}function Df(p,v,N){var z=!1,xe=Hl,Te=v.contextType;return typeof Te=="object"&&Te!==null?Te=fo(Te):(xe=Uo(v)?Fc:Bi.current,z=v.contextTypes,Te=(z=z!=null)?ud(p,xe):Hl),v=new v(N,Te),p.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=th,p.stateNode=v,v._reactInternals=p,z&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=xe,p.__reactInternalMemoizedMaskedChildContext=Te),v}function EA(p,v,N,z){p=v.state,typeof v.componentWillReceiveProps=="function"&&v.componentWillReceiveProps(N,z),typeof v.UNSAFE_componentWillReceiveProps=="function"&&v.UNSAFE_componentWillReceiveProps(N,z),v.state!==p&&th.enqueueReplaceState(v,v.state,null)}function Mf(p,v,N,z){var xe=p.stateNode;xe.props=N,xe.state=p.memoizedState,xe.refs={},Ju(p);var Te=v.contextType;typeof Te=="object"&&Te!==null?xe.context=fo(Te):(Te=Uo(v)?Fc:Bi.current,xe.context=ud(p,Te)),xe.state=p.memoizedState,Te=v.getDerivedStateFromProps,typeof Te=="function"&&(Ac(p,v,Te,N),xe.state=p.memoizedState),typeof v.getDerivedStateFromProps=="function"||typeof xe.getSnapshotBeforeUpdate=="function"||typeof xe.UNSAFE_componentWillMount!="function"&&typeof xe.componentWillMount!="function"||(v=xe.state,typeof xe.componentWillMount=="function"&&xe.componentWillMount(),typeof xe.UNSAFE_componentWillMount=="function"&&xe.UNSAFE_componentWillMount(),v!==xe.state&&th.enqueueReplaceState(xe,xe.state,null),hd(p,N,xe,z),xe.state=p.memoizedState),typeof xe.componentDidMount=="function"&&(p.flags|=4194308)}function Eu(p,v){try{var N="",z=v;do N+=ye(z),z=z.return;while(z);var xe=N}catch(Te){xe=`
Error generating stack: `+Te.message+`
`+Te.stack}return{value:p,source:v,stack:xe,digest:null}}function Bu(p,v,N){return{value:p,source:null,stack:N??null,digest:v??null}}function Iu(p,v){try{console.error(v.value)}catch(N){setTimeout(function(){throw N})}}var rh=typeof WeakMap=="function"?WeakMap:Map;function bh(p,v,N){N=Pc(-1,N),N.tag=3,N.payload={element:null};var z=v.value;return N.callback=function(){af||(af=!0,Qf=z),Iu(p,v)},N}function Rf(p,v,N){N=Pc(-1,N),N.tag=3;var z=p.type.getDerivedStateFromError;if(typeof z=="function"){var xe=v.value;N.payload=function(){return z(xe)},N.callback=function(){Iu(p,v)}}var Te=p.stateNode;return Te!==null&&typeof Te.componentDidCatch=="function"&&(N.callback=function(){Iu(p,v),typeof z!="function"&&(md===null?md=new Set([this]):md.add(this));var Ve=v.stack;this.componentDidCatch(v.value,{componentStack:Ve!==null?Ve:""})}),N}function Ep(p,v,N){var z=p.pingCache;if(z===null){z=p.pingCache=new rh;var xe=new Set;z.set(v,xe)}else xe=z.get(v),xe===void 0&&(xe=new Set,z.set(v,xe));xe.has(N)||(xe.add(N),p=H.bind(null,p,v,N),v.then(p,p))}function BA(p){do{var v;if((v=p.tag===13)&&(v=p.memoizedState,v=v!==null?v.dehydrated!==null:!0),v)return p;p=p.return}while(p!==null);return null}function IA(p,v,N,z,xe){return(p.mode&1)===0?(p===v?p.flags|=65536:(p.flags|=128,N.flags|=131072,N.flags&=-52805,N.tag===1&&(N.alternate===null?N.tag=17:(v=Pc(-1,1),v.tag=2,qc(N,v,1))),N.lanes|=1),p):(p.flags|=65536,p.lanes=xe,p)}var TA=S.ReactCurrentOwner,$l=!1;function Sl(p,v,N,z){v.child=p===null?oi(v,null,N,z):Oa(v,p.child,N,z)}function Lf(p,v,N,z,xe){N=N.render;var Te=v.ref;return Ho(v,xe),z=If(p,v,N,z,Te,xe),N=Tf(),p!==null&&!$l?(v.updateQueue=p.updateQueue,v.flags&=-2053,p.lanes&=~xe,Vt(p,v,xe)):(ht&&N&&Ue(v),v.flags|=1,Sl(p,v,z,xe),v.child)}function kA(p,v,N,z,xe){if(p===null){var Te=N.type;return typeof Te=="function"&&!lr(Te)&&Te.defaultProps===void 0&&N.compare===null&&N.defaultProps===void 0?(v.tag=15,v.type=Te,Uf(p,v,Te,z,xe)):(p=ln(N.type,null,z,v,v.mode,xe),p.ref=v.ref,p.return=v,v.child=p)}if(Te=p.child,(p.lanes&xe)===0){var Ve=Te.memoizedProps;if(N=N.compare,N=N!==null?N:Ls,N(Ve,z)&&p.ref===v.ref)return Vt(p,v,xe)}return v.flags|=1,p=Nn(Te,z),p.ref=v.ref,p.return=v,v.child=p}function Uf(p,v,N,z,xe){if(p!==null){var Te=p.memoizedProps;if(Ls(Te,z)&&p.ref===v.ref)if($l=!1,v.pendingProps=z=Te,(p.lanes&xe)!==0)(p.flags&131072)!==0&&($l=!0);else return v.lanes=p.lanes,Vt(p,v,xe)}return wh(p,v,N,z,xe)}function rf(p,v,N){var z=v.pendingProps,xe=z.children,Te=p!==null?p.memoizedState:null;if(z.mode==="hidden")if((v.mode&1)===0)v.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ps(no,Wi),Wi|=N;else{if((N&1073741824)===0)return p=Te!==null?Te.baseLanes|N:N,v.lanes=v.childLanes=1073741824,v.memoizedState={baseLanes:p,cachePool:null,transitions:null},v.updateQueue=null,Ps(no,Wi),Wi|=p,null;v.memoizedState={baseLanes:0,cachePool:null,transitions:null},z=Te!==null?Te.baseLanes:N,Ps(no,Wi),Wi|=z}else Te!==null?(z=Te.baseLanes|N,v.memoizedState=null):z=N,Ps(no,Wi),Wi|=z;return Sl(p,v,xe,N),v.child}function nf(p,v){var N=v.ref;(p===null&&N!==null||p!==null&&p.ref!==N)&&(v.flags|=512,v.flags|=2097152)}function wh(p,v,N,z,xe){var Te=Uo(N)?Fc:Bi.current;return Te=ud(v,Te),Ho(v,xe),N=If(p,v,N,z,Te,xe),z=Tf(),p!==null&&!$l?(v.updateQueue=p.updateQueue,v.flags&=-2053,p.lanes&=~xe,Vt(p,v,xe)):(ht&&z&&Ue(v),v.flags|=1,Sl(p,v,N,xe),v.child)}function Hf(p,v,N,z,xe){if(Uo(N)){var Te=!0;Gc(v)}else Te=!1;if(Ho(v,xe),v.stateNode===null)vt(p,v),Df(v,N,z),Mf(v,N,z,xe),z=!0;else if(p===null){var Ve=v.stateNode,It=v.memoizedProps;Ve.props=It;var Qt=Ve.context,xr=N.contextType;typeof xr=="object"&&xr!==null?xr=fo(xr):(xr=Uo(N)?Fc:Bi.current,xr=ud(v,xr));var Zr=N.getDerivedStateFromProps,sn=typeof Zr=="function"||typeof Ve.getSnapshotBeforeUpdate=="function";sn||typeof Ve.UNSAFE_componentWillReceiveProps!="function"&&typeof Ve.componentWillReceiveProps!="function"||(It!==z||Qt!==xr)&&EA(v,Ve,z,xr),dl=!1;var Xr=v.memoizedState;Ve.state=Xr,hd(v,z,Ve,xe),Qt=v.memoizedState,It!==z||Xr!==Qt||Ui.current||dl?(typeof Zr=="function"&&(Ac(v,N,Zr,z),Qt=v.memoizedState),(It=dl||SA(v,N,It,z,Xr,Qt,xr))?(sn||typeof Ve.UNSAFE_componentWillMount!="function"&&typeof Ve.componentWillMount!="function"||(typeof Ve.componentWillMount=="function"&&Ve.componentWillMount(),typeof Ve.UNSAFE_componentWillMount=="function"&&Ve.UNSAFE_componentWillMount()),typeof Ve.componentDidMount=="function"&&(v.flags|=4194308)):(typeof Ve.componentDidMount=="function"&&(v.flags|=4194308),v.memoizedProps=z,v.memoizedState=Qt),Ve.props=z,Ve.state=Qt,Ve.context=xr,z=It):(typeof Ve.componentDidMount=="function"&&(v.flags|=4194308),z=!1)}else{Ve=v.stateNode,vh(p,v),It=v.memoizedProps,xr=v.type===v.elementType?It:Wo(v.type,It),Ve.props=xr,sn=v.pendingProps,Xr=Ve.context,Qt=N.contextType,typeof Qt=="object"&&Qt!==null?Qt=fo(Qt):(Qt=Uo(N)?Fc:Bi.current,Qt=ud(v,Qt));var Un=N.getDerivedStateFromProps;(Zr=typeof Un=="function"||typeof Ve.getSnapshotBeforeUpdate=="function")||typeof Ve.UNSAFE_componentWillReceiveProps!="function"&&typeof Ve.componentWillReceiveProps!="function"||(It!==sn||Xr!==Qt)&&EA(v,Ve,z,Qt),dl=!1,Xr=v.memoizedState,Ve.state=Xr,hd(v,z,Ve,xe);var Jn=v.memoizedState;It!==sn||Xr!==Jn||Ui.current||dl?(typeof Un=="function"&&(Ac(v,N,Un,z),Jn=v.memoizedState),(xr=dl||SA(v,N,xr,z,Xr,Jn,Qt)||!1)?(Zr||typeof Ve.UNSAFE_componentWillUpdate!="function"&&typeof Ve.componentWillUpdate!="function"||(typeof Ve.componentWillUpdate=="function"&&Ve.componentWillUpdate(z,Jn,Qt),typeof Ve.UNSAFE_componentWillUpdate=="function"&&Ve.UNSAFE_componentWillUpdate(z,Jn,Qt)),typeof Ve.componentDidUpdate=="function"&&(v.flags|=4),typeof Ve.getSnapshotBeforeUpdate=="function"&&(v.flags|=1024)):(typeof Ve.componentDidUpdate!="function"||It===p.memoizedProps&&Xr===p.memoizedState||(v.flags|=4),typeof Ve.getSnapshotBeforeUpdate!="function"||It===p.memoizedProps&&Xr===p.memoizedState||(v.flags|=1024),v.memoizedProps=z,v.memoizedState=Jn),Ve.props=z,Ve.state=Jn,Ve.context=Qt,z=xr):(typeof Ve.componentDidUpdate!="function"||It===p.memoizedProps&&Xr===p.memoizedState||(v.flags|=4),typeof Ve.getSnapshotBeforeUpdate!="function"||It===p.memoizedProps&&Xr===p.memoizedState||(v.flags|=1024),z=!1)}return O(p,v,N,z,Te,xe)}function O(p,v,N,z,xe,Te){nf(p,v);var Ve=(v.flags&128)!==0;if(!z&&!Ve)return xe&&Yu(v,N,!1),Vt(p,v,Te);z=v.stateNode,TA.current=v;var It=Ve&&typeof N.getDerivedStateFromError!="function"?null:z.render();return v.flags|=1,p!==null&&Ve?(v.child=Oa(v,p.child,null,Te),v.child=Oa(v,null,It,Te)):Sl(p,v,It,Te),v.memoizedState=z.state,xe&&Yu(v,N,!0),v.child}function Y(p){var v=p.stateNode;v.pendingContext?Kc(p,v.pendingContext,v.pendingContext!==v.context):v.context&&Kc(p,v.context,!1),zs(p,v.containerInfo)}function Ne(p,v,N,z,xe){return Sr(),Vs(xe),v.flags|=256,Sl(p,v,N,z),v.child}var ke={dehydrated:null,treeContext:null,retryLane:0};function We(p){return{baseLanes:p,cachePool:null,transitions:null}}function Ge(p,v,N){var z=v.pendingProps,xe=li.current,Te=!1,Ve=(v.flags&128)!==0,It;if((It=Ve)||(It=p!==null&&p.memoizedState===null?!1:(xe&2)!==0),It?(Te=!0,v.flags&=-129):(p===null||p.memoizedState!==null)&&(xe|=1),Ps(li,xe&1),p===null)return hr(v),p=v.memoizedState,p!==null&&(p=p.dehydrated,p!==null)?((v.mode&1)===0?v.lanes=1:p.data==="$!"?v.lanes=8:v.lanes=1073741824,null):(Ve=z.children,p=z.fallback,Te?(z=v.mode,Te=v.child,Ve={mode:"hidden",children:Ve},(z&1)===0&&Te!==null?(Te.childLanes=0,Te.pendingProps=Ve):Te=as(Ve,z,0,null),p=bn(p,z,N,null),Te.return=v,p.return=v,Te.sibling=p,v.child=Te,v.child.memoizedState=We(N),v.memoizedState=ke,p):Ye(v,Ve));if(xe=p.memoizedState,xe!==null&&(It=xe.dehydrated,It!==null))return st(p,v,Ve,z,It,xe,N);if(Te){Te=z.fallback,Ve=v.mode,xe=p.child,It=xe.sibling;var Qt={mode:"hidden",children:z.children};return(Ve&1)===0&&v.child!==xe?(z=v.child,z.childLanes=0,z.pendingProps=Qt,v.deletions=null):(z=Nn(xe,Qt),z.subtreeFlags=xe.subtreeFlags&14680064),It!==null?Te=Nn(It,Te):(Te=bn(Te,Ve,N,null),Te.flags|=2),Te.return=v,z.return=v,z.sibling=Te,v.child=z,z=Te,Te=v.child,Ve=p.child.memoizedState,Ve=Ve===null?We(N):{baseLanes:Ve.baseLanes|N,cachePool:null,transitions:Ve.transitions},Te.memoizedState=Ve,Te.childLanes=p.childLanes&~N,v.memoizedState=ke,z}return Te=p.child,p=Te.sibling,z=Nn(Te,{mode:"visible",children:z.children}),(v.mode&1)===0&&(z.lanes=N),z.return=v,z.sibling=null,p!==null&&(N=v.deletions,N===null?(v.deletions=[p],v.flags|=16):N.push(p)),v.child=z,v.memoizedState=null,z}function Ye(p,v){return v=as({mode:"visible",children:v},p.mode,0,null),v.return=p,p.child=v}function tt(p,v,N,z){return z!==null&&Vs(z),Oa(v,p.child,null,N),p=Ye(v,v.pendingProps.children),p.flags|=2,v.memoizedState=null,p}function st(p,v,N,z,xe,Te,Ve){if(N)return v.flags&256?(v.flags&=-257,z=Bu(Error(n(422))),tt(p,v,Ve,z)):v.memoizedState!==null?(v.child=p.child,v.flags|=128,null):(Te=z.fallback,xe=v.mode,z=as({mode:"visible",children:z.children},xe,0,null),Te=bn(Te,xe,Ve,null),Te.flags|=2,z.return=v,Te.return=v,z.sibling=Te,v.child=z,(v.mode&1)!==0&&Oa(v,p.child,null,Ve),v.child.memoizedState=We(Ve),v.memoizedState=ke,Te);if((v.mode&1)===0)return tt(p,v,Ve,null);if(xe.data==="$!"){if(z=xe.nextSibling&&xe.nextSibling.dataset,z)var It=z.dgst;return z=It,Te=Error(n(419)),z=Bu(Te,z,void 0),tt(p,v,Ve,z)}if(It=(Ve&p.childLanes)!==0,$l||It){if(z=Js,z!==null){switch(Ve&-Ve){case 4:xe=2;break;case 16:xe=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:xe=32;break;case 536870912:xe=268435456;break;default:xe=0}xe=(xe&(z.suspendedLanes|Ve))!==0?0:xe,xe!==0&&xe!==Te.retryLane&&(Te.retryLane=xe,tl(p,xe),Il(z,p,xe,-1))}return Sh(),z=Bu(Error(n(421))),tt(p,v,Ve,z)}return xe.data==="$?"?(v.flags|=128,v.child=p.child,v=De.bind(null,p),xe._reactRetry=v,null):(p=Te.treeContext,gt=zc(xe.nextSibling),Je=v,ht=!0,or=null,p!==null&&(aa[Ra++]=$s,aa[Ra++]=gs,aa[Ra++]=Us,$s=p.id,gs=p.overflow,Us=v),v=Ye(v,z.children),v.flags|=4096,v)}function yt(p,v,N){p.lanes|=v;var z=p.alternate;z!==null&&(z.lanes|=v),dc(p.return,v,N)}function Ut(p,v,N,z,xe){var Te=p.memoizedState;Te===null?p.memoizedState={isBackwards:v,rendering:null,renderingStartTime:0,last:z,tail:N,tailMode:xe}:(Te.isBackwards=v,Te.rendering=null,Te.renderingStartTime=0,Te.last=z,Te.tail=N,Te.tailMode=xe)}function cr(p,v,N){var z=v.pendingProps,xe=z.revealOrder,Te=z.tail;if(Sl(p,v,z.children,N),z=li.current,(z&2)!==0)z=z&1|2,v.flags|=128;else{if(p!==null&&(p.flags&128)!==0)e:for(p=v.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&yt(p,N,v);else if(p.tag===19)yt(p,N,v);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===v)break e;for(;p.sibling===null;){if(p.return===null||p.return===v)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}z&=1}if(Ps(li,z),(v.mode&1)===0)v.memoizedState=null;else switch(xe){case"forwards":for(N=v.child,xe=null;N!==null;)p=N.alternate,p!==null&&Ad(p)===null&&(xe=N),N=N.sibling;N=xe,N===null?(xe=v.child,v.child=null):(xe=N.sibling,N.sibling=null),Ut(v,!1,xe,N,Te);break;case"backwards":for(N=null,xe=v.child,v.child=null;xe!==null;){if(p=xe.alternate,p!==null&&Ad(p)===null){v.child=xe;break}p=xe.sibling,xe.sibling=N,N=xe,xe=p}Ut(v,!0,N,null,Te);break;case"together":Ut(v,!1,null,null,void 0);break;default:v.memoizedState=null}return v.child}function vt(p,v){(v.mode&1)===0&&p!==null&&(p.alternate=null,v.alternate=null,v.flags|=2)}function Vt(p,v,N){if(p!==null&&(v.dependencies=p.dependencies),Dd|=v.lanes,(N&v.childLanes)===0)return null;if(p!==null&&v.child!==p.child)throw Error(n(153));if(v.child!==null){for(p=v.child,N=Nn(p,p.pendingProps),v.child=N,N.return=v;p.sibling!==null;)p=p.sibling,N=N.sibling=Nn(p,p.pendingProps),N.return=v;N.sibling=null}return v.child}function sr(p,v,N){switch(v.tag){case 3:Y(v),Sr();break;case 5:Ao(v);break;case 1:Uo(v.type)&&Gc(v);break;case 4:zs(v,v.stateNode.containerInfo);break;case 10:var z=v.type._context,xe=v.memoizedProps.value;Ps(ea,z._currentValue),z._currentValue=xe;break;case 13:if(z=v.memoizedState,z!==null)return z.dehydrated!==null?(Ps(li,li.current&1),v.flags|=128,null):(N&v.child.childLanes)!==0?Ge(p,v,N):(Ps(li,li.current&1),p=Vt(p,v,N),p!==null?p.sibling:null);Ps(li,li.current&1);break;case 19:if(z=(N&v.childLanes)!==0,(p.flags&128)!==0){if(z)return cr(p,v,N);v.flags|=128}if(xe=v.memoizedState,xe!==null&&(xe.rendering=null,xe.tail=null,xe.lastEffect=null),Ps(li,li.current),z)break;return null;case 22:case 23:return v.lanes=0,rf(p,v,N)}return Vt(p,v,N)}var Er,ur,Ir,kr;Er=function(p,v){for(var N=v.child;N!==null;){if(N.tag===5||N.tag===6)p.appendChild(N.stateNode);else if(N.tag!==4&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===v)break;for(;N.sibling===null;){if(N.return===null||N.return===v)return;N=N.return}N.sibling.return=N.return,N=N.sibling}},ur=function(){},Ir=function(p,v,N,z){var xe=p.memoizedProps;if(xe!==z){p=v.stateNode,ms(Nl.current);var Te=null;switch(N){case"input":xe=$e(p,xe),z=$e(p,z),Te=[];break;case"select":xe=ie({},xe,{value:void 0}),z=ie({},z,{value:void 0}),Te=[];break;case"textarea":xe=Wt(p,xe),z=Wt(p,z),Te=[];break;default:typeof xe.onClick!="function"&&typeof z.onClick=="function"&&(p.onclick=Td)}Dr(N,z);var Ve;N=null;for(xr in xe)if(!z.hasOwnProperty(xr)&&xe.hasOwnProperty(xr)&&xe[xr]!=null)if(xr==="style"){var It=xe[xr];for(Ve in It)It.hasOwnProperty(Ve)&&(N||(N={}),N[Ve]="")}else xr!=="dangerouslySetInnerHTML"&&xr!=="children"&&xr!=="suppressContentEditableWarning"&&xr!=="suppressHydrationWarning"&&xr!=="autoFocus"&&(s.hasOwnProperty(xr)?Te||(Te=[]):(Te=Te||[]).push(xr,null));for(xr in z){var Qt=z[xr];if(It=xe!=null?xe[xr]:void 0,z.hasOwnProperty(xr)&&Qt!==It&&(Qt!=null||It!=null))if(xr==="style")if(It){for(Ve in It)!It.hasOwnProperty(Ve)||Qt&&Qt.hasOwnProperty(Ve)||(N||(N={}),N[Ve]="");for(Ve in Qt)Qt.hasOwnProperty(Ve)&&It[Ve]!==Qt[Ve]&&(N||(N={}),N[Ve]=Qt[Ve])}else N||(Te||(Te=[]),Te.push(xr,N)),N=Qt;else xr==="dangerouslySetInnerHTML"?(Qt=Qt?Qt.__html:void 0,It=It?It.__html:void 0,Qt!=null&&It!==Qt&&(Te=Te||[]).push(xr,Qt)):xr==="children"?typeof Qt!="string"&&typeof Qt!="number"||(Te=Te||[]).push(xr,""+Qt):xr!=="suppressContentEditableWarning"&&xr!=="suppressHydrationWarning"&&(s.hasOwnProperty(xr)?(Qt!=null&&xr==="onScroll"&&Ns("scroll",p),Te||It===Qt||(Te=[])):(Te=Te||[]).push(xr,Qt))}N&&(Te=Te||[]).push("style",N);var xr=Te;(v.updateQueue=xr)&&(v.flags|=4)}},kr=function(p,v,N,z){N!==z&&(v.flags|=4)};function zr(p,v){if(!ht)switch(p.tailMode){case"hidden":v=p.tail;for(var N=null;v!==null;)v.alternate!==null&&(N=v),v=v.sibling;N===null?p.tail=null:N.sibling=null;break;case"collapsed":N=p.tail;for(var z=null;N!==null;)N.alternate!==null&&(z=N),N=N.sibling;z===null?v||p.tail===null?p.tail=null:p.tail.sibling=null:z.sibling=null}}function _r(p){var v=p.alternate!==null&&p.alternate.child===p.child,N=0,z=0;if(v)for(var xe=p.child;xe!==null;)N|=xe.lanes|xe.childLanes,z|=xe.subtreeFlags&14680064,z|=xe.flags&14680064,xe.return=p,xe=xe.sibling;else for(xe=p.child;xe!==null;)N|=xe.lanes|xe.childLanes,z|=xe.subtreeFlags,z|=xe.flags,xe.return=p,xe=xe.sibling;return p.subtreeFlags|=z,p.childLanes=N,v}function ta(p,v,N){var z=v.pendingProps;switch(oe(v),v.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _r(v),null;case 1:return Uo(v.type)&&cc(),_r(v),null;case 3:return z=v.stateNode,gi(),ps(Ui),ps(Bi),Kh(),z.pendingContext&&(z.context=z.pendingContext,z.pendingContext=null),(p===null||p.child===null)&&(gn(v)?v.flags|=4:p===null||p.memoizedState.isDehydrated&&(v.flags&256)===0||(v.flags|=1024,or!==null&&(OA(or),or=null))),ur(p,v),_r(v),null;case 5:fd(v);var xe=ms(hc.current);if(N=v.type,p!==null&&v.stateNode!=null)Ir(p,v,N,z,xe),p.ref!==v.ref&&(v.flags|=512,v.flags|=2097152);else{if(!z){if(v.stateNode===null)throw Error(n(166));return _r(v),null}if(p=ms(Nl.current),gn(v)){z=v.stateNode,N=v.type;var Te=v.memoizedProps;switch(z[No]=v,z[Ll]=Te,p=(v.mode&1)!==0,N){case"dialog":Ns("cancel",z),Ns("close",z);break;case"iframe":case"object":case"embed":Ns("load",z);break;case"video":case"audio":for(xe=0;xe<Ed.length;xe++)Ns(Ed[xe],z);break;case"source":Ns("error",z);break;case"img":case"image":case"link":Ns("error",z),Ns("load",z);break;case"details":Ns("toggle",z);break;case"input":ne(z,Te),Ns("invalid",z);break;case"select":z._wrapperState={wasMultiple:!!Te.multiple},Ns("invalid",z);break;case"textarea":qe(z,Te),Ns("invalid",z)}Dr(N,Te),xe=null;for(var Ve in Te)if(Te.hasOwnProperty(Ve)){var It=Te[Ve];Ve==="children"?typeof It=="string"?z.textContent!==It&&(Te.suppressHydrationWarning!==!0&&Id(z.textContent,It,p),xe=["children",It]):typeof It=="number"&&z.textContent!==""+It&&(Te.suppressHydrationWarning!==!0&&Id(z.textContent,It,p),xe=["children",""+It]):s.hasOwnProperty(Ve)&&It!=null&&Ve==="onScroll"&&Ns("scroll",z)}switch(N){case"input":Ae(z),rt(z,Te,!0);break;case"textarea":Ae(z),_t(z);break;case"select":case"option":break;default:typeof Te.onClick=="function"&&(z.onclick=Td)}z=xe,v.updateQueue=z,z!==null&&(v.flags|=4)}else{Ve=xe.nodeType===9?xe:xe.ownerDocument,p==="http://www.w3.org/1999/xhtml"&&(p=ar(N)),p==="http://www.w3.org/1999/xhtml"?N==="script"?(p=Ve.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild)):typeof z.is=="string"?p=Ve.createElement(N,{is:z.is}):(p=Ve.createElement(N),N==="select"&&(Ve=p,z.multiple?Ve.multiple=!0:z.size&&(Ve.size=z.size))):p=Ve.createElementNS(p,N),p[No]=v,p[Ll]=z,Er(p,v,!1,!1),v.stateNode=p;e:{switch(Ve=Fr(N,z),N){case"dialog":Ns("cancel",p),Ns("close",p),xe=z;break;case"iframe":case"object":case"embed":Ns("load",p),xe=z;break;case"video":case"audio":for(xe=0;xe<Ed.length;xe++)Ns(Ed[xe],p);xe=z;break;case"source":Ns("error",p),xe=z;break;case"img":case"image":case"link":Ns("error",p),Ns("load",p),xe=z;break;case"details":Ns("toggle",p),xe=z;break;case"input":ne(p,z),xe=$e(p,z),Ns("invalid",p);break;case"option":xe=z;break;case"select":p._wrapperState={wasMultiple:!!z.multiple},xe=ie({},z,{value:void 0}),Ns("invalid",p);break;case"textarea":qe(p,z),xe=Wt(p,z),Ns("invalid",p);break;default:xe=z}Dr(N,xe),It=xe;for(Te in It)if(It.hasOwnProperty(Te)){var Qt=It[Te];Te==="style"?Ht(p,Qt):Te==="dangerouslySetInnerHTML"?(Qt=Qt?Qt.__html:void 0,Qt!=null&&Yr(p,Qt)):Te==="children"?typeof Qt=="string"?(N!=="textarea"||Qt!=="")&&Qr(p,Qt):typeof Qt=="number"&&Qr(p,""+Qt):Te!=="suppressContentEditableWarning"&&Te!=="suppressHydrationWarning"&&Te!=="autoFocus"&&(s.hasOwnProperty(Te)?Qt!=null&&Te==="onScroll"&&Ns("scroll",p):Qt!=null&&b(p,Te,Qt,Ve))}switch(N){case"input":Ae(p),rt(p,z,!1);break;case"textarea":Ae(p),_t(p);break;case"option":z.value!=null&&p.setAttribute("value",""+re(z.value));break;case"select":p.multiple=!!z.multiple,Te=z.value,Te!=null?it(p,!!z.multiple,Te,!1):z.defaultValue!=null&&it(p,!!z.multiple,z.defaultValue,!0);break;default:typeof xe.onClick=="function"&&(p.onclick=Td)}switch(N){case"button":case"input":case"select":case"textarea":z=!!z.autoFocus;break e;case"img":z=!0;break e;default:z=!1}}z&&(v.flags|=4)}v.ref!==null&&(v.flags|=512,v.flags|=2097152)}return _r(v),null;case 6:if(p&&v.stateNode!=null)kr(p,v,p.memoizedProps,z);else{if(typeof z!="string"&&v.stateNode===null)throw Error(n(166));if(N=ms(hc.current),ms(Nl.current),gn(v)){if(z=v.stateNode,N=v.memoizedProps,z[No]=v,(Te=z.nodeValue!==N)&&(p=Je,p!==null))switch(p.tag){case 3:Id(z.nodeValue,N,(p.mode&1)!==0);break;case 5:p.memoizedProps.suppressHydrationWarning!==!0&&Id(z.nodeValue,N,(p.mode&1)!==0)}Te&&(v.flags|=4)}else z=(N.nodeType===9?N:N.ownerDocument).createTextNode(z),z[No]=v,v.stateNode=z}return _r(v),null;case 13:if(ps(li),z=v.memoizedState,p===null||p.memoizedState!==null&&p.memoizedState.dehydrated!==null){if(ht&&gt!==null&&(v.mode&1)!==0&&(v.flags&128)===0)$r(),Sr(),v.flags|=98560,Te=!1;else if(Te=gn(v),z!==null&&z.dehydrated!==null){if(p===null){if(!Te)throw Error(n(318));if(Te=v.memoizedState,Te=Te!==null?Te.dehydrated:null,!Te)throw Error(n(317));Te[No]=v}else Sr(),(v.flags&128)===0&&(v.memoizedState=null),v.flags|=4;_r(v),Te=!1}else or!==null&&(OA(or),or=null),Te=!0;if(!Te)return v.flags&65536?v:null}return(v.flags&128)!==0?(v.lanes=N,v):(z=z!==null,z!==(p!==null&&p.memoizedState!==null)&&z&&(v.child.flags|=8192,(v.mode&1)!==0&&(p===null||(li.current&1)!==0?ao===0&&(ao=3):Sh())),v.updateQueue!==null&&(v.flags|=4),_r(v),null);case 4:return gi(),ur(p,v),p===null&&Fi(v.stateNode.containerInfo),_r(v),null;case 10:return So(v.type._context),_r(v),null;case 17:return Uo(v.type)&&cc(),_r(v),null;case 19:if(ps(li),Te=v.memoizedState,Te===null)return _r(v),null;if(z=(v.flags&128)!==0,Ve=Te.rendering,Ve===null)if(z)zr(Te,!1);else{if(ao!==0||p!==null&&(p.flags&128)!==0)for(p=v.child;p!==null;){if(Ve=Ad(p),Ve!==null){for(v.flags|=128,zr(Te,!1),z=Ve.updateQueue,z!==null&&(v.updateQueue=z,v.flags|=4),v.subtreeFlags=0,z=N,N=v.child;N!==null;)Te=N,p=z,Te.flags&=14680066,Ve=Te.alternate,Ve===null?(Te.childLanes=0,Te.lanes=p,Te.child=null,Te.subtreeFlags=0,Te.memoizedProps=null,Te.memoizedState=null,Te.updateQueue=null,Te.dependencies=null,Te.stateNode=null):(Te.childLanes=Ve.childLanes,Te.lanes=Ve.lanes,Te.child=Ve.child,Te.subtreeFlags=0,Te.deletions=null,Te.memoizedProps=Ve.memoizedProps,Te.memoizedState=Ve.memoizedState,Te.updateQueue=Ve.updateQueue,Te.type=Ve.type,p=Ve.dependencies,Te.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),N=N.sibling;return Ps(li,li.current&1|2),v.child}p=p.sibling}Te.tail!==null&&pa()>nh&&(v.flags|=128,z=!0,zr(Te,!1),v.lanes=4194304)}else{if(!z)if(p=Ad(Ve),p!==null){if(v.flags|=128,z=!0,N=p.updateQueue,N!==null&&(v.updateQueue=N,v.flags|=4),zr(Te,!0),Te.tail===null&&Te.tailMode==="hidden"&&!Ve.alternate&&!ht)return _r(v),null}else 2*pa()-Te.renderingStartTime>nh&&N!==1073741824&&(v.flags|=128,z=!0,zr(Te,!1),v.lanes=4194304);Te.isBackwards?(Ve.sibling=v.child,v.child=Ve):(N=Te.last,N!==null?N.sibling=Ve:v.child=Ve,Te.last=Ve)}return Te.tail!==null?(v=Te.tail,Te.rendering=v,Te.tail=v.sibling,Te.renderingStartTime=pa(),v.sibling=null,N=li.current,Ps(li,z?N&1|2:N&1),v):(_r(v),null);case 22:case 23:return zf(),z=v.memoizedState!==null,p!==null&&p.memoizedState!==null!==z&&(v.flags|=8192),z&&(v.mode&1)!==0?(Wi&1073741824)!==0&&(_r(v),v.subtreeFlags&6&&(v.flags|=8192)):_r(v),null;case 24:return null;case 25:return null}throw Error(n(156,v.tag))}function Fn(p,v){switch(oe(v),v.tag){case 1:return Uo(v.type)&&cc(),p=v.flags,p&65536?(v.flags=p&-65537|128,v):null;case 3:return gi(),ps(Ui),ps(Bi),Kh(),p=v.flags,(p&65536)!==0&&(p&128)===0?(v.flags=p&-65537|128,v):null;case 5:return fd(v),null;case 13:if(ps(li),p=v.memoizedState,p!==null&&p.dehydrated!==null){if(v.alternate===null)throw Error(n(340));Sr()}return p=v.flags,p&65536?(v.flags=p&-65537|128,v):null;case 19:return ps(li),null;case 4:return gi(),null;case 10:return So(v.type._context),null;case 22:case 23:return zf(),null;case 24:return null;default:return null}}var Xa=!1,wn=!1,Ss=typeof WeakSet=="function"?WeakSet:Set,fn=null;function Wa(p,v){var N=p.ref;if(N!==null)if(typeof N=="function")try{N(null)}catch(z){U(p,v,z)}else N.current=null}function Wn(p,v,N){try{N()}catch(z){U(p,v,z)}}var vn=!1;function mo(p,v){if(kd=Re,p=eo(),ll(p)){if("selectionStart"in p)var N={start:p.selectionStart,end:p.selectionEnd};else e:{N=(N=p.ownerDocument)&&N.defaultView||window;var z=N.getSelection&&N.getSelection();if(z&&z.rangeCount!==0){N=z.anchorNode;var xe=z.anchorOffset,Te=z.focusNode;z=z.focusOffset;try{N.nodeType,Te.nodeType}catch{N=null;break e}var Ve=0,It=-1,Qt=-1,xr=0,Zr=0,sn=p,Xr=null;t:for(;;){for(var Un;sn!==N||xe!==0&&sn.nodeType!==3||(It=Ve+xe),sn!==Te||z!==0&&sn.nodeType!==3||(Qt=Ve+z),sn.nodeType===3&&(Ve+=sn.nodeValue.length),(Un=sn.firstChild)!==null;)Xr=sn,sn=Un;for(;;){if(sn===p)break t;if(Xr===N&&++xr===xe&&(It=Ve),Xr===Te&&++Zr===z&&(Qt=Ve),(Un=sn.nextSibling)!==null)break;sn=Xr,Xr=sn.parentNode}sn=Un}N=It===-1||Qt===-1?null:{start:It,end:Qt}}else N=null}N=N||{start:0,end:0}}else N=null;for(_d={focusedElem:p,selectionRange:N},Re=!1,fn=v;fn!==null;)if(v=fn,p=v.child,(v.subtreeFlags&1028)!==0&&p!==null)p.return=v,fn=p;else for(;fn!==null;){v=fn;try{var Jn=v.alternate;if((v.flags&1024)!==0)switch(v.tag){case 0:case 11:case 15:break;case 1:if(Jn!==null){var ra=Jn.memoizedProps,gl=Jn.memoizedState,fr=v.stateNode,Zt=fr.getSnapshotBeforeUpdate(v.elementType===v.type?ra:Wo(v.type,ra),gl);fr.__reactInternalSnapshotBeforeUpdate=Zt}break;case 3:var vr=v.stateNode.containerInfo;vr.nodeType===1?vr.textContent="":vr.nodeType===9&&vr.documentElement&&vr.removeChild(vr.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(hn){U(v,v.return,hn)}if(p=v.sibling,p!==null){p.return=v.return,fn=p;break}fn=v.return}return Jn=vn,vn=!1,Jn}function Ua(p,v,N){var z=v.updateQueue;if(z=z!==null?z.lastEffect:null,z!==null){var xe=z=z.next;do{if((xe.tag&p)===p){var Te=xe.destroy;xe.destroy=void 0,Te!==void 0&&Wn(v,N,Te)}xe=xe.next}while(xe!==z)}}function vs(p,v){if(v=v.updateQueue,v=v!==null?v.lastEffect:null,v!==null){var N=v=v.next;do{if((N.tag&p)===p){var z=N.create;N.destroy=z()}N=N.next}while(N!==v)}}function vi(p){var v=p.ref;if(v!==null){var N=p.stateNode;switch(p.tag){case 5:p=N;break;default:p=N}typeof v=="function"?v(p):v.current=p}}function Bo(p){var v=p.alternate;v!==null&&(p.alternate=null,Bo(v)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(v=p.stateNode,v!==null&&(delete v[No],delete v[Ll],delete v[qu],delete v[wl],delete v[qd])),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}function rl(p){return p.tag===5||p.tag===3||p.tag===4}function Hi(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||rl(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==18;){if(p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function nl(p,v,N){var z=p.tag;if(z===5||z===6)p=p.stateNode,v?N.nodeType===8?N.parentNode.insertBefore(p,v):N.insertBefore(p,v):(N.nodeType===8?(v=N.parentNode,v.insertBefore(p,N)):(v=N,v.appendChild(p)),N=N._reactRootContainer,N!=null||v.onclick!==null||(v.onclick=Td));else if(z!==4&&(p=p.child,p!==null))for(nl(p,v,N),p=p.sibling;p!==null;)nl(p,v,N),p=p.sibling}function Al(p,v,N){var z=p.tag;if(z===5||z===6)p=p.stateNode,v?N.insertBefore(p,v):N.appendChild(p);else if(z!==4&&(p=p.child,p!==null))for(Al(p,v,N),p=p.sibling;p!==null;)Al(p,v,N),p=p.sibling}var bs=null,Za=!1;function ws(p,v,N){for(N=N.child;N!==null;)qi(p,v,N),N=N.sibling}function qi(p,v,N){if(zi&&typeof zi.onCommitFiberUnmount=="function")try{zi.onCommitFiberUnmount(Fo,N)}catch{}switch(N.tag){case 5:wn||Wa(N,v);case 6:var z=bs,xe=Za;bs=null,ws(p,v,N),bs=z,Za=xe,bs!==null&&(Za?(p=bs,N=N.stateNode,p.nodeType===8?p.parentNode.removeChild(N):p.removeChild(N)):bs.removeChild(N.stateNode));break;case 18:bs!==null&&(Za?(p=bs,N=N.stateNode,p.nodeType===8?Ea(p.parentNode,N):p.nodeType===1&&Ea(p,N),be(p)):Ea(bs,N.stateNode));break;case 4:z=bs,xe=Za,bs=N.stateNode.containerInfo,Za=!0,ws(p,v,N),bs=z,Za=xe;break;case 0:case 11:case 14:case 15:if(!wn&&(z=N.updateQueue,z!==null&&(z=z.lastEffect,z!==null))){xe=z=z.next;do{var Te=xe,Ve=Te.destroy;Te=Te.tag,Ve!==void 0&&((Te&2)!==0||(Te&4)!==0)&&Wn(N,v,Ve),xe=xe.next}while(xe!==z)}ws(p,v,N);break;case 1:if(!wn&&(Wa(N,v),z=N.stateNode,typeof z.componentWillUnmount=="function"))try{z.props=N.memoizedProps,z.state=N.memoizedState,z.componentWillUnmount()}catch(It){U(N,v,It)}ws(p,v,N);break;case 21:ws(p,v,N);break;case 22:N.mode&1?(wn=(z=wn)||N.memoizedState!==null,ws(p,v,N),wn=z):ws(p,v,N);break;default:ws(p,v,N)}}function Xs(p){var v=p.updateQueue;if(v!==null){p.updateQueue=null;var N=p.stateNode;N===null&&(N=p.stateNode=new Ss),v.forEach(function(z){var xe=Ke.bind(null,p,z);N.has(z)||(N.add(z),z.then(xe,xe))})}}function xi(p,v){var N=v.deletions;if(N!==null)for(var z=0;z<N.length;z++){var xe=N[z];try{var Te=p,Ve=v,It=Ve;e:for(;It!==null;){switch(It.tag){case 5:bs=It.stateNode,Za=!1;break e;case 3:bs=It.stateNode.containerInfo,Za=!0;break e;case 4:bs=It.stateNode.containerInfo,Za=!0;break e}It=It.return}if(bs===null)throw Error(n(160));qi(Te,Ve,xe),bs=null,Za=!1;var Qt=xe.alternate;Qt!==null&&(Qt.return=null),xe.return=null}catch(xr){U(xe,v,xr)}}if(v.subtreeFlags&12854)for(v=v.child;v!==null;)pc(v,p),v=v.sibling}function pc(p,v){var N=p.alternate,z=p.flags;switch(p.tag){case 0:case 11:case 14:case 15:if(xi(v,p),Ys(p),z&4){try{Ua(3,p,p.return),vs(3,p)}catch(ra){U(p,p.return,ra)}try{Ua(5,p,p.return)}catch(ra){U(p,p.return,ra)}}break;case 1:xi(v,p),Ys(p),z&512&&N!==null&&Wa(N,N.return);break;case 5:if(xi(v,p),Ys(p),z&512&&N!==null&&Wa(N,N.return),p.flags&32){var xe=p.stateNode;try{Qr(xe,"")}catch(ra){U(p,p.return,ra)}}if(z&4&&(xe=p.stateNode,xe!=null)){var Te=p.memoizedProps,Ve=N!==null?N.memoizedProps:Te,It=p.type,Qt=p.updateQueue;if(p.updateQueue=null,Qt!==null)try{It==="input"&&Te.type==="radio"&&Te.name!=null&&Pe(xe,Te),Fr(It,Ve);var xr=Fr(It,Te);for(Ve=0;Ve<Qt.length;Ve+=2){var Zr=Qt[Ve],sn=Qt[Ve+1];Zr==="style"?Ht(xe,sn):Zr==="dangerouslySetInnerHTML"?Yr(xe,sn):Zr==="children"?Qr(xe,sn):b(xe,Zr,sn,xr)}switch(It){case"input":_e(xe,Te);break;case"textarea":St(xe,Te);break;case"select":var Xr=xe._wrapperState.wasMultiple;xe._wrapperState.wasMultiple=!!Te.multiple;var Un=Te.value;Un!=null?it(xe,!!Te.multiple,Un,!1):Xr!==!!Te.multiple&&(Te.defaultValue!=null?it(xe,!!Te.multiple,Te.defaultValue,!0):it(xe,!!Te.multiple,Te.multiple?[]:"",!1))}xe[Ll]=Te}catch(ra){U(p,p.return,ra)}}break;case 6:if(xi(v,p),Ys(p),z&4){if(p.stateNode===null)throw Error(n(162));xe=p.stateNode,Te=p.memoizedProps;try{xe.nodeValue=Te}catch(ra){U(p,p.return,ra)}}break;case 3:if(xi(v,p),Ys(p),z&4&&N!==null&&N.memoizedState.isDehydrated)try{be(v.containerInfo)}catch(ra){U(p,p.return,ra)}break;case 4:xi(v,p),Ys(p);break;case 13:xi(v,p),Ys(p),xe=p.child,xe.flags&8192&&(Te=xe.memoizedState!==null,xe.stateNode.isHidden=Te,!Te||xe.alternate!==null&&xe.alternate.memoizedState!==null||(Jc=pa())),z&4&&Xs(p);break;case 22:if(Zr=N!==null&&N.memoizedState!==null,p.mode&1?(wn=(xr=wn)||Zr,xi(v,p),wn=xr):xi(v,p),Ys(p),z&8192){if(xr=p.memoizedState!==null,(p.stateNode.isHidden=xr)&&!Zr&&(p.mode&1)!==0)for(fn=p,Zr=p.child;Zr!==null;){for(sn=fn=Zr;fn!==null;){switch(Xr=fn,Un=Xr.child,Xr.tag){case 0:case 11:case 14:case 15:Ua(4,Xr,Xr.return);break;case 1:Wa(Xr,Xr.return);var Jn=Xr.stateNode;if(typeof Jn.componentWillUnmount=="function"){z=Xr,N=Xr.return;try{v=z,Jn.props=v.memoizedProps,Jn.state=v.memoizedState,Jn.componentWillUnmount()}catch(ra){U(z,N,ra)}}break;case 5:Wa(Xr,Xr.return);break;case 22:if(Xr.memoizedState!==null){$o(sn);continue}}Un!==null?(Un.return=Xr,fn=Un):$o(sn)}Zr=Zr.sibling}e:for(Zr=null,sn=p;;){if(sn.tag===5){if(Zr===null){Zr=sn;try{xe=sn.stateNode,xr?(Te=xe.style,typeof Te.setProperty=="function"?Te.setProperty("display","none","important"):Te.display="none"):(It=sn.stateNode,Qt=sn.memoizedProps.style,Ve=Qt!=null&&Qt.hasOwnProperty("display")?Qt.display:null,It.style.display=ot("display",Ve))}catch(ra){U(p,p.return,ra)}}}else if(sn.tag===6){if(Zr===null)try{sn.stateNode.nodeValue=xr?"":sn.memoizedProps}catch(ra){U(p,p.return,ra)}}else if((sn.tag!==22&&sn.tag!==23||sn.memoizedState===null||sn===p)&&sn.child!==null){sn.child.return=sn,sn=sn.child;continue}if(sn===p)break e;for(;sn.sibling===null;){if(sn.return===null||sn.return===p)break e;Zr===sn&&(Zr=null),sn=sn.return}Zr===sn&&(Zr=null),sn.sibling.return=sn.return,sn=sn.sibling}}break;case 19:xi(v,p),Ys(p),z&4&&Xs(p);break;case 21:break;default:xi(v,p),Ys(p)}}function Ys(p){var v=p.flags;if(v&2){try{e:{for(var N=p.return;N!==null;){if(rl(N)){var z=N;break e}N=N.return}throw Error(n(160))}switch(z.tag){case 5:var xe=z.stateNode;z.flags&32&&(Qr(xe,""),z.flags&=-33);var Te=Hi(p);Al(p,Te,xe);break;case 3:case 4:var Ve=z.stateNode.containerInfo,It=Hi(p);nl(p,It,Ve);break;default:throw Error(n(161))}}catch(Qt){U(p,p.return,Qt)}p.flags&=-3}v&4096&&(p.flags&=-4097)}function El(p,v,N){fn=p,ci(p)}function ci(p,v,N){for(var z=(p.mode&1)!==0;fn!==null;){var xe=fn,Te=xe.child;if(xe.tag===22&&z){var Ve=xe.memoizedState!==null||Xa;if(!Ve){var It=xe.alternate,Qt=It!==null&&It.memoizedState!==null||wn;It=Xa;var xr=wn;if(Xa=Ve,(wn=Qt)&&!xr)for(fn=xe;fn!==null;)Ve=fn,Qt=Ve.child,Ve.tag===22&&Ve.memoizedState!==null?Vo(xe):Qt!==null?(Qt.return=Ve,fn=Qt):Vo(xe);for(;Te!==null;)fn=Te,ci(Te),Te=Te.sibling;fn=xe,Xa=It,wn=xr}on(p)}else(xe.subtreeFlags&8772)!==0&&Te!==null?(Te.return=xe,fn=Te):on(p)}}function on(p){for(;fn!==null;){var v=fn;if((v.flags&8772)!==0){var N=v.alternate;try{if((v.flags&8772)!==0)switch(v.tag){case 0:case 11:case 15:wn||vs(5,v);break;case 1:var z=v.stateNode;if(v.flags&4&&!wn)if(N===null)z.componentDidMount();else{var xe=v.elementType===v.type?N.memoizedProps:Wo(v.type,N.memoizedProps);z.componentDidUpdate(xe,N.memoizedState,z.__reactInternalSnapshotBeforeUpdate)}var Te=v.updateQueue;Te!==null&&wu(v,Te,z);break;case 3:var Ve=v.updateQueue;if(Ve!==null){if(N=null,v.child!==null)switch(v.child.tag){case 5:N=v.child.stateNode;break;case 1:N=v.child.stateNode}wu(v,Ve,N)}break;case 5:var It=v.stateNode;if(N===null&&v.flags&4){N=It;var Qt=v.memoizedProps;switch(v.type){case"button":case"input":case"select":case"textarea":Qt.autoFocus&&N.focus();break;case"img":Qt.src&&(N.src=Qt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(v.memoizedState===null){var xr=v.alternate;if(xr!==null){var Zr=xr.memoizedState;if(Zr!==null){var sn=Zr.dehydrated;sn!==null&&be(sn)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}wn||v.flags&512&&vi(v)}catch(Xr){U(v,v.return,Xr)}}if(v===p){fn=null;break}if(N=v.sibling,N!==null){N.return=v.return,fn=N;break}fn=v.return}}function $o(p){for(;fn!==null;){var v=fn;if(v===p){fn=null;break}var N=v.sibling;if(N!==null){N.return=v.return,fn=N;break}fn=v.return}}function Vo(p){for(;fn!==null;){var v=fn;try{switch(v.tag){case 0:case 11:case 15:var N=v.return;try{vs(4,v)}catch(Qt){U(v,N,Qt)}break;case 1:var z=v.stateNode;if(typeof z.componentDidMount=="function"){var xe=v.return;try{z.componentDidMount()}catch(Qt){U(v,xe,Qt)}}var Te=v.return;try{vi(v)}catch(Qt){U(v,Te,Qt)}break;case 5:var Ve=v.return;try{vi(v)}catch(Qt){U(v,Ve,Qt)}}}catch(Qt){U(v,v.return,Qt)}if(v===p){fn=null;break}var It=v.sibling;if(It!==null){It.return=v.return,fn=It;break}fn=v.return}}var Qi=Math.ceil,Bl=S.ReactCurrentDispatcher,Ka=S.ReactCurrentOwner,Ha=S.ReactCurrentBatchConfig,qn=0,Js=null,Ds=null,Xi=0,Wi=0,no=Ul(0),ao=0,Tu=null,Dd=0,Zd=0,_A=0,Ch=null,pl=null,Jc=0,nh=1/0,eu=null,af=!1,Qf=null,md=null,sf=!1,Zc=null,al=0,ku=0,Md=null,of=-1,Wf=0;function Io(){return(qn&6)!==0?pa():of!==-1?of:of=pa()}function mc(p){return(p.mode&1)===0?1:(qn&2)!==0&&Xi!==0?Xi&-Xi:wa.transition!==null?(Wf===0&&(Wf=uo()),Wf):(p=va,p!==0||(p=window.event,p=p===void 0?16:jt(p.type)),p)}function Il(p,v,N,z){if(50<ku)throw ku=0,Md=null,Error(n(185));Rs(p,N,z),((qn&2)===0||p!==Js)&&(p===Js&&((qn&2)===0&&(Zd|=N),ao===4&&Mc(p,Xi)),go(p,z),N===1&&qn===0&&(v.mode&1)===0&&(nh=pa()+500,Qe&&Nr()))}function go(p,v){var N=p.callbackNode;Do(p,v);var z=Ci(p,p===Js?Xi:0);if(z===0)N!==null&&Xo(N),p.callbackNode=null,p.callbackPriority=0;else if(v=z&-z,p.callbackPriority!==v){if(N!=null&&Xo(N),v===1)p.tag===0?rr(PA.bind(null,p)):Dt(PA.bind(null,p)),Gu(function(){(qn&6)===0&&Nr()}),N=null;else{switch(qs(z)){case 1:N=os;break;case 4:N=_o;break;case 16:N=Ji;break;case 536870912:N=ol;break;default:N=Ji}N=ft(N,_u.bind(null,p))}p.callbackPriority=v,p.callbackNode=N}}function _u(p,v){if(of=-1,Wf=0,(qn&6)!==0)throw Error(n(327));var N=p.callbackNode;if(F()&&p.callbackNode!==N)return null;var z=Ci(p,p===Js?Xi:0);if(z===0)return null;if((z&30)!==0||(z&p.expiredLanes)!==0||v)v=ed(p,z);else{v=z;var xe=qn;qn|=2;var Te=Kf();(Js!==p||Xi!==v)&&(eu=null,nh=pa()+500,sh(p,v));do try{Fu();break}catch(It){Nh(p,It)}while(!0);Aa(),Bl.current=Te,qn=xe,Ds!==null?v=0:(Js=null,Xi=0,v=ao)}if(v!==0){if(v===2&&(xe=Ws(p),xe!==0&&(z=xe,v=$f(p,xe))),v===1)throw N=Tu,sh(p,0),Mc(p,z),go(p,pa()),N;if(v===6)Mc(p,z);else{if(xe=p.current.alternate,(z&30)===0&&!FA(xe)&&(v=ed(p,z),v===2&&(Te=Ws(p),Te!==0&&(z=Te,v=$f(p,Te))),v===1))throw N=Tu,sh(p,0),Mc(p,z),go(p,pa()),N;switch(p.finishedWork=xe,p.finishedLanes=z,v){case 0:case 1:throw Error(n(345));case 2:Pu(p,pl,eu);break;case 3:if(Mc(p,z),(z&130023424)===z&&(v=Jc+500-pa(),10<v)){if(Ci(p,0)!==0)break;if(xe=p.suspendedLanes,(xe&z)!==z){Io(),p.pingedLanes|=p.suspendedLanes&xe;break}p.timeoutHandle=Rl(Pu.bind(null,p,pl,eu),v);break}Pu(p,pl,eu);break;case 4:if(Mc(p,z),(z&4194240)===z)break;for(v=p.eventTimes,xe=-1;0<z;){var Ve=31-ls(z);Te=1<<Ve,Ve=v[Ve],Ve>xe&&(xe=Ve),z&=~Te}if(z=xe,z=pa()-z,z=(120>z?120:480>z?480:1080>z?1080:1920>z?1920:3e3>z?3e3:4320>z?4320:1960*Qi(z/1960))-z,10<z){p.timeoutHandle=Rl(Pu.bind(null,p,pl,eu),z);break}Pu(p,pl,eu);break;case 5:Pu(p,pl,eu);break;default:throw Error(n(329))}}}return go(p,pa()),p.callbackNode===N?_u.bind(null,p):null}function $f(p,v){var N=Ch;return p.current.memoizedState.isDehydrated&&(sh(p,v).flags|=256),p=ed(p,v),p!==2&&(v=pl,pl=N,v!==null&&OA(v)),p}function OA(p){pl===null?pl=p:pl.push.apply(pl,p)}function FA(p){for(var v=p;;){if(v.flags&16384){var N=v.updateQueue;if(N!==null&&(N=N.stores,N!==null))for(var z=0;z<N.length;z++){var xe=N[z],Te=xe.getSnapshot;xe=xe.value;try{if(!Li(Te(),xe))return!1}catch{return!1}}}if(N=v.child,v.subtreeFlags&16384&&N!==null)N.return=v,v=N;else{if(v===p)break;for(;v.sibling===null;){if(v.return===null||v.return===p)return!0;v=v.return}v.sibling.return=v.return,v=v.sibling}}return!0}function Mc(p,v){for(v&=~_A,v&=~Zd,p.suspendedLanes|=v,p.pingedLanes&=~v,p=p.expirationTimes;0<v;){var N=31-ls(v),z=1<<N;p[N]=-1,v&=~z}}function PA(p){if((qn&6)!==0)throw Error(n(327));F();var v=Ci(p,0);if((v&1)===0)return go(p,pa()),null;var N=ed(p,v);if(p.tag!==0&&N===2){var z=Ws(p);z!==0&&(v=z,N=$f(p,z))}if(N===1)throw N=Tu,sh(p,0),Mc(p,v),go(p,pa()),N;if(N===6)throw Error(n(345));return p.finishedWork=p.current.alternate,p.finishedLanes=v,Pu(p,pl,eu),go(p,pa()),null}function Vf(p,v){var N=qn;qn|=1;try{return p(v)}finally{qn=N,qn===0&&(nh=pa()+500,Qe&&Nr())}}function ah(p){Zc!==null&&Zc.tag===0&&(qn&6)===0&&F();var v=qn;qn|=1;var N=Ha.transition,z=va;try{if(Ha.transition=null,va=1,p)return p()}finally{va=z,Ha.transition=N,qn=v,(qn&6)===0&&Nr()}}function zf(){Wi=no.current,ps(no)}function sh(p,v){p.finishedWork=null,p.finishedLanes=0;var N=p.timeoutHandle;if(N!==-1&&(p.timeoutHandle=-1,$h(N)),Ds!==null)for(N=Ds.return;N!==null;){var z=N;switch(oe(z),z.tag){case 1:z=z.type.childContextTypes,z!=null&&cc();break;case 3:gi(),ps(Ui),ps(Bi),Kh();break;case 5:fd(z);break;case 4:gi();break;case 13:ps(li);break;case 19:ps(li);break;case 10:So(z.type._context);break;case 22:case 23:zf()}N=N.return}if(Js=p,Ds=p=Nn(p.current,null),Xi=Wi=v,ao=0,Tu=null,_A=Zd=Dd=0,pl=Ch=null,uc!==null){for(v=0;v<uc.length;v++)if(N=uc[v],z=N.interleaved,z!==null){N.interleaved=null;var xe=z.next,Te=N.pending;if(Te!==null){var Ve=Te.next;Te.next=xe,z.next=Ve}N.pending=z}uc=null}return p}function Nh(p,v){do{var N=Ds;try{if(Aa(),xh.current=Wl,qh){for(var z=Ii.memoizedState;z!==null;){var xe=z.queue;xe!==null&&(xe.pending=null),z=z.next}qh=!1}if(Yd=0,ro=Eo=Ii=null,ul=!1,Nu=0,Ka.current=null,N===null||N.return===null){ao=1,Tu=v,Ds=null;break}e:{var Te=p,Ve=N.return,It=N,Qt=v;if(v=Xi,It.flags|=32768,Qt!==null&&typeof Qt=="object"&&typeof Qt.then=="function"){var xr=Qt,Zr=It,sn=Zr.tag;if((Zr.mode&1)===0&&(sn===0||sn===11||sn===15)){var Xr=Zr.alternate;Xr?(Zr.updateQueue=Xr.updateQueue,Zr.memoizedState=Xr.memoizedState,Zr.lanes=Xr.lanes):(Zr.updateQueue=null,Zr.memoizedState=null)}var Un=BA(Ve);if(Un!==null){Un.flags&=-257,IA(Un,Ve,It,Te,v),Un.mode&1&&Ep(Te,xr,v),v=Un,Qt=xr;var Jn=v.updateQueue;if(Jn===null){var ra=new Set;ra.add(Qt),v.updateQueue=ra}else Jn.add(Qt);break e}else{if((v&1)===0){Ep(Te,xr,v),Sh();break e}Qt=Error(n(426))}}else if(ht&&It.mode&1){var gl=BA(Ve);if(gl!==null){(gl.flags&65536)===0&&(gl.flags|=256),IA(gl,Ve,It,Te,v),Vs(Eu(Qt,It));break e}}Te=Qt=Eu(Qt,It),ao!==4&&(ao=2),Ch===null?Ch=[Te]:Ch.push(Te),Te=Ve;do{switch(Te.tag){case 3:Te.flags|=65536,v&=-v,Te.lanes|=v;var fr=bh(Te,Qt,v);Xd(Te,fr);break e;case 1:It=Qt;var Zt=Te.type,vr=Te.stateNode;if((Te.flags&128)===0&&(typeof Zt.getDerivedStateFromError=="function"||vr!==null&&typeof vr.componentDidCatch=="function"&&(md===null||!md.has(vr)))){Te.flags|=65536,v&=-v,Te.lanes|=v;var hn=Rf(Te,It,v);Xd(Te,hn);break e}}Te=Te.return}while(Te!==null)}Gf(N)}catch(ia){v=ia,Ds===N&&N!==null&&(Ds=N=N.return);continue}break}while(!0)}function Kf(){var p=Bl.current;return Bl.current=Wl,p===null?Wl:p}function Sh(){(ao===0||ao===3||ao===2)&&(ao=4),Js===null||(Dd&268435455)===0&&(Zd&268435455)===0||Mc(Js,Xi)}function ed(p,v){var N=qn;qn|=2;var z=Kf();(Js!==p||Xi!==v)&&(eu=null,sh(p,v));do try{Ou();break}catch(xe){Nh(p,xe)}while(!0);if(Aa(),qn=N,Bl.current=z,Ds!==null)throw Error(n(261));return Js=null,Xi=0,ao}function Ou(){for(;Ds!==null;)lf(Ds)}function Fu(){for(;Ds!==null&&!Is();)lf(Ds)}function lf(p){var v=At(p.alternate,p,Wi);p.memoizedProps=p.pendingProps,v===null?Gf(p):Ds=v,Ka.current=null}function Gf(p){var v=p;do{var N=v.alternate;if(p=v.return,(v.flags&32768)===0){if(N=ta(N,v,Wi),N!==null){Ds=N;return}}else{if(N=Fn(N,v),N!==null){N.flags&=32767,Ds=N;return}if(p!==null)p.flags|=32768,p.subtreeFlags=0,p.deletions=null;else{ao=6,Ds=null;return}}if(v=v.sibling,v!==null){Ds=v;return}Ds=v=p}while(v!==null);ao===0&&(ao=5)}function Pu(p,v,N){var z=va,xe=Ha.transition;try{Ha.transition=null,va=1,$m(p,v,N,z)}finally{Ha.transition=xe,va=z}return null}function $m(p,v,N,z){do F();while(Zc!==null);if((qn&6)!==0)throw Error(n(327));N=p.finishedWork;var xe=p.finishedLanes;if(N===null)return null;if(p.finishedWork=null,p.finishedLanes=0,N===p.current)throw Error(n(177));p.callbackNode=null,p.callbackPriority=0;var Te=N.lanes|N.childLanes;if(bo(p,Te),p===Js&&(Ds=Js=null,Xi=0),(N.subtreeFlags&2064)===0&&(N.flags&2064)===0||sf||(sf=!0,ft(Ji,function(){return F(),null})),Te=(N.flags&15990)!==0,(N.subtreeFlags&15990)!==0||Te){Te=Ha.transition,Ha.transition=null;var Ve=va;va=1;var It=qn;qn|=4,Ka.current=null,mo(p,N),pc(N,p),Ic(_d),Re=!!kd,_d=kd=null,p.current=N,El(N),jo(),qn=It,va=Ve,Ha.transition=Te}else p.current=N;if(sf&&(sf=!1,Zc=p,al=xe),Te=p.pendingLanes,Te===0&&(md=null),Ts(N.stateNode),go(p,pa()),v!==null)for(z=p.onRecoverableError,N=0;N<v.length;N++)xe=v[N],z(xe.value,{componentStack:xe.stack,digest:xe.digest});if(af)throw af=!1,p=Qf,Qf=null,p;return(al&1)!==0&&p.tag!==0&&F(),Te=p.pendingLanes,(Te&1)!==0?p===Md?ku++:(ku=0,Md=p):ku=0,Nr(),null}function F(){if(Zc!==null){var p=qs(al),v=Ha.transition,N=va;try{if(Ha.transition=null,va=16>p?16:p,Zc===null)var z=!1;else{if(p=Zc,Zc=null,al=0,(qn&6)!==0)throw Error(n(331));var xe=qn;for(qn|=4,fn=p.current;fn!==null;){var Te=fn,Ve=Te.child;if((fn.flags&16)!==0){var It=Te.deletions;if(It!==null){for(var Qt=0;Qt<It.length;Qt++){var xr=It[Qt];for(fn=xr;fn!==null;){var Zr=fn;switch(Zr.tag){case 0:case 11:case 15:Ua(8,Zr,Te)}var sn=Zr.child;if(sn!==null)sn.return=Zr,fn=sn;else for(;fn!==null;){Zr=fn;var Xr=Zr.sibling,Un=Zr.return;if(Bo(Zr),Zr===xr){fn=null;break}if(Xr!==null){Xr.return=Un,fn=Xr;break}fn=Un}}}var Jn=Te.alternate;if(Jn!==null){var ra=Jn.child;if(ra!==null){Jn.child=null;do{var gl=ra.sibling;ra.sibling=null,ra=gl}while(ra!==null)}}fn=Te}}if((Te.subtreeFlags&2064)!==0&&Ve!==null)Ve.return=Te,fn=Ve;else e:for(;fn!==null;){if(Te=fn,(Te.flags&2048)!==0)switch(Te.tag){case 0:case 11:case 15:Ua(9,Te,Te.return)}var fr=Te.sibling;if(fr!==null){fr.return=Te.return,fn=fr;break e}fn=Te.return}}var Zt=p.current;for(fn=Zt;fn!==null;){Ve=fn;var vr=Ve.child;if((Ve.subtreeFlags&2064)!==0&&vr!==null)vr.return=Ve,fn=vr;else e:for(Ve=Zt;fn!==null;){if(It=fn,(It.flags&2048)!==0)try{switch(It.tag){case 0:case 11:case 15:vs(9,It)}}catch(ia){U(It,It.return,ia)}if(It===Ve){fn=null;break e}var hn=It.sibling;if(hn!==null){hn.return=It.return,fn=hn;break e}fn=It.return}}if(qn=xe,Nr(),zi&&typeof zi.onPostCommitFiberRoot=="function")try{zi.onPostCommitFiberRoot(Fo,p)}catch{}z=!0}return z}finally{va=N,Ha.transition=v}}return!1}function T(p,v,N){v=Eu(N,v),v=bh(p,v,1),p=qc(p,v,1),v=Io(),p!==null&&(Rs(p,1,v),go(p,v))}function U(p,v,N){if(p.tag===3)T(p,p,N);else for(;v!==null;){if(v.tag===3){T(v,p,N);break}else if(v.tag===1){var z=v.stateNode;if(typeof v.type.getDerivedStateFromError=="function"||typeof z.componentDidCatch=="function"&&(md===null||!md.has(z))){p=Eu(N,p),p=Rf(v,p,1),v=qc(v,p,1),p=Io(),v!==null&&(Rs(v,1,p),go(v,p));break}}v=v.return}}function H(p,v,N){var z=p.pingCache;z!==null&&z.delete(v),v=Io(),p.pingedLanes|=p.suspendedLanes&N,Js===p&&(Xi&N)===N&&(ao===4||ao===3&&(Xi&130023424)===Xi&&500>pa()-Jc?sh(p,0):_A|=N),go(p,v)}function Se(p,v){v===0&&((p.mode&1)===0?v=1:(v=Gn,Gn<<=1,(Gn&130023424)===0&&(Gn=4194304)));var N=Io();p=tl(p,v),p!==null&&(Rs(p,v,N),go(p,N))}function De(p){var v=p.memoizedState,N=0;v!==null&&(N=v.retryLane),Se(p,N)}function Ke(p,v){var N=0;switch(p.tag){case 13:var z=p.stateNode,xe=p.memoizedState;xe!==null&&(N=xe.retryLane);break;case 19:z=p.stateNode;break;default:throw Error(n(314))}z!==null&&z.delete(v),Se(p,N)}var At;At=function(p,v,N){if(p!==null)if(p.memoizedProps!==v.pendingProps||Ui.current)$l=!0;else{if((p.lanes&N)===0&&(v.flags&128)===0)return $l=!1,sr(p,v,N);$l=(p.flags&131072)!==0}else $l=!1,ht&&(v.flags&1048576)!==0&&_(v,ga,v.index);switch(v.lanes=0,v.tag){case 2:var z=v.type;vt(p,v),p=v.pendingProps;var xe=ud(v,Bi.current);Ho(v,N),xe=If(null,v,z,p,xe,N);var Te=Tf();return v.flags|=1,typeof xe=="object"&&xe!==null&&typeof xe.render=="function"&&xe.$$typeof===void 0?(v.tag=1,v.memoizedState=null,v.updateQueue=null,Uo(z)?(Te=!0,Gc(v)):Te=!1,v.memoizedState=xe.state!==null&&xe.state!==void 0?xe.state:null,Ju(v),xe.updater=th,v.stateNode=xe,xe._reactInternals=v,Mf(v,z,p,N),v=O(null,v,z,!0,Te,N)):(v.tag=0,ht&&Te&&Ue(v),Sl(null,v,xe,N),v=v.child),v;case 16:z=v.elementType;e:{switch(vt(p,v),p=v.pendingProps,xe=z._init,z=xe(z._payload),v.type=z,xe=v.tag=Br(z),p=Wo(z,p),xe){case 0:v=wh(null,v,z,p,N);break e;case 1:v=Hf(null,v,z,p,N);break e;case 11:v=Lf(null,v,z,p,N);break e;case 14:v=kA(null,v,z,Wo(z.type,p),N);break e}throw Error(n(306,z,""))}return v;case 0:return z=v.type,xe=v.pendingProps,xe=v.elementType===z?xe:Wo(z,xe),wh(p,v,z,xe,N);case 1:return z=v.type,xe=v.pendingProps,xe=v.elementType===z?xe:Wo(z,xe),Hf(p,v,z,xe,N);case 3:e:{if(Y(v),p===null)throw Error(n(387));z=v.pendingProps,Te=v.memoizedState,xe=Te.element,vh(p,v),hd(v,z,null,N);var Ve=v.memoizedState;if(z=Ve.element,Te.isDehydrated)if(Te={element:z,isDehydrated:!1,cache:Ve.cache,pendingSuspenseBoundaries:Ve.pendingSuspenseBoundaries,transitions:Ve.transitions},v.updateQueue.baseState=Te,v.memoizedState=Te,v.flags&256){xe=Eu(Error(n(423)),v),v=Ne(p,v,z,N,xe);break e}else if(z!==xe){xe=Eu(Error(n(424)),v),v=Ne(p,v,z,N,xe);break e}else for(gt=zc(v.stateNode.containerInfo.firstChild),Je=v,ht=!0,or=null,N=oi(v,null,z,N),v.child=N;N;)N.flags=N.flags&-3|4096,N=N.sibling;else{if(Sr(),z===xe){v=Vt(p,v,N);break e}Sl(p,v,z,N)}v=v.child}return v;case 5:return Ao(v),p===null&&hr(v),z=v.type,xe=v.pendingProps,Te=p!==null?p.memoizedProps:null,Ve=xe.children,ju(z,xe)?Ve=null:Te!==null&&ju(z,Te)&&(v.flags|=32),nf(p,v),Sl(p,v,Ve,N),v.child;case 6:return p===null&&hr(v),null;case 13:return Ge(p,v,N);case 4:return zs(v,v.stateNode.containerInfo),z=v.pendingProps,p===null?v.child=Oa(v,null,z,N):Sl(p,v,z,N),v.child;case 11:return z=v.type,xe=v.pendingProps,xe=v.elementType===z?xe:Wo(z,xe),Lf(p,v,z,xe,N);case 7:return Sl(p,v,v.pendingProps,N),v.child;case 8:return Sl(p,v,v.pendingProps.children,N),v.child;case 12:return Sl(p,v,v.pendingProps.children,N),v.child;case 10:e:{if(z=v.type._context,xe=v.pendingProps,Te=v.memoizedProps,Ve=xe.value,Ps(ea,z._currentValue),z._currentValue=Ve,Te!==null)if(Li(Te.value,Ve)){if(Te.children===xe.children&&!Ui.current){v=Vt(p,v,N);break e}}else for(Te=v.child,Te!==null&&(Te.return=v);Te!==null;){var It=Te.dependencies;if(It!==null){Ve=Te.child;for(var Qt=It.firstContext;Qt!==null;){if(Qt.context===z){if(Te.tag===1){Qt=Pc(-1,N&-N),Qt.tag=2;var xr=Te.updateQueue;if(xr!==null){xr=xr.shared;var Zr=xr.pending;Zr===null?Qt.next=Qt:(Qt.next=Zr.next,Zr.next=Qt),xr.pending=Qt}}Te.lanes|=N,Qt=Te.alternate,Qt!==null&&(Qt.lanes|=N),dc(Te.return,N,v),It.lanes|=N;break}Qt=Qt.next}}else if(Te.tag===10)Ve=Te.type===v.type?null:Te.child;else if(Te.tag===18){if(Ve=Te.return,Ve===null)throw Error(n(341));Ve.lanes|=N,It=Ve.alternate,It!==null&&(It.lanes|=N),dc(Ve,N,v),Ve=Te.sibling}else Ve=Te.child;if(Ve!==null)Ve.return=Te;else for(Ve=Te;Ve!==null;){if(Ve===v){Ve=null;break}if(Te=Ve.sibling,Te!==null){Te.return=Ve.return,Ve=Te;break}Ve=Ve.return}Te=Ve}Sl(p,v,xe.children,N),v=v.child}return v;case 9:return xe=v.type,z=v.pendingProps.children,Ho(v,N),xe=fo(xe),z=z(xe),v.flags|=1,Sl(p,v,z,N),v.child;case 14:return z=v.type,xe=Wo(z,v.pendingProps),xe=Wo(z.type,xe),kA(p,v,z,xe,N);case 15:return Uf(p,v,v.type,v.pendingProps,N);case 17:return z=v.type,xe=v.pendingProps,xe=v.elementType===z?xe:Wo(z,xe),vt(p,v),v.tag=1,Uo(z)?(p=!0,Gc(v)):p=!1,Ho(v,N),Df(v,z,xe),Mf(v,z,xe,N),O(null,v,z,!0,p,N);case 19:return cr(p,v,N);case 22:return rf(p,v,N)}throw Error(n(156,v.tag))};function ft(p,v){return yl(p,v)}function zt(p,v,N,z){this.tag=p,this.key=N,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=v,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=z,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gt(p,v,N,z){return new zt(p,v,N,z)}function lr(p){return p=p.prototype,!(!p||!p.isReactComponent)}function Br(p){if(typeof p=="function")return lr(p)?1:0;if(p!=null){if(p=p.$$typeof,p===le)return 11;if(p===$)return 14}return 2}function Nn(p,v){var N=p.alternate;return N===null?(N=Gt(p.tag,v,p.key,p.mode),N.elementType=p.elementType,N.type=p.type,N.stateNode=p.stateNode,N.alternate=p,p.alternate=N):(N.pendingProps=v,N.type=p.type,N.flags=0,N.subtreeFlags=0,N.deletions=null),N.flags=p.flags&14680064,N.childLanes=p.childLanes,N.lanes=p.lanes,N.child=p.child,N.memoizedProps=p.memoizedProps,N.memoizedState=p.memoizedState,N.updateQueue=p.updateQueue,v=p.dependencies,N.dependencies=v===null?null:{lanes:v.lanes,firstContext:v.firstContext},N.sibling=p.sibling,N.index=p.index,N.ref=p.ref,N}function ln(p,v,N,z,xe,Te){var Ve=2;if(z=p,typeof p=="function")lr(p)&&(Ve=1);else if(typeof p=="string")Ve=5;else e:switch(p){case I:return bn(N.children,xe,Te,v);case L:Ve=8,xe|=8;break;case J:return p=Gt(12,N,v,xe|2),p.elementType=J,p.lanes=Te,p;case V:return p=Gt(13,N,v,xe),p.elementType=V,p.lanes=Te,p;case me:return p=Gt(19,N,v,xe),p.elementType=me,p.lanes=Te,p;case we:return as(N,xe,Te,v);default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case ae:Ve=10;break e;case G:Ve=9;break e;case le:Ve=11;break e;case $:Ve=14;break e;case ee:Ve=16,z=null;break e}throw Error(n(130,p==null?p:typeof p,""))}return v=Gt(Ve,N,v,xe),v.elementType=p,v.type=z,v.lanes=Te,v}function bn(p,v,N,z){return p=Gt(7,p,z,v),p.lanes=N,p}function as(p,v,N,z){return p=Gt(22,p,z,v),p.elementType=we,p.lanes=N,p.stateNode={isHidden:!1},p}function Xn(p,v,N){return p=Gt(6,p,null,v),p.lanes=N,p}function $n(p,v,N){return v=Gt(4,p.children!==null?p.children:[],p.key,v),v.lanes=N,v.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},v}function Zs(p,v,N,z,xe){this.tag=v,this.containerInfo=p,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ni(0),this.expirationTimes=ni(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ni(0),this.identifierPrefix=z,this.onRecoverableError=xe,this.mutableSourceEagerHydrationData=null}function cs(p,v,N,z,xe,Te,Ve,It,Qt){return p=new Zs(p,v,N,It,Qt),v===1?(v=1,Te===!0&&(v|=8)):v=0,Te=Gt(3,null,null,v),p.current=Te,Te.stateNode=p,Te.memoizedState={element:z,isDehydrated:N,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ju(Te),p}function Ga(p,v,N){var z=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:E,key:z==null?null:""+z,children:p,containerInfo:v,implementation:N}}function kn(p){if(!p)return Hl;p=p._reactInternals;e:{if(Va(p)!==p||p.tag!==1)throw Error(n(170));var v=p;do{switch(v.tag){case 3:v=v.stateNode.context;break e;case 1:if(Uo(v.type)){v=v.stateNode.__reactInternalMemoizedMergedChildContext;break e}}v=v.return}while(v!==null);throw Error(n(171))}if(p.tag===1){var N=p.type;if(Uo(N))return Xu(p,N,v)}return v}function Ms(p,v,N,z,xe,Te,Ve,It,Qt){return p=cs(N,z,!0,p,xe,Te,Ve,It,Qt),p.context=kn(null),N=p.current,z=Io(),xe=mc(N),Te=Pc(z,xe),Te.callback=v??null,qc(N,Te,xe),p.current.lanes=xe,Rs(p,xe,z),go(p,z),p}function Es(p,v,N,z){var xe=v.current,Te=Io(),Ve=mc(xe);return N=kn(N),v.context===null?v.context=N:v.pendingContext=N,v=Pc(Te,Ve),v.payload={element:p},z=z===void 0?null:z,z!==null&&(v.callback=z),p=qc(xe,v,Ve),p!==null&&(Il(p,xe,Ve,Te),Xc(p,xe,Ve)),Ve}function Qa(p){if(p=p.current,!p.child)return null;switch(p.child.tag){case 5:return p.child.stateNode;default:return p.child.stateNode}}function zo(p,v){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var N=p.retryLane;p.retryLane=N!==0&&N<v?N:v}}function gc(p,v){zo(p,v),(p=p.alternate)&&zo(p,v)}function gd(){return null}var yi=typeof reportError=="function"?reportError:function(p){console.error(p)};function ml(p){this._internalRoot=p}tu.prototype.render=ml.prototype.render=function(p){var v=this._internalRoot;if(v===null)throw Error(n(409));Es(p,v,null,null)},tu.prototype.unmount=ml.prototype.unmount=function(){var p=this._internalRoot;if(p!==null){this._internalRoot=null;var v=p.containerInfo;ah(function(){Es(null,p,null,null)}),v[oc]=null}};function tu(p){this._internalRoot=p}tu.prototype.unstable_scheduleHydration=function(p){if(p){var v=Ro();p={blockedOn:null,target:p,priority:v};for(var N=0;N<Fe.length&&v!==0&&v<Fe[N].priority;N++);Fe.splice(N,0,p),N===0&&P(p)}};function vc(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)}function Vl(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11&&(p.nodeType!==8||p.nodeValue!==" react-mount-point-unstable "))}function Eh(){}function Du(p,v,N,z,xe){if(xe){if(typeof z=="function"){var Te=z;z=function(){var xr=Qa(Ve);Te.call(xr)}}var Ve=Ms(v,z,p,0,null,!1,!1,"",Eh);return p._reactRootContainer=Ve,p[oc]=Ve.current,Fi(p.nodeType===8?p.parentNode:p),ah(),Ve}for(;xe=p.lastChild;)p.removeChild(xe);if(typeof z=="function"){var It=z;z=function(){var xr=Qa(Qt);It.call(xr)}}var Qt=cs(p,0,!1,null,null,!1,!1,"",Eh);return p._reactRootContainer=Qt,p[oc]=Qt.current,Fi(p.nodeType===8?p.parentNode:p),ah(function(){Es(v,Qt,N,z)}),Qt}function ru(p,v,N,z,xe){var Te=N._reactRootContainer;if(Te){var Ve=Te;if(typeof xe=="function"){var It=xe;xe=function(){var Qt=Qa(Ve);It.call(Qt)}}Es(v,Ve,p,xe)}else Ve=Du(N,v,p,xe,z);return Qa(Ve)}Si=function(p){switch(p.tag){case 3:var v=p.stateNode;if(v.current.memoizedState.isDehydrated){var N=Gs(v.pendingLanes);N!==0&&(Mo(v,N|1),go(v,pa()),(qn&6)===0&&(nh=pa()+500,Nr()))}break;case 13:ah(function(){var z=tl(p,1);if(z!==null){var xe=Io();Il(z,p,1,xe)}}),gc(p,1)}},Zi=function(p){if(p.tag===13){var v=tl(p,134217728);if(v!==null){var N=Io();Il(v,p,134217728,N)}gc(p,134217728)}},Ri=function(p){if(p.tag===13){var v=mc(p),N=tl(p,v);if(N!==null){var z=Io();Il(N,p,v,z)}gc(p,v)}},Ro=function(){return va},Kt=function(p,v){var N=va;try{return va=p,v()}finally{va=N}},Ln=function(p,v,N){switch(v){case"input":if(_e(p,N),v=N.name,N.type==="radio"&&v!=null){for(N=p;N.parentNode;)N=N.parentNode;for(N=N.querySelectorAll("input[name="+JSON.stringify(""+v)+'][type="radio"]'),v=0;v<N.length;v++){var z=N[v];if(z!==p&&z.form===p.form){var xe=bu(z);if(!xe)throw Error(n(90));Be(z),_e(z,xe)}}}break;case"textarea":St(p,N);break;case"select":v=N.value,v!=null&&it(p,!!N.multiple,v,!1)}},da=Vf,ri=ah;var cf={usingClientEntryPoint:!1,Events:[Fd,Cl,bu,un,Dn,Vf]},nu={findFiberByHostInstance:el,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ih={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:S.ReactCurrentDispatcher,findHostInstanceByFiber:function(p){return p=Qs(p),p===null?null:p.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||gd,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mu.isDisabled&&Mu.supportsFiber)try{Fo=Mu.inject(ih),zi=Mu}catch{}}return Rd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cf,Rd.createPortal=function(p,v){var N=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vc(v))throw Error(n(200));return Ga(p,v,null,N)},Rd.createRoot=function(p,v){if(!vc(p))throw Error(n(299));var N=!1,z="",xe=yi;return v!=null&&(v.unstable_strictMode===!0&&(N=!0),v.identifierPrefix!==void 0&&(z=v.identifierPrefix),v.onRecoverableError!==void 0&&(xe=v.onRecoverableError)),v=cs(p,1,!1,null,null,N,!1,z,xe),p[oc]=v.current,Fi(p.nodeType===8?p.parentNode:p),new ml(v)},Rd.findDOMNode=function(p){if(p==null)return null;if(p.nodeType===1)return p;var v=p._reactInternals;if(v===void 0)throw typeof p.render=="function"?Error(n(188)):(p=Object.keys(p).join(","),Error(n(268,p)));return p=Qs(v),p=p===null?null:p.stateNode,p},Rd.flushSync=function(p){return ah(p)},Rd.hydrate=function(p,v,N){if(!Vl(v))throw Error(n(200));return ru(null,p,v,!0,N)},Rd.hydrateRoot=function(p,v,N){if(!vc(p))throw Error(n(405));var z=N!=null&&N.hydratedSources||null,xe=!1,Te="",Ve=yi;if(N!=null&&(N.unstable_strictMode===!0&&(xe=!0),N.identifierPrefix!==void 0&&(Te=N.identifierPrefix),N.onRecoverableError!==void 0&&(Ve=N.onRecoverableError)),v=Ms(v,null,p,1,N??null,xe,!1,Te,Ve),p[oc]=v.current,Fi(p),z)for(p=0;p<z.length;p++)N=z[p],xe=N._getVersion,xe=xe(N._source),v.mutableSourceEagerHydrationData==null?v.mutableSourceEagerHydrationData=[N,xe]:v.mutableSourceEagerHydrationData.push(N,xe);return new tu(v)},Rd.render=function(p,v,N){if(!Vl(v))throw Error(n(200));return ru(null,p,v,!1,N)},Rd.unmountComponentAtNode=function(p){if(!Vl(p))throw Error(n(40));return p._reactRootContainer?(ah(function(){ru(null,null,p,!1,function(){p._reactRootContainer=null,p[oc]=null})}),!0):!1},Rd.unstable_batchedUpdates=Vf,Rd.unstable_renderSubtreeIntoContainer=function(p,v,N,z){if(!Vl(N))throw Error(n(200));if(p==null||p._reactInternals===void 0)throw Error(n(38));return ru(p,v,N,!1,z)},Rd.version="18.3.1-next-f1338f8080-20240426",Rd}var US;function m_(){if(US)return O2.exports;US=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),O2.exports=GD(),O2.exports}var HS;function qD(){if(HS)return o0;HS=1;var r=m_();return o0.createRoot=r.createRoot,o0.hydrateRoot=r.hydrateRoot,o0}var XD=qD();const YD=si(XD);var Wc=m_();/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function i1(){return i1=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},i1.apply(this,arguments)}var sA;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(sA||(sA={}));const QS="popstate";function JD(r){r===void 0&&(r={});function t(a,s){let{pathname:i,search:c,hash:o}=a.location;return BC("",{pathname:i,search:c,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(a,s){return typeof s=="string"?s:Ov(s)}return eM(t,n,null,r)}function xl(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function h4(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ZD(){return Math.random().toString(36).substr(2,8)}function WS(r,t){return{usr:r.state,key:r.key,idx:t}}function BC(r,t,n,a){return n===void 0&&(n=null),i1({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof t=="string"?Im(t):t,{state:n,key:t&&t.key||a||ZD()})}function Ov(r){let{pathname:t="/",search:n="",hash:a=""}=r;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function Im(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substr(n),r=r.substr(0,n));let a=r.indexOf("?");a>=0&&(t.search=r.substr(a),r=r.substr(0,a)),r&&(t.pathname=r)}return t}function eM(r,t,n,a){a===void 0&&(a={});let{window:s=document.defaultView,v5Compat:i=!1}=a,c=s.history,o=sA.Pop,d=null,l=u();l==null&&(l=0,c.replaceState(i1({},c.state,{idx:l}),""));function u(){return(c.state||{idx:null}).idx}function h(){o=sA.Pop;let x=u(),y=x==null?null:x-l;l=x,d&&d({action:o,location:m.location,delta:y})}function f(x,y){o=sA.Push;let j=BC(m.location,x,y);l=u()+1;let b=WS(j,l),S=m.createHref(j);try{c.pushState(b,"",S)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;s.location.assign(S)}i&&d&&d({action:o,location:m.location,delta:1})}function A(x,y){o=sA.Replace;let j=BC(m.location,x,y);l=u();let b=WS(j,l),S=m.createHref(j);c.replaceState(b,"",S),i&&d&&d({action:o,location:m.location,delta:0})}function g(x){let y=s.location.origin!=="null"?s.location.origin:s.location.href,j=typeof x=="string"?x:Ov(x);return j=j.replace(/ $/,"%20"),xl(y,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,y)}let m={get action(){return o},get location(){return r(s,c)},listen(x){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(QS,h),d=x,()=>{s.removeEventListener(QS,h),d=null}},createHref(x){return t(s,x)},createURL:g,encodeLocation(x){let y=g(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:A,go(x){return c.go(x)}};return m}var $S;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})($S||($S={}));function tM(r,t,n){return n===void 0&&(n="/"),rM(r,t,n)}function rM(r,t,n,a){let s=typeof t=="string"?Im(t):t,i=f4(s.pathname||"/",n);if(i==null)return null;let c=g_(r);nM(c);let o=null;for(let d=0;o==null&&d<c.length;++d){let l=pM(i);o=hM(c[d],l)}return o}function g_(r,t,n,a){t===void 0&&(t=[]),n===void 0&&(n=[]),a===void 0&&(a="");let s=(i,c,o)=>{let d={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:c,route:i};d.relativePath.startsWith("/")&&(xl(d.relativePath.startsWith(a),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(a.length));let l=lA([a,d.relativePath]),u=n.concat(d);i.children&&i.children.length>0&&(xl(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),g_(i.children,t,u,l)),!(i.path==null&&!i.index)&&t.push({path:l,score:dM(l,i.index),routesMeta:u})};return r.forEach((i,c)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,c);else for(let d of v_(i.path))s(i,c,d)}),t}function v_(r){let t=r.split("/");if(t.length===0)return[];let[n,...a]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(a.length===0)return s?[i,""]:[i];let c=v_(a.join("/")),o=[];return o.push(...c.map(d=>d===""?i:[i,d].join("/"))),s&&o.push(...c),o.map(d=>r.startsWith("/")&&d===""?"/":d)}function nM(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:uM(t.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}const aM=/^:[\w-]+$/,sM=3,iM=2,oM=1,lM=10,cM=-2,VS=r=>r==="*";function dM(r,t){let n=r.split("/"),a=n.length;return n.some(VS)&&(a+=cM),t&&(a+=iM),n.filter(s=>!VS(s)).reduce((s,i)=>s+(aM.test(i)?sM:i===""?oM:lM),a)}function uM(r,t){return r.length===t.length&&r.slice(0,-1).every((a,s)=>a===t[s])?r[r.length-1]-t[t.length-1]:0}function hM(r,t,n){let{routesMeta:a}=r,s={},i="/",c=[];for(let o=0;o<a.length;++o){let d=a[o],l=o===a.length-1,u=i==="/"?t:t.slice(i.length)||"/",h=fM({path:d.relativePath,caseSensitive:d.caseSensitive,end:l},u),f=d.route;if(!h)return null;Object.assign(s,h.params),c.push({params:s,pathname:lA([i,h.pathname]),pathnameBase:yM(lA([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=lA([i,h.pathnameBase]))}return c}function fM(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,a]=AM(r.path,r.caseSensitive,r.end),s=t.match(n);if(!s)return null;let i=s[0],c=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:a.reduce((l,u,h)=>{let{paramName:f,isOptional:A}=u;if(f==="*"){let m=o[h]||"";c=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const g=o[h];return A&&!g?l[f]=void 0:l[f]=(g||"").replace(/%2F/g,"/"),l},{}),pathname:i,pathnameBase:c,pattern:r}}function AM(r,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),h4(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let a=[],s="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,o,d)=>(a.push({paramName:o,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(a.push({paramName:"*"}),s+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":r!==""&&r!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),a]}function pM(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return h4(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),r}}function f4(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=r.charAt(n);return a&&a!=="/"?null:r.slice(n)||"/"}const mM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gM=r=>mM.test(r);function vM(r,t){t===void 0&&(t="/");let{pathname:n,search:a="",hash:s=""}=typeof r=="string"?Im(r):r,i;if(n)if(gM(n))i=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),h4(!1,"Pathnames cannot have embedded double slashes - normalizing "+(c+" -> "+n))}n.startsWith("/")?i=zS(n.substring(1),"/"):i=zS(n,t)}else i=t;return{pathname:i,search:jM(a),hash:bM(s)}}function zS(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function D2(r,t,n,a){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function xM(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function A4(r,t){let n=xM(r);return t?n.map((a,s)=>s===n.length-1?a.pathname:a.pathnameBase):n.map(a=>a.pathnameBase)}function p4(r,t,n,a){a===void 0&&(a=!1);let s;typeof r=="string"?s=Im(r):(s=i1({},r),xl(!s.pathname||!s.pathname.includes("?"),D2("?","pathname","search",s)),xl(!s.pathname||!s.pathname.includes("#"),D2("#","pathname","hash",s)),xl(!s.search||!s.search.includes("#"),D2("#","search","hash",s)));let i=r===""||s.pathname==="",c=i?"/":s.pathname,o;if(c==null)o=n;else{let h=t.length-1;if(!a&&c.startsWith("..")){let f=c.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}o=h>=0?t[h]:"/"}let d=vM(s,o),l=c&&c!=="/"&&c.endsWith("/"),u=(i||c===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(l||u)&&(d.pathname+="/"),d}const lA=r=>r.join("/").replace(/\/\/+/g,"/"),yM=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),jM=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,bM=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function wM(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const x_=["post","put","patch","delete"];new Set(x_);const CM=["get",...x_];new Set(CM);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function o1(){return o1=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},o1.apply(this,arguments)}const m4=C.createContext(null),NM=C.createContext(null),fA=C.createContext(null),Ux=C.createContext(null),AA=C.createContext({outlet:null,matches:[],isDataRoute:!1}),y_=C.createContext(null);function SM(r,t){let{relative:n}=t===void 0?{}:t;Tm()||xl(!1);let{basename:a,navigator:s}=C.useContext(fA),{hash:i,pathname:c,search:o}=b_(r,{relative:n}),d=c;return a!=="/"&&(d=c==="/"?a:lA([a,c])),s.createHref({pathname:d,search:o,hash:i})}function Tm(){return C.useContext(Ux)!=null}function jn(){return Tm()||xl(!1),C.useContext(Ux).location}function j_(r){C.useContext(fA).static||C.useLayoutEffect(r)}function qa(){let{isDataRoute:r}=C.useContext(AA);return r?LM():EM()}function EM(){Tm()||xl(!1);let r=C.useContext(m4),{basename:t,future:n,navigator:a}=C.useContext(fA),{matches:s}=C.useContext(AA),{pathname:i}=jn(),c=JSON.stringify(A4(s,n.v7_relativeSplatPath)),o=C.useRef(!1);return j_(()=>{o.current=!0}),C.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){a.go(l);return}let h=p4(l,JSON.parse(c),i,u.relative==="path");r==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:lA([t,h.pathname])),(u.replace?a.replace:a.push)(h,u.state,u)},[t,a,c,i,r])}function b_(r,t){let{relative:n}=t===void 0?{}:t,{future:a}=C.useContext(fA),{matches:s}=C.useContext(AA),{pathname:i}=jn(),c=JSON.stringify(A4(s,a.v7_relativeSplatPath));return C.useMemo(()=>p4(r,JSON.parse(c),i,n==="path"),[r,c,i,n])}function BM(r,t){return IM(r,t)}function IM(r,t,n,a){Tm()||xl(!1);let{navigator:s}=C.useContext(fA),{matches:i}=C.useContext(AA),c=i[i.length-1],o=c?c.params:{};c&&c.pathname;let d=c?c.pathnameBase:"/";c&&c.route;let l=jn(),u;if(t){var h;let x=typeof t=="string"?Im(t):t;d==="/"||(h=x.pathname)!=null&&h.startsWith(d)||xl(!1),u=x}else u=l;let f=u.pathname||"/",A=f;if(d!=="/"){let x=d.replace(/^\//,"").split("/");A="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let g=tM(r,{pathname:A}),m=FM(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:lA([d,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?d:lA([d,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,a);return t&&m?C.createElement(Ux.Provider,{value:{location:o1({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:sA.Pop}},m):m}function TM(){let r=RM(),t=wM(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},t),n?C.createElement("pre",{style:s},n):null,null)}const kM=C.createElement(TM,null);class _M extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?C.createElement(AA.Provider,{value:this.props.routeContext},C.createElement(y_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function OM(r){let{routeContext:t,match:n,children:a}=r,s=C.useContext(m4);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),C.createElement(AA.Provider,{value:t},a)}function FM(r,t,n,a){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),a===void 0&&(a=null),r==null){var i;if(!n)return null;if(n.errors)r=n.matches;else if((i=a)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let c=r,o=(s=n)==null?void 0:s.errors;if(o!=null){let u=c.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);u>=0||xl(!1),c=c.slice(0,Math.min(c.length,u+1))}let d=!1,l=-1;if(n&&a&&a.v7_partialHydration)for(let u=0;u<c.length;u++){let h=c[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(l=u),h.route.id){let{loaderData:f,errors:A}=n,g=h.route.loader&&f[h.route.id]===void 0&&(!A||A[h.route.id]===void 0);if(h.route.lazy||g){d=!0,l>=0?c=c.slice(0,l+1):c=[c[0]];break}}}return c.reduceRight((u,h,f)=>{let A,g=!1,m=null,x=null;n&&(A=o&&h.route.id?o[h.route.id]:void 0,m=h.route.errorElement||kM,d&&(l<0&&f===0?(UM("route-fallback"),g=!0,x=null):l===f&&(g=!0,x=h.route.hydrateFallbackElement||null)));let y=t.concat(c.slice(0,f+1)),j=()=>{let b;return A?b=m:g?b=x:h.route.Component?b=C.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=u,C.createElement(OM,{match:h,routeContext:{outlet:u,matches:y,isDataRoute:n!=null},children:b})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?C.createElement(_M,{location:n.location,revalidation:n.revalidation,component:m,error:A,children:j(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):j()},null)}var w_=(function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r})(w_||{}),C_=(function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r})(C_||{});function PM(r){let t=C.useContext(m4);return t||xl(!1),t}function DM(r){let t=C.useContext(NM);return t||xl(!1),t}function MM(r){let t=C.useContext(AA);return t||xl(!1),t}function N_(r){let t=MM(),n=t.matches[t.matches.length-1];return n.route.id||xl(!1),n.route.id}function RM(){var r;let t=C.useContext(y_),n=DM(),a=N_();return t!==void 0?t:(r=n.errors)==null?void 0:r[a]}function LM(){let{router:r}=PM(w_.UseNavigateStable),t=N_(C_.UseNavigateStable),n=C.useRef(!1);return j_(()=>{n.current=!0}),C.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?r.navigate(s):r.navigate(s,o1({fromRouteId:t},i)))},[r,t])}const KS={};function UM(r,t,n){KS[r]||(KS[r]=!0)}function HM(r,t){r==null||r.v7_startTransition,r==null||r.v7_relativeSplatPath}function Jp(r){let{to:t,replace:n,state:a,relative:s}=r;Tm()||xl(!1);let{future:i,static:c}=C.useContext(fA),{matches:o}=C.useContext(AA),{pathname:d}=jn(),l=qa(),u=p4(t,A4(o,i.v7_relativeSplatPath),d,s==="path"),h=JSON.stringify(u);return C.useEffect(()=>l(JSON.parse(h),{replace:n,state:a,relative:s}),[l,h,s,n,a]),null}function cn(r){xl(!1)}function QM(r){let{basename:t="/",children:n=null,location:a,navigationType:s=sA.Pop,navigator:i,static:c=!1,future:o}=r;Tm()&&xl(!1);let d=t.replace(/^\/*/,"/"),l=C.useMemo(()=>({basename:d,navigator:i,static:c,future:o1({v7_relativeSplatPath:!1},o)}),[d,o,i,c]);typeof a=="string"&&(a=Im(a));let{pathname:u="/",search:h="",hash:f="",state:A=null,key:g="default"}=a,m=C.useMemo(()=>{let x=f4(u,d);return x==null?null:{location:{pathname:x,search:h,hash:f,state:A,key:g},navigationType:s}},[d,u,h,f,A,g,s]);return m==null?null:C.createElement(fA.Provider,{value:l},C.createElement(Ux.Provider,{children:n,value:m}))}function WM(r){let{children:t,location:n}=r;return BM(IC(t),n)}new Promise(()=>{});function IC(r,t){t===void 0&&(t=[]);let n=[];return C.Children.forEach(r,(a,s)=>{if(!C.isValidElement(a))return;let i=[...t,s];if(a.type===C.Fragment){n.push.apply(n,IC(a.props.children,i));return}a.type!==cn&&xl(!1),!a.props.index||!a.props.children||xl(!1);let c={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(c.children=IC(a.props.children,i)),n.push(c)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function TC(){return TC=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},TC.apply(this,arguments)}function $M(r,t){if(r==null)return{};var n={},a=Object.keys(r),s,i;for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&(n[s]=r[s]);return n}function VM(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function zM(r,t){return r.button===0&&(!t||t==="_self")&&!VM(r)}function kC(r){return r===void 0&&(r=""),new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((t,n)=>{let a=r[n];return t.concat(Array.isArray(a)?a.map(s=>[n,s]):[[n,a]])},[]))}function KM(r,t){let n=kC(r);return t&&t.forEach((a,s)=>{n.has(s)||t.getAll(s).forEach(i=>{n.append(s,i)})}),n}const GM=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],qM="6";try{window.__reactRouterVersion=qM}catch{}const XM="startTransition",GS=VD[XM];function YM(r){let{basename:t,children:n,future:a,window:s}=r,i=C.useRef();i.current==null&&(i.current=JD({window:s,v5Compat:!0}));let c=i.current,[o,d]=C.useState({action:c.action,location:c.location}),{v7_startTransition:l}=a||{},u=C.useCallback(h=>{l&&GS?GS(()=>d(h)):d(h)},[d,l]);return C.useLayoutEffect(()=>c.listen(u),[c,u]),C.useEffect(()=>HM(a),[a]),C.createElement(QM,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:c,future:a})}const JM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ZM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hr=C.forwardRef(function(t,n){let{onClick:a,relative:s,reloadDocument:i,replace:c,state:o,target:d,to:l,preventScrollReset:u,viewTransition:h}=t,f=$M(t,GM),{basename:A}=C.useContext(fA),g,m=!1;if(typeof l=="string"&&ZM.test(l)&&(g=l,JM))try{let b=new URL(window.location.href),S=l.startsWith("//")?new URL(b.protocol+l):new URL(l),w=f4(S.pathname,A);S.origin===b.origin&&w!=null?l=w+S.search+S.hash:m=!0}catch{}let x=SM(l,{relative:s}),y=eR(l,{replace:c,state:o,target:d,preventScrollReset:u,relative:s,viewTransition:h});function j(b){a&&a(b),b.defaultPrevented||y(b)}return C.createElement("a",TC({},f,{href:g||x,onClick:m||i?a:j,ref:n,target:d}))});var qS;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(qS||(qS={}));var XS;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(XS||(XS={}));function eR(r,t){let{target:n,replace:a,state:s,preventScrollReset:i,relative:c,viewTransition:o}=t===void 0?{}:t,d=qa(),l=jn(),u=b_(r,{relative:c});return C.useCallback(h=>{if(zM(h,n)){h.preventDefault();let f=a!==void 0?a:Ov(l)===Ov(u);d(r,{replace:f,state:s,preventScrollReset:i,relative:c,viewTransition:o})}},[l,d,u,a,s,n,r,i,c,o])}function g4(r){let t=C.useRef(kC(r)),n=C.useRef(!1),a=jn(),s=C.useMemo(()=>KM(a.search,n.current?null:t.current),[a.search]),i=qa(),c=C.useCallback((o,d)=>{const l=kC(typeof o=="function"?o(s):o);n.current=!0,i("?"+l,d)},[i,s]);return[s,c]}const tR=()=>{var r;return typeof window<"u"&&((r=window.location)!=null&&r.hostname)?`http://${window.location.hostname}:3000/api/v1`:"http://localhost:3000/api/v1"},yf=tR(),rR=r=>new Promise(t=>setTimeout(t,r));async function v4(r,t={}){const n=`${yf}${r}`;let a;try{a=await fetch(n,{...t,headers:{"Content-Type":"application/json",...t.headers}})}catch{const c=`Failed to reach backend at ${n}. If you are using a mobile device/emulator, set VITE_API_BASE_URL to http://<YOUR_PC_IP>:3000/api/v1 and ensure backend CORS allows your frontend origin.`;throw new Error(c)}if(!a.ok){const i=await a.json().catch(()=>({})),c=i.message||i.error||`HTTP error! status: ${a.status}`;throw new Error(Array.isArray(c)?c.join(", "):c)}return(await a.json()).data}const S_=async r=>{await v4("/auth/send-otp",{method:"POST",body:JSON.stringify({usernameOrEmail:r})})},nR=async(r,t)=>{var n;try{const a=await v4("/auth/login",{method:"POST",body:JSON.stringify({usernameOrEmail:r.trim(),password:t})}),s=(n=a.email||a.userName)==null?void 0:n.toLowerCase(),i=s==="superadmin@medi-waste.io"||s==="superadmin",c={id:a.userId,name:a.userName,email:a.email||a.userName,roles:i?["superadmin"]:a.userRoleId?[a.userRoleId]:["user"],token:a.token||`token-${a.userId}`};return a.requiresOTP?(await S_(a.email||a.userName),{requiresOTP:!0,email:a.email||a.userName,user:c,forcePasswordChange:a.forcePasswordChange}):a.forcePasswordChange?{requiresOTP:!1,user:c,forcePasswordChange:!0}:{requiresOTP:!1,user:c}}catch(a){throw console.error("Login error:",a),a}},aR=async(r,t)=>{var n;try{const a=await v4("/auth/verify-otp",{method:"POST",body:JSON.stringify({usernameOrEmail:r,otp:t})}),s=(n=a.email||a.userName)==null?void 0:n.toLowerCase(),i=s==="superadmin@medi-waste.io"||s==="superadmin";return{id:a.userId,name:a.userName,email:a.email||a.userName,roles:i?["superadmin"]:a.userRoleId?[a.userRoleId]:["user"],token:a.token||`token-${a.userId}`}}catch(a){throw console.error("OTP login error:",a),new Error("Invalid or expired OTP")}},sR=async(r,t)=>{if(await rR(500),!t)throw new Error("Unauthorized");if(r.password.length<8)throw new Error("Password must be at least 8 characters");return{id:`u-${Date.now()}`,name:r.name,email:r.email.toLowerCase(),roles:[r.role],token:`issued-${Date.now()}`}},iR=async r=>{var t;try{const n=async i=>{const c=await fetch(i,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!c.ok)throw new Error("Failed to fetch permissions");return c.json()};try{const i=await n(`${yf}/auth/permissions`),c=(t=i==null?void 0:i.data)==null?void 0:t.permissions;return Array.isArray(c)?c:[]}catch{}const a=await fetch(`${yf}/permissions/me`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!a.ok)throw new Error("Failed to fetch permissions");const s=await a.json();return(s==null?void 0:s.data)||[]}catch(n){return console.error("Error fetching permissions:",n),[]}},E_=async r=>{try{const t=await fetch(`${yf}/auth/menu-config`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!t.ok)throw new Error("Failed to fetch menu config");return(await t.json()).data}catch(t){return console.error("Error fetching menu config:",t),null}},Cc=(r,t)=>{if(r.includes("*"))return!0;const n=(t||"").trim();if(!n)return!1;const a=new Set([n]);n.includes(".")&&a.add(n.replace(/\./g,"_")),n.includes("_")&&a.add(n.replace(/_/g,"."));for(const s of a)if(r.includes(s))return!0;return!1},nA=(r,t,n)=>{if(!r)return!1;const a=r[t];if(!a)return!1;if(n&&"submenus"in a&&a.submenus){const s=a.submenus[n];return s?s.visible:!1}return a.visible},B_=C.createContext({user:null,loading:!0,permissions:[],permissionsLoading:!1,permissionsReady:!0,login:async()=>{throw new Error("AuthProvider is not mounted")},sendOTP:async()=>{throw new Error("AuthProvider is not mounted")},verifyOTP:async()=>{throw new Error("AuthProvider is not mounted")},logout:()=>{},createUser:async()=>{throw new Error("AuthProvider is not mounted")},hasRole:()=>!1}),Bp="mw-auth-user",DA="mw-auth-permissions",oR=({children:r})=>{const[t,n]=C.useState(null),[a,s]=C.useState(!0),[i,c]=C.useState([]),[o,d]=C.useState(!1),[l,u]=C.useState(!0);C.useEffect(()=>{(()=>{try{const S=localStorage.getItem(Bp);if(S){const w=JSON.parse(S);w&&w.id&&w.token&&w.token.trim()!==""?w.token.split(".").length===3?(n(w),c([]),u(!1),d(!0)):(console.warn("Invalid token format in storage"),localStorage.removeItem(Bp),localStorage.removeItem(DA),n(null),c([])):(console.warn("Invalid user data in storage"),localStorage.removeItem(Bp),n(null),localStorage.removeItem(DA),c([]))}else n(null),c([]),u(!0)}catch(S){console.error("Error loading user from storage:",S),localStorage.removeItem(Bp),n(null),localStorage.removeItem(DA),c([]),u(!0)}finally{s(!1)}})()},[]);const h=C.useCallback(b=>{if(n(b),b){try{localStorage.setItem(Bp,JSON.stringify(b))}catch(S){console.error("Error saving user to storage:",S)}c([]),u(!1),d(!0);try{localStorage.removeItem(DA)}catch{}}else{try{localStorage.removeItem(Bp)}catch(S){console.error("Error removing user from storage:",S)}try{localStorage.removeItem(DA)}catch{}c([]),u(!0),d(!1)}},[]);C.useEffect(()=>{(async()=>{if(!(t!=null&&t.token)){c([]),d(!1),u(!0);return}u(!1),d(!0);try{const S=await iR(t.token);c(S||[]);try{const w={userId:t.id,permissions:S||[]};localStorage.setItem(DA,JSON.stringify(w))}catch{}}catch{c([]);try{localStorage.removeItem(DA)}catch{}}finally{d(!1),u(!0)}})()},[t==null?void 0:t.token]);const f=C.useCallback(async(b,S)=>{s(!0);try{const w=await nR(b,S);if(w.requiresOTP)return h(null),{requiresOTP:!0,email:w.email};if(w.user)return h(w.user),{requiresOTP:!1};throw new Error("Login failed")}finally{s(!1)}},[h]),A=C.useCallback(async b=>{s(!0);try{await S_(b)}finally{s(!1)}},[]),g=C.useCallback(async(b,S)=>{s(!0);try{const w=await aR(b,S);h(w)}finally{s(!1)}},[h]),m=C.useCallback(()=>{h(null)},[h]),x=C.useCallback(async b=>{if(!t)throw new Error("Unauthorized");s(!0);try{return await sR(b,t.token)}finally{s(!1)}},[t]),y=C.useCallback(b=>{const S=Array.isArray(b)?b:[b];return!!(t!=null&&t.roles.some(w=>S.includes(w)))},[t]),j=C.useMemo(()=>({user:t,loading:a,permissions:i,permissionsLoading:o,permissionsReady:l,login:f,sendOTP:A,verifyOTP:g,logout:m,createUser:x,hasRole:y}),[t,a,i,o,l,f,A,g,m,x,y]);return e.jsx(B_.Provider,{value:j,children:r})},I_=()=>C.useContext(B_),Yn=()=>I_(),YS=({children:r})=>{const{user:t,logout:n}=Yn(),{pathname:a}=jn();return e.jsxs("div",{className:"app-shell",children:[e.jsxs("header",{className:"app-shell__header",children:[e.jsxs(Hr,{to:"/",className:"brand",children:["MediWaste",e.jsx("span",{className:"brand__tag",children:"Control"})]}),e.jsx("nav",{className:"app-shell__nav",children:t?e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"nav__user",children:[t.name,e.jsx("small",{children:t.roles.join(", ")})]}),e.jsx(Hr,{to:"/dashboard",className:a==="/dashboard"?"active":"",children:"Dashboard"}),e.jsx("button",{className:"ghost logout-btn",onClick:n,type:"button",children:"Logout"})]}):e.jsxs(e.Fragment,{children:[e.jsx(Hr,{to:"/login",className:a.startsWith("/login")?"active":"",children:"Login"}),e.jsx(Hr,{to:"/users/new",className:a.startsWith("/users")?"active":"",children:"Create User"})]})})]}),e.jsx("main",{className:"app-shell__body",children:r})]})},An=({roles:r,children:t})=>{const{user:n,loading:a,permissions:s,permissionsLoading:i,permissionsReady:c}=Yn(),o=jn();if(a||i||!c)return e.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",flexDirection:"column",gap:"16px"},children:[e.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid #2d3748",borderRadius:"50%",animation:"spin 1s linear infinite"}}),e.jsx("style",{children:`
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
        `}),e.jsx("p",{style:{color:"#666",fontSize:"14px"},children:"Loading..."})]});if(!n)return e.jsx(Jp,{to:"/login",replace:!0,state:{from:o}});const d=Array.isArray(s)?s:[];if(o.pathname!=="/not-authorized"&&d.length===0)return e.jsx(Jp,{to:"/not-authorized",replace:!0,state:{from:o.pathname}});const l=Array.isArray(n.roles)?n.roles:[];return r&&r.length>0&&!l.some(u=>r.includes(u))?e.jsx(Jp,{to:"/login",replace:!0}):e.jsx(e.Fragment,{children:t})},lR=C.createContext(void 0),cR=({children:r,user:t})=>{var u,h;const[n,a]=C.useState({enabled:!1,previewRole:null,originalRole:((u=t==null?void 0:t.roles)==null?void 0:u[0])||"viewer"}),s=C.useCallback(f=>{a(f)},[]),i=C.useCallback((f,A)=>{a({enabled:!0,previewRole:f,originalRole:A})},[]),c=C.useCallback(()=>{a(f=>({enabled:!1,previewRole:null,originalRole:f.originalRole}))},[]),o=n.enabled,d=n.enabled&&n.previewRole?n.previewRole:((h=t==null?void 0:t.roles)==null?void 0:h[0])||"viewer",l={previewMode:n,setPreviewMode:s,startPreview:i,exitPreview:c,isPreviewMode:o,currentRole:d,user:t};return e.jsx(lR.Provider,{value:l,children:r})},dR=()=>{const{login:r,verifyOTP:t,loading:n,user:a}=Yn(),s=qa(),i=jn(),[c,o]=C.useState(""),[d,l]=C.useState(""),[u,h]=C.useState(!1),[f,A]=C.useState(!1),[g,m]=C.useState(null),[x,y]=C.useState(!1),[j,b]=C.useState(""),[S,w]=C.useState(["","","","","",""]),[E,I]=C.useState(0);if(C.useEffect(()=>(document.body.classList.add("login-page-active"),document.documentElement.classList.add("login-page-active"),()=>{document.body.classList.remove("login-page-active"),document.documentElement.classList.remove("login-page-active")}),[]),C.useEffect(()=>{var me,$;if(a&&!n){const ee=($=(me=i.state)==null?void 0:me.from)==null?void 0:$.pathname;s(ee||"/dashboard",{replace:!0})}},[a,n,s,i]),C.useEffect(()=>{if(E>0){const me=setTimeout(()=>I(E-1),1e3);return()=>clearTimeout(me)}},[E]),n)return e.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",flexDirection:"column",gap:"16px"},children:[e.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid #2d3748",borderRadius:"50%",animation:"spin 1s linear infinite"}}),e.jsx("style",{children:`
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
        `}),e.jsx("p",{style:{color:"#666",fontSize:"14px"},children:"Loading..."})]});const L=me=>{if(!me||me.trim().length===0)return!1;const $=/^[a-zA-Z0-9_-]+$/,ee=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return $.test(me.trim())||ee.test(me.trim())},J=async me=>{var $,ee;if(me.preventDefault(),m(null),!L(c)){m("Please enter a valid username or email address");return}if(!d||d.trim().length===0){m("Please enter your password");return}try{const we=await r(c.trim(),d);if(we.requiresOTP&&we.email)b(we.email),y(!0),I(60);else{const R=(ee=($=i.state)==null?void 0:$.from)==null?void 0:ee.pathname;s(R||"/dashboard",{replace:!0})}}catch(we){m(we.message||"Invalid credentials. Please check your username and password.")}},ae=(me,$)=>{if($.length>1)return;const ee=[...S];if(ee[me]=$,w(ee),$&&me<5){const we=document.getElementById(`otp-input-${me+1}`);we==null||we.focus()}},G=(me,$)=>{if($.key==="Backspace"&&!S[me]&&me>0){const ee=document.getElementById(`otp-input-${me-1}`);ee==null||ee.focus()}},le=async me=>{var ee,we,R;me.preventDefault(),m(null);const $=S.join("");if($.length!==6){m("Please enter a valid 6-digit OTP");return}try{await t(j,$);const q=(we=(ee=i.state)==null?void 0:ee.from)==null?void 0:we.pathname;s(q||"/dashboard",{replace:!0})}catch(q){m(q.message||"Invalid OTP"),w(["","","","","",""]),(R=document.getElementById("otp-input-0"))==null||R.focus()}},V=async()=>{if(!(E>0)){m(null);try{await r(c,d),I(60),w(["","","","","",""])}catch(me){m(me.message||"Failed to resend OTP")}}};return e.jsx("div",{className:"login-page-template",children:e.jsxs("div",{className:"login-template-wrapper",children:[e.jsxs("div",{className:"login-left-panel",children:[e.jsxs("div",{className:"left-panel-header",children:[e.jsx("h1",{className:"left-panel-title",children:"Medi Waste Management System"}),e.jsx("p",{className:"left-panel-subtitle",children:"Streamlined healthcare waste tracking and compliance"})]}),e.jsx("div",{className:"left-panel-image-container",children:e.jsx("img",{src:"/waste-segregation-infographic.png",alt:"Waste Segregation Infographic - Segregation of Solid Bio-Medical Waste",className:"left-panel-image",onError:me=>{const $=me.target;$.style.display="none";const ee=$.parentElement;if(ee&&!ee.querySelector(".image-placeholder")){const we=document.createElement("div");we.className="image-placeholder",we.innerHTML=`
                    <div style="color: #cbd5e0; text-align: center; padding: 40px;">
                      <p style="font-size: 18px; margin-bottom: 16px;">Waste Segregation Infographic</p>
                      <p style="font-size: 14px; color: #94a3b8;">Please add the image file:</p>
                      <p style="font-size: 12px; color: #718096; margin-top: 8px;">frontend/public/waste-segregation-infographic.png</p>
                    </div>
                  `,ee.appendChild(we)}}})})]}),e.jsx("div",{className:"login-right-panel",children:e.jsxs("div",{className:"login-form-wrapper",children:[e.jsx("h2",{className:"login-form-title",children:x?"Verify OTP":"Log in"}),x?e.jsxs("form",{className:"login-form otp-form-inline",onSubmit:le,children:[e.jsx("div",{className:"otp-instruction",children:j.toLowerCase()==="superadmin@medi-waste.io"||j.toLowerCase()==="superadmin"?e.jsx("p",{children:"Use your configured SuperAdmin OTP."}):e.jsx("p",{children:"We've sent a 6-digit code to your email. Please enter it below."})}),e.jsx("div",{className:"otp-inputs-row",children:S.map((me,$)=>e.jsx("input",{id:`otp-input-${$}`,type:"text",inputMode:"numeric",maxLength:1,className:"otp-input-inline",value:me,onChange:ee=>ae($,ee.target.value),onKeyDown:ee=>G($,ee),autoFocus:$===0,disabled:n},$))}),g&&e.jsx("div",{className:"error-message",children:g}),e.jsx("button",{type:"submit",className:"login-button",disabled:n||S.some(me=>!me),children:n?"Verifying...":"Verify OTP"}),e.jsx("div",{className:"otp-resend-inline",children:e.jsxs("p",{className:"otp-resend-text",children:["Didn't receive the code?"," ",E>0?e.jsxs("span",{className:"otp-timer",children:["Resend in ",E,"s"]}):e.jsx("button",{type:"button",className:"otp-resend-link",onClick:V,children:"Resend OTP"})]})})]}):e.jsxs("form",{className:"login-form",onSubmit:J,children:[e.jsx("div",{className:"form-field",children:e.jsxs("div",{className:"input-wrapper-icon",children:[e.jsxs("svg",{className:"input-icon-left",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("input",{id:"username",type:"text",className:"form-input-with-icon",placeholder:"Username or Email",value:c,onChange:me=>{o(me.target.value),m(null)},required:!0,disabled:x,autoComplete:"username","aria-label":"Username or Email"})]})}),e.jsx("div",{className:"form-field",children:e.jsxs("div",{className:"input-wrapper-icon",children:[e.jsxs("svg",{className:"input-icon-left",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),e.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),e.jsx("input",{id:"password",type:f?"text":"password",className:"form-input-with-icon",placeholder:"Password",value:d,onChange:me=>{l(me.target.value),m(null)},required:!0,disabled:x,autoComplete:"current-password","aria-label":"Password"}),e.jsx("button",{type:"button",className:"password-eye-toggle",onClick:()=>A(!f),disabled:x,children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f?e.jsxs(e.Fragment,{children:[e.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),e.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):e.jsxs(e.Fragment,{children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})})]})}),e.jsxs("div",{className:"form-options-row",children:[e.jsxs("label",{className:"remember-me-label",children:[e.jsx("input",{type:"checkbox",checked:u,onChange:me=>h(me.target.checked),disabled:x}),e.jsx("span",{children:"Remember Me"})]}),e.jsx(Hr,{to:"/forgot-password",className:"forgot-password-link",children:"Forgot Password?"})]}),g&&e.jsx("div",{className:"error-message",children:g}),e.jsx("button",{type:"submit",className:"login-button",disabled:n||x,children:n?"Logging in...":"Log in"})]})]})})]})})},uR=()=>{const{sendOTP:r,verifyOTP:t,loading:n}=Yn(),a=qa(),s=jn(),[i,c]=C.useState(["","","","","",""]),[o,d]=C.useState(null),[l,u]=C.useState(0),[h,f]=C.useState("");C.useEffect(()=>{var j;const y=(j=s.state)==null?void 0:j.email;y?(f(y),u(60)):a("/login",{replace:!0})},[s,a]),C.useEffect(()=>{if(l>0){const y=setTimeout(()=>u(l-1),1e3);return()=>clearTimeout(y)}},[l]);const A=(y,j)=>{if(j.length>1)return;const b=[...i];if(b[y]=j,c(b),j&&y<5){const S=document.getElementById(`otp-${y+1}`);S==null||S.focus()}},g=(y,j)=>{if(j.key==="Backspace"&&!i[y]&&y>0){const b=document.getElementById(`otp-${y-1}`);b==null||b.focus()}},m=async()=>{if(!(l>0)){d(null);try{await r(h),u(60),c(["","","","","",""])}catch(y){d(y.message||"Failed to resend OTP")}}},x=async y=>{var b,S,w;y.preventDefault(),d(null);const j=i.join("");if(j.length!==6){d("Please enter a valid 6-digit OTP");return}try{await t(h,j);const E=(S=(b=s.state)==null?void 0:b.from)==null?void 0:S.pathname;a(E||"/dashboard",{replace:!0})}catch(E){d(E.message||"Invalid OTP"),c(["","","","","",""]),(w=document.getElementById("otp-0"))==null||w.focus()}};return e.jsx("div",{className:"otp-verification-page",children:e.jsxs("div",{className:"otp-verification-container",children:[e.jsxs("div",{className:"otp-header",children:[e.jsx("h2",{className:"otp-title",children:"Verify Your Email"}),e.jsx("p",{className:"otp-subtitle",children:h.toLowerCase()==="superadmin@medi-waste.io"||h.toLowerCase()==="superadmin"?e.jsx(e.Fragment,{children:"Use your configured SuperAdmin OTP."}):e.jsx(e.Fragment,{children:"We've sent a 6-digit code to your email. Please enter it below."})})]}),e.jsxs("form",{className:"otp-form",onSubmit:x,children:[e.jsx("div",{className:"otp-inputs-container",children:i.map((y,j)=>e.jsx("input",{id:`otp-${j}`,type:"text",inputMode:"numeric",maxLength:1,className:"otp-input",value:y,onChange:b=>A(j,b.target.value),onKeyDown:b=>g(j,b),autoFocus:j===0,disabled:n},j))}),o&&e.jsx("div",{className:"otp-error",children:o}),e.jsx("button",{type:"submit",className:"otp-submit-button",disabled:n||i.some(y=>!y),children:n?"Verifying...":"Verify OTP"}),e.jsx("div",{className:"otp-resend",children:e.jsxs("p",{className:"otp-resend-text",children:["Didn't receive the code?"," ",l>0?e.jsxs("span",{className:"otp-timer",children:["Resend in ",l,"s"]}):e.jsx("button",{type:"button",className:"otp-resend-button",onClick:m,children:"Resend OTP"})]})})]})]})})},hR="http://localhost:3000/api/v1",fR=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},Ip=async(r,t={})=>{const n=fR(),a=`${hR}${r}`,s={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers};try{const i=await fetch(a,{...t,headers:s});if(!i.ok){let o=`HTTP ${i.status}: ${i.statusText}`;try{const d=await i.text();if(d){const l=JSON.parse(d);Array.isArray(l.message)?o=l.message.join(", "):typeof l.message=="string"&&(o=l.message)}}catch{}throw new Error(o)}return i.status===204?{}:await i.json()}catch(i){throw i instanceof TypeError&&i.message==="Failed to fetch"?console.error("[dashboardService] Network error - Backend server may not be running:",{url:a,error:i.message,hint:"Please ensure the backend server is running on http://localhost:3000"}):console.error("[dashboardService] Request failed:",{url:a,error:i instanceof Error?i.message:String(i)}),i}},YA={getDashboardConfig:async r=>{try{const n=(await Ip(`/dashboard/config/${r}`)).data||{};let a=[];Array.isArray(n.widgets)?a=n.widgets.filter(c=>!(!c||Array.isArray(c)||typeof c!="object")):n.widgets&&typeof n.widgets=="object"&&!Array.isArray(n.widgets)&&(a=[n.widgets]);const s=Array.isArray(n.menuItems)?n.menuItems:[],i=n.permissions&&typeof n.permissions=="object"?n.permissions:{};return{role:n.role||r,widgets:a,menuItems:s,permissions:i}}catch(t){return console.error("[dashboardService] Failed to fetch dashboard config:",t),JS(r)}},getUserOverrides:async r=>{try{return(await Ip(`/dashboard/user-overrides/${r}`)).data}catch(t){return console.error("[dashboardService] Failed to fetch user overrides:",t),null}},computePermissions:(r,t)=>{const n={...r.permissions},a=[...r.menuItems],s=[...r.widgets];t&&(Object.entries(t.permissions).forEach(([l,u])=>{n[l]=u}),t.menuOverrides&&a.forEach(l=>{t.menuOverrides[l.id]!==void 0&&(l.visible=t.menuOverrides[l.id])}),t.widgetOverrides&&s.forEach(l=>{if(t.widgetOverrides[l.id]!==void 0){const u=s.indexOf(l);!t.widgetOverrides[l.id]&&u!==-1&&s.splice(u,1)}}));const i=!!n["*"],c=l=>l.filter(u=>!(!u.visible||!i&&u.permission&&!n[u.permission])).map(u=>{if(u.children&&u.children.length>0){const h=c(u.children);return{...u,children:h.length>0?h:void 0}}return u}),o=c(a),d=s.filter(l=>{var u;return!(!i&&((u=l.permissions)!=null&&u.view)&&!n[l.permissions.view])});return{permissions:n,menuItems:o,widgets:d}},getAvailableRoles:async()=>{try{return(await Ip("/dashboard/roles")).data}catch(r){return console.error("[dashboardService] Failed to fetch roles:",r),[]}},getCatalog:async()=>{try{return(await Ip("/dashboard/catalog")).data}catch(r){return console.error("[dashboardService] Failed to fetch catalog:",r),{kpis:[],charts:[],tables:[],tasks:[],alerts:[]}}},saveDashboardConfig:async r=>{try{const t=JSON.stringify(r);return(await Ip("/dashboard/config",{method:"POST",body:t})).data}catch(t){throw console.error("[dashboardService] Failed to save dashboard config:",t),console.error("[dashboardService] Error details:",{message:t==null?void 0:t.message,stack:t==null?void 0:t.stack,config:r}),t}},getDashboardConfigByTarget:async r=>{try{return(await Ip(`/dashboard/config?target=${encodeURIComponent(r)}`)).data}catch(t){return console.error("[dashboardService] Failed to fetch dashboard config:",t),JS(r)}}};function JS(r){return r==="superadmin"?{role:r,widgets:[{id:"metric-total-invoices",type:"metric",title:"Total Invoices",gridColumn:1,dataSource:{endpoint:"/dashboard/kpi/total-invoices"},props:{unit:"",label:"Total count"}},{id:"metric-pending-invoices",type:"metric",title:"Pending Invoices",gridColumn:1,dataSource:{endpoint:"/dashboard/kpi/pending-invoices"},props:{unit:"",label:"Pending approval"}},{id:"metric-total-revenue",type:"metric",title:"Total Revenue",gridColumn:1,dataSource:{endpoint:"/dashboard/kpi/total-revenue"},props:{unit:"INR",label:"Total revenue"}},{id:"metric-pending-payments",type:"metric",title:"Pending Payments",gridColumn:1,dataSource:{endpoint:"/dashboard/kpi/pending-payments"},props:{unit:"",label:"Pending count"}},{id:"chart-monthly-revenue",type:"chart",title:"Monthly Revenue",gridColumn:2,gridRow:1,chartConfig:{type:"line",xAxis:"month",yAxis:"revenue"},dataSource:{endpoint:"/dashboard/chart/monthly-revenue"}},{id:"table-recent-invoices",type:"table",title:"Recent Invoices",gridColumn:2,gridRow:1,dataSource:{endpoint:"/dashboard/table/recent-invoices"},props:{maxRows:10}},{id:"approval-queue",type:"approval-queue",title:"Pending Approvals",gridColumn:2,dataSource:{endpoint:"/dashboard/tasks/pending-approvals"},permissions:{view:"APPROVAL_VIEW",actions:{approve:"APPROVAL_APPROVE",view:"APPROVAL_VIEW"}}}],menuItems:[{id:"dashboard",label:"Dashboard",path:"/dashboard",icon:"dashboard",visible:!0},{id:"transaction",label:"Transaction",path:"/transaction",icon:"transaction",visible:!0,children:[{id:"barcode",label:"Barcode Generation",path:"/transaction/barcode-generation",icon:"barcode",visible:!0}]},{id:"finance",label:"Finance",path:"/finance",icon:"finance",visible:!0,children:[{id:"invoice",label:"Invoice Management",path:"/finance/invoice-management",icon:"invoice",visible:!0},{id:"payment",label:"Payment",path:"/finance/payment",icon:"payment",visible:!0},{id:"receipt",label:"Receipt Management",path:"/finance/receipt-management",icon:"receipt",visible:!0},{id:"balance",label:"Financial Balance",path:"/finance/financial-balance-summary",icon:"balance",visible:!0}]},{id:"commercial",label:"Commercial / Agreements",path:"/commercial-agreements",icon:"commercial",visible:!0},{id:"compliance",label:"Compliance & Training",path:"/compliance-training",icon:"compliance",visible:!0},{id:"master",label:"Master",path:"/master",icon:"master",visible:!0},{id:"report",label:"Reports",path:"/report",icon:"report",visible:!0}],permissions:{"*":!0}}:{role:r,widgets:[],menuItems:[{id:"dashboard",label:"Dashboard",path:"/dashboard",icon:"dashboard",visible:!0}],permissions:{}}}const l0="http://localhost:3000/api/v1",AR=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},Hx=async(r,t={})=>{const n=AR();let a;r.startsWith("http")?a=r:r.startsWith("/api/v1")?a=`${l0.endsWith("/api/v1")?l0.replace("/api/v1",""):l0.split("/api/v1")[0]||"http://localhost:3000"}${r}`:a=`${l0}${r}`;const s={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers};try{const i=await fetch(a,{...t,headers:s});if(!i.ok){let o=`HTTP ${i.status}: ${i.statusText}`;try{const d=await i.text();if(d){const l=JSON.parse(d);Array.isArray(l.message)?o=l.message.join(", "):typeof l.message=="string"&&(o=l.message)}}catch{}throw new Error(o)}return i.status===204?{}:await i.json()}catch(i){throw console.error("[widgetDataService] Request failed:",i),i}},pR=async r=>{try{console.log("[widgetDataService] Fetching KPI from endpoint:",r);const t=await Hx(r);console.log("[widgetDataService] Raw API response:",t);let n;t&&typeof t=="object"?t.success!==void 0&&t.data?n=t.data:t.value!==void 0||t.label!==void 0?n=t:t.data&&(t.data.value!==void 0||t.data.label!==void 0)?n=t.data:n=t:(console.warn("[widgetDataService] Unexpected response format:",t),n={}),console.log("[widgetDataService] Extracted KPI data:",n);const a=typeof n.value=="number"?n.value:n.value!==void 0&&n.value!==null&&n.value!==""&&parseFloat(String(n.value))||0,s=n.trend!==void 0&&n.trend!==null?{value:Math.abs(Number(n.trend)),isPositive:Number(n.trend)>=0,period:"vs previous period"}:void 0,i={value:a,unit:n.unit||(n.format==="currency"?"INR":""),label:n.label||"",trend:s};return console.log("[widgetDataService] Final mapped KPI result:",i),i}catch(t){return console.error("[widgetDataService] Failed to fetch KPI data:",t),console.error("[widgetDataService] Endpoint:",r),console.error("[widgetDataService] Error details:",{message:t==null?void 0:t.message,stack:t==null?void 0:t.stack}),{value:0,unit:"",label:""}}},mR=async r=>{try{const n=(await Hx(r)).data;return n.labels&&n.data?{labels:n.labels,data:n.labels.map((a,s)=>({label:a,value:n.data[s]||0}))}:Array.isArray(n)?{data:n}:{data:[n]}}catch(t){throw console.error("[widgetDataService] Failed to fetch chart data:",t),t}},gR=async r=>{try{const n=(await Hx(r)).data;return n.columns&&n.rows?{columns:n.columns.map(a=>({key:a,label:a})),data:n.rows.map(a=>{const s={};return n.columns.forEach(i=>{s[i]=a[i]||""}),s})}:{columns:[],data:[]}}catch(t){throw console.error("[widgetDataService] Failed to fetch table data:",t),t}},vR=async r=>{try{const n=(await Hx(r)).data;return Array.isArray(n)?r.includes("task")||r.includes("approval")?{tasks:n,items:n}:r.includes("alert")?{alerts:n}:r.includes("activity")||r.includes("timeline")?{activities:n}:{tasks:n}:{}}catch(t){throw console.error("[widgetDataService] Failed to fetch task data:",t),t}},xR=async r=>{var t;if(!((t=r.dataSource)!=null&&t.endpoint))return null;try{switch(r.type){case"metric":return await pR(r.dataSource.endpoint);case"chart":return await mR(r.dataSource.endpoint);case"table":return await gR(r.dataSource.endpoint);case"task-list":case"approval-queue":case"activity-timeline":case"alert":return await vR(r.dataSource.endpoint);default:return console.warn(`Unknown widget type: ${r.type}`),null}}catch(n){throw console.error(`[widgetDataService] Failed to fetch data for widget type ${r.type}:`,n),n}},yR=({title:r,value:t,unit:n,label:a,trend:s,loading:i=!1})=>i?e.jsx("div",{className:"widget-panel widget-panel--metric",children:e.jsxs("div",{className:"widget-panel__skeleton",children:[e.jsx("div",{className:"skeleton-line skeleton-line--title"}),e.jsx("div",{className:"skeleton-line skeleton-line--value"})]})}):e.jsxs("div",{className:"widget-panel widget-panel--metric",children:[e.jsx("div",{className:"widget-panel__header",children:e.jsx("h3",{className:"widget-panel__title",children:r})}),e.jsxs("div",{className:"widget-panel__body",children:[e.jsxs("div",{className:"metric-value",children:[typeof t=="number"?t.toLocaleString():t,n&&e.jsx("span",{className:"metric-unit",children:n})]}),a&&e.jsx("div",{className:"metric-label",children:a}),s&&e.jsxs("div",{className:`metric-trend metric-trend--${s.isPositive?"positive":"negative"}`,children:[e.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s.isPositive?e.jsx("polyline",{points:"18 15 12 9 6 15"}):e.jsx("polyline",{points:"6 9 12 15 18 9"})}),e.jsxs("span",{children:[Math.abs(s.value),"%"]}),s.period&&e.jsx("span",{className:"metric-trend-period",children:s.period})]})]})]});function T_(r){var t,n,a="";if(typeof r=="string"||typeof r=="number")a+=r;else if(typeof r=="object")if(Array.isArray(r)){var s=r.length;for(t=0;t<s;t++)r[t]&&(n=T_(r[t]))&&(a&&(a+=" "),a+=n)}else for(n in r)r[n]&&(a&&(a+=" "),a+=n);return a}function Cs(){for(var r,t,n=0,a="",s=arguments.length;n<s;n++)(r=arguments[n])&&(t=T_(r))&&(a&&(a+=" "),a+=t);return a}var M2,ZS;function Qd(){if(ZS)return M2;ZS=1;var r=Array.isArray;return M2=r,M2}var R2,eE;function k_(){if(eE)return R2;eE=1;var r=typeof ff=="object"&&ff&&ff.Object===Object&&ff;return R2=r,R2}var L2,tE;function Hh(){if(tE)return L2;tE=1;var r=k_(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=r||t||Function("return this")();return L2=n,L2}var U2,rE;function W1(){if(rE)return U2;rE=1;var r=Hh(),t=r.Symbol;return U2=t,U2}var H2,nE;function jR(){if(nE)return H2;nE=1;var r=W1(),t=Object.prototype,n=t.hasOwnProperty,a=t.toString,s=r?r.toStringTag:void 0;function i(c){var o=n.call(c,s),d=c[s];try{c[s]=void 0;var l=!0}catch{}var u=a.call(c);return l&&(o?c[s]=d:delete c[s]),u}return H2=i,H2}var Q2,aE;function bR(){if(aE)return Q2;aE=1;var r=Object.prototype,t=r.toString;function n(a){return t.call(a)}return Q2=n,Q2}var W2,sE;function Cf(){if(sE)return W2;sE=1;var r=W1(),t=jR(),n=bR(),a="[object Null]",s="[object Undefined]",i=r?r.toStringTag:void 0;function c(o){return o==null?o===void 0?s:a:i&&i in Object(o)?t(o):n(o)}return W2=c,W2}var $2,iE;function Nf(){if(iE)return $2;iE=1;function r(t){return t!=null&&typeof t=="object"}return $2=r,$2}var V2,oE;function km(){if(oE)return V2;oE=1;var r=Cf(),t=Nf(),n="[object Symbol]";function a(s){return typeof s=="symbol"||t(s)&&r(s)==n}return V2=a,V2}var z2,lE;function x4(){if(lE)return z2;lE=1;var r=Qd(),t=km(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function s(i,c){if(r(i))return!1;var o=typeof i;return o=="number"||o=="symbol"||o=="boolean"||i==null||t(i)?!0:a.test(i)||!n.test(i)||c!=null&&i in Object(c)}return z2=s,z2}var K2,cE;function pA(){if(cE)return K2;cE=1;function r(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return K2=r,K2}var G2,dE;function y4(){if(dE)return G2;dE=1;var r=Cf(),t=pA(),n="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",i="[object Proxy]";function c(o){if(!t(o))return!1;var d=r(o);return d==a||d==s||d==n||d==i}return G2=c,G2}var q2,uE;function wR(){if(uE)return q2;uE=1;var r=Hh(),t=r["__core-js_shared__"];return q2=t,q2}var X2,hE;function CR(){if(hE)return X2;hE=1;var r=wR(),t=(function(){var a=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""})();function n(a){return!!t&&t in a}return X2=n,X2}var Y2,fE;function __(){if(fE)return Y2;fE=1;var r=Function.prototype,t=r.toString;function n(a){if(a!=null){try{return t.call(a)}catch{}try{return a+""}catch{}}return""}return Y2=n,Y2}var J2,AE;function NR(){if(AE)return J2;AE=1;var r=y4(),t=CR(),n=pA(),a=__(),s=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,c=Function.prototype,o=Object.prototype,d=c.toString,l=o.hasOwnProperty,u=RegExp("^"+d.call(l).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(f){if(!n(f)||t(f))return!1;var A=r(f)?u:i;return A.test(a(f))}return J2=h,J2}var Z2,pE;function SR(){if(pE)return Z2;pE=1;function r(t,n){return t==null?void 0:t[n]}return Z2=r,Z2}var ey,mE;function Ap(){if(mE)return ey;mE=1;var r=NR(),t=SR();function n(a,s){var i=t(a,s);return r(i)?i:void 0}return ey=n,ey}var ty,gE;function Qx(){if(gE)return ty;gE=1;var r=Ap(),t=r(Object,"create");return ty=t,ty}var ry,vE;function ER(){if(vE)return ry;vE=1;var r=Qx();function t(){this.__data__=r?r(null):{},this.size=0}return ry=t,ry}var ny,xE;function BR(){if(xE)return ny;xE=1;function r(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return ny=r,ny}var ay,yE;function IR(){if(yE)return ay;yE=1;var r=Qx(),t="__lodash_hash_undefined__",n=Object.prototype,a=n.hasOwnProperty;function s(i){var c=this.__data__;if(r){var o=c[i];return o===t?void 0:o}return a.call(c,i)?c[i]:void 0}return ay=s,ay}var sy,jE;function TR(){if(jE)return sy;jE=1;var r=Qx(),t=Object.prototype,n=t.hasOwnProperty;function a(s){var i=this.__data__;return r?i[s]!==void 0:n.call(i,s)}return sy=a,sy}var iy,bE;function kR(){if(bE)return iy;bE=1;var r=Qx(),t="__lodash_hash_undefined__";function n(a,s){var i=this.__data__;return this.size+=this.has(a)?0:1,i[a]=r&&s===void 0?t:s,this}return iy=n,iy}var oy,wE;function _R(){if(wE)return oy;wE=1;var r=ER(),t=BR(),n=IR(),a=TR(),s=kR();function i(c){var o=-1,d=c==null?0:c.length;for(this.clear();++o<d;){var l=c[o];this.set(l[0],l[1])}}return i.prototype.clear=r,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=a,i.prototype.set=s,oy=i,oy}var ly,CE;function OR(){if(CE)return ly;CE=1;function r(){this.__data__=[],this.size=0}return ly=r,ly}var cy,NE;function j4(){if(NE)return cy;NE=1;function r(t,n){return t===n||t!==t&&n!==n}return cy=r,cy}var dy,SE;function Wx(){if(SE)return dy;SE=1;var r=j4();function t(n,a){for(var s=n.length;s--;)if(r(n[s][0],a))return s;return-1}return dy=t,dy}var uy,EE;function FR(){if(EE)return uy;EE=1;var r=Wx(),t=Array.prototype,n=t.splice;function a(s){var i=this.__data__,c=r(i,s);if(c<0)return!1;var o=i.length-1;return c==o?i.pop():n.call(i,c,1),--this.size,!0}return uy=a,uy}var hy,BE;function PR(){if(BE)return hy;BE=1;var r=Wx();function t(n){var a=this.__data__,s=r(a,n);return s<0?void 0:a[s][1]}return hy=t,hy}var fy,IE;function DR(){if(IE)return fy;IE=1;var r=Wx();function t(n){return r(this.__data__,n)>-1}return fy=t,fy}var Ay,TE;function MR(){if(TE)return Ay;TE=1;var r=Wx();function t(n,a){var s=this.__data__,i=r(s,n);return i<0?(++this.size,s.push([n,a])):s[i][1]=a,this}return Ay=t,Ay}var py,kE;function $x(){if(kE)return py;kE=1;var r=OR(),t=FR(),n=PR(),a=DR(),s=MR();function i(c){var o=-1,d=c==null?0:c.length;for(this.clear();++o<d;){var l=c[o];this.set(l[0],l[1])}}return i.prototype.clear=r,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=a,i.prototype.set=s,py=i,py}var my,_E;function b4(){if(_E)return my;_E=1;var r=Ap(),t=Hh(),n=r(t,"Map");return my=n,my}var gy,OE;function RR(){if(OE)return gy;OE=1;var r=_R(),t=$x(),n=b4();function a(){this.size=0,this.__data__={hash:new r,map:new(n||t),string:new r}}return gy=a,gy}var vy,FE;function LR(){if(FE)return vy;FE=1;function r(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return vy=r,vy}var xy,PE;function Vx(){if(PE)return xy;PE=1;var r=LR();function t(n,a){var s=n.__data__;return r(a)?s[typeof a=="string"?"string":"hash"]:s.map}return xy=t,xy}var yy,DE;function UR(){if(DE)return yy;DE=1;var r=Vx();function t(n){var a=r(this,n).delete(n);return this.size-=a?1:0,a}return yy=t,yy}var jy,ME;function HR(){if(ME)return jy;ME=1;var r=Vx();function t(n){return r(this,n).get(n)}return jy=t,jy}var by,RE;function QR(){if(RE)return by;RE=1;var r=Vx();function t(n){return r(this,n).has(n)}return by=t,by}var wy,LE;function WR(){if(LE)return wy;LE=1;var r=Vx();function t(n,a){var s=r(this,n),i=s.size;return s.set(n,a),this.size+=s.size==i?0:1,this}return wy=t,wy}var Cy,UE;function w4(){if(UE)return Cy;UE=1;var r=RR(),t=UR(),n=HR(),a=QR(),s=WR();function i(c){var o=-1,d=c==null?0:c.length;for(this.clear();++o<d;){var l=c[o];this.set(l[0],l[1])}}return i.prototype.clear=r,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=a,i.prototype.set=s,Cy=i,Cy}var Ny,HE;function O_(){if(HE)return Ny;HE=1;var r=w4(),t="Expected a function";function n(a,s){if(typeof a!="function"||s!=null&&typeof s!="function")throw new TypeError(t);var i=function(){var c=arguments,o=s?s.apply(this,c):c[0],d=i.cache;if(d.has(o))return d.get(o);var l=a.apply(this,c);return i.cache=d.set(o,l)||d,l};return i.cache=new(n.Cache||r),i}return n.Cache=r,Ny=n,Ny}var Sy,QE;function $R(){if(QE)return Sy;QE=1;var r=O_(),t=500;function n(a){var s=r(a,function(c){return i.size===t&&i.clear(),c}),i=s.cache;return s}return Sy=n,Sy}var Ey,WE;function VR(){if(WE)return Ey;WE=1;var r=$R(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,a=r(function(s){var i=[];return s.charCodeAt(0)===46&&i.push(""),s.replace(t,function(c,o,d,l){i.push(d?l.replace(n,"$1"):o||c)}),i});return Ey=a,Ey}var By,$E;function C4(){if($E)return By;$E=1;function r(t,n){for(var a=-1,s=t==null?0:t.length,i=Array(s);++a<s;)i[a]=n(t[a],a,t);return i}return By=r,By}var Iy,VE;function zR(){if(VE)return Iy;VE=1;var r=W1(),t=C4(),n=Qd(),a=km(),s=r?r.prototype:void 0,i=s?s.toString:void 0;function c(o){if(typeof o=="string")return o;if(n(o))return t(o,c)+"";if(a(o))return i?i.call(o):"";var d=o+"";return d=="0"&&1/o==-1/0?"-0":d}return Iy=c,Iy}var Ty,zE;function F_(){if(zE)return Ty;zE=1;var r=zR();function t(n){return n==null?"":r(n)}return Ty=t,Ty}var ky,KE;function P_(){if(KE)return ky;KE=1;var r=Qd(),t=x4(),n=VR(),a=F_();function s(i,c){return r(i)?i:t(i,c)?[i]:n(a(i))}return ky=s,ky}var _y,GE;function zx(){if(GE)return _y;GE=1;var r=km();function t(n){if(typeof n=="string"||r(n))return n;var a=n+"";return a=="0"&&1/n==-1/0?"-0":a}return _y=t,_y}var Oy,qE;function N4(){if(qE)return Oy;qE=1;var r=P_(),t=zx();function n(a,s){s=r(s,a);for(var i=0,c=s.length;a!=null&&i<c;)a=a[t(s[i++])];return i&&i==c?a:void 0}return Oy=n,Oy}var Fy,XE;function D_(){if(XE)return Fy;XE=1;var r=N4();function t(n,a,s){var i=n==null?void 0:r(n,a);return i===void 0?s:i}return Fy=t,Fy}var KR=D_();const hu=si(KR);var Py,YE;function GR(){if(YE)return Py;YE=1;function r(t){return t==null}return Py=r,Py}var qR=GR();const fs=si(qR);var Dy,JE;function XR(){if(JE)return Dy;JE=1;var r=Cf(),t=Qd(),n=Nf(),a="[object String]";function s(i){return typeof i=="string"||!t(i)&&n(i)&&r(i)==a}return Dy=s,Dy}var YR=XR();const $1=si(YR);var JR=y4();const ts=si(JR);var ZR=pA();const _m=si(ZR);var My={exports:{}},Ti={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZE;function eL(){if(ZE)return Ti;ZE=1;var r=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),c=Symbol.for("react.context"),o=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),A=Symbol.for("react.offscreen"),g;g=Symbol.for("react.module.reference");function m(x){if(typeof x=="object"&&x!==null){var y=x.$$typeof;switch(y){case r:switch(x=x.type,x){case n:case s:case a:case l:case u:return x;default:switch(x=x&&x.$$typeof,x){case o:case c:case d:case f:case h:case i:return x;default:return y}}case t:return y}}}return Ti.ContextConsumer=c,Ti.ContextProvider=i,Ti.Element=r,Ti.ForwardRef=d,Ti.Fragment=n,Ti.Lazy=f,Ti.Memo=h,Ti.Portal=t,Ti.Profiler=s,Ti.StrictMode=a,Ti.Suspense=l,Ti.SuspenseList=u,Ti.isAsyncMode=function(){return!1},Ti.isConcurrentMode=function(){return!1},Ti.isContextConsumer=function(x){return m(x)===c},Ti.isContextProvider=function(x){return m(x)===i},Ti.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===r},Ti.isForwardRef=function(x){return m(x)===d},Ti.isFragment=function(x){return m(x)===n},Ti.isLazy=function(x){return m(x)===f},Ti.isMemo=function(x){return m(x)===h},Ti.isPortal=function(x){return m(x)===t},Ti.isProfiler=function(x){return m(x)===s},Ti.isStrictMode=function(x){return m(x)===a},Ti.isSuspense=function(x){return m(x)===l},Ti.isSuspenseList=function(x){return m(x)===u},Ti.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===n||x===s||x===a||x===l||x===u||x===A||typeof x=="object"&&x!==null&&(x.$$typeof===f||x.$$typeof===h||x.$$typeof===i||x.$$typeof===c||x.$$typeof===d||x.$$typeof===g||x.getModuleId!==void 0)},Ti.typeOf=m,Ti}var eB;function tL(){return eB||(eB=1,My.exports=eL()),My.exports}var rL=tL(),Ry,tB;function M_(){if(tB)return Ry;tB=1;var r=Cf(),t=Nf(),n="[object Number]";function a(s){return typeof s=="number"||t(s)&&r(s)==n}return Ry=a,Ry}var Ly,rB;function nL(){if(rB)return Ly;rB=1;var r=M_();function t(n){return r(n)&&n!=+n}return Ly=t,Ly}var aL=nL();const V1=si(aL);var sL=M_();const iL=si(sL);var wd=function(t){return t===0?0:t>0?1:-1},JA=function(t){return $1(t)&&t.indexOf("%")===t.length-1},yn=function(t){return iL(t)&&!V1(t)},Zl=function(t){return yn(t)||$1(t)},oL=0,Om=function(t){var n=++oL;return"".concat(t||"").concat(n)},Cd=function(t,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!yn(t)&&!$1(t))return a;var i;if(JA(t)){var c=t.indexOf("%");i=n*parseFloat(t.slice(0,c))/100}else i=+t;return V1(i)&&(i=a),s&&i>n&&(i=n),i},aA=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},lL=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,a={},s=0;s<n;s++)if(!a[t[s]])a[t[s]]=!0;else return!0;return!1},du=function(t,n){return yn(t)&&yn(n)?function(a){return t+a*(n-t)}:function(){return n}};function Fv(r,t,n){return!r||!r.length?null:r.find(function(a){return a&&(typeof t=="function"?t(a):hu(a,t))===n})}function Zp(r,t){for(var n in r)if({}.hasOwnProperty.call(r,n)&&(!{}.hasOwnProperty.call(t,n)||r[n]!==t[n]))return!1;for(var a in t)if({}.hasOwnProperty.call(t,a)&&!{}.hasOwnProperty.call(r,a))return!1;return!0}function _C(r){"@babel/helpers - typeof";return _C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_C(r)}var cL=["viewBox","children"],dL=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],nB=["points","pathLength"],Uy={svg:cL,polygon:nB,polyline:nB},S4=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Pv=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(C.isValidElement(t)&&(a=t.props),!_m(a))return null;var s={};return Object.keys(a).forEach(function(i){S4.includes(i)&&(s[i]=n||function(c){return a[i](a,c)})}),s},uL=function(t,n,a){return function(s){return t(n,a,s),null}},cp=function(t,n,a){if(!_m(t)||_C(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var c=t[i];S4.includes(i)&&typeof c=="function"&&(s||(s={}),s[i]=uL(c,n,a))}),s},hL=["children"],fL=["children"];function aB(r,t){if(r==null)return{};var n=AL(r,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function AL(r,t){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(t.indexOf(a)>=0)continue;n[a]=r[a]}return n}function OC(r){"@babel/helpers - typeof";return OC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},OC(r)}var sB={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},gf=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},iB=null,Hy=null,E4=function r(t){if(t===iB&&Array.isArray(Hy))return Hy;var n=[];return C.Children.forEach(t,function(a){fs(a)||(rL.isFragment(a)?n=n.concat(r(a.props.children)):n.push(a))}),Hy=n,iB=t,n};function fu(r,t){var n=[],a=[];return Array.isArray(t)?a=t.map(function(s){return gf(s)}):a=[gf(t)],E4(r).forEach(function(s){var i=hu(s,"type.displayName")||hu(s,"type.name");a.indexOf(i)!==-1&&n.push(s)}),n}function lu(r,t){var n=fu(r,t);return n&&n[0]}var oB=function(t){if(!t||!t.props)return!1;var n=t.props,a=n.width,s=n.height;return!(!yn(a)||a<=0||!yn(s)||s<=0)},pL=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],mL=function(t){return t&&t.type&&$1(t.type)&&pL.indexOf(t.type)>=0},gL=function(t){return t&&OC(t)==="object"&&"clipDot"in t},vL=function(t,n,a,s){var i,c=(i=Uy==null?void 0:Uy[s])!==null&&i!==void 0?i:[];return!ts(t)&&(s&&c.includes(n)||dL.includes(n))||a&&S4.includes(n)},Da=function(t,n,a){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(C.isValidElement(t)&&(s=t.props),!_m(s))return null;var i={};return Object.keys(s).forEach(function(c){var o;vL((o=s)===null||o===void 0?void 0:o[c],c,n,a)&&(i[c]=s[c])}),i},FC=function r(t,n){if(t===n)return!0;var a=C.Children.count(t);if(a!==C.Children.count(n))return!1;if(a===0)return!0;if(a===1)return lB(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var s=0;s<a;s++){var i=t[s],c=n[s];if(Array.isArray(i)||Array.isArray(c)){if(!r(i,c))return!1}else if(!lB(i,c))return!1}return!0},lB=function(t,n){if(fs(t)&&fs(n))return!0;if(!fs(t)&&!fs(n)){var a=t.props||{},s=a.children,i=aB(a,hL),c=n.props||{},o=c.children,d=aB(c,fL);return s&&o?Zp(i,d)&&FC(s,o):!s&&!o?Zp(i,d):!1}return!1},cB=function(t,n){var a=[],s={};return E4(t).forEach(function(i,c){if(mL(i))a.push(i);else if(i){var o=gf(i.type),d=n[o]||{},l=d.handler,u=d.once;if(l&&(!u||!s[o])){var h=l(i,o,c);a.push(h),s[o]=!0}}}),a},xL=function(t){var n=t&&t.type;return n&&sB[n]?sB[n]:null},yL=function(t,n){return E4(n).indexOf(t)},jL=["children","width","height","viewBox","className","style","title","desc"];function PC(){return PC=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},PC.apply(this,arguments)}function bL(r,t){if(r==null)return{};var n=wL(r,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function wL(r,t){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(t.indexOf(a)>=0)continue;n[a]=r[a]}return n}function DC(r){var t=r.children,n=r.width,a=r.height,s=r.viewBox,i=r.className,c=r.style,o=r.title,d=r.desc,l=bL(r,jL),u=s||{width:n,height:a,x:0,y:0},h=Cs("recharts-surface",i);return Ct.createElement("svg",PC({},Da(l,!0,"svg"),{className:h,width:n,height:a,style:c,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),Ct.createElement("title",null,o),Ct.createElement("desc",null,d),t)}var CL=["children","className"];function MC(){return MC=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},MC.apply(this,arguments)}function NL(r,t){if(r==null)return{};var n=SL(r,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function SL(r,t){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(t.indexOf(a)>=0)continue;n[a]=r[a]}return n}var hi=Ct.forwardRef(function(r,t){var n=r.children,a=r.className,s=NL(r,CL),i=Cs("recharts-layer",a);return Ct.createElement("g",MC({className:i},Da(s,!0),{ref:t}),n)}),ph=function(t,n){for(var a=arguments.length,s=new Array(a>2?a-2:0),i=2;i<a;i++)s[i-2]=arguments[i]},Qy,dB;function EL(){if(dB)return Qy;dB=1;function r(t,n,a){var s=-1,i=t.length;n<0&&(n=-n>i?0:i+n),a=a>i?i:a,a<0&&(a+=i),i=n>a?0:a-n>>>0,n>>>=0;for(var c=Array(i);++s<i;)c[s]=t[s+n];return c}return Qy=r,Qy}var Wy,uB;function BL(){if(uB)return Wy;uB=1;var r=EL();function t(n,a,s){var i=n.length;return s=s===void 0?i:s,!a&&s>=i?n:r(n,a,s)}return Wy=t,Wy}var $y,hB;function R_(){if(hB)return $y;hB=1;var r="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",s=t+n+a,i="\\ufe0e\\ufe0f",c="\\u200d",o=RegExp("["+c+r+s+i+"]");function d(l){return o.test(l)}return $y=d,$y}var Vy,fB;function IL(){if(fB)return Vy;fB=1;function r(t){return t.split("")}return Vy=r,Vy}var zy,AB;function TL(){if(AB)return zy;AB=1;var r="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",s=t+n+a,i="\\ufe0e\\ufe0f",c="["+r+"]",o="["+s+"]",d="\\ud83c[\\udffb-\\udfff]",l="(?:"+o+"|"+d+")",u="[^"+r+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",A="\\u200d",g=l+"?",m="["+i+"]?",x="(?:"+A+"(?:"+[u,h,f].join("|")+")"+m+g+")*",y=m+g+x,j="(?:"+[u+o+"?",o,h,f,c].join("|")+")",b=RegExp(d+"(?="+d+")|"+j+y,"g");function S(w){return w.match(b)||[]}return zy=S,zy}var Ky,pB;function kL(){if(pB)return Ky;pB=1;var r=IL(),t=R_(),n=TL();function a(s){return t(s)?n(s):r(s)}return Ky=a,Ky}var Gy,mB;function _L(){if(mB)return Gy;mB=1;var r=BL(),t=R_(),n=kL(),a=F_();function s(i){return function(c){c=a(c);var o=t(c)?n(c):void 0,d=o?o[0]:c.charAt(0),l=o?r(o,1).join(""):c.slice(1);return d[i]()+l}}return Gy=s,Gy}var qy,gB;function OL(){if(gB)return qy;gB=1;var r=_L(),t=r("toUpperCase");return qy=t,qy}var FL=OL();const Kx=si(FL);function io(r){return function(){return r}}const L_=Math.cos,Dv=Math.sin,mh=Math.sqrt,Mv=Math.PI,Gx=2*Mv,RC=Math.PI,LC=2*RC,KA=1e-6,PL=LC-KA;function U_(r){this._+=r[0];for(let t=1,n=r.length;t<n;++t)this._+=arguments[t]+r[t]}function DL(r){let t=Math.floor(r);if(!(t>=0))throw new Error(`invalid digits: ${r}`);if(t>15)return U_;const n=10**t;return function(a){this._+=a[0];for(let s=1,i=a.length;s<i;++s)this._+=Math.round(arguments[s]*n)/n+a[s]}}class ML{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?U_:DL(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,a,s){this._append`Q${+t},${+n},${this._x1=+a},${this._y1=+s}`}bezierCurveTo(t,n,a,s,i,c){this._append`C${+t},${+n},${+a},${+s},${this._x1=+i},${this._y1=+c}`}arcTo(t,n,a,s,i){if(t=+t,n=+n,a=+a,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let c=this._x1,o=this._y1,d=a-t,l=s-n,u=c-t,h=o-n,f=u*u+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(f>KA)if(!(Math.abs(h*d-l*u)>KA)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let A=a-c,g=s-o,m=d*d+l*l,x=A*A+g*g,y=Math.sqrt(m),j=Math.sqrt(f),b=i*Math.tan((RC-Math.acos((m+f-x)/(2*y*j)))/2),S=b/j,w=b/y;Math.abs(S-1)>KA&&this._append`L${t+S*u},${n+S*h}`,this._append`A${i},${i},0,0,${+(h*A>u*g)},${this._x1=t+w*d},${this._y1=n+w*l}`}}arc(t,n,a,s,i,c){if(t=+t,n=+n,a=+a,c=!!c,a<0)throw new Error(`negative radius: ${a}`);let o=a*Math.cos(s),d=a*Math.sin(s),l=t+o,u=n+d,h=1^c,f=c?s-i:i-s;this._x1===null?this._append`M${l},${u}`:(Math.abs(this._x1-l)>KA||Math.abs(this._y1-u)>KA)&&this._append`L${l},${u}`,a&&(f<0&&(f=f%LC+LC),f>PL?this._append`A${a},${a},0,1,${h},${t-o},${n-d}A${a},${a},0,1,${h},${this._x1=l},${this._y1=u}`:f>KA&&this._append`A${a},${a},0,${+(f>=RC)},${h},${this._x1=t+a*Math.cos(i)},${this._y1=n+a*Math.sin(i)}`)}rect(t,n,a,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${a=+a}v${+s}h${-a}Z`}toString(){return this._}}function B4(r){let t=3;return r.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const a=Math.floor(n);if(!(a>=0))throw new RangeError(`invalid digits: ${n}`);t=a}return r},()=>new ML(t)}function I4(r){return typeof r=="object"&&"length"in r?r:Array.from(r)}function H_(r){this._context=r}H_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(r,t){switch(r=+r,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,t):this._context.moveTo(r,t);break;case 1:this._point=2;default:this._context.lineTo(r,t);break}}};function qx(r){return new H_(r)}function Q_(r){return r[0]}function W_(r){return r[1]}function $_(r,t){var n=io(!0),a=null,s=qx,i=null,c=B4(o);r=typeof r=="function"?r:r===void 0?Q_:io(r),t=typeof t=="function"?t:t===void 0?W_:io(t);function o(d){var l,u=(d=I4(d)).length,h,f=!1,A;for(a==null&&(i=s(A=c())),l=0;l<=u;++l)!(l<u&&n(h=d[l],l,d))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+r(h,l,d),+t(h,l,d));if(A)return i=null,A+""||null}return o.x=function(d){return arguments.length?(r=typeof d=="function"?d:io(+d),o):r},o.y=function(d){return arguments.length?(t=typeof d=="function"?d:io(+d),o):t},o.defined=function(d){return arguments.length?(n=typeof d=="function"?d:io(!!d),o):n},o.curve=function(d){return arguments.length?(s=d,a!=null&&(i=s(a)),o):s},o.context=function(d){return arguments.length?(d==null?a=i=null:i=s(a=d),o):a},o}function c0(r,t,n){var a=null,s=io(!0),i=null,c=qx,o=null,d=B4(l);r=typeof r=="function"?r:r===void 0?Q_:io(+r),t=typeof t=="function"?t:io(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?W_:io(+n);function l(h){var f,A,g,m=(h=I4(h)).length,x,y=!1,j,b=new Array(m),S=new Array(m);for(i==null&&(o=c(j=d())),f=0;f<=m;++f){if(!(f<m&&s(x=h[f],f,h))===y)if(y=!y)A=f,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=f-1;g>=A;--g)o.point(b[g],S[g]);o.lineEnd(),o.areaEnd()}y&&(b[f]=+r(x,f,h),S[f]=+t(x,f,h),o.point(a?+a(x,f,h):b[f],n?+n(x,f,h):S[f]))}if(j)return o=null,j+""||null}function u(){return $_().defined(s).curve(c).context(i)}return l.x=function(h){return arguments.length?(r=typeof h=="function"?h:io(+h),a=null,l):r},l.x0=function(h){return arguments.length?(r=typeof h=="function"?h:io(+h),l):r},l.x1=function(h){return arguments.length?(a=h==null?null:typeof h=="function"?h:io(+h),l):a},l.y=function(h){return arguments.length?(t=typeof h=="function"?h:io(+h),n=null,l):t},l.y0=function(h){return arguments.length?(t=typeof h=="function"?h:io(+h),l):t},l.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:io(+h),l):n},l.lineX0=l.lineY0=function(){return u().x(r).y(t)},l.lineY1=function(){return u().x(r).y(n)},l.lineX1=function(){return u().x(a).y(t)},l.defined=function(h){return arguments.length?(s=typeof h=="function"?h:io(!!h),l):s},l.curve=function(h){return arguments.length?(c=h,i!=null&&(o=c(i)),l):c},l.context=function(h){return arguments.length?(h==null?i=o=null:o=c(i=h),l):i},l}class V_{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function RL(r){return new V_(r,!0)}function LL(r){return new V_(r,!1)}const T4={draw(r,t){const n=mh(t/Mv);r.moveTo(n,0),r.arc(0,0,n,0,Gx)}},UL={draw(r,t){const n=mh(t/5)/2;r.moveTo(-3*n,-n),r.lineTo(-n,-n),r.lineTo(-n,-3*n),r.lineTo(n,-3*n),r.lineTo(n,-n),r.lineTo(3*n,-n),r.lineTo(3*n,n),r.lineTo(n,n),r.lineTo(n,3*n),r.lineTo(-n,3*n),r.lineTo(-n,n),r.lineTo(-3*n,n),r.closePath()}},z_=mh(1/3),HL=z_*2,QL={draw(r,t){const n=mh(t/HL),a=n*z_;r.moveTo(0,-n),r.lineTo(a,0),r.lineTo(0,n),r.lineTo(-a,0),r.closePath()}},WL={draw(r,t){const n=mh(t),a=-n/2;r.rect(a,a,n,n)}},$L=.8908130915292852,K_=Dv(Mv/10)/Dv(7*Mv/10),VL=Dv(Gx/10)*K_,zL=-L_(Gx/10)*K_,KL={draw(r,t){const n=mh(t*$L),a=VL*n,s=zL*n;r.moveTo(0,-n),r.lineTo(a,s);for(let i=1;i<5;++i){const c=Gx*i/5,o=L_(c),d=Dv(c);r.lineTo(d*n,-o*n),r.lineTo(o*a-d*s,d*a+o*s)}r.closePath()}},Xy=mh(3),GL={draw(r,t){const n=-mh(t/(Xy*3));r.moveTo(0,n*2),r.lineTo(-Xy*n,-n),r.lineTo(Xy*n,-n),r.closePath()}},Ru=-.5,Lu=mh(3)/2,UC=1/mh(12),qL=(UC/2+1)*3,XL={draw(r,t){const n=mh(t/qL),a=n/2,s=n*UC,i=a,c=n*UC+n,o=-i,d=c;r.moveTo(a,s),r.lineTo(i,c),r.lineTo(o,d),r.lineTo(Ru*a-Lu*s,Lu*a+Ru*s),r.lineTo(Ru*i-Lu*c,Lu*i+Ru*c),r.lineTo(Ru*o-Lu*d,Lu*o+Ru*d),r.lineTo(Ru*a+Lu*s,Ru*s-Lu*a),r.lineTo(Ru*i+Lu*c,Ru*c-Lu*i),r.lineTo(Ru*o+Lu*d,Ru*d-Lu*o),r.closePath()}};function YL(r,t){let n=null,a=B4(s);r=typeof r=="function"?r:io(r||T4),t=typeof t=="function"?t:io(t===void 0?64:+t);function s(){let i;if(n||(n=i=a()),r.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return s.type=function(i){return arguments.length?(r=typeof i=="function"?i:io(i),s):r},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:io(+i),s):t},s.context=function(i){return arguments.length?(n=i??null,s):n},s}function Rv(){}function Lv(r,t,n){r._context.bezierCurveTo((2*r._x0+r._x1)/3,(2*r._y0+r._y1)/3,(r._x0+2*r._x1)/3,(r._y0+2*r._y1)/3,(r._x0+4*r._x1+t)/6,(r._y0+4*r._y1+n)/6)}function G_(r){this._context=r}G_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Lv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(r,t){switch(r=+r,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,t):this._context.moveTo(r,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Lv(this,r,t);break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=t}};function JL(r){return new G_(r)}function q_(r){this._context=r}q_.prototype={areaStart:Rv,areaEnd:Rv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(r,t){switch(r=+r,t=+t,this._point){case 0:this._point=1,this._x2=r,this._y2=t;break;case 1:this._point=2,this._x3=r,this._y3=t;break;case 2:this._point=3,this._x4=r,this._y4=t,this._context.moveTo((this._x0+4*this._x1+r)/6,(this._y0+4*this._y1+t)/6);break;default:Lv(this,r,t);break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=t}};function ZL(r){return new q_(r)}function X_(r){this._context=r}X_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(r,t){switch(r=+r,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+r)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,a):this._context.moveTo(n,a);break;case 3:this._point=4;default:Lv(this,r,t);break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=t}};function e7(r){return new X_(r)}function Y_(r){this._context=r}Y_.prototype={areaStart:Rv,areaEnd:Rv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(r,t){r=+r,t=+t,this._point?this._context.lineTo(r,t):(this._point=1,this._context.moveTo(r,t))}};function t7(r){return new Y_(r)}function vB(r){return r<0?-1:1}function xB(r,t,n){var a=r._x1-r._x0,s=t-r._x1,i=(r._y1-r._y0)/(a||s<0&&-0),c=(n-r._y1)/(s||a<0&&-0),o=(i*s+c*a)/(a+s);return(vB(i)+vB(c))*Math.min(Math.abs(i),Math.abs(c),.5*Math.abs(o))||0}function yB(r,t){var n=r._x1-r._x0;return n?(3*(r._y1-r._y0)/n-t)/2:t}function Yy(r,t,n){var a=r._x0,s=r._y0,i=r._x1,c=r._y1,o=(i-a)/3;r._context.bezierCurveTo(a+o,s+o*t,i-o,c-o*n,i,c)}function Uv(r){this._context=r}Uv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Yy(this,this._t0,yB(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(r,t){var n=NaN;if(r=+r,t=+t,!(r===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(r,t):this._context.moveTo(r,t);break;case 1:this._point=2;break;case 2:this._point=3,Yy(this,yB(this,n=xB(this,r,t)),n);break;default:Yy(this,this._t0,n=xB(this,r,t));break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=t,this._t0=n}}};function J_(r){this._context=new Z_(r)}(J_.prototype=Object.create(Uv.prototype)).point=function(r,t){Uv.prototype.point.call(this,t,r)};function Z_(r){this._context=r}Z_.prototype={moveTo:function(r,t){this._context.moveTo(t,r)},closePath:function(){this._context.closePath()},lineTo:function(r,t){this._context.lineTo(t,r)},bezierCurveTo:function(r,t,n,a,s,i){this._context.bezierCurveTo(t,r,a,n,i,s)}};function r7(r){return new Uv(r)}function n7(r){return new J_(r)}function eO(r){this._context=r}eO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var r=this._x,t=this._y,n=r.length;if(n)if(this._line?this._context.lineTo(r[0],t[0]):this._context.moveTo(r[0],t[0]),n===2)this._context.lineTo(r[1],t[1]);else for(var a=jB(r),s=jB(t),i=0,c=1;c<n;++i,++c)this._context.bezierCurveTo(a[0][i],s[0][i],a[1][i],s[1][i],r[c],t[c]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(r,t){this._x.push(+r),this._y.push(+t)}};function jB(r){var t,n=r.length-1,a,s=new Array(n),i=new Array(n),c=new Array(n);for(s[0]=0,i[0]=2,c[0]=r[0]+2*r[1],t=1;t<n-1;++t)s[t]=1,i[t]=4,c[t]=4*r[t]+2*r[t+1];for(s[n-1]=2,i[n-1]=7,c[n-1]=8*r[n-1]+r[n],t=1;t<n;++t)a=s[t]/i[t-1],i[t]-=a,c[t]-=a*c[t-1];for(s[n-1]=c[n-1]/i[n-1],t=n-2;t>=0;--t)s[t]=(c[t]-s[t+1])/i[t];for(i[n-1]=(r[n]+s[n-1])/2,t=0;t<n-1;++t)i[t]=2*r[t+1]-s[t+1];return[s,i]}function a7(r){return new eO(r)}function Xx(r,t){this._context=r,this._t=t}Xx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(r,t){switch(r=+r,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,t):this._context.moveTo(r,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(r,t);else{var n=this._x*(1-this._t)+r*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=r,this._y=t}};function s7(r){return new Xx(r,.5)}function i7(r){return new Xx(r,0)}function o7(r){return new Xx(r,1)}function rm(r,t){if((c=r.length)>1)for(var n=1,a,s,i=r[t[0]],c,o=i.length;n<c;++n)for(s=i,i=r[t[n]],a=0;a<o;++a)i[a][1]+=i[a][0]=isNaN(s[a][1])?s[a][0]:s[a][1]}function HC(r){for(var t=r.length,n=new Array(t);--t>=0;)n[t]=t;return n}function l7(r,t){return r[t]}function c7(r){const t=[];return t.key=r,t}function d7(){var r=io([]),t=HC,n=rm,a=l7;function s(i){var c=Array.from(r.apply(this,arguments),c7),o,d=c.length,l=-1,u;for(const h of i)for(o=0,++l;o<d;++o)(c[o][l]=[0,+a(h,c[o].key,l,i)]).data=h;for(o=0,u=I4(t(c));o<d;++o)c[u[o]].index=o;return n(c,u),c}return s.keys=function(i){return arguments.length?(r=typeof i=="function"?i:io(Array.from(i)),s):r},s.value=function(i){return arguments.length?(a=typeof i=="function"?i:io(+i),s):a},s.order=function(i){return arguments.length?(t=i==null?HC:typeof i=="function"?i:io(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(n=i??rm,s):n},s}function u7(r,t){if((a=r.length)>0){for(var n,a,s=0,i=r[0].length,c;s<i;++s){for(c=n=0;n<a;++n)c+=r[n][s][1]||0;if(c)for(n=0;n<a;++n)r[n][s][1]/=c}rm(r,t)}}function h7(r,t){if((s=r.length)>0){for(var n=0,a=r[t[0]],s,i=a.length;n<i;++n){for(var c=0,o=0;c<s;++c)o+=r[c][n][1]||0;a[n][1]+=a[n][0]=-o/2}rm(r,t)}}function f7(r,t){if(!(!((c=r.length)>0)||!((i=(s=r[t[0]]).length)>0))){for(var n=0,a=1,s,i,c;a<i;++a){for(var o=0,d=0,l=0;o<c;++o){for(var u=r[t[o]],h=u[a][1]||0,f=u[a-1][1]||0,A=(h-f)/2,g=0;g<o;++g){var m=r[t[g]],x=m[a][1]||0,y=m[a-1][1]||0;A+=x-y}d+=h,l+=A*h}s[a-1][1]+=s[a-1][0]=n,d&&(n-=l/d)}s[a-1][1]+=s[a-1][0]=n,rm(r,t)}}function l1(r){"@babel/helpers - typeof";return l1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l1(r)}var A7=["type","size","sizeType"];function QC(){return QC=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},QC.apply(this,arguments)}function bB(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function wB(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bB(Object(n),!0).forEach(function(a){p7(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):bB(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function p7(r,t,n){return t=m7(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function m7(r){var t=g7(r,"string");return l1(t)=="symbol"?t:t+""}function g7(r,t){if(l1(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(l1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function v7(r,t){if(r==null)return{};var n=x7(r,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function x7(r,t){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(t.indexOf(a)>=0)continue;n[a]=r[a]}return n}var tO={symbolCircle:T4,symbolCross:UL,symbolDiamond:QL,symbolSquare:WL,symbolStar:KL,symbolTriangle:GL,symbolWye:XL},y7=Math.PI/180,j7=function(t){var n="symbol".concat(Kx(t));return tO[n]||T4},b7=function(t,n,a){if(n==="area")return t;switch(a){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*y7;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},w7=function(t,n){tO["symbol".concat(Kx(t))]=n},k4=function(t){var n=t.type,a=n===void 0?"circle":n,s=t.size,i=s===void 0?64:s,c=t.sizeType,o=c===void 0?"area":c,d=v7(t,A7),l=wB(wB({},d),{},{type:a,size:i,sizeType:o}),u=function(){var x=j7(a),y=YL().type(x).size(b7(i,o,a));return y()},h=l.className,f=l.cx,A=l.cy,g=Da(l,!0);return f===+f&&A===+A&&i===+i?Ct.createElement("path",QC({},g,{className:Cs("recharts-symbols",h),transform:"translate(".concat(f,", ").concat(A,")"),d:u()})):null};k4.registerSymbol=w7;function nm(r){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nm(r)}function WC(){return WC=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},WC.apply(this,arguments)}function CB(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function C7(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CB(Object(n),!0).forEach(function(a){c1(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):CB(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function N7(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function S7(r,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,nO(a.key),a)}}function E7(r,t,n){return t&&S7(r.prototype,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function B7(r,t,n){return t=Hv(t),I7(r,rO()?Reflect.construct(t,n||[],Hv(r).constructor):t.apply(r,n))}function I7(r,t){if(t&&(nm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T7(r)}function T7(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function rO(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rO=function(){return!!r})()}function Hv(r){return Hv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hv(r)}function k7(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&$C(r,t)}function $C(r,t){return $C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},$C(r,t)}function c1(r,t,n){return t=nO(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function nO(r){var t=_7(r,"string");return nm(t)=="symbol"?t:t+""}function _7(r,t){if(nm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(nm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var Uu=32,_4=(function(r){function t(){return N7(this,t),B7(this,t,arguments)}return k7(t,r),E7(t,[{key:"renderIcon",value:function(a){var s=this.props.inactiveColor,i=Uu/2,c=Uu/6,o=Uu/3,d=a.inactive?s:a.color;if(a.type==="plainline")return Ct.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:a.payload.strokeDasharray,x1:0,y1:i,x2:Uu,y2:i,className:"recharts-legend-icon"});if(a.type==="line")return Ct.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(c,",").concat(c,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(Uu,"M").concat(2*o,",").concat(i,`
            A`).concat(c,",").concat(c,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(a.type==="rect")return Ct.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Uu/8,"h").concat(Uu,"v").concat(Uu*3/4,"h").concat(-Uu,"z"),className:"recharts-legend-icon"});if(Ct.isValidElement(a.legendIcon)){var l=C7({},a);return delete l.legendIcon,Ct.cloneElement(a.legendIcon,l)}return Ct.createElement(k4,{fill:d,cx:i,cy:i,size:Uu,sizeType:"diameter",type:a.type})}},{key:"renderItems",value:function(){var a=this,s=this.props,i=s.payload,c=s.iconSize,o=s.layout,d=s.formatter,l=s.inactiveColor,u={x:0,y:0,width:Uu,height:Uu},h={display:o==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(A,g){var m=A.formatter||d,x=Cs(c1(c1({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",A.inactive));if(A.type==="none")return null;var y=ts(A.value)?null:A.value;ph(!ts(A.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var j=A.inactive?l:A.color;return Ct.createElement("li",WC({className:x,style:h,key:"legend-item-".concat(g)},cp(a.props,A,g)),Ct.createElement(DC,{width:c,height:c,viewBox:u,style:f},a.renderIcon(A)),Ct.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},m?m(y,A,g):y))})}},{key:"render",value:function(){var a=this.props,s=a.payload,i=a.layout,c=a.align;if(!s||!s.length)return null;var o={padding:0,margin:0,textAlign:i==="horizontal"?c:"left"};return Ct.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])})(C.PureComponent);c1(_4,"displayName","Legend");c1(_4,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Jy,NB;function O7(){if(NB)return Jy;NB=1;var r=$x();function t(){this.__data__=new r,this.size=0}return Jy=t,Jy}var Zy,SB;function F7(){if(SB)return Zy;SB=1;function r(t){var n=this.__data__,a=n.delete(t);return this.size=n.size,a}return Zy=r,Zy}var ej,EB;function P7(){if(EB)return ej;EB=1;function r(t){return this.__data__.get(t)}return ej=r,ej}var tj,BB;function D7(){if(BB)return tj;BB=1;function r(t){return this.__data__.has(t)}return tj=r,tj}var rj,IB;function M7(){if(IB)return rj;IB=1;var r=$x(),t=b4(),n=w4(),a=200;function s(i,c){var o=this.__data__;if(o instanceof r){var d=o.__data__;if(!t||d.length<a-1)return d.push([i,c]),this.size=++o.size,this;o=this.__data__=new n(d)}return o.set(i,c),this.size=o.size,this}return rj=s,rj}var nj,TB;function aO(){if(TB)return nj;TB=1;var r=$x(),t=O7(),n=F7(),a=P7(),s=D7(),i=M7();function c(o){var d=this.__data__=new r(o);this.size=d.size}return c.prototype.clear=t,c.prototype.delete=n,c.prototype.get=a,c.prototype.has=s,c.prototype.set=i,nj=c,nj}var aj,kB;function R7(){if(kB)return aj;kB=1;var r="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,r),this}return aj=t,aj}var sj,_B;function L7(){if(_B)return sj;_B=1;function r(t){return this.__data__.has(t)}return sj=r,sj}var ij,OB;function sO(){if(OB)return ij;OB=1;var r=w4(),t=R7(),n=L7();function a(s){var i=-1,c=s==null?0:s.length;for(this.__data__=new r;++i<c;)this.add(s[i])}return a.prototype.add=a.prototype.push=t,a.prototype.has=n,ij=a,ij}var oj,FB;function iO(){if(FB)return oj;FB=1;function r(t,n){for(var a=-1,s=t==null?0:t.length;++a<s;)if(n(t[a],a,t))return!0;return!1}return oj=r,oj}var lj,PB;function oO(){if(PB)return lj;PB=1;function r(t,n){return t.has(n)}return lj=r,lj}var cj,DB;function lO(){if(DB)return cj;DB=1;var r=sO(),t=iO(),n=oO(),a=1,s=2;function i(c,o,d,l,u,h){var f=d&a,A=c.length,g=o.length;if(A!=g&&!(f&&g>A))return!1;var m=h.get(c),x=h.get(o);if(m&&x)return m==o&&x==c;var y=-1,j=!0,b=d&s?new r:void 0;for(h.set(c,o),h.set(o,c);++y<A;){var S=c[y],w=o[y];if(l)var E=f?l(w,S,y,o,c,h):l(S,w,y,c,o,h);if(E!==void 0){if(E)continue;j=!1;break}if(b){if(!t(o,function(I,L){if(!n(b,L)&&(S===I||u(S,I,d,l,h)))return b.push(L)})){j=!1;break}}else if(!(S===w||u(S,w,d,l,h))){j=!1;break}}return h.delete(c),h.delete(o),j}return cj=i,cj}var dj,MB;function U7(){if(MB)return dj;MB=1;var r=Hh(),t=r.Uint8Array;return dj=t,dj}var uj,RB;function H7(){if(RB)return uj;RB=1;function r(t){var n=-1,a=Array(t.size);return t.forEach(function(s,i){a[++n]=[i,s]}),a}return uj=r,uj}var hj,LB;function O4(){if(LB)return hj;LB=1;function r(t){var n=-1,a=Array(t.size);return t.forEach(function(s){a[++n]=s}),a}return hj=r,hj}var fj,UB;function Q7(){if(UB)return fj;UB=1;var r=W1(),t=U7(),n=j4(),a=lO(),s=H7(),i=O4(),c=1,o=2,d="[object Boolean]",l="[object Date]",u="[object Error]",h="[object Map]",f="[object Number]",A="[object RegExp]",g="[object Set]",m="[object String]",x="[object Symbol]",y="[object ArrayBuffer]",j="[object DataView]",b=r?r.prototype:void 0,S=b?b.valueOf:void 0;function w(E,I,L,J,ae,G,le){switch(L){case j:if(E.byteLength!=I.byteLength||E.byteOffset!=I.byteOffset)return!1;E=E.buffer,I=I.buffer;case y:return!(E.byteLength!=I.byteLength||!G(new t(E),new t(I)));case d:case l:case f:return n(+E,+I);case u:return E.name==I.name&&E.message==I.message;case A:case m:return E==I+"";case h:var V=s;case g:var me=J&c;if(V||(V=i),E.size!=I.size&&!me)return!1;var $=le.get(E);if($)return $==I;J|=o,le.set(E,I);var ee=a(V(E),V(I),J,ae,G,le);return le.delete(E),ee;case x:if(S)return S.call(E)==S.call(I)}return!1}return fj=w,fj}var Aj,HB;function cO(){if(HB)return Aj;HB=1;function r(t,n){for(var a=-1,s=n.length,i=t.length;++a<s;)t[i+a]=n[a];return t}return Aj=r,Aj}var pj,QB;function W7(){if(QB)return pj;QB=1;var r=cO(),t=Qd();function n(a,s,i){var c=s(a);return t(a)?c:r(c,i(a))}return pj=n,pj}var mj,WB;function $7(){if(WB)return mj;WB=1;function r(t,n){for(var a=-1,s=t==null?0:t.length,i=0,c=[];++a<s;){var o=t[a];n(o,a,t)&&(c[i++]=o)}return c}return mj=r,mj}var gj,$B;function V7(){if($B)return gj;$B=1;function r(){return[]}return gj=r,gj}var vj,VB;function z7(){if(VB)return vj;VB=1;var r=$7(),t=V7(),n=Object.prototype,a=n.propertyIsEnumerable,s=Object.getOwnPropertySymbols,i=s?function(c){return c==null?[]:(c=Object(c),r(s(c),function(o){return a.call(c,o)}))}:t;return vj=i,vj}var xj,zB;function K7(){if(zB)return xj;zB=1;function r(t,n){for(var a=-1,s=Array(t);++a<t;)s[a]=n(a);return s}return xj=r,xj}var yj,KB;function G7(){if(KB)return yj;KB=1;var r=Cf(),t=Nf(),n="[object Arguments]";function a(s){return t(s)&&r(s)==n}return yj=a,yj}var jj,GB;function F4(){if(GB)return jj;GB=1;var r=G7(),t=Nf(),n=Object.prototype,a=n.hasOwnProperty,s=n.propertyIsEnumerable,i=r((function(){return arguments})())?r:function(c){return t(c)&&a.call(c,"callee")&&!s.call(c,"callee")};return jj=i,jj}var Lg={exports:{}},bj,qB;function q7(){if(qB)return bj;qB=1;function r(){return!1}return bj=r,bj}Lg.exports;var XB;function dO(){return XB||(XB=1,(function(r,t){var n=Hh(),a=q7(),s=t&&!t.nodeType&&t,i=s&&!0&&r&&!r.nodeType&&r,c=i&&i.exports===s,o=c?n.Buffer:void 0,d=o?o.isBuffer:void 0,l=d||a;r.exports=l})(Lg,Lg.exports)),Lg.exports}var wj,YB;function P4(){if(YB)return wj;YB=1;var r=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(a,s){var i=typeof a;return s=s??r,!!s&&(i=="number"||i!="symbol"&&t.test(a))&&a>-1&&a%1==0&&a<s}return wj=n,wj}var Cj,JB;function D4(){if(JB)return Cj;JB=1;var r=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=r}return Cj=t,Cj}var Nj,ZB;function X7(){if(ZB)return Nj;ZB=1;var r=Cf(),t=D4(),n=Nf(),a="[object Arguments]",s="[object Array]",i="[object Boolean]",c="[object Date]",o="[object Error]",d="[object Function]",l="[object Map]",u="[object Number]",h="[object Object]",f="[object RegExp]",A="[object Set]",g="[object String]",m="[object WeakMap]",x="[object ArrayBuffer]",y="[object DataView]",j="[object Float32Array]",b="[object Float64Array]",S="[object Int8Array]",w="[object Int16Array]",E="[object Int32Array]",I="[object Uint8Array]",L="[object Uint8ClampedArray]",J="[object Uint16Array]",ae="[object Uint32Array]",G={};G[j]=G[b]=G[S]=G[w]=G[E]=G[I]=G[L]=G[J]=G[ae]=!0,G[a]=G[s]=G[x]=G[i]=G[y]=G[c]=G[o]=G[d]=G[l]=G[u]=G[h]=G[f]=G[A]=G[g]=G[m]=!1;function le(V){return n(V)&&t(V.length)&&!!G[r(V)]}return Nj=le,Nj}var Sj,e5;function uO(){if(e5)return Sj;e5=1;function r(t){return function(n){return t(n)}}return Sj=r,Sj}var Ug={exports:{}};Ug.exports;var t5;function Y7(){return t5||(t5=1,(function(r,t){var n=k_(),a=t&&!t.nodeType&&t,s=a&&!0&&r&&!r.nodeType&&r,i=s&&s.exports===a,c=i&&n.process,o=(function(){try{var d=s&&s.require&&s.require("util").types;return d||c&&c.binding&&c.binding("util")}catch{}})();r.exports=o})(Ug,Ug.exports)),Ug.exports}var Ej,r5;function hO(){if(r5)return Ej;r5=1;var r=X7(),t=uO(),n=Y7(),a=n&&n.isTypedArray,s=a?t(a):r;return Ej=s,Ej}var Bj,n5;function J7(){if(n5)return Bj;n5=1;var r=K7(),t=F4(),n=Qd(),a=dO(),s=P4(),i=hO(),c=Object.prototype,o=c.hasOwnProperty;function d(l,u){var h=n(l),f=!h&&t(l),A=!h&&!f&&a(l),g=!h&&!f&&!A&&i(l),m=h||f||A||g,x=m?r(l.length,String):[],y=x.length;for(var j in l)(u||o.call(l,j))&&!(m&&(j=="length"||A&&(j=="offset"||j=="parent")||g&&(j=="buffer"||j=="byteLength"||j=="byteOffset")||s(j,y)))&&x.push(j);return x}return Bj=d,Bj}var Ij,a5;function Z7(){if(a5)return Ij;a5=1;var r=Object.prototype;function t(n){var a=n&&n.constructor,s=typeof a=="function"&&a.prototype||r;return n===s}return Ij=t,Ij}var Tj,s5;function fO(){if(s5)return Tj;s5=1;function r(t,n){return function(a){return t(n(a))}}return Tj=r,Tj}var kj,i5;function eU(){if(i5)return kj;i5=1;var r=fO(),t=r(Object.keys,Object);return kj=t,kj}var _j,o5;function tU(){if(o5)return _j;o5=1;var r=Z7(),t=eU(),n=Object.prototype,a=n.hasOwnProperty;function s(i){if(!r(i))return t(i);var c=[];for(var o in Object(i))a.call(i,o)&&o!="constructor"&&c.push(o);return c}return _j=s,_j}var Oj,l5;function z1(){if(l5)return Oj;l5=1;var r=y4(),t=D4();function n(a){return a!=null&&t(a.length)&&!r(a)}return Oj=n,Oj}var Fj,c5;function Yx(){if(c5)return Fj;c5=1;var r=J7(),t=tU(),n=z1();function a(s){return n(s)?r(s):t(s)}return Fj=a,Fj}var Pj,d5;function rU(){if(d5)return Pj;d5=1;var r=W7(),t=z7(),n=Yx();function a(s){return r(s,n,t)}return Pj=a,Pj}var Dj,u5;function nU(){if(u5)return Dj;u5=1;var r=rU(),t=1,n=Object.prototype,a=n.hasOwnProperty;function s(i,c,o,d,l,u){var h=o&t,f=r(i),A=f.length,g=r(c),m=g.length;if(A!=m&&!h)return!1;for(var x=A;x--;){var y=f[x];if(!(h?y in c:a.call(c,y)))return!1}var j=u.get(i),b=u.get(c);if(j&&b)return j==c&&b==i;var S=!0;u.set(i,c),u.set(c,i);for(var w=h;++x<A;){y=f[x];var E=i[y],I=c[y];if(d)var L=h?d(I,E,y,c,i,u):d(E,I,y,i,c,u);if(!(L===void 0?E===I||l(E,I,o,d,u):L)){S=!1;break}w||(w=y=="constructor")}if(S&&!w){var J=i.constructor,ae=c.constructor;J!=ae&&"constructor"in i&&"constructor"in c&&!(typeof J=="function"&&J instanceof J&&typeof ae=="function"&&ae instanceof ae)&&(S=!1)}return u.delete(i),u.delete(c),S}return Dj=s,Dj}var Mj,h5;function aU(){if(h5)return Mj;h5=1;var r=Ap(),t=Hh(),n=r(t,"DataView");return Mj=n,Mj}var Rj,f5;function sU(){if(f5)return Rj;f5=1;var r=Ap(),t=Hh(),n=r(t,"Promise");return Rj=n,Rj}var Lj,A5;function AO(){if(A5)return Lj;A5=1;var r=Ap(),t=Hh(),n=r(t,"Set");return Lj=n,Lj}var Uj,p5;function iU(){if(p5)return Uj;p5=1;var r=Ap(),t=Hh(),n=r(t,"WeakMap");return Uj=n,Uj}var Hj,m5;function oU(){if(m5)return Hj;m5=1;var r=aU(),t=b4(),n=sU(),a=AO(),s=iU(),i=Cf(),c=__(),o="[object Map]",d="[object Object]",l="[object Promise]",u="[object Set]",h="[object WeakMap]",f="[object DataView]",A=c(r),g=c(t),m=c(n),x=c(a),y=c(s),j=i;return(r&&j(new r(new ArrayBuffer(1)))!=f||t&&j(new t)!=o||n&&j(n.resolve())!=l||a&&j(new a)!=u||s&&j(new s)!=h)&&(j=function(b){var S=i(b),w=S==d?b.constructor:void 0,E=w?c(w):"";if(E)switch(E){case A:return f;case g:return o;case m:return l;case x:return u;case y:return h}return S}),Hj=j,Hj}var Qj,g5;function lU(){if(g5)return Qj;g5=1;var r=aO(),t=lO(),n=Q7(),a=nU(),s=oU(),i=Qd(),c=dO(),o=hO(),d=1,l="[object Arguments]",u="[object Array]",h="[object Object]",f=Object.prototype,A=f.hasOwnProperty;function g(m,x,y,j,b,S){var w=i(m),E=i(x),I=w?u:s(m),L=E?u:s(x);I=I==l?h:I,L=L==l?h:L;var J=I==h,ae=L==h,G=I==L;if(G&&c(m)){if(!c(x))return!1;w=!0,J=!1}if(G&&!J)return S||(S=new r),w||o(m)?t(m,x,y,j,b,S):n(m,x,I,y,j,b,S);if(!(y&d)){var le=J&&A.call(m,"__wrapped__"),V=ae&&A.call(x,"__wrapped__");if(le||V){var me=le?m.value():m,$=V?x.value():x;return S||(S=new r),b(me,$,y,j,S)}}return G?(S||(S=new r),a(m,x,y,j,b,S)):!1}return Qj=g,Qj}var Wj,v5;function M4(){if(v5)return Wj;v5=1;var r=lU(),t=Nf();function n(a,s,i,c,o){return a===s?!0:a==null||s==null||!t(a)&&!t(s)?a!==a&&s!==s:r(a,s,i,c,n,o)}return Wj=n,Wj}var $j,x5;function cU(){if(x5)return $j;x5=1;var r=aO(),t=M4(),n=1,a=2;function s(i,c,o,d){var l=o.length,u=l,h=!d;if(i==null)return!u;for(i=Object(i);l--;){var f=o[l];if(h&&f[2]?f[1]!==i[f[0]]:!(f[0]in i))return!1}for(;++l<u;){f=o[l];var A=f[0],g=i[A],m=f[1];if(h&&f[2]){if(g===void 0&&!(A in i))return!1}else{var x=new r;if(d)var y=d(g,m,A,i,c,x);if(!(y===void 0?t(m,g,n|a,d,x):y))return!1}}return!0}return $j=s,$j}var Vj,y5;function pO(){if(y5)return Vj;y5=1;var r=pA();function t(n){return n===n&&!r(n)}return Vj=t,Vj}var zj,j5;function dU(){if(j5)return zj;j5=1;var r=pO(),t=Yx();function n(a){for(var s=t(a),i=s.length;i--;){var c=s[i],o=a[c];s[i]=[c,o,r(o)]}return s}return zj=n,zj}var Kj,b5;function mO(){if(b5)return Kj;b5=1;function r(t,n){return function(a){return a==null?!1:a[t]===n&&(n!==void 0||t in Object(a))}}return Kj=r,Kj}var Gj,w5;function uU(){if(w5)return Gj;w5=1;var r=cU(),t=dU(),n=mO();function a(s){var i=t(s);return i.length==1&&i[0][2]?n(i[0][0],i[0][1]):function(c){return c===s||r(c,s,i)}}return Gj=a,Gj}var qj,C5;function hU(){if(C5)return qj;C5=1;function r(t,n){return t!=null&&n in Object(t)}return qj=r,qj}var Xj,N5;function fU(){if(N5)return Xj;N5=1;var r=P_(),t=F4(),n=Qd(),a=P4(),s=D4(),i=zx();function c(o,d,l){d=r(d,o);for(var u=-1,h=d.length,f=!1;++u<h;){var A=i(d[u]);if(!(f=o!=null&&l(o,A)))break;o=o[A]}return f||++u!=h?f:(h=o==null?0:o.length,!!h&&s(h)&&a(A,h)&&(n(o)||t(o)))}return Xj=c,Xj}var Yj,S5;function AU(){if(S5)return Yj;S5=1;var r=hU(),t=fU();function n(a,s){return a!=null&&t(a,s,r)}return Yj=n,Yj}var Jj,E5;function pU(){if(E5)return Jj;E5=1;var r=M4(),t=D_(),n=AU(),a=x4(),s=pO(),i=mO(),c=zx(),o=1,d=2;function l(u,h){return a(u)&&s(h)?i(c(u),h):function(f){var A=t(f,u);return A===void 0&&A===h?n(f,u):r(h,A,o|d)}}return Jj=l,Jj}var Zj,B5;function Fm(){if(B5)return Zj;B5=1;function r(t){return t}return Zj=r,Zj}var eb,I5;function mU(){if(I5)return eb;I5=1;function r(t){return function(n){return n==null?void 0:n[t]}}return eb=r,eb}var tb,T5;function gU(){if(T5)return tb;T5=1;var r=N4();function t(n){return function(a){return r(a,n)}}return tb=t,tb}var rb,k5;function vU(){if(k5)return rb;k5=1;var r=mU(),t=gU(),n=x4(),a=zx();function s(i){return n(i)?r(a(i)):t(i)}return rb=s,rb}var nb,_5;function Qh(){if(_5)return nb;_5=1;var r=uU(),t=pU(),n=Fm(),a=Qd(),s=vU();function i(c){return typeof c=="function"?c:c==null?n:typeof c=="object"?a(c)?t(c[0],c[1]):r(c):s(c)}return nb=i,nb}var ab,O5;function gO(){if(O5)return ab;O5=1;function r(t,n,a,s){for(var i=t.length,c=a+(s?1:-1);s?c--:++c<i;)if(n(t[c],c,t))return c;return-1}return ab=r,ab}var sb,F5;function xU(){if(F5)return sb;F5=1;function r(t){return t!==t}return sb=r,sb}var ib,P5;function yU(){if(P5)return ib;P5=1;function r(t,n,a){for(var s=a-1,i=t.length;++s<i;)if(t[s]===n)return s;return-1}return ib=r,ib}var ob,D5;function jU(){if(D5)return ob;D5=1;var r=gO(),t=xU(),n=yU();function a(s,i,c){return i===i?n(s,i,c):r(s,t,c)}return ob=a,ob}var lb,M5;function bU(){if(M5)return lb;M5=1;var r=jU();function t(n,a){var s=n==null?0:n.length;return!!s&&r(n,a,0)>-1}return lb=t,lb}var cb,R5;function wU(){if(R5)return cb;R5=1;function r(t,n,a){for(var s=-1,i=t==null?0:t.length;++s<i;)if(a(n,t[s]))return!0;return!1}return cb=r,cb}var db,L5;function CU(){if(L5)return db;L5=1;function r(){}return db=r,db}var ub,U5;function NU(){if(U5)return ub;U5=1;var r=AO(),t=CU(),n=O4(),a=1/0,s=r&&1/n(new r([,-0]))[1]==a?function(i){return new r(i)}:t;return ub=s,ub}var hb,H5;function SU(){if(H5)return hb;H5=1;var r=sO(),t=bU(),n=wU(),a=oO(),s=NU(),i=O4(),c=200;function o(d,l,u){var h=-1,f=t,A=d.length,g=!0,m=[],x=m;if(u)g=!1,f=n;else if(A>=c){var y=l?null:s(d);if(y)return i(y);g=!1,f=a,x=new r}else x=l?[]:m;e:for(;++h<A;){var j=d[h],b=l?l(j):j;if(j=u||j!==0?j:0,g&&b===b){for(var S=x.length;S--;)if(x[S]===b)continue e;l&&x.push(b),m.push(j)}else f(x,b,u)||(x!==m&&x.push(b),m.push(j))}return m}return hb=o,hb}var fb,Q5;function EU(){if(Q5)return fb;Q5=1;var r=Qh(),t=SU();function n(a,s){return a&&a.length?t(a,r(s,2)):[]}return fb=n,fb}var BU=EU();const W5=si(BU);function vO(r,t,n){return t===!0?W5(r,n):ts(t)?W5(r,t):r}function am(r){"@babel/helpers - typeof";return am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},am(r)}var IU=["ref"];function $5(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function df(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$5(Object(n),!0).forEach(function(a){Jx(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):$5(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function TU(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function V5(r,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,yO(a.key),a)}}function kU(r,t,n){return t&&V5(r.prototype,t),n&&V5(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function _U(r,t,n){return t=Qv(t),OU(r,xO()?Reflect.construct(t,n||[],Qv(r).constructor):t.apply(r,n))}function OU(r,t){if(t&&(am(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FU(r)}function FU(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function xO(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xO=function(){return!!r})()}function Qv(r){return Qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qv(r)}function PU(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&VC(r,t)}function VC(r,t){return VC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},VC(r,t)}function Jx(r,t,n){return t=yO(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function yO(r){var t=DU(r,"string");return am(t)=="symbol"?t:t+""}function DU(r,t){if(am(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(am(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function MU(r,t){if(r==null)return{};var n=RU(r,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function RU(r,t){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(t.indexOf(a)>=0)continue;n[a]=r[a]}return n}function LU(r){return r.value}function UU(r,t){if(Ct.isValidElement(r))return Ct.cloneElement(r,t);if(typeof r=="function")return Ct.createElement(r,t);t.ref;var n=MU(t,IU);return Ct.createElement(_4,n)}var z5=1,kh=(function(r){function t(){var n;TU(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=_U(this,t,[].concat(s)),Jx(n,"lastBoundingBox",{width:-1,height:-1}),n}return PU(t,r),kU(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();return a.height=this.wrapperNode.offsetHeight,a.width=this.wrapperNode.offsetWidth,a}return null}},{key:"updateBBox",value:function(){var a=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>z5||Math.abs(s.height-this.lastBoundingBox.height)>z5)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,a&&a(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,a&&a(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?df({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(a){var s=this.props,i=s.layout,c=s.align,o=s.verticalAlign,d=s.margin,l=s.chartWidth,u=s.chartHeight,h,f;if(!a||(a.left===void 0||a.left===null)&&(a.right===void 0||a.right===null))if(c==="center"&&i==="vertical"){var A=this.getBBoxSnapshot();h={left:((l||0)-A.width)/2}}else h=c==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!a||(a.top===void 0||a.top===null)&&(a.bottom===void 0||a.bottom===null))if(o==="middle"){var g=this.getBBoxSnapshot();f={top:((u||0)-g.height)/2}}else f=o==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return df(df({},h),f)}},{key:"render",value:function(){var a=this,s=this.props,i=s.content,c=s.width,o=s.height,d=s.wrapperStyle,l=s.payloadUniqBy,u=s.payload,h=df(df({position:"absolute",width:c||"auto",height:o||"auto"},this.getDefaultPosition(d)),d);return Ct.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(A){a.wrapperNode=A}},UU(i,df(df({},this.props),{},{payload:vO(u,l,LU)})))}}],[{key:"getWithHeight",value:function(a,s){var i=df(df({},this.defaultProps),a.props),c=i.layout;return c==="vertical"&&yn(a.props.height)?{height:a.props.height}:c==="horizontal"?{width:a.props.width||s}:null}}])})(C.PureComponent);Jx(kh,"displayName","Legend");Jx(kh,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Ab,K5;function HU(){if(K5)return Ab;K5=1;var r=W1(),t=F4(),n=Qd(),a=r?r.isConcatSpreadable:void 0;function s(i){return n(i)||t(i)||!!(a&&i&&i[a])}return Ab=s,Ab}var pb,G5;function jO(){if(G5)return pb;G5=1;var r=cO(),t=HU();function n(a,s,i,c,o){var d=-1,l=a.length;for(i||(i=t),o||(o=[]);++d<l;){var u=a[d];s>0&&i(u)?s>1?n(u,s-1,i,c,o):r(o,u):c||(o[o.length]=u)}return o}return pb=n,pb}var mb,q5;function QU(){if(q5)return mb;q5=1;function r(t){return function(n,a,s){for(var i=-1,c=Object(n),o=s(n),d=o.length;d--;){var l=o[t?d:++i];if(a(c[l],l,c)===!1)break}return n}}return mb=r,mb}var gb,X5;function WU(){if(X5)return gb;X5=1;var r=QU(),t=r();return gb=t,gb}var vb,Y5;function bO(){if(Y5)return vb;Y5=1;var r=WU(),t=Yx();function n(a,s){return a&&r(a,s,t)}return vb=n,vb}var xb,J5;function $U(){if(J5)return xb;J5=1;var r=z1();function t(n,a){return function(s,i){if(s==null)return s;if(!r(s))return n(s,i);for(var c=s.length,o=a?c:-1,d=Object(s);(a?o--:++o<c)&&i(d[o],o,d)!==!1;);return s}}return xb=t,xb}var yb,Z5;function R4(){if(Z5)return yb;Z5=1;var r=bO(),t=$U(),n=t(r);return yb=n,yb}var jb,e3;function wO(){if(e3)return jb;e3=1;var r=R4(),t=z1();function n(a,s){var i=-1,c=t(a)?Array(a.length):[];return r(a,function(o,d,l){c[++i]=s(o,d,l)}),c}return jb=n,jb}var bb,t3;function VU(){if(t3)return bb;t3=1;function r(t,n){var a=t.length;for(t.sort(n);a--;)t[a]=t[a].value;return t}return bb=r,bb}var wb,r3;function zU(){if(r3)return wb;r3=1;var r=km();function t(n,a){if(n!==a){var s=n!==void 0,i=n===null,c=n===n,o=r(n),d=a!==void 0,l=a===null,u=a===a,h=r(a);if(!l&&!h&&!o&&n>a||o&&d&&u&&!l&&!h||i&&d&&u||!s&&u||!c)return 1;if(!i&&!o&&!h&&n<a||h&&s&&c&&!i&&!o||l&&s&&c||!d&&c||!u)return-1}return 0}return wb=t,wb}var Cb,n3;function KU(){if(n3)return Cb;n3=1;var r=zU();function t(n,a,s){for(var i=-1,c=n.criteria,o=a.criteria,d=c.length,l=s.length;++i<d;){var u=r(c[i],o[i]);if(u){if(i>=l)return u;var h=s[i];return u*(h=="desc"?-1:1)}}return n.index-a.index}return Cb=t,Cb}var Nb,a3;function GU(){if(a3)return Nb;a3=1;var r=C4(),t=N4(),n=Qh(),a=wO(),s=VU(),i=uO(),c=KU(),o=Fm(),d=Qd();function l(u,h,f){h.length?h=r(h,function(m){return d(m)?function(x){return t(x,m.length===1?m[0]:m)}:m}):h=[o];var A=-1;h=r(h,i(n));var g=a(u,function(m,x,y){var j=r(h,function(b){return b(m)});return{criteria:j,index:++A,value:m}});return s(g,function(m,x){return c(m,x,f)})}return Nb=l,Nb}var Sb,s3;function qU(){if(s3)return Sb;s3=1;function r(t,n,a){switch(a.length){case 0:return t.call(n);case 1:return t.call(n,a[0]);case 2:return t.call(n,a[0],a[1]);case 3:return t.call(n,a[0],a[1],a[2])}return t.apply(n,a)}return Sb=r,Sb}var Eb,i3;function XU(){if(i3)return Eb;i3=1;var r=qU(),t=Math.max;function n(a,s,i){return s=t(s===void 0?a.length-1:s,0),function(){for(var c=arguments,o=-1,d=t(c.length-s,0),l=Array(d);++o<d;)l[o]=c[s+o];o=-1;for(var u=Array(s+1);++o<s;)u[o]=c[o];return u[s]=i(l),r(a,this,u)}}return Eb=n,Eb}var Bb,o3;function YU(){if(o3)return Bb;o3=1;function r(t){return function(){return t}}return Bb=r,Bb}var Ib,l3;function CO(){if(l3)return Ib;l3=1;var r=Ap(),t=(function(){try{var n=r(Object,"defineProperty");return n({},"",{}),n}catch{}})();return Ib=t,Ib}var Tb,c3;function JU(){if(c3)return Tb;c3=1;var r=YU(),t=CO(),n=Fm(),a=t?function(s,i){return t(s,"toString",{configurable:!0,enumerable:!1,value:r(i),writable:!0})}:n;return Tb=a,Tb}var kb,d3;function ZU(){if(d3)return kb;d3=1;var r=800,t=16,n=Date.now;function a(s){var i=0,c=0;return function(){var o=n(),d=t-(o-c);if(c=o,d>0){if(++i>=r)return arguments[0]}else i=0;return s.apply(void 0,arguments)}}return kb=a,kb}var _b,u3;function e9(){if(u3)return _b;u3=1;var r=JU(),t=ZU(),n=t(r);return _b=n,_b}var Ob,h3;function t9(){if(h3)return Ob;h3=1;var r=Fm(),t=XU(),n=e9();function a(s,i){return n(t(s,i,r),s+"")}return Ob=a,Ob}var Fb,f3;function Zx(){if(f3)return Fb;f3=1;var r=j4(),t=z1(),n=P4(),a=pA();function s(i,c,o){if(!a(o))return!1;var d=typeof c;return(d=="number"?t(o)&&n(c,o.length):d=="string"&&c in o)?r(o[c],i):!1}return Fb=s,Fb}var Pb,A3;function r9(){if(A3)return Pb;A3=1;var r=jO(),t=GU(),n=t9(),a=Zx(),s=n(function(i,c){if(i==null)return[];var o=c.length;return o>1&&a(i,c[0],c[1])?c=[]:o>2&&a(c[0],c[1],c[2])&&(c=[c[0]]),t(i,r(c,1),[])});return Pb=s,Pb}var n9=r9();const L4=si(n9);function d1(r){"@babel/helpers - typeof";return d1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d1(r)}function zC(){return zC=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},zC.apply(this,arguments)}function a9(r,t){return l9(r)||o9(r,t)||i9(r,t)||s9()}function s9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i9(r,t){if(r){if(typeof r=="string")return p3(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p3(r,t)}}function p3(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=r[n];return a}function o9(r,t){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,s,i,c,o=[],d=!0,l=!1;try{if(i=(n=n.call(r)).next,t!==0)for(;!(d=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);d=!0);}catch(u){l=!0,s=u}finally{try{if(!d&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(l)throw s}}return o}}function l9(r){if(Array.isArray(r))return r}function m3(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function Db(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?m3(Object(n),!0).forEach(function(a){c9(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):m3(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function c9(r,t,n){return t=d9(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function d9(r){var t=u9(r,"string");return d1(t)=="symbol"?t:t+""}function u9(r,t){if(d1(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(d1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function h9(r){return Array.isArray(r)&&Zl(r[0])&&Zl(r[1])?r.join(" ~ "):r}var f9=function(t){var n=t.separator,a=n===void 0?" : ":n,s=t.contentStyle,i=s===void 0?{}:s,c=t.itemStyle,o=c===void 0?{}:c,d=t.labelStyle,l=d===void 0?{}:d,u=t.payload,h=t.formatter,f=t.itemSorter,A=t.wrapperClassName,g=t.labelClassName,m=t.label,x=t.labelFormatter,y=t.accessibilityLayer,j=y===void 0?!1:y,b=function(){if(u&&u.length){var le={padding:0,margin:0},V=(f?L4(u,f):u).map(function(me,$){if(me.type==="none")return null;var ee=Db({display:"block",paddingTop:4,paddingBottom:4,color:me.color||"#000"},o),we=me.formatter||h||h9,R=me.value,q=me.name,ie=R,Z=q;if(we&&ie!=null&&Z!=null){var D=we(R,q,me,$,u);if(Array.isArray(D)){var ue=a9(D,2);ie=ue[0],Z=ue[1]}else ie=D}return Ct.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat($),style:ee},Zl(Z)?Ct.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,Zl(Z)?Ct.createElement("span",{className:"recharts-tooltip-item-separator"},a):null,Ct.createElement("span",{className:"recharts-tooltip-item-value"},ie),Ct.createElement("span",{className:"recharts-tooltip-item-unit"},me.unit||""))});return Ct.createElement("ul",{className:"recharts-tooltip-item-list",style:le},V)}return null},S=Db({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),w=Db({margin:0},l),E=!fs(m),I=E?m:"",L=Cs("recharts-default-tooltip",A),J=Cs("recharts-tooltip-label",g);E&&x&&u!==void 0&&u!==null&&(I=x(m,u));var ae=j?{role:"status","aria-live":"assertive"}:{};return Ct.createElement("div",zC({className:L,style:S},ae),Ct.createElement("p",{className:J,style:w},Ct.isValidElement(I)?I:"".concat(I)),b())};function u1(r){"@babel/helpers - typeof";return u1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u1(r)}function d0(r,t,n){return t=A9(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function A9(r){var t=p9(r,"string");return u1(t)=="symbol"?t:t+""}function p9(r,t){if(u1(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(u1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}var zm="recharts-tooltip-wrapper",m9={visibility:"hidden"};function g9(r){var t=r.coordinate,n=r.translateX,a=r.translateY;return Cs(zm,d0(d0(d0(d0({},"".concat(zm,"-right"),yn(n)&&t&&yn(t.x)&&n>=t.x),"".concat(zm,"-left"),yn(n)&&t&&yn(t.x)&&n<t.x),"".concat(zm,"-bottom"),yn(a)&&t&&yn(t.y)&&a>=t.y),"".concat(zm,"-top"),yn(a)&&t&&yn(t.y)&&a<t.y))}function g3(r){var t=r.allowEscapeViewBox,n=r.coordinate,a=r.key,s=r.offsetTopLeft,i=r.position,c=r.reverseDirection,o=r.tooltipDimension,d=r.viewBox,l=r.viewBoxDimension;if(i&&yn(i[a]))return i[a];var u=n[a]-o-s,h=n[a]+s;if(t[a])return c[a]?u:h;if(c[a]){var f=u,A=d[a];return f<A?Math.max(h,d[a]):Math.max(u,d[a])}var g=h+o,m=d[a]+l;return g>m?Math.max(u,d[a]):Math.max(h,d[a])}function v9(r){var t=r.translateX,n=r.translateY,a=r.useTranslate3d;return{transform:a?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function x9(r){var t=r.allowEscapeViewBox,n=r.coordinate,a=r.offsetTopLeft,s=r.position,i=r.reverseDirection,c=r.tooltipBox,o=r.useTranslate3d,d=r.viewBox,l,u,h;return c.height>0&&c.width>0&&n?(u=g3({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:c.width,viewBox:d,viewBoxDimension:d.width}),h=g3({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:c.height,viewBox:d,viewBoxDimension:d.height}),l=v9({translateX:u,translateY:h,useTranslate3d:o})):l=m9,{cssProperties:l,cssClasses:g9({translateX:u,translateY:h,coordinate:n})}}function sm(r){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sm(r)}function v3(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function x3(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v3(Object(n),!0).forEach(function(a){GC(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):v3(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function y9(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function j9(r,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,SO(a.key),a)}}function b9(r,t,n){return t&&j9(r.prototype,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function w9(r,t,n){return t=Wv(t),C9(r,NO()?Reflect.construct(t,n||[],Wv(r).constructor):t.apply(r,n))}function C9(r,t){if(t&&(sm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N9(r)}function N9(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function NO(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NO=function(){return!!r})()}function Wv(r){return Wv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wv(r)}function S9(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&KC(r,t)}function KC(r,t){return KC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},KC(r,t)}function GC(r,t,n){return t=SO(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function SO(r){var t=E9(r,"string");return sm(t)=="symbol"?t:t+""}function E9(r,t){if(sm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(sm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var y3=1,B9=(function(r){function t(){var n;y9(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=w9(this,t,[].concat(s)),GC(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),GC(n,"handleKeyDown",function(c){if(c.key==="Escape"){var o,d,l,u;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(d=n.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&o!==void 0?o:0,y:(l=(u=n.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&l!==void 0?l:0}})}}),n}return S9(t,r),b9(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();(Math.abs(a.width-this.state.lastBoundingBox.width)>y3||Math.abs(a.height-this.state.lastBoundingBox.height)>y3)&&this.setState({lastBoundingBox:{width:a.width,height:a.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var a,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var a=this,s=this.props,i=s.active,c=s.allowEscapeViewBox,o=s.animationDuration,d=s.animationEasing,l=s.children,u=s.coordinate,h=s.hasPayload,f=s.isAnimationActive,A=s.offset,g=s.position,m=s.reverseDirection,x=s.useTranslate3d,y=s.viewBox,j=s.wrapperStyle,b=x9({allowEscapeViewBox:c,coordinate:u,offsetTopLeft:A,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:y}),S=b.cssClasses,w=b.cssProperties,E=x3(x3({transition:f&&i?"transform ".concat(o,"ms ").concat(d):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&h?"visible":"hidden",position:"absolute",top:0,left:0},j);return Ct.createElement("div",{tabIndex:-1,className:S,style:E,ref:function(L){a.wrapperNode=L}},l)}}])})(C.PureComponent),I9=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},pp={isSsr:I9()};function im(r){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},im(r)}function j3(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function b3(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?j3(Object(n),!0).forEach(function(a){U4(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):j3(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function T9(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function k9(r,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,BO(a.key),a)}}function _9(r,t,n){return t&&k9(r.prototype,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function O9(r,t,n){return t=$v(t),F9(r,EO()?Reflect.construct(t,n||[],$v(r).constructor):t.apply(r,n))}function F9(r,t){if(t&&(im(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P9(r)}function P9(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function EO(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EO=function(){return!!r})()}function $v(r){return $v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$v(r)}function D9(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&qC(r,t)}function qC(r,t){return qC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},qC(r,t)}function U4(r,t,n){return t=BO(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function BO(r){var t=M9(r,"string");return im(t)=="symbol"?t:t+""}function M9(r,t){if(im(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(im(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function R9(r){return r.dataKey}function L9(r,t){return Ct.isValidElement(r)?Ct.cloneElement(r,t):typeof r=="function"?Ct.createElement(r,t):Ct.createElement(f9,t)}var cu=(function(r){function t(){return T9(this,t),O9(this,t,arguments)}return D9(t,r),_9(t,[{key:"render",value:function(){var a=this,s=this.props,i=s.active,c=s.allowEscapeViewBox,o=s.animationDuration,d=s.animationEasing,l=s.content,u=s.coordinate,h=s.filterNull,f=s.isAnimationActive,A=s.offset,g=s.payload,m=s.payloadUniqBy,x=s.position,y=s.reverseDirection,j=s.useTranslate3d,b=s.viewBox,S=s.wrapperStyle,w=g??[];h&&w.length&&(w=vO(g.filter(function(I){return I.value!=null&&(I.hide!==!0||a.props.includeHidden)}),m,R9));var E=w.length>0;return Ct.createElement(B9,{allowEscapeViewBox:c,animationDuration:o,animationEasing:d,isAnimationActive:f,active:i,coordinate:u,hasPayload:E,offset:A,position:x,reverseDirection:y,useTranslate3d:j,viewBox:b,wrapperStyle:S},L9(l,b3(b3({},this.props),{},{payload:w})))}}])})(C.PureComponent);U4(cu,"displayName","Tooltip");U4(cu,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!pp.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Mb,w3;function U9(){if(w3)return Mb;w3=1;var r=Hh(),t=function(){return r.Date.now()};return Mb=t,Mb}var Rb,C3;function H9(){if(C3)return Rb;C3=1;var r=/\s/;function t(n){for(var a=n.length;a--&&r.test(n.charAt(a)););return a}return Rb=t,Rb}var Lb,N3;function Q9(){if(N3)return Lb;N3=1;var r=H9(),t=/^\s+/;function n(a){return a&&a.slice(0,r(a)+1).replace(t,"")}return Lb=n,Lb}var Ub,S3;function IO(){if(S3)return Ub;S3=1;var r=Q9(),t=pA(),n=km(),a=NaN,s=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,c=/^0o[0-7]+$/i,o=parseInt;function d(l){if(typeof l=="number")return l;if(n(l))return a;if(t(l)){var u=typeof l.valueOf=="function"?l.valueOf():l;l=t(u)?u+"":u}if(typeof l!="string")return l===0?l:+l;l=r(l);var h=i.test(l);return h||c.test(l)?o(l.slice(2),h?2:8):s.test(l)?a:+l}return Ub=d,Ub}var Hb,E3;function W9(){if(E3)return Hb;E3=1;var r=pA(),t=U9(),n=IO(),a="Expected a function",s=Math.max,i=Math.min;function c(o,d,l){var u,h,f,A,g,m,x=0,y=!1,j=!1,b=!0;if(typeof o!="function")throw new TypeError(a);d=n(d)||0,r(l)&&(y=!!l.leading,j="maxWait"in l,f=j?s(n(l.maxWait)||0,d):f,b="trailing"in l?!!l.trailing:b);function S(V){var me=u,$=h;return u=h=void 0,x=V,A=o.apply($,me),A}function w(V){return x=V,g=setTimeout(L,d),y?S(V):A}function E(V){var me=V-m,$=V-x,ee=d-me;return j?i(ee,f-$):ee}function I(V){var me=V-m,$=V-x;return m===void 0||me>=d||me<0||j&&$>=f}function L(){var V=t();if(I(V))return J(V);g=setTimeout(L,E(V))}function J(V){return g=void 0,b&&u?S(V):(u=h=void 0,A)}function ae(){g!==void 0&&clearTimeout(g),x=0,u=m=h=g=void 0}function G(){return g===void 0?A:J(t())}function le(){var V=t(),me=I(V);if(u=arguments,h=this,m=V,me){if(g===void 0)return w(m);if(j)return clearTimeout(g),g=setTimeout(L,d),S(m)}return g===void 0&&(g=setTimeout(L,d)),A}return le.cancel=ae,le.flush=G,le}return Hb=c,Hb}var Qb,B3;function $9(){if(B3)return Qb;B3=1;var r=W9(),t=pA(),n="Expected a function";function a(s,i,c){var o=!0,d=!0;if(typeof s!="function")throw new TypeError(n);return t(c)&&(o="leading"in c?!!c.leading:o,d="trailing"in c?!!c.trailing:d),r(s,i,{leading:o,maxWait:i,trailing:d})}return Qb=a,Qb}var V9=$9();const TO=si(V9);function h1(r){"@babel/helpers - typeof";return h1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h1(r)}function I3(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function u0(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?I3(Object(n),!0).forEach(function(a){z9(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):I3(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function z9(r,t,n){return t=K9(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function K9(r){var t=G9(r,"string");return h1(t)=="symbol"?t:t+""}function G9(r,t){if(h1(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(h1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function q9(r,t){return Z9(r)||J9(r,t)||Y9(r,t)||X9()}function X9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y9(r,t){if(r){if(typeof r=="string")return T3(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T3(r,t)}}function T3(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=r[n];return a}function J9(r,t){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,s,i,c,o=[],d=!0,l=!1;try{if(i=(n=n.call(r)).next,t!==0)for(;!(d=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);d=!0);}catch(u){l=!0,s=u}finally{try{if(!d&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(l)throw s}}return o}}function Z9(r){if(Array.isArray(r))return r}var eH=C.forwardRef(function(r,t){var n=r.aspect,a=r.initialDimension,s=a===void 0?{width:-1,height:-1}:a,i=r.width,c=i===void 0?"100%":i,o=r.height,d=o===void 0?"100%":o,l=r.minWidth,u=l===void 0?0:l,h=r.minHeight,f=r.maxHeight,A=r.children,g=r.debounce,m=g===void 0?0:g,x=r.id,y=r.className,j=r.onResize,b=r.style,S=b===void 0?{}:b,w=C.useRef(null),E=C.useRef();E.current=j,C.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var I=C.useState({containerWidth:s.width,containerHeight:s.height}),L=q9(I,2),J=L[0],ae=L[1],G=C.useCallback(function(V,me){ae(function($){var ee=Math.round(V),we=Math.round(me);return $.containerWidth===ee&&$.containerHeight===we?$:{containerWidth:ee,containerHeight:we}})},[]);C.useEffect(function(){var V=function(q){var ie,Z=q[0].contentRect,D=Z.width,ue=Z.height;G(D,ue),(ie=E.current)===null||ie===void 0||ie.call(E,D,ue)};m>0&&(V=TO(V,m,{trailing:!0,leading:!1}));var me=new ResizeObserver(V),$=w.current.getBoundingClientRect(),ee=$.width,we=$.height;return G(ee,we),me.observe(w.current),function(){me.disconnect()}},[G,m]);var le=C.useMemo(function(){var V=J.containerWidth,me=J.containerHeight;if(V<0||me<0)return null;ph(JA(c)||JA(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,c,d),ph(!n||n>0,"The aspect(%s) must be greater than zero.",n);var $=JA(c)?V:c,ee=JA(d)?me:d;n&&n>0&&($?ee=$/n:ee&&($=ee*n),f&&ee>f&&(ee=f)),ph($>0||ee>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,ee,c,d,u,h,n);var we=!Array.isArray(A)&&gf(A.type).endsWith("Chart");return Ct.Children.map(A,function(R){return Ct.isValidElement(R)?C.cloneElement(R,u0({width:$,height:ee},we?{style:u0({height:"100%",width:"100%",maxHeight:ee,maxWidth:$},R.props.style)}:{})):R})},[n,A,d,f,h,u,J,c]);return Ct.createElement("div",{id:x?"".concat(x):void 0,className:Cs("recharts-responsive-container",y),style:u0(u0({},S),{},{width:c,height:d,minWidth:u,minHeight:h,maxHeight:f}),ref:w},le)}),e2=function(t){return null};e2.displayName="Cell";function f1(r){"@babel/helpers - typeof";return f1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f1(r)}function k3(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function XC(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?k3(Object(n),!0).forEach(function(a){tH(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):k3(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function tH(r,t,n){return t=rH(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function rH(r){var t=nH(r,"string");return f1(t)=="symbol"?t:t+""}function nH(r,t){if(f1(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(f1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}var Tp={widthCache:{},cacheCount:0},aH=2e3,sH={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},_3="recharts_measurement_span";function iH(r){var t=XC({},r);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var Yg=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||pp.isSsr)return{width:0,height:0};var a=iH(n),s=JSON.stringify({text:t,copyStyle:a});if(Tp.widthCache[s])return Tp.widthCache[s];try{var i=document.getElementById(_3);i||(i=document.createElement("span"),i.setAttribute("id",_3),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var c=XC(XC({},sH),a);Object.assign(i.style,c),i.textContent="".concat(t);var o=i.getBoundingClientRect(),d={width:o.width,height:o.height};return Tp.widthCache[s]=d,++Tp.cacheCount>aH&&(Tp.cacheCount=0,Tp.widthCache={}),d}catch{return{width:0,height:0}}},oH=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function A1(r){"@babel/helpers - typeof";return A1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A1(r)}function Vv(r,t){return uH(r)||dH(r,t)||cH(r,t)||lH()}function lH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cH(r,t){if(r){if(typeof r=="string")return O3(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O3(r,t)}}function O3(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=r[n];return a}function dH(r,t){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,s,i,c,o=[],d=!0,l=!1;try{if(i=(n=n.call(r)).next,t===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);d=!0);}catch(u){l=!0,s=u}finally{try{if(!d&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(l)throw s}}return o}}function uH(r){if(Array.isArray(r))return r}function hH(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function F3(r,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,AH(a.key),a)}}function fH(r,t,n){return t&&F3(r.prototype,t),n&&F3(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function AH(r){var t=pH(r,"string");return A1(t)=="symbol"?t:t+""}function pH(r,t){if(A1(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(A1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var P3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,D3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,mH=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,gH=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,kO={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},vH=Object.keys(kO),Hp="NaN";function xH(r,t){return r*kO[t]}var h0=(function(){function r(t,n){hH(this,r),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!mH.test(n)&&(this.num=NaN,this.unit=""),vH.includes(n)&&(this.num=xH(t,n),this.unit="px")}return fH(r,[{key:"add",value:function(n){return this.unit!==n.unit?new r(NaN,""):new r(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new r(NaN,""):new r(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new r(NaN,""):new r(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new r(NaN,""):new r(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var a,s=(a=gH.exec(n))!==null&&a!==void 0?a:[],i=Vv(s,3),c=i[1],o=i[2];return new r(parseFloat(c),o??"")}}])})();function _O(r){if(r.includes(Hp))return Hp;for(var t=r;t.includes("*")||t.includes("/");){var n,a=(n=P3.exec(t))!==null&&n!==void 0?n:[],s=Vv(a,4),i=s[1],c=s[2],o=s[3],d=h0.parse(i??""),l=h0.parse(o??""),u=c==="*"?d.multiply(l):d.divide(l);if(u.isNaN())return Hp;t=t.replace(P3,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,f=(h=D3.exec(t))!==null&&h!==void 0?h:[],A=Vv(f,4),g=A[1],m=A[2],x=A[3],y=h0.parse(g??""),j=h0.parse(x??""),b=m==="+"?y.add(j):y.subtract(j);if(b.isNaN())return Hp;t=t.replace(D3,b.toString())}return t}var M3=/\(([^()]*)\)/;function yH(r){for(var t=r;t.includes("(");){var n=M3.exec(t),a=Vv(n,2),s=a[1];t=t.replace(M3,_O(s))}return t}function jH(r){var t=r.replace(/\s+/g,"");return t=yH(t),t=_O(t),t}function bH(r){try{return jH(r)}catch{return Hp}}function Wb(r){var t=bH(r.slice(5,-1));return t===Hp?"":t}var wH=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],CH=["dx","dy","angle","className","breakAll"];function YC(){return YC=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},YC.apply(this,arguments)}function R3(r,t){if(r==null)return{};var n=NH(r,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function NH(r,t){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(t.indexOf(a)>=0)continue;n[a]=r[a]}return n}function L3(r,t){return IH(r)||BH(r,t)||EH(r,t)||SH()}function SH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EH(r,t){if(r){if(typeof r=="string")return U3(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U3(r,t)}}function U3(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=r[n];return a}function BH(r,t){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,s,i,c,o=[],d=!0,l=!1;try{if(i=(n=n.call(r)).next,t===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);d=!0);}catch(u){l=!0,s=u}finally{try{if(!d&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(l)throw s}}return o}}function IH(r){if(Array.isArray(r))return r}var OO=/[ \f\n\r\t\v\u2028\u2029]+/,FO=function(t){var n=t.children,a=t.breakAll,s=t.style;try{var i=[];fs(n)||(a?i=n.toString().split(""):i=n.toString().split(OO));var c=i.map(function(d){return{word:d,width:Yg(d,s).width}}),o=a?0:Yg("",s).width;return{wordsWithComputedWidth:c,spaceWidth:o}}catch{return null}},TH=function(t,n,a,s,i){var c=t.maxLines,o=t.children,d=t.style,l=t.breakAll,u=yn(c),h=o,f=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $.reduce(function(ee,we){var R=we.word,q=we.width,ie=ee[ee.length-1];if(ie&&(s==null||i||ie.width+q+a<Number(s)))ie.words.push(R),ie.width+=q+a;else{var Z={words:[R],width:q};ee.push(Z)}return ee},[])},A=f(n),g=function($){return $.reduce(function(ee,we){return ee.width>we.width?ee:we})};if(!u)return A;for(var m="",x=function($){var ee=h.slice(0,$),we=FO({breakAll:l,style:d,children:ee+m}).wordsWithComputedWidth,R=f(we),q=R.length>c||g(R).width>Number(s);return[q,R]},y=0,j=h.length-1,b=0,S;y<=j&&b<=h.length-1;){var w=Math.floor((y+j)/2),E=w-1,I=x(E),L=L3(I,2),J=L[0],ae=L[1],G=x(w),le=L3(G,1),V=le[0];if(!J&&!V&&(y=w+1),J&&V&&(j=w-1),!J&&V){S=ae;break}b++}return S||A},H3=function(t){var n=fs(t)?[]:t.toString().split(OO);return[{words:n}]},kH=function(t){var n=t.width,a=t.scaleToFit,s=t.children,i=t.style,c=t.breakAll,o=t.maxLines;if((n||a)&&!pp.isSsr){var d,l,u=FO({breakAll:c,children:s,style:i});if(u){var h=u.wordsWithComputedWidth,f=u.spaceWidth;d=h,l=f}else return H3(s);return TH({breakAll:c,children:s,maxLines:o,style:i},d,l,n,a)}return H3(s)},Q3="#808080",dp=function(t){var n=t.x,a=n===void 0?0:n,s=t.y,i=s===void 0?0:s,c=t.lineHeight,o=c===void 0?"1em":c,d=t.capHeight,l=d===void 0?"0.71em":d,u=t.scaleToFit,h=u===void 0?!1:u,f=t.textAnchor,A=f===void 0?"start":f,g=t.verticalAnchor,m=g===void 0?"end":g,x=t.fill,y=x===void 0?Q3:x,j=R3(t,wH),b=C.useMemo(function(){return kH({breakAll:j.breakAll,children:j.children,maxLines:j.maxLines,scaleToFit:h,style:j.style,width:j.width})},[j.breakAll,j.children,j.maxLines,h,j.style,j.width]),S=j.dx,w=j.dy,E=j.angle,I=j.className,L=j.breakAll,J=R3(j,CH);if(!Zl(a)||!Zl(i))return null;var ae=a+(yn(S)?S:0),G=i+(yn(w)?w:0),le;switch(m){case"start":le=Wb("calc(".concat(l,")"));break;case"middle":le=Wb("calc(".concat((b.length-1)/2," * -").concat(o," + (").concat(l," / 2))"));break;default:le=Wb("calc(".concat(b.length-1," * -").concat(o,")"));break}var V=[];if(h){var me=b[0].width,$=j.width;V.push("scale(".concat((yn($)?$/me:1)/me,")"))}return E&&V.push("rotate(".concat(E,", ").concat(ae,", ").concat(G,")")),V.length&&(J.transform=V.join(" ")),Ct.createElement("text",YC({},Da(J,!0),{x:ae,y:G,className:Cs("recharts-text",I),textAnchor:A,fill:y.includes("url")?Q3:y}),b.map(function(ee,we){var R=ee.words.join(L?"":" ");return Ct.createElement("tspan",{x:ae,dy:we===0?le:o,key:"".concat(R,"-").concat(we)},R)}))};function cA(r,t){return r==null||t==null?NaN:r<t?-1:r>t?1:r>=t?0:NaN}function _H(r,t){return r==null||t==null?NaN:t<r?-1:t>r?1:t>=r?0:NaN}function H4(r){let t,n,a;r.length!==2?(t=cA,n=(o,d)=>cA(r(o),d),a=(o,d)=>r(o)-d):(t=r===cA||r===_H?r:OH,n=r,a=r);function s(o,d,l=0,u=o.length){if(l<u){if(t(d,d)!==0)return u;do{const h=l+u>>>1;n(o[h],d)<0?l=h+1:u=h}while(l<u)}return l}function i(o,d,l=0,u=o.length){if(l<u){if(t(d,d)!==0)return u;do{const h=l+u>>>1;n(o[h],d)<=0?l=h+1:u=h}while(l<u)}return l}function c(o,d,l=0,u=o.length){const h=s(o,d,l,u-1);return h>l&&a(o[h-1],d)>-a(o[h],d)?h-1:h}return{left:s,center:c,right:i}}function OH(){return 0}function PO(r){return r===null?NaN:+r}function*FH(r,t){for(let n of r)n!=null&&(n=+n)>=n&&(yield n)}const PH=H4(cA),K1=PH.right;H4(PO).center;class W3 extends Map{constructor(t,n=RH){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[a,s]of t)this.set(a,s)}get(t){return super.get($3(this,t))}has(t){return super.has($3(this,t))}set(t,n){return super.set(DH(this,t),n)}delete(t){return super.delete(MH(this,t))}}function $3({_intern:r,_key:t},n){const a=t(n);return r.has(a)?r.get(a):n}function DH({_intern:r,_key:t},n){const a=t(n);return r.has(a)?r.get(a):(r.set(a,n),n)}function MH({_intern:r,_key:t},n){const a=t(n);return r.has(a)&&(n=r.get(a),r.delete(a)),n}function RH(r){return r!==null&&typeof r=="object"?r.valueOf():r}function LH(r=cA){if(r===cA)return DO;if(typeof r!="function")throw new TypeError("compare is not a function");return(t,n)=>{const a=r(t,n);return a||a===0?a:(r(n,n)===0)-(r(t,t)===0)}}function DO(r,t){return(r==null||!(r>=r))-(t==null||!(t>=t))||(r<t?-1:r>t?1:0)}const UH=Math.sqrt(50),HH=Math.sqrt(10),QH=Math.sqrt(2);function zv(r,t,n){const a=(t-r)/Math.max(0,n),s=Math.floor(Math.log10(a)),i=a/Math.pow(10,s),c=i>=UH?10:i>=HH?5:i>=QH?2:1;let o,d,l;return s<0?(l=Math.pow(10,-s)/c,o=Math.round(r*l),d=Math.round(t*l),o/l<r&&++o,d/l>t&&--d,l=-l):(l=Math.pow(10,s)*c,o=Math.round(r/l),d=Math.round(t/l),o*l<r&&++o,d*l>t&&--d),d<o&&.5<=n&&n<2?zv(r,t,n*2):[o,d,l]}function JC(r,t,n){if(t=+t,r=+r,n=+n,!(n>0))return[];if(r===t)return[r];const a=t<r,[s,i,c]=a?zv(t,r,n):zv(r,t,n);if(!(i>=s))return[];const o=i-s+1,d=new Array(o);if(a)if(c<0)for(let l=0;l<o;++l)d[l]=(i-l)/-c;else for(let l=0;l<o;++l)d[l]=(i-l)*c;else if(c<0)for(let l=0;l<o;++l)d[l]=(s+l)/-c;else for(let l=0;l<o;++l)d[l]=(s+l)*c;return d}function ZC(r,t,n){return t=+t,r=+r,n=+n,zv(r,t,n)[2]}function eN(r,t,n){t=+t,r=+r,n=+n;const a=t<r,s=a?ZC(t,r,n):ZC(r,t,n);return(a?-1:1)*(s<0?1/-s:s)}function V3(r,t){let n;for(const a of r)a!=null&&(n<a||n===void 0&&a>=a)&&(n=a);return n}function z3(r,t){let n;for(const a of r)a!=null&&(n>a||n===void 0&&a>=a)&&(n=a);return n}function MO(r,t,n=0,a=1/0,s){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),a=Math.floor(Math.min(r.length-1,a)),!(n<=t&&t<=a))return r;for(s=s===void 0?DO:LH(s);a>n;){if(a-n>600){const d=a-n+1,l=t-n+1,u=Math.log(d),h=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*h*(d-h)/d)*(l-d/2<0?-1:1),A=Math.max(n,Math.floor(t-l*h/d+f)),g=Math.min(a,Math.floor(t+(d-l)*h/d+f));MO(r,t,A,g,s)}const i=r[t];let c=n,o=a;for(Km(r,n,t),s(r[a],i)>0&&Km(r,n,a);c<o;){for(Km(r,c,o),++c,--o;s(r[c],i)<0;)++c;for(;s(r[o],i)>0;)--o}s(r[n],i)===0?Km(r,n,o):(++o,Km(r,o,a)),o<=t&&(n=o+1),t<=o&&(a=o-1)}return r}function Km(r,t,n){const a=r[t];r[t]=r[n],r[n]=a}function WH(r,t,n){if(r=Float64Array.from(FH(r)),!(!(a=r.length)||isNaN(t=+t))){if(t<=0||a<2)return z3(r);if(t>=1)return V3(r);var a,s=(a-1)*t,i=Math.floor(s),c=V3(MO(r,i).subarray(0,i+1)),o=z3(r.subarray(i+1));return c+(o-c)*(s-i)}}function $H(r,t,n=PO){if(!(!(a=r.length)||isNaN(t=+t))){if(t<=0||a<2)return+n(r[0],0,r);if(t>=1)return+n(r[a-1],a-1,r);var a,s=(a-1)*t,i=Math.floor(s),c=+n(r[i],i,r),o=+n(r[i+1],i+1,r);return c+(o-c)*(s-i)}}function VH(r,t,n){r=+r,t=+t,n=(s=arguments.length)<2?(t=r,r=0,1):s<3?1:+n;for(var a=-1,s=Math.max(0,Math.ceil((t-r)/n))|0,i=new Array(s);++a<s;)i[a]=r+a*n;return i}function Ku(r,t){switch(arguments.length){case 0:break;case 1:this.range(r);break;default:this.range(t).domain(r);break}return this}function Sf(r,t){switch(arguments.length){case 0:break;case 1:{typeof r=="function"?this.interpolator(r):this.range(r);break}default:{this.domain(r),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const tN=Symbol("implicit");function Q4(){var r=new W3,t=[],n=[],a=tN;function s(i){let c=r.get(i);if(c===void 0){if(a!==tN)return a;r.set(i,c=t.push(i)-1)}return n[c%n.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],r=new W3;for(const c of i)r.has(c)||r.set(c,t.push(c)-1);return s},s.range=function(i){return arguments.length?(n=Array.from(i),s):n.slice()},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return Q4(t,n).unknown(a)},Ku.apply(s,arguments),s}function p1(){var r=Q4().unknown(void 0),t=r.domain,n=r.range,a=0,s=1,i,c,o=!1,d=0,l=0,u=.5;delete r.unknown;function h(){var f=t().length,A=s<a,g=A?s:a,m=A?a:s;i=(m-g)/Math.max(1,f-d+l*2),o&&(i=Math.floor(i)),g+=(m-g-i*(f-d))*u,c=i*(1-d),o&&(g=Math.round(g),c=Math.round(c));var x=VH(f).map(function(y){return g+i*y});return n(A?x.reverse():x)}return r.domain=function(f){return arguments.length?(t(f),h()):t()},r.range=function(f){return arguments.length?([a,s]=f,a=+a,s=+s,h()):[a,s]},r.rangeRound=function(f){return[a,s]=f,a=+a,s=+s,o=!0,h()},r.bandwidth=function(){return c},r.step=function(){return i},r.round=function(f){return arguments.length?(o=!!f,h()):o},r.padding=function(f){return arguments.length?(d=Math.min(1,l=+f),h()):d},r.paddingInner=function(f){return arguments.length?(d=Math.min(1,f),h()):d},r.paddingOuter=function(f){return arguments.length?(l=+f,h()):l},r.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),h()):u},r.copy=function(){return p1(t(),[a,s]).round(o).paddingInner(d).paddingOuter(l).align(u)},Ku.apply(h(),arguments)}function RO(r){var t=r.copy;return r.padding=r.paddingOuter,delete r.paddingInner,delete r.paddingOuter,r.copy=function(){return RO(t())},r}function Jg(){return RO(p1.apply(null,arguments).paddingInner(1))}function W4(r,t,n){r.prototype=t.prototype=n,n.constructor=r}function LO(r,t){var n=Object.create(r.prototype);for(var a in t)n[a]=t[a];return n}function G1(){}var m1=.7,Kv=1/m1,em="\\s*([+-]?\\d+)\\s*",g1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Dh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zH=/^#([0-9a-f]{3,8})$/,KH=new RegExp(`^rgb\\(${em},${em},${em}\\)$`),GH=new RegExp(`^rgb\\(${Dh},${Dh},${Dh}\\)$`),qH=new RegExp(`^rgba\\(${em},${em},${em},${g1}\\)$`),XH=new RegExp(`^rgba\\(${Dh},${Dh},${Dh},${g1}\\)$`),YH=new RegExp(`^hsl\\(${g1},${Dh},${Dh}\\)$`),JH=new RegExp(`^hsla\\(${g1},${Dh},${Dh},${g1}\\)$`),K3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};W4(G1,v1,{copy(r){return Object.assign(new this.constructor,this,r)},displayable(){return this.rgb().displayable()},hex:G3,formatHex:G3,formatHex8:ZH,formatHsl:eQ,formatRgb:q3,toString:q3});function G3(){return this.rgb().formatHex()}function ZH(){return this.rgb().formatHex8()}function eQ(){return UO(this).formatHsl()}function q3(){return this.rgb().formatRgb()}function v1(r){var t,n;return r=(r+"").trim().toLowerCase(),(t=zH.exec(r))?(n=t[1].length,t=parseInt(t[1],16),n===6?X3(t):n===3?new Hd(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?f0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?f0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=KH.exec(r))?new Hd(t[1],t[2],t[3],1):(t=GH.exec(r))?new Hd(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=qH.exec(r))?f0(t[1],t[2],t[3],t[4]):(t=XH.exec(r))?f0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=YH.exec(r))?Z3(t[1],t[2]/100,t[3]/100,1):(t=JH.exec(r))?Z3(t[1],t[2]/100,t[3]/100,t[4]):K3.hasOwnProperty(r)?X3(K3[r]):r==="transparent"?new Hd(NaN,NaN,NaN,0):null}function X3(r){return new Hd(r>>16&255,r>>8&255,r&255,1)}function f0(r,t,n,a){return a<=0&&(r=t=n=NaN),new Hd(r,t,n,a)}function tQ(r){return r instanceof G1||(r=v1(r)),r?(r=r.rgb(),new Hd(r.r,r.g,r.b,r.opacity)):new Hd}function rN(r,t,n,a){return arguments.length===1?tQ(r):new Hd(r,t,n,a??1)}function Hd(r,t,n,a){this.r=+r,this.g=+t,this.b=+n,this.opacity=+a}W4(Hd,rN,LO(G1,{brighter(r){return r=r==null?Kv:Math.pow(Kv,r),new Hd(this.r*r,this.g*r,this.b*r,this.opacity)},darker(r){return r=r==null?m1:Math.pow(m1,r),new Hd(this.r*r,this.g*r,this.b*r,this.opacity)},rgb(){return this},clamp(){return new Hd(ap(this.r),ap(this.g),ap(this.b),Gv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Y3,formatHex:Y3,formatHex8:rQ,formatRgb:J3,toString:J3}));function Y3(){return`#${ZA(this.r)}${ZA(this.g)}${ZA(this.b)}`}function rQ(){return`#${ZA(this.r)}${ZA(this.g)}${ZA(this.b)}${ZA((isNaN(this.opacity)?1:this.opacity)*255)}`}function J3(){const r=Gv(this.opacity);return`${r===1?"rgb(":"rgba("}${ap(this.r)}, ${ap(this.g)}, ${ap(this.b)}${r===1?")":`, ${r})`}`}function Gv(r){return isNaN(r)?1:Math.max(0,Math.min(1,r))}function ap(r){return Math.max(0,Math.min(255,Math.round(r)||0))}function ZA(r){return r=ap(r),(r<16?"0":"")+r.toString(16)}function Z3(r,t,n,a){return a<=0?r=t=n=NaN:n<=0||n>=1?r=t=NaN:t<=0&&(r=NaN),new hh(r,t,n,a)}function UO(r){if(r instanceof hh)return new hh(r.h,r.s,r.l,r.opacity);if(r instanceof G1||(r=v1(r)),!r)return new hh;if(r instanceof hh)return r;r=r.rgb();var t=r.r/255,n=r.g/255,a=r.b/255,s=Math.min(t,n,a),i=Math.max(t,n,a),c=NaN,o=i-s,d=(i+s)/2;return o?(t===i?c=(n-a)/o+(n<a)*6:n===i?c=(a-t)/o+2:c=(t-n)/o+4,o/=d<.5?i+s:2-i-s,c*=60):o=d>0&&d<1?0:c,new hh(c,o,d,r.opacity)}function nQ(r,t,n,a){return arguments.length===1?UO(r):new hh(r,t,n,a??1)}function hh(r,t,n,a){this.h=+r,this.s=+t,this.l=+n,this.opacity=+a}W4(hh,nQ,LO(G1,{brighter(r){return r=r==null?Kv:Math.pow(Kv,r),new hh(this.h,this.s,this.l*r,this.opacity)},darker(r){return r=r==null?m1:Math.pow(m1,r),new hh(this.h,this.s,this.l*r,this.opacity)},rgb(){var r=this.h%360+(this.h<0)*360,t=isNaN(r)||isNaN(this.s)?0:this.s,n=this.l,a=n+(n<.5?n:1-n)*t,s=2*n-a;return new Hd($b(r>=240?r-240:r+120,s,a),$b(r,s,a),$b(r<120?r+240:r-120,s,a),this.opacity)},clamp(){return new hh(eI(this.h),A0(this.s),A0(this.l),Gv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const r=Gv(this.opacity);return`${r===1?"hsl(":"hsla("}${eI(this.h)}, ${A0(this.s)*100}%, ${A0(this.l)*100}%${r===1?")":`, ${r})`}`}}));function eI(r){return r=(r||0)%360,r<0?r+360:r}function A0(r){return Math.max(0,Math.min(1,r||0))}function $b(r,t,n){return(r<60?t+(n-t)*r/60:r<180?n:r<240?t+(n-t)*(240-r)/60:t)*255}const $4=r=>()=>r;function aQ(r,t){return function(n){return r+n*t}}function sQ(r,t,n){return r=Math.pow(r,n),t=Math.pow(t,n)-r,n=1/n,function(a){return Math.pow(r+a*t,n)}}function iQ(r){return(r=+r)==1?HO:function(t,n){return n-t?sQ(t,n,r):$4(isNaN(t)?n:t)}}function HO(r,t){var n=t-r;return n?aQ(r,n):$4(isNaN(r)?t:r)}const tI=(function r(t){var n=iQ(t);function a(s,i){var c=n((s=rN(s)).r,(i=rN(i)).r),o=n(s.g,i.g),d=n(s.b,i.b),l=HO(s.opacity,i.opacity);return function(u){return s.r=c(u),s.g=o(u),s.b=d(u),s.opacity=l(u),s+""}}return a.gamma=r,a})(1);function oQ(r,t){t||(t=[]);var n=r?Math.min(t.length,r.length):0,a=t.slice(),s;return function(i){for(s=0;s<n;++s)a[s]=r[s]*(1-i)+t[s]*i;return a}}function lQ(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}function cQ(r,t){var n=t?t.length:0,a=r?Math.min(n,r.length):0,s=new Array(a),i=new Array(n),c;for(c=0;c<a;++c)s[c]=Pm(r[c],t[c]);for(;c<n;++c)i[c]=t[c];return function(o){for(c=0;c<a;++c)i[c]=s[c](o);return i}}function dQ(r,t){var n=new Date;return r=+r,t=+t,function(a){return n.setTime(r*(1-a)+t*a),n}}function qv(r,t){return r=+r,t=+t,function(n){return r*(1-n)+t*n}}function uQ(r,t){var n={},a={},s;(r===null||typeof r!="object")&&(r={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in r?n[s]=Pm(r[s],t[s]):a[s]=t[s];return function(i){for(s in n)a[s]=n[s](i);return a}}var nN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Vb=new RegExp(nN.source,"g");function hQ(r){return function(){return r}}function fQ(r){return function(t){return r(t)+""}}function AQ(r,t){var n=nN.lastIndex=Vb.lastIndex=0,a,s,i,c=-1,o=[],d=[];for(r=r+"",t=t+"";(a=nN.exec(r))&&(s=Vb.exec(t));)(i=s.index)>n&&(i=t.slice(n,i),o[c]?o[c]+=i:o[++c]=i),(a=a[0])===(s=s[0])?o[c]?o[c]+=s:o[++c]=s:(o[++c]=null,d.push({i:c,x:qv(a,s)})),n=Vb.lastIndex;return n<t.length&&(i=t.slice(n),o[c]?o[c]+=i:o[++c]=i),o.length<2?d[0]?fQ(d[0].x):hQ(t):(t=d.length,function(l){for(var u=0,h;u<t;++u)o[(h=d[u]).i]=h.x(l);return o.join("")})}function Pm(r,t){var n=typeof t,a;return t==null||n==="boolean"?$4(t):(n==="number"?qv:n==="string"?(a=v1(t))?(t=a,tI):AQ:t instanceof v1?tI:t instanceof Date?dQ:lQ(t)?oQ:Array.isArray(t)?cQ:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?uQ:qv)(r,t)}function V4(r,t){return r=+r,t=+t,function(n){return Math.round(r*(1-n)+t*n)}}function pQ(r,t){t===void 0&&(t=r,r=Pm);for(var n=0,a=t.length-1,s=t[0],i=new Array(a<0?0:a);n<a;)i[n]=r(s,s=t[++n]);return function(c){var o=Math.max(0,Math.min(a-1,Math.floor(c*=a)));return i[o](c-o)}}function mQ(r){return function(){return r}}function Xv(r){return+r}var rI=[0,1];function Nd(r){return r}function aN(r,t){return(t-=r=+r)?function(n){return(n-r)/t}:mQ(isNaN(t)?NaN:.5)}function gQ(r,t){var n;return r>t&&(n=r,r=t,t=n),function(a){return Math.max(r,Math.min(t,a))}}function vQ(r,t,n){var a=r[0],s=r[1],i=t[0],c=t[1];return s<a?(a=aN(s,a),i=n(c,i)):(a=aN(a,s),i=n(i,c)),function(o){return i(a(o))}}function xQ(r,t,n){var a=Math.min(r.length,t.length)-1,s=new Array(a),i=new Array(a),c=-1;for(r[a]<r[0]&&(r=r.slice().reverse(),t=t.slice().reverse());++c<a;)s[c]=aN(r[c],r[c+1]),i[c]=n(t[c],t[c+1]);return function(o){var d=K1(r,o,1,a)-1;return i[d](s[d](o))}}function q1(r,t){return t.domain(r.domain()).range(r.range()).interpolate(r.interpolate()).clamp(r.clamp()).unknown(r.unknown())}function t2(){var r=rI,t=rI,n=Pm,a,s,i,c=Nd,o,d,l;function u(){var f=Math.min(r.length,t.length);return c!==Nd&&(c=gQ(r[0],r[f-1])),o=f>2?xQ:vQ,d=l=null,h}function h(f){return f==null||isNaN(f=+f)?i:(d||(d=o(r.map(a),t,n)))(a(c(f)))}return h.invert=function(f){return c(s((l||(l=o(t,r.map(a),qv)))(f)))},h.domain=function(f){return arguments.length?(r=Array.from(f,Xv),u()):r.slice()},h.range=function(f){return arguments.length?(t=Array.from(f),u()):t.slice()},h.rangeRound=function(f){return t=Array.from(f),n=V4,u()},h.clamp=function(f){return arguments.length?(c=f?!0:Nd,u()):c!==Nd},h.interpolate=function(f){return arguments.length?(n=f,u()):n},h.unknown=function(f){return arguments.length?(i=f,h):i},function(f,A){return a=f,s=A,u()}}function z4(){return t2()(Nd,Nd)}function yQ(r){return Math.abs(r=Math.round(r))>=1e21?r.toLocaleString("en").replace(/,/g,""):r.toString(10)}function Yv(r,t){if(!isFinite(r)||r===0)return null;var n=(r=t?r.toExponential(t-1):r.toExponential()).indexOf("e"),a=r.slice(0,n);return[a.length>1?a[0]+a.slice(2):a,+r.slice(n+1)]}function om(r){return r=Yv(Math.abs(r)),r?r[1]:NaN}function jQ(r,t){return function(n,a){for(var s=n.length,i=[],c=0,o=r[0],d=0;s>0&&o>0&&(d+o+1>a&&(o=Math.max(1,a-d)),i.push(n.substring(s-=o,s+o)),!((d+=o+1)>a));)o=r[c=(c+1)%r.length];return i.reverse().join(t)}}function bQ(r){return function(t){return t.replace(/[0-9]/g,function(n){return r[+n]})}}var wQ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function x1(r){if(!(t=wQ.exec(r)))throw new Error("invalid format: "+r);var t;return new K4({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}x1.prototype=K4.prototype;function K4(r){this.fill=r.fill===void 0?" ":r.fill+"",this.align=r.align===void 0?">":r.align+"",this.sign=r.sign===void 0?"-":r.sign+"",this.symbol=r.symbol===void 0?"":r.symbol+"",this.zero=!!r.zero,this.width=r.width===void 0?void 0:+r.width,this.comma=!!r.comma,this.precision=r.precision===void 0?void 0:+r.precision,this.trim=!!r.trim,this.type=r.type===void 0?"":r.type+""}K4.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function CQ(r){e:for(var t=r.length,n=1,a=-1,s;n<t;++n)switch(r[n]){case".":a=s=n;break;case"0":a===0&&(a=n),s=n;break;default:if(!+r[n])break e;a>0&&(a=0);break}return a>0?r.slice(0,a)+r.slice(s+1):r}var Jv;function NQ(r,t){var n=Yv(r,t);if(!n)return Jv=void 0,r.toPrecision(t);var a=n[0],s=n[1],i=s-(Jv=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,c=a.length;return i===c?a:i>c?a+new Array(i-c+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+new Array(1-i).join("0")+Yv(r,Math.max(0,t+i-1))[0]}function nI(r,t){var n=Yv(r,t);if(!n)return r+"";var a=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+a:a.length>s+1?a.slice(0,s+1)+"."+a.slice(s+1):a+new Array(s-a.length+2).join("0")}const aI={"%":(r,t)=>(r*100).toFixed(t),b:r=>Math.round(r).toString(2),c:r=>r+"",d:yQ,e:(r,t)=>r.toExponential(t),f:(r,t)=>r.toFixed(t),g:(r,t)=>r.toPrecision(t),o:r=>Math.round(r).toString(8),p:(r,t)=>nI(r*100,t),r:nI,s:NQ,X:r=>Math.round(r).toString(16).toUpperCase(),x:r=>Math.round(r).toString(16)};function sI(r){return r}var iI=Array.prototype.map,oI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function SQ(r){var t=r.grouping===void 0||r.thousands===void 0?sI:jQ(iI.call(r.grouping,Number),r.thousands+""),n=r.currency===void 0?"":r.currency[0]+"",a=r.currency===void 0?"":r.currency[1]+"",s=r.decimal===void 0?".":r.decimal+"",i=r.numerals===void 0?sI:bQ(iI.call(r.numerals,String)),c=r.percent===void 0?"%":r.percent+"",o=r.minus===void 0?"":r.minus+"",d=r.nan===void 0?"NaN":r.nan+"";function l(h,f){h=x1(h);var A=h.fill,g=h.align,m=h.sign,x=h.symbol,y=h.zero,j=h.width,b=h.comma,S=h.precision,w=h.trim,E=h.type;E==="n"?(b=!0,E="g"):aI[E]||(S===void 0&&(S=12),w=!0,E="g"),(y||A==="0"&&g==="=")&&(y=!0,A="0",g="=");var I=(f&&f.prefix!==void 0?f.prefix:"")+(x==="$"?n:x==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():""),L=(x==="$"?a:/[%p]/.test(E)?c:"")+(f&&f.suffix!==void 0?f.suffix:""),J=aI[E],ae=/[defgprs%]/.test(E);S=S===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function G(le){var V=I,me=L,$,ee,we;if(E==="c")me=J(le)+me,le="";else{le=+le;var R=le<0||1/le<0;if(le=isNaN(le)?d:J(Math.abs(le),S),w&&(le=CQ(le)),R&&+le==0&&m!=="+"&&(R=!1),V=(R?m==="("?m:o:m==="-"||m==="("?"":m)+V,me=(E==="s"&&!isNaN(le)&&Jv!==void 0?oI[8+Jv/3]:"")+me+(R&&m==="("?")":""),ae){for($=-1,ee=le.length;++$<ee;)if(we=le.charCodeAt($),48>we||we>57){me=(we===46?s+le.slice($+1):le.slice($))+me,le=le.slice(0,$);break}}}b&&!y&&(le=t(le,1/0));var q=V.length+le.length+me.length,ie=q<j?new Array(j-q+1).join(A):"";switch(b&&y&&(le=t(ie+le,ie.length?j-me.length:1/0),ie=""),g){case"<":le=V+le+me+ie;break;case"=":le=V+ie+le+me;break;case"^":le=ie.slice(0,q=ie.length>>1)+V+le+me+ie.slice(q);break;default:le=ie+V+le+me;break}return i(le)}return G.toString=function(){return h+""},G}function u(h,f){var A=Math.max(-8,Math.min(8,Math.floor(om(f)/3)))*3,g=Math.pow(10,-A),m=l((h=x1(h),h.type="f",h),{suffix:oI[8+A/3]});return function(x){return m(g*x)}}return{format:l,formatPrefix:u}}var p0,G4,QO;EQ({thousands:",",grouping:[3],currency:["$",""]});function EQ(r){return p0=SQ(r),G4=p0.format,QO=p0.formatPrefix,p0}function BQ(r){return Math.max(0,-om(Math.abs(r)))}function IQ(r,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(om(t)/3)))*3-om(Math.abs(r)))}function TQ(r,t){return r=Math.abs(r),t=Math.abs(t)-r,Math.max(0,om(t)-om(r))+1}function WO(r,t,n,a){var s=eN(r,t,n),i;switch(a=x1(a??",f"),a.type){case"s":{var c=Math.max(Math.abs(r),Math.abs(t));return a.precision==null&&!isNaN(i=IQ(s,c))&&(a.precision=i),QO(a,c)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(i=TQ(s,Math.max(Math.abs(r),Math.abs(t))))&&(a.precision=i-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(i=BQ(s))&&(a.precision=i-(a.type==="%")*2);break}}return G4(a)}function mA(r){var t=r.domain;return r.ticks=function(n){var a=t();return JC(a[0],a[a.length-1],n??10)},r.tickFormat=function(n,a){var s=t();return WO(s[0],s[s.length-1],n??10,a)},r.nice=function(n){n==null&&(n=10);var a=t(),s=0,i=a.length-1,c=a[s],o=a[i],d,l,u=10;for(o<c&&(l=c,c=o,o=l,l=s,s=i,i=l);u-- >0;){if(l=ZC(c,o,n),l===d)return a[s]=c,a[i]=o,t(a);if(l>0)c=Math.floor(c/l)*l,o=Math.ceil(o/l)*l;else if(l<0)c=Math.ceil(c*l)/l,o=Math.floor(o*l)/l;else break;d=l}return r},r}function Zv(){var r=z4();return r.copy=function(){return q1(r,Zv())},Ku.apply(r,arguments),mA(r)}function $O(r){var t;function n(a){return a==null||isNaN(a=+a)?t:a}return n.invert=n,n.domain=n.range=function(a){return arguments.length?(r=Array.from(a,Xv),n):r.slice()},n.unknown=function(a){return arguments.length?(t=a,n):t},n.copy=function(){return $O(r).unknown(t)},r=arguments.length?Array.from(r,Xv):[0,1],mA(n)}function VO(r,t){r=r.slice();var n=0,a=r.length-1,s=r[n],i=r[a],c;return i<s&&(c=n,n=a,a=c,c=s,s=i,i=c),r[n]=t.floor(s),r[a]=t.ceil(i),r}function lI(r){return Math.log(r)}function cI(r){return Math.exp(r)}function kQ(r){return-Math.log(-r)}function _Q(r){return-Math.exp(-r)}function OQ(r){return isFinite(r)?+("1e"+r):r<0?0:r}function FQ(r){return r===10?OQ:r===Math.E?Math.exp:t=>Math.pow(r,t)}function PQ(r){return r===Math.E?Math.log:r===10&&Math.log10||r===2&&Math.log2||(r=Math.log(r),t=>Math.log(t)/r)}function dI(r){return(t,n)=>-r(-t,n)}function q4(r){const t=r(lI,cI),n=t.domain;let a=10,s,i;function c(){return s=PQ(a),i=FQ(a),n()[0]<0?(s=dI(s),i=dI(i),r(kQ,_Q)):r(lI,cI),t}return t.base=function(o){return arguments.length?(a=+o,c()):a},t.domain=function(o){return arguments.length?(n(o),c()):n()},t.ticks=o=>{const d=n();let l=d[0],u=d[d.length-1];const h=u<l;h&&([l,u]=[u,l]);let f=s(l),A=s(u),g,m;const x=o==null?10:+o;let y=[];if(!(a%1)&&A-f<x){if(f=Math.floor(f),A=Math.ceil(A),l>0){for(;f<=A;++f)for(g=1;g<a;++g)if(m=f<0?g/i(-f):g*i(f),!(m<l)){if(m>u)break;y.push(m)}}else for(;f<=A;++f)for(g=a-1;g>=1;--g)if(m=f>0?g/i(-f):g*i(f),!(m<l)){if(m>u)break;y.push(m)}y.length*2<x&&(y=JC(l,u,x))}else y=JC(f,A,Math.min(A-f,x)).map(i);return h?y.reverse():y},t.tickFormat=(o,d)=>{if(o==null&&(o=10),d==null&&(d=a===10?"s":","),typeof d!="function"&&(!(a%1)&&(d=x1(d)).precision==null&&(d.trim=!0),d=G4(d)),o===1/0)return d;const l=Math.max(1,a*o/t.ticks().length);return u=>{let h=u/i(Math.round(s(u)));return h*a<a-.5&&(h*=a),h<=l?d(u):""}},t.nice=()=>n(VO(n(),{floor:o=>i(Math.floor(s(o))),ceil:o=>i(Math.ceil(s(o)))})),t}function zO(){const r=q4(t2()).domain([1,10]);return r.copy=()=>q1(r,zO()).base(r.base()),Ku.apply(r,arguments),r}function uI(r){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/r))}}function hI(r){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*r}}function X4(r){var t=1,n=r(uI(t),hI(t));return n.constant=function(a){return arguments.length?r(uI(t=+a),hI(t)):t},mA(n)}function KO(){var r=X4(t2());return r.copy=function(){return q1(r,KO()).constant(r.constant())},Ku.apply(r,arguments)}function fI(r){return function(t){return t<0?-Math.pow(-t,r):Math.pow(t,r)}}function DQ(r){return r<0?-Math.sqrt(-r):Math.sqrt(r)}function MQ(r){return r<0?-r*r:r*r}function Y4(r){var t=r(Nd,Nd),n=1;function a(){return n===1?r(Nd,Nd):n===.5?r(DQ,MQ):r(fI(n),fI(1/n))}return t.exponent=function(s){return arguments.length?(n=+s,a()):n},mA(t)}function J4(){var r=Y4(t2());return r.copy=function(){return q1(r,J4()).exponent(r.exponent())},Ku.apply(r,arguments),r}function RQ(){return J4.apply(null,arguments).exponent(.5)}function AI(r){return Math.sign(r)*r*r}function LQ(r){return Math.sign(r)*Math.sqrt(Math.abs(r))}function GO(){var r=z4(),t=[0,1],n=!1,a;function s(i){var c=LQ(r(i));return isNaN(c)?a:n?Math.round(c):c}return s.invert=function(i){return r.invert(AI(i))},s.domain=function(i){return arguments.length?(r.domain(i),s):r.domain()},s.range=function(i){return arguments.length?(r.range((t=Array.from(i,Xv)).map(AI)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(n=!!i,s):n},s.clamp=function(i){return arguments.length?(r.clamp(i),s):r.clamp()},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return GO(r.domain(),t).round(n).clamp(r.clamp()).unknown(a)},Ku.apply(s,arguments),mA(s)}function qO(){var r=[],t=[],n=[],a;function s(){var c=0,o=Math.max(1,t.length);for(n=new Array(o-1);++c<o;)n[c-1]=$H(r,c/o);return i}function i(c){return c==null||isNaN(c=+c)?a:t[K1(n,c)]}return i.invertExtent=function(c){var o=t.indexOf(c);return o<0?[NaN,NaN]:[o>0?n[o-1]:r[0],o<n.length?n[o]:r[r.length-1]]},i.domain=function(c){if(!arguments.length)return r.slice();r=[];for(let o of c)o!=null&&!isNaN(o=+o)&&r.push(o);return r.sort(cA),s()},i.range=function(c){return arguments.length?(t=Array.from(c),s()):t.slice()},i.unknown=function(c){return arguments.length?(a=c,i):a},i.quantiles=function(){return n.slice()},i.copy=function(){return qO().domain(r).range(t).unknown(a)},Ku.apply(i,arguments)}function XO(){var r=0,t=1,n=1,a=[.5],s=[0,1],i;function c(d){return d!=null&&d<=d?s[K1(a,d,0,n)]:i}function o(){var d=-1;for(a=new Array(n);++d<n;)a[d]=((d+1)*t-(d-n)*r)/(n+1);return c}return c.domain=function(d){return arguments.length?([r,t]=d,r=+r,t=+t,o()):[r,t]},c.range=function(d){return arguments.length?(n=(s=Array.from(d)).length-1,o()):s.slice()},c.invertExtent=function(d){var l=s.indexOf(d);return l<0?[NaN,NaN]:l<1?[r,a[0]]:l>=n?[a[n-1],t]:[a[l-1],a[l]]},c.unknown=function(d){return arguments.length&&(i=d),c},c.thresholds=function(){return a.slice()},c.copy=function(){return XO().domain([r,t]).range(s).unknown(i)},Ku.apply(mA(c),arguments)}function YO(){var r=[.5],t=[0,1],n,a=1;function s(i){return i!=null&&i<=i?t[K1(r,i,0,a)]:n}return s.domain=function(i){return arguments.length?(r=Array.from(i),a=Math.min(r.length,t.length-1),s):r.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),a=Math.min(r.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var c=t.indexOf(i);return[r[c-1],r[c]]},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return YO().domain(r).range(t).unknown(n)},Ku.apply(s,arguments)}const zb=new Date,Kb=new Date;function tc(r,t,n,a){function s(i){return r(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(r(i=new Date(+i)),i),s.ceil=i=>(r(i=new Date(i-1)),t(i,1),r(i),i),s.round=i=>{const c=s(i),o=s.ceil(i);return i-c<o-i?c:o},s.offset=(i,c)=>(t(i=new Date(+i),c==null?1:Math.floor(c)),i),s.range=(i,c,o)=>{const d=[];if(i=s.ceil(i),o=o==null?1:Math.floor(o),!(i<c)||!(o>0))return d;let l;do d.push(l=new Date(+i)),t(i,o),r(i);while(l<i&&i<c);return d},s.filter=i=>tc(c=>{if(c>=c)for(;r(c),!i(c);)c.setTime(c-1)},(c,o)=>{if(c>=c)if(o<0)for(;++o<=0;)for(;t(c,-1),!i(c););else for(;--o>=0;)for(;t(c,1),!i(c););}),n&&(s.count=(i,c)=>(zb.setTime(+i),Kb.setTime(+c),r(zb),r(Kb),Math.floor(n(zb,Kb))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(a?c=>a(c)%i===0:c=>s.count(0,c)%i===0):s)),s}const ex=tc(()=>{},(r,t)=>{r.setTime(+r+t)},(r,t)=>t-r);ex.every=r=>(r=Math.floor(r),!isFinite(r)||!(r>0)?null:r>1?tc(t=>{t.setTime(Math.floor(t/r)*r)},(t,n)=>{t.setTime(+t+n*r)},(t,n)=>(n-t)/r):ex);ex.range;const Af=1e3,Wu=Af*60,pf=Wu*60,jf=pf*24,Z4=jf*7,pI=jf*30,Gb=jf*365,ep=tc(r=>{r.setTime(r-r.getMilliseconds())},(r,t)=>{r.setTime(+r+t*Af)},(r,t)=>(t-r)/Af,r=>r.getUTCSeconds());ep.range;const eS=tc(r=>{r.setTime(r-r.getMilliseconds()-r.getSeconds()*Af)},(r,t)=>{r.setTime(+r+t*Wu)},(r,t)=>(t-r)/Wu,r=>r.getMinutes());eS.range;const tS=tc(r=>{r.setUTCSeconds(0,0)},(r,t)=>{r.setTime(+r+t*Wu)},(r,t)=>(t-r)/Wu,r=>r.getUTCMinutes());tS.range;const rS=tc(r=>{r.setTime(r-r.getMilliseconds()-r.getSeconds()*Af-r.getMinutes()*Wu)},(r,t)=>{r.setTime(+r+t*pf)},(r,t)=>(t-r)/pf,r=>r.getHours());rS.range;const nS=tc(r=>{r.setUTCMinutes(0,0,0)},(r,t)=>{r.setTime(+r+t*pf)},(r,t)=>(t-r)/pf,r=>r.getUTCHours());nS.range;const X1=tc(r=>r.setHours(0,0,0,0),(r,t)=>r.setDate(r.getDate()+t),(r,t)=>(t-r-(t.getTimezoneOffset()-r.getTimezoneOffset())*Wu)/jf,r=>r.getDate()-1);X1.range;const r2=tc(r=>{r.setUTCHours(0,0,0,0)},(r,t)=>{r.setUTCDate(r.getUTCDate()+t)},(r,t)=>(t-r)/jf,r=>r.getUTCDate()-1);r2.range;const JO=tc(r=>{r.setUTCHours(0,0,0,0)},(r,t)=>{r.setUTCDate(r.getUTCDate()+t)},(r,t)=>(t-r)/jf,r=>Math.floor(r/jf));JO.range;function mp(r){return tc(t=>{t.setDate(t.getDate()-(t.getDay()+7-r)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Wu)/Z4)}const n2=mp(0),tx=mp(1),UQ=mp(2),HQ=mp(3),lm=mp(4),QQ=mp(5),WQ=mp(6);n2.range;tx.range;UQ.range;HQ.range;lm.range;QQ.range;WQ.range;function gp(r){return tc(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-r)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Z4)}const a2=gp(0),rx=gp(1),$Q=gp(2),VQ=gp(3),cm=gp(4),zQ=gp(5),KQ=gp(6);a2.range;rx.range;$Q.range;VQ.range;cm.range;zQ.range;KQ.range;const aS=tc(r=>{r.setDate(1),r.setHours(0,0,0,0)},(r,t)=>{r.setMonth(r.getMonth()+t)},(r,t)=>t.getMonth()-r.getMonth()+(t.getFullYear()-r.getFullYear())*12,r=>r.getMonth());aS.range;const sS=tc(r=>{r.setUTCDate(1),r.setUTCHours(0,0,0,0)},(r,t)=>{r.setUTCMonth(r.getUTCMonth()+t)},(r,t)=>t.getUTCMonth()-r.getUTCMonth()+(t.getUTCFullYear()-r.getUTCFullYear())*12,r=>r.getUTCMonth());sS.range;const bf=tc(r=>{r.setMonth(0,1),r.setHours(0,0,0,0)},(r,t)=>{r.setFullYear(r.getFullYear()+t)},(r,t)=>t.getFullYear()-r.getFullYear(),r=>r.getFullYear());bf.every=r=>!isFinite(r=Math.floor(r))||!(r>0)?null:tc(t=>{t.setFullYear(Math.floor(t.getFullYear()/r)*r),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*r)});bf.range;const wf=tc(r=>{r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},(r,t)=>{r.setUTCFullYear(r.getUTCFullYear()+t)},(r,t)=>t.getUTCFullYear()-r.getUTCFullYear(),r=>r.getUTCFullYear());wf.every=r=>!isFinite(r=Math.floor(r))||!(r>0)?null:tc(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/r)*r),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*r)});wf.range;function ZO(r,t,n,a,s,i){const c=[[ep,1,Af],[ep,5,5*Af],[ep,15,15*Af],[ep,30,30*Af],[i,1,Wu],[i,5,5*Wu],[i,15,15*Wu],[i,30,30*Wu],[s,1,pf],[s,3,3*pf],[s,6,6*pf],[s,12,12*pf],[a,1,jf],[a,2,2*jf],[n,1,Z4],[t,1,pI],[t,3,3*pI],[r,1,Gb]];function o(l,u,h){const f=u<l;f&&([l,u]=[u,l]);const A=h&&typeof h.range=="function"?h:d(l,u,h),g=A?A.range(l,+u+1):[];return f?g.reverse():g}function d(l,u,h){const f=Math.abs(u-l)/h,A=H4(([,,x])=>x).right(c,f);if(A===c.length)return r.every(eN(l/Gb,u/Gb,h));if(A===0)return ex.every(Math.max(eN(l,u,h),1));const[g,m]=c[f/c[A-1][2]<c[A][2]/f?A-1:A];return g.every(m)}return[o,d]}const[GQ,qQ]=ZO(wf,sS,a2,JO,nS,tS),[XQ,YQ]=ZO(bf,aS,n2,X1,rS,eS);function qb(r){if(0<=r.y&&r.y<100){var t=new Date(-1,r.m,r.d,r.H,r.M,r.S,r.L);return t.setFullYear(r.y),t}return new Date(r.y,r.m,r.d,r.H,r.M,r.S,r.L)}function Xb(r){if(0<=r.y&&r.y<100){var t=new Date(Date.UTC(-1,r.m,r.d,r.H,r.M,r.S,r.L));return t.setUTCFullYear(r.y),t}return new Date(Date.UTC(r.y,r.m,r.d,r.H,r.M,r.S,r.L))}function Gm(r,t,n){return{y:r,m:t,d:n,H:0,M:0,S:0,L:0}}function JQ(r){var t=r.dateTime,n=r.date,a=r.time,s=r.periods,i=r.days,c=r.shortDays,o=r.months,d=r.shortMonths,l=qm(s),u=Xm(s),h=qm(i),f=Xm(i),A=qm(c),g=Xm(c),m=qm(o),x=Xm(o),y=qm(d),j=Xm(d),b={a:we,A:R,b:q,B:ie,c:null,d:jI,e:jI,f:jW,g:kW,G:OW,H:vW,I:xW,j:yW,L:eF,m:bW,M:wW,p:Z,q:D,Q:CI,s:NI,S:CW,u:NW,U:SW,V:EW,w:BW,W:IW,x:null,X:null,y:TW,Y:_W,Z:FW,"%":wI},S={a:ue,A:te,b:ye,B:pe,c:null,d:bI,e:bI,f:RW,g:GW,G:XW,H:PW,I:DW,j:MW,L:rF,m:LW,M:UW,p:je,q:re,Q:CI,s:NI,S:HW,u:QW,U:WW,V:$W,w:VW,W:zW,x:null,X:null,y:KW,Y:qW,Z:YW,"%":wI},w={a:ae,A:G,b:le,B:V,c:me,d:xI,e:xI,f:AW,g:vI,G:gI,H:yI,I:yI,j:dW,L:fW,m:cW,M:uW,p:J,q:lW,Q:mW,s:gW,S:hW,u:nW,U:aW,V:sW,w:rW,W:iW,x:$,X:ee,y:vI,Y:gI,Z:oW,"%":pW};b.x=E(n,b),b.X=E(a,b),b.c=E(t,b),S.x=E(n,S),S.X=E(a,S),S.c=E(t,S);function E(he,X){return function(Ae){var Be=[],Me=-1,$e=0,ne=he.length,Pe,_e,rt;for(Ae instanceof Date||(Ae=new Date(+Ae));++Me<ne;)he.charCodeAt(Me)===37&&(Be.push(he.slice($e,Me)),(_e=mI[Pe=he.charAt(++Me)])!=null?Pe=he.charAt(++Me):_e=Pe==="e"?" ":"0",(rt=X[Pe])&&(Pe=rt(Ae,_e)),Be.push(Pe),$e=Me+1);return Be.push(he.slice($e,Me)),Be.join("")}}function I(he,X){return function(Ae){var Be=Gm(1900,void 0,1),Me=L(Be,he,Ae+="",0),$e,ne;if(Me!=Ae.length)return null;if("Q"in Be)return new Date(Be.Q);if("s"in Be)return new Date(Be.s*1e3+("L"in Be?Be.L:0));if(X&&!("Z"in Be)&&(Be.Z=0),"p"in Be&&(Be.H=Be.H%12+Be.p*12),Be.m===void 0&&(Be.m="q"in Be?Be.q:0),"V"in Be){if(Be.V<1||Be.V>53)return null;"w"in Be||(Be.w=1),"Z"in Be?($e=Xb(Gm(Be.y,0,1)),ne=$e.getUTCDay(),$e=ne>4||ne===0?rx.ceil($e):rx($e),$e=r2.offset($e,(Be.V-1)*7),Be.y=$e.getUTCFullYear(),Be.m=$e.getUTCMonth(),Be.d=$e.getUTCDate()+(Be.w+6)%7):($e=qb(Gm(Be.y,0,1)),ne=$e.getDay(),$e=ne>4||ne===0?tx.ceil($e):tx($e),$e=X1.offset($e,(Be.V-1)*7),Be.y=$e.getFullYear(),Be.m=$e.getMonth(),Be.d=$e.getDate()+(Be.w+6)%7)}else("W"in Be||"U"in Be)&&("w"in Be||(Be.w="u"in Be?Be.u%7:"W"in Be?1:0),ne="Z"in Be?Xb(Gm(Be.y,0,1)).getUTCDay():qb(Gm(Be.y,0,1)).getDay(),Be.m=0,Be.d="W"in Be?(Be.w+6)%7+Be.W*7-(ne+5)%7:Be.w+Be.U*7-(ne+6)%7);return"Z"in Be?(Be.H+=Be.Z/100|0,Be.M+=Be.Z%100,Xb(Be)):qb(Be)}}function L(he,X,Ae,Be){for(var Me=0,$e=X.length,ne=Ae.length,Pe,_e;Me<$e;){if(Be>=ne)return-1;if(Pe=X.charCodeAt(Me++),Pe===37){if(Pe=X.charAt(Me++),_e=w[Pe in mI?X.charAt(Me++):Pe],!_e||(Be=_e(he,Ae,Be))<0)return-1}else if(Pe!=Ae.charCodeAt(Be++))return-1}return Be}function J(he,X,Ae){var Be=l.exec(X.slice(Ae));return Be?(he.p=u.get(Be[0].toLowerCase()),Ae+Be[0].length):-1}function ae(he,X,Ae){var Be=A.exec(X.slice(Ae));return Be?(he.w=g.get(Be[0].toLowerCase()),Ae+Be[0].length):-1}function G(he,X,Ae){var Be=h.exec(X.slice(Ae));return Be?(he.w=f.get(Be[0].toLowerCase()),Ae+Be[0].length):-1}function le(he,X,Ae){var Be=y.exec(X.slice(Ae));return Be?(he.m=j.get(Be[0].toLowerCase()),Ae+Be[0].length):-1}function V(he,X,Ae){var Be=m.exec(X.slice(Ae));return Be?(he.m=x.get(Be[0].toLowerCase()),Ae+Be[0].length):-1}function me(he,X,Ae){return L(he,t,X,Ae)}function $(he,X,Ae){return L(he,n,X,Ae)}function ee(he,X,Ae){return L(he,a,X,Ae)}function we(he){return c[he.getDay()]}function R(he){return i[he.getDay()]}function q(he){return d[he.getMonth()]}function ie(he){return o[he.getMonth()]}function Z(he){return s[+(he.getHours()>=12)]}function D(he){return 1+~~(he.getMonth()/3)}function ue(he){return c[he.getUTCDay()]}function te(he){return i[he.getUTCDay()]}function ye(he){return d[he.getUTCMonth()]}function pe(he){return o[he.getUTCMonth()]}function je(he){return s[+(he.getUTCHours()>=12)]}function re(he){return 1+~~(he.getUTCMonth()/3)}return{format:function(he){var X=E(he+="",b);return X.toString=function(){return he},X},parse:function(he){var X=I(he+="",!1);return X.toString=function(){return he},X},utcFormat:function(he){var X=E(he+="",S);return X.toString=function(){return he},X},utcParse:function(he){var X=I(he+="",!0);return X.toString=function(){return he},X}}}var mI={"-":"",_:" ",0:"0"},Sc=/^\s*\d+/,ZQ=/^%/,eW=/[\\^$*+?|[\]().{}]/g;function fi(r,t,n){var a=r<0?"-":"",s=(a?-r:r)+"",i=s.length;return a+(i<n?new Array(n-i+1).join(t)+s:s)}function tW(r){return r.replace(eW,"\\$&")}function qm(r){return new RegExp("^(?:"+r.map(tW).join("|")+")","i")}function Xm(r){return new Map(r.map((t,n)=>[t.toLowerCase(),n]))}function rW(r,t,n){var a=Sc.exec(t.slice(n,n+1));return a?(r.w=+a[0],n+a[0].length):-1}function nW(r,t,n){var a=Sc.exec(t.slice(n,n+1));return a?(r.u=+a[0],n+a[0].length):-1}function aW(r,t,n){var a=Sc.exec(t.slice(n,n+2));return a?(r.U=+a[0],n+a[0].length):-1}function sW(r,t,n){var a=Sc.exec(t.slice(n,n+2));return a?(r.V=+a[0],n+a[0].length):-1}function iW(r,t,n){var a=Sc.exec(t.slice(n,n+2));return a?(r.W=+a[0],n+a[0].length):-1}function gI(r,t,n){var a=Sc.exec(t.slice(n,n+4));return a?(r.y=+a[0],n+a[0].length):-1}function vI(r,t,n){var a=Sc.exec(t.slice(n,n+2));return a?(r.y=+a[0]+(+a[0]>68?1900:2e3),n+a[0].length):-1}function oW(r,t,n){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return a?(r.Z=a[1]?0:-(a[2]+(a[3]||"00")),n+a[0].length):-1}function lW(r,t,n){var a=Sc.exec(t.slice(n,n+1));return a?(r.q=a[0]*3-3,n+a[0].length):-1}function cW(r,t,n){var a=Sc.exec(t.slice(n,n+2));return a?(r.m=a[0]-1,n+a[0].length):-1}function xI(r,t,n){var a=Sc.exec(t.slice(n,n+2));return a?(r.d=+a[0],n+a[0].length):-1}function dW(r,t,n){var a=Sc.exec(t.slice(n,n+3));return a?(r.m=0,r.d=+a[0],n+a[0].length):-1}function yI(r,t,n){var a=Sc.exec(t.slice(n,n+2));return a?(r.H=+a[0],n+a[0].length):-1}function uW(r,t,n){var a=Sc.exec(t.slice(n,n+2));return a?(r.M=+a[0],n+a[0].length):-1}function hW(r,t,n){var a=Sc.exec(t.slice(n,n+2));return a?(r.S=+a[0],n+a[0].length):-1}function fW(r,t,n){var a=Sc.exec(t.slice(n,n+3));return a?(r.L=+a[0],n+a[0].length):-1}function AW(r,t,n){var a=Sc.exec(t.slice(n,n+6));return a?(r.L=Math.floor(a[0]/1e3),n+a[0].length):-1}function pW(r,t,n){var a=ZQ.exec(t.slice(n,n+1));return a?n+a[0].length:-1}function mW(r,t,n){var a=Sc.exec(t.slice(n));return a?(r.Q=+a[0],n+a[0].length):-1}function gW(r,t,n){var a=Sc.exec(t.slice(n));return a?(r.s=+a[0],n+a[0].length):-1}function jI(r,t){return fi(r.getDate(),t,2)}function vW(r,t){return fi(r.getHours(),t,2)}function xW(r,t){return fi(r.getHours()%12||12,t,2)}function yW(r,t){return fi(1+X1.count(bf(r),r),t,3)}function eF(r,t){return fi(r.getMilliseconds(),t,3)}function jW(r,t){return eF(r,t)+"000"}function bW(r,t){return fi(r.getMonth()+1,t,2)}function wW(r,t){return fi(r.getMinutes(),t,2)}function CW(r,t){return fi(r.getSeconds(),t,2)}function NW(r){var t=r.getDay();return t===0?7:t}function SW(r,t){return fi(n2.count(bf(r)-1,r),t,2)}function tF(r){var t=r.getDay();return t>=4||t===0?lm(r):lm.ceil(r)}function EW(r,t){return r=tF(r),fi(lm.count(bf(r),r)+(bf(r).getDay()===4),t,2)}function BW(r){return r.getDay()}function IW(r,t){return fi(tx.count(bf(r)-1,r),t,2)}function TW(r,t){return fi(r.getFullYear()%100,t,2)}function kW(r,t){return r=tF(r),fi(r.getFullYear()%100,t,2)}function _W(r,t){return fi(r.getFullYear()%1e4,t,4)}function OW(r,t){var n=r.getDay();return r=n>=4||n===0?lm(r):lm.ceil(r),fi(r.getFullYear()%1e4,t,4)}function FW(r){var t=r.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+fi(t/60|0,"0",2)+fi(t%60,"0",2)}function bI(r,t){return fi(r.getUTCDate(),t,2)}function PW(r,t){return fi(r.getUTCHours(),t,2)}function DW(r,t){return fi(r.getUTCHours()%12||12,t,2)}function MW(r,t){return fi(1+r2.count(wf(r),r),t,3)}function rF(r,t){return fi(r.getUTCMilliseconds(),t,3)}function RW(r,t){return rF(r,t)+"000"}function LW(r,t){return fi(r.getUTCMonth()+1,t,2)}function UW(r,t){return fi(r.getUTCMinutes(),t,2)}function HW(r,t){return fi(r.getUTCSeconds(),t,2)}function QW(r){var t=r.getUTCDay();return t===0?7:t}function WW(r,t){return fi(a2.count(wf(r)-1,r),t,2)}function nF(r){var t=r.getUTCDay();return t>=4||t===0?cm(r):cm.ceil(r)}function $W(r,t){return r=nF(r),fi(cm.count(wf(r),r)+(wf(r).getUTCDay()===4),t,2)}function VW(r){return r.getUTCDay()}function zW(r,t){return fi(rx.count(wf(r)-1,r),t,2)}function KW(r,t){return fi(r.getUTCFullYear()%100,t,2)}function GW(r,t){return r=nF(r),fi(r.getUTCFullYear()%100,t,2)}function qW(r,t){return fi(r.getUTCFullYear()%1e4,t,4)}function XW(r,t){var n=r.getUTCDay();return r=n>=4||n===0?cm(r):cm.ceil(r),fi(r.getUTCFullYear()%1e4,t,4)}function YW(){return"+0000"}function wI(){return"%"}function CI(r){return+r}function NI(r){return Math.floor(+r/1e3)}var kp,aF,sF;JW({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function JW(r){return kp=JQ(r),aF=kp.format,kp.parse,sF=kp.utcFormat,kp.utcParse,kp}function ZW(r){return new Date(r)}function e$(r){return r instanceof Date?+r:+new Date(+r)}function iS(r,t,n,a,s,i,c,o,d,l){var u=z4(),h=u.invert,f=u.domain,A=l(".%L"),g=l(":%S"),m=l("%I:%M"),x=l("%I %p"),y=l("%a %d"),j=l("%b %d"),b=l("%B"),S=l("%Y");function w(E){return(d(E)<E?A:o(E)<E?g:c(E)<E?m:i(E)<E?x:a(E)<E?s(E)<E?y:j:n(E)<E?b:S)(E)}return u.invert=function(E){return new Date(h(E))},u.domain=function(E){return arguments.length?f(Array.from(E,e$)):f().map(ZW)},u.ticks=function(E){var I=f();return r(I[0],I[I.length-1],E??10)},u.tickFormat=function(E,I){return I==null?w:l(I)},u.nice=function(E){var I=f();return(!E||typeof E.range!="function")&&(E=t(I[0],I[I.length-1],E??10)),E?f(VO(I,E)):u},u.copy=function(){return q1(u,iS(r,t,n,a,s,i,c,o,d,l))},u}function t$(){return Ku.apply(iS(XQ,YQ,bf,aS,n2,X1,rS,eS,ep,aF).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function r$(){return Ku.apply(iS(GQ,qQ,wf,sS,a2,r2,nS,tS,ep,sF).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function s2(){var r=0,t=1,n,a,s,i,c=Nd,o=!1,d;function l(h){return h==null||isNaN(h=+h)?d:c(s===0?.5:(h=(i(h)-n)*s,o?Math.max(0,Math.min(1,h)):h))}l.domain=function(h){return arguments.length?([r,t]=h,n=i(r=+r),a=i(t=+t),s=n===a?0:1/(a-n),l):[r,t]},l.clamp=function(h){return arguments.length?(o=!!h,l):o},l.interpolator=function(h){return arguments.length?(c=h,l):c};function u(h){return function(f){var A,g;return arguments.length?([A,g]=f,c=h(A,g),l):[c(0),c(1)]}}return l.range=u(Pm),l.rangeRound=u(V4),l.unknown=function(h){return arguments.length?(d=h,l):d},function(h){return i=h,n=h(r),a=h(t),s=n===a?0:1/(a-n),l}}function gA(r,t){return t.domain(r.domain()).interpolator(r.interpolator()).clamp(r.clamp()).unknown(r.unknown())}function iF(){var r=mA(s2()(Nd));return r.copy=function(){return gA(r,iF())},Sf.apply(r,arguments)}function oF(){var r=q4(s2()).domain([1,10]);return r.copy=function(){return gA(r,oF()).base(r.base())},Sf.apply(r,arguments)}function lF(){var r=X4(s2());return r.copy=function(){return gA(r,lF()).constant(r.constant())},Sf.apply(r,arguments)}function oS(){var r=Y4(s2());return r.copy=function(){return gA(r,oS()).exponent(r.exponent())},Sf.apply(r,arguments)}function n$(){return oS.apply(null,arguments).exponent(.5)}function cF(){var r=[],t=Nd;function n(a){if(a!=null&&!isNaN(a=+a))return t((K1(r,a,1)-1)/(r.length-1))}return n.domain=function(a){if(!arguments.length)return r.slice();r=[];for(let s of a)s!=null&&!isNaN(s=+s)&&r.push(s);return r.sort(cA),n},n.interpolator=function(a){return arguments.length?(t=a,n):t},n.range=function(){return r.map((a,s)=>t(s/(r.length-1)))},n.quantiles=function(a){return Array.from({length:a+1},(s,i)=>WH(r,i/a))},n.copy=function(){return cF(t).domain(r)},Sf.apply(n,arguments)}function i2(){var r=0,t=.5,n=1,a=1,s,i,c,o,d,l=Nd,u,h=!1,f;function A(m){return isNaN(m=+m)?f:(m=.5+((m=+u(m))-i)*(a*m<a*i?o:d),l(h?Math.max(0,Math.min(1,m)):m))}A.domain=function(m){return arguments.length?([r,t,n]=m,s=u(r=+r),i=u(t=+t),c=u(n=+n),o=s===i?0:.5/(i-s),d=i===c?0:.5/(c-i),a=i<s?-1:1,A):[r,t,n]},A.clamp=function(m){return arguments.length?(h=!!m,A):h},A.interpolator=function(m){return arguments.length?(l=m,A):l};function g(m){return function(x){var y,j,b;return arguments.length?([y,j,b]=x,l=pQ(m,[y,j,b]),A):[l(0),l(.5),l(1)]}}return A.range=g(Pm),A.rangeRound=g(V4),A.unknown=function(m){return arguments.length?(f=m,A):f},function(m){return u=m,s=m(r),i=m(t),c=m(n),o=s===i?0:.5/(i-s),d=i===c?0:.5/(c-i),a=i<s?-1:1,A}}function dF(){var r=mA(i2()(Nd));return r.copy=function(){return gA(r,dF())},Sf.apply(r,arguments)}function uF(){var r=q4(i2()).domain([.1,1,10]);return r.copy=function(){return gA(r,uF()).base(r.base())},Sf.apply(r,arguments)}function hF(){var r=X4(i2());return r.copy=function(){return gA(r,hF()).constant(r.constant())},Sf.apply(r,arguments)}function lS(){var r=Y4(i2());return r.copy=function(){return gA(r,lS()).exponent(r.exponent())},Sf.apply(r,arguments)}function a$(){return lS.apply(null,arguments).exponent(.5)}const SI=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:p1,scaleDiverging:dF,scaleDivergingLog:uF,scaleDivergingPow:lS,scaleDivergingSqrt:a$,scaleDivergingSymlog:hF,scaleIdentity:$O,scaleImplicit:tN,scaleLinear:Zv,scaleLog:zO,scaleOrdinal:Q4,scalePoint:Jg,scalePow:J4,scaleQuantile:qO,scaleQuantize:XO,scaleRadial:GO,scaleSequential:iF,scaleSequentialLog:oF,scaleSequentialPow:oS,scaleSequentialQuantile:cF,scaleSequentialSqrt:n$,scaleSequentialSymlog:lF,scaleSqrt:RQ,scaleSymlog:KO,scaleThreshold:YO,scaleTime:t$,scaleUtc:r$,tickFormat:WO},Symbol.toStringTag,{value:"Module"}));var Yb,EI;function o2(){if(EI)return Yb;EI=1;var r=km();function t(n,a,s){for(var i=-1,c=n.length;++i<c;){var o=n[i],d=a(o);if(d!=null&&(l===void 0?d===d&&!r(d):s(d,l)))var l=d,u=o}return u}return Yb=t,Yb}var Jb,BI;function fF(){if(BI)return Jb;BI=1;function r(t,n){return t>n}return Jb=r,Jb}var Zb,II;function s$(){if(II)return Zb;II=1;var r=o2(),t=fF(),n=Fm();function a(s){return s&&s.length?r(s,n,t):void 0}return Zb=a,Zb}var i$=s$();const l2=si(i$);var ew,TI;function AF(){if(TI)return ew;TI=1;function r(t,n){return t<n}return ew=r,ew}var tw,kI;function o$(){if(kI)return tw;kI=1;var r=o2(),t=AF(),n=Fm();function a(s){return s&&s.length?r(s,n,t):void 0}return tw=a,tw}var l$=o$();const c2=si(l$);var rw,_I;function c$(){if(_I)return rw;_I=1;var r=C4(),t=Qh(),n=wO(),a=Qd();function s(i,c){var o=a(i)?r:n;return o(i,t(c,3))}return rw=s,rw}var nw,OI;function d$(){if(OI)return nw;OI=1;var r=jO(),t=c$();function n(a,s){return r(t(a,s),1)}return nw=n,nw}var u$=d$();const h$=si(u$);var aw,FI;function f$(){if(FI)return aw;FI=1;var r=M4();function t(n,a){return r(n,a)}return aw=t,aw}var A$=f$();const Y1=si(A$);var Dm=1e9,p$={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},dS,To=!0,zu="[DecimalError] ",sp=zu+"Invalid argument: ",cS=zu+"Exponent out of range: ",Mm=Math.floor,GA=Math.pow,m$=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,uu,bc=1e7,yo=7,pF=9007199254740991,nx=Mm(pF/yo),Kn={};Kn.absoluteValue=Kn.abs=function(){var r=new this.constructor(this);return r.s&&(r.s=1),r};Kn.comparedTo=Kn.cmp=function(r){var t,n,a,s,i=this;if(r=new i.constructor(r),i.s!==r.s)return i.s||-r.s;if(i.e!==r.e)return i.e>r.e^i.s<0?1:-1;for(a=i.d.length,s=r.d.length,t=0,n=a<s?a:s;t<n;++t)if(i.d[t]!==r.d[t])return i.d[t]>r.d[t]^i.s<0?1:-1;return a===s?0:a>s^i.s<0?1:-1};Kn.decimalPlaces=Kn.dp=function(){var r=this,t=r.d.length-1,n=(t-r.e)*yo;if(t=r.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Kn.dividedBy=Kn.div=function(r){return vf(this,new this.constructor(r))};Kn.dividedToIntegerBy=Kn.idiv=function(r){var t=this,n=t.constructor;return Yi(vf(t,new n(r),0,1),n.precision)};Kn.equals=Kn.eq=function(r){return!this.cmp(r)};Kn.exponent=function(){return _l(this)};Kn.greaterThan=Kn.gt=function(r){return this.cmp(r)>0};Kn.greaterThanOrEqualTo=Kn.gte=function(r){return this.cmp(r)>=0};Kn.isInteger=Kn.isint=function(){return this.e>this.d.length-2};Kn.isNegative=Kn.isneg=function(){return this.s<0};Kn.isPositive=Kn.ispos=function(){return this.s>0};Kn.isZero=function(){return this.s===0};Kn.lessThan=Kn.lt=function(r){return this.cmp(r)<0};Kn.lessThanOrEqualTo=Kn.lte=function(r){return this.cmp(r)<1};Kn.logarithm=Kn.log=function(r){var t,n=this,a=n.constructor,s=a.precision,i=s+5;if(r===void 0)r=new a(10);else if(r=new a(r),r.s<1||r.eq(uu))throw Error(zu+"NaN");if(n.s<1)throw Error(zu+(n.s?"NaN":"-Infinity"));return n.eq(uu)?new a(0):(To=!1,t=vf(y1(n,i),y1(r,i),i),To=!0,Yi(t,s))};Kn.minus=Kn.sub=function(r){var t=this;return r=new t.constructor(r),t.s==r.s?vF(t,r):mF(t,(r.s=-r.s,r))};Kn.modulo=Kn.mod=function(r){var t,n=this,a=n.constructor,s=a.precision;if(r=new a(r),!r.s)throw Error(zu+"NaN");return n.s?(To=!1,t=vf(n,r,0,1).times(r),To=!0,n.minus(t)):Yi(new a(n),s)};Kn.naturalExponential=Kn.exp=function(){return gF(this)};Kn.naturalLogarithm=Kn.ln=function(){return y1(this)};Kn.negated=Kn.neg=function(){var r=new this.constructor(this);return r.s=-r.s||0,r};Kn.plus=Kn.add=function(r){var t=this;return r=new t.constructor(r),t.s==r.s?mF(t,r):vF(t,(r.s=-r.s,r))};Kn.precision=Kn.sd=function(r){var t,n,a,s=this;if(r!==void 0&&r!==!!r&&r!==1&&r!==0)throw Error(sp+r);if(t=_l(s)+1,a=s.d.length-1,n=a*yo+1,a=s.d[a],a){for(;a%10==0;a/=10)n--;for(a=s.d[0];a>=10;a/=10)n++}return r&&t>n?t:n};Kn.squareRoot=Kn.sqrt=function(){var r,t,n,a,s,i,c,o=this,d=o.constructor;if(o.s<1){if(!o.s)return new d(0);throw Error(zu+"NaN")}for(r=_l(o),To=!1,s=Math.sqrt(+o),s==0||s==1/0?(t=_h(o.d),(t.length+r)%2==0&&(t+="0"),s=Math.sqrt(t),r=Mm((r+1)/2)-(r<0||r%2),s==1/0?t="5e"+r:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+r),a=new d(t)):a=new d(s.toString()),n=d.precision,s=c=n+3;;)if(i=a,a=i.plus(vf(o,i,c+2)).times(.5),_h(i.d).slice(0,c)===(t=_h(a.d)).slice(0,c)){if(t=t.slice(c-3,c+1),s==c&&t=="4999"){if(Yi(i,n+1,0),i.times(i).eq(o)){a=i;break}}else if(t!="9999")break;c+=4}return To=!0,Yi(a,n)};Kn.times=Kn.mul=function(r){var t,n,a,s,i,c,o,d,l,u=this,h=u.constructor,f=u.d,A=(r=new h(r)).d;if(!u.s||!r.s)return new h(0);for(r.s*=u.s,n=u.e+r.e,d=f.length,l=A.length,d<l&&(i=f,f=A,A=i,c=d,d=l,l=c),i=[],c=d+l,a=c;a--;)i.push(0);for(a=l;--a>=0;){for(t=0,s=d+a;s>a;)o=i[s]+A[a]*f[s-a-1]+t,i[s--]=o%bc|0,t=o/bc|0;i[s]=(i[s]+t)%bc|0}for(;!i[--c];)i.pop();return t?++n:i.shift(),r.d=i,r.e=n,To?Yi(r,h.precision):r};Kn.toDecimalPlaces=Kn.todp=function(r,t){var n=this,a=n.constructor;return n=new a(n),r===void 0?n:(Rh(r,0,Dm),t===void 0?t=a.rounding:Rh(t,0,8),Yi(n,r+_l(n)+1,t))};Kn.toExponential=function(r,t){var n,a=this,s=a.constructor;return r===void 0?n=up(a,!0):(Rh(r,0,Dm),t===void 0?t=s.rounding:Rh(t,0,8),a=Yi(new s(a),r+1,t),n=up(a,!0,r+1)),n};Kn.toFixed=function(r,t){var n,a,s=this,i=s.constructor;return r===void 0?up(s):(Rh(r,0,Dm),t===void 0?t=i.rounding:Rh(t,0,8),a=Yi(new i(s),r+_l(s)+1,t),n=up(a.abs(),!1,r+_l(a)+1),s.isneg()&&!s.isZero()?"-"+n:n)};Kn.toInteger=Kn.toint=function(){var r=this,t=r.constructor;return Yi(new t(r),_l(r)+1,t.rounding)};Kn.toNumber=function(){return+this};Kn.toPower=Kn.pow=function(r){var t,n,a,s,i,c,o=this,d=o.constructor,l=12,u=+(r=new d(r));if(!r.s)return new d(uu);if(o=new d(o),!o.s){if(r.s<1)throw Error(zu+"Infinity");return o}if(o.eq(uu))return o;if(a=d.precision,r.eq(uu))return Yi(o,a);if(t=r.e,n=r.d.length-1,c=t>=n,i=o.s,c){if((n=u<0?-u:u)<=pF){for(s=new d(uu),t=Math.ceil(a/yo+4),To=!1;n%2&&(s=s.times(o),DI(s.d,t)),n=Mm(n/2),n!==0;)o=o.times(o),DI(o.d,t);return To=!0,r.s<0?new d(uu).div(s):Yi(s,a)}}else if(i<0)throw Error(zu+"NaN");return i=i<0&&r.d[Math.max(t,n)]&1?-1:1,o.s=1,To=!1,s=r.times(y1(o,a+l)),To=!0,s=gF(s),s.s=i,s};Kn.toPrecision=function(r,t){var n,a,s=this,i=s.constructor;return r===void 0?(n=_l(s),a=up(s,n<=i.toExpNeg||n>=i.toExpPos)):(Rh(r,1,Dm),t===void 0?t=i.rounding:Rh(t,0,8),s=Yi(new i(s),r,t),n=_l(s),a=up(s,r<=n||n<=i.toExpNeg,r)),a};Kn.toSignificantDigits=Kn.tosd=function(r,t){var n=this,a=n.constructor;return r===void 0?(r=a.precision,t=a.rounding):(Rh(r,1,Dm),t===void 0?t=a.rounding:Rh(t,0,8)),Yi(new a(n),r,t)};Kn.toString=Kn.valueOf=Kn.val=Kn.toJSON=Kn[Symbol.for("nodejs.util.inspect.custom")]=function(){var r=this,t=_l(r),n=r.constructor;return up(r,t<=n.toExpNeg||t>=n.toExpPos)};function mF(r,t){var n,a,s,i,c,o,d,l,u=r.constructor,h=u.precision;if(!r.s||!t.s)return t.s||(t=new u(r)),To?Yi(t,h):t;if(d=r.d,l=t.d,c=r.e,s=t.e,d=d.slice(),i=c-s,i){for(i<0?(a=d,i=-i,o=l.length):(a=l,s=c,o=d.length),c=Math.ceil(h/yo),o=c>o?c+1:o+1,i>o&&(i=o,a.length=1),a.reverse();i--;)a.push(0);a.reverse()}for(o=d.length,i=l.length,o-i<0&&(i=o,a=l,l=d,d=a),n=0;i;)n=(d[--i]=d[i]+l[i]+n)/bc|0,d[i]%=bc;for(n&&(d.unshift(n),++s),o=d.length;d[--o]==0;)d.pop();return t.d=d,t.e=s,To?Yi(t,h):t}function Rh(r,t,n){if(r!==~~r||r<t||r>n)throw Error(sp+r)}function _h(r){var t,n,a,s=r.length-1,i="",c=r[0];if(s>0){for(i+=c,t=1;t<s;t++)a=r[t]+"",n=yo-a.length,n&&(i+=tA(n)),i+=a;c=r[t],a=c+"",n=yo-a.length,n&&(i+=tA(n))}else if(c===0)return"0";for(;c%10===0;)c/=10;return i+c}var vf=(function(){function r(a,s){var i,c=0,o=a.length;for(a=a.slice();o--;)i=a[o]*s+c,a[o]=i%bc|0,c=i/bc|0;return c&&a.unshift(c),a}function t(a,s,i,c){var o,d;if(i!=c)d=i>c?1:-1;else for(o=d=0;o<i;o++)if(a[o]!=s[o]){d=a[o]>s[o]?1:-1;break}return d}function n(a,s,i){for(var c=0;i--;)a[i]-=c,c=a[i]<s[i]?1:0,a[i]=c*bc+a[i]-s[i];for(;!a[0]&&a.length>1;)a.shift()}return function(a,s,i,c){var o,d,l,u,h,f,A,g,m,x,y,j,b,S,w,E,I,L,J=a.constructor,ae=a.s==s.s?1:-1,G=a.d,le=s.d;if(!a.s)return new J(a);if(!s.s)throw Error(zu+"Division by zero");for(d=a.e-s.e,I=le.length,w=G.length,A=new J(ae),g=A.d=[],l=0;le[l]==(G[l]||0);)++l;if(le[l]>(G[l]||0)&&--d,i==null?j=i=J.precision:c?j=i+(_l(a)-_l(s))+1:j=i,j<0)return new J(0);if(j=j/yo+2|0,l=0,I==1)for(u=0,le=le[0],j++;(l<w||u)&&j--;l++)b=u*bc+(G[l]||0),g[l]=b/le|0,u=b%le|0;else{for(u=bc/(le[0]+1)|0,u>1&&(le=r(le,u),G=r(G,u),I=le.length,w=G.length),S=I,m=G.slice(0,I),x=m.length;x<I;)m[x++]=0;L=le.slice(),L.unshift(0),E=le[0],le[1]>=bc/2&&++E;do u=0,o=t(le,m,I,x),o<0?(y=m[0],I!=x&&(y=y*bc+(m[1]||0)),u=y/E|0,u>1?(u>=bc&&(u=bc-1),h=r(le,u),f=h.length,x=m.length,o=t(h,m,f,x),o==1&&(u--,n(h,I<f?L:le,f))):(u==0&&(o=u=1),h=le.slice()),f=h.length,f<x&&h.unshift(0),n(m,h,x),o==-1&&(x=m.length,o=t(le,m,I,x),o<1&&(u++,n(m,I<x?L:le,x))),x=m.length):o===0&&(u++,m=[0]),g[l++]=u,o&&m[0]?m[x++]=G[S]||0:(m=[G[S]],x=1);while((S++<w||m[0]!==void 0)&&j--)}return g[0]||g.shift(),A.e=d,Yi(A,c?i+_l(A)+1:i)}})();function gF(r,t){var n,a,s,i,c,o,d=0,l=0,u=r.constructor,h=u.precision;if(_l(r)>16)throw Error(cS+_l(r));if(!r.s)return new u(uu);for(To=!1,o=h,c=new u(.03125);r.abs().gte(.1);)r=r.times(c),l+=5;for(a=Math.log(GA(2,l))/Math.LN10*2+5|0,o+=a,n=s=i=new u(uu),u.precision=o;;){if(s=Yi(s.times(r),o),n=n.times(++d),c=i.plus(vf(s,n,o)),_h(c.d).slice(0,o)===_h(i.d).slice(0,o)){for(;l--;)i=Yi(i.times(i),o);return u.precision=h,t==null?(To=!0,Yi(i,h)):i}i=c}}function _l(r){for(var t=r.e*yo,n=r.d[0];n>=10;n/=10)t++;return t}function sw(r,t,n){if(t>r.LN10.sd())throw To=!0,n&&(r.precision=n),Error(zu+"LN10 precision limit exceeded");return Yi(new r(r.LN10),t)}function tA(r){for(var t="";r--;)t+="0";return t}function y1(r,t){var n,a,s,i,c,o,d,l,u,h=1,f=10,A=r,g=A.d,m=A.constructor,x=m.precision;if(A.s<1)throw Error(zu+(A.s?"NaN":"-Infinity"));if(A.eq(uu))return new m(0);if(t==null?(To=!1,l=x):l=t,A.eq(10))return t==null&&(To=!0),sw(m,l);if(l+=f,m.precision=l,n=_h(g),a=n.charAt(0),i=_l(A),Math.abs(i)<15e14){for(;a<7&&a!=1||a==1&&n.charAt(1)>3;)A=A.times(r),n=_h(A.d),a=n.charAt(0),h++;i=_l(A),a>1?(A=new m("0."+n),i++):A=new m(a+"."+n.slice(1))}else return d=sw(m,l+2,x).times(i+""),A=y1(new m(a+"."+n.slice(1)),l-f).plus(d),m.precision=x,t==null?(To=!0,Yi(A,x)):A;for(o=c=A=vf(A.minus(uu),A.plus(uu),l),u=Yi(A.times(A),l),s=3;;){if(c=Yi(c.times(u),l),d=o.plus(vf(c,new m(s),l)),_h(d.d).slice(0,l)===_h(o.d).slice(0,l))return o=o.times(2),i!==0&&(o=o.plus(sw(m,l+2,x).times(i+""))),o=vf(o,new m(h),l),m.precision=x,t==null?(To=!0,Yi(o,x)):o;o=d,s+=2}}function PI(r,t){var n,a,s;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(n<0&&(n=a),n+=+t.slice(a+1),t=t.substring(0,a)):n<0&&(n=t.length),a=0;t.charCodeAt(a)===48;)++a;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(a,s),t){if(s-=a,n=n-a-1,r.e=Mm(n/yo),r.d=[],a=(n+1)%yo,n<0&&(a+=yo),a<s){for(a&&r.d.push(+t.slice(0,a)),s-=yo;a<s;)r.d.push(+t.slice(a,a+=yo));t=t.slice(a),a=yo-t.length}else a-=s;for(;a--;)t+="0";if(r.d.push(+t),To&&(r.e>nx||r.e<-nx))throw Error(cS+n)}else r.s=0,r.e=0,r.d=[0];return r}function Yi(r,t,n){var a,s,i,c,o,d,l,u,h=r.d;for(c=1,i=h[0];i>=10;i/=10)c++;if(a=t-c,a<0)a+=yo,s=t,l=h[u=0];else{if(u=Math.ceil((a+1)/yo),i=h.length,u>=i)return r;for(l=i=h[u],c=1;i>=10;i/=10)c++;a%=yo,s=a-yo+c}if(n!==void 0&&(i=GA(10,c-s-1),o=l/i%10|0,d=t<0||h[u+1]!==void 0||l%i,d=n<4?(o||d)&&(n==0||n==(r.s<0?3:2)):o>5||o==5&&(n==4||d||n==6&&(a>0?s>0?l/GA(10,c-s):0:h[u-1])%10&1||n==(r.s<0?8:7))),t<1||!h[0])return d?(i=_l(r),h.length=1,t=t-i-1,h[0]=GA(10,(yo-t%yo)%yo),r.e=Mm(-t/yo)||0):(h.length=1,h[0]=r.e=r.s=0),r;if(a==0?(h.length=u,i=1,u--):(h.length=u+1,i=GA(10,yo-a),h[u]=s>0?(l/GA(10,c-s)%GA(10,s)|0)*i:0),d)for(;;)if(u==0){(h[0]+=i)==bc&&(h[0]=1,++r.e);break}else{if(h[u]+=i,h[u]!=bc)break;h[u--]=0,i=1}for(a=h.length;h[--a]===0;)h.pop();if(To&&(r.e>nx||r.e<-nx))throw Error(cS+_l(r));return r}function vF(r,t){var n,a,s,i,c,o,d,l,u,h,f=r.constructor,A=f.precision;if(!r.s||!t.s)return t.s?t.s=-t.s:t=new f(r),To?Yi(t,A):t;if(d=r.d,h=t.d,a=t.e,l=r.e,d=d.slice(),c=l-a,c){for(u=c<0,u?(n=d,c=-c,o=h.length):(n=h,a=l,o=d.length),s=Math.max(Math.ceil(A/yo),o)+2,c>s&&(c=s,n.length=1),n.reverse(),s=c;s--;)n.push(0);n.reverse()}else{for(s=d.length,o=h.length,u=s<o,u&&(o=s),s=0;s<o;s++)if(d[s]!=h[s]){u=d[s]<h[s];break}c=0}for(u&&(n=d,d=h,h=n,t.s=-t.s),o=d.length,s=h.length-o;s>0;--s)d[o++]=0;for(s=h.length;s>c;){if(d[--s]<h[s]){for(i=s;i&&d[--i]===0;)d[i]=bc-1;--d[i],d[s]+=bc}d[s]-=h[s]}for(;d[--o]===0;)d.pop();for(;d[0]===0;d.shift())--a;return d[0]?(t.d=d,t.e=a,To?Yi(t,A):t):new f(0)}function up(r,t,n){var a,s=_l(r),i=_h(r.d),c=i.length;return t?(n&&(a=n-c)>0?i=i.charAt(0)+"."+i.slice(1)+tA(a):c>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+tA(-s-1)+i,n&&(a=n-c)>0&&(i+=tA(a))):s>=c?(i+=tA(s+1-c),n&&(a=n-s-1)>0&&(i=i+"."+tA(a))):((a=s+1)<c&&(i=i.slice(0,a)+"."+i.slice(a)),n&&(a=n-c)>0&&(s+1===c&&(i+="."),i+=tA(a))),r.s<0?"-"+i:i}function DI(r,t){if(r.length>t)return r.length=t,!0}function xF(r){var t,n,a;function s(i){var c=this;if(!(c instanceof s))return new s(i);if(c.constructor=s,i instanceof s){c.s=i.s,c.e=i.e,c.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(sp+i);if(i>0)c.s=1;else if(i<0)i=-i,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(i===~~i&&i<1e7){c.e=0,c.d=[i];return}return PI(c,i.toString())}else if(typeof i!="string")throw Error(sp+i);if(i.charCodeAt(0)===45?(i=i.slice(1),c.s=-1):c.s=1,m$.test(i))PI(c,i);else throw Error(sp+i)}if(s.prototype=Kn,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=xF,s.config=s.set=g$,r===void 0&&(r={}),r)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<a.length;)r.hasOwnProperty(n=a[t++])||(r[n]=this[n]);return s.config(r),s}function g$(r){if(!r||typeof r!="object")throw Error(zu+"Object expected");var t,n,a,s=["precision",1,Dm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((a=r[n=s[t]])!==void 0)if(Mm(a)===a&&a>=s[t+1]&&a<=s[t+2])this[n]=a;else throw Error(sp+n+": "+a);if((a=r[n="LN10"])!==void 0)if(a==Math.LN10)this[n]=new this(a);else throw Error(sp+n+": "+a);return this}var dS=xF(p$);uu=new dS(1);const Vi=dS;function v$(r){return b$(r)||j$(r)||y$(r)||x$()}function x$(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y$(r,t){if(r){if(typeof r=="string")return sN(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sN(r,t)}}function j$(r){if(typeof Symbol<"u"&&Symbol.iterator in Object(r))return Array.from(r)}function b$(r){if(Array.isArray(r))return sN(r)}function sN(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=r[n];return a}var w$=function(t){return t},yF={},jF=function(t){return t===yF},MI=function(t){return function n(){return arguments.length===0||arguments.length===1&&jF(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},C$=function r(t,n){return t===1?n:MI(function(){for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];var c=s.filter(function(o){return o!==yF}).length;return c>=t?n.apply(void 0,s):r(t-c,MI(function(){for(var o=arguments.length,d=new Array(o),l=0;l<o;l++)d[l]=arguments[l];var u=s.map(function(h){return jF(h)?d.shift():h});return n.apply(void 0,v$(u).concat(d))}))})},d2=function(t){return C$(t.length,t)},iN=function(t,n){for(var a=[],s=t;s<n;++s)a[s-t]=s;return a},N$=d2(function(r,t){return Array.isArray(t)?t.map(r):Object.keys(t).map(function(n){return t[n]}).map(r)}),S$=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];if(!n.length)return w$;var s=n.reverse(),i=s[0],c=s.slice(1);return function(){return c.reduce(function(o,d){return d(o)},i.apply(void 0,arguments))}},oN=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},bF=function(t){var n=null,a=null;return function(){for(var s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];return n&&i.every(function(o,d){return o===n[d]})||(n=i,a=t.apply(void 0,i)),a}};function E$(r){var t;return r===0?t=1:t=Math.floor(new Vi(r).abs().log(10).toNumber())+1,t}function B$(r,t,n){for(var a=new Vi(r),s=0,i=[];a.lt(t)&&s<1e5;)i.push(a.toNumber()),a=a.add(n),s++;return i}var I$=d2(function(r,t,n){var a=+r,s=+t;return a+n*(s-a)}),T$=d2(function(r,t,n){var a=t-+r;return a=a||1/0,(n-r)/a}),k$=d2(function(r,t,n){var a=t-+r;return a=a||1/0,Math.max(0,Math.min(1,(n-r)/a))});const u2={rangeStep:B$,getDigitCount:E$,interpolateNumber:I$,uninterpolateNumber:T$,uninterpolateTruncation:k$};function lN(r){return F$(r)||O$(r)||wF(r)||_$()}function _$(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O$(r){if(typeof Symbol<"u"&&Symbol.iterator in Object(r))return Array.from(r)}function F$(r){if(Array.isArray(r))return cN(r)}function j1(r,t){return M$(r)||D$(r,t)||wF(r,t)||P$()}function P$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wF(r,t){if(r){if(typeof r=="string")return cN(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cN(r,t)}}function cN(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=r[n];return a}function D$(r,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(r)))){var n=[],a=!0,s=!1,i=void 0;try{for(var c=r[Symbol.iterator](),o;!(a=(o=c.next()).done)&&(n.push(o.value),!(t&&n.length===t));a=!0);}catch(d){s=!0,i=d}finally{try{!a&&c.return!=null&&c.return()}finally{if(s)throw i}}return n}}function M$(r){if(Array.isArray(r))return r}function CF(r){var t=j1(r,2),n=t[0],a=t[1],s=n,i=a;return n>a&&(s=a,i=n),[s,i]}function NF(r,t,n){if(r.lte(0))return new Vi(0);var a=u2.getDigitCount(r.toNumber()),s=new Vi(10).pow(a),i=r.div(s),c=a!==1?.05:.1,o=new Vi(Math.ceil(i.div(c).toNumber())).add(n).mul(c),d=o.mul(s);return t?d:new Vi(Math.ceil(d))}function R$(r,t,n){var a=1,s=new Vi(r);if(!s.isint()&&n){var i=Math.abs(r);i<1?(a=new Vi(10).pow(u2.getDigitCount(r)-1),s=new Vi(Math.floor(s.div(a).toNumber())).mul(a)):i>1&&(s=new Vi(Math.floor(r)))}else r===0?s=new Vi(Math.floor((t-1)/2)):n||(s=new Vi(Math.floor(r)));var c=Math.floor((t-1)/2),o=S$(N$(function(d){return s.add(new Vi(d-c).mul(a)).toNumber()}),iN);return o(0,t)}function SF(r,t,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-r)/(n-1)))return{step:new Vi(0),tickMin:new Vi(0),tickMax:new Vi(0)};var i=NF(new Vi(t).sub(r).div(n-1),a,s),c;r<=0&&t>=0?c=new Vi(0):(c=new Vi(r).add(t).div(2),c=c.sub(new Vi(c).mod(i)));var o=Math.ceil(c.sub(r).div(i).toNumber()),d=Math.ceil(new Vi(t).sub(c).div(i).toNumber()),l=o+d+1;return l>n?SF(r,t,n,a,s+1):(l<n&&(d=t>0?d+(n-l):d,o=t>0?o:o+(n-l)),{step:i,tickMin:c.sub(new Vi(o).mul(i)),tickMax:c.add(new Vi(d).mul(i))})}function L$(r){var t=j1(r,2),n=t[0],a=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(s,2),o=CF([n,a]),d=j1(o,2),l=d[0],u=d[1];if(l===-1/0||u===1/0){var h=u===1/0?[l].concat(lN(iN(0,s-1).map(function(){return 1/0}))):[].concat(lN(iN(0,s-1).map(function(){return-1/0})),[u]);return n>a?oN(h):h}if(l===u)return R$(l,s,i);var f=SF(l,u,c,i),A=f.step,g=f.tickMin,m=f.tickMax,x=u2.rangeStep(g,m.add(new Vi(.1).mul(A)),A);return n>a?oN(x):x}function U$(r,t){var n=j1(r,2),a=n[0],s=n[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=CF([a,s]),o=j1(c,2),d=o[0],l=o[1];if(d===-1/0||l===1/0)return[a,s];if(d===l)return[d];var u=Math.max(t,2),h=NF(new Vi(l).sub(d).div(u-1),i,0),f=[].concat(lN(u2.rangeStep(new Vi(d),new Vi(l).sub(new Vi(.99).mul(h)),h)),[l]);return a>s?oN(f):f}var H$=bF(L$),Q$=bF(U$),W$="Invariant failed";function hp(r,t){throw new Error(W$)}var $$=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function dm(r){"@babel/helpers - typeof";return dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dm(r)}function ax(){return ax=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},ax.apply(this,arguments)}function V$(r,t){return q$(r)||G$(r,t)||K$(r,t)||z$()}function z$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K$(r,t){if(r){if(typeof r=="string")return RI(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RI(r,t)}}function RI(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=r[n];return a}function G$(r,t){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,s,i,c,o=[],d=!0,l=!1;try{if(i=(n=n.call(r)).next,t!==0)for(;!(d=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);d=!0);}catch(u){l=!0,s=u}finally{try{if(!d&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(l)throw s}}return o}}function q$(r){if(Array.isArray(r))return r}function X$(r,t){if(r==null)return{};var n=Y$(r,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function Y$(r,t){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(t.indexOf(a)>=0)continue;n[a]=r[a]}return n}function J$(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function Z$(r,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,IF(a.key),a)}}function eV(r,t,n){return t&&Z$(r.prototype,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function tV(r,t,n){return t=sx(t),rV(r,EF()?Reflect.construct(t,n||[],sx(r).constructor):t.apply(r,n))}function rV(r,t){if(t&&(dm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nV(r)}function nV(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function EF(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EF=function(){return!!r})()}function sx(r){return sx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sx(r)}function aV(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&dN(r,t)}function dN(r,t){return dN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},dN(r,t)}function BF(r,t,n){return t=IF(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function IF(r){var t=sV(r,"string");return dm(t)=="symbol"?t:t+""}function sV(r,t){if(dm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(dm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var J1=(function(r){function t(){return J$(this,t),tV(this,t,arguments)}return aV(t,r),eV(t,[{key:"render",value:function(){var a=this.props,s=a.offset,i=a.layout,c=a.width,o=a.dataKey,d=a.data,l=a.dataPointFormatter,u=a.xAxis,h=a.yAxis,f=X$(a,$$),A=Da(f,!1);this.props.direction==="x"&&u.type!=="number"&&hp();var g=d.map(function(m){var x=l(m,o),y=x.x,j=x.y,b=x.value,S=x.errorVal;if(!S)return null;var w=[],E,I;if(Array.isArray(S)){var L=V$(S,2);E=L[0],I=L[1]}else E=I=S;if(i==="vertical"){var J=u.scale,ae=j+s,G=ae+c,le=ae-c,V=J(b-E),me=J(b+I);w.push({x1:me,y1:G,x2:me,y2:le}),w.push({x1:V,y1:ae,x2:me,y2:ae}),w.push({x1:V,y1:G,x2:V,y2:le})}else if(i==="horizontal"){var $=h.scale,ee=y+s,we=ee-c,R=ee+c,q=$(b-E),ie=$(b+I);w.push({x1:we,y1:ie,x2:R,y2:ie}),w.push({x1:ee,y1:q,x2:ee,y2:ie}),w.push({x1:we,y1:q,x2:R,y2:q})}return Ct.createElement(hi,ax({className:"recharts-errorBar",key:"bar-".concat(w.map(function(Z){return"".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))},A),w.map(function(Z){return Ct.createElement("line",ax({},Z,{key:"line-".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))}))});return Ct.createElement(hi,{className:"recharts-errorBars"},g)}}])})(Ct.Component);BF(J1,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});BF(J1,"displayName","ErrorBar");function b1(r){"@babel/helpers - typeof";return b1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b1(r)}function LI(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function MA(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LI(Object(n),!0).forEach(function(a){iV(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):LI(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function iV(r,t,n){return t=oV(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function oV(r){var t=lV(r,"string");return b1(t)=="symbol"?t:t+""}function lV(r,t){if(b1(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(b1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}var TF=function(t){var n=t.children,a=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,c=lu(n,kh);if(!c)return null;var o=kh.defaultProps,d=o!==void 0?MA(MA({},o),c.props):{},l;return c.props&&c.props.payload?l=c.props&&c.props.payload:i==="children"?l=(a||[]).reduce(function(u,h){var f=h.item,A=h.props,g=A.sectors||A.data||[];return u.concat(g.map(function(m){return{type:c.props.iconType||f.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):l=(a||[]).map(function(u){var h=u.item,f=h.type.defaultProps,A=f!==void 0?MA(MA({},f),h.props):{},g=A.dataKey,m=A.name,x=A.legendType,y=A.hide;return{inactive:y,dataKey:g,type:d.iconType||x||"square",color:uS(h),value:m||g,payload:A}}),MA(MA(MA({},d),kh.getWithHeight(c,s)),{},{payload:l,item:c})};function w1(r){"@babel/helpers - typeof";return w1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w1(r)}function UI(r){return hV(r)||uV(r)||dV(r)||cV()}function cV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dV(r,t){if(r){if(typeof r=="string")return uN(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uN(r,t)}}function uV(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function hV(r){if(Array.isArray(r))return uN(r)}function uN(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=r[n];return a}function HI(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function il(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HI(Object(n),!0).forEach(function(a){tm(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):HI(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function tm(r,t,n){return t=fV(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function fV(r){var t=AV(r,"string");return w1(t)=="symbol"?t:t+""}function AV(r,t){if(w1(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(w1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function Yl(r,t,n){return fs(r)||fs(t)?n:Zl(t)?hu(r,t,n):ts(t)?t(r):n}function Zg(r,t,n,a){var s=h$(r,function(o){return Yl(o,t)});if(n==="number"){var i=s.filter(function(o){return yn(o)||parseFloat(o)});return i.length?[c2(i),l2(i)]:[1/0,-1/0]}var c=a?s.filter(function(o){return!fs(o)}):s;return c.map(function(o){return Zl(o)||o instanceof Date?o:""})}var pV=function(t){var n,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,c=-1,o=(n=a==null?void 0:a.length)!==null&&n!==void 0?n:0;if(o<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var d=i.range,l=0;l<o;l++){var u=l>0?s[l-1].coordinate:s[o-1].coordinate,h=s[l].coordinate,f=l>=o-1?s[0].coordinate:s[l+1].coordinate,A=void 0;if(wd(h-u)!==wd(f-h)){var g=[];if(wd(f-h)===wd(d[1]-d[0])){A=f;var m=h+d[1]-d[0];g[0]=Math.min(m,(m+u)/2),g[1]=Math.max(m,(m+u)/2)}else{A=u;var x=f+d[1]-d[0];g[0]=Math.min(h,(x+h)/2),g[1]=Math.max(h,(x+h)/2)}var y=[Math.min(h,(A+h)/2),Math.max(h,(A+h)/2)];if(t>y[0]&&t<=y[1]||t>=g[0]&&t<=g[1]){c=s[l].index;break}}else{var j=Math.min(u,f),b=Math.max(u,f);if(t>(j+h)/2&&t<=(b+h)/2){c=s[l].index;break}}}else for(var S=0;S<o;S++)if(S===0&&t<=(a[S].coordinate+a[S+1].coordinate)/2||S>0&&S<o-1&&t>(a[S].coordinate+a[S-1].coordinate)/2&&t<=(a[S].coordinate+a[S+1].coordinate)/2||S===o-1&&t>(a[S].coordinate+a[S-1].coordinate)/2){c=a[S].index;break}return c},uS=function(t){var n,a=t,s=a.type.displayName,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?il(il({},t.type.defaultProps),t.props):t.props,c=i.stroke,o=i.fill,d;switch(s){case"Line":d=c;break;case"Area":case"Radar":d=c&&c!=="none"?c:o;break;default:d=o;break}return d},mV=function(t){var n=t.barSize,a=t.totalSize,s=t.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var c={},o=Object.keys(i),d=0,l=o.length;d<l;d++)for(var u=i[o[d]].stackGroups,h=Object.keys(u),f=0,A=h.length;f<A;f++){var g=u[h[f]],m=g.items,x=g.cateAxisId,y=m.filter(function(I){return gf(I.type).indexOf("Bar")>=0});if(y&&y.length){var j=y[0].type.defaultProps,b=j!==void 0?il(il({},j),y[0].props):y[0].props,S=b.barSize,w=b[x];c[w]||(c[w]=[]);var E=fs(S)?n:S;c[w].push({item:y[0],stackList:y.slice(1),barSize:fs(E)?void 0:Cd(E,a,0)})}}return c},gV=function(t){var n=t.barGap,a=t.barCategoryGap,s=t.bandSize,i=t.sizeList,c=i===void 0?[]:i,o=t.maxBarSize,d=c.length;if(d<1)return null;var l=Cd(n,s,0,!0),u,h=[];if(c[0].barSize===+c[0].barSize){var f=!1,A=s/d,g=c.reduce(function(S,w){return S+w.barSize||0},0);g+=(d-1)*l,g>=s&&(g-=(d-1)*l,l=0),g>=s&&A>0&&(f=!0,A*=.9,g=d*A);var m=(s-g)/2>>0,x={offset:m-l,size:0};u=c.reduce(function(S,w){var E={item:w.item,position:{offset:x.offset+x.size+l,size:f?A:w.barSize}},I=[].concat(UI(S),[E]);return x=I[I.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(L){I.push({item:L,position:x})}),I},h)}else{var y=Cd(a,s,0,!0);s-2*y-(d-1)*l<=0&&(l=0);var j=(s-2*y-(d-1)*l)/d;j>1&&(j>>=0);var b=o===+o?Math.min(j,o):j;u=c.reduce(function(S,w,E){var I=[].concat(UI(S),[{item:w.item,position:{offset:y+(j+l)*E+(j-b)/2,size:b}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(L){I.push({item:L,position:I[I.length-1].position})}),I},h)}return u},vV=function(t,n,a,s){var i=a.children,c=a.width,o=a.margin,d=c-(o.left||0)-(o.right||0),l=TF({children:i,legendWidth:d});if(l){var u=s||{},h=u.width,f=u.height,A=l.align,g=l.verticalAlign,m=l.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&A!=="center"&&yn(t[A]))return il(il({},t),{},tm({},A,t[A]+(h||0)));if((m==="horizontal"||m==="vertical"&&A==="center")&&g!=="middle"&&yn(t[g]))return il(il({},t),{},tm({},g,t[g]+(f||0)))}return t},xV=function(t,n,a){return fs(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||a==="x"?n==="xAxis":a==="y"?n==="yAxis":!0},kF=function(t,n,a,s,i){var c=n.props.children,o=fu(c,J1).filter(function(l){return xV(s,i,l.props.direction)});if(o&&o.length){var d=o.map(function(l){return l.props.dataKey});return t.reduce(function(l,u){var h=Yl(u,a);if(fs(h))return l;var f=Array.isArray(h)?[c2(h),l2(h)]:[h,h],A=d.reduce(function(g,m){var x=Yl(u,m,0),y=f[0]-Math.abs(Array.isArray(x)?x[0]:x),j=f[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(y,g[0]),Math.max(j,g[1])]},[1/0,-1/0]);return[Math.min(A[0],l[0]),Math.max(A[1],l[1])]},[1/0,-1/0])}return null},yV=function(t,n,a,s,i){var c=n.map(function(o){return kF(t,o,a,i,s)}).filter(function(o){return!fs(o)});return c&&c.length?c.reduce(function(o,d){return[Math.min(o[0],d[0]),Math.max(o[1],d[1])]},[1/0,-1/0]):null},_F=function(t,n,a,s,i){var c=n.map(function(d){var l=d.props.dataKey;return a==="number"&&l&&kF(t,d,l,s)||Zg(t,l,a,i)});if(a==="number")return c.reduce(function(d,l){return[Math.min(d[0],l[0]),Math.max(d[1],l[1])]},[1/0,-1/0]);var o={};return c.reduce(function(d,l){for(var u=0,h=l.length;u<h;u++)o[l[u]]||(o[l[u]]=!0,d.push(l[u]));return d},[])},OF=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},FF=function(t,n,a,s){if(s)return t.map(function(d){return d.coordinate});var i,c,o=t.map(function(d){return d.coordinate===n&&(i=!0),d.coordinate===a&&(c=!0),d.coordinate});return i||o.push(n),c||o.push(a),o},mf=function(t,n,a){if(!t)return null;var s=t.scale,i=t.duplicateDomain,c=t.type,o=t.range,d=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,l=(n||a)&&c==="category"&&s.bandwidth?s.bandwidth()/d:0;if(l=t.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?wd(o[0]-o[1])*2*l:l,n&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(h){var f=i?i.indexOf(h):h;return{coordinate:s(f)+l,value:h,offset:l}});return u.filter(function(h){return!V1(h.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(h,f){return{coordinate:s(h)+l,value:h,index:f,offset:l}}):s.ticks&&!a?s.ticks(t.tickCount).map(function(h){return{coordinate:s(h)+l,value:h,offset:l}}):s.domain().map(function(h,f){return{coordinate:s(h)+l,value:i?i[h]:h,index:f,offset:l}})},iw=new WeakMap,m0=function(t,n){if(typeof n!="function")return t;iw.has(t)||iw.set(t,new WeakMap);var a=iw.get(t);if(a.has(n))return a.get(n);var s=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return a.set(n,s),s},PF=function(t,n,a){var s=t.scale,i=t.type,c=t.layout,o=t.axisType;if(s==="auto")return c==="radial"&&o==="radiusAxis"?{scale:p1(),realScaleType:"band"}:c==="radial"&&o==="angleAxis"?{scale:Zv(),realScaleType:"linear"}:i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!a)?{scale:Jg(),realScaleType:"point"}:i==="category"?{scale:p1(),realScaleType:"band"}:{scale:Zv(),realScaleType:"linear"};if($1(s)){var d="scale".concat(Kx(s));return{scale:(SI[d]||Jg)(),realScaleType:SI[d]?d:"point"}}return ts(s)?{scale:s}:{scale:Jg(),realScaleType:"point"}},QI=1e-4,DF=function(t){var n=t.domain();if(!(!n||n.length<=2)){var a=n.length,s=t.range(),i=Math.min(s[0],s[1])-QI,c=Math.max(s[0],s[1])+QI,o=t(n[0]),d=t(n[a-1]);(o<i||o>c||d<i||d>c)&&t.domain([n[0],n[a-1]])}},jV=function(t,n){if(!t)return null;for(var a=0,s=t.length;a<s;a++)if(t[a].item===n)return t[a].position;return null},bV=function(t,n){if(!n||n.length!==2||!yn(n[0])||!yn(n[1]))return t;var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]),i=[t[0],t[1]];return(!yn(t[0])||t[0]<a)&&(i[0]=a),(!yn(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<a&&(i[1]=a),i},wV=function(t){var n=t.length;if(!(n<=0))for(var a=0,s=t[0].length;a<s;++a)for(var i=0,c=0,o=0;o<n;++o){var d=V1(t[o][a][1])?t[o][a][0]:t[o][a][1];d>=0?(t[o][a][0]=i,t[o][a][1]=i+d,i=t[o][a][1]):(t[o][a][0]=c,t[o][a][1]=c+d,c=t[o][a][1])}},CV=function(t){var n=t.length;if(!(n<=0))for(var a=0,s=t[0].length;a<s;++a)for(var i=0,c=0;c<n;++c){var o=V1(t[c][a][1])?t[c][a][0]:t[c][a][1];o>=0?(t[c][a][0]=i,t[c][a][1]=i+o,i=t[c][a][1]):(t[c][a][0]=0,t[c][a][1]=0)}},NV={sign:wV,expand:u7,none:rm,silhouette:h7,wiggle:f7,positive:CV},SV=function(t,n,a){var s=n.map(function(o){return o.props.dataKey}),i=NV[a],c=d7().keys(s).value(function(o,d){return+Yl(o,d,0)}).order(HC).offset(i);return c(t)},EV=function(t,n,a,s,i,c){if(!t)return null;var o=c?n.reverse():n,d={},l=o.reduce(function(h,f){var A,g=(A=f.type)!==null&&A!==void 0&&A.defaultProps?il(il({},f.type.defaultProps),f.props):f.props,m=g.stackId,x=g.hide;if(x)return h;var y=g[a],j=h[y]||{hasStack:!1,stackGroups:{}};if(Zl(m)){var b=j.stackGroups[m]||{numericAxisId:a,cateAxisId:s,items:[]};b.items.push(f),j.hasStack=!0,j.stackGroups[m]=b}else j.stackGroups[Om("_stackId_")]={numericAxisId:a,cateAxisId:s,items:[f]};return il(il({},h),{},tm({},y,j))},d),u={};return Object.keys(l).reduce(function(h,f){var A=l[f];if(A.hasStack){var g={};A.stackGroups=Object.keys(A.stackGroups).reduce(function(m,x){var y=A.stackGroups[x];return il(il({},m),{},tm({},x,{numericAxisId:a,cateAxisId:s,items:y.items,stackedData:SV(t,y.items,i)}))},g)}return il(il({},h),{},tm({},f,A))},u)},MF=function(t,n){var a=n.realScaleType,s=n.type,i=n.tickCount,c=n.originalDomain,o=n.allowDecimals,d=a||n.scale;if(d!=="auto"&&d!=="linear")return null;if(i&&s==="number"&&c&&(c[0]==="auto"||c[1]==="auto")){var l=t.domain();if(!l.length)return null;var u=H$(l,i,o);return t.domain([c2(u),l2(u)]),{niceTicks:u}}if(i&&s==="number"){var h=t.domain(),f=Q$(h,i,o);return{niceTicks:f}}return null};function WI(r){var t=r.axis,n=r.ticks,a=r.bandSize,s=r.entry,i=r.index,c=r.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!fs(s[t.dataKey])){var o=Fv(n,"value",s[t.dataKey]);if(o)return o.coordinate+a/2}return n[i]?n[i].coordinate+a/2:null}var d=Yl(s,fs(c)?t.dataKey:c);return fs(d)?null:t.scale(d)}var $I=function(t){var n=t.axis,a=t.ticks,s=t.offset,i=t.bandSize,c=t.entry,o=t.index;if(n.type==="category")return a[o]?a[o].coordinate+s:null;var d=Yl(c,n.dataKey,n.domain[o]);return fs(d)?null:n.scale(d)-i/2+s},BV=function(t){var n=t.numericAxis,a=n.scale.domain();if(n.type==="number"){var s=Math.min(a[0],a[1]),i=Math.max(a[0],a[1]);return s<=0&&i>=0?0:i<0?i:s}return a[0]},IV=function(t,n){var a,s=(a=t.type)!==null&&a!==void 0&&a.defaultProps?il(il({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(Zl(i)){var c=n[i];if(c){var o=c.items.indexOf(t);return o>=0?c.stackedData[o]:null}}return null},TV=function(t){return t.reduce(function(n,a){return[c2(a.concat([n[0]]).filter(yn)),l2(a.concat([n[1]]).filter(yn))]},[1/0,-1/0])},RF=function(t,n,a){return Object.keys(t).reduce(function(s,i){var c=t[i],o=c.stackedData,d=o.reduce(function(l,u){var h=TV(u.slice(n,a+1));return[Math.min(l[0],h[0]),Math.max(l[1],h[1])]},[1/0,-1/0]);return[Math.min(d[0],s[0]),Math.max(d[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},VI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,hN=function(t,n,a){if(ts(t))return t(n,a);if(!Array.isArray(t))return n;var s=[];if(yn(t[0]))s[0]=a?t[0]:Math.min(t[0],n[0]);else if(VI.test(t[0])){var i=+VI.exec(t[0])[1];s[0]=n[0]-i}else ts(t[0])?s[0]=t[0](n[0]):s[0]=n[0];if(yn(t[1]))s[1]=a?t[1]:Math.max(t[1],n[1]);else if(zI.test(t[1])){var c=+zI.exec(t[1])[1];s[1]=n[1]+c}else ts(t[1])?s[1]=t[1](n[1]):s[1]=n[1];return s},ix=function(t,n,a){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!a||s>0)return s}if(t&&n&&n.length>=2){for(var i=L4(n,function(h){return h.coordinate}),c=1/0,o=1,d=i.length;o<d;o++){var l=i[o],u=i[o-1];c=Math.min((l.coordinate||0)-(u.coordinate||0),c)}return c===1/0?0:c}return a?void 0:0},KI=function(t,n,a){return!t||!t.length||Y1(t,hu(a,"type.defaultProps.domain"))?n:t},LF=function(t,n){var a=t.type.defaultProps?il(il({},t.type.defaultProps),t.props):t.props,s=a.dataKey,i=a.name,c=a.unit,o=a.formatter,d=a.tooltipType,l=a.chartType,u=a.hide;return il(il({},Da(t,!1)),{},{dataKey:s,unit:c,formatter:o,name:i||s,color:uS(t),value:Yl(n,s),type:d,payload:n,chartType:l,hide:u})};function C1(r){"@babel/helpers - typeof";return C1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C1(r)}function GI(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function hf(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GI(Object(n),!0).forEach(function(a){UF(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):GI(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function UF(r,t,n){return t=kV(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function kV(r){var t=_V(r,"string");return C1(t)=="symbol"?t:t+""}function _V(r,t){if(C1(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(C1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function OV(r,t){return MV(r)||DV(r,t)||PV(r,t)||FV()}function FV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PV(r,t){if(r){if(typeof r=="string")return qI(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qI(r,t)}}function qI(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=r[n];return a}function DV(r,t){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,s,i,c,o=[],d=!0,l=!1;try{if(i=(n=n.call(r)).next,t!==0)for(;!(d=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);d=!0);}catch(u){l=!0,s=u}finally{try{if(!d&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(l)throw s}}return o}}function MV(r){if(Array.isArray(r))return r}var ox=Math.PI/180,RV=function(t){return t*180/Math.PI},oo=function(t,n,a,s){return{x:t+Math.cos(-ox*s)*a,y:n+Math.sin(-ox*s)*a}},HF=function(t,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(a.left||0)-(a.right||0)),Math.abs(n-(a.top||0)-(a.bottom||0)))/2},LV=function(t,n,a,s,i){var c=t.width,o=t.height,d=t.startAngle,l=t.endAngle,u=Cd(t.cx,c,c/2),h=Cd(t.cy,o,o/2),f=HF(c,o,a),A=Cd(t.innerRadius,f,0),g=Cd(t.outerRadius,f,f*.8),m=Object.keys(n);return m.reduce(function(x,y){var j=n[y],b=j.domain,S=j.reversed,w;if(fs(j.range))s==="angleAxis"?w=[d,l]:s==="radiusAxis"&&(w=[A,g]),S&&(w=[w[1],w[0]]);else{w=j.range;var E=w,I=OV(E,2);d=I[0],l=I[1]}var L=PF(j,i),J=L.realScaleType,ae=L.scale;ae.domain(b).range(w),DF(ae);var G=MF(ae,hf(hf({},j),{},{realScaleType:J})),le=hf(hf(hf({},j),G),{},{range:w,radius:g,realScaleType:J,scale:ae,cx:u,cy:h,innerRadius:A,outerRadius:g,startAngle:d,endAngle:l});return hf(hf({},x),{},UF({},y,le))},{})},UV=function(t,n){var a=t.x,s=t.y,i=n.x,c=n.y;return Math.sqrt(Math.pow(a-i,2)+Math.pow(s-c,2))},HV=function(t,n){var a=t.x,s=t.y,i=n.cx,c=n.cy,o=UV({x:a,y:s},{x:i,y:c});if(o<=0)return{radius:o};var d=(a-i)/o,l=Math.acos(d);return s>c&&(l=2*Math.PI-l),{radius:o,angle:RV(l),angleInRadian:l}},QV=function(t){var n=t.startAngle,a=t.endAngle,s=Math.floor(n/360),i=Math.floor(a/360),c=Math.min(s,i);return{startAngle:n-c*360,endAngle:a-c*360}},WV=function(t,n){var a=n.startAngle,s=n.endAngle,i=Math.floor(a/360),c=Math.floor(s/360),o=Math.min(i,c);return t+o*360},XI=function(t,n){var a=t.x,s=t.y,i=HV({x:a,y:s},n),c=i.radius,o=i.angle,d=n.innerRadius,l=n.outerRadius;if(c<d||c>l)return!1;if(c===0)return!0;var u=QV(n),h=u.startAngle,f=u.endAngle,A=o,g;if(h<=f){for(;A>f;)A-=360;for(;A<h;)A+=360;g=A>=h&&A<=f}else{for(;A>h;)A-=360;for(;A<f;)A+=360;g=A>=f&&A<=h}return g?hf(hf({},n),{},{radius:c,angle:WV(A,n)}):null},QF=function(t){return!C.isValidElement(t)&&!ts(t)&&typeof t!="boolean"?t.className:""};function N1(r){"@babel/helpers - typeof";return N1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N1(r)}var $V=["offset"];function VV(r){return qV(r)||GV(r)||KV(r)||zV()}function zV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KV(r,t){if(r){if(typeof r=="string")return fN(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fN(r,t)}}function GV(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function qV(r){if(Array.isArray(r))return fN(r)}function fN(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=r[n];return a}function XV(r,t){if(r==null)return{};var n=YV(r,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function YV(r,t){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(t.indexOf(a)>=0)continue;n[a]=r[a]}return n}function YI(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function zl(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YI(Object(n),!0).forEach(function(a){JV(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):YI(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function JV(r,t,n){return t=ZV(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function ZV(r){var t=ez(r,"string");return N1(t)=="symbol"?t:t+""}function ez(r,t){if(N1(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(N1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function S1(){return S1=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},S1.apply(this,arguments)}var tz=function(t){var n=t.value,a=t.formatter,s=fs(t.children)?n:t.children;return ts(a)?a(s):s},rz=function(t,n){var a=wd(n-t),s=Math.min(Math.abs(n-t),360);return a*s},nz=function(t,n,a){var s=t.position,i=t.viewBox,c=t.offset,o=t.className,d=i,l=d.cx,u=d.cy,h=d.innerRadius,f=d.outerRadius,A=d.startAngle,g=d.endAngle,m=d.clockWise,x=(h+f)/2,y=rz(A,g),j=y>=0?1:-1,b,S;s==="insideStart"?(b=A+j*c,S=m):s==="insideEnd"?(b=g-j*c,S=!m):s==="end"&&(b=g+j*c,S=m),S=y<=0?S:!S;var w=oo(l,u,x,b),E=oo(l,u,x,b+(S?1:-1)*359),I="M".concat(w.x,",").concat(w.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(S?0:1,`,
    `).concat(E.x,",").concat(E.y),L=fs(t.id)?Om("recharts-radial-line-"):t.id;return Ct.createElement("text",S1({},a,{dominantBaseline:"central",className:Cs("recharts-radial-bar-label",o)}),Ct.createElement("defs",null,Ct.createElement("path",{id:L,d:I})),Ct.createElement("textPath",{xlinkHref:"#".concat(L)},n))},az=function(t){var n=t.viewBox,a=t.offset,s=t.position,i=n,c=i.cx,o=i.cy,d=i.innerRadius,l=i.outerRadius,u=i.startAngle,h=i.endAngle,f=(u+h)/2;if(s==="outside"){var A=oo(c,o,l+a,f),g=A.x,m=A.y;return{x:g,y:m,textAnchor:g>=c?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:c,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:c,y:o,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:c,y:o,textAnchor:"middle",verticalAnchor:"end"};var x=(d+l)/2,y=oo(c,o,x,f),j=y.x,b=y.y;return{x:j,y:b,textAnchor:"middle",verticalAnchor:"middle"}},sz=function(t){var n=t.viewBox,a=t.parentViewBox,s=t.offset,i=t.position,c=n,o=c.x,d=c.y,l=c.width,u=c.height,h=u>=0?1:-1,f=h*s,A=h>0?"end":"start",g=h>0?"start":"end",m=l>=0?1:-1,x=m*s,y=m>0?"end":"start",j=m>0?"start":"end";if(i==="top"){var b={x:o+l/2,y:d-h*s,textAnchor:"middle",verticalAnchor:A};return zl(zl({},b),a?{height:Math.max(d-a.y,0),width:l}:{})}if(i==="bottom"){var S={x:o+l/2,y:d+u+f,textAnchor:"middle",verticalAnchor:g};return zl(zl({},S),a?{height:Math.max(a.y+a.height-(d+u),0),width:l}:{})}if(i==="left"){var w={x:o-x,y:d+u/2,textAnchor:y,verticalAnchor:"middle"};return zl(zl({},w),a?{width:Math.max(w.x-a.x,0),height:u}:{})}if(i==="right"){var E={x:o+l+x,y:d+u/2,textAnchor:j,verticalAnchor:"middle"};return zl(zl({},E),a?{width:Math.max(a.x+a.width-E.x,0),height:u}:{})}var I=a?{width:l,height:u}:{};return i==="insideLeft"?zl({x:o+x,y:d+u/2,textAnchor:j,verticalAnchor:"middle"},I):i==="insideRight"?zl({x:o+l-x,y:d+u/2,textAnchor:y,verticalAnchor:"middle"},I):i==="insideTop"?zl({x:o+l/2,y:d+f,textAnchor:"middle",verticalAnchor:g},I):i==="insideBottom"?zl({x:o+l/2,y:d+u-f,textAnchor:"middle",verticalAnchor:A},I):i==="insideTopLeft"?zl({x:o+x,y:d+f,textAnchor:j,verticalAnchor:g},I):i==="insideTopRight"?zl({x:o+l-x,y:d+f,textAnchor:y,verticalAnchor:g},I):i==="insideBottomLeft"?zl({x:o+x,y:d+u-f,textAnchor:j,verticalAnchor:A},I):i==="insideBottomRight"?zl({x:o+l-x,y:d+u-f,textAnchor:y,verticalAnchor:A},I):_m(i)&&(yn(i.x)||JA(i.x))&&(yn(i.y)||JA(i.y))?zl({x:o+Cd(i.x,l),y:d+Cd(i.y,u),textAnchor:"end",verticalAnchor:"end"},I):zl({x:o+l/2,y:d+u/2,textAnchor:"middle",verticalAnchor:"middle"},I)},iz=function(t){return"cx"in t&&yn(t.cx)};function wc(r){var t=r.offset,n=t===void 0?5:t,a=XV(r,$V),s=zl({offset:n},a),i=s.viewBox,c=s.position,o=s.value,d=s.children,l=s.content,u=s.className,h=u===void 0?"":u,f=s.textBreakAll;if(!i||fs(o)&&fs(d)&&!C.isValidElement(l)&&!ts(l))return null;if(C.isValidElement(l))return C.cloneElement(l,s);var A;if(ts(l)){if(A=C.createElement(l,s),C.isValidElement(A))return A}else A=tz(s);var g=iz(i),m=Da(s,!0);if(g&&(c==="insideStart"||c==="insideEnd"||c==="end"))return nz(s,A,m);var x=g?az(s):sz(s);return Ct.createElement(dp,S1({className:Cs("recharts-label",h)},m,x,{breakAll:f}),A)}wc.displayName="Label";var WF=function(t){var n=t.cx,a=t.cy,s=t.angle,i=t.startAngle,c=t.endAngle,o=t.r,d=t.radius,l=t.innerRadius,u=t.outerRadius,h=t.x,f=t.y,A=t.top,g=t.left,m=t.width,x=t.height,y=t.clockWise,j=t.labelViewBox;if(j)return j;if(yn(m)&&yn(x)){if(yn(h)&&yn(f))return{x:h,y:f,width:m,height:x};if(yn(A)&&yn(g))return{x:A,y:g,width:m,height:x}}return yn(h)&&yn(f)?{x:h,y:f,width:0,height:0}:yn(n)&&yn(a)?{cx:n,cy:a,startAngle:i||s||0,endAngle:c||s||0,innerRadius:l||0,outerRadius:u||d||o||0,clockWise:y}:t.viewBox?t.viewBox:{}},oz=function(t,n){return t?t===!0?Ct.createElement(wc,{key:"label-implicit",viewBox:n}):Zl(t)?Ct.createElement(wc,{key:"label-implicit",viewBox:n,value:t}):C.isValidElement(t)?t.type===wc?C.cloneElement(t,{key:"label-implicit",viewBox:n}):Ct.createElement(wc,{key:"label-implicit",content:t,viewBox:n}):ts(t)?Ct.createElement(wc,{key:"label-implicit",content:t,viewBox:n}):_m(t)?Ct.createElement(wc,S1({viewBox:n},t,{key:"label-implicit"})):null:null},lz=function(t,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&a&&!t.label)return null;var s=t.children,i=WF(t),c=fu(s,wc).map(function(d,l){return C.cloneElement(d,{viewBox:n||i,key:"label-".concat(l)})});if(!a)return c;var o=oz(t.label,n||i);return[o].concat(VV(c))};wc.parseViewBox=WF;wc.renderCallByParent=lz;var ow,JI;function cz(){if(JI)return ow;JI=1;function r(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return ow=r,ow}var dz=cz();const uz=si(dz);function E1(r){"@babel/helpers - typeof";return E1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E1(r)}var hz=["valueAccessor"],fz=["data","dataKey","clockWise","id","textBreakAll"];function Az(r){return vz(r)||gz(r)||mz(r)||pz()}function pz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mz(r,t){if(r){if(typeof r=="string")return AN(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AN(r,t)}}function gz(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function vz(r){if(Array.isArray(r))return AN(r)}function AN(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=r[n];return a}function lx(){return lx=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},lx.apply(this,arguments)}function ZI(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function e6(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZI(Object(n),!0).forEach(function(a){xz(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):ZI(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function xz(r,t,n){return t=yz(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function yz(r){var t=jz(r,"string");return E1(t)=="symbol"?t:t+""}function jz(r,t){if(E1(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(E1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function t6(r,t){if(r==null)return{};var n=bz(r,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function bz(r,t){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(t.indexOf(a)>=0)continue;n[a]=r[a]}return n}var wz=function(t){return Array.isArray(t.value)?uz(t.value):t.value};function xf(r){var t=r.valueAccessor,n=t===void 0?wz:t,a=t6(r,hz),s=a.data,i=a.dataKey,c=a.clockWise,o=a.id,d=a.textBreakAll,l=t6(a,fz);return!s||!s.length?null:Ct.createElement(hi,{className:"recharts-label-list"},s.map(function(u,h){var f=fs(i)?n(u,h):Yl(u&&u.payload,i),A=fs(o)?{}:{id:"".concat(o,"-").concat(h)};return Ct.createElement(wc,lx({},Da(u,!0),l,A,{parentViewBox:u.parentViewBox,value:f,textBreakAll:d,viewBox:wc.parseViewBox(fs(c)?u:e6(e6({},u),{},{clockWise:c})),key:"label-".concat(h),index:h}))}))}xf.displayName="LabelList";function Cz(r,t){return r?r===!0?Ct.createElement(xf,{key:"labelList-implicit",data:t}):Ct.isValidElement(r)||ts(r)?Ct.createElement(xf,{key:"labelList-implicit",data:t,content:r}):_m(r)?Ct.createElement(xf,lx({data:t},r,{key:"labelList-implicit"})):null:null}function Nz(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!r||!r.children&&n&&!r.label)return null;var a=r.children,s=fu(a,xf).map(function(c,o){return C.cloneElement(c,{data:t,key:"labelList-".concat(o)})});if(!n)return s;var i=Cz(r.label,t);return[i].concat(Az(s))}xf.renderCallByParent=Nz;function B1(r){"@babel/helpers - typeof";return B1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B1(r)}function pN(){return pN=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},pN.apply(this,arguments)}function r6(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function n6(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r6(Object(n),!0).forEach(function(a){Sz(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):r6(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function Sz(r,t,n){return t=Ez(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function Ez(r){var t=Bz(r,"string");return B1(t)=="symbol"?t:t+""}function Bz(r,t){if(B1(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(B1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}var Iz=function(t,n){var a=wd(n-t),s=Math.min(Math.abs(n-t),359.999);return a*s},g0=function(t){var n=t.cx,a=t.cy,s=t.radius,i=t.angle,c=t.sign,o=t.isExternal,d=t.cornerRadius,l=t.cornerIsExternal,u=d*(o?1:-1)+s,h=Math.asin(d/u)/ox,f=l?i:i+c*h,A=oo(n,a,u,f),g=oo(n,a,s,f),m=l?i-c*h:i,x=oo(n,a,u*Math.cos(h*ox),m);return{center:A,circleTangency:g,lineTangency:x,theta:h}},$F=function(t){var n=t.cx,a=t.cy,s=t.innerRadius,i=t.outerRadius,c=t.startAngle,o=t.endAngle,d=Iz(c,o),l=c+d,u=oo(n,a,i,c),h=oo(n,a,i,l),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(c>l),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(s>0){var A=oo(n,a,s,c),g=oo(n,a,s,l);f+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(c<=l),`,
            `).concat(A.x,",").concat(A.y," Z")}else f+="L ".concat(n,",").concat(a," Z");return f},Tz=function(t){var n=t.cx,a=t.cy,s=t.innerRadius,i=t.outerRadius,c=t.cornerRadius,o=t.forceCornerRadius,d=t.cornerIsExternal,l=t.startAngle,u=t.endAngle,h=wd(u-l),f=g0({cx:n,cy:a,radius:i,angle:l,sign:h,cornerRadius:c,cornerIsExternal:d}),A=f.circleTangency,g=f.lineTangency,m=f.theta,x=g0({cx:n,cy:a,radius:i,angle:u,sign:-h,cornerRadius:c,cornerIsExternal:d}),y=x.circleTangency,j=x.lineTangency,b=x.theta,S=d?Math.abs(l-u):Math.abs(l-u)-m-b;if(S<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(c,",").concat(c,",0,0,1,").concat(c*2,`,0
        a`).concat(c,",").concat(c,",0,0,1,").concat(-c*2,`,0
      `):$F({cx:n,cy:a,innerRadius:s,outerRadius:i,startAngle:l,endAngle:u});var w="M ".concat(g.x,",").concat(g.y,`
    A`).concat(c,",").concat(c,",0,0,").concat(+(h<0),",").concat(A.x,",").concat(A.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(S>180),",").concat(+(h<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(c,",").concat(c,",0,0,").concat(+(h<0),",").concat(j.x,",").concat(j.y,`
  `);if(s>0){var E=g0({cx:n,cy:a,radius:s,angle:l,sign:h,isExternal:!0,cornerRadius:c,cornerIsExternal:d}),I=E.circleTangency,L=E.lineTangency,J=E.theta,ae=g0({cx:n,cy:a,radius:s,angle:u,sign:-h,isExternal:!0,cornerRadius:c,cornerIsExternal:d}),G=ae.circleTangency,le=ae.lineTangency,V=ae.theta,me=d?Math.abs(l-u):Math.abs(l-u)-J-V;if(me<0&&c===0)return"".concat(w,"L").concat(n,",").concat(a,"Z");w+="L".concat(le.x,",").concat(le.y,`
      A`).concat(c,",").concat(c,",0,0,").concat(+(h<0),",").concat(G.x,",").concat(G.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(me>180),",").concat(+(h>0),",").concat(I.x,",").concat(I.y,`
      A`).concat(c,",").concat(c,",0,0,").concat(+(h<0),",").concat(L.x,",").concat(L.y,"Z")}else w+="L".concat(n,",").concat(a,"Z");return w},kz={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},VF=function(t){var n=n6(n6({},kz),t),a=n.cx,s=n.cy,i=n.innerRadius,c=n.outerRadius,o=n.cornerRadius,d=n.forceCornerRadius,l=n.cornerIsExternal,u=n.startAngle,h=n.endAngle,f=n.className;if(c<i||u===h)return null;var A=Cs("recharts-sector",f),g=c-i,m=Cd(o,g,0,!0),x;return m>0&&Math.abs(u-h)<360?x=Tz({cx:a,cy:s,innerRadius:i,outerRadius:c,cornerRadius:Math.min(m,g/2),forceCornerRadius:d,cornerIsExternal:l,startAngle:u,endAngle:h}):x=$F({cx:a,cy:s,innerRadius:i,outerRadius:c,startAngle:u,endAngle:h}),Ct.createElement("path",pN({},Da(n,!0),{className:A,d:x,role:"img"}))};function I1(r){"@babel/helpers - typeof";return I1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I1(r)}function mN(){return mN=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},mN.apply(this,arguments)}function a6(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function s6(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a6(Object(n),!0).forEach(function(a){_z(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):a6(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function _z(r,t,n){return t=Oz(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function Oz(r){var t=Fz(r,"string");return I1(t)=="symbol"?t:t+""}function Fz(r,t){if(I1(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(I1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}var i6={curveBasisClosed:ZL,curveBasisOpen:e7,curveBasis:JL,curveBumpX:RL,curveBumpY:LL,curveLinearClosed:t7,curveLinear:qx,curveMonotoneX:r7,curveMonotoneY:n7,curveNatural:a7,curveStep:s7,curveStepAfter:o7,curveStepBefore:i7},v0=function(t){return t.x===+t.x&&t.y===+t.y},Ym=function(t){return t.x},Jm=function(t){return t.y},Pz=function(t,n){if(ts(t))return t;var a="curve".concat(Kx(t));return(a==="curveMonotone"||a==="curveBump")&&n?i6["".concat(a).concat(n==="vertical"?"Y":"X")]:i6[a]||qx},Dz=function(t){var n=t.type,a=n===void 0?"linear":n,s=t.points,i=s===void 0?[]:s,c=t.baseLine,o=t.layout,d=t.connectNulls,l=d===void 0?!1:d,u=Pz(a,o),h=l?i.filter(function(m){return v0(m)}):i,f;if(Array.isArray(c)){var A=l?c.filter(function(m){return v0(m)}):c,g=h.map(function(m,x){return s6(s6({},m),{},{base:A[x]})});return o==="vertical"?f=c0().y(Jm).x1(Ym).x0(function(m){return m.base.x}):f=c0().x(Ym).y1(Jm).y0(function(m){return m.base.y}),f.defined(v0).curve(u),f(g)}return o==="vertical"&&yn(c)?f=c0().y(Jm).x1(Ym).x0(c):yn(c)?f=c0().x(Ym).y1(Jm).y0(c):f=$_().x(Ym).y(Jm),f.defined(v0).curve(u),f(h)},cx=function(t){var n=t.className,a=t.points,s=t.path,i=t.pathRef;if((!a||!a.length)&&!s)return null;var c=a&&a.length?Dz(t):s;return Ct.createElement("path",mN({},Da(t,!1),Pv(t),{className:Cs("recharts-curve",n),d:c,ref:i}))},lw={exports:{}},cw,o6;function Mz(){if(o6)return cw;o6=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return cw=r,cw}var dw,l6;function Rz(){if(l6)return dw;l6=1;var r=Mz();function t(){}function n(){}return n.resetWarningCache=t,dw=function(){function a(c,o,d,l,u,h){if(h!==r){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}a.isRequired=a;function s(){return a}var i={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:s,element:a,elementType:a,instanceOf:s,node:a,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:t};return i.PropTypes=i,i},dw}var c6;function Lz(){return c6||(c6=1,lw.exports=Rz()()),lw.exports}var Uz=Lz();const ki=si(Uz),{getOwnPropertyNames:Hz,getOwnPropertySymbols:Qz}=Object,{hasOwnProperty:Wz}=Object.prototype;function uw(r,t){return function(a,s,i){return r(a,s,i)&&t(a,s,i)}}function x0(r){return function(n,a,s){if(!n||!a||typeof n!="object"||typeof a!="object")return r(n,a,s);const{cache:i}=s,c=i.get(n),o=i.get(a);if(c&&o)return c===a&&o===n;i.set(n,a),i.set(a,n);const d=r(n,a,s);return i.delete(n),i.delete(a),d}}function $z(r){return r!=null?r[Symbol.toStringTag]:void 0}function d6(r){return Hz(r).concat(Qz(r))}const Vz=Object.hasOwn||((r,t)=>Wz.call(r,t));function vp(r,t){return r===t||!r&&!t&&r!==r&&t!==t}const zz="__v",Kz="__o",Gz="_owner",{getOwnPropertyDescriptor:u6,keys:h6}=Object;function qz(r,t){return r.byteLength===t.byteLength&&dx(new Uint8Array(r),new Uint8Array(t))}function Xz(r,t,n){let a=r.length;if(t.length!==a)return!1;for(;a-- >0;)if(!n.equals(r[a],t[a],a,a,r,t,n))return!1;return!0}function Yz(r,t){return r.byteLength===t.byteLength&&dx(new Uint8Array(r.buffer,r.byteOffset,r.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function Jz(r,t){return vp(r.getTime(),t.getTime())}function Zz(r,t){return r.name===t.name&&r.message===t.message&&r.cause===t.cause&&r.stack===t.stack}function eK(r,t){return r===t}function f6(r,t,n){const a=r.size;if(a!==t.size)return!1;if(!a)return!0;const s=new Array(a),i=r.entries();let c,o,d=0;for(;(c=i.next())&&!c.done;){const l=t.entries();let u=!1,h=0;for(;(o=l.next())&&!o.done;){if(s[h]){h++;continue}const f=c.value,A=o.value;if(n.equals(f[0],A[0],d,h,r,t,n)&&n.equals(f[1],A[1],f[0],A[0],r,t,n)){u=s[h]=!0;break}h++}if(!u)return!1;d++}return!0}const tK=vp;function rK(r,t,n){const a=h6(r);let s=a.length;if(h6(t).length!==s)return!1;for(;s-- >0;)if(!zF(r,t,n,a[s]))return!1;return!0}function Zm(r,t,n){const a=d6(r);let s=a.length;if(d6(t).length!==s)return!1;let i,c,o;for(;s-- >0;)if(i=a[s],!zF(r,t,n,i)||(c=u6(r,i),o=u6(t,i),(c||o)&&(!c||!o||c.configurable!==o.configurable||c.enumerable!==o.enumerable||c.writable!==o.writable)))return!1;return!0}function nK(r,t){return vp(r.valueOf(),t.valueOf())}function aK(r,t){return r.source===t.source&&r.flags===t.flags}function A6(r,t,n){const a=r.size;if(a!==t.size)return!1;if(!a)return!0;const s=new Array(a),i=r.values();let c,o;for(;(c=i.next())&&!c.done;){const d=t.values();let l=!1,u=0;for(;(o=d.next())&&!o.done;){if(!s[u]&&n.equals(c.value,o.value,c.value,o.value,r,t,n)){l=s[u]=!0;break}u++}if(!l)return!1}return!0}function dx(r,t){let n=r.byteLength;if(t.byteLength!==n||r.byteOffset!==t.byteOffset)return!1;for(;n-- >0;)if(r[n]!==t[n])return!1;return!0}function sK(r,t){return r.hostname===t.hostname&&r.pathname===t.pathname&&r.protocol===t.protocol&&r.port===t.port&&r.hash===t.hash&&r.username===t.username&&r.password===t.password}function zF(r,t,n,a){return(a===Gz||a===Kz||a===zz)&&(r.$$typeof||t.$$typeof)?!0:Vz(t,a)&&n.equals(r[a],t[a],a,a,r,t,n)}const iK="[object ArrayBuffer]",oK="[object Arguments]",lK="[object Boolean]",cK="[object DataView]",dK="[object Date]",uK="[object Error]",hK="[object Map]",fK="[object Number]",AK="[object Object]",pK="[object RegExp]",mK="[object Set]",gK="[object String]",vK={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},xK="[object URL]",yK=Object.prototype.toString;function jK({areArrayBuffersEqual:r,areArraysEqual:t,areDataViewsEqual:n,areDatesEqual:a,areErrorsEqual:s,areFunctionsEqual:i,areMapsEqual:c,areNumbersEqual:o,areObjectsEqual:d,arePrimitiveWrappersEqual:l,areRegExpsEqual:u,areSetsEqual:h,areTypedArraysEqual:f,areUrlsEqual:A,unknownTagComparators:g}){return function(x,y,j){if(x===y)return!0;if(x==null||y==null)return!1;const b=typeof x;if(b!==typeof y)return!1;if(b!=="object")return b==="number"?o(x,y,j):b==="function"?i(x,y,j):!1;const S=x.constructor;if(S!==y.constructor)return!1;if(S===Object)return d(x,y,j);if(Array.isArray(x))return t(x,y,j);if(S===Date)return a(x,y,j);if(S===RegExp)return u(x,y,j);if(S===Map)return c(x,y,j);if(S===Set)return h(x,y,j);const w=yK.call(x);if(w===dK)return a(x,y,j);if(w===pK)return u(x,y,j);if(w===hK)return c(x,y,j);if(w===mK)return h(x,y,j);if(w===AK)return typeof x.then!="function"&&typeof y.then!="function"&&d(x,y,j);if(w===xK)return A(x,y,j);if(w===uK)return s(x,y,j);if(w===oK)return d(x,y,j);if(vK[w])return f(x,y,j);if(w===iK)return r(x,y,j);if(w===cK)return n(x,y,j);if(w===lK||w===fK||w===gK)return l(x,y,j);if(g){let E=g[w];if(!E){const I=$z(x);I&&(E=g[I])}if(E)return E(x,y,j)}return!1}}function bK({circular:r,createCustomConfig:t,strict:n}){let a={areArrayBuffersEqual:qz,areArraysEqual:n?Zm:Xz,areDataViewsEqual:Yz,areDatesEqual:Jz,areErrorsEqual:Zz,areFunctionsEqual:eK,areMapsEqual:n?uw(f6,Zm):f6,areNumbersEqual:tK,areObjectsEqual:n?Zm:rK,arePrimitiveWrappersEqual:nK,areRegExpsEqual:aK,areSetsEqual:n?uw(A6,Zm):A6,areTypedArraysEqual:n?uw(dx,Zm):dx,areUrlsEqual:sK,unknownTagComparators:void 0};if(t&&(a=Object.assign({},a,t(a))),r){const s=x0(a.areArraysEqual),i=x0(a.areMapsEqual),c=x0(a.areObjectsEqual),o=x0(a.areSetsEqual);a=Object.assign({},a,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:c,areSetsEqual:o})}return a}function wK(r){return function(t,n,a,s,i,c,o){return r(t,n,o)}}function CK({circular:r,comparator:t,createState:n,equals:a,strict:s}){if(n)return function(o,d){const{cache:l=r?new WeakMap:void 0,meta:u}=n();return t(o,d,{cache:l,equals:a,meta:u,strict:s})};if(r)return function(o,d){return t(o,d,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};const i={cache:void 0,equals:a,meta:void 0,strict:s};return function(o,d){return t(o,d,i)}}const NK=vA();vA({strict:!0});vA({circular:!0});vA({circular:!0,strict:!0});vA({createInternalComparator:()=>vp});vA({strict:!0,createInternalComparator:()=>vp});vA({circular:!0,createInternalComparator:()=>vp});vA({circular:!0,createInternalComparator:()=>vp,strict:!0});function vA(r={}){const{circular:t=!1,createInternalComparator:n,createState:a,strict:s=!1}=r,i=bK(r),c=jK(i),o=n?n(c):wK(c);return CK({circular:t,comparator:c,createState:a,equals:o,strict:s})}function SK(r){typeof requestAnimationFrame<"u"&&requestAnimationFrame(r)}function p6(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,a=function s(i){n<0&&(n=i),i-n>t?(r(i),n=-1):SK(s)};requestAnimationFrame(a)}function gN(r){"@babel/helpers - typeof";return gN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gN(r)}function EK(r){return kK(r)||TK(r)||IK(r)||BK()}function BK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IK(r,t){if(r){if(typeof r=="string")return m6(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m6(r,t)}}function m6(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=r[n];return a}function TK(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function kK(r){if(Array.isArray(r))return r}function _K(){var r={},t=function(){return null},n=!1,a=function s(i){if(!n){if(Array.isArray(i)){if(!i.length)return;var c=i,o=EK(c),d=o[0],l=o.slice(1);if(typeof d=="number"){p6(s.bind(null,l),d);return}s(d),p6(s.bind(null,l));return}gN(i)==="object"&&(r=i,t(r)),typeof i=="function"&&i()}};return{stop:function(){n=!0},start:function(i){n=!1,a(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function T1(r){"@babel/helpers - typeof";return T1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T1(r)}function g6(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function v6(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?g6(Object(n),!0).forEach(function(a){KF(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):g6(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function KF(r,t,n){return t=OK(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function OK(r){var t=FK(r,"string");return T1(t)==="symbol"?t:String(t)}function FK(r,t){if(T1(r)!=="object"||r===null)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(T1(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}var PK=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(a,s){return a.filter(function(i){return s.includes(i)})})},DK=function(t){return t},MK=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},e1=function(t,n){return Object.keys(n).reduce(function(a,s){return v6(v6({},a),{},KF({},s,t(s,n[s])))},{})},x6=function(t,n,a){return t.map(function(s){return"".concat(MK(s)," ").concat(n,"ms ").concat(a)}).join(",")};function RK(r,t){return HK(r)||UK(r,t)||GF(r,t)||LK()}function LK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UK(r,t){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,s,i,c,o=[],d=!0,l=!1;try{if(i=(n=n.call(r)).next,t!==0)for(;!(d=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);d=!0);}catch(u){l=!0,s=u}finally{try{if(!d&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(l)throw s}}return o}}function HK(r){if(Array.isArray(r))return r}function QK(r){return VK(r)||$K(r)||GF(r)||WK()}function WK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GF(r,t){if(r){if(typeof r=="string")return vN(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vN(r,t)}}function $K(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function VK(r){if(Array.isArray(r))return vN(r)}function vN(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=r[n];return a}var ux=1e-4,qF=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},XF=function(t,n){return t.map(function(a,s){return a*Math.pow(n,s)}).reduce(function(a,s){return a+s})},y6=function(t,n){return function(a){var s=qF(t,n);return XF(s,a)}},zK=function(t,n){return function(a){var s=qF(t,n),i=[].concat(QK(s.map(function(c,o){return c*o}).slice(1)),[0]);return XF(i,a)}},j6=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];var s=n[0],i=n[1],c=n[2],o=n[3];if(n.length===1)switch(n[0]){case"linear":s=0,i=0,c=1,o=1;break;case"ease":s=.25,i=.1,c=.25,o=1;break;case"ease-in":s=.42,i=0,c=1,o=1;break;case"ease-out":s=.42,i=0,c=.58,o=1;break;case"ease-in-out":s=0,i=0,c=.58,o=1;break;default:{var d=n[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var l=d[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),u=RK(l,4);s=u[0],i=u[1],c=u[2],o=u[3]}}}var h=y6(s,c),f=y6(i,o),A=zK(s,c),g=function(y){return y>1?1:y<0?0:y},m=function(y){for(var j=y>1?1:y,b=j,S=0;S<8;++S){var w=h(b)-j,E=A(b);if(Math.abs(w-j)<ux||E<ux)return f(b);b=g(b-w/E)}return f(b)};return m.isStepper=!1,m},KK=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,a=n===void 0?100:n,s=t.damping,i=s===void 0?8:s,c=t.dt,o=c===void 0?17:c,d=function(u,h,f){var A=-(u-h)*a,g=f*i,m=f+(A-g)*o/1e3,x=f*o/1e3+u;return Math.abs(x-h)<ux&&Math.abs(m)<ux?[h,0]:[x,m]};return d.isStepper=!0,d.dt=o,d},GK=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];var s=n[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return j6(s);case"spring":return KK();default:if(s.split("(")[0]==="cubic-bezier")return j6(s)}return typeof s=="function"?s:null};function k1(r){"@babel/helpers - typeof";return k1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k1(r)}function b6(r){return YK(r)||XK(r)||YF(r)||qK()}function qK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XK(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function YK(r){if(Array.isArray(r))return yN(r)}function w6(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function Uc(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?w6(Object(n),!0).forEach(function(a){xN(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):w6(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function xN(r,t,n){return t=JK(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function JK(r){var t=ZK(r,"string");return k1(t)==="symbol"?t:String(t)}function ZK(r,t){if(k1(r)!=="object"||r===null)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(k1(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function eG(r,t){return nG(r)||rG(r,t)||YF(r,t)||tG()}function tG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YF(r,t){if(r){if(typeof r=="string")return yN(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yN(r,t)}}function yN(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=r[n];return a}function rG(r,t){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,s,i,c,o=[],d=!0,l=!1;try{if(i=(n=n.call(r)).next,t!==0)for(;!(d=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);d=!0);}catch(u){l=!0,s=u}finally{try{if(!d&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(l)throw s}}return o}}function nG(r){if(Array.isArray(r))return r}var hx=function(t,n,a){return t+(n-t)*a},jN=function(t){var n=t.from,a=t.to;return n!==a},aG=function r(t,n,a){var s=e1(function(i,c){if(jN(c)){var o=t(c.from,c.to,c.velocity),d=eG(o,2),l=d[0],u=d[1];return Uc(Uc({},c),{},{from:l,velocity:u})}return c},n);return a<1?e1(function(i,c){return jN(c)?Uc(Uc({},c),{},{velocity:hx(c.velocity,s[i].velocity,a),from:hx(c.from,s[i].from,a)}):c},n):r(t,s,a-1)};const sG=(function(r,t,n,a,s){var i=PK(r,t),c=i.reduce(function(x,y){return Uc(Uc({},x),{},xN({},y,[r[y],t[y]]))},{}),o=i.reduce(function(x,y){return Uc(Uc({},x),{},xN({},y,{from:r[y],velocity:0,to:t[y]}))},{}),d=-1,l,u,h=function(){return null},f=function(){return e1(function(y,j){return j.from},o)},A=function(){return!Object.values(o).filter(jN).length},g=function(y){l||(l=y);var j=y-l,b=j/n.dt;o=aG(n,o,b),s(Uc(Uc(Uc({},r),t),f())),l=y,A()||(d=requestAnimationFrame(h))},m=function(y){u||(u=y);var j=(y-u)/a,b=e1(function(w,E){return hx.apply(void 0,b6(E).concat([n(j)]))},c);if(s(Uc(Uc(Uc({},r),t),b)),j<1)d=requestAnimationFrame(h);else{var S=e1(function(w,E){return hx.apply(void 0,b6(E).concat([n(1)]))},c);s(Uc(Uc(Uc({},r),t),S))}};return h=n.isStepper?g:m,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(d)}}});function um(r){"@babel/helpers - typeof";return um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},um(r)}var iG=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function oG(r,t){if(r==null)return{};var n=lG(r,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function lG(r,t){if(r==null)return{};var n={},a=Object.keys(r),s,i;for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&(n[s]=r[s]);return n}function hw(r){return hG(r)||uG(r)||dG(r)||cG()}function cG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dG(r,t){if(r){if(typeof r=="string")return bN(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bN(r,t)}}function uG(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function hG(r){if(Array.isArray(r))return bN(r)}function bN(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=r[n];return a}function C6(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function oh(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C6(Object(n),!0).forEach(function(a){Hg(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):C6(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function Hg(r,t,n){return t=JF(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function fG(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function AG(r,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,JF(a.key),a)}}function pG(r,t,n){return t&&AG(r.prototype,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function JF(r){var t=mG(r,"string");return um(t)==="symbol"?t:String(t)}function mG(r,t){if(um(r)!=="object"||r===null)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(um(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function gG(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&wN(r,t)}function wN(r,t){return wN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},wN(r,t)}function vG(r){var t=xG();return function(){var a=fx(r),s;if(t){var i=fx(this).constructor;s=Reflect.construct(a,arguments,i)}else s=a.apply(this,arguments);return CN(this,s)}}function CN(r,t){if(t&&(um(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NN(r)}function NN(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function xG(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function fx(r){return fx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fx(r)}var Lh=(function(r){gG(n,r);var t=vG(n);function n(a,s){var i;fG(this,n),i=t.call(this,a,s);var c=i.props,o=c.isActive,d=c.attributeName,l=c.from,u=c.to,h=c.steps,f=c.children,A=c.duration;if(i.handleStyleChange=i.handleStyleChange.bind(NN(i)),i.changeStyle=i.changeStyle.bind(NN(i)),!o||A<=0)return i.state={style:{}},typeof f=="function"&&(i.state={style:u}),CN(i);if(h&&h.length)i.state={style:h[0].style};else if(l){if(typeof f=="function")return i.state={style:l},CN(i);i.state={style:d?Hg({},d,l):l}}else i.state={style:{}};return i}return pG(n,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,c=s.canBegin;this.mounted=!0,!(!i||!c)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,c=i.isActive,o=i.canBegin,d=i.attributeName,l=i.shouldReAnimate,u=i.to,h=i.from,f=this.state.style;if(o){if(!c){var A={style:d?Hg({},d,u):u};this.state&&f&&(d&&f[d]!==u||!d&&f!==u)&&this.setState(A);return}if(!(NK(s.to,u)&&s.canBegin&&s.isActive)){var g=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||l?h:s.to;if(this.state&&f){var x={style:d?Hg({},d,m):m};(d&&f[d]!==m||!d&&f!==m)&&this.setState(x)}this.runAnimation(oh(oh({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,c=s.from,o=s.to,d=s.duration,l=s.easing,u=s.begin,h=s.onAnimationEnd,f=s.onAnimationStart,A=sG(c,o,GK(l),d,this.changeStyle),g=function(){i.stopJSAnimation=A()};this.manager.start([f,u,g,d,h])}},{key:"runStepAnimation",value:function(s){var i=this,c=s.steps,o=s.begin,d=s.onAnimationStart,l=c[0],u=l.style,h=l.duration,f=h===void 0?0:h,A=function(m,x,y){if(y===0)return m;var j=x.duration,b=x.easing,S=b===void 0?"ease":b,w=x.style,E=x.properties,I=x.onAnimationEnd,L=y>0?c[y-1]:x,J=E||Object.keys(w);if(typeof S=="function"||S==="spring")return[].concat(hw(m),[i.runJSAnimation.bind(i,{from:L.style,to:w,duration:j,easing:S}),j]);var ae=x6(J,j,S),G=oh(oh(oh({},L.style),w),{},{transition:ae});return[].concat(hw(m),[G,j,I]).filter(DK)};return this.manager.start([d].concat(hw(c.reduce(A,[u,Math.max(f,o)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=_K());var i=s.begin,c=s.duration,o=s.attributeName,d=s.to,l=s.easing,u=s.onAnimationStart,h=s.onAnimationEnd,f=s.steps,A=s.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof l=="function"||typeof A=="function"||l==="spring"){this.runJSAnimation(s);return}if(f.length>1){this.runStepAnimation(s);return}var m=o?Hg({},o,d):d,x=x6(Object.keys(m),c,l);g.start([u,i,oh(oh({},m),{},{transition:x}),c,h])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var c=s.duration;s.attributeName,s.easing;var o=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var d=oG(s,iG),l=C.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!o||l===0||c<=0)return i;var h=function(A){var g=A.props,m=g.style,x=m===void 0?{}:m,y=g.className,j=C.cloneElement(A,oh(oh({},d),{},{style:oh(oh({},x),u),className:y}));return j};return l===1?h(C.Children.only(i)):Ct.createElement("div",null,C.Children.map(i,function(f){return h(f)}))}}]),n})(C.PureComponent);Lh.displayName="Animate";Lh.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Lh.propTypes={from:ki.oneOfType([ki.object,ki.string]),to:ki.oneOfType([ki.object,ki.string]),attributeName:ki.string,duration:ki.number,begin:ki.number,easing:ki.oneOfType([ki.string,ki.func]),steps:ki.arrayOf(ki.shape({duration:ki.number.isRequired,style:ki.object.isRequired,easing:ki.oneOfType([ki.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ki.func]),properties:ki.arrayOf("string"),onAnimationEnd:ki.func})),children:ki.oneOfType([ki.node,ki.func]),isActive:ki.bool,canBegin:ki.bool,onAnimationEnd:ki.func,shouldReAnimate:ki.bool,onAnimationStart:ki.func,onAnimationReStart:ki.func};function _1(r){"@babel/helpers - typeof";return _1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_1(r)}function Ax(){return Ax=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},Ax.apply(this,arguments)}function yG(r,t){return CG(r)||wG(r,t)||bG(r,t)||jG()}function jG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bG(r,t){if(r){if(typeof r=="string")return N6(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N6(r,t)}}function N6(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=r[n];return a}function wG(r,t){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,s,i,c,o=[],d=!0,l=!1;try{if(i=(n=n.call(r)).next,t!==0)for(;!(d=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);d=!0);}catch(u){l=!0,s=u}finally{try{if(!d&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(l)throw s}}return o}}function CG(r){if(Array.isArray(r))return r}function S6(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function E6(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S6(Object(n),!0).forEach(function(a){NG(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):S6(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function NG(r,t,n){return t=SG(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function SG(r){var t=EG(r,"string");return _1(t)=="symbol"?t:t+""}function EG(r,t){if(_1(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(_1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}var B6=function(t,n,a,s,i){var c=Math.min(Math.abs(a)/2,Math.abs(s)/2),o=s>=0?1:-1,d=a>=0?1:-1,l=s>=0&&a>=0||s<0&&a<0?1:0,u;if(c>0&&i instanceof Array){for(var h=[0,0,0,0],f=0,A=4;f<A;f++)h[f]=i[f]>c?c:i[f];u="M".concat(t,",").concat(n+o*h[0]),h[0]>0&&(u+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(l,",").concat(t+d*h[0],",").concat(n)),u+="L ".concat(t+a-d*h[1],",").concat(n),h[1]>0&&(u+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(l,`,
        `).concat(t+a,",").concat(n+o*h[1])),u+="L ".concat(t+a,",").concat(n+s-o*h[2]),h[2]>0&&(u+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(l,`,
        `).concat(t+a-d*h[2],",").concat(n+s)),u+="L ".concat(t+d*h[3],",").concat(n+s),h[3]>0&&(u+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(l,`,
        `).concat(t,",").concat(n+s-o*h[3])),u+="Z"}else if(c>0&&i===+i&&i>0){var g=Math.min(c,i);u="M ".concat(t,",").concat(n+o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(l,",").concat(t+d*g,",").concat(n,`
            L `).concat(t+a-d*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(l,",").concat(t+a,",").concat(n+o*g,`
            L `).concat(t+a,",").concat(n+s-o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(l,",").concat(t+a-d*g,",").concat(n+s,`
            L `).concat(t+d*g,",").concat(n+s,`
            A `).concat(g,",").concat(g,",0,0,").concat(l,",").concat(t,",").concat(n+s-o*g," Z")}else u="M ".concat(t,",").concat(n," h ").concat(a," v ").concat(s," h ").concat(-a," Z");return u},BG=function(t,n){if(!t||!n)return!1;var a=t.x,s=t.y,i=n.x,c=n.y,o=n.width,d=n.height;if(Math.abs(o)>0&&Math.abs(d)>0){var l=Math.min(i,i+o),u=Math.max(i,i+o),h=Math.min(c,c+d),f=Math.max(c,c+d);return a>=l&&a<=u&&s>=h&&s<=f}return!1},IG={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},hS=function(t){var n=E6(E6({},IG),t),a=C.useRef(),s=C.useState(-1),i=yG(s,2),c=i[0],o=i[1];C.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var S=a.current.getTotalLength();S&&o(S)}catch{}},[]);var d=n.x,l=n.y,u=n.width,h=n.height,f=n.radius,A=n.className,g=n.animationEasing,m=n.animationDuration,x=n.animationBegin,y=n.isAnimationActive,j=n.isUpdateAnimationActive;if(d!==+d||l!==+l||u!==+u||h!==+h||u===0||h===0)return null;var b=Cs("recharts-rectangle",A);return j?Ct.createElement(Lh,{canBegin:c>0,from:{width:u,height:h,x:d,y:l},to:{width:u,height:h,x:d,y:l},duration:m,animationEasing:g,isActive:j},function(S){var w=S.width,E=S.height,I=S.x,L=S.y;return Ct.createElement(Lh,{canBegin:c>0,from:"0px ".concat(c===-1?1:c,"px"),to:"".concat(c,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:m,isActive:y,easing:g},Ct.createElement("path",Ax({},Da(n,!0),{className:b,d:B6(I,L,w,E,f),ref:a})))}):Ct.createElement("path",Ax({},Da(n,!0),{className:b,d:B6(d,l,u,h,f)}))},TG=["points","className","baseLinePoints","connectNulls"];function Qp(){return Qp=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},Qp.apply(this,arguments)}function kG(r,t){if(r==null)return{};var n=_G(r,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function _G(r,t){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(t.indexOf(a)>=0)continue;n[a]=r[a]}return n}function I6(r){return DG(r)||PG(r)||FG(r)||OG()}function OG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FG(r,t){if(r){if(typeof r=="string")return SN(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SN(r,t)}}function PG(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function DG(r){if(Array.isArray(r))return SN(r)}function SN(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=r[n];return a}var T6=function(t){return t&&t.x===+t.x&&t.y===+t.y},MG=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(a){T6(a)?n[n.length-1].push(a):n[n.length-1].length>0&&n.push([])}),T6(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},t1=function(t,n){var a=MG(t);n&&(a=[a.reduce(function(i,c){return[].concat(I6(i),I6(c))},[])]);var s=a.map(function(i){return i.reduce(function(c,o,d){return"".concat(c).concat(d===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return a.length===1?"".concat(s,"Z"):s},RG=function(t,n,a){var s=t1(t,a);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(t1(n.reverse(),a).slice(1))},LG=function(t){var n=t.points,a=t.className,s=t.baseLinePoints,i=t.connectNulls,c=kG(t,TG);if(!n||!n.length)return null;var o=Cs("recharts-polygon",a);if(s&&s.length){var d=c.stroke&&c.stroke!=="none",l=RG(n,s,i);return Ct.createElement("g",{className:o},Ct.createElement("path",Qp({},Da(c,!0),{fill:l.slice(-1)==="Z"?c.fill:"none",stroke:"none",d:l})),d?Ct.createElement("path",Qp({},Da(c,!0),{fill:"none",d:t1(n,i)})):null,d?Ct.createElement("path",Qp({},Da(c,!0),{fill:"none",d:t1(s,i)})):null)}var u=t1(n,i);return Ct.createElement("path",Qp({},Da(c,!0),{fill:u.slice(-1)==="Z"?c.fill:"none",className:o,d:u}))};function EN(){return EN=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},EN.apply(this,arguments)}var h2=function(t){var n=t.cx,a=t.cy,s=t.r,i=t.className,c=Cs("recharts-dot",i);return n===+n&&a===+a&&s===+s?Ct.createElement("circle",EN({},Da(t,!1),Pv(t),{className:c,cx:n,cy:a,r:s})):null};function O1(r){"@babel/helpers - typeof";return O1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O1(r)}var UG=["x","y","top","left","width","height","className"];function BN(){return BN=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},BN.apply(this,arguments)}function k6(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function HG(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?k6(Object(n),!0).forEach(function(a){QG(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):k6(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function QG(r,t,n){return t=WG(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function WG(r){var t=$G(r,"string");return O1(t)=="symbol"?t:t+""}function $G(r,t){if(O1(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(O1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function VG(r,t){if(r==null)return{};var n=zG(r,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function zG(r,t){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(t.indexOf(a)>=0)continue;n[a]=r[a]}return n}var KG=function(t,n,a,s,i,c){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(c,",").concat(n,"h").concat(a)},GG=function(t){var n=t.x,a=n===void 0?0:n,s=t.y,i=s===void 0?0:s,c=t.top,o=c===void 0?0:c,d=t.left,l=d===void 0?0:d,u=t.width,h=u===void 0?0:u,f=t.height,A=f===void 0?0:f,g=t.className,m=VG(t,UG),x=HG({x:a,y:i,top:o,left:l,width:h,height:A},m);return!yn(a)||!yn(i)||!yn(h)||!yn(A)||!yn(o)||!yn(l)?null:Ct.createElement("path",BN({},Da(x,!0),{className:Cs("recharts-cross",g),d:KG(a,i,h,A,o,l)}))},fw,_6;function qG(){if(_6)return fw;_6=1;var r=o2(),t=fF(),n=Qh();function a(s,i){return s&&s.length?r(s,n(i,2),t):void 0}return fw=a,fw}var XG=qG();const YG=si(XG);var Aw,O6;function JG(){if(O6)return Aw;O6=1;var r=o2(),t=Qh(),n=AF();function a(s,i){return s&&s.length?r(s,t(i,2),n):void 0}return Aw=a,Aw}var ZG=JG();const eq=si(ZG);var tq=["cx","cy","angle","ticks","axisLine"],rq=["ticks","tick","angle","tickFormatter","stroke"];function hm(r){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hm(r)}function r1(){return r1=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},r1.apply(this,arguments)}function F6(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function RA(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F6(Object(n),!0).forEach(function(a){f2(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):F6(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function P6(r,t){if(r==null)return{};var n=nq(r,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function nq(r,t){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(t.indexOf(a)>=0)continue;n[a]=r[a]}return n}function aq(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function D6(r,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,eP(a.key),a)}}function sq(r,t,n){return t&&D6(r.prototype,t),n&&D6(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function iq(r,t,n){return t=px(t),oq(r,ZF()?Reflect.construct(t,n||[],px(r).constructor):t.apply(r,n))}function oq(r,t){if(t&&(hm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lq(r)}function lq(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function ZF(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZF=function(){return!!r})()}function px(r){return px=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},px(r)}function cq(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&IN(r,t)}function IN(r,t){return IN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},IN(r,t)}function f2(r,t,n){return t=eP(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function eP(r){var t=dq(r,"string");return hm(t)=="symbol"?t:t+""}function dq(r,t){if(hm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(hm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var A2=(function(r){function t(){return aq(this,t),iq(this,t,arguments)}return cq(t,r),sq(t,[{key:"getTickValueCoord",value:function(a){var s=a.coordinate,i=this.props,c=i.angle,o=i.cx,d=i.cy;return oo(o,d,s,c)}},{key:"getTickTextAnchor",value:function(){var a=this.props.orientation,s;switch(a){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var a=this.props,s=a.cx,i=a.cy,c=a.angle,o=a.ticks,d=YG(o,function(u){return u.coordinate||0}),l=eq(o,function(u){return u.coordinate||0});return{cx:s,cy:i,startAngle:c,endAngle:c,innerRadius:l.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.cx,i=a.cy,c=a.angle,o=a.ticks,d=a.axisLine,l=P6(a,tq),u=o.reduce(function(g,m){return[Math.min(g[0],m.coordinate),Math.max(g[1],m.coordinate)]},[1/0,-1/0]),h=oo(s,i,u[0],c),f=oo(s,i,u[1],c),A=RA(RA(RA({},Da(l,!1)),{},{fill:"none"},Da(d,!1)),{},{x1:h.x,y1:h.y,x2:f.x,y2:f.y});return Ct.createElement("line",r1({className:"recharts-polar-radius-axis-line"},A))}},{key:"renderTicks",value:function(){var a=this,s=this.props,i=s.ticks,c=s.tick,o=s.angle,d=s.tickFormatter,l=s.stroke,u=P6(s,rq),h=this.getTickTextAnchor(),f=Da(u,!1),A=Da(c,!1),g=i.map(function(m,x){var y=a.getTickValueCoord(m),j=RA(RA(RA(RA({textAnchor:h,transform:"rotate(".concat(90-o,", ").concat(y.x,", ").concat(y.y,")")},f),{},{stroke:"none",fill:l},A),{},{index:x},y),{},{payload:m});return Ct.createElement(hi,r1({className:Cs("recharts-polar-radius-axis-tick",QF(c)),key:"tick-".concat(m.coordinate)},cp(a.props,m,x)),t.renderTickItem(c,j,d?d(m.value,x):m.value))});return Ct.createElement(hi,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var a=this.props,s=a.ticks,i=a.axisLine,c=a.tick;return!s||!s.length?null:Ct.createElement(hi,{className:Cs("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),c&&this.renderTicks(),wc.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(a,s,i){var c;return Ct.isValidElement(a)?c=Ct.cloneElement(a,s):ts(a)?c=a(s):c=Ct.createElement(dp,r1({},s,{className:"recharts-polar-radius-axis-tick-value"}),i),c}}])})(C.PureComponent);f2(A2,"displayName","PolarRadiusAxis");f2(A2,"axisType","radiusAxis");f2(A2,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function fm(r){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fm(r)}function XA(){return XA=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},XA.apply(this,arguments)}function M6(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function LA(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?M6(Object(n),!0).forEach(function(a){p2(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):M6(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function uq(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function R6(r,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,rP(a.key),a)}}function hq(r,t,n){return t&&R6(r.prototype,t),n&&R6(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function fq(r,t,n){return t=mx(t),Aq(r,tP()?Reflect.construct(t,n||[],mx(r).constructor):t.apply(r,n))}function Aq(r,t){if(t&&(fm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pq(r)}function pq(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function tP(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tP=function(){return!!r})()}function mx(r){return mx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mx(r)}function mq(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&TN(r,t)}function TN(r,t){return TN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},TN(r,t)}function p2(r,t,n){return t=rP(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function rP(r){var t=gq(r,"string");return fm(t)=="symbol"?t:t+""}function gq(r,t){if(fm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(fm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var vq=Math.PI/180,L6=1e-5,m2=(function(r){function t(){return uq(this,t),fq(this,t,arguments)}return mq(t,r),hq(t,[{key:"getTickLineCoord",value:function(a){var s=this.props,i=s.cx,c=s.cy,o=s.radius,d=s.orientation,l=s.tickSize,u=l||8,h=oo(i,c,o,a.coordinate),f=oo(i,c,o+(d==="inner"?-1:1)*u,a.coordinate);return{x1:h.x,y1:h.y,x2:f.x,y2:f.y}}},{key:"getTickTextAnchor",value:function(a){var s=this.props.orientation,i=Math.cos(-a.coordinate*vq),c;return i>L6?c=s==="outer"?"start":"end":i<-L6?c=s==="outer"?"end":"start":c="middle",c}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.cx,i=a.cy,c=a.radius,o=a.axisLine,d=a.axisLineType,l=LA(LA({},Da(this.props,!1)),{},{fill:"none"},Da(o,!1));if(d==="circle")return Ct.createElement(h2,XA({className:"recharts-polar-angle-axis-line"},l,{cx:s,cy:i,r:c}));var u=this.props.ticks,h=u.map(function(f){return oo(s,i,c,f.coordinate)});return Ct.createElement(LG,XA({className:"recharts-polar-angle-axis-line"},l,{points:h}))}},{key:"renderTicks",value:function(){var a=this,s=this.props,i=s.ticks,c=s.tick,o=s.tickLine,d=s.tickFormatter,l=s.stroke,u=Da(this.props,!1),h=Da(c,!1),f=LA(LA({},u),{},{fill:"none"},Da(o,!1)),A=i.map(function(g,m){var x=a.getTickLineCoord(g),y=a.getTickTextAnchor(g),j=LA(LA(LA({textAnchor:y},u),{},{stroke:"none",fill:l},h),{},{index:m,payload:g,x:x.x2,y:x.y2});return Ct.createElement(hi,XA({className:Cs("recharts-polar-angle-axis-tick",QF(c)),key:"tick-".concat(g.coordinate)},cp(a.props,g,m)),o&&Ct.createElement("line",XA({className:"recharts-polar-angle-axis-tick-line"},f,x)),c&&t.renderTickItem(c,j,d?d(g.value,m):g.value))});return Ct.createElement(hi,{className:"recharts-polar-angle-axis-ticks"},A)}},{key:"render",value:function(){var a=this.props,s=a.ticks,i=a.radius,c=a.axisLine;return i<=0||!s||!s.length?null:Ct.createElement(hi,{className:Cs("recharts-polar-angle-axis",this.props.className)},c&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(a,s,i){var c;return Ct.isValidElement(a)?c=Ct.cloneElement(a,s):ts(a)?c=a(s):c=Ct.createElement(dp,XA({},s,{className:"recharts-polar-angle-axis-tick-value"}),i),c}}])})(C.PureComponent);p2(m2,"displayName","PolarAngleAxis");p2(m2,"axisType","angleAxis");p2(m2,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var pw,U6;function xq(){if(U6)return pw;U6=1;var r=fO(),t=r(Object.getPrototypeOf,Object);return pw=t,pw}var mw,H6;function yq(){if(H6)return mw;H6=1;var r=Cf(),t=xq(),n=Nf(),a="[object Object]",s=Function.prototype,i=Object.prototype,c=s.toString,o=i.hasOwnProperty,d=c.call(Object);function l(u){if(!n(u)||r(u)!=a)return!1;var h=t(u);if(h===null)return!0;var f=o.call(h,"constructor")&&h.constructor;return typeof f=="function"&&f instanceof f&&c.call(f)==d}return mw=l,mw}var jq=yq();const bq=si(jq);var gw,Q6;function wq(){if(Q6)return gw;Q6=1;var r=Cf(),t=Nf(),n="[object Boolean]";function a(s){return s===!0||s===!1||t(s)&&r(s)==n}return gw=a,gw}var Cq=wq();const Nq=si(Cq);function F1(r){"@babel/helpers - typeof";return F1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F1(r)}function gx(){return gx=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},gx.apply(this,arguments)}function Sq(r,t){return Tq(r)||Iq(r,t)||Bq(r,t)||Eq()}function Eq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bq(r,t){if(r){if(typeof r=="string")return W6(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W6(r,t)}}function W6(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=r[n];return a}function Iq(r,t){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,s,i,c,o=[],d=!0,l=!1;try{if(i=(n=n.call(r)).next,t!==0)for(;!(d=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);d=!0);}catch(u){l=!0,s=u}finally{try{if(!d&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(l)throw s}}return o}}function Tq(r){if(Array.isArray(r))return r}function $6(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function V6(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$6(Object(n),!0).forEach(function(a){kq(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):$6(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function kq(r,t,n){return t=_q(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function _q(r){var t=Oq(r,"string");return F1(t)=="symbol"?t:t+""}function Oq(r,t){if(F1(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(F1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}var z6=function(t,n,a,s,i){var c=a-s,o;return o="M ".concat(t,",").concat(n),o+="L ".concat(t+a,",").concat(n),o+="L ".concat(t+a-c/2,",").concat(n+i),o+="L ".concat(t+a-c/2-s,",").concat(n+i),o+="L ".concat(t,",").concat(n," Z"),o},Fq={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Pq=function(t){var n=V6(V6({},Fq),t),a=C.useRef(),s=C.useState(-1),i=Sq(s,2),c=i[0],o=i[1];C.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var b=a.current.getTotalLength();b&&o(b)}catch{}},[]);var d=n.x,l=n.y,u=n.upperWidth,h=n.lowerWidth,f=n.height,A=n.className,g=n.animationEasing,m=n.animationDuration,x=n.animationBegin,y=n.isUpdateAnimationActive;if(d!==+d||l!==+l||u!==+u||h!==+h||f!==+f||u===0&&h===0||f===0)return null;var j=Cs("recharts-trapezoid",A);return y?Ct.createElement(Lh,{canBegin:c>0,from:{upperWidth:0,lowerWidth:0,height:f,x:d,y:l},to:{upperWidth:u,lowerWidth:h,height:f,x:d,y:l},duration:m,animationEasing:g,isActive:y},function(b){var S=b.upperWidth,w=b.lowerWidth,E=b.height,I=b.x,L=b.y;return Ct.createElement(Lh,{canBegin:c>0,from:"0px ".concat(c===-1?1:c,"px"),to:"".concat(c,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:m,easing:g},Ct.createElement("path",gx({},Da(n,!0),{className:j,d:z6(I,L,S,w,E),ref:a})))}):Ct.createElement("g",null,Ct.createElement("path",gx({},Da(n,!0),{className:j,d:z6(d,l,u,h,f)})))},Dq=["option","shapeType","propTransformer","activeClassName","isActive"];function P1(r){"@babel/helpers - typeof";return P1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P1(r)}function Mq(r,t){if(r==null)return{};var n=Rq(r,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function Rq(r,t){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(t.indexOf(a)>=0)continue;n[a]=r[a]}return n}function K6(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function vx(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K6(Object(n),!0).forEach(function(a){Lq(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):K6(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function Lq(r,t,n){return t=Uq(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function Uq(r){var t=Hq(r,"string");return P1(t)=="symbol"?t:t+""}function Hq(r,t){if(P1(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(P1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function Qq(r,t){return vx(vx({},t),r)}function Wq(r,t){return r==="symbols"}function G6(r){var t=r.shapeType,n=r.elementProps;switch(t){case"rectangle":return Ct.createElement(hS,n);case"trapezoid":return Ct.createElement(Pq,n);case"sector":return Ct.createElement(VF,n);case"symbols":if(Wq(t))return Ct.createElement(k4,n);break;default:return null}}function $q(r){return C.isValidElement(r)?r.props:r}function nP(r){var t=r.option,n=r.shapeType,a=r.propTransformer,s=a===void 0?Qq:a,i=r.activeClassName,c=i===void 0?"recharts-active-shape":i,o=r.isActive,d=Mq(r,Dq),l;if(C.isValidElement(t))l=C.cloneElement(t,vx(vx({},d),$q(t)));else if(ts(t))l=t(d);else if(bq(t)&&!Nq(t)){var u=s(t,d);l=Ct.createElement(G6,{shapeType:n,elementProps:u})}else{var h=d;l=Ct.createElement(G6,{shapeType:n,elementProps:h})}return o?Ct.createElement(hi,{className:c},l):l}function g2(r,t){return t!=null&&"trapezoids"in r.props}function v2(r,t){return t!=null&&"sectors"in r.props}function D1(r,t){return t!=null&&"points"in r.props}function Vq(r,t){var n,a,s=r.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||r.x===t.x,i=r.y===(t==null||(a=t.labelViewBox)===null||a===void 0?void 0:a.y)||r.y===t.y;return s&&i}function zq(r,t){var n=r.endAngle===t.endAngle,a=r.startAngle===t.startAngle;return n&&a}function Kq(r,t){var n=r.x===t.x,a=r.y===t.y,s=r.z===t.z;return n&&a&&s}function Gq(r,t){var n;return g2(r,t)?n=Vq:v2(r,t)?n=zq:D1(r,t)&&(n=Kq),n}function qq(r,t){var n;return g2(r,t)?n="trapezoids":v2(r,t)?n="sectors":D1(r,t)&&(n="points"),n}function Xq(r,t){if(g2(r,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(v2(r,t)){var a;return(a=t.tooltipPayload)===null||a===void 0||(a=a[0])===null||a===void 0||(a=a.payload)===null||a===void 0?void 0:a.payload}return D1(r,t)?t.payload:{}}function Yq(r){var t=r.activeTooltipItem,n=r.graphicalItem,a=r.itemData,s=qq(n,t),i=Xq(n,t),c=a.filter(function(d,l){var u=Y1(i,d),h=n.props[s].filter(function(g){var m=Gq(n,t);return m(g,t)}),f=n.props[s].indexOf(h[h.length-1]),A=l===f;return u&&A}),o=a.indexOf(c[c.length-1]);return o}var Nv;function Am(r){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Am(r)}function Wp(){return Wp=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},Wp.apply(this,arguments)}function q6(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function so(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?q6(Object(n),!0).forEach(function(a){Qu(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):q6(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function Jq(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function X6(r,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,sP(a.key),a)}}function Zq(r,t,n){return t&&X6(r.prototype,t),n&&X6(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function eX(r,t,n){return t=xx(t),tX(r,aP()?Reflect.construct(t,n||[],xx(r).constructor):t.apply(r,n))}function tX(r,t){if(t&&(Am(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rX(r)}function rX(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function aP(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aP=function(){return!!r})()}function xx(r){return xx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xx(r)}function nX(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&kN(r,t)}function kN(r,t){return kN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},kN(r,t)}function Qu(r,t,n){return t=sP(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function sP(r){var t=aX(r,"string");return Am(t)=="symbol"?t:t+""}function aX(r,t){if(Am(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(Am(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var Ef=(function(r){function t(n){var a;return Jq(this,t),a=eX(this,t,[n]),Qu(a,"pieRef",null),Qu(a,"sectorRefs",[]),Qu(a,"id",Om("recharts-pie-")),Qu(a,"handleAnimationEnd",function(){var s=a.props.onAnimationEnd;a.setState({isAnimationFinished:!0}),ts(s)&&s()}),Qu(a,"handleAnimationStart",function(){var s=a.props.onAnimationStart;a.setState({isAnimationFinished:!1}),ts(s)&&s()}),a.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},a}return nX(t,r),Zq(t,[{key:"isActiveIndex",value:function(a){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(a)!==-1:a===s}},{key:"hasActiveIndex",value:function(){var a=this.props.activeIndex;return Array.isArray(a)?a.length!==0:a||a===0}},{key:"renderLabels",value:function(a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var i=this.props,c=i.label,o=i.labelLine,d=i.dataKey,l=i.valueKey,u=Da(this.props,!1),h=Da(c,!1),f=Da(o,!1),A=c&&c.offsetRadius||20,g=a.map(function(m,x){var y=(m.startAngle+m.endAngle)/2,j=oo(m.cx,m.cy,m.outerRadius+A,y),b=so(so(so(so({},u),m),{},{stroke:"none"},h),{},{index:x,textAnchor:t.getTextAnchor(j.x,m.cx)},j),S=so(so(so(so({},u),m),{},{fill:"none",stroke:m.fill},f),{},{index:x,points:[oo(m.cx,m.cy,m.outerRadius,y),j]}),w=d;return fs(d)&&fs(l)?w="value":fs(d)&&(w=l),Ct.createElement(hi,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(x)},o&&t.renderLabelLineItem(o,S,"line"),t.renderLabelItem(c,b,Yl(m,w)))});return Ct.createElement(hi,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(a){var s=this,i=this.props,c=i.activeShape,o=i.blendStroke,d=i.inactiveShape;return a.map(function(l,u){if((l==null?void 0:l.startAngle)===0&&(l==null?void 0:l.endAngle)===0&&a.length!==1)return null;var h=s.isActiveIndex(u),f=d&&s.hasActiveIndex()?d:null,A=h?c:f,g=so(so({},l),{},{stroke:o?l.fill:l.stroke,tabIndex:-1});return Ct.createElement(hi,Wp({ref:function(x){x&&!s.sectorRefs.includes(x)&&s.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},cp(s.props,l,u),{key:"sector-".concat(l==null?void 0:l.startAngle,"-").concat(l==null?void 0:l.endAngle,"-").concat(l.midAngle,"-").concat(u)}),Ct.createElement(nP,Wp({option:A,isActive:h,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var a=this,s=this.props,i=s.sectors,c=s.isAnimationActive,o=s.animationBegin,d=s.animationDuration,l=s.animationEasing,u=s.animationId,h=this.state,f=h.prevSectors,A=h.prevIsAnimationActive;return Ct.createElement(Lh,{begin:o,duration:d,isActive:c,easing:l,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(A),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var m=g.t,x=[],y=i&&i[0],j=y.startAngle;return i.forEach(function(b,S){var w=f&&f[S],E=S>0?hu(b,"paddingAngle",0):0;if(w){var I=du(w.endAngle-w.startAngle,b.endAngle-b.startAngle),L=so(so({},b),{},{startAngle:j+E,endAngle:j+I(m)+E});x.push(L),j=L.endAngle}else{var J=b.endAngle,ae=b.startAngle,G=du(0,J-ae),le=G(m),V=so(so({},b),{},{startAngle:j+E,endAngle:j+le+E});x.push(V),j=V.endAngle}}),Ct.createElement(hi,null,a.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(a){var s=this;a.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var c=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[c].focus(),s.setState({sectorToFocus:c});break}case"ArrowRight":{var o=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var a=this.props,s=a.sectors,i=a.isAnimationActive,c=this.state.prevSectors;return i&&s&&s.length&&(!c||!Y1(c,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var a=this,s=this.props,i=s.hide,c=s.sectors,o=s.className,d=s.label,l=s.cx,u=s.cy,h=s.innerRadius,f=s.outerRadius,A=s.isAnimationActive,g=this.state.isAnimationFinished;if(i||!c||!c.length||!yn(l)||!yn(u)||!yn(h)||!yn(f))return null;var m=Cs("recharts-pie",o);return Ct.createElement(hi,{tabIndex:this.props.rootTabIndex,className:m,ref:function(y){a.pieRef=y}},this.renderSectors(),d&&this.renderLabels(c),wc.renderCallByParent(this.props,null,!1),(!A||g)&&xf.renderCallByParent(this.props,c,!1))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return s.prevIsAnimationActive!==a.isAnimationActive?{prevIsAnimationActive:a.isAnimationActive,prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:[],isAnimationFinished:!0}:a.isAnimationActive&&a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:a.sectors!==s.curSectors?{curSectors:a.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(a,s){return a>s?"start":a<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(a,s,i){if(Ct.isValidElement(a))return Ct.cloneElement(a,s);if(ts(a))return a(s);var c=Cs("recharts-pie-label-line",typeof a!="boolean"?a.className:"");return Ct.createElement(cx,Wp({},s,{key:i,type:"linear",className:c}))}},{key:"renderLabelItem",value:function(a,s,i){if(Ct.isValidElement(a))return Ct.cloneElement(a,s);var c=i;if(ts(a)&&(c=a(s),Ct.isValidElement(c)))return c;var o=Cs("recharts-pie-label-text",typeof a!="boolean"&&!ts(a)?a.className:"");return Ct.createElement(dp,Wp({},s,{alignmentBaseline:"middle",className:o}),c)}}])})(C.PureComponent);Nv=Ef;Qu(Ef,"displayName","Pie");Qu(Ef,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!pp.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Qu(Ef,"parseDeltaAngle",function(r,t){var n=wd(t-r),a=Math.min(Math.abs(t-r),360);return n*a});Qu(Ef,"getRealPieData",function(r){var t=r.data,n=r.children,a=Da(r,!1),s=fu(n,e2);return t&&t.length?t.map(function(i,c){return so(so(so({payload:i},a),i),s&&s[c]&&s[c].props)}):s&&s.length?s.map(function(i){return so(so({},a),i.props)}):[]});Qu(Ef,"parseCoordinateOfPie",function(r,t){var n=t.top,a=t.left,s=t.width,i=t.height,c=HF(s,i),o=a+Cd(r.cx,s,s/2),d=n+Cd(r.cy,i,i/2),l=Cd(r.innerRadius,c,0),u=Cd(r.outerRadius,c,c*.8),h=r.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:o,cy:d,innerRadius:l,outerRadius:u,maxRadius:h}});Qu(Ef,"getComposedData",function(r){var t=r.item,n=r.offset,a=t.type.defaultProps!==void 0?so(so({},t.type.defaultProps),t.props):t.props,s=Nv.getRealPieData(a);if(!s||!s.length)return null;var i=a.cornerRadius,c=a.startAngle,o=a.endAngle,d=a.paddingAngle,l=a.dataKey,u=a.nameKey,h=a.valueKey,f=a.tooltipType,A=Math.abs(a.minAngle),g=Nv.parseCoordinateOfPie(a,n),m=Nv.parseDeltaAngle(c,o),x=Math.abs(m),y=l;fs(l)&&fs(h)?(ph(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):fs(l)&&(ph(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=h);var j=s.filter(function(L){return Yl(L,y,0)!==0}).length,b=(x>=360?j:j-1)*d,S=x-j*A-b,w=s.reduce(function(L,J){var ae=Yl(J,y,0);return L+(yn(ae)?ae:0)},0),E;if(w>0){var I;E=s.map(function(L,J){var ae=Yl(L,y,0),G=Yl(L,u,J),le=(yn(ae)?ae:0)/w,V;J?V=I.endAngle+wd(m)*d*(ae!==0?1:0):V=c;var me=V+wd(m)*((ae!==0?A:0)+le*S),$=(V+me)/2,ee=(g.innerRadius+g.outerRadius)/2,we=[{name:G,value:ae,payload:L,dataKey:y,type:f}],R=oo(g.cx,g.cy,ee,$);return I=so(so(so({percent:le,cornerRadius:i,name:G,tooltipPayload:we,midAngle:$,middleRadius:ee,tooltipPosition:R},L),g),{},{value:Yl(L,y),startAngle:V,endAngle:me,payload:L,paddingAngle:wd(m)*d}),I})}return so(so({},g),{},{sectors:E,data:s})});var vw,Y6;function sX(){if(Y6)return vw;Y6=1;var r=Math.ceil,t=Math.max;function n(a,s,i,c){for(var o=-1,d=t(r((s-a)/(i||1)),0),l=Array(d);d--;)l[c?d:++o]=a,a+=i;return l}return vw=n,vw}var xw,J6;function iP(){if(J6)return xw;J6=1;var r=IO(),t=1/0,n=17976931348623157e292;function a(s){if(!s)return s===0?s:0;if(s=r(s),s===t||s===-t){var i=s<0?-1:1;return i*n}return s===s?s:0}return xw=a,xw}var yw,Z6;function iX(){if(Z6)return yw;Z6=1;var r=sX(),t=Zx(),n=iP();function a(s){return function(i,c,o){return o&&typeof o!="number"&&t(i,c,o)&&(c=o=void 0),i=n(i),c===void 0?(c=i,i=0):c=n(c),o=o===void 0?i<c?1:-1:n(o),r(i,c,o,s)}}return yw=a,yw}var jw,e8;function oX(){if(e8)return jw;e8=1;var r=iX(),t=r();return jw=t,jw}var lX=oX();const yx=si(lX);function M1(r){"@babel/helpers - typeof";return M1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M1(r)}function t8(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function r8(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?t8(Object(n),!0).forEach(function(a){oP(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):t8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function oP(r,t,n){return t=cX(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function cX(r){var t=dX(r,"string");return M1(t)=="symbol"?t:t+""}function dX(r,t){if(M1(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(M1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}var uX=["Webkit","Moz","O","ms"],hX=function(t,n){var a=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=uX.reduce(function(i,c){return r8(r8({},i),{},oP({},c+a,n))},{});return s[t]=n,s};function pm(r){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pm(r)}function jx(){return jx=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},jx.apply(this,arguments)}function n8(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function bw(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?n8(Object(n),!0).forEach(function(a){ou(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):n8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function fX(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function a8(r,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,cP(a.key),a)}}function AX(r,t,n){return t&&a8(r.prototype,t),n&&a8(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function pX(r,t,n){return t=bx(t),mX(r,lP()?Reflect.construct(t,n||[],bx(r).constructor):t.apply(r,n))}function mX(r,t){if(t&&(pm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gX(r)}function gX(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function lP(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lP=function(){return!!r})()}function bx(r){return bx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bx(r)}function vX(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&_N(r,t)}function _N(r,t){return _N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},_N(r,t)}function ou(r,t,n){return t=cP(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function cP(r){var t=xX(r,"string");return pm(t)=="symbol"?t:t+""}function xX(r,t){if(pm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(pm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var yX=function(t){var n=t.data,a=t.startIndex,s=t.endIndex,i=t.x,c=t.width,o=t.travellerWidth;if(!n||!n.length)return{};var d=n.length,l=Jg().domain(yx(0,d)).range([i,i+c-o]),u=l.domain().map(function(h){return l(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(a),endX:l(s),scale:l,scaleValues:u}},s8=function(t){return t.changedTouches&&!!t.changedTouches.length},mm=(function(r){function t(n){var a;return fX(this,t),a=pX(this,t,[n]),ou(a,"handleDrag",function(s){a.leaveTimer&&(clearTimeout(a.leaveTimer),a.leaveTimer=null),a.state.isTravellerMoving?a.handleTravellerMove(s):a.state.isSlideMoving&&a.handleSlideDrag(s)}),ou(a,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&a.handleDrag(s.changedTouches[0])}),ou(a,"handleDragEnd",function(){a.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=a.props,i=s.endIndex,c=s.onDragEnd,o=s.startIndex;c==null||c({endIndex:i,startIndex:o})}),a.detachDragEndListener()}),ou(a,"handleLeaveWrapper",function(){(a.state.isTravellerMoving||a.state.isSlideMoving)&&(a.leaveTimer=window.setTimeout(a.handleDragEnd,a.props.leaveTimeOut))}),ou(a,"handleEnterSlideOrTraveller",function(){a.setState({isTextActive:!0})}),ou(a,"handleLeaveSlideOrTraveller",function(){a.setState({isTextActive:!1})}),ou(a,"handleSlideDragStart",function(s){var i=s8(s)?s.changedTouches[0]:s;a.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),a.attachDragEndListener()}),a.travellerDragStartHandlers={startX:a.handleTravellerDragStart.bind(a,"startX"),endX:a.handleTravellerDragStart.bind(a,"endX")},a.state={},a}return vX(t,r),AX(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(a){var s=a.startX,i=a.endX,c=this.state.scaleValues,o=this.props,d=o.gap,l=o.data,u=l.length-1,h=Math.min(s,i),f=Math.max(s,i),A=t.getIndexInRange(c,h),g=t.getIndexInRange(c,f);return{startIndex:A-A%d,endIndex:g===u?u:g-g%d}}},{key:"getTextOfTick",value:function(a){var s=this.props,i=s.data,c=s.tickFormatter,o=s.dataKey,d=Yl(i[a],o,a);return ts(c)?c(d,a):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(a){var s=this.state,i=s.slideMoveStartX,c=s.startX,o=s.endX,d=this.props,l=d.x,u=d.width,h=d.travellerWidth,f=d.startIndex,A=d.endIndex,g=d.onChange,m=a.pageX-i;m>0?m=Math.min(m,l+u-h-o,l+u-h-c):m<0&&(m=Math.max(m,l-c,l-o));var x=this.getIndex({startX:c+m,endX:o+m});(x.startIndex!==f||x.endIndex!==A)&&g&&g(x),this.setState({startX:c+m,endX:o+m,slideMoveStartX:a.pageX})}},{key:"handleTravellerDragStart",value:function(a,s){var i=s8(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:a,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(a){var s=this.state,i=s.brushMoveStartX,c=s.movingTravellerId,o=s.endX,d=s.startX,l=this.state[c],u=this.props,h=u.x,f=u.width,A=u.travellerWidth,g=u.onChange,m=u.gap,x=u.data,y={startX:this.state.startX,endX:this.state.endX},j=a.pageX-i;j>0?j=Math.min(j,h+f-A-l):j<0&&(j=Math.max(j,h-l)),y[c]=l+j;var b=this.getIndex(y),S=b.startIndex,w=b.endIndex,E=function(){var L=x.length-1;return c==="startX"&&(o>d?S%m===0:w%m===0)||o<d&&w===L||c==="endX"&&(o>d?w%m===0:S%m===0)||o>d&&w===L};this.setState(ou(ou({},c,l+j),"brushMoveStartX",a.pageX),function(){g&&E()&&g(b)})}},{key:"handleTravellerMoveKeyboard",value:function(a,s){var i=this,c=this.state,o=c.scaleValues,d=c.startX,l=c.endX,u=this.state[s],h=o.indexOf(u);if(h!==-1){var f=h+a;if(!(f===-1||f>=o.length)){var A=o[f];s==="startX"&&A>=l||s==="endX"&&A<=d||this.setState(ou({},s,A),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var a=this.props,s=a.x,i=a.y,c=a.width,o=a.height,d=a.fill,l=a.stroke;return Ct.createElement("rect",{stroke:l,fill:d,x:s,y:i,width:c,height:o})}},{key:"renderPanorama",value:function(){var a=this.props,s=a.x,i=a.y,c=a.width,o=a.height,d=a.data,l=a.children,u=a.padding,h=C.Children.only(l);return h?Ct.cloneElement(h,{x:s,y:i,width:c,height:o,margin:u,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(a,s){var i,c,o=this,d=this.props,l=d.y,u=d.travellerWidth,h=d.height,f=d.traveller,A=d.ariaLabel,g=d.data,m=d.startIndex,x=d.endIndex,y=Math.max(a,this.props.x),j=bw(bw({},Da(this.props,!1)),{},{x:y,y:l,width:u,height:h}),b=A||"Min value: ".concat((i=g[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((c=g[x])===null||c===void 0?void 0:c.name);return Ct.createElement(hi,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":a,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),o.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,s))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(f,j))}},{key:"renderSlide",value:function(a,s){var i=this.props,c=i.y,o=i.height,d=i.stroke,l=i.travellerWidth,u=Math.min(a,s)+l,h=Math.max(Math.abs(s-a)-l,0);return Ct.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:u,y:c,width:h,height:o})}},{key:"renderText",value:function(){var a=this.props,s=a.startIndex,i=a.endIndex,c=a.y,o=a.height,d=a.travellerWidth,l=a.stroke,u=this.state,h=u.startX,f=u.endX,A=5,g={pointerEvents:"none",fill:l};return Ct.createElement(hi,{className:"recharts-brush-texts"},Ct.createElement(dp,jx({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,f)-A,y:c+o/2},g),this.getTextOfTick(s)),Ct.createElement(dp,jx({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,f)+d+A,y:c+o/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var a=this.props,s=a.data,i=a.className,c=a.children,o=a.x,d=a.y,l=a.width,u=a.height,h=a.alwaysShowText,f=this.state,A=f.startX,g=f.endX,m=f.isTextActive,x=f.isSlideMoving,y=f.isTravellerMoving,j=f.isTravellerFocused;if(!s||!s.length||!yn(o)||!yn(d)||!yn(l)||!yn(u)||l<=0||u<=0)return null;var b=Cs("recharts-brush",i),S=Ct.Children.count(c)===1,w=hX("userSelect","none");return Ct.createElement(hi,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(A,g),this.renderTravellerLayer(A,"startX"),this.renderTravellerLayer(g,"endX"),(m||x||y||j||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(a){var s=a.x,i=a.y,c=a.width,o=a.height,d=a.stroke,l=Math.floor(i+o/2)-1;return Ct.createElement(Ct.Fragment,null,Ct.createElement("rect",{x:s,y:i,width:c,height:o,fill:d,stroke:"none"}),Ct.createElement("line",{x1:s+1,y1:l,x2:s+c-1,y2:l,fill:"none",stroke:"#fff"}),Ct.createElement("line",{x1:s+1,y1:l+2,x2:s+c-1,y2:l+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(a,s){var i;return Ct.isValidElement(a)?i=Ct.cloneElement(a,s):ts(a)?i=a(s):i=t.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(a,s){var i=a.data,c=a.width,o=a.x,d=a.travellerWidth,l=a.updateId,u=a.startIndex,h=a.endIndex;if(i!==s.prevData||l!==s.prevUpdateId)return bw({prevData:i,prevTravellerWidth:d,prevUpdateId:l,prevX:o,prevWidth:c},i&&i.length?yX({data:i,width:c,x:o,travellerWidth:d,startIndex:u,endIndex:h}):{scale:null,scaleValues:null});if(s.scale&&(c!==s.prevWidth||o!==s.prevX||d!==s.prevTravellerWidth)){s.scale.range([o,o+c-d]);var f=s.scale.domain().map(function(A){return s.scale(A)});return{prevData:i,prevTravellerWidth:d,prevUpdateId:l,prevX:o,prevWidth:c,startX:s.scale(a.startIndex),endX:s.scale(a.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(a,s){for(var i=a.length,c=0,o=i-1;o-c>1;){var d=Math.floor((c+o)/2);a[d]>s?o=d:c=d}return s>=a[o]?o:c}}])})(C.PureComponent);ou(mm,"displayName","Brush");ou(mm,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var ww,i8;function jX(){if(i8)return ww;i8=1;var r=R4();function t(n,a){var s;return r(n,function(i,c,o){return s=a(i,c,o),!s}),!!s}return ww=t,ww}var Cw,o8;function bX(){if(o8)return Cw;o8=1;var r=iO(),t=Qh(),n=jX(),a=Qd(),s=Zx();function i(c,o,d){var l=a(c)?r:n;return d&&s(c,o,d)&&(o=void 0),l(c,t(o,3))}return Cw=i,Cw}var wX=bX();const CX=si(wX);var Mh=function(t,n){var a=t.alwaysShow,s=t.ifOverflow;return a&&(s="extendDomain"),s===n},Nw,l8;function NX(){if(l8)return Nw;l8=1;var r=CO();function t(n,a,s){a=="__proto__"&&r?r(n,a,{configurable:!0,enumerable:!0,value:s,writable:!0}):n[a]=s}return Nw=t,Nw}var Sw,c8;function SX(){if(c8)return Sw;c8=1;var r=NX(),t=bO(),n=Qh();function a(s,i){var c={};return i=n(i,3),t(s,function(o,d,l){r(c,d,i(o,d,l))}),c}return Sw=a,Sw}var EX=SX();const BX=si(EX);var Ew,d8;function IX(){if(d8)return Ew;d8=1;function r(t,n){for(var a=-1,s=t==null?0:t.length;++a<s;)if(!n(t[a],a,t))return!1;return!0}return Ew=r,Ew}var Bw,u8;function TX(){if(u8)return Bw;u8=1;var r=R4();function t(n,a){var s=!0;return r(n,function(i,c,o){return s=!!a(i,c,o),s}),s}return Bw=t,Bw}var Iw,h8;function kX(){if(h8)return Iw;h8=1;var r=IX(),t=TX(),n=Qh(),a=Qd(),s=Zx();function i(c,o,d){var l=a(c)?r:t;return d&&s(c,o,d)&&(o=void 0),l(c,n(o,3))}return Iw=i,Iw}var _X=kX();const dP=si(_X);var OX=["x","y"];function R1(r){"@babel/helpers - typeof";return R1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R1(r)}function ON(){return ON=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},ON.apply(this,arguments)}function f8(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function eg(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?f8(Object(n),!0).forEach(function(a){FX(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):f8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function FX(r,t,n){return t=PX(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function PX(r){var t=DX(r,"string");return R1(t)=="symbol"?t:t+""}function DX(r,t){if(R1(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(R1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function MX(r,t){if(r==null)return{};var n=RX(r,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function RX(r,t){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(t.indexOf(a)>=0)continue;n[a]=r[a]}return n}function LX(r,t){var n=r.x,a=r.y,s=MX(r,OX),i="".concat(n),c=parseInt(i,10),o="".concat(a),d=parseInt(o,10),l="".concat(t.height||s.height),u=parseInt(l,10),h="".concat(t.width||s.width),f=parseInt(h,10);return eg(eg(eg(eg(eg({},t),s),c?{x:c}:{}),d?{y:d}:{}),{},{height:u,width:f,name:t.name,radius:t.radius})}function A8(r){return Ct.createElement(nP,ON({shapeType:"rectangle",propTransformer:LX,activeClassName:"recharts-active-bar"},r))}var UX=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(a,s){if(typeof t=="number")return t;var i=typeof a=="number";return i?t(a,s):(i||hp(),n)}},HX=["value","background"],uP;function gm(r){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gm(r)}function QX(r,t){if(r==null)return{};var n=WX(r,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function WX(r,t){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(t.indexOf(a)>=0)continue;n[a]=r[a]}return n}function wx(){return wx=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},wx.apply(this,arguments)}function p8(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function Tl(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?p8(Object(n),!0).forEach(function(a){iA(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):p8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function $X(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function m8(r,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,fP(a.key),a)}}function VX(r,t,n){return t&&m8(r.prototype,t),n&&m8(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function zX(r,t,n){return t=Cx(t),KX(r,hP()?Reflect.construct(t,n||[],Cx(r).constructor):t.apply(r,n))}function KX(r,t){if(t&&(gm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GX(r)}function GX(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function hP(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hP=function(){return!!r})()}function Cx(r){return Cx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cx(r)}function qX(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&FN(r,t)}function FN(r,t){return FN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},FN(r,t)}function iA(r,t,n){return t=fP(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function fP(r){var t=XX(r,"string");return gm(t)=="symbol"?t:t+""}function XX(r,t){if(gm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(gm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var xp=(function(r){function t(){var n;$X(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=zX(this,t,[].concat(s)),iA(n,"state",{isAnimationFinished:!1}),iA(n,"id",Om("recharts-bar-")),iA(n,"handleAnimationEnd",function(){var c=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),c&&c()}),iA(n,"handleAnimationStart",function(){var c=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),c&&c()}),n}return qX(t,r),VX(t,[{key:"renderRectanglesStatically",value:function(a){var s=this,i=this.props,c=i.shape,o=i.dataKey,d=i.activeIndex,l=i.activeBar,u=Da(this.props,!1);return a&&a.map(function(h,f){var A=f===d,g=A?l:c,m=Tl(Tl(Tl({},u),h),{},{isActive:A,option:g,index:f,dataKey:o,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return Ct.createElement(hi,wx({className:"recharts-bar-rectangle"},cp(s.props,h,f),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value)}),Ct.createElement(A8,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var a=this,s=this.props,i=s.data,c=s.layout,o=s.isAnimationActive,d=s.animationBegin,l=s.animationDuration,u=s.animationEasing,h=s.animationId,f=this.state.prevData;return Ct.createElement(Lh,{begin:d,duration:l,isActive:o,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(A){var g=A.t,m=i.map(function(x,y){var j=f&&f[y];if(j){var b=du(j.x,x.x),S=du(j.y,x.y),w=du(j.width,x.width),E=du(j.height,x.height);return Tl(Tl({},x),{},{x:b(g),y:S(g),width:w(g),height:E(g)})}if(c==="horizontal"){var I=du(0,x.height),L=I(g);return Tl(Tl({},x),{},{y:x.y+x.height-L,height:L})}var J=du(0,x.width),ae=J(g);return Tl(Tl({},x),{},{width:ae})});return Ct.createElement(hi,null,a.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var a=this.props,s=a.data,i=a.isAnimationActive,c=this.state.prevData;return i&&s&&s.length&&(!c||!Y1(c,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var a=this,s=this.props,i=s.data,c=s.dataKey,o=s.activeIndex,d=Da(this.props.background,!1);return i.map(function(l,u){l.value;var h=l.background,f=QX(l,HX);if(!h)return null;var A=Tl(Tl(Tl(Tl(Tl({},f),{},{fill:"#eee"},h),d),cp(a.props,l,u)),{},{onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd,dataKey:c,index:u,className:"recharts-bar-background-rectangle"});return Ct.createElement(A8,wx({key:"background-bar-".concat(u),option:a.props.background,isActive:u===o},A))})}},{key:"renderErrorBar",value:function(a,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,c=i.data,o=i.xAxis,d=i.yAxis,l=i.layout,u=i.children,h=fu(u,J1);if(!h)return null;var f=l==="vertical"?c[0].height/2:c[0].width/2,A=function(x,y){var j=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:j,errorVal:Yl(x,y)}},g={clipPath:a?"url(#clipPath-".concat(s,")"):null};return Ct.createElement(hi,g,h.map(function(m){return Ct.cloneElement(m,{key:"error-bar-".concat(s,"-").concat(m.props.dataKey),data:c,xAxis:o,yAxis:d,layout:l,offset:f,dataPointFormatter:A})}))}},{key:"render",value:function(){var a=this.props,s=a.hide,i=a.data,c=a.className,o=a.xAxis,d=a.yAxis,l=a.left,u=a.top,h=a.width,f=a.height,A=a.isAnimationActive,g=a.background,m=a.id;if(s||!i||!i.length)return null;var x=this.state.isAnimationFinished,y=Cs("recharts-bar",c),j=o&&o.allowDataOverflow,b=d&&d.allowDataOverflow,S=j||b,w=fs(m)?this.id:m;return Ct.createElement(hi,{className:y},j||b?Ct.createElement("defs",null,Ct.createElement("clipPath",{id:"clipPath-".concat(w)},Ct.createElement("rect",{x:j?l:l-h/2,y:b?u:u-f/2,width:j?h:h*2,height:b?f:f*2}))):null,Ct.createElement(hi,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(w,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,w),(!A||x)&&xf.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curData:a.data,prevData:s.curData}:a.data!==s.curData?{curData:a.data}:null}}])})(C.PureComponent);uP=xp;iA(xp,"displayName","Bar");iA(xp,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!pp.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});iA(xp,"getComposedData",function(r){var t=r.props,n=r.item,a=r.barPosition,s=r.bandSize,i=r.xAxis,c=r.yAxis,o=r.xAxisTicks,d=r.yAxisTicks,l=r.stackedData,u=r.dataStartIndex,h=r.displayedData,f=r.offset,A=jV(a,n);if(!A)return null;var g=t.layout,m=n.type.defaultProps,x=m!==void 0?Tl(Tl({},m),n.props):n.props,y=x.dataKey,j=x.children,b=x.minPointSize,S=g==="horizontal"?c:i,w=l?S.scale.domain():null,E=BV({numericAxis:S}),I=fu(j,e2),L=h.map(function(J,ae){var G,le,V,me,$,ee;l?G=bV(l[u+ae],w):(G=Yl(J,y),Array.isArray(G)||(G=[E,G]));var we=UX(b,uP.defaultProps.minPointSize)(G[1],ae);if(g==="horizontal"){var R,q=[c.scale(G[0]),c.scale(G[1])],ie=q[0],Z=q[1];le=$I({axis:i,ticks:o,bandSize:s,offset:A.offset,entry:J,index:ae}),V=(R=Z??ie)!==null&&R!==void 0?R:void 0,me=A.size;var D=ie-Z;if($=Number.isNaN(D)?0:D,ee={x:le,y:c.y,width:me,height:c.height},Math.abs(we)>0&&Math.abs($)<Math.abs(we)){var ue=wd($||we)*(Math.abs(we)-Math.abs($));V-=ue,$+=ue}}else{var te=[i.scale(G[0]),i.scale(G[1])],ye=te[0],pe=te[1];if(le=ye,V=$I({axis:c,ticks:d,bandSize:s,offset:A.offset,entry:J,index:ae}),me=pe-ye,$=A.size,ee={x:i.x,y:V,width:i.width,height:$},Math.abs(we)>0&&Math.abs(me)<Math.abs(we)){var je=wd(me||we)*(Math.abs(we)-Math.abs(me));me+=je}}return Tl(Tl(Tl({},J),{},{x:le,y:V,width:me,height:$,value:l?G:G[1],payload:J,background:ee},I&&I[ae]&&I[ae].props),{},{tooltipPayload:[LF(n,J)],tooltipPosition:{x:le+me/2,y:V+$/2}})});return Tl({data:L,layout:g},f)});function L1(r){"@babel/helpers - typeof";return L1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L1(r)}function YX(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function g8(r,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,AP(a.key),a)}}function JX(r,t,n){return t&&g8(r.prototype,t),n&&g8(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function v8(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function dh(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v8(Object(n),!0).forEach(function(a){x2(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):v8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function x2(r,t,n){return t=AP(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function AP(r){var t=ZX(r,"string");return L1(t)=="symbol"?t:t+""}function ZX(r,t){if(L1(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(L1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}var pP=function(t,n,a,s,i){var c=t.width,o=t.height,d=t.layout,l=t.children,u=Object.keys(n),h={left:a.left,leftMirror:a.left,right:c-a.right,rightMirror:c-a.right,top:a.top,topMirror:a.top,bottom:o-a.bottom,bottomMirror:o-a.bottom},f=!!lu(l,xp);return u.reduce(function(A,g){var m=n[g],x=m.orientation,y=m.domain,j=m.padding,b=j===void 0?{}:j,S=m.mirror,w=m.reversed,E="".concat(x).concat(S?"Mirror":""),I,L,J,ae,G;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var le=y[1]-y[0],V=1/0,me=m.categoricalDomain.sort();if(me.forEach(function(te,ye){ye>0&&(V=Math.min((te||0)-(me[ye-1]||0),V))}),Number.isFinite(V)){var $=V/le,ee=m.layout==="vertical"?a.height:a.width;if(m.padding==="gap"&&(I=$*ee/2),m.padding==="no-gap"){var we=Cd(t.barCategoryGap,$*ee),R=$*ee/2;I=R-we-(R-we)/ee*we}}}s==="xAxis"?L=[a.left+(b.left||0)+(I||0),a.left+a.width-(b.right||0)-(I||0)]:s==="yAxis"?L=d==="horizontal"?[a.top+a.height-(b.bottom||0),a.top+(b.top||0)]:[a.top+(b.top||0)+(I||0),a.top+a.height-(b.bottom||0)-(I||0)]:L=m.range,w&&(L=[L[1],L[0]]);var q=PF(m,i,f),ie=q.scale,Z=q.realScaleType;ie.domain(y).range(L),DF(ie);var D=MF(ie,dh(dh({},m),{},{realScaleType:Z}));s==="xAxis"?(G=x==="top"&&!S||x==="bottom"&&S,J=a.left,ae=h[E]-G*m.height):s==="yAxis"&&(G=x==="left"&&!S||x==="right"&&S,J=h[E]-G*m.width,ae=a.top);var ue=dh(dh(dh({},m),D),{},{realScaleType:Z,x:J,y:ae,scale:ie,width:s==="xAxis"?a.width:m.width,height:s==="yAxis"?a.height:m.height});return ue.bandSize=ix(ue,D),!m.hide&&s==="xAxis"?h[E]+=(G?-1:1)*ue.height:m.hide||(h[E]+=(G?-1:1)*ue.width),dh(dh({},A),{},x2({},g,ue))},{})},mP=function(t,n){var a=t.x,s=t.y,i=n.x,c=n.y;return{x:Math.min(a,i),y:Math.min(s,c),width:Math.abs(i-a),height:Math.abs(c-s)}},eY=function(t){var n=t.x1,a=t.y1,s=t.x2,i=t.y2;return mP({x:n,y:a},{x:s,y:i})},gP=(function(){function r(t){YX(this,r),this.scale=t}return JX(r,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,i=a.position;if(n!==void 0){if(i)switch(i){case"start":return this.scale(n);case"middle":{var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(n)+o}default:return this.scale(n)}if(s){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+d}return this.scale(n)}}},{key:"isInRange",value:function(n){var a=this.range(),s=a[0],i=a[a.length-1];return s<=i?n>=s&&n<=i:n>=i&&n<=s}}],[{key:"create",value:function(n){return new r(n)}}])})();x2(gP,"EPS",1e-4);var fS=function(t){var n=Object.keys(t).reduce(function(a,s){return dh(dh({},a),{},x2({},s,gP.create(t[s])))},{});return dh(dh({},n),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=i.bandAware,o=i.position;return BX(s,function(d,l){return n[l].apply(d,{bandAware:c,position:o})})},isInRange:function(s){return dP(s,function(i,c){return n[c].isInRange(i)})}})};function tY(r){return(r%180+180)%180}var rY=function(t){var n=t.width,a=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=tY(s),c=i*Math.PI/180,o=Math.atan(a/n),d=c>o&&c<Math.PI-o?a/Math.sin(c):n/Math.cos(c);return Math.abs(d)},Tw,x8;function nY(){if(x8)return Tw;x8=1;var r=Qh(),t=z1(),n=Yx();function a(s){return function(i,c,o){var d=Object(i);if(!t(i)){var l=r(c,3);i=n(i),c=function(h){return l(d[h],h,d)}}var u=s(i,c,o);return u>-1?d[l?i[u]:u]:void 0}}return Tw=a,Tw}var kw,y8;function aY(){if(y8)return kw;y8=1;var r=iP();function t(n){var a=r(n),s=a%1;return a===a?s?a-s:a:0}return kw=t,kw}var _w,j8;function sY(){if(j8)return _w;j8=1;var r=gO(),t=Qh(),n=aY(),a=Math.max;function s(i,c,o){var d=i==null?0:i.length;if(!d)return-1;var l=o==null?0:n(o);return l<0&&(l=a(d+l,0)),r(i,t(c,3),l)}return _w=s,_w}var Ow,b8;function iY(){if(b8)return Ow;b8=1;var r=nY(),t=sY(),n=r(t);return Ow=n,Ow}var oY=iY();const lY=si(oY);var cY=O_();const dY=si(cY);var uY=dY(function(r){return{x:r.left,y:r.top,width:r.width,height:r.height}},function(r){return["l",r.left,"t",r.top,"w",r.width,"h",r.height].join("")}),AS=C.createContext(void 0),pS=C.createContext(void 0),vP=C.createContext(void 0),xP=C.createContext({}),yP=C.createContext(void 0),jP=C.createContext(0),bP=C.createContext(0),w8=function(t){var n=t.state,a=n.xAxisMap,s=n.yAxisMap,i=n.offset,c=t.clipPathId,o=t.children,d=t.width,l=t.height,u=uY(i);return Ct.createElement(AS.Provider,{value:a},Ct.createElement(pS.Provider,{value:s},Ct.createElement(xP.Provider,{value:i},Ct.createElement(vP.Provider,{value:u},Ct.createElement(yP.Provider,{value:c},Ct.createElement(jP.Provider,{value:l},Ct.createElement(bP.Provider,{value:d},o)))))))},hY=function(){return C.useContext(yP)},wP=function(t){var n=C.useContext(AS);n==null&&hp();var a=n[t];return a==null&&hp(),a},fY=function(){var t=C.useContext(AS);return aA(t)},AY=function(){var t=C.useContext(pS),n=lY(t,function(a){return dP(a.domain,Number.isFinite)});return n||aA(t)},CP=function(t){var n=C.useContext(pS);n==null&&hp();var a=n[t];return a==null&&hp(),a},pY=function(){var t=C.useContext(vP);return t},mY=function(){return C.useContext(xP)},mS=function(){return C.useContext(bP)},gS=function(){return C.useContext(jP)};function vm(r){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vm(r)}function gY(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function vY(r,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,SP(a.key),a)}}function xY(r,t,n){return t&&vY(r.prototype,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function yY(r,t,n){return t=Nx(t),jY(r,NP()?Reflect.construct(t,n||[],Nx(r).constructor):t.apply(r,n))}function jY(r,t){if(t&&(vm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bY(r)}function bY(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function NP(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NP=function(){return!!r})()}function Nx(r){return Nx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nx(r)}function wY(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&PN(r,t)}function PN(r,t){return PN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},PN(r,t)}function C8(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function N8(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C8(Object(n),!0).forEach(function(a){vS(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):C8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function vS(r,t,n){return t=SP(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function SP(r){var t=CY(r,"string");return vm(t)=="symbol"?t:t+""}function CY(r,t){if(vm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(vm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function NY(r,t){return IY(r)||BY(r,t)||EY(r,t)||SY()}function SY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EY(r,t){if(r){if(typeof r=="string")return S8(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S8(r,t)}}function S8(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=r[n];return a}function BY(r,t){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,s,i,c,o=[],d=!0,l=!1;try{if(i=(n=n.call(r)).next,t!==0)for(;!(d=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);d=!0);}catch(u){l=!0,s=u}finally{try{if(!d&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(l)throw s}}return o}}function IY(r){if(Array.isArray(r))return r}function DN(){return DN=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},DN.apply(this,arguments)}var TY=function(t,n){var a;return Ct.isValidElement(t)?a=Ct.cloneElement(t,n):ts(t)?a=t(n):a=Ct.createElement("line",DN({},n,{className:"recharts-reference-line-line"})),a},kY=function(t,n,a,s,i,c,o,d,l){var u=i.x,h=i.y,f=i.width,A=i.height;if(a){var g=l.y,m=t.y.apply(g,{position:c});if(Mh(l,"discard")&&!t.y.isInRange(m))return null;var x=[{x:u+f,y:m},{x:u,y:m}];return d==="left"?x.reverse():x}if(n){var y=l.x,j=t.x.apply(y,{position:c});if(Mh(l,"discard")&&!t.x.isInRange(j))return null;var b=[{x:j,y:h+A},{x:j,y:h}];return o==="top"?b.reverse():b}if(s){var S=l.segment,w=S.map(function(E){return t.apply(E,{position:c})});return Mh(l,"discard")&&CX(w,function(E){return!t.isInRange(E)})?null:w}return null};function _Y(r){var t=r.x,n=r.y,a=r.segment,s=r.xAxisId,i=r.yAxisId,c=r.shape,o=r.className,d=r.alwaysShow,l=hY(),u=wP(s),h=CP(i),f=pY();if(!l||!f)return null;ph(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var A=fS({x:u.scale,y:h.scale}),g=Zl(t),m=Zl(n),x=a&&a.length===2,y=kY(A,g,m,x,f,r.position,u.orientation,h.orientation,r);if(!y)return null;var j=NY(y,2),b=j[0],S=b.x,w=b.y,E=j[1],I=E.x,L=E.y,J=Mh(r,"hidden")?"url(#".concat(l,")"):void 0,ae=N8(N8({clipPath:J},Da(r,!0)),{},{x1:S,y1:w,x2:I,y2:L});return Ct.createElement(hi,{className:Cs("recharts-reference-line",o)},TY(c,ae),wc.renderCallByParent(r,eY({x1:S,y1:w,x2:I,y2:L})))}var xS=(function(r){function t(){return gY(this,t),yY(this,t,arguments)}return wY(t,r),xY(t,[{key:"render",value:function(){return Ct.createElement(_Y,this.props)}}])})(Ct.Component);vS(xS,"displayName","ReferenceLine");vS(xS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function MN(){return MN=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},MN.apply(this,arguments)}function xm(r){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xm(r)}function E8(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function B8(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?E8(Object(n),!0).forEach(function(a){y2(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):E8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function OY(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function FY(r,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,BP(a.key),a)}}function PY(r,t,n){return t&&FY(r.prototype,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function DY(r,t,n){return t=Sx(t),MY(r,EP()?Reflect.construct(t,n||[],Sx(r).constructor):t.apply(r,n))}function MY(r,t){if(t&&(xm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RY(r)}function RY(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function EP(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EP=function(){return!!r})()}function Sx(r){return Sx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sx(r)}function LY(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&RN(r,t)}function RN(r,t){return RN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},RN(r,t)}function y2(r,t,n){return t=BP(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function BP(r){var t=UY(r,"string");return xm(t)=="symbol"?t:t+""}function UY(r,t){if(xm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(xm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var HY=function(t){var n=t.x,a=t.y,s=t.xAxis,i=t.yAxis,c=fS({x:s.scale,y:i.scale}),o=c.apply({x:n,y:a},{bandAware:!0});return Mh(t,"discard")&&!c.isInRange(o)?null:o},j2=(function(r){function t(){return OY(this,t),DY(this,t,arguments)}return LY(t,r),PY(t,[{key:"render",value:function(){var a=this.props,s=a.x,i=a.y,c=a.r,o=a.alwaysShow,d=a.clipPathId,l=Zl(s),u=Zl(i);if(ph(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!l||!u)return null;var h=HY(this.props);if(!h)return null;var f=h.x,A=h.y,g=this.props,m=g.shape,x=g.className,y=Mh(this.props,"hidden")?"url(#".concat(d,")"):void 0,j=B8(B8({clipPath:y},Da(this.props,!0)),{},{cx:f,cy:A});return Ct.createElement(hi,{className:Cs("recharts-reference-dot",x)},t.renderDot(m,j),wc.renderCallByParent(this.props,{x:f-c,y:A-c,width:2*c,height:2*c}))}}])})(Ct.Component);y2(j2,"displayName","ReferenceDot");y2(j2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});y2(j2,"renderDot",function(r,t){var n;return Ct.isValidElement(r)?n=Ct.cloneElement(r,t):ts(r)?n=r(t):n=Ct.createElement(h2,MN({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function LN(){return LN=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},LN.apply(this,arguments)}function ym(r){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ym(r)}function I8(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function T8(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?I8(Object(n),!0).forEach(function(a){b2(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):I8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function QY(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function WY(r,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,TP(a.key),a)}}function $Y(r,t,n){return t&&WY(r.prototype,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function VY(r,t,n){return t=Ex(t),zY(r,IP()?Reflect.construct(t,n||[],Ex(r).constructor):t.apply(r,n))}function zY(r,t){if(t&&(ym(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KY(r)}function KY(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function IP(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IP=function(){return!!r})()}function Ex(r){return Ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ex(r)}function GY(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&UN(r,t)}function UN(r,t){return UN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},UN(r,t)}function b2(r,t,n){return t=TP(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function TP(r){var t=qY(r,"string");return ym(t)=="symbol"?t:t+""}function qY(r,t){if(ym(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(ym(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var XY=function(t,n,a,s,i){var c=i.x1,o=i.x2,d=i.y1,l=i.y2,u=i.xAxis,h=i.yAxis;if(!u||!h)return null;var f=fS({x:u.scale,y:h.scale}),A={x:t?f.x.apply(c,{position:"start"}):f.x.rangeMin,y:a?f.y.apply(d,{position:"start"}):f.y.rangeMin},g={x:n?f.x.apply(o,{position:"end"}):f.x.rangeMax,y:s?f.y.apply(l,{position:"end"}):f.y.rangeMax};return Mh(i,"discard")&&(!f.isInRange(A)||!f.isInRange(g))?null:mP(A,g)},w2=(function(r){function t(){return QY(this,t),VY(this,t,arguments)}return GY(t,r),$Y(t,[{key:"render",value:function(){var a=this.props,s=a.x1,i=a.x2,c=a.y1,o=a.y2,d=a.className,l=a.alwaysShow,u=a.clipPathId;ph(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Zl(s),f=Zl(i),A=Zl(c),g=Zl(o),m=this.props.shape;if(!h&&!f&&!A&&!g&&!m)return null;var x=XY(h,f,A,g,this.props);if(!x&&!m)return null;var y=Mh(this.props,"hidden")?"url(#".concat(u,")"):void 0;return Ct.createElement(hi,{className:Cs("recharts-reference-area",d)},t.renderRect(m,T8(T8({clipPath:y},Da(this.props,!0)),x)),wc.renderCallByParent(this.props,x))}}])})(Ct.Component);b2(w2,"displayName","ReferenceArea");b2(w2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});b2(w2,"renderRect",function(r,t){var n;return Ct.isValidElement(r)?n=Ct.cloneElement(r,t):ts(r)?n=r(t):n=Ct.createElement(hS,LN({},t,{className:"recharts-reference-area-rect"})),n});function kP(r,t,n){if(t<1)return[];if(t===1&&n===void 0)return r;for(var a=[],s=0;s<r.length;s+=t)a.push(r[s]);return a}function YY(r,t,n){var a={width:r.width+t.width,height:r.height+t.height};return rY(a,n)}function JY(r,t,n){var a=n==="width",s=r.x,i=r.y,c=r.width,o=r.height;return t===1?{start:a?s:i,end:a?s+c:i+o}:{start:a?s+c:i+o,end:a?s:i}}function Bx(r,t,n,a,s){if(r*t<r*a||r*t>r*s)return!1;var i=n();return r*(t-r*i/2-a)>=0&&r*(t+r*i/2-s)<=0}function ZY(r,t){return kP(r,t+1)}function eJ(r,t,n,a,s){for(var i=(a||[]).slice(),c=t.start,o=t.end,d=0,l=1,u=c,h=function(){var g=a==null?void 0:a[d];if(g===void 0)return{v:kP(a,l)};var m=d,x,y=function(){return x===void 0&&(x=n(g,m)),x},j=g.coordinate,b=d===0||Bx(r,j,y,u,o);b||(d=0,u=c,l+=1),b&&(u=j+r*(y()/2+s),d+=l)},f;l<=i.length;)if(f=h(),f)return f.v;return[]}function U1(r){"@babel/helpers - typeof";return U1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U1(r)}function k8(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function rd(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?k8(Object(n),!0).forEach(function(a){tJ(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):k8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function tJ(r,t,n){return t=rJ(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function rJ(r){var t=nJ(r,"string");return U1(t)=="symbol"?t:t+""}function nJ(r,t){if(U1(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(U1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function aJ(r,t,n,a,s){for(var i=(a||[]).slice(),c=i.length,o=t.start,d=t.end,l=function(f){var A=i[f],g,m=function(){return g===void 0&&(g=n(A,f)),g};if(f===c-1){var x=r*(A.coordinate+r*m()/2-d);i[f]=A=rd(rd({},A),{},{tickCoord:x>0?A.coordinate-x*r:A.coordinate})}else i[f]=A=rd(rd({},A),{},{tickCoord:A.coordinate});var y=Bx(r,A.tickCoord,m,o,d);y&&(d=A.tickCoord-r*(m()/2+s),i[f]=rd(rd({},A),{},{isShow:!0}))},u=c-1;u>=0;u--)l(u);return i}function sJ(r,t,n,a,s,i){var c=(a||[]).slice(),o=c.length,d=t.start,l=t.end;if(i){var u=a[o-1],h=n(u,o-1),f=r*(u.coordinate+r*h/2-l);c[o-1]=u=rd(rd({},u),{},{tickCoord:f>0?u.coordinate-f*r:u.coordinate});var A=Bx(r,u.tickCoord,function(){return h},d,l);A&&(l=u.tickCoord-r*(h/2+s),c[o-1]=rd(rd({},u),{},{isShow:!0}))}for(var g=i?o-1:o,m=function(j){var b=c[j],S,w=function(){return S===void 0&&(S=n(b,j)),S};if(j===0){var E=r*(b.coordinate-r*w()/2-d);c[j]=b=rd(rd({},b),{},{tickCoord:E<0?b.coordinate-E*r:b.coordinate})}else c[j]=b=rd(rd({},b),{},{tickCoord:b.coordinate});var I=Bx(r,b.tickCoord,w,d,l);I&&(d=b.tickCoord+r*(w()/2+s),c[j]=rd(rd({},b),{},{isShow:!0}))},x=0;x<g;x++)m(x);return c}function yS(r,t,n){var a=r.tick,s=r.ticks,i=r.viewBox,c=r.minTickGap,o=r.orientation,d=r.interval,l=r.tickFormatter,u=r.unit,h=r.angle;if(!s||!s.length||!a)return[];if(yn(d)||pp.isSsr)return ZY(s,typeof d=="number"&&yn(d)?d:0);var f=[],A=o==="top"||o==="bottom"?"width":"height",g=u&&A==="width"?Yg(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},m=function(b,S){var w=ts(l)?l(b.value,S):b.value;return A==="width"?YY(Yg(w,{fontSize:t,letterSpacing:n}),g,h):Yg(w,{fontSize:t,letterSpacing:n})[A]},x=s.length>=2?wd(s[1].coordinate-s[0].coordinate):1,y=JY(i,x,A);return d==="equidistantPreserveStart"?eJ(x,y,m,s,c):(d==="preserveStart"||d==="preserveStartEnd"?f=sJ(x,y,m,s,c,d==="preserveStartEnd"):f=aJ(x,y,m,s,c),f.filter(function(j){return j.isShow}))}var iJ=["viewBox"],oJ=["viewBox"],lJ=["ticks"];function jm(r){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jm(r)}function $p(){return $p=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},$p.apply(this,arguments)}function _8(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function vd(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_8(Object(n),!0).forEach(function(a){jS(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):_8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function Fw(r,t){if(r==null)return{};var n=cJ(r,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function cJ(r,t){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(t.indexOf(a)>=0)continue;n[a]=r[a]}return n}function dJ(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function O8(r,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,OP(a.key),a)}}function uJ(r,t,n){return t&&O8(r.prototype,t),n&&O8(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function hJ(r,t,n){return t=Ix(t),fJ(r,_P()?Reflect.construct(t,n||[],Ix(r).constructor):t.apply(r,n))}function fJ(r,t){if(t&&(jm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AJ(r)}function AJ(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function _P(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_P=function(){return!!r})()}function Ix(r){return Ix=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ix(r)}function pJ(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&HN(r,t)}function HN(r,t){return HN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},HN(r,t)}function jS(r,t,n){return t=OP(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function OP(r){var t=mJ(r,"string");return jm(t)=="symbol"?t:t+""}function mJ(r,t){if(jm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(jm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var Rm=(function(r){function t(n){var a;return dJ(this,t),a=hJ(this,t,[n]),a.state={fontSize:"",letterSpacing:""},a}return pJ(t,r),uJ(t,[{key:"shouldComponentUpdate",value:function(a,s){var i=a.viewBox,c=Fw(a,iJ),o=this.props,d=o.viewBox,l=Fw(o,oJ);return!Zp(i,d)||!Zp(c,l)||!Zp(s,this.state)}},{key:"componentDidMount",value:function(){var a=this.layerReference;if(a){var s=a.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(a){var s=this.props,i=s.x,c=s.y,o=s.width,d=s.height,l=s.orientation,u=s.tickSize,h=s.mirror,f=s.tickMargin,A,g,m,x,y,j,b=h?-1:1,S=a.tickSize||u,w=yn(a.tickCoord)?a.tickCoord:a.coordinate;switch(l){case"top":A=g=a.coordinate,x=c+ +!h*d,m=x-b*S,j=m-b*f,y=w;break;case"left":m=x=a.coordinate,g=i+ +!h*o,A=g-b*S,y=A-b*f,j=w;break;case"right":m=x=a.coordinate,g=i+ +h*o,A=g+b*S,y=A+b*f,j=w;break;default:A=g=a.coordinate,x=c+ +h*d,m=x+b*S,j=m+b*f,y=w;break}return{line:{x1:A,y1:m,x2:g,y2:x},tick:{x:y,y:j}}}},{key:"getTickTextAnchor",value:function(){var a=this.props,s=a.orientation,i=a.mirror,c;switch(s){case"left":c=i?"start":"end";break;case"right":c=i?"end":"start";break;default:c="middle";break}return c}},{key:"getTickVerticalAnchor",value:function(){var a=this.props,s=a.orientation,i=a.mirror,c="end";switch(s){case"left":case"right":c="middle";break;case"top":c=i?"start":"end";break;default:c=i?"end":"start";break}return c}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.x,i=a.y,c=a.width,o=a.height,d=a.orientation,l=a.mirror,u=a.axisLine,h=vd(vd(vd({},Da(this.props,!1)),Da(u,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var f=+(d==="top"&&!l||d==="bottom"&&l);h=vd(vd({},h),{},{x1:s,y1:i+f*o,x2:s+c,y2:i+f*o})}else{var A=+(d==="left"&&!l||d==="right"&&l);h=vd(vd({},h),{},{x1:s+A*c,y1:i,x2:s+A*c,y2:i+o})}return Ct.createElement("line",$p({},h,{className:Cs("recharts-cartesian-axis-line",hu(u,"className"))}))}},{key:"renderTicks",value:function(a,s,i){var c=this,o=this.props,d=o.tickLine,l=o.stroke,u=o.tick,h=o.tickFormatter,f=o.unit,A=yS(vd(vd({},this.props),{},{ticks:a}),s,i),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),x=Da(this.props,!1),y=Da(u,!1),j=vd(vd({},x),{},{fill:"none"},Da(d,!1)),b=A.map(function(S,w){var E=c.getTickLineCoord(S),I=E.line,L=E.tick,J=vd(vd(vd(vd({textAnchor:g,verticalAnchor:m},x),{},{stroke:"none",fill:l},y),L),{},{index:w,payload:S,visibleTicksCount:A.length,tickFormatter:h});return Ct.createElement(hi,$p({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},cp(c.props,S,w)),d&&Ct.createElement("line",$p({},j,I,{className:Cs("recharts-cartesian-axis-tick-line",hu(d,"className"))})),u&&t.renderTickItem(u,J,"".concat(ts(h)?h(S.value,w):S.value).concat(f||"")))});return Ct.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var a=this,s=this.props,i=s.axisLine,c=s.width,o=s.height,d=s.ticksGenerator,l=s.className,u=s.hide;if(u)return null;var h=this.props,f=h.ticks,A=Fw(h,lJ),g=f;return ts(d)&&(g=f&&f.length>0?d(this.props):d(A)),c<=0||o<=0||!g||!g.length?null:Ct.createElement(hi,{className:Cs("recharts-cartesian-axis",l),ref:function(x){a.layerReference=x}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),wc.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(a,s,i){var c;return Ct.isValidElement(a)?c=Ct.cloneElement(a,s):ts(a)?c=a(s):c=Ct.createElement(dp,$p({},s,{className:"recharts-cartesian-axis-tick-value"}),i),c}}])})(C.Component);jS(Rm,"displayName","CartesianAxis");jS(Rm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var gJ=["x1","y1","x2","y2","key"],vJ=["offset"];function fp(r){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fp(r)}function F8(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function nd(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F8(Object(n),!0).forEach(function(a){xJ(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):F8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function xJ(r,t,n){return t=yJ(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function yJ(r){var t=jJ(r,"string");return fp(t)=="symbol"?t:t+""}function jJ(r,t){if(fp(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(fp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function tp(){return tp=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},tp.apply(this,arguments)}function P8(r,t){if(r==null)return{};var n=bJ(r,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function bJ(r,t){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(t.indexOf(a)>=0)continue;n[a]=r[a]}return n}var wJ=function(t){var n=t.fill;if(!n||n==="none")return null;var a=t.fillOpacity,s=t.x,i=t.y,c=t.width,o=t.height,d=t.ry;return Ct.createElement("rect",{x:s,y:i,ry:d,width:c,height:o,stroke:"none",fill:n,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function FP(r,t){var n;if(Ct.isValidElement(r))n=Ct.cloneElement(r,t);else if(ts(r))n=r(t);else{var a=t.x1,s=t.y1,i=t.x2,c=t.y2,o=t.key,d=P8(t,gJ),l=Da(d,!1);l.offset;var u=P8(l,vJ);n=Ct.createElement("line",tp({},u,{x1:a,y1:s,x2:i,y2:c,fill:"none",key:o}))}return n}function CJ(r){var t=r.x,n=r.width,a=r.horizontal,s=a===void 0?!0:a,i=r.horizontalPoints;if(!s||!i||!i.length)return null;var c=i.map(function(o,d){var l=nd(nd({},r),{},{x1:t,y1:o,x2:t+n,y2:o,key:"line-".concat(d),index:d});return FP(s,l)});return Ct.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function NJ(r){var t=r.y,n=r.height,a=r.vertical,s=a===void 0?!0:a,i=r.verticalPoints;if(!s||!i||!i.length)return null;var c=i.map(function(o,d){var l=nd(nd({},r),{},{x1:o,y1:t,x2:o,y2:t+n,key:"line-".concat(d),index:d});return FP(s,l)});return Ct.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function SJ(r){var t=r.horizontalFill,n=r.fillOpacity,a=r.x,s=r.y,i=r.width,c=r.height,o=r.horizontalPoints,d=r.horizontal,l=d===void 0?!0:d;if(!l||!t||!t.length)return null;var u=o.map(function(f){return Math.round(f+s-s)}).sort(function(f,A){return f-A});s!==u[0]&&u.unshift(0);var h=u.map(function(f,A){var g=!u[A+1],m=g?s+c-f:u[A+1]-f;if(m<=0)return null;var x=A%t.length;return Ct.createElement("rect",{key:"react-".concat(A),y:f,x:a,height:m,width:i,stroke:"none",fill:t[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return Ct.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function EJ(r){var t=r.vertical,n=t===void 0?!0:t,a=r.verticalFill,s=r.fillOpacity,i=r.x,c=r.y,o=r.width,d=r.height,l=r.verticalPoints;if(!n||!a||!a.length)return null;var u=l.map(function(f){return Math.round(f+i-i)}).sort(function(f,A){return f-A});i!==u[0]&&u.unshift(0);var h=u.map(function(f,A){var g=!u[A+1],m=g?i+o-f:u[A+1]-f;if(m<=0)return null;var x=A%a.length;return Ct.createElement("rect",{key:"react-".concat(A),x:f,y:c,width:m,height:d,stroke:"none",fill:a[x],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return Ct.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var BJ=function(t,n){var a=t.xAxis,s=t.width,i=t.height,c=t.offset;return FF(yS(nd(nd(nd({},Rm.defaultProps),a),{},{ticks:mf(a,!0),viewBox:{x:0,y:0,width:s,height:i}})),c.left,c.left+c.width,n)},IJ=function(t,n){var a=t.yAxis,s=t.width,i=t.height,c=t.offset;return FF(yS(nd(nd(nd({},Rm.defaultProps),a),{},{ticks:mf(a,!0),viewBox:{x:0,y:0,width:s,height:i}})),c.top,c.top+c.height,n)},_p={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Sv(r){var t,n,a,s,i,c,o=mS(),d=gS(),l=mY(),u=nd(nd({},r),{},{stroke:(t=r.stroke)!==null&&t!==void 0?t:_p.stroke,fill:(n=r.fill)!==null&&n!==void 0?n:_p.fill,horizontal:(a=r.horizontal)!==null&&a!==void 0?a:_p.horizontal,horizontalFill:(s=r.horizontalFill)!==null&&s!==void 0?s:_p.horizontalFill,vertical:(i=r.vertical)!==null&&i!==void 0?i:_p.vertical,verticalFill:(c=r.verticalFill)!==null&&c!==void 0?c:_p.verticalFill,x:yn(r.x)?r.x:l.left,y:yn(r.y)?r.y:l.top,width:yn(r.width)?r.width:l.width,height:yn(r.height)?r.height:l.height}),h=u.x,f=u.y,A=u.width,g=u.height,m=u.syncWithTicks,x=u.horizontalValues,y=u.verticalValues,j=fY(),b=AY();if(!yn(A)||A<=0||!yn(g)||g<=0||!yn(h)||h!==+h||!yn(f)||f!==+f)return null;var S=u.verticalCoordinatesGenerator||BJ,w=u.horizontalCoordinatesGenerator||IJ,E=u.horizontalPoints,I=u.verticalPoints;if((!E||!E.length)&&ts(w)){var L=x&&x.length,J=w({yAxis:b?nd(nd({},b),{},{ticks:L?x:b.ticks}):void 0,width:o,height:d,offset:l},L?!0:m);ph(Array.isArray(J),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(fp(J),"]")),Array.isArray(J)&&(E=J)}if((!I||!I.length)&&ts(S)){var ae=y&&y.length,G=S({xAxis:j?nd(nd({},j),{},{ticks:ae?y:j.ticks}):void 0,width:o,height:d,offset:l},ae?!0:m);ph(Array.isArray(G),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(fp(G),"]")),Array.isArray(G)&&(I=G)}return Ct.createElement("g",{className:"recharts-cartesian-grid"},Ct.createElement(wJ,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),Ct.createElement(CJ,tp({},u,{offset:l,horizontalPoints:E,xAxis:j,yAxis:b})),Ct.createElement(NJ,tp({},u,{offset:l,verticalPoints:I,xAxis:j,yAxis:b})),Ct.createElement(SJ,tp({},u,{horizontalPoints:E})),Ct.createElement(EJ,tp({},u,{verticalPoints:I})))}Sv.displayName="CartesianGrid";var TJ=["type","layout","connectNulls","ref"],kJ=["key"];function bm(r){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bm(r)}function D8(r,t){if(r==null)return{};var n=_J(r,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function _J(r,t){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(t.indexOf(a)>=0)continue;n[a]=r[a]}return n}function n1(){return n1=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},n1.apply(this,arguments)}function M8(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function iu(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?M8(Object(n),!0).forEach(function(a){uh(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):M8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function Op(r){return DJ(r)||PJ(r)||FJ(r)||OJ()}function OJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FJ(r,t){if(r){if(typeof r=="string")return QN(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QN(r,t)}}function PJ(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function DJ(r){if(Array.isArray(r))return QN(r)}function QN(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=r[n];return a}function MJ(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function R8(r,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,DP(a.key),a)}}function RJ(r,t,n){return t&&R8(r.prototype,t),n&&R8(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function LJ(r,t,n){return t=Tx(t),UJ(r,PP()?Reflect.construct(t,n||[],Tx(r).constructor):t.apply(r,n))}function UJ(r,t){if(t&&(bm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HJ(r)}function HJ(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function PP(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PP=function(){return!!r})()}function Tx(r){return Tx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tx(r)}function QJ(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&WN(r,t)}function WN(r,t){return WN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},WN(r,t)}function uh(r,t,n){return t=DP(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function DP(r){var t=WJ(r,"string");return bm(t)=="symbol"?t:t+""}function WJ(r,t){if(bm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(bm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var wm=(function(r){function t(){var n;MJ(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=LJ(this,t,[].concat(s)),uh(n,"state",{isAnimationFinished:!0,totalLength:0}),uh(n,"generateSimpleStrokeDasharray",function(c,o){return"".concat(o,"px ").concat(c-o,"px")}),uh(n,"getStrokeDasharray",function(c,o,d){var l=d.reduce(function(y,j){return y+j});if(!l)return n.generateSimpleStrokeDasharray(o,c);for(var u=Math.floor(c/l),h=c%l,f=o-c,A=[],g=0,m=0;g<d.length;m+=d[g],++g)if(m+d[g]>h){A=[].concat(Op(d.slice(0,g)),[h-m]);break}var x=A.length%2===0?[0,f]:[f];return[].concat(Op(t.repeat(d,u)),Op(A),x).map(function(y){return"".concat(y,"px")}).join(", ")}),uh(n,"id",Om("recharts-line-")),uh(n,"pathRef",function(c){n.mainCurve=c}),uh(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),uh(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return QJ(t,r),RJ(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();this.setState({totalLength:a})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();a!==this.state.totalLength&&this.setState({totalLength:a})}}},{key:"getTotalLength",value:function(){var a=this.mainCurve;try{return a&&a.getTotalLength&&a.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(a,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,c=i.points,o=i.xAxis,d=i.yAxis,l=i.layout,u=i.children,h=fu(u,J1);if(!h)return null;var f=function(m,x){return{x:m.x,y:m.y,value:m.value,errorVal:Yl(m.payload,x)}},A={clipPath:a?"url(#clipPath-".concat(s,")"):null};return Ct.createElement(hi,A,h.map(function(g){return Ct.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:c,xAxis:o,yAxis:d,layout:l,dataPointFormatter:f})}))}},{key:"renderDots",value:function(a,s,i){var c=this.props.isAnimationActive;if(c&&!this.state.isAnimationFinished)return null;var o=this.props,d=o.dot,l=o.points,u=o.dataKey,h=Da(this.props,!1),f=Da(d,!0),A=l.map(function(m,x){var y=iu(iu(iu({key:"dot-".concat(x),r:3},h),f),{},{value:m.value,dataKey:u,cx:m.x,cy:m.y,index:x,payload:m.payload});return t.renderDotItem(d,y)}),g={clipPath:a?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return Ct.createElement(hi,n1({className:"recharts-line-dots",key:"dots"},g),A)}},{key:"renderCurveStatically",value:function(a,s,i,c){var o=this.props,d=o.type,l=o.layout,u=o.connectNulls;o.ref;var h=D8(o,TJ),f=iu(iu(iu({},Da(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(i,")"):null,points:a},c),{},{type:d,layout:l,connectNulls:u});return Ct.createElement(cx,n1({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(a,s){var i=this,c=this.props,o=c.points,d=c.strokeDasharray,l=c.isAnimationActive,u=c.animationBegin,h=c.animationDuration,f=c.animationEasing,A=c.animationId,g=c.animateNewValues,m=c.width,x=c.height,y=this.state,j=y.prevPoints,b=y.totalLength;return Ct.createElement(Lh,{begin:u,duration:h,isActive:l,easing:f,from:{t:0},to:{t:1},key:"line-".concat(A),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var w=S.t;if(j){var E=j.length/o.length,I=o.map(function(le,V){var me=Math.floor(V*E);if(j[me]){var $=j[me],ee=du($.x,le.x),we=du($.y,le.y);return iu(iu({},le),{},{x:ee(w),y:we(w)})}if(g){var R=du(m*2,le.x),q=du(x/2,le.y);return iu(iu({},le),{},{x:R(w),y:q(w)})}return iu(iu({},le),{},{x:le.x,y:le.y})});return i.renderCurveStatically(I,a,s)}var L=du(0,b),J=L(w),ae;if(d){var G="".concat(d).split(/[,\s]+/gim).map(function(le){return parseFloat(le)});ae=i.getStrokeDasharray(J,b,G)}else ae=i.generateSimpleStrokeDasharray(b,J);return i.renderCurveStatically(o,a,s,{strokeDasharray:ae})})}},{key:"renderCurve",value:function(a,s){var i=this.props,c=i.points,o=i.isAnimationActive,d=this.state,l=d.prevPoints,u=d.totalLength;return o&&c&&c.length&&(!l&&u>0||!Y1(l,c))?this.renderCurveWithAnimation(a,s):this.renderCurveStatically(c,a,s)}},{key:"render",value:function(){var a,s=this.props,i=s.hide,c=s.dot,o=s.points,d=s.className,l=s.xAxis,u=s.yAxis,h=s.top,f=s.left,A=s.width,g=s.height,m=s.isAnimationActive,x=s.id;if(i||!o||!o.length)return null;var y=this.state.isAnimationFinished,j=o.length===1,b=Cs("recharts-line",d),S=l&&l.allowDataOverflow,w=u&&u.allowDataOverflow,E=S||w,I=fs(x)?this.id:x,L=(a=Da(c,!1))!==null&&a!==void 0?a:{r:3,strokeWidth:2},J=L.r,ae=J===void 0?3:J,G=L.strokeWidth,le=G===void 0?2:G,V=gL(c)?c:{},me=V.clipDot,$=me===void 0?!0:me,ee=ae*2+le;return Ct.createElement(hi,{className:b},S||w?Ct.createElement("defs",null,Ct.createElement("clipPath",{id:"clipPath-".concat(I)},Ct.createElement("rect",{x:S?f:f-A/2,y:w?h:h-g/2,width:S?A:A*2,height:w?g:g*2})),!$&&Ct.createElement("clipPath",{id:"clipPath-dots-".concat(I)},Ct.createElement("rect",{x:f-ee/2,y:h-ee/2,width:A+ee,height:g+ee}))):null,!j&&this.renderCurve(E,I),this.renderErrorBar(E,I),(j||c)&&this.renderDots(E,$,I),(!m||y)&&xf.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,prevPoints:s.curPoints}:a.points!==s.curPoints?{curPoints:a.points}:null}},{key:"repeat",value:function(a,s){for(var i=a.length%2!==0?[].concat(Op(a),[0]):a,c=[],o=0;o<s;++o)c=[].concat(Op(c),Op(i));return c}},{key:"renderDotItem",value:function(a,s){var i;if(Ct.isValidElement(a))i=Ct.cloneElement(a,s);else if(ts(a))i=a(s);else{var c=s.key,o=D8(s,kJ),d=Cs("recharts-line-dot",typeof a!="boolean"?a.className:"");i=Ct.createElement(h2,n1({key:c},o,{className:d}))}return i}}])})(C.PureComponent);uh(wm,"displayName","Line");uh(wm,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!pp.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});uh(wm,"getComposedData",function(r){var t=r.props,n=r.xAxis,a=r.yAxis,s=r.xAxisTicks,i=r.yAxisTicks,c=r.dataKey,o=r.bandSize,d=r.displayedData,l=r.offset,u=t.layout,h=d.map(function(f,A){var g=Yl(f,c);return u==="horizontal"?{x:WI({axis:n,ticks:s,bandSize:o,entry:f,index:A}),y:fs(g)?null:a.scale(g),value:g,payload:f}:{x:fs(g)?null:n.scale(g),y:WI({axis:a,ticks:i,bandSize:o,entry:f,index:A}),value:g,payload:f}});return iu({points:h,layout:u},l)});function Cm(r){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cm(r)}function $J(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function VJ(r,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,LP(a.key),a)}}function zJ(r,t,n){return t&&VJ(r.prototype,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function KJ(r,t,n){return t=kx(t),GJ(r,MP()?Reflect.construct(t,n||[],kx(r).constructor):t.apply(r,n))}function GJ(r,t){if(t&&(Cm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qJ(r)}function qJ(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function MP(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MP=function(){return!!r})()}function kx(r){return kx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kx(r)}function XJ(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&$N(r,t)}function $N(r,t){return $N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},$N(r,t)}function RP(r,t,n){return t=LP(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function LP(r){var t=YJ(r,"string");return Cm(t)=="symbol"?t:t+""}function YJ(r,t){if(Cm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(Cm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function VN(){return VN=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},VN.apply(this,arguments)}function JJ(r){var t=r.xAxisId,n=mS(),a=gS(),s=wP(t);return s==null?null:Ct.createElement(Rm,VN({},s,{className:Cs("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(c){return mf(c,!0)}}))}var ip=(function(r){function t(){return $J(this,t),KJ(this,t,arguments)}return XJ(t,r),zJ(t,[{key:"render",value:function(){return Ct.createElement(JJ,this.props)}}])})(Ct.Component);RP(ip,"displayName","XAxis");RP(ip,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Nm(r){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nm(r)}function ZJ(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function eZ(r,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,QP(a.key),a)}}function tZ(r,t,n){return t&&eZ(r.prototype,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function rZ(r,t,n){return t=_x(t),nZ(r,UP()?Reflect.construct(t,n||[],_x(r).constructor):t.apply(r,n))}function nZ(r,t){if(t&&(Nm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aZ(r)}function aZ(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function UP(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UP=function(){return!!r})()}function _x(r){return _x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_x(r)}function sZ(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&zN(r,t)}function zN(r,t){return zN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},zN(r,t)}function HP(r,t,n){return t=QP(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function QP(r){var t=iZ(r,"string");return Nm(t)=="symbol"?t:t+""}function iZ(r,t){if(Nm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(Nm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function KN(){return KN=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},KN.apply(this,arguments)}var oZ=function(t){var n=t.yAxisId,a=mS(),s=gS(),i=CP(n);return i==null?null:Ct.createElement(Rm,KN({},i,{className:Cs("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:a,height:s},ticksGenerator:function(o){return mf(o,!0)}}))},op=(function(r){function t(){return ZJ(this,t),rZ(this,t,arguments)}return sZ(t,r),tZ(t,[{key:"render",value:function(){return Ct.createElement(oZ,this.props)}}])})(Ct.Component);HP(op,"displayName","YAxis");HP(op,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function L8(r){return uZ(r)||dZ(r)||cZ(r)||lZ()}function lZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cZ(r,t){if(r){if(typeof r=="string")return GN(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GN(r,t)}}function dZ(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function uZ(r){if(Array.isArray(r))return GN(r)}function GN(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=r[n];return a}var qN=function(t,n,a,s,i){var c=fu(t,xS),o=fu(t,j2),d=[].concat(L8(c),L8(o)),l=fu(t,w2),u="".concat(s,"Id"),h=s[0],f=n;if(d.length&&(f=d.reduce(function(m,x){if(x.props[u]===a&&Mh(x.props,"extendDomain")&&yn(x.props[h])){var y=x.props[h];return[Math.min(m[0],y),Math.max(m[1],y)]}return m},f)),l.length){var A="".concat(h,"1"),g="".concat(h,"2");f=l.reduce(function(m,x){if(x.props[u]===a&&Mh(x.props,"extendDomain")&&yn(x.props[A])&&yn(x.props[g])){var y=x.props[A],j=x.props[g];return[Math.min(m[0],y,j),Math.max(m[1],y,j)]}return m},f)}return i&&i.length&&(f=i.reduce(function(m,x){return yn(x)?[Math.min(m[0],x),Math.max(m[1],x)]:m},f)),f},Pw={exports:{}},U8;function hZ(){return U8||(U8=1,(function(r){var t=Object.prototype.hasOwnProperty,n="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(n=!1));function s(d,l,u){this.fn=d,this.context=l,this.once=u||!1}function i(d,l,u,h,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var A=new s(u,h||d,f),g=n?n+l:l;return d._events[g]?d._events[g].fn?d._events[g]=[d._events[g],A]:d._events[g].push(A):(d._events[g]=A,d._eventsCount++),d}function c(d,l){--d._eventsCount===0?d._events=new a:delete d._events[l]}function o(){this._events=new a,this._eventsCount=0}o.prototype.eventNames=function(){var l=[],u,h;if(this._eventsCount===0)return l;for(h in u=this._events)t.call(u,h)&&l.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},o.prototype.listeners=function(l){var u=n?n+l:l,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,A=h.length,g=new Array(A);f<A;f++)g[f]=h[f].fn;return g},o.prototype.listenerCount=function(l){var u=n?n+l:l,h=this._events[u];return h?h.fn?1:h.length:0},o.prototype.emit=function(l,u,h,f,A,g){var m=n?n+l:l;if(!this._events[m])return!1;var x=this._events[m],y=arguments.length,j,b;if(x.fn){switch(x.once&&this.removeListener(l,x.fn,void 0,!0),y){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,u),!0;case 3:return x.fn.call(x.context,u,h),!0;case 4:return x.fn.call(x.context,u,h,f),!0;case 5:return x.fn.call(x.context,u,h,f,A),!0;case 6:return x.fn.call(x.context,u,h,f,A,g),!0}for(b=1,j=new Array(y-1);b<y;b++)j[b-1]=arguments[b];x.fn.apply(x.context,j)}else{var S=x.length,w;for(b=0;b<S;b++)switch(x[b].once&&this.removeListener(l,x[b].fn,void 0,!0),y){case 1:x[b].fn.call(x[b].context);break;case 2:x[b].fn.call(x[b].context,u);break;case 3:x[b].fn.call(x[b].context,u,h);break;case 4:x[b].fn.call(x[b].context,u,h,f);break;default:if(!j)for(w=1,j=new Array(y-1);w<y;w++)j[w-1]=arguments[w];x[b].fn.apply(x[b].context,j)}}return!0},o.prototype.on=function(l,u,h){return i(this,l,u,h,!1)},o.prototype.once=function(l,u,h){return i(this,l,u,h,!0)},o.prototype.removeListener=function(l,u,h,f){var A=n?n+l:l;if(!this._events[A])return this;if(!u)return c(this,A),this;var g=this._events[A];if(g.fn)g.fn===u&&(!f||g.once)&&(!h||g.context===h)&&c(this,A);else{for(var m=0,x=[],y=g.length;m<y;m++)(g[m].fn!==u||f&&!g[m].once||h&&g[m].context!==h)&&x.push(g[m]);x.length?this._events[A]=x.length===1?x[0]:x:c(this,A)}return this},o.prototype.removeAllListeners=function(l){var u;return l?(u=n?n+l:l,this._events[u]&&c(this,u)):(this._events=new a,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,r.exports=o})(Pw)),Pw.exports}var fZ=hZ();const AZ=si(fZ);var Dw=new AZ,Mw="recharts.syncMouseEvents";function H1(r){"@babel/helpers - typeof";return H1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H1(r)}function pZ(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function mZ(r,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,WP(a.key),a)}}function gZ(r,t,n){return t&&mZ(r.prototype,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function Rw(r,t,n){return t=WP(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function WP(r){var t=vZ(r,"string");return H1(t)=="symbol"?t:t+""}function vZ(r,t){if(H1(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(H1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var xZ=(function(){function r(){pZ(this,r),Rw(this,"activeIndex",0),Rw(this,"coordinateList",[]),Rw(this,"layout","horizontal")}return gZ(r,[{key:"setDetails",value:function(n){var a,s=n.coordinateList,i=s===void 0?null:s,c=n.container,o=c===void 0?null:c,d=n.layout,l=d===void 0?null:d,u=n.offset,h=u===void 0?null:u,f=n.mouseHandlerCallback,A=f===void 0?null:f;this.coordinateList=(a=i??this.coordinateList)!==null&&a!==void 0?a:[],this.container=o??this.container,this.layout=l??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=A??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,a;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,c=s.y,o=s.height,d=this.coordinateList[this.activeIndex].coordinate,l=((n=window)===null||n===void 0?void 0:n.scrollX)||0,u=((a=window)===null||a===void 0?void 0:a.scrollY)||0,h=i+d+l,f=c+this.offset.top+o/2+u;this.mouseHandlerCallback({pageX:h,pageY:f})}}}])})();function yZ(r,t,n){if(n==="number"&&t===!0&&Array.isArray(r)){var a=r==null?void 0:r[0],s=r==null?void 0:r[1];if(a&&s&&yn(a)&&yn(s))return!0}return!1}function jZ(r,t,n,a){var s=a/2;return{stroke:"none",fill:"#ccc",x:r==="horizontal"?t.x-s:n.left+.5,y:r==="horizontal"?n.top+.5:t.y-s,width:r==="horizontal"?a:n.width-1,height:r==="horizontal"?n.height-1:a}}function $P(r){var t=r.cx,n=r.cy,a=r.radius,s=r.startAngle,i=r.endAngle,c=oo(t,n,a,s),o=oo(t,n,a,i);return{points:[c,o],cx:t,cy:n,radius:a,startAngle:s,endAngle:i}}function bZ(r,t,n){var a,s,i,c;if(r==="horizontal")a=t.x,i=a,s=n.top,c=n.top+n.height;else if(r==="vertical")s=t.y,c=s,a=n.left,i=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(r==="centric"){var o=t.cx,d=t.cy,l=t.innerRadius,u=t.outerRadius,h=t.angle,f=oo(o,d,l,h),A=oo(o,d,u,h);a=f.x,s=f.y,i=A.x,c=A.y}else return $P(t);return[{x:a,y:s},{x:i,y:c}]}function Q1(r){"@babel/helpers - typeof";return Q1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q1(r)}function H8(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function y0(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?H8(Object(n),!0).forEach(function(a){wZ(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):H8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function wZ(r,t,n){return t=CZ(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function CZ(r){var t=NZ(r,"string");return Q1(t)=="symbol"?t:t+""}function NZ(r,t){if(Q1(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(Q1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function SZ(r){var t,n,a=r.element,s=r.tooltipEventType,i=r.isActive,c=r.activeCoordinate,o=r.activePayload,d=r.offset,l=r.activeTooltipIndex,u=r.tooltipAxisBandSize,h=r.layout,f=r.chartName,A=(t=a.props.cursor)!==null&&t!==void 0?t:(n=a.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!a||!A||!i||!c||f!=="ScatterChart"&&s!=="axis")return null;var g,m=cx;if(f==="ScatterChart")g=c,m=GG;else if(f==="BarChart")g=jZ(h,c,d,u),m=hS;else if(h==="radial"){var x=$P(c),y=x.cx,j=x.cy,b=x.radius,S=x.startAngle,w=x.endAngle;g={cx:y,cy:j,startAngle:S,endAngle:w,innerRadius:b,outerRadius:b},m=VF}else g={points:bZ(h,c,d)},m=cx;var E=y0(y0(y0(y0({stroke:"#ccc",pointerEvents:"none"},d),g),Da(A,!1)),{},{payload:o,payloadIndex:l,className:Cs("recharts-tooltip-cursor",A.className)});return C.isValidElement(A)?C.cloneElement(A,E):C.createElement(m,E)}var EZ=["item"],BZ=["children","className","width","height","style","compact","title","desc"];function Sm(r){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sm(r)}function Vp(){return Vp=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},Vp.apply(this,arguments)}function Q8(r,t){return kZ(r)||TZ(r,t)||zP(r,t)||IZ()}function IZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TZ(r,t){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,s,i,c,o=[],d=!0,l=!1;try{if(i=(n=n.call(r)).next,t!==0)for(;!(d=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);d=!0);}catch(u){l=!0,s=u}finally{try{if(!d&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(l)throw s}}return o}}function kZ(r){if(Array.isArray(r))return r}function W8(r,t){if(r==null)return{};var n=_Z(r,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function _Z(r,t){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(t.indexOf(a)>=0)continue;n[a]=r[a]}return n}function OZ(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function FZ(r,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,KP(a.key),a)}}function PZ(r,t,n){return t&&FZ(r.prototype,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function DZ(r,t,n){return t=Ox(t),MZ(r,VP()?Reflect.construct(t,n||[],Ox(r).constructor):t.apply(r,n))}function MZ(r,t){if(t&&(Sm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RZ(r)}function RZ(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function VP(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VP=function(){return!!r})()}function Ox(r){return Ox=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ox(r)}function LZ(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&XN(r,t)}function XN(r,t){return XN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},XN(r,t)}function Em(r){return QZ(r)||HZ(r)||zP(r)||UZ()}function UZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zP(r,t){if(r){if(typeof r=="string")return YN(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YN(r,t)}}function HZ(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function QZ(r){if(Array.isArray(r))return YN(r)}function YN(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=r[n];return a}function $8(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function Or(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$8(Object(n),!0).forEach(function(a){$a(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):$8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function $a(r,t,n){return t=KP(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function KP(r){var t=WZ(r,"string");return Sm(t)=="symbol"?t:t+""}function WZ(r,t){if(Sm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(Sm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}var $Z={xAxis:["bottom","top"],yAxis:["left","right"]},VZ={width:"100%",height:"100%"},GP={x:0,y:0};function j0(r){return r}var zZ=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},KZ=function(t,n,a,s){var i=n.find(function(u){return u&&u.index===a});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var c=i.coordinate,o=s.radius;return Or(Or(Or({},s),oo(s.cx,s.cy,o,c)),{},{angle:c,radius:o})}var d=i.coordinate,l=s.angle;return Or(Or(Or({},s),oo(s.cx,s.cy,d,l)),{},{angle:l,radius:d})}return GP},C2=function(t,n){var a=n.graphicalItems,s=n.dataStartIndex,i=n.dataEndIndex,c=(a??[]).reduce(function(o,d){var l=d.props.data;return l&&l.length?[].concat(Em(o),Em(l)):o},[]);return c.length>0?c:t&&t.length&&yn(s)&&yn(i)?t.slice(s,i+1):[]};function qP(r){return r==="number"?[0,"auto"]:void 0}var JN=function(t,n,a,s){var i=t.graphicalItems,c=t.tooltipAxis,o=C2(n,t);return a<0||!i||!i.length||a>=o.length?null:i.reduce(function(d,l){var u,h=(u=l.props.data)!==null&&u!==void 0?u:n;h&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=a&&(h=h.slice(t.dataStartIndex,t.dataEndIndex+1));var f;if(c.dataKey&&!c.allowDuplicatedCategory){var A=h===void 0?o:h;f=Fv(A,c.dataKey,s)}else f=h&&h[a]||o[a];return f?[].concat(Em(d),[LF(l,f)]):d},[])},V8=function(t,n,a,s){var i=s||{x:t.chartX,y:t.chartY},c=zZ(i,a),o=t.orderedTooltipTicks,d=t.tooltipAxis,l=t.tooltipTicks,u=pV(c,o,l,d);if(u>=0&&l){var h=l[u]&&l[u].value,f=JN(t,n,u,h),A=KZ(a,o,u,i);return{activeTooltipIndex:u,activeLabel:h,activePayload:f,activeCoordinate:A}}return null},GZ=function(t,n){var a=n.axes,s=n.graphicalItems,i=n.axisType,c=n.axisIdKey,o=n.stackGroups,d=n.dataStartIndex,l=n.dataEndIndex,u=t.layout,h=t.children,f=t.stackOffset,A=OF(u,i);return a.reduce(function(g,m){var x,y=m.type.defaultProps!==void 0?Or(Or({},m.type.defaultProps),m.props):m.props,j=y.type,b=y.dataKey,S=y.allowDataOverflow,w=y.allowDuplicatedCategory,E=y.scale,I=y.ticks,L=y.includeHidden,J=y[c];if(g[J])return g;var ae=C2(t.data,{graphicalItems:s.filter(function(D){var ue,te=c in D.props?D.props[c]:(ue=D.type.defaultProps)===null||ue===void 0?void 0:ue[c];return te===J}),dataStartIndex:d,dataEndIndex:l}),G=ae.length,le,V,me;yZ(y.domain,S,j)&&(le=hN(y.domain,null,S),A&&(j==="number"||E!=="auto")&&(me=Zg(ae,b,"category")));var $=qP(j);if(!le||le.length===0){var ee,we=(ee=y.domain)!==null&&ee!==void 0?ee:$;if(b){if(le=Zg(ae,b,j),j==="category"&&A){var R=lL(le);w&&R?(V=le,le=yx(0,G)):w||(le=KI(we,le,m).reduce(function(D,ue){return D.indexOf(ue)>=0?D:[].concat(Em(D),[ue])},[]))}else if(j==="category")w?le=le.filter(function(D){return D!==""&&!fs(D)}):le=KI(we,le,m).reduce(function(D,ue){return D.indexOf(ue)>=0||ue===""||fs(ue)?D:[].concat(Em(D),[ue])},[]);else if(j==="number"){var q=yV(ae,s.filter(function(D){var ue,te,ye=c in D.props?D.props[c]:(ue=D.type.defaultProps)===null||ue===void 0?void 0:ue[c],pe="hide"in D.props?D.props.hide:(te=D.type.defaultProps)===null||te===void 0?void 0:te.hide;return ye===J&&(L||!pe)}),b,i,u);q&&(le=q)}A&&(j==="number"||E!=="auto")&&(me=Zg(ae,b,"category"))}else A?le=yx(0,G):o&&o[J]&&o[J].hasStack&&j==="number"?le=f==="expand"?[0,1]:RF(o[J].stackGroups,d,l):le=_F(ae,s.filter(function(D){var ue=c in D.props?D.props[c]:D.type.defaultProps[c],te="hide"in D.props?D.props.hide:D.type.defaultProps.hide;return ue===J&&(L||!te)}),j,u,!0);if(j==="number")le=qN(h,le,J,i,I),we&&(le=hN(we,le,S));else if(j==="category"&&we){var ie=we,Z=le.every(function(D){return ie.indexOf(D)>=0});Z&&(le=ie)}}return Or(Or({},g),{},$a({},J,Or(Or({},y),{},{axisType:i,domain:le,categoricalDomain:me,duplicateDomain:V,originalDomain:(x=y.domain)!==null&&x!==void 0?x:$,isCategorical:A,layout:u})))},{})},qZ=function(t,n){var a=n.graphicalItems,s=n.Axis,i=n.axisType,c=n.axisIdKey,o=n.stackGroups,d=n.dataStartIndex,l=n.dataEndIndex,u=t.layout,h=t.children,f=C2(t.data,{graphicalItems:a,dataStartIndex:d,dataEndIndex:l}),A=f.length,g=OF(u,i),m=-1;return a.reduce(function(x,y){var j=y.type.defaultProps!==void 0?Or(Or({},y.type.defaultProps),y.props):y.props,b=j[c],S=qP("number");if(!x[b]){m++;var w;return g?w=yx(0,A):o&&o[b]&&o[b].hasStack?(w=RF(o[b].stackGroups,d,l),w=qN(h,w,b,i)):(w=hN(S,_F(f,a.filter(function(E){var I,L,J=c in E.props?E.props[c]:(I=E.type.defaultProps)===null||I===void 0?void 0:I[c],ae="hide"in E.props?E.props.hide:(L=E.type.defaultProps)===null||L===void 0?void 0:L.hide;return J===b&&!ae}),"number",u),s.defaultProps.allowDataOverflow),w=qN(h,w,b,i)),Or(Or({},x),{},$a({},b,Or(Or({axisType:i},s.defaultProps),{},{hide:!0,orientation:hu($Z,"".concat(i,".").concat(m%2),null),domain:w,originalDomain:S,isCategorical:g,layout:u})))}return x},{})},XZ=function(t,n){var a=n.axisType,s=a===void 0?"xAxis":a,i=n.AxisComp,c=n.graphicalItems,o=n.stackGroups,d=n.dataStartIndex,l=n.dataEndIndex,u=t.children,h="".concat(s,"Id"),f=fu(u,i),A={};return f&&f.length?A=GZ(t,{axes:f,graphicalItems:c,axisType:s,axisIdKey:h,stackGroups:o,dataStartIndex:d,dataEndIndex:l}):c&&c.length&&(A=qZ(t,{Axis:i,graphicalItems:c,axisType:s,axisIdKey:h,stackGroups:o,dataStartIndex:d,dataEndIndex:l})),A},YZ=function(t){var n=aA(t),a=mf(n,!1,!0);return{tooltipTicks:a,orderedTooltipTicks:L4(a,function(s){return s.coordinate}),tooltipAxis:n,tooltipAxisBandSize:ix(n,a)}},z8=function(t){var n=t.children,a=t.defaultShowTooltip,s=lu(n,mm),i=0,c=0;return t.data&&t.data.length!==0&&(c=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(c=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:c,activeTooltipIndex:-1,isTooltipActive:!!a}},JZ=function(t){return!t||!t.length?!1:t.some(function(n){var a=gf(n&&n.type);return a&&a.indexOf("Bar")>=0})},K8=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},ZZ=function(t,n){var a=t.props,s=t.graphicalItems,i=t.xAxisMap,c=i===void 0?{}:i,o=t.yAxisMap,d=o===void 0?{}:o,l=a.width,u=a.height,h=a.children,f=a.margin||{},A=lu(h,mm),g=lu(h,kh),m=Object.keys(d).reduce(function(w,E){var I=d[E],L=I.orientation;return!I.mirror&&!I.hide?Or(Or({},w),{},$a({},L,w[L]+I.width)):w},{left:f.left||0,right:f.right||0}),x=Object.keys(c).reduce(function(w,E){var I=c[E],L=I.orientation;return!I.mirror&&!I.hide?Or(Or({},w),{},$a({},L,hu(w,"".concat(L))+I.height)):w},{top:f.top||0,bottom:f.bottom||0}),y=Or(Or({},x),m),j=y.bottom;A&&(y.bottom+=A.props.height||mm.defaultProps.height),g&&n&&(y=vV(y,s,a,n));var b=l-y.left-y.right,S=u-y.top-y.bottom;return Or(Or({brushBottom:j},y),{},{width:Math.max(b,0),height:Math.max(S,0)})},eee=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},bS=function(t){var n=t.chartName,a=t.GraphicalChild,s=t.defaultTooltipEventType,i=s===void 0?"axis":s,c=t.validateTooltipEventTypes,o=c===void 0?["axis"]:c,d=t.axisComponents,l=t.legendContent,u=t.formatAxisMap,h=t.defaultProps,f=function(y,j){var b=j.graphicalItems,S=j.stackGroups,w=j.offset,E=j.updateId,I=j.dataStartIndex,L=j.dataEndIndex,J=y.barSize,ae=y.layout,G=y.barGap,le=y.barCategoryGap,V=y.maxBarSize,me=K8(ae),$=me.numericAxisName,ee=me.cateAxisName,we=JZ(b),R=[];return b.forEach(function(q,ie){var Z=C2(y.data,{graphicalItems:[q],dataStartIndex:I,dataEndIndex:L}),D=q.type.defaultProps!==void 0?Or(Or({},q.type.defaultProps),q.props):q.props,ue=D.dataKey,te=D.maxBarSize,ye=D["".concat($,"Id")],pe=D["".concat(ee,"Id")],je={},re=d.reduce(function(it,Wt){var qe=j["".concat(Wt.axisType,"Map")],St=D["".concat(Wt.axisType,"Id")];qe&&qe[St]||Wt.axisType==="zAxis"||hp();var _t=qe[St];return Or(Or({},it),{},$a($a({},Wt.axisType,_t),"".concat(Wt.axisType,"Ticks"),mf(_t)))},je),he=re[ee],X=re["".concat(ee,"Ticks")],Ae=S&&S[ye]&&S[ye].hasStack&&IV(q,S[ye].stackGroups),Be=gf(q.type).indexOf("Bar")>=0,Me=ix(he,X),$e=[],ne=we&&mV({barSize:J,stackGroups:S,totalSize:eee(re,ee)});if(Be){var Pe,_e,rt=fs(te)?V:te,et=(Pe=(_e=ix(he,X,!0))!==null&&_e!==void 0?_e:rt)!==null&&Pe!==void 0?Pe:0;$e=gV({barGap:G,barCategoryGap:le,bandSize:et!==Me?et:Me,sizeList:ne[pe],maxBarSize:rt}),et!==Me&&($e=$e.map(function(it){return Or(Or({},it),{},{position:Or(Or({},it.position),{},{offset:it.position.offset-et/2})})}))}var Le=q&&q.type&&q.type.getComposedData;Le&&R.push({props:Or(Or({},Le(Or(Or({},re),{},{displayedData:Z,props:y,dataKey:ue,item:q,bandSize:Me,barPosition:$e,offset:w,stackedData:Ae,layout:ae,dataStartIndex:I,dataEndIndex:L}))),{},$a($a($a({key:q.key||"item-".concat(ie)},$,re[$]),ee,re[ee]),"animationId",E)),childIndex:yL(q,y.children),item:q})}),R},A=function(y,j){var b=y.props,S=y.dataStartIndex,w=y.dataEndIndex,E=y.updateId;if(!oB({props:b}))return null;var I=b.children,L=b.layout,J=b.stackOffset,ae=b.data,G=b.reverseStackOrder,le=K8(L),V=le.numericAxisName,me=le.cateAxisName,$=fu(I,a),ee=EV(ae,$,"".concat(V,"Id"),"".concat(me,"Id"),J,G),we=d.reduce(function(D,ue){var te="".concat(ue.axisType,"Map");return Or(Or({},D),{},$a({},te,XZ(b,Or(Or({},ue),{},{graphicalItems:$,stackGroups:ue.axisType===V&&ee,dataStartIndex:S,dataEndIndex:w}))))},{}),R=ZZ(Or(Or({},we),{},{props:b,graphicalItems:$}),j==null?void 0:j.legendBBox);Object.keys(we).forEach(function(D){we[D]=u(b,we[D],R,D.replace("Map",""),n)});var q=we["".concat(me,"Map")],ie=YZ(q),Z=f(b,Or(Or({},we),{},{dataStartIndex:S,dataEndIndex:w,updateId:E,graphicalItems:$,stackGroups:ee,offset:R}));return Or(Or({formattedGraphicalItems:Z,graphicalItems:$,offset:R,stackGroups:ee},ie),we)},g=(function(x){function y(j){var b,S,w;return OZ(this,y),w=DZ(this,y,[j]),$a(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),$a(w,"accessibilityManager",new xZ),$a(w,"handleLegendBBoxUpdate",function(E){if(E){var I=w.state,L=I.dataStartIndex,J=I.dataEndIndex,ae=I.updateId;w.setState(Or({legendBBox:E},A({props:w.props,dataStartIndex:L,dataEndIndex:J,updateId:ae},Or(Or({},w.state),{},{legendBBox:E}))))}}),$a(w,"handleReceiveSyncEvent",function(E,I,L){if(w.props.syncId===E){if(L===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(I)}}),$a(w,"handleBrushChange",function(E){var I=E.startIndex,L=E.endIndex;if(I!==w.state.dataStartIndex||L!==w.state.dataEndIndex){var J=w.state.updateId;w.setState(function(){return Or({dataStartIndex:I,dataEndIndex:L},A({props:w.props,dataStartIndex:I,dataEndIndex:L,updateId:J},w.state))}),w.triggerSyncEvent({dataStartIndex:I,dataEndIndex:L})}}),$a(w,"handleMouseEnter",function(E){var I=w.getMouseInfo(E);if(I){var L=Or(Or({},I),{},{isTooltipActive:!0});w.setState(L),w.triggerSyncEvent(L);var J=w.props.onMouseEnter;ts(J)&&J(L,E)}}),$a(w,"triggeredAfterMouseMove",function(E){var I=w.getMouseInfo(E),L=I?Or(Or({},I),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(L),w.triggerSyncEvent(L);var J=w.props.onMouseMove;ts(J)&&J(L,E)}),$a(w,"handleItemMouseEnter",function(E){w.setState(function(){return{isTooltipActive:!0,activeItem:E,activePayload:E.tooltipPayload,activeCoordinate:E.tooltipPosition||{x:E.cx,y:E.cy}}})}),$a(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),$a(w,"handleMouseMove",function(E){E.persist(),w.throttleTriggeredAfterMouseMove(E)}),$a(w,"handleMouseLeave",function(E){w.throttleTriggeredAfterMouseMove.cancel();var I={isTooltipActive:!1};w.setState(I),w.triggerSyncEvent(I);var L=w.props.onMouseLeave;ts(L)&&L(I,E)}),$a(w,"handleOuterEvent",function(E){var I=xL(E),L=hu(w.props,"".concat(I));if(I&&ts(L)){var J,ae;/.*touch.*/i.test(I)?ae=w.getMouseInfo(E.changedTouches[0]):ae=w.getMouseInfo(E),L((J=ae)!==null&&J!==void 0?J:{},E)}}),$a(w,"handleClick",function(E){var I=w.getMouseInfo(E);if(I){var L=Or(Or({},I),{},{isTooltipActive:!0});w.setState(L),w.triggerSyncEvent(L);var J=w.props.onClick;ts(J)&&J(L,E)}}),$a(w,"handleMouseDown",function(E){var I=w.props.onMouseDown;if(ts(I)){var L=w.getMouseInfo(E);I(L,E)}}),$a(w,"handleMouseUp",function(E){var I=w.props.onMouseUp;if(ts(I)){var L=w.getMouseInfo(E);I(L,E)}}),$a(w,"handleTouchMove",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(E.changedTouches[0])}),$a(w,"handleTouchStart",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&w.handleMouseDown(E.changedTouches[0])}),$a(w,"handleTouchEnd",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&w.handleMouseUp(E.changedTouches[0])}),$a(w,"handleDoubleClick",function(E){var I=w.props.onDoubleClick;if(ts(I)){var L=w.getMouseInfo(E);I(L,E)}}),$a(w,"handleContextMenu",function(E){var I=w.props.onContextMenu;if(ts(I)){var L=w.getMouseInfo(E);I(L,E)}}),$a(w,"triggerSyncEvent",function(E){w.props.syncId!==void 0&&Dw.emit(Mw,w.props.syncId,E,w.eventEmitterSymbol)}),$a(w,"applySyncEvent",function(E){var I=w.props,L=I.layout,J=I.syncMethod,ae=w.state.updateId,G=E.dataStartIndex,le=E.dataEndIndex;if(E.dataStartIndex!==void 0||E.dataEndIndex!==void 0)w.setState(Or({dataStartIndex:G,dataEndIndex:le},A({props:w.props,dataStartIndex:G,dataEndIndex:le,updateId:ae},w.state)));else if(E.activeTooltipIndex!==void 0){var V=E.chartX,me=E.chartY,$=E.activeTooltipIndex,ee=w.state,we=ee.offset,R=ee.tooltipTicks;if(!we)return;if(typeof J=="function")$=J(R,E);else if(J==="value"){$=-1;for(var q=0;q<R.length;q++)if(R[q].value===E.activeLabel){$=q;break}}var ie=Or(Or({},we),{},{x:we.left,y:we.top}),Z=Math.min(V,ie.x+ie.width),D=Math.min(me,ie.y+ie.height),ue=R[$]&&R[$].value,te=JN(w.state,w.props.data,$),ye=R[$]?{x:L==="horizontal"?R[$].coordinate:Z,y:L==="horizontal"?D:R[$].coordinate}:GP;w.setState(Or(Or({},E),{},{activeLabel:ue,activeCoordinate:ye,activePayload:te,activeTooltipIndex:$}))}else w.setState(E)}),$a(w,"renderCursor",function(E){var I,L=w.state,J=L.isTooltipActive,ae=L.activeCoordinate,G=L.activePayload,le=L.offset,V=L.activeTooltipIndex,me=L.tooltipAxisBandSize,$=w.getTooltipEventType(),ee=(I=E.props.active)!==null&&I!==void 0?I:J,we=w.props.layout,R=E.key||"_recharts-cursor";return Ct.createElement(SZ,{key:R,activeCoordinate:ae,activePayload:G,activeTooltipIndex:V,chartName:n,element:E,isActive:ee,layout:we,offset:le,tooltipAxisBandSize:me,tooltipEventType:$})}),$a(w,"renderPolarAxis",function(E,I,L){var J=hu(E,"type.axisType"),ae=hu(w.state,"".concat(J,"Map")),G=E.type.defaultProps,le=G!==void 0?Or(Or({},G),E.props):E.props,V=ae&&ae[le["".concat(J,"Id")]];return C.cloneElement(E,Or(Or({},V),{},{className:Cs(J,V.className),key:E.key||"".concat(I,"-").concat(L),ticks:mf(V,!0)}))}),$a(w,"renderPolarGrid",function(E){var I=E.props,L=I.radialLines,J=I.polarAngles,ae=I.polarRadius,G=w.state,le=G.radiusAxisMap,V=G.angleAxisMap,me=aA(le),$=aA(V),ee=$.cx,we=$.cy,R=$.innerRadius,q=$.outerRadius;return C.cloneElement(E,{polarAngles:Array.isArray(J)?J:mf($,!0).map(function(ie){return ie.coordinate}),polarRadius:Array.isArray(ae)?ae:mf(me,!0).map(function(ie){return ie.coordinate}),cx:ee,cy:we,innerRadius:R,outerRadius:q,key:E.key||"polar-grid",radialLines:L})}),$a(w,"renderLegend",function(){var E=w.state.formattedGraphicalItems,I=w.props,L=I.children,J=I.width,ae=I.height,G=w.props.margin||{},le=J-(G.left||0)-(G.right||0),V=TF({children:L,formattedGraphicalItems:E,legendWidth:le,legendContent:l});if(!V)return null;var me=V.item,$=W8(V,EZ);return C.cloneElement(me,Or(Or({},$),{},{chartWidth:J,chartHeight:ae,margin:G,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),$a(w,"renderTooltip",function(){var E,I=w.props,L=I.children,J=I.accessibilityLayer,ae=lu(L,cu);if(!ae)return null;var G=w.state,le=G.isTooltipActive,V=G.activeCoordinate,me=G.activePayload,$=G.activeLabel,ee=G.offset,we=(E=ae.props.active)!==null&&E!==void 0?E:le;return C.cloneElement(ae,{viewBox:Or(Or({},ee),{},{x:ee.left,y:ee.top}),active:we,label:$,payload:we?me:[],coordinate:V,accessibilityLayer:J})}),$a(w,"renderBrush",function(E){var I=w.props,L=I.margin,J=I.data,ae=w.state,G=ae.offset,le=ae.dataStartIndex,V=ae.dataEndIndex,me=ae.updateId;return C.cloneElement(E,{key:E.key||"_recharts-brush",onChange:m0(w.handleBrushChange,E.props.onChange),data:J,x:yn(E.props.x)?E.props.x:G.left,y:yn(E.props.y)?E.props.y:G.top+G.height+G.brushBottom-(L.bottom||0),width:yn(E.props.width)?E.props.width:G.width,startIndex:le,endIndex:V,updateId:"brush-".concat(me)})}),$a(w,"renderReferenceElement",function(E,I,L){if(!E)return null;var J=w,ae=J.clipPathId,G=w.state,le=G.xAxisMap,V=G.yAxisMap,me=G.offset,$=E.type.defaultProps||{},ee=E.props,we=ee.xAxisId,R=we===void 0?$.xAxisId:we,q=ee.yAxisId,ie=q===void 0?$.yAxisId:q;return C.cloneElement(E,{key:E.key||"".concat(I,"-").concat(L),xAxis:le[R],yAxis:V[ie],viewBox:{x:me.left,y:me.top,width:me.width,height:me.height},clipPathId:ae})}),$a(w,"renderActivePoints",function(E){var I=E.item,L=E.activePoint,J=E.basePoint,ae=E.childIndex,G=E.isRange,le=[],V=I.props.key,me=I.item.type.defaultProps!==void 0?Or(Or({},I.item.type.defaultProps),I.item.props):I.item.props,$=me.activeDot,ee=me.dataKey,we=Or(Or({index:ae,dataKey:ee,cx:L.x,cy:L.y,r:4,fill:uS(I.item),strokeWidth:2,stroke:"#fff",payload:L.payload,value:L.value},Da($,!1)),Pv($));return le.push(y.renderActiveDot($,we,"".concat(V,"-activePoint-").concat(ae))),J?le.push(y.renderActiveDot($,Or(Or({},we),{},{cx:J.x,cy:J.y}),"".concat(V,"-basePoint-").concat(ae))):G&&le.push(null),le}),$a(w,"renderGraphicChild",function(E,I,L){var J=w.filterFormatItem(E,I,L);if(!J)return null;var ae=w.getTooltipEventType(),G=w.state,le=G.isTooltipActive,V=G.tooltipAxis,me=G.activeTooltipIndex,$=G.activeLabel,ee=w.props.children,we=lu(ee,cu),R=J.props,q=R.points,ie=R.isRange,Z=R.baseLine,D=J.item.type.defaultProps!==void 0?Or(Or({},J.item.type.defaultProps),J.item.props):J.item.props,ue=D.activeDot,te=D.hide,ye=D.activeBar,pe=D.activeShape,je=!!(!te&&le&&we&&(ue||ye||pe)),re={};ae!=="axis"&&we&&we.props.trigger==="click"?re={onClick:m0(w.handleItemMouseEnter,E.props.onClick)}:ae!=="axis"&&(re={onMouseLeave:m0(w.handleItemMouseLeave,E.props.onMouseLeave),onMouseEnter:m0(w.handleItemMouseEnter,E.props.onMouseEnter)});var he=C.cloneElement(E,Or(Or({},J.props),re));function X(Wt){return typeof V.dataKey=="function"?V.dataKey(Wt.payload):null}if(je)if(me>=0){var Ae,Be;if(V.dataKey&&!V.allowDuplicatedCategory){var Me=typeof V.dataKey=="function"?X:"payload.".concat(V.dataKey.toString());Ae=Fv(q,Me,$),Be=ie&&Z&&Fv(Z,Me,$)}else Ae=q==null?void 0:q[me],Be=ie&&Z&&Z[me];if(pe||ye){var $e=E.props.activeIndex!==void 0?E.props.activeIndex:me;return[C.cloneElement(E,Or(Or(Or({},J.props),re),{},{activeIndex:$e})),null,null]}if(!fs(Ae))return[he].concat(Em(w.renderActivePoints({item:J,activePoint:Ae,basePoint:Be,childIndex:me,isRange:ie})))}else{var ne,Pe=(ne=w.getItemByXY(w.state.activeCoordinate))!==null&&ne!==void 0?ne:{graphicalItem:he},_e=Pe.graphicalItem,rt=_e.item,et=rt===void 0?E:rt,Le=_e.childIndex,it=Or(Or(Or({},J.props),re),{},{activeIndex:Le});return[C.cloneElement(et,it),null,null]}return ie?[he,null,null]:[he,null]}),$a(w,"renderCustomized",function(E,I,L){return C.cloneElement(E,Or(Or({key:"recharts-customized-".concat(L)},w.props),w.state))}),$a(w,"renderMap",{CartesianGrid:{handler:j0,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:j0},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:j0},YAxis:{handler:j0},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((b=j.id)!==null&&b!==void 0?b:Om("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=TO(w.triggeredAfterMouseMove,(S=j.throttleDelay)!==null&&S!==void 0?S:1e3/60),w.state={},w}return LZ(y,x),PZ(y,[{key:"componentDidMount",value:function(){var b,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,S=b.children,w=b.data,E=b.height,I=b.layout,L=lu(S,cu);if(L){var J=L.props.defaultIndex;if(!(typeof J!="number"||J<0||J>this.state.tooltipTicks.length-1)){var ae=this.state.tooltipTicks[J]&&this.state.tooltipTicks[J].value,G=JN(this.state,w,J,ae),le=this.state.tooltipTicks[J].coordinate,V=(this.state.offset.top+E)/2,me=I==="horizontal",$=me?{x:le,y:V}:{y:le,x:V},ee=this.state.formattedGraphicalItems.find(function(R){var q=R.item;return q.type.name==="Scatter"});ee&&($=Or(Or({},$),ee.props.points[J].tooltipPosition),G=ee.props.points[J].tooltipPayload);var we={activeTooltipIndex:J,isTooltipActive:!0,activeLabel:ae,activePayload:G,activeCoordinate:$};this.setState(we),this.renderCursor(L),this.accessibilityManager.setIndex(J)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var w,E;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0}})}return null}},{key:"componentDidUpdate",value:function(b){FC([lu(b.children,cu)],[lu(this.props.children,cu)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=lu(this.props.children,cu);if(b&&typeof b.props.shared=="boolean"){var S=b.props.shared?"axis":"item";return o.indexOf(S)>=0?S:i}return i}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var S=this.container,w=S.getBoundingClientRect(),E=oH(w),I={chartX:Math.round(b.pageX-E.left),chartY:Math.round(b.pageY-E.top)},L=w.width/S.offsetWidth||1,J=this.inRange(I.chartX,I.chartY,L);if(!J)return null;var ae=this.state,G=ae.xAxisMap,le=ae.yAxisMap,V=this.getTooltipEventType();if(V!=="axis"&&G&&le){var me=aA(G).scale,$=aA(le).scale,ee=me&&me.invert?me.invert(I.chartX):null,we=$&&$.invert?$.invert(I.chartY):null;return Or(Or({},I),{},{xValue:ee,yValue:we})}var R=V8(this.state,this.props.data,this.props.layout,J);return R?Or(Or({},I),R):null}},{key:"inRange",value:function(b,S){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=this.props.layout,I=b/w,L=S/w;if(E==="horizontal"||E==="vertical"){var J=this.state.offset,ae=I>=J.left&&I<=J.left+J.width&&L>=J.top&&L<=J.top+J.height;return ae?{x:I,y:L}:null}var G=this.state,le=G.angleAxisMap,V=G.radiusAxisMap;if(le&&V){var me=aA(le);return XI({x:I,y:L},me)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,S=this.getTooltipEventType(),w=lu(b,cu),E={};w&&S==="axis"&&(w.props.trigger==="click"?E={onClick:this.handleClick}:E={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var I=Pv(this.props,this.handleOuterEvent);return Or(Or({},I),E)}},{key:"addListener",value:function(){Dw.on(Mw,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Dw.removeListener(Mw,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,S,w){for(var E=this.state.formattedGraphicalItems,I=0,L=E.length;I<L;I++){var J=E[I];if(J.item===b||J.props.key===b.key||S===gf(J.item.type)&&w===J.childIndex)return J}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,S=this.state.offset,w=S.left,E=S.top,I=S.height,L=S.width;return Ct.createElement("defs",null,Ct.createElement("clipPath",{id:b},Ct.createElement("rect",{x:w,y:E,height:I,width:L})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(S,w){var E=Q8(w,2),I=E[0],L=E[1];return Or(Or({},S),{},$a({},I,L.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(S,w){var E=Q8(w,2),I=E[0],L=E[1];return Or(Or({},S),{},$a({},I,L.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[b])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(b){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[b])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(b){var S=this.state,w=S.formattedGraphicalItems,E=S.activeItem;if(w&&w.length)for(var I=0,L=w.length;I<L;I++){var J=w[I],ae=J.props,G=J.item,le=G.type.defaultProps!==void 0?Or(Or({},G.type.defaultProps),G.props):G.props,V=gf(G.type);if(V==="Bar"){var me=(ae.data||[]).find(function(R){return BG(b,R)});if(me)return{graphicalItem:J,payload:me}}else if(V==="RadialBar"){var $=(ae.data||[]).find(function(R){return XI(b,R)});if($)return{graphicalItem:J,payload:$}}else if(g2(J,E)||v2(J,E)||D1(J,E)){var ee=Yq({graphicalItem:J,activeTooltipItem:E,itemData:le.data}),we=le.activeIndex===void 0?ee:le.activeIndex;return{graphicalItem:Or(Or({},J),{},{childIndex:we}),payload:D1(J,E)?le.data[ee]:J.props.data[ee]}}}return null}},{key:"render",value:function(){var b=this;if(!oB(this))return null;var S=this.props,w=S.children,E=S.className,I=S.width,L=S.height,J=S.style,ae=S.compact,G=S.title,le=S.desc,V=W8(S,BZ),me=Da(V,!1);if(ae)return Ct.createElement(w8,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ct.createElement(DC,Vp({},me,{width:I,height:L,title:G,desc:le}),this.renderClipPath(),cB(w,this.renderMap)));if(this.props.accessibilityLayer){var $,ee;me.tabIndex=($=this.props.tabIndex)!==null&&$!==void 0?$:0,me.role=(ee=this.props.role)!==null&&ee!==void 0?ee:"application",me.onKeyDown=function(R){b.accessibilityManager.keyboardEvent(R)},me.onFocus=function(){b.accessibilityManager.focus()}}var we=this.parseEventsOfWrapper();return Ct.createElement(w8,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ct.createElement("div",Vp({className:Cs("recharts-wrapper",E),style:Or({position:"relative",cursor:"default",width:I,height:L},J)},we,{ref:function(q){b.container=q}}),Ct.createElement(DC,Vp({},me,{width:I,height:L,title:G,desc:le,style:VZ}),this.renderClipPath(),cB(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(C.Component);$a(g,"displayName",n),$a(g,"defaultProps",Or({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),$a(g,"getDerivedStateFromProps",function(x,y){var j=x.dataKey,b=x.data,S=x.children,w=x.width,E=x.height,I=x.layout,L=x.stackOffset,J=x.margin,ae=y.dataStartIndex,G=y.dataEndIndex;if(y.updateId===void 0){var le=z8(x);return Or(Or(Or({},le),{},{updateId:0},A(Or(Or({props:x},le),{},{updateId:0}),y)),{},{prevDataKey:j,prevData:b,prevWidth:w,prevHeight:E,prevLayout:I,prevStackOffset:L,prevMargin:J,prevChildren:S})}if(j!==y.prevDataKey||b!==y.prevData||w!==y.prevWidth||E!==y.prevHeight||I!==y.prevLayout||L!==y.prevStackOffset||!Zp(J,y.prevMargin)){var V=z8(x),me={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},$=Or(Or({},V8(y,b,I)),{},{updateId:y.updateId+1}),ee=Or(Or(Or({},V),me),$);return Or(Or(Or({},ee),A(Or({props:x},ee),y)),{},{prevDataKey:j,prevData:b,prevWidth:w,prevHeight:E,prevLayout:I,prevStackOffset:L,prevMargin:J,prevChildren:S})}if(!FC(S,y.prevChildren)){var we,R,q,ie,Z=lu(S,mm),D=Z&&(we=(R=Z.props)===null||R===void 0?void 0:R.startIndex)!==null&&we!==void 0?we:ae,ue=Z&&(q=(ie=Z.props)===null||ie===void 0?void 0:ie.endIndex)!==null&&q!==void 0?q:G,te=D!==ae||ue!==G,ye=!fs(b),pe=ye&&!te?y.updateId:y.updateId+1;return Or(Or({updateId:pe},A(Or(Or({props:x},y),{},{updateId:pe,dataStartIndex:D,dataEndIndex:ue}),y)),{},{prevChildren:S,dataStartIndex:D,dataEndIndex:ue})}return null}),$a(g,"renderActiveDot",function(x,y,j){var b;return C.isValidElement(x)?b=C.cloneElement(x,y):ts(x)?b=x(y):b=Ct.createElement(h2,y),Ct.createElement(hi,{className:"recharts-active-dot",key:j},b)});var m=C.forwardRef(function(y,j){return Ct.createElement(g,Vp({},y,{ref:j}))});return m.displayName=g.displayName,m},G8=bS({chartName:"LineChart",GraphicalChild:wm,axisComponents:[{axisType:"xAxis",AxisComp:ip},{axisType:"yAxis",AxisComp:op}],formatAxisMap:pP}),tee=bS({chartName:"BarChart",GraphicalChild:xp,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ip},{axisType:"yAxis",AxisComp:op}],formatAxisMap:pP}),ree=bS({chartName:"PieChart",GraphicalChild:Ef,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:m2},{axisType:"radiusAxis",AxisComp:A2}],formatAxisMap:LV,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const nee=({title:r,type:t,data:n=[],loading:a=!1,xAxis:s,yAxis:i,series:c})=>{const[o,d]=C.useState([]),[l,u]=C.useState([]),h=s||"label",f=i||"value";C.useEffect(()=>{Array.isArray(n)?(d(n),u(n.map((m,x)=>m.label||m[h]||`Item ${x+1}`))):n&&typeof n=="object"&&"labels"in n&&"data"in n?(u(n.labels||[]),d((n.data||[]).map((m,x)=>{var y;return{label:((y=n.labels)==null?void 0:y[x])||`Item ${x+1}`,value:m}}))):(d([]),u([]))},[n,h]);const A=C.useMemo(()=>Array.isArray(c)&&c.length>0?c:[f],[f,c]),g=C.useMemo(()=>["#2563eb","#16a34a","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#64748b"],[]);return a?e.jsxs("div",{className:"widget-panel widget-panel--chart",children:[e.jsx("div",{className:"widget-panel__header",children:e.jsx("h3",{className:"widget-panel__title",children:r})}),e.jsx("div",{className:"widget-panel__body",children:e.jsx("div",{className:"widget-panel__skeleton",children:e.jsx("div",{className:"skeleton-chart"})})})]}):e.jsxs("div",{className:"widget-panel widget-panel--chart",children:[e.jsx("div",{className:"widget-panel__header",children:e.jsx("h3",{className:"widget-panel__title",children:r})}),e.jsx("div",{className:"widget-panel__body",children:o.length===0?e.jsxs("div",{className:"widget-empty-state",children:[e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"3",y1:"21",x2:"21",y2:"21"}),e.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"}),e.jsx("polyline",{points:"5 21 5 10 9 10 9 21"}),e.jsx("polyline",{points:"13 21 13 10 17 10 17 21"})]}),e.jsx("p",{children:"No data available"})]}):e.jsx("div",{className:"chart-container",children:e.jsx(eH,{width:"100%",height:"100%",children:t==="line"?e.jsxs(G8,{data:o,children:[e.jsx(Sv,{strokeDasharray:"3 3"}),e.jsx(ip,{dataKey:h}),e.jsx(op,{}),e.jsx(cu,{}),e.jsx(kh,{}),A.map(m=>e.jsx(wm,{type:"monotone",dataKey:m,stroke:"#2563eb",strokeWidth:2,dot:!1},m))]}):t==="bar"?e.jsxs(tee,{data:o,children:[e.jsx(Sv,{strokeDasharray:"3 3"}),e.jsx(ip,{dataKey:h}),e.jsx(op,{}),e.jsx(cu,{}),e.jsx(kh,{}),A.map(m=>e.jsx(xp,{dataKey:m,fill:"#2563eb",radius:[6,6,0,0]},m))]}):t==="pie"||t==="doughnut"?e.jsxs(ree,{children:[e.jsx(cu,{}),e.jsx(kh,{}),e.jsx(Ef,{data:o,dataKey:f,nameKey:h,cx:"50%",cy:"50%",outerRadius:90,innerRadius:t==="doughnut"?55:0,paddingAngle:2,children:o.map((m,x)=>e.jsx(e2,{fill:g[x%g.length]},`cell-${x}`))})]}):e.jsxs(G8,{data:o,children:[e.jsx(Sv,{strokeDasharray:"3 3"}),e.jsx(ip,{dataKey:h}),e.jsx(op,{}),e.jsx(cu,{}),e.jsx(kh,{}),A.map(m=>e.jsx(wm,{type:"monotone",dataKey:m,stroke:"#2563eb",strokeWidth:2,dot:!1},m))]})})})})]})},aee=({title:r,columns:t,data:n,loading:a=!1,maxRows:s=5,onRowClick:i})=>{const c=n.slice(0,s);return a?e.jsxs("div",{className:"widget-panel widget-panel--table",children:[e.jsx("div",{className:"widget-panel__header",children:e.jsx("h3",{className:"widget-panel__title",children:r})}),e.jsx("div",{className:"widget-panel__body",children:e.jsx("div",{className:"widget-panel__skeleton",children:e.jsx("div",{className:"skeleton-table",children:[...Array(3)].map((o,d)=>e.jsx("div",{className:"skeleton-row",children:t.map((l,u)=>e.jsx("div",{className:"skeleton-cell"},u))},d))})})})]}):e.jsxs("div",{className:"widget-panel widget-panel--table",children:[e.jsxs("div",{className:"widget-panel__header",children:[e.jsx("h3",{className:"widget-panel__title",children:r}),n.length>s&&e.jsxs("span",{className:"widget-panel__badge",children:[n.length," total"]})]}),e.jsx("div",{className:"widget-panel__body",children:c.length===0?e.jsxs("div",{className:"widget-empty-state",children:[e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),e.jsx("p",{children:"No data available"})]}):e.jsx("div",{className:"table-widget",children:e.jsxs("table",{className:"table-widget__table",children:[e.jsx("thead",{children:e.jsx("tr",{children:t.map(o=>e.jsx("th",{children:o.label},o.key))})}),e.jsx("tbody",{children:c.map((o,d)=>e.jsx("tr",{onClick:()=>i==null?void 0:i(o),className:i?"table-widget__row--clickable":"",children:t.map(l=>e.jsx("td",{children:l.render?l.render(o[l.key],o):o[l.key]||"-"},l.key))},d))})]})})})]})},see=({title:r,tasks:t,loading:n=!1,maxItems:a=5,onTaskClick:s})=>{const i=t.slice(0,a);if(n)return e.jsxs("div",{className:"widget-panel widget-panel--task-list",children:[e.jsx("div",{className:"widget-panel__header",children:e.jsx("h3",{className:"widget-panel__title",children:r})}),e.jsx("div",{className:"widget-panel__body",children:e.jsx("div",{className:"widget-panel__skeleton",children:[...Array(3)].map((o,d)=>e.jsx("div",{className:"skeleton-task-item"},d))})})]});const c=o=>{switch(o){case"completed":return"#10b981";case"in-progress":return"#3b82f6";case"overdue":return"#ef4444";default:return"#f59e0b"}};return e.jsxs("div",{className:"widget-panel widget-panel--task-list",children:[e.jsxs("div",{className:"widget-panel__header",children:[e.jsx("h3",{className:"widget-panel__title",children:r}),t.length>a&&e.jsxs("span",{className:"widget-panel__badge",children:[t.length," total"]})]}),e.jsx("div",{className:"widget-panel__body",children:i.length===0?e.jsxs("div",{className:"widget-empty-state",children:[e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 11l3 3L22 4"}),e.jsx("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7"})]}),e.jsx("p",{children:"No tasks available"})]}):e.jsx("ul",{className:"task-list",children:i.map(o=>e.jsxs("li",{className:`task-item ${s?"task-item--clickable":""}`,onClick:()=>s==null?void 0:s(o),children:[e.jsxs("div",{className:"task-item__header",children:[e.jsx("h4",{className:"task-item__title",children:o.title}),e.jsx("span",{className:"task-item__status",style:{backgroundColor:c(o.status)},children:o.status})]}),o.description&&e.jsx("p",{className:"task-item__description",children:o.description}),o.dueDate&&e.jsx("div",{className:"task-item__meta",children:e.jsxs("span",{className:"task-item__due-date",children:["Due: ",o.dueDate]})})]},o.id))})})]})},iee=({title:r,items:t,loading:n=!1,maxItems:a=5,onApprove:s,onReject:i,onView:c,canApprove:o=!1,canReject:d=!1})=>{const l=t.slice(0,a);return n?e.jsxs("div",{className:"widget-panel widget-panel--approval-queue",children:[e.jsx("div",{className:"widget-panel__header",children:e.jsx("h3",{className:"widget-panel__title",children:r})}),e.jsx("div",{className:"widget-panel__body",children:e.jsx("div",{className:"widget-panel__skeleton",children:[...Array(3)].map((u,h)=>e.jsx("div",{className:"skeleton-approval-item"},h))})})]}):e.jsxs("div",{className:"widget-panel widget-panel--approval-queue",children:[e.jsxs("div",{className:"widget-panel__header",children:[e.jsx("h3",{className:"widget-panel__title",children:r}),t.length>a&&e.jsxs("span",{className:"widget-panel__badge",children:[t.length," pending"]})]}),e.jsx("div",{className:"widget-panel__body",children:l.length===0?e.jsxs("div",{className:"widget-empty-state",children:[e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),e.jsx("p",{children:"No pending approvals"})]}):e.jsx("ul",{className:"approval-queue",children:l.map(u=>e.jsxs("li",{className:"approval-item",children:[e.jsxs("div",{className:"approval-item__header",children:[e.jsxs("div",{className:"approval-item__info",children:[e.jsx("h4",{className:"approval-item__title",children:u.title}),u.description&&e.jsx("p",{className:"approval-item__description",children:u.description})]}),u.amount&&e.jsxs("div",{className:"approval-item__amount",children:["",u.amount.toLocaleString()]})]}),e.jsxs("div",{className:"approval-item__meta",children:[e.jsxs("span",{className:"approval-item__submitted",children:["By ",u.submittedBy,"  ",u.submittedOn]}),u.priority&&e.jsx("span",{className:`approval-item__priority approval-item__priority--${u.priority}`,children:u.priority})]}),e.jsxs("div",{className:"approval-item__actions",children:[c&&e.jsx("button",{className:"approval-item__action-btn approval-item__action-btn--view",onClick:()=>c(u),children:"View"}),d&&i&&e.jsx("button",{className:"approval-item__action-btn approval-item__action-btn--reject",onClick:()=>i(u),children:"Reject"}),o&&s&&e.jsx("button",{className:"approval-item__action-btn approval-item__action-btn--approve",onClick:()=>s(u),children:"Approve"})]})]},u.id))})})]})},oee=({title:r,alerts:t,loading:n=!1,maxItems:a=5})=>{const s=t.slice(0,a);if(n)return e.jsxs("div",{className:"widget-panel widget-panel--alert",children:[e.jsx("div",{className:"widget-panel__header",children:e.jsx("h3",{className:"widget-panel__title",children:r})}),e.jsx("div",{className:"widget-panel__body",children:e.jsx("div",{className:"widget-panel__skeleton",children:[...Array(2)].map((c,o)=>e.jsx("div",{className:"skeleton-alert-item"},o))})})]});const i=c=>{switch(c){case"error":return e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),e.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]});case"warning":return e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),e.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),e.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]});case"success":return e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]});default:return e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),e.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]})}};return e.jsxs("div",{className:"widget-panel widget-panel--alert",children:[e.jsxs("div",{className:"widget-panel__header",children:[e.jsx("h3",{className:"widget-panel__title",children:r}),t.length>a&&e.jsxs("span",{className:"widget-panel__badge",children:[t.length," total"]})]}),e.jsx("div",{className:"widget-panel__body",children:s.length===0?e.jsxs("div",{className:"widget-empty-state",children:[e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),e.jsx("p",{children:"No alerts"})]}):e.jsx("ul",{className:"alert-list",children:s.map(c=>e.jsxs("li",{className:`alert-item alert-item--${c.type}`,children:[e.jsx("div",{className:"alert-item__icon",children:i(c.type)}),e.jsxs("div",{className:"alert-item__content",children:[e.jsx("h4",{className:"alert-item__title",children:c.title}),e.jsx("p",{className:"alert-item__message",children:c.message}),c.timestamp&&e.jsx("span",{className:"alert-item__timestamp",children:c.timestamp})]}),c.actionLabel&&c.onAction&&e.jsx("button",{className:"alert-item__action",onClick:c.onAction,children:c.actionLabel})]},c.id))})})]})},lee=({title:r,activities:t,loading:n=!1,maxItems:a=10,onItemClick:s})=>{const i=t.slice(0,a);if(n)return e.jsxs("div",{className:"widget-panel widget-panel--activity-timeline",children:[e.jsx("div",{className:"widget-panel__header",children:e.jsx("h3",{className:"widget-panel__title",children:r})}),e.jsx("div",{className:"widget-panel__body",children:e.jsx("div",{className:"widget-panel__skeleton",children:[...Array(5)].map((o,d)=>e.jsx("div",{className:"skeleton-activity-item"},d))})})]});const c=o=>{switch(o){case"success":return e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]});case"warning":return e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),e.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),e.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]});case"error":return e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),e.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]});default:return e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),e.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]})}};return e.jsxs("div",{className:"widget-panel widget-panel--activity-timeline",children:[e.jsxs("div",{className:"widget-panel__header",children:[e.jsx("h3",{className:"widget-panel__title",children:r}),t.length>a&&e.jsxs("span",{className:"widget-panel__badge",children:[t.length," total"]})]}),e.jsx("div",{className:"widget-panel__body",children:i.length===0?e.jsxs("div",{className:"widget-empty-state",children:[e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]}),e.jsx("p",{children:"No recent activity"})]}):e.jsx("ul",{className:"activity-timeline",children:i.map((o,d)=>e.jsxs("li",{className:`activity-item activity-item--${o.type||"info"} ${s?"activity-item--clickable":""}`,onClick:()=>s==null?void 0:s(o),children:[e.jsx("div",{className:"activity-item__line",children:d<i.length-1&&e.jsx("div",{className:"activity-item__line-connector"})}),e.jsx("div",{className:"activity-item__icon",children:o.icon||c(o.type)}),e.jsxs("div",{className:"activity-item__content",children:[e.jsxs("div",{className:"activity-item__header",children:[e.jsx("span",{className:"activity-item__user",children:o.user}),e.jsx("span",{className:"activity-item__timestamp",children:o.timestamp})]}),e.jsx("div",{className:"activity-item__action",children:o.action}),o.description&&e.jsx("div",{className:"activity-item__description",children:o.description})]})]},o.id))})})]})},cee={transaction:["MENU_TRANSACTION_VIEW","MENU_TRANSACTION.VIEW","ROUTE_ASSIGNMENT_VIEW","ROUTE_ASSIGNMENT.VIEW","BARCODE_LABEL_VIEW","BARCODE_LABEL.VIEW","WASTE_COLLECTION_VIEW","WASTE_COLLECTION.VIEW","WASTE_TRANSACTION_VIEW","WASTE_TRANSACTION.VIEW","VEHICLE_WASTE_COLLECTION_VIEW","VEHICLE_WASTE_COLLECTION.VIEW","WASTE_PROCESS_VIEW","WASTE_PROCESS.VIEW"],finance:["MENU_FINANCE_VIEW","MENU_FINANCE.VIEW","FINANCE_VIEW","FINANCE.VIEW","INVOICE_VIEW","INVOICE.VIEW"],commercial:["MENU_COMMERCIAL_VIEW","MENU_COMMERCIAL.VIEW","CONTRACT_VIEW","CONTRACT.VIEW","AGREEMENT_VIEW","AGREEMENT.VIEW","AGREEMENT_CLAUSE_VIEW","AGREEMENT_CLAUSE.VIEW"],compliance:["MENU_COMPLIANCE_VIEW","MENU_COMPLIANCE.VIEW","TRAINING_CERTIFICATE_VIEW","TRAINING_CERTIFICATE.VIEW"],master:["MENU_MASTER_VIEW","MENU_MASTER.VIEW","MASTERS_VIEW","MASTERS.VIEW","MASTER_VIEW","MASTER.VIEW","COMPANY_VIEW","COMPANY.VIEW","STATE_VIEW","STATE.VIEW","AREA_VIEW","AREA.VIEW","CATEGORY_VIEW","CATEGORY.VIEW","COLOR_VIEW","COLOR.VIEW","PCB_ZONE_VIEW","PCB_ZONE.VIEW","FREQUENCY_VIEW","FREQUENCY.VIEW","HCF_TYPE_VIEW","HCF_TYPE.VIEW","HCF_VIEW","HCF.VIEW","ROUTE_VIEW","ROUTE.VIEW","FLEET_VIEW","FLEET.VIEW","ROUTE_HCF_VIEW","ROUTE_HCF.VIEW","USER_VIEW","USER.VIEW","ROLE_VIEW","ROLE.VIEW"],report:["MENU_REPORTS_VIEW","MENU_REPORTS.VIEW","REPORTS_VIEW","REPORTS.VIEW"]};function ka(r,t){const n=Array.isArray(r)?r:[];return n.includes("*")||t==="dashboard"?!0:(cee[t]||[]).some(s=>Cc(n,s))}const Lw=({widget:r,index:t,isSelected:n=!1,children:a,className:s="",disableGridSizing:i=!1,onSelect:c,onRemove:o,onDuplicate:d,onUpdateSize:l})=>{const u=r.span||Math.min(12,Math.max(1,(r.gridColumn||1)*3)),h=String((r==null?void 0:r.type)||"").toLowerCase().trim();return e.jsxs("div",{className:`card-wrapper draggable-widget ${s} ${n?"draggable-widget--selected":""}`.trim(),"data-widget-type":h,"data-widget-span":u,style:i?void 0:{"--span":u},onClick:c,children:[e.jsx("div",{className:"draggable-widget__content",children:a}),n&&e.jsx("div",{className:"draggable-widget__overlay",children:e.jsxs("div",{className:"draggable-widget__actions",children:[d&&e.jsx("button",{className:"draggable-widget__action-btn",onClick:f=>{f.stopPropagation(),d()},title:"Duplicate",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),e.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})}),o&&e.jsx("button",{className:"draggable-widget__action-btn draggable-widget__action-btn--danger",onClick:f=>{f.stopPropagation(),o()},title:"Remove",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]})},q8=({children:r,className:t=""})=>{const n=C.useMemo(()=>Array.isArray(r)?r.filter(a=>a!=null).length:r?1:0,[r]);return e.jsx("section",{className:`dashboard-row section-row row-section dashboard-grid ${t}`.trim(),"data-widget-count":n,children:r})},dee="http://localhost:3000/api/v1";var Qg=(r=>(r.LOW="LOW",r.MEDIUM="MEDIUM",r.HIGH="HIGH",r.CRITICAL="CRITICAL",r))(Qg||{});const uee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},b0=async(r,t={})=>{const n=uee(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${dee}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const c=await s.json();c.message&&(i=Array.isArray(c.message)?c.message.join(", "):c.message)}catch{}throw new Error(i)}return s.status===204?{}:s.json()},w0={getMyNotifications:async()=>b0("/notifications/my"),getUnreadCount:async()=>(await b0("/notifications/unread-count")).count,markAsRead:async r=>{await b0(`/notifications/read/${r}`,{method:"POST"})},markAllAsRead:async()=>{await b0("/notifications/read-all",{method:"POST"})}},hee=()=>{const[r,t]=C.useState([]),[n,a]=C.useState(0),[s,i]=C.useState(!1),[c,o]=C.useState(!1),d=C.useRef(null),l=qa(),u=async()=>{try{o(!0);const[y,j]=await Promise.all([w0.getMyNotifications(),w0.getUnreadCount()]);t(y),a(j)}catch(y){console.error("Failed to load notifications:",y)}finally{o(!1)}};C.useEffect(()=>{u();const y=setInterval(u,3e4);return()=>clearInterval(y)},[]),C.useEffect(()=>{const y=j=>{d.current&&!d.current.contains(j.target)&&i(!1)};if(s)return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[s]);const h=async y=>{const j=y.receivers.find(b=>!b.isRead&&(b.userId||b.roleId));if(j)try{await w0.markAsRead(j.id),await u()}catch(b){console.error("Failed to mark notification as read:",b)}if(y.referenceId){const S={invoice:"/finance",downtime:"/transaction",compliance:"/compliance-training",training:"/compliance-training"}[y.module]||"/dashboard";l(S)}i(!1)},f=async()=>{await w0.markAllAsRead(),await u()},A=y=>{switch(y){case Qg.LOW:return"#94a3b8";case Qg.MEDIUM:return"#3b82f6";case Qg.HIGH:return"#f59e0b";case Qg.CRITICAL:return"#ef4444";default:return"#94a3b8"}},g=y=>{const j=new Date(y),S=new Date().getTime()-j.getTime(),w=Math.floor(S/6e4),E=Math.floor(S/36e5),I=Math.floor(S/864e5);return w<1?"Just now":w<60?`${w}m ago`:E<24?`${E}h ago`:I<7?`${I}d ago`:j.toLocaleDateString()},x=(y=>{const j=new Date,b=new Date(j.getFullYear(),j.getMonth(),j.getDate()),S=new Date(b);S.setDate(S.getDate()-1);const w=[{label:"Today",notifications:[]},{label:"Yesterday",notifications:[]},{label:"Earlier",notifications:[]}];return y.forEach(E=>{const I=new Date(E.createdAt);I>=b?w[0].notifications.push(E):I>=S?w[1].notifications.push(E):w[2].notifications.push(E)}),w.filter(E=>E.notifications.length>0)})(r);return e.jsxs("div",{className:"notification-bell-container",ref:d,children:[e.jsxs("button",{className:"notification-bell-btn",onClick:()=>i(!s),"aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),n>0&&e.jsx("span",{className:"notification-badge",children:n>99?"99+":n})]}),s&&e.jsxs("div",{className:"notification-panel",children:[e.jsxs("div",{className:"notification-panel-header",children:[e.jsx("h3",{children:"Notifications"}),n>0&&e.jsx("button",{className:"notification-mark-all-btn",onClick:f,children:"Mark all as read"})]}),e.jsx("div",{className:"notification-panel-body",children:c?e.jsx("div",{className:"notification-loading",children:"Loading..."}):r.length===0?e.jsx("div",{className:"notification-empty",children:"No notifications"}):x.map(y=>e.jsxs("div",{className:"notification-group",children:[e.jsx("div",{className:"notification-group-label",children:y.label}),y.notifications.map(j=>{const b=j.receivers[0],S=b&&!b.isRead;return e.jsx("div",{className:`notification-item ${S?"notification-item--unread":""}`,onClick:()=>h(j),children:e.jsxs("div",{className:"notification-item-content",children:[e.jsxs("div",{className:"notification-item-header",children:[e.jsx("span",{className:"notification-priority-dot",style:{backgroundColor:A(b.priority)}}),e.jsx("span",{className:"notification-title",children:j.title})]}),e.jsx("p",{className:"notification-message",children:j.message}),e.jsx("span",{className:"notification-time",children:g(j.createdAt)})]})},j.id)})]},y.label))})]})]})},_a=({title:r,subtitle:t})=>{const{user:n}=Yn(),a=(n==null?void 0:n.name)||(n==null?void 0:n.username)||"User",i=(c=>{const o=c.trim().split(/\s+/);return o.length>=2?(o[0][0]+o[o.length-1][0]).toUpperCase():c.substring(0,2).toUpperCase()})(a);return e.jsxs("header",{className:"dashboard-header page-header top-header app-header",children:[e.jsx("div",{className:"app-header-left",children:e.jsxs("div",{className:"app-title-group",children:[e.jsx("h1",{className:"app-page-title",children:r}),t&&e.jsx("span",{className:"app-page-subtitle",children:t})]})}),e.jsxs("div",{className:"app-header-actions",children:[e.jsx("div",{className:"app-notification-btn",children:e.jsx(hee,{})}),e.jsxs("div",{className:"app-user-profile",children:[e.jsx("div",{className:"app-avatar","aria-hidden":"true",children:i}),e.jsxs("div",{className:"app-user-text",children:[e.jsx("div",{className:"app-name",children:a}),e.jsx("div",{className:"app-status",children:"Online"})]})]})]})]})},Uw=({widget:r,permissions:t,isPreviewMode:n})=>{var h,f,A,g,m,x,y,j,b,S,w,E,I,L;const[a,s]=C.useState(null),[i,c]=C.useState(!0),[o,d]=C.useState(null);if(!r||typeof r!="object"||Array.isArray(r))return console.error("[WidgetRenderer] Invalid widget passed:",r),null;if(!r.id||!r.type)return console.error("[WidgetRenderer] Widget missing required properties (id or type):",r),null;const l=C.useMemo(()=>{var J;return(J=r.permissions)!=null&&J.view?t[r.permissions.view]===!0:!0},[r.permissions,t]);if(C.useEffect(()=>{var G,le,V,me;if(!r||!r.id||!r.type){console.error("[WidgetRenderer] Widget validation failed in useEffect:",r),c(!1);return}if(console.log(`[WidgetRenderer] Widget ${r.id} check:`,{hasDataSource:!!r.dataSource,hasEndpoint:!!((G=r.dataSource)!=null&&G.endpoint),endpoint:(le=r.dataSource)==null?void 0:le.endpoint,canView:l,permissions:r.permissions,widgetType:r.type}),!((V=r.dataSource)!=null&&V.endpoint)){console.warn(`[WidgetRenderer] Widget ${r.id} has no dataSource.endpoint, skipping API call`,{widgetId:r.id,widgetTitle:r.title,widgetType:r.type,dataSource:r.dataSource,fullWidget:r}),c(!1);return}if(!l){console.warn(`[WidgetRenderer] Widget ${r.id} cannot be viewed (permission check failed)`,{widgetId:r.id,widgetTitle:r.title,requiredPermission:(me=r.permissions)==null?void 0:me.view,permissions:t}),c(!1);return}const J=async()=>{var $;try{c(!0),d(null),console.log("[WidgetRenderer] Loading data for widget:",{id:r.id,type:r.type,endpoint:($=r.dataSource)==null?void 0:$.endpoint,fullWidget:r});const ee=await xR(r);console.log(`[WidgetRenderer] Data loaded for widget ${r.id}:`,{data:ee,hasValue:(ee==null?void 0:ee.value)!==void 0,value:ee==null?void 0:ee.value,fullData:ee}),ee==null?(console.warn(`[WidgetRenderer] Widget ${r.id} returned null/undefined data`),s({value:0})):s(ee)}catch(ee){console.error(`[WidgetRenderer] Failed to load data for widget ${r.id}:`,ee),console.error("[WidgetRenderer] Error type:",typeof ee),console.error("[WidgetRenderer] Error message:",ee==null?void 0:ee.message),console.error("[WidgetRenderer] Error stack:",ee==null?void 0:ee.stack),console.error("[WidgetRenderer] Widget config:",r),d("Failed to load data"),s({value:0})}finally{c(!1)}};J();let ae=null;return r.dataSource.refreshInterval&&r.dataSource.refreshInterval>0&&(ae=setInterval(J,r.dataSource.refreshInterval*1e3)),()=>{ae&&clearInterval(ae)}},[r,l]),!l)return null;const u=((h=r.type)==null?void 0:h.toLowerCase().trim())||"metric";switch(u){case"metric":case"kpi":return e.jsx(yR,{title:r.title,value:(a==null?void 0:a.value)||0,unit:a==null?void 0:a.unit,label:a==null?void 0:a.label,trend:a==null?void 0:a.trend,loading:i});case"chart":return e.jsx(nee,{title:r.title,type:((f=r.chartConfig)==null?void 0:f.type)||"line",data:(a==null?void 0:a.data)||a||[],loading:i,xAxis:(A=r.chartConfig)==null?void 0:A.xAxis,yAxis:(g=r.chartConfig)==null?void 0:g.yAxis,series:(m=r.chartConfig)==null?void 0:m.series});case"table":return e.jsx(aee,{title:r.title,columns:(a==null?void 0:a.columns)||[],data:(a==null?void 0:a.data)||[],loading:i,maxRows:((x=r.props)==null?void 0:x.maxRows)||5,onRowClick:n||a==null?void 0:a.onRowClick});case"task-list":case"list":return e.jsx(see,{title:r.title,tasks:(a==null?void 0:a.tasks)||[],loading:i,maxItems:((y=r.props)==null?void 0:y.maxItems)||5,onTaskClick:n||a==null?void 0:a.onTaskClick});case"approval-queue":return e.jsx(iee,{title:r.title,items:(a==null?void 0:a.items)||[],loading:i,maxItems:((j=r.props)==null?void 0:j.maxItems)||5,onApprove:n||a==null?void 0:a.onApprove,onReject:n||a==null?void 0:a.onReject,onView:n||a==null?void 0:a.onView,canApprove:t[((S=(b=r.permissions)==null?void 0:b.actions)==null?void 0:S.approve)||""]||!1,canReject:t[((E=(w=r.permissions)==null?void 0:w.actions)==null?void 0:E.approve)||""]||!1});case"activity-timeline":return e.jsx(lee,{title:r.title,activities:(a==null?void 0:a.activities)||[],loading:i,maxItems:((I=r.props)==null?void 0:I.maxItems)||10,onItemClick:n||a==null?void 0:a.onItemClick});case"alert":return e.jsx(oee,{title:r.title,alerts:(a==null?void 0:a.alerts)||[],loading:i,maxItems:((L=r.props)==null?void 0:L.maxItems)||5});default:return console.warn(`[WidgetRenderer] Unknown widget type: "${r.type}" (normalized: "${u}")`,r),e.jsxs("div",{className:"dashboard-widget-error",children:[e.jsxs("p",{children:["Unknown widget type: ",r.type||"undefined"]}),e.jsxs("p",{style:{fontSize:"12px",color:"#666",marginTop:"8px"},children:["Widget ID: ",r.id||"N/A"]})]})}},fee=()=>{var J;const{user:r,permissions:t,logout:n}=Yn(),a=jn(),[s]=g4(),[i,c]=C.useState([]),[o,d]=C.useState({}),[l,u]=C.useState(!0),[h,f]=C.useState(!1),[A,g]=C.useState({enabled:!1,role:null});C.useEffect(()=>{const ae=s.get("preview")==="true",G=sessionStorage.getItem("dashboard-preview-config"),le=sessionStorage.getItem("dashboard-preview-role");if(ae&&G&&le)try{const V=JSON.parse(G);g({enabled:!0,role:le}),c(V.widgets||[]),d(V.permissions||{}),u(!1)}catch(V){console.error("Failed to load preview config:",V)}},[s]);const m=A.enabled&&A.role?A.role:((J=r==null?void 0:r.roles)==null?void 0:J[0])||"viewer",x=A.enabled,y=t.includes("*"),j=()=>{f(!h)},b=()=>{g({enabled:!1,role:null})},w=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:a.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:a.pathname==="/transaction"||a.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:a.pathname==="/finance"||a.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:a.pathname==="/commercial-agreements"||a.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:a.pathname==="/compliance-training"||a.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:a.pathname==="/master"||a.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:a.pathname.startsWith("/report")},...y?[{path:"/admin/dashboard-configuration",label:"Dashboard Configuration",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),active:a.pathname==="/admin/dashboard-configuration"||a.pathname.startsWith("/admin/dashboard-configuration")},{path:"/admin/permission-configuration",label:"Permission Configuration",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M12 1l3 5 5 .5-3.6 3.3 1.1 5.2L12 12.9 6.5 15l1.1-5.2L4 6.5 9 6z"}),e.jsx("path",{d:"M20 21v-7a2 2 0 0 0-2-2h-3"}),e.jsx("path",{d:"M4 21v-7a2 2 0 0 1 2-2h3"})]}),active:a.pathname==="/admin/permission-configuration"||a.pathname.startsWith("/admin/permission-configuration")}]:[]].filter(ae=>ae.path==="/dashboard"?!0:ae.path==="/transaction"?ka(t,"transaction"):ae.path==="/finance"?ka(t,"finance"):ae.path==="/commercial-agreements"?ka(t,"commercial"):ae.path==="/compliance-training"?ka(t,"compliance"):ae.path==="/master"?ka(t,"master"):ae.path==="/report"?ka(t,"report"):!0);C.useEffect(()=>{if(A.enabled)return;(async()=>{u(!0);try{console.log("[DashboardPage] Loading dashboard for role:",m);const G=await YA.getDashboardConfig(m);console.log("[DashboardPage] Loaded role config:",{role:G.role,widgetsCount:Array.isArray(G.widgets)?G.widgets.length:0,widgets:G.widgets});const le=r!=null&&r.id?await YA.getUserOverrides(r.id):null,V=YA.computePermissions(G,le);console.log("[DashboardPage] Computed widgets:",{widgetsCount:Array.isArray(V.widgets)?V.widgets.length:0,widgets:V.widgets});let me=[];Array.isArray(V.widgets)?V.widgets.forEach(ee=>{Array.isArray(ee)?ee.forEach(we=>{we&&typeof we=="object"&&!Array.isArray(we)&&me.push(we)}):ee&&typeof ee=="object"&&!Array.isArray(ee)&&me.push(ee)}):V.widgets&&typeof V.widgets=="object"&&!Array.isArray(V.widgets)&&(me=[V.widgets]),console.log("[DashboardPage] Processed widgets:",{originalCount:Array.isArray(V.widgets)?V.widgets.length:0,processedCount:me.length,widgets:me});const $=me.filter(ee=>!ee||typeof ee!="object"||Array.isArray(ee)?(console.warn("[DashboardPage] Filtering out invalid widget entry (not an object):",ee),!1):!0).map((ee,we)=>{var Z,D,ue,te,ye,pe;if(ee.id||(ee.id=`widget-${Date.now()}-${we}-${Math.random()}`),ee.dataSource||(ee.dataSource={}),!ee.dataSource.endpoint){const je=ee.id.toLowerCase(),re=(ee.title||"").toLowerCase(),he=`${je} ${re}`;let X=null;if(je.includes("total-invoices")||je.includes("totalinvoices")||je.startsWith("metric-total-invoices")?X="/dashboard/kpi/total-invoices":je.includes("pending-invoices")||je.includes("pendinginvoices")||je.startsWith("metric-pending-invoices")?X="/dashboard/kpi/pending-invoices":je.includes("total-revenue")||je.includes("totalrevenue")||je.startsWith("metric-total-revenue")?X="/dashboard/kpi/total-revenue":je.includes("pending-payments")||je.includes("pendingpayments")||je.startsWith("metric-pending-payments")?X="/dashboard/kpi/pending-payments":je.includes("receipts-today")||je.includes("receiptstoday")?X="/dashboard/kpi/receipts-today":je.includes("active-users")||je.includes("activeusers")?X="/dashboard/kpi/active-users":je.includes("errors-today")||je.includes("errorstoday")?X="/dashboard/kpi/errors-today":je.includes("monthly-revenue")||je.includes("monthlyrevenue")||je.startsWith("chart-monthly-revenue")?X="/dashboard/chart/monthly-revenue":je.includes("payment-status")||je.includes("paymentstatus")?X="/dashboard/chart/payment-status":je.includes("invoice-aging")||je.includes("invoiceaging")?X="/dashboard/chart/invoice-aging":je.includes("recent-invoices")||je.includes("recentinvoices")||je.startsWith("table-recent-invoices")?X="/dashboard/table/recent-invoices":je.includes("recent-payments")||je.includes("recentpayments")?X="/dashboard/table/recent-payments":je.includes("pending-receipts")||je.includes("pendingreceipts")?X="/dashboard/table/pending-receipts":je.includes("pending-approvals")||je.includes("pendingapprovals")||je.includes("approval-queue")||je.startsWith("approval-queue")?X="/dashboard/tasks/pending-approvals":je.includes("assigned-tasks")||je.includes("assignedtasks")?X="/dashboard/tasks/assigned":je.includes("payment-overdue")||je.includes("paymentoverdue")?X="/dashboard/alerts/payment-overdue":(je.includes("compliance-expiry")||je.includes("complianceexpiry"))&&(X="/dashboard/alerts/compliance-expiry"),X||(he.includes("total invoices")||he.includes("totalinvoices")?X="/dashboard/kpi/total-invoices":he.includes("pending invoices")||he.includes("pendinginvoices")?X="/dashboard/kpi/pending-invoices":he.includes("total revenue")||he.includes("totalrevenue")?X="/dashboard/kpi/total-revenue":he.includes("pending payments")||he.includes("pendingpayments")?X="/dashboard/kpi/pending-payments":he.includes("receipts today")||he.includes("receiptstoday")?X="/dashboard/kpi/receipts-today":he.includes("active users")||he.includes("activeusers")?X="/dashboard/kpi/active-users":he.includes("errors today")||he.includes("errorstoday")?X="/dashboard/kpi/errors-today":he.includes("monthly revenue")||he.includes("monthlyrevenue")?X="/dashboard/chart/monthly-revenue":he.includes("payment status")||he.includes("paymentstatus")?X="/dashboard/chart/payment-status":he.includes("invoice aging")||he.includes("invoiceaging")?X="/dashboard/chart/invoice-aging":he.includes("recent invoices")||he.includes("recentinvoices")?X="/dashboard/table/recent-invoices":he.includes("recent payments")||he.includes("recentpayments")?X="/dashboard/table/recent-payments":he.includes("pending receipts")||he.includes("pendingreceipts")?X="/dashboard/table/pending-receipts":he.includes("pending approvals")||he.includes("pendingapprovals")||he.includes("approval queue")?X="/dashboard/tasks/pending-approvals":he.includes("assigned tasks")||he.includes("assignedtasks")?X="/dashboard/tasks/assigned":he.includes("payment overdue")||he.includes("paymentoverdue")?X="/dashboard/alerts/payment-overdue":(he.includes("compliance expiry")||he.includes("complianceexpiry"))&&(X="/dashboard/alerts/compliance-expiry")),X)console.log(`[DashboardPage] Widget ${ee.id} endpoint inferred from ID/title:`,{widgetId:ee.id,widgetTitle:ee.title,inferredEndpoint:X});else{const Ae=["/dashboard/kpi/total-invoices","/dashboard/kpi/pending-invoices","/dashboard/kpi/total-revenue","/dashboard/kpi/pending-payments","/dashboard/kpi/receipts-today","/dashboard/kpi/active-users","/dashboard/kpi/errors-today","/dashboard/chart/monthly-revenue"];ee.type==="metric"||ee.type==="kpi"?X=Ae[we%Ae.length]||"/dashboard/kpi/total-invoices":ee.type==="chart"?X="/dashboard/chart/monthly-revenue":ee.type==="table"?X="/dashboard/table/recent-invoices":ee.type==="task-list"||ee.type==="approval-queue"?X="/dashboard/tasks/pending-approvals":ee.type==="alert"?X="/dashboard/alerts/payment-overdue":X=Ae[we%Ae.length]||"/dashboard/kpi/total-invoices",console.log(`[DashboardPage] Widget ${ee.id} missing endpoint, using index-based assignment:`,{widgetId:ee.id,widgetTitle:ee.title,widgetType:ee.type,widgetIndex:we,assignedEndpoint:X})}ee.dataSource.endpoint=X}if(!ee.title){const je=((Z=ee.dataSource)==null?void 0:Z.endpoint)||"";je.includes("total-invoices")?ee.title="Total Invoices":je.includes("pending-invoices")?ee.title="Pending Invoices":je.includes("total-revenue")?ee.title="Total Revenue":je.includes("pending-payments")?ee.title="Pending Payments":je.includes("receipts-today")?ee.title="Receipts Today":je.includes("active-users")?ee.title="Active Users":je.includes("errors-today")?ee.title="Errors Today":je.includes("monthly-revenue")?ee.title="Monthly Revenue":je.includes("payment-status")?ee.title="Payment Status":je.includes("invoice-aging")?ee.title="Invoice Aging":je.includes("recent-invoices")?ee.title="Recent Invoices":je.includes("recent-payments")?ee.title="Recent Payments":je.includes("pending-receipts")?ee.title="Pending Receipts":je.includes("pending-approvals")?ee.title="Pending Approvals":je.includes("assigned-tasks")?ee.title="Assigned Tasks":je.includes("payment-overdue")?ee.title="Payment Overdue":je.includes("compliance-expiry")?ee.title="Compliance Expiry":ee.title=`Widget ${we+1}`,console.log(`[DashboardPage] Widget ${ee.id} missing title, inferred from endpoint:`,{widgetId:ee.id,inferredTitle:ee.title,endpoint:(D=ee.dataSource)==null?void 0:D.endpoint})}if(!ee.type){const je=((ue=ee.dataSource)==null?void 0:ue.endpoint)||"";je.includes("/kpi/")||je.includes("/dashboard/kpi/")?ee.type="metric":je.includes("/chart/")||je.includes("/dashboard/chart/")?ee.type="chart":je.includes("/table/")||je.includes("/dashboard/table/")?ee.type="table":je.includes("/tasks/")||je.includes("/approval")||je.includes("/dashboard/tasks/")?ee.type="task-list":je.includes("/alerts/")||je.includes("/dashboard/alerts/")?ee.type="alert":je.includes("/activity")||je.includes("/timeline")?ee.type="activity-timeline":(ee.id&&!ee.id.startsWith("widget-")&&console.warn("[DashboardPage] Widget missing type and cannot infer from endpoint:",{id:ee.id,title:ee.title,endpoint:je||"none"}),ee.type="metric")}const R=ee.type.toLowerCase().trim(),ie={kpi:"metric",metric:"metric",chart:"chart",table:"table","task-list":"task-list",tasklist:"task-list",tasks:"task-list","approval-queue":"approval-queue",approvalqueue:"approval-queue",approvals:"approval-queue",alert:"alert",alerts:"alert","activity-timeline":"activity-timeline",activitytimeline:"activity-timeline",timeline:"activity-timeline",custom:"custom"}[R];return ie?ee.type=ie:["metric","chart","table","task-list","approval-queue","alert","activity-timeline","custom"].includes(R)||(console.warn(`[DashboardPage] Unknown widget type "${ee.type}", defaulting to "metric"`,ee),ee.type="metric"),(!ee.gridColumn||ee.gridColumn<1)&&(ee.gridColumn=1),ee.gridColumn>4&&(ee.gridColumn=4),(te=ee.dataSource)!=null&&te.endpoint||(console.error(`[DashboardPage] Widget ${ee.id} still missing endpoint after validation!`,ee),ee.dataSource=ee.dataSource||{},ee.dataSource.endpoint="/dashboard/kpi/total-invoices"),console.log("[DashboardPage] Validated widget:",{id:ee.id,title:ee.title,type:ee.type,endpoint:(ye=ee.dataSource)==null?void 0:ye.endpoint,hasEndpoint:!!((pe=ee.dataSource)!=null&&pe.endpoint)}),ee}).filter(ee=>!ee||typeof ee!="object"||Array.isArray(ee)?(console.warn("[DashboardPage] Filtering out invalid widget (not an object):",ee),!1):!ee.id||!ee.type?(console.warn("[DashboardPage] Filtering out invalid widget (missing id or type):",ee),!1):["metric","chart","table","task-list","approval-queue","alert","activity-timeline","custom"].includes(ee.type)?!ee.dataSource||!ee.dataSource.endpoint?(console.warn("[DashboardPage] Filtering out invalid widget (missing dataSource.endpoint):",ee),!1):!0:(console.warn("[DashboardPage] Filtering out invalid widget (invalid type):",ee),!1));console.log("[DashboardPage] Final validated widgets:",{count:$.length,widgets:$}),c($),d(V.permissions)}catch(G){console.error("[DashboardPage] Failed to load dashboard:",G),c([]),d({})}finally{u(!1)}})()},[m,r==null?void 0:r.id,A.enabled,a.pathname]);const E=ae=>String((ae==null?void 0:ae.type)||"").toLowerCase().trim(),I=C.useMemo(()=>{const ae=[],G=[],le=[];return i.forEach(V=>{var ee;const me=E(V),$={...V};$.span||(me==="metric"||me==="kpi"?$.span=4:me==="chart"?String((V==null?void 0:V.size)||((ee=V==null?void 0:V.props)==null?void 0:ee.size)||"").toLowerCase().trim()==="xl"||(V.gridColumn||1)>=4||(V.gridRow||1)>=3?$.span=12:$.span=3:$.span=4),me==="metric"||me==="kpi"?ae.push($):me==="chart"?le.push($):G.push($)}),{kpiWidgets:ae,middleInfo:G,bottomAnalytics:le}},[i]),L=ae=>{var me,$;const G=["dashboard-card"];return E(ae)==="chart"&&(G.push("chart-container"),(String((ae==null?void 0:ae.size)||((me=ae==null?void 0:ae.props)==null?void 0:me.size)||"").toLowerCase().trim()==="xl"||(ae.gridColumn||1)>=4||(ae.gridRow||1)>=3)&&G.push("large-chart")),String((ae==null?void 0:ae.size)||(($=ae==null?void 0:ae.props)==null?void 0:$.size)||"").toLowerCase().trim()==="xl"&&G.push("full-width"),G.join(" ")};return e.jsx("div",{className:"dashboard-page",children:e.jsxs("div",{className:"app-layout",children:[e.jsxs("aside",{className:`dashboard-sidebar sidebar ${h?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-header",children:[e.jsxs("div",{className:"brand",children:[e.jsx("div",{className:"logo-container",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]})}),!h&&e.jsxs("div",{className:"brand-text",children:[e.jsx("span",{className:"brand-title",children:"MEDI-WASTE"}),e.jsx("span",{className:"brand-subtitle",children:"Enterprise Platform"})]})]}),e.jsx("button",{className:"toggle-button",onClick:j,"aria-label":h?"Expand sidebar":"Collapse sidebar",type:"button",children:e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:h?e.jsx("path",{d:"M9 18l6-6-6-6"}):e.jsx("path",{d:"M15 18l-6-6 6-6"})})})]}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:w.map(ae=>e.jsx("li",{children:e.jsxs(Hr,{to:ae.path,className:`nav-link ${ae.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:ae.icon}),!h&&e.jsx("span",{className:"nav-label",children:ae.label})]})},ae.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),!h&&e.jsx("span",{children:"Notifications"}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Hr,{to:"/profile",className:`sidebar-profile-btn ${a.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!h&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:n,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!h&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main main-container",children:[e.jsx(_a,{title:"Analytics Dashboard",subtitle:"Real-time insights and performance metrics"}),e.jsxs("div",{className:"dashboard-page-content page-body",children:[x&&e.jsxs("div",{className:"dashboard-preview-selector",style:{background:"#fef3c7",border:"1px solid #fbbf24",padding:"12px 16px",borderRadius:"6px",marginBottom:"16px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),e.jsxs("span",{style:{fontWeight:"600",color:"#92400e"},children:["Preview Mode: ",A.role?A.role.charAt(0).toUpperCase()+A.role.slice(1):"Unknown"]})]}),e.jsx("button",{onClick:b,style:{padding:"6px 16px",background:"#fbbf24",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"13px",fontWeight:"600",color:"#78350f"},children:"Exit Preview"})]}),l&&e.jsxs("div",{className:"dashboard-loading",children:[e.jsx("div",{className:"dashboard-loading-spinner"}),e.jsx("p",{children:"Loading dashboard..."})]}),!l&&e.jsx("div",{className:"dashboard-canvas",children:i.length===0?e.jsxs("div",{className:"dashboard-empty-state-modern",children:[e.jsx("div",{className:"dashboard-empty-state__pattern"}),e.jsx("div",{className:"dashboard-empty-state__orb dashboard-empty-state__orb--left"}),e.jsx("div",{className:"dashboard-empty-state__orb dashboard-empty-state__orb--right"}),e.jsxs("div",{className:"dashboard-empty-state__content",children:[e.jsx("div",{className:"dashboard-empty-state__icon",children:e.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"}),e.jsx("line",{x1:"15",y1:"3",x2:"15",y2:"21"}),e.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),e.jsx("line",{x1:"3",y1:"15",x2:"21",y2:"15"})]})}),e.jsx("h3",{className:"dashboard-empty-state__title",children:"Start Building Your Dashboard"}),e.jsx("p",{className:"dashboard-empty-state__description",children:"Add widgets from the sidebar to create a powerful, customized dashboard experience"}),e.jsxs("div",{className:"dashboard-empty-state__hint",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}),e.jsx("line",{x1:"9",y1:"10",x2:"15",y2:"10"})]}),e.jsx("span",{children:"Contact your administrator to configure widgets for your role"})]})]})]}):e.jsxs(e.Fragment,{children:[I.kpiWidgets.length>0&&e.jsx("div",{className:"kpi-grid-container",children:I.kpiWidgets.map((ae,G)=>e.jsx(Lw,{widget:ae,index:G,className:L(ae),disableGridSizing:!1,isSelected:!1,children:e.jsx(C.Suspense,{fallback:e.jsx("div",{className:"widget-loading",children:"Loading widget..."}),children:e.jsx(Uw,{widget:ae,permissions:o,isPreviewMode:x})})},ae.id||`kpi-${G}`))}),I.middleInfo.length>0&&e.jsx(q8,{className:"middle-info",children:I.middleInfo.map((ae,G)=>e.jsx(Lw,{widget:ae,index:G,className:L(ae),disableGridSizing:!1,isSelected:!1,children:e.jsx(C.Suspense,{fallback:e.jsx("div",{className:"widget-loading",children:"Loading widget..."}),children:e.jsx(Uw,{widget:ae,permissions:o,isPreviewMode:x})})},ae.id||`middle-${G}`))}),I.bottomAnalytics.length>0&&e.jsx(q8,{className:"bottom-analytics",children:I.bottomAnalytics.map((ae,G)=>e.jsx(Lw,{widget:ae,index:G,className:L(ae),disableGridSizing:!1,isSelected:!1,children:e.jsx(C.Suspense,{fallback:e.jsx("div",{className:"widget-loading",children:"Loading widget..."}),children:e.jsx(Uw,{widget:ae,permissions:o,isPreviewMode:x})})},ae.id||`bottom-${G}`))}),e.jsx("div",{className:"page-end-space"})]})})]})]})]})})},Aee=({catalog:r,onAddWidget:t})=>{const[n,a]=Ct.useState(""),[s,i]=Ct.useState("all"),c=Ct.useMemo(()=>{const u=[];for(const h of r.kpis)u.push({...h,widgetType:"kpi"});for(const h of r.charts)u.push({...h,widgetType:"chart"});for(const h of r.tables)u.push({...h,widgetType:"table"});for(const h of r.tasks)u.push({...h,widgetType:"task"});for(const h of r.alerts)u.push({...h,widgetType:"alert"});return u},[r]),o=Ct.useMemo(()=>{const u=n.trim().toLowerCase();return c.filter(h=>s==="all"?!0:h.widgetType===s).filter(h=>u?`${h.title} ${h.code} ${h.description||""} ${h.widgetType}`.toLowerCase().includes(u):!0)},[c,s,n]),d=[{key:"all",label:"All Widgets"},{key:"kpi",label:"KPIs"},{key:"chart",label:"Charts"},{key:"table",label:"Tables"},{key:"task",label:"Tasks"},{key:"alert",label:"Alerts"}],l={kpi:"Metric",chart:"Chart",table:"Table",task:"Task",alert:"Alert"};return e.jsxs("div",{className:"catalog-panel",children:[e.jsxs("div",{className:"catalog-panel-header catalog-panel-header--library",children:[e.jsxs("div",{className:"catalog-library-title-row",children:[e.jsx("div",{className:"catalog-library-icon","aria-hidden":!0,children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2l3 7 7 3-7 3-3 7-3-7-7-3 7-3 3-7z"})})}),e.jsxs("div",{className:"catalog-library-title-text",children:[e.jsx("h2",{className:"catalog-panel-title",children:"Widget Library"}),e.jsx("p",{className:"catalog-panel-subtitle",children:"Choose widgets to add to your dashboard"})]})]}),e.jsxs("div",{className:"catalog-library-search",children:[e.jsxs("svg",{className:"catalog-library-search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{value:n,onChange:u=>a(u.target.value),className:"catalog-library-search-input",placeholder:"Search widgets... (try 'revenue', 'users', 'invoices')"})]}),e.jsx("div",{className:"catalog-library-tabs",role:"tablist","aria-label":"Widget categories",children:d.map(u=>e.jsx("button",{type:"button",className:`catalog-library-tab ${s===u.key?"active":""}`,onClick:()=>i(u.key),"aria-selected":s===u.key,role:"tab",children:u.label},u.key))})]}),e.jsx("div",{className:"catalog-panel-content catalog-panel-content--library",children:o.length===0?e.jsx("div",{className:"catalog-empty",children:"No widgets match your search."}):e.jsx("div",{className:"catalog-library-grid",children:o.map(u=>e.jsxs("div",{className:"catalog-library-card",children:[e.jsxs("div",{className:"catalog-library-card-top",children:[e.jsx("div",{className:"catalog-library-card-icon","aria-hidden":!0,children:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M12 2v20"}),e.jsx("path",{d:"M2 12h20"})]})}),e.jsx("span",{className:`catalog-library-badge catalog-library-badge--${u.widgetType}`,children:l[u.widgetType]})]}),e.jsx("div",{className:"catalog-library-card-title",children:u.title}),e.jsx("div",{className:"catalog-library-card-desc",children:u.description||""}),e.jsxs("button",{type:"button",className:"catalog-library-add",onClick:()=>t(u,u.widgetType),title:"Add widget",children:[e.jsx("span",{className:"catalog-library-add-plus",children:""})," Add Widget"]})]},`${u.widgetType}:${u.code}`))})}),e.jsx("div",{className:"catalog-library-footer",children:e.jsxs("span",{className:"catalog-library-footer-count",children:[c.length," widgets available"]})})]})},pee=({widgets:r,selectedWidgetId:t,onSelectWidget:n,onUpdateWidget:a,onRemoveWidget:s,onReorderWidget:i})=>{const c=d=>d===4?"Full":d===2?"Half":d===1?"Quarter":`${d}/4`,o=(d,l)=>{a(d,{gridColumn:l})};return e.jsxs("div",{className:"dashboard-canvas",children:[e.jsxs("div",{className:"dashboard-canvas-header",children:[e.jsx("h2",{className:"dashboard-canvas-title",children:"Dashboard Layout"}),e.jsx("p",{className:"dashboard-canvas-subtitle",children:"Configure widget layout and order. Click a widget to edit settings."})]}),e.jsx("div",{className:"dashboard-canvas-content",children:r.length===0?e.jsxs("div",{className:"dashboard-canvas-empty",children:[e.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"dashboard-canvas-empty-icon",children:[e.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"})]}),e.jsx("p",{className:"dashboard-canvas-empty-text",children:"No widgets configured"}),e.jsx("p",{className:"dashboard-canvas-empty-hint",children:"Add widgets from the catalog panel on the left"})]}):e.jsx("div",{className:"dashboard-canvas-widgets",children:r.map((d,l)=>{const u=t===d.id,h=l>0,f=l<r.length-1;return e.jsxs("div",{className:`dashboard-canvas-widget ${u?"selected":""}`,style:{gridColumn:`span ${d.gridColumn}`},onClick:()=>n(d.id),children:[e.jsxs("div",{className:"dashboard-canvas-widget-header",children:[e.jsxs("div",{className:"dashboard-canvas-widget-info",children:[e.jsx("span",{className:"dashboard-canvas-widget-title",children:d.title}),e.jsx("span",{className:"dashboard-canvas-widget-type",children:d.type})]}),e.jsxs("div",{className:"dashboard-canvas-widget-actions",children:[e.jsxs("select",{value:d.gridColumn,onChange:A=>o(d.id,parseInt(A.target.value,10)),onClick:A=>A.stopPropagation(),className:"dashboard-canvas-widget-size-select",children:[e.jsx("option",{value:"1",children:"Quarter"}),e.jsx("option",{value:"2",children:"Half"}),e.jsx("option",{value:"4",children:"Full"})]}),e.jsx("button",{className:"dashboard-canvas-widget-action-btn",onClick:A=>{A.stopPropagation(),h&&i(d.id,"up")},disabled:!h,title:"Move up",children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"18 15 12 9 6 15"})})}),e.jsx("button",{className:"dashboard-canvas-widget-action-btn",onClick:A=>{A.stopPropagation(),f&&i(d.id,"down")},disabled:!f,title:"Move down",children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"6 9 12 15 18 9"})})}),e.jsx("button",{className:"dashboard-canvas-widget-action-btn danger",onClick:A=>{A.stopPropagation(),window.confirm("Remove this widget from the dashboard?")&&s(d.id)},title:"Remove widget",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]}),e.jsx("div",{className:"dashboard-canvas-widget-preview",children:e.jsxs("div",{className:"dashboard-canvas-widget-preview-content",children:[e.jsxs("span",{className:"dashboard-canvas-widget-preview-text",children:[d.type==="metric"&&"Metric Widget",d.type==="chart"&&"Chart Widget",d.type==="table"&&"Table Widget",d.type==="task-list"&&" Task List Widget",d.type==="alert"&&"Alert Widget",!["metric","chart","table","task-list","alert"].includes(d.type)&&"Widget Preview"]}),e.jsx("span",{className:"dashboard-canvas-widget-size-badge",children:c(d.gridColumn)})]})})]},d.id||`widget-${l}`)})})})]})},mee=({widget:r,onUpdateWidget:t})=>{if(!r)return e.jsx("div",{className:"widget-settings-panel",children:e.jsxs("div",{className:"widget-settings-empty",children:[e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"widget-settings-empty-icon",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),e.jsx("p",{className:"widget-settings-empty-text",children:"No widget selected"}),e.jsx("p",{className:"widget-settings-empty-hint",children:"Select a widget from the canvas to configure its settings"})]})});const n=c=>{t(r.id,{title:c})},a=c=>{t(r.id,{description:c})},s=c=>{t(r.id,{gridColumn:c})},i=c=>{t(r.id,{chartConfig:{...r.chartConfig,type:c}})};return e.jsxs("div",{className:"widget-settings-panel",children:[e.jsxs("div",{className:"widget-settings-header",children:[e.jsx("h2",{className:"widget-settings-title",children:"Widget Settings"}),e.jsx("p",{className:"widget-settings-subtitle",children:"Configure selected widget properties"})]}),e.jsxs("div",{className:"widget-settings-content",children:[e.jsxs("div",{className:"widget-settings-section",children:[e.jsx("label",{className:"widget-settings-label",children:"Widget ID"}),e.jsx("div",{className:"widget-settings-readonly",children:r.id})]}),e.jsxs("div",{className:"widget-settings-section",children:[e.jsx("label",{className:"widget-settings-label",children:"Widget Type"}),e.jsx("div",{className:"widget-settings-readonly",children:r.type})]}),e.jsxs("div",{className:"widget-settings-section",children:[e.jsx("label",{className:"widget-settings-label",htmlFor:"widget-title",children:"Title"}),e.jsx("input",{id:"widget-title",type:"text",value:r.title,onChange:c=>n(c.target.value),className:"widget-settings-input",placeholder:"Widget title"})]}),e.jsxs("div",{className:"widget-settings-section",children:[e.jsx("label",{className:"widget-settings-label",htmlFor:"widget-description",children:"Description (Optional)"}),e.jsx("textarea",{id:"widget-description",value:r.description||"",onChange:c=>a(c.target.value),className:"widget-settings-textarea",placeholder:"Widget description",rows:3})]}),e.jsxs("div",{className:"widget-settings-section",children:[e.jsx("label",{className:"widget-settings-label",htmlFor:"widget-size",children:"Size"}),e.jsxs("select",{id:"widget-size",value:r.gridColumn,onChange:c=>s(parseInt(c.target.value,10)),className:"widget-settings-select",children:[e.jsx("option",{value:"1",children:"Quarter (1/4 width)"}),e.jsx("option",{value:"2",children:"Half (1/2 width)"}),e.jsx("option",{value:"4",children:"Full (full width)"})]})]}),r.type==="chart"&&r.chartConfig&&e.jsxs("div",{className:"widget-settings-section",children:[e.jsx("label",{className:"widget-settings-label",htmlFor:"widget-chart-type",children:"Chart Type"}),e.jsxs("select",{id:"widget-chart-type",value:r.chartConfig.type||"line",onChange:c=>i(c.target.value),className:"widget-settings-select",children:[e.jsx("option",{value:"line",children:"Line Chart"}),e.jsx("option",{value:"bar",children:"Bar Chart"})]})]}),r.dataSource&&e.jsxs("div",{className:"widget-settings-section",children:[e.jsx("label",{className:"widget-settings-label",children:"API Endpoint"}),e.jsx("div",{className:"widget-settings-readonly",children:r.dataSource.endpoint}),e.jsx("p",{className:"widget-settings-hint",children:"This endpoint is read-only and does not modify business logic"})]}),r.permissions&&e.jsxs("div",{className:"widget-settings-section",children:[e.jsx("label",{className:"widget-settings-label",children:"Permissions"}),e.jsxs("div",{className:"widget-settings-permissions",children:[r.permissions.view&&e.jsxs("div",{className:"widget-settings-permission",children:[e.jsx("span",{className:"widget-settings-permission-label",children:"View:"}),e.jsx("span",{className:"widget-settings-permission-value",children:r.permissions.view})]}),r.permissions.actions&&Object.entries(r.permissions.actions).map(([c,o])=>e.jsxs("div",{className:"widget-settings-permission",children:[e.jsxs("span",{className:"widget-settings-permission-label",children:[c,":"]}),e.jsx("span",{className:"widget-settings-permission-value",children:o})]},c))]})]})]})]})},gee=()=>{const r=qa(),[t,n]=Ct.useState({kpis:[],charts:[],tables:[],tasks:[],alerts:[]}),[a,s]=Ct.useState([]),[i,c]=Ct.useState(""),[o,d]=Ct.useState("role"),[l,u]=Ct.useState(null),[h,f]=Ct.useState(null),[A,g]=Ct.useState(!1),[m,x]=Ct.useState(!1),[y,j]=Ct.useState(null);Ct.useEffect(()=>{(async()=>{g(!0);try{const[G,le]=await Promise.all([YA.getCatalog(),YA.getAvailableRoles()]);n(G),s(le)}catch(G){console.error("Failed to load catalog:",G),j("Failed to load dashboard catalog")}finally{g(!1)}})()},[]),Ct.useEffect(()=>{i?(async()=>{g(!0);try{const G=await YA.getDashboardConfigByTarget(i);u(G),f(null)}catch(G){console.error("Failed to load configuration:",G),j("Failed to load dashboard configuration")}finally{g(!1)}})():(u(null),f(null))},[i,o]);const b=(ae,G)=>{if(!l){alert("Please select a role or department first");return}const le={kpi:"metric",chart:"chart",table:"table",task:"task-list",alert:"alert"},V={id:`${ae.code.toLowerCase()}-${Date.now()}`,type:le[G]||"metric",title:ae.title,description:ae.description,gridColumn:2,dataSource:{endpoint:ae.api,method:"GET"},...G==="chart"&&ae.chartTypes&&ae.chartTypes.length>0&&{chartConfig:{type:ae.chartTypes[0]}}};u({...l,widgets:[...l.widgets,V]}),f(V.id)},S=(ae,G)=>{l&&u({...l,widgets:l.widgets.map(le=>le.id===ae?{...le,...G}:le)})},w=ae=>{l&&(u({...l,widgets:l.widgets.filter(G=>G.id!==ae)}),h===ae&&f(null))},E=(ae,G)=>{if(!l)return;const le=l.widgets.findIndex($=>$.id===ae);if(le===-1)return;const V=G==="up"?le-1:le+1;if(V<0||V>=l.widgets.length)return;const me=[...l.widgets];[me[le],me[V]]=[me[V],me[le]],u({...l,widgets:me})},I=async()=>{if(!l||!i){alert("Please select a role or department and configure widgets");return}x(!0),j(null);try{const ae={...l,widgets:(l.widgets||[]).filter(G=>G&&typeof G=="object"&&!Array.isArray(G)),menuItems:Array.isArray(l.menuItems)?l.menuItems:[],permissions:l.permissions&&typeof l.permissions=="object"&&!Array.isArray(l.permissions)?l.permissions:{}};console.log("[DashboardConfigurationContent] Saving normalized config:",{role:ae.role,widgetsCount:ae.widgets.length,widgets:ae.widgets}),await YA.saveDashboardConfig(ae),alert("Dashboard configuration saved successfully")}catch(ae){console.error("Failed to save configuration:",ae);const G=(ae==null?void 0:ae.message)||"Failed to save dashboard configuration";j(G)}finally{x(!1)}},L=()=>{if(!l||!i){alert("Please select a role or department and configure widgets");return}sessionStorage.setItem("dashboard-preview-config",JSON.stringify(l)),sessionStorage.setItem("dashboard-preview-role",i),r("/dashboard?preview=true")},J=(l==null?void 0:l.widgets.find(ae=>ae.id===h))||null;return e.jsxs("div",{className:"dashboard-configuration-content-wrapper",children:[e.jsxs("div",{className:"dashboard-configuration-toolbar",children:[e.jsxs("div",{className:"dashboard-configuration-toolbar-left",children:[e.jsx("h1",{className:"dashboard-configuration-title",children:"Dashboard Configuration"}),e.jsx("p",{className:"dashboard-configuration-description",children:"This screen configures dashboards only and does not affect business logic"})]}),e.jsxs("div",{className:"dashboard-configuration-toolbar-right",children:[e.jsxs("div",{className:"dashboard-configuration-target-selector",children:[e.jsxs("select",{value:o,onChange:ae=>{d(ae.target.value),c("")},className:"dashboard-configuration-type-select",children:[e.jsx("option",{value:"role",children:"Role"}),e.jsx("option",{value:"department",children:"Department"})]}),e.jsxs("select",{value:i,onChange:ae=>c(ae.target.value),className:"dashboard-configuration-target-select",disabled:A,children:[e.jsxs("option",{value:"",children:["Select ",o,"..."]}),o==="role"&&a.map(ae=>e.jsx("option",{value:ae,children:ae.charAt(0).toUpperCase()+ae.slice(1)},ae))]})]}),e.jsxs("button",{className:"dashboard-configuration-btn preview",onClick:L,disabled:!l||!i||l.widgets.length===0,title:"Preview dashboard with current configuration",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),"Preview Dashboard"]}),e.jsx("button",{className:"dashboard-configuration-btn save",onClick:I,disabled:!l||!i||m,children:m?"Saving...":"Save Configuration"})]})]}),y&&e.jsxs("div",{className:"dashboard-configuration-error",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),e.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),y]}),e.jsxs("div",{className:"dashboard-configuration-panels",children:[e.jsx("div",{className:"dashboard-configuration-panel-left",children:A&&!t.kpis.length?e.jsx("div",{className:"dashboard-configuration-loading",children:"Loading catalog..."}):e.jsx(Aee,{catalog:t,onAddWidget:b})}),e.jsx("div",{className:"dashboard-configuration-panel-center",children:A&&!l?e.jsx("div",{className:"dashboard-configuration-loading",children:"Loading configuration..."}):l?e.jsx(pee,{widgets:l.widgets,selectedWidgetId:h,onSelectWidget:f,onUpdateWidget:S,onRemoveWidget:w,onReorderWidget:E}):e.jsx("div",{className:"dashboard-configuration-empty-state",children:e.jsx("p",{children:"Select a role or department to start configuring the dashboard"})})}),e.jsx("div",{className:"dashboard-configuration-panel-right",children:e.jsx(mee,{widget:J,onUpdateWidget:S})})]})]})},vee=()=>{const{permissions:r,logout:t}=Yn(),n=jn(),a=qa(),[s,i]=Ct.useState(!1),c=r.includes("*");if(Ct.useEffect(()=>{c||a("/dashboard",{replace:!0,state:{from:n}})},[c,a,n]),!c)return null;const o=()=>{i(!s)},l=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:n.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:n.pathname==="/transaction"||n.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:n.pathname==="/finance"||n.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname==="/commercial-agreements"||n.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:n.pathname==="/compliance-training"||n.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:n.pathname==="/master"||n.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname.startsWith("/report")},{path:"/admin/dashboard-configuration",label:"Dashboard Configuration",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),active:n.pathname==="/admin/dashboard-configuration"||n.pathname.startsWith("/admin/dashboard-configuration")},{path:"/admin/permission-configuration",label:"Permission Configuration",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M12 1l3 5 5 .5-3.6 3.3 1.1 5.2L12 12.9 6.5 15l1.1-5.2L4 6.5 9 6z"}),e.jsx("path",{d:"M20 21v-7a2 2 0 0 0-2-2h-3"}),e.jsx("path",{d:"M4 21v-7a2 2 0 0 1 2-2h3"})]}),active:n.pathname==="/admin/permission-configuration"||n.pathname.startsWith("/admin/permission-configuration")}].filter(u=>u.path==="/dashboard"?!0:u.path==="/transaction"?ka(r,"transaction"):u.path==="/finance"?ka(r,"finance"):u.path==="/commercial-agreements"?ka(r,"commercial"):u.path==="/compliance-training"?ka(r,"compliance"):u.path==="/master"?ka(r,"master"):u.path==="/report"?ka(r,"report"):!0);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar sidebar ${s?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-header",children:[e.jsxs("div",{className:"brand",children:[e.jsx("div",{className:"logo-container",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]})}),!s&&e.jsxs("div",{className:"brand-text",children:[e.jsx("span",{className:"brand-title",children:"MEDI-WASTE"}),e.jsx("span",{className:"brand-subtitle",children:"Enterprise Platform"})]})]}),e.jsx("button",{className:"toggle-button",onClick:o,"aria-label":s?"Expand sidebar":"Collapse sidebar",type:"button",children:e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:s?e.jsx("path",{d:"M9 18l6-6-6-6"}):e.jsx("path",{d:"M15 18l-6-6 6-6"})})})]}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:l.map(u=>e.jsx("li",{children:e.jsxs(Hr,{to:u.path,className:`nav-link ${u.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:u.icon}),!s&&e.jsx("span",{className:"nav-label",children:u.label})]})},u.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs(Hr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!s&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:t,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!s&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(_a,{title:"Dashboard Configuration",subtitle:"Configure dashboard settings for different roles"}),e.jsx("div",{className:"dashboard-page-content",style:{padding:0,overflow:"hidden",flex:1},children:e.jsx(gee,{})})]})]})},xee="http://localhost:3000/api/v1",yee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},tg=async(r,t={})=>{const n=yee(),a=`${xee}${r}`;console.log("[roleService] Making request:",{method:t.method||"GET",url:a,endpoint:r,hasToken:!!n,hasBody:!!t.body});const s={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers};try{const i=await fetch(a,{...t,headers:s});if(console.log("[roleService] Response received:",{status:i.status,statusText:i.statusText,ok:i.ok}),!i.ok){let o=`HTTP ${i.status}: ${i.statusText}`,d=null;try{const u=await i.text();console.log("[roleService] Error response text:",u),u&&(d=JSON.parse(u),console.log("[roleService] Error response parsed:",d),Array.isArray(d.message)?o=d.message.join(", "):typeof d.message=="string"?o=d.message:d.error?o=typeof d.error=="string"?d.error:JSON.stringify(d.error):d.message&&(o=String(d.message)))}catch(u){console.error("[roleService] Failed to parse error response:",u)}console.error("[roleService] Request failed:",{status:i.status,statusText:i.statusText,errorMessage:o,errorData:d});const l=new Error(o);throw l.status=i.status,l.statusText=i.statusText,l.errorData=d,l}if(i.status===204)return console.log("[roleService] 204 No Content response, returning empty object"),{};const c=await i.json();return console.log("[roleService] Success response data:",c),c}catch(i){if(console.error("[roleService] Fetch error:",i),i instanceof Error&&i.status)throw i;const c=new Error(i instanceof Error?`Network error: ${i.message}`:"Network error: Failed to connect to server");throw c.originalError=i,c}},zp={createRole:async r=>(console.log("[roleService] createRole called with data:",r),(await tg("/roles",{method:"POST",body:JSON.stringify(r)})).data),getRoleById:async r=>(await tg(`/roles/${r}`,{method:"GET"})).data,getAllRoles:async(r,t)=>{let n="/roles";const a=new URLSearchParams;return r&&a.append("companyId",r),t&&a.append("activeOnly","true"),a.toString()&&(n+=`?${a.toString()}`),(await tg(n,{method:"GET"})).data},updateRole:async(r,t)=>(console.log("[roleService] updateRole called"),console.log("[roleService] Role ID:",r),console.log("[roleService] Data:",t),(await tg(`/roles/${r}`,{method:"PUT",body:JSON.stringify(t)})).data),deleteRole:async r=>{await tg(`/roles/${r}`,{method:"DELETE"})}},jee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},rg=async(r,t={})=>{const n=jee(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${yf}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const o=await s.json();Array.isArray(o.message)?i=o.message.join(", "):typeof o.message=="string"?i=o.message:o.error?i=typeof o.error=="string"?o.error:JSON.stringify(o.error):o.message&&(i=String(o.message))}catch{s.status===401?i="User not authenticated":s.status===403&&(i="Access forbidden")}const c=new Error(i);throw c.status=s.status,c.statusText=s.statusText,c}return s.status===204?{}:s.json()},ha={createCompany:async r=>(await rg("/companies",{method:"POST",body:JSON.stringify(r)})).data,getCompanyById:async r=>(await rg(`/companies/${r}`,{method:"GET"})).data,getAllCompanies:async(r=!1)=>(await rg(r?"/companies?activeOnly=true":"/companies",{method:"GET"})).data||[],updateCompany:async(r,t)=>(await rg(`/companies/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,deleteCompany:async r=>{await rg(`/companies/${r}`,{method:"DELETE"})}},bee=()=>{const r=localStorage.getItem("mw-auth-user");if(!r)return null;try{const t=JSON.parse(r);return(t==null?void 0:t.token)||null}catch{return null}};async function Hw(r,t={}){const n=bee();if(!n)throw new Error("Unauthorized: missing token");const a=await fetch(`${yf}${r}`,{...t,headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`,...t.headers||{}}});if(!a.ok){const i=await a.json().catch(()=>({})),c=(i==null?void 0:i.message)||(i==null?void 0:i.error)||`HTTP ${a.status}`;throw new Error(Array.isArray(c)?c.join(", "):String(c))}return(await a.json()).data}const Qw={listPermissions:async()=>Hw("/permissions",{method:"GET"}),getRolePermissionCodes:async r=>Hw(`/permissions/roles/${r}`,{method:"GET"}),replaceRolePermissions:async(r,t)=>Hw(`/permissions/roles/${r}`,{method:"PUT",body:JSON.stringify({permissionCodes:t})})},Ev=r=>r&&r.trim()?r.trim():"General",wee=r=>{const t=String(r||"").trim();if(!t)return{featureKey:"GENERAL",action:"ACCESS"};const n=t.includes(".")?t.split("."):t.split("_");if(n.length<=1)return{featureKey:t,action:"ACCESS"};const a=n[n.length-1]||"ACCESS";return{featureKey:n.slice(0,-1).join("_")||t,action:a}},Cee=r=>{const t=new Map;for(const a of r){const s=Ev(a.moduleName),{featureKey:i,action:c}=wee(a.permissionCode);t.has(s)||t.set(s,new Map);const o=t.get(s);o.has(i)||o.set(i,[]),o.get(i).push({...a,action:c})}return Array.from(t.entries()).sort(([a],[s])=>a.localeCompare(s)).map(([a,s])=>{const i=Array.from(s.entries()).sort(([c],[o])=>c.localeCompare(o)).map(([c,o])=>(o.sort((d,l)=>{const u=String(d.action||"").localeCompare(String(l.action||""));return u!==0?u:String(d.permissionName||"").localeCompare(String(l.permissionName||""))}),{featureKey:c,items:o}));return{moduleName:a,features:i}})},Ww=(r,t)=>{let n=0;for(const a of r)t.has(a)&&n++;return{selected:n,total:r.length}},C0=r=>String(r||"").toLowerCase().replace(/[^a-z0-9]+/g,""),X8=r=>{const t=new Map;for(const s of r){const i=String(s||"").trim();i&&t.set(i,(t.get(i)||0)+1)}let n="",a=0;for(const[s,i]of t.entries())i>a&&(n=s,a=i);return{value:n,count:a}},Y8=({checked:r,indeterminate:t,disabled:n,onChange:a,ariaLabel:s})=>{const i=Ct.useRef(null);return Ct.useEffect(()=>{i.current&&(i.current.indeterminate=t)},[t]),e.jsx("input",{ref:i,type:"checkbox",checked:r,disabled:n,onChange:a,"aria-label":s})},Nee=()=>{const{permissions:r,logout:t}=Yn(),n=qa(),a=jn(),[s,i]=Ct.useState(!1),c=Cc(r,"ROLE_PERMISSIONS_MANAGE"),o=r.includes("*"),[d,l]=Ct.useState([]),[u,h]=Ct.useState(""),[f,A]=Ct.useState([]),[g,m]=Ct.useState([]),[x,y]=Ct.useState(""),[j,b]=Ct.useState(new Set),[S,w]=Ct.useState(new Set),[E,I]=Ct.useState(""),[L,J]=Ct.useState(!0),[ae,G]=Ct.useState(!1),[le,V]=Ct.useState(null),[me,$]=Ct.useState(new Set),[ee,we]=Ct.useState(new Set),[R,q]=Ct.useState("all");Ct.useEffect(()=>{c||n("/dashboard",{replace:!0,state:{from:a}})},[c,n,a]),Ct.useEffect(()=>{(async()=>{J(!0),V(null);try{const Pe=await Qw.listPermissions();if(m(Pe),o){const _e=await ha.getAllCompanies(!0);l(_e),!u&&_e.length>0&&h(_e[0].id)}$(new Set)}catch(Pe){V((Pe==null?void 0:Pe.message)||"Failed to load roles/permissions")}finally{J(!1)}})()},[o]),Ct.useEffect(()=>{const ne=async()=>{if(o&&!u){A([]),y(""),b(new Set);return}V(null);try{const Pe=await zp.getAllRoles(o?u:void 0,!1);A(Pe),x&&!Pe.some(_e=>_e.roleId===x)&&(y(""),b(new Set))}catch(Pe){A([]),y(""),b(new Set),V((Pe==null?void 0:Pe.message)||"Failed to load roles")}};c&&ne()},[c,o,u]),Ct.useEffect(()=>{(async()=>{if(!x){b(new Set),w(new Set);return}V(null);try{const Pe=await Qw.getRolePermissionCodes(x),_e=new Set(Pe);b(_e),w(new Set(_e))}catch(Pe){V((Pe==null?void 0:Pe.message)||"Failed to load role permissions")}})()},[x]);const ie=Ct.useMemo(()=>{const ne=E.trim().toLowerCase();return ne?g.filter(Pe=>`${Pe.moduleName} ${Pe.permissionCode} ${Pe.permissionName} ${Pe.description||""}`.toLowerCase().includes(ne)):g},[g,E]),Z=Ct.useMemo(()=>Cee(ie),[ie]),D=Ct.useMemo(()=>{const ne=new Map;for(const Pe of g)ne.set(Pe.permissionCode,Pe);return ne},[g]),ue=Ct.useMemo(()=>{const ne=[];for(const Pe of Array.from(j)){const _e=D.get(Pe);_e?ne.push(_e):ne.push({permissionId:Pe,permissionCode:Pe,permissionName:Pe,moduleName:"General",description:null,isActive:!0})}return ne.sort((Pe,_e)=>{const rt=Ev(Pe.moduleName).localeCompare(Ev(_e.moduleName));return rt!==0?rt:String(Pe.permissionCode).localeCompare(String(_e.permissionCode))}),ne},[j,D]),te=Ct.useMemo(()=>{const ne=new Map;for(const _e of ue){const rt=Ev(_e.moduleName);ne.has(rt)||ne.set(rt,[]),ne.get(rt).push(_e.permissionCode)}const Pe=Array.from(ne.entries()).map(([_e,rt])=>(rt.sort((et,Le)=>et.localeCompare(Le)),{moduleName:_e,codes:rt}));return Pe.sort((_e,rt)=>_e.moduleName.localeCompare(rt.moduleName)),Pe},[ue]),ye=Ct.useMemo(()=>{let ne=0;for(const Pe of j)S.has(Pe)||ne++;for(const Pe of S)j.has(Pe)||ne++;return ne},[j,S]),pe=ne=>{b(Pe=>{const _e=new Set(Pe),{selected:rt,total:et}=Ww(ne,Pe),Le=rt!==et;for(const it of ne)Le?_e.add(it):_e.delete(it);return _e})},je=ne=>{b(Pe=>{const _e=new Set(Pe);for(const rt of ne)_e.add(rt);return _e})},re=ne=>{b(Pe=>{const _e=new Set(Pe);for(const rt of ne)_e.delete(rt);return _e})},he=(ne,Pe,_e)=>R==="all"?!0:R==="enabled"?ne>0:R==="disabled"?ne<Pe:R==="partial"?ne>0&&ne<Pe:R==="system"?_e:!0,X=(ne,Pe)=>R==="all"?!0:R==="enabled"?ne:R==="disabled"?!ne:R==="system"?Pe:!0,Ae=ne=>{b(Pe=>{const _e=new Set(Pe);return _e.has(ne)?_e.delete(ne):_e.add(ne),_e})},Be=(ne,Pe)=>{$(_e=>{const rt=new Set(_e);return Pe?rt.add(ne):rt.delete(ne),rt})},Me=(ne,Pe)=>{we(_e=>{const rt=new Set(_e);return Pe?rt.add(ne):rt.delete(ne),rt})},$e=async()=>{if(!x){V("Please select a role");return}G(!0),V(null);try{const ne=Array.from(j).sort();await Qw.replaceRolePermissions(x,ne),w(new Set(j))}catch(ne){V((ne==null?void 0:ne.message)||"Failed to save permissions")}finally{G(!1)}};return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar sidebar ${s?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-header",children:[e.jsxs("div",{className:"brand",children:[e.jsx("div",{className:"logo-container",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]})}),!s&&e.jsxs("div",{className:"brand-text",children:[e.jsx("span",{className:"brand-title",children:"MEDI-WASTE"}),e.jsx("span",{className:"brand-subtitle",children:"Enterprise Platform"})]})]}),e.jsx("button",{className:"toggle-button",onClick:()=>i(ne=>!ne),"aria-label":s?"Expand sidebar":"Collapse sidebar",type:"button",children:e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:s?e.jsx("path",{d:"M9 18l6-6-6-6"}):e.jsx("path",{d:"M15 18l-6-6 6-6"})})})]}),(()=>{const Pe=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:a.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:a.pathname==="/transaction"||a.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:a.pathname==="/finance"||a.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:a.pathname==="/commercial-agreements"||a.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:a.pathname==="/compliance-training"||a.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:a.pathname==="/master"||a.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:a.pathname.startsWith("/report")},{path:"/admin/dashboard-configuration",label:"Dashboard Configuration",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),active:a.pathname==="/admin/dashboard-configuration"||a.pathname.startsWith("/admin/dashboard-configuration")},{path:"/admin/permission-configuration",label:"Permission Configuration",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M12 1l3 5 5 .5-3.6 3.3 1.1 5.2L12 12.9 6.5 15l1.1-5.2L4 6.5 9 6z"}),e.jsx("path",{d:"M20 21v-7a2 2 0 0 0-2-2h-3"}),e.jsx("path",{d:"M4 21v-7a2 2 0 0 1 2-2h3"})]}),active:a.pathname==="/admin/permission-configuration"||a.pathname.startsWith("/admin/permission-configuration")}].filter(_e=>_e.path==="/dashboard"?!0:_e.path==="/transaction"?ka(r,"transaction"):_e.path==="/finance"?ka(r,"finance"):_e.path==="/commercial-agreements"?ka(r,"commercial"):_e.path==="/compliance-training"?ka(r,"compliance"):_e.path==="/master"?ka(r,"master"):_e.path==="/report"?ka(r,"report"):_e.path==="/admin/permission-configuration"?c:!0);return e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:Pe.map(_e=>e.jsx("li",{children:e.jsxs(Hr,{to:_e.path,className:`nav-link ${_e.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:_e.icon}),!s&&e.jsx("span",{className:"nav-label",children:_e.label})]})},_e.path))})})})(),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs(Hr,{to:"/profile",className:`sidebar-profile-btn ${a.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!s&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:t,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!s&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(_a,{title:"Permission Configuration",subtitle:"Manage user roles and permissions"}),e.jsx("div",{className:"dashboard-page-content",style:{padding:"24px",overflowY:"auto",flex:1},children:e.jsxs("div",{className:"perm-config-page",children:[e.jsxs("div",{className:"perm-config-header",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Permission Configuration"}),e.jsxs("p",{children:["Assign permissions to roles (writes to existing ",e.jsx("code",{children:"role_permissions"})," table)"]})]}),e.jsxs("div",{className:"perm-config-save-wrap",children:[ye>0?e.jsx("div",{className:"perm-config-unsaved",children:"Unsaved changes"}):null,e.jsx("button",{className:"perm-config-save",onClick:$e,disabled:ae||L||!x||ye===0,title:ye===0?"No changes to save":"Save role permissions",children:ae?"Saving...":ye>0?`Save changes (${ye})`:"Saved"})]})]}),e.jsxs("div",{className:`perm-config-controls ${o?"perm-config-controls--company":""}`,children:[o?e.jsxs("div",{className:"perm-config-control",children:[e.jsx("label",{children:"Company"}),e.jsxs("select",{value:u,onChange:ne=>{h(ne.target.value),y(""),b(new Set),w(new Set)},children:[e.jsx("option",{value:"",children:"Select company..."}),d.map(ne=>e.jsx("option",{value:ne.id,children:ne.companyName},ne.id))]})]}):null,e.jsxs("div",{className:"perm-config-control",children:[e.jsx("label",{children:"Role"}),e.jsxs("select",{value:x,onChange:ne=>y(ne.target.value),children:[e.jsx("option",{value:"",children:"Select role..."}),f.length===0&&!L?e.jsx("option",{value:"",disabled:!0,children:"No roles found"}):null,f.map(ne=>e.jsx("option",{value:ne.roleId,children:ne.roleName},ne.roleId))]})]}),e.jsxs("div",{className:"perm-config-control perm-config-control--search",children:[e.jsx("label",{children:"Search"}),e.jsx("input",{value:E,onChange:ne=>I(ne.target.value),placeholder:"Search by menu / module / code / operation..."})]}),e.jsxs("div",{className:"perm-config-filters","aria-label":"Filters",children:[e.jsxs("div",{className:"perm-config-filters-left",children:[e.jsx("span",{className:"perm-config-filters-label",children:"Filter:"}),e.jsxs("div",{className:"perm-config-filter-pills",role:"tablist","aria-label":"Permission filters",children:[e.jsx("button",{type:"button",className:`perm-config-pill ${R==="all"?"active":""}`,onClick:()=>q("all"),children:"All"}),e.jsx("button",{type:"button",className:`perm-config-pill ${R==="enabled"?"active":""}`,onClick:()=>q("enabled"),children:"Enabled"}),e.jsx("button",{type:"button",className:`perm-config-pill ${R==="partial"?"active":""}`,onClick:()=>q("partial"),children:"Partial"}),e.jsx("button",{type:"button",className:`perm-config-pill ${R==="disabled"?"active":""}`,onClick:()=>q("disabled"),children:"Disabled"}),e.jsxs("button",{type:"button",className:`perm-config-pill ${R==="system"?"active":""}`,onClick:()=>q("system"),children:[e.jsx("span",{className:"legend-lock","aria-hidden":!0,children:""})," ","System"]})]})]}),e.jsx("button",{className:"perm-config-clear-link",type:"button",onClick:()=>b(new Set),disabled:L||ae||!x,children:"Clear selection"})]})]}),le&&e.jsx("div",{className:"perm-config-error",children:le}),L?e.jsx("div",{className:"perm-config-loading",children:"Loading..."}):x?e.jsxs("div",{className:"perm-config-layout",children:[e.jsx("section",{className:"perm-config-tree",children:Z.length===0?e.jsx("div",{className:"perm-config-empty",children:"No permissions match your search."}):Z.map(ne=>{const Pe=ne.features.flatMap(Wt=>Wt.items.map(qe=>qe.permissionCode)),_e=Ww(Pe,j),rt=_e.total>0&&_e.selected===_e.total,et=_e.selected>0&&_e.selected<_e.total,Le=me.has(ne.moduleName),it=ne.features.some(Wt=>Wt.items.some(qe=>qe.isActive===!1));return he(_e.selected,_e.total,it)?e.jsxs("div",{className:"module-card",children:[e.jsxs("div",{className:"module-card-header",children:[e.jsxs("div",{className:"module-card-left",children:[e.jsx(Y8,{checked:rt,indeterminate:et,disabled:L||ae,onChange:()=>pe(Pe),ariaLabel:`Toggle module ${ne.moduleName}`}),e.jsxs("div",{className:"module-card-title",children:[e.jsx("div",{className:"module-card-name",children:ne.moduleName}),e.jsx("div",{className:"module-card-meta",children:Le?`${_e.selected} of ${_e.total} selected`:_e.selected>0?`${_e.selected} selected`:"Expand to view items"})]})]}),e.jsxs("div",{className:"module-card-right",children:[Le?e.jsxs("div",{className:"module-bulk-actions",children:[e.jsx("button",{type:"button",className:"perm-config-btn perm-config-btn--ghost perm-config-btn--tiny",onClick:()=>je(Pe),disabled:L||ae||Pe.length===0,children:"Select all"}),e.jsx("button",{type:"button",className:"perm-config-btn perm-config-btn--ghost perm-config-btn--tiny",onClick:()=>re(Pe),disabled:L||ae||Pe.length===0,children:"Clear"})]}):null,e.jsx("button",{type:"button",className:"module-card-expander",onClick:()=>Be(ne.moduleName,!Le),"aria-label":Le?`Collapse ${ne.moduleName}`:`Expand ${ne.moduleName}`,children:Le?"":""})]})]}),Le?e.jsxs("div",{className:"module-card-body",children:[(()=>{const Wt=ne.features.find(St=>C0(St.featureKey)===C0(ne.moduleName));if(!Wt)return null;const qe=Wt.items;return!qe||qe.length===0?null:e.jsx("div",{className:"module-actions",children:qe.map(St=>{const _t=!!(L||ae||St.isActive===!1),ar=St.isActive===!1,en=j.has(St.permissionCode);return X(en,ar)?e.jsxs("label",{className:`action-item module-action-item ${_t?"action-item--disabled":""}`,title:St.permissionCode,children:[e.jsx("input",{type:"checkbox",checked:en,onChange:()=>Ae(St.permissionCode),disabled:_t}),e.jsxs("span",{className:"action-text",children:[e.jsx("span",{className:"action-name",children:St.permissionName||St.action}),e.jsx("span",{className:"action-code",children:St.permissionCode})]}),ar?e.jsx("span",{className:"action-lock","aria-label":"System permission",children:""}):null]},St.permissionId):null})})})(),ne.features.filter(Wt=>C0(Wt.featureKey)!==C0(ne.moduleName)).map(Wt=>{const qe=`${ne.moduleName}::${Wt.featureKey}`,St=Wt.items.map($t=>$t.permissionCode),_t=Ww(St,j),ar=_t.total>0&&_t.selected===_t.total,en=_t.selected>0&&_t.selected<_t.total,Xt=ee.has(qe),Yr=Wt.items.some($t=>$t.isActive===!1);if(!he(_t.selected,_t.total,Yr))return null;const Qr=X8(Wt.items.map($t=>$t.permissionName)),He=X8(Wt.items.map($t=>$t.description)),Rt=Qr.count>=2&&Qr.value?Qr.value:Wt.featureKey,ot=He.count>=2&&He.value?He.value:"",Ht=Rt!==Wt.featureKey;return e.jsxs("div",{className:"entity-section",children:[e.jsxs("div",{className:"entity-header",children:[e.jsxs("div",{className:"entity-header-left",children:[e.jsx(Y8,{checked:ar,indeterminate:en,disabled:L||ae,onChange:()=>pe(St),ariaLabel:`Toggle entity ${Rt}`}),e.jsxs("div",{className:"entity-title",children:[e.jsx("div",{className:"entity-name",children:Rt}),ot?e.jsx("div",{className:"entity-desc",children:ot}):null,e.jsx("div",{className:"entity-meta",children:`${_t.selected} of ${_t.total} selected`})]})]}),e.jsxs("div",{className:"entity-header-right",children:[e.jsxs("div",{className:"entity-bulk-actions","aria-label":"Entity bulk actions",children:[e.jsx("button",{type:"button",className:"perm-config-btn perm-config-btn--ghost perm-config-btn--tiny",onClick:()=>je(St),disabled:L||ae||St.length===0,title:"Select all actions in this entity",children:"Select all"}),e.jsx("button",{type:"button",className:"perm-config-btn perm-config-btn--ghost perm-config-btn--tiny",onClick:()=>re(St),disabled:L||ae||St.length===0,title:"Clear all actions in this entity",children:"Clear"})]}),e.jsx("button",{type:"button",className:"entity-expander entity-expander--icon",onClick:()=>Me(qe,!Xt),"aria-label":Xt?`Collapse ${Rt}`:`Expand ${Rt}`,title:Xt?"Collapse":"Expand",children:Xt?"":""})]})]}),Xt?e.jsxs("div",{className:"entity-actions",children:[e.jsx("div",{className:`action-grid ${Ht?"action-grid--chips":"action-grid--list"}`,children:Wt.items.filter($t=>{const Dr=$t.isActive===!1,Fr=j.has($t.permissionCode);return X(Fr,Dr)}).map($t=>{const Dr=!!(L||ae||$t.isActive===!1),Fr=$t.isActive===!1,Jr=j.has($t.permissionCode);return e.jsxs("label",{className:`action-item ${Ht?"action-item--chip":""} ${Dr?"action-item--disabled":""}`,title:$t.permissionCode,children:[e.jsx("input",{type:"checkbox",checked:Jr,onChange:()=>Ae($t.permissionCode),disabled:Dr}),Ht?e.jsx("span",{className:"action-chip-label",children:String($t.action||"").toUpperCase()}):e.jsxs("span",{className:"action-text",children:[e.jsx("span",{className:"action-name",children:$t.permissionName||$t.action}),e.jsx("span",{className:"action-code",children:$t.permissionCode})]}),Fr?e.jsx("span",{className:"action-lock","aria-label":"System permission",children:""}):null]},$t.permissionId)})}),e.jsx("div",{className:"entity-footnote",children:Wt.items.length>0?e.jsx("span",{className:"muted",children:"Permission codes are saved exactly as-is."}):null})]}):null]},qe)})]}):null]},ne.moduleName):null})}),e.jsxs("aside",{className:"perm-config-selected",children:[e.jsx("div",{className:"perm-config-selected-header",children:e.jsxs("div",{children:[e.jsx("div",{className:"perm-config-selected-title",children:"Selected permissions"}),e.jsxs("div",{className:"perm-config-selected-subtitle",children:[ue.length," selected"]})]})}),ue.length===0?e.jsxs("div",{className:"perm-config-selected-empty",children:[e.jsx("div",{className:"perm-config-selected-empty-icon","aria-hidden":!0,children:e.jsxs("svg",{width:"44",height:"44",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M12 2l7 4v6c0 5-3 9-7 10-4-1-7-5-7-10V6l7-4z"}),e.jsx("path",{d:"M9 12h6"}),e.jsx("path",{d:"M12 9v6"})]})}),e.jsx("div",{className:"perm-config-selected-empty-title",children:"No permissions selected"}),e.jsx("div",{className:"perm-config-selected-empty-subtitle",children:"Select permissions from the left tree (Module  Entity  Action). Your selection will appear here grouped by module."})]}):e.jsx("div",{className:"perm-config-selected-list",children:te.map(ne=>e.jsxs("div",{className:"selected-module-group",children:[e.jsxs("div",{className:"selected-module-header",children:[e.jsx("span",{className:"selected-module-name",children:ne.moduleName}),e.jsx("span",{className:"selected-module-count",children:ne.codes.length})]}),e.jsx("ul",{className:"selected-code-list",children:ne.codes.map(Pe=>e.jsxs("li",{className:"selected-code-item",children:[e.jsx("code",{className:"selected-code",children:Pe}),e.jsx("button",{type:"button",className:"perm-config-btn perm-config-btn--ghost perm-config-btn--tiny",onClick:()=>Ae(Pe),"aria-label":`Remove ${Pe}`,children:"Remove"})]},Pe))})]},ne.moduleName))})]})]}):e.jsx("div",{className:"perm-config-empty",children:"Select a role to view and assign permissions."})]})})]})]})};function wS(r,t){return(Array.isArray(r)?r:[]).includes("*")?[{path:"/admin/dashboard-configuration",label:"Dashboard Configuration",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),active:t==="/admin/dashboard-configuration"||t.startsWith("/admin/dashboard-configuration")},{path:"/admin/permission-configuration",label:"Permission Configuration",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M12 1l3 5 5 .5-3.6 3.3 1.1 5.2L12 12.9 6.5 15l1.1-5.2L4 6.5 9 6z"}),e.jsx("path",{d:"M20 21v-7a2 2 0 0 0-2-2h-3"}),e.jsx("path",{d:"M4 21v-7a2 2 0 0 1 2-2h3"})]}),active:t==="/admin/permission-configuration"||t.startsWith("/admin/permission-configuration")}]:[]}function xs(r,t){return[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:t==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:t==="/transaction"||t.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:t==="/finance"||t.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:t==="/commercial-agreements"||t.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:t==="/compliance-training"||t.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:t==="/master"||t.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:t.startsWith("/report")},...wS(r,t)].filter(a=>a.path==="/dashboard"?ka(r,"dashboard"):a.path==="/transaction"?ka(r,"transaction"):a.path==="/finance"?ka(r,"finance"):a.path==="/commercial-agreements"?ka(r,"commercial"):a.path==="/compliance-training"?ka(r,"compliance"):a.path==="/master"?ka(r,"master"):a.path==="/report"?ka(r,"report"):!0)}function See(){var u;const{logout:r,permissions:t,permissionsLoading:n,permissionsReady:a}=Yn(),s=jn(),i=qa(),c=(u=s.state)==null?void 0:u.from,[o,d]=Ct.useState(!1),l=xs(t,s.pathname);return Ct.useEffect(()=>{n||!a||(Array.isArray(t)?t:[]).length===0||(!c||c==="/dashboard")&&i("/dashboard",{replace:!0})},[c,i,t,n,a]),!n&&a&&(Array.isArray(t)?t:[]).length>0&&(!c||c==="/dashboard")?e.jsx(Jp,{to:"/dashboard",replace:!0}):e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${o?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!o&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:()=>d(h=>!h),"aria-label":o?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:o?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:l.map(h=>e.jsx("li",{children:e.jsxs(Hr,{to:h.path,className:`nav-link ${h.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:h.icon}),!o&&e.jsx("span",{className:"nav-label",children:h.label})]})},h.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs(Hr,{to:"/profile",className:`sidebar-profile-btn ${s.pathname==="/profile"?"sidebar-profile-btn--active":""}`,children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!o&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!o&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(_a,{title:"Not Authorized",subtitle:"You don't have permission to access this page"}),e.jsx("div",{className:"dashboard-page-content",style:{padding:"24px",overflowY:"auto",flex:1},children:e.jsx("div",{className:"not-auth-page",children:e.jsxs("div",{className:"not-auth-card",children:[e.jsx("div",{className:"not-auth-title",children:"Not authorized"}),e.jsx("div",{className:"not-auth-subtitle",children:"You dont have permission to access this page."}),e.jsxs("div",{className:"not-auth-meta",children:[e.jsx("div",{className:"not-auth-meta-label",children:"Requested"}),e.jsx("div",{className:"not-auth-meta-value",children:c||s.pathname})]}),e.jsx("div",{className:"not-auth-actions",children:e.jsx(Hr,{className:"not-auth-btn not-auth-btn--primary",to:"/dashboard",children:"Go to Dashboard"})})]})})})]})]})}const Eee=()=>{const{logout:r,permissions:t}=Yn(),n=jn(),[a,s]=C.useState(""),[i,c]=C.useState(!1),o=()=>{c(!i)},l=[{id:"route-assignment",title:"Route Assignment",description:"Assign routes to vehicles and drivers",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),e.jsx("circle",{cx:"12",cy:"10",r:"3"}),e.jsx("path",{d:"M12 13l-2-2"}),e.jsx("path",{d:"M12 13l2-2"})]}),path:"/transaction/route-assignment"},{id:"barcode-generation",title:"Barcode Generation",description:"Generate and manage barcodes for waste containers",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"7",y1:"8",x2:"7",y2:"16"}),e.jsx("line",{x1:"11",y1:"8",x2:"11",y2:"16"}),e.jsx("line",{x1:"15",y1:"8",x2:"15",y2:"16"}),e.jsx("line",{x1:"19",y1:"8",x2:"19",y2:"16"})]}),path:"/transaction/barcode-generation"},{id:"waste-collection",title:"Waste Collection",description:"Record and manage waste collection transactions",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),path:"/transaction/waste-collection"},{id:"waste-transaction-data",title:"Waste Transaction Data",description:"View and manage all waste transaction records",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"}),e.jsx("line",{x1:"8",y1:"4",x2:"8",y2:"24"})]}),path:"/transaction/waste-transaction-data"},{id:"vehicle-wise-waste-collection",title:"Vehicle-Wise Waste Collection",description:"Track waste collection by vehicle",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),e.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]}),path:"/transaction/vehicle-wise-waste-collection"},{id:"waste-processing",title:"Waste Processing",description:"Manage daily plant operations for incineration and autoclave",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M12 6v6l4 2"})]}),path:"/transaction/waste-processing"},{id:"incident-register",title:"Incident Register",description:"Manage and track incident reports and safety issues",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),e.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),e.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),path:"/transaction/incident-register"},{id:"incineration-register",title:"Incineration Register",description:"Manage and track incineration operations and compliance",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M12 6v6l4 2"}),e.jsx("path",{d:"M8 12h8"})]}),path:"/transaction/incineration-register"},{id:"autoclave-register",title:"Autoclave Register",description:"Manage and track autoclave operations and compliance",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6"})]}),path:"/transaction/autoclave-register"},{id:"shredder-register",title:"Shredder Register",description:"Manage and track shredder operations and compliance",icon:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),path:"/transaction/shredder-register"},{id:"disposal-register",title:"Disposal Register",description:"Manage and track waste disposal operations and compliance",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 3h18v18H3z"}),e.jsx("path",{d:"M9 9h6v6H9z"}),e.jsx("path",{d:"M3 12h18"}),e.jsx("path",{d:"M12 3v18"})]}),path:"/transaction/disposal-register"},{id:"emission-register",title:"Emission Register",description:"Manage and track emission monitoring and compliance",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M12 2v4"}),e.jsx("path",{d:"M12 18v4"}),e.jsx("path",{d:"M4.93 4.93l2.83 2.83"}),e.jsx("path",{d:"M16.24 16.24l2.83 2.83"}),e.jsx("path",{d:"M2 12h4"}),e.jsx("path",{d:"M18 12h4"}),e.jsx("path",{d:"M4.93 19.07l2.83-2.83"}),e.jsx("path",{d:"M16.24 7.76l2.83-2.83"})]}),path:"/transaction/emission-register"},{id:"etp-register",title:"ETP Register",description:"Manage and track Effluent Treatment Plant operations and compliance",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"}),e.jsx("path",{d:"M12 2v4"}),e.jsx("path",{d:"M12 18v4"})]}),path:"/transaction/etp-register"},{id:"downtime-register",title:"Downtime Register",description:"Manage and track equipment downtime and breakdowns",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M12 6v6l4 2"}),e.jsx("path",{d:"M8 12h8"})]}),path:"/transaction/downtime-register"}].filter(g=>g.title.toLowerCase().includes(a.toLowerCase())||g.description.toLowerCase().includes(a.toLowerCase())),u=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:n.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:n.pathname==="/transaction"||n.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:n.pathname==="/finance"||n.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname==="/commercial-agreements"||n.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:n.pathname==="/compliance-training"||n.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:n.pathname==="/master"||n.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname.startsWith("/report")},...Array.isArray(t)&&t.includes("*")?[{path:"/admin/dashboard-configuration",label:"Dashboard Configuration",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),active:n.pathname==="/admin/dashboard-configuration"||n.pathname.startsWith("/admin/dashboard-configuration")},{path:"/admin/permission-configuration",label:"Permission Configuration",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M12 1l3 5 5 .5-3.6 3.3 1.1 5.2L12 12.9 6.5 15l1.1-5.2L4 6.5 9 6z"}),e.jsx("path",{d:"M20 21v-7a2 2 0 0 0-2-2h-3"}),e.jsx("path",{d:"M4 21v-7a2 2 0 0 1 2-2h3"})]}),active:n.pathname==="/admin/permission-configuration"||n.pathname.startsWith("/admin/permission-configuration")}]:[]],h={"route-assignment":"ROUTE_ASSIGNMENT_VIEW","barcode-generation":"BARCODE_LABEL_VIEW","waste-collection":"WASTE_COLLECTION_VIEW","waste-transaction-data":"WASTE_TRANSACTION_VIEW","vehicle-wise-waste-collection":"VEHICLE_WASTE_COLLECTION_VIEW","waste-processing":"WASTE_PROCESS_VIEW","incident-register":"INCIDENT_REGISTER_VIEW","incineration-register":"INCINERATION_REGISTER_VIEW","autoclave-register":"AUTOCLAVE_REGISTER_VIEW","shredder-register":"SHREDDER_REGISTER_VIEW","disposal-register":"DISPOSAL_REGISTER_VIEW","emission-register":"EMISSION_REGISTER_VIEW","etp-register":"ETP_REGISTER_VIEW","downtime-register":"DOWNTIME_REGISTER_VIEW"},f=g=>{const m=Array.isArray(t)?t:[];if(m.includes("*"))return!0;const x=h[g];return x?Cc(m,x):!1},A=u.filter(g=>g.path==="/dashboard"?ka(t,"dashboard"):g.path==="/transaction"?ka(t,"transaction"):g.path==="/finance"?ka(t,"finance"):g.path==="/commercial-agreements"?ka(t,"commercial"):g.path==="/compliance-training"?ka(t,"compliance"):g.path==="/master"?ka(t,"master"):g.path==="/report"?ka(t,"report"):!0);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar sidebar ${i?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-header",children:[e.jsxs("div",{className:"brand",children:[e.jsx("div",{className:"logo-container",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]})}),!i&&e.jsxs("div",{className:"brand-text",children:[e.jsx("span",{className:"brand-title",children:"MEDI-WASTE"}),e.jsx("span",{className:"brand-subtitle",children:"Enterprise Platform"})]})]}),e.jsx("button",{className:"toggle-button",onClick:o,"aria-label":i?"Expand sidebar":"Collapse sidebar",type:"button",children:e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:i?e.jsx("path",{d:"M9 18l6-6-6-6"}):e.jsx("path",{d:"M15 18l-6-6 6-6"})})})]}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:A.map(g=>e.jsx("li",{children:e.jsxs(Hr,{to:g.path,className:`nav-link ${g.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:g.icon}),!i&&e.jsx("span",{className:"nav-label",children:g.label})]})},g.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Hr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!i&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!i&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(_a,{title:"Transaction",subtitle:"Manage transactions and operations"}),e.jsxs("div",{className:"master-page",children:[e.jsx("div",{className:"master-header",children:e.jsxs("div",{className:"master-title-section",children:[e.jsx("h1",{className:"master-title",children:"Transaction"}),e.jsx("p",{className:"master-subtitle",children:"Manage your transactions at one place"})]})}),e.jsx("div",{className:"master-search-section",children:e.jsxs("div",{className:"master-search-box",children:[e.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:a,onChange:g=>s(g.target.value)})]})}),e.jsxs("div",{className:"master-grid",children:[l.filter(g=>f(g.id)).map(g=>e.jsxs(Hr,{to:g.path,className:"master-card",children:[e.jsx("div",{className:"master-card-icon",children:g.icon}),e.jsx("h3",{className:"master-card-title",children:g.title}),e.jsx("p",{className:"master-card-description",children:g.description})]},g.id)),l.filter(g=>f(g.id)).length===0?e.jsx("div",{style:{color:"#64748b",fontSize:13,padding:"8px 4px"},children:"No transaction modules available for your permissions."}):null]})]})]})]})},Bee=()=>{const{logout:r,permissions:t}=Yn(),n=jn(),[a,s]=C.useState(""),[i,c]=C.useState(!1),o=()=>{c(!i)},d=[{id:"invoice-management",title:"Invoice Management",description:"Create, manage and track invoices",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/finance/invoice-management"},{id:"receipt-management",title:"Receipt Management",description:"Generate and manage payment receipts",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),path:"/finance/receipt-management"},{id:"financial-balance-summary",title:"Financial Balance Summary",description:"View financial balance and summary reports",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),path:"/finance/financial-balance-summary"}],l={"invoice-management":["INVOICE_VIEW","INVOICE_CREATE","INVOICE_UPDATE","INVOICE_DELETE"],"receipt-management":["INVOICE_VIEW","INVOICE_CREATE"],"financial-balance-summary":["INVOICE_VIEW","INVOICE_CREATE"]},u=A=>{const g=Array.isArray(t)?t:[];return g.includes("*")?!0:(l[A]||[]).some(x=>Cc(g,x))},h=d.filter(A=>u(A.id)).filter(A=>A.title.toLowerCase().includes(a.toLowerCase())||A.description.toLowerCase().includes(a.toLowerCase())),f=xs(t,n.pathname);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar sidebar ${i?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-header",children:[e.jsxs("div",{className:"brand",children:[e.jsx("div",{className:"logo-container",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]})}),!i&&e.jsxs("div",{className:"brand-text",children:[e.jsx("span",{className:"brand-title",children:"MEDI-WASTE"}),e.jsx("span",{className:"brand-subtitle",children:"Enterprise Platform"})]})]}),e.jsx("button",{className:"toggle-button",onClick:o,"aria-label":i?"Expand sidebar":"Collapse sidebar",type:"button",children:e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:i?e.jsx("path",{d:"M9 18l6-6-6-6"}):e.jsx("path",{d:"M15 18l-6-6 6-6"})})})]}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:f.map(A=>e.jsx("li",{children:e.jsxs(Hr,{to:A.path,className:`nav-link ${A.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:A.icon}),!i&&e.jsx("span",{className:"nav-label",children:A.label})]})},A.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Hr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!i&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!i&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(_a,{title:"Finance",subtitle:"Manage financial operations and reports"}),e.jsxs("div",{className:"master-page",children:[e.jsx("div",{className:"master-header",children:e.jsxs("div",{className:"master-title-section",children:[e.jsx("h1",{className:"master-title",children:"Finance"}),e.jsx("p",{className:"master-subtitle",children:"Manage your financial operations at one place"})]})}),e.jsx("div",{className:"master-search-section",children:e.jsxs("div",{className:"master-search-box",children:[e.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:a,onChange:A=>s(A.target.value)})]})}),e.jsx("div",{className:"master-grid",children:h.length===0?e.jsx("div",{style:{color:"#64748b",fontSize:13,padding:"8px 4px"},children:"No finance modules available for your permissions."}):h.map(A=>e.jsxs(Hr,{to:A.path,className:"master-card",children:[e.jsx("div",{className:"master-card-icon",children:A.icon}),e.jsx("h3",{className:"master-card-title",children:A.title}),e.jsx("p",{className:"master-card-description",children:A.description})]},A.id))})]})]})]})},Iee=()=>{const{logout:r,permissions:t}=Yn(),n=jn(),[a,s]=C.useState(""),[i,c]=C.useState(!1),o=()=>{c(!i)},d=[{id:"contract-master",title:"Contract Master",description:"Manage contracts and commercial line items",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),path:"/commercial-agreements/contract-master"},{id:"agreement",title:"Agreement Management",description:"Generate and manage agreement documents",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("path",{d:"M9 15l2 2 4-4"})]}),path:"/commercial-agreements/agreement"},{id:"agreement-clause",title:"Agreement Clause Management",description:"Manage legal clauses for agreements",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/commercial-agreements/agreement-clause"}],l={"contract-master":["CONTRACT_VIEW","CONTRACT_CREATE","CONTRACT_EDIT","CONTRACT_DELETE"],agreement:["AGREEMENT_VIEW","AGREEMENT_CREATE","AGREEMENT_EDIT","AGREEMENT_DELETE"],"agreement-clause":["AGREEMENT_CLAUSE_VIEW","AGREEMENT_CLAUSE_CREATE","AGREEMENT_CLAUSE_EDIT","AGREEMENT_CLAUSE_DELETE"]},u=A=>{const g=Array.isArray(t)?t:[];return g.includes("*")?!0:(l[A]||[]).some(x=>Cc(g,x))},h=d.filter(A=>u(A.id)).filter(A=>A.title.toLowerCase().includes(a.toLowerCase())||A.description.toLowerCase().includes(a.toLowerCase())),f=xs(t,n.pathname);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar sidebar ${i?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-header",children:[e.jsxs("div",{className:"brand",children:[e.jsx("div",{className:"logo-container",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]})}),!i&&e.jsxs("div",{className:"brand-text",children:[e.jsx("span",{className:"brand-title",children:"MEDI-WASTE"}),e.jsx("span",{className:"brand-subtitle",children:"Enterprise Platform"})]})]}),e.jsx("button",{className:"toggle-button",onClick:o,"aria-label":i?"Expand sidebar":"Collapse sidebar",type:"button",children:e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:i?e.jsx("path",{d:"M9 18l6-6-6-6"}):e.jsx("path",{d:"M15 18l-6-6 6-6"})})})]}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:f.map(A=>e.jsx("li",{children:e.jsxs(Hr,{to:A.path,className:`nav-link ${A.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:A.icon}),!i&&e.jsx("span",{className:"nav-label",children:A.label})]})},A.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Hr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!i&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!i&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(_a,{title:"Commercial Agreements",subtitle:"Manage contracts and agreements"}),e.jsxs("div",{className:"master-page",children:[e.jsx("div",{className:"master-header",children:e.jsxs("div",{className:"master-title-section",children:[e.jsx("h1",{className:"master-title",children:"Commercial / Agreements"}),e.jsx("p",{className:"master-subtitle",children:"Manage your commercial agreements at one place"})]})}),e.jsx("div",{className:"master-search-section",children:e.jsxs("div",{className:"master-search-box",children:[e.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:a,onChange:A=>s(A.target.value)})]})}),e.jsx("div",{className:"master-grid",children:h.length===0?e.jsx("div",{style:{color:"#64748b",fontSize:13,padding:"8px 4px"},children:"No commercial modules available for your permissions."}):h.map(A=>e.jsxs(Hr,{to:A.path,className:"master-card",children:[e.jsx("div",{className:"master-card-icon",children:A.icon}),e.jsx("h3",{className:"master-card-title",children:A.title}),e.jsx("p",{className:"master-card-description",children:A.description})]},A.id))})]})]})]})},Tee=()=>{const{logout:r,permissions:t}=Yn(),n=jn(),[a,s]=C.useState(""),[i,c]=C.useState(!1),o=()=>{c(!i)},d=[{id:"training-certificate-management",title:"Training Certificate Management",description:"Manage training certificates and certifications",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("path",{d:"M9 15l2 2 4-4"})]}),path:"/compliance-training/training-certificate-management"}],l={"training-certificate-management":["TRAINING_CERTIFICATE_VIEW","TRAINING_CERTIFICATE_CREATE","TRAINING_CERTIFICATE_EDIT","TRAINING_CERTIFICATE_DELETE"]},u=A=>{const g=Array.isArray(t)?t:[];return g.includes("*")?!0:(l[A]||[]).some(x=>Cc(g,x))},h=d.filter(A=>u(A.id)).filter(A=>A.title.toLowerCase().includes(a.toLowerCase())||A.description.toLowerCase().includes(a.toLowerCase())),f=xs(t,n.pathname);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar sidebar ${i?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-header",children:[e.jsxs("div",{className:"brand",children:[e.jsx("div",{className:"logo-container",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]})}),!i&&e.jsxs("div",{className:"brand-text",children:[e.jsx("span",{className:"brand-title",children:"MEDI-WASTE"}),e.jsx("span",{className:"brand-subtitle",children:"Enterprise Platform"})]})]}),e.jsx("button",{className:"toggle-button",onClick:o,"aria-label":i?"Expand sidebar":"Collapse sidebar",type:"button",children:e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:i?e.jsx("path",{d:"M9 18l6-6-6-6"}):e.jsx("path",{d:"M15 18l-6-6 6-6"})})})]}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:f.map(A=>e.jsx("li",{children:e.jsxs(Hr,{to:A.path,className:`nav-link ${A.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:A.icon}),!i&&e.jsx("span",{className:"nav-label",children:A.label})]})},A.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Hr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!i&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!i&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(_a,{title:"Compliance & Training",subtitle:"Manage compliance and training programs"}),e.jsxs("div",{className:"master-page",children:[e.jsx("div",{className:"master-header",children:e.jsxs("div",{className:"master-title-section",children:[e.jsx("h1",{className:"master-title",children:"Compliance & Training"}),e.jsx("p",{className:"master-subtitle",children:"Manage your compliance and training at one place"})]})}),e.jsx("div",{className:"master-search-section",children:e.jsxs("div",{className:"master-search-box",children:[e.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:a,onChange:A=>s(A.target.value)})]})}),e.jsx("div",{className:"master-grid",children:h.length===0?e.jsx("div",{style:{color:"#64748b",fontSize:13,padding:"8px 4px"},children:"No compliance modules available for your permissions."}):h.map(A=>e.jsxs(Hr,{to:A.path,className:"master-card",children:[e.jsx("div",{className:"master-card-icon",children:A.icon}),e.jsx("h3",{className:"master-card-title",children:A.title}),e.jsx("p",{className:"master-card-description",children:A.description})]},A.id))})]})]})]})},kee=()=>{const{logout:r,permissions:t}=Yn(),n=jn(),[a,s]=C.useState(""),[i,c]=C.useState(!1),o=()=>{c(!i)},l=[{id:"company",title:"Company Master",description:"Manage company information and details",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),path:"/master/company"},{id:"state",title:"State Master",description:"Manage state information and regions",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),e.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),path:"/master/state"},{id:"area",title:"Area Master",description:"Manage area and zone information",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"}),e.jsx("line",{x1:"15",y1:"3",x2:"15",y2:"21"}),e.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),e.jsx("line",{x1:"3",y1:"15",x2:"21",y2:"15"})]}),path:"/master/area"},{id:"category",title:"Category Master",description:"Organize items into categories",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"2",x2:"12",y2:"22"}),e.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"})]}),path:"/master/category"},{id:"color-code",title:"Color Code Master",description:"Manage color coding standards",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor"}),e.jsx("circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor"}),e.jsx("circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor"}),e.jsx("circle",{cx:"11.5",cy:"11.5",r:".5",fill:"currentColor"}),e.jsx("path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.7-.5-1.125-.5-.437 0-.835.19-1.125.5-.289.29-.5.7-.5 1.125 0 .942-.722 1.688-1.648 1.688-3.866 0-7-3.134-7-7s3.134-7 7-7 7 3.134 7 7c0 .437-.19.835-.5 1.125-.29.29-.7.5-1.125.5-.437 0-.835-.19-1.125-.5-.29-.29-.5-.7-.5-1.125 0-.942.722-1.688 1.648-1.688.437 0 .835.19 1.125.5.29.29.5.7.5 1.125 0 .942.722 1.688 1.648 1.688C17.254 22 18 21.254 18 20.328c0-.437-.19-.835-.5-1.125-.29-.29-.7-.5-1.125-.5-.437 0-.835.19-1.125.5-.29.29-.5.7-.5 1.125 0 .942-.722 1.688-1.648 1.688"})]}),path:"/master/color-code"},{id:"pcb-zone",title:"PCB Zone Master",description:"Manage PCB zone configurations",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),e.jsx("circle",{cx:"15.5",cy:"8.5",r:"1.5"}),e.jsx("circle",{cx:"8.5",cy:"15.5",r:"1.5"}),e.jsx("circle",{cx:"15.5",cy:"15.5",r:"1.5"})]}),path:"/master/pcb-zone"},{id:"frequency",title:"Frequency Master",description:"Manage frequency settings and schedules",icon:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"22 12 18 12 15 21 9 3 6 12 2 12"})}),path:"/master/frequency"},{id:"hcf-type",title:"HCF Type Master",description:"Manage Healthcare Facility types",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),path:"/master/hcf-type"},{id:"user-management",title:"User Management",description:"Control user access and permissions",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"9",cy:"7",r:"4"}),e.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),e.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),path:"/master/user-management"},{id:"hcf-master",title:"HCF Master",description:"Manage Healthcare Facility information",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),path:"/master/hcf-master"},{id:"hcf-amendments",title:"HCF Amendments",description:"Manage Healthcare Facility amendments",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),path:"/master/hcf-amendments"},{id:"fleet-management",title:"Fleet Management",description:"Manage vehicle fleet and logistics",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),e.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]}),path:"/master/fleet-management"},{id:"route-master",title:"Route Master",description:"Manage routes and pathways",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]}),path:"/master/route"},{id:"route-hcf-mapping",title:"RouteHCF Mapping",description:"Map routes to Healthcare Facilities",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),e.jsx("circle",{cx:"12",cy:"10",r:"3"}),e.jsx("path",{d:"M12 13l-2-2"}),e.jsx("path",{d:"M12 13l2-2"})]}),path:"/master/route-hcf-mapping"}].filter(g=>g.title.toLowerCase().includes(a.toLowerCase())||g.description.toLowerCase().includes(a.toLowerCase())),u=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:n.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:n.pathname==="/transaction"||n.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:n.pathname==="/finance"||n.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname==="/commercial-agreements"||n.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:n.pathname==="/compliance-training"||n.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:n.pathname==="/master"||n.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname.startsWith("/report")},...Array.isArray(t)&&t.includes("*")?[{path:"/admin/dashboard-configuration",label:"Dashboard Configuration",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),active:n.pathname==="/admin/dashboard-configuration"||n.pathname.startsWith("/admin/dashboard-configuration")},{path:"/admin/permission-configuration",label:"Permission Configuration",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M12 1l3 5 5 .5-3.6 3.3 1.1 5.2L12 12.9 6.5 15l1.1-5.2L4 6.5 9 6z"}),e.jsx("path",{d:"M20 21v-7a2 2 0 0 0-2-2h-3"}),e.jsx("path",{d:"M4 21v-7a2 2 0 0 1 2-2h3"})]}),active:n.pathname==="/admin/permission-configuration"||n.pathname.startsWith("/admin/permission-configuration")}]:[]],h={company:"COMPANY_VIEW",state:"STATE_VIEW",area:"AREA_VIEW",category:"CATEGORY_VIEW","color-code":"COLOR_VIEW","pcb-zone":"PCB_ZONE_VIEW",frequency:"FREQUENCY_VIEW","hcf-type":"HCF_TYPE_VIEW","user-management":"USER_VIEW","hcf-master":"HCF_VIEW","hcf-amendments":"HCF_AMENDMENT_VIEW","fleet-management":"FLEET_VIEW","route-master":"ROUTE_VIEW","route-hcf-mapping":"ROUTE_HCF_VIEW"},f=g=>{const m=Array.isArray(t)?t:[];if(m.includes("*"))return!0;const x=h[g];return x?Cc(m,x):!1},A=u.filter(g=>g.path==="/dashboard"?ka(t,"dashboard"):g.path==="/transaction"?ka(t,"transaction"):g.path==="/finance"?ka(t,"finance"):g.path==="/commercial-agreements"?ka(t,"commercial"):g.path==="/compliance-training"?ka(t,"compliance"):g.path==="/master"?ka(t,"master"):g.path==="/report"?ka(t,"report"):!0);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar sidebar ${i?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-header",children:[e.jsxs("div",{className:"brand",children:[e.jsx("div",{className:"logo-container",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]})}),!i&&e.jsxs("div",{className:"brand-text",children:[e.jsx("span",{className:"brand-title",children:"MEDI-WASTE"}),e.jsx("span",{className:"brand-subtitle",children:"Enterprise Platform"})]})]}),e.jsx("button",{className:"toggle-button",onClick:o,"aria-label":i?"Expand sidebar":"Collapse sidebar",type:"button",children:e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:i?e.jsx("path",{d:"M9 18l6-6-6-6"}):e.jsx("path",{d:"M15 18l-6-6 6-6"})})})]}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:A.map(g=>e.jsx("li",{children:e.jsxs(Hr,{to:g.path,className:`nav-link ${g.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:g.icon}),!i&&e.jsx("span",{className:"nav-label",children:g.label})]})},g.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Hr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!i&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!i&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(_a,{title:"Master Data",subtitle:"Manage master data and configurations"}),e.jsxs("div",{className:"master-page",children:[e.jsx("div",{className:"master-header",children:e.jsxs("div",{className:"master-title-section",children:[e.jsx("h1",{className:"master-title",children:"Masters"}),e.jsx("p",{className:"master-subtitle",children:"Manage your data at one place"})]})}),e.jsx("div",{className:"master-search-section",children:e.jsxs("div",{className:"master-search-box",children:[e.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:a,onChange:g=>s(g.target.value)})]})}),e.jsxs("div",{className:"master-grid",children:[l.filter(g=>f(g.id)).map(g=>e.jsxs(Hr,{to:g.path,className:"master-card",children:[e.jsx("div",{className:"master-card-icon",children:g.icon}),e.jsx("h3",{className:"master-card-title",children:g.title}),e.jsx("p",{className:"master-card-description",children:g.description})]},g.id)),l.filter(g=>f(g.id)).length===0?e.jsx("div",{style:{color:"#64748b",fontSize:13,padding:"8px 4px"},children:"No master modules available for your permissions."}):null]})]})]})]})},_ee=()=>{const{logout:r,permissions:t}=Yn(),n=jn(),[a,s]=C.useState(!1),i=()=>{s(!a)},c=qa(),[o,d]=C.useState(""),[l,u]=C.useState(!1),[h,f]=C.useState(!1),[A,g]=C.useState(null),[m,x]=C.useState(!1),[y,j]=C.useState(null),[b,S]=C.useState({companyCode:"",companyName:"",gstin:"",state:"",pcbZone:""}),[w,E]=C.useState("all"),[I]=C.useState([{id:"1",stateCode:"MH",stateName:"Maharashtra",status:"Active"},{id:"2",stateCode:"DL",stateName:"Delhi",status:"Active"},{id:"3",stateCode:"KA",stateName:"Karnataka",status:"Active"},{id:"4",stateCode:"TN",stateName:"Tamil Nadu",status:"Active"},{id:"5",stateCode:"GJ",stateName:"Gujarat",status:"Active"}]),[L]=C.useState([{id:"1",pcbZoneName:"Zone A",pcbZoneAddress:"123 Industrial Area, Mumbai",contactNum:"+91-9876543210",contactEmail:"zonea@example.com",alertEmail:"alert.zonea@example.com",status:"Active"},{id:"2",pcbZoneName:"Zone B",pcbZoneAddress:"456 Commercial Street, Delhi",contactNum:"+91-9876543211",contactEmail:"zoneb@example.com",alertEmail:"alert.zoneb@example.com",status:"Active"},{id:"3",pcbZoneName:"Zone C",pcbZoneAddress:"789 Business Park, Bangalore",contactNum:"+91-9876543212",contactEmail:"zonec@example.com",alertEmail:"alert.zonec@example.com",status:"Active"}]),[J,ae]=C.useState([]),G=q=>({id:q.id,companyCode:q.companyCode,companyName:q.companyName,regdOfficeAddress:"",adminOfficeAddress:"",factoryAddress:"",gstin:"",state:"",pincode:"",prefix:"",authPersonName:"",authPersonDesignation:"",authPersonDOB:"",pcbauthNum:"",ctoWaterNum:"",ctoWaterDate:"",ctoWaterValidUpto:"",ctoAirNum:"",ctoAirDate:"",ctoAirValidUpto:"",cteWaterNum:"",cteWaterDate:"",cteWaterValidUpto:"",cteAirNum:"",cteAirDate:"",cteAirValidUpto:"",hazardousWasteNum:"",pcbZoneID:"",gstValidFrom:"",gstRate:"",status:q.status,createdBy:q.createdBy||"System",createdOn:q.createdOn,modifiedBy:q.modifiedBy||"System",modifiedOn:q.modifiedOn}),le=async()=>{x(!0),j(null);try{const ie=(await ha.getAllCompanies(!0)).map(Z=>G(Z));ae(ie)}catch(q){const ie=q.message||"Failed to load companies";if(console.error("Error loading companies:",q),ie.includes("not authenticated")||ie.includes("Unauthorized")||ie.includes("401")||ie.includes("403")||(q==null?void 0:q.status)===401||(q==null?void 0:q.status)===403){localStorage.removeItem("mw-auth-user"),c("/login",{replace:!0});return}j(ie)}finally{x(!1)}};C.useEffect(()=>{le()},[]);const V=xs(t,n.pathname),me=J.filter(q=>{const ie=o.toLowerCase(),Z=!ie||(q.companyName||"").toLowerCase().includes(ie)||(q.companyCode||"").toLowerCase().includes(ie)||(q.gstin||"").toLowerCase().includes(ie),D=!b.companyCode||(q.companyCode||"").toLowerCase().includes(b.companyCode.toLowerCase()),ue=!b.companyName||(q.companyName||"").toLowerCase().includes(b.companyName.toLowerCase()),te=!b.gstin||(q.gstin||"").toLowerCase().includes(b.gstin.toLowerCase()),ye=!b.state||(q.state||"").toLowerCase().includes(b.state.toLowerCase()),pe=!b.pcbZone||(q.pcbZoneID||"").toLowerCase().includes(b.pcbZone.toLowerCase()),je=w==="all"||q.status===w;return Z&&D&&ue&&te&&ye&&pe&&je}),$=()=>{g(null),u(!0)},ee=q=>{g(q),u(!0)},we=async q=>{if(window.confirm("Are you sure you want to delete this company?")){x(!0),j(null);try{await ha.deleteCompany(q),await le()}catch(ie){j(ie.message||"Failed to delete company"),console.error("Error deleting company:",ie)}finally{x(!1)}}},R=async q=>{x(!0),j(null);try{if(A){const ie={companyCode:q.companyCode,companyName:q.companyName,status:q.status};await ha.updateCompany(A.id,ie)}else{if(!q.companyCode||!q.companyName)throw new Error("Company Code and Company Name are required");const ie={companyCode:q.companyCode,companyName:q.companyName};await ha.createCompany(ie)}await le(),u(!1),g(null)}catch(ie){const Z=ie.message||"Failed to save company";j(Z),console.error("Error saving company:",ie),(Z.includes("403")||Z.includes("401")||Z.includes("Unauthorized"))&&j("Authentication failed. Please login again.")}finally{x(!1)}};return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${a?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!a&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:i,"aria-label":a?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:a?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:V.map(q=>e.jsx("li",{children:e.jsxs(Hr,{to:q.path,className:`nav-link ${q.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:q.icon}),!a&&e.jsx("span",{className:"nav-label",children:q.label})]})},q.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Hr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!a&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!a&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(_a,{title:"Company Master",subtitle:"Manage company master data"}),y&&e.jsxs("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{children:y}),e.jsx("button",{onClick:()=>j(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px"},children:""})]}),m&&e.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#666"},children:"Loading..."}),e.jsxs("div",{className:"company-master-page",children:[e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",ry:"2"}),e.jsx("path",{d:"M9 22v-4h6v4"}),e.jsx("path",{d:"M8 6h.01"}),e.jsx("path",{d:"M16 6h.01"}),e.jsx("path",{d:"M12 6h.01"}),e.jsx("path",{d:"M12 10h.01"}),e.jsx("path",{d:"M12 14h.01"}),e.jsx("path",{d:"M8 10h.01"}),e.jsx("path",{d:"M8 14h.01"}),e.jsx("path",{d:"M16 10h.01"}),e.jsx("path",{d:"M16 14h.01"})]})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"Company Master"}),e.jsx("p",{className:"ra-page-subtitle",children:"Manage company information and details"})]})]}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",placeholder:"Search by company code, name, GSTIN...",value:o,onChange:q=>d(q.target.value),className:"ra-search-input"})]}),e.jsxs("div",{className:"ra-actions",children:[e.jsxs("button",{className:"ra-filter-btn",onClick:()=>f(!0),children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),e.jsxs("button",{className:"ra-add-btn",onClick:$,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Company"]})]})]}),e.jsx("div",{className:"company-master-table-container",children:e.jsxs("table",{className:"company-master-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"CODE"}),e.jsx("th",{children:"COMPANY NAME"}),e.jsx("th",{children:"GSTIN"}),e.jsx("th",{children:"STATE"}),e.jsx("th",{children:"PCB ZONE"}),e.jsx("th",{children:"GST FROM"}),e.jsx("th",{children:"GST RATE"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:me.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"empty-message",children:m?"Loading...":"No companies found"})}):me.map(q=>e.jsxs("tr",{children:[e.jsx("td",{children:q.companyCode||"-"}),e.jsx("td",{children:q.companyName||"-"}),e.jsx("td",{children:q.gstin||"-"}),e.jsx("td",{children:q.state||"-"}),e.jsx("td",{children:q.pcbZoneID||"-"}),e.jsx("td",{children:q.gstValidFrom||"-"}),e.jsx("td",{children:q.gstRate||"-"}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge status-badge--${q.status.toLowerCase()}`,children:q.status})})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons ra-actions",children:[e.jsx("button",{className:"action-btn action-btn--view",onClick:()=>ee(q),title:"View",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>ee(q),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>we(q.id),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},q.id))})]})}),e.jsxs("div",{className:"cm-pagination-info",children:["Showing ",me.length," of ",J.length," items"]})]})]}),h&&e.jsx(Fee,{statusFilter:w,advancedFilters:b,onClose:()=>f(!1),onClear:()=>{S({companyCode:"",companyName:"",gstin:"",state:"",pcbZone:""}),E("all"),d("")},onApply:q=>{E(q.statusFilter),S(q.advancedFilters),f(!1)}}),l&&e.jsx(Oee,{company:A,states:I.filter(q=>q.status==="Active"),pcbZones:L.filter(q=>q.status==="Active"),loading:m,onClose:()=>{u(!1),g(null)},onSave:R})]})},Oee=({company:r,states:t,pcbZones:n,loading:a=!1,onClose:s,onSave:i})=>{const[c,o]=C.useState(r||{companyCode:"",companyName:"",regdOfficeAddress:"",adminOfficeAddress:"",factoryAddress:"",gstin:"",state:"",pincode:"",prefix:"",authPersonName:"",authPersonDesignation:"",authPersonDOB:"",pcbauthNum:"",ctoWaterNum:"",ctoWaterDate:"",ctoWaterValidUpto:"",ctoAirNum:"",ctoAirDate:"",ctoAirValidUpto:"",cteWaterNum:"",cteWaterDate:"",cteWaterValidUpto:"",cteAirNum:"",cteAirDate:"",cteAirValidUpto:"",hazardousWasteNum:"",pcbZoneID:"",gstValidFrom:"",gstRate:"",status:"Active"}),[d,l]=C.useState(1),[u,h]=C.useState({cto:!0,cte:!0}),f=b=>{h(S=>({...S,[b]:!S[b]}))},A=b=>{if(!b)return!1;const S=new Date(b),w=new Date,E=S.getTime()-w.getTime(),I=Math.ceil(E/(1e3*60*60*24));return I>=0&&I<=30},g=[{number:1,title:"Basic Information",icon:"building",key:"basicInfo"},{number:2,title:"Addresses",icon:"map-pin",key:"addresses"},{number:3,title:"Authorized Person",icon:"user",key:"authorizedPerson"},{number:4,title:"PCB & Compliance",icon:"shield",key:"pcbCompliance"},{number:5,title:"Environmental Clearances",icon:"water",key:"environmentalClearances"},{number:6,title:"GST Details",icon:"document",key:"gstDetails"}],m=()=>{d<6&&l(d+1)},x=()=>{d>1&&l(d-1)},y=b=>{b&&b.preventDefault(),d===6&&i(c)},j=b=>{switch(b){case"building":return e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",ry:"2"}),e.jsx("path",{d:"M9 22v-4h6v4"}),e.jsx("path",{d:"M8 6h.01"}),e.jsx("path",{d:"M16 6h.01"}),e.jsx("path",{d:"M12 6h.01"}),e.jsx("path",{d:"M12 10h.01"}),e.jsx("path",{d:"M12 14h.01"}),e.jsx("path",{d:"M8 10h.01"}),e.jsx("path",{d:"M8 14h.01"}),e.jsx("path",{d:"M16 10h.01"}),e.jsx("path",{d:"M16 14h.01"})]});case"map-pin":return e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),e.jsx("circle",{cx:"12",cy:"10",r:"3"})]});case"user":return e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]});case"shield":return e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})});case"water":return e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"})});case"document":return e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]});default:return null}};return e.jsx("div",{className:"modal-overlay",onClick:s,children:e.jsxs("div",{className:"modal-content company-form-modal wizard-modal",onClick:b=>b.stopPropagation(),children:[e.jsxs("div",{className:"modal-header company-form-header",children:[e.jsxs("div",{className:"modal-header-content",children:[e.jsx("div",{className:"modal-header-icon",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",ry:"2"}),e.jsx("path",{d:"M9 22v-4h6v4"}),e.jsx("path",{d:"M8 6h.01"}),e.jsx("path",{d:"M16 6h.01"}),e.jsx("path",{d:"M12 6h.01"}),e.jsx("path",{d:"M12 10h.01"}),e.jsx("path",{d:"M12 14h.01"}),e.jsx("path",{d:"M8 10h.01"}),e.jsx("path",{d:"M8 14h.01"}),e.jsx("path",{d:"M16 10h.01"}),e.jsx("path",{d:"M16 14h.01"})]})}),e.jsx("h2",{className:"modal-title",children:r?"Edit Company":"Add Company"})]}),e.jsx("button",{className:"modal-close-btn",onClick:s,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsx("div",{className:"wizard-progress",children:g.map(b=>{const S=d>=b.number,w=d===b.number,E=w;return e.jsxs("div",{className:`wizard-step ${S?"wizard-step--active":""} ${w?"wizard-step--current":""}`,children:[e.jsx("div",{className:"wizard-step-icon-wrapper",children:E?e.jsx("div",{className:"wizard-step-icon",children:j(b.icon)}):e.jsx("div",{className:"wizard-step-number",children:b.number})}),e.jsx("div",{className:"wizard-step-title",children:b.title})]},b.number)})}),e.jsx("div",{className:"wizard-content",children:e.jsxs("form",{className:"company-form",onSubmit:y,children:[d===1&&e.jsxs("div",{className:"wizard-step-content",children:[e.jsxs("div",{className:"wizard-step-header",children:[e.jsx("div",{className:"wizard-step-header-icon",children:j("building")}),e.jsx("h3",{className:"wizard-step-header-title",children:"Basic Information"})]}),e.jsxs("div",{className:"form-grid-two-col",children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:["Company Code ",e.jsx("span",{className:"required-asterisk",children:"*"})]}),e.jsx("input",{type:"text",value:c.companyCode||"",onChange:b=>o({...c,companyCode:b.target.value}),placeholder:"e.g., COMP001",required:!0,className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:["Company Name ",e.jsx("span",{className:"required-asterisk",children:"*"})]}),e.jsx("input",{type:"text",value:c.companyName||"",onChange:b=>o({...c,companyName:b.target.value}),placeholder:"Enter company name",required:!0,className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:["GSTIN ",e.jsx("span",{className:"required-asterisk",children:"*"})]}),e.jsx("input",{type:"text",value:c.gstin||"",onChange:b=>o({...c,gstin:b.target.value}),required:!0,className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:["State ",e.jsx("span",{className:"required-asterisk",children:"*"})]}),e.jsxs("select",{value:c.state||"",onChange:b=>o({...c,state:b.target.value}),required:!0,className:"form-select",children:[e.jsx("option",{value:"",children:"Select State"}),t.map(b=>e.jsx("option",{value:b.stateCode,children:b.stateCode},b.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Pincode"}),e.jsx("input",{type:"text",value:c.pincode||"",onChange:b=>o({...c,pincode:b.target.value}),className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Prefix"}),e.jsx("input",{type:"text",value:c.prefix||"",onChange:b=>o({...c,prefix:b.target.value}),placeholder:"e.g., TI",className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Status"}),e.jsxs("select",{value:c.status||"Active",onChange:b=>o({...c,status:b.target.value}),className:"form-select",children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),d===2&&e.jsxs("div",{className:"wizard-step-content",children:[e.jsxs("div",{className:"wizard-step-header",children:[e.jsx("div",{className:"wizard-step-header-icon icon-pink",children:j("map-pin")}),e.jsx("h3",{className:"wizard-step-header-title",children:"Addresses"})]}),e.jsxs("div",{className:"form-grid-two-col",children:[e.jsxs("div",{className:"form-group form-group--full",children:[e.jsx("label",{className:"form-label",children:"Registered Office Address"}),e.jsx("textarea",{value:c.regdOfficeAddress||"",onChange:b=>o({...c,regdOfficeAddress:b.target.value}),rows:3,className:"form-textarea"})]}),e.jsxs("div",{className:"form-group form-group--full",children:[e.jsx("label",{className:"form-label",children:"Admin Office Address"}),e.jsx("textarea",{value:c.adminOfficeAddress||"",onChange:b=>o({...c,adminOfficeAddress:b.target.value}),rows:3,className:"form-textarea"})]}),e.jsxs("div",{className:"form-group form-group--full",children:[e.jsx("label",{className:"form-label",children:"Factory Address"}),e.jsx("textarea",{value:c.factoryAddress||"",onChange:b=>o({...c,factoryAddress:b.target.value}),rows:3,className:"form-textarea"})]})]})]}),d===3&&e.jsxs("div",{className:"wizard-step-content",children:[e.jsxs("div",{className:"wizard-step-header",children:[e.jsx("div",{className:"wizard-step-header-icon icon-green",children:j("user")}),e.jsx("h3",{className:"wizard-step-header-title",children:"Authorized Person"})]}),e.jsxs("div",{className:"form-grid-two-col",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Name"}),e.jsx("input",{type:"text",value:c.authPersonName||"",onChange:b=>o({...c,authPersonName:b.target.value}),className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Designation"}),e.jsx("input",{type:"text",value:c.authPersonDesignation||"",onChange:b=>o({...c,authPersonDesignation:b.target.value}),className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Date of Birth"}),e.jsx("input",{type:"date",value:c.authPersonDOB||"",onChange:b=>o({...c,authPersonDOB:b.target.value}),className:"form-input"})]})]})]}),d===4&&e.jsxs("div",{className:"wizard-step-content",children:[e.jsxs("div",{className:"wizard-step-header",children:[e.jsx("div",{className:"wizard-step-header-icon icon-purple",children:j("shield")}),e.jsx("h3",{className:"wizard-step-header-title",children:"PCB & Compliance"})]}),e.jsxs("div",{className:"form-grid-two-col",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"PCB Auth Num"}),e.jsx("input",{type:"text",value:c.pcbauthNum||"",onChange:b=>o({...c,pcbauthNum:b.target.value}),className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Hazardous Waste Num"}),e.jsx("input",{type:"text",value:c.hazardousWasteNum||"",onChange:b=>o({...c,hazardousWasteNum:b.target.value}),className:"form-input"})]})]})]}),d===5&&e.jsxs("div",{className:"wizard-step-content",children:[e.jsxs("div",{className:"wizard-step-header",children:[e.jsx("div",{className:"wizard-step-header-icon icon-orange",children:j("water")}),e.jsx("h3",{className:"wizard-step-header-title",children:"Environmental Clearances"})]}),e.jsxs("div",{className:"env-clearance-section",children:[e.jsxs("div",{className:"env-clearance-section-header",onClick:()=>f("cto"),children:[e.jsx("h4",{className:"env-clearance-section-title",children:"CTO (Consent To Operate)"}),e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:`env-clearance-section-arrow ${u.cto?"expanded":""}`,children:e.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),u.cto&&e.jsxs("div",{className:"env-clearance-grid",children:[e.jsxs("div",{className:"env-clearance-column",children:[e.jsxs("div",{className:"env-clearance-column-header",children:[e.jsx("h5",{className:"env-clearance-column-title",children:"Water"}),A(c.ctoWaterValidUpto||"")&&e.jsx("span",{className:"env-clearance-warning-badge",children:"Expiring Soon"})]}),e.jsxs("div",{className:"env-clearance-column-content",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Certificate Number"}),e.jsx("input",{type:"text",value:c.ctoWaterNum||"",onChange:b=>o({...c,ctoWaterNum:b.target.value}),className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Issue Date"}),e.jsx("input",{type:"date",value:c.ctoWaterDate||"",onChange:b=>o({...c,ctoWaterDate:b.target.value}),className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Expiry Date"}),e.jsx("input",{type:"date",value:c.ctoWaterValidUpto||"",onChange:b=>o({...c,ctoWaterValidUpto:b.target.value}),className:`form-input ${A(c.ctoWaterValidUpto||"")?"form-input--warning":""}`})]})]})]}),e.jsxs("div",{className:"env-clearance-column",children:[e.jsxs("div",{className:"env-clearance-column-header",children:[e.jsx("h5",{className:"env-clearance-column-title",children:"Air"}),A(c.ctoAirValidUpto||"")&&e.jsx("span",{className:"env-clearance-warning-badge",children:"Expiring Soon"})]}),e.jsxs("div",{className:"env-clearance-column-content",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Certificate Number"}),e.jsx("input",{type:"text",value:c.ctoAirNum||"",onChange:b=>o({...c,ctoAirNum:b.target.value}),className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Issue Date"}),e.jsx("input",{type:"date",value:c.ctoAirDate||"",onChange:b=>o({...c,ctoAirDate:b.target.value}),className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Expiry Date"}),e.jsx("input",{type:"date",value:c.ctoAirValidUpto||"",onChange:b=>o({...c,ctoAirValidUpto:b.target.value}),className:`form-input ${A(c.ctoAirValidUpto||"")?"form-input--warning":""}`})]})]})]})]})]}),e.jsxs("div",{className:"env-clearance-section",children:[e.jsxs("div",{className:"env-clearance-section-header",onClick:()=>f("cte"),children:[e.jsx("h4",{className:"env-clearance-section-title",children:"CTE (Consent To Establish)"}),e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:`env-clearance-section-arrow ${u.cte?"expanded":""}`,children:e.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),u.cte&&e.jsxs("div",{className:"env-clearance-grid",children:[e.jsxs("div",{className:"env-clearance-column",children:[e.jsxs("div",{className:"env-clearance-column-header",children:[e.jsx("h5",{className:"env-clearance-column-title",children:"Water"}),A(c.cteWaterValidUpto||"")&&e.jsx("span",{className:"env-clearance-warning-badge",children:"Expiring Soon"})]}),e.jsxs("div",{className:"env-clearance-column-content",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Certificate Number"}),e.jsx("input",{type:"text",value:c.cteWaterNum||"",onChange:b=>o({...c,cteWaterNum:b.target.value}),className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Issue Date"}),e.jsx("input",{type:"date",value:c.cteWaterDate||"",onChange:b=>o({...c,cteWaterDate:b.target.value}),className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Expiry Date"}),e.jsx("input",{type:"date",value:c.cteWaterValidUpto||"",onChange:b=>o({...c,cteWaterValidUpto:b.target.value}),className:`form-input ${A(c.cteWaterValidUpto||"")?"form-input--warning":""}`})]})]})]}),e.jsxs("div",{className:"env-clearance-column",children:[e.jsxs("div",{className:"env-clearance-column-header",children:[e.jsx("h5",{className:"env-clearance-column-title",children:"Air"}),A(c.cteAirValidUpto||"")&&e.jsx("span",{className:"env-clearance-warning-badge",children:"Expiring Soon"})]}),e.jsxs("div",{className:"env-clearance-column-content",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Certificate Number"}),e.jsx("input",{type:"text",value:c.cteAirNum||"",onChange:b=>o({...c,cteAirNum:b.target.value}),className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Issue Date"}),e.jsx("input",{type:"date",value:c.cteAirDate||"",onChange:b=>o({...c,cteAirDate:b.target.value}),className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Expiry Date"}),e.jsx("input",{type:"date",value:c.cteAirValidUpto||"",onChange:b=>o({...c,cteAirValidUpto:b.target.value}),className:`form-input ${A(c.cteAirValidUpto||"")?"form-input--warning":""}`})]})]})]})]})]})]}),d===6&&e.jsxs("div",{className:"wizard-step-content",children:[e.jsxs("div",{className:"wizard-step-header",children:[e.jsx("div",{className:"wizard-step-header-icon icon-purple",children:j("document")}),e.jsx("h3",{className:"wizard-step-header-title",children:"GST Details"})]}),e.jsxs("div",{className:"form-grid-two-col",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"PCB Zone ID"}),e.jsxs("select",{value:c.pcbZoneID||"",onChange:b=>o({...c,pcbZoneID:b.target.value}),className:"form-select",children:[e.jsx("option",{value:"",children:"Select PCB Zone"}),n.map(b=>e.jsx("option",{value:b.pcbZoneName,children:b.pcbZoneName},b.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"GST Valid From"}),e.jsx("input",{type:"date",value:c.gstValidFrom||"",onChange:b=>o({...c,gstValidFrom:b.target.value}),className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"GST Rate"}),e.jsx("input",{type:"text",value:c.gstRate||"",onChange:b=>o({...c,gstRate:b.target.value}),placeholder:"e.g., 18%",className:"form-input"})]})]})]})]})}),e.jsxs("div",{className:"modal-footer wizard-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:s,children:"Cancel"}),d>1&&e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:x,children:"Back"}),d<6?e.jsx("button",{type:"button",className:"btn btn--primary",onClick:m,children:"Next"}):e.jsx("button",{type:"submit",className:"btn btn--primary",disabled:a,children:a?"Saving...":"Save Company"})]})]})})},Fee=({statusFilter:r,advancedFilters:t,onClose:n,onClear:a,onApply:s})=>{const[i,c]=C.useState(r),[o,d]=C.useState(t);return e.jsx("div",{className:"modal-overlay cm-filter-modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content cm-filter-modal",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"cm-filter-modal-header",children:[e.jsxs("div",{className:"cm-filter-modal-titlewrap",children:[e.jsx("div",{className:"cm-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"cm-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"cm-filter-subtitle",children:"Filter companies by multiple criteria"})]})]}),e.jsx("button",{className:"cm-filter-close",onClick:n,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"cm-filter-modal-body",children:e.jsxs("div",{className:"cm-filter-grid",children:[e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Company Code"}),e.jsx("input",{type:"text",value:o.companyCode,onChange:l=>d({...o,companyCode:l.target.value}),className:"cm-filter-input",placeholder:"Enter company code"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Company Name"}),e.jsx("input",{type:"text",value:o.companyName,onChange:l=>d({...o,companyName:l.target.value}),className:"cm-filter-input",placeholder:"Enter company name"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"GSTIN"}),e.jsx("input",{type:"text",value:o.gstin,onChange:l=>d({...o,gstin:l.target.value}),className:"cm-filter-input",placeholder:"Enter GSTIN"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"State"}),e.jsx("input",{type:"text",value:o.state,onChange:l=>d({...o,state:l.target.value}),className:"cm-filter-input",placeholder:"Enter state"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"PCB Zone"}),e.jsx("input",{type:"text",value:o.pcbZone,onChange:l=>d({...o,pcbZone:l.target.value}),className:"cm-filter-input",placeholder:"Enter PCB zone"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:i,onChange:l=>c(l.target.value),className:"cm-filter-select",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"cm-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"cm-link-btn",onClick:()=>{c("all"),d({companyCode:"",companyName:"",gstin:"",state:"",pcbZone:""}),a()},children:"Clear Filters"}),e.jsx("button",{type:"button",className:"cm-btn cm-btn--primary cm-btn--sm",onClick:()=>s({statusFilter:i,advancedFilters:o}),children:"Apply Filters"})]})]})})},Pee="http://localhost:3000/api/v1",Dee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},ng=async(r,t={})=>{const n=Dee(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${Pee}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const o=await s.json();Array.isArray(o.message)?i=o.message.join(", "):typeof o.message=="string"?i=o.message:o.error?i=typeof o.error=="string"?o.error:JSON.stringify(o.error):o.message&&(i=String(o.message))}catch{}const c=new Error(i);throw c.status=s.status,c.statusText=s.statusText,c}return s.status===204?{}:s.json()},Wg={createState:async r=>(await ng("/states",{method:"POST",body:JSON.stringify(r)})).data,getStateById:async r=>(await ng(`/states/${r}`,{method:"GET"})).data,getAllStates:async(r=!1)=>(await ng(r?"/states?activeOnly=true":"/states",{method:"GET"})).data,updateState:async(r,t)=>(await ng(`/states/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,deleteState:async r=>{await ng(`/states/${r}`,{method:"DELETE"})}},Mee=()=>{const{logout:r,permissions:t}=Yn(),n=jn(),[a,s]=C.useState(!1),i=()=>{s(!a)},[c,o]=C.useState(""),[d,l]=C.useState(!1),[u,h]=C.useState(!1),[f,A]=C.useState(null),[g,m]=C.useState([]),[x,y]=C.useState(!1),[j,b]=C.useState(null),[S,w]=C.useState({stateCode:"",stateName:""}),[E,I]=C.useState("all"),L=async()=>{y(!0),b(null);try{const ee=(await Wg.getAllStates(!0)).map(we=>({id:we.id,stateCode:we.stateCode,stateName:we.stateName,status:we.status,createdBy:we.createdBy||"",createdOn:we.createdOn,modifiedBy:we.modifiedBy||"",modifiedOn:we.modifiedOn}));m(ee)}catch($){const ee=$ instanceof Error?$.message:"Failed to load states";b(ee),console.error("Error loading states:",$)}finally{y(!1)}};C.useEffect(()=>{L()},[]);const J=xs(t,n.pathname),ae=g.filter($=>{const ee=c.trim().toLowerCase(),we=S.stateCode.trim().toLowerCase(),R=S.stateName.trim().toLowerCase(),q=!ee||$.stateName.toLowerCase().includes(ee)||$.stateCode.toLowerCase().includes(ee),ie=!we||$.stateCode.toLowerCase().includes(we),Z=!R||$.stateName.toLowerCase().includes(R),D=E==="all"||$.status===E;return q&&ie&&Z&&D}),G=()=>{A(null),l(!0)},le=$=>{A($),l(!0)},V=async $=>{if(window.confirm("Are you sure you want to delete this state?"))try{y(!0),await Wg.deleteState($),await L(),alert("State deleted successfully")}catch(ee){const we=ee instanceof Error?ee.message:"Failed to delete state";alert(`Error: ${we}`),console.error("Error deleting state:",ee)}finally{y(!1)}},me=async $=>{try{if(y(!0),b(null),f)await Wg.updateState(f.id,{status:$.status}),alert("State updated successfully");else{if(!$.stateCode||!$.stateName){alert("Please fill in all required fields");return}await Wg.createState({stateCode:$.stateCode,stateName:$.stateName}),alert("State created successfully")}l(!1),A(null),await L()}catch(ee){const we=ee instanceof Error?ee.message:"Failed to save state";b(we),alert(`Error: ${we}`),console.error("Error saving state:",ee)}finally{y(!1)}};return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${a?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!a&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:i,"aria-label":a?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:a?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:J.map($=>e.jsx("li",{children:e.jsxs(Hr,{to:$.path,className:`nav-link ${$.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:$.icon}),!a&&e.jsx("span",{className:"nav-label",children:$.label})]})},$.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Hr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!a&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!a&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(_a,{title:"State Master",subtitle:"Manage state master data"}),j&&e.jsxs("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{children:j}),e.jsx("button",{onClick:()=>b(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px"},children:""})]}),x&&!g.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#666"},children:"Loading states..."}),e.jsxs("div",{className:"state-master-page",children:[e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),e.jsx("path",{d:"M2 17l10 5 10-5"}),e.jsx("path",{d:"M2 12l10 5 10-5"})]})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"State Master"}),e.jsx("p",{className:"ra-page-subtitle",children:"Manage state information and details"})]})]}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",placeholder:"Search by state code, name...",value:c,onChange:$=>o($.target.value),className:"ra-search-input"})]}),e.jsxs("div",{className:"ra-actions",children:[e.jsxs("button",{className:"ra-filter-btn",onClick:()=>h(!0),children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),e.jsxs("button",{className:"ra-add-btn",onClick:G,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add State"]})]})]}),e.jsx("div",{className:"state-master-table-container",children:e.jsxs("table",{className:"state-master-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"STATE CODE"}),e.jsx("th",{children:"STATE NAME"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:ae.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"empty-message",children:x?"Loading...":"No states found"})}):ae.map($=>e.jsxs("tr",{children:[e.jsx("td",{children:$.stateCode||"-"}),e.jsx("td",{children:$.stateName||"-"}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge status-badge--${$.status.toLowerCase()}`,children:$.status})})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons ra-actions",children:[e.jsx("button",{className:"action-btn action-btn--view",onClick:()=>le($),title:"View",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>le($),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>V($.id),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},$.id))})]})}),e.jsxs("div",{className:"cm-pagination-info",children:["Showing ",ae.length," of ",g.length," items"]})]})]}),u&&e.jsx(Ree,{statusFilter:E,advancedFilters:S,onClose:()=>h(!1),onClear:()=>{w({stateCode:"",stateName:""}),I("all"),o("")},onApply:$=>{I($.statusFilter),w($.advancedFilters),h(!1)}}),d&&e.jsx(Lee,{state:f,onClose:()=>{l(!1),A(null)},onSave:me})]})},Ree=({statusFilter:r,advancedFilters:t,onClose:n,onClear:a,onApply:s})=>{const[i,c]=C.useState(r),[o,d]=C.useState(t);return e.jsx("div",{className:"modal-overlay cm-filter-modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content cm-filter-modal",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"cm-filter-modal-header",children:[e.jsxs("div",{className:"cm-filter-modal-titlewrap",children:[e.jsx("div",{className:"cm-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"cm-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"cm-filter-subtitle",children:"Filter states by multiple criteria"})]})]}),e.jsx("button",{className:"cm-filter-close",onClick:n,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"cm-filter-modal-body",children:e.jsxs("div",{className:"cm-filter-grid",children:[e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"State Code"}),e.jsx("input",{type:"text",value:o.stateCode,onChange:l=>d({...o,stateCode:l.target.value}),className:"cm-filter-input",placeholder:"Enter state code"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"State Name"}),e.jsx("input",{type:"text",value:o.stateName,onChange:l=>d({...o,stateName:l.target.value}),className:"cm-filter-input",placeholder:"Enter state name"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:i,onChange:l=>c(l.target.value),className:"cm-filter-select",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"cm-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"cm-link-btn",onClick:()=>{c("all"),d({stateCode:"",stateName:""}),a()},children:"Clear Filters"}),e.jsx("button",{type:"button",className:"cm-btn cm-btn--primary cm-btn--sm",onClick:()=>s({statusFilter:i,advancedFilters:o}),children:"Apply Filters"})]})]})})},Lee=({state:r,onClose:t,onSave:n})=>{const[a,s]=C.useState(r||{stateCode:"",stateName:"",status:"Active"}),i=c=>{c.preventDefault(),n(a)};return e.jsx("div",{className:"modal-overlay",onClick:t,children:e.jsxs("div",{className:"modal-content",onClick:c=>c.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:r?"Edit State":"Add State"}),e.jsx("button",{className:"modal-close-btn",onClick:t,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"state-form",onSubmit:i,children:[e.jsx("div",{className:"form-section",children:e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"State Code *"}),e.jsx("input",{type:"text",value:a.stateCode||"",onChange:c=>s({...a,stateCode:c.target.value}),required:!0,maxLength:10,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"State Name *"}),e.jsx("input",{type:"text",value:a.stateName||"",onChange:c=>s({...a,stateName:c.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:a.status||"Active",onChange:c=>s({...a,status:c.target.value}),children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:t,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},Uee="http://localhost:3000/api/v1",Hee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},ag=async(r,t={})=>{const n=Hee(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${Uee}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const o=await s.json();Array.isArray(o.message)?i=o.message.join(", "):typeof o.message=="string"?i=o.message:o.error?i=typeof o.error=="string"?o.error:JSON.stringify(o.error):o.message&&(i=String(o.message))}catch{}const c=new Error(i);throw c.status=s.status,c.statusText=s.statusText,c}return s.status===204?{}:s.json()},$g={createArea:async r=>(await ag("/areas",{method:"POST",body:JSON.stringify(r)})).data,getAreaById:async r=>(await ag(`/areas/${r}`,{method:"GET"})).data,getAllAreas:async(r=!1)=>(await ag(r?"/areas?activeOnly=true":"/areas",{method:"GET"})).data,updateArea:async(r,t)=>(await ag(`/areas/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,deleteArea:async r=>{await ag(`/areas/${r}`,{method:"DELETE"})}},Qee=()=>{const{logout:r,permissions:t}=Yn(),n=jn(),[a,s]=C.useState(!1),i=()=>{s(!a)},[c,o]=C.useState(""),[d,l]=C.useState(!1),[u,h]=C.useState(!1),[f,A]=C.useState(null),[g,m]=C.useState([]),[x,y]=C.useState(!1),[j,b]=C.useState(null),[S,w]=C.useState({areaCode:"",areaName:"",areaPincode:""}),[E,I]=C.useState("all"),L=async()=>{y(!0),b(null);try{const ee=(await $g.getAllAreas(!0)).map(we=>({id:we.id,areaCode:we.areaCode,areaName:we.areaName,areaPincode:we.areaPincode,status:we.status,createdBy:we.createdBy||"",createdOn:we.createdOn,modifiedBy:we.modifiedBy||"",modifiedOn:we.modifiedOn}));m(ee)}catch($){const ee=$ instanceof Error?$.message:"Failed to load areas";b(ee),console.error("Error loading areas:",$)}finally{y(!1)}};C.useEffect(()=>{L()},[]);const J=xs(t,n.pathname),ae=g.filter($=>{const ee=c.trim().toLowerCase(),we=S.areaCode.trim().toLowerCase(),R=S.areaName.trim().toLowerCase(),q=S.areaPincode.trim().toLowerCase(),ie=!ee||$.areaName.toLowerCase().includes(ee)||$.areaCode.toLowerCase().includes(ee)||$.areaPincode.toLowerCase().includes(ee),Z=!we||$.areaCode.toLowerCase().includes(we),D=!R||$.areaName.toLowerCase().includes(R),ue=!q||$.areaPincode.toLowerCase().includes(q),te=E==="all"||$.status===E;return ie&&Z&&D&&ue&&te}),G=()=>{A(null),l(!0)},le=$=>{A($),l(!0)},V=async $=>{if(window.confirm("Are you sure you want to delete this area?"))try{y(!0),await $g.deleteArea($),await L(),alert("Area deleted successfully")}catch(ee){const we=ee instanceof Error?ee.message:"Failed to delete area";alert(`Error: ${we}`),console.error("Error deleting area:",ee)}finally{y(!1)}},me=async $=>{try{if(y(!0),b(null),f)await $g.updateArea(f.id,{areaPincode:$.areaPincode,status:$.status}),alert("Area updated successfully");else{if(!$.areaCode||!$.areaName||!$.areaPincode){alert("Please fill in all required fields");return}await $g.createArea({areaCode:$.areaCode,areaName:$.areaName,areaPincode:$.areaPincode}),alert("Area created successfully")}l(!1),A(null),await L()}catch(ee){const we=ee instanceof Error?ee.message:"Failed to save area";b(we),alert(`Error: ${we}`),console.error("Error saving area:",ee)}finally{y(!1)}};return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${a?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!a&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:i,"aria-label":a?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:a?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:J.map($=>e.jsx("li",{children:e.jsxs(Hr,{to:$.path,className:`nav-link ${$.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:$.icon}),!a&&e.jsx("span",{className:"nav-label",children:$.label})]})},$.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Hr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!a&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!a&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(_a,{title:"Area Master",subtitle:"Manage area master data"}),j&&e.jsxs("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{children:j}),e.jsx("button",{onClick:()=>b(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px"},children:""})]}),x&&!g.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#666"},children:"Loading areas..."}),e.jsxs("div",{className:"area-master-page",children:[e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),e.jsx("circle",{cx:"12",cy:"10",r:"3"})]})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"Area Master"}),e.jsx("p",{className:"ra-page-subtitle",children:"Manage area information and details"})]})]}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",placeholder:"Search by area code, name, pincode...",value:c,onChange:$=>o($.target.value),className:"ra-search-input"})]}),e.jsxs("div",{className:"ra-actions",children:[e.jsxs("button",{className:"ra-filter-btn",onClick:()=>h(!0),children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),e.jsxs("button",{className:"ra-add-btn",onClick:G,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Area"]})]})]}),e.jsx("div",{className:"area-master-table-container",children:e.jsxs("table",{className:"area-master-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"AREA CODE"}),e.jsx("th",{children:"AREA NAME"}),e.jsx("th",{children:"AREA PINCODE"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:ae.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"empty-message",children:x?"Loading...":"No areas found"})}):ae.map($=>e.jsxs("tr",{children:[e.jsx("td",{children:$.areaCode||"-"}),e.jsx("td",{children:$.areaName||"-"}),e.jsx("td",{children:$.areaPincode||"-"}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge status-badge--${$.status.toLowerCase()}`,children:$.status})})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons ra-actions",children:[e.jsx("button",{className:"action-btn action-btn--view",onClick:()=>le($),title:"View",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>le($),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>V($.id),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},$.id))})]})}),e.jsxs("div",{className:"cm-pagination-info",children:["Showing ",ae.length," of ",g.length," items"]})]})]}),u&&e.jsx(Wee,{statusFilter:E,advancedFilters:S,onClose:()=>h(!1),onClear:()=>{w({areaCode:"",areaName:"",areaPincode:""}),I("all"),o("")},onApply:$=>{I($.statusFilter),w($.advancedFilters),h(!1)}}),d&&e.jsx($ee,{area:f,onClose:()=>{l(!1),A(null)},onSave:me})]})},Wee=({statusFilter:r,advancedFilters:t,onClose:n,onClear:a,onApply:s})=>{const[i,c]=C.useState(r),[o,d]=C.useState(t);return e.jsx("div",{className:"modal-overlay cm-filter-modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content cm-filter-modal",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"cm-filter-modal-header",children:[e.jsxs("div",{className:"cm-filter-modal-titlewrap",children:[e.jsx("div",{className:"cm-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"cm-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"cm-filter-subtitle",children:"Filter areas by multiple criteria"})]})]}),e.jsx("button",{className:"cm-filter-close",onClick:n,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"cm-filter-modal-body",children:e.jsxs("div",{className:"cm-filter-grid",children:[e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Area Code"}),e.jsx("input",{type:"text",value:o.areaCode,onChange:l=>d({...o,areaCode:l.target.value}),className:"cm-filter-input",placeholder:"Enter area code"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Area Name"}),e.jsx("input",{type:"text",value:o.areaName,onChange:l=>d({...o,areaName:l.target.value}),className:"cm-filter-input",placeholder:"Enter area name"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Area Pincode"}),e.jsx("input",{type:"text",value:o.areaPincode,onChange:l=>d({...o,areaPincode:l.target.value}),className:"cm-filter-input",placeholder:"Enter area pincode"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:i,onChange:l=>c(l.target.value),className:"cm-filter-select",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"cm-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"cm-link-btn",onClick:()=>{c("all"),d({areaCode:"",areaName:"",areaPincode:""}),a()},children:"Clear Filters"}),e.jsx("button",{type:"button",className:"cm-btn cm-btn--primary cm-btn--sm",onClick:()=>s({statusFilter:i,advancedFilters:o}),children:"Apply Filters"})]})]})})},$ee=({area:r,onClose:t,onSave:n})=>{const[a,s]=C.useState(r||{areaCode:"",areaName:"",areaPincode:"",status:"Active"}),i=c=>{c.preventDefault(),n(a)};return e.jsx("div",{className:"modal-overlay",onClick:t,children:e.jsxs("div",{className:"modal-content",onClick:c=>c.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:r?"Edit Area":"Add Area"}),e.jsx("button",{className:"modal-close-btn",onClick:t,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"area-form",onSubmit:i,children:[e.jsx("div",{className:"form-section",children:e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Area Code *"}),e.jsx("input",{type:"text",value:a.areaCode||"",onChange:c=>s({...a,areaCode:c.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Area Name *"}),e.jsx("input",{type:"text",value:a.areaName||"",onChange:c=>s({...a,areaName:c.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Area Pincode *"}),e.jsx("input",{type:"text",value:a.areaPincode||"",onChange:c=>s({...a,areaPincode:c.target.value}),required:!0,maxLength:10})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:a.status||"Active",onChange:c=>s({...a,status:c.target.value}),children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:t,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},Vee="http://localhost:3000/api/v1",zee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},sg=async(r,t={})=>{const n=zee(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${Vee}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const o=await s.json();Array.isArray(o.message)?i=o.message.join(", "):typeof o.message=="string"?i=o.message:o.error?i=typeof o.error=="string"?o.error:JSON.stringify(o.error):o.message&&(i=String(o.message))}catch{}const c=new Error(i);throw c.status=s.status,c.statusText=s.statusText,c}return s.status===204?{}:s.json()},Oh={createCategory:async r=>(await sg("/categories",{method:"POST",body:JSON.stringify(r)})).data,getCategoryById:async r=>(await sg(`/categories/${r}`,{method:"GET"})).data,getAllCategories:async(r,t=!1)=>{let n="/categories";const a=new URLSearchParams;return r&&a.append("companyId",r),t&&a.append("activeOnly","true"),a.toString()&&(n+=`?${a.toString()}`),(await sg(n,{method:"GET"})).data},updateCategory:async(r,t)=>(await sg(`/categories/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,deleteCategory:async r=>{await sg(`/categories/${r}`,{method:"DELETE"})}},Kee=()=>{const{logout:r,permissions:t}=Yn(),n=jn(),[a,s]=C.useState(!1),i=()=>{s(!a)},[c,o]=C.useState(""),[d,l]=C.useState(!1),[u,h]=C.useState(!1),[f,A]=C.useState(null),[g,m]=C.useState([]),[x,y]=C.useState([]),[j,b]=C.useState(!1),[S,w]=C.useState(null),[E,I]=C.useState({categoryCode:"",categoryName:"",companyName:""}),[L,J]=C.useState("all"),ae=async()=>{try{const q=(await ha.getAllCompanies(!0)).map(ie=>({id:ie.id,companyCode:ie.companyCode,companyName:ie.companyName,status:ie.status}));y(q)}catch(R){console.error("Error loading companies:",R)}},G=async()=>{b(!0),w(null);try{const q=(await Oh.getAllCategories(void 0,!0)).map(ie=>{const Z=x.find(D=>D.id===ie.companyId);return{id:ie.id,companyName:(Z==null?void 0:Z.companyName)||"Unknown Company",categoryCode:ie.categoryCode,categoryName:ie.categoryName,status:ie.status,createdBy:ie.createdBy||"",createdOn:ie.createdOn,modifiedBy:ie.modifiedBy||"",modifiedOn:ie.modifiedOn}});m(q)}catch(R){const q=R instanceof Error?R.message:"Failed to load categories";w(q),console.error("Error loading categories:",R),m([])}finally{b(!1)}};C.useEffect(()=>{(async()=>{await ae()})()},[]),C.useEffect(()=>{x.length>0&&G()},[x.length]);const le=xs(t,n.pathname),V=g.filter(R=>{const q=c.trim().toLowerCase(),ie=E.categoryCode.trim().toLowerCase(),Z=E.categoryName.trim().toLowerCase(),D=E.companyName.trim().toLowerCase(),ue=!q||R.categoryName.toLowerCase().includes(q)||R.categoryCode.toLowerCase().includes(q)||R.companyName.toLowerCase().includes(q),te=!ie||R.categoryCode.toLowerCase().includes(ie),ye=!Z||R.categoryName.toLowerCase().includes(Z),pe=!D||R.companyName.toLowerCase().includes(D),je=L==="all"||R.status===L;return ue&&te&&ye&&pe&&je}),me=()=>{A(null),l(!0)},$=R=>{A(R),l(!0)},ee=async R=>{if(window.confirm("Are you sure you want to delete this category?"))try{b(!0),await Oh.deleteCategory(R),await G(),alert("Category deleted successfully")}catch(q){const ie=q instanceof Error?q.message:"Failed to delete category";alert(`Error: ${ie}`),console.error("Error deleting category:",q)}finally{b(!1)}},we=async R=>{try{b(!0),w(null);const q=x.find(ie=>ie.companyName===R.companyName);if(!q){alert("Please select a valid company");return}if(f)await Oh.updateCategory(f.id,{status:R.status}),alert("Category updated successfully");else{if(!R.categoryCode||!R.categoryName||!R.companyName){alert("Please fill in all required fields");return}await Oh.createCategory({categoryCode:R.categoryCode,categoryName:R.categoryName,companyId:q.id}),alert("Category created successfully")}l(!1),A(null),await G()}catch(q){const ie=q instanceof Error?q.message:"Failed to save category";w(ie),alert(`Error: ${ie}`),console.error("Error saving category:",q)}finally{b(!1)}};return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${a?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!a&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:i,"aria-label":a?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:a?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:le.map(R=>e.jsx("li",{children:e.jsxs(Hr,{to:R.path,className:`nav-link ${R.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:R.icon}),!a&&e.jsx("span",{className:"nav-label",children:R.label})]})},R.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Hr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!a&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!a&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(_a,{title:"Category Master",subtitle:"Manage category master data"}),S&&e.jsxs("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{children:S}),e.jsx("button",{onClick:()=>w(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px"},children:""})]}),j&&!g.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#666"},children:"Loading categories..."}),e.jsxs("div",{className:"category-master-page",children:[e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),e.jsx("line",{x1:"9",y1:"21",x2:"9",y2:"9"})]})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"Category Master"}),e.jsx("p",{className:"ra-page-subtitle",children:"Manage category information and details"})]})]}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",placeholder:"Search by category code, name, company...",value:c,onChange:R=>o(R.target.value),className:"ra-search-input"})]}),e.jsxs("div",{className:"ra-actions",children:[e.jsxs("button",{className:"ra-filter-btn",onClick:()=>h(!0),children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),e.jsxs("button",{className:"ra-add-btn",onClick:me,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Category"]})]})]}),e.jsx("div",{className:"category-master-table-container",children:e.jsxs("table",{className:"category-master-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"COMPANY NAME"}),e.jsx("th",{children:"CATEGORY CODE"}),e.jsx("th",{children:"CATEGORY NAME"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:V.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"empty-message",children:j?"Loading...":"No categories found"})}):V.map(R=>e.jsxs("tr",{children:[e.jsx("td",{children:R.companyName||"-"}),e.jsx("td",{children:R.categoryCode||"-"}),e.jsx("td",{children:R.categoryName||"-"}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge status-badge--${R.status.toLowerCase()}`,children:R.status})})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons ra-actions",children:[e.jsx("button",{className:"action-btn action-btn--view",onClick:()=>$(R),title:"View",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>$(R),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>ee(R.id),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},R.id))})]})}),e.jsxs("div",{className:"cm-pagination-info",children:["Showing ",V.length," of ",g.length," items"]})]})]}),u&&e.jsx(Gee,{statusFilter:L,advancedFilters:E,onClose:()=>h(!1),onClear:()=>{I({categoryCode:"",categoryName:"",companyName:""}),J("all"),o("")},onApply:R=>{J(R.statusFilter),I(R.advancedFilters),h(!1)}}),d&&e.jsx(qee,{category:f,companies:x.filter(R=>R.status==="Active"),onClose:()=>{l(!1),A(null)},onSave:we})]})},Gee=({statusFilter:r,advancedFilters:t,onClose:n,onClear:a,onApply:s})=>{const[i,c]=C.useState(r),[o,d]=C.useState(t);return e.jsx("div",{className:"modal-overlay cm-filter-modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content cm-filter-modal",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"cm-filter-modal-header",children:[e.jsxs("div",{className:"cm-filter-modal-titlewrap",children:[e.jsx("div",{className:"cm-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"cm-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"cm-filter-subtitle",children:"Filter categories by multiple criteria"})]})]}),e.jsx("button",{className:"cm-filter-close",onClick:n,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"cm-filter-modal-body",children:e.jsxs("div",{className:"cm-filter-grid",children:[e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Category Code"}),e.jsx("input",{type:"text",value:o.categoryCode,onChange:l=>d({...o,categoryCode:l.target.value}),className:"cm-filter-input",placeholder:"Enter category code"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Category Name"}),e.jsx("input",{type:"text",value:o.categoryName,onChange:l=>d({...o,categoryName:l.target.value}),className:"cm-filter-input",placeholder:"Enter category name"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Company Name"}),e.jsx("input",{type:"text",value:o.companyName,onChange:l=>d({...o,companyName:l.target.value}),className:"cm-filter-input",placeholder:"Enter company name"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:i,onChange:l=>c(l.target.value),className:"cm-filter-select",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"cm-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"cm-link-btn",onClick:()=>{c("all"),d({categoryCode:"",categoryName:"",companyName:""}),a()},children:"Clear Filters"}),e.jsx("button",{type:"button",className:"cm-btn cm-btn--primary cm-btn--sm",onClick:()=>s({statusFilter:i,advancedFilters:o}),children:"Apply Filters"})]})]})})},qee=({category:r,companies:t,onClose:n,onSave:a})=>{const[s,i]=C.useState(r||{companyName:"",categoryCode:"",categoryName:"",status:"Active"}),c=o=>{o.preventDefault(),a(s)};return e.jsx("div",{className:"modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content",onClick:o=>o.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:r?"Edit Category":"Add Category"}),e.jsx("button",{className:"modal-close-btn",onClick:n,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"category-form",onSubmit:c,children:[e.jsx("div",{className:"form-section",children:e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company Name *"}),e.jsxs("select",{value:s.companyName||"",onChange:o=>i({...s,companyName:o.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{},children:[e.jsx("option",{value:"",children:"Select Company"}),t.map(o=>e.jsx("option",{value:o.companyName,children:o.companyName},o.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Category Code *"}),e.jsx("input",{type:"text",value:s.categoryCode||"",onChange:o=>i({...s,categoryCode:o.target.value}),required:!0,placeholder:"Enter Category Code",disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Category Name *"}),e.jsx("input",{type:"text",value:s.categoryName||"",onChange:o=>i({...s,categoryName:o.target.value}),required:!0,placeholder:"Enter Category Name",disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:s.status||"Active",onChange:o=>i({...s,status:o.target.value}),children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},Xee="http://localhost:3000/api/v1",Yee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},ig=async(r,t={})=>{const n=Yee(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${Xee}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const o=await s.json();Array.isArray(o.message)?i=o.message.join(", "):typeof o.message=="string"?i=o.message:o.error?i=typeof o.error=="string"?o.error:JSON.stringify(o.error):o.message&&(i=String(o.message))}catch{}const c=new Error(i);throw c.status=s.status,c.statusText=s.statusText,c}return s.status===204?{}:s.json()},Vg={createPcbZone:async r=>(await ig("/pcb-zones",{method:"POST",body:JSON.stringify(r)})).data,getPcbZoneById:async r=>(await ig(`/pcb-zones/${r}`,{method:"GET"})).data,getAllPcbZones:async(r=!1)=>(await ig(r?"/pcb-zones?activeOnly=true":"/pcb-zones",{method:"GET"})).data,updatePcbZone:async(r,t)=>(await ig(`/pcb-zones/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,deletePcbZone:async r=>{await ig(`/pcb-zones/${r}`,{method:"DELETE"})}},Jee=()=>{const{logout:r,permissions:t}=Yn(),n=jn(),[a,s]=C.useState(!1),i=()=>{s(!a)},[c,o]=C.useState(""),[d,l]=C.useState(!1),[u,h]=C.useState(null),[f,A]=C.useState([]),[g,m]=C.useState(!1),[x,y]=C.useState(null),[j,b]=C.useState(!1),[S,w]=C.useState({pcbZoneName:"",contactEmail:""}),[E,I]=C.useState("all"),L=async()=>{m(!0),y(null);try{const ee=(await Vg.getAllPcbZones(!0)).map(we=>({id:we.id,pcbZoneName:we.pcbZoneName,pcbZoneAddress:we.pcbZoneAddress||"",contactNum:we.contactNum||"",contactEmail:we.contactEmail||"",alertEmail:we.alertEmail||"",status:we.status,createdBy:we.createdBy||"",createdOn:we.createdOn,modifiedBy:we.modifiedBy||"",modifiedOn:we.modifiedOn}));A(ee)}catch($){const ee=$ instanceof Error?$.message:"Failed to load PCB zones";y(ee),console.error("Error loading PCB zones:",$)}finally{m(!1)}};C.useEffect(()=>{L()},[]);const J=xs(t,n.pathname),ae=f.filter($=>{const ee=c.trim().toLowerCase(),we=S.pcbZoneName.trim().toLowerCase(),R=S.contactEmail.trim().toLowerCase(),q=!ee||$.pcbZoneName.toLowerCase().includes(ee)||$.pcbZoneAddress.toLowerCase().includes(ee)||$.contactEmail.toLowerCase().includes(ee),ie=!we||$.pcbZoneName.toLowerCase().includes(we),Z=!R||$.contactEmail.toLowerCase().includes(R),D=E==="all"||$.status===E;return q&&ie&&Z&&D}),G=()=>{h(null),l(!0)},le=$=>{h($),l(!0)},V=async $=>{if(window.confirm("Are you sure you want to delete this PCB Zone?"))try{m(!0),await Vg.deletePcbZone($),await L(),alert("PCB Zone deleted successfully")}catch(ee){const we=ee instanceof Error?ee.message:"Failed to delete PCB zone";alert(`Error: ${we}`),console.error("Error deleting PCB zone:",ee)}finally{m(!1)}},me=async $=>{try{if(m(!0),y(null),u)await Vg.updatePcbZone(u.id,{pcbZoneAddress:$.pcbZoneAddress,contactNum:$.contactNum,contactEmail:$.contactEmail,alertEmail:$.alertEmail,status:$.status}),alert("PCB Zone updated successfully");else{if(!$.pcbZoneName){alert("Please fill in PCB Zone Name");return}await Vg.createPcbZone({pcbZoneName:$.pcbZoneName,pcbZoneAddress:$.pcbZoneAddress,contactNum:$.contactNum,contactEmail:$.contactEmail,alertEmail:$.alertEmail}),alert("PCB Zone created successfully")}l(!1),h(null),await L()}catch(ee){const we=ee instanceof Error?ee.message:"Failed to save PCB zone";y(we),alert(`Error: ${we}`),console.error("Error saving PCB zone:",ee)}finally{m(!1)}};return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${a?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!a&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:i,"aria-label":a?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:a?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:J.map($=>e.jsx("li",{children:e.jsxs(Hr,{to:$.path,className:`nav-link ${$.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:$.icon}),!a&&e.jsx("span",{className:"nav-label",children:$.label})]})},$.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Hr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!a&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!a&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(_a,{title:"PCB Zone Master",subtitle:"Manage PCB zone master data"}),x&&e.jsxs("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{children:x}),e.jsx("button",{onClick:()=>y(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px"},children:""})]}),g&&!f.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#666"},children:"Loading PCB zones..."}),e.jsxs("div",{className:"pcb-zone-master-page",children:[e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),e.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),e.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"PCB Zone Master"}),e.jsx("p",{className:"ra-page-subtitle",children:"Manage PCB zone information and details"})]})]}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",placeholder:"Search by PCB zone name, address, email...",value:c,onChange:$=>o($.target.value),className:"ra-search-input"})]}),e.jsxs("div",{className:"ra-actions",children:[e.jsxs("button",{className:"ra-filter-btn",onClick:()=>b(!0),children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),e.jsxs("button",{className:"ra-add-btn",onClick:G,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add PCB Zone"]})]})]}),e.jsx("div",{className:"pcb-zone-master-table-container",children:e.jsxs("table",{className:"pcb-zone-master-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"PCB ZONE NAME"}),e.jsx("th",{children:"PCB ZONE ADDRESS"}),e.jsx("th",{children:"CONTACT NUMBER"}),e.jsx("th",{children:"CONTACT EMAIL"}),e.jsx("th",{children:"ALERT EMAIL"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:ae.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"empty-message",children:g?"Loading...":"No PCB zones found"})}):ae.map($=>e.jsxs("tr",{children:[e.jsx("td",{children:$.pcbZoneName||"-"}),e.jsx("td",{children:$.pcbZoneAddress||"-"}),e.jsx("td",{children:$.contactNum||"-"}),e.jsx("td",{children:$.contactEmail||"-"}),e.jsx("td",{children:$.alertEmail||"-"}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge status-badge--${$.status.toLowerCase()}`,children:$.status})})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons ra-actions",children:[e.jsx("button",{className:"action-btn action-btn--view",onClick:()=>le($),title:"View",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>le($),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>V($.id),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},$.id))})]})}),e.jsxs("div",{className:"cm-pagination-info",children:["Showing ",ae.length," of ",f.length," items"]})]})]}),j&&e.jsx(Zee,{statusFilter:E,advancedFilters:S,onClose:()=>b(!1),onClear:()=>{w({pcbZoneName:"",contactEmail:""}),I("all"),o("")},onApply:$=>{I($.statusFilter),w($.advancedFilters),b(!1)}}),d&&e.jsx(ete,{pcbZone:u,onClose:()=>{l(!1),h(null)},onSave:me})]})},Zee=({statusFilter:r,advancedFilters:t,onClose:n,onClear:a,onApply:s})=>{const[i,c]=C.useState(r),[o,d]=C.useState(t);return e.jsx("div",{className:"modal-overlay cm-filter-modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content cm-filter-modal",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"cm-filter-modal-header",children:[e.jsxs("div",{className:"cm-filter-modal-titlewrap",children:[e.jsx("div",{className:"cm-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"cm-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"cm-filter-subtitle",children:"Filter PCB zones by multiple criteria"})]})]}),e.jsx("button",{className:"cm-filter-close",onClick:n,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"cm-filter-modal-body",children:e.jsxs("div",{className:"cm-filter-grid",children:[e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"PCB Zone Name"}),e.jsx("input",{type:"text",value:o.pcbZoneName,onChange:l=>d({...o,pcbZoneName:l.target.value}),className:"cm-filter-input",placeholder:"Enter PCB zone name"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Contact Email"}),e.jsx("input",{type:"text",value:o.contactEmail,onChange:l=>d({...o,contactEmail:l.target.value}),className:"cm-filter-input",placeholder:"Enter contact email"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:i,onChange:l=>c(l.target.value),className:"cm-filter-select",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"cm-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"cm-link-btn",onClick:()=>{c("all"),d({pcbZoneName:"",contactEmail:""}),a()},children:"Clear Filters"}),e.jsx("button",{type:"button",className:"cm-btn cm-btn--primary cm-btn--sm",onClick:()=>s({statusFilter:i,advancedFilters:o}),children:"Apply Filters"})]})]})})},ete=({pcbZone:r,onClose:t,onSave:n})=>{const[a,s]=C.useState(r||{pcbZoneName:"",pcbZoneAddress:"",contactNum:"",contactEmail:"",alertEmail:"",status:"Active"}),i=c=>{c.preventDefault(),n(a)};return e.jsx("div",{className:"modal-overlay",onClick:t,children:e.jsxs("div",{className:"modal-content",onClick:c=>c.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:r?"Edit PCB Zone":"Add PCB Zone"}),e.jsx("button",{className:"modal-close-btn",onClick:t,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"pcb-zone-form",onSubmit:i,children:[e.jsx("div",{className:"form-section",children:e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"PCB Zone Name *"}),e.jsx("input",{type:"text",value:a.pcbZoneName||"",onChange:c=>s({...a,pcbZoneName:c.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),e.jsxs("div",{className:"form-group form-group--full",children:[e.jsx("label",{children:"PCB Zone Address *"}),e.jsx("textarea",{value:a.pcbZoneAddress||"",onChange:c=>s({...a,pcbZoneAddress:c.target.value}),required:!0,rows:3})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Contact Number *"}),e.jsx("input",{type:"tel",value:a.contactNum||"",onChange:c=>s({...a,contactNum:c.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Contact Email *"}),e.jsx("input",{type:"email",value:a.contactEmail||"",onChange:c=>s({...a,contactEmail:c.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Alert Email *"}),e.jsx("input",{type:"email",value:a.alertEmail||"",onChange:c=>s({...a,alertEmail:c.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:a.status||"Active",onChange:c=>s({...a,status:c.target.value}),children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:t,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},tte="http://localhost:3000/api/v1",rte=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},og=async(r,t={})=>{const n=rte(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${tte}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const o=await s.json();Array.isArray(o.message)?i=o.message.join(", "):typeof o.message=="string"?i=o.message:o.error?i=typeof o.error=="string"?o.error:JSON.stringify(o.error):o.message&&(i=String(o.message))}catch{}const c=new Error(i);throw c.status=s.status,c.statusText=s.statusText,c}return s.status===204?{}:s.json()},oA={createRoute:async r=>(await og("/routes",{method:"POST",body:JSON.stringify(r)})).data,getRouteById:async r=>(await og(`/routes/${r}`,{method:"GET"})).data,getAllRoutes:async(r=!1)=>(await og(r?"/routes?activeOnly=true":"/routes",{method:"GET"})).data,updateRoute:async(r,t)=>(await og(`/routes/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,deleteRoute:async r=>{await og(`/routes/${r}`,{method:"DELETE"})}},nte="http://localhost:3000/api/v1",ate=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},lg=async(r,t={})=>{const n=ate(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${nte}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const o=await s.json();Array.isArray(o.message)?i=o.message.join(", "):typeof o.message=="string"?i=o.message:o.error?i=typeof o.error=="string"?o.error:JSON.stringify(o.error):o.message&&(i=String(o.message))}catch{}const c=new Error(i);throw c.status=s.status,c.statusText=s.statusText,c}return s.status===204?{}:s.json()},Kp={createFrequency:async r=>(await lg("/frequencies",{method:"POST",body:JSON.stringify(r)})).data,getFrequencyById:async r=>(await lg(`/frequencies/${r}`,{method:"GET"})).data,getAllFrequencies:async(r,t=!1)=>{let n="/frequencies";const a=new URLSearchParams;return r&&a.append("companyId",r),t&&a.append("activeOnly","true"),a.toString()&&(n+=`?${a.toString()}`),(await lg(n,{method:"GET"})).data},updateFrequency:async(r,t)=>(await lg(`/frequencies/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,deleteFrequency:async r=>{await lg(`/frequencies/${r}`,{method:"DELETE"})}},ste=()=>{const{logout:r,permissions:t}=Yn(),n=jn(),[a,s]=C.useState(""),[i,c]=C.useState(!1),[o,d]=C.useState(!1),[l,u]=C.useState({routeCode:"",routeName:"",companyName:""}),[h,f]=C.useState("all"),[A,g]=C.useState(null),[m,x]=C.useState([]),[y,j]=C.useState([]),[b,S]=C.useState([]),[w,E]=C.useState(!1),[I,L]=C.useState(null),J=async()=>{try{const q=(await ha.getAllCompanies(!0)).map(ie=>({id:ie.id,companyCode:ie.companyCode,companyName:ie.companyName,status:ie.status}));j(q)}catch(R){console.error("Error loading companies:",R)}},ae=async()=>{try{const q=(await Kp.getAllFrequencies(void 0,!0)).map(ie=>({id:ie.id,frequencyCode:ie.frequencyCode,frequencyName:ie.frequencyName,companyName:ie.companyName||"",status:ie.status}));S(q)}catch(R){console.error("Error loading frequencies:",R)}},G=async()=>{E(!0),L(null);try{let R=y;R.length===0&&(R=(await ha.getAllCompanies(!0)).map(ue=>({id:ue.id,companyCode:ue.companyCode,companyName:ue.companyName,status:ue.status})),j(R));let q=b;q.length===0&&(q=(await Kp.getAllFrequencies(void 0,!0)).map(ue=>({id:ue.id,frequencyCode:ue.frequencyCode,frequencyName:ue.frequencyName,companyName:ue.companyName||"",status:ue.status})),S(q));const Z=(await oA.getAllRoutes(!0)).map(D=>{const ue=R.find(je=>je.id===D.companyId),te=(ue==null?void 0:ue.companyName)||"Unknown",ye=q.find(je=>je.id===D.frequencyId),pe=(ye==null?void 0:ye.frequencyCode)||D.frequencyId||"";return{id:D.id,companyName:te,routeCode:D.routeCode,routeName:D.routeName,frequencyID:pe,status:D.status,createdBy:D.createdBy||"",createdOn:D.createdOn,modifiedBy:D.modifiedBy||"",modifiedOn:D.modifiedOn}});x(Z)}catch(R){const q=R instanceof Error?R.message:"Failed to load routes";L(q),console.error("Error loading routes:",R)}finally{E(!1)}};C.useEffect(()=>{(async()=>{await J(),await ae(),await G()})()},[]);const le=xs(t,n.pathname),V=m.filter(R=>R.routeName.toLowerCase().includes(a.toLowerCase())||R.routeCode.toLowerCase().includes(a.toLowerCase())||R.frequencyID.toLowerCase().includes(a.toLowerCase())||R.companyName.toLowerCase().includes(a.toLowerCase())),me=()=>{g(null),c(!0)},$=R=>{g(R),c(!0)},ee=async R=>{if(window.confirm("Are you sure you want to delete this route?"))try{E(!0),await oA.deleteRoute(R),await G(),alert("Route deleted successfully")}catch(q){const ie=q instanceof Error?q.message:"Failed to delete route";alert(`Error: ${ie}`),console.error("Error deleting route:",q)}finally{E(!1)}},we=async R=>{try{E(!0),L(null);const q=y.find(Z=>Z.companyName===R.companyName);if(!q){alert("Please select a valid company");return}const ie=b.find(Z=>Z.frequencyCode===R.frequencyID);if(A)await oA.updateRoute(A.id,{frequencyId:ie==null?void 0:ie.id,status:R.status}),alert("Route updated successfully");else{if(!R.routeCode||!R.routeName||!R.companyName){alert("Please fill in all required fields");return}await oA.createRoute({routeCode:R.routeCode,routeName:R.routeName,companyId:q.id,frequencyId:ie==null?void 0:ie.id}),alert("Route created successfully")}c(!1),g(null),await G()}catch(q){const ie=q instanceof Error?q.message:"Failed to save route";L(ie),alert(`Error: ${ie}`),console.error("Error saving route:",q)}finally{E(!1)}};return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:"dashboard-sidebar",children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:le.map(R=>e.jsx("li",{children:e.jsxs(Hr,{to:R.path,className:`nav-link ${R.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:R.icon}),e.jsx("span",{className:"nav-label",children:R.label})]})},R.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Hr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(_a,{title:"Route Master",subtitle:"Manage route master data"}),I&&e.jsxs("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{children:I}),e.jsx("button",{onClick:()=>L(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px"},children:""})]}),w&&!m.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#666"},children:"Loading routes..."}),e.jsxs("div",{className:"route-master-page",children:[e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),e.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),e.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"Route Master"}),e.jsx("p",{className:"ra-page-subtitle",children:"Manage route information and details"})]})]}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",placeholder:"Search by route code, name, company...",value:a,onChange:R=>s(R.target.value),className:"ra-search-input"})]}),e.jsxs("div",{className:"ra-actions",children:[e.jsxs("button",{className:"ra-filter-btn",onClick:()=>d(!0),children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),e.jsxs("button",{className:"ra-add-btn",onClick:me,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Route"]})]})]}),e.jsx("div",{className:"route-master-table-container",children:e.jsxs("table",{className:"route-master-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"COMPANY NAME"}),e.jsx("th",{children:"ROUTE CODE"}),e.jsx("th",{children:"ROUTE NAME"}),e.jsx("th",{children:"FREQUENCY ID"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:V.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"empty-message",children:w?"Loading...":"No routes found"})}):V.map(R=>e.jsxs("tr",{children:[e.jsx("td",{children:R.companyName||"-"}),e.jsx("td",{children:R.routeCode||"-"}),e.jsx("td",{children:R.routeName||"-"}),e.jsx("td",{children:R.frequencyID||"-"}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge status-badge--${R.status.toLowerCase()}`,children:R.status})})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons ra-actions",children:[e.jsx("button",{className:"action-btn action-btn--view",onClick:()=>$(R),title:"View",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>$(R),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>ee(R.id),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},R.id))})]})}),e.jsxs("div",{className:"cm-pagination-info",children:["Showing ",V.length," of ",m.length," items"]})]})]}),o&&e.jsx(ite,{statusFilter:h,advancedFilters:l,onClose:()=>d(!1),onClear:()=>{u({routeCode:"",routeName:"",companyName:""}),f("all"),s("")},onApply:R=>{f(R.statusFilter),u(R.advancedFilters),d(!1)}}),i&&e.jsx(ote,{route:A,companies:y.filter(R=>R.status==="Active"),frequencies:b.filter(R=>R.status==="Active"),onClose:()=>{c(!1),g(null)},onSave:we})]})},ite=({statusFilter:r,advancedFilters:t,onClose:n,onClear:a,onApply:s})=>{const[i,c]=C.useState(r),[o,d]=C.useState(t);return e.jsx("div",{className:"modal-overlay cm-filter-modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content cm-filter-modal",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"cm-filter-modal-header",children:[e.jsxs("div",{className:"cm-filter-modal-titlewrap",children:[e.jsx("div",{className:"cm-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"cm-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"cm-filter-subtitle",children:"Filter routes by multiple criteria"})]})]}),e.jsx("button",{className:"cm-filter-close",onClick:n,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"cm-filter-modal-body",children:e.jsxs("div",{className:"cm-filter-grid",children:[e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Route Code"}),e.jsx("input",{type:"text",value:o.routeCode,onChange:l=>d({...o,routeCode:l.target.value}),className:"cm-filter-input",placeholder:"Enter route code"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Route Name"}),e.jsx("input",{type:"text",value:o.routeName,onChange:l=>d({...o,routeName:l.target.value}),className:"cm-filter-input",placeholder:"Enter route name"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Company Name"}),e.jsx("input",{type:"text",value:o.companyName,onChange:l=>d({...o,companyName:l.target.value}),className:"cm-filter-input",placeholder:"Enter company name"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:i,onChange:l=>c(l.target.value),className:"cm-filter-select",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"cm-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"cm-link-btn",onClick:()=>{c("all"),d({routeCode:"",routeName:"",companyName:""}),a()},children:"Clear Filters"}),e.jsx("button",{type:"button",className:"cm-btn cm-btn--primary cm-btn--sm",onClick:()=>s({statusFilter:i,advancedFilters:o}),children:"Apply Filters"})]})]})})},ote=({route:r,companies:t,frequencies:n,onClose:a,onSave:s})=>{const[i,c]=C.useState(r||{companyName:"",routeCode:"",routeName:"",frequencyID:"",status:"Active"}),o=d=>{d.preventDefault(),s(i)};return e.jsx("div",{className:"modal-overlay",onClick:a,children:e.jsxs("div",{className:"modal-content",onClick:d=>d.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:r?"Edit Route":"Add Route"}),e.jsx("button",{className:"modal-close-btn",onClick:a,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"route-form",onSubmit:o,children:[e.jsx("div",{className:"form-section",children:e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company Name *"}),e.jsxs("select",{value:i.companyName||"",onChange:d=>c({...i,companyName:d.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{},children:[e.jsx("option",{value:"",children:"Select Company"}),t.map(d=>e.jsx("option",{value:d.companyName,children:d.companyName},d.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Route Code *"}),e.jsx("input",{type:"text",value:i.routeCode||"",onChange:d=>c({...i,routeCode:d.target.value}),required:!0,placeholder:"Enter Route Code",disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Route Name *"}),e.jsx("input",{type:"text",value:i.routeName||"",onChange:d=>c({...i,routeName:d.target.value}),required:!0,placeholder:"Enter Route Name",disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Frequency"}),e.jsxs("select",{value:i.frequencyID||"",onChange:d=>c({...i,frequencyID:d.target.value}),children:[e.jsx("option",{value:"",children:"Select Frequency"}),n.map(d=>e.jsxs("option",{value:d.frequencyCode,children:[d.frequencyName," (",d.frequencyCode,")"]},d.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:i.status||"Active",onChange:d=>c({...i,status:d.target.value}),children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:a,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},lte="http://localhost:3000/api/v1",cte=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},cg=async(r,t={})=>{const n=cte(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${lte}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const o=await s.json();Array.isArray(o.message)?i=o.message.join(", "):typeof o.message=="string"?i=o.message:o.error?i=typeof o.error=="string"?o.error:JSON.stringify(o.error):o.message&&(i=String(o.message))}catch{}const c=new Error(i);throw c.status=s.status,c.statusText=s.statusText,c}return s.status===204?{}:s.json()},N0={createColor:async r=>(await cg("/colors",{method:"POST",body:JSON.stringify(r)})).data,getColorById:async r=>(await cg(`/colors/${r}`,{method:"GET"})).data,getAllColors:async(r,t=!1)=>{let n="/colors";const a=new URLSearchParams;return r&&a.append("companyId",r),t&&a.append("activeOnly","true"),a.toString()&&(n+=`?${a.toString()}`),(await cg(n,{method:"GET"})).data},updateColor:async(r,t)=>(await cg(`/colors/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,deleteColor:async r=>{await cg(`/colors/${r}`,{method:"DELETE"})}},dte=()=>{const{logout:r,permissions:t}=Yn(),n=jn(),[a,s]=C.useState(!1),i=()=>{s(!a)},[c,o]=C.useState(""),[d,l]=C.useState(!1),[u,h]=C.useState(!1),[f,A]=C.useState(null),[g,m]=C.useState([]),[x,y]=C.useState([]),[j,b]=C.useState(!1),[S,w]=C.useState(null),[E,I]=C.useState({colorName:"",companyName:""}),[L,J]=C.useState("all"),ae=async()=>{try{const q=(await ha.getAllCompanies(!0)).map(ie=>({id:ie.id,companyCode:ie.companyCode,companyName:ie.companyName,status:ie.status}));y(q)}catch(R){console.error("Error loading companies:",R)}},G=async()=>{b(!0),w(null);try{const q=(await N0.getAllColors(void 0,!0)).map(ie=>{const Z=x.find(D=>D.id===ie.companyId);return{id:ie.id,colorName:ie.colorName,companyName:(Z==null?void 0:Z.companyName)||"Unknown Company",status:ie.status,createdBy:ie.createdBy||"",createdOn:ie.createdOn,modifiedBy:ie.modifiedBy||"",modifiedOn:ie.modifiedOn}});m(q)}catch(R){const q=R instanceof Error?R.message:"Failed to load color codes";w(q),console.error("Error loading color codes:",R)}finally{b(!1)}};C.useEffect(()=>{(async()=>{await ae()})()},[]),C.useEffect(()=>{x.length>0&&G()},[x.length]);const le=xs(t,n.pathname),V=g.filter(R=>{const q=c.trim().toLowerCase(),ie=E.colorName.trim().toLowerCase(),Z=E.companyName.trim().toLowerCase(),D=!q||R.colorName.toLowerCase().includes(q)||R.companyName.toLowerCase().includes(q),ue=!ie||R.colorName.toLowerCase().includes(ie),te=!Z||R.companyName.toLowerCase().includes(Z),ye=L==="all"||R.status===L;return D&&ue&&te&&ye}),me=()=>{A(null),l(!0)},$=R=>{A(R),l(!0)},ee=async R=>{if(window.confirm("Are you sure you want to delete this color code?"))try{b(!0),await N0.deleteColor(R),await G(),alert("Color code deleted successfully")}catch(q){const ie=q instanceof Error?q.message:"Failed to delete color code";alert(`Error: ${ie}`),console.error("Error deleting color code:",q)}finally{b(!1)}},we=async R=>{try{b(!0),w(null);const q=x.find(ie=>ie.companyName===R.companyName);if(!q){alert("Please select a valid company");return}if(f)await N0.updateColor(f.id,{status:R.status}),alert("Color code updated successfully");else{if(!R.colorName||!R.companyName){alert("Please fill in all required fields");return}await N0.createColor({colorName:R.colorName,companyId:q.id}),alert("Color code created successfully")}l(!1),A(null),await G()}catch(q){const ie=q instanceof Error?q.message:"Failed to save color code";w(ie),alert(`Error: ${ie}`),console.error("Error saving color code:",q)}finally{b(!1)}};return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${a?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!a&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:i,"aria-label":a?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:a?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:le.map(R=>e.jsx("li",{children:e.jsxs(Hr,{to:R.path,className:`nav-link ${R.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:R.icon}),!a&&e.jsx("span",{className:"nav-label",children:R.label})]})},R.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Hr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!a&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!a&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(_a,{title:"Color Code Master",subtitle:"Manage color code master data"}),S&&e.jsxs("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{children:S}),e.jsx("button",{onClick:()=>w(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px"},children:""})]}),j&&!g.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#666"},children:"Loading color codes..."}),e.jsxs("div",{className:"color-code-master-page",children:[e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M12 2v4m0 12v4M2 12h4m12 0h4"})]})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"Color Code Master"}),e.jsx("p",{className:"ra-page-subtitle",children:"Manage color code information and details"})]})]}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",placeholder:"Search by color name, company...",value:c,onChange:R=>o(R.target.value),className:"ra-search-input"})]}),e.jsxs("div",{className:"ra-actions",children:[e.jsxs("button",{className:"ra-filter-btn",onClick:()=>h(!0),children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),e.jsxs("button",{className:"ra-add-btn",onClick:me,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Color Code"]})]})]}),e.jsx("div",{className:"color-code-master-table-container",children:e.jsxs("table",{className:"color-code-master-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"COLOR NAME"}),e.jsx("th",{children:"COMPANY NAME"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:V.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"empty-message",children:j?"Loading...":"No color codes found"})}):V.map(R=>e.jsxs("tr",{children:[e.jsx("td",{children:R.colorName||"-"}),e.jsx("td",{children:R.companyName||"-"}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge status-badge--${R.status.toLowerCase()}`,children:R.status})})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons ra-actions",children:[e.jsx("button",{className:"action-btn action-btn--view",onClick:()=>$(R),title:"View",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>$(R),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>ee(R.id),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},R.id))})]})}),e.jsxs("div",{className:"cm-pagination-info",children:["Showing ",V.length," of ",g.length," items"]})]})]}),u&&e.jsx(ute,{statusFilter:L,advancedFilters:E,onClose:()=>h(!1),onClear:()=>{I({colorName:"",companyName:""}),J("all"),o("")},onApply:R=>{J(R.statusFilter),I(R.advancedFilters),h(!1)}}),d&&e.jsx(hte,{colorCode:f,companies:x.filter(R=>R.status==="Active"),onClose:()=>{l(!1),A(null)},onSave:we})]})},ute=({statusFilter:r,advancedFilters:t,onClose:n,onClear:a,onApply:s})=>{const[i,c]=C.useState(r),[o,d]=C.useState(t);return e.jsx("div",{className:"modal-overlay cm-filter-modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content cm-filter-modal",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"cm-filter-modal-header",children:[e.jsxs("div",{className:"cm-filter-modal-titlewrap",children:[e.jsx("div",{className:"cm-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"cm-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"cm-filter-subtitle",children:"Filter color codes by multiple criteria"})]})]}),e.jsx("button",{className:"cm-filter-close",onClick:n,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"cm-filter-modal-body",children:e.jsxs("div",{className:"cm-filter-grid",children:[e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Color Name"}),e.jsx("input",{type:"text",value:o.colorName,onChange:l=>d({...o,colorName:l.target.value}),className:"cm-filter-input",placeholder:"Enter color name"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Company Name"}),e.jsx("input",{type:"text",value:o.companyName,onChange:l=>d({...o,companyName:l.target.value}),className:"cm-filter-input",placeholder:"Enter company name"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:i,onChange:l=>c(l.target.value),className:"cm-filter-select",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"cm-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"cm-link-btn",onClick:()=>{c("all"),d({colorName:"",companyName:""}),a()},children:"Clear Filters"}),e.jsx("button",{type:"button",className:"cm-btn cm-btn--primary cm-btn--sm",onClick:()=>s({statusFilter:i,advancedFilters:o}),children:"Apply Filters"})]})]})})},hte=({colorCode:r,companies:t,onClose:n,onSave:a})=>{const[s,i]=C.useState(r||{colorName:"",companyName:"",status:"Active"}),c=o=>{o.preventDefault(),a(s)};return e.jsx("div",{className:"modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content",onClick:o=>o.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:r?"Edit Color Code":"Add Color Code"}),e.jsx("button",{className:"modal-close-btn",onClick:n,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"color-code-form",onSubmit:c,children:[e.jsx("div",{className:"form-section",children:e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Color Name *"}),e.jsx("input",{type:"text",value:s.colorName||"",onChange:o=>i({...s,colorName:o.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company Name *"}),e.jsxs("select",{value:s.companyName||"",onChange:o=>i({...s,companyName:o.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{},children:[e.jsx("option",{value:"",children:"Select Company"}),t.map(o=>e.jsx("option",{value:o.companyName,children:o.companyName},o.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:s.status||"Active",onChange:o=>i({...s,status:o.target.value}),children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},fte="http://localhost:3000/api/v1",Ate=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},Bh=async(r,t={})=>{const n=Ate(),a=`${fte}${r}`;console.log("[apiRequest] Making request:",{method:t.method||"GET",url:a,endpoint:r,hasToken:!!n,hasBody:!!t.body});const s={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers};try{const i=await fetch(a,{...t,headers:s});if(console.log("[apiRequest] Response received:",{status:i.status,statusText:i.statusText,ok:i.ok,headers:Object.fromEntries(i.headers.entries())}),!i.ok){let o=`HTTP ${i.status}: ${i.statusText}`,d=null;try{const u=await i.text();console.log("[apiRequest] Error response text:",u),u&&(d=JSON.parse(u),console.log("[apiRequest] Error response parsed:",d),Array.isArray(d.message)?o=d.message.join(", "):typeof d.message=="string"?o=d.message:d.error?o=typeof d.error=="string"?d.error:JSON.stringify(d.error):d.message&&(o=String(d.message)))}catch(u){console.error("[apiRequest] Failed to parse error response:",u)}console.error("[apiRequest] Request failed:",{status:i.status,statusText:i.statusText,errorMessage:o,errorData:d});const l=new Error(o);throw l.status=i.status,l.statusText=i.statusText,l.errorData=d,l}if(i.status===204)return console.log("[apiRequest] 204 No Content response, returning empty object"),{};const c=await i.json();return console.log("[apiRequest] Success response data:",c),c}catch(i){if(console.error("[apiRequest] Fetch error:",i),console.error("[apiRequest] Fetch error details:",{message:i instanceof Error?i.message:String(i),name:i instanceof Error?i.name:void 0,stack:i instanceof Error?i.stack:void 0}),i instanceof Error&&i.status)throw i;const c=new Error(i instanceof Error?`Network error: ${i.message}`:"Network error: Failed to connect to server");throw c.originalError=i,c}},Hc={createUser:async r=>(await Bh("/users",{method:"POST",body:JSON.stringify(r)})).data,createCompleteUser:async r=>{console.log("[userService] createCompleteUser called with data:",r),console.log("[userService] API endpoint: POST /users/complete");try{const t=await Bh("/users/complete",{method:"POST",body:JSON.stringify(r)});return console.log("[userService] createCompleteUser success - Response:",t),t.data}catch(t){throw console.error("[userService] createCompleteUser error:",t),console.error("[userService] Error details:",{message:t instanceof Error?t.message:String(t),stack:t instanceof Error?t.stack:void 0}),t}},getUserById:async r=>(await Bh(`/users/${r}`,{method:"GET"})).data,updateUser:async(r,t)=>(await Bh(`/users/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,updateCompleteUser:async(r,t)=>{console.log("[userService] updateCompleteUser called"),console.log("[userService] User ID:",r),console.log("[userService] Data:",t),console.log("[userService] API endpoint: PUT /users/"+r+"/complete");try{const n=await Bh(`/users/${r}/complete`,{method:"PUT",body:JSON.stringify(t)});return console.log("[userService] updateCompleteUser success - Response:",n),n.data}catch(n){throw console.error("[userService] updateCompleteUser error:",n),console.error("[userService] Error details:",{message:n instanceof Error?n.message:String(n),stack:n instanceof Error?n.stack:void 0}),n}},deleteUser:async r=>{await Bh(`/users/${r}`,{method:"DELETE"})},activateUser:async(r,t)=>(await Bh(`/users/${r}/activate`,{method:"POST",body:JSON.stringify(t)})).data,deactivateUser:async r=>(await Bh(`/users/${r}/deactivate`,{method:"POST"})).data,getUsersByCompany:async r=>(await Bh(`/users/company/${r}`,{method:"GET"})).data,getUserByUsername:async r=>(await Bh(`/users/username/${encodeURIComponent(r)}`,{method:"GET"})).data},pte="http://localhost:3000/api/v1",mte=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},CS=async(r,t={})=>{const n=mte(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${pte}${r}`,{...t,headers:a});if(!s.ok){const c=await s.json().catch(()=>({}));let o=`HTTP error! status: ${s.status}`;throw c.message?Array.isArray(c.message)?o=c.message.join(", "):o=c.message:c.error&&(o=c.error),new Error(o)}return(await s.json()).data},gte=async(r,t)=>CS(`/users/${r}/activate-with-password`,{method:"POST",body:JSON.stringify(t)}),XP=async(r,t)=>CS(`/users/${r}/change-password`,{method:"POST",body:JSON.stringify(t)}),vte=async r=>CS(`/users/${r}/reset-password`,{method:"POST"}),xte=()=>{const{user:r,logout:t}=Yn(),n=jn();qa();const[a,s]=C.useState("users"),[i,c]=C.useState(""),[o,d]=C.useState(!1),[l,u]=C.useState(!1),[h,f]=C.useState(!1),[A,g]=C.useState(null),[m,x]=C.useState(!1),[y,j]=C.useState(null),[b,S]=C.useState(null),[w,E]=C.useState(!1),[I,L]=C.useState(null),J=He=>{if(console.log("[extractErrorMessage] Extracting error message from:",He),He instanceof Error){const Rt=He;Rt.status&&console.log("[extractErrorMessage] Error has status:",Rt.status),Rt.errorData&&console.log("[extractErrorMessage] Error has errorData:",Rt.errorData);const ot=Rt.message||"Unknown error occurred";return console.log("[extractErrorMessage] Extracted message:",ot),ot}if(typeof He=="string")return He;if(He&&typeof He=="object"){const Rt=He;if(Array.isArray(Rt.message))return Rt.message.join(", ");if(Rt.message)return String(Rt.message);if(Rt.error)return Array.isArray(Rt.error)?Rt.error.join(", "):String(Rt.error);try{return JSON.stringify(Rt)}catch{return"Unknown error occurred"}}return console.log("[extractErrorMessage] Could not extract message, returning default"),"An unexpected error occurred. Please check the console for details."},[ae,G]=C.useState([]),[le,V]=C.useState(!1),me=He=>({id:He.id,companyCode:He.companyCode,companyName:He.companyName,status:He.status}),$=async()=>{V(!0);try{const Rt=(await ha.getAllCompanies(!0)).map(ot=>me(ot));return G(Rt),Rt}catch(He){console.error("Error loading companies:",He);const Rt=J(He);return L(Rt||"Failed to load companies. Please ensure the backend is running and accessible."),[]}finally{V(!1)}},[ee,we]=C.useState([]),[R,q]=C.useState([]),ie=He=>{if(!He)return null;if(Ae(He))return He;const Rt=R.find(ot=>ot.roleName===He);return Rt?Rt.id:null},Z=(He,Rt)=>{let ot="-";if(He.userRoleId)if(R.length>0){const Ht=R.find($t=>$t.id===He.userRoleId);ot=Ht?Ht.roleName:"-"}else ot=He.userRoleId;return{id:He.userId,companyName:Rt,mobileNumber:He.mobileNumber,userName:He.userName,empCode:He.employeeCode||"",userRoleID:ot,employmentType:He.employmentType||"",designation:He.designation||"",contractorName:He.contractorName||"",companyNameThirdParty:He.companyNameThirdParty||"",grossSalary:He.grossSalary?String(He.grossSalary):"",emailAddress:He.emailAddress||"",aadhaar:He.aadhaarNumber||"",pan:He.panNumber||"",dlNum:He.drivingLicenseNumber||"",pfNum:He.pfNumber||"",uan:He.uanNumber||"",esiNum:He.esiNumber||"",address:He.addressLine||"",area:He.area||"",city:He.city||"",district:He.district||"",pincode:He.pincode||"",emergencyContact:He.emergencyContact||"",webLogin:He.webLogin,mobileApp:He.mobileAppAccess,password:"",status:He.status,passwordEnabled:He.passwordEnabled,otpEnabled:He.otpEnabled,forceOtpOnNextLogin:!1,createdBy:"",createdOn:He.createdOn,modifiedBy:"",modifiedOn:He.modifiedOn}},D=async He=>{let Rt=He||ae;if(Rt.length===0&&(Rt=await $(),Rt.length===0)){we([]),E(!1),L("No companies found. Please create a company first.");return}E(!0),L(null);try{const ot=[];let Ht=!1;for(const $t of Rt){if(!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test($t.id)){console.warn(`Skipping company ${$t.companyName} - ID is not a valid UUID: ${$t.id}`);continue}try{Ht=!0;const Jr=(await Hc.getUsersByCompany($t.id)).map(Wr=>Z(Wr,$t.companyName));ot.push(...Jr)}catch(Fr){console.warn(`Failed to load users for company ${$t.companyName}:`,Fr);const Jr=J(Fr);Jr.includes("403")||Jr.includes("401")||Jr.includes("Unauthorized")?L("Authentication failed. Please login again."):Jr.includes("404")||console.warn(`Error loading users for ${$t.companyName}: ${Jr}`)}}Ht?(we(ot),ot.length>0&&L(null)):L("No valid companies found. Please create a company first.")}catch(ot){const Ht=J(ot);L(Ht||"Failed to load users"),console.error("Error loading users:",ot)}finally{E(!1)}};C.useEffect(()=>{let He=!0;return(async()=>{try{const ot=await $();if(!He)return;if(ot.length>0){if(await $e(ot),!He)return;await D(ot)}else L("No companies found. Please create a company first.")}catch(ot){if(!He)return;console.error("[UserManagementPage] Error during initialization:",ot);const Ht=J(ot);L(Ht||"Failed to initialize page. Please refresh.")}})(),()=>{He=!1}},[]),C.useEffect(()=>{if(R.length>0&&ee.length>0){const He=ee.map(ot=>{if(ot.userRoleID&&Ae(ot.userRoleID)){const Ht=R.find($t=>$t.id===ot.userRoleID);return Ht?{...ot,userRoleID:Ht.roleName}:{...ot,userRoleID:"-"}}return ot});He.some((ot,Ht)=>ot.userRoleID!==ee[Ht].userRoleID)&&(console.log("[UserManagementPage] Updating user role names after roles loaded"),we(He))}},[R]);const[ue]=C.useState([{id:"1",companyName:"Sample Company",mobileNumber:"+91-9876543210",userName:"johndoe",empCode:"EMP001",userRoleID:"Admin",employmentType:"Permanent",webLogin:!0,mobileApp:!0,dlNum:"DL1234567890",aadhaar:"1234-5678-9012",pan:"ABCDE1234F",uan:"UAN123456789",pfNum:"PF123456789",esiNum:"ESI123456789",address:"123 Main Street",area:"Downtown",city:"Mumbai",district:"Mumbai",pincode:"400001",emergencyContact:"+91-9876543211",contractorName:"",grossSalary:"50000",password:"********",emailAddress:"john.doe@example.com",status:"Active",createdBy:"System",createdOn:"2023-01-01",modifiedBy:"System",modifiedOn:"2023-01-01"},{id:"2",companyName:"ABC Industries",mobileNumber:"+91-9876543212",userName:"janesmith",empCode:"EMP002",userRoleID:"Manager",employmentType:"Permanent",webLogin:!0,mobileApp:!1,dlNum:"DL0987654321",aadhaar:"9876-5432-1098",pan:"FGHIJ5678K",uan:"UAN987654321",pfNum:"PF987654321",esiNum:"ESI987654321",address:"456 Admin Avenue",area:"Suburban",city:"Delhi",district:"New Delhi",pincode:"110001",emergencyContact:"+91-9876543213",contractorName:"",grossSalary:"75000",password:"********",emailAddress:"jane.smith@example.com",status:"Active",createdBy:"Admin",createdOn:"2023-01-02",modifiedBy:"Admin",modifiedOn:"2023-01-02"},{id:"3",companyName:"XYZ Corporation",mobileNumber:"+91-9876543214",userName:"bobwilson",empCode:"EMP003",userRoleID:"Driver",employmentType:"Contract",webLogin:!1,mobileApp:!0,dlNum:"DL1122334455",aadhaar:"5555-6666-7777",pan:"KLMNO9012P",uan:"UAN555666777",pfNum:"PF555666777",esiNum:"ESI555666777",address:"789 Factory Road",area:"Industrial",city:"Bangalore",district:"Bangalore",pincode:"560001",emergencyContact:"+91-9876543215",contractorName:"ABC Contractors",grossSalary:"35000",password:"********",emailAddress:"bob.wilson@example.com",status:"Active",createdBy:"Admin",createdOn:"2023-01-03",modifiedBy:"Admin",modifiedOn:"2023-01-03"}]),te=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:n.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:n.pathname==="/transaction"||n.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:n.pathname==="/finance"||n.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname==="/commercial-agreements"||n.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:n.pathname==="/compliance-training"||n.pathname.startsWith("/compliance-training")},{path:"/master",label:"Masters",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:n.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname.startsWith("/report")}],ye=ee.filter(He=>{const Rt=i.toLowerCase();return(He.userName||"").toLowerCase().includes(Rt)||(He.emailAddress||"").toLowerCase().includes(Rt)||(He.empCode||"").toLowerCase().includes(Rt)||(He.mobileNumber||"").toLowerCase().includes(Rt)||(He.companyName||"").toLowerCase().includes(Rt)}),pe=R.filter(He=>He.roleName.toLowerCase().includes(i.toLowerCase())||He.description.toLowerCase().includes(i.toLowerCase())||He.companyName.toLowerCase().includes(i.toLowerCase())),je=()=>{g(null),d(!0)},re=async He=>{console.log("[handleEditUser] Editing user:",He.id),E(!0),L(null),x(!1);try{const Rt=await Hc.getUserById(He.id);console.log("[handleEditUser] Complete user data fetched:",Rt);const ot=ae.find(Dr=>Dr.id===Rt.companyId),Ht=(ot==null?void 0:ot.companyName)||He.companyName,$t=Z(Rt,Ht);console.log("[handleEditUser] Mapped user data:",$t),g($t),d(!0)}catch(Rt){console.error("[handleEditUser] Error fetching user data:",Rt);const ot=J(Rt);L(ot||"Failed to load user data. Please try again."),g(He),d(!0)}finally{E(!1)}},he=async He=>{console.log("[handleViewUser] Viewing user:",He.id),E(!0),L(null),x(!0);try{const Rt=await Hc.getUserById(He.id);console.log("[handleViewUser] Complete user data fetched:",Rt);const ot=ae.find(Dr=>Dr.id===Rt.companyId),Ht=(ot==null?void 0:ot.companyName)||He.companyName,$t=Z(Rt,Ht);console.log("[handleViewUser] Mapped user data:",$t),g($t),d(!0)}catch(Rt){console.error("[handleViewUser] Error fetching user data:",Rt);const ot=J(Rt);L(ot||"Failed to load user data. Please try again."),g(He),d(!0)}finally{E(!1)}},X=async He=>{if(window.confirm("Are you sure you want to delete this user?")){E(!0),L(null);try{await Hc.deleteUser(He),await D()}catch(Rt){const ot=J(Rt);L(ot||"Failed to delete user"),console.error("Error deleting user:",Rt)}finally{E(!1)}}},Ae=He=>!He||He.trim()===""?!1:/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(He),Be=async He=>{console.log("handleSaveUser called with formData:",He),E(!0),L(null);try{if(A){console.log("[handleSaveUser] ========== UPDATE START =========="),console.log("[handleSaveUser] Editing user ID:",A.id);const Rt=ae.find($t=>$t.companyName===He.companyName)||ae[0];if(!Rt)throw new Error("Please select a company");if(!Ae(Rt.id))throw new Error(`Invalid company ID. Please ensure companies are loaded from the API. Company ID: ${Rt.id}`);const ot={companyId:Rt.id,userName:He.userName||"",mobileNumber:He.mobileNumber||"",employeeCode:He.empCode||null,emailAddress:He.emailAddress||null};if(He.userRoleID&&He.userRoleID.trim()){console.log("[handleSaveUser] Processing userRoleID:",He.userRoleID);const $t=ie(He.userRoleID);console.log("[handleSaveUser] Converted role ID:",$t),$t&&Ae($t)?(ot.userRoleId=$t,console.log("[handleSaveUser] Using converted UUID role ID:",$t)):Ae(He.userRoleID)?(ot.userRoleId=He.userRoleID,console.log("[handleSaveUser] Using provided UUID role ID:",He.userRoleID)):console.warn("[handleSaveUser] Role ID is not a valid UUID, skipping role assignment:",{roleName:He.userRoleID,roleId:$t,message:"Role will not be assigned. Please ensure roles are fetched from the backend API with valid UUIDs."})}else console.log("[handleSaveUser] No userRoleID provided, skipping role assignment");ot.employmentType=He.employmentType&&He.employmentType.trim()?He.employmentType.trim():null,ot.designation=He.designation&&He.designation.trim()?He.designation.trim():null,ot.contractorName=He.contractorName&&He.contractorName.trim()?He.contractorName.trim():null,ot.companyNameThirdParty=He.companyNameThirdParty&&He.companyNameThirdParty.trim()?He.companyNameThirdParty.trim():null,ot.grossSalary=He.grossSalary&&parseFloat(String(He.grossSalary))||null,ot.aadhaarNumber=He.aadhaar&&He.aadhaar.trim()?He.aadhaar.trim():null,ot.panNumber=He.pan&&He.pan.trim()?He.pan.trim():null,ot.drivingLicenseNumber=He.dlNum&&He.dlNum.trim()?He.dlNum.trim():null,ot.pfNumber=He.pfNum&&He.pfNum.trim()?He.pfNum.trim():null,ot.uanNumber=He.uan&&He.uan.trim()?He.uan.trim():null,ot.esiNumber=He.esiNum&&He.esiNum.trim()?He.esiNum.trim():null,ot.addressLine=He.address&&He.address.trim()?He.address.trim():null,ot.area=He.area&&He.area.trim()?He.area.trim():null,ot.city=He.city&&He.city.trim()?He.city.trim():null,ot.district=He.district&&He.district.trim()?He.district.trim():null,ot.pincode=He.pincode&&He.pincode.trim()?He.pincode.trim():null,ot.emergencyContact=He.emergencyContact&&He.emergencyContact.trim()?He.emergencyContact.trim():null,ot.webLogin=He.webLogin||!1,ot.mobileAppAccess=He.mobileApp||!1,ot.status=He.status||"Draft",ot.passwordEnabled=He.passwordEnabled||!1,ot.otpEnabled=He.otpEnabled||!1,ot.forceOtpOnNextLogin=He.forceOtpOnNextLogin||!1,console.log("[handleSaveUser] Update payload (FULL):",JSON.stringify(ot,null,2)),console.log("[handleSaveUser] Field verification:"),console.log("  - Email:",ot.emailAddress),console.log("  - Aadhaar:",ot.aadhaarNumber),console.log("  - PAN:",ot.panNumber),console.log("  - ESI:",ot.esiNumber),console.log("  - Address:",ot.addressLine);let Ht=!1;try{const $t=await Hc.updateCompleteUser(A.id,ot);Ht=!0,console.log("[handleSaveUser] UPDATE API call successful. Result:",$t),alert("User updated successfully!"),console.log("[handleSaveUser] Closing modal..."),d(!1),g(null),L(null),console.log("[handleSaveUser] Modal closed"),setTimeout(async()=>{try{await D(),console.log("[handleSaveUser] Users reloaded")}catch(Dr){console.error("[handleSaveUser] Reload error (data was saved):",Dr)}},500),console.log("[handleSaveUser] ========== UPDATE END (SUCCESS) ==========")}catch($t){throw Ht=!1,console.error("[handleSaveUser]  UPDATE API CALL FAILED:",$t),$t}}else{const Rt=ae.find($t=>$t.companyName===He.companyName)||ae[0];if(!Rt)throw new Error("Please select a company");if(!Ae(Rt.id))throw new Error(`Invalid company ID. Please ensure companies are loaded from the API. Company ID: ${Rt.id}`);const ot={companyId:Rt.id,userName:He.userName||"",mobileNumber:He.mobileNumber||"",employeeCode:He.empCode,emailAddress:He.emailAddress||null};if(console.log("[handleSaveUser] Email address from formData:",He.emailAddress),console.log("[handleSaveUser] Email address in createData:",ot.emailAddress),He.userRoleID&&He.userRoleID.trim()){console.log("[handleSaveUser] Processing userRoleID:",He.userRoleID);const $t=ie(He.userRoleID);console.log("[handleSaveUser] Converted role ID:",$t),$t&&Ae($t)?(ot.userRoleId=$t,console.log("[handleSaveUser] Using converted UUID role ID:",$t)):Ae(He.userRoleID)?(ot.userRoleId=He.userRoleID,console.log("[handleSaveUser] Using provided UUID role ID:",He.userRoleID)):console.warn("[handleSaveUser] Role ID is not a valid UUID, skipping role assignment:",{roleName:He.userRoleID,roleId:$t,message:"Role will not be assigned. Please ensure roles are fetched from the backend API with valid UUIDs."})}else console.log("[handleSaveUser] No userRoleID provided, skipping role assignment");ot.employmentType=He.employmentType&&He.employmentType.trim()?He.employmentType.trim():null,ot.designation=He.designation&&He.designation.trim()?He.designation.trim():null,ot.contractorName=He.contractorName&&He.contractorName.trim()?He.contractorName.trim():null,ot.companyNameThirdParty=He.companyNameThirdParty&&He.companyNameThirdParty.trim()?He.companyNameThirdParty.trim():null,ot.grossSalary=He.grossSalary&&parseFloat(String(He.grossSalary))||null,console.log("[handleSaveUser] Step 2 fields:",{employmentType:ot.employmentType,designation:ot.designation,contractorName:ot.contractorName,companyNameThirdParty:ot.companyNameThirdParty,grossSalary:ot.grossSalary}),ot.aadhaarNumber=He.aadhaar&&He.aadhaar.trim()?He.aadhaar.trim():null,ot.panNumber=He.pan&&He.pan.trim()?He.pan.trim():null,ot.drivingLicenseNumber=He.dlNum&&He.dlNum.trim()?He.dlNum.trim():null,ot.pfNumber=He.pfNum&&He.pfNum.trim()?He.pfNum.trim():null,ot.uanNumber=He.uan&&He.uan.trim()?He.uan.trim():null,ot.esiNumber=He.esiNum&&He.esiNum.trim()?He.esiNum.trim():null,console.log("[handleSaveUser] Step 3 fields:",{aadhaar:ot.aadhaarNumber,pan:ot.panNumber,drivingLicense:ot.drivingLicenseNumber,pfNumber:ot.pfNumber,uan:ot.uanNumber,esi:ot.esiNumber}),ot.addressLine=He.address&&He.address.trim()?He.address.trim():null,ot.area=He.area&&He.area.trim()?He.area.trim():null,ot.city=He.city&&He.city.trim()?He.city.trim():null,ot.district=He.district&&He.district.trim()?He.district.trim():null,ot.pincode=He.pincode&&He.pincode.trim()?He.pincode.trim():null,ot.emergencyContact=He.emergencyContact&&He.emergencyContact.trim()?He.emergencyContact.trim():null,console.log("[handleSaveUser] Step 4 fields:",{address:ot.addressLine,area:ot.area,city:ot.city,district:ot.district,pincode:ot.pincode,emergencyContact:ot.emergencyContact}),ot.webLogin=He.webLogin||!1,ot.mobileAppAccess=He.mobileApp||!1,ot.status=He.status||"Draft",ot.passwordEnabled=He.passwordEnabled||!1,ot.otpEnabled=He.otpEnabled||!1,ot.forceOtpOnNextLogin=He.forceOtpOnNextLogin||!1,console.log("[handleSaveUser] ========== SAVE START =========="),console.log("[handleSaveUser] Calling createCompleteUser with data:",ot),console.log("[handleSaveUser] API payload (FULL):",JSON.stringify(ot,null,2)),console.log("[handleSaveUser] Field verification:"),console.log("  - Email:",ot.emailAddress),console.log("  - Aadhaar:",ot.aadhaarNumber),console.log("  - PAN:",ot.panNumber),console.log("  - ESI:",ot.esiNumber),console.log("  - Address:",ot.addressLine),console.log("  - Area:",ot.area),console.log("  - City:",ot.city);let Ht=!1;try{const $t=await Hc.createCompleteUser(ot);Ht=!0,console.log("[handleSaveUser] API call successful. Result:",$t),$t||console.warn("[handleSaveUser] Warning: API returned empty result but status was 200"),alert("User created successfully!"),console.log("[handleSaveUser] Closing modal..."),d(!1),g(null),L(null),console.log("[handleSaveUser] Modal closed"),setTimeout(async()=>{try{await D(),console.log("[handleSaveUser] Users reloaded")}catch(Dr){console.error("[handleSaveUser] Reload error (data was saved):",Dr)}},500),console.log("[handleSaveUser] ========== SAVE END (SUCCESS) ==========")}catch($t){throw Ht=!1,console.error("[handleSaveUser]  API CALL FAILED:",$t),$t}}}catch(Rt){console.error("[handleSaveUser] ========== ERROR START =========="),console.error("[handleSaveUser] Catch block - Error saving user:",Rt),console.error("[handleSaveUser] Error type:",typeof Rt),console.error("[handleSaveUser] Error instance check:",Rt instanceof Error);try{if(Rt instanceof Error){const $t=Rt;console.error("[handleSaveUser] Error details:",{message:$t.message,name:$t.name,stack:$t.stack,status:$t.status,statusText:$t.statusText,errorData:$t.errorData})}else console.error("[handleSaveUser] Non-Error object:",JSON.stringify(Rt,null,2))}catch($t){console.error("[handleSaveUser] Could not log error details:",$t)}const ot=J(Rt);console.error("[handleSaveUser] Extracted error message:",ot),console.error("[handleSaveUser] ========== ERROR END ==========");const Ht=ot||"Failed to save user. Please check console (F12) for details.";L(Ht),alert(` Error Saving User

${Ht}

Please check the browser console (F12) for more details.`),console.error("[handleSaveUser] Error handling complete - Modal remains open")}finally{E(!1),console.log("[handleSaveUser] Finally block - Loading set to false")}},Me=(He,Rt)=>({id:He.roleId,roleName:He.roleName,description:He.roleDescription||"",companyName:Rt,status:He.status,createdBy:He.createdBy||"",createdOn:He.createdOn,modifiedBy:He.modifiedBy||"",modifiedOn:He.modifiedOn}),$e=async He=>{let Rt=He||ae;if(Rt.length===0&&(Rt=await $(),Rt.length===0)){console.warn("No companies available to load roles"),q([]);return}E(!0),L(null);try{const ot=[];for(const Ht of Rt){if(!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(Ht.id)){console.warn(`Skipping company ${Ht.companyName} - ID is not a valid UUID: ${Ht.id}`);continue}try{const Fr=(await zp.getAllRoles(Ht.id,!1)).map(Jr=>Me(Jr,Ht.companyName));ot.push(...Fr)}catch(Dr){console.warn(`Failed to load roles for company ${Ht.companyName}:`,Dr)}}q(ot),console.log(`[loadRoles] Loaded ${ot.length} roles`)}catch(ot){const Ht=J(ot);L(Ht||"Failed to load roles"),console.error("Error loading roles:",ot)}finally{E(!1)}},ne=()=>{j(null),u(!0)},Pe=He=>{j(He),u(!0)},_e=async He=>{if(window.confirm("Are you sure you want to delete this role?")){E(!0),L(null);try{await zp.deleteRole(He),await $e(),alert("Role deleted successfully!")}catch(Rt){const ot=J(Rt);L(ot||"Failed to delete role"),console.error("Error deleting role:",Rt),alert(` Error Deleting Role

${ot}

Please check the browser console (F12) for more details.`)}finally{E(!1)}}},rt=async He=>{E(!0),L(null);try{const Rt=ae.find(ot=>ot.companyName===He.companyName);if(!Rt)throw new Error("Please select a company");if(y){const ot={roleName:He.roleName,roleDescription:He.description||null,status:He.status};console.log("[handleSaveRole] Updating role:",y.id,ot),await zp.updateRole(y.id,ot),console.log("[handleSaveRole] Role updated successfully"),alert("Role updated successfully!")}else{const ot={companyId:Rt.id,roleName:He.roleName||"",roleDescription:He.description||null,status:He.status||"Active"};console.log("[handleSaveRole] Creating role:",ot),await zp.createRole(ot),console.log("[handleSaveRole] Role created successfully"),alert("Role created successfully!")}u(!1),j(null),await $e()}catch(Rt){const ot=J(Rt);L(ot||"Failed to save role"),console.error("[handleSaveRole] Error saving role:",Rt),alert(` Error Saving Role

${ot}

Please check the browser console (F12) for more details.`)}finally{E(!1)}},[et,Le]=C.useState(!1),[it,Wt]=C.useState(null),[qe,St]=C.useState(!1),[_t,ar]=C.useState(null),en=async(He,Rt)=>{E(!0),L(null);try{if(Rt.passwordEnabled){const ot=await gte(He,Rt);Wt({userName:ot.userName,temporaryPassword:ot.temporaryPassword,expiry:ot.temporaryPasswordExpiry}),Le(!0),await D()}else await Hc.activateUser(He,Rt),await D()}catch(ot){const Ht=J(ot);L(Ht||"Failed to activate user"),console.error("Error activating user:",ot)}finally{E(!1)}},Xt=(He,Rt)=>{ar({id:He,userName:Rt}),St(!0)},Yr=async()=>{if(_t){E(!0),L(null),St(!1);try{const He=await vte(_t.id);Wt({userName:He.userName,temporaryPassword:He.temporaryPassword,expiry:He.temporaryPasswordExpiry}),Le(!0),ar(null),await D()}catch(He){const Rt=J(He);L(Rt||"Failed to reset password"),console.error("Error resetting password:",He),alert(` Error Resetting Password

${Rt}

Please check the browser console (F12) for more details.`)}finally{E(!1)}}},Qr=async He=>{if(window.confirm("Are you sure you want to deactivate this user?")){E(!0),L(null);try{await Hc.deactivateUser(He),await D()}catch(Rt){const ot=J(Rt);L(ot||"Failed to deactivate user"),console.error("Error deactivating user:",Rt)}finally{E(!1)}}};return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:"dashboard-sidebar",children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:te.map(He=>e.jsx("li",{children:e.jsxs(Hr,{to:He.path,className:`nav-link ${He.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:He.icon}),e.jsx("span",{className:"nav-label",children:He.label})]})},He.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Hr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:t,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(_a,{title:"User Management",subtitle:"Manage users, roles and permissions"}),e.jsxs("div",{className:"user-management-page",children:[e.jsxs("div",{className:"user-management-header",children:[e.jsx("div",{className:"user-management-header-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"9",cy:"7",r:"4"}),e.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),e.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}),e.jsx("h1",{className:"user-management-title",children:a==="roles"?"Roles & Permissions":"User Management"})]}),I&&e.jsxs("div",{className:"error-message",style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx("span",{children:I}),e.jsx("button",{onClick:()=>L(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px"},children:""})]}),w&&e.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#64748b",fontSize:"14px"},children:"Loading..."}),e.jsxs("div",{className:"user-management-tabs",children:[e.jsx("button",{className:`tab-button ${a==="users"?"tab-button--active":""}`,onClick:()=>s("users"),children:"Users"}),e.jsx("button",{className:`tab-button ${a==="roles"?"tab-button--active":""}`,onClick:()=>s("roles"),children:"Roles & Permissions"})]}),e.jsxs("div",{className:"user-management-actions",children:[e.jsxs("div",{className:"user-management-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"user-management-search-input",placeholder:a==="roles"?"Search roles...":"Search users...",value:i,onChange:He=>c(He.target.value)})]}),e.jsxs("div",{className:"user-management-action-buttons",children:[e.jsxs("button",{className:"filter-btn",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter"]}),e.jsxs("button",{className:"add-btn",onClick:a==="users"?je:ne,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),a==="users"?"Add User":"Add Role"]})]})]}),a==="users"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"user-management-table-container",children:e.jsxs("table",{className:"user-management-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Company Name"}),e.jsx("th",{children:"User Name"}),e.jsx("th",{children:"Emp Code"}),e.jsx("th",{children:"Email Address"}),e.jsx("th",{children:"Mobile Number"}),e.jsx("th",{children:"User Role"}),e.jsx("th",{children:"Employment Type"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:ye.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:9,style:{textAlign:"center",padding:"40px",color:"#64748b"},children:w?"Loading users...":"No users found"})}):ye.map(He=>e.jsxs("tr",{children:[e.jsx("td",{children:He.companyName||"-"}),e.jsx("td",{children:e.jsx("span",{className:"user-name-link",children:He.userName||"-"})}),e.jsx("td",{children:He.empCode||"-"}),e.jsx("td",{children:He.emailAddress||"-"}),e.jsx("td",{children:He.mobileNumber||"-"}),e.jsx("td",{children:(()=>{const Rt=R.find(ot=>ot.id===He.userRoleID||ot.roleName===He.userRoleID);return Rt?Rt.roleName:He.userRoleID||"-"})()}),e.jsx("td",{children:He.employmentType||"-"}),e.jsx("td",{children:e.jsx("span",{className:`status-badge status-badge--${He.status.toLowerCase()}`,children:He.status})}),e.jsx("td",{children:e.jsxs("span",{className:"action-icons",children:[e.jsx("span",{className:"action-icon action-icon--edit",onClick:()=>re(He),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("span",{className:"action-icon action-icon--view",onClick:()=>he(He),title:"View",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),e.jsx("span",{className:"action-icon action-icon--reset",onClick:()=>Xt(He.id,He.userName),title:"Reset Password",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),e.jsx("path",{d:"M21 3v5h-5"}),e.jsx("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}),e.jsx("path",{d:"M3 21v-5h5"})]})}),e.jsx("span",{className:"action-icon action-icon--delete",onClick:()=>X(He.id),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},He.id))})]})}),e.jsxs("div",{className:"user-management-pagination-info",children:["Showing ",ye.length," of ",ee.length," ",ye.length===1?"user":"users"]})]}),a==="roles"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"user-management-table-container",children:e.jsxs("table",{className:"user-management-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Role Name"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Company Name"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:pe.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"empty-message",children:w?"Loading roles...":"No roles found"})}):pe.map(He=>e.jsxs("tr",{children:[e.jsx("td",{children:He.roleName}),e.jsx("td",{children:He.description}),e.jsx("td",{children:He.companyName||"-"}),e.jsx("td",{children:e.jsx("span",{className:`status-badge status-badge--${He.status.toLowerCase()}`,children:He.status})}),e.jsxs("td",{children:[e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>Pe(He),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--permissions",onClick:()=>{S(He),f(!0)},title:"Manage Permissions",children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})})}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>_e(He.id),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},He.id))})]})}),e.jsxs("div",{className:"user-management-pagination-info",children:["Showing ",pe.length," of ",R.length," Items"]})]})]})]}),o&&e.jsx(yte,{user:A,roles:R.filter(He=>He.status==="Active"),companies:ae.filter(He=>He.status==="Active"),viewMode:m,onClose:()=>{d(!1),g(null),x(!1)},onSave:Be,onActivate:en,onDeactivate:Qr,loading:w}),qe&&_t&&e.jsx("div",{className:"modal-overlay",onClick:()=>{St(!1),ar(null)},children:e.jsxs("div",{className:"modal-content reset-password-modal",onClick:He=>He.stopPropagation(),children:[e.jsxs("div",{className:"reset-password-modal-header",children:[e.jsxs("div",{className:"reset-password-modal-header-left",children:[e.jsx("div",{className:"reset-password-modal-icon-box",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),e.jsx("path",{d:"M21 3v5h-5"}),e.jsx("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}),e.jsx("path",{d:"M3 21v-5h5"})]})}),e.jsx("h2",{className:"reset-password-modal-title",children:"Reset Password"})]}),e.jsx("button",{className:"modal-close-btn",onClick:()=>{St(!1),ar(null)},children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsx("div",{className:"reset-password-modal-body",children:e.jsxs("p",{className:"reset-password-modal-message",children:["Are you sure you want to reset the password for the user ",e.jsx("strong",{children:_t.userName}),"? This action cannot be undone."]})}),e.jsxs("div",{className:"reset-password-modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--cancel-reset",onClick:()=>{St(!1),ar(null)},children:"Cancel"}),e.jsx("button",{type:"button",className:"btn btn--confirm-reset",onClick:Yr,disabled:w,children:"Reset Password"})]})]})}),et&&it&&e.jsx("div",{className:"modal-overlay",onClick:()=>Le(!1),children:e.jsxs("div",{className:"modal-content temp-password-modal",onClick:He=>He.stopPropagation(),children:[e.jsxs("div",{className:"temp-password-modal-header",children:[e.jsxs("div",{className:"temp-password-modal-header-left",children:[e.jsx("div",{className:"temp-password-modal-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),e.jsx("path",{d:"M21 3v5h-5"}),e.jsx("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}),e.jsx("path",{d:"M3 21v-5h5"})]})}),e.jsxs("div",{className:"temp-password-modal-title-wrap",children:[e.jsx("h2",{className:"temp-password-modal-title",children:"Temporary Password Generated"}),e.jsx("p",{className:"temp-password-modal-subtitle",children:"Password will only be shown once."})]})]}),e.jsx("button",{className:"modal-close-btn",onClick:()=>Le(!1),children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("div",{className:"temp-password-modal-body",children:[e.jsxs("div",{className:"temp-password-security-notice",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),e.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),e.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),e.jsxs("div",{className:"temp-password-security-notice-content",children:[e.jsx("h3",{className:"temp-password-security-notice-title",children:"Important Security Notice"}),e.jsx("p",{className:"temp-password-security-notice-text",children:"This temporary password will only be displayed once for security reasons. Please copy it now and share it securely with the user through a secure channel."})]})]}),e.jsxs("div",{className:"temp-password-field",children:[e.jsx("label",{className:"temp-password-field-label",children:"USER NAME"}),e.jsxs("div",{className:"temp-password-field-value",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("span",{children:it.userName})]})]}),e.jsxs("div",{className:"temp-password-field",children:[e.jsx("label",{className:"temp-password-field-label",children:"TEMPORARY PASSWORD"}),e.jsxs("div",{className:"temp-password-password-row",children:[e.jsx("div",{className:"temp-password-password-value",children:it.temporaryPassword}),e.jsxs("button",{type:"button",className:"temp-password-copy-btn",onClick:()=>{navigator.clipboard.writeText(it.temporaryPassword),alert("Password copied to clipboard!")},children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),e.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]}),"Copy"]})]})]}),it.expiry&&e.jsxs("div",{className:"temp-password-expiry-row",children:[e.jsxs("div",{className:"temp-password-field",children:[e.jsx("label",{className:"temp-password-field-label",children:"EXPIRES ON"}),e.jsx("div",{className:"temp-password-field-value",children:new Date(it.expiry).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})})]}),e.jsxs("div",{className:"temp-password-field",children:[e.jsx("label",{className:"temp-password-field-label",children:"VALID FOR"}),e.jsx("div",{className:"temp-password-field-value",children:"24 Hours"})]})]}),e.jsxs("div",{className:"temp-password-requirements",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),e.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),e.jsxs("div",{className:"temp-password-requirements-content",children:[e.jsx("h3",{className:"temp-password-requirements-title",children:"Password Requirements"}),e.jsxs("ul",{className:"temp-password-requirements-list",children:[e.jsx("li",{children:"User must change password on first login"}),e.jsx("li",{children:"Password expires automatically after 24 hours"}),e.jsx("li",{children:"Share through secure communication channels only"})]})]})]})]}),e.jsx("div",{className:"temp-password-modal-footer",children:e.jsx("button",{type:"button",className:"btn btn--copied-password",onClick:()=>{Le(!1),Wt(null)},children:"I've Copied the Password"})})]})}),l&&e.jsx(jte,{role:y,companies:ae.filter(He=>He.status==="Active"),onClose:()=>{u(!1),j(null)},onSave:rt}),h&&b&&e.jsx(bte,{role:b,onClose:()=>{f(!1),S(null)},onSave:He=>{console.log("Saving permissions for role:",b.roleName,He),f(!1),S(null)}})]})},yte=({user:r,roles:t,companies:n,viewMode:a=!1,onClose:s,onSave:i,onActivate:c,onDeactivate:o,loading:d})=>{const l=I=>{if(!I)return"";if(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(I))return I;if(t&&t.length>0){const L=t.find(J=>J.roleName===I);return L?L.id:""}return""},[u,h]=C.useState(1),[f,A]=C.useState(r||{companyName:"",mobileNumber:"",userName:"",empCode:"",userRoleID:"",employmentType:"",webLogin:!1,mobileApp:!1,dlNum:"",aadhaar:"",pan:"",uan:"",pfNum:"",esiNum:"",address:"",area:"",city:"",district:"",pincode:"",emergencyContact:"",contractorName:"",grossSalary:"",password:"",emailAddress:"",designation:"",companyNameThirdParty:"",status:"Draft",passwordEnabled:!1,otpEnabled:!1,forceOtpOnNextLogin:!1});C.useEffect(()=>{if(r)try{const I=l(r.userRoleID);A(L=>({...r,userRoleID:I||r.userRoleID||""}))}catch(I){console.error("[UserFormModal] Error converting role:",I),A(r)}},[r==null?void 0:r.id]);const g=()=>{const I=[f.companyName,f.userName,f.mobileNumber,f.empCode,f.userRoleID,f.employmentType,f.designation,f.aadhaar,f.pan,f.address,f.area,f.city,f.district,f.pincode,f.emergencyContact],L=I.filter(J=>J&&J.toString().trim()!=="").length;return Math.round(L/I.length*100)},m=(I,L)=>{A(I==="companyName"?{...f,[I]:L,userRoleID:""}:{...f,[I]:L})},x=()=>{if(console.log("handleNext called - Current step:",u),u<6){const I=u+1;console.log("Setting step to:",I),h(I)}else console.warn("handleNext called but already at step 6")},y=()=>{u>1&&h(u-1)},j=I=>{const L=[];switch(I){case 1:(!f.companyName||f.companyName.trim()==="")&&L.push("Company"),(!f.userName||f.userName.trim()==="")&&L.push("User Name"),(!f.mobileNumber||f.mobileNumber.trim()==="")&&L.push("Mobile Number"),(!f.empCode||f.empCode.trim()==="")&&L.push("Employee Code"),(!f.userRoleID||f.userRoleID.trim()==="")&&L.push("User Role");break;case 2:(!f.employmentType||f.employmentType.trim()==="")&&L.push("Employment Type"),(!f.designation||f.designation.trim()==="")&&L.push("Designation"),f.employmentType==="Contract"&&(!f.contractorName||f.contractorName.trim()==="")&&L.push("Contractor Name");break;case 3:break;case 4:break;case 5:break;case 6:(!f.companyName||f.companyName.trim()==="")&&L.push("Company (Step 1)"),(!f.userName||f.userName.trim()==="")&&L.push("User Name (Step 1)"),(!f.mobileNumber||f.mobileNumber.trim()==="")&&L.push("Mobile Number (Step 1)"),(!f.empCode||f.empCode.trim()==="")&&L.push("Employee Code (Step 1)"),(!f.userRoleID||f.userRoleID.trim()==="")&&L.push("User Role (Step 1)"),(!f.employmentType||f.employmentType.trim()==="")&&L.push("Employment Type (Step 2)"),(!f.designation||f.designation.trim()==="")&&L.push("Designation (Step 2)"),f.employmentType==="Contract"&&(!f.contractorName||f.contractorName.trim()==="")&&L.push("Contractor Name (Step 2)");break}const J=L.length===0,G=J?"":`Validation Error - Step ${I}: ${I===1?"Create User":I===2?"Employee Profile":I===3?"Identity & Compliance":I===4?"Address & Emergency":I===5?"User Activation":"Summary"}

Please fill in the following required fields:

${L.map((le,V)=>`  ${V+1}. ${le}`).join(`
`)}

Please complete these fields before continuing.`;return{isValid:J,missingFields:L,message:G}},b=I=>{I&&(I.preventDefault(),I.stopPropagation()),console.log("handleSaveAndContinue called - Current step:",u),console.log("Form data:",f);const L=j(u);if(!L.isValid){alert(L.message),console.error(`Step ${u} validation failed - Missing fields:`,L.missingFields);return}u<6?(console.log(`Moving from Step ${u} to Step ${u+1}`),x()):console.warn("handleSaveAndContinue called on Step 6 - should use handleFinalSave instead")},S=I=>{if(I&&(I.preventDefault(),I.stopPropagation()),console.log("handleFinalSave called - Current step:",u),u===6){const L=[],J=j(1);if(J.isValid||L.push({step:1,fields:J.missingFields}),L.length>0){const G=L.map(({step:le,fields:V})=>`Step ${le}:
${V.map((me,$)=>`  ${$+1}. ${me}`).join(`
`)}`).join(`

`);alert(`Please fill in all required fields before saving:

${G}

Please go back and complete these fields.`),console.error("Final save validation failed - Missing fields:",L);return}const ae={...f,status:f.status||"Draft"};console.log("[handleFinalSave] Saving complete user data:",ae),console.log("[handleFinalSave] Email address in finalData:",ae.emailAddress),console.log("[handleFinalSave] Calling onSave (handleSaveUser)..."),i(ae)}else console.warn("handleFinalSave called but not on Step 6 - Current step:",u)},w=()=>{window.confirm("Are you sure you want to cancel? All unsaved changes will be lost.")&&s()},E=[{number:1,title:"Create user",icon:"user-plus"},{number:2,title:"Employee profile",icon:"building"},{number:3,title:"Identity & compliance",icon:"document"},{number:4,title:"Address & emergency",icon:"map-pin"},{number:5,title:"User activation",icon:"shield"},{number:6,title:"Summary & confirm",icon:"sparkle"}];return e.jsx("div",{className:"modal-overlay",onClick:w,children:e.jsxs("div",{className:"modal-content wizard-modal",onClick:I=>I.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("div",{className:"modal-header-left",children:[e.jsx("div",{className:"modal-header-icon",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),e.jsx("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),e.jsx("line",{x1:"23",y1:"11",x2:"17",y2:"11"})]})}),e.jsx("h2",{className:"modal-title",children:a?"View User":r?"Edit User":"Add User"})]}),e.jsx("button",{className:"modal-close-btn",onClick:w,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsx("div",{className:"wizard-progress",children:E.map(I=>{const L=u>=I.number,J=u===I.number,ae=J,G=le=>{switch(le){case"user-plus":return e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),e.jsx("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),e.jsx("line",{x1:"23",y1:"11",x2:"17",y2:"11"})]});case"building":return e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",ry:"2"}),e.jsx("path",{d:"M9 22v-4h6v4"}),e.jsx("path",{d:"M8 6h.01"}),e.jsx("path",{d:"M16 6h.01"}),e.jsx("path",{d:"M12 6h.01"}),e.jsx("path",{d:"M12 10h.01"}),e.jsx("path",{d:"M12 14h.01"}),e.jsx("path",{d:"M8 10h.01"}),e.jsx("path",{d:"M8 14h.01"}),e.jsx("path",{d:"M16 10h.01"}),e.jsx("path",{d:"M16 14h.01"})]});case"document":return e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]});case"map-pin":return e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),e.jsx("circle",{cx:"12",cy:"10",r:"3"})]});case"shield":return e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})});case"sparkle":return e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v4m0 12v4M4.93 4.93l2.83 2.83m8.48 8.48l2.83 2.83M2 12h4m12 0h4M4.93 19.07l2.83-2.83m8.48-8.48l2.83-2.83"})});default:return null}};return e.jsxs("div",{className:`wizard-step ${L?"wizard-step--active":""} ${J?"wizard-step--current":""} ${a?"wizard-step--clickable":""}`,onClick:a?()=>h(I.number):void 0,style:a?{cursor:"pointer"}:{},children:[e.jsx("div",{className:"wizard-step-icon-wrapper",children:ae?e.jsx("div",{className:"wizard-step-icon",children:G(I.icon)}):e.jsx("div",{className:"wizard-step-number",children:I.number})}),e.jsx("div",{className:"wizard-step-title",children:I.title})]},I.number)})}),e.jsxs("div",{className:"wizard-content",children:[u===1&&e.jsxs("div",{className:"wizard-step-content",children:[e.jsxs("div",{className:"wizard-step-header",children:[e.jsx("div",{className:"wizard-step-header-icon",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),e.jsx("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),e.jsx("line",{x1:"23",y1:"11",x2:"17",y2:"11"})]})}),e.jsx("h3",{className:"wizard-step-header-title",children:a?"User Information":"Create user"})]}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label-with-icon",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",ry:"2"}),e.jsx("path",{d:"M9 22v-4h6v4"}),e.jsx("path",{d:"M8 6h.01"}),e.jsx("path",{d:"M16 6h.01"}),e.jsx("path",{d:"M12 6h.01"}),e.jsx("path",{d:"M12 10h.01"}),e.jsx("path",{d:"M12 14h.01"}),e.jsx("path",{d:"M8 10h.01"}),e.jsx("path",{d:"M8 14h.01"}),e.jsx("path",{d:"M16 10h.01"}),e.jsx("path",{d:"M16 14h.01"})]}),"Company *"]}),e.jsxs("select",{value:f.companyName||"",onChange:I=>m("companyName",I.target.value),required:!0,disabled:a,children:[e.jsx("option",{value:"",children:"Select company"}),n.map(I=>e.jsx("option",{value:I.companyName,children:I.companyName},I.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label-with-icon",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"User name *"]}),e.jsx("input",{type:"text",value:f.userName||"",onChange:I=>m("userName",I.target.value),placeholder:"e.g., johndoe, user123",required:!0,minLength:3,maxLength:100,pattern:"^[a-zA-Z0-9_]+$",disabled:a}),e.jsx("small",{style:{fontSize:"12px",color:"#666",marginTop:"4px",display:"block"},children:"Minimum 3 characters, only letters, numbers, and underscores allowed (e.g., johndoe, user_123)"})]}),e.jsxs("div",{className:"form-group field-mobile",children:[e.jsxs("label",{className:"form-label-with-icon",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),"Mobile number *"]}),e.jsx("input",{type:"tel",value:f.mobileNumber||"",onChange:I=>m("mobileNumber",I.target.value),placeholder:"e.g., 9876543210 or +91-9876543210",required:!0,disabled:a}),e.jsx("small",{style:{fontSize:"12px",color:"#666",marginTop:"4px",display:"block"},children:"Format: 10-digit Indian mobile number (9876543210, +91-9876543210, or 98765 43210)"})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label-with-icon",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),e.jsx("polyline",{points:"22,6 12,13 2,6"})]}),"Email address"]}),e.jsx("input",{type:"email",value:f.emailAddress||"",onChange:I=>m("emailAddress",I.target.value),placeholder:"e.g., user@example.com",maxLength:255,disabled:a}),e.jsx("small",{style:{fontSize:"12px",color:"#666",marginTop:"4px",display:"block"},children:"Valid email address (e.g., user@example.com)"})]}),e.jsxs("div",{className:"form-group field-emp-code",children:[e.jsxs("label",{className:"form-label-with-icon",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"4",y1:"9",x2:"20",y2:"9"}),e.jsx("line",{x1:"4",y1:"15",x2:"20",y2:"15"}),e.jsx("line",{x1:"10",y1:"3",x2:"8",y2:"21"}),e.jsx("line",{x1:"16",y1:"3",x2:"14",y2:"21"})]}),"# Employee code *"]}),e.jsx("input",{type:"text",value:f.empCode||"",onChange:I=>m("empCode",I.target.value),placeholder:"e.g., EMP001, E12345",required:!0,maxLength:50,disabled:a}),e.jsx("small",{style:{fontSize:"12px",color:"#666",marginTop:"4px",display:"block"},children:"Maximum 50 characters (e.g., EMP001, E12345)"})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label-with-icon",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})}),"User role *"]}),e.jsxs("select",{value:f.userRoleID||"",onChange:I=>m("userRoleID",I.target.value),required:!0,disabled:a||!f.companyName,children:[e.jsx("option",{value:"",children:f.companyName?"Select role":"Select company first"}),f.companyName&&t.filter(I=>I.companyName===f.companyName&&I.status==="Active").map(I=>e.jsx("option",{value:I.id,children:I.roleName},I.id))]}),!f.companyName&&e.jsx("small",{style:{fontSize:"12px",color:"#666",marginTop:"4px",display:"block"},children:"Please select a company first to see available roles"}),f.companyName&&t.filter(I=>I.companyName===f.companyName&&I.status==="Active").length===0&&e.jsx("small",{style:{fontSize:"12px",color:"#f59e0b",marginTop:"4px",display:"block"},children:"No active roles available for this company. Please create a role first."})]})]})]}),u===2&&e.jsxs("div",{className:"wizard-step-content",children:[e.jsxs("div",{className:"wizard-step-header",children:[e.jsx("div",{className:"wizard-step-header-icon icon-green",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",ry:"2"}),e.jsx("path",{d:"M9 22v-4h6v4"}),e.jsx("path",{d:"M8 6h.01"}),e.jsx("path",{d:"M16 6h.01"}),e.jsx("path",{d:"M12 6h.01"}),e.jsx("path",{d:"M12 10h.01"}),e.jsx("path",{d:"M12 14h.01"}),e.jsx("path",{d:"M8 10h.01"}),e.jsx("path",{d:"M8 14h.01"}),e.jsx("path",{d:"M16 10h.01"}),e.jsx("path",{d:"M16 14h.01"})]})}),e.jsx("h3",{className:"wizard-step-header-title",children:"Employee profile"})]}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label-with-icon",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),"Employment type *"]}),e.jsxs("select",{value:f.employmentType||"",onChange:I=>m("employmentType",I.target.value),required:!0,disabled:a,children:[e.jsx("option",{value:"",children:"Select type"}),e.jsx("option",{value:"Permanent",children:"Permanent"}),e.jsx("option",{value:"Contract",children:"Contract"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label-with-icon",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"}),e.jsx("path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"})]}),"Designation *"]}),e.jsx("input",{type:"text",value:f.designation||"",onChange:I=>m("designation",I.target.value),required:!0,disabled:a})]}),f.employmentType==="Contract"&&e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label-with-icon",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Contractor name *"]}),e.jsx("input",{type:"text",value:f.contractorName||"",onChange:I=>m("contractorName",I.target.value),required:!0,disabled:a})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label-with-icon",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",ry:"2"}),e.jsx("path",{d:"M9 22v-4h6v4"}),e.jsx("path",{d:"M8 6h.01"}),e.jsx("path",{d:"M16 6h.01"}),e.jsx("path",{d:"M12 6h.01"}),e.jsx("path",{d:"M12 10h.01"}),e.jsx("path",{d:"M12 14h.01"}),e.jsx("path",{d:"M8 10h.01"}),e.jsx("path",{d:"M8 14h.01"}),e.jsx("path",{d:"M16 10h.01"}),e.jsx("path",{d:"M16 14h.01"})]}),"Company name (if third-party)"]}),e.jsx("input",{type:"text",value:f.companyNameThirdParty||"",onChange:I=>m("companyNameThirdParty",I.target.value),disabled:a})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label-with-icon",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"4",y1:"9",x2:"20",y2:"9"}),e.jsx("line",{x1:"4",y1:"15",x2:"20",y2:"15"}),e.jsx("line",{x1:"10",y1:"3",x2:"8",y2:"21"}),e.jsx("line",{x1:"16",y1:"3",x2:"14",y2:"21"})]}),"Gross salary"]}),e.jsx("input",{type:"text",value:f.grossSalary||"",onChange:I=>m("grossSalary",I.target.value),disabled:a})]})]})]}),u===3&&e.jsxs("div",{className:"wizard-step-content",children:[e.jsxs("div",{className:"wizard-step-header",children:[e.jsx("div",{className:"wizard-step-header-icon icon-orange",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]})}),e.jsx("h3",{className:"wizard-step-header-title",children:"Identity & compliance details"})]}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group field-aadhaar",children:[e.jsxs("label",{className:"form-label-with-icon",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"4",y1:"9",x2:"20",y2:"9"}),e.jsx("line",{x1:"4",y1:"15",x2:"20",y2:"15"}),e.jsx("line",{x1:"10",y1:"3",x2:"8",y2:"21"}),e.jsx("line",{x1:"16",y1:"3",x2:"14",y2:"21"})]}),"# Aadhaar"]}),e.jsx("input",{type:"text",value:f.aadhaar||"",onChange:I=>m("aadhaar",I.target.value),disabled:a})]}),e.jsxs("div",{className:"form-group field-pan",children:[e.jsxs("label",{className:"form-label-with-icon",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"4",y1:"9",x2:"20",y2:"9"}),e.jsx("line",{x1:"4",y1:"15",x2:"20",y2:"15"}),e.jsx("line",{x1:"10",y1:"3",x2:"8",y2:"21"}),e.jsx("line",{x1:"16",y1:"3",x2:"14",y2:"21"})]}),"# PAN"]}),e.jsx("input",{type:"text",value:f.pan||"",onChange:I=>m("pan",I.target.value),disabled:a})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label-with-icon",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"4",y1:"9",x2:"20",y2:"9"}),e.jsx("line",{x1:"4",y1:"15",x2:"20",y2:"15"}),e.jsx("line",{x1:"10",y1:"3",x2:"8",y2:"21"}),e.jsx("line",{x1:"16",y1:"3",x2:"14",y2:"21"})]}),"# Driving license"]}),e.jsx("input",{type:"text",value:f.dlNum||"",onChange:I=>m("dlNum",I.target.value),disabled:a})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label-with-icon",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"4",y1:"9",x2:"20",y2:"9"}),e.jsx("line",{x1:"4",y1:"15",x2:"20",y2:"15"}),e.jsx("line",{x1:"10",y1:"3",x2:"8",y2:"21"}),e.jsx("line",{x1:"16",y1:"3",x2:"14",y2:"21"})]}),"# PF number"]}),e.jsx("input",{type:"text",value:f.pfNum||"",onChange:I=>m("pfNum",I.target.value),disabled:a})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label-with-icon",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"4",y1:"9",x2:"20",y2:"9"}),e.jsx("line",{x1:"4",y1:"15",x2:"20",y2:"15"}),e.jsx("line",{x1:"10",y1:"3",x2:"8",y2:"21"}),e.jsx("line",{x1:"16",y1:"3",x2:"14",y2:"21"})]}),"# UAN"]}),e.jsx("input",{type:"text",value:f.uan||"",onChange:I=>m("uan",I.target.value),disabled:a})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label-with-icon",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"4",y1:"9",x2:"20",y2:"9"}),e.jsx("line",{x1:"4",y1:"15",x2:"20",y2:"15"}),e.jsx("line",{x1:"10",y1:"3",x2:"8",y2:"21"}),e.jsx("line",{x1:"16",y1:"3",x2:"14",y2:"21"})]}),"# ESI number"]}),e.jsx("input",{type:"text",value:f.esiNum||"",onChange:I=>m("esiNum",I.target.value),disabled:a})]})]})]}),u===4&&e.jsxs("div",{className:"wizard-step-content",children:[e.jsxs("div",{className:"wizard-step-header",children:[e.jsx("div",{className:"wizard-step-header-icon icon-pink",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),e.jsx("circle",{cx:"12",cy:"10",r:"3"})]})}),e.jsx("h3",{className:"wizard-step-header-title",children:"Address & emergency"})]}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label-with-icon",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),e.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),"Address"]}),e.jsx("textarea",{value:f.address||"",onChange:I=>m("address",I.target.value),rows:3,disabled:a})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label-with-icon",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),e.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]}),"Area"]}),e.jsx("input",{type:"text",value:f.area||"",onChange:I=>m("area",I.target.value),disabled:a})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label-with-icon",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",ry:"2"}),e.jsx("path",{d:"M9 22v-4h6v4"}),e.jsx("path",{d:"M8 6h.01"}),e.jsx("path",{d:"M16 6h.01"}),e.jsx("path",{d:"M12 6h.01"}),e.jsx("path",{d:"M12 10h.01"}),e.jsx("path",{d:"M12 14h.01"}),e.jsx("path",{d:"M8 10h.01"}),e.jsx("path",{d:"M8 14h.01"}),e.jsx("path",{d:"M16 10h.01"}),e.jsx("path",{d:"M16 14h.01"})]}),"City"]}),e.jsx("input",{type:"text",value:f.city||"",onChange:I=>m("city",I.target.value),disabled:a})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label-with-icon",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),e.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),"District"]}),e.jsx("input",{type:"text",value:f.district||"",onChange:I=>m("district",I.target.value),disabled:a})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label-with-icon",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"4",y1:"9",x2:"20",y2:"9"}),e.jsx("line",{x1:"4",y1:"15",x2:"20",y2:"15"}),e.jsx("line",{x1:"10",y1:"3",x2:"8",y2:"21"}),e.jsx("line",{x1:"16",y1:"3",x2:"14",y2:"21"})]}),"Pincode"]}),e.jsx("input",{type:"text",value:f.pincode||"",onChange:I=>m("pincode",I.target.value),disabled:a})]}),e.jsxs("div",{className:"form-group field-mobile",children:[e.jsxs("label",{className:"form-label-with-icon",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),"Emergency contact number"]}),e.jsx("input",{type:"tel",value:f.emergencyContact||"",onChange:I=>m("emergencyContact",I.target.value),disabled:a})]})]})]}),u===5&&e.jsxs("div",{className:"wizard-step-content",children:[e.jsxs("div",{className:"wizard-step-header",children:[e.jsx("div",{className:"wizard-step-header-icon icon-purple",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})})}),e.jsx("h3",{className:"wizard-step-header-title",children:"User activation & access enablement"})]}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label-with-icon",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),e.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]}),"Web login *"]}),e.jsxs("select",{value:f.webLogin?"Yes":"No",onChange:I=>m("webLogin",I.target.value==="Yes"),required:!0,disabled:a,children:[e.jsx("option",{value:"Yes",children:"Yes"}),e.jsx("option",{value:"No",children:"No"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label-with-icon",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),"Mobile app access *"]}),e.jsxs("select",{value:f.mobileApp?"Yes":"No",onChange:I=>m("mobileApp",I.target.value==="Yes"),required:!0,disabled:a,children:[e.jsx("option",{value:"Yes",children:"Yes"}),e.jsx("option",{value:"No",children:"No"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label-with-icon",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),"Status *"]}),e.jsxs("select",{value:f.status||"Draft",onChange:I=>m("status",I.target.value),required:!0,disabled:a,children:[e.jsx("option",{value:"Draft",children:"Draft"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label-with-icon",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})}),"Password enabled *"]}),e.jsxs("select",{value:f.passwordEnabled?"Yes":"No",onChange:I=>m("passwordEnabled",I.target.value==="Yes"),required:!0,disabled:a,children:[e.jsx("option",{value:"Yes",children:"Yes"}),e.jsx("option",{value:"No",children:"No"})]})]}),e.jsxs("div",{className:"form-group field-otp",children:[e.jsxs("label",{className:"form-label-with-icon",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),"OTP enabled *"]}),e.jsxs("select",{value:f.otpEnabled?"Yes":"No",onChange:I=>m("otpEnabled",I.target.value==="Yes"),required:!0,disabled:a,children:[e.jsx("option",{value:"Yes",children:"Yes"}),e.jsx("option",{value:"No",children:"No"})]})]}),e.jsxs("div",{className:"form-group field-otp",children:[e.jsxs("label",{className:"form-label-with-icon",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})}),"Force OTP on next login *"]}),e.jsxs("select",{value:f.forceOtpOnNextLogin?"Yes":"No",onChange:I=>m("forceOtpOnNextLogin",I.target.value==="Yes"),required:!0,disabled:a,children:[e.jsx("option",{value:"Yes",children:"Yes"}),e.jsx("option",{value:"No",children:"No"})]})]})]})]}),u===6&&e.jsxs("div",{className:"wizard-step-content",children:[e.jsxs("div",{className:"wizard-step-header",children:[e.jsx("div",{className:"wizard-step-header-icon icon-purple",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v4m0 12v4M4.93 4.93l2.83 2.83m8.48 8.48l2.83 2.83M2 12h4m12 0h4M4.93 19.07l2.83-2.83m8.48-8.48l2.83-2.83"})})}),e.jsx("h3",{className:"wizard-step-header-title",children:"User summary & confirmation"})]}),e.jsxs("div",{className:"profile-completeness-box",children:[e.jsx("div",{className:"completeness-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]})}),e.jsxs("div",{className:"completeness-text",children:[e.jsx("span",{className:"completeness-label",children:"Profile Completeness"}),e.jsxs("span",{className:"completeness-value",children:[g(),"%"]})]}),e.jsx("button",{className:"btn-ready-activate",children:"Ready to activate"})]}),e.jsxs("div",{className:"summary-cards-grid",children:[e.jsxs("div",{className:"summary-card-item",children:[e.jsx("div",{className:"summary-card-icon summary-card-icon--blue",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",ry:"2"}),e.jsx("path",{d:"M9 22v-4h6v4"})]})}),e.jsxs("div",{className:"summary-card-content",children:[e.jsx("span",{className:"summary-card-label",children:"Company"}),e.jsx("span",{className:"summary-card-value",children:f.companyName||"-"})]})]}),e.jsxs("div",{className:"summary-card-item",children:[e.jsx("div",{className:"summary-card-icon summary-card-icon--purple",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),e.jsxs("div",{className:"summary-card-content",children:[e.jsx("span",{className:"summary-card-label",children:"User Name"}),e.jsx("span",{className:"summary-card-value",children:f.userName||"-"})]})]}),e.jsxs("div",{className:"summary-card-item",children:[e.jsx("div",{className:"summary-card-icon summary-card-icon--orange",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"}),e.jsx("path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"})]})}),e.jsxs("div",{className:"summary-card-content",children:[e.jsx("span",{className:"summary-card-label",children:"Employee Code"}),e.jsx("span",{className:"summary-card-value",children:f.empCode||"-"})]})]}),e.jsxs("div",{className:"summary-card-item",children:[e.jsx("div",{className:"summary-card-icon summary-card-icon--pink",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})})}),e.jsxs("div",{className:"summary-card-content",children:[e.jsx("span",{className:"summary-card-label",children:"Role"}),e.jsx("span",{className:"summary-card-value",children:(()=>{const I=t.find(L=>L.id===f.userRoleID);return I?I.roleName:f.userRoleID||"-"})()})]})]})]}),e.jsxs("div",{className:"activation-actions",children:[e.jsxs("button",{type:"button",className:"btn btn--activate",onClick:async()=>{r!=null&&r.id&&c&&(await c(r.id,{passwordEnabled:f.passwordEnabled||!1,otpEnabled:f.otpEnabled||!1,webLogin:f.webLogin||!1,mobileAppAccess:f.mobileApp||!1,forceOtpOnNextLogin:f.forceOtpOnNextLogin||!1}),s())},disabled:!(r!=null&&r.id)||d,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),"Activate User"]}),e.jsxs("button",{type:"button",className:"btn btn--deactivate",onClick:async()=>{r!=null&&r.id&&o&&(await o(r.id),s())},disabled:!(r!=null&&r.id)||d,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),"Deactivate"]})]})]})]}),e.jsx("div",{className:"modal-footer",children:a?e.jsxs(e.Fragment,{children:[u>1&&e.jsx("button",{type:"button",className:"btn btn--cancel",onClick:y,children:"Previous"}),u<6?e.jsxs("button",{type:"button",className:"btn btn--next",onClick:x,children:["Next",e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"9 18 15 12 9 6"})})]}):e.jsx("button",{type:"button",className:"btn btn--cancel",onClick:w,children:"Close"})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",className:"btn btn--cancel",onClick:w,children:"Cancel"}),u<6?e.jsxs("button",{type:"button",className:"btn btn--next",onClick:I=>{I.preventDefault(),I.stopPropagation(),console.log("Next button clicked!"),b(I)},disabled:d,children:["Next",e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"9 18 15 12 9 6"})})]}):e.jsx("button",{type:"button",className:"btn btn--primary",onClick:I=>{I.preventDefault(),I.stopPropagation(),console.log("Save & Complete button clicked!"),S(I)},disabled:d,children:"Save & Complete"})]})})]})})},jte=({role:r,companies:t,onClose:n,onSave:a})=>{const[s,i]=C.useState(r||{roleName:"",description:"",companyName:"",status:"Active"}),c=o=>{o.preventDefault(),a(s)};return e.jsx("div",{className:"modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content modal-content--role",onClick:o=>o.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:r?"Edit Role":"Add Role"}),e.jsx("button",{className:"modal-close-btn",onClick:n,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"role-form role-form--simple",onSubmit:c,children:[e.jsx("div",{className:"form-section",children:e.jsxs("div",{className:"form-single-column",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company *"}),e.jsxs("select",{value:s.companyName||"",onChange:o=>i({...s,companyName:o.target.value}),required:!0,disabled:!!r,children:[e.jsx("option",{value:"",children:"Select company"}),t.map(o=>e.jsx("option",{value:o.companyName,children:o.companyName},o.id))]}),r&&e.jsx("small",{style:{fontSize:"12px",color:"#666",marginTop:"4px",display:"block"},children:"Company cannot be changed after role creation"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Role name *"}),e.jsx("input",{type:"text",value:s.roleName||"",onChange:o=>i({...s,roleName:o.target.value}),required:!0,maxLength:100})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Description"}),e.jsx("textarea",{value:s.description||"",onChange:o=>i({...s,description:o.target.value}),rows:3,maxLength:500})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:s.status||"Active",onChange:o=>i({...s,status:o.target.value}),children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},bte=({role:r,onClose:t,onSave:n})=>{const a=[{module:"User Management",permissions:[{id:"user_view",name:"View User",code:"user.view"},{id:"user_create",name:"Create User",code:"user.create"},{id:"user_edit",name:"Edit User",code:"user.edit"},{id:"user_delete",name:"Delete User",code:"user.delete"}]},{module:"Roles & Permissions",permissions:[{id:"role_view",name:"View Role",code:"role.view"},{id:"role_create",name:"Create Role",code:"role.create"},{id:"role_edit",name:"Edit Role",code:"role.edit"},{id:"role_delete",name:"Delete Role",code:"role.delete"},{id:"role_permissions",name:"Manage Permissions",code:"role.permissions"}]},{module:"Company Master",permissions:[{id:"company_view",name:"View Company",code:"company.view"},{id:"company_create",name:"Create Company",code:"company.create"},{id:"company_edit",name:"Edit Company",code:"company.edit"},{id:"company_delete",name:"Delete Company",code:"company.delete"}]},{module:"Invoice",permissions:[{id:"invoice_view",name:"View Invoice",code:"invoice.view"},{id:"invoice_create",name:"Create Invoice",code:"invoice.create"},{id:"invoice_edit",name:"Edit Invoice",code:"invoice.edit"},{id:"invoice_approve",name:"Approve Invoice",code:"invoice.approve"},{id:"invoice_delete",name:"Delete Invoice",code:"invoice.delete"}]},{module:"HCF Master",permissions:[{id:"hcf_view",name:"View HCF",code:"hcf.view"},{id:"hcf_create",name:"Create HCF",code:"hcf.create"},{id:"hcf_edit",name:"Edit HCF",code:"hcf.edit"},{id:"hcf_delete",name:"Delete HCF",code:"hcf.delete"}]},{module:"Route Master",permissions:[{id:"route_view",name:"View Route",code:"route.view"},{id:"route_create",name:"Create Route",code:"route.create"},{id:"route_edit",name:"Edit Route",code:"route.edit"},{id:"route_delete",name:"Delete Route",code:"route.delete"}]}],[s,i]=C.useState(()=>{const u={};return a.forEach(h=>{h.permissions.forEach(f=>{u[f.code]=!1})}),u}),c=r.status==="Inactive",o=(u,h)=>{c||i({...s,[u]:h})},d=u=>{if(c)return;const h={...s},f=u.every(A=>s[A.code]);u.forEach(A=>{h[A.code]=!f}),i(h)},l=u=>{u.preventDefault(),n(s)};return e.jsx("div",{className:"modal-overlay",onClick:t,children:e.jsxs("div",{className:"modal-content modal-content--permissions",onClick:u=>u.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h2",{className:"modal-title",children:["Manage Permissions - ",r.roleName]}),e.jsx("button",{className:"modal-close-btn",onClick:t,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"permissions-form",onSubmit:l,children:[e.jsx("div",{className:"permissions-content",children:a.map(u=>{const h=u.permissions,f=h.every(A=>s[A.code]);return h.some(A=>s[A.code]),e.jsxs("div",{className:"permissions-module",children:[e.jsxs("div",{className:"permissions-module-header",children:[e.jsx("h3",{className:"permissions-module-title",children:u.module}),e.jsx("button",{type:"button",className:"permissions-select-all",onClick:()=>d(h),disabled:c,children:f?"Deselect All":"Select All"})]}),e.jsx("div",{className:"permissions-list",children:h.map(A=>e.jsxs("label",{className:"permission-item",children:[e.jsx("input",{type:"checkbox",checked:s[A.code]||!1,onChange:g=>o(A.code,g.target.checked),disabled:c}),e.jsx("span",{className:"permission-label",children:A.name})]},A.id))})]},u.module)})}),e.jsxs("div",{className:"modal-footer modal-footer--sticky",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:t,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn--primary",disabled:c,children:"Save Permissions"})]})]})]})})},wte=()=>{const{logout:r}=Yn(),t=jn(),[n,a]=C.useState(""),[s,i]=C.useState(!1),[c,o]=C.useState(null),[d,l]=C.useState({}),u={Home:[{id:"home-view",name:"View Home",code:"HOME_VIEW",module:"Home"}],"Recon Onboarding":[{id:"recon-onboarding-view",name:"View Recon Onboarding",code:"RECON_ONBOARDING_VIEW",module:"Recon Onboarding"},{id:"recon-onboarding-create",name:"Create Recon Onboarding",code:"RECON_ONBOARDING_CREATE",module:"Recon Onboarding"},{id:"recon-onboarding-edit",name:"Edit Recon Onboarding",code:"RECON_ONBOARDING_EDIT",module:"Recon Onboarding"}],"Recon Configuration":[{id:"recon-config-view",name:"View Recon Configuration",code:"RECON_CONFIG_VIEW",module:"Recon Configuration"},{id:"recon-config-edit",name:"Edit Recon Configuration",code:"RECON_CONFIG_EDIT",module:"Recon Configuration"}],"Recon XOXO":[{id:"recon-xoxo-view",name:"View Recon XOXO",code:"RECON_XOXO_VIEW",module:"Recon XOXO"},{id:"recon-xoxo-create",name:"Create Recon XOXO",code:"RECON_XOXO_CREATE",module:"Recon XOXO"}],Funding:[{id:"funding-view",name:"View Funding",code:"FUNDING_VIEW",module:"Funding"},{id:"funding-approve",name:"Approve Funding",code:"FUNDING_APPROVE",module:"Funding"}],Reports:[{id:"reports-view",name:"View Reports",code:"REPORTS_VIEW",module:"Reports"},{id:"reports-export",name:"Export Reports",code:"REPORTS_EXPORT",module:"Reports"}],Masters:[{id:"masters-view",name:"View Masters",code:"MASTERS_VIEW",module:"Masters"},{id:"masters-create",name:"Create Masters",code:"MASTERS_CREATE",module:"Masters"},{id:"masters-edit",name:"Edit Masters",code:"MASTERS_EDIT",module:"Masters"},{id:"masters-delete",name:"Delete Masters",code:"MASTERS_DELETE",module:"Masters"}],"Camspay Exceptions":[{id:"camspay-view",name:"View Camspay Exceptions",code:"CAMSPAY_VIEW",module:"Camspay Exceptions"},{id:"camspay-resolve",name:"Resolve Camspay Exceptions",code:"CAMSPAY_RESOLVE",module:"Camspay Exceptions"}]},[h]=C.useState([{id:"1",companyCode:"COMP001",companyName:"Sample Company",status:"Active"},{id:"2",companyCode:"COMP002",companyName:"ABC Industries",status:"Active"},{id:"3",companyCode:"COMP003",companyName:"XYZ Corporation",status:"Active"}]),[f,A]=C.useState([{id:"1",roleName:"Administrator",description:"Full system access",companyName:"Sample Company",landingPage:"Dashboard",accessLevel:"Admin",status:"Active",permissions:{},createdBy:"System",createdOn:"2023-01-01",modifiedBy:"System",modifiedOn:"2023-01-01"}]),[g,m]=C.useState({roleName:"",description:"",companyName:"",landingPage:"",status:"",accessLevel:"Admin",permissions:{}}),x=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),e.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),e.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),e.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]}),active:t.pathname==="/dashboard"},{path:"/master",label:"Master",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:t.pathname==="/master"||t.pathname.startsWith("/master")},{path:"/master/user-management",label:"User Management",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),active:t.pathname==="/master/user-management"||t.pathname.startsWith("/master/user-management")},{path:"/report",label:"Report",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),active:t.pathname.startsWith("/report")}],y=f.filter(G=>G.roleName.toLowerCase().includes(n.toLowerCase())||G.description.toLowerCase().includes(n.toLowerCase())||G.companyName.toLowerCase().includes(n.toLowerCase())),j=()=>{m({roleName:"",description:"",companyName:"",landingPage:"",status:"",accessLevel:"Admin",permissions:{}}),o(null),i(!0);const G={};Object.values(u).forEach(le=>{le.forEach(V=>{G[V.code]=!1})}),m(le=>({...le,permissions:G}))},b=G=>{m({roleName:G.roleName,description:G.description,companyName:G.companyName,landingPage:G.landingPage,status:G.status,accessLevel:G.accessLevel,permissions:G.permissions||{}}),o(G),i(!0)},S=G=>{window.confirm("Are you sure you want to delete this role?")&&A(f.filter(le=>le.id!==G))},w=()=>{if(!g.roleName||!g.companyName||!g.status){alert("Please fill in all required fields (Role Name, Company Name, and Status)");return}if(c)A(f.map(G=>G.id===c.id?{...G,roleName:g.roleName,description:g.description,companyName:g.companyName,landingPage:g.landingPage,status:g.status,accessLevel:g.accessLevel,permissions:g.permissions,modifiedBy:"Current User",modifiedOn:new Date().toISOString().split("T")[0]}:G));else{const G={id:Date.now().toString(),roleName:g.roleName,description:g.description,companyName:g.companyName,landingPage:g.landingPage,status:g.status,accessLevel:g.accessLevel,permissions:g.permissions,createdBy:"Current User",createdOn:new Date().toISOString().split("T")[0],modifiedBy:"Current User",modifiedOn:new Date().toISOString().split("T")[0]};A([...f,G])}i(!1),o(null)},E=(G,le)=>{m(V=>({...V,permissions:{...V.permissions,[G]:le}}))},I=(G,le)=>{const V=u[G]||[],me={...g.permissions};V.forEach($=>{me[$.code]=le}),m($=>({...$,permissions:me}))},L=G=>{l(le=>({...le,[G]:!le[G]}))},J=G=>{const le=u[G]||[];return le.length===0?!1:le.every(V=>g.permissions[V.code])},ae=G=>{const le=u[G]||[],V=le.filter(me=>g.permissions[me.code]).length;return V>0&&V<le.length};return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:"dashboard-sidebar",children:[e.jsx("div",{className:"sidebar-header",children:e.jsx("h2",{className:"sidebar-logo",children:"MWM"})}),e.jsx("nav",{className:"sidebar-nav",children:x.map(G=>e.jsxs(Hr,{to:G.path,className:`nav-item ${G.active?"nav-item--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:G.icon}),e.jsx("span",{className:"nav-label",children:G.label})]},G.path))}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs(Hr,{to:"/profile",className:`sidebar-profile-btn ${t.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"logout-btn",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),"Logout"]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(_a,{title:"Roles & Permissions",subtitle:"Manage roles and their permissions"}),e.jsxs("div",{className:"user-management-page",children:[e.jsxs("div",{className:"user-management-header",children:[e.jsx("h1",{className:"user-management-title",children:"Roles & Permissions"}),e.jsxs("button",{className:"btn btn-primary",onClick:j,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Role"]})]}),e.jsx("div",{className:"user-management-search-section",children:e.jsxs("div",{className:"user-management-search-box",children:[e.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"user-management-search-input",placeholder:"Search roles...",value:n,onChange:G=>a(G.target.value)})]})}),e.jsx("div",{className:"user-management-table-container",children:e.jsxs("table",{className:"user-management-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Role Name"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Company Name"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:y.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"empty-message",children:"No roles found"})}):y.map(G=>e.jsxs("tr",{children:[e.jsx("td",{children:G.roleName}),e.jsx("td",{children:G.description}),e.jsx("td",{children:G.companyName}),e.jsx("td",{children:e.jsx("span",{className:`status-badge status-badge--${G.status.toLowerCase()}`,children:G.status})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>b(G),title:"Edit Role",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--permissions",onClick:()=>b(G),title:"Manage Permissions",children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})})}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>S(G.id),title:"Delete Role",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},G.id))})]})})]})]}),s&&e.jsx("div",{className:"modal-overlay",onClick:()=>i(!1),children:e.jsxs("div",{className:"modal-content modal-content--role-form",onClick:G=>G.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h2",{className:"modal-title",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{marginRight:"8px",verticalAlign:"middle"},children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),c?"Edit Role":"Add Role"]}),e.jsx("button",{className:"modal-close",onClick:()=>i(!1),children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"form-section",children:[e.jsx("label",{className:"form-label",children:"Access Level"}),e.jsx("div",{className:"access-level-options",children:["Admin","Maker","Checker","Viewer"].map(G=>e.jsxs("label",{className:"access-level-option",children:[e.jsx("input",{type:"radio",name:"accessLevel",value:G,checked:g.accessLevel===G,onChange:le=>m({...g,accessLevel:le.target.value})}),e.jsx("span",{children:G})]},G))})]}),e.jsx("div",{className:"form-section",children:e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Role Name *"}),e.jsx("input",{type:"text",className:"form-input",placeholder:"Enter Role Name",value:g.roleName,onChange:G=>m({...g,roleName:G.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Description"}),e.jsx("input",{type:"text",className:"form-input",placeholder:"Enter Description",value:g.description,onChange:G=>m({...g,description:G.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Company Name *"}),e.jsxs("select",{className:"form-input",value:g.companyName,onChange:G=>m({...g,companyName:G.target.value}),required:!0,children:[e.jsx("option",{value:"",children:"Select Company"}),h.filter(G=>G.status==="Active").map(G=>e.jsx("option",{value:G.companyName,children:G.companyName},G.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Status *"}),e.jsxs("select",{className:"form-input",value:g.status,onChange:G=>m({...g,status:G.target.value}),children:[e.jsx("option",{value:"",children:"Select Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"form-section",children:[e.jsx("label",{className:"form-label",children:"Permissions"}),e.jsx("div",{className:"permissions-list-container",children:Object.entries(u).map(([G,le])=>e.jsxs("div",{className:"permission-module-item",children:[e.jsxs("div",{className:"permission-module-header-row",children:[e.jsxs("div",{className:"permission-module-header-left",children:[e.jsx("input",{type:"checkbox",checked:J(G),ref:V=>{V&&(V.indeterminate=ae(G))},onChange:V=>I(G,V.target.checked),className:"permission-module-checkbox"}),e.jsx("span",{className:"permission-module-title",children:G})]}),e.jsx("button",{className:"permission-module-toggle",onClick:()=>L(G),children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{transform:d[G]?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"},children:e.jsx("polyline",{points:"6 9 12 15 18 9"})})})]}),d[G]&&e.jsx("div",{className:"permission-module-permissions",children:le.map(V=>e.jsxs("label",{className:"permission-item",children:[e.jsx("input",{type:"checkbox",checked:g.permissions[V.code]||!1,onChange:me=>E(V.code,me.target.checked)}),e.jsx("span",{children:V.name})]},V.id))})]},G))})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{className:"btn btn-secondary",onClick:()=>i(!1),children:"Cancel"}),e.jsx("button",{className:"btn btn-primary",onClick:w,children:"Save"})]})]})})]})},Cte=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},dg=async(r,t={})=>{const n=Cte(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${yf}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const o=await s.json();Array.isArray(o.message)?i=o.message.join(", "):typeof o.message=="string"?i=o.message:o.error?i=typeof o.error=="string"?o.error:JSON.stringify(o.error):o.message&&(i=String(o.message))}catch{}const c=new Error(i);throw c.status=s.status,c.statusText=s.statusText,c}return s.status===204?{}:s.json()},Mi={createHcf:async r=>(await dg("/hcfs",{method:"POST",body:JSON.stringify(r)})).data,getHcfById:async r=>(await dg(`/hcfs/${r}`,{method:"GET"})).data,getAllHcfs:async(r,t=!1)=>{let n="/hcfs";const a=new URLSearchParams;return r&&a.append("companyId",r),t&&a.append("activeOnly","true"),a.toString()&&(n+=`?${a.toString()}`),(await dg(n,{method:"GET"})).data},updateHcf:async(r,t)=>(await dg(`/hcfs/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,deleteHcf:async r=>{await dg(`/hcfs/${r}`,{method:"DELETE"})}},Nte="http://localhost:3000/api/v1",Ste=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},ug=async(r,t={})=>{const n=Ste(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${Nte}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const o=await s.json();Array.isArray(o.message)?i=o.message.join(", "):typeof o.message=="string"?i=o.message:o.error?i=typeof o.error=="string"?o.error:JSON.stringify(o.error):o.message&&(i=String(o.message))}catch{}const c=new Error(i);throw c.status=s.status,c.statusText=s.statusText,c}return s.status===204?{}:s.json()},zg={createHcfType:async r=>(await ug("/hcf-types",{method:"POST",body:JSON.stringify(r)})).data,getHcfTypeById:async r=>(await ug(`/hcf-types/${r}`,{method:"GET"})).data,getAllHcfTypes:async(r,t=!1)=>{let n="/hcf-types";const a=new URLSearchParams;return r&&a.append("companyId",r),t&&a.append("activeOnly","true"),a.toString()&&(n+=`?${a.toString()}`),(await ug(n,{method:"GET"})).data},updateHcfType:async(r,t)=>(await ug(`/hcf-types/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,deleteHcfType:async r=>{await ug(`/hcf-types/${r}`,{method:"DELETE"})}},Ete=()=>{const{logout:r,user:t,permissions:n}=Yn(),a=jn(),s=Array.isArray(n)?n:[],i=Cc(s,"HCF_CREATE"),c=Cc(s,"HCF_EDIT")||Cc(s,"HCF_UPDATE"),o=Cc(s,"HCF_DELETE");C.useEffect(()=>{t&&(console.log("HCF Master - User:",{id:t.id,email:t.email,name:t.name,roles:t.roles}),console.log("HCF Master - Permissions:",{canCreate:i,canEdit:c,canDelete:o}))},[t,i,c]);const[d,l]=C.useState(""),[u,h]=C.useState(!1),[f,A]=C.useState(null),[g,m]=C.useState(!1),[x,y]=C.useState(null),[j,b]=C.useState(!1),[S,w]=C.useState(!1),[E,I]=C.useState(!1),[L,J]=C.useState({hcfCode:"",hcfName:"",companyName:""}),[ae,G]=C.useState("all"),le=()=>{w(!S)},[V,me]=C.useState([]),[$,ee]=C.useState([]),[we,R]=C.useState([]),[q,ie]=C.useState([]),[Z,D]=C.useState([]),[ue,te]=C.useState([]),[ye,pe]=C.useState([]),[je,re]=C.useState([]),he=C.useCallback(async()=>{try{const qe=await ha.getAllCompanies(void 0,!0);me(qe.map(St=>({id:St.id,companyCode:St.companyCode,companyName:St.companyName,status:St.status})))}catch(qe){console.error("Failed to load companies:",qe)}},[]),X=C.useCallback(async()=>{try{const qe=await $g.getAllAreas(!0);ee(qe.map(St=>({id:St.id,areaName:St.areaName,status:St.status})))}catch(qe){console.error("Failed to load areas:",qe)}},[]),Ae=C.useCallback(async()=>{try{const qe=await Wg.getAllStates(!0);R(qe.map(St=>({id:St.id,stateCode:St.stateCode,stateName:St.stateName,status:St.status})))}catch(qe){console.error("Failed to load states:",qe)}},[]),Be=C.useCallback(async()=>{try{const qe=await Vg.getAllPcbZones(!0);ie(qe.map(St=>({id:St.id,pcbZoneName:St.pcbZoneName,status:St.status})))}catch(qe){console.error("Failed to load PCB zones:",qe)}},[]),Me=C.useCallback(async()=>{try{const qe=await Oh.getAllCategories(void 0,!0);D(qe.map(St=>({id:St.id,categoryName:St.categoryName,status:St.status})))}catch(qe){console.error("Failed to load categories:",qe)}},[]),$e=C.useCallback(async()=>{try{const qe=await oA.getAllRoutes(!0);te(qe.map(St=>({id:St.id,routeName:St.routeName,status:St.status})))}catch(qe){console.error("Failed to load routes:",qe)}},[]),ne=C.useCallback(async()=>{try{const qe=await zg.getAllHcfTypes(void 0,!0);pe(qe)}catch(qe){console.error("Failed to load HCF types:",qe)}},[]),Pe=C.useCallback(async()=>{try{m(!0),y(null);const St=(await Mi.getAllHcfs()).map(_t=>{const ar=V.find(Rt=>Rt.id===_t.companyId),en=$.find(Rt=>Rt.id===_t.areaId),Xt=we.find(Rt=>Rt.stateCode===_t.stateCode),Yr=q.find(Rt=>Rt.id===_t.pcbZone),Qr=Z.find(Rt=>Rt.id===_t.category),He=ue.find(Rt=>Rt.id===_t.route);return{id:_t.id,companyName:(ar==null?void 0:ar.companyName)||"",companyID:_t.companyId,hcfCode:_t.hcfCode,password:_t.password||"",hcfTypeCode:_t.hcfTypeCode||"",hcfName:_t.hcfName,hcfShortName:_t.hcfShortName||"",areaID:_t.areaId||"",pincode:_t.pincode||"",district:_t.district||"",stateCode:_t.stateCode||"",groupCode:_t.groupCode||"",pcbZone:_t.pcbZone||"",billingName:_t.billingName||"",billingAddress:_t.billingAddress||"",serviceAddress:_t.serviceAddress||"",gstin:_t.gstin||"",regnNum:_t.regnNum||"",hospRegnDate:_t.hospRegnDate||"",billingType:_t.billingType||"",advAmount:_t.advAmount||"",billingOption:_t.billingOption||"",bedCount:_t.bedCount||"",bedRate:_t.bedRate||"",kgRate:_t.kgRate||"",lumpsum:_t.lumpsum||"",accountsLandline:_t.accountsLandline||"",accountsMobile:_t.accountsMobile||"",accountsEmail:_t.accountsEmail||"",contactName:_t.contactName||"",contactDesignation:_t.contactDesignation||"",contactMobile:_t.contactMobile||"",contactEmail:_t.contactEmail||"",agrSignAuthName:_t.agrSignAuthName||"",agrSignAuthDesignation:_t.agrSignAuthDesignation||"",drName:_t.drName||"",drPhNo:_t.drPhNo||"",drEmail:_t.drEmail||"",serviceStartDate:_t.serviceStartDate||"",serviceEndDate:_t.serviceEndDate||"",category:_t.category||"",route:_t.route||"",executive_Assigned:_t.executive_Assigned||"",submitBy:_t.submitBy||"",agrID:_t.agrID||"",sortOrder:_t.sortOrder||"",isGovt:_t.isGovt||!1,isGSTExempt:_t.isGSTExempt||!1,autoGen:_t.autoGen||!1,status:_t.status,createdBy:_t.createdBy||"",createdOn:_t.createdOn,modifiedBy:_t.modifiedBy||"",modifiedOn:_t.modifiedOn}});re(St)}catch(qe){console.error("Failed to load HCFs:",qe),y(qe.message||"Failed to load HCFs"),re([])}finally{m(!1)}},[V,$,we,q,Z,ue]);C.useEffect(()=>{(async()=>{await Promise.all([he(),X(),Ae(),Be(),Me(),$e(),ne()])})()},[he,X,Ae,Be,Me,$e,ne]),C.useEffect(()=>{V.length>0&&Pe()},[V.length,Pe]);const _e=je.filter(qe=>{const St=d.trim().toLowerCase(),_t=L.hcfCode.trim().toLowerCase(),ar=L.hcfName.trim().toLowerCase(),en=L.companyName.trim().toLowerCase(),Xt=!St||qe.hcfName.toLowerCase().includes(St)||qe.hcfCode.toLowerCase().includes(St)||qe.companyName.toLowerCase().includes(St)||qe.hcfShortName.toLowerCase().includes(St),Yr=!_t||qe.hcfCode.toLowerCase().includes(_t),Qr=!ar||qe.hcfName.toLowerCase().includes(ar),He=!en||qe.companyName.toLowerCase().includes(en),Rt=ae==="all"||qe.status===ae;return Xt&&Yr&&Qr&&He&&Rt});C.useEffect(()=>{const qe=setTimeout(()=>{const St=document.querySelector(".add-hcf-btn"),_t=document.querySelectorAll(".action-btn"),ar=St?window.getComputedStyle(St):null,en=_t[0],Xt=en?window.getComputedStyle(en):null;console.log("HCF Master - Button Check:",{addButtonExists:!!St,addButtonVisible:St?(ar==null?void 0:ar.display)!=="none"&&(ar==null?void 0:ar.visibility)!=="hidden":!1,addButtonStyles:St?{display:ar==null?void 0:ar.display,visibility:ar==null?void 0:ar.visibility,opacity:ar==null?void 0:ar.opacity,width:ar==null?void 0:ar.width,height:ar==null?void 0:ar.height}:null,actionButtonsCount:_t.length,firstActionButtonStyles:en?{display:Xt==null?void 0:Xt.display,visibility:Xt==null?void 0:Xt.visibility,opacity:Xt==null?void 0:Xt.opacity}:null,canCreate:i,canEdit:c,hcfsCount:je.length,filteredHCFsCount:_e.length})},500);return()=>clearTimeout(qe)},[i,c,je.length,_e.length]);const rt=()=>{A(null),h(!0)},et=qe=>{A(qe),h(!0)},Le=async qe=>{if(window.confirm("Are you sure you want to delete this HCF?"))try{m(!0),await Mi.deleteHcf(qe),await Pe()}catch(St){console.error("Failed to delete HCF:",St),y(St.message||"Failed to delete HCF"),alert(St.message||"Failed to delete HCF")}finally{m(!1)}},it=async qe=>{try{if(b(!0),y(null),f){const St={hcfName:qe.hcfName,hcfShortName:qe.hcfShortName,areaId:qe.areaID,pincode:qe.pincode,district:qe.district,stateCode:qe.stateCode,groupCode:qe.groupCode,pcbZone:qe.pcbZone,billingName:qe.billingName,billingAddress:qe.billingAddress,serviceAddress:qe.serviceAddress,gstin:qe.gstin,regnNum:qe.regnNum,hospRegnDate:qe.hospRegnDate,billingType:qe.billingType,advAmount:qe.advAmount,billingOption:qe.billingOption,bedCount:qe.bedCount,bedRate:qe.bedRate,kgRate:qe.kgRate,lumpsum:qe.lumpsum,accountsLandline:qe.accountsLandline,accountsMobile:qe.accountsMobile,accountsEmail:qe.accountsEmail,contactName:qe.contactName,contactDesignation:qe.contactDesignation,contactMobile:qe.contactMobile,contactEmail:qe.contactEmail,agrSignAuthName:qe.agrSignAuthName,agrSignAuthDesignation:qe.agrSignAuthDesignation,drName:qe.drName,drPhNo:qe.drPhNo,drEmail:qe.drEmail,serviceStartDate:qe.serviceStartDate,serviceEndDate:qe.serviceEndDate,category:qe.category,route:qe.route,executive_Assigned:qe.executive_Assigned,submitBy:qe.submitBy,agrID:qe.agrID,sortOrder:qe.sortOrder,isGovt:qe.isGovt,isGSTExempt:qe.isGSTExempt,autoGen:qe.autoGen,status:qe.status};await Mi.updateHcf(f.id,St)}else{if(!qe.companyID)throw new Error("Company is required");if(!qe.hcfCode)throw new Error("HCF Code is required");if(!qe.hcfName)throw new Error("HCF Name is required");await Mi.createHcf({companyId:qe.companyID,hcfCode:qe.hcfCode,password:qe.password,hcfTypeCode:qe.hcfTypeCode,hcfName:qe.hcfName,hcfShortName:qe.hcfShortName,areaId:qe.areaID,pincode:qe.pincode,district:qe.district,stateCode:qe.stateCode,groupCode:qe.groupCode,pcbZone:qe.pcbZone,billingName:qe.billingName,billingAddress:qe.billingAddress,serviceAddress:qe.serviceAddress,gstin:qe.gstin,regnNum:qe.regnNum,hospRegnDate:qe.hospRegnDate,billingType:qe.billingType,advAmount:qe.advAmount,billingOption:qe.billingOption,bedCount:qe.bedCount,bedRate:qe.bedRate,kgRate:qe.kgRate,lumpsum:qe.lumpsum,accountsLandline:qe.accountsLandline,accountsMobile:qe.accountsMobile,accountsEmail:qe.accountsEmail,contactName:qe.contactName,contactDesignation:qe.contactDesignation,contactMobile:qe.contactMobile,contactEmail:qe.contactEmail,agrSignAuthName:qe.agrSignAuthName,agrSignAuthDesignation:qe.agrSignAuthDesignation,drName:qe.drName,drPhNo:qe.drPhNo,drEmail:qe.drEmail,serviceStartDate:qe.serviceStartDate,serviceEndDate:qe.serviceEndDate,category:qe.category,route:qe.route,executive_Assigned:qe.executive_Assigned,submitBy:qe.submitBy,agrID:qe.agrID,sortOrder:qe.sortOrder,isGovt:qe.isGovt,isGSTExempt:qe.isGSTExempt,autoGen:qe.autoGen})}await Pe(),h(!1),A(null)}catch(St){console.error("Failed to save HCF:",St),y(St.message||"Failed to save HCF"),alert(St.message||"Failed to save HCF")}finally{b(!1)}},Wt=xs(n,a.pathname);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${S?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!S&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:le,"aria-label":S?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:S?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:Wt.map(qe=>e.jsx("li",{children:e.jsxs(Hr,{to:qe.path,className:`nav-link ${qe.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:qe.icon}),!S&&e.jsx("span",{className:"nav-label",children:qe.label})]})},qe.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Hr,{to:"/profile",className:`sidebar-profile-btn ${a.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!S&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!S&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(_a,{title:"HCF Master",subtitle:"Manage healthcare facility master data"}),e.jsxs("div",{className:"hcf-master-page",children:[x&&e.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"20px",backgroundColor:"#fee",color:"#c00",borderRadius:"4px"},children:x}),g&&je.length===0&&e.jsx("div",{className:"loading-message",style:{padding:"10px",marginBottom:"20px",textAlign:"center"},children:"Loading HCFs..."}),e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"9",cy:"7",r:"4"}),e.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),e.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"HCF Master"}),e.jsx("p",{className:"ra-page-subtitle",children:"Manage HCF information and details"})]})]}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",placeholder:"Search by HCF code, name, company...",value:d,onChange:qe=>l(qe.target.value),className:"ra-search-input"})]}),e.jsxs("div",{className:"ra-actions",children:[e.jsxs("button",{className:"ra-filter-btn",onClick:()=>I(!0),children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),i&&e.jsxs("button",{className:"ra-add-btn",onClick:rt,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add HCF"]})]})]}),e.jsx("div",{className:"hcf-master-table-container",children:e.jsxs("table",{className:"hcf-master-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"COMPANY NAME"}),e.jsx("th",{children:"HCF CODE"}),e.jsx("th",{children:"HCF NAME"}),e.jsx("th",{children:"HCF SHORT NAME"}),e.jsx("th",{children:"STATE CODE"}),e.jsx("th",{children:"DISTRICT"}),e.jsx("th",{children:"PINCODE"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:g&&je.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"empty-message",children:"Loading..."})}):_e.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"empty-message",children:"No HCF records found"})}):_e.map(qe=>e.jsxs("tr",{children:[e.jsx("td",{children:qe.companyName||"-"}),e.jsx("td",{children:qe.hcfCode||"-"}),e.jsx("td",{children:qe.hcfName||"-"}),e.jsx("td",{children:qe.hcfShortName||"-"}),e.jsx("td",{children:qe.stateCode||"-"}),e.jsx("td",{children:qe.district||"-"}),e.jsx("td",{children:qe.pincode||"-"}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge status-badge--${qe.status.toLowerCase()}`,children:qe.status})})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons ra-actions",children:[e.jsx("button",{className:"action-btn action-btn--view",onClick:()=>c&&et(qe),title:c?"View":"No permission to view",disabled:!c,children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>c&&et(qe),title:c?"Edit":"No permission to edit",disabled:!c,children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>o&&Le(qe.id),title:o?"Delete":"No permission to delete",disabled:!o,children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},qe.id))})]})}),e.jsxs("div",{className:"cm-pagination-info",children:["Showing ",_e.length," of ",je.length," items"]})]})]}),E&&e.jsx(Bte,{statusFilter:ae,advancedFilters:L,onClose:()=>I(!1),onClear:()=>{J({hcfCode:"",hcfName:"",companyName:""}),G("all"),l("")},onApply:qe=>{G(qe.statusFilter),J(qe.advancedFilters),I(!1)}}),u&&e.jsx(Ite,{hcf:f,companies:V.filter(qe=>qe.status==="Active"),areas:$.filter(qe=>qe.status==="Active"),states:we.filter(qe=>qe.status==="Active"),pcbZones:q.filter(qe=>qe.status==="Active"),categories:Z.filter(qe=>qe.status==="Active"),routes:ue.filter(qe=>qe.status==="Active"),hcfTypes:ye.filter(qe=>qe.status==="Active"),saving:j,onClose:()=>{h(!1),A(null)},onSave:it})]})},Bte=({statusFilter:r,advancedFilters:t,onClose:n,onClear:a,onApply:s})=>{const[i,c]=C.useState(r),[o,d]=C.useState(t);return e.jsx("div",{className:"modal-overlay cm-filter-modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content cm-filter-modal",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"cm-filter-modal-header",children:[e.jsxs("div",{className:"cm-filter-modal-titlewrap",children:[e.jsx("div",{className:"cm-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"cm-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"cm-filter-subtitle",children:"Filter HCFs by multiple criteria"})]})]}),e.jsx("button",{className:"cm-filter-close",onClick:n,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"cm-filter-modal-body",children:e.jsxs("div",{className:"cm-filter-grid",children:[e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"HCF Code"}),e.jsx("input",{type:"text",value:o.hcfCode,onChange:l=>d({...o,hcfCode:l.target.value}),className:"cm-filter-input",placeholder:"Enter HCF code"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"HCF Name"}),e.jsx("input",{type:"text",value:o.hcfName,onChange:l=>d({...o,hcfName:l.target.value}),className:"cm-filter-input",placeholder:"Enter HCF name"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Company Name"}),e.jsx("input",{type:"text",value:o.companyName,onChange:l=>d({...o,companyName:l.target.value}),className:"cm-filter-input",placeholder:"Enter company name"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:i,onChange:l=>c(l.target.value),className:"cm-filter-select",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"cm-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"cm-link-btn",onClick:()=>{c("all"),d({hcfCode:"",hcfName:"",companyName:""}),a()},children:"Clear Filters"}),e.jsx("button",{type:"button",className:"cm-btn cm-btn--primary cm-btn--sm",onClick:()=>s({statusFilter:i,advancedFilters:o}),children:"Apply Filters"})]})]})})},Ite=({hcf:r,companies:t,areas:n,states:a,pcbZones:s,categories:i,routes:c,hcfTypes:o,saving:d,onClose:l,onSave:u})=>{const h=C.useCallback(()=>r?{...r}:{companyName:"",companyID:"",hcfCode:"",password:"",hcfTypeCode:"",hcfName:"",hcfShortName:"",areaID:"",pincode:"",district:"",stateCode:"",groupCode:"",pcbZone:"",billingName:"",billingAddress:"",serviceAddress:"",gstin:"",regnNum:"",hospRegnDate:"",billingType:"",advAmount:"",billingOption:"",bedCount:"",bedRate:"",kgRate:"",lumpsum:"",accountsLandline:"",accountsMobile:"",accountsEmail:"",contactName:"",contactDesignation:"",contactMobile:"",contactEmail:"",agrSignAuthName:"",agrSignAuthDesignation:"",drName:"",drPhNo:"",drEmail:"",serviceStartDate:"",serviceEndDate:"",category:"",route:"",executive_Assigned:"",submitBy:"",agrID:"",sortOrder:"",isGovt:!1,isGSTExempt:!1,autoGen:!1,status:"Active"},[r]),[f,A]=C.useState(h);C.useEffect(()=>{A(h())},[r,h]);const g=m=>{m.preventDefault(),u(f)};return e.jsx("div",{className:"modal-overlay",onClick:l,children:e.jsxs("div",{className:"modal-content",onClick:m=>m.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:r?"Edit HCF":"Add HCF"}),e.jsx("button",{className:"modal-close-btn",onClick:l,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"hcf-form",onSubmit:g,children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Basic Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company Name *"}),e.jsxs("select",{value:f.companyName||"",onChange:m=>{const x=t.find(y=>y.companyName===m.target.value);A({...f,companyName:m.target.value,companyID:(x==null?void 0:x.id)||""})},required:!0,children:[e.jsx("option",{value:"",children:"Select Company"}),t.map(m=>e.jsx("option",{value:m.companyName,children:m.companyName},m.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company ID"}),e.jsx("input",{type:"text",value:f.companyID||"",readOnly:!0,style:{backgroundColor:"#f1f5f9"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"HCF Code *"}),e.jsx("input",{type:"text",value:f.hcfCode||"",onChange:m=>A({...f,hcfCode:m.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Password *"}),e.jsx("input",{type:"password",value:f.password||"",onChange:m=>A({...f,password:m.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"HCF Type Code"}),e.jsxs("select",{value:f.hcfTypeCode||"",onChange:m=>A({...f,hcfTypeCode:m.target.value}),children:[e.jsx("option",{value:"",children:"Select HCF Type"}),o.map(m=>e.jsxs("option",{value:m.hcfTypeCode,children:[m.hcfTypeCode," - ",m.hcfTypeName]},m.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"HCF Name *"}),e.jsx("input",{type:"text",value:f.hcfName||"",onChange:m=>A({...f,hcfName:m.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"HCF Short Name"}),e.jsx("input",{type:"text",value:f.hcfShortName||"",onChange:m=>A({...f,hcfShortName:m.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Group Code"}),e.jsx("input",{type:"text",value:f.groupCode||"",onChange:m=>A({...f,groupCode:m.target.value})})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Location Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Area ID *"}),e.jsxs("select",{value:f.areaID||"",onChange:m=>A({...f,areaID:m.target.value}),required:!0,children:[e.jsx("option",{value:"",children:"Select Area"}),n.map(m=>e.jsx("option",{value:m.id,children:m.areaName},m.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"State Code *"}),e.jsxs("select",{value:f.stateCode||"",onChange:m=>A({...f,stateCode:m.target.value}),required:!0,children:[e.jsx("option",{value:"",children:"Select State"}),a.map(m=>e.jsxs("option",{value:m.stateCode,children:[m.stateCode," - ",m.stateName]},m.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"District *"}),e.jsx("input",{type:"text",value:f.district||"",onChange:m=>A({...f,district:m.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Pincode *"}),e.jsx("input",{type:"text",value:f.pincode||"",onChange:m=>A({...f,pincode:m.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"PCB Zone"}),e.jsxs("select",{value:f.pcbZone||"",onChange:m=>A({...f,pcbZone:m.target.value}),children:[e.jsx("option",{value:"",children:"Select PCB Zone"}),s.map(m=>e.jsx("option",{value:m.id,children:m.pcbZoneName},m.id))]})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Address Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group form-group--full",children:[e.jsx("label",{children:"Billing Address"}),e.jsx("textarea",{value:f.billingAddress||"",onChange:m=>A({...f,billingAddress:m.target.value}),rows:3})]}),e.jsxs("div",{className:"form-group form-group--full",children:[e.jsx("label",{children:"Service Address"}),e.jsx("textarea",{value:f.serviceAddress||"",onChange:m=>A({...f,serviceAddress:m.target.value}),rows:3})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Billing Name"}),e.jsx("input",{type:"text",value:f.billingName||"",onChange:m=>A({...f,billingName:m.target.value})})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Registration & GST Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"GSTIN"}),e.jsx("input",{type:"text",value:f.gstin||"",onChange:m=>A({...f,gstin:m.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Registration Number"}),e.jsx("input",{type:"text",value:f.regnNum||"",onChange:m=>A({...f,regnNum:m.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Hospital Registration Date"}),e.jsx("input",{type:"date",value:f.hospRegnDate||"",onChange:m=>A({...f,hospRegnDate:m.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Is GST Exempt"}),e.jsxs("select",{value:f.isGSTExempt?"true":"false",onChange:m=>A({...f,isGSTExempt:m.target.value==="true"}),children:[e.jsx("option",{value:"false",children:"No"}),e.jsx("option",{value:"true",children:"Yes"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Is Government"}),e.jsxs("select",{value:f.isGovt?"true":"false",onChange:m=>A({...f,isGovt:m.target.value==="true"}),children:[e.jsx("option",{value:"false",children:"No"}),e.jsx("option",{value:"true",children:"Yes"})]})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Billing Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Billing Type"}),e.jsxs("select",{value:f.billingType||"",onChange:m=>A({...f,billingType:m.target.value}),children:[e.jsx("option",{value:"",children:"Select Billing Type"}),e.jsx("option",{value:"Monthly",children:"Monthly"}),e.jsx("option",{value:"Quarterly",children:"Quarterly"}),e.jsx("option",{value:"Yearly",children:"Yearly"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Billing Option"}),e.jsxs("select",{value:f.billingOption||"",onChange:m=>A({...f,billingOption:m.target.value}),children:[e.jsx("option",{value:"",children:"Select Billing Option"}),e.jsx("option",{value:"Per Bed",children:"Per Bed"}),e.jsx("option",{value:"Per Kg",children:"Per Kg"}),e.jsx("option",{value:"Lumpsum",children:"Lumpsum"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Advance Amount"}),e.jsx("input",{type:"text",value:f.advAmount||"",onChange:m=>A({...f,advAmount:m.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Bed Count"}),e.jsx("input",{type:"text",value:f.bedCount||"",onChange:m=>A({...f,bedCount:m.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Bed Rate"}),e.jsx("input",{type:"text",value:f.bedRate||"",onChange:m=>A({...f,bedRate:m.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Kg Rate"}),e.jsx("input",{type:"text",value:f.kgRate||"",onChange:m=>A({...f,kgRate:m.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Lumpsum"}),e.jsx("input",{type:"text",value:f.lumpsum||"",onChange:m=>A({...f,lumpsum:m.target.value})})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Accounts Contact"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Accounts Landline"}),e.jsx("input",{type:"tel",value:f.accountsLandline||"",onChange:m=>A({...f,accountsLandline:m.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Accounts Mobile"}),e.jsx("input",{type:"tel",value:f.accountsMobile||"",onChange:m=>A({...f,accountsMobile:m.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Accounts Email"}),e.jsx("input",{type:"email",value:f.accountsEmail||"",onChange:m=>A({...f,accountsEmail:m.target.value})})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Contact Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Contact Name"}),e.jsx("input",{type:"text",value:f.contactName||"",onChange:m=>A({...f,contactName:m.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Contact Designation"}),e.jsx("input",{type:"text",value:f.contactDesignation||"",onChange:m=>A({...f,contactDesignation:m.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Contact Mobile"}),e.jsx("input",{type:"tel",value:f.contactMobile||"",onChange:m=>A({...f,contactMobile:m.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Contact Email"}),e.jsx("input",{type:"email",value:f.contactEmail||"",onChange:m=>A({...f,contactEmail:m.target.value})})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Agreement Signatory"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Agreement Signatory Auth Name"}),e.jsx("input",{type:"text",value:f.agrSignAuthName||"",onChange:m=>A({...f,agrSignAuthName:m.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Agreement Signatory Auth Designation"}),e.jsx("input",{type:"text",value:f.agrSignAuthDesignation||"",onChange:m=>A({...f,agrSignAuthDesignation:m.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Agreement ID"}),e.jsx("input",{type:"text",value:f.agrID||"",onChange:m=>A({...f,agrID:m.target.value})})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Doctor Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Doctor Name"}),e.jsx("input",{type:"text",value:f.drName||"",onChange:m=>A({...f,drName:m.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Doctor Phone Number"}),e.jsx("input",{type:"tel",value:f.drPhNo||"",onChange:m=>A({...f,drPhNo:m.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Doctor Email"}),e.jsx("input",{type:"email",value:f.drEmail||"",onChange:m=>A({...f,drEmail:m.target.value})})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Service Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Service Start Date"}),e.jsx("input",{type:"date",value:f.serviceStartDate||"",onChange:m=>A({...f,serviceStartDate:m.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Service End Date"}),e.jsx("input",{type:"date",value:f.serviceEndDate||"",onChange:m=>A({...f,serviceEndDate:m.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Category"}),e.jsxs("select",{value:f.category||"",onChange:m=>A({...f,category:m.target.value}),children:[e.jsx("option",{value:"",children:"Select Category"}),i.map(m=>e.jsx("option",{value:m.id,children:m.categoryName},m.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Route"}),e.jsxs("select",{value:f.route||"",onChange:m=>A({...f,route:m.target.value}),children:[e.jsx("option",{value:"",children:"Select Route"}),c.map(m=>e.jsx("option",{value:m.id,children:m.routeName},m.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Executive Assigned"}),e.jsx("input",{type:"text",value:f.executive_Assigned||"",onChange:m=>A({...f,executive_Assigned:m.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Submit By"}),e.jsx("input",{type:"text",value:f.submitBy||"",onChange:m=>A({...f,submitBy:m.target.value})})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Additional Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Sort Order"}),e.jsx("input",{type:"text",value:f.sortOrder||"",onChange:m=>A({...f,sortOrder:m.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Auto Generate"}),e.jsxs("select",{value:f.autoGen?"true":"false",onChange:m=>A({...f,autoGen:m.target.value==="true"}),children:[e.jsx("option",{value:"false",children:"No"}),e.jsx("option",{value:"true",children:"Yes"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:f.status||"Active",onChange:m=>A({...f,status:m.target.value}),children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:l,disabled:d,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn--primary",disabled:d,children:d?"Saving...":r?"Update":"Save"})]})]})]})})},Tte="http://localhost:3000/api/v1",kte=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},hg=async(r,t={})=>{const n=kte(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${Tte}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const o=await s.json();Array.isArray(o.message)?i=o.message.join(", "):typeof o.message=="string"?i=o.message:o.error?i=typeof o.error=="string"?o.error:JSON.stringify(o.error):o.message&&(i=String(o.message))}catch{}const c=new Error(i);throw c.status=s.status,c.statusText=s.statusText,c}return s.status===204?{}:s.json()},S0={createHcfAmendment:async r=>(await hg("/hcf-amendments",{method:"POST",body:JSON.stringify(r)})).data,getHcfAmendmentById:async r=>(await hg(`/hcf-amendments/${r}`,{method:"GET"})).data,getAllHcfAmendments:async(r,t=!1)=>{let n="/hcf-amendments";const a=new URLSearchParams;return r&&a.append("hcfId",r),t&&a.append("activeOnly","true"),a.toString()&&(n+=`?${a.toString()}`),(await hg(n,{method:"GET"})).data},updateHcfAmendment:async(r,t)=>(await hg(`/hcf-amendments/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,deleteHcfAmendment:async r=>{await hg(`/hcf-amendments/${r}`,{method:"DELETE"})}},_te=()=>{const{logout:r,permissions:t}=Yn(),n=jn(),a=Cc(Array.isArray(t)?t:[],"HCF_AMENDMENT_CREATE"),[s,i]=C.useState(""),[c,o]=C.useState(!1),[d,l]=C.useState(null),[u,h]=C.useState(!0),[f,A]=C.useState(null),[g,m]=C.useState(!1),[x,y]=C.useState(!1),[j,b]=C.useState(!1),[S,w]=C.useState({hcfCode:"",companyName:"",amendmentType:""}),[E,I]=C.useState("all"),L=()=>{y(!x)},[J,ae]=C.useState([]),[G,le]=C.useState([]),[V,me]=C.useState([]);C.useCallback(async()=>{try{const D=await ha.getAllCompanies(void 0,!0);ae(D)}catch(D){console.error("Failed to load companies:",D),A("Failed to load companies")}},[]),C.useCallback(async()=>{try{const D=await Mi.getAllHcfs(void 0,!0);le(D)}catch(D){console.error("Failed to load HCFs:",D),A("Failed to load HCFs")}},[]);const $=C.useCallback(async()=>{try{h(!0),A(null),console.log("Loading amendments...");const D=await S0.getAllHcfAmendments();console.log("Amendments loaded:",D),me(D.map(ue=>({id:ue.id,hcfId:ue.hcfId,amendmentType:ue.amendmentType,amendmentDate:ue.amendmentDate,description:ue.description,status:ue.status,approvedBy:ue.approvedBy,approvedDate:ue.approvedDate,createdBy:ue.createdBy,createdOn:ue.createdOn,modifiedBy:ue.modifiedBy,modifiedOn:ue.modifiedOn}))),h(!1)}catch(D){console.error("Failed to load amendments:",D),A(D.message||"Failed to load amendments"),me([]),h(!1)}},[]);C.useEffect(()=>{V.length>0&&J.length>0&&G.length>0&&me(D=>{if(!D.some(pe=>!pe.hcfCode||!pe.companyName))return D;const te=D.map(pe=>{if(pe.hcfCode&&pe.companyName)return pe;const je=G.find(he=>he.id===pe.hcfId),re=je?J.find(he=>he.id===je.companyId):null;return{...pe,hcfCode:(je==null?void 0:je.hcfCode)||"",companyName:(re==null?void 0:re.companyName)||""}});return te.some((pe,je)=>{var re,he;return pe.hcfCode!==((re=D[je])==null?void 0:re.hcfCode)||pe.companyName!==((he=D[je])==null?void 0:he.companyName)})?te:D})},[J,G]),C.useEffect(()=>{let D=!0;return(async()=>{try{h(!0);const[te,ye]=await Promise.all([ha.getAllCompanies(void 0,!0).catch(pe=>(console.error("Failed to load companies:",pe),[])),Mi.getAllHcfs(void 0,!0).catch(pe=>(console.error("Failed to load HCFs:",pe),[]))]);if(!D)return;ae(te),le(ye),await $()}catch(te){console.error("Failed to initialize:",te),D&&(A("Failed to load data"),h(!1))}})(),()=>{D=!1}},[$]);const ee=V.filter(D=>{const ue=s.trim().toLowerCase(),te=S.hcfCode.trim().toLowerCase(),ye=S.companyName.trim().toLowerCase(),pe=S.amendmentType.trim().toLowerCase(),je=!ue||(D.companyName||"").toLowerCase().includes(ue)||(D.hcfCode||"").toLowerCase().includes(ue)||D.amendmentType.toLowerCase().includes(ue)||(D.description||"").toLowerCase().includes(ue),re=!te||(D.hcfCode||"").toLowerCase().includes(te),he=!ye||(D.companyName||"").toLowerCase().includes(ye),X=!pe||D.amendmentType.toLowerCase().includes(pe),Ae=E==="all"||(D.status||"Pending")===E;return je&&re&&he&&X&&Ae}),we=()=>{l(null),o(!0)},R=D=>{l(D),o(!0)},q=async D=>{if(window.confirm("Are you sure you want to delete this amendment?"))try{h(!0),await S0.deleteHcfAmendment(D),await $()}catch(ue){console.error("Failed to delete amendment:",ue),alert(ue.message||"Failed to delete amendment")}finally{h(!1)}},ie=async D=>{try{if(m(!0),A(null),d){const ue={};D.amendmentType!==void 0&&(ue.amendmentType=D.amendmentType),D.amendmentDate!==void 0&&(ue.amendmentDate=D.amendmentDate),D.description!==void 0&&(ue.description=D.description),D.status!==void 0&&(ue.amendmentStatus=D.status),D.approvedBy!==void 0&&(ue.approvedBy=D.approvedBy),D.approvedDate!==void 0&&(ue.approvedDate=D.approvedDate),await S0.updateHcfAmendment(d.id,ue)}else{if(!D.hcfId)throw new Error("HCF is required");if(!D.amendmentType)throw new Error("Amendment type is required");if(!D.amendmentDate)throw new Error("Amendment date is required");await S0.createHcfAmendment({hcfId:D.hcfId,amendmentType:D.amendmentType,amendmentDate:D.amendmentDate,description:D.description,status:D.status,approvedBy:D.approvedBy,approvedDate:D.approvedDate})}await $(),o(!1),l(null)}catch(ue){console.error("Failed to save amendment:",ue),A(ue.message||"Failed to save amendment"),alert(ue.message||"Failed to save amendment")}finally{m(!1)}},Z=xs(t,n.pathname);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${x?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!x&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:L,"aria-label":x?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:x?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:Z.map(D=>e.jsx("li",{children:e.jsxs(Hr,{to:D.path,className:`nav-link ${D.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:D.icon}),!x&&e.jsx("span",{className:"nav-label",children:D.label})]})},D.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Hr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!x&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!x&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(_a,{title:"HCF Amendments",subtitle:"Manage HCF amendments and changes"}),f&&e.jsxs("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{children:f}),e.jsx("button",{onClick:()=>A(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px"},children:""})]}),u&&V.length===0&&e.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#666"},children:"Loading amendments..."}),e.jsxs("div",{className:"hcf-amendments-page",children:[e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"HCF Amendments"}),e.jsx("p",{className:"ra-page-subtitle",children:"Manage HCF amendment information and details"})]})]}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",placeholder:"Search by HCF code, company, amendment type...",value:s,onChange:D=>i(D.target.value),className:"ra-search-input"})]}),e.jsxs("div",{className:"ra-actions",children:[e.jsxs("button",{className:"ra-filter-btn",onClick:()=>b(!0),children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),a&&e.jsxs("button",{className:"ra-add-btn",onClick:we,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Amendment"]})]})]}),e.jsx("div",{className:"hcf-amendments-table-container",children:e.jsxs("table",{className:"hcf-amendments-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"COMPANY NAME"}),e.jsx("th",{children:"HCF"}),e.jsx("th",{children:"AMENDMENT TYPE"}),e.jsx("th",{children:"AMENDMENT DATE"}),e.jsx("th",{children:"DESCRIPTION"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{children:"APPROVED BY"}),e.jsx("th",{children:"APPROVED DATE"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:u&&V.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"empty-message",children:"Loading amendments..."})}):ee.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"empty-message",children:"No amendment records found"})}):ee.map(D=>{const ue=G.find(te=>te.id===D.hcfId);return e.jsxs("tr",{children:[e.jsx("td",{children:D.companyName||"-"}),e.jsx("td",{children:ue?`${ue.hcfCode} - ${ue.hcfName}`:D.hcfCode||"-"}),e.jsx("td",{children:D.amendmentType||"-"}),e.jsx("td",{children:D.amendmentDate?new Date(D.amendmentDate).toLocaleDateString():"-"}),e.jsx("td",{children:D.description||"-"}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge status-badge--${(D.status||"Pending").toLowerCase()}`,children:D.status||"Pending"})})}),e.jsx("td",{children:D.approvedBy||"-"}),e.jsx("td",{children:D.approvedDate?new Date(D.approvedDate).toLocaleDateString():"-"}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons ra-actions",children:[e.jsx("button",{className:"action-btn action-btn--view",onClick:()=>R(D),title:"View",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>R(D),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>q(D.id),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},D.id)})})]})}),e.jsxs("div",{className:"cm-pagination-info",children:["Showing ",ee.length," of ",V.length," items"]})]})]}),j&&e.jsx(Ote,{statusFilter:E,advancedFilters:S,onClose:()=>b(!1),onClear:()=>{w({hcfCode:"",companyName:"",amendmentType:""}),I("all"),i("")},onApply:D=>{I(D.statusFilter),w(D.advancedFilters),b(!1)}}),c&&e.jsx(Fte,{amendment:d,companies:J.filter(D=>D.status==="Active"),hcfs:G.filter(D=>D.status==="Active"),onClose:()=>{o(!1),l(null),A(null)},onSave:ie,saving:g})]})},Ote=({statusFilter:r,advancedFilters:t,onClose:n,onClear:a,onApply:s})=>{const[i,c]=C.useState(r),[o,d]=C.useState(t);return e.jsx("div",{className:"modal-overlay cm-filter-modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content cm-filter-modal",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"cm-filter-modal-header",children:[e.jsxs("div",{className:"cm-filter-modal-titlewrap",children:[e.jsx("div",{className:"cm-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"cm-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"cm-filter-subtitle",children:"Filter amendments by multiple criteria"})]})]}),e.jsx("button",{className:"cm-filter-close",onClick:n,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"cm-filter-modal-body",children:e.jsxs("div",{className:"cm-filter-grid",children:[e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"HCF Code"}),e.jsx("input",{type:"text",value:o.hcfCode,onChange:l=>d({...o,hcfCode:l.target.value}),className:"cm-filter-input",placeholder:"Enter HCF code"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Company Name"}),e.jsx("input",{type:"text",value:o.companyName,onChange:l=>d({...o,companyName:l.target.value}),className:"cm-filter-input",placeholder:"Enter company name"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Amendment Type"}),e.jsx("input",{type:"text",value:o.amendmentType,onChange:l=>d({...o,amendmentType:l.target.value}),className:"cm-filter-input",placeholder:"Enter amendment type"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:i,onChange:l=>c(l.target.value),className:"cm-filter-select",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Approved",children:"Approved"}),e.jsx("option",{value:"Rejected",children:"Rejected"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"cm-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"cm-link-btn",onClick:()=>{c("all"),d({hcfCode:"",companyName:"",amendmentType:""}),a()},children:"Clear Filters"}),e.jsx("button",{type:"button",className:"cm-btn cm-btn--primary cm-btn--sm",onClick:()=>s({statusFilter:i,advancedFilters:o}),children:"Apply Filters"})]})]})})},Fte=({amendment:r,companies:t,hcfs:n,onClose:a,onSave:s,saving:i=!1})=>{const c=()=>r?{...r,hcfId:r.hcfId}:{hcfId:"",amendmentType:"",amendmentDate:new Date().toISOString().split("T")[0],description:"",status:"Active",approvedBy:"",approvedDate:""},[o,d]=C.useState(c()),l=()=>{if(r&&r.hcfId){const g=n.find(m=>m.id===r.hcfId);return(g==null?void 0:g.companyId)||""}return""},[u,h]=C.useState(l());C.useEffect(()=>{u&&!r&&d(g=>({...g,hcfId:""}))},[u,r]),C.useEffect(()=>{if(r&&r.hcfId&&n.length>0&&!u){const g=n.find(m=>m.id===r.hcfId);g&&h(g.companyId)}},[r,n,u]);const f=u?n.filter(g=>g.companyId===u&&g.status==="Active"):n,A=g=>{if(g.preventDefault(),!o.hcfId){alert("Please select an HCF");return}if(!o.amendmentType){alert("Amendment type is required");return}if(!o.amendmentDate){alert("Amendment date is required");return}s(o)};return e.jsx("div",{className:"modal-overlay",onClick:a,children:e.jsxs("div",{className:"modal-content",onClick:g=>g.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:r?"Edit Amendment":"Add Amendment"}),e.jsx("button",{className:"modal-close-btn",onClick:a,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"amendment-form",onSubmit:A,children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Basic Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company *"}),e.jsxs("select",{value:u,onChange:g=>{h(g.target.value),d({...o,hcfId:""})},required:!0,disabled:!!r,children:[e.jsx("option",{value:"",children:"Select Company"}),t.map(g=>e.jsx("option",{value:g.id,children:g.companyName},g.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"HCF *"}),e.jsxs("select",{value:o.hcfId||"",onChange:g=>d({...o,hcfId:g.target.value}),required:!0,disabled:!u&&!r,children:[e.jsx("option",{value:"",children:"Select HCF"}),f.length===0&&(u||r)?e.jsx("option",{value:"",disabled:!0,children:"No HCFs available for selected company"}):f.map(g=>e.jsxs("option",{value:g.id,children:[g.hcfCode," - ",g.hcfName]},g.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Amendment Type *"}),e.jsx("input",{type:"text",value:o.amendmentType||"",onChange:g=>d({...o,amendmentType:g.target.value}),required:!0,placeholder:"Enter amendment type"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Amendment Date *"}),e.jsx("input",{type:"date",value:o.amendmentDate||"",onChange:g=>d({...o,amendmentDate:g.target.value}),required:!0})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Description"}),e.jsx("div",{className:"form-grid",children:e.jsxs("div",{className:"form-group form-group--full",children:[e.jsx("label",{children:"Description"}),e.jsx("textarea",{value:o.description||"",onChange:g=>d({...o,description:g.target.value}),placeholder:"Enter amendment description",rows:4})]})})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Approval Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:o.status||"Pending",onChange:g=>d({...o,status:g.target.value}),children:[e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Approved",children:"Approved"}),e.jsx("option",{value:"Rejected",children:"Rejected"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Approved By"}),e.jsx("input",{type:"text",value:o.approvedBy||"",onChange:g=>d({...o,approvedBy:g.target.value}),placeholder:"Enter approver name or ID"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Approved Date"}),e.jsx("input",{type:"date",value:o.approvedDate||"",onChange:g=>d({...o,approvedDate:g.target.value})})]})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:a,disabled:i,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn--primary",disabled:i,children:i?"Saving...":r?"Update":"Save"})]})]})]})})},Pte=()=>{const{logout:r,permissions:t}=Yn(),n=jn(),a=Cc(Array.isArray(t)?t:[],"HCF_TYPE_CREATE"),[s,i]=C.useState(""),[c,o]=C.useState(!1),[d,l]=C.useState(null),[u,h]=C.useState([]),[f,A]=C.useState([]),[g,m]=C.useState(!1),[x,y]=C.useState(null),[j,b]=C.useState(!1),[S,w]=C.useState(!1),[E,I]=C.useState({hcfTypeCode:"",hcfTypeName:"",companyName:""}),[L,J]=C.useState("all"),ae=()=>{b(!j)},G=async()=>{try{const ie=(await ha.getAllCompanies(!0)).map(Z=>({id:Z.id,companyCode:Z.companyCode,companyName:Z.companyName,status:Z.status}));A(ie)}catch(q){console.error("Error loading companies:",q)}},le=async()=>{m(!0),y(null);try{const ie=(await zg.getAllHcfTypes(void 0,!0)).map(Z=>{const D=f.find(ue=>ue.id===Z.companyId);return{id:Z.id,companyName:(D==null?void 0:D.companyName)||"Unknown Company",hcfTypeCode:Z.hcfTypeCode,hcfTypeName:Z.hcfTypeName,status:Z.status,createdBy:Z.createdBy||"",createdOn:Z.createdOn,modifiedBy:Z.modifiedBy||"",modifiedOn:Z.modifiedOn}});h(ie)}catch(q){const ie=q instanceof Error?q.message:"Failed to load HCF types";y(ie),console.error("Error loading HCF types:",q),h([])}finally{m(!1)}};C.useEffect(()=>{(async()=>{await G()})()},[]),C.useEffect(()=>{f.length>0&&le()},[f.length]);const V=u.filter(q=>{const ie=s.trim().toLowerCase(),Z=E.hcfTypeCode.trim().toLowerCase(),D=E.hcfTypeName.trim().toLowerCase(),ue=E.companyName.trim().toLowerCase(),te=!ie||q.companyName.toLowerCase().includes(ie)||q.hcfTypeCode.toLowerCase().includes(ie)||q.hcfTypeName.toLowerCase().includes(ie),ye=!Z||q.hcfTypeCode.toLowerCase().includes(Z),pe=!D||q.hcfTypeName.toLowerCase().includes(D),je=!ue||q.companyName.toLowerCase().includes(ue),re=L==="all"||q.status===L;return te&&ye&&pe&&je&&re}),me=()=>{l(null),o(!0)},$=q=>{l(q),o(!0)},ee=async q=>{if(window.confirm("Are you sure you want to delete this HCF Type?"))try{m(!0),await zg.deleteHcfType(q),await le(),alert("HCF Type deleted successfully")}catch(ie){const Z=ie instanceof Error?ie.message:"Failed to delete HCF type";alert(`Error: ${Z}`),console.error("Error deleting HCF type:",ie)}finally{m(!1)}},we=async q=>{try{m(!0),y(null);const ie=f.find(Z=>Z.companyName===q.companyName);if(!ie){alert("Please select a valid company");return}if(d)await zg.updateHcfType(d.id,{status:q.status}),alert("HCF Type updated successfully");else{if(!q.hcfTypeCode||!q.hcfTypeName||!q.companyName){alert("Please fill in all required fields");return}await zg.createHcfType({hcfTypeCode:q.hcfTypeCode,hcfTypeName:q.hcfTypeName,companyId:ie.id}),alert("HCF Type created successfully")}o(!1),l(null),await le()}catch(ie){const Z=ie instanceof Error?ie.message:"Failed to save HCF type";y(Z),alert(`Error: ${Z}`),console.error("Error saving HCF type:",ie)}finally{m(!1)}},R=xs(t,n.pathname);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${j?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!j&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:ae,"aria-label":j?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:j?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:R.map(q=>e.jsx("li",{children:e.jsxs(Hr,{to:q.path,className:`nav-link ${q.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:q.icon}),!j&&e.jsx("span",{className:"nav-label",children:q.label})]})},q.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Hr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!j&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!j&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(_a,{title:"HCF Type Master",subtitle:"Manage HCF type master data"}),x&&e.jsxs("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{children:x}),e.jsx("button",{onClick:()=>y(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px"},children:""})]}),g&&!u.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#666"},children:"Loading HCF types..."}),e.jsxs("div",{className:"hcf-type-master-page",children:[e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"9",cy:"7",r:"4"}),e.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),e.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"HCF Type Master"}),e.jsx("p",{className:"ra-page-subtitle",children:"Manage HCF type information and details"})]})]}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",placeholder:"Search by HCF type code, name, company...",value:s,onChange:q=>i(q.target.value),className:"ra-search-input"})]}),e.jsxs("div",{className:"ra-actions",children:[e.jsxs("button",{className:"ra-filter-btn",onClick:()=>w(!0),children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),a&&e.jsxs("button",{className:"ra-add-btn",onClick:me,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add HCF Type"]})]})]}),e.jsx("div",{className:"hcf-type-master-table-container",children:e.jsxs("table",{className:"hcf-type-master-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"COMPANY NAME"}),e.jsx("th",{children:"HCF TYPE CODE"}),e.jsx("th",{children:"HCF TYPE NAME"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:V.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"empty-message",children:g?"Loading...":"No HCF Type records found"})}):V.map(q=>e.jsxs("tr",{children:[e.jsx("td",{children:q.companyName||"-"}),e.jsx("td",{children:q.hcfTypeCode||"-"}),e.jsx("td",{children:q.hcfTypeName||"-"}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge status-badge--${q.status.toLowerCase()}`,children:q.status})})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons ra-actions",children:[e.jsx("button",{className:"action-btn action-btn--view",onClick:()=>$(q),title:"View",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>$(q),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>ee(q.id),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},q.id))})]})}),e.jsxs("div",{className:"cm-pagination-info",children:["Showing ",V.length," of ",u.length," items"]})]})]}),S&&e.jsx(Dte,{statusFilter:L,advancedFilters:E,onClose:()=>w(!1),onClear:()=>{I({hcfTypeCode:"",hcfTypeName:"",companyName:""}),J("all"),i("")},onApply:q=>{J(q.statusFilter),I(q.advancedFilters),w(!1)}}),c&&e.jsx(Mte,{hcfType:d,companies:f.filter(q=>q.status==="Active"),onClose:()=>{o(!1),l(null)},onSave:we})]})},Dte=({statusFilter:r,advancedFilters:t,onClose:n,onClear:a,onApply:s})=>{const[i,c]=C.useState(r),[o,d]=C.useState(t);return e.jsx("div",{className:"modal-overlay cm-filter-modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content cm-filter-modal",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"cm-filter-modal-header",children:[e.jsxs("div",{className:"cm-filter-modal-titlewrap",children:[e.jsx("div",{className:"cm-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"cm-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"cm-filter-subtitle",children:"Filter HCF types by multiple criteria"})]})]}),e.jsx("button",{className:"cm-filter-close",onClick:n,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"cm-filter-modal-body",children:e.jsxs("div",{className:"cm-filter-grid",children:[e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"HCF Type Code"}),e.jsx("input",{type:"text",value:o.hcfTypeCode,onChange:l=>d({...o,hcfTypeCode:l.target.value}),className:"cm-filter-input",placeholder:"Enter HCF type code"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"HCF Type Name"}),e.jsx("input",{type:"text",value:o.hcfTypeName,onChange:l=>d({...o,hcfTypeName:l.target.value}),className:"cm-filter-input",placeholder:"Enter HCF type name"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Company Name"}),e.jsx("input",{type:"text",value:o.companyName,onChange:l=>d({...o,companyName:l.target.value}),className:"cm-filter-input",placeholder:"Enter company name"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:i,onChange:l=>c(l.target.value),className:"cm-filter-select",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"cm-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"cm-link-btn",onClick:()=>{c("all"),d({hcfTypeCode:"",hcfTypeName:"",companyName:""}),a()},children:"Clear Filters"}),e.jsx("button",{type:"button",className:"cm-btn cm-btn--primary cm-btn--sm",onClick:()=>s({statusFilter:i,advancedFilters:o}),children:"Apply Filters"})]})]})})},Mte=({hcfType:r,companies:t,onClose:n,onSave:a})=>{const[s,i]=C.useState(r||{companyName:"",hcfTypeCode:"",hcfTypeName:"",status:"Active"}),c=o=>{o.preventDefault(),a(s)};return e.jsx("div",{className:"modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content",onClick:o=>o.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:r?"Edit HCF Type":"Add HCF Type"}),e.jsx("button",{className:"modal-close-btn",onClick:n,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"hcf-type-form",onSubmit:c,children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Basic Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company Name *"}),e.jsxs("select",{value:s.companyName||"",onChange:o=>i({...s,companyName:o.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{},children:[e.jsx("option",{value:"",children:"Select Company"}),t.map(o=>e.jsx("option",{value:o.companyName,children:o.companyName},o.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"HCF Type Code *"}),e.jsx("input",{type:"text",value:s.hcfTypeCode||"",onChange:o=>i({...s,hcfTypeCode:o.target.value}),required:!0,placeholder:"Enter HCF Type Code",disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"HCF Type Name *"}),e.jsx("input",{type:"text",value:s.hcfTypeName||"",onChange:o=>i({...s,hcfTypeName:o.target.value}),required:!0,placeholder:"Enter HCF Type Name",disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:s.status||"Active",onChange:o=>i({...s,status:o.target.value}),children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},Rte="http://localhost:3000/api/v1",Lte=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},fg=async(r,t={})=>{const n=Lte(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${Rte}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const o=await s.json();Array.isArray(o.message)?i=o.message.join(", "):typeof o.message=="string"?i=o.message:o.error?i=typeof o.error=="string"?o.error:JSON.stringify(o.error):o.message&&(i=String(o.message))}catch{}const c=new Error(i);throw c.status=s.status,c.statusText=s.statusText,c}return s.status===204?{}:s.json()},Fh={createFleet:async r=>(await fg("/fleets",{method:"POST",body:JSON.stringify(r)})).data,getFleetById:async r=>(await fg(`/fleets/${r}`,{method:"GET"})).data,getAllFleets:async(r,t=!1)=>{let n="/fleets";const a=new URLSearchParams;return r&&a.append("companyId",r),t&&a.append("activeOnly","true"),a.toString()&&(n+=`?${a.toString()}`),(await fg(n,{method:"GET"})).data},updateFleet:async(r,t)=>(await fg(`/fleets/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,deleteFleet:async r=>{await fg(`/fleets/${r}`,{method:"DELETE"})}},Ute=()=>{const{logout:r,permissions:t}=Yn(),n=jn(),a=Cc(Array.isArray(t)?t:[],"FLEET_CREATE"),[s,i]=C.useState(""),[c,o]=C.useState(!1),[d,l]=C.useState(null),[u,h]=C.useState([]),[f,A]=C.useState([]),[g,m]=C.useState(!1),[x,y]=C.useState(null),[j,b]=C.useState(!1),[S,w]=C.useState(!1),[E,I]=C.useState({vehicleNum:"",companyName:"",ownerName:""}),[L,J]=C.useState("all"),ae=()=>{b(!j)},G=async()=>{try{const ie=(await ha.getAllCompanies(!0)).map(Z=>({id:Z.id,companyCode:Z.companyCode,companyName:Z.companyName,status:Z.status}));A(ie)}catch(q){console.error("Error loading companies:",q)}},le=async()=>{m(!0),y(null);try{const ie=(await Fh.getAllFleets(void 0,!0)).map(Z=>{const D=f.find(ue=>ue.id===Z.companyId);return{id:Z.id,companyName:(D==null?void 0:D.companyName)||"Unknown Company",vehicleNum:Z.vehicleNum,capacity:Z.capacity||"",vehMake:Z.vehMake||"",vehModel:Z.vehModel||"",mfgYear:Z.mfgYear||"",nextFCDate:Z.nextFCDate||"",pucDateValidUpto:Z.pucDateValidUpto||"",insuranceValidUpto:Z.insuranceValidUpto||"",ownerName:Z.ownerName||"",ownerContact:Z.ownerContact||"",ownerEmail:Z.ownerEmail||"",ownerPAN:Z.ownerPAN||"",ownerAadhaar:Z.ownerAadhaar||"",pymtToName:Z.pymtToName||"",pymtBankName:Z.pymtBankName||"",pymtAccNum:Z.pymtAccNum||"",pymtIFSCode:Z.pymtIFSCode||"",pymtBranch:Z.pymtBranch||"",contractAmount:Z.contractAmount||"",tdsExemption:Z.tdsExemption||!1,status:Z.status,createdBy:Z.createdBy||"",createdOn:Z.createdOn,modifiedBy:Z.modifiedBy||"",modifiedOn:Z.modifiedOn}});h(ie)}catch(q){const ie=q instanceof Error?q.message:"Failed to load fleets";y(ie),console.error("Error loading fleets:",q),h([])}finally{m(!1)}};C.useEffect(()=>{(async()=>{await G()})()},[]),C.useEffect(()=>{f.length>0&&le()},[f.length]);const V=u.filter(q=>{const ie=s.trim().toLowerCase(),Z=E.vehicleNum.trim().toLowerCase(),D=E.companyName.trim().toLowerCase(),ue=E.ownerName.trim().toLowerCase(),te=!ie||q.companyName.toLowerCase().includes(ie)||q.vehicleNum.toLowerCase().includes(ie)||q.vehMake.toLowerCase().includes(ie)||q.vehModel.toLowerCase().includes(ie)||q.ownerName.toLowerCase().includes(ie),ye=!Z||q.vehicleNum.toLowerCase().includes(Z),pe=!D||q.companyName.toLowerCase().includes(D),je=!ue||q.ownerName.toLowerCase().includes(ue),re=L==="all"||q.status===L;return te&&ye&&pe&&je&&re}),me=()=>{l(null),o(!0)},$=q=>{l(q),o(!0)},ee=async q=>{if(window.confirm("Are you sure you want to delete this fleet vehicle?"))try{m(!0),await Fh.deleteFleet(q),await le(),alert("Fleet deleted successfully")}catch(ie){const Z=ie instanceof Error?ie.message:"Failed to delete fleet";alert(`Error: ${Z}`),console.error("Error deleting fleet:",ie)}finally{m(!1)}},we=async q=>{try{m(!0),y(null);const ie=f.find(Z=>Z.companyName===q.companyName);if(!ie){alert("Please select a valid company");return}if(d)await Fh.updateFleet(d.id,{capacity:q.capacity,vehMake:q.vehMake,vehModel:q.vehModel,mfgYear:q.mfgYear,nextFCDate:q.nextFCDate,pucDateValidUpto:q.pucDateValidUpto,insuranceValidUpto:q.insuranceValidUpto,ownerName:q.ownerName,ownerContact:q.ownerContact,ownerEmail:q.ownerEmail,ownerPAN:q.ownerPAN,ownerAadhaar:q.ownerAadhaar,pymtToName:q.pymtToName,pymtBankName:q.pymtBankName,pymtAccNum:q.pymtAccNum,pymtIFSCode:q.pymtIFSCode,pymtBranch:q.pymtBranch,contractAmount:q.contractAmount,tdsExemption:q.tdsExemption,status:q.status}),alert("Fleet updated successfully");else{if(!q.vehicleNum||!q.companyName){alert("Please fill in Vehicle Number and Company Name");return}await Fh.createFleet({companyId:ie.id,vehicleNum:q.vehicleNum,capacity:q.capacity,vehMake:q.vehMake,vehModel:q.vehModel,mfgYear:q.mfgYear,nextFCDate:q.nextFCDate,pucDateValidUpto:q.pucDateValidUpto,insuranceValidUpto:q.insuranceValidUpto,ownerName:q.ownerName,ownerContact:q.ownerContact,ownerEmail:q.ownerEmail,ownerPAN:q.ownerPAN,ownerAadhaar:q.ownerAadhaar,pymtToName:q.pymtToName,pymtBankName:q.pymtBankName,pymtAccNum:q.pymtAccNum,pymtIFSCode:q.pymtIFSCode,pymtBranch:q.pymtBranch,contractAmount:q.contractAmount,tdsExemption:q.tdsExemption}),alert("Fleet created successfully")}o(!1),l(null),await le()}catch(ie){const Z=ie instanceof Error?ie.message:"Failed to save fleet";y(Z),alert(`Error: ${Z}`),console.error("Error saving fleet:",ie)}finally{m(!1)}},R=xs(t,n.pathname);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${j?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!j&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:ae,"aria-label":j?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:j?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:R.map(q=>e.jsx("li",{children:e.jsxs(Hr,{to:q.path,className:`nav-link ${q.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:q.icon}),!j&&e.jsx("span",{className:"nav-label",children:q.label})]})},q.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Hr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!j&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!j&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(_a,{title:"Fleet Management",subtitle:"Manage fleet and vehicle master data"}),x&&e.jsxs("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{children:x}),e.jsx("button",{onClick:()=>y(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px"},children:""})]}),g&&!u.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#666"},children:"Loading fleets..."}),e.jsxs("div",{className:"fleet-management-page",children:[e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),e.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"Fleet Management"}),e.jsx("p",{className:"ra-page-subtitle",children:"Manage fleet vehicles and details"})]})]}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",placeholder:"Search by vehicle number, company, owner...",value:s,onChange:q=>i(q.target.value),className:"ra-search-input"})]}),e.jsxs("div",{className:"ra-actions",children:[e.jsxs("button",{className:"ra-filter-btn",onClick:()=>w(!0),children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),a&&e.jsxs("button",{className:"ra-add-btn",onClick:me,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Vehicle"]})]})]}),e.jsx("div",{className:"fleet-management-table-container",children:e.jsxs("table",{className:"fleet-management-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"COMPANY NAME"}),e.jsx("th",{children:"VEHICLE NUMBER"}),e.jsx("th",{children:"MAKE"}),e.jsx("th",{children:"MODEL"}),e.jsx("th",{children:"CAPACITY"}),e.jsx("th",{children:"OWNER NAME"}),e.jsx("th",{children:"OWNER CONTACT"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:V.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"empty-message",children:g?"Loading...":"No fleet records found"})}):V.map(q=>e.jsxs("tr",{children:[e.jsx("td",{children:q.companyName||"-"}),e.jsx("td",{children:q.vehicleNum||"-"}),e.jsx("td",{children:q.vehMake||"-"}),e.jsx("td",{children:q.vehModel||"-"}),e.jsx("td",{children:q.capacity||"-"}),e.jsx("td",{children:q.ownerName||"-"}),e.jsx("td",{children:q.ownerContact||"-"}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge status-badge--${q.status.toLowerCase()}`,children:q.status})})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons ra-actions",children:[e.jsx("button",{className:"action-btn action-btn--view",onClick:()=>$(q),title:"View",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>$(q),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>ee(q.id),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},q.id))})]})}),e.jsxs("div",{className:"cm-pagination-info",children:["Showing ",V.length," of ",u.length," items"]})]})]}),S&&e.jsx(Hte,{statusFilter:L,advancedFilters:E,onClose:()=>w(!1),onClear:()=>{I({vehicleNum:"",companyName:"",ownerName:""}),J("all"),i("")},onApply:q=>{J(q.statusFilter),I(q.advancedFilters),w(!1)}}),c&&e.jsx(Qte,{fleet:d,companies:f.filter(q=>q.status==="Active"),onClose:()=>{o(!1),l(null)},onSave:we})]})},Hte=({statusFilter:r,advancedFilters:t,onClose:n,onClear:a,onApply:s})=>{const[i,c]=C.useState(r),[o,d]=C.useState(t);return e.jsx("div",{className:"modal-overlay cm-filter-modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content cm-filter-modal",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"cm-filter-modal-header",children:[e.jsxs("div",{className:"cm-filter-modal-titlewrap",children:[e.jsx("div",{className:"cm-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"cm-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"cm-filter-subtitle",children:"Filter fleets by multiple criteria"})]})]}),e.jsx("button",{className:"cm-filter-close",onClick:n,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"cm-filter-modal-body",children:e.jsxs("div",{className:"cm-filter-grid",children:[e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Vehicle Number"}),e.jsx("input",{type:"text",value:o.vehicleNum,onChange:l=>d({...o,vehicleNum:l.target.value}),className:"cm-filter-input",placeholder:"Enter vehicle number"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Company Name"}),e.jsx("input",{type:"text",value:o.companyName,onChange:l=>d({...o,companyName:l.target.value}),className:"cm-filter-input",placeholder:"Enter company name"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Owner Name"}),e.jsx("input",{type:"text",value:o.ownerName,onChange:l=>d({...o,ownerName:l.target.value}),className:"cm-filter-input",placeholder:"Enter owner name"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:i,onChange:l=>c(l.target.value),className:"cm-filter-select",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"cm-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"cm-link-btn",onClick:()=>{c("all"),d({vehicleNum:"",companyName:"",ownerName:""}),a()},children:"Clear Filters"}),e.jsx("button",{type:"button",className:"cm-btn cm-btn--primary cm-btn--sm",onClick:()=>s({statusFilter:i,advancedFilters:o}),children:"Apply Filters"})]})]})})},Qte=({fleet:r,companies:t,onClose:n,onSave:a})=>{const[s,i]=C.useState(r||{companyName:"",vehicleNum:"",capacity:"",vehMake:"",vehModel:"",mfgYear:"",nextFCDate:"",pucDateValidUpto:"",insuranceValidUpto:"",ownerName:"",ownerContact:"",ownerEmail:"",ownerPAN:"",ownerAadhaar:"",pymtToName:"",pymtBankName:"",pymtAccNum:"",pymtIFSCode:"",pymtBranch:"",contractAmount:"",tdsExemption:!1,status:"Active"}),c=o=>{o.preventDefault(),a(s)};return e.jsx("div",{className:"modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content",onClick:o=>o.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:r?"Edit Vehicle":"Add Vehicle"}),e.jsx("button",{className:"modal-close-btn",onClick:n,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"fleet-form",onSubmit:c,children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Basic Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company Name *"}),e.jsxs("select",{value:s.companyName||"",onChange:o=>i({...s,companyName:o.target.value}),required:!0,children:[e.jsx("option",{value:"",children:"Select Company"}),t.map(o=>e.jsx("option",{value:o.companyName,children:o.companyName},o.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Vehicle Number *"}),e.jsx("input",{type:"text",value:s.vehicleNum||"",onChange:o=>i({...s,vehicleNum:o.target.value}),required:!0,placeholder:"e.g., MH-01-AB-1234"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Capacity *"}),e.jsx("input",{type:"text",value:s.capacity||"",onChange:o=>i({...s,capacity:o.target.value}),required:!0,placeholder:"Enter capacity in kg"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Vehicle Make *"}),e.jsx("input",{type:"text",value:s.vehMake||"",onChange:o=>i({...s,vehMake:o.target.value}),required:!0,placeholder:"e.g., Tata, Mahindra"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Vehicle Model *"}),e.jsx("input",{type:"text",value:s.vehModel||"",onChange:o=>i({...s,vehModel:o.target.value}),required:!0,placeholder:"e.g., 407, Bolero"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Manufacturing Year"}),e.jsx("input",{type:"text",value:s.mfgYear||"",onChange:o=>i({...s,mfgYear:o.target.value}),placeholder:"e.g., 2020"})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Compliance Dates"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Next FC Date"}),e.jsx("input",{type:"date",value:s.nextFCDate||"",onChange:o=>i({...s,nextFCDate:o.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"PUC Date Valid Upto"}),e.jsx("input",{type:"date",value:s.pucDateValidUpto||"",onChange:o=>i({...s,pucDateValidUpto:o.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Insurance Valid Upto"}),e.jsx("input",{type:"date",value:s.insuranceValidUpto||"",onChange:o=>i({...s,insuranceValidUpto:o.target.value})})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Owner Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Owner Name *"}),e.jsx("input",{type:"text",value:s.ownerName||"",onChange:o=>i({...s,ownerName:o.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Owner Contact *"}),e.jsx("input",{type:"tel",value:s.ownerContact||"",onChange:o=>i({...s,ownerContact:o.target.value}),required:!0,placeholder:"+91-9876543210"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Owner Email"}),e.jsx("input",{type:"email",value:s.ownerEmail||"",onChange:o=>i({...s,ownerEmail:o.target.value}),placeholder:"owner@example.com"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Owner PAN"}),e.jsx("input",{type:"text",value:s.ownerPAN||"",onChange:o=>i({...s,ownerPAN:o.target.value}),placeholder:"ABCDE1234F"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Owner Aadhaar"}),e.jsx("input",{type:"text",value:s.ownerAadhaar||"",onChange:o=>i({...s,ownerAadhaar:o.target.value}),placeholder:"1234-5678-9012"})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Payment Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Payment To Name"}),e.jsx("input",{type:"text",value:s.pymtToName||"",onChange:o=>i({...s,pymtToName:o.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Bank Name"}),e.jsx("input",{type:"text",value:s.pymtBankName||"",onChange:o=>i({...s,pymtBankName:o.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Account Number"}),e.jsx("input",{type:"text",value:s.pymtAccNum||"",onChange:o=>i({...s,pymtAccNum:o.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"IFSC Code"}),e.jsx("input",{type:"text",value:s.pymtIFSCode||"",onChange:o=>i({...s,pymtIFSCode:o.target.value}),placeholder:"SBIN0001234"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Branch"}),e.jsx("input",{type:"text",value:s.pymtBranch||"",onChange:o=>i({...s,pymtBranch:o.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Contract Amount"}),e.jsx("input",{type:"text",value:s.contractAmount||"",onChange:o=>i({...s,contractAmount:o.target.value}),placeholder:"Enter amount"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"TDS Exemption"}),e.jsxs("select",{value:s.tdsExemption?"true":"false",onChange:o=>i({...s,tdsExemption:o.target.value==="true"}),children:[e.jsx("option",{value:"false",children:"No"}),e.jsx("option",{value:"true",children:"Yes"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:s.status||"Active",onChange:o=>i({...s,status:o.target.value}),children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},Wte=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},Ag=async(r,t={})=>{const n=Wte(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${yf}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const c=await s.json();c.message?Array.isArray(c.message)?i=c.message.join(", "):typeof c.message=="string"?i=c.message:i=String(c.message):c.error&&(typeof c.error=="string"?i=c.error:c.error.message?i=typeof c.error.message=="string"?c.error.message:String(c.error.message):i=JSON.stringify(c.error));const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o.errorData=c,o}catch{const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o}}return s.status===204?{}:s.json()},Kg={createRouteHcfMapping:async r=>(await Ag("/route-hcf-mappings",{method:"POST",body:JSON.stringify(r)})).data,getRouteHcfMappingById:async r=>(await Ag(`/route-hcf-mappings/${r}`,{method:"GET"})).data,getAllRouteHcfMappings:async(r,t,n,a=!1)=>{let s="/route-hcf-mappings";const i=new URLSearchParams;return r&&i.append("routeId",r),t&&i.append("hcfId",t),n&&i.append("companyId",n),a&&i.append("activeOnly","true"),i.toString()&&(s+=`?${i.toString()}`),(await Ag(s,{method:"GET"})).data},updateRouteHcfMapping:async(r,t)=>(await Ag(`/route-hcf-mappings/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,deleteRouteHcfMapping:async r=>{await Ag(`/route-hcf-mappings/${r}`,{method:"DELETE"})}},$te=()=>{const{logout:r,permissions:t}=Yn(),n=jn(),a=Cc(Array.isArray(t)?t:[],"ROUTE_HCF_CREATE"),[s,i]=C.useState(""),[c,o]=C.useState(!1),[d,l]=C.useState(null),[u,h]=C.useState(!1),[f,A]=C.useState(null),[g,m]=C.useState(null),[x,y]=C.useState(!1),[j,b]=C.useState(!1),[S,w]=C.useState({routeCode:"",hcfCode:"",companyName:""}),[E,I]=C.useState("all"),L=()=>{y(!x)},[J,ae]=C.useState([]),[G,le]=C.useState([]),[V,me]=C.useState([]),[$,ee]=C.useState([]),we=C.useCallback(async()=>{try{const he=(await ha.getAllCompanies(!0)).map(X=>({id:X.id,companyCode:X.companyCode,companyName:X.companyName,status:X.status}));ae(he)}catch(re){console.error("Error loading companies:",re)}},[]),R=C.useCallback(async()=>{try{const re=await oA.getAllRoutes(!0),he=await Promise.all(re.map(async X=>{const Ae=J.find(Be=>Be.id===X.companyId);return{id:X.id,routeCode:X.routeCode,routeName:X.routeName,companyName:(Ae==null?void 0:Ae.companyName)||"Unknown",status:X.status}}));le(he)}catch(re){console.error("Error loading routes:",re)}},[J]),q=C.useCallback(async()=>{try{const re=await Mi.getAllHcfs(void 0,!0),he=await Promise.all(re.map(async X=>{const Ae=J.find(Be=>Be.id===X.companyId);return{id:X.id,hcfCode:X.hcfCode,hcfName:X.hcfName,companyName:(Ae==null?void 0:Ae.companyName)||"Unknown",status:X.status}}));me(he)}catch(re){console.error("Error loading HCFs:",re)}},[J]),ie=C.useCallback(async()=>{h(!0),A(null);try{const he=(await Kg.getAllRouteHcfMappings(void 0,void 0,void 0,!0)).map(X=>{const Ae=G.find($e=>$e.id===X.routeId),Be=V.find($e=>$e.id===X.hcfId),Me=J.find($e=>$e.id===X.companyId);return{id:X.id,routeId:X.routeId,routeCode:(Ae==null?void 0:Ae.routeCode)||"",routeName:(Ae==null?void 0:Ae.routeName)||"",hcfId:X.hcfId,hcfCode:(Be==null?void 0:Be.hcfCode)||"",hcfName:(Be==null?void 0:Be.hcfName)||"",companyId:X.companyId,companyName:(Me==null?void 0:Me.companyName)||"Unknown",sequenceOrder:X.sequenceOrder,status:X.status,createdBy:X.createdBy,createdOn:X.createdOn,modifiedBy:X.modifiedBy,modifiedOn:X.modifiedOn}});ee(he)}catch(re){const he=re instanceof Error?re.message:"Failed to load mappings";A(he),console.error("Error loading mappings:",re)}finally{h(!1)}},[G,V,J]);C.useEffect(()=>{(async()=>{await we()})()},[we]),C.useEffect(()=>{J.length>0&&(R(),q())},[J,R,q]),C.useEffect(()=>{G.length>0&&V.length>0&&J.length>0&&ie()},[G,V,J,ie]);const Z=$.filter(re=>{var rt,et;const he=s.trim().toLowerCase(),X=S.routeCode.trim().toLowerCase(),Ae=S.hcfCode.trim().toLowerCase(),Be=S.companyName.trim().toLowerCase(),Me=!he||re.routeCode.toLowerCase().includes(he)||re.hcfCode.toLowerCase().includes(he)||re.companyName.toLowerCase().includes(he)||((rt=G.find(Le=>Le.routeCode===re.routeCode))==null?void 0:rt.routeName.toLowerCase().includes(he))||((et=V.find(Le=>Le.hcfCode===re.hcfCode))==null?void 0:et.hcfName.toLowerCase().includes(he)),$e=!X||re.routeCode.toLowerCase().includes(X),ne=!Ae||re.hcfCode.toLowerCase().includes(Ae),Pe=!Be||re.companyName.toLowerCase().includes(Be),_e=E==="all"||re.status===E;return Me&&$e&&ne&&Pe&&_e}),D=()=>{l(null),o(!0)},ue=re=>{l(re),o(!0)},te=async re=>{if(window.confirm("Are you sure you want to delete this Route-HCF mapping?"))try{h(!0),A(null),await Kg.deleteRouteHcfMapping(re),m("Mapping deleted successfully"),await ie(),setTimeout(()=>{m(null)},3e3)}catch(he){let X="Failed to delete mapping";he instanceof Error&&(X=he.message,X.includes("not found")?X="This mapping could not be found. It may have already been deleted.":(X.includes("permission")||X.includes("unauthorized"))&&(X="You do not have permission to delete this mapping.")),A(X),console.error("Error deleting mapping:",he)}finally{h(!1)}},ye=(re,he,X)=>{let Ae="Failed to save mapping";return re instanceof Error&&(Ae=re.message,Ae.includes("already exists")||Ae.includes("mapping between")?he&&X?Ae=`This mapping already exists: Route "${he.routeCode} - ${he.routeName}" and HCF "${X.hcfCode} - ${X.hcfName}" are already mapped together. Each route-HCF combination can only be mapped once.`:Ae="This mapping already exists. Each route-HCF combination can only be mapped once.":Ae.includes("not found")?Ae="One or more selected items (Route, HCF, or Company) could not be found. Please refresh and try again.":Ae.includes("invalid")?Ae="Invalid data provided. Please check your inputs and try again.":Ae.includes("required")?Ae="Please fill in all required fields.":Ae.includes("permission")||Ae.includes("unauthorized")?Ae="You do not have permission to perform this action.":Ae.includes("HTTP 409")||Ae.includes("Conflict")?Ae="A conflict occurred. This mapping may already exist.":Ae.includes("HTTP 400")||Ae.includes("Bad Request")?Ae="Invalid request. Please check your inputs and try again.":(Ae.includes("HTTP 500")||Ae.includes("Internal Server Error"))&&(Ae="An internal server error occurred. Please try again later or contact support.")),Ae},pe=async re=>{try{h(!0),A(null);const he=J.find(Be=>Be.companyName===re.companyName);if(!he){A("Please select a valid company");return}const X=G.find(Be=>Be.routeCode===re.routeCode&&Be.companyName===re.companyName);if(!X){A("Please select a valid route");return}const Ae=V.find(Be=>Be.hcfCode===re.hcfCode&&Be.companyName===re.companyName);if(!Ae){A("Please select a valid HCF");return}d?(await Kg.updateRouteHcfMapping(d.id,{sequenceOrder:re.sequenceOrder,status:re.status}),A(null),m("Mapping updated successfully"),o(!1),l(null),await ie(),setTimeout(()=>{m(null)},3e3)):(await Kg.createRouteHcfMapping({routeId:X.id,hcfId:Ae.id,companyId:he.id,sequenceOrder:re.sequenceOrder}),A(null),m("Mapping created successfully"),o(!1),l(null),await ie(),setTimeout(()=>{m(null)},3e3))}catch(he){const X=G.find(Me=>Me.routeCode===re.routeCode&&Me.companyName===re.companyName),Ae=V.find(Me=>Me.hcfCode===re.hcfCode&&Me.companyName===re.companyName),Be=ye(he,X,Ae);A(Be),console.error("Error saving mapping:",he)}finally{h(!1)}},je=xs(t,n.pathname);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${x?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!x&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:L,"aria-label":x?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:x?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:je.map(re=>e.jsx("li",{children:e.jsxs(Hr,{to:re.path,className:`nav-link ${re.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:re.icon}),!x&&e.jsx("span",{className:"nav-label",children:re.label})]})},re.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Hr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!x&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!x&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(_a,{title:"Route-HCF Mapping",subtitle:"Map routes to healthcare facilities"}),g&&e.jsxs("div",{style:{padding:"12px 16px",background:"#d4edda",color:"#155724",marginBottom:"16px",borderRadius:"4px",border:"1px solid #c3e6cb",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx("span",{children:g}),e.jsx("button",{onClick:()=>m(null),style:{background:"none",border:"none",color:"#155724",cursor:"pointer",fontSize:"18px",padding:"0 8px",lineHeight:"1"},"aria-label":"Close success message",children:""})]}),f&&e.jsxs("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{children:f}),e.jsx("button",{onClick:()=>A(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px"},children:""})]}),u&&!$.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#666"},children:"Loading mappings..."}),e.jsxs("div",{className:"route-hcf-mapping-page",children:[e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),e.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),e.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"Route-HCF Mapping"}),e.jsx("p",{className:"ra-page-subtitle",children:"Manage route and HCF mapping information"})]})]}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",placeholder:"Search by route code, HCF code, company...",value:s,onChange:re=>i(re.target.value),className:"ra-search-input"})]}),e.jsxs("div",{className:"ra-actions",children:[e.jsxs("button",{className:"ra-filter-btn",onClick:()=>b(!0),children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),a&&e.jsxs("button",{className:"ra-add-btn",onClick:D,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Mapping"]})]})]}),e.jsx("div",{className:"route-hcf-mapping-table-container",children:e.jsxs("table",{className:"route-hcf-mapping-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"COMPANY NAME"}),e.jsx("th",{children:"ROUTE CODE"}),e.jsx("th",{children:"HCF CODE"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:Z.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"empty-message",children:u?"Loading...":"No mapping records found"})}):Z.map(re=>e.jsxs("tr",{children:[e.jsx("td",{children:re.companyName||"-"}),e.jsx("td",{children:re.routeCode?`${re.routeCode} - ${re.routeName}`:"-"}),e.jsx("td",{children:re.hcfCode?`${re.hcfCode} - ${re.hcfName}`:"-"}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge status-badge--${re.status.toLowerCase()}`,children:re.status})})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons ra-actions",children:[e.jsx("button",{className:"action-btn action-btn--view",onClick:()=>ue(re),title:"View",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>ue(re),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>te(re.id),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},re.id))})]})}),e.jsxs("div",{className:"cm-pagination-info",children:["Showing ",Z.length," of ",$.length," items"]})]})]}),j&&e.jsx(Vte,{statusFilter:E,advancedFilters:S,onClose:()=>b(!1),onClear:()=>{w({routeCode:"",hcfCode:"",companyName:""}),I("all"),i("")},onApply:re=>{I(re.statusFilter),w(re.advancedFilters),b(!1)}}),c&&e.jsx(zte,{mapping:d,companies:J.filter(re=>re.status==="Active"),routes:G.filter(re=>re.status==="Active"),hcfs:V.filter(re=>re.status==="Active"),onClose:()=>{o(!1),l(null)},onSave:pe})]})},Vte=({statusFilter:r,advancedFilters:t,onClose:n,onClear:a,onApply:s})=>{const[i,c]=C.useState(r),[o,d]=C.useState(t);return e.jsx("div",{className:"modal-overlay cm-filter-modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content cm-filter-modal",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"cm-filter-modal-header",children:[e.jsxs("div",{className:"cm-filter-modal-titlewrap",children:[e.jsx("div",{className:"cm-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"cm-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"cm-filter-subtitle",children:"Filter mappings by multiple criteria"})]})]}),e.jsx("button",{className:"cm-filter-close",onClick:n,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"cm-filter-modal-body",children:e.jsxs("div",{className:"cm-filter-grid",children:[e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Route Code"}),e.jsx("input",{type:"text",value:o.routeCode,onChange:l=>d({...o,routeCode:l.target.value}),className:"cm-filter-input",placeholder:"Enter route code"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"HCF Code"}),e.jsx("input",{type:"text",value:o.hcfCode,onChange:l=>d({...o,hcfCode:l.target.value}),className:"cm-filter-input",placeholder:"Enter HCF code"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Company Name"}),e.jsx("input",{type:"text",value:o.companyName,onChange:l=>d({...o,companyName:l.target.value}),className:"cm-filter-input",placeholder:"Enter company name"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:i,onChange:l=>c(l.target.value),className:"cm-filter-select",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"cm-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"cm-link-btn",onClick:()=>{c("all"),d({routeCode:"",hcfCode:"",companyName:""}),a()},children:"Clear Filters"}),e.jsx("button",{type:"button",className:"cm-btn cm-btn--primary cm-btn--sm",onClick:()=>s({statusFilter:i,advancedFilters:o}),children:"Apply Filters"})]})]})})},zte=({mapping:r,companies:t,routes:n,hcfs:a,onClose:s,onSave:i})=>{const[c,o]=C.useState(r||{companyName:"",routeCode:"",hcfCode:"",status:"Active"}),d=c.companyName?n.filter(h=>h.companyName===c.companyName):n,l=c.companyName?a.filter(h=>h.companyName===c.companyName):a,u=h=>{h.preventDefault(),i(c)};return e.jsx("div",{className:"modal-overlay",onClick:s,children:e.jsxs("div",{className:"modal-content",onClick:h=>h.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:r?"Edit Mapping":"Add Mapping"}),e.jsx("button",{className:"modal-close-btn",onClick:s,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"mapping-form",onSubmit:u,children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Mapping Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company Name *"}),e.jsxs("select",{value:c.companyName||"",onChange:h=>{o({...c,companyName:h.target.value,routeCode:"",hcfCode:""})},required:!0,children:[e.jsx("option",{value:"",children:"Select Company"}),t.map(h=>e.jsx("option",{value:h.companyName,children:h.companyName},h.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Route Code *"}),e.jsxs("select",{value:c.routeCode||"",onChange:h=>o({...c,routeCode:h.target.value}),required:!0,disabled:!c.companyName,children:[e.jsx("option",{value:"",children:"Select Route"}),d.map(h=>e.jsxs("option",{value:h.routeCode,children:[h.routeCode," - ",h.routeName]},h.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"HCF Code *"}),e.jsxs("select",{value:c.hcfCode||"",onChange:h=>o({...c,hcfCode:h.target.value}),required:!0,disabled:!c.companyName,children:[e.jsx("option",{value:"",children:"Select HCF"}),l.map(h=>e.jsxs("option",{value:h.hcfCode,children:[h.hcfCode," - ",h.hcfName]},h.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:c.status||"Active",onChange:h=>o({...c,status:h.target.value}),children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:s,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},Kte=()=>{const{logout:r,permissions:t}=Yn(),n=jn(),a=Cc(Array.isArray(t)?t:[],"FREQUENCY_CREATE"),[s,i]=C.useState(""),[c,o]=C.useState(!1),[d,l]=C.useState(null),[u,h]=C.useState([]),[f,A]=C.useState([]),[g,m]=C.useState(!1),[x,y]=C.useState(null),[j,b]=C.useState(!1),[S,w]=C.useState(!1),[E,I]=C.useState({frequencyCode:"",frequencyName:"",companyName:""}),[L,J]=C.useState("all"),ae=()=>{b(!j)},G=async()=>{try{const ie=(await ha.getAllCompanies(!0)).map(Z=>({id:Z.id,companyCode:Z.companyCode,companyName:Z.companyName,status:Z.status}));A(ie)}catch(q){console.error("Error loading companies:",q)}},le=async()=>{m(!0),y(null);try{const ie=(await Kp.getAllFrequencies(void 0,!0)).map(Z=>{const D=f.find(ue=>ue.id===Z.companyId);return{id:Z.id,frequencyCode:Z.frequencyCode,frequencyName:Z.frequencyName,companyName:(D==null?void 0:D.companyName)||"Unknown Company",status:Z.status,createdBy:Z.createdBy||"",createdOn:Z.createdOn,modifiedBy:Z.modifiedBy||"",modifiedOn:Z.modifiedOn}});h(ie)}catch(q){const ie=q instanceof Error?q.message:"Failed to load frequencies";y(ie),console.error("Error loading frequencies:",q),h([])}finally{m(!1)}};C.useEffect(()=>{(async()=>{await G()})()},[]),C.useEffect(()=>{f.length>0&&le()},[f.length]);const V=u.filter(q=>{const ie=s.trim().toLowerCase(),Z=E.frequencyCode.trim().toLowerCase(),D=E.frequencyName.trim().toLowerCase(),ue=E.companyName.trim().toLowerCase(),te=!ie||q.companyName.toLowerCase().includes(ie)||q.frequencyCode.toLowerCase().includes(ie)||q.frequencyName.toLowerCase().includes(ie),ye=!Z||q.frequencyCode.toLowerCase().includes(Z),pe=!D||q.frequencyName.toLowerCase().includes(D),je=!ue||q.companyName.toLowerCase().includes(ue),re=L==="all"||q.status===L;return te&&ye&&pe&&je&&re}),me=()=>{l(null),o(!0)},$=q=>{l(q),o(!0)},ee=async q=>{if(window.confirm("Are you sure you want to delete this frequency?"))try{m(!0),await Kp.deleteFrequency(q),await le(),alert("Frequency deleted successfully")}catch(ie){const Z=ie instanceof Error?ie.message:"Failed to delete frequency";alert(`Error: ${Z}`),console.error("Error deleting frequency:",ie)}finally{m(!1)}},we=async q=>{try{m(!0),y(null);const ie=f.find(Z=>Z.companyName===q.companyName);if(!ie){alert("Please select a valid company");return}if(d)await Kp.updateFrequency(d.id,{status:q.status}),alert("Frequency updated successfully");else{if(!q.frequencyCode||!q.frequencyName||!q.companyName){alert("Please fill in all required fields");return}await Kp.createFrequency({frequencyCode:q.frequencyCode,frequencyName:q.frequencyName,companyId:ie.id}),alert("Frequency created successfully")}o(!1),l(null),await le()}catch(ie){const Z=ie instanceof Error?ie.message:"Failed to save frequency";y(Z),alert(`Error: ${Z}`),console.error("Error saving frequency:",ie)}finally{m(!1)}},R=xs(t,n.pathname);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${j?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!j&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:ae,"aria-label":j?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:j?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:R.map(q=>e.jsx("li",{children:e.jsxs(Hr,{to:q.path,className:`nav-link ${q.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:q.icon}),!j&&e.jsx("span",{className:"nav-label",children:q.label})]})},q.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Hr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!j&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!j&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(_a,{title:"Frequency Master",subtitle:"Manage frequency master data"}),x&&e.jsxs("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{children:x}),e.jsx("button",{onClick:()=>y(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px"},children:""})]}),g&&!u.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#666"},children:"Loading frequencies..."}),e.jsxs("div",{className:"frequency-master-page",children:[e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"Frequency Master"}),e.jsx("p",{className:"ra-page-subtitle",children:"Manage frequency information and details"})]})]}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",placeholder:"Search by frequency code, name, company...",value:s,onChange:q=>i(q.target.value),className:"ra-search-input"})]}),e.jsxs("div",{className:"ra-actions",children:[e.jsxs("button",{className:"ra-filter-btn",onClick:()=>w(!0),children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),a&&e.jsxs("button",{className:"ra-add-btn",onClick:me,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Frequency"]})]})]}),e.jsx("div",{className:"frequency-master-table-container",children:e.jsxs("table",{className:"frequency-master-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"COMPANY NAME"}),e.jsx("th",{children:"FREQUENCY CODE"}),e.jsx("th",{children:"FREQUENCY NAME"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:V.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"empty-message",children:g?"Loading...":"No frequency records found"})}):V.map(q=>e.jsxs("tr",{children:[e.jsx("td",{children:q.companyName||"-"}),e.jsx("td",{children:q.frequencyCode||"-"}),e.jsx("td",{children:q.frequencyName||"-"}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge status-badge--${q.status.toLowerCase()}`,children:q.status})})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons ra-actions",children:[e.jsx("button",{className:"action-btn action-btn--view",onClick:()=>$(q),title:"View",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>$(q),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>ee(q.id),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},q.id))})]})}),e.jsxs("div",{className:"cm-pagination-info",children:["Showing ",V.length," of ",u.length," items"]})]})]}),S&&e.jsx(Gte,{statusFilter:L,advancedFilters:E,onClose:()=>w(!1),onClear:()=>{I({frequencyCode:"",frequencyName:"",companyName:""}),J("all"),i("")},onApply:q=>{J(q.statusFilter),I(q.advancedFilters),w(!1)}}),c&&e.jsx(qte,{frequency:d,companies:f.filter(q=>q.status==="Active"),onClose:()=>{o(!1),l(null)},onSave:we})]})},Gte=({statusFilter:r,advancedFilters:t,onClose:n,onClear:a,onApply:s})=>{const[i,c]=C.useState(r),[o,d]=C.useState(t);return e.jsx("div",{className:"modal-overlay cm-filter-modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content cm-filter-modal",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"cm-filter-modal-header",children:[e.jsxs("div",{className:"cm-filter-modal-titlewrap",children:[e.jsx("div",{className:"cm-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"cm-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"cm-filter-subtitle",children:"Filter frequencies by multiple criteria"})]})]}),e.jsx("button",{className:"cm-filter-close",onClick:n,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"cm-filter-modal-body",children:e.jsxs("div",{className:"cm-filter-grid",children:[e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Frequency Code"}),e.jsx("input",{type:"text",value:o.frequencyCode,onChange:l=>d({...o,frequencyCode:l.target.value}),className:"cm-filter-input",placeholder:"Enter frequency code"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Frequency Name"}),e.jsx("input",{type:"text",value:o.frequencyName,onChange:l=>d({...o,frequencyName:l.target.value}),className:"cm-filter-input",placeholder:"Enter frequency name"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Company Name"}),e.jsx("input",{type:"text",value:o.companyName,onChange:l=>d({...o,companyName:l.target.value}),className:"cm-filter-input",placeholder:"Enter company name"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:i,onChange:l=>c(l.target.value),className:"cm-filter-select",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"cm-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"cm-link-btn",onClick:()=>{c("all"),d({frequencyCode:"",frequencyName:"",companyName:""}),a()},children:"Clear Filters"}),e.jsx("button",{type:"button",className:"cm-btn cm-btn--primary cm-btn--sm",onClick:()=>s({statusFilter:i,advancedFilters:o}),children:"Apply Filters"})]})]})})},qte=({frequency:r,companies:t,onClose:n,onSave:a})=>{const[s,i]=C.useState(r||{companyName:"",frequencyCode:"",frequencyName:"",status:"Active"}),c=o=>{o.preventDefault(),a(s)};return e.jsx("div",{className:"modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content",onClick:o=>o.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:r?"Edit Frequency":"Add Frequency"}),e.jsx("button",{className:"modal-close-btn",onClick:n,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"frequency-form",onSubmit:c,children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Basic Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company Name *"}),e.jsxs("select",{value:s.companyName||"",onChange:o=>i({...s,companyName:o.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{},children:[e.jsx("option",{value:"",children:"Select Company"}),t.map(o=>e.jsx("option",{value:o.companyName,children:o.companyName},o.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Frequency Code *"}),e.jsx("input",{type:"text",value:s.frequencyCode||"",onChange:o=>i({...s,frequencyCode:o.target.value}),required:!0,placeholder:"Enter Frequency Code",disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Frequency Name *"}),e.jsx("input",{type:"text",value:s.frequencyName||"",onChange:o=>i({...s,frequencyName:o.target.value}),required:!0,placeholder:"Enter Frequency Name",disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:s.status||"Active",onChange:o=>i({...s,status:o.target.value}),children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},Xte="http://localhost:3000/api/v1",Yte=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},pg=async(r,t={})=>{const n=Yte(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${Xte}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const c=await s.json();c.message?Array.isArray(c.message)?i=c.message.join(", "):typeof c.message=="string"?i=c.message:i=String(c.message):c.error&&(typeof c.error=="string"?i=c.error:c.error.message?i=typeof c.error.message=="string"?c.error.message:String(c.error.message):i=JSON.stringify(c.error));const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o.errorData=c,o}catch{const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o}}return s.status===204?{}:s.json()},mg={createRouteAssignment:async r=>(await pg("/route-assignments",{method:"POST",body:JSON.stringify(r)})).data,getRouteAssignmentById:async r=>(await pg(`/route-assignments/${r}`,{method:"GET"})).data,getAllRouteAssignments:async(r,t,n)=>{let a="/route-assignments";const s=new URLSearchParams;return r&&s.append("companyId",r),t&&s.append("date",t),n&&s.append("status",n),s.toString()&&(a+=`?${s.toString()}`),(await pg(a,{method:"GET"})).data},updateRouteAssignment:async(r,t)=>(await pg(`/route-assignments/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,deleteRouteAssignment:async r=>{await pg(`/route-assignments/${r}`,{method:"DELETE"})}},Jte=()=>{const{logout:r,permissions:t}=Yn(),n=jn(),[a,s]=C.useState(""),[i,c]=C.useState(new Date().toISOString().split("T")[0]),[o,d]=C.useState("all"),[l,u]=C.useState(!1),[h,f]=C.useState(!1),[A,g]=C.useState(null),[m,x]=C.useState(!1),[y,j]=C.useState(null),[b,S]=C.useState(null),[w,E]=C.useState({route:"",vehicle:"",driver:"",picker:"",supervisor:""}),[I,L]=C.useState([]),[J,ae]=C.useState([]),[G,le]=C.useState([]),[V,me]=C.useState([]),[$,ee]=C.useState([]),[we,R]=C.useState([]),[q,ie]=C.useState([]),Z=C.useCallback(async()=>{try{const Pe=(await ha.getAllCompanies(!0)).map(_e=>({id:_e.id,companyCode:_e.companyCode,companyName:_e.companyName,status:_e.status}));L(Pe)}catch(ne){console.error("Error loading companies:",ne)}},[]),D=C.useCallback(async ne=>{try{const _e=(await oA.getAllRoutes(!0)).map(rt=>({id:rt.id,routeCode:rt.routeCode,routeName:rt.routeName,companyId:rt.companyId,status:rt.status}));ae(ne?_e.filter(rt=>rt.companyId===ne):_e)}catch(Pe){console.error("Error loading routes:",Pe)}},[]),ue=C.useCallback(async ne=>{try{const _e=(await Fh.getAllFleets(ne,!0)).map(rt=>({id:rt.id,vehicleNum:rt.vehicleNum,companyId:rt.companyId,status:rt.status}));le(_e)}catch(Pe){console.error("Error loading vehicles:",Pe)}},[]),te=C.useCallback(async ne=>{if(!ne){me([]),ee([]),R([]);return}try{const rt=(await Hc.getUsersByCompany(ne)).map(et=>({id:et.userId,userName:et.userName,employeeCode:et.employeeCode,companyId:et.companyId,status:et.status})).filter(et=>et.status==="Active");me(rt),ee(rt),R(rt)}catch(Pe){console.error("Error loading users:",Pe),me([]),ee([]),R([])}},[]),ye=C.useCallback(async()=>{x(!0),j(null);try{const ne=await mg.getAllRouteAssignments(void 0,i,o!=="all"?o:void 0),Pe=await Promise.all(ne.map(async _e=>{const rt=J.find(St=>St.id===_e.routeId),et=G.find(St=>St.id===_e.vehicleId),Le=V.find(St=>St.id===_e.driverId),it=_e.pickerId?$.find(St=>St.id===_e.pickerId):null,Wt=_e.supervisorId?we.find(St=>St.id===_e.supervisorId):null,qe=I.find(St=>St.id===_e.companyId);return{id:_e.id,assignmentDate:_e.assignmentDate,routeId:_e.routeId,routeCode:(rt==null?void 0:rt.routeCode)||"",routeName:(rt==null?void 0:rt.routeName)||"",vehicleId:_e.vehicleId,vehicleNum:(et==null?void 0:et.vehicleNum)||"",driverId:_e.driverId,driverName:(Le==null?void 0:Le.userName)||"",pickerId:_e.pickerId,pickerName:it==null?void 0:it.userName,supervisorId:_e.supervisorId,supervisorName:Wt==null?void 0:Wt.userName,companyId:_e.companyId,companyName:(qe==null?void 0:qe.companyName)||"Unknown",status:_e.status,notes:_e.notes,createdBy:_e.createdBy,createdOn:_e.createdOn,modifiedBy:_e.modifiedBy,modifiedOn:_e.modifiedOn}}));ie(Pe)}catch(ne){const Pe=ne instanceof Error?ne.message:"Failed to load assignments";j(Pe),console.error("Error loading assignments:",ne)}finally{x(!1)}},[i,o,J,G,V,$,we,I]);C.useEffect(()=>{(async()=>{await Z()})()},[Z]),C.useEffect(()=>{I.length>0&&(D(),ue())},[I,D,ue]),C.useEffect(()=>{J.length>0&&G.length>0&&ye()},[i,o,J,G,V,$,we,I,ye]);const pe=C.useMemo(()=>{const ne=a.trim().toLowerCase(),Pe=w.route.trim().toLowerCase(),_e=w.vehicle.trim().toLowerCase(),rt=w.driver.trim().toLowerCase(),et=w.picker.trim().toLowerCase(),Le=w.supervisor.trim().toLowerCase();return q.filter(it=>{var Xt,Yr;const Wt=!ne||it.routeCode.toLowerCase().includes(ne)||it.routeName.toLowerCase().includes(ne)||it.vehicleNum.toLowerCase().includes(ne)||it.driverName.toLowerCase().includes(ne)||((Xt=it.pickerName)==null?void 0:Xt.toLowerCase().includes(ne))||((Yr=it.supervisorName)==null?void 0:Yr.toLowerCase().includes(ne))||it.companyName.toLowerCase().includes(ne),qe=!Pe||it.routeCode.toLowerCase().includes(Pe)||it.routeName.toLowerCase().includes(Pe),St=!_e||it.vehicleNum.toLowerCase().includes(_e),_t=!rt||it.driverName.toLowerCase().includes(rt),ar=!et||(it.pickerName||"-").toLowerCase().includes(et),en=!Le||(it.supervisorName||"-").toLowerCase().includes(Le);return Wt&&qe&&St&&_t&&ar&&en})},[q,a,w]),je=()=>{g(null),u(!0)},re=ne=>{if(ne.status==="In Progress"||ne.status==="Completed"){j("Cannot edit assignments that are In Progress or Completed");return}g(ne),u(!0)},he=async ne=>{if(window.confirm("Are you sure you want to delete this route assignment?"))try{x(!0),j(null),await mg.deleteRouteAssignment(ne),S("Assignment deleted successfully"),await ye(),setTimeout(()=>S(null),3e3)}catch(Pe){const _e=Pe instanceof Error?Pe.message:"Failed to delete assignment";j(_e),console.error("Error deleting assignment:",Pe)}finally{x(!1)}},X=async ne=>{try{if(x(!0),j(null),A)await mg.updateRouteAssignment(A.id,{status:ne.status,pickerId:ne.pickerId,supervisorId:ne.supervisorId,notes:ne.notes}),S("Assignment updated successfully");else{const Pe=I.find(_e=>_e.id===ne.companyId);if(!Pe){j("Please select a valid company");return}await mg.createRouteAssignment({assignmentDate:i,routeId:ne.routeId,vehicleId:ne.vehicleId,driverId:ne.driverId,pickerId:ne.pickerId,supervisorId:ne.supervisorId,companyId:Pe.id,status:ne.status||"Draft",notes:ne.notes}),S("Assignment created successfully")}u(!1),g(null),await ye(),setTimeout(()=>S(null),3e3)}catch(Pe){const _e=Pe instanceof Error?Pe.message:"Failed to save assignment";j(_e),console.error("Error saving assignment:",Pe)}finally{x(!1)}},Ae=async(ne,Pe)=>{try{x(!0),j(null),await mg.updateRouteAssignment(ne.id,{status:Pe}),S(`Assignment status changed to ${Pe}`),await ye(),setTimeout(()=>S(null),3e3)}catch(_e){const rt=_e instanceof Error?_e.message:"Failed to update status";j(rt),console.error("Error updating status:",_e)}finally{x(!1)}},Be=ne=>{switch(ne){case"Draft":return"status-badge--draft";case"Assigned":return"status-badge--assigned";case"In Progress":return"status-badge--in-progress";case"Completed":return"status-badge--completed";default:return""}},Me=ne=>ne.status==="Draft"||ne.status==="Assigned",$e=xs(t,n.pathname);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:"dashboard-sidebar",children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:$e.map(ne=>e.jsx("li",{children:e.jsxs(Hr,{to:ne.path,className:`nav-link ${ne.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:ne.icon}),e.jsx("span",{className:"nav-label",children:ne.label})]})},ne.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Hr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(_a,{title:"Route Assignment",subtitle:"Manage and assign routes to vehicles and drivers"}),b&&e.jsxs("div",{className:"ra-alert ra-alert--success",role:"status","aria-live":"polite",children:[e.jsx("span",{children:b}),e.jsx("button",{onClick:()=>S(null),className:"ra-alert-close","aria-label":"Close success message",children:""})]}),y&&e.jsxs("div",{className:"ra-alert ra-alert--error",role:"alert",children:[e.jsx("span",{children:y}),e.jsx("button",{onClick:()=>j(null),className:"ra-alert-close","aria-label":"Close error message",children:""})]}),m&&!q.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading assignments..."}),e.jsxs("div",{className:"route-assignment-page",children:[e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),e.jsx("circle",{cx:"12",cy:"10",r:"3"})]})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"Route Assignment"}),e.jsx("p",{className:"ra-page-subtitle",children:"Manage and assign routes to vehicles and drivers"})]})]}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",placeholder:"Search by route, vehicle, driver...",value:a,onChange:ne=>s(ne.target.value),className:"ra-search-input"})]}),e.jsxs("div",{className:"ra-actions",children:[e.jsxs("button",{className:"ra-filter-btn",onClick:()=>f(!0),children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),e.jsxs("button",{className:"ra-add-btn",onClick:je,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Assignment"]})]})]}),e.jsx("div",{className:"route-assignment-table-container",children:e.jsxs("table",{className:"route-assignment-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"DATE"}),e.jsx("th",{children:"ROUTE"}),e.jsx("th",{children:"VEHICLE"}),e.jsx("th",{children:"DRIVER"}),e.jsx("th",{children:"PICKER"}),e.jsx("th",{children:"SUPERVISOR"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:pe.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"empty-message",children:m?"Loading...":"No assignments found for the selected date"})}):pe.map(ne=>{const Pe=_e=>{const rt=new Date(_e),et=String(rt.getDate()).padStart(2,"0"),Le=String(rt.getMonth()+1).padStart(2,"0"),it=rt.getFullYear();return`${et}/${Le}/${it}`};return e.jsxs("tr",{className:Me(ne)?"":"read-only-row",children:[e.jsx("td",{children:Pe(ne.assignmentDate)}),e.jsx("td",{children:e.jsxs("div",{className:"route-info route-info--single",title:`${ne.routeCode} - ${ne.routeName}`,children:[e.jsx("span",{className:"route-code",children:ne.routeCode}),e.jsx("span",{className:"route-sep",children:" - "}),e.jsx("span",{className:"route-name",children:ne.routeName})]})}),e.jsx("td",{children:ne.vehicleNum}),e.jsx("td",{children:ne.driverName}),e.jsx("td",{children:ne.pickerName?ne.pickerName:e.jsx("span",{className:"text-muted",children:"Not assigned"})}),e.jsx("td",{children:ne.supervisorName?ne.supervisorName:e.jsx("span",{className:"text-muted",children:"Not assigned"})}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge ${Be(ne.status)}`,children:ne.status})})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons ra-actions",children:[Me(ne)&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"action-btn action-btn--view",onClick:()=>re(ne),title:"View",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>re(ne),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>he(ne.id),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]}),ne.status==="Assigned"&&e.jsx("button",{className:"action-btn action-btn--start",onClick:()=>Ae(ne,"In Progress"),title:"Start Route",children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})})}),ne.status==="In Progress"&&e.jsx("button",{className:"action-btn action-btn--complete",onClick:()=>Ae(ne,"Completed"),title:"Complete Route",children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"20 6 9 17 4 12"})})}),!Me(ne)&&e.jsx("button",{className:"action-btn action-btn--view",onClick:()=>re(ne),title:"View (Read-only)",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})})]},ne.id)})})]})}),e.jsxs("div",{className:"route-assignment-pagination-info",children:["Showing ",pe.length," of ",q.length," items"]})]})]}),h&&e.jsx(ere,{selectedDate:i,statusFilter:o,advancedFilters:w,onClose:()=>f(!1),onClear:()=>{E({route:"",vehicle:"",driver:"",picker:"",supervisor:""}),d("all"),s("")},onApply:ne=>{c(ne.selectedDate),d(ne.statusFilter),E(ne.advancedFilters),f(!1)}}),l&&e.jsx(Zte,{assignment:A,companies:I.filter(ne=>ne.status==="Active"),routes:J.filter(ne=>ne.status==="Active"),vehicles:G.filter(ne=>ne.status==="Active"),drivers:V,pickers:$,supervisors:we,selectedDate:i,onLoadUsers:te,onClose:()=>{u(!1),g(null)},onSave:X})]})},Zte=({assignment:r,companies:t,routes:n,vehicles:a,drivers:s,pickers:i,supervisors:c,selectedDate:o,onLoadUsers:d,onClose:l,onSave:u})=>{const[h,f]=C.useState(r||{companyId:"",routeId:"",vehicleId:"",driverId:"",pickerId:null,supervisorId:null,status:"Draft",notes:null}),A=!!r&&(r.status==="In Progress"||r.status==="Completed");C.useEffect(()=>{h.companyId&&!r&&d(h.companyId)},[h.companyId,r,d]);const g=h.companyId?n.filter(S=>S.companyId===h.companyId):n,m=h.companyId?a.filter(S=>S.companyId===h.companyId):a,x=h.companyId?s.filter(S=>S.companyId===h.companyId):s,y=h.companyId?i.filter(S=>S.companyId===h.companyId):i,j=h.companyId?c.filter(S=>S.companyId===h.companyId):c,b=S=>{S.preventDefault(),u(h)};return e.jsx("div",{className:"modal-overlay ra-assignment-modal-overlay",onClick:l,children:e.jsxs("div",{className:"modal-content ra-assignment-modal",onClick:S=>S.stopPropagation(),children:[e.jsxs("div",{className:"ra-assignment-modal-header",children:[e.jsxs("div",{className:"ra-assignment-modal-titlewrap",children:[e.jsx("div",{className:"ra-assignment-icon","aria-hidden":"true",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"}),e.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"})]})}),e.jsxs("div",{children:[e.jsx("h2",{className:"ra-assignment-modal-title",children:r?A?"View Assignment":"Edit Assignment":"Add Assignment"}),e.jsx("p",{className:"ra-assignment-modal-subtitle",children:r?"Update assignment details":"Create a new assignment."})]})]}),e.jsx("button",{className:"ra-assignment-close",onClick:l,"aria-label":"Close",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"ra-assignment-form",onSubmit:b,children:[e.jsxs("div",{className:"ra-assignment-form-grid",children:[e.jsxs("div",{className:"ra-assignment-form-col",children:[e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"company",children:["Company Name ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsxs("select",{id:"company",value:h.companyId||"",onChange:async S=>{const w=S.target.value;f({...h,companyId:w,routeId:"",vehicleId:"",driverId:"",pickerId:null,supervisorId:null}),w&&await d(w)},required:!0,disabled:!!r||A,className:"ra-assignment-select",children:[e.jsx("option",{value:"",children:"Select Company"}),t.map(S=>e.jsx("option",{value:S.id,children:S.companyName},S.id))]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"assignment-date",children:["Date ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"assignment-date",type:"date",value:r?r.assignmentDate:o,disabled:!0,className:"ra-assignment-input",placeholder:"dd-mm-yyyy"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"vehicle",children:["Vehicle ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsxs("select",{id:"vehicle",value:h.vehicleId||"",onChange:S=>f({...h,vehicleId:S.target.value}),required:!0,disabled:!h.companyId||A,className:"ra-assignment-select",children:[e.jsx("option",{value:"",children:"Select Vehicle"}),m.map(S=>e.jsx("option",{value:S.id,children:S.vehicleNum},S.id))]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsx("label",{htmlFor:"picker",children:"Picker"}),e.jsxs("select",{id:"picker",value:h.pickerId||"",onChange:S=>f({...h,pickerId:S.target.value||null}),disabled:!h.companyId||A,className:"ra-assignment-select",children:[e.jsx("option",{value:"",children:"Select Picker (Optional)"}),y.map(S=>e.jsxs("option",{value:S.id,children:[S.userName," ",S.employeeCode?`(${S.employeeCode})`:""]},S.id))]})]})]}),e.jsxs("div",{className:"ra-assignment-form-col",children:[e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"route",children:["Route ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsxs("select",{id:"route",value:h.routeId||"",onChange:S=>f({...h,routeId:S.target.value}),required:!0,disabled:!h.companyId||A,className:"ra-assignment-select",children:[e.jsx("option",{value:"",children:"Select Route"}),g.map(S=>e.jsxs("option",{value:S.id,children:[S.routeCode," - ",S.routeName]},S.id))]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"driver",children:["Driver ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsxs("select",{id:"driver",value:h.driverId||"",onChange:S=>f({...h,driverId:S.target.value}),required:!0,disabled:!h.companyId||A,className:"ra-assignment-select",children:[e.jsx("option",{value:"",children:"Select Driver"}),x.map(S=>e.jsxs("option",{value:S.id,children:[S.userName," ",S.employeeCode?`(${S.employeeCode})`:""]},S.id))]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsx("label",{htmlFor:"supervisor",children:"Supervisor"}),e.jsxs("select",{id:"supervisor",value:h.supervisorId||"",onChange:S=>f({...h,supervisorId:S.target.value||null}),disabled:!h.companyId||A,className:"ra-assignment-select",children:[e.jsx("option",{value:"",children:"Select Supervisor (Optional)"}),j.map(S=>e.jsxs("option",{value:S.id,children:[S.userName," ",S.employeeCode?`(${S.employeeCode})`:""]},S.id))]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsx("label",{htmlFor:"status",children:"Status"}),e.jsxs("select",{id:"status",value:h.status||"Draft",onChange:S=>f({...h,status:S.target.value}),disabled:A,className:"ra-assignment-select",children:[e.jsx("option",{value:"Draft",children:"Draft"}),e.jsx("option",{value:"Assigned",children:"Assigned"}),r&&e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"In Progress",children:"In Progress"}),e.jsx("option",{value:"Completed",children:"Completed"})]})]})]})]})]}),e.jsxs("div",{className:"ra-assignment-modal-footer",children:[e.jsx("button",{type:"button",className:"ra-assignment-btn ra-assignment-btn--cancel",onClick:l,children:"Cancel"}),!A&&e.jsx("button",{type:"submit",className:"ra-assignment-btn ra-assignment-btn--primary",children:r?"Update Assignment":"Create Assignment"})]})]})]})})},ere=({selectedDate:r,statusFilter:t,advancedFilters:n,onClose:a,onClear:s,onApply:i})=>{const[c,o]=C.useState(r),[d,l]=C.useState(t),[u,h]=C.useState(n);return e.jsx("div",{className:"modal-overlay ra-filter-modal-overlay",onClick:a,children:e.jsxs("div",{className:"modal-content ra-filter-modal",onClick:f=>f.stopPropagation(),children:[e.jsxs("div",{className:"ra-filter-modal-header",children:[e.jsxs("div",{className:"ra-filter-modal-titlewrap",children:[e.jsx("div",{className:"ra-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M22 3H2l8 9v7l4 2v-9l8-9z"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"ra-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"ra-filter-subtitle",children:"Filter assignments by multiple criteria"})]})]}),e.jsx("button",{className:"ra-filter-close",onClick:a,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"ra-filter-modal-body",children:e.jsxs("div",{className:"ra-filter-grid",children:[e.jsxs("div",{className:"ra-filter-field ra-filter-field--range",children:[e.jsx("label",{children:"Assignment Date"}),e.jsx("div",{className:"ra-filter-range",children:e.jsx("input",{type:"date",value:c,onChange:f=>o(f.target.value),className:"ra-filter-input"})})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Route"}),e.jsx("input",{type:"text",value:u.route,onChange:f=>h({...u,route:f.target.value}),className:"ra-filter-input",placeholder:"Enter route"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Vehicle"}),e.jsx("input",{type:"text",value:u.vehicle,onChange:f=>h({...u,vehicle:f.target.value}),className:"ra-filter-input",placeholder:"Enter vehicle"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Driver"}),e.jsx("input",{type:"text",value:u.driver,onChange:f=>h({...u,driver:f.target.value}),className:"ra-filter-input",placeholder:"Enter driver name"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Picker"}),e.jsx("input",{type:"text",value:u.picker,onChange:f=>h({...u,picker:f.target.value}),className:"ra-filter-input",placeholder:"Enter picker name"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Supervisor"}),e.jsx("input",{type:"text",value:u.supervisor,onChange:f=>h({...u,supervisor:f.target.value}),className:"ra-filter-input",placeholder:"Enter supervisor name"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:d,onChange:f=>l(f.target.value),className:"ra-filter-select",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Draft",children:"Draft"}),e.jsx("option",{value:"Assigned",children:"Assigned"}),e.jsx("option",{value:"In Progress",children:"In Progress"}),e.jsx("option",{value:"Completed",children:"Completed"})]})]})]})}),e.jsxs("div",{className:"ra-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"ra-link-btn",onClick:()=>{o(new Date().toISOString().split("T")[0]),l("all"),h({route:"",vehicle:"",driver:"",picker:"",supervisor:""}),s()},children:"Clear Filters"}),e.jsx("button",{type:"button",className:"ra-btn ra-btn--primary ra-btn--sm",onClick:()=>i({selectedDate:c,statusFilter:d,advancedFilters:u}),children:"Apply Filters"})]})]})})},tre="http://localhost:3000/api/v1",rre=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},gg=async(r,t={})=>{const n=rre(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${tre}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const c=await s.json();c.message?Array.isArray(c.message)?i=c.message.join(", "):typeof c.message=="string"?i=c.message:i=String(c.message):c.error&&(typeof c.error=="string"?i=c.error:c.error.message?i=typeof c.error.message=="string"?c.error.message:String(c.error.message):i=JSON.stringify(c.error));const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o.errorData=c,o}catch{const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o}}return s.status===204?{}:s.json()},E0={createIncidentRegister:async r=>(await gg("/incident-registers",{method:"POST",body:JSON.stringify(r)})).data,getIncidentRegisterById:async r=>(await gg(`/incident-registers/${r}`,{method:"GET"})).data,getAllIncidentRegisters:async(r,t)=>{let n="/incident-registers";const a=new URLSearchParams;return r&&a.append("companyId",r),t&&a.append("status",t),a.toString()&&(n+=`?${a.toString()}`),(await gg(n,{method:"GET"})).data},updateIncidentRegister:async(r,t)=>(await gg(`/incident-registers/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,deleteIncidentRegister:async r=>{await gg(`/incident-registers/${r}`,{method:"DELETE"})}},nre=()=>{const{logout:r,permissions:t}=Yn(),n=jn(),[a,s]=C.useState(""),[i,c]=C.useState("all"),[o,d]=C.useState(!1),[l,u]=C.useState(!1),[h,f]=C.useState(null),[A,g]=C.useState(!1),[m,x]=C.useState(null),[y,j]=C.useState(null),[b,S]=C.useState({incidentNum:"",companyName:"",incidentType:"",severity:"",incidentStatus:""}),[w,E]=C.useState([]),[I,L]=C.useState([]),[J,ae]=C.useState([]),G=C.useCallback(async()=>{try{const ue=(await ha.getAllCompanies(!0)).map(te=>({id:te.id,companyCode:te.companyCode,companyName:te.companyName,status:te.status}));E(ue)}catch(D){console.error("Error loading companies:",D)}},[]),le=C.useCallback(async()=>{try{const ue=(await Oh.getAllCategories(void 0,!0)).map(te=>({id:te.id,categoryCode:te.categoryCode,categoryName:te.categoryName,status:te.status}));L(ue)}catch(D){console.error("Error loading categories:",D)}},[]),V=C.useCallback(async()=>{g(!0),x(null);try{const D=await E0.getAllIncidentRegisters(void 0,i!=="all"?i:void 0),ue=await Promise.all(D.map(async te=>{const ye=w.find(pe=>pe.id===te.companyId);return{id:te.id,incidentNum:te.incidentNum,companyId:te.companyId,companyName:(ye==null?void 0:ye.companyName)||"Unknown",incidentDate:te.incidentDate,incidentTime:te.incidentTime,incidentType:te.incidentType,location:te.location,wasteCategory:te.wasteCategory,quantityValue:te.quantityValue,quantityUnit:te.quantityUnit,severity:te.severity,personAffected:te.personAffected,immediateAction:te.immediateAction,medicalAction:te.medicalAction,reportedTo:te.reportedTo,incidentStatus:te.incidentStatus,status:te.status,createdBy:te.createdBy,createdOn:te.createdOn,modifiedBy:te.modifiedBy,modifiedOn:te.modifiedOn}}));ae(ue)}catch(D){const ue=D instanceof Error?D.message:"Failed to load incidents";x(ue),console.error("Error loading incidents:",D)}finally{g(!1)}},[i,w]);C.useEffect(()=>{(async()=>{await G(),await le()})()},[G,le]),C.useEffect(()=>{w.length>0&&V()},[w,i,V]);const me=C.useMemo(()=>{const D=a.trim().toLowerCase(),ue=b.incidentNum.trim().toLowerCase(),te=b.companyName.trim().toLowerCase(),ye=b.incidentType.trim().toLowerCase(),pe=b.severity.trim().toLowerCase(),je=b.incidentStatus.trim().toLowerCase();return J.filter(re=>{const he=!D||re.incidentNum.toLowerCase().includes(D)||re.companyName.toLowerCase().includes(D)||re.incidentType.toLowerCase().includes(D)||re.location.toLowerCase().includes(D)||re.severity.toLowerCase().includes(D),X=!ue||re.incidentNum.toLowerCase().includes(ue),Ae=!te||re.companyName.toLowerCase().includes(te),Be=!ye||re.incidentType.toLowerCase().includes(ye),Me=!pe||re.severity.toLowerCase().includes(pe),$e=!je||re.incidentStatus.toLowerCase().includes(je),ne=i==="all"||re.status===i;return he&&X&&Ae&&Be&&Me&&$e&&ne})},[J,a,b,i]),$=()=>{f(null),d(!0)},ee=D=>{f(D),d(!0)},we=async D=>{if(window.confirm("Are you sure you want to delete this incident register?"))try{g(!0),x(null),await E0.deleteIncidentRegister(D),j("Incident register deleted successfully"),await V(),setTimeout(()=>j(null),3e3)}catch(ue){const te=ue instanceof Error?ue.message:"Failed to delete incident register";x(te),console.error("Error deleting incident register:",ue)}finally{g(!1)}},R=async D=>{try{if(g(!0),x(null),h)await E0.updateIncidentRegister(h.id,{incidentDate:D.incidentDate,incidentTime:D.incidentTime,incidentType:D.incidentType,location:D.location,wasteCategory:D.wasteCategory,quantityValue:D.quantityValue,quantityUnit:D.quantityUnit,severity:D.severity,personAffected:D.personAffected,immediateAction:D.immediateAction,medicalAction:D.medicalAction,reportedTo:D.reportedTo,incidentStatus:D.incidentStatus,status:D.status}),j("Incident register updated successfully");else{const ue=w.find(te=>te.id===D.companyId);if(!ue){x("Please select a valid company");return}await E0.createIncidentRegister({companyId:ue.id,incidentDate:D.incidentDate,incidentTime:D.incidentTime,incidentType:D.incidentType,location:D.location,wasteCategory:D.wasteCategory,quantityValue:D.quantityValue,quantityUnit:D.quantityUnit,severity:D.severity,personAffected:D.personAffected,immediateAction:D.immediateAction,medicalAction:D.medicalAction,reportedTo:D.reportedTo,incidentStatus:D.incidentStatus||"Reported",status:D.status||"Active"}),j("Incident register created successfully")}d(!1),f(null),await V(),setTimeout(()=>j(null),3e3)}catch(ue){const te=ue instanceof Error?ue.message:"Failed to save incident register";x(te),console.error("Error saving incident register:",ue)}finally{g(!1)}},q=D=>{switch(D.toLowerCase()){case"critical":return"status-badge--critical";case"high":return"status-badge--high";case"medium":return"status-badge--medium";case"low":return"status-badge--low";default:return""}},ie=D=>{switch(D.toLowerCase()){case"reported":return"status-badge--reported";case"under investigation":return"status-badge--investigation";case"resolved":return"status-badge--resolved";case"closed":return"status-badge--closed";default:return""}},Z=xs(t,n.pathname);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:"dashboard-sidebar",children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:Z.map(D=>e.jsx("li",{children:e.jsxs(Hr,{to:D.path,className:`nav-link ${D.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:D.icon}),e.jsx("span",{className:"nav-label",children:D.label})]})},D.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Hr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(_a,{title:"Incident Register",subtitle:"Manage incident and accident records"}),y&&e.jsxs("div",{className:"ra-alert ra-alert--success",role:"status","aria-live":"polite",children:[e.jsx("span",{children:y}),e.jsx("button",{onClick:()=>j(null),className:"ra-alert-close","aria-label":"Close success message",children:""})]}),m&&e.jsxs("div",{className:"ra-alert ra-alert--error",role:"alert",children:[e.jsx("span",{children:m}),e.jsx("button",{onClick:()=>x(null),className:"ra-alert-close","aria-label":"Close error message",children:""})]}),A&&!J.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading incidents..."}),e.jsxs("div",{className:"route-assignment-page",children:[e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),e.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),e.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"Incident Register"}),e.jsx("p",{className:"ra-page-subtitle",children:"Manage and track incident reports and safety issues"})]})]}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",placeholder:"Search by incident number, company, type, location...",value:a,onChange:D=>s(D.target.value),className:"ra-search-input"})]}),e.jsxs("div",{className:"ra-actions",children:[e.jsxs("button",{className:"ra-filter-btn",onClick:()=>u(!0),children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),e.jsxs("button",{className:"ra-add-btn",onClick:$,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Incident"]})]})]}),e.jsx("div",{className:"route-assignment-table-container",children:e.jsxs("table",{className:"route-assignment-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"INCIDENT NUM"}),e.jsx("th",{children:"COMPANY"}),e.jsx("th",{children:"INCIDENT DATE"}),e.jsx("th",{children:"INCIDENT TIME"}),e.jsx("th",{children:"INCIDENT TYPE"}),e.jsx("th",{children:"LOCATION"}),e.jsx("th",{children:"SEVERITY"}),e.jsx("th",{children:"INCIDENT STATUS"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:me.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:10,className:"empty-message",children:A?"Loading...":"No incidents found"})}):me.map(D=>{const ue=te=>{const ye=new Date(te),pe=String(ye.getDate()).padStart(2,"0"),je=String(ye.getMonth()+1).padStart(2,"0"),re=ye.getFullYear();return`${pe}/${je}/${re}`};return e.jsxs("tr",{children:[e.jsx("td",{children:D.incidentNum}),e.jsx("td",{children:D.companyName}),e.jsx("td",{children:ue(D.incidentDate)}),e.jsx("td",{children:D.incidentTime}),e.jsx("td",{children:D.incidentType}),e.jsx("td",{children:D.location}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge ${q(D.severity)}`,children:D.severity})})}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge ${ie(D.incidentStatus)}`,children:D.incidentStatus})})}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge status-badge--${D.status.toLowerCase()}`,children:D.status})})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons ra-actions",children:[e.jsx("button",{className:"action-btn action-btn--view",onClick:()=>ee(D),title:"View",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>ee(D),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>we(D.id),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},D.id)})})]})}),e.jsxs("div",{className:"route-assignment-pagination-info",children:["Showing ",me.length," of ",J.length," items"]})]})]}),l&&e.jsx(sre,{statusFilter:i,advancedFilters:b,onClose:()=>u(!1),onClear:()=>{S({incidentNum:"",companyName:"",incidentType:"",severity:"",incidentStatus:""}),c("all"),s("")},onApply:D=>{c(D.statusFilter),S(D.advancedFilters),u(!1)}}),o&&e.jsx(are,{incident:h,companies:w.filter(D=>D.status==="Active"),categories:I.filter(D=>D.status==="Active"),onClose:()=>{d(!1),f(null)},onSave:R})]})},are=({incident:r,companies:t,categories:n,onClose:a,onSave:s})=>{const[i,c]=C.useState(r||{companyId:"",incidentDate:new Date().toISOString().split("T")[0],incidentTime:new Date().toTimeString().slice(0,5),incidentType:"",location:"",wasteCategory:"",quantityValue:0,quantityUnit:"kg",severity:"Low",personAffected:null,immediateAction:null,medicalAction:null,reportedTo:null,incidentStatus:"Reported",status:"Active"}),o=d=>{d.preventDefault(),s(i)};return e.jsx("div",{className:"modal-overlay ra-assignment-modal-overlay",onClick:a,children:e.jsxs("div",{className:"modal-content ra-assignment-modal",onClick:d=>d.stopPropagation(),children:[e.jsxs("div",{className:"ra-assignment-modal-header",children:[e.jsxs("div",{className:"ra-assignment-modal-titlewrap",children:[e.jsx("div",{className:"ra-assignment-icon","aria-hidden":"true",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),e.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),e.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]})}),e.jsxs("div",{children:[e.jsx("h2",{className:"ra-assignment-modal-title",children:r?"Edit Incident Register":"Add Incident Register"}),e.jsx("p",{className:"ra-assignment-modal-subtitle",children:r?"Update incident details":"Create a new incident register."})]})]}),e.jsx("button",{className:"ra-assignment-close",onClick:a,"aria-label":"Close",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"ra-assignment-form",onSubmit:o,children:[e.jsxs("div",{className:"ra-assignment-form-grid",children:[e.jsxs("div",{className:"ra-assignment-form-col",children:[e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"company",children:["Company Name ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsxs("select",{id:"company",value:i.companyId||"",onChange:d=>c({...i,companyId:d.target.value}),required:!0,disabled:!!r,className:"ra-assignment-select",children:[e.jsx("option",{value:"",children:"Select Company"}),t.map(d=>e.jsx("option",{value:d.id,children:d.companyName},d.id))]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"incident-date",children:["Incident Date ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"incident-date",type:"date",value:i.incidentDate||"",onChange:d=>c({...i,incidentDate:d.target.value}),required:!0,className:"ra-assignment-input"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"incident-time",children:["Incident Time ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"incident-time",type:"time",value:i.incidentTime||"",onChange:d=>c({...i,incidentTime:d.target.value}),required:!0,className:"ra-assignment-input"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"incident-type",children:["Incident Type ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsxs("select",{id:"incident-type",value:i.incidentType||"",onChange:d=>c({...i,incidentType:d.target.value}),required:!0,className:"ra-assignment-select",children:[e.jsx("option",{value:"",children:"Select Type"}),e.jsx("option",{value:"Spill",children:"Spill"}),e.jsx("option",{value:"Exposure",children:"Exposure"}),e.jsx("option",{value:"Injury",children:"Injury"}),e.jsx("option",{value:"Fire",children:"Fire"}),e.jsx("option",{value:"Equipment Failure",children:"Equipment Failure"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"location",children:["Location ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"location",type:"text",value:i.location||"",onChange:d=>c({...i,location:d.target.value}),required:!0,className:"ra-assignment-input",placeholder:"Enter location"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"waste-category",children:["Waste Category ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsxs("select",{id:"waste-category",value:i.wasteCategory||"",onChange:d=>c({...i,wasteCategory:d.target.value}),required:!0,className:"ra-assignment-select",children:[e.jsx("option",{value:"",children:"Select Category"}),n.map(d=>e.jsx("option",{value:d.categoryName,children:d.categoryName},d.id))]})]})]}),e.jsxs("div",{className:"ra-assignment-form-col",children:[e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"quantity-value",children:["Quantity Value ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"quantity-value",type:"number",step:"0.01",value:i.quantityValue||0,onChange:d=>c({...i,quantityValue:parseFloat(d.target.value)||0}),required:!0,className:"ra-assignment-input",placeholder:"0.00"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"quantity-unit",children:["Quantity Unit ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsxs("select",{id:"quantity-unit",value:i.quantityUnit||"kg",onChange:d=>c({...i,quantityUnit:d.target.value}),required:!0,className:"ra-assignment-select",children:[e.jsx("option",{value:"kg",children:"kg"}),e.jsx("option",{value:"g",children:"g"}),e.jsx("option",{value:"L",children:"L"}),e.jsx("option",{value:"mL",children:"mL"}),e.jsx("option",{value:"pieces",children:"pieces"})]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"severity",children:["Severity ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsxs("select",{id:"severity",value:i.severity||"Low",onChange:d=>c({...i,severity:d.target.value}),required:!0,className:"ra-assignment-select",children:[e.jsx("option",{value:"Low",children:"Low"}),e.jsx("option",{value:"Medium",children:"Medium"}),e.jsx("option",{value:"High",children:"High"}),e.jsx("option",{value:"Critical",children:"Critical"})]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsx("label",{htmlFor:"person-affected",children:"Person Affected"}),e.jsx("input",{id:"person-affected",type:"text",value:i.personAffected||"",onChange:d=>c({...i,personAffected:d.target.value||null}),className:"ra-assignment-input",placeholder:"Enter person name"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsx("label",{htmlFor:"immediate-action",children:"Immediate Action"}),e.jsx("textarea",{id:"immediate-action",value:i.immediateAction||"",onChange:d=>c({...i,immediateAction:d.target.value||null}),className:"ra-assignment-input",rows:3,placeholder:"Describe immediate actions taken"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsx("label",{htmlFor:"medical-action",children:"Medical Action"}),e.jsx("textarea",{id:"medical-action",value:i.medicalAction||"",onChange:d=>c({...i,medicalAction:d.target.value||null}),className:"ra-assignment-input",rows:3,placeholder:"Describe medical actions taken"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsx("label",{htmlFor:"reported-to",children:"Reported To"}),e.jsx("input",{id:"reported-to",type:"text",value:i.reportedTo||"",onChange:d=>c({...i,reportedTo:d.target.value||null}),className:"ra-assignment-input",placeholder:"Enter person/department reported to"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsx("label",{htmlFor:"incident-status",children:"Incident Status"}),e.jsxs("select",{id:"incident-status",value:i.incidentStatus||"Reported",onChange:d=>c({...i,incidentStatus:d.target.value}),className:"ra-assignment-select",children:[e.jsx("option",{value:"Reported",children:"Reported"}),e.jsx("option",{value:"Under Investigation",children:"Under Investigation"}),e.jsx("option",{value:"Resolved",children:"Resolved"}),e.jsx("option",{value:"Closed",children:"Closed"})]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsx("label",{htmlFor:"status",children:"Status"}),e.jsxs("select",{id:"status",value:i.status||"Active",onChange:d=>c({...i,status:d.target.value}),className:"ra-assignment-select",children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),e.jsxs("div",{className:"ra-assignment-modal-footer",children:[e.jsx("button",{type:"button",className:"ra-assignment-btn ra-assignment-btn--cancel",onClick:a,children:"Cancel"}),e.jsx("button",{type:"submit",className:"ra-assignment-btn ra-assignment-btn--primary",children:r?"Update Incident":"Create Incident"})]})]})]})})},sre=({statusFilter:r,advancedFilters:t,onClose:n,onClear:a,onApply:s})=>{const[i,c]=C.useState(r),[o,d]=C.useState(t);return e.jsx("div",{className:"modal-overlay ra-filter-modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content ra-filter-modal",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"ra-filter-modal-header",children:[e.jsxs("div",{className:"ra-filter-modal-titlewrap",children:[e.jsx("div",{className:"ra-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M22 3H2l8 9v7l4 2v-9l8-9z"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"ra-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"ra-filter-subtitle",children:"Filter incidents by multiple criteria"})]})]}),e.jsx("button",{className:"ra-filter-close",onClick:n,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"ra-filter-modal-body",children:e.jsxs("div",{className:"ra-filter-grid",children:[e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Incident Number"}),e.jsx("input",{type:"text",value:o.incidentNum,onChange:l=>d({...o,incidentNum:l.target.value}),className:"ra-filter-input",placeholder:"Enter incident number"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Company Name"}),e.jsx("input",{type:"text",value:o.companyName,onChange:l=>d({...o,companyName:l.target.value}),className:"ra-filter-input",placeholder:"Enter company name"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Incident Type"}),e.jsx("input",{type:"text",value:o.incidentType,onChange:l=>d({...o,incidentType:l.target.value}),className:"ra-filter-input",placeholder:"Enter incident type"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Severity"}),e.jsxs("select",{value:o.severity,onChange:l=>d({...o,severity:l.target.value}),className:"ra-filter-select",children:[e.jsx("option",{value:"",children:"All Severity"}),e.jsx("option",{value:"Low",children:"Low"}),e.jsx("option",{value:"Medium",children:"Medium"}),e.jsx("option",{value:"High",children:"High"}),e.jsx("option",{value:"Critical",children:"Critical"})]})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Incident Status"}),e.jsxs("select",{value:o.incidentStatus,onChange:l=>d({...o,incidentStatus:l.target.value}),className:"ra-filter-select",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"Reported",children:"Reported"}),e.jsx("option",{value:"Under Investigation",children:"Under Investigation"}),e.jsx("option",{value:"Resolved",children:"Resolved"}),e.jsx("option",{value:"Closed",children:"Closed"})]})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:i,onChange:l=>c(l.target.value),className:"ra-filter-select",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"ra-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"ra-link-btn",onClick:()=>{c("all"),d({incidentNum:"",companyName:"",incidentType:"",severity:"",incidentStatus:""}),a()},children:"Clear Filters"}),e.jsx("button",{type:"button",className:"ra-btn ra-btn--primary ra-btn--sm",onClick:()=>s({statusFilter:i,advancedFilters:o}),children:"Apply Filters"})]})]})})},ire="http://localhost:3000/api/v1",ore=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},vg=async(r,t={})=>{const n=ore(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${ire}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const c=await s.json();c.message?Array.isArray(c.message)?i=c.message.join(", "):typeof c.message=="string"?i=c.message:i=String(c.message):c.error&&(typeof c.error=="string"?i=c.error:c.error.message?i=typeof c.error.message=="string"?c.error.message:String(c.error.message):i=JSON.stringify(c.error));const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o.errorData=c,o}catch{const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o}}return s.status===204?{}:s.json()},B0={createIncinerationRegister:async r=>(await vg("/incineration-registers",{method:"POST",body:JSON.stringify(r)})).data,getIncinerationRegisterById:async r=>(await vg(`/incineration-registers/${r}`,{method:"GET"})).data,getAllIncinerationRegisters:async(r,t)=>{let n="/incineration-registers";const a=new URLSearchParams;return r&&a.append("companyId",r),t&&a.append("status",t),a.toString()&&(n+=`?${a.toString()}`),(await vg(n,{method:"GET"})).data},updateIncinerationRegister:async(r,t)=>(await vg(`/incineration-registers/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,deleteIncinerationRegister:async r=>{await vg(`/incineration-registers/${r}`,{method:"DELETE"})}},lre=()=>{const{logout:r,permissions:t}=Yn(),n=jn(),[a,s]=C.useState(""),[i,c]=C.useState("all"),[o,d]=C.useState(!1),[l,u]=C.useState(!1),[h,f]=C.useState(null),[A,g]=C.useState(!1),[m,x]=C.useState(null),[y,j]=C.useState(null),[b,S]=C.useState({inciRegNum:"",companyName:"",equipmentId:"",batchNo:"",complianceStatus:""}),[w,E]=C.useState([]),[I,L]=C.useState([]),[J,ae]=C.useState([]),G=C.useCallback(async()=>{try{const D=(await ha.getAllCompanies(!0)).map(ue=>({id:ue.id,companyCode:ue.companyCode,companyName:ue.companyName,status:ue.status}));E(D)}catch(Z){console.error("Error loading companies:",Z)}},[]),le=C.useCallback(async()=>{try{const D=(await Oh.getAllCategories(void 0,!0)).map(ue=>({id:ue.id,categoryCode:ue.categoryCode,categoryName:ue.categoryName,status:ue.status}));L(D)}catch(Z){console.error("Error loading categories:",Z)}},[]),V=C.useCallback(async()=>{g(!0),x(null);try{const Z=await B0.getAllIncinerationRegisters(void 0,i!=="all"?i:void 0),D=await Promise.all(Z.map(async ue=>{const te=w.find(ye=>ye.id===ue.companyId);return{id:ue.id,inciRegNum:ue.inciRegNum,companyId:ue.companyId,companyName:(te==null?void 0:te.companyName)||"Unknown",incinerationDate:ue.incinerationDate,equipmentId:ue.equipmentId,secondaryChamberId:ue.secondaryChamberId,batchNo:ue.batchNo,wasteCategory:ue.wasteCategory,wasteQtyKg:ue.wasteQtyKg,startTime:ue.startTime,endTime:ue.endTime,avgTempC:ue.avgTempC,retentionTimeSec:ue.retentionTimeSec,fuelUsedL:ue.fuelUsedL,complianceStatus:ue.complianceStatus,status:ue.status,createdBy:ue.createdBy,createdOn:ue.createdOn,modifiedBy:ue.modifiedBy,modifiedOn:ue.modifiedOn}}));ae(D)}catch(Z){const D=Z instanceof Error?Z.message:"Failed to load incineration registers";x(D),console.error("Error loading incineration registers:",Z)}finally{g(!1)}},[i,w]);C.useEffect(()=>{(async()=>{await G(),await le()})()},[G,le]),C.useEffect(()=>{w.length>0&&V()},[w,i,V]);const me=C.useMemo(()=>{const Z=a.trim().toLowerCase(),D=b.inciRegNum.trim().toLowerCase(),ue=b.companyName.trim().toLowerCase(),te=b.equipmentId.trim().toLowerCase(),ye=b.batchNo.trim().toLowerCase(),pe=b.complianceStatus.trim().toLowerCase();return J.filter(je=>{const re=!Z||je.inciRegNum.toLowerCase().includes(Z)||je.companyName.toLowerCase().includes(Z)||je.equipmentId.toLowerCase().includes(Z)||je.batchNo.toLowerCase().includes(Z)||je.wasteCategory.toLowerCase().includes(Z),he=!D||je.inciRegNum.toLowerCase().includes(D),X=!ue||je.companyName.toLowerCase().includes(ue),Ae=!te||je.equipmentId.toLowerCase().includes(te),Be=!ye||je.batchNo.toLowerCase().includes(ye),Me=!pe||je.complianceStatus.toLowerCase().includes(pe),$e=i==="all"||je.status===i;return re&&he&&X&&Ae&&Be&&Me&&$e})},[J,a,b,i]),$=()=>{f(null),d(!0)},ee=Z=>{f(Z),d(!0)},we=async Z=>{if(window.confirm("Are you sure you want to delete this incineration register?"))try{g(!0),x(null),await B0.deleteIncinerationRegister(Z),j("Incineration register deleted successfully"),await V(),setTimeout(()=>j(null),3e3)}catch(D){const ue=D instanceof Error?D.message:"Failed to delete incineration register";x(ue),console.error("Error deleting incineration register:",D)}finally{g(!1)}},R=async Z=>{try{if(g(!0),x(null),h)await B0.updateIncinerationRegister(h.id,{incinerationDate:Z.incinerationDate,equipmentId:Z.equipmentId,secondaryChamberId:Z.secondaryChamberId,batchNo:Z.batchNo,wasteCategory:Z.wasteCategory,wasteQtyKg:Z.wasteQtyKg,startTime:Z.startTime,endTime:Z.endTime,avgTempC:Z.avgTempC,retentionTimeSec:Z.retentionTimeSec,fuelUsedL:Z.fuelUsedL,complianceStatus:Z.complianceStatus,status:Z.status}),j("Incineration register updated successfully");else{const D=w.find(ue=>ue.id===Z.companyId);if(!D){x("Please select a valid company");return}await B0.createIncinerationRegister({companyId:D.id,incinerationDate:Z.incinerationDate,equipmentId:Z.equipmentId,secondaryChamberId:Z.secondaryChamberId,batchNo:Z.batchNo,wasteCategory:Z.wasteCategory,wasteQtyKg:Z.wasteQtyKg,startTime:Z.startTime,endTime:Z.endTime,avgTempC:Z.avgTempC,retentionTimeSec:Z.retentionTimeSec,fuelUsedL:Z.fuelUsedL,complianceStatus:Z.complianceStatus||"Compliant",status:Z.status||"Active"}),j("Incineration register created successfully")}d(!1),f(null),await V(),setTimeout(()=>j(null),3e3)}catch(D){const ue=D instanceof Error?D.message:"Failed to save incineration register";x(ue),console.error("Error saving incineration register:",D)}finally{g(!1)}},q=Z=>{switch(Z.toLowerCase()){case"compliant":return"status-badge--compliant";case"non-compliant":return"status-badge--non-compliant";case"pending":return"status-badge--pending";default:return""}},ie=xs(t,n.pathname);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:"dashboard-sidebar",children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:ie.map(Z=>e.jsx("li",{children:e.jsxs(Hr,{to:Z.path,className:`nav-link ${Z.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:Z.icon}),e.jsx("span",{className:"nav-label",children:Z.label})]})},Z.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Hr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(_a,{title:"Incineration Register",subtitle:"Manage incineration operation records"}),y&&e.jsxs("div",{className:"ra-alert ra-alert--success",role:"status","aria-live":"polite",children:[e.jsx("span",{children:y}),e.jsx("button",{onClick:()=>j(null),className:"ra-alert-close","aria-label":"Close success message",children:""})]}),m&&e.jsxs("div",{className:"ra-alert ra-alert--error",role:"alert",children:[e.jsx("span",{children:m}),e.jsx("button",{onClick:()=>x(null),className:"ra-alert-close","aria-label":"Close error message",children:""})]}),A&&!J.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading incineration registers..."}),e.jsxs("div",{className:"route-assignment-page",children:[e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M12 6v6l4 2"}),e.jsx("path",{d:"M8 12h8"})]})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"Incineration Register"}),e.jsx("p",{className:"ra-page-subtitle",children:"Manage and track incineration operations and compliance"})]})]}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",placeholder:"Search by register number, company, equipment, batch...",value:a,onChange:Z=>s(Z.target.value),className:"ra-search-input"})]}),e.jsxs("div",{className:"ra-actions",children:[e.jsxs("button",{className:"ra-filter-btn",onClick:()=>u(!0),children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),e.jsxs("button",{className:"ra-add-btn",onClick:$,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Incineration"]})]})]}),e.jsx("div",{className:"route-assignment-table-container",children:e.jsxs("table",{className:"route-assignment-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"REG NUM"}),e.jsx("th",{children:"COMPANY"}),e.jsx("th",{children:"DATE"}),e.jsx("th",{children:"EQUIPMENT ID"}),e.jsx("th",{children:"BATCH NO"}),e.jsx("th",{children:"WASTE CATEGORY"}),e.jsx("th",{children:"QTY (KG)"}),e.jsx("th",{children:"COMPLIANCE STATUS"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:me.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:10,className:"empty-message",children:A?"Loading...":"No incineration registers found"})}):me.map(Z=>{const D=ue=>{const te=new Date(ue),ye=String(te.getDate()).padStart(2,"0"),pe=String(te.getMonth()+1).padStart(2,"0"),je=te.getFullYear();return`${ye}/${pe}/${je}`};return e.jsxs("tr",{children:[e.jsx("td",{children:Z.inciRegNum}),e.jsx("td",{children:Z.companyName}),e.jsx("td",{children:D(Z.incinerationDate)}),e.jsx("td",{children:Z.equipmentId}),e.jsx("td",{children:Z.batchNo}),e.jsx("td",{children:Z.wasteCategory}),e.jsx("td",{children:Z.wasteQtyKg.toFixed(2)}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge ${q(Z.complianceStatus)}`,children:Z.complianceStatus})})}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge status-badge--${Z.status.toLowerCase()}`,children:Z.status})})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons ra-actions",children:[e.jsx("button",{className:"action-btn action-btn--view",onClick:()=>ee(Z),title:"View",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>ee(Z),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>we(Z.id),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},Z.id)})})]})}),e.jsxs("div",{className:"route-assignment-pagination-info",children:["Showing ",me.length," of ",J.length," items"]})]})]}),l&&e.jsx(dre,{statusFilter:i,advancedFilters:b,onClose:()=>u(!1),onClear:()=>{S({inciRegNum:"",companyName:"",equipmentId:"",batchNo:"",complianceStatus:""}),c("all"),s("")},onApply:Z=>{c(Z.statusFilter),S(Z.advancedFilters),u(!1)}}),o&&e.jsx(cre,{incineration:h,companies:w.filter(Z=>Z.status==="Active"),categories:I.filter(Z=>Z.status==="Active"),onClose:()=>{d(!1),f(null)},onSave:R})]})},cre=({incineration:r,companies:t,categories:n,onClose:a,onSave:s})=>{const[i,c]=C.useState(r||{companyId:"",incinerationDate:new Date().toISOString().split("T")[0],equipmentId:"",secondaryChamberId:"",batchNo:"",wasteCategory:"",wasteQtyKg:0,startTime:"08:00",endTime:"17:00",avgTempC:0,retentionTimeSec:0,fuelUsedL:0,complianceStatus:"Compliant",status:"Active"}),o=d=>{d.preventDefault(),s(i)};return e.jsx("div",{className:"modal-overlay ra-assignment-modal-overlay",onClick:a,children:e.jsxs("div",{className:"modal-content ra-assignment-modal",onClick:d=>d.stopPropagation(),children:[e.jsxs("div",{className:"ra-assignment-modal-header",children:[e.jsxs("div",{className:"ra-assignment-modal-titlewrap",children:[e.jsx("div",{className:"ra-assignment-icon","aria-hidden":"true",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M12 6v6l4 2"}),e.jsx("path",{d:"M8 12h8"})]})}),e.jsxs("div",{children:[e.jsx("h2",{className:"ra-assignment-modal-title",children:r?"Edit Incineration Register":"Add Incineration Register"}),e.jsx("p",{className:"ra-assignment-modal-subtitle",children:r?"Update incineration details":"Create a new incineration register."})]})]}),e.jsx("button",{className:"ra-assignment-close",onClick:a,"aria-label":"Close",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"ra-assignment-form",onSubmit:o,children:[e.jsxs("div",{className:"ra-assignment-form-grid",children:[e.jsxs("div",{className:"ra-assignment-form-col",children:[e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"company",children:["Company Name ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsxs("select",{id:"company",value:i.companyId||"",onChange:d=>c({...i,companyId:d.target.value}),required:!0,disabled:!!r,className:"ra-assignment-select",children:[e.jsx("option",{value:"",children:"Select Company"}),t.map(d=>e.jsx("option",{value:d.id,children:d.companyName},d.id))]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"incineration-date",children:["Incineration Date ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"incineration-date",type:"date",value:i.incinerationDate||"",onChange:d=>c({...i,incinerationDate:d.target.value}),required:!0,className:"ra-assignment-input"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"equipment-id",children:["Equipment ID ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"equipment-id",type:"text",value:i.equipmentId||"",onChange:d=>c({...i,equipmentId:d.target.value}),required:!0,className:"ra-assignment-input",placeholder:"Enter equipment ID"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"secondary-chamber-id",children:["Secondary Chamber ID ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"secondary-chamber-id",type:"text",value:i.secondaryChamberId||"",onChange:d=>c({...i,secondaryChamberId:d.target.value}),required:!0,className:"ra-assignment-input",placeholder:"Enter secondary chamber ID"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"batch-no",children:["Batch No ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"batch-no",type:"text",value:i.batchNo||"",onChange:d=>c({...i,batchNo:d.target.value}),required:!0,className:"ra-assignment-input",placeholder:"Enter batch number"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"waste-category",children:["Waste Category ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsxs("select",{id:"waste-category",value:i.wasteCategory||"",onChange:d=>c({...i,wasteCategory:d.target.value}),required:!0,className:"ra-assignment-select",children:[e.jsx("option",{value:"",children:"Select Category"}),n.map(d=>e.jsx("option",{value:d.categoryName,children:d.categoryName},d.id))]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"waste-qty",children:["Waste Quantity (kg) ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"waste-qty",type:"number",step:"0.01",value:i.wasteQtyKg||0,onChange:d=>c({...i,wasteQtyKg:parseFloat(d.target.value)||0}),required:!0,className:"ra-assignment-input",placeholder:"0.00"})]})]}),e.jsxs("div",{className:"ra-assignment-form-col",children:[e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"start-time",children:["Start Time ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"start-time",type:"time",value:i.startTime||"",onChange:d=>c({...i,startTime:d.target.value}),required:!0,className:"ra-assignment-input"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"end-time",children:["End Time ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"end-time",type:"time",value:i.endTime||"",onChange:d=>c({...i,endTime:d.target.value}),required:!0,className:"ra-assignment-input"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"avg-temp",children:["Average Temperature (C) ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"avg-temp",type:"number",step:"0.01",value:i.avgTempC||0,onChange:d=>c({...i,avgTempC:parseFloat(d.target.value)||0}),required:!0,className:"ra-assignment-input",placeholder:"0.00"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"retention-time",children:["Retention Time (seconds) ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"retention-time",type:"number",step:"1",value:i.retentionTimeSec||0,onChange:d=>c({...i,retentionTimeSec:parseInt(d.target.value)||0}),required:!0,className:"ra-assignment-input",placeholder:"0"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"fuel-used",children:["Fuel Used (L) ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"fuel-used",type:"number",step:"0.01",value:i.fuelUsedL||0,onChange:d=>c({...i,fuelUsedL:parseFloat(d.target.value)||0}),required:!0,className:"ra-assignment-input",placeholder:"0.00"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsx("label",{htmlFor:"compliance-status",children:"Compliance Status"}),e.jsxs("select",{id:"compliance-status",value:i.complianceStatus||"Compliant",onChange:d=>c({...i,complianceStatus:d.target.value}),className:"ra-assignment-select",children:[e.jsx("option",{value:"Compliant",children:"Compliant"}),e.jsx("option",{value:"Non-Compliant",children:"Non-Compliant"}),e.jsx("option",{value:"Pending",children:"Pending"})]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsx("label",{htmlFor:"status",children:"Status"}),e.jsxs("select",{id:"status",value:i.status||"Active",onChange:d=>c({...i,status:d.target.value}),className:"ra-assignment-select",children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),e.jsxs("div",{className:"ra-assignment-modal-footer",children:[e.jsx("button",{type:"button",className:"ra-assignment-btn ra-assignment-btn--cancel",onClick:a,children:"Cancel"}),e.jsx("button",{type:"submit",className:"ra-assignment-btn ra-assignment-btn--primary",children:r?"Update Incineration":"Create Incineration"})]})]})]})})},dre=({statusFilter:r,advancedFilters:t,onClose:n,onClear:a,onApply:s})=>{const[i,c]=C.useState(r),[o,d]=C.useState(t);return e.jsx("div",{className:"modal-overlay ra-filter-modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content ra-filter-modal",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"ra-filter-modal-header",children:[e.jsxs("div",{className:"ra-filter-modal-titlewrap",children:[e.jsx("div",{className:"ra-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M22 3H2l8 9v7l4 2v-9l8-9z"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"ra-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"ra-filter-subtitle",children:"Filter incineration registers by multiple criteria"})]})]}),e.jsx("button",{className:"ra-filter-close",onClick:n,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"ra-filter-modal-body",children:e.jsxs("div",{className:"ra-filter-grid",children:[e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Register Number"}),e.jsx("input",{type:"text",value:o.inciRegNum,onChange:l=>d({...o,inciRegNum:l.target.value}),className:"ra-filter-input",placeholder:"Enter register number"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Company Name"}),e.jsx("input",{type:"text",value:o.companyName,onChange:l=>d({...o,companyName:l.target.value}),className:"ra-filter-input",placeholder:"Enter company name"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Equipment ID"}),e.jsx("input",{type:"text",value:o.equipmentId,onChange:l=>d({...o,equipmentId:l.target.value}),className:"ra-filter-input",placeholder:"Enter equipment ID"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Batch No"}),e.jsx("input",{type:"text",value:o.batchNo,onChange:l=>d({...o,batchNo:l.target.value}),className:"ra-filter-input",placeholder:"Enter batch number"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Compliance Status"}),e.jsxs("select",{value:o.complianceStatus,onChange:l=>d({...o,complianceStatus:l.target.value}),className:"ra-filter-select",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"Compliant",children:"Compliant"}),e.jsx("option",{value:"Non-Compliant",children:"Non-Compliant"}),e.jsx("option",{value:"Pending",children:"Pending"})]})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:i,onChange:l=>c(l.target.value),className:"ra-filter-select",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"ra-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"ra-link-btn",onClick:()=>{c("all"),d({inciRegNum:"",companyName:"",equipmentId:"",batchNo:"",complianceStatus:""}),a()},children:"Clear Filters"}),e.jsx("button",{type:"button",className:"ra-btn ra-btn--primary ra-btn--sm",onClick:()=>s({statusFilter:i,advancedFilters:o}),children:"Apply Filters"})]})]})})},ure="http://localhost:3000/api/v1",hre=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},xg=async(r,t={})=>{const n=hre(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${ure}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const c=await s.json();c.message?Array.isArray(c.message)?i=c.message.join(", "):typeof c.message=="string"?i=c.message:i=String(c.message):c.error&&(typeof c.error=="string"?i=c.error:c.error.message?i=typeof c.error.message=="string"?c.error.message:String(c.error.message):i=JSON.stringify(c.error));const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o.errorData=c,o}catch{const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o}}return s.status===204?{}:s.json()},I0={createAutoclaveRegister:async r=>(await xg("/autoclave-registers",{method:"POST",body:JSON.stringify(r)})).data,getAutoclaveRegisterById:async r=>(await xg(`/autoclave-registers/${r}`,{method:"GET"})).data,getAllAutoclaveRegisters:async(r,t)=>{let n="/autoclave-registers";const a=new URLSearchParams;return r&&a.append("companyId",r),t&&a.append("status",t),a.toString()&&(n+=`?${a.toString()}`),(await xg(n,{method:"GET"})).data},updateAutoclaveRegister:async(r,t)=>(await xg(`/autoclave-registers/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,deleteAutoclaveRegister:async r=>{await xg(`/autoclave-registers/${r}`,{method:"DELETE"})}},fre=()=>{const{logout:r,permissions:t}=Yn(),n=jn(),[a,s]=C.useState(""),[i,c]=C.useState("all"),[o,d]=C.useState(!1),[l,u]=C.useState(!1),[h,f]=C.useState(null),[A,g]=C.useState(!1),[m,x]=C.useState(null),[y,j]=C.useState(null),[b,S]=C.useState({autoclRegNum:"",companyName:"",equipmentId:"",batchNo:"",complianceStatus:""}),[w,E]=C.useState([]),[I,L]=C.useState([]),[J,ae]=C.useState([]),G=C.useCallback(async()=>{try{const ue=(await ha.getAllCompanies(!0)).map(te=>({id:te.id,companyCode:te.companyCode,companyName:te.companyName,status:te.status}));E(ue)}catch(D){console.error("Error loading companies:",D)}},[]),le=C.useCallback(async()=>{try{const ue=(await Oh.getAllCategories(void 0,!0)).map(te=>({id:te.id,categoryCode:te.categoryCode,categoryName:te.categoryName,status:te.status}));L(ue)}catch(D){console.error("Error loading categories:",D)}},[]),V=C.useCallback(async()=>{g(!0),x(null);try{const D=await I0.getAllAutoclaveRegisters(void 0,i!=="all"?i:void 0),ue=await Promise.all(D.map(async te=>{const ye=w.find(pe=>pe.id===te.companyId);return{id:te.id,autoclRegNum:te.autoclRegNum,companyId:te.companyId,companyName:(ye==null?void 0:ye.companyName)||"Unknown",autoclaveDate:te.autoclaveDate,equipmentId:te.equipmentId,batchNo:te.batchNo,wasteCategory:te.wasteCategory,wasteQtyKg:te.wasteQtyKg,startTime:te.startTime,endTime:te.endTime,temperatureC:te.temperatureC,pressureBar:te.pressureBar,cycleTimeMin:te.cycleTimeMin,indicatorResult:te.indicatorResult,complianceStatus:te.complianceStatus,status:te.status,createdBy:te.createdBy,createdOn:te.createdOn,modifiedBy:te.modifiedBy,modifiedOn:te.modifiedOn}}));ae(ue)}catch(D){const ue=D instanceof Error?D.message:"Failed to load autoclave registers";x(ue),console.error("Error loading autoclave registers:",D)}finally{g(!1)}},[i,w]);C.useEffect(()=>{(async()=>{await G(),await le()})()},[G,le]),C.useEffect(()=>{w.length>0&&V()},[w,i,V]);const me=C.useMemo(()=>{const D=a.trim().toLowerCase(),ue=b.autoclRegNum.trim().toLowerCase(),te=b.companyName.trim().toLowerCase(),ye=b.equipmentId.trim().toLowerCase(),pe=b.batchNo.trim().toLowerCase(),je=b.complianceStatus.trim().toLowerCase();return J.filter(re=>{const he=!D||re.autoclRegNum.toLowerCase().includes(D)||re.companyName.toLowerCase().includes(D)||re.equipmentId.toLowerCase().includes(D)||re.batchNo.toLowerCase().includes(D)||re.wasteCategory.toLowerCase().includes(D),X=!ue||re.autoclRegNum.toLowerCase().includes(ue),Ae=!te||re.companyName.toLowerCase().includes(te),Be=!ye||re.equipmentId.toLowerCase().includes(ye),Me=!pe||re.batchNo.toLowerCase().includes(pe),$e=!je||re.complianceStatus.toLowerCase().includes(je),ne=i==="all"||re.status===i;return he&&X&&Ae&&Be&&Me&&$e&&ne})},[J,a,b,i]),$=()=>{f(null),d(!0)},ee=D=>{f(D),d(!0)},we=async D=>{if(window.confirm("Are you sure you want to delete this autoclave register?"))try{g(!0),x(null),await I0.deleteAutoclaveRegister(D),j("Autoclave register deleted successfully"),await V(),setTimeout(()=>j(null),3e3)}catch(ue){const te=ue instanceof Error?ue.message:"Failed to delete autoclave register";x(te),console.error("Error deleting autoclave register:",ue)}finally{g(!1)}},R=async D=>{try{if(g(!0),x(null),h)await I0.updateAutoclaveRegister(h.id,{autoclaveDate:D.autoclaveDate,equipmentId:D.equipmentId,batchNo:D.batchNo,wasteCategory:D.wasteCategory,wasteQtyKg:D.wasteQtyKg,startTime:D.startTime,endTime:D.endTime,temperatureC:D.temperatureC,pressureBar:D.pressureBar,cycleTimeMin:D.cycleTimeMin,indicatorResult:D.indicatorResult,complianceStatus:D.complianceStatus,status:D.status}),j("Autoclave register updated successfully");else{const ue=w.find(te=>te.id===D.companyId);if(!ue){x("Please select a valid company");return}await I0.createAutoclaveRegister({companyId:ue.id,autoclaveDate:D.autoclaveDate,equipmentId:D.equipmentId,batchNo:D.batchNo,wasteCategory:D.wasteCategory,wasteQtyKg:D.wasteQtyKg,startTime:D.startTime,endTime:D.endTime,temperatureC:D.temperatureC,pressureBar:D.pressureBar,cycleTimeMin:D.cycleTimeMin,indicatorResult:D.indicatorResult,complianceStatus:D.complianceStatus||"Compliant",status:D.status||"Active"}),j("Autoclave register created successfully")}d(!1),f(null),await V(),setTimeout(()=>j(null),3e3)}catch(ue){const te=ue instanceof Error?ue.message:"Failed to save autoclave register";x(te),console.error("Error saving autoclave register:",ue)}finally{g(!1)}},q=D=>{switch(D.toLowerCase()){case"compliant":return"status-badge--compliant";case"non-compliant":return"status-badge--non-compliant";case"pending":return"status-badge--pending";default:return""}},ie=D=>{switch(D.toLowerCase()){case"pass":return"status-badge--pass";case"fail":return"status-badge--fail";default:return""}},Z=xs(t,n.pathname);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:"dashboard-sidebar",children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:Z.map(D=>e.jsx("li",{children:e.jsxs(Hr,{to:D.path,className:`nav-link ${D.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:D.icon}),e.jsx("span",{className:"nav-label",children:D.label})]})},D.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Hr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(_a,{title:"Autoclave Register",subtitle:"Manage autoclave operation records"}),y&&e.jsxs("div",{className:"ra-alert ra-alert--success",role:"status","aria-live":"polite",children:[e.jsx("span",{children:y}),e.jsx("button",{onClick:()=>j(null),className:"ra-alert-close","aria-label":"Close success message",children:""})]}),m&&e.jsxs("div",{className:"ra-alert ra-alert--error",role:"alert",children:[e.jsx("span",{children:m}),e.jsx("button",{onClick:()=>x(null),className:"ra-alert-close","aria-label":"Close error message",children:""})]}),A&&!J.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading autoclave registers..."}),e.jsxs("div",{className:"route-assignment-page",children:[e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6"})]})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"Autoclave Register"}),e.jsx("p",{className:"ra-page-subtitle",children:"Manage and track autoclave operations and compliance"})]})]}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",placeholder:"Search by register number, company, equipment, batch...",value:a,onChange:D=>s(D.target.value),className:"ra-search-input"})]}),e.jsxs("div",{className:"ra-actions",children:[e.jsxs("button",{className:"ra-filter-btn",onClick:()=>u(!0),children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),e.jsxs("button",{className:"ra-add-btn",onClick:$,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Autoclave"]})]})]}),e.jsx("div",{className:"route-assignment-table-container",children:e.jsxs("table",{className:"route-assignment-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"REG NUM"}),e.jsx("th",{children:"COMPANY"}),e.jsx("th",{children:"DATE"}),e.jsx("th",{children:"EQUIPMENT ID"}),e.jsx("th",{children:"BATCH NO"}),e.jsx("th",{children:"WASTE CATEGORY"}),e.jsx("th",{children:"QTY (KG)"}),e.jsx("th",{children:"INDICATOR RESULT"}),e.jsx("th",{children:"COMPLIANCE STATUS"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:me.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:11,className:"empty-message",children:A?"Loading...":"No autoclave registers found"})}):me.map(D=>{const ue=te=>{const ye=new Date(te),pe=String(ye.getDate()).padStart(2,"0"),je=String(ye.getMonth()+1).padStart(2,"0"),re=ye.getFullYear();return`${pe}/${je}/${re}`};return e.jsxs("tr",{children:[e.jsx("td",{children:D.autoclRegNum}),e.jsx("td",{children:D.companyName}),e.jsx("td",{children:ue(D.autoclaveDate)}),e.jsx("td",{children:D.equipmentId}),e.jsx("td",{children:D.batchNo}),e.jsx("td",{children:D.wasteCategory}),e.jsx("td",{children:D.wasteQtyKg.toFixed(2)}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge ${ie(D.indicatorResult)}`,children:D.indicatorResult})})}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge ${q(D.complianceStatus)}`,children:D.complianceStatus})})}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge status-badge--${D.status.toLowerCase()}`,children:D.status})})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons ra-actions",children:[e.jsx("button",{className:"action-btn action-btn--view",onClick:()=>ee(D),title:"View",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>ee(D),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>we(D.id),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},D.id)})})]})}),e.jsxs("div",{className:"route-assignment-pagination-info",children:["Showing ",me.length," of ",J.length," items"]})]})]}),l&&e.jsx(pre,{statusFilter:i,advancedFilters:b,onClose:()=>u(!1),onClear:()=>{S({autoclRegNum:"",companyName:"",equipmentId:"",batchNo:"",complianceStatus:""}),c("all"),s("")},onApply:D=>{c(D.statusFilter),S(D.advancedFilters),u(!1)}}),o&&e.jsx(Are,{autoclave:h,companies:w.filter(D=>D.status==="Active"),categories:I.filter(D=>D.status==="Active"),onClose:()=>{d(!1),f(null)},onSave:R})]})},Are=({autoclave:r,companies:t,categories:n,onClose:a,onSave:s})=>{const[i,c]=C.useState(r||{companyId:"",autoclaveDate:new Date().toISOString().split("T")[0],equipmentId:"",batchNo:"",wasteCategory:"",wasteQtyKg:0,startTime:"08:00",endTime:"17:00",temperatureC:0,pressureBar:0,cycleTimeMin:0,indicatorResult:"Pass",complianceStatus:"Compliant",status:"Active"}),o=d=>{d.preventDefault(),s(i)};return e.jsx("div",{className:"modal-overlay ra-assignment-modal-overlay",onClick:a,children:e.jsxs("div",{className:"modal-content ra-assignment-modal",onClick:d=>d.stopPropagation(),children:[e.jsxs("div",{className:"ra-assignment-modal-header",children:[e.jsxs("div",{className:"ra-assignment-modal-titlewrap",children:[e.jsx("div",{className:"ra-assignment-icon","aria-hidden":"true",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6"})]})}),e.jsxs("div",{children:[e.jsx("h2",{className:"ra-assignment-modal-title",children:r?"Edit Autoclave Register":"Add Autoclave Register"}),e.jsx("p",{className:"ra-assignment-modal-subtitle",children:r?"Update autoclave details":"Create a new autoclave register."})]})]}),e.jsx("button",{className:"ra-assignment-close",onClick:a,"aria-label":"Close",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"ra-assignment-form",onSubmit:o,children:[e.jsxs("div",{className:"ra-assignment-form-grid",children:[e.jsxs("div",{className:"ra-assignment-form-col",children:[e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"company",children:["Company Name ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsxs("select",{id:"company",value:i.companyId||"",onChange:d=>c({...i,companyId:d.target.value}),required:!0,disabled:!!r,className:"ra-assignment-select",children:[e.jsx("option",{value:"",children:"Select Company"}),t.map(d=>e.jsx("option",{value:d.id,children:d.companyName},d.id))]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"autoclave-date",children:["Autoclave Date ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"autoclave-date",type:"date",value:i.autoclaveDate||"",onChange:d=>c({...i,autoclaveDate:d.target.value}),required:!0,className:"ra-assignment-input"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"equipment-id",children:["Equipment ID ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"equipment-id",type:"text",value:i.equipmentId||"",onChange:d=>c({...i,equipmentId:d.target.value}),required:!0,className:"ra-assignment-input",placeholder:"Enter equipment ID"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"batch-no",children:["Batch No ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"batch-no",type:"text",value:i.batchNo||"",onChange:d=>c({...i,batchNo:d.target.value}),required:!0,className:"ra-assignment-input",placeholder:"Enter batch number"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"waste-category",children:["Waste Category ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsxs("select",{id:"waste-category",value:i.wasteCategory||"",onChange:d=>c({...i,wasteCategory:d.target.value}),required:!0,className:"ra-assignment-select",children:[e.jsx("option",{value:"",children:"Select Category"}),n.map(d=>e.jsx("option",{value:d.categoryName,children:d.categoryName},d.id))]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"waste-qty",children:["Waste Quantity (kg) ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"waste-qty",type:"number",step:"0.01",value:i.wasteQtyKg||0,onChange:d=>c({...i,wasteQtyKg:parseFloat(d.target.value)||0}),required:!0,className:"ra-assignment-input",placeholder:"0.00"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"start-time",children:["Start Time ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"start-time",type:"time",value:i.startTime||"",onChange:d=>c({...i,startTime:d.target.value}),required:!0,className:"ra-assignment-input"})]})]}),e.jsxs("div",{className:"ra-assignment-form-col",children:[e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"end-time",children:["End Time ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"end-time",type:"time",value:i.endTime||"",onChange:d=>c({...i,endTime:d.target.value}),required:!0,className:"ra-assignment-input"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"temperature",children:["Temperature (C) ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"temperature",type:"number",step:"0.01",value:i.temperatureC||0,onChange:d=>c({...i,temperatureC:parseFloat(d.target.value)||0}),required:!0,className:"ra-assignment-input",placeholder:"0.00"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"pressure",children:["Pressure (bar) ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"pressure",type:"number",step:"0.01",value:i.pressureBar||0,onChange:d=>c({...i,pressureBar:parseFloat(d.target.value)||0}),required:!0,className:"ra-assignment-input",placeholder:"0.00"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"cycle-time",children:["Cycle Time (minutes) ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"cycle-time",type:"number",step:"1",value:i.cycleTimeMin||0,onChange:d=>c({...i,cycleTimeMin:parseInt(d.target.value)||0}),required:!0,className:"ra-assignment-input",placeholder:"0"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsx("label",{htmlFor:"indicator-result",children:"Indicator Result"}),e.jsxs("select",{id:"indicator-result",value:i.indicatorResult||"Pass",onChange:d=>c({...i,indicatorResult:d.target.value}),className:"ra-assignment-select",children:[e.jsx("option",{value:"Pass",children:"Pass"}),e.jsx("option",{value:"Fail",children:"Fail"})]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsx("label",{htmlFor:"compliance-status",children:"Compliance Status"}),e.jsxs("select",{id:"compliance-status",value:i.complianceStatus||"Compliant",onChange:d=>c({...i,complianceStatus:d.target.value}),className:"ra-assignment-select",children:[e.jsx("option",{value:"Compliant",children:"Compliant"}),e.jsx("option",{value:"Non-Compliant",children:"Non-Compliant"}),e.jsx("option",{value:"Pending",children:"Pending"})]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsx("label",{htmlFor:"status",children:"Status"}),e.jsxs("select",{id:"status",value:i.status||"Active",onChange:d=>c({...i,status:d.target.value}),className:"ra-assignment-select",children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),e.jsxs("div",{className:"ra-assignment-modal-footer",children:[e.jsx("button",{type:"button",className:"ra-assignment-btn ra-assignment-btn--cancel",onClick:a,children:"Cancel"}),e.jsx("button",{type:"submit",className:"ra-assignment-btn ra-assignment-btn--primary",children:r?"Update Autoclave":"Create Autoclave"})]})]})]})})},pre=({statusFilter:r,advancedFilters:t,onClose:n,onClear:a,onApply:s})=>{const[i,c]=C.useState(r),[o,d]=C.useState(t);return e.jsx("div",{className:"modal-overlay ra-filter-modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content ra-filter-modal",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"ra-filter-modal-header",children:[e.jsxs("div",{className:"ra-filter-modal-titlewrap",children:[e.jsx("div",{className:"ra-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M22 3H2l8 9v7l4 2v-9l8-9z"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"ra-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"ra-filter-subtitle",children:"Filter autoclave registers by multiple criteria"})]})]}),e.jsx("button",{className:"ra-filter-close",onClick:n,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"ra-filter-modal-body",children:e.jsxs("div",{className:"ra-filter-grid",children:[e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Register Number"}),e.jsx("input",{type:"text",value:o.autoclRegNum,onChange:l=>d({...o,autoclRegNum:l.target.value}),className:"ra-filter-input",placeholder:"Enter register number"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Company Name"}),e.jsx("input",{type:"text",value:o.companyName,onChange:l=>d({...o,companyName:l.target.value}),className:"ra-filter-input",placeholder:"Enter company name"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Equipment ID"}),e.jsx("input",{type:"text",value:o.equipmentId,onChange:l=>d({...o,equipmentId:l.target.value}),className:"ra-filter-input",placeholder:"Enter equipment ID"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Batch No"}),e.jsx("input",{type:"text",value:o.batchNo,onChange:l=>d({...o,batchNo:l.target.value}),className:"ra-filter-input",placeholder:"Enter batch number"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Compliance Status"}),e.jsxs("select",{value:o.complianceStatus,onChange:l=>d({...o,complianceStatus:l.target.value}),className:"ra-filter-select",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"Compliant",children:"Compliant"}),e.jsx("option",{value:"Non-Compliant",children:"Non-Compliant"}),e.jsx("option",{value:"Pending",children:"Pending"})]})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:i,onChange:l=>c(l.target.value),className:"ra-filter-select",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"ra-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"ra-link-btn",onClick:()=>{c("all"),d({autoclRegNum:"",companyName:"",equipmentId:"",batchNo:"",complianceStatus:""}),a()},children:"Clear Filters"}),e.jsx("button",{type:"button",className:"ra-btn ra-btn--primary ra-btn--sm",onClick:()=>s({statusFilter:i,advancedFilters:o}),children:"Apply Filters"})]})]})})},mre="http://localhost:3000/api/v1",gre=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},yg=async(r,t={})=>{const n=gre(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${mre}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const c=await s.json();c.message?Array.isArray(c.message)?i=c.message.join(", "):typeof c.message=="string"?i=c.message:i=String(c.message):c.error&&(typeof c.error=="string"?i=c.error:c.error.message?i=typeof c.error.message=="string"?c.error.message:String(c.error.message):i=JSON.stringify(c.error));const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o.errorData=c,o}catch{const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o}}return s.status===204?{}:s.json()},T0={createShredderRegister:async r=>(await yg("/shredder-registers",{method:"POST",body:JSON.stringify(r)})).data,getShredderRegisterById:async r=>(await yg(`/shredder-registers/${r}`,{method:"GET"})).data,getAllShredderRegisters:async(r,t)=>{let n="/shredder-registers";const a=new URLSearchParams;return r&&a.append("companyId",r),t&&a.append("status",t),a.toString()&&(n+=`?${a.toString()}`),(await yg(n,{method:"GET"})).data},updateShredderRegister:async(r,t)=>(await yg(`/shredder-registers/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,deleteShredderRegister:async r=>{await yg(`/shredder-registers/${r}`,{method:"DELETE"})}},vre=()=>{const{logout:r,permissions:t}=Yn(),n=jn(),[a,s]=C.useState(""),[i,c]=C.useState("all"),[o,d]=C.useState(!1),[l,u]=C.useState(!1),[h,f]=C.useState(null),[A,g]=C.useState(!1),[m,x]=C.useState(null),[y,j]=C.useState(null),[b,S]=C.useState({shredRegNum:"",companyName:"",equipmentId:"",batchNo:"",complianceStatus:""}),[w,E]=C.useState([]),[I,L]=C.useState([]),[J,ae]=C.useState([]),G=C.useCallback(async()=>{try{const ue=(await ha.getAllCompanies(!0)).map(te=>({id:te.id,companyCode:te.companyCode,companyName:te.companyName,status:te.status}));E(ue)}catch(D){console.error("Error loading companies:",D)}},[]),le=C.useCallback(async()=>{try{const ue=(await Oh.getAllCategories(void 0,!0)).map(te=>({id:te.id,categoryCode:te.categoryCode,categoryName:te.categoryName,status:te.status}));L(ue)}catch(D){console.error("Error loading categories:",D)}},[]),V=C.useCallback(async()=>{g(!0),x(null);try{const D=await T0.getAllShredderRegisters(void 0,i!=="all"?i:void 0),ue=await Promise.all(D.map(async te=>{const ye=w.find(pe=>pe.id===te.companyId);return{id:te.id,shredRegNum:te.shredRegNum,companyId:te.companyId,companyName:(ye==null?void 0:ye.companyName)||"Unknown",shredderDate:te.shredderDate,equipmentId:te.equipmentId,batchNo:te.batchNo,wasteCategory:te.wasteCategory,wasteQtyKg:te.wasteQtyKg,startTime:te.startTime,endTime:te.endTime,temperatureC:te.temperatureC,pressureBar:te.pressureBar,cycleTimeMin:te.cycleTimeMin,indicatorResult:te.indicatorResult,complianceStatus:te.complianceStatus,status:te.status,createdBy:te.createdBy,createdOn:te.createdOn,modifiedBy:te.modifiedBy,modifiedOn:te.modifiedOn}}));ae(ue)}catch(D){const ue=D instanceof Error?D.message:"Failed to load shredder registers";x(ue),console.error("Error loading shredder registers:",D)}finally{g(!1)}},[i,w]);C.useEffect(()=>{(async()=>{await G(),await le()})()},[G,le]),C.useEffect(()=>{w.length>0&&V()},[w,i,V]);const me=C.useMemo(()=>{const D=a.trim().toLowerCase(),ue=b.shredRegNum.trim().toLowerCase(),te=b.companyName.trim().toLowerCase(),ye=b.equipmentId.trim().toLowerCase(),pe=b.batchNo.trim().toLowerCase(),je=b.complianceStatus.trim().toLowerCase();return J.filter(re=>{const he=!D||re.shredRegNum.toLowerCase().includes(D)||re.companyName.toLowerCase().includes(D)||re.equipmentId.toLowerCase().includes(D)||re.batchNo.toLowerCase().includes(D)||re.wasteCategory.toLowerCase().includes(D),X=!ue||re.shredRegNum.toLowerCase().includes(ue),Ae=!te||re.companyName.toLowerCase().includes(te),Be=!ye||re.equipmentId.toLowerCase().includes(ye),Me=!pe||re.batchNo.toLowerCase().includes(pe),$e=!je||re.complianceStatus.toLowerCase().includes(je),ne=i==="all"||re.status===i;return he&&X&&Ae&&Be&&Me&&$e&&ne})},[J,a,b,i]),$=()=>{f(null),d(!0)},ee=D=>{f(D),d(!0)},we=async D=>{if(window.confirm("Are you sure you want to delete this shredder register?"))try{g(!0),x(null),await T0.deleteShredderRegister(D),j("Shredder register deleted successfully"),await V(),setTimeout(()=>j(null),3e3)}catch(ue){const te=ue instanceof Error?ue.message:"Failed to delete shredder register";x(te),console.error("Error deleting shredder register:",ue)}finally{g(!1)}},R=async D=>{try{if(g(!0),x(null),h)await T0.updateShredderRegister(h.id,{shredderDate:D.shredderDate,equipmentId:D.equipmentId,batchNo:D.batchNo,wasteCategory:D.wasteCategory,wasteQtyKg:D.wasteQtyKg,startTime:D.startTime,endTime:D.endTime,temperatureC:D.temperatureC,pressureBar:D.pressureBar,cycleTimeMin:D.cycleTimeMin,indicatorResult:D.indicatorResult,complianceStatus:D.complianceStatus,status:D.status}),j("Shredder register updated successfully");else{const ue=w.find(te=>te.id===D.companyId);if(!ue){x("Please select a valid company");return}await T0.createShredderRegister({companyId:ue.id,shredderDate:D.shredderDate,equipmentId:D.equipmentId,batchNo:D.batchNo,wasteCategory:D.wasteCategory,wasteQtyKg:D.wasteQtyKg,startTime:D.startTime,endTime:D.endTime,temperatureC:D.temperatureC,pressureBar:D.pressureBar,cycleTimeMin:D.cycleTimeMin,indicatorResult:D.indicatorResult,complianceStatus:D.complianceStatus||"Compliant",status:D.status||"Active"}),j("Shredder register created successfully")}d(!1),f(null),await V(),setTimeout(()=>j(null),3e3)}catch(ue){const te=ue instanceof Error?ue.message:"Failed to save shredder register";x(te),console.error("Error saving shredder register:",ue)}finally{g(!1)}},q=D=>{switch(D.toLowerCase()){case"compliant":return"status-badge--compliant";case"non-compliant":return"status-badge--non-compliant";case"pending":return"status-badge--pending";default:return""}},ie=D=>{switch(D.toLowerCase()){case"pass":return"status-badge--pass";case"fail":return"status-badge--fail";default:return""}},Z=xs(t,n.pathname);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:"dashboard-sidebar",children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:Z.map(D=>e.jsx("li",{children:e.jsxs(Hr,{to:D.path,className:`nav-link ${D.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:D.icon}),e.jsx("span",{className:"nav-label",children:D.label})]})},D.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Hr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(_a,{title:"Shredder Register",subtitle:"Manage shredder operation records"}),y&&e.jsxs("div",{className:"ra-alert ra-alert--success",role:"status","aria-live":"polite",children:[e.jsx("span",{children:y}),e.jsx("button",{onClick:()=>j(null),className:"ra-alert-close","aria-label":"Close success message",children:""})]}),m&&e.jsxs("div",{className:"ra-alert ra-alert--error",role:"alert",children:[e.jsx("span",{children:m}),e.jsx("button",{onClick:()=>x(null),className:"ra-alert-close","aria-label":"Close error message",children:""})]}),A&&!J.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading shredder registers..."}),e.jsxs("div",{className:"route-assignment-page",children:[e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon",children:e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"Shredder Register"}),e.jsx("p",{className:"ra-page-subtitle",children:"Manage and track shredder operations and compliance"})]})]}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",placeholder:"Search by register number, company, equipment, batch...",value:a,onChange:D=>s(D.target.value),className:"ra-search-input"})]}),e.jsxs("div",{className:"ra-actions",children:[e.jsxs("button",{className:"ra-filter-btn",onClick:()=>u(!0),children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),e.jsxs("button",{className:"ra-add-btn",onClick:$,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Shredder"]})]})]}),e.jsx("div",{className:"route-assignment-table-container",children:e.jsxs("table",{className:"route-assignment-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"REG NUM"}),e.jsx("th",{children:"COMPANY"}),e.jsx("th",{children:"DATE"}),e.jsx("th",{children:"EQUIPMENT ID"}),e.jsx("th",{children:"BATCH NO"}),e.jsx("th",{children:"WASTE CATEGORY"}),e.jsx("th",{children:"QTY (KG)"}),e.jsx("th",{children:"INDICATOR RESULT"}),e.jsx("th",{children:"COMPLIANCE STATUS"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:me.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:11,className:"empty-message",children:A?"Loading...":"No shredder registers found"})}):me.map(D=>{const ue=te=>{const ye=new Date(te),pe=String(ye.getDate()).padStart(2,"0"),je=String(ye.getMonth()+1).padStart(2,"0"),re=ye.getFullYear();return`${pe}/${je}/${re}`};return e.jsxs("tr",{children:[e.jsx("td",{children:D.shredRegNum}),e.jsx("td",{children:D.companyName}),e.jsx("td",{children:ue(D.shredderDate)}),e.jsx("td",{children:D.equipmentId}),e.jsx("td",{children:D.batchNo}),e.jsx("td",{children:D.wasteCategory}),e.jsx("td",{children:D.wasteQtyKg.toFixed(2)}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge ${ie(D.indicatorResult)}`,children:D.indicatorResult})})}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge ${q(D.complianceStatus)}`,children:D.complianceStatus})})}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge status-badge--${D.status.toLowerCase()}`,children:D.status})})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons ra-actions",children:[e.jsx("button",{className:"action-btn action-btn--view",onClick:()=>ee(D),title:"View",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>ee(D),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>we(D.id),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},D.id)})})]})}),e.jsxs("div",{className:"route-assignment-pagination-info",children:["Showing ",me.length," of ",J.length," items"]})]})]}),l&&e.jsx(yre,{statusFilter:i,advancedFilters:b,onClose:()=>u(!1),onClear:()=>{S({shredRegNum:"",companyName:"",equipmentId:"",batchNo:"",complianceStatus:""}),c("all"),s("")},onApply:D=>{c(D.statusFilter),S(D.advancedFilters),u(!1)}}),o&&e.jsx(xre,{shredder:h,companies:w.filter(D=>D.status==="Active"),categories:I.filter(D=>D.status==="Active"),onClose:()=>{d(!1),f(null)},onSave:R})]})},xre=({shredder:r,companies:t,categories:n,onClose:a,onSave:s})=>{const[i,c]=C.useState(r||{companyId:"",shredderDate:new Date().toISOString().split("T")[0],equipmentId:"",batchNo:"",wasteCategory:"",wasteQtyKg:0,startTime:"08:00",endTime:"17:00",temperatureC:0,pressureBar:0,cycleTimeMin:0,indicatorResult:"Pass",complianceStatus:"Compliant",status:"Active"}),o=d=>{d.preventDefault(),s(i)};return e.jsx("div",{className:"modal-overlay ra-assignment-modal-overlay",onClick:a,children:e.jsxs("div",{className:"modal-content ra-assignment-modal",onClick:d=>d.stopPropagation(),children:[e.jsxs("div",{className:"ra-assignment-modal-header",children:[e.jsxs("div",{className:"ra-assignment-modal-titlewrap",children:[e.jsx("div",{className:"ra-assignment-icon","aria-hidden":"true",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})})}),e.jsxs("div",{children:[e.jsx("h2",{className:"ra-assignment-modal-title",children:r?"Edit Shredder Register":"Add Shredder Register"}),e.jsx("p",{className:"ra-assignment-modal-subtitle",children:r?"Update shredder details":"Create a new shredder register."})]})]}),e.jsx("button",{className:"ra-assignment-close",onClick:a,"aria-label":"Close",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"ra-assignment-form",onSubmit:o,children:[e.jsxs("div",{className:"ra-assignment-form-grid",children:[e.jsxs("div",{className:"ra-assignment-form-col",children:[e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"company",children:["Company Name ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsxs("select",{id:"company",value:i.companyId||"",onChange:d=>c({...i,companyId:d.target.value}),required:!0,disabled:!!r,className:"ra-assignment-select",children:[e.jsx("option",{value:"",children:"Select Company"}),t.map(d=>e.jsx("option",{value:d.id,children:d.companyName},d.id))]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"shredder-date",children:["Shredder Date ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"shredder-date",type:"date",value:i.shredderDate||"",onChange:d=>c({...i,shredderDate:d.target.value}),required:!0,className:"ra-assignment-input"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"equipment-id",children:["Equipment ID ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"equipment-id",type:"text",value:i.equipmentId||"",onChange:d=>c({...i,equipmentId:d.target.value}),required:!0,className:"ra-assignment-input",placeholder:"Enter equipment ID"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"batch-no",children:["Batch No ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"batch-no",type:"text",value:i.batchNo||"",onChange:d=>c({...i,batchNo:d.target.value}),required:!0,className:"ra-assignment-input",placeholder:"Enter batch number"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"waste-category",children:["Waste Category ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsxs("select",{id:"waste-category",value:i.wasteCategory||"",onChange:d=>c({...i,wasteCategory:d.target.value}),required:!0,className:"ra-assignment-select",children:[e.jsx("option",{value:"",children:"Select Category"}),n.map(d=>e.jsx("option",{value:d.categoryName,children:d.categoryName},d.id))]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"waste-qty",children:["Waste Quantity (kg) ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"waste-qty",type:"number",step:"0.01",value:i.wasteQtyKg||0,onChange:d=>c({...i,wasteQtyKg:parseFloat(d.target.value)||0}),required:!0,className:"ra-assignment-input",placeholder:"0.00"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"start-time",children:["Start Time ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"start-time",type:"time",value:i.startTime||"",onChange:d=>c({...i,startTime:d.target.value}),required:!0,className:"ra-assignment-input"})]})]}),e.jsxs("div",{className:"ra-assignment-form-col",children:[e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"end-time",children:["End Time ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"end-time",type:"time",value:i.endTime||"",onChange:d=>c({...i,endTime:d.target.value}),required:!0,className:"ra-assignment-input"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"temperature",children:["Temperature (C) ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"temperature",type:"number",step:"0.01",value:i.temperatureC||0,onChange:d=>c({...i,temperatureC:parseFloat(d.target.value)||0}),required:!0,className:"ra-assignment-input",placeholder:"0.00"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"pressure",children:["Pressure (bar) ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"pressure",type:"number",step:"0.01",value:i.pressureBar||0,onChange:d=>c({...i,pressureBar:parseFloat(d.target.value)||0}),required:!0,className:"ra-assignment-input",placeholder:"0.00"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"cycle-time",children:["Cycle Time (minutes) ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"cycle-time",type:"number",step:"1",value:i.cycleTimeMin||0,onChange:d=>c({...i,cycleTimeMin:parseInt(d.target.value)||0}),required:!0,className:"ra-assignment-input",placeholder:"0"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsx("label",{htmlFor:"indicator-result",children:"Indicator Result"}),e.jsxs("select",{id:"indicator-result",value:i.indicatorResult||"Pass",onChange:d=>c({...i,indicatorResult:d.target.value}),className:"ra-assignment-select",children:[e.jsx("option",{value:"Pass",children:"Pass"}),e.jsx("option",{value:"Fail",children:"Fail"})]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsx("label",{htmlFor:"compliance-status",children:"Compliance Status"}),e.jsxs("select",{id:"compliance-status",value:i.complianceStatus||"Compliant",onChange:d=>c({...i,complianceStatus:d.target.value}),className:"ra-assignment-select",children:[e.jsx("option",{value:"Compliant",children:"Compliant"}),e.jsx("option",{value:"Non-Compliant",children:"Non-Compliant"}),e.jsx("option",{value:"Pending",children:"Pending"})]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsx("label",{htmlFor:"status",children:"Status"}),e.jsxs("select",{id:"status",value:i.status||"Active",onChange:d=>c({...i,status:d.target.value}),className:"ra-assignment-select",children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),e.jsxs("div",{className:"ra-assignment-modal-footer",children:[e.jsx("button",{type:"button",className:"ra-assignment-btn ra-assignment-btn--cancel",onClick:a,children:"Cancel"}),e.jsx("button",{type:"submit",className:"ra-assignment-btn ra-assignment-btn--primary",children:r?"Update Shredder":"Create Shredder"})]})]})]})})},yre=({statusFilter:r,advancedFilters:t,onClose:n,onClear:a,onApply:s})=>{const[i,c]=C.useState(r),[o,d]=C.useState(t);return e.jsx("div",{className:"modal-overlay ra-filter-modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content ra-filter-modal",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"ra-filter-modal-header",children:[e.jsxs("div",{className:"ra-filter-modal-titlewrap",children:[e.jsx("div",{className:"ra-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M22 3H2l8 9v7l4 2v-9l8-9z"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"ra-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"ra-filter-subtitle",children:"Filter shredder registers by multiple criteria"})]})]}),e.jsx("button",{className:"ra-filter-close",onClick:n,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"ra-filter-modal-body",children:e.jsxs("div",{className:"ra-filter-grid",children:[e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Register Number"}),e.jsx("input",{type:"text",value:o.shredRegNum,onChange:l=>d({...o,shredRegNum:l.target.value}),className:"ra-filter-input",placeholder:"Enter register number"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Company Name"}),e.jsx("input",{type:"text",value:o.companyName,onChange:l=>d({...o,companyName:l.target.value}),className:"ra-filter-input",placeholder:"Enter company name"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Equipment ID"}),e.jsx("input",{type:"text",value:o.equipmentId,onChange:l=>d({...o,equipmentId:l.target.value}),className:"ra-filter-input",placeholder:"Enter equipment ID"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Batch No"}),e.jsx("input",{type:"text",value:o.batchNo,onChange:l=>d({...o,batchNo:l.target.value}),className:"ra-filter-input",placeholder:"Enter batch number"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Compliance Status"}),e.jsxs("select",{value:o.complianceStatus,onChange:l=>d({...o,complianceStatus:l.target.value}),className:"ra-filter-select",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"Compliant",children:"Compliant"}),e.jsx("option",{value:"Non-Compliant",children:"Non-Compliant"}),e.jsx("option",{value:"Pending",children:"Pending"})]})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:i,onChange:l=>c(l.target.value),className:"ra-filter-select",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"ra-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"ra-link-btn",onClick:()=>{c("all"),d({shredRegNum:"",companyName:"",equipmentId:"",batchNo:"",complianceStatus:""}),a()},children:"Clear Filters"}),e.jsx("button",{type:"button",className:"ra-btn ra-btn--primary ra-btn--sm",onClick:()=>s({statusFilter:i,advancedFilters:o}),children:"Apply Filters"})]})]})})},jre="http://localhost:3000/api/v1",bre=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},jg=async(r,t={})=>{const n=bre(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${jre}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const c=await s.json();c.message?Array.isArray(c.message)?i=c.message.join(", "):typeof c.message=="string"?i=c.message:i=String(c.message):c.error&&(typeof c.error=="string"?i=c.error:c.error.message?i=typeof c.error.message=="string"?c.error.message:String(c.error.message):i=JSON.stringify(c.error));const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o.errorData=c,o}catch{const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o}}return s.status===204?{}:s.json()},k0={createDisposalRegister:async r=>(await jg("/disposal-registers",{method:"POST",body:JSON.stringify(r)})).data,getDisposalRegisterById:async r=>(await jg(`/disposal-registers/${r}`,{method:"GET"})).data,getAllDisposalRegisters:async(r,t)=>{let n="/disposal-registers";const a=new URLSearchParams;return r&&a.append("companyId",r),t&&a.append("status",t),a.toString()&&(n+=`?${a.toString()}`),(await jg(n,{method:"GET"})).data},updateDisposalRegister:async(r,t)=>(await jg(`/disposal-registers/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,deleteDisposalRegister:async r=>{await jg(`/disposal-registers/${r}`,{method:"DELETE"})}},wre=()=>{const{logout:r,permissions:t}=Yn(),n=jn(),[a,s]=C.useState(""),[i,c]=C.useState("all"),[o,d]=C.useState(!1),[l,u]=C.useState(!1),[h,f]=C.useState(null),[A,g]=C.useState(!1),[m,x]=C.useState(null),[y,j]=C.useState(null),[b,S]=C.useState({dispoRegNum:"",companyName:"",disposalMethod:"",vehicleNo:"",complianceStatus:""}),[w,E]=C.useState([]),[I,L]=C.useState([]),[J,ae]=C.useState([]),G=C.useCallback(async()=>{try{const D=(await ha.getAllCompanies(!0)).map(ue=>({id:ue.id,companyCode:ue.companyCode,companyName:ue.companyName,status:ue.status}));E(D)}catch(Z){console.error("Error loading companies:",Z)}},[]),le=C.useCallback(async()=>{try{const D=(await Oh.getAllCategories(void 0,!0)).map(ue=>({id:ue.id,categoryCode:ue.categoryCode,categoryName:ue.categoryName,status:ue.status}));L(D)}catch(Z){console.error("Error loading categories:",Z)}},[]),V=C.useCallback(async()=>{g(!0),x(null);try{const Z=await k0.getAllDisposalRegisters(void 0,i!=="all"?i:void 0),D=await Promise.all(Z.map(async ue=>{const te=w.find(ye=>ye.id===ue.companyId);return{id:ue.id,dispoRegNum:ue.dispoRegNum,companyId:ue.companyId,companyName:(te==null?void 0:te.companyName)||"Unknown",disposalDate:ue.disposalDate,sourceTreatmentType:ue.sourceTreatmentType,sourceBatchRef:ue.sourceBatchRef,wasteType:ue.wasteType,quantityKg:ue.quantityKg,disposalMethod:ue.disposalMethod,disposalSite:ue.disposalSite,transportMode:ue.transportMode,vehicleNo:ue.vehicleNo,manifestNo:ue.manifestNo,complianceStatus:ue.complianceStatus,status:ue.status,createdBy:ue.createdBy,createdOn:ue.createdOn,modifiedBy:ue.modifiedBy,modifiedOn:ue.modifiedOn}}));ae(D)}catch(Z){const D=Z instanceof Error?Z.message:"Failed to load disposal registers";x(D),console.error("Error loading disposal registers:",Z)}finally{g(!1)}},[i,w]);C.useEffect(()=>{(async()=>{await G(),await le()})()},[G,le]),C.useEffect(()=>{w.length>0&&V()},[w,i,V]);const me=C.useMemo(()=>{const Z=a.trim().toLowerCase(),D=b.dispoRegNum.trim().toLowerCase(),ue=b.companyName.trim().toLowerCase(),te=b.disposalMethod.trim().toLowerCase(),ye=b.vehicleNo.trim().toLowerCase(),pe=b.complianceStatus.trim().toLowerCase();return J.filter(je=>{const re=!Z||je.dispoRegNum.toLowerCase().includes(Z)||je.companyName.toLowerCase().includes(Z)||je.disposalMethod.toLowerCase().includes(Z)||je.vehicleNo.toLowerCase().includes(Z)||je.manifestNo.toLowerCase().includes(Z)||je.wasteType.toLowerCase().includes(Z),he=!D||je.dispoRegNum.toLowerCase().includes(D),X=!ue||je.companyName.toLowerCase().includes(ue),Ae=!te||je.disposalMethod.toLowerCase().includes(te),Be=!ye||je.vehicleNo.toLowerCase().includes(ye),Me=!pe||je.complianceStatus.toLowerCase().includes(pe),$e=i==="all"||je.status===i;return re&&he&&X&&Ae&&Be&&Me&&$e})},[J,a,b,i]),$=()=>{f(null),d(!0)},ee=Z=>{f(Z),d(!0)},we=async Z=>{if(window.confirm("Are you sure you want to delete this disposal register?"))try{g(!0),x(null),await k0.deleteDisposalRegister(Z),j("Disposal register deleted successfully"),await V(),setTimeout(()=>j(null),3e3)}catch(D){const ue=D instanceof Error?D.message:"Failed to delete disposal register";x(ue),console.error("Error deleting disposal register:",D)}finally{g(!1)}},R=async Z=>{try{if(g(!0),x(null),h)await k0.updateDisposalRegister(h.id,{disposalDate:Z.disposalDate,sourceTreatmentType:Z.sourceTreatmentType,sourceBatchRef:Z.sourceBatchRef,wasteType:Z.wasteType,quantityKg:Z.quantityKg,disposalMethod:Z.disposalMethod,disposalSite:Z.disposalSite,transportMode:Z.transportMode,vehicleNo:Z.vehicleNo,manifestNo:Z.manifestNo,complianceStatus:Z.complianceStatus,status:Z.status}),j("Disposal register updated successfully");else{const D=w.find(ue=>ue.id===Z.companyId);if(!D){x("Please select a valid company");return}await k0.createDisposalRegister({companyId:D.id,disposalDate:Z.disposalDate,sourceTreatmentType:Z.sourceTreatmentType,sourceBatchRef:Z.sourceBatchRef,wasteType:Z.wasteType,quantityKg:Z.quantityKg,disposalMethod:Z.disposalMethod,disposalSite:Z.disposalSite,transportMode:Z.transportMode,vehicleNo:Z.vehicleNo,manifestNo:Z.manifestNo,complianceStatus:Z.complianceStatus||"Compliant",status:Z.status||"Active"}),j("Disposal register created successfully")}d(!1),f(null),await V(),setTimeout(()=>j(null),3e3)}catch(D){const ue=D instanceof Error?D.message:"Failed to save disposal register";x(ue),console.error("Error saving disposal register:",D)}finally{g(!1)}},q=Z=>{switch(Z.toLowerCase()){case"compliant":return"status-badge--compliant";case"non-compliant":return"status-badge--non-compliant";case"pending":return"status-badge--pending";default:return""}},ie=xs(t,n.pathname);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:"dashboard-sidebar",children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:ie.map(Z=>e.jsx("li",{children:e.jsxs(Hr,{to:Z.path,className:`nav-link ${Z.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:Z.icon}),e.jsx("span",{className:"nav-label",children:Z.label})]})},Z.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Hr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(_a,{title:"Disposal Register",subtitle:"Manage waste disposal records"}),y&&e.jsxs("div",{className:"ra-alert ra-alert--success",role:"status","aria-live":"polite",children:[e.jsx("span",{children:y}),e.jsx("button",{onClick:()=>j(null),className:"ra-alert-close","aria-label":"Close success message",children:""})]}),m&&e.jsxs("div",{className:"ra-alert ra-alert--error",role:"alert",children:[e.jsx("span",{children:m}),e.jsx("button",{onClick:()=>x(null),className:"ra-alert-close","aria-label":"Close error message",children:""})]}),A&&!J.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading disposal registers..."}),e.jsxs("div",{className:"route-assignment-page",children:[e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 3h18v18H3z"}),e.jsx("path",{d:"M9 9h6v6H9z"}),e.jsx("path",{d:"M3 12h18"}),e.jsx("path",{d:"M12 3v18"})]})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"Disposal Register"}),e.jsx("p",{className:"ra-page-subtitle",children:"Manage and track waste disposal operations and compliance"})]})]}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",placeholder:"Search by register number, company, disposal method, vehicle...",value:a,onChange:Z=>s(Z.target.value),className:"ra-search-input"})]}),e.jsxs("div",{className:"ra-actions",children:[e.jsxs("button",{className:"ra-filter-btn",onClick:()=>u(!0),children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),e.jsxs("button",{className:"ra-add-btn",onClick:$,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Disposal"]})]})]}),e.jsx("div",{className:"route-assignment-table-container",children:e.jsxs("table",{className:"route-assignment-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"REG NUM"}),e.jsx("th",{children:"COMPANY"}),e.jsx("th",{children:"DATE"}),e.jsx("th",{children:"WASTE TYPE"}),e.jsx("th",{children:"QTY (KG)"}),e.jsx("th",{children:"DISPOSAL METHOD"}),e.jsx("th",{children:"DISPOSAL SITE"}),e.jsx("th",{children:"VEHICLE NO"}),e.jsx("th",{children:"MANIFEST NO"}),e.jsx("th",{children:"COMPLIANCE STATUS"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:me.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:12,className:"empty-message",children:A?"Loading...":"No disposal registers found"})}):me.map(Z=>{const D=ue=>{const te=new Date(ue),ye=String(te.getDate()).padStart(2,"0"),pe=String(te.getMonth()+1).padStart(2,"0"),je=te.getFullYear();return`${ye}/${pe}/${je}`};return e.jsxs("tr",{children:[e.jsx("td",{children:Z.dispoRegNum}),e.jsx("td",{children:Z.companyName}),e.jsx("td",{children:D(Z.disposalDate)}),e.jsx("td",{children:Z.wasteType}),e.jsx("td",{children:Z.quantityKg.toFixed(2)}),e.jsx("td",{children:Z.disposalMethod}),e.jsx("td",{children:Z.disposalSite}),e.jsx("td",{children:Z.vehicleNo}),e.jsx("td",{children:Z.manifestNo}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge ${q(Z.complianceStatus)}`,children:Z.complianceStatus})})}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge status-badge--${Z.status.toLowerCase()}`,children:Z.status})})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons ra-actions",children:[e.jsx("button",{className:"action-btn action-btn--view",onClick:()=>ee(Z),title:"View",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>ee(Z),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>we(Z.id),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},Z.id)})})]})}),e.jsxs("div",{className:"route-assignment-pagination-info",children:["Showing ",me.length," of ",J.length," items"]})]})]}),l&&e.jsx(Nre,{statusFilter:i,advancedFilters:b,onClose:()=>u(!1),onClear:()=>{S({dispoRegNum:"",companyName:"",disposalMethod:"",vehicleNo:"",complianceStatus:""}),c("all"),s("")},onApply:Z=>{c(Z.statusFilter),S(Z.advancedFilters),u(!1)}}),o&&e.jsx(Cre,{disposal:h,companies:w.filter(Z=>Z.status==="Active"),categories:I.filter(Z=>Z.status==="Active"),onClose:()=>{d(!1),f(null)},onSave:R})]})},Cre=({disposal:r,companies:t,categories:n,onClose:a,onSave:s})=>{const[i,c]=C.useState(r||{companyId:"",disposalDate:new Date().toISOString().split("T")[0],sourceTreatmentType:"",sourceBatchRef:"",wasteType:"",quantityKg:0,disposalMethod:"",disposalSite:"",transportMode:"",vehicleNo:"",manifestNo:"",complianceStatus:"Compliant",status:"Active"}),o=d=>{d.preventDefault(),s(i)};return e.jsx("div",{className:"modal-overlay ra-assignment-modal-overlay",onClick:a,children:e.jsxs("div",{className:"modal-content ra-assignment-modal",onClick:d=>d.stopPropagation(),children:[e.jsxs("div",{className:"ra-assignment-modal-header",children:[e.jsxs("div",{className:"ra-assignment-modal-titlewrap",children:[e.jsx("div",{className:"ra-assignment-icon","aria-hidden":"true",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 3h18v18H3z"}),e.jsx("path",{d:"M9 9h6v6H9z"}),e.jsx("path",{d:"M3 12h18"}),e.jsx("path",{d:"M12 3v18"})]})}),e.jsxs("div",{children:[e.jsx("h2",{className:"ra-assignment-modal-title",children:r?"Edit Disposal Register":"Add Disposal Register"}),e.jsx("p",{className:"ra-assignment-modal-subtitle",children:r?"Update disposal details":"Create a new disposal register."})]})]}),e.jsx("button",{className:"ra-assignment-close",onClick:a,"aria-label":"Close",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"ra-assignment-form",onSubmit:o,children:[e.jsxs("div",{className:"ra-assignment-form-grid",children:[e.jsxs("div",{className:"ra-assignment-form-col",children:[e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"company",children:["Company Name ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsxs("select",{id:"company",value:i.companyId||"",onChange:d=>c({...i,companyId:d.target.value}),required:!0,disabled:!!r,className:"ra-assignment-select",children:[e.jsx("option",{value:"",children:"Select Company"}),t.map(d=>e.jsx("option",{value:d.id,children:d.companyName},d.id))]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"disposal-date",children:["Disposal Date ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"disposal-date",type:"date",value:i.disposalDate||"",onChange:d=>c({...i,disposalDate:d.target.value}),required:!0,className:"ra-assignment-input"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"source-treatment-type",children:["Source Treatment Type ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"source-treatment-type",type:"text",value:i.sourceTreatmentType||"",onChange:d=>c({...i,sourceTreatmentType:d.target.value}),required:!0,className:"ra-assignment-input",placeholder:"Enter source treatment type"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"source-batch-ref",children:["Source Batch Ref ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"source-batch-ref",type:"text",value:i.sourceBatchRef||"",onChange:d=>c({...i,sourceBatchRef:d.target.value}),required:!0,className:"ra-assignment-input",placeholder:"Enter source batch reference"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"waste-type",children:["Waste Type ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsxs("select",{id:"waste-type",value:i.wasteType||"",onChange:d=>c({...i,wasteType:d.target.value}),required:!0,className:"ra-assignment-select",children:[e.jsx("option",{value:"",children:"Select Waste Type"}),n.map(d=>e.jsx("option",{value:d.categoryName,children:d.categoryName},d.id))]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"quantity",children:["Quantity (kg) ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"quantity",type:"number",step:"0.01",value:i.quantityKg||0,onChange:d=>c({...i,quantityKg:parseFloat(d.target.value)||0}),required:!0,className:"ra-assignment-input",placeholder:"0.00"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"disposal-method",children:["Disposal Method ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsxs("select",{id:"disposal-method",value:i.disposalMethod||"",onChange:d=>c({...i,disposalMethod:d.target.value}),required:!0,className:"ra-assignment-select",children:[e.jsx("option",{value:"",children:"Select Disposal Method"}),e.jsx("option",{value:"Landfill",children:"Landfill"}),e.jsx("option",{value:"Incineration",children:"Incineration"}),e.jsx("option",{value:"Recycling",children:"Recycling"}),e.jsx("option",{value:"Composting",children:"Composting"}),e.jsx("option",{value:"Other",children:"Other"})]})]})]}),e.jsxs("div",{className:"ra-assignment-form-col",children:[e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"disposal-site",children:["Disposal Site ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"disposal-site",type:"text",value:i.disposalSite||"",onChange:d=>c({...i,disposalSite:d.target.value}),required:!0,className:"ra-assignment-input",placeholder:"Enter disposal site"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"transport-mode",children:["Transport Mode ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsxs("select",{id:"transport-mode",value:i.transportMode||"",onChange:d=>c({...i,transportMode:d.target.value}),required:!0,className:"ra-assignment-select",children:[e.jsx("option",{value:"",children:"Select Transport Mode"}),e.jsx("option",{value:"Truck",children:"Truck"}),e.jsx("option",{value:"Van",children:"Van"}),e.jsx("option",{value:"Container",children:"Container"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"vehicle-no",children:["Vehicle No ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"vehicle-no",type:"text",value:i.vehicleNo||"",onChange:d=>c({...i,vehicleNo:d.target.value}),required:!0,className:"ra-assignment-input",placeholder:"Enter vehicle number"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"manifest-no",children:["Manifest No ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"manifest-no",type:"text",value:i.manifestNo||"",onChange:d=>c({...i,manifestNo:d.target.value}),required:!0,className:"ra-assignment-input",placeholder:"Enter manifest number"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsx("label",{htmlFor:"compliance-status",children:"Compliance Status"}),e.jsxs("select",{id:"compliance-status",value:i.complianceStatus||"Compliant",onChange:d=>c({...i,complianceStatus:d.target.value}),className:"ra-assignment-select",children:[e.jsx("option",{value:"Compliant",children:"Compliant"}),e.jsx("option",{value:"Non-Compliant",children:"Non-Compliant"}),e.jsx("option",{value:"Pending",children:"Pending"})]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsx("label",{htmlFor:"status",children:"Status"}),e.jsxs("select",{id:"status",value:i.status||"Active",onChange:d=>c({...i,status:d.target.value}),className:"ra-assignment-select",children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),e.jsxs("div",{className:"ra-assignment-modal-footer",children:[e.jsx("button",{type:"button",className:"ra-assignment-btn ra-assignment-btn--cancel",onClick:a,children:"Cancel"}),e.jsx("button",{type:"submit",className:"ra-assignment-btn ra-assignment-btn--primary",children:r?"Update Disposal":"Create Disposal"})]})]})]})})},Nre=({statusFilter:r,advancedFilters:t,onClose:n,onClear:a,onApply:s})=>{const[i,c]=C.useState(r),[o,d]=C.useState(t);return e.jsx("div",{className:"modal-overlay ra-filter-modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content ra-filter-modal",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"ra-filter-modal-header",children:[e.jsxs("div",{className:"ra-filter-modal-titlewrap",children:[e.jsx("div",{className:"ra-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M22 3H2l8 9v7l4 2v-9l8-9z"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"ra-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"ra-filter-subtitle",children:"Filter disposal registers by multiple criteria"})]})]}),e.jsx("button",{className:"ra-filter-close",onClick:n,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"ra-filter-modal-body",children:e.jsxs("div",{className:"ra-filter-grid",children:[e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Register Number"}),e.jsx("input",{type:"text",value:o.dispoRegNum,onChange:l=>d({...o,dispoRegNum:l.target.value}),className:"ra-filter-input",placeholder:"Enter register number"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Company Name"}),e.jsx("input",{type:"text",value:o.companyName,onChange:l=>d({...o,companyName:l.target.value}),className:"ra-filter-input",placeholder:"Enter company name"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Disposal Method"}),e.jsx("input",{type:"text",value:o.disposalMethod,onChange:l=>d({...o,disposalMethod:l.target.value}),className:"ra-filter-input",placeholder:"Enter disposal method"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Vehicle No"}),e.jsx("input",{type:"text",value:o.vehicleNo,onChange:l=>d({...o,vehicleNo:l.target.value}),className:"ra-filter-input",placeholder:"Enter vehicle number"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Compliance Status"}),e.jsxs("select",{value:o.complianceStatus,onChange:l=>d({...o,complianceStatus:l.target.value}),className:"ra-filter-select",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"Compliant",children:"Compliant"}),e.jsx("option",{value:"Non-Compliant",children:"Non-Compliant"}),e.jsx("option",{value:"Pending",children:"Pending"})]})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:i,onChange:l=>c(l.target.value),className:"ra-filter-select",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"ra-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"ra-link-btn",onClick:()=>{c("all"),d({dispoRegNum:"",companyName:"",disposalMethod:"",vehicleNo:"",complianceStatus:""}),a()},children:"Clear Filters"}),e.jsx("button",{type:"button",className:"ra-btn ra-btn--primary ra-btn--sm",onClick:()=>s({statusFilter:i,advancedFilters:o}),children:"Apply Filters"})]})]})})},Sre="http://localhost:3000/api/v1",Ere=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},bg=async(r,t={})=>{const n=Ere(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${Sre}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const c=await s.json();c.message?Array.isArray(c.message)?i=c.message.join(", "):typeof c.message=="string"?i=c.message:i=String(c.message):c.error&&(typeof c.error=="string"?i=c.error:c.error.message?i=typeof c.error.message=="string"?c.error.message:String(c.error.message):i=JSON.stringify(c.error));const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o.errorData=c,o}catch{const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o}}return s.status===204?{}:s.json()},_0={createEmissionRegister:async r=>(await bg("/emission-registers",{method:"POST",body:JSON.stringify(r)})).data,getEmissionRegisterById:async r=>(await bg(`/emission-registers/${r}`,{method:"GET"})).data,getAllEmissionRegisters:async(r,t)=>{let n="/emission-registers";const a=new URLSearchParams;return r&&a.append("companyId",r),t&&a.append("status",t),a.toString()&&(n+=`?${a.toString()}`),(await bg(n,{method:"GET"})).data},updateEmissionRegister:async(r,t)=>(await bg(`/emission-registers/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,deleteEmissionRegister:async r=>{await bg(`/emission-registers/${r}`,{method:"DELETE"})}},Bre=()=>{const{logout:r,permissions:t}=Yn(),n=jn(),[a,s]=C.useState(""),[i,c]=C.useState("all"),[o,d]=C.useState(!1),[l,u]=C.useState(!1),[h,f]=C.useState(null),[A,g]=C.useState(!1),[m,x]=C.useState(null),[y,j]=C.useState(null),[b,S]=C.useState({emisRegNum:"",companyName:"",equipmentId:"",stackId:"",complianceStatus:""}),[w,E]=C.useState([]),[I,L]=C.useState([]),J=C.useCallback(async()=>{try{const q=(await ha.getAllCompanies(!0)).map(ie=>({id:ie.id,companyCode:ie.companyCode,companyName:ie.companyName,status:ie.status}));E(q)}catch(R){console.error("Error loading companies:",R)}},[]),ae=C.useCallback(async()=>{g(!0),x(null);try{const R=await _0.getAllEmissionRegisters(void 0,i!=="all"?i:void 0),q=await Promise.all(R.map(async ie=>{const Z=w.find(D=>D.id===ie.companyId);return{id:ie.id,emisRegNum:ie.emisRegNum,companyId:ie.companyId,companyName:(Z==null?void 0:Z.companyName)||"Unknown",emissionDate:ie.emissionDate,equipmentId:ie.equipmentId,stackId:ie.stackId,pm:ie.pm,co:ie.co,hci:ie.hci,temp:ie.temp,oxygen:ie.oxygen,complianceStatus:ie.complianceStatus,status:ie.status,createdBy:ie.createdBy,createdOn:ie.createdOn,modifiedBy:ie.modifiedBy,modifiedOn:ie.modifiedOn}}));L(q)}catch(R){const q=R instanceof Error?R.message:"Failed to load emission registers";x(q),console.error("Error loading emission registers:",R)}finally{g(!1)}},[i,w]);C.useEffect(()=>{(async()=>{await J()})()},[J]),C.useEffect(()=>{w.length>0&&ae()},[w,i,ae]);const G=C.useMemo(()=>{const R=a.trim().toLowerCase(),q=b.emisRegNum.trim().toLowerCase(),ie=b.companyName.trim().toLowerCase(),Z=b.equipmentId.trim().toLowerCase(),D=b.stackId.trim().toLowerCase(),ue=b.complianceStatus.trim().toLowerCase();return I.filter(te=>{const ye=!R||te.emisRegNum.toLowerCase().includes(R)||te.companyName.toLowerCase().includes(R)||te.equipmentId.toLowerCase().includes(R)||te.stackId.toLowerCase().includes(R),pe=!q||te.emisRegNum.toLowerCase().includes(q),je=!ie||te.companyName.toLowerCase().includes(ie),re=!Z||te.equipmentId.toLowerCase().includes(Z),he=!D||te.stackId.toLowerCase().includes(D),X=!ue||te.complianceStatus.toLowerCase().includes(ue),Ae=i==="all"||te.status===i;return ye&&pe&&je&&re&&he&&X&&Ae})},[I,a,b,i]),le=()=>{f(null),d(!0)},V=R=>{f(R),d(!0)},me=async R=>{if(window.confirm("Are you sure you want to delete this emission register?"))try{g(!0),x(null),await _0.deleteEmissionRegister(R),j("Emission register deleted successfully"),await ae(),setTimeout(()=>j(null),3e3)}catch(q){const ie=q instanceof Error?q.message:"Failed to delete emission register";x(ie),console.error("Error deleting emission register:",q)}finally{g(!1)}},$=async R=>{try{if(g(!0),x(null),h)await _0.updateEmissionRegister(h.id,{emissionDate:R.emissionDate,equipmentId:R.equipmentId,stackId:R.stackId,pm:R.pm,co:R.co,hci:R.hci,temp:R.temp,oxygen:R.oxygen,complianceStatus:R.complianceStatus,status:R.status}),j("Emission register updated successfully");else{const q=w.find(ie=>ie.id===R.companyId);if(!q){x("Please select a valid company");return}await _0.createEmissionRegister({companyId:q.id,emissionDate:R.emissionDate,equipmentId:R.equipmentId,stackId:R.stackId,pm:R.pm,co:R.co,hci:R.hci,temp:R.temp,oxygen:R.oxygen,complianceStatus:R.complianceStatus||"Compliant",status:R.status||"Active"}),j("Emission register created successfully")}d(!1),f(null),await ae(),setTimeout(()=>j(null),3e3)}catch(q){const ie=q instanceof Error?q.message:"Failed to save emission register";x(ie),console.error("Error saving emission register:",q)}finally{g(!1)}},ee=R=>{switch(R.toLowerCase()){case"compliant":return"status-badge--compliant";case"non-compliant":return"status-badge--non-compliant";case"pending":return"status-badge--pending";default:return""}},we=xs(t,n.pathname);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:"dashboard-sidebar",children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:we.map(R=>e.jsx("li",{children:e.jsxs(Hr,{to:R.path,className:`nav-link ${R.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:R.icon}),e.jsx("span",{className:"nav-label",children:R.label})]})},R.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Hr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(_a,{title:"Emission Register",subtitle:"Manage emission monitoring records"}),y&&e.jsxs("div",{className:"ra-alert ra-alert--success",role:"status","aria-live":"polite",children:[e.jsx("span",{children:y}),e.jsx("button",{onClick:()=>j(null),className:"ra-alert-close","aria-label":"Close success message",children:""})]}),m&&e.jsxs("div",{className:"ra-alert ra-alert--error",role:"alert",children:[e.jsx("span",{children:m}),e.jsx("button",{onClick:()=>x(null),className:"ra-alert-close","aria-label":"Close error message",children:""})]}),A&&!I.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading emission registers..."}),e.jsxs("div",{className:"route-assignment-page",children:[e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M12 2v4"}),e.jsx("path",{d:"M12 18v4"}),e.jsx("path",{d:"M4.93 4.93l2.83 2.83"}),e.jsx("path",{d:"M16.24 16.24l2.83 2.83"}),e.jsx("path",{d:"M2 12h4"}),e.jsx("path",{d:"M18 12h4"}),e.jsx("path",{d:"M4.93 19.07l2.83-2.83"}),e.jsx("path",{d:"M16.24 7.76l2.83-2.83"})]})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"Emission Register"}),e.jsx("p",{className:"ra-page-subtitle",children:"Manage and track emission monitoring and compliance"})]})]}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",placeholder:"Search by register number, company, equipment, stack...",value:a,onChange:R=>s(R.target.value),className:"ra-search-input"})]}),e.jsxs("div",{className:"ra-actions",children:[e.jsxs("button",{className:"ra-filter-btn",onClick:()=>u(!0),children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),e.jsxs("button",{className:"ra-add-btn",onClick:le,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Emission"]})]})]}),e.jsx("div",{className:"route-assignment-table-container",children:e.jsxs("table",{className:"route-assignment-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"REG NUM"}),e.jsx("th",{children:"COMPANY"}),e.jsx("th",{children:"DATE"}),e.jsx("th",{children:"EQUIPMENT ID"}),e.jsx("th",{children:"STACK ID"}),e.jsx("th",{children:"PM"}),e.jsx("th",{children:"CO"}),e.jsx("th",{children:"HCI"}),e.jsx("th",{children:"TEMP"}),e.jsx("th",{children:"OXYGEN"}),e.jsx("th",{children:"COMPLIANCE STATUS"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:G.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:13,className:"empty-message",children:A?"Loading...":"No emission registers found"})}):G.map(R=>{const q=ie=>{const Z=new Date(ie),D=String(Z.getDate()).padStart(2,"0"),ue=String(Z.getMonth()+1).padStart(2,"0"),te=Z.getFullYear();return`${D}/${ue}/${te}`};return e.jsxs("tr",{children:[e.jsx("td",{children:R.emisRegNum}),e.jsx("td",{children:R.companyName}),e.jsx("td",{children:q(R.emissionDate)}),e.jsx("td",{children:R.equipmentId}),e.jsx("td",{children:R.stackId}),e.jsx("td",{children:R.pm.toFixed(2)}),e.jsx("td",{children:R.co.toFixed(2)}),e.jsx("td",{children:R.hci.toFixed(2)}),e.jsx("td",{children:R.temp.toFixed(2)}),e.jsx("td",{children:R.oxygen.toFixed(2)}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge ${ee(R.complianceStatus)}`,children:R.complianceStatus})})}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge status-badge--${R.status.toLowerCase()}`,children:R.status})})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons ra-actions",children:[e.jsx("button",{className:"action-btn action-btn--view",onClick:()=>V(R),title:"View",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>V(R),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>me(R.id),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},R.id)})})]})}),e.jsxs("div",{className:"route-assignment-pagination-info",children:["Showing ",G.length," of ",I.length," items"]})]})]}),l&&e.jsx(Tre,{statusFilter:i,advancedFilters:b,onClose:()=>u(!1),onClear:()=>{S({emisRegNum:"",companyName:"",equipmentId:"",stackId:"",complianceStatus:""}),c("all"),s("")},onApply:R=>{c(R.statusFilter),S(R.advancedFilters),u(!1)}}),o&&e.jsx(Ire,{emission:h,companies:w.filter(R=>R.status==="Active"),onClose:()=>{d(!1),f(null)},onSave:$})]})},Ire=({emission:r,companies:t,onClose:n,onSave:a})=>{const[s,i]=C.useState(r||{companyId:"",emissionDate:new Date().toISOString().split("T")[0],equipmentId:"",stackId:"",pm:0,co:0,hci:0,temp:0,oxygen:0,complianceStatus:"Compliant",status:"Active"}),c=o=>{o.preventDefault(),a(s)};return e.jsx("div",{className:"modal-overlay ra-assignment-modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content ra-assignment-modal",onClick:o=>o.stopPropagation(),children:[e.jsxs("div",{className:"ra-assignment-modal-header",children:[e.jsxs("div",{className:"ra-assignment-modal-titlewrap",children:[e.jsx("div",{className:"ra-assignment-icon","aria-hidden":"true",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M12 2v4"}),e.jsx("path",{d:"M12 18v4"}),e.jsx("path",{d:"M4.93 4.93l2.83 2.83"}),e.jsx("path",{d:"M16.24 16.24l2.83 2.83"}),e.jsx("path",{d:"M2 12h4"}),e.jsx("path",{d:"M18 12h4"}),e.jsx("path",{d:"M4.93 19.07l2.83-2.83"}),e.jsx("path",{d:"M16.24 7.76l2.83-2.83"})]})}),e.jsxs("div",{children:[e.jsx("h2",{className:"ra-assignment-modal-title",children:r?"Edit Emission Register":"Add Emission Register"}),e.jsx("p",{className:"ra-assignment-modal-subtitle",children:r?"Update emission details":"Create a new emission register."})]})]}),e.jsx("button",{className:"ra-assignment-close",onClick:n,"aria-label":"Close",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"ra-assignment-form",onSubmit:c,children:[e.jsxs("div",{className:"ra-assignment-form-grid",children:[e.jsxs("div",{className:"ra-assignment-form-col",children:[e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"company",children:["Company Name ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsxs("select",{id:"company",value:s.companyId||"",onChange:o=>i({...s,companyId:o.target.value}),required:!0,disabled:!!r,className:"ra-assignment-select",children:[e.jsx("option",{value:"",children:"Select Company"}),t.map(o=>e.jsx("option",{value:o.id,children:o.companyName},o.id))]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"emission-date",children:["Emission Date ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"emission-date",type:"date",value:s.emissionDate||"",onChange:o=>i({...s,emissionDate:o.target.value}),required:!0,className:"ra-assignment-input"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"equipment-id",children:["Equipment ID ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"equipment-id",type:"text",value:s.equipmentId||"",onChange:o=>i({...s,equipmentId:o.target.value}),required:!0,className:"ra-assignment-input",placeholder:"Enter equipment ID"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"stack-id",children:["Stack ID ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"stack-id",type:"text",value:s.stackId||"",onChange:o=>i({...s,stackId:o.target.value}),required:!0,className:"ra-assignment-input",placeholder:"Enter stack ID"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"pm",children:["PM ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"pm",type:"number",step:"0.01",value:s.pm||0,onChange:o=>i({...s,pm:parseFloat(o.target.value)||0}),required:!0,className:"ra-assignment-input",placeholder:"0.00"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"co",children:["CO ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"co",type:"number",step:"0.01",value:s.co||0,onChange:o=>i({...s,co:parseFloat(o.target.value)||0}),required:!0,className:"ra-assignment-input",placeholder:"0.00"})]})]}),e.jsxs("div",{className:"ra-assignment-form-col",children:[e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"hci",children:["HCI ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"hci",type:"number",step:"0.01",value:s.hci||0,onChange:o=>i({...s,hci:parseFloat(o.target.value)||0}),required:!0,className:"ra-assignment-input",placeholder:"0.00"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"temp",children:["Temperature ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"temp",type:"number",step:"0.01",value:s.temp||0,onChange:o=>i({...s,temp:parseFloat(o.target.value)||0}),required:!0,className:"ra-assignment-input",placeholder:"0.00"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"oxygen",children:["Oxygen ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"oxygen",type:"number",step:"0.01",value:s.oxygen||0,onChange:o=>i({...s,oxygen:parseFloat(o.target.value)||0}),required:!0,className:"ra-assignment-input",placeholder:"0.00"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsx("label",{htmlFor:"compliance-status",children:"Compliance Status"}),e.jsxs("select",{id:"compliance-status",value:s.complianceStatus||"Compliant",onChange:o=>i({...s,complianceStatus:o.target.value}),className:"ra-assignment-select",children:[e.jsx("option",{value:"Compliant",children:"Compliant"}),e.jsx("option",{value:"Non-Compliant",children:"Non-Compliant"}),e.jsx("option",{value:"Pending",children:"Pending"})]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsx("label",{htmlFor:"status",children:"Status"}),e.jsxs("select",{id:"status",value:s.status||"Active",onChange:o=>i({...s,status:o.target.value}),className:"ra-assignment-select",children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),e.jsxs("div",{className:"ra-assignment-modal-footer",children:[e.jsx("button",{type:"button",className:"ra-assignment-btn ra-assignment-btn--cancel",onClick:n,children:"Cancel"}),e.jsx("button",{type:"submit",className:"ra-assignment-btn ra-assignment-btn--primary",children:r?"Update Emission":"Create Emission"})]})]})]})})},Tre=({statusFilter:r,advancedFilters:t,onClose:n,onClear:a,onApply:s})=>{const[i,c]=C.useState(r),[o,d]=C.useState(t);return e.jsx("div",{className:"modal-overlay ra-filter-modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content ra-filter-modal",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"ra-filter-modal-header",children:[e.jsxs("div",{className:"ra-filter-modal-titlewrap",children:[e.jsx("div",{className:"ra-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M22 3H2l8 9v7l4 2v-9l8-9z"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"ra-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"ra-filter-subtitle",children:"Filter emission registers by multiple criteria"})]})]}),e.jsx("button",{className:"ra-filter-close",onClick:n,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"ra-filter-modal-body",children:e.jsxs("div",{className:"ra-filter-grid",children:[e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Register Number"}),e.jsx("input",{type:"text",value:o.emisRegNum,onChange:l=>d({...o,emisRegNum:l.target.value}),className:"ra-filter-input",placeholder:"Enter register number"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Company Name"}),e.jsx("input",{type:"text",value:o.companyName,onChange:l=>d({...o,companyName:l.target.value}),className:"ra-filter-input",placeholder:"Enter company name"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Equipment ID"}),e.jsx("input",{type:"text",value:o.equipmentId,onChange:l=>d({...o,equipmentId:l.target.value}),className:"ra-filter-input",placeholder:"Enter equipment ID"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Stack ID"}),e.jsx("input",{type:"text",value:o.stackId,onChange:l=>d({...o,stackId:l.target.value}),className:"ra-filter-input",placeholder:"Enter stack ID"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Compliance Status"}),e.jsxs("select",{value:o.complianceStatus,onChange:l=>d({...o,complianceStatus:l.target.value}),className:"ra-filter-select",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"Compliant",children:"Compliant"}),e.jsx("option",{value:"Non-Compliant",children:"Non-Compliant"}),e.jsx("option",{value:"Pending",children:"Pending"})]})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:i,onChange:l=>c(l.target.value),className:"ra-filter-select",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"ra-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"ra-link-btn",onClick:()=>{c("all"),d({emisRegNum:"",companyName:"",equipmentId:"",stackId:"",complianceStatus:""}),a()},children:"Clear Filters"}),e.jsx("button",{type:"button",className:"ra-btn ra-btn--primary ra-btn--sm",onClick:()=>s({statusFilter:i,advancedFilters:o}),children:"Apply Filters"})]})]})})},kre="http://localhost:3000/api/v1",_re=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},wg=async(r,t={})=>{const n=_re(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${kre}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const c=await s.json();c.message?Array.isArray(c.message)?i=c.message.join(", "):typeof c.message=="string"?i=c.message:i=String(c.message):c.error&&(typeof c.error=="string"?i=c.error:c.error.message?i=typeof c.error.message=="string"?c.error.message:String(c.error.message):i=JSON.stringify(c.error));const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o.errorData=c,o}catch{const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o}}return s.status===204?{}:s.json()},O0={createETPRegister:async r=>(await wg("/etp-registers",{method:"POST",body:JSON.stringify(r)})).data,getETPRegisterById:async r=>(await wg(`/etp-registers/${r}`,{method:"GET"})).data,getAllETPRegisters:async(r,t)=>{let n="/etp-registers";const a=new URLSearchParams;return r&&a.append("companyId",r),t&&a.append("status",t),a.toString()&&(n+=`?${a.toString()}`),(await wg(n,{method:"GET"})).data},updateETPRegister:async(r,t)=>(await wg(`/etp-registers/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,deleteETPRegister:async r=>{await wg(`/etp-registers/${r}`,{method:"DELETE"})}},Ore=()=>{const{logout:r,permissions:t}=Yn(),n=jn(),[a,s]=C.useState(""),[i,c]=C.useState("all"),[o,d]=C.useState(!1),[l,u]=C.useState(!1),[h,f]=C.useState(null),[A,g]=C.useState(!1),[m,x]=C.useState(null),[y,j]=C.useState(null),[b,S]=C.useState({etpRegNum:"",companyName:"",dischargeMode:"",complianceStatus:""}),[w,E]=C.useState([]),[I,L]=C.useState([]),J=C.useCallback(async()=>{try{const q=(await ha.getAllCompanies(!0)).map(ie=>({id:ie.id,companyCode:ie.companyCode,companyName:ie.companyName,status:ie.status}));E(q)}catch(R){console.error("Error loading companies:",R)}},[]),ae=C.useCallback(async()=>{g(!0),x(null);try{const R=await O0.getAllETPRegisters(void 0,i!=="all"?i:void 0),q=await Promise.all(R.map(async ie=>{const Z=w.find(D=>D.id===ie.companyId);return{id:ie.id,etpRegNum:ie.etpRegNum,companyId:ie.companyId,companyName:(Z==null?void 0:Z.companyName)||"Unknown",date:ie.date,inflow:ie.inflow,treated:ie.treated,ph:ie.ph,bod:ie.bod,cod:ie.cod,tss:ie.tss,oilGrease:ie.oilGrease,dischargeMode:ie.dischargeMode,complianceStatus:ie.complianceStatus,status:ie.status,createdBy:ie.createdBy,createdOn:ie.createdOn,modifiedBy:ie.modifiedBy,modifiedOn:ie.modifiedOn}}));L(q)}catch(R){const q=R instanceof Error?R.message:"Failed to load ETP registers";x(q),console.error("Error loading ETP registers:",R)}finally{g(!1)}},[i,w]);C.useEffect(()=>{(async()=>{await J()})()},[J]),C.useEffect(()=>{w.length>0&&ae()},[w,i,ae]);const G=C.useMemo(()=>{const R=a.trim().toLowerCase(),q=b.etpRegNum.trim().toLowerCase(),ie=b.companyName.trim().toLowerCase(),Z=b.dischargeMode.trim().toLowerCase(),D=b.complianceStatus.trim().toLowerCase();return I.filter(ue=>{const te=!R||ue.etpRegNum.toLowerCase().includes(R)||ue.companyName.toLowerCase().includes(R)||ue.dischargeMode.toLowerCase().includes(R),ye=!q||ue.etpRegNum.toLowerCase().includes(q),pe=!ie||ue.companyName.toLowerCase().includes(ie),je=!Z||ue.dischargeMode.toLowerCase().includes(Z),re=!D||ue.complianceStatus.toLowerCase().includes(D),he=i==="all"||ue.status===i;return te&&ye&&pe&&je&&re&&he})},[I,a,b,i]),le=()=>{f(null),d(!0)},V=R=>{f(R),d(!0)},me=async R=>{if(window.confirm("Are you sure you want to delete this ETP register?"))try{g(!0),x(null),await O0.deleteETPRegister(R),j("ETP register deleted successfully"),await ae(),setTimeout(()=>j(null),3e3)}catch(q){const ie=q instanceof Error?q.message:"Failed to delete ETP register";x(ie),console.error("Error deleting ETP register:",q)}finally{g(!1)}},$=async R=>{try{if(g(!0),x(null),h)await O0.updateETPRegister(h.id,{date:R.date,inflow:R.inflow,treated:R.treated,ph:R.ph,bod:R.bod,cod:R.cod,tss:R.tss,oilGrease:R.oilGrease,dischargeMode:R.dischargeMode,complianceStatus:R.complianceStatus,status:R.status}),j("ETP register updated successfully");else{const q=w.find(ie=>ie.id===R.companyId);if(!q){x("Please select a valid company");return}await O0.createETPRegister({companyId:q.id,date:R.date,inflow:R.inflow,treated:R.treated,ph:R.ph,bod:R.bod,cod:R.cod,tss:R.tss,oilGrease:R.oilGrease,dischargeMode:R.dischargeMode,complianceStatus:R.complianceStatus||"Compliant",status:R.status||"Active"}),j("ETP register created successfully")}d(!1),f(null),await ae(),setTimeout(()=>j(null),3e3)}catch(q){const ie=q instanceof Error?q.message:"Failed to save ETP register";x(ie),console.error("Error saving ETP register:",q)}finally{g(!1)}},ee=R=>{switch(R.toLowerCase()){case"compliant":return"status-badge--compliant";case"non-compliant":return"status-badge--non-compliant";case"pending":return"status-badge--pending";default:return""}},we=xs(t,n.pathname);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:"dashboard-sidebar",children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:we.map(R=>e.jsx("li",{children:e.jsxs(Hr,{to:R.path,className:`nav-link ${R.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:R.icon}),e.jsx("span",{className:"nav-label",children:R.label})]})},R.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Hr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(_a,{title:"ETP Register",subtitle:"Manage ETP (Effluent Treatment Plant) records"}),y&&e.jsxs("div",{className:"ra-alert ra-alert--success",role:"status","aria-live":"polite",children:[e.jsx("span",{children:y}),e.jsx("button",{onClick:()=>j(null),className:"ra-alert-close","aria-label":"Close success message",children:""})]}),m&&e.jsxs("div",{className:"ra-alert ra-alert--error",role:"alert",children:[e.jsx("span",{children:m}),e.jsx("button",{onClick:()=>x(null),className:"ra-alert-close","aria-label":"Close error message",children:""})]}),A&&!I.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading ETP registers..."}),e.jsxs("div",{className:"route-assignment-page",children:[e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"}),e.jsx("path",{d:"M12 2v4"}),e.jsx("path",{d:"M12 18v4"})]})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"ETP Register"}),e.jsx("p",{className:"ra-page-subtitle",children:"Manage and track Effluent Treatment Plant operations and compliance"})]})]}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",placeholder:"Search by register number, company, discharge mode...",value:a,onChange:R=>s(R.target.value),className:"ra-search-input"})]}),e.jsxs("div",{className:"ra-actions",children:[e.jsxs("button",{className:"ra-filter-btn",onClick:()=>u(!0),children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),e.jsxs("button",{className:"ra-add-btn",onClick:le,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add ETP"]})]})]}),e.jsx("div",{className:"route-assignment-table-container",children:e.jsxs("table",{className:"route-assignment-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"REG NUM"}),e.jsx("th",{children:"COMPANY"}),e.jsx("th",{children:"DATE"}),e.jsx("th",{children:"INFLOW"}),e.jsx("th",{children:"TREATED"}),e.jsx("th",{children:"PH"}),e.jsx("th",{children:"BOD"}),e.jsx("th",{children:"COD"}),e.jsx("th",{children:"TSS"}),e.jsx("th",{children:"OIL/GREASE"}),e.jsx("th",{children:"DISCHARGE MODE"}),e.jsx("th",{children:"COMPLIANCE STATUS"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:G.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:14,className:"empty-message",children:A?"Loading...":"No ETP registers found"})}):G.map(R=>{const q=ie=>{const Z=new Date(ie),D=String(Z.getDate()).padStart(2,"0"),ue=String(Z.getMonth()+1).padStart(2,"0"),te=Z.getFullYear();return`${D}/${ue}/${te}`};return e.jsxs("tr",{children:[e.jsx("td",{children:R.etpRegNum}),e.jsx("td",{children:R.companyName}),e.jsx("td",{children:q(R.date)}),e.jsx("td",{children:R.inflow.toFixed(2)}),e.jsx("td",{children:R.treated.toFixed(2)}),e.jsx("td",{children:R.ph.toFixed(2)}),e.jsx("td",{children:R.bod.toFixed(2)}),e.jsx("td",{children:R.cod.toFixed(2)}),e.jsx("td",{children:R.tss.toFixed(2)}),e.jsx("td",{children:R.oilGrease.toFixed(2)}),e.jsx("td",{children:R.dischargeMode}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge ${ee(R.complianceStatus)}`,children:R.complianceStatus})})}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge status-badge--${R.status.toLowerCase()}`,children:R.status})})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons ra-actions",children:[e.jsx("button",{className:"action-btn action-btn--view",onClick:()=>V(R),title:"View",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>V(R),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>me(R.id),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},R.id)})})]})}),e.jsxs("div",{className:"route-assignment-pagination-info",children:["Showing ",G.length," of ",I.length," items"]})]})]}),l&&e.jsx(Pre,{statusFilter:i,advancedFilters:b,onClose:()=>u(!1),onClear:()=>{S({etpRegNum:"",companyName:"",dischargeMode:"",complianceStatus:""}),c("all"),s("")},onApply:R=>{c(R.statusFilter),S(R.advancedFilters),u(!1)}}),o&&e.jsx(Fre,{etp:h,companies:w.filter(R=>R.status==="Active"),onClose:()=>{d(!1),f(null)},onSave:$})]})},Fre=({etp:r,companies:t,onClose:n,onSave:a})=>{const[s,i]=C.useState(r||{companyId:"",date:new Date().toISOString().split("T")[0],inflow:0,treated:0,ph:0,bod:0,cod:0,tss:0,oilGrease:0,dischargeMode:"",complianceStatus:"Compliant",status:"Active"}),c=o=>{o.preventDefault(),a(s)};return e.jsx("div",{className:"modal-overlay ra-assignment-modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content ra-assignment-modal",onClick:o=>o.stopPropagation(),children:[e.jsxs("div",{className:"ra-assignment-modal-header",children:[e.jsxs("div",{className:"ra-assignment-modal-titlewrap",children:[e.jsx("div",{className:"ra-assignment-icon","aria-hidden":"true",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"}),e.jsx("path",{d:"M12 2v4"}),e.jsx("path",{d:"M12 18v4"})]})}),e.jsxs("div",{children:[e.jsx("h2",{className:"ra-assignment-modal-title",children:r?"Edit ETP Register":"Add ETP Register"}),e.jsx("p",{className:"ra-assignment-modal-subtitle",children:r?"Update ETP details":"Create a new ETP register."})]})]}),e.jsx("button",{className:"ra-assignment-close",onClick:n,"aria-label":"Close",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"ra-assignment-form",onSubmit:c,children:[e.jsxs("div",{className:"ra-assignment-form-grid",children:[e.jsxs("div",{className:"ra-assignment-form-col",children:[e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"company",children:["Company Name ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsxs("select",{id:"company",value:s.companyId||"",onChange:o=>i({...s,companyId:o.target.value}),required:!0,disabled:!!r,className:"ra-assignment-select",children:[e.jsx("option",{value:"",children:"Select Company"}),t.map(o=>e.jsx("option",{value:o.id,children:o.companyName},o.id))]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"date",children:["Date ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"date",type:"date",value:s.date||"",onChange:o=>i({...s,date:o.target.value}),required:!0,className:"ra-assignment-input"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"inflow",children:["Inflow ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"inflow",type:"number",step:"0.01",value:s.inflow||0,onChange:o=>i({...s,inflow:parseFloat(o.target.value)||0}),required:!0,className:"ra-assignment-input",placeholder:"0.00"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"treated",children:["Treated ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"treated",type:"number",step:"0.01",value:s.treated||0,onChange:o=>i({...s,treated:parseFloat(o.target.value)||0}),required:!0,className:"ra-assignment-input",placeholder:"0.00"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"ph",children:["pH ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"ph",type:"number",step:"0.01",value:s.ph||0,onChange:o=>i({...s,ph:parseFloat(o.target.value)||0}),required:!0,className:"ra-assignment-input",placeholder:"0.00"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"bod",children:["BOD ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"bod",type:"number",step:"0.01",value:s.bod||0,onChange:o=>i({...s,bod:parseFloat(o.target.value)||0}),required:!0,className:"ra-assignment-input",placeholder:"0.00"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"cod",children:["COD ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"cod",type:"number",step:"0.01",value:s.cod||0,onChange:o=>i({...s,cod:parseFloat(o.target.value)||0}),required:!0,className:"ra-assignment-input",placeholder:"0.00"})]})]}),e.jsxs("div",{className:"ra-assignment-form-col",children:[e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"tss",children:["TSS ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"tss",type:"number",step:"0.01",value:s.tss||0,onChange:o=>i({...s,tss:parseFloat(o.target.value)||0}),required:!0,className:"ra-assignment-input",placeholder:"0.00"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"oil-grease",children:["Oil/Grease ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"oil-grease",type:"number",step:"0.01",value:s.oilGrease||0,onChange:o=>i({...s,oilGrease:parseFloat(o.target.value)||0}),required:!0,className:"ra-assignment-input",placeholder:"0.00"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"discharge-mode",children:["Discharge Mode ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsxs("select",{id:"discharge-mode",value:s.dischargeMode||"",onChange:o=>i({...s,dischargeMode:o.target.value}),required:!0,className:"ra-assignment-select",children:[e.jsx("option",{value:"",children:"Select Discharge Mode"}),e.jsx("option",{value:"Surface Water",children:"Surface Water"}),e.jsx("option",{value:"Ground Water",children:"Ground Water"}),e.jsx("option",{value:"Sewer",children:"Sewer"}),e.jsx("option",{value:"Reuse",children:"Reuse"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsx("label",{htmlFor:"compliance-status",children:"Compliance Status"}),e.jsxs("select",{id:"compliance-status",value:s.complianceStatus||"Compliant",onChange:o=>i({...s,complianceStatus:o.target.value}),className:"ra-assignment-select",children:[e.jsx("option",{value:"Compliant",children:"Compliant"}),e.jsx("option",{value:"Non-Compliant",children:"Non-Compliant"}),e.jsx("option",{value:"Pending",children:"Pending"})]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsx("label",{htmlFor:"status",children:"Status"}),e.jsxs("select",{id:"status",value:s.status||"Active",onChange:o=>i({...s,status:o.target.value}),className:"ra-assignment-select",children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),e.jsxs("div",{className:"ra-assignment-modal-footer",children:[e.jsx("button",{type:"button",className:"ra-assignment-btn ra-assignment-btn--cancel",onClick:n,children:"Cancel"}),e.jsx("button",{type:"submit",className:"ra-assignment-btn ra-assignment-btn--primary",children:r?"Update ETP":"Create ETP"})]})]})]})})},Pre=({statusFilter:r,advancedFilters:t,onClose:n,onClear:a,onApply:s})=>{const[i,c]=C.useState(r),[o,d]=C.useState(t);return e.jsx("div",{className:"modal-overlay ra-filter-modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content ra-filter-modal",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"ra-filter-modal-header",children:[e.jsxs("div",{className:"ra-filter-modal-titlewrap",children:[e.jsx("div",{className:"ra-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M22 3H2l8 9v7l4 2v-9l8-9z"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"ra-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"ra-filter-subtitle",children:"Filter ETP registers by multiple criteria"})]})]}),e.jsx("button",{className:"ra-filter-close",onClick:n,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"ra-filter-modal-body",children:e.jsxs("div",{className:"ra-filter-grid",children:[e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Register Number"}),e.jsx("input",{type:"text",value:o.etpRegNum,onChange:l=>d({...o,etpRegNum:l.target.value}),className:"ra-filter-input",placeholder:"Enter register number"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Company Name"}),e.jsx("input",{type:"text",value:o.companyName,onChange:l=>d({...o,companyName:l.target.value}),className:"ra-filter-input",placeholder:"Enter company name"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Discharge Mode"}),e.jsx("input",{type:"text",value:o.dischargeMode,onChange:l=>d({...o,dischargeMode:l.target.value}),className:"ra-filter-input",placeholder:"Enter discharge mode"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Compliance Status"}),e.jsxs("select",{value:o.complianceStatus,onChange:l=>d({...o,complianceStatus:l.target.value}),className:"ra-filter-select",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"Compliant",children:"Compliant"}),e.jsx("option",{value:"Non-Compliant",children:"Non-Compliant"}),e.jsx("option",{value:"Pending",children:"Pending"})]})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:i,onChange:l=>c(l.target.value),className:"ra-filter-select",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"ra-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"ra-link-btn",onClick:()=>{c("all"),d({etpRegNum:"",companyName:"",dischargeMode:"",complianceStatus:""}),a()},children:"Clear Filters"}),e.jsx("button",{type:"button",className:"ra-btn ra-btn--primary ra-btn--sm",onClick:()=>s({statusFilter:i,advancedFilters:o}),children:"Apply Filters"})]})]})})},Dre="http://localhost:3000/api/v1",Mre=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},Cg=async(r,t={})=>{const n=Mre(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${Dre}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const c=await s.json();c.message?Array.isArray(c.message)?i=c.message.join(", "):typeof c.message=="string"?i=c.message:i=String(c.message):c.error&&(typeof c.error=="string"?i=c.error:c.error.message?i=typeof c.error.message=="string"?c.error.message:String(c.error.message):i=JSON.stringify(c.error));const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o.errorData=c,o}catch{const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o}}return s.status===204?{}:s.json()},F0={createDowntimeRegister:async r=>(await Cg("/downtime-registers",{method:"POST",body:JSON.stringify(r)})).data,getDowntimeRegisterById:async r=>(await Cg(`/downtime-registers/${r}`,{method:"GET"})).data,getAllDowntimeRegisters:async(r,t)=>{let n="/downtime-registers";const a=new URLSearchParams;return r&&a.append("companyId",r),t&&a.append("status",t),a.toString()&&(n+=`?${a.toString()}`),(await Cg(n,{method:"GET"})).data||[]},updateDowntimeRegister:async(r,t)=>(await Cg(`/downtime-registers/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,deleteDowntimeRegister:async r=>{await Cg(`/downtime-registers/${r}`,{method:"DELETE"})}},Rre=()=>{const{logout:r,permissions:t}=Yn(),n=jn(),[a,s]=C.useState(""),[i,c]=C.useState("all"),[o,d]=C.useState(!1),[l,u]=C.useState(!1),[h,f]=C.useState(null),[A,g]=C.useState(!1),[m,x]=C.useState(null),[y,j]=C.useState(null),[b,S]=C.useState({dtRegNum:"",companyName:"",equipmentId:"",breakdownType:"",complianceStatus:""}),[w,E]=C.useState([]),[I,L]=C.useState([]),J=C.useCallback(async()=>{try{const q=(await ha.getAllCompanies(!0)||[]).map(ie=>({id:ie.id,companyCode:ie.companyCode,companyName:ie.companyName,status:ie.status}));E(q)}catch(R){console.error("Error loading companies:",R),E([])}},[]),ae=C.useCallback(async()=>{g(!0),x(null);try{const R=await F0.getAllDowntimeRegisters(void 0,i!=="all"?i:void 0),q=await Promise.all((R||[]).map(async ie=>{const Z=w.find(D=>D.id===ie.companyId);return{id:ie.id,dtRegNum:ie.dtRegNum,companyId:ie.companyId,companyName:(Z==null?void 0:Z.companyName)||"Unknown",breakdownDate:ie.breakdownDate,equipmentId:ie.equipmentId,breakdownType:ie.breakdownType,startTime:ie.startTime,endTime:ie.endTime,downtimeHours:ie.downtimeHours,cause:ie.cause,actionTaken:ie.actionTaken,sparesUsed:ie.sparesUsed,complianceStatus:ie.complianceStatus,status:ie.status,createdBy:ie.createdBy,createdOn:ie.createdOn,modifiedBy:ie.modifiedBy,modifiedOn:ie.modifiedOn}}));L(q)}catch(R){const q=R instanceof Error?R.message:"Failed to load downtime registers";x(q),console.error("Error loading downtime registers:",R),L([])}finally{g(!1)}},[i,w]);C.useEffect(()=>{(async()=>{await J()})()},[J]),C.useEffect(()=>{w.length>0&&ae()},[w,i,ae]);const G=C.useMemo(()=>{const R=a.trim().toLowerCase(),q=b.dtRegNum.trim().toLowerCase(),ie=b.companyName.trim().toLowerCase(),Z=b.equipmentId.trim().toLowerCase(),D=b.breakdownType.trim().toLowerCase(),ue=b.complianceStatus.trim().toLowerCase();return I.filter(te=>{const ye=!R||te.dtRegNum.toLowerCase().includes(R)||te.companyName.toLowerCase().includes(R)||te.equipmentId.toLowerCase().includes(R)||te.breakdownType.toLowerCase().includes(R),pe=!q||te.dtRegNum.toLowerCase().includes(q),je=!ie||te.companyName.toLowerCase().includes(ie),re=!Z||te.equipmentId.toLowerCase().includes(Z),he=!D||te.breakdownType.toLowerCase().includes(D),X=!ue||te.complianceStatus.toLowerCase().includes(ue),Ae=i==="all"||te.status===i;return ye&&pe&&je&&re&&he&&X&&Ae})},[I,a,b,i]),le=()=>{f(null),d(!0)},V=R=>{f(R),d(!0)},me=async R=>{if(window.confirm("Are you sure you want to delete this downtime register?"))try{g(!0),x(null),await F0.deleteDowntimeRegister(R),j("Downtime register deleted successfully"),await ae(),setTimeout(()=>j(null),3e3)}catch(q){const ie=q instanceof Error?q.message:"Failed to delete downtime register";x(ie),console.error("Error deleting downtime register:",q)}finally{g(!1)}},$=async R=>{try{if(g(!0),x(null),h)await F0.updateDowntimeRegister(h.id,{breakdownDate:R.breakdownDate,equipmentId:R.equipmentId,breakdownType:R.breakdownType,startTime:R.startTime,endTime:R.endTime,downtimeHours:R.downtimeHours,cause:R.cause,actionTaken:R.actionTaken,sparesUsed:R.sparesUsed,complianceStatus:R.complianceStatus,status:R.status}),j("Downtime register updated successfully");else{const q=w.find(ie=>ie.id===R.companyId);if(!q){x("Please select a valid company");return}await F0.createDowntimeRegister({companyId:q.id,breakdownDate:R.breakdownDate,equipmentId:R.equipmentId,breakdownType:R.breakdownType,startTime:R.startTime,endTime:R.endTime,downtimeHours:R.downtimeHours,cause:R.cause,actionTaken:R.actionTaken,sparesUsed:R.sparesUsed,complianceStatus:R.complianceStatus||"Compliant",status:R.status||"Active"}),j("Downtime register created successfully")}d(!1),f(null),await ae(),setTimeout(()=>j(null),3e3)}catch(q){const ie=q instanceof Error?q.message:"Failed to save downtime register";x(ie),console.error("Error saving downtime register:",q)}finally{g(!1)}},ee=R=>{switch(R.toLowerCase()){case"compliant":return"status-badge--compliant";case"non-compliant":return"status-badge--non-compliant";case"pending":return"status-badge--pending";default:return""}},we=xs(t,n.pathname);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:"dashboard-sidebar",children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:(we||[]).map(R=>e.jsx("li",{children:e.jsxs(Hr,{to:R.path,className:`nav-link ${R.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:R.icon}),e.jsx("span",{className:"nav-label",children:R.label})]})},R.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Hr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(_a,{title:"Downtime Register",subtitle:"Manage equipment downtime and breakdown records"}),y&&e.jsxs("div",{className:"ra-alert ra-alert--success",role:"status","aria-live":"polite",children:[e.jsx("span",{children:y}),e.jsx("button",{onClick:()=>j(null),className:"ra-alert-close","aria-label":"Close success message",children:""})]}),m&&e.jsxs("div",{className:"ra-alert ra-alert--error",role:"alert",children:[e.jsx("span",{children:m}),e.jsx("button",{onClick:()=>x(null),className:"ra-alert-close","aria-label":"Close error message",children:""})]}),A&&!I.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading downtime registers..."}),e.jsxs("div",{className:"route-assignment-page",children:[e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M12 6v6l4 2"}),e.jsx("path",{d:"M8 12h8"})]})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"Downtime Register"}),e.jsx("p",{className:"ra-page-subtitle",children:"Manage and track equipment downtime and breakdowns"})]})]}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",placeholder:"Search by register number, company, equipment, breakdown type...",value:a,onChange:R=>s(R.target.value),className:"ra-search-input"})]}),e.jsxs("div",{className:"ra-actions",children:[e.jsxs("button",{className:"ra-filter-btn",onClick:()=>u(!0),children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),e.jsxs("button",{className:"ra-add-btn",onClick:le,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Downtime"]})]})]}),e.jsx("div",{className:"route-assignment-table-container",children:e.jsxs("table",{className:"route-assignment-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"REG NUM"}),e.jsx("th",{children:"COMPANY"}),e.jsx("th",{children:"BREAKDOWN DATE"}),e.jsx("th",{children:"EQUIPMENT ID"}),e.jsx("th",{children:"BREAKDOWN TYPE"}),e.jsx("th",{children:"START TIME"}),e.jsx("th",{children:"END TIME"}),e.jsx("th",{children:"DOWNTIME (HRS)"}),e.jsx("th",{children:"CAUSE"}),e.jsx("th",{children:"COMPLIANCE STATUS"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:G.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:12,className:"empty-message",children:A?"Loading...":"No downtime registers found"})}):G.map(R=>{const q=ie=>{const Z=new Date(ie),D=String(Z.getDate()).padStart(2,"0"),ue=String(Z.getMonth()+1).padStart(2,"0"),te=Z.getFullYear();return`${D}/${ue}/${te}`};return e.jsxs("tr",{children:[e.jsx("td",{children:R.dtRegNum}),e.jsx("td",{children:R.companyName}),e.jsx("td",{children:q(R.breakdownDate)}),e.jsx("td",{children:R.equipmentId}),e.jsx("td",{children:R.breakdownType}),e.jsx("td",{children:R.startTime}),e.jsx("td",{children:R.endTime}),e.jsx("td",{children:R.downtimeHours.toFixed(2)}),e.jsx("td",{children:R.cause}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge ${ee(R.complianceStatus)}`,children:R.complianceStatus})})}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge status-badge--${R.status.toLowerCase()}`,children:R.status})})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons ra-actions",children:[e.jsx("button",{className:"action-btn action-btn--view",onClick:()=>V(R),title:"View",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>V(R),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>me(R.id),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},R.id)})})]})}),e.jsxs("div",{className:"route-assignment-pagination-info",children:["Showing ",G.length," of ",I.length," items"]})]})]}),l&&e.jsx(Ure,{statusFilter:i,advancedFilters:b,onClose:()=>u(!1),onClear:()=>{S({dtRegNum:"",companyName:"",equipmentId:"",breakdownType:"",complianceStatus:""}),c("all"),s("")},onApply:R=>{c(R.statusFilter),S(R.advancedFilters),u(!1)}}),o&&e.jsx(Lre,{downtime:h,companies:w.filter(R=>R.status==="Active"),onClose:()=>{d(!1),f(null)},onSave:$})]})},Lre=({downtime:r,companies:t,onClose:n,onSave:a})=>{const[s,i]=C.useState(0),[c,o]=C.useState(""),d=()=>{const g=new Date,m=String(g.getHours()).padStart(2,"0"),x=String(g.getMinutes()).padStart(2,"0");return`${m}:${x}`},[l,u]=C.useState(r||{companyId:"",breakdownDate:new Date().toISOString().split("T")[0],equipmentId:"",breakdownType:"",startTime:d(),endTime:"",downtimeHours:0,cause:"",actionTaken:"",sparesUsed:"",complianceStatus:"Compliant",status:"Active"});C.useEffect(()=>{r!=null&&r.cause?["Mechanical Failure","Electrical Fault","Component Wear","Lubrication Issue","Calibration Error","Operator Error","Power Failure","Sensor Malfunction"].includes(r.cause)?o(r.cause):o("Other"):r||o("")},[r]),C.useEffect(()=>{if(!l.endTime&&l.startTime){const g=setInterval(()=>{i(m=>m+1)},1e3);return()=>clearInterval(g)}else i(0)},[l.endTime,l.startTime]),C.useEffect(()=>{if(l.startTime&&l.endTime){const g=new Date(`2000-01-01T${l.startTime}`),m=new Date(`2000-01-01T${l.endTime}`);m<g&&m.setDate(m.getDate()+1);const y=(m.getTime()-g.getTime())/(1e3*60*60);u(j=>({...j,downtimeHours:parseFloat(y.toFixed(2))}))}else if(!l.endTime&&l.startTime&&s>0){const g=new Date(`2000-01-01T${l.startTime}`),m=new Date,x=`${String(m.getHours()).padStart(2,"0")}:${String(m.getMinutes()).padStart(2,"0")}`,y=new Date(`2000-01-01T${x}`);y<g&&y.setDate(y.getDate()+1);const b=(y.getTime()-g.getTime())/(1e3*60*60);u(S=>({...S,downtimeHours:parseFloat(b.toFixed(2))}))}},[l.startTime,l.endTime,s]),C.useEffect(()=>{l.endTime?u(g=>({...g,status:"Inactive"})):u(g=>({...g,status:"Active"}))},[l.endTime]);const h=g=>{o(g),u(g!=="Other"?m=>({...m,cause:g}):m=>({...m,cause:""}))},f=g=>{const m=Math.floor(g/3600),x=Math.floor(g%3600/60),y=g%60;return`${String(m).padStart(2,"0")}:${String(x).padStart(2,"0")}:${String(y).padStart(2,"0")}`},A=g=>{g.preventDefault();let m=l.cause;c&&c!=="Other"&&(m=c),!(!c||c==="Other"&&!m)&&a({...l,cause:m})};return e.jsx("div",{className:"modal-overlay ra-assignment-modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content ra-assignment-modal",onClick:g=>g.stopPropagation(),children:[e.jsxs("div",{className:"ra-assignment-modal-header",children:[e.jsxs("div",{className:"ra-assignment-modal-titlewrap",children:[e.jsx("div",{className:"ra-assignment-icon","aria-hidden":"true",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M12 6v6l4 2"}),e.jsx("path",{d:"M8 12h8"})]})}),e.jsxs("div",{children:[e.jsx("h2",{className:"ra-assignment-modal-title",children:r?"Edit Downtime Register":"Add Downtime Register"}),e.jsx("p",{className:"ra-assignment-modal-subtitle",children:r?"Update downtime details":"Create a new downtime register."})]})]}),e.jsx("button",{className:"ra-assignment-close",onClick:n,"aria-label":"Close",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"ra-assignment-form dt-compact-form",onSubmit:A,children:[e.jsxs("div",{className:"dt-form-sections",children:[e.jsxs("div",{className:"dt-form-section-group",children:[e.jsx("div",{className:"dt-section-separator"}),e.jsxs("div",{className:"dt-form-grid",children:[e.jsxs("div",{className:"dt-form-row",children:[e.jsxs("label",{htmlFor:"company",children:["Company ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsxs("select",{id:"company",value:l.companyId||"",onChange:g=>u({...l,companyId:g.target.value}),required:!0,disabled:!!r,className:"dt-form-input",children:[e.jsx("option",{value:"",children:"Select Company"}),(t||[]).map(g=>e.jsx("option",{value:g.id,children:g.companyName},g.id))]})]}),e.jsxs("div",{className:"dt-form-row",children:[e.jsxs("label",{htmlFor:"equipment-id",children:["Equipment ID ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"equipment-id",type:"text",value:l.equipmentId||"",onChange:g=>u({...l,equipmentId:g.target.value}),required:!0,className:"dt-form-input",placeholder:"Enter equipment ID"})]}),e.jsxs("div",{className:"dt-form-row",children:[e.jsxs("label",{htmlFor:"breakdown-type",children:["Breakdown Type ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsxs("select",{id:"breakdown-type",value:l.breakdownType||"",onChange:g=>u({...l,breakdownType:g.target.value}),required:!0,className:"dt-form-input",children:[e.jsx("option",{value:"",children:"Select Type"}),e.jsx("option",{value:"Mechanical",children:"Mechanical"}),e.jsx("option",{value:"Electrical",children:"Electrical"}),e.jsx("option",{value:"Plumbing",children:"Plumbing"}),e.jsx("option",{value:"Software",children:"Software"}),e.jsx("option",{value:"Preventive Maintenance",children:"Preventive Maintenance"}),e.jsx("option",{value:"Other",children:"Other"})]})]})]})]}),e.jsxs("div",{className:"dt-form-section-group",children:[e.jsx("div",{className:"dt-section-separator"}),e.jsxs("div",{className:"dt-form-grid",children:[e.jsxs("div",{className:"dt-form-row",children:[e.jsxs("label",{htmlFor:"breakdown-date",children:["Breakdown Date ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"breakdown-date",type:"date",value:l.breakdownDate||"",onChange:g=>u({...l,breakdownDate:g.target.value}),required:!0,className:"dt-form-input"})]}),e.jsxs("div",{className:"dt-form-row dt-form-row-time",children:[e.jsxs("label",{children:["Time ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsxs("div",{className:"dt-time-grid",children:[e.jsxs("label",{htmlFor:"start-time",children:["Start Time ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"start-time",type:"time",value:l.startTime||"",onChange:g=>u({...l,startTime:g.target.value}),required:!0,className:"dt-form-input"}),e.jsx("label",{htmlFor:"end-time",children:"End Time"}),e.jsxs("div",{children:[e.jsx("input",{id:"end-time",type:"time",value:l.endTime||"",onChange:g=>u({...l,endTime:g.target.value}),className:"dt-form-input"}),!l.endTime&&l.startTime?e.jsx("div",{className:"dt-duration-status",children:e.jsxs("span",{className:"dt-running-badge",children:[e.jsx("span",{className:"dt-running-dot"}),"Running ",f(s)]})}):l.endTime?e.jsx("div",{className:"dt-duration-status",children:e.jsxs("span",{className:"dt-duration-text",children:[(l.downtimeHours||0).toFixed(2)," hrs"]})}):null]})]})]})]})]}),e.jsxs("div",{className:"dt-form-section-group",children:[e.jsx("div",{className:"dt-section-separator"}),e.jsx("div",{className:"dt-form-grid",children:e.jsxs("div",{className:"dt-form-row",children:[e.jsxs("label",{htmlFor:"cause-type",children:["Cause ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsxs("div",{children:[e.jsxs("select",{id:"cause-type",value:c,onChange:g=>h(g.target.value),required:!0,className:"dt-form-input",children:[e.jsx("option",{value:"",children:"Select Cause"}),e.jsx("option",{value:"Mechanical Failure",children:"Mechanical Failure"}),e.jsx("option",{value:"Electrical Fault",children:"Electrical Fault"}),e.jsx("option",{value:"Component Wear",children:"Component Wear"}),e.jsx("option",{value:"Lubrication Issue",children:"Lubrication Issue"}),e.jsx("option",{value:"Calibration Error",children:"Calibration Error"}),e.jsx("option",{value:"Operator Error",children:"Operator Error"}),e.jsx("option",{value:"Power Failure",children:"Power Failure"}),e.jsx("option",{value:"Sensor Malfunction",children:"Sensor Malfunction"}),e.jsx("option",{value:"Other",children:"Other"})]}),c==="Other"&&e.jsx("textarea",{id:"cause",value:l.cause||"",onChange:g=>u({...l,cause:g.target.value}),required:!0,className:"dt-form-input dt-form-textarea",placeholder:"Enter cause",rows:2})]})]})})]}),e.jsxs("div",{className:"dt-form-section-group",children:[e.jsx("div",{className:"dt-section-separator"}),e.jsxs("div",{className:"dt-form-grid",children:[e.jsxs("div",{className:"dt-form-row",children:[e.jsxs("label",{htmlFor:"action-taken",children:["Action Taken ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("textarea",{id:"action-taken",value:l.actionTaken||"",onChange:g=>u({...l,actionTaken:g.target.value}),required:!0,className:"dt-form-input dt-form-textarea",placeholder:"Enter action taken",rows:2})]}),e.jsxs("div",{className:"dt-form-row",children:[e.jsxs("label",{htmlFor:"spares-used",children:["Spares Used ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"spares-used",type:"text",value:l.sparesUsed||"",onChange:g=>u({...l,sparesUsed:g.target.value}),required:!0,className:"dt-form-input",placeholder:"Enter spares used"})]}),e.jsxs("div",{className:"dt-form-row",children:[e.jsx("label",{htmlFor:"compliance-status",children:"Compliance Status"}),e.jsxs("select",{id:"compliance-status",value:l.complianceStatus||"Compliant",onChange:g=>u({...l,complianceStatus:g.target.value}),className:"dt-form-input",children:[e.jsx("option",{value:"Compliant",children:"Compliant"}),e.jsx("option",{value:"Non-Compliant",children:"Non-Compliant"}),e.jsx("option",{value:"Pending",children:"Pending"})]})]})]})]})]}),e.jsxs("div",{className:"ra-assignment-modal-footer dt-modal-footer",children:[e.jsx("button",{type:"button",className:"ra-assignment-btn ra-assignment-btn--cancel",onClick:n,children:"Cancel"}),e.jsx("button",{type:"submit",className:"ra-assignment-btn ra-assignment-btn--primary",children:r?"Update Downtime":"Create Downtime"})]})]})]})})},Ure=({statusFilter:r,advancedFilters:t,onClose:n,onClear:a,onApply:s})=>{const[i,c]=C.useState(r),[o,d]=C.useState(t);return e.jsx("div",{className:"modal-overlay ra-filter-modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content ra-filter-modal",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"ra-filter-modal-header",children:[e.jsxs("div",{className:"ra-filter-modal-titlewrap",children:[e.jsx("div",{className:"ra-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M22 3H2l8 9v7l4 2v-9l8-9z"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"ra-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"ra-filter-subtitle",children:"Filter downtime registers by multiple criteria"})]})]}),e.jsx("button",{className:"ra-filter-close",onClick:n,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"ra-filter-modal-body",children:e.jsxs("div",{className:"ra-filter-grid",children:[e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Register Number"}),e.jsx("input",{type:"text",value:o.dtRegNum,onChange:l=>d({...o,dtRegNum:l.target.value}),className:"ra-filter-input",placeholder:"Enter register number"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Company Name"}),e.jsx("input",{type:"text",value:o.companyName,onChange:l=>d({...o,companyName:l.target.value}),className:"ra-filter-input",placeholder:"Enter company name"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Equipment ID"}),e.jsx("input",{type:"text",value:o.equipmentId,onChange:l=>d({...o,equipmentId:l.target.value}),className:"ra-filter-input",placeholder:"Enter equipment ID"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Breakdown Type"}),e.jsx("input",{type:"text",value:o.breakdownType,onChange:l=>d({...o,breakdownType:l.target.value}),className:"ra-filter-input",placeholder:"Enter breakdown type"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Compliance Status"}),e.jsxs("select",{value:o.complianceStatus,onChange:l=>d({...o,complianceStatus:l.target.value}),className:"ra-filter-select",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"Compliant",children:"Compliant"}),e.jsx("option",{value:"Non-Compliant",children:"Non-Compliant"}),e.jsx("option",{value:"Pending",children:"Pending"})]})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:i,onChange:l=>c(l.target.value),className:"ra-filter-select",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"ra-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"ra-link-btn",onClick:()=>{c("all"),d({dtRegNum:"",companyName:"",equipmentId:"",breakdownType:"",complianceStatus:""}),a()},children:"Clear Filters"}),e.jsx("button",{type:"button",className:"ra-btn ra-btn--primary ra-btn--sm",onClick:()=>s({statusFilter:i,advancedFilters:o}),children:"Apply Filters"})]})]})})},Hre=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},UA=async(r,t={})=>{const n=Hre(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${yf}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const c=await s.json();c.message?Array.isArray(c.message)?i=c.message.join(", "):typeof c.message=="string"?i=c.message:i=String(c.message):c.error&&(typeof c.error=="string"?i=c.error:c.error.message?i=typeof c.error.message=="string"?c.error.message:String(c.error.message):i=JSON.stringify(c.error));const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o.errorData=c,o}catch{const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o}}return s.status===204?{}:s.json()},Th={lookupBarcode:async r=>(await UA(`/waste-collections/barcode/${encodeURIComponent(r)}`,{method:"GET"})).data,createWasteCollection:async r=>(await UA("/waste-collections",{method:"POST",body:JSON.stringify(r)})).data,getWasteCollectionById:async r=>(await UA(`/waste-collections/${r}`,{method:"GET"})).data,getAllWasteCollections:async(r,t,n,a,s,i)=>{let c="/waste-collections";const o=new URLSearchParams;return r&&o.append("companyId",r),t&&o.append("hcfId",t),n&&o.append("date",n),a&&o.append("endDate",a),s&&o.append("status",s),i&&o.append("routeAssignmentId",i),o.toString()&&(c+=`?${o.toString()}`),(await UA(c,{method:"GET"})).data},updateWasteCollection:async(r,t)=>(await UA(`/waste-collections/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,collectWaste:async(r,t)=>(await UA(`/waste-collections/${r}/collect`,{method:"POST",body:JSON.stringify({weightKg:t})})).data,deleteWasteCollection:async r=>{await UA(`/waste-collections/${r}`,{method:"DELETE"})}},Qre=()=>{const{logout:r,user:t,permissions:n}=Yn(),a=jn(),[s,i]=C.useState(""),[c,o]=C.useState(new Date().toISOString().split("T")[0]),[d,l]=C.useState("all"),[u,h]=C.useState("all"),[f,A]=C.useState(""),[g,m]=C.useState("all"),[x,y]=C.useState("all"),[j,b]=C.useState(!1),[S,w]=C.useState(!1),[E,I]=C.useState(!1),[L,J]=C.useState(!1),[ae,G]=C.useState(!1),[le,V]=C.useState(null),[me,$]=C.useState(null),[ee,we]=C.useState(null),[R,q]=C.useState(!1),[ie,Z]=C.useState(null),[D,ue]=C.useState(null),[te,ye]=C.useState(""),[pe,je]=C.useState(null),[re,he]=C.useState(!1),X=C.useRef(null),[Ae,Be]=C.useState([]),[Me,$e]=C.useState([]),ne=C.useCallback(async()=>{try{const Yr=(await ha.getAllCompanies(!0)).map(Qr=>({id:Qr.id,companyCode:Qr.companyCode,companyName:Qr.companyName,status:Qr.status}));Be(Yr)}catch(Xt){console.error("Error loading companies:",Xt)}},[]),Pe=C.useCallback(async()=>{q(!0),Z(null);try{const Xt=await Th.getAllWasteCollections(void 0,void 0,c,void 0,d!=="all"?d:void 0),Yr=await Promise.all(Xt.map(async Qr=>{const He=Ae.find(Ht=>Ht.id===Qr.companyId);let Rt="",ot="";try{const Ht=await Mi.getHcfById(Qr.hcfId);Rt=Ht.hcfCode,ot=Ht.hcfName}catch(Ht){console.error("Error loading HCF:",Ht)}return{id:Qr.id,barcode:Qr.barcode,collectionDate:Qr.collectionDate,companyId:Qr.companyId,companyName:(He==null?void 0:He.companyName)||"Unknown",hcfId:Qr.hcfId,hcfCode:Rt,hcfName:ot,wasteColor:Qr.wasteColor,weightKg:Qr.weightKg,status:Qr.status,routeAssignmentId:Qr.routeAssignmentId,collectedBy:Qr.collectedBy,collectedAt:Qr.collectedAt,notes:Qr.notes,createdOn:Qr.createdOn}}));$e(Yr)}catch(Xt){const Yr=Xt instanceof Error?Xt.message:"Failed to load collections";Z(Yr),console.error("Error loading collections:",Xt)}finally{q(!1)}},[c,d,Ae]);C.useEffect(()=>{(async()=>{await ne()})()},[ne]),C.useEffect(()=>{Ae.length>0&&Pe()},[c,d,Ae,Pe]);const _e=async Xt=>{if(!Xt||Xt.length<5){Z("Please enter a valid barcode (at least 5 characters)");return}he(!0),Z(null),je(null);try{const Yr=await Th.lookupBarcode(Xt);je(Yr),Me.find(He=>He.barcode===Xt&&He.collectionDate===c)?(Z(`Barcode ${Xt} has already been collected on ${c}`),je(null)):b(!0)}catch(Yr){const Qr=Yr instanceof Error?Yr.message:"Failed to lookup barcode";Z(Qr),je(null)}finally{he(!1)}},rt=Xt=>{Xt==null||Xt.preventDefault(),te.trim()&&(_e(te.trim()),ye(""))},et=async Xt=>{if(!pe){Z("Barcode lookup result is missing");return}try{q(!0),Z(null),await Th.createWasteCollection({barcode:pe.barcode,collectionDate:c,companyId:pe.companyId,hcfId:pe.hcfId,wasteColor:pe.wasteColor,weightKg:Xt.weightKg||null,status:"Pending",notes:Xt.notes||null}),ue("Waste collection recorded successfully"),b(!1),je(null),await Pe(),setTimeout(()=>ue(null),3e3)}catch(Yr){const Qr=Yr instanceof Error?Yr.message:"Failed to save collection";Z(Qr),console.error("Error saving collection:",Yr)}finally{q(!1)}},Le=Xt=>{V(Xt),w(!0)},it=Xt=>{$(Xt),I(!0)},Wt=async Xt=>{if(me)try{q(!0),Z(null),await Th.collectWaste(me.id,Xt.weightKg),ue("Collection updated successfully"),await Pe(),I(!1),$(null),setTimeout(()=>ue(null),3e3)}catch(Yr){const Qr=Yr instanceof Error?Yr.message:"Failed to update collection";Z(Qr),console.error("Error updating collection:",Yr)}finally{q(!1)}},qe=Xt=>{we(Xt),J(!0)},St=async()=>{if(ee)try{q(!0),Z(null),await Th.deleteWasteCollection(ee.id),ue("Collection deleted successfully"),await Pe(),J(!1),we(null),setTimeout(()=>ue(null),3e3)}catch(Xt){const Yr=Xt instanceof Error?Xt.message:"Failed to delete collection";Z(Yr),console.error("Error deleting collection:",Xt)}finally{q(!1)}},_t=Me.filter(Xt=>{const Yr=Xt.barcode.toLowerCase().includes(s.toLowerCase())||Xt.hcfCode.toLowerCase().includes(s.toLowerCase())||Xt.hcfName.toLowerCase().includes(s.toLowerCase())||Xt.companyName.toLowerCase().includes(s.toLowerCase()),Qr=u==="all"||Xt.wasteColor===u;return Yr&&Qr}),ar=Xt=>{switch(Xt){case"Pending":return"wc-status-badge--pending";case"Collected":return"wc-status-badge--collected";case"In Transit":return"wc-status-badge--in-transit";case"Processed":return"wc-status-badge--verified";case"Disposed":return"wc-status-badge--rejected";default:return""}},en=xs(n,a.pathname);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:"dashboard-sidebar",children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:en.map(Xt=>e.jsx("li",{children:e.jsxs(Hr,{to:Xt.path,className:`nav-link ${Xt.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:Xt.icon}),e.jsx("span",{className:"nav-label",children:Xt.label})]})},Xt.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Hr,{to:"/profile",className:`sidebar-profile-btn ${a.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(_a,{title:"Waste Collection",subtitle:"Manage waste collection records"}),D&&e.jsxs("div",{style:{padding:"12px 16px",background:"#d4edda",color:"#155724",marginBottom:"16px",borderRadius:"6px",border:"1px solid #c3e6cb",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx("span",{children:D}),e.jsx("button",{onClick:()=>ue(null),style:{background:"none",border:"none",color:"#155724",cursor:"pointer",fontSize:"18px",padding:"0 8px",lineHeight:"1"},"aria-label":"Close success message",children:""})]}),ie&&e.jsxs("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx("span",{children:ie}),e.jsx("button",{onClick:()=>Z(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px",lineHeight:"1"},"aria-label":"Close error message",children:""})]}),R&&!Me.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading collections..."}),e.jsxs("div",{className:"wc-page",children:[e.jsxs("div",{className:"wc-page-header",children:[e.jsxs("div",{className:"wc-header-left",children:[e.jsx("div",{className:"wc-header-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]})}),e.jsx("h1",{className:"wc-page-title",children:"Waste Collection"})]}),e.jsx("div",{className:"wc-header-actions"})]}),e.jsxs("div",{className:"wc-search-section",children:[e.jsxs("div",{className:"wc-barcode-row",children:[e.jsxs("div",{className:"wc-barcode-search",children:[e.jsxs("svg",{className:"wc-search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("form",{onSubmit:rt,className:"wc-barcode-form",children:e.jsx("input",{ref:X,type:"text",value:te,onChange:Xt=>ye(Xt.target.value),placeholder:"Scan or enter barcode...",className:"wc-barcode-input",autoFocus:!0,disabled:re})})]}),e.jsx("button",{type:"button",className:"wc-btn wc-btn--scan-inline",onClick:rt,disabled:re||!te.trim(),children:re?e.jsx("span",{children:"Scanning..."}):e.jsxs(e.Fragment,{children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"7",y1:"8",x2:"7",y2:"16"}),e.jsx("line",{x1:"11",y1:"8",x2:"11",y2:"16"}),e.jsx("line",{x1:"15",y1:"8",x2:"15",y2:"16"}),e.jsx("line",{x1:"19",y1:"8",x2:"19",y2:"16"})]}),"Scan"]})})]}),e.jsxs("div",{className:"wc-search-row",children:[e.jsxs("div",{className:"wc-general-search",children:[e.jsxs("svg",{className:"wc-search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",placeholder:"Search by barcode, HCF, company...",value:s,onChange:Xt=>i(Xt.target.value),className:"wc-search-input"})]}),e.jsxs("button",{className:"wc-btn wc-btn--filter-inline",onClick:()=>{A(c),m(d),y(u),G(!ae)},children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]})]})]}),e.jsx("div",{className:"wc-table-container",children:e.jsxs("table",{className:"wc-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"DATE"}),e.jsx("th",{children:"BARCODE"}),e.jsx("th",{children:"HCF"}),e.jsx("th",{children:"COMPANY"}),e.jsx("th",{children:"COLOR"}),e.jsx("th",{children:"WEIGHT (KG)"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:_t.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"wc-empty-message",children:R?"Loading...":"No collections found"})}):_t.map(Xt=>{const Yr=new Date(Xt.collectionDate),Qr=`${String(Yr.getDate()).padStart(2,"0")}/${String(Yr.getMonth()+1).padStart(2,"0")}/${Yr.getFullYear()}`;return e.jsxs("tr",{children:[e.jsx("td",{children:Qr}),e.jsx("td",{children:e.jsx("span",{className:"wc-barcode-display",children:Xt.barcode})}),e.jsx("td",{children:e.jsx("span",{className:"wc-hcf-code",children:Xt.hcfCode})}),e.jsx("td",{children:Xt.companyName}),e.jsx("td",{children:e.jsxs("div",{className:"wc-color-badge-wrapper",children:[e.jsx("span",{className:`wc-color-swatch wc-color-swatch--${Xt.wasteColor.toLowerCase()}`}),e.jsx("span",{className:"wc-color-text",children:Xt.wasteColor.toUpperCase()})]})}),e.jsx("td",{children:Xt.weightKg!=null&&!isNaN(Number(Xt.weightKg))?Number(Xt.weightKg).toFixed(2):"-"}),e.jsx("td",{children:e.jsx("span",{className:`wc-status-badge ${ar(Xt.status)}`,children:Xt.status==="Collected"?"COLLECTED":Xt.status==="Processed"?"VERIFIED":Xt.status==="Disposed"?"REJECTED":Xt.status.toUpperCase()})}),e.jsx("td",{children:e.jsxs("div",{className:"wc-action-buttons",children:[e.jsx("button",{className:"wc-action-btn wc-action-btn--view",onClick:()=>Le(Xt),title:"View",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),Xt.status==="Pending"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"wc-action-btn wc-action-btn--edit",onClick:()=>it(Xt),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"wc-action-btn wc-action-btn--delete",onClick:()=>qe(Xt),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]})})]},Xt.id)})})]})}),e.jsxs("div",{className:"wc-table-footer",children:["Showing ",_t.length," of ",Me.length," items"]})]})]}),j&&pe&&e.jsx(Wre,{barcodeLookup:pe,collectionDate:c,onClose:()=>{b(!1),je(null)},onSave:et}),S&&le&&e.jsx($re,{collection:le,onClose:()=>{w(!1),V(null)}}),ae&&e.jsx(Vre,{filterDate:f,filterStatus:g,filterColor:x,onFilterDateChange:A,onFilterStatusChange:m,onFilterColorChange:y,onClearFilters:()=>{A(""),m("all"),y("all")},onApplyFilters:()=>{f&&o(f),l(g),h(x),G(!1)},onClose:()=>G(!1)}),E&&me&&e.jsx(zre,{collection:me,onClose:()=>{I(!1),$(null)},onUpdate:Wt,loading:R}),L&&ee&&e.jsx(Kre,{collection:ee,onClose:()=>{J(!1),we(null)},onConfirm:St,loading:R})]})},Wre=({barcodeLookup:r,collectionDate:t,onClose:n,onSave:a})=>{const[s,i]=C.useState({weightKg:null,notes:null}),c=d=>{d.preventDefault(),a(s)},o=d=>{if(!d)return"";const l=new Date(d),u=String(l.getDate()).padStart(2,"0"),h=String(l.getMonth()+1).padStart(2,"0"),f=l.getFullYear();return`${u}/${h}/${f}`};return e.jsx("div",{className:"wc-collection-modal-overlay",onClick:n,children:e.jsxs("div",{className:"wc-collection-modal",onClick:d=>d.stopPropagation(),children:[e.jsxs("div",{className:"wc-collection-modal-header",children:[e.jsxs("div",{className:"wc-collection-header-left",children:[e.jsx("div",{className:"wc-collection-header-icon",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"})})}),e.jsx("h2",{className:"wc-collection-modal-title",children:"Record Waste Collection"})]}),e.jsx("button",{className:"wc-collection-modal-close",onClick:n,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"wc-collection-form",onSubmit:c,children:[e.jsxs("div",{className:"wc-collection-form-section",children:[e.jsx("h3",{className:"wc-collection-section-title",children:"BARCODE INFORMATION"}),e.jsxs("div",{className:"wc-collection-form-grid",children:[e.jsxs("div",{className:"wc-collection-form-group",children:[e.jsx("label",{className:"wc-collection-label",children:"Barcode"}),e.jsx("input",{type:"text",value:r.barcode,disabled:!0,className:"wc-collection-input wc-collection-input--readonly"})]}),e.jsxs("div",{className:"wc-collection-form-group",children:[e.jsx("label",{className:"wc-collection-label",children:"Collection Date"}),e.jsx("input",{type:"text",value:o(t),disabled:!0,className:"wc-collection-input wc-collection-input--readonly"})]}),e.jsxs("div",{className:"wc-collection-form-group",children:[e.jsx("label",{className:"wc-collection-label",children:"Company"}),e.jsx("input",{type:"text",value:r.companyName,disabled:!0,className:"wc-collection-input wc-collection-input--readonly"})]}),e.jsxs("div",{className:"wc-collection-form-group",children:[e.jsx("label",{className:"wc-collection-label",children:"HCF"}),e.jsx("input",{type:"text",value:r.hcfCode,disabled:!0,className:"wc-collection-input wc-collection-input--readonly"})]}),e.jsxs("div",{className:"wc-collection-form-group",children:[e.jsx("label",{className:"wc-collection-label",children:"Waste Color"}),e.jsx("input",{type:"text",value:r.wasteColor,disabled:!0,className:"wc-collection-input wc-collection-input--readonly"})]})]})]}),e.jsxs("div",{className:"wc-collection-form-section",children:[e.jsx("h3",{className:"wc-collection-section-title",children:"COLLECTION DETAILS"}),e.jsxs("div",{className:"wc-collection-form-grid",children:[e.jsxs("div",{className:"wc-collection-form-group",children:[e.jsxs("label",{className:"wc-collection-label",children:["Weight (Kg) ",e.jsx("span",{className:"wc-collection-required",children:"*"})]}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:s.weightKg||"",onChange:d=>i({...s,weightKg:parseFloat(d.target.value)||null}),required:!0,className:"wc-collection-input",placeholder:"Enter weight"})]}),e.jsxs("div",{className:"wc-collection-form-group wc-collection-form-group--full",children:[e.jsx("label",{className:"wc-collection-label",children:"Notes"}),e.jsx("textarea",{value:s.notes||"",onChange:d=>i({...s,notes:d.target.value||null}),rows:3,className:"wc-collection-textarea",placeholder:"Additional notes or observations..."})]})]})]}),e.jsxs("div",{className:"wc-collection-modal-footer",children:[e.jsx("button",{type:"button",className:"wc-collection-btn wc-collection-btn--cancel",onClick:n,children:"Cancel"}),e.jsx("button",{type:"submit",className:"wc-collection-btn wc-collection-btn--submit",children:"Record Collection"})]})]})]})})},$re=({collection:r,onClose:t,onVerify:n})=>{const a=o=>{const d=new Date(o),l=String(d.getDate()).padStart(2,"0"),u=String(d.getMonth()+1).padStart(2,"0"),h=d.getFullYear();return`${l}/${u}/${h}`},s=o=>{switch(o){case"Pending":return"wc-view-status-badge--pending";case"Collected":return"wc-view-status-badge--collected";case"Processed":return"wc-view-status-badge--verified";case"Disposed":return"wc-view-status-badge--rejected";default:return""}},i=o=>`wc-view-color-badge--${o.toLowerCase()}`,c=()=>{n&&n(),t()};return e.jsx("div",{className:"wc-view-modal-overlay",onClick:t,children:e.jsxs("div",{className:"wc-view-modal",onClick:o=>o.stopPropagation(),children:[e.jsxs("div",{className:"wc-view-modal-header",children:[e.jsxs("div",{className:"wc-view-header-left",children:[e.jsx("div",{className:"wc-view-icon",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),e.jsxs("div",{className:"wc-view-title-wrap",children:[e.jsx("h2",{className:"wc-view-modal-title",children:"View Collection Details"}),e.jsxs("p",{className:"wc-view-modal-subtitle",children:["Barcode: ",r.barcode]})]})]}),e.jsx("button",{className:"wc-view-modal-close",onClick:t,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsx("div",{className:"wc-view-modal-body",children:e.jsxs("div",{className:"wc-view-detail-grid",children:[e.jsxs("div",{className:"wc-view-detail-column",children:[e.jsxs("div",{className:"wc-view-detail-item",children:[e.jsx("label",{className:"wc-view-detail-label",children:"COLLECTION DATE"}),e.jsx("span",{className:"wc-view-detail-value",children:a(r.collectionDate)})]}),e.jsxs("div",{className:"wc-view-detail-item",children:[e.jsx("label",{className:"wc-view-detail-label",children:"HCF"}),e.jsx("span",{className:"wc-view-detail-value",children:r.hcfCode})]}),e.jsxs("div",{className:"wc-view-detail-item",children:[e.jsx("label",{className:"wc-view-detail-label",children:"WASTE COLOR"}),e.jsxs("div",{className:`wc-view-color-badge ${i(r.wasteColor)}`,children:[e.jsx("span",{className:"wc-view-color-swatch"}),e.jsx("span",{className:"wc-view-color-text",children:r.wasteColor.toUpperCase()})]})]}),e.jsxs("div",{className:"wc-view-detail-item",children:[e.jsx("label",{className:"wc-view-detail-label",children:"STATUS"}),e.jsx("span",{className:`wc-view-status-badge ${s(r.status)}`,children:r.status==="Collected"?"COLLECTED":r.status==="Processed"?"VERIFIED":r.status==="Disposed"?"REJECTED":r.status.toUpperCase()})]})]}),e.jsxs("div",{className:"wc-view-detail-column",children:[e.jsxs("div",{className:"wc-view-detail-item",children:[e.jsx("label",{className:"wc-view-detail-label",children:"BARCODE"}),e.jsx("span",{className:"wc-view-detail-value",children:r.barcode})]}),e.jsxs("div",{className:"wc-view-detail-item",children:[e.jsx("label",{className:"wc-view-detail-label",children:"COMPANY"}),e.jsx("span",{className:"wc-view-detail-value",children:r.companyName})]}),e.jsxs("div",{className:"wc-view-detail-item",children:[e.jsx("label",{className:"wc-view-detail-label",children:"WEIGHT"}),e.jsx("span",{className:"wc-view-detail-value",children:r.weightKg!=null&&!isNaN(Number(r.weightKg))?`${Number(r.weightKg).toFixed(2)} kg`:"Not recorded"})]})]})]})}),e.jsxs("div",{className:"wc-view-modal-footer",children:[e.jsx("button",{type:"button",className:"wc-view-btn wc-view-btn--close",onClick:t,children:"Close"}),(r.status==="Collected"||r.status==="Pending")&&e.jsx("button",{type:"button",className:"wc-view-btn wc-view-btn--verify",onClick:c,children:"Verify Collection"})]})]})})},Vre=({filterDate:r,filterStatus:t,filterColor:n,onFilterDateChange:a,onFilterStatusChange:s,onFilterColorChange:i,onClearFilters:c,onApplyFilters:o,onClose:d})=>{const l=()=>{if(!r)return"";if(r.includes("-")&&r.length===10&&r.split("-")[0].length===4)return r;if(r.includes("-")&&r.split("-")[0].length===2){const h=r.split("-");if(h.length===3){const[f,A,g]=h;return`${g}-${A}-${f}`}}return r},u=h=>{const f=h.target.value;a(f||"")};return e.jsx("div",{className:"wc-filter-modal-overlay",onClick:d,children:e.jsxs("div",{className:"wc-filter-modal",onClick:h=>h.stopPropagation(),children:[e.jsxs("div",{className:"wc-filter-modal-header",children:[e.jsxs("div",{className:"wc-filter-modal-title-wrap",children:[e.jsx("h2",{className:"wc-filter-modal-title",children:"Advanced Filters"}),e.jsx("p",{className:"wc-filter-modal-subtitle",children:"Refine results by multiple criteria"})]}),e.jsx("button",{className:"wc-filter-modal-close",onClick:d,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("div",{className:"wc-filter-modal-body",children:[e.jsxs("div",{className:"wc-filter-form-group",children:[e.jsx("label",{className:"wc-filter-label",children:"COLLECTION DATE"}),e.jsxs("div",{className:"wc-filter-date-wrapper",children:[e.jsxs("svg",{className:"wc-filter-date-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),e.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),e.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),e.jsx("input",{type:"date",value:l(),onChange:u,className:"wc-filter-date-input"})]})]}),e.jsxs("div",{className:"wc-filter-form-group",children:[e.jsx("label",{className:"wc-filter-label",children:"STATUS"}),e.jsxs("div",{className:"wc-filter-select-wrapper",children:[e.jsxs("select",{value:t,onChange:h=>s(h.target.value),className:"wc-filter-select",children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Collected",children:"Collected"}),e.jsx("option",{value:"In Transit",children:"In Transit"}),e.jsx("option",{value:"Processed",children:"Processed"}),e.jsx("option",{value:"Disposed",children:"Disposed"})]}),e.jsx("svg",{className:"wc-filter-select-arrow",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"6 9 12 15 18 9"})})]})]}),e.jsxs("div",{className:"wc-filter-form-group",children:[e.jsx("label",{className:"wc-filter-label",children:"COLOR"}),e.jsxs("div",{className:"wc-filter-select-wrapper",children:[e.jsxs("select",{value:n,onChange:h=>i(h.target.value),className:"wc-filter-select",children:[e.jsx("option",{value:"all",children:"All Colors"}),e.jsx("option",{value:"Yellow",children:"Yellow"}),e.jsx("option",{value:"Red",children:"Red"}),e.jsx("option",{value:"White",children:"White"}),e.jsx("option",{value:"Blue",children:"Blue"}),e.jsx("option",{value:"Black",children:"Black"})]}),e.jsx("svg",{className:"wc-filter-select-arrow",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"6 9 12 15 18 9"})})]})]})]}),e.jsxs("div",{className:"wc-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"wc-filter-clear-btn",onClick:c,children:"Clear Filters"}),e.jsx("button",{type:"button",className:"wc-filter-apply-btn",onClick:o,children:"Apply Filters"})]})]})})},zre=({collection:r,onClose:t,onUpdate:n,loading:a})=>{const[s,i]=C.useState({weightKg:r.weightKg!=null&&!isNaN(Number(r.weightKg))?Number(r.weightKg):0}),c=d=>{const l=new Date(d),u=String(l.getDate()).padStart(2,"0"),h=String(l.getMonth()+1).padStart(2,"0"),f=l.getFullYear();return`${u}/${h}/${f}`},o=d=>{d.preventDefault(),!(s.weightKg<=0)&&n(s)};return e.jsx("div",{className:"wc-edit-modal-overlay",onClick:t,children:e.jsxs("div",{className:"wc-edit-modal",onClick:d=>d.stopPropagation(),children:[e.jsxs("div",{className:"wc-edit-modal-header",children:[e.jsx("h2",{className:"wc-edit-modal-title",children:"Edit Waste Collection"}),e.jsx("button",{className:"wc-edit-modal-close",onClick:t,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"wc-edit-form",onSubmit:o,children:[e.jsxs("div",{className:"wc-edit-form-section",children:[e.jsx("h3",{className:"wc-edit-section-title",children:"BARCODE INFORMATION"}),e.jsxs("div",{className:"wc-edit-form-grid",children:[e.jsxs("div",{className:"wc-edit-form-group",children:[e.jsx("label",{className:"wc-edit-label",children:"Barcode"}),e.jsx("input",{type:"text",value:r.barcode,disabled:!0,className:"wc-edit-input wc-edit-input--readonly"})]}),e.jsxs("div",{className:"wc-edit-form-group",children:[e.jsx("label",{className:"wc-edit-label",children:"Collection Date"}),e.jsx("input",{type:"text",value:c(r.collectionDate),disabled:!0,className:"wc-edit-input wc-edit-input--readonly"})]}),e.jsxs("div",{className:"wc-edit-form-group",children:[e.jsx("label",{className:"wc-edit-label",children:"Company"}),e.jsx("input",{type:"text",value:r.companyName,disabled:!0,className:"wc-edit-input wc-edit-input--readonly"})]}),e.jsxs("div",{className:"wc-edit-form-group",children:[e.jsx("label",{className:"wc-edit-label",children:"HCF"}),e.jsx("input",{type:"text",value:r.hcfCode,disabled:!0,className:"wc-edit-input wc-edit-input--readonly"})]}),e.jsxs("div",{className:"wc-edit-form-group",children:[e.jsx("label",{className:"wc-edit-label",children:"Waste Color"}),e.jsx("input",{type:"text",value:r.wasteColor,disabled:!0,className:"wc-edit-input wc-edit-input--readonly"})]})]})]}),e.jsxs("div",{className:"wc-edit-form-section",children:[e.jsx("h3",{className:"wc-edit-section-title",children:"COLLECTION DETAILS"}),e.jsx("div",{className:"wc-edit-form-grid",children:e.jsxs("div",{className:"wc-edit-form-group",children:[e.jsxs("label",{className:"wc-edit-label",children:["Weight (Kg) ",e.jsx("span",{className:"wc-edit-required",children:"*"})]}),e.jsx("input",{type:"number",step:"0.01",min:"0.01",value:s.weightKg||"",onChange:d=>i({...s,weightKg:parseFloat(d.target.value)||0}),required:!0,className:"wc-edit-input",placeholder:"Enter weight"})]})})]}),e.jsxs("div",{className:"wc-edit-modal-footer",children:[e.jsx("button",{type:"button",className:"wc-edit-btn wc-edit-btn--cancel",onClick:t,children:"Cancel"}),e.jsx("button",{type:"submit",className:"wc-edit-btn wc-edit-btn--update",disabled:a,children:a?"Updating...":"Update Collection"})]})]})]})})},Kre=({collection:r,onClose:t,onConfirm:n,loading:a})=>e.jsx("div",{className:"wc-delete-modal-overlay",onClick:t,children:e.jsxs("div",{className:"wc-delete-modal",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"wc-delete-modal-header",children:[e.jsxs("div",{className:"wc-delete-header-left",children:[e.jsx("div",{className:"wc-delete-icon",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})}),e.jsx("h2",{className:"wc-delete-modal-title",children:"Delete Waste Collection"})]}),e.jsx("button",{className:"wc-delete-modal-close",onClick:t,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsx("div",{className:"wc-delete-modal-body",children:e.jsxs("p",{className:"wc-delete-message",children:["Are you sure you want to delete the collection record for barcode ",e.jsx("strong",{children:r.barcode}),"?"]})}),e.jsxs("div",{className:"wc-delete-modal-footer",children:[e.jsx("button",{type:"button",className:"wc-delete-btn wc-delete-btn--cancel",onClick:t,children:"Cancel"}),e.jsx("button",{type:"button",className:"wc-delete-btn wc-delete-btn--delete",onClick:n,disabled:a,children:a?"Deleting...":"Delete Collection"})]})]})}),Gre="http://localhost:3000/api/v1",qre=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},HA=async(r,t={})=>{const n=qre(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${Gre}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const c=await s.json();c.message?Array.isArray(c.message)?i=c.message.join(", "):typeof c.message=="string"&&(i=c.message):c.error&&(i=typeof c.error=="string"?c.error:c.error.message||JSON.stringify(c.error));const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o.errorData=c,o}catch{const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o}}return s.status===204?{}:s.json()},Fp={createTransaction:async r=>(await HA("/waste-transactions",{method:"POST",body:JSON.stringify(r)})).data,getTransactionById:async r=>(await HA(`/waste-transactions/${r}`,{method:"GET"})).data,getAllTransactions:async(r,t,n,a,s)=>{let i="/waste-transactions";const c=new URLSearchParams;return r&&c.append("companyId",r),t&&c.append("hcfId",t),n&&c.append("startDate",n),a&&c.append("endDate",a),s&&c.append("status",s),c.toString()&&(i+=`?${c.toString()}`),(await HA(i,{method:"GET"})).data},updateTransaction:async(r,t)=>(await HA(`/waste-transactions/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,submitTransaction:async r=>(await HA(`/waste-transactions/${r}/submit`,{method:"PATCH"})).data,verifyTransaction:async r=>(await HA(`/waste-transactions/${r}/verify`,{method:"PATCH"})).data,deleteTransaction:async r=>{await HA(`/waste-transactions/${r}`,{method:"DELETE"})}},Xre=()=>{var et;const{logout:r,permissions:t}=Yn(),n=jn(),[a,s]=C.useState(""),[i,c]=C.useState(new Date().toISOString().split("T")[0]),[o,d]=C.useState("all"),[l,u]=C.useState(!1),[h,f]=C.useState(!1),[A,g]=C.useState(!1),[m,x]=C.useState(null),[y,j]=C.useState(!1),[b,S]=C.useState(null),[w,E]=C.useState(null),[I,L]=C.useState(!1),[J,ae]=C.useState(null),[G,le]=C.useState(""),[V,me]=C.useState("all"),[$,ee]=C.useState([]),[we,R]=C.useState([]),[q,ie]=C.useState([]),[Z,D]=C.useState([]),[ue,te]=C.useState({companyId:"",hcfId:"",pickupDate:new Date().toISOString().split("T")[0],isNilPickup:!1,yellowBagCount:0,redBagCount:0,whiteBagCount:0,yellowWeightKg:null,redWeightKg:null,whiteWeightKg:null,latitude:null,longitude:null,segregationQuality:null,notes:null}),ye=C.useCallback(async()=>{try{const Le=await ha.getAllCompanies(void 0,!0);ee(Le)}catch(Le){console.error("Failed to load companies:",Le),S("Failed to load companies")}},[]),pe=C.useCallback(async()=>{try{const Le=await Mi.getAllHcfs(void 0,!0);R(Le)}catch(Le){console.error("Failed to load HCFs:",Le),S("Failed to load HCFs")}},[]),je=C.useCallback(async()=>{j(!0),S(null);try{const Le=i,it=i,Wt=await Fp.getAllTransactions(void 0,void 0,Le,it,o!=="all"?o:void 0),qe=await Promise.all(Wt.map(async St=>{const _t=$.find(Xt=>Xt.id===St.companyId);let ar="",en="";try{const Xt=await Mi.getHcfById(St.hcfId);ar=Xt.hcfName,en=Xt.hcfCode}catch(Xt){console.error("Error loading HCF:",Xt)}return{id:St.id,companyId:St.companyId,companyName:(_t==null?void 0:_t.companyName)||"Unknown",hcfId:St.hcfId,hcfCode:en,hcfName:ar,pickupDate:St.pickupDate,isNilPickup:St.isNilPickup,yellowBagCount:St.yellowBagCount,redBagCount:St.redBagCount,whiteBagCount:St.whiteBagCount,yellowWeightKg:St.yellowWeightKg,redWeightKg:St.redWeightKg,whiteWeightKg:St.whiteWeightKg,latitude:St.latitude,longitude:St.longitude,segregationQuality:St.segregationQuality,status:St.status,notes:St.notes,createdOn:St.createdOn}}));D(qe)}catch(Le){const it=Le instanceof Error?Le.message:"Failed to load transactions";S(it),console.error("Error loading transactions:",Le)}finally{j(!1)}},[i,o,$]);C.useEffect(()=>{if(ue.companyId){const Le=we.filter(it=>it.companyId===ue.companyId);ie(Le),ue.hcfId&&!Le.find(it=>it.id===ue.hcfId)&&te(it=>({...it,hcfId:""}))}else ie([]),te(Le=>({...Le,hcfId:""}))},[ue.companyId,we]),C.useEffect(()=>{ye(),pe()},[ye,pe]),C.useEffect(()=>{$.length>0&&je()},[i,o,$,je]);const re=C.useCallback(()=>{if(!navigator.geolocation){ae("Geolocation is not supported by your browser");return}L(!0),ae(null),navigator.geolocation.getCurrentPosition(Le=>{te(it=>({...it,latitude:Le.coords.latitude,longitude:Le.coords.longitude})),L(!1),E("GPS location captured successfully"),setTimeout(()=>E(null),3e3)},Le=>{ae(`Failed to get GPS location: ${Le.message}`),L(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})},[]),he=async Le=>{if(Le.preventDefault(),!ue.companyId||!ue.hcfId||!ue.pickupDate){S("Please fill in all required fields");return}if(!ue.isNilPickup&&ue.yellowBagCount===0&&ue.redBagCount===0&&ue.whiteBagCount===0){S("Please enter at least one bag count or select NIL pickup");return}try{if(j(!0),S(null),ue.editingId){const it=qe=>{if(qe==null)return null;const St=Number(qe);return isNaN(St)?null:St},Wt={pickupDate:ue.pickupDate,isNilPickup:ue.isNilPickup,yellowBagCount:ue.yellowBagCount,redBagCount:ue.redBagCount,whiteBagCount:ue.whiteBagCount,yellowWeightKg:it(ue.yellowWeightKg),redWeightKg:it(ue.redWeightKg),whiteWeightKg:it(ue.whiteWeightKg),latitude:it(ue.latitude),longitude:it(ue.longitude),segregationQuality:ue.segregationQuality,notes:ue.notes};await Fp.updateTransaction(ue.editingId,Wt),E("Transaction updated successfully")}else{const it=qe=>{if(qe==null)return null;const St=Number(qe);return isNaN(St)?null:St},Wt={companyId:ue.companyId,hcfId:ue.hcfId,pickupDate:ue.pickupDate,isNilPickup:ue.isNilPickup,yellowBagCount:ue.yellowBagCount,redBagCount:ue.redBagCount,whiteBagCount:ue.whiteBagCount,yellowWeightKg:it(ue.yellowWeightKg),redWeightKg:it(ue.redWeightKg),whiteWeightKg:it(ue.whiteWeightKg),latitude:it(ue.latitude),longitude:it(ue.longitude),segregationQuality:ue.segregationQuality,notes:ue.notes};await Fp.createTransaction(Wt),E("Transaction created successfully")}await je(),u(!1),Be(),setTimeout(()=>E(null),3e3)}catch(it){const Wt=it instanceof Error?it.message:"Failed to save transaction";S(Wt),console.error("Error saving transaction:",it)}finally{j(!1)}},X=async(Le,it)=>{try{j(!0),S(null),it==="submit"?(await Fp.submitTransaction(Le),E("Transaction submitted successfully")):(await Fp.verifyTransaction(Le),E("Transaction verified successfully")),await je(),f(!1),setTimeout(()=>E(null),3e3)}catch(Wt){const qe=Wt instanceof Error?Wt.message:"Failed to update status";S(qe),console.error("Error updating status:",Wt)}finally{j(!1)}},Ae=async Le=>{if(confirm("Are you sure you want to delete this transaction?"))try{j(!0),S(null),await Fp.deleteTransaction(Le),E("Transaction deleted successfully"),await je(),f(!1),setTimeout(()=>E(null),3e3)}catch(it){const Wt=it instanceof Error?it.message:"Failed to delete transaction";S(Wt),console.error("Error deleting transaction:",it)}finally{j(!1)}},Be=()=>{te({companyId:"",hcfId:"",pickupDate:new Date().toISOString().split("T")[0],isNilPickup:!1,yellowBagCount:0,redBagCount:0,whiteBagCount:0,yellowWeightKg:null,redWeightKg:null,whiteWeightKg:null,latitude:null,longitude:null,segregationQuality:null,notes:null})},Me=Le=>{if(Le.status!=="Draft"){S("Only draft transactions can be edited");return}te({companyId:Le.companyId,hcfId:Le.hcfId,pickupDate:Le.pickupDate.split("T")[0],isNilPickup:Le.isNilPickup,yellowBagCount:Le.yellowBagCount,redBagCount:Le.redBagCount,whiteBagCount:Le.whiteBagCount,yellowWeightKg:Le.yellowWeightKg,redWeightKg:Le.redWeightKg,whiteWeightKg:Le.whiteWeightKg,latitude:Le.latitude,longitude:Le.longitude,segregationQuality:Le.segregationQuality,notes:Le.notes,editingId:Le.id}),u(!0)},$e=Le=>{x(Le),f(!0)},ne=Le=>{const it=new Date(Le),Wt=String(it.getDate()).padStart(2,"0"),qe=String(it.getMonth()+1).padStart(2,"0"),St=it.getFullYear();return`${Wt}/${qe}/${St}`},Pe=Z.filter(Le=>{if(!a.trim())return!0;const it=a.toLowerCase().trim();return Le.companyName.toLowerCase().includes(it)||Le.hcfName.toLowerCase().includes(it)||Le.hcfCode.toLowerCase().includes(it)}),_e=!ue.editingId||((et=Z.find(Le=>Le.id===ue.editingId))==null?void 0:et.status)==="Draft",rt=xs(t,n.pathname);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:"dashboard-sidebar",children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:rt.map(Le=>e.jsx("li",{children:e.jsxs(Hr,{to:Le.path,className:`nav-link ${Le.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:Le.icon}),e.jsx("span",{className:"nav-label",children:Le.label})]})},Le.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Hr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(_a,{title:"Waste Transaction Data",subtitle:"Manage waste transaction records"}),w&&e.jsxs("div",{style:{padding:"12px 16px",background:"#d4edda",color:"#155724",marginBottom:"16px",borderRadius:"6px",border:"1px solid #c3e6cb",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx("span",{children:w}),e.jsx("button",{onClick:()=>E(null),style:{background:"none",border:"none",color:"#155724",cursor:"pointer",fontSize:"18px",padding:"0 8px",lineHeight:"1"},"aria-label":"Close success message",children:""})]}),b&&e.jsxs("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx("span",{children:b}),e.jsx("button",{onClick:()=>S(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px",lineHeight:"1"},"aria-label":"Close error message",children:""})]}),y&&!Z.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading transactions..."}),e.jsxs("div",{className:"waste-transaction-page",children:[e.jsxs("div",{className:"waste-transaction-header",children:[e.jsx("div",{className:"waste-transaction-header-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"}),e.jsx("line",{x1:"8",y1:"4",x2:"8",y2:"24"})]})}),e.jsx("h1",{className:"waste-transaction-title",children:"Waste Transaction Data"})]}),e.jsxs("div",{className:"waste-transaction-search-actions",children:[e.jsxs("div",{className:"waste-transaction-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",placeholder:"Search by company, HCF, code...",value:a,onChange:Le=>s(Le.target.value),className:"waste-transaction-search-input"})]}),e.jsxs("div",{className:"waste-transaction-actions",children:[e.jsxs("button",{className:"waste-transaction-filter-btn",onClick:()=>g(!0),children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),e.jsxs("button",{className:"waste-transaction-add-btn",onClick:()=>{Be(),u(!0)},children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Transaction"]})]})]}),e.jsx("div",{className:"waste-transaction-table-container",children:e.jsxs("table",{className:"waste-transaction-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"DATE"}),e.jsx("th",{children:"COMPANY"}),e.jsx("th",{children:"HCF"}),e.jsx("th",{children:"NIL"}),e.jsx("th",{children:"YELLOW"}),e.jsx("th",{children:"RED"}),e.jsx("th",{children:"WHITE"}),e.jsx("th",{children:"TOTAL WEIGHT"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:Pe.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:10,className:"empty-message",children:y?"Loading...":"No transactions found for the selected date"})}):Pe.map(Le=>{const it=(Number(Le.yellowWeightKg)||0)+(Number(Le.redWeightKg)||0)+(Number(Le.whiteWeightKg)||0);return e.jsxs("tr",{children:[e.jsx("td",{children:ne(Le.pickupDate)}),e.jsx("td",{children:Le.companyName}),e.jsx("td",{children:e.jsxs("div",{className:"wt-hcf-info",children:[e.jsx("span",{className:"wt-hcf-code",children:Le.hcfCode}),e.jsx("span",{className:"wt-hcf-number",children:Le.id.slice(-3)})]})}),e.jsx("td",{children:Le.isNilPickup?e.jsx("span",{className:"wt-nil-badge",children:"NIL"}):e.jsx("span",{className:"wt-yes-badge",children:"Yes"})}),e.jsx("td",{children:Le.yellowBagCount>0?e.jsxs("div",{className:"wt-bag-info",children:[e.jsx("span",{className:"wt-color-circle wt-color-circle--yellow"}),e.jsxs("span",{className:"wt-bag-text",children:[Le.yellowBagCount,Le.yellowWeightKg&&` (${Number(Le.yellowWeightKg).toFixed(2)}kg)`]})]}):"-"}),e.jsx("td",{children:Le.redBagCount>0?e.jsxs("div",{className:"wt-bag-info",children:[e.jsx("span",{className:"wt-color-circle wt-color-circle--red"}),e.jsxs("span",{className:"wt-bag-text",children:[Le.redBagCount,Le.redWeightKg&&` (${Number(Le.redWeightKg).toFixed(2)}kg)`]})]}):"-"}),e.jsx("td",{children:Le.whiteBagCount>0?e.jsxs("div",{className:"wt-bag-info",children:[e.jsx("span",{className:"wt-color-circle wt-color-circle--white"}),e.jsx("span",{className:"wt-bag-text",children:Le.whiteBagCount})]}):"-"}),e.jsx("td",{children:it>0?`${Number(it).toFixed(2)} kg`:"-"}),e.jsx("td",{children:e.jsx("span",{className:`wt-status-badge wt-status-badge--${Le.status.toLowerCase()}`,children:Le.status})}),e.jsx("td",{children:e.jsxs("div",{className:"wt-action-buttons",children:[e.jsx("button",{className:"wt-action-btn wt-action-btn--view",onClick:()=>$e(Le),title:"View Details",children:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),Le.status==="Draft"&&e.jsx("button",{className:"wt-action-btn wt-action-btn--edit",onClick:()=>Me(Le),title:"Edit",children:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})})]})})]},Le.id)})})]})}),e.jsxs("div",{className:"waste-transaction-pagination-info",children:["Showing ",Pe.length," of ",Z.length," items"]})]})]}),A&&e.jsx(Yre,{filterDate:G,filterStatus:V,onFilterDateChange:le,onFilterStatusChange:me,onClearFilters:()=>{le(""),me("all")},onApplyFilters:()=>{G&&c(G),d(V),g(!1)},onClose:()=>g(!1)}),l&&e.jsx("div",{className:"wt-form-modal-overlay",onClick:()=>{u(!1),Be()},children:e.jsxs("div",{className:"wt-form-modal",onClick:Le=>Le.stopPropagation(),children:[e.jsxs("div",{className:"wt-form-modal-header",children:[e.jsxs("div",{className:"wt-form-header-left",children:[e.jsx("div",{className:"wt-form-header-icon",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),e.jsx("h2",{className:"wt-form-modal-title",children:ue.editingId?"Edit Transaction":"Add Waste Transaction"})]}),e.jsx("button",{className:"wt-form-modal-close",onClick:()=>{u(!1),Be()},children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"wt-form-modal-form",onSubmit:he,children:[e.jsxs("div",{className:"wt-form-body",children:[e.jsxs("div",{className:"wt-form-row",children:[e.jsxs("div",{className:"wt-form-group",children:[e.jsxs("label",{className:"wt-form-label",children:["Company ",e.jsx("span",{className:"wt-required",children:"*"})]}),e.jsxs("select",{className:"wt-form-select",value:ue.companyId,onChange:Le=>te({...ue,companyId:Le.target.value,hcfId:""}),required:!0,disabled:!_e,children:[e.jsx("option",{value:"",children:"Select Company"}),$.map(Le=>e.jsxs("option",{value:Le.id,children:[Le.companyCode," - ",Le.companyName]},Le.id))]})]}),e.jsxs("div",{className:"wt-form-group",children:[e.jsxs("label",{className:"wt-form-label",children:["HCF ",e.jsx("span",{className:"wt-required",children:"*"})]}),e.jsxs("select",{className:"wt-form-input wt-form-input--hcf",value:ue.hcfId,onChange:Le=>te({...ue,hcfId:Le.target.value}),required:!0,disabled:!ue.companyId||!_e,children:[e.jsx("option",{value:"",children:"e.g., SET12"}),q.map(Le=>e.jsx("option",{value:Le.id,children:Le.hcfCode},Le.id))]})]}),e.jsxs("div",{className:"wt-form-group",children:[e.jsxs("label",{className:"wt-form-label",children:["Pickup Date ",e.jsx("span",{className:"wt-required",children:"*"})]}),e.jsx("input",{type:"date",className:"wt-form-input",value:ue.pickupDate,onChange:Le=>te({...ue,pickupDate:Le.target.value}),required:!0,disabled:!_e})]})]}),e.jsx("div",{className:"wt-form-row",children:e.jsx("div",{className:"wt-form-group",children:e.jsxs("label",{className:"wt-form-checkbox-label",children:[e.jsx("input",{type:"checkbox",className:"wt-form-checkbox",checked:ue.isNilPickup,onChange:Le=>te({...ue,isNilPickup:Le.target.checked}),disabled:!_e}),e.jsx("span",{children:"NIL Pickup"})]})})}),e.jsxs("div",{className:"wt-form-row",children:[e.jsxs("div",{className:"wt-form-group",children:[e.jsx("label",{className:"wt-form-label",children:"Latitude"}),e.jsx("input",{type:"number",step:"any",className:"wt-form-input",value:ue.latitude||"",onChange:Le=>te({...ue,latitude:Le.target.value?parseFloat(Le.target.value):null}),placeholder:"28.7041",disabled:!_e})]}),e.jsxs("div",{className:"wt-form-group",children:[e.jsx("label",{className:"wt-form-label",children:"Longitude"}),e.jsx("input",{type:"number",step:"any",className:"wt-form-input",value:ue.longitude||"",onChange:Le=>te({...ue,longitude:Le.target.value?parseFloat(Le.target.value):null}),placeholder:"77.1025",disabled:!_e})]}),e.jsxs("div",{className:"wt-form-group",children:[e.jsx("label",{className:"wt-form-label",children:""}),e.jsx("button",{type:"button",className:"wt-form-gps-btn",onClick:re,disabled:!_e||I,children:I?"Capturing...":"Capture GPS"}),J&&e.jsx("div",{className:"wt-form-error",children:J})]})]}),!ue.isNilPickup&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"wt-form-row",children:[e.jsxs("div",{className:"wt-color-group wt-color-group--yellow",children:[e.jsx("h4",{className:"wt-color-title",children:"Yellow Bags"}),e.jsxs("div",{className:"wt-color-inputs",children:[e.jsxs("div",{className:"wt-color-input-group",children:[e.jsx("label",{className:"wt-color-label",children:"Count"}),e.jsx("input",{type:"number",min:"0",className:"wt-color-input",value:ue.yellowBagCount||0,onChange:Le=>te({...ue,yellowBagCount:parseInt(Le.target.value)||0}),disabled:!_e})]}),e.jsxs("div",{className:"wt-color-input-group",children:[e.jsx("label",{className:"wt-color-label",children:"Weight (kg)"}),e.jsx("input",{type:"number",step:"0.01",min:"0",className:"wt-color-input",value:ue.yellowWeightKg||"",onChange:Le=>te({...ue,yellowWeightKg:Le.target.value?parseFloat(Le.target.value):null}),placeholder:"0.00",disabled:!_e})]})]})]}),e.jsxs("div",{className:"wt-color-group wt-color-group--red",children:[e.jsx("h4",{className:"wt-color-title",children:"Red Bags"}),e.jsxs("div",{className:"wt-color-inputs",children:[e.jsxs("div",{className:"wt-color-input-group",children:[e.jsx("label",{className:"wt-color-label",children:"Count"}),e.jsx("input",{type:"number",min:"0",className:"wt-color-input",value:ue.redBagCount||0,onChange:Le=>te({...ue,redBagCount:parseInt(Le.target.value)||0}),disabled:!_e})]}),e.jsxs("div",{className:"wt-color-input-group",children:[e.jsx("label",{className:"wt-color-label",children:"Weight (kg)"}),e.jsx("input",{type:"number",step:"0.01",min:"0",className:"wt-color-input",value:ue.redWeightKg||"",onChange:Le=>te({...ue,redWeightKg:Le.target.value?parseFloat(Le.target.value):null}),placeholder:"0.00",disabled:!_e})]})]})]}),e.jsxs("div",{className:"wt-color-group wt-color-group--white",children:[e.jsx("h4",{className:"wt-color-title",children:"White Bags"}),e.jsxs("div",{className:"wt-color-inputs",children:[e.jsxs("div",{className:"wt-color-input-group",children:[e.jsx("label",{className:"wt-color-label",children:"Count"}),e.jsx("input",{type:"number",min:"0",className:"wt-color-input",value:ue.whiteBagCount||0,onChange:Le=>te({...ue,whiteBagCount:parseInt(Le.target.value)||0}),disabled:!_e})]}),e.jsxs("div",{className:"wt-color-input-group",children:[e.jsx("label",{className:"wt-color-label",children:"Weight (kg)"}),e.jsx("input",{type:"number",step:"0.01",min:"0",className:"wt-color-input",value:ue.whiteWeightKg||"",onChange:Le=>te({...ue,whiteWeightKg:Le.target.value?parseFloat(Le.target.value):null}),placeholder:"0.00",disabled:!_e})]})]})]})]}),e.jsx("div",{className:"wt-form-row",children:e.jsxs("div",{className:"wt-form-group",children:[e.jsx("label",{className:"wt-form-label",children:"Quality"}),e.jsxs("select",{className:"wt-form-select",value:ue.segregationQuality||"",onChange:Le=>te({...ue,segregationQuality:Le.target.value||null}),disabled:!_e,children:[e.jsx("option",{value:"",children:"Select Quality"}),e.jsx("option",{value:"Excellent",children:"Excellent"}),e.jsx("option",{value:"Good",children:"Good"}),e.jsx("option",{value:"Fair",children:"Fair"}),e.jsx("option",{value:"Poor",children:"Poor"})]})]})})]}),e.jsx("div",{className:"wt-form-row",children:e.jsxs("div",{className:"wt-form-group wt-form-group--full",children:[e.jsx("label",{className:"wt-form-label",children:"Notes"}),e.jsx("textarea",{className:"wt-form-textarea",value:ue.notes||"",onChange:Le=>te({...ue,notes:Le.target.value||null}),placeholder:"Additional notes or remarks...",rows:3,disabled:!_e})]})})]}),e.jsxs("div",{className:"wt-form-modal-footer",children:[e.jsx("button",{type:"button",className:"wt-form-btn wt-form-btn--cancel",onClick:()=>{u(!1),Be()},disabled:y,children:"Cancel"}),_e&&e.jsx("button",{type:"submit",className:"wt-form-btn wt-form-btn--create",disabled:y,children:y?"Saving...":ue.editingId?"Update":"Create"})]})]})]})}),h&&m&&e.jsx("div",{className:"modal-overlay",onClick:()=>f(!1),children:e.jsxs("div",{className:"modal-content modal-content--large",onClick:Le=>Le.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:"Transaction Details"}),e.jsx("button",{className:"modal-close-btn",onClick:()=>f(!1),children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("div",{className:"transaction-details",children:[e.jsxs("div",{className:"detail-section",children:[e.jsx("h3",{children:"Basic Information"}),e.jsxs("div",{className:"detail-grid",children:[e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Pickup Date"}),e.jsx("span",{children:new Date(m.pickupDate).toLocaleDateString()})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Company"}),e.jsx("span",{children:m.companyName})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"HCF"}),e.jsxs("span",{children:[m.hcfCode," - ",m.hcfName]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Status"}),e.jsx("span",{className:`badge badge--${m.status.toLowerCase()}`,children:m.status})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"NIL Pickup"}),e.jsx("span",{children:m.isNilPickup?"Yes":"No"})]})]})]}),!m.isNilPickup&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"detail-section",children:[e.jsx("h3",{children:"Bag Counts & Weights"}),e.jsxs("div",{className:"detail-grid",children:[e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Yellow Bags"}),e.jsxs("span",{children:[m.yellowBagCount," bags",m.yellowWeightKg&&` (${m.yellowWeightKg} kg)`]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Red Bags"}),e.jsxs("span",{children:[m.redBagCount," bags",m.redWeightKg&&` (${m.redWeightKg} kg)`]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"White Bags"}),e.jsxs("span",{children:[m.whiteBagCount," bags",m.whiteWeightKg&&` (${m.whiteWeightKg} kg)`]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Total Weight"}),e.jsxs("span",{children:[Number((Number(m.yellowWeightKg)||0)+(Number(m.redWeightKg)||0)+(Number(m.whiteWeightKg)||0)).toFixed(2)," kg"]})]}),m.segregationQuality&&e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Segregation Quality"}),e.jsx("span",{children:m.segregationQuality})]})]})]}),(m.latitude||m.longitude)&&e.jsxs("div",{className:"detail-section",children:[e.jsx("h3",{children:"GPS Location"}),e.jsxs("div",{className:"detail-grid",children:[e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Latitude"}),e.jsx("span",{children:m.latitude})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Longitude"}),e.jsx("span",{children:m.longitude})]})]})]})]}),m.notes&&e.jsxs("div",{className:"detail-section",children:[e.jsx("h3",{children:"Notes"}),e.jsx("p",{children:m.notes})]}),e.jsxs("div",{className:"modal-footer",children:[m.status==="Draft"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn btn--secondary",onClick:()=>{Me(m),f(!1)},children:"Edit"}),e.jsx("button",{className:"btn btn--primary",onClick:()=>X(m.id,"submit"),disabled:y,children:"Submit"})]}),m.status==="Submitted"&&e.jsx("button",{className:"btn btn--primary",onClick:()=>X(m.id,"verify"),disabled:y,children:"Verify"}),m.status==="Draft"&&e.jsx("button",{className:"btn btn--danger",onClick:()=>Ae(m.id),disabled:y,children:"Delete"}),e.jsx("button",{className:"btn btn--secondary",onClick:()=>f(!1),children:"Close"})]})]})]})})]})},Yre=({filterDate:r,filterStatus:t,onFilterDateChange:n,onFilterStatusChange:a,onClearFilters:s,onApplyFilters:i,onClose:c})=>{const o=()=>{if(!r)return"";if(r.includes("-")&&r.length===10&&r.split("-")[0].length===4)return r;if(r.includes("-")&&r.split("-")[0].length===2){const l=r.split("-");if(l.length===3){const[u,h,f]=l;return`${f}-${h}-${u}`}}return r},d=l=>{const u=l.target.value;n(u||"")};return e.jsx("div",{className:"wt-filter-modal-overlay",onClick:c,children:e.jsxs("div",{className:"wt-filter-modal",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"wt-filter-modal-header",children:[e.jsxs("div",{className:"wt-filter-header-left",children:[e.jsx("div",{className:"wt-filter-icon",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})})}),e.jsx("h2",{className:"wt-filter-modal-title",children:"Advanced Filter"})]}),e.jsx("button",{className:"wt-filter-modal-close",onClick:c,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("div",{className:"wt-filter-modal-body",children:[e.jsxs("div",{className:"wt-filter-form-group",children:[e.jsx("label",{className:"wt-filter-label",children:"Pickup Date"}),e.jsx("input",{type:"date",value:o(),onChange:d,className:"wt-filter-date-input"})]}),e.jsxs("div",{className:"wt-filter-form-group",children:[e.jsx("label",{className:"wt-filter-label",children:"Status"}),e.jsxs("select",{value:t,onChange:l=>a(l.target.value),className:"wt-filter-select",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Draft",children:"Draft"}),e.jsx("option",{value:"Submitted",children:"Submitted"}),e.jsx("option",{value:"Verified",children:"Verified"})]})]})]}),e.jsxs("div",{className:"wt-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"wt-filter-btn-clear",onClick:s,children:"Clear Filters"}),e.jsx("button",{type:"button",className:"wt-filter-btn-apply",onClick:i,children:"Apply Filters"})]})]})})},Jre="http://localhost:3000/api/v1",Zre=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},QA=async(r,t={})=>{const n=Zre(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${Jre}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const c=await s.json();c.message?Array.isArray(c.message)?i=c.message.join(", "):typeof c.message=="string"&&(i=c.message):c.error&&(i=typeof c.error=="string"?c.error:c.error.message||JSON.stringify(c.error));const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o.errorData=c,o}catch{const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o}}return s.status===204?{}:s.json()},Pp={createCollection:async r=>(await QA("/vehicle-waste-collections",{method:"POST",body:JSON.stringify(r)})).data,getCollectionById:async r=>(await QA(`/vehicle-waste-collections/${r}`,{method:"GET"})).data,getAllCollections:async(r,t,n,a)=>{let s="/vehicle-waste-collections";const i=new URLSearchParams;return r&&i.append("vehicleId",r),t&&i.append("startDate",t),n&&i.append("endDate",n),a&&i.append("status",a),i.toString()&&(s+=`?${i.toString()}`),(await QA(s,{method:"GET"})).data},updateCollection:async(r,t)=>(await QA(`/vehicle-waste-collections/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,submitCollection:async r=>(await QA(`/vehicle-waste-collections/${r}/submit`,{method:"PUT"})).data,verifyCollection:async r=>(await QA(`/vehicle-waste-collections/${r}/verify`,{method:"PUT"})).data,deleteCollection:async r=>{await QA(`/vehicle-waste-collections/${r}`,{method:"DELETE"})}},ene=()=>{var re,he;const{logout:r,permissions:t}=Yn(),n=jn(),[a,s]=C.useState(""),[i,c]=C.useState(new Date().toISOString().split("T")[0]),[o,d]=C.useState("all"),[l,u]=C.useState(!1),[h,f]=C.useState(!1),[A,g]=C.useState(!1),[m,x]=C.useState(null),[y,j]=C.useState(!1),[b,S]=C.useState(null),[w,E]=C.useState(null),[I,L]=C.useState(""),[J,ae]=C.useState("all"),[G,le]=C.useState([]),[V,me]=C.useState([]),[$,ee]=C.useState({vehicleId:"",collectionDate:new Date().toISOString().split("T")[0],grossWeightKg:0,tareWeightKg:0,netWeightKg:0,incinerationWeightKg:0,autoclaveWeightKg:0,vehicleKm:null,fuelUsageLiters:null,notes:null}),we=C.useCallback(async()=>{try{const X=await Fh.getAllFleets(void 0,!0);le(X)}catch(X){console.error("Failed to load vehicles:",X),S("Failed to load vehicles")}},[]),R=C.useCallback(async()=>{j(!0),S(null);try{const X=i,Ae=i,Me=(await Pp.getAllCollections(void 0,X,Ae,o!=="all"?o:void 0)).map($e=>{const ne=G.find(Pe=>Pe.id===$e.vehicleId);return{id:$e.id,vehicleId:$e.vehicleId,vehicleNum:(ne==null?void 0:ne.vehicleNum)||"Unknown",collectionDate:$e.collectionDate,grossWeightKg:Number($e.grossWeightKg)||0,tareWeightKg:Number($e.tareWeightKg)||0,netWeightKg:Number($e.netWeightKg)||0,incinerationWeightKg:Number($e.incinerationWeightKg)||0,autoclaveWeightKg:Number($e.autoclaveWeightKg)||0,vehicleKm:$e.vehicleKm!==null&&$e.vehicleKm!==void 0?Number($e.vehicleKm):null,fuelUsageLiters:$e.fuelUsageLiters!==null&&$e.fuelUsageLiters!==void 0?Number($e.fuelUsageLiters):null,status:$e.status,notes:$e.notes,createdOn:$e.createdOn}});me(Me)}catch(X){const Ae=X instanceof Error?X.message:"Failed to load collections";S(Ae),console.error("Error loading collections:",X)}finally{j(!1)}},[i,o,G]);C.useEffect(()=>{we()},[we]),C.useEffect(()=>{G.length>0&&R()},[i,o,G,R]),C.useEffect(()=>{const X=$.grossWeightKg-$.tareWeightKg;X>=0&&ee(Ae=>({...Ae,netWeightKg:X}))},[$.grossWeightKg,$.tareWeightKg]);const q=async X=>{if(X.preventDefault(),!$.vehicleId){S("Please select a vehicle");return}if($.grossWeightKg<$.tareWeightKg){S("Gross weight must be greater than or equal to tare weight");return}try{if(j(!0),S(null),$.editingId){const Ae={grossWeightKg:$.grossWeightKg,tareWeightKg:$.tareWeightKg,netWeightKg:$.netWeightKg,incinerationWeightKg:$.incinerationWeightKg,autoclaveWeightKg:$.autoclaveWeightKg,vehicleKm:$.vehicleKm!==null&&$.vehicleKm!==void 0?Number($.vehicleKm):null,fuelUsageLiters:$.fuelUsageLiters!==null&&$.fuelUsageLiters!==void 0?Number($.fuelUsageLiters):null,notes:$.notes};await Pp.updateCollection($.editingId,Ae),E("Collection updated successfully")}else{const Ae={vehicleId:$.vehicleId,collectionDate:$.collectionDate,grossWeightKg:Number($.grossWeightKg),tareWeightKg:Number($.tareWeightKg),netWeightKg:Number($.netWeightKg),incinerationWeightKg:Number($.incinerationWeightKg),autoclaveWeightKg:Number($.autoclaveWeightKg),vehicleKm:$.vehicleKm!==null&&$.vehicleKm!==void 0?Number($.vehicleKm):null,fuelUsageLiters:$.fuelUsageLiters!==null&&$.fuelUsageLiters!==void 0?Number($.fuelUsageLiters):null,notes:$.notes};await Pp.createCollection(Ae),E("Collection created successfully")}await R(),u(!1),te(),setTimeout(()=>E(null),3e3)}catch(Ae){const Be=Ae instanceof Error?Ae.message:"Failed to save collection";S(Be),console.error("Error saving collection:",Ae)}finally{j(!1)}},ie=async(X,Ae)=>{try{j(!0),S(null),Ae==="submit"?(await Pp.submitCollection(X),E("Collection submitted successfully")):(await Pp.verifyCollection(X),E("Collection verified successfully")),await R(),setTimeout(()=>E(null),3e3)}catch(Be){const Me=Be instanceof Error?Be.message:"Failed to update status";S(Me),console.error("Error updating status:",Be)}finally{j(!1)}},Z=async X=>{if(window.confirm("Are you sure you want to delete this collection?"))try{j(!0),S(null),await Pp.deleteCollection(X),E("Collection deleted successfully"),await R(),setTimeout(()=>E(null),3e3)}catch(Ae){const Be=Ae instanceof Error?Ae.message:"Failed to delete collection";S(Be),console.error("Error deleting collection:",Ae)}finally{j(!1)}},D=X=>{ee({vehicleId:X.vehicleId,collectionDate:X.collectionDate,grossWeightKg:X.grossWeightKg,tareWeightKg:X.tareWeightKg,netWeightKg:X.netWeightKg,incinerationWeightKg:X.incinerationWeightKg,autoclaveWeightKg:X.autoclaveWeightKg,vehicleKm:X.vehicleKm,fuelUsageLiters:X.fuelUsageLiters,notes:X.notes,editingId:X.id,editingStatus:X.status}),u(!0)},ue=X=>{x(X),f(!0)},te=()=>{ee({vehicleId:"",collectionDate:new Date().toISOString().split("T")[0],grossWeightKg:0,tareWeightKg:0,netWeightKg:0,incinerationWeightKg:0,autoclaveWeightKg:0,vehicleKm:null,fuelUsageLiters:null,notes:null,editingId:void 0,editingStatus:void 0})},ye=V.filter(X=>{if(a.trim()){const Ae=a.toLowerCase().trim();if(!X.vehicleNum.toLowerCase().includes(Ae))return!1}return!0}),pe=X=>{switch(X){case"Draft":return"status-badge status-badge--draft";case"Submitted":return"status-badge status-badge--submitted";case"Verified":return"status-badge status-badge--verified";default:return"status-badge"}},je=xs(t,n.pathname);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:"dashboard-sidebar",children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:je.map(X=>e.jsx("li",{children:e.jsxs(Hr,{to:X.path,className:`nav-link ${X.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:X.icon}),e.jsx("span",{className:"nav-label",children:X.label})]})},X.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Hr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(_a,{title:"Vehicle Waste Collection",subtitle:"Manage vehicle waste collection records"}),w&&e.jsxs("div",{className:"success-banner",children:[e.jsx("span",{children:w}),e.jsx("button",{onClick:()=>E(null),"aria-label":"Close success message",children:""})]}),b&&e.jsxs("div",{className:"error-banner",children:[e.jsx("span",{children:b}),e.jsx("button",{onClick:()=>S(null),"aria-label":"Close error message",children:""})]}),y&&!V.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading collections..."}),e.jsxs("div",{className:"vehicle-waste-collection-page",children:[e.jsxs("div",{className:"vwc-page-header",children:[e.jsx("div",{className:"vwc-header-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),e.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]})}),e.jsx("div",{className:"vwc-header-text",children:e.jsx("h1",{className:"vwc-page-title",children:"Vehicle Waste Collection"})})]}),e.jsxs("div",{className:"vwc-search-actions",children:[e.jsxs("div",{className:"vwc-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",placeholder:"Search by vehicle number...",value:a,onChange:X=>s(X.target.value),className:"vwc-search-input"})]}),e.jsxs("div",{className:"vwc-actions",children:[e.jsxs("button",{className:"vwc-filter-btn",onClick:()=>g(!0),children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),e.jsxs("button",{className:"vwc-add-btn",onClick:()=>{te(),u(!0)},children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Collection"]})]})]}),e.jsx("div",{className:"vwc-table-container",children:e.jsxs("table",{className:"vwc-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"DATE"}),e.jsx("th",{children:"VEHICLE"}),e.jsx("th",{children:"GROSS WEIGHT (KG)"}),e.jsx("th",{children:"TARE WEIGHT (KG)"}),e.jsx("th",{children:"NET WEIGHT (KG)"}),e.jsx("th",{children:"INCINERATION (KG)"}),e.jsx("th",{children:"AUTOCLAVE (KG)"}),e.jsx("th",{children:"KM"}),e.jsx("th",{children:"FUEL (L)"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:ye.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:11,className:"vwc-empty-message",children:y?"Loading...":"No collections found for the selected date"})}):ye.map(X=>{var Be,Me;const Ae=$e=>{const ne=new Date($e),Pe=String(ne.getDate()).padStart(2,"0"),_e=String(ne.getMonth()+1).padStart(2,"0"),rt=ne.getFullYear();return`${Pe}/${_e}/${rt}`};return e.jsxs("tr",{children:[e.jsx("td",{children:Ae(X.collectionDate)}),e.jsx("td",{children:X.vehicleNum}),e.jsx("td",{children:X.grossWeightKg.toFixed(2)}),e.jsx("td",{children:X.tareWeightKg.toFixed(2)}),e.jsx("td",{children:X.netWeightKg.toFixed(2)}),e.jsx("td",{children:X.incinerationWeightKg.toFixed(2)}),e.jsx("td",{children:X.autoclaveWeightKg.toFixed(2)}),e.jsx("td",{children:((Be=X.vehicleKm)==null?void 0:Be.toFixed(2))||"-"}),e.jsx("td",{children:((Me=X.fuelUsageLiters)==null?void 0:Me.toFixed(2))||"-"}),e.jsx("td",{children:e.jsx("span",{className:pe(X.status),children:X.status})}),e.jsx("td",{children:e.jsxs("span",{className:"action-icons",children:[e.jsx("span",{className:"action-icon",onClick:()=>ue(X),title:"View Details",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),X.status==="Draft"&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"action-icon",onClick:()=>D(X),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("span",{className:"action-icon",onClick:()=>ie(X.id,"submit"),title:"Submit",children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"20 6 9 17 4 12"})})}),e.jsx("span",{className:"action-icon action-icon--danger",onClick:()=>Z(X.id),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]}),X.status==="Submitted"&&e.jsx("span",{className:"action-icon",onClick:()=>ie(X.id,"verify"),title:"Verify",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]})})]})})]},X.id)})})]})}),ye.length>0&&e.jsxs("div",{className:"vwc-table-footer",children:["Showing ",ye.length," of ",V.length," items"]})]})]}),A&&e.jsx(tne,{filterDate:I,filterStatus:J,onFilterDateChange:L,onFilterStatusChange:ae,onClearFilters:()=>{L(""),ae("all")},onApplyFilters:()=>{I&&c(I),d(J),g(!1)},onClose:()=>g(!1)}),l&&e.jsx("div",{className:"vwc-modal-overlay",onClick:()=>u(!1),children:e.jsxs("div",{className:"vwc-modal-content",onClick:X=>X.stopPropagation(),children:[e.jsxs("div",{className:"vwc-modal-header",children:[e.jsxs("div",{className:"vwc-modal-header-left",children:[e.jsx("div",{className:"vwc-modal-icon",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),e.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]})}),e.jsx("h2",{className:"vwc-modal-title",children:$.editingId?"Edit Collection":"Add Collection"})]}),e.jsx("button",{className:"vwc-modal-close",onClick:()=>u(!1),children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{onSubmit:q,children:[e.jsxs("div",{className:"vwc-modal-body",children:[e.jsxs("div",{className:"vwc-form-group",children:[e.jsxs("label",{htmlFor:"vehicleId",className:"vwc-form-label",children:["Vehicle ",e.jsx("span",{className:"vwc-required",children:"*"})]}),e.jsxs("div",{className:"vwc-select-wrapper",children:[e.jsxs("select",{id:"vehicleId",className:"vwc-form-select",value:$.vehicleId,onChange:X=>ee({...$,vehicleId:X.target.value}),required:!0,disabled:!!$.editingId,children:[e.jsx("option",{value:"",children:"Select Vehicle"}),G.filter(X=>X.status==="Active").map(X=>e.jsx("option",{value:X.id,children:X.vehicleNum},X.id))]}),e.jsx("svg",{className:"vwc-select-arrow",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"6 9 12 15 18 9"})})]})]}),e.jsxs("div",{className:"vwc-form-group",children:[e.jsxs("label",{htmlFor:"collectionDate",className:"vwc-form-label",children:["Collection Date ",e.jsx("span",{className:"vwc-required",children:"*"})]}),e.jsxs("div",{className:"vwc-date-wrapper",children:[e.jsx("input",{id:"collectionDate",type:"date",className:"vwc-form-input vwc-date-input",value:$.collectionDate,onChange:X=>ee({...$,collectionDate:X.target.value}),required:!0,disabled:!!$.editingId}),e.jsxs("svg",{className:"vwc-date-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),e.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),e.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})]})]}),e.jsxs("div",{className:"vwc-form-row",children:[e.jsxs("div",{className:"vwc-form-group",children:[e.jsxs("label",{htmlFor:"grossWeightKg",className:"vwc-form-label",children:["Gross Weight (kg) ",e.jsx("span",{className:"vwc-required",children:"*"})]}),e.jsx("input",{id:"grossWeightKg",type:"number",step:"0.01",min:"0",className:"vwc-form-input",value:$.grossWeightKg,onChange:X=>ee({...$,grossWeightKg:parseFloat(X.target.value)||0}),required:!0,disabled:!!$.editingId&&$.editingStatus!=="Draft"})]}),e.jsxs("div",{className:"vwc-form-group",children:[e.jsxs("label",{htmlFor:"tareWeightKg",className:"vwc-form-label",children:["Tare Weight (kg) ",e.jsx("span",{className:"vwc-required",children:"*"})]}),e.jsx("input",{id:"tareWeightKg",type:"number",step:"0.01",min:"0",className:"vwc-form-input",value:$.tareWeightKg,onChange:X=>ee({...$,tareWeightKg:parseFloat(X.target.value)||0}),required:!0,disabled:!!$.editingId&&$.editingStatus!=="Draft"})]})]}),e.jsxs("div",{className:"vwc-form-group",children:[e.jsxs("label",{htmlFor:"netWeightKg",className:"vwc-form-label",children:["Net Weight (kg) ",e.jsx("span",{className:"vwc-required",children:"*"})]}),e.jsx("input",{id:"netWeightKg",type:"number",step:"0.01",min:"0",className:"vwc-form-input vwc-readonly-input",value:$.netWeightKg.toFixed(2),readOnly:!0}),e.jsx("small",{className:"vwc-helper-text",children:"Auto-calculated: Gross - Tare"})]}),e.jsxs("div",{className:"vwc-form-row",children:[e.jsxs("div",{className:"vwc-form-group",children:[e.jsxs("label",{htmlFor:"incinerationWeightKg",className:"vwc-form-label",children:["Incineration Weight (kg) ",e.jsx("span",{className:"vwc-required",children:"*"})]}),e.jsx("input",{id:"incinerationWeightKg",type:"number",step:"0.01",min:"0",className:"vwc-form-input",value:$.incinerationWeightKg,onChange:X=>ee({...$,incinerationWeightKg:parseFloat(X.target.value)||0}),required:!0,disabled:!!$.editingId&&$.editingStatus!=="Draft"})]}),e.jsxs("div",{className:"vwc-form-group",children:[e.jsxs("label",{htmlFor:"autoclaveWeightKg",className:"vwc-form-label",children:["Autoclave Weight (kg) ",e.jsx("span",{className:"vwc-required",children:"*"})]}),e.jsx("input",{id:"autoclaveWeightKg",type:"number",step:"0.01",min:"0",className:"vwc-form-input",value:$.autoclaveWeightKg,onChange:X=>ee({...$,autoclaveWeightKg:parseFloat(X.target.value)||0}),required:!0,disabled:!!$.editingId&&$.editingStatus!=="Draft"})]})]}),e.jsxs("div",{className:"vwc-form-row",children:[e.jsxs("div",{className:"vwc-form-group",children:[e.jsx("label",{htmlFor:"vehicleKm",className:"vwc-form-label",children:"Vehicle KM"}),e.jsx("input",{id:"vehicleKm",type:"number",step:"0.01",min:"0",className:"vwc-form-input",value:$.vehicleKm||"",onChange:X=>ee({...$,vehicleKm:X.target.value?parseFloat(X.target.value):null}),disabled:!!$.editingId&&$.editingStatus!=="Draft"})]}),e.jsxs("div",{className:"vwc-form-group",children:[e.jsx("label",{htmlFor:"fuelUsageLiters",className:"vwc-form-label",children:"Fuel Usage (Liters)"}),e.jsx("input",{id:"fuelUsageLiters",type:"number",step:"0.01",min:"0",className:"vwc-form-input",value:$.fuelUsageLiters||"",onChange:X=>ee({...$,fuelUsageLiters:X.target.value?parseFloat(X.target.value):null}),disabled:!!$.editingId&&$.editingStatus!=="Draft"})]})]}),e.jsxs("div",{className:"vwc-form-group",children:[e.jsx("label",{htmlFor:"notes",className:"vwc-form-label",children:"Notes"}),e.jsx("textarea",{id:"notes",rows:3,className:"vwc-form-textarea",value:$.notes||"",onChange:X=>ee({...$,notes:X.target.value||null}),disabled:$.editingId&&$.status!=="Draft"})]})]}),e.jsxs("div",{className:"vwc-modal-footer",children:[e.jsx("button",{type:"button",className:"vwc-btn vwc-btn--cancel",onClick:()=>u(!1),children:"Cancel"}),e.jsx("button",{type:"submit",className:"vwc-btn vwc-btn--save",disabled:y,children:y?"Saving...":"Save"})]})]})]})}),h&&m&&e.jsx("div",{className:"modal-overlay",onClick:()=>f(!1),children:e.jsxs("div",{className:"modal-content modal-content--large",onClick:X=>X.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:"Collection Details"}),e.jsx("button",{className:"modal-close",onClick:()=>f(!1),children:""})]}),e.jsx("div",{className:"modal-body",children:e.jsxs("div",{className:"detail-grid",children:[e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Vehicle:"}),e.jsx("span",{children:m.vehicleNum})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Collection Date:"}),e.jsx("span",{children:new Date(m.collectionDate).toLocaleDateString()})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Gross Weight:"}),e.jsxs("span",{children:[m.grossWeightKg.toFixed(2)," kg"]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Tare Weight:"}),e.jsxs("span",{children:[m.tareWeightKg.toFixed(2)," kg"]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Net Weight:"}),e.jsxs("span",{children:[m.netWeightKg.toFixed(2)," kg"]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Incineration Weight:"}),e.jsxs("span",{children:[m.incinerationWeightKg.toFixed(2)," kg"]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Autoclave Weight:"}),e.jsxs("span",{children:[m.autoclaveWeightKg.toFixed(2)," kg"]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Vehicle KM:"}),e.jsx("span",{children:((re=m.vehicleKm)==null?void 0:re.toFixed(2))||"-"})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Fuel Usage:"}),e.jsxs("span",{children:[((he=m.fuelUsageLiters)==null?void 0:he.toFixed(2))||"-"," L"]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Status:"}),e.jsx("span",{className:pe(m.status),children:m.status})]}),m.notes&&e.jsxs("div",{className:"detail-item detail-item--full",children:[e.jsx("label",{children:"Notes:"}),e.jsx("span",{children:m.notes})]})]})}),e.jsx("div",{className:"modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>f(!1),children:"Close"})})]})})]})},tne=({filterDate:r,filterStatus:t,onFilterDateChange:n,onFilterStatusChange:a,onClearFilters:s,onApplyFilters:i,onClose:c})=>{const o=()=>{if(!r)return"";if(r.includes("-")&&r.length===10&&r.split("-")[0].length===4)return r;if(r.includes("-")&&r.split("-")[0].length===2){const l=r.split("-");if(l.length===3){const[u,h,f]=l;return`${f}-${h}-${u}`}}return r},d=l=>{const u=l.target.value;n(u||"")};return e.jsx("div",{className:"vwc-filter-modal-overlay",onClick:c,children:e.jsxs("div",{className:"vwc-filter-modal",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"vwc-filter-modal-header",children:[e.jsxs("div",{className:"vwc-filter-header-left",children:[e.jsx("div",{className:"vwc-filter-icon",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})})}),e.jsx("h2",{className:"vwc-filter-modal-title",children:"Advanced Filter"})]}),e.jsx("button",{className:"vwc-filter-modal-close",onClick:c,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("div",{className:"vwc-filter-modal-body",children:[e.jsxs("div",{className:"vwc-filter-form-group",children:[e.jsx("label",{className:"vwc-filter-label",children:"Collection Date"}),e.jsx("input",{type:"date",value:o(),onChange:d,className:"vwc-filter-date-input"})]}),e.jsxs("div",{className:"vwc-filter-form-group",children:[e.jsx("label",{className:"vwc-filter-label",children:"Status"}),e.jsxs("select",{value:t,onChange:l=>a(l.target.value),className:"vwc-filter-select",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Draft",children:"Draft"}),e.jsx("option",{value:"Submitted",children:"Submitted"}),e.jsx("option",{value:"Verified",children:"Verified"})]})]})]}),e.jsxs("div",{className:"vwc-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"vwc-filter-btn-clear",onClick:s,children:"Clear Filters"}),e.jsx("button",{type:"button",className:"vwc-filter-btn-apply",onClick:i,children:"Apply Filters"})]})]})})},rne="http://localhost:3000/api/v1",nne=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},Xf=async(r,t={})=>{const n=nne(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${rne}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const c=await s.json();c.message?Array.isArray(c.message)?i=c.message.join(", "):typeof c.message=="string"&&(i=c.message):c.error&&(i=typeof c.error=="string"?c.error:c.error.message||JSON.stringify(c.error));const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o.errorData=c,o}catch{const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o}}return s.status===204?{}:s.json()},P0={createProcess:async r=>(await Xf("/waste-processes",{method:"POST",body:JSON.stringify(r)})).data,getProcessById:async r=>(await Xf(`/waste-processes/${r}`,{method:"GET"})).data,getAllProcesses:async(r,t,n,a)=>{let s="/waste-processes";const i=new URLSearchParams;return r&&i.append("companyId",r),t&&i.append("startDate",t),n&&i.append("endDate",n),a&&i.append("status",a),i.toString()&&(s+=`?${i.toString()}`),(await Xf(s,{method:"GET"})).data},updateProcess:async(r,t)=>(await Xf(`/waste-processes/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,submitProcess:async r=>(await Xf(`/waste-processes/${r}/submit`,{method:"PUT"})).data,verifyProcess:async r=>(await Xf(`/waste-processes/${r}/verify`,{method:"PUT"})).data,closeProcess:async r=>(await Xf(`/waste-processes/${r}/close`,{method:"PUT"})).data,deleteProcess:async r=>{await Xf(`/waste-processes/${r}`,{method:"DELETE"})}},ane=()=>{const{logout:r,permissions:t}=Yn(),n=jn(),[a,s]=C.useState(""),[i,c]=C.useState(new Date().toISOString().split("T")[0]),[o,d]=C.useState("all"),[l,u]=C.useState(!1),[h,f]=C.useState(!1),[A,g]=C.useState(!1),[m,x]=C.useState(null),[y,j]=C.useState(null),[b,S]=C.useState(!1),[w,E]=C.useState(null),[I,L]=C.useState(null),[J,ae]=C.useState([]),[G,le]=C.useState([]),[V,me]=C.useState({companyId:"",processDate:new Date().toISOString().split("T")[0],incinerationWeightKg:0,autoclaveWeightKg:0,notes:null}),$=C.useCallback(async()=>{try{const pe=await ha.getAllCompanies(void 0,!0);ae(pe)}catch(pe){console.error("Failed to load companies:",pe),E("Failed to load companies")}},[]),ee=C.useCallback(async()=>{S(!0),E(null);try{const pe=i,je=i,he=(await P0.getAllProcesses(void 0,pe,je,o!=="all"?o:void 0)).map(X=>{const Ae=J.find(Be=>Be.id===X.companyId);return{id:X.id,companyId:X.companyId,companyName:(Ae==null?void 0:Ae.companyName)||"Unknown",processDate:X.processDate,incinerationWeightKg:Number(X.incinerationWeightKg)||0,autoclaveWeightKg:Number(X.autoclaveWeightKg)||0,status:X.status,notes:X.notes,createdOn:X.createdOn}});le(he)}catch(pe){const je=pe instanceof Error?pe.message:"Failed to load processes";E(je),console.error("Error loading processes:",pe)}finally{S(!1)}},[i,o,J]);C.useEffect(()=>{$()},[$]),C.useEffect(()=>{J.length>0&&ee()},[i,o,J,ee]);const we=async pe=>{if(pe.preventDefault(),!V.companyId){E("Please select a company");return}if(V.incinerationWeightKg<=0){E("Incineration weight must be greater than zero");return}if(V.autoclaveWeightKg<=0){E("Autoclave weight must be greater than zero");return}try{if(S(!0),E(null),V.editingId){const je={incinerationWeightKg:Number(V.incinerationWeightKg),autoclaveWeightKg:Number(V.autoclaveWeightKg),notes:V.notes};await P0.updateProcess(V.editingId,je),L("Process updated successfully")}else{const je={companyId:V.companyId,processDate:V.processDate,incinerationWeightKg:Number(V.incinerationWeightKg),autoclaveWeightKg:Number(V.autoclaveWeightKg),notes:V.notes};await P0.createProcess(je),L("Process created successfully")}await ee(),u(!1),D(),setTimeout(()=>L(null),3e3)}catch(je){const re=je instanceof Error?je.message:"Failed to save process";E(re),console.error("Error saving process:",je)}finally{S(!1)}},R=pe=>{x(pe),g(!0)},q=async()=>{if(m)try{S(!0),E(null),await P0.deleteProcess(m.id),L("Process deleted successfully"),await ee(),g(!1),x(null),setTimeout(()=>L(null),3e3)}catch(pe){const je=pe instanceof Error?pe.message:"Failed to delete process";E(je),console.error("Error deleting process:",pe)}finally{S(!1)}},ie=pe=>{me({companyId:pe.companyId,processDate:pe.processDate,incinerationWeightKg:pe.incinerationWeightKg,autoclaveWeightKg:pe.autoclaveWeightKg,notes:pe.notes,editingId:pe.id,editingStatus:pe.status}),u(!0)},Z=pe=>{j(pe),f(!0)},D=()=>{me({companyId:"",processDate:new Date().toISOString().split("T")[0],incinerationWeightKg:0,autoclaveWeightKg:0,notes:null,editingId:void 0,editingStatus:void 0})},ue=G.filter(pe=>{if(a.trim()){const je=a.toLowerCase().trim();if(!pe.companyName.toLowerCase().includes(je))return!1}return!0}),te=pe=>{switch(pe){case"Draft":return"status-badge status-badge--draft";case"Submitted":return"status-badge status-badge--submitted";case"Verified":return"status-badge status-badge--verified";case"Closed":return"status-badge status-badge--closed";default:return"status-badge"}},ye=xs(t,n.pathname);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:"dashboard-sidebar",children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:ye.map(pe=>e.jsx("li",{children:e.jsxs(Hr,{to:pe.path,className:`nav-link ${pe.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:pe.icon}),e.jsx("span",{className:"nav-label",children:pe.label})]})},pe.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Hr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(_a,{title:"Waste Processing",subtitle:"Manage waste processing records"}),I&&e.jsxs("div",{className:"success-banner",children:[e.jsx("span",{children:I}),e.jsx("button",{onClick:()=>L(null),"aria-label":"Close success message",children:""})]}),w&&e.jsxs("div",{className:"error-banner",children:[e.jsx("span",{children:w}),e.jsx("button",{onClick:()=>E(null),"aria-label":"Close error message",children:""})]}),b&&!G.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading processes..."}),e.jsxs("div",{className:"waste-process-page",children:[e.jsxs("div",{className:"wp-page-header",children:[e.jsx("div",{className:"wp-header-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M12 6v6l4 2"})]})}),e.jsx("h1",{className:"wp-page-title",children:"Waste Processing"})]}),e.jsxs("div",{className:"wp-filters-toolbar",children:[e.jsxs("div",{className:"wp-filter-group",children:[e.jsx("label",{htmlFor:"process-date",children:"Process Date"}),e.jsxs("div",{className:"wp-date-input-wrapper",children:[e.jsxs("svg",{className:"wp-date-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),e.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),e.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),e.jsx("input",{id:"process-date",type:"date",value:i,onChange:pe=>c(pe.target.value),className:"wp-date-input"})]})]}),e.jsxs("div",{className:"wp-filter-group",children:[e.jsx("label",{htmlFor:"status-filter",children:"Status"}),e.jsxs("div",{className:"wp-select-wrapper",children:[e.jsxs("select",{id:"status-filter",value:o,onChange:pe=>d(pe.target.value),className:"wp-status-select",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Draft",children:"Draft"}),e.jsx("option",{value:"Submitted",children:"Submitted"}),e.jsx("option",{value:"Verified",children:"Verified"}),e.jsx("option",{value:"Closed",children:"Closed"})]}),e.jsx("svg",{className:"wp-select-arrow",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"6 9 12 15 18 9"})})]})]}),e.jsxs("div",{className:"wp-filter-group wp-filter-group--search",children:[e.jsx("label",{htmlFor:"search",children:"Search"}),e.jsxs("div",{className:"wp-search-box",children:[e.jsxs("svg",{className:"wp-search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{id:"search",type:"text",placeholder:"Search by company name...",value:a,onChange:pe=>s(pe.target.value),className:"wp-search-input"})]})]}),e.jsx("div",{className:"wp-filter-group wp-filter-group--action",children:e.jsxs("button",{className:"wp-add-process-btn",onClick:()=>{D(),u(!0)},children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Process"]})})]}),e.jsx("div",{className:"table-container",children:ue.length===0?e.jsx("div",{className:"empty-state",children:e.jsx("p",{children:"No processes found"})}):e.jsxs("table",{className:"wp-data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"PROCESS DATE"}),e.jsx("th",{children:"COMPANY"}),e.jsx("th",{children:"INCINERATION WEIGHT (KG)"}),e.jsx("th",{children:"AUTOCLAVE WEIGHT (KG)"}),e.jsx("th",{children:"TOTAL WEIGHT (KG)"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:ue.map(pe=>{const je=new Date(pe.processDate),re=`${String(je.getDate()).padStart(2,"0")}/${String(je.getMonth()+1).padStart(2,"0")}/${je.getFullYear()}`;return e.jsxs("tr",{children:[e.jsx("td",{children:re}),e.jsx("td",{children:pe.companyName}),e.jsx("td",{children:pe.incinerationWeightKg.toFixed(1)}),e.jsx("td",{children:pe.autoclaveWeightKg.toFixed(1)}),e.jsx("td",{children:(Number(pe.incinerationWeightKg)+Number(pe.autoclaveWeightKg)).toFixed(1)}),e.jsx("td",{children:e.jsx("span",{className:te(pe.status),children:pe.status==="Submitted"?"SUBMITTED":pe.status==="Verified"?"COMPLETED":pe.status==="Draft"?"IN PROGRESS":pe.status.toUpperCase()})}),e.jsx("td",{children:e.jsxs("div",{className:"wp-action-buttons",children:[e.jsx("button",{className:"wp-action-btn wp-action-btn--view",onClick:()=>Z(pe),title:"View Details",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),pe.status==="Draft"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"wp-action-btn wp-action-btn--edit",onClick:()=>ie(pe),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"wp-action-btn wp-action-btn--delete",onClick:()=>R(pe),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]})})]},pe.id)})})]})}),ue.length>0&&e.jsxs("div",{className:"table-footer",children:["Showing ",ue.length," of ",G.length," Items"]})]})]}),l&&e.jsx("div",{className:"wp-modal-overlay",onClick:()=>u(!1),children:e.jsxs("div",{className:"wp-modal-content",onClick:pe=>pe.stopPropagation(),children:[e.jsxs("div",{className:"wp-modal-header",children:[e.jsxs("div",{className:"wp-modal-header-left",children:[e.jsx("div",{className:`wp-modal-icon ${V.editingId?"wp-modal-icon--edit":"wp-modal-icon--add"}`,children:V.editingId?e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}):e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),e.jsx("h2",{className:"wp-modal-title",children:V.editingId?"Edit Process":"Add Process"})]}),e.jsx("button",{className:"wp-modal-close",onClick:()=>u(!1),children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{onSubmit:we,children:[e.jsxs("div",{className:"wp-modal-body",children:[e.jsxs("div",{className:"wp-form-group",children:[e.jsxs("label",{htmlFor:"companyId",children:["Company ",e.jsx("span",{className:"wp-required",children:"*"})]}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),e.jsxs("select",{id:"companyId",value:V.companyId,onChange:pe=>me({...V,companyId:pe.target.value}),required:!0,disabled:!!V.editingId,className:"wp-form-select",children:[e.jsx("option",{value:"",children:"Select Company"}),J.filter(pe=>pe.status==="Active").map(pe=>e.jsx("option",{value:pe.id,children:pe.companyName},pe.id))]}),e.jsx("svg",{className:"wp-select-arrow-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"6 9 12 15 18 9"})})]})]}),e.jsxs("div",{className:"wp-form-group",children:[e.jsxs("label",{htmlFor:"processDate",children:["Process Date ",e.jsx("span",{className:"wp-required",children:"*"})]}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),e.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),e.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),e.jsx("input",{id:"processDate",type:"date",value:V.processDate,onChange:pe=>me({...V,processDate:pe.target.value}),required:!0,disabled:!!V.editingId,className:"wp-form-input"})]})]}),e.jsxs("div",{className:"wp-form-row",children:[e.jsxs("div",{className:"wp-form-group",children:[e.jsxs("label",{htmlFor:"incinerationWeightKg",children:["Incineration Weight (kg) ",e.jsx("span",{className:"wp-required",children:"*"})]}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsx("svg",{className:"wp-input-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.6 1.5-3.5 3.5-5.5z"})}),e.jsx("input",{id:"incinerationWeightKg",type:"number",step:"0.01",min:"0.01",value:V.incinerationWeightKg,onChange:pe=>me({...V,incinerationWeightKg:parseFloat(pe.target.value)||0}),required:!0,disabled:!!V.editingId&&V.editingStatus!=="Draft",className:"wp-form-input"})]})]}),e.jsxs("div",{className:"wp-form-group",children:[e.jsxs("label",{htmlFor:"autoclaveWeightKg",children:["Autoclave Weight (kg) ",e.jsx("span",{className:"wp-required",children:"*"})]}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsx("svg",{className:"wp-input-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2.69c-3.5 0-6.5 3-6.5 6.5 0 4.5 6.5 10.5 6.5 10.5s6.5-6 6.5-10.5c0-3.5-3-6.5-6.5-6.5z"})}),e.jsx("input",{id:"autoclaveWeightKg",type:"number",step:"0.01",min:"0.01",value:V.autoclaveWeightKg,onChange:pe=>me({...V,autoclaveWeightKg:parseFloat(pe.target.value)||0}),required:!0,disabled:!!V.editingId&&V.editingStatus!=="Draft",className:"wp-form-input"})]})]})]}),e.jsxs("div",{className:"wp-form-group",children:[e.jsx("label",{htmlFor:"notes",children:"Notes"}),e.jsxs("div",{className:"wp-textarea-wrapper",children:[e.jsxs("svg",{className:"wp-textarea-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),e.jsx("textarea",{id:"notes",rows:3,value:V.notes||"",onChange:pe=>me({...V,notes:pe.target.value||null}),disabled:!!V.editingId&&V.editingStatus!=="Draft",className:"wp-form-textarea"})]})]})]}),e.jsxs("div",{className:"wp-modal-footer",children:[e.jsx("button",{type:"button",className:"wp-btn wp-btn--cancel",onClick:()=>u(!1),children:"Cancel"}),e.jsx("button",{type:"submit",className:"wp-btn wp-btn--save",disabled:b,children:b?"Saving...":"Save"})]})]})]})}),h&&y&&e.jsx("div",{className:"wp-modal-overlay",onClick:()=>f(!1),children:e.jsxs("div",{className:"wp-modal-content wp-modal-content--view",onClick:pe=>pe.stopPropagation(),children:[e.jsxs("div",{className:"wp-modal-header",children:[e.jsxs("div",{className:"wp-modal-header-left",children:[e.jsx("div",{className:"wp-modal-icon wp-modal-icon--view",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),e.jsx("h2",{className:"wp-modal-title",children:"View Process"})]}),e.jsx("button",{className:"wp-modal-close",onClick:()=>f(!1),children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsx("div",{className:"wp-modal-body",children:e.jsxs("div",{className:"wp-detail-grid",children:[e.jsxs("div",{className:"wp-detail-item",children:[e.jsx("label",{children:"Company"}),e.jsx("span",{children:y.companyName})]}),e.jsxs("div",{className:"wp-detail-item",children:[e.jsx("label",{children:"Process Date"}),e.jsx("span",{children:(()=>{const pe=new Date(y.processDate);return`${String(pe.getDate()).padStart(2,"0")}/${String(pe.getMonth()+1).padStart(2,"0")}/${pe.getFullYear()}`})()})]}),e.jsxs("div",{className:"wp-detail-item",children:[e.jsx("label",{children:"Incineration Weight (kg)"}),e.jsx("span",{children:y.incinerationWeightKg.toFixed(1)})]}),e.jsxs("div",{className:"wp-detail-item",children:[e.jsx("label",{children:"Autoclave Weight (kg)"}),e.jsx("span",{children:y.autoclaveWeightKg.toFixed(1)})]}),e.jsxs("div",{className:"wp-detail-item",children:[e.jsx("label",{children:"Total Weight (kg)"}),e.jsx("span",{children:(Number(y.incinerationWeightKg)+Number(y.autoclaveWeightKg)).toFixed(1)})]}),e.jsxs("div",{className:"wp-detail-item",children:[e.jsx("label",{children:"Status"}),e.jsx("span",{className:te(y.status),children:y.status==="Submitted"?"SUBMITTED":y.status==="Verified"?"COMPLETED":y.status==="Draft"?"IN PROGRESS":y.status.toUpperCase()})]}),e.jsxs("div",{className:"wp-detail-item wp-detail-item--full",children:[e.jsx("label",{children:"Notes"}),e.jsx("span",{children:y.notes||"-"})]})]})}),e.jsx("div",{className:"wp-modal-footer",children:e.jsx("button",{type:"button",className:"wp-btn wp-btn--close",onClick:()=>f(!1),children:"Close"})})]})}),A&&m&&e.jsx("div",{className:"wp-modal-overlay",onClick:()=>g(!1),children:e.jsxs("div",{className:"wp-modal-content wp-modal-content--delete",onClick:pe=>pe.stopPropagation(),children:[e.jsxs("div",{className:"wp-modal-header",children:[e.jsxs("div",{className:"wp-modal-header-left",children:[e.jsx("div",{className:"wp-modal-icon wp-modal-icon--delete",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})}),e.jsx("h2",{className:"wp-modal-title",children:"Delete Process"})]}),e.jsx("button",{className:"wp-modal-close",onClick:()=>g(!1),children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsx("div",{className:"wp-modal-body",children:e.jsxs("p",{className:"wp-delete-message",children:["Are you sure you want to delete the process for ",e.jsx("strong",{children:m.companyName}),"?"]})}),e.jsxs("div",{className:"wp-modal-footer",children:[e.jsx("button",{type:"button",className:"wp-btn wp-btn--cancel",onClick:()=>g(!1),children:"Cancel"}),e.jsx("button",{type:"button",className:"wp-btn wp-btn--delete",onClick:q,disabled:b,children:b?"Deleting...":"Delete"})]})]})})]})},YP="http://localhost:3000/api/v1",JP=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},xA=async(r,t={})=>{const n=JP(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${YP}${r}`,{...t,headers:a});if(!s.ok){let c=`HTTP ${s.status}: ${s.statusText}`;try{const o=await s.json();Array.isArray(o.message)?c=o.message.join(", "):typeof o.message=="string"?c=o.message:o.error&&(c=typeof o.error=="string"?o.error:JSON.stringify(o.error)),s.status===401?(c="Unauthorized: Please login again",localStorage.removeItem("mw-auth-user"),window.location.href="/login"):s.status===403?c=o.message||o.error||"Forbidden: You do not have permission to access this resource":s.status===500&&(c=o.message||o.error||"Internal server error")}catch{s.status===401?(c="Unauthorized: Please login again",localStorage.removeItem("mw-auth-user"),window.location.href="/login"):s.status===403?c="Forbidden: You do not have permission to access this resource":s.status===500&&(c="Internal server error")}throw new Error(c)}return(await s.json()).data},sne=(r,t)=>{var a;if(!r)return t;const n=/filename="([^"]+)"/i.exec(r)||/filename=([^;]+)/i.exec(r);return((a=n==null?void 0:n[1])==null?void 0:a.trim())||t},ine=async(r,t={},n="download.bin")=>{const a=JP(),s={...a&&{Authorization:`Bearer ${a}`},...t.headers},i=await fetch(`${YP}${r}`,{...t,headers:s});if(!i.ok){let d=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?d=l.message.join(", "):typeof l.message=="string"?d=l.message:l.error&&(d=typeof l.error=="string"?l.error:JSON.stringify(l.error))}catch{}throw i.status===401&&(localStorage.removeItem("mw-auth-user"),window.location.href="/login"),new Error(d)}const c=await i.blob(),o=sne(i.headers.get("content-disposition"),n);return{blob:c,filename:o}},ZP=async r=>{const n=new URLSearchParams().toString();return xA(`/invoices${n?`?${n}`:""}`)},a1=async r=>{const t=r?{...r}:{};t.fromDate&&!t.invoiceFromDate&&(t.invoiceFromDate=t.fromDate),t.toDate&&!t.invoiceToDate&&(t.invoiceToDate=t.toDate),t.search&&!t.searchText&&(t.searchText=t.search),t.sortDir&&!t.sortOrder&&(t.sortOrder=t.sortDir);const n={};return Object.keys(t).forEach(a=>{const s=t[a];s!=null&&s!==""&&(n[a]=s)}),xA("/reports/invoices",{method:"POST",body:JSON.stringify(n)})},one=async r=>xA("/invoices",{method:"POST",body:JSON.stringify(r)}),lne=async(r,t)=>xA(`/invoices/${r}`,{method:"PUT",body:JSON.stringify(t)}),cne=async r=>xA("/invoices/generate",{method:"POST",body:JSON.stringify(r)}),dne=async r=>xA("/invoices/generate-weight",{method:"POST",body:JSON.stringify(r)}),une=async r=>xA("/invoices/generate-month",{method:"POST",body:JSON.stringify(r)}),hne=async r=>ine(`/invoices/${r}/pdf`,{method:"GET"},`invoice-${r}.pdf`),fne=async(r,t)=>xA("/invoices/pdf/bulk",{method:"POST",body:JSON.stringify({invoiceIds:r,email:t})}),Ane="http://localhost:3000/api/v1",pne=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},Z1=async(r,t={})=>{const n=pne(),a={"Content-Type":"application/json",...t.headers};if(n&&(a.Authorization=`Bearer ${n}`),t.body&&r.includes("/payments"))try{const c=JSON.parse(t.body);console.log("=== API Request Debug ==="),console.log("Endpoint:",r),console.log("Request Body:",JSON.stringify(c,null,2)),console.log("Payment Amount in request:",c.paymentAmount,typeof c.paymentAmount)}catch{console.log("Could not parse request body for logging")}const s=await fetch(`${Ane}${r}`,{...t,headers:a});if(!s.ok){let c=`HTTP error! status: ${s.status}`;try{const d=await s.json();c=d.message||d.error||c,d.message&&typeof d.message=="object"&&(c=JSON.stringify(d.message))}catch{s.status===500?c="Internal server error":s.status===401?c="Unauthorized. Please login again.":s.status===403?c="Forbidden. You do not have permission.":s.status===404&&(c="Resource not found")}const o=new Error(c);throw o.status=s.status,o.response={status:s.status},o}return(await s.json()).data};var ss=(r=>(r.CASH="Cash",r.CHEQUE="Cheque",r.BANK_TRANSFER="Bank Transfer",r.UPI="UPI",r.NEFT="NEFT",r.RTGS="RTGS",r.OTHER="Other",r))(ss||{});const eD=async r=>Z1("/payments",{method:"POST",body:JSON.stringify(r)}),mne=async r=>{const t=new URLSearchParams;r!=null&&r.companyId&&t.append("companyId",r.companyId),r!=null&&r.status&&t.append("status",r.status),r!=null&&r.paymentDateFrom&&t.append("paymentDateFrom",r.paymentDateFrom),r!=null&&r.paymentDateTo&&t.append("paymentDateTo",r.paymentDateTo);const n=`/payments${t.toString()?`?${t.toString()}`:""}`;return Z1(n,{method:"GET"})},J8=async r=>Z1(`/payments/receipts/${r}`,{method:"GET"}),gne=async r=>{const t=new URLSearchParams;r&&t.append("companyId",r);const n=`/payments/without-receipt${t.toString()?`?${t.toString()}`:""}`;return Z1(n,{method:"GET"})},vne=async r=>Z1("/payments/receipts/manual",{method:"POST",body:JSON.stringify(r)}),xne=()=>{const{logout:r,permissions:t,user:n}=Yn(),a=100,s=jn(),i=qa(),[c,o]=C.useState(""),[d,l]=C.useState("All"),[u,h]=C.useState(!1),[f,A]=C.useState({invoiceNum:"",companyName:"",hcfCode:"",invoiceDate:"",dueDate:"",status:""}),[g,m]=C.useState(!1),[x,y]=C.useState(!1),[j,b]=C.useState(!1),[S,w]=C.useState(!1),[E,I]=C.useState(!1),[L,J]=C.useState(!1),[ae,G]=C.useState(!1),[le,V]=C.useState(null),[me,$]=C.useState(!1),[ee,we]=C.useState([]),[R,q]=C.useState(!1),[ie,Z]=C.useState(null),[D,ue]=C.useState(!1),[te,ye]=C.useState(null),[pe,je]=C.useState(new Set),[re,he]=C.useState(null),[X,Ae]=C.useState(null),[Be,Me]=C.useState(!1),[$e,ne]=C.useState(null),[Pe,_e]=C.useState(null),[rt,et]=C.useState(!1),Le=()=>{et(!rt)},[it,Wt]=C.useState([]),[qe,St]=C.useState([]),[_t,ar]=C.useState([]);C.useEffect(()=>{en()},[]);const en=async()=>{Me(!0),ne(null);try{const wt=await ha.getAllCompanies(!0),Pr=wt.map(Kr=>({id:Kr.id,companyCode:Kr.companyCode,companyName:Kr.companyName,status:Kr.status}));Wt(Pr);const tn=(await Mi.getAllHcfs(void 0,!0)).map(Kr=>{var Ma;return{id:Kr.id,hcfCode:Kr.hcfCode,hcfName:Kr.hcfName,companyName:((Ma=wt.find(ys=>ys.id===Kr.companyId))==null?void 0:Ma.companyName)||"",status:Kr.status||"Active"}});St(tn),await Xt(Pr,tn)}catch(wt){console.error("Error loading data:",wt);const Pr=wt.message||"Failed to load data";Pr.includes("Internal server error")||Pr.includes("500")?ne("Internal server error. Please check the backend logs."):ne(Pr)}finally{Me(!1)}},Xt=async(wt,Pr)=>{try{const Mr=await ZP();console.log("Loaded invoices:",Mr.length),console.log("Companies available:",wt.length),console.log("HCFs available:",Pr.length);const tn=Mr.map(Kr=>{var Va,Ai,Ca,ko,Qs,qo,yl,Xo;const Ma=wt.find(Is=>Is.id===Kr.companyId),ys=Pr.find(Is=>Is.id===Kr.hcfId);return Mr.indexOf(Kr)===0&&console.log("First invoice mapping:",{invoiceId:Kr.invoiceId,companyId:Kr.companyId,hcfId:Kr.hcfId,foundCompany:!!Ma,foundHcf:!!ys,companyName:Ma==null?void 0:Ma.companyName,hcfCode:ys==null?void 0:ys.hcfCode}),{...Kr,id:Kr.invoiceId,invoiceNum:Kr.invoiceNumber,invoiceStatus:Kr.status,companyName:(Ma==null?void 0:Ma.companyName)||Kr.companyName||"",hcfCode:(ys==null?void 0:ys.hcfCode)||Kr.hcfCode||"",invoiceDate:Kr.invoiceDate||"",dueDate:Kr.dueDate||"",billingDays:Kr.billingDays!==null&&Kr.billingDays!==void 0?Kr.billingDays.toString():"",bedCount:Kr.bedCount!==null&&Kr.bedCount!==void 0?Kr.bedCount.toString():"",bedRate:Kr.bedRate!==null&&Kr.bedRate!==void 0?Kr.bedRate.toString():"",weightInKg:Kr.weightInKg!==null&&Kr.weightInKg!==void 0?Kr.weightInKg.toString():"",kgRate:Kr.kgRate!==null&&Kr.kgRate!==void 0?Kr.kgRate.toString():"",lumpsumAmount:Kr.lumpsumAmount!==null&&Kr.lumpsumAmount!==void 0?Kr.lumpsumAmount.toString():"",taxableValue:((Va=Kr.taxableValue)==null?void 0:Va.toString())||"",igst:((Ai=Kr.igst)==null?void 0:Ai.toString())||"",cgst:((Ca=Kr.cgst)==null?void 0:Ca.toString())||"",sgst:((ko=Kr.sgst)==null?void 0:ko.toString())||"",roundOff:((Qs=Kr.roundOff)==null?void 0:Qs.toString())||"",invoiceValue:((qo=Kr.invoiceValue)==null?void 0:qo.toString())||"",totalPaidAmount:((yl=Kr.totalPaidAmount)==null?void 0:yl.toString())||"",balanceAmount:((Xo=Kr.balanceAmount)==null?void 0:Xo.toString())||""}});console.log("Mapped invoices:",tn.length),ar(tn),tn.length>0&&ne(null)}catch(Mr){console.error("Error loading invoices:",Mr);const tn=Mr.message||"Failed to load invoices";if(tn.includes("Unauthorized")||tn.includes("Forbidden")||tn.includes("permission")){ne("Access denied: You do not have permission to view invoices. Please contact your administrator or log in again.");return}throw tn.includes("Internal server error")||tn.includes("500")?ne("Internal server error. Please check the backend logs."):ne(tn),Mr}},Yr=async()=>{await Xt(it,qe)},Qr=_t.filter(wt=>{var ko;const Pr=c.toLowerCase(),Mr=!c||wt.invoiceNum.toLowerCase().includes(Pr)||wt.companyName.toLowerCase().includes(Pr)||wt.hcfCode.toLowerCase().includes(Pr)||((ko=qe.find(Qs=>Qs.hcfCode===wt.hcfCode))==null?void 0:ko.hcfName.toLowerCase().includes(Pr)),tn=d==="All"||wt.invoiceStatus===d,Kr=!f.invoiceNum||wt.invoiceNum.toLowerCase().includes(f.invoiceNum.toLowerCase()),Ma=!f.companyName||wt.companyName.toLowerCase().includes(f.companyName.toLowerCase()),ys=!f.hcfCode||wt.hcfCode.toLowerCase().includes(f.hcfCode.toLowerCase()),Va=!f.invoiceDate||wt.invoiceDate===f.invoiceDate,Ai=!f.dueDate||wt.dueDate===f.dueDate,Ca=!f.status||f.status==="All"||wt.invoiceStatus===f.status;return Mr&&tn&&Kr&&Ma&&ys&&Va&&Ai&&Ca}),He=()=>{he(null),m(!0)},Rt=wt=>{Ae(wt),y(!0)},ot=wt=>{wt.invoiceStatus==="Draft"?(he(wt),m(!0)):alert("Only Draft invoices can be edited.")},Ht=wt=>{if(wt.invoiceStatus!=="Draft"){alert("Only Draft invoices can be generated.");return}alert('Please use the "Generate Invoice" button in the edit modal to generate this invoice.')},$t=wt=>{window.confirm("Are you sure you want to cancel this invoice?")&&ar(_t.map(Pr=>Pr.id===wt.id?{...Pr,invoiceStatus:"Cancelled",modifiedOn:new Date().toISOString().split("T")[0]}:Pr))},Dr=async wt=>{Me(!0),ne(null),_e(null);try{const Pr=await recordPayment(wt);_e(`Payment recorded successfully! Receipt Number: ${Pr.data.receipt.receiptNumber}`);const Mr=await J8(Pr.data.receipt.receiptId);Z(Mr.data),q(!0),await Yr(),ue(!1),ye(null)}catch(Pr){console.error("Error recording payment:",Pr);const Mr=Pr.message||"Failed to record payment";ne(Mr)}finally{Me(!1)}},Fr=wt=>wt==="Generated"?"DUE":wt,Jr=wt=>wt.invoiceStatus==="Generated"||wt.invoiceStatus==="Partially Paid",Wr=wt=>pe.has(wt),Ln=wt=>{if(!Jr(wt))return;const Pr=new Set(pe);Pr.has(wt.id)?Pr.delete(wt.id):Pr.add(wt.id),je(Pr)},Vr=()=>{if(Qr.filter(Mr=>pe.has(Mr.id)).length===0){alert("Please select at least one invoice to proceed with payment");return}const Pr=Array.from(pe);i(`/finance/payment?invoices=${Pr.join(",")}`)},Ur=()=>{const wt=Qr.filter(Mr=>pe.has(Mr.id)),Pr=wt.reduce((Mr,tn)=>Mr+parseFloat(tn.balanceAmount||"0"),0);return{count:wt.length,totalBalance:Pr}},Cn=async wt=>{Me(!0),ne(null),_e(null);try{const Pr=await eD(wt);_e(`Payment processed successfully! Receipt Number: ${Pr.data.receipt.receiptNumber}`);const Mr=await J8(Pr.data.receipt.receiptId);Z(Mr.data),q(!0),await Yr(),$(!1)}catch(Pr){console.error("Error processing payment:",Pr);const Mr=Pr.message||"Failed to process payment";ne(Mr)}finally{Me(!1)}},un=async wt=>{const Pr=(n==null?void 0:n.email)||"";if(!Pr)throw new Error("EMAIL_MISSING");const Mr=[];for(let tn=0;tn<wt.length;tn+=a)Mr.push(wt.slice(tn,tn+a));for(const tn of Mr)await fne(tn,Pr);return{jobs:Mr.length,email:Pr}},Dn=async wt=>{try{Me(!0),ne(null);const{blob:Pr,filename:Mr}=await hne(wt.id),tn=window.URL.createObjectURL(Pr);window.open(tn,"_blank","noopener,noreferrer"),window.setTimeout(()=>window.URL.revokeObjectURL(tn),6e4)}catch(Pr){ne((Pr==null?void 0:Pr.message)||"Failed to generate/download PDF")}finally{Me(!1)}},da=()=>{alert("Export functionality will be implemented")},ri=async(wt,Pr=!1)=>{Me(!0),ne(null),_e(null);try{const Mr=it.find(Kr=>Kr.companyName===wt.companyName),tn=qe.find(Kr=>Kr.hcfCode===wt.hcfCode);if(!Mr||!tn)throw new Error("Company or HCF not found");if(re){const Kr={invoiceDate:wt.invoiceDate,dueDate:wt.dueDate,billingType:wt.billingType,billingDays:wt.billingDays?parseInt(wt.billingDays):void 0,billingOption:wt.billingOption,bedCount:wt.bedCount?parseInt(wt.bedCount):void 0,bedRate:wt.bedRate?parseFloat(wt.bedRate):void 0,weightInKg:wt.weightInKg?parseFloat(wt.weightInKg):void 0,kgRate:wt.kgRate?parseFloat(wt.kgRate):void 0,lumpsumAmount:wt.lumpsumAmount?parseFloat(wt.lumpsumAmount):void 0,taxableValue:wt.taxableValue?parseFloat(wt.taxableValue):void 0,igst:wt.igst?parseFloat(wt.igst):void 0,cgst:wt.cgst?parseFloat(wt.cgst):void 0,sgst:wt.sgst?parseFloat(wt.sgst):void 0,roundOff:wt.roundOff?parseFloat(wt.roundOff):void 0,invoiceValue:wt.invoiceValue?parseFloat(wt.invoiceValue):void 0,notes:wt.notes};await lne(re.id,Kr),_e("Invoice updated successfully")}else{const Kr={companyId:Mr.id,hcfId:tn.id,invoiceDate:wt.invoiceDate||new Date().toISOString().split("T")[0],dueDate:wt.dueDate||new Date().toISOString().split("T")[0],billingType:wt.billingType||"Monthly",billingDays:wt.billingDays?parseInt(wt.billingDays):void 0,billingOption:wt.billingOption||"Bed-wise",generationType:"Manual",bedCount:wt.bedCount?parseInt(wt.bedCount):void 0,bedRate:wt.bedRate?parseFloat(wt.bedRate):void 0,weightInKg:wt.weightInKg?parseFloat(wt.weightInKg):void 0,kgRate:wt.kgRate?parseFloat(wt.kgRate):void 0,lumpsumAmount:wt.lumpsumAmount?parseFloat(wt.lumpsumAmount):void 0,taxableValue:wt.taxableValue?parseFloat(wt.taxableValue):void 0,igst:wt.igst?parseFloat(wt.igst):void 0,cgst:wt.cgst?parseFloat(wt.cgst):void 0,sgst:wt.sgst?parseFloat(wt.sgst):void 0,roundOff:wt.roundOff?parseFloat(wt.roundOff):void 0,invoiceValue:wt.invoiceValue?parseFloat(wt.invoiceValue):void 0,notes:wt.notes};await one(Kr),_e("Invoice created successfully")}await Yr(),m(!1),he(null)}catch(Mr){console.error("Error saving invoice:",Mr);const tn=Mr.message||"Failed to save invoice";tn.includes("Internal server error")||tn.includes("500")?ne("Internal server error. Please check the backend logs."):ne(tn)}finally{Me(!1)}},Ks=async wt=>{Me(!0),ne(null),_e(null);try{const Pr=await cne(wt);console.log("Invoice generation result:",Pr),ne(null),_e(null);try{const Mr=(Pr.generated||[]).map(tn=>tn.invoiceId).filter(Boolean);if(Mr.length>0){const{jobs:tn,email:Kr}=await un(Mr);_e(`PDF ZIP processing started (${tn} job${tn===1?"":"s"}). Download link will be emailed to ${Kr}.`)}}catch(Mr){console.error("Failed to enqueue bulk PDF job:",Mr),Mr instanceof Error&&Mr.message==="EMAIL_MISSING"?ne("Invoices generated, but email is missing. Please re-login and try again."):ne("Invoices generated, but failed to start bulk PDF processing. Please try again.")}if(Pr.failed&&Pr.failed.length>0){console.log("Failed invoices details:",JSON.stringify(Pr.failed,null,2));const Mr=Pr.failed.map(Kr=>{const Ma=Kr.hcfCode||Kr.hcfId||"Unknown HCF",ys=Kr.reason||"Unknown error";return`${Ma}: ${ys}`}).join("; "),tn=Pr.summary.success>0?`Some invoices failed: ${Mr}`:`Invoice generation failed: ${Mr}`;console.log("Setting error message:",tn),ne(tn)}if(Pr.summary.success>0){const Mr=`Generated ${Pr.summary.success} invoice(s) successfully.`;Pr.summary.failed>0?_e(`${Mr} ${Pr.summary.failed} failed.`):_e(Mr)}Pr.summary.success===0&&Pr.summary.failed>0&&_e(null),await Yr(),b(!1)}catch(Pr){console.error("Error generating invoices:",Pr);const Mr=Pr.message||"Failed to generate invoices";Mr.includes("Internal server error")||Mr.includes("500")?ne("Internal server error. Please check the backend logs."):ne(Mr)}finally{Me(!1)}},Hs=async wt=>{Me(!0),ne(null),_e(null);try{const Pr=await dne(wt);try{const Mr=(Pr.generated||[]).map(tn=>tn.invoiceId).filter(Boolean);if(Mr.length>0){const{jobs:tn,email:Kr}=await un(Mr);_e(`PDF ZIP processing started (${tn} job${tn===1?"":"s"}). Download link will be emailed to ${Kr}.`)}}catch(Mr){console.error("Failed to enqueue bulk PDF job:",Mr),Mr instanceof Error&&Mr.message==="EMAIL_MISSING"?ne("Invoices generated, but email is missing. Please re-login and try again."):ne("Invoices generated, but failed to start bulk PDF processing. Please try again.")}if(Pr.summary.success>0&&_e(`Generated ${Pr.summary.success} invoice(s) successfully (Weight-based). ${Pr.summary.failed} failed.`),Pr.failed.length>0){const Mr=Pr.failed.map(tn=>`${tn.hcfCode}: ${tn.reason}`).join(", ");ne(`Some invoices failed: ${Mr}`)}await Yr(),w(!1)}catch(Pr){console.error("Error generating weight-based invoices:",Pr);const Mr=Pr.message||"Failed to generate invoices";Mr.includes("Internal server error")||Mr.includes("500")?ne("Internal server error. Please check the backend logs."):ne(Mr)}finally{Me(!1)}},oa=async wt=>{Me(!0),ne(null),_e(null);try{const Pr=await une(wt);try{const Mr=(Pr.generated||[]).map(tn=>tn.invoiceId).filter(Boolean);if(Mr.length>0){const{jobs:tn,email:Kr}=await un(Mr);_e(`PDF ZIP processing started (${tn} job${tn===1?"":"s"}). Download link will be emailed to ${Kr}.`)}}catch(Mr){console.error("Failed to enqueue bulk PDF job:",Mr),Mr instanceof Error&&Mr.message==="EMAIL_MISSING"?ne("Invoices generated, but email is missing. Please re-login and try again."):ne("Invoices generated, but failed to start bulk PDF processing. Please try again.")}if(_e(`Generated ${Pr.summary.success} invoice(s) successfully. ${Pr.summary.failed} failed. ${Pr.summary.skipped||0} skipped.`),Pr.skipped&&Pr.skipped.length>0&&(V({skipped:Pr.skipped}),G(!0)),Pr.failed.length>0){const Mr=Pr.failed.map(tn=>`${tn.hcfCode}: ${tn.reason}`).join(", ");ne(`Some invoices failed: ${Mr}`)}await Yr(),I(!1),J(!1)}catch(Pr){console.error("Error generating month-based invoices:",Pr);const Mr=Pr.message||"Failed to generate invoices";Mr.includes("Internal server error")||Mr.includes("500")?ne("Internal server error during invoice generation. Please check the backend logs."):ne(Mr)}finally{Me(!1)}},rn=wt=>{const Pr=parseFloat(wt.taxableValue||"0"),Mr=parseFloat(wt.igst||"0"),tn=parseFloat(wt.cgst||"0"),Kr=parseFloat(wt.sgst||"0"),Ma=parseFloat(wt.roundOff||"0");return(Pr+Mr+tn+Kr+Ma).toFixed(2)},wi=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:s.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:s.pathname==="/transaction"||s.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:s.pathname==="/finance"||s.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:s.pathname==="/commercial-agreements"||s.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:s.pathname==="/compliance-training"||s.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:s.pathname==="/master"||s.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:s.pathname.startsWith("/report")},...wS(t,s.pathname)].filter(wt=>wt.path==="/dashboard"?ka(t,"dashboard"):wt.path==="/transaction"?ka(t,"transaction"):wt.path==="/finance"?ka(t,"finance"):wt.path==="/commercial-agreements"?ka(t,"commercial"):wt.path==="/compliance-training"?ka(t,"compliance"):wt.path==="/master"?ka(t,"master"):wt.path==="/report"?ka(t,"report"):!0);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${rt?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!rt&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:Le,"aria-label":rt?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:rt?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:wi.map(wt=>e.jsx("li",{children:e.jsxs(Hr,{to:wt.path,className:`nav-link ${wt.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:wt.icon}),!rt&&e.jsx("span",{className:"nav-label",children:wt.label})]})},wt.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Hr,{to:"/profile",className:`sidebar-profile-btn ${s.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!rt&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!rt&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(_a,{title:"Invoice Management",subtitle:"Create, manage and track invoices"}),e.jsxs("div",{className:"route-assignment-page",children:[e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"Invoice Management"}),e.jsx("p",{className:"ra-page-subtitle",children:"Manage invoices, payments, and billing records"})]})]}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"ra-search-input",placeholder:"Search by invoice number, company, HCF...",value:c,onChange:wt=>o(wt.target.value)})]}),e.jsxs("div",{className:"ra-actions",children:[e.jsxs("button",{className:"ra-filter-btn",onClick:()=>h(!0),type:"button",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),e.jsxs("button",{className:"export-btn",onClick:da,disabled:Be,style:{marginRight:"8px"},children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),e.jsx("polyline",{points:"7 10 12 15 17 10"}),e.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Export"]}),e.jsxs("button",{className:"add-invoice-btn",onClick:()=>I(!0),disabled:Be,style:{marginRight:"8px",backgroundColor:"#3b82f6"},children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"})}),"Auto Generate  Bed / Lumpsum"]}),e.jsxs("button",{className:"add-invoice-btn",onClick:()=>J(!0),disabled:Be,style:{marginRight:"8px",backgroundColor:"#10b981"},children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"})}),"Auto Generate  Weight Based"]}),e.jsxs("button",{className:"ra-add-btn",onClick:He,disabled:Be,type:"button",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Create Invoice"]})]})]}),$e&&e.jsxs("div",{className:"ra-alert ra-alert--error",children:[e.jsx("span",{children:$e}),e.jsx("button",{className:"ra-alert-close",onClick:()=>ne(null),children:""})]}),Pe&&e.jsxs("div",{className:"ra-alert ra-alert--success",children:[e.jsx("span",{children:Pe}),e.jsx("button",{className:"ra-alert-close",onClick:()=>_e(null),children:""})]}),Be&&!_t.length&&e.jsx("div",{style:{textAlign:"center",padding:"40px"},children:"Loading invoices..."}),e.jsx("div",{className:"route-assignment-table-container",children:Be&&!_t.length?e.jsx("div",{style:{padding:"40px",textAlign:"center",color:"#64748b"},children:"Loading invoices..."}):Qr.length===0?e.jsxs("div",{style:{padding:"60px",textAlign:"center",color:"#94a3b8"},children:[e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",style:{margin:"0 auto 16px",opacity:.5},children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),e.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),e.jsx("p",{style:{fontSize:"14px",margin:0},children:"No invoices found for the selected filters"})]}):e.jsxs("table",{className:"route-assignment-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:"40px"}}),e.jsx("th",{children:"Invoice Number"}),e.jsx("th",{children:"Company Name"}),e.jsx("th",{children:"HCF Code"}),e.jsx("th",{children:"Invoice Date"}),e.jsx("th",{children:"Due Date"}),e.jsx("th",{children:"Invoice Value"}),e.jsx("th",{children:"Paid Amount"}),e.jsx("th",{children:"Balance"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:Qr.map(wt=>{const Pr=qe.find(Kr=>Kr.hcfCode===wt.hcfCode),Mr=Jr(wt),tn=Wr(wt.id);return e.jsxs("tr",{style:{opacity:wt.invoiceStatus==="Paid"?.6:1},children:[e.jsx("td",{children:e.jsx("input",{type:"checkbox",checked:tn,onChange:()=>Ln(wt),disabled:!Mr,title:Mr?"Select invoice":"Only DUE or Partially Paid invoices can be selected"})}),e.jsx("td",{children:wt.invoiceNum||"-"}),e.jsx("td",{children:wt.companyName||"-"}),e.jsx("td",{children:Pr?`${wt.hcfCode} - ${Pr.hcfName}`:wt.hcfCode}),e.jsx("td",{children:wt.invoiceDate||"-"}),e.jsx("td",{children:wt.dueDate||"-"}),e.jsxs("td",{children:["",wt.invoiceValue||"0"]}),e.jsxs("td",{style:{color:"#94a3b8",fontSize:"13px"},children:["",parseFloat(wt.totalPaidAmount||"0").toFixed(2)]}),e.jsxs("td",{style:{fontWeight:700,color:"#059669",fontSize:"14px"},children:["",parseFloat(wt.balanceAmount||"0").toFixed(2)]}),e.jsx("td",{children:e.jsx("span",{className:`invoice-status-badge invoice-status-badge--${wt.invoiceStatus.toLowerCase().replace(" ","-")}`,children:Fr(wt.invoiceStatus)})}),e.jsx("td",{children:e.jsxs("div",{className:"invoice-action-buttons",children:[e.jsx("button",{className:"action-btn action-btn--view",onClick:()=>Rt(wt),title:"View",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),wt.invoiceStatus==="Draft"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>ot(wt),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--generate",onClick:()=>Ht(wt),title:"Generate",children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"20 6 9 17 4 12"})})})]}),e.jsx("button",{className:"action-btn action-btn--print",onClick:()=>Dn(wt),title:"Download PDF",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),e.jsx("polyline",{points:"7 10 12 15 17 10"}),e.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]})}),wt.invoiceStatus!=="Cancelled"&&wt.invoiceStatus!=="Paid"&&e.jsx("button",{className:"action-btn action-btn--cancel",onClick:()=>$t(wt),title:"Cancel",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),e.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]})})]})})]},wt.id)})})]})}),pe.size>0&&e.jsxs("div",{className:"invoice-payment-summary-bar",style:{position:"fixed",bottom:0,left:"280px",right:0,background:"#FFFFFF",borderTop:"1px solid #E5E7EB",padding:"16px 24px",boxShadow:"0 -2px 8px rgba(0, 0, 0, 0.08)",display:"flex",justifyContent:"space-between",alignItems:"center",zIndex:1e3,minHeight:"64px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"32px",flex:1},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("span",{style:{fontSize:"14px",color:"#6B7280",fontWeight:400,lineHeight:"1.5"},children:"Selected Invoices:"}),e.jsx("span",{style:{fontSize:"14px",fontWeight:500,color:"#1F2937",lineHeight:"1.5"},children:Ur().count})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("span",{style:{fontSize:"14px",color:"#6B7280",fontWeight:400,lineHeight:"1.5"},children:"Total Payable:"}),e.jsxs("span",{style:{fontSize:"20px",fontWeight:700,color:"#059669",lineHeight:"1.5",letterSpacing:"-0.02em"},children:["",Ur().totalBalance.toFixed(2)]})]})]}),e.jsx("div",{style:{flexShrink:0},children:e.jsxs("button",{onClick:Vr,disabled:pe.size===0,title:pe.size===0?"Select at least one invoice":"Proceed to payment",style:{padding:"12px 32px",background:"#10b981",color:"#FFFFFF",border:"none",borderRadius:"8px",cursor:pe.size>0?"pointer":"not-allowed",fontSize:"15px",fontWeight:600,display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",transition:"all 0.2s ease",whiteSpace:"nowrap",minHeight:"48px",boxShadow:pe.size>0?"0 2px 4px rgba(16, 185, 129, 0.2)":"none"},onMouseEnter:wt=>{pe.size>0&&(wt.currentTarget.style.background="#059669",wt.currentTarget.style.transform="translateY(-1px)",wt.currentTarget.style.boxShadow="0 4px 8px rgba(16, 185, 129, 0.3)")},onMouseLeave:wt=>{pe.size>0&&(wt.currentTarget.style.background="#10b981",wt.currentTarget.style.transform="translateY(0)",wt.currentTarget.style.boxShadow="0 2px 4px rgba(16, 185, 129, 0.2)")},children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),"Proceed to Payment"]})})]}),e.jsxs("div",{className:"route-assignment-pagination-info",style:{marginBottom:pe.size>0?"80px":"0"},children:["Showing ",Qr.length," of ",_t.length," items"]})]})]}),g&&e.jsx(bne,{invoice:re,companies:it.filter(wt=>wt.status==="Active"),hcfs:qe.filter(wt=>wt.status==="Active"),onClose:()=>{m(!1),he(null)},onSave:ri,calculateInvoiceValue:rn}),x&&X&&e.jsx(wne,{invoice:X,hcfs:qe,onClose:()=>{y(!1),Ae(null)},onPrint:Dn}),u&&e.jsx(Bne,{statusFilter:d,advancedFilters:f,companies:it,hcfs:qe,onClose:()=>h(!1),onClear:()=>{l("All"),A({invoiceNum:"",companyName:"",hcfCode:"",invoiceDate:"",dueDate:"",status:""}),h(!1)},onApply:wt=>{l(wt.statusFilter),A(wt.advancedFilters),h(!1)}}),me&&e.jsx(Nne,{invoices:ee,companies:it.filter(wt=>wt.status==="Active"),onClose:()=>{$(!1),we([])},onProcessPayment:Cn,loading:Be}),D&&te&&e.jsx(Sne,{invoice:te,onClose:()=>{ue(!1),ye(null)},onSubmit:Dr,loading:Be}),R&&ie&&e.jsx(Ene,{receiptData:ie,onClose:()=>{q(!1),Z(null)}}),j&&e.jsx(yne,{companies:it.filter(wt=>wt.status==="Active"),hcfs:qe.filter(wt=>wt.status==="Active"),onClose:()=>b(!1),onGenerate:Ks,loading:Be}),S&&e.jsx(jne,{companies:it.filter(wt=>wt.status==="Active"),hcfs:qe.filter(wt=>wt.status==="Active"),onClose:()=>w(!1),onGenerate:Hs,loading:Be}),E&&e.jsx(Z8,{companies:it.filter(wt=>wt.status==="Active"),onClose:()=>I(!1),onGenerate:oa,loading:Be,generationMode:"Bed/Lumpsum"}),L&&e.jsx(Z8,{companies:it.filter(wt=>wt.status==="Active"),onClose:()=>J(!1),onGenerate:oa,loading:Be,generationMode:"Weight Based"}),ae&&le&&e.jsx(Cne,{skipped:le.skipped,onClose:()=>{G(!1),V(null)}})]})},yne=({companies:r,hcfs:t,onClose:n,onGenerate:a,loading:s})=>{const[i,c]=C.useState({companyId:"",billingPeriodStart:"",billingPeriodEnd:"",billingType:"Monthly",dueDays:30}),[o,d]=C.useState([]);i.companyId&&t.filter(u=>{const h=r.find(f=>f.id===i.companyId);return h&&u.companyName===h.companyName});const l=u=>{u.preventDefault(),a({...i,hcfIds:o.length>0?o:void 0})};return e.jsx("div",{className:"wp-modal-overlay",onClick:n,children:e.jsxs("div",{className:"wp-modal-content",onClick:u=>u.stopPropagation(),children:[e.jsxs("div",{className:"wp-modal-header",children:[e.jsxs("div",{className:"wp-modal-header-left",children:[e.jsx("div",{className:"wp-modal-icon wp-modal-icon--add",children:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),e.jsx("h2",{className:"wp-modal-title",children:"Auto Generate  Bed / Lumpsum"})]}),e.jsx("button",{className:"wp-modal-close",onClick:n,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{onSubmit:l,children:[e.jsxs("div",{className:"wp-modal-body",children:[e.jsxs("div",{className:"wp-form-group",children:[e.jsxs("label",{htmlFor:"companyId",children:["Company ",e.jsx("span",{className:"wp-required",children:"*"})]}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),e.jsxs("select",{id:"companyId",required:!0,value:i.companyId,onChange:u=>{c({...i,companyId:u.target.value}),d([])},className:"wp-form-select",children:[e.jsx("option",{value:"",children:"Select Company"}),r.map(u=>e.jsx("option",{value:u.id,children:u.companyName},u.id))]}),e.jsx("svg",{className:"wp-select-arrow-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"6 9 12 15 18 9"})})]})]}),e.jsxs("div",{className:"wp-form-group",children:[e.jsxs("label",{htmlFor:"billingPeriodStart",children:["Billing Period Start ",e.jsx("span",{className:"wp-required",children:"*"})]}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),e.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),e.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),e.jsx("input",{id:"billingPeriodStart",type:"date",required:!0,value:i.billingPeriodStart,onChange:u=>c({...i,billingPeriodStart:u.target.value}),className:"wp-form-input"})]})]}),e.jsxs("div",{className:"wp-form-group",children:[e.jsxs("label",{htmlFor:"billingPeriodEnd",children:["Billing Period End ",e.jsx("span",{className:"wp-required",children:"*"})]}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),e.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),e.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),e.jsx("input",{id:"billingPeriodEnd",type:"date",required:!0,value:i.billingPeriodEnd,onChange:u=>c({...i,billingPeriodEnd:u.target.value}),className:"wp-form-input"})]})]}),e.jsxs("div",{className:"wp-form-group",children:[e.jsx("label",{htmlFor:"billingOption",children:"Billing Option Filter"}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsx("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),e.jsxs("select",{id:"billingOption",value:i.billingOption||"",onChange:u=>c({...i,billingOption:u.target.value}),className:"wp-form-select",children:[e.jsx("option",{value:"",children:"All Options"}),e.jsx("option",{value:"Bed-wise",children:"Bed-wise"}),e.jsx("option",{value:"Weight-wise",children:"Weight-wise"}),e.jsx("option",{value:"Lumpsum",children:"Lumpsum"})]}),e.jsx("svg",{className:"wp-select-arrow-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),e.jsx("small",{style:{display:"block",marginTop:"3px",color:"#64748b",fontSize:"11px"},children:"Filter HCFs by billing option (optional)"})]}),e.jsxs("div",{className:"wp-form-group",children:[e.jsxs("label",{htmlFor:"billingType",children:["Billing Type ",e.jsx("span",{className:"wp-required",children:"*"})]}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),e.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),e.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),e.jsxs("select",{id:"billingType",required:!0,value:i.billingType,onChange:u=>c({...i,billingType:u.target.value}),className:"wp-form-select",children:[e.jsx("option",{value:"Monthly",children:"Monthly"}),e.jsx("option",{value:"Quarterly",children:"Quarterly"}),e.jsx("option",{value:"Yearly",children:"Yearly"})]}),e.jsx("svg",{className:"wp-select-arrow-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"6 9 12 15 18 9"})})]})]}),e.jsxs("div",{className:"wp-form-group",children:[e.jsx("label",{htmlFor:"dueDays",children:"Due Days (from invoice date)"}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]}),e.jsx("input",{id:"dueDays",type:"number",min:"1",value:i.dueDays||30,onChange:u=>c({...i,dueDays:parseInt(u.target.value)||30}),className:"wp-form-input"})]})]})]}),e.jsxs("div",{className:"wp-modal-footer",children:[e.jsx("button",{type:"button",className:"wp-btn wp-btn--cancel",onClick:n,disabled:s,children:"Cancel"}),e.jsx("button",{type:"submit",className:"wp-btn wp-btn--save",disabled:s,children:s?"Generating...":"Save"})]})]})]})})},jne=({companies:r,hcfs:t,onClose:n,onGenerate:a,loading:s})=>{const[i,c]=C.useState({companyId:"",pickupDateFrom:"",pickupDateTo:"",billingType:"Monthly",dueDays:30}),[o,d]=C.useState([]);i.companyId&&t.filter(u=>{const h=r.find(f=>f.id===i.companyId);return h&&u.companyName===h.companyName});const l=u=>{u.preventDefault(),a({...i,hcfIds:o.length>0?o:void 0})};return e.jsx("div",{className:"wp-modal-overlay",onClick:n,children:e.jsxs("div",{className:"wp-modal-content",onClick:u=>u.stopPropagation(),children:[e.jsxs("div",{className:"wp-modal-header",children:[e.jsxs("div",{className:"wp-modal-header-left",children:[e.jsx("div",{className:"wp-modal-icon wp-modal-icon--add",children:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),e.jsx("h2",{className:"wp-modal-title",children:"Auto Generate  Weight"})]}),e.jsx("button",{className:"wp-modal-close",onClick:n,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{onSubmit:l,children:[e.jsxs("div",{className:"wp-modal-body",children:[e.jsxs("div",{className:"wp-form-group",children:[e.jsxs("label",{htmlFor:"companyId",children:["Company ",e.jsx("span",{className:"wp-required",children:"*"})]}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),e.jsxs("select",{id:"companyId",required:!0,value:i.companyId,onChange:u=>{c({...i,companyId:u.target.value}),d([])},className:"wp-form-select",children:[e.jsx("option",{value:"",children:"Select Company"}),r.map(u=>e.jsx("option",{value:u.id,children:u.companyName},u.id))]}),e.jsx("svg",{className:"wp-select-arrow-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"6 9 12 15 18 9"})})]})]}),e.jsxs("div",{className:"wp-form-group",children:[e.jsxs("label",{htmlFor:"pickupDateFrom",children:["Pickup Date From ",e.jsx("span",{className:"wp-required",children:"*"})]}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),e.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),e.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),e.jsx("input",{id:"pickupDateFrom",type:"date",required:!0,value:i.pickupDateFrom,onChange:u=>c({...i,pickupDateFrom:u.target.value}),className:"wp-form-input"})]}),e.jsx("small",{style:{display:"block",marginTop:"3px",color:"#64748b",fontSize:"11px"},children:"Start date for waste transaction pickup"})]}),e.jsxs("div",{className:"wp-form-group",children:[e.jsxs("label",{htmlFor:"pickupDateTo",children:["Pickup Date To ",e.jsx("span",{className:"wp-required",children:"*"})]}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),e.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),e.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),e.jsx("input",{id:"pickupDateTo",type:"date",required:!0,value:i.pickupDateTo,onChange:u=>c({...i,pickupDateTo:u.target.value}),className:"wp-form-input"})]}),e.jsx("small",{style:{display:"block",marginTop:"3px",color:"#64748b",fontSize:"11px"},children:"End date for waste transaction pickup"})]}),e.jsxs("div",{className:"wp-form-group",children:[e.jsxs("label",{htmlFor:"billingType",children:["Billing Type ",e.jsx("span",{className:"wp-required",children:"*"})]}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),e.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),e.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),e.jsxs("select",{id:"billingType",required:!0,value:i.billingType,onChange:u=>c({...i,billingType:u.target.value}),className:"wp-form-select",children:[e.jsx("option",{value:"Monthly",children:"Monthly"}),e.jsx("option",{value:"Quarterly",children:"Quarterly"}),e.jsx("option",{value:"Yearly",children:"Yearly"})]}),e.jsx("svg",{className:"wp-select-arrow-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"6 9 12 15 18 9"})})]})]}),e.jsxs("div",{className:"wp-form-group",children:[e.jsx("label",{htmlFor:"dueDays",children:"Due Days (from invoice date)"}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]}),e.jsx("input",{id:"dueDays",type:"number",min:"1",value:i.dueDays||30,onChange:u=>c({...i,dueDays:parseInt(u.target.value)||30}),className:"wp-form-input"})]})]})]}),e.jsxs("div",{className:"wp-modal-footer",children:[e.jsx("button",{type:"button",className:"wp-btn wp-btn--cancel",onClick:n,disabled:s,children:"Cancel"}),e.jsx("button",{type:"submit",className:"wp-btn wp-btn--save",disabled:s,children:s?"Generating...":"Save"})]})]})]})})},bne=({invoice:r,companies:t,hcfs:n,onClose:a,onSave:s,calculateInvoiceValue:i})=>{const[c,o]=C.useState(r||{companyName:"",hcfCode:"",invoiceNum:"",invoiceDate:new Date().toISOString().split("T")[0],dueDate:"",billingType:"",billingDays:"",bedCount:"",bedRate:"",weightInKg:"",kgRate:"",lumpsumAmount:"",taxableValue:"",igst:"",cgst:"",sgst:"",roundOff:"0",invoiceValue:"",invoiceStatus:"Draft"}),d=c.companyName?n.filter(h=>h.companyName===c.companyName):n,l=(h,f)=>{const A={...c,[h]:f};if(["taxableValue","igst","cgst","sgst","roundOff"].includes(h)){const y=i(A);A.invoiceValue=y}const g=parseFloat(A.invoiceValue||"0"),m=parseFloat(A.totalPaidAmount||"0"),x=(g-m).toFixed(2);A.balanceAmount=x,o(A)},u=h=>{h.preventDefault(),s(c,!1)};return e.jsx("div",{className:"wp-modal-overlay",onClick:a,children:e.jsxs("div",{className:"wp-modal-content",onClick:h=>h.stopPropagation(),style:{maxWidth:"900px"},children:[e.jsxs("div",{className:"wp-modal-header",children:[e.jsxs("div",{className:"wp-modal-header-left",children:[e.jsx("div",{className:`wp-modal-icon ${r?"wp-modal-icon--edit":"wp-modal-icon--add"}`,children:r?e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}):e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),e.jsx("h2",{className:"wp-modal-title",children:r?"Edit Invoice":"Create Invoice"})]}),e.jsx("button",{className:"wp-modal-close",onClick:a,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{onSubmit:u,children:[e.jsxs("div",{className:"wp-modal-body",children:[e.jsxs("div",{className:"wp-form-row",children:[e.jsxs("div",{className:"wp-form-group",children:[e.jsxs("label",{htmlFor:"companyName",children:["Company Name ",e.jsx("span",{className:"wp-required",children:"*"})]}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),e.jsxs("select",{id:"companyName",value:c.companyName||"",onChange:h=>{l("companyName",h.target.value),l("hcfCode","")},required:!0,className:"wp-form-select",children:[e.jsx("option",{value:"",children:"Select Company"}),t.map(h=>e.jsx("option",{value:h.companyName,children:h.companyName},h.id))]}),e.jsx("svg",{className:"wp-select-arrow-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"6 9 12 15 18 9"})})]})]}),e.jsxs("div",{className:"wp-form-group",children:[e.jsxs("label",{htmlFor:"hcfCode",children:["HCF Code ",e.jsx("span",{className:"wp-required",children:"*"})]}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),e.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),e.jsxs("select",{id:"hcfCode",value:c.hcfCode||"",onChange:h=>l("hcfCode",h.target.value),required:!0,disabled:!c.companyName,className:"wp-form-select",children:[e.jsx("option",{value:"",children:"Select HCF"}),d.map(h=>e.jsxs("option",{value:h.hcfCode,children:[h.hcfCode," - ",h.hcfName]},h.id))]}),e.jsx("svg",{className:"wp-select-arrow-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"6 9 12 15 18 9"})})]})]})]}),e.jsxs("div",{className:"wp-form-group",children:[e.jsxs("label",{htmlFor:"invoiceNum",children:["Invoice Number ",e.jsx("span",{className:"wp-required",children:"*"})]}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),e.jsx("input",{id:"invoiceNum",type:"text",value:c.invoiceNum||"",onChange:h=>l("invoiceNum",h.target.value),required:!0,placeholder:"e.g., INV-2024-001",className:"wp-form-input"})]})]}),e.jsxs("div",{className:"wp-form-row",children:[e.jsxs("div",{className:"wp-form-group",children:[e.jsxs("label",{htmlFor:"invoiceDate",children:["Invoice Date ",e.jsx("span",{className:"wp-required",children:"*"})]}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),e.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),e.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),e.jsx("input",{id:"invoiceDate",type:"date",value:c.invoiceDate||"",onChange:h=>l("invoiceDate",h.target.value),required:!0,className:"wp-form-input"})]})]}),e.jsxs("div",{className:"wp-form-group",children:[e.jsxs("label",{htmlFor:"dueDate",children:["Due Date ",e.jsx("span",{className:"wp-required",children:"*"})]}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),e.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),e.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),e.jsx("input",{id:"dueDate",type:"date",value:c.dueDate||"",onChange:h=>l("dueDate",h.target.value),required:!0,className:"wp-form-input"})]})]})]}),e.jsxs("div",{style:{marginTop:"16px",paddingTop:"16px",borderTop:"1px solid #e2e8f0"},children:[e.jsx("h3",{style:{fontSize:"12px",fontWeight:"700",color:"#1e293b",margin:"0 0 12px 0",textTransform:"uppercase",letterSpacing:"0.5px"},children:"BILLING INFORMATION"}),e.jsxs("div",{className:"wp-form-row",children:[e.jsxs("div",{className:"wp-form-group",children:[e.jsxs("label",{htmlFor:"billingType",children:["Billing Type ",e.jsx("span",{className:"wp-required",children:"*"})]}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),e.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),e.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),e.jsxs("select",{id:"billingType",value:c.billingType||"",onChange:h=>l("billingType",h.target.value),required:!0,className:"wp-form-select",children:[e.jsx("option",{value:"",children:"Select Billing Type"}),e.jsx("option",{value:"Monthly",children:"Monthly"}),e.jsx("option",{value:"Quarterly",children:"Quarterly"}),e.jsx("option",{value:"Yearly",children:"Yearly"})]}),e.jsx("svg",{className:"wp-select-arrow-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"6 9 12 15 18 9"})})]})]}),e.jsxs("div",{className:"wp-form-group",children:[e.jsx("label",{htmlFor:"billingDays",children:"Billing Days"}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]}),e.jsx("input",{id:"billingDays",type:"text",value:c.billingDays||"",onChange:h=>l("billingDays",h.target.value),placeholder:"Enter billing days",className:"wp-form-input"})]})]})]}),e.jsxs("div",{className:"wp-form-row",children:[e.jsxs("div",{className:"wp-form-group",children:[e.jsx("label",{htmlFor:"bedCount",children:"Bed Count"}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),e.jsx("line",{x1:"8",y1:"12",x2:"16",y2:"12"})]}),e.jsx("input",{id:"bedCount",type:"text",value:c.bedCount||"",onChange:h=>l("bedCount",h.target.value),placeholder:"Enter bed count",className:"wp-form-input"})]})]}),e.jsxs("div",{className:"wp-form-group",children:[e.jsx("label",{htmlFor:"bedRate",children:"Bed Rate"}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),e.jsx("input",{id:"bedRate",type:"text",value:c.bedRate||"",onChange:h=>l("bedRate",h.target.value),placeholder:"Enter bed rate",className:"wp-form-input"})]})]})]}),e.jsxs("div",{className:"wp-form-row",children:[e.jsxs("div",{className:"wp-form-group",children:[e.jsx("label",{htmlFor:"weightInKg",children:"Weight in Kg"}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsx("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.6 1.5-3.5 3.5-5.5z"})}),e.jsx("input",{id:"weightInKg",type:"text",value:c.weightInKg||"",onChange:h=>l("weightInKg",h.target.value),placeholder:"Enter weight in kg",className:"wp-form-input"})]})]}),e.jsxs("div",{className:"wp-form-group",children:[e.jsx("label",{htmlFor:"kgRate",children:"Kg Rate"}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),e.jsx("input",{id:"kgRate",type:"text",value:c.kgRate||"",onChange:h=>l("kgRate",h.target.value),placeholder:"Enter kg rate",className:"wp-form-input"})]})]})]}),e.jsxs("div",{className:"wp-form-group",children:[e.jsx("label",{htmlFor:"lumpsumAmount",children:"Lumpsum Amount"}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),e.jsx("input",{id:"lumpsumAmount",type:"text",value:c.lumpsumAmount||"",onChange:h=>l("lumpsumAmount",h.target.value),placeholder:"Enter lumpsum amount",className:"wp-form-input"})]})]})]}),e.jsxs("div",{style:{marginTop:"16px",paddingTop:"16px",borderTop:"1px solid #e2e8f0"},children:[e.jsx("h3",{style:{fontSize:"12px",fontWeight:"700",color:"#1e293b",margin:"0 0 12px 0",textTransform:"uppercase",letterSpacing:"0.5px"},children:"TAX & AMOUNT INFORMATION"}),e.jsxs("div",{className:"wp-form-row",children:[e.jsxs("div",{className:"wp-form-group",children:[e.jsxs("label",{htmlFor:"taxableValue",children:["Taxable Value ",e.jsx("span",{className:"wp-required",children:"*"})]}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),e.jsx("input",{id:"taxableValue",type:"text",value:c.taxableValue||"",onChange:h=>l("taxableValue",h.target.value),required:!0,placeholder:"Enter taxable value",className:"wp-form-input"})]})]}),e.jsxs("div",{className:"wp-form-group",children:[e.jsx("label",{htmlFor:"igst",children:"IGST"}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),e.jsx("input",{id:"igst",type:"text",value:c.igst||"",onChange:h=>l("igst",h.target.value),placeholder:"Enter IGST",className:"wp-form-input"})]})]})]}),e.jsxs("div",{className:"wp-form-row",children:[e.jsxs("div",{className:"wp-form-group",children:[e.jsx("label",{htmlFor:"cgst",children:"CGST"}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),e.jsx("input",{id:"cgst",type:"text",value:c.cgst||"",onChange:h=>l("cgst",h.target.value),placeholder:"Enter CGST",className:"wp-form-input"})]})]}),e.jsxs("div",{className:"wp-form-group",children:[e.jsx("label",{htmlFor:"sgst",children:"SGST"}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),e.jsx("input",{id:"sgst",type:"text",value:c.sgst||"",onChange:h=>l("sgst",h.target.value),placeholder:"Enter SGST",className:"wp-form-input"})]})]})]}),e.jsxs("div",{className:"wp-form-row",children:[e.jsxs("div",{className:"wp-form-group",children:[e.jsx("label",{htmlFor:"roundOff",children:"Round Off"}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]}),e.jsx("input",{id:"roundOff",type:"text",value:c.roundOff||"0",onChange:h=>l("roundOff",h.target.value),placeholder:"Enter round off",className:"wp-form-input"})]})]}),e.jsxs("div",{className:"wp-form-group",children:[e.jsx("label",{htmlFor:"invoiceValue",children:"Invoice Value"}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),e.jsx("input",{id:"invoiceValue",type:"text",value:c.invoiceValue||"",readOnly:!0,placeholder:"Auto-calculated",className:"wp-form-input",style:{backgroundColor:"#f1f5f9",fontWeight:"600"}})]})]})]}),e.jsxs("div",{className:"wp-form-row",children:[e.jsxs("div",{className:"wp-form-group",children:[e.jsx("label",{htmlFor:"totalPaidAmount",children:"Total Paid Amount"}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),e.jsx("input",{id:"totalPaidAmount",type:"text",value:c.totalPaidAmount||"0",onChange:h=>l("totalPaidAmount",h.target.value),placeholder:"Enter paid amount",className:"wp-form-input"})]})]}),e.jsxs("div",{className:"wp-form-group",children:[e.jsx("label",{htmlFor:"balanceAmount",children:"Balance Amount"}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),e.jsx("input",{id:"balanceAmount",type:"text",value:c.balanceAmount||"",readOnly:!0,placeholder:"Auto-calculated",className:"wp-form-input",style:{backgroundColor:"#f1f5f9",fontWeight:"600"}})]})]})]})]})]}),e.jsxs("div",{className:"wp-modal-footer",children:[e.jsx("button",{type:"button",className:"wp-btn wp-btn--cancel",onClick:a,children:"Cancel"}),e.jsx("button",{type:"submit",className:"wp-btn wp-btn--save",children:"Save"})]})]})]})})},wne=({invoice:r,hcfs:t,onClose:n,onPrint:a})=>{const s=t.find(o=>o.hcfCode===r.hcfCode),i=()=>{alert("Add Receipt functionality will be implemented")},c=()=>{alert("View Receipts functionality will be implemented")};return e.jsx("div",{className:"modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content modal-content--view",onClick:o=>o.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h2",{className:"modal-title",children:["Invoice Details - ",r.invoiceNum]}),e.jsx("button",{className:"modal-close-btn",onClick:n,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("div",{className:"invoice-view-content",children:[e.jsxs("div",{className:"invoice-view-section",children:[e.jsx("h3",{className:"invoice-view-section-title",children:"Basic Information"}),e.jsxs("div",{className:"invoice-view-grid",children:[e.jsxs("div",{className:"invoice-view-field",children:[e.jsx("label",{children:"Company Name:"}),e.jsx("span",{children:r.companyName||"-"})]}),e.jsxs("div",{className:"invoice-view-field",children:[e.jsx("label",{children:"HCF Code:"}),e.jsx("span",{children:s?`${r.hcfCode} - ${s.hcfName}`:r.hcfCode})]}),e.jsxs("div",{className:"invoice-view-field",children:[e.jsx("label",{children:"Invoice Number:"}),e.jsx("span",{children:r.invoiceNum||"-"})]}),e.jsxs("div",{className:"invoice-view-field",children:[e.jsx("label",{children:"Invoice Date:"}),e.jsx("span",{children:r.invoiceDate||"-"})]}),e.jsxs("div",{className:"invoice-view-field",children:[e.jsx("label",{children:"Due Date:"}),e.jsx("span",{children:r.dueDate||"-"})]}),e.jsxs("div",{className:"invoice-view-field",children:[e.jsx("label",{children:"Status:"}),e.jsx("span",{className:`invoice-status-badge invoice-status-badge--${r.invoiceStatus.toLowerCase().replace(" ","-")}`,children:r.invoiceStatus})]})]})]}),e.jsxs("div",{className:"invoice-view-section",children:[e.jsx("h3",{className:"invoice-view-section-title",children:"Billing Information"}),e.jsxs("div",{className:"invoice-view-grid",children:[e.jsxs("div",{className:"invoice-view-field",children:[e.jsx("label",{children:"Billing Type:"}),e.jsx("span",{children:r.billingType||"-"})]}),e.jsxs("div",{className:"invoice-view-field",children:[e.jsx("label",{children:"Billing Days:"}),e.jsx("span",{children:r.billingDays||"-"})]}),e.jsxs("div",{className:"invoice-view-field",children:[e.jsx("label",{children:"Bed Count:"}),e.jsx("span",{children:r.bedCount||"-"})]}),e.jsxs("div",{className:"invoice-view-field",children:[e.jsx("label",{children:"Bed Rate:"}),e.jsxs("span",{children:["",r.bedRate||"-"]})]}),e.jsxs("div",{className:"invoice-view-field",children:[e.jsx("label",{children:"Weight in Kg:"}),e.jsxs("span",{children:[r.weightInKg||"-"," kg"]})]}),e.jsxs("div",{className:"invoice-view-field",children:[e.jsx("label",{children:"Kg Rate:"}),e.jsxs("span",{children:["",r.kgRate||"-"]})]}),e.jsxs("div",{className:"invoice-view-field",children:[e.jsx("label",{children:"Lumpsum Amount:"}),e.jsxs("span",{children:["",r.lumpsumAmount||"-"]})]})]})]}),e.jsxs("div",{className:"invoice-view-section",children:[e.jsx("h3",{className:"invoice-view-section-title",children:"Tax & Amount Details"}),e.jsxs("div",{className:"invoice-view-grid",children:[e.jsxs("div",{className:"invoice-view-field",children:[e.jsx("label",{children:"Taxable Value:"}),e.jsxs("span",{children:["",r.taxableValue||"0"]})]}),e.jsxs("div",{className:"invoice-view-field",children:[e.jsx("label",{children:"IGST:"}),e.jsxs("span",{children:["",r.igst||"0"]})]}),e.jsxs("div",{className:"invoice-view-field",children:[e.jsx("label",{children:"CGST:"}),e.jsxs("span",{children:["",r.cgst||"0"]})]}),e.jsxs("div",{className:"invoice-view-field",children:[e.jsx("label",{children:"SGST:"}),e.jsxs("span",{children:["",r.sgst||"0"]})]}),e.jsxs("div",{className:"invoice-view-field",children:[e.jsx("label",{children:"Round Off:"}),e.jsxs("span",{children:["",r.roundOff||"0"]})]}),e.jsxs("div",{className:"invoice-view-field invoice-view-field--highlight",children:[e.jsx("label",{children:"Invoice Value:"}),e.jsxs("span",{children:["",r.invoiceValue||"0"]})]}),e.jsxs("div",{className:"invoice-view-field",children:[e.jsx("label",{children:"Total Paid Amount:"}),e.jsxs("span",{children:["",r.totalPaidAmount||"0"]})]}),e.jsxs("div",{className:"invoice-view-field invoice-view-field--highlight",children:[e.jsx("label",{children:"Balance Amount:"}),e.jsxs("span",{children:["",r.balanceAmount||"0"]})]})]})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Back"}),(r.invoiceStatus==="Generated"||r.invoiceStatus==="Partially Paid"||r.invoiceStatus==="Paid")&&e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",className:"btn btn--info",onClick:c,children:"View Receipts"}),e.jsx("button",{type:"button",className:"btn btn--success",onClick:i,children:"Add Receipt"})]}),e.jsx("button",{type:"button",className:"btn btn--primary",onClick:()=>a(r),children:"Print / Download PDF"})]})]})})},Z8=({companies:r,onClose:t,onGenerate:n,loading:a,generationMode:s})=>{const i=new Date,c=i.getMonth()+1,o=i.getFullYear();let d=c-1,l=o;d===0&&(d=12,l=o-1);const[u,h]=C.useState({companyId:"",month:d,year:l,invoiceDate:new Date().toISOString().split("T")[0],generationMode:s,dueDays:30}),f=["January","February","March","April","May","June","July","August","September","October","November","December"],A=g=>{g.preventDefault(),n(u)};return e.jsx("div",{className:"wp-modal-overlay",onClick:t,children:e.jsxs("div",{className:"wp-modal-content",onClick:g=>g.stopPropagation(),children:[e.jsxs("div",{className:"wp-modal-header",children:[e.jsxs("div",{className:"wp-modal-header-left",children:[e.jsx("div",{className:"wp-modal-icon wp-modal-icon--add",children:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),e.jsxs("h2",{className:"wp-modal-title",children:["Auto Generate Invoices (",s,")"]})]}),e.jsx("button",{className:"wp-modal-close",onClick:t,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{onSubmit:A,children:[e.jsxs("div",{className:"wp-modal-body",children:[e.jsxs("div",{className:"wp-form-group",children:[e.jsxs("label",{htmlFor:"companyId",children:["Company ",e.jsx("span",{className:"wp-required",children:"*"})]}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),e.jsxs("select",{id:"companyId",required:!0,value:u.companyId,onChange:g=>h({...u,companyId:g.target.value}),className:"wp-form-select",children:[e.jsx("option",{value:"",children:"Select Company"}),r.map(g=>e.jsx("option",{value:g.id,children:g.companyName},g.id))]}),e.jsx("svg",{className:"wp-select-arrow-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),e.jsx("small",{style:{display:"block",marginTop:"3px",color:"#64748b",fontSize:"11px"},children:"Note: Only HCFs with AutoGeneration enabled will be included"})]}),e.jsxs("div",{className:"wp-form-row",children:[e.jsxs("div",{className:"wp-form-group",children:[e.jsxs("label",{htmlFor:"month",children:["Month ",e.jsx("span",{className:"wp-required",children:"*"})]}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),e.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),e.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),e.jsx("select",{id:"month",required:!0,value:u.month,onChange:g=>h({...u,month:parseInt(g.target.value)}),className:"wp-form-select",children:f.map((g,m)=>e.jsxs("option",{value:m+1,disabled:m+1!==d,children:[g," ",m+1===d?"(Previous Month)":""]},m+1))}),e.jsx("svg",{className:"wp-select-arrow-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),e.jsxs("small",{style:{display:"block",marginTop:"3px",color:"#64748b",fontSize:"11px"},children:["Only previous month (",f[d-1]," ",l,") can be selected"]})]}),e.jsxs("div",{className:"wp-form-group",children:[e.jsxs("label",{htmlFor:"year",children:["Year ",e.jsx("span",{className:"wp-required",children:"*"})]}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]}),e.jsx("input",{id:"year",type:"number",required:!0,min:"2000",max:"2100",value:u.year,onChange:g=>h({...u,year:parseInt(g.target.value)}),disabled:!0,className:"wp-form-input"})]}),e.jsx("small",{style:{display:"block",marginTop:"3px",color:"#64748b",fontSize:"11px"},children:"Year is automatically set to previous month's year"})]})]}),e.jsxs("div",{className:"wp-form-row",children:[e.jsxs("div",{className:"wp-form-group",children:[e.jsxs("label",{htmlFor:"invoiceDate",children:["Invoice Date ",e.jsx("span",{className:"wp-required",children:"*"})]}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),e.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),e.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),e.jsx("input",{id:"invoiceDate",type:"date",required:!0,value:u.invoiceDate,onChange:g=>h({...u,invoiceDate:g.target.value}),className:"wp-form-input"})]}),e.jsx("small",{style:{display:"block",marginTop:"3px",color:"#64748b",fontSize:"11px"},children:"Enter the invoice date"})]}),e.jsxs("div",{className:"wp-form-group",children:[e.jsx("label",{htmlFor:"dueDays",children:"Due Days (from invoice date)"}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]}),e.jsx("input",{id:"dueDays",type:"number",min:"1",value:u.dueDays||30,onChange:g=>h({...u,dueDays:parseInt(g.target.value)||30}),className:"wp-form-input"})]})]})]})]}),e.jsxs("div",{className:"wp-modal-footer",children:[e.jsx("button",{type:"button",className:"wp-btn wp-btn--cancel",onClick:t,disabled:a,children:"Cancel"}),e.jsx("button",{type:"submit",className:"wp-btn wp-btn--save",disabled:a,children:a?"Generating...":`Generate Invoices (${s})`})]})]})]})})},Cne=({skipped:r,onClose:t})=>e.jsx("div",{className:"modal-overlay",onClick:t,children:e.jsxs("div",{className:"modal-content",onClick:n=>n.stopPropagation(),style:{maxWidth:"600px"},children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:"Duplicate Invoices Found"}),e.jsx("button",{className:"modal-close-btn",onClick:t,children:""})]}),e.jsxs("div",{style:{padding:"20px"},children:[e.jsx("p",{style:{marginBottom:"16px",color:"#666"},children:"The following HCFs already have invoices for the selected period. These were skipped during generation:"}),e.jsx("div",{style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{background:"#f5f5f5"},children:[e.jsx("th",{style:{padding:"8px",textAlign:"left",borderBottom:"1px solid #ddd"},children:"HCF Code"}),e.jsx("th",{style:{padding:"8px",textAlign:"left",borderBottom:"1px solid #ddd"},children:"Reason"})]})}),e.jsx("tbody",{children:r.map((n,a)=>e.jsxs("tr",{children:[e.jsx("td",{style:{padding:"8px",borderBottom:"1px solid #ddd"},children:n.hcfCode}),e.jsx("td",{style:{padding:"8px",borderBottom:"1px solid #ddd"},children:n.reason})]},a))})]})})]}),e.jsx("div",{className:"modal-footer",children:e.jsx("button",{type:"button",className:"btn btn--primary",onClick:t,children:"OK"})})]})}),Nne=({invoices:r,companies:t,onClose:n,onProcessPayment:a,loading:s})=>{const i=()=>{if(r.length===0)return"";const m=r[0],x=t.find(y=>y.companyName===m.companyName);return(x==null?void 0:x.id)||""},[c,o]=C.useState({companyId:i(),paymentDate:new Date().toISOString().split("T")[0],paymentAmount:0,paymentMode:ss.CASH,referenceNumber:null,bankName:null,chequeNumber:null,chequeDate:null,notes:null,invoiceAllocations:[]}),[d,l]=C.useState("FIFO"),[u,h]=C.useState({}),f=r.reduce((m,x)=>m+parseFloat(x.balanceAmount||"0"),0);C.useEffect(()=>{o(m=>({...m,paymentAmount:d==="FIFO"?f:Object.values(u).reduce((x,y)=>x+y,0)}))},[d,u,f]);const A=m=>{if(m.preventDefault(),c.paymentAmount<=0){alert("Payment amount must be greater than zero");return}const x={...c,invoiceAllocations:d==="FIFO"?[]:r.map(y=>({invoiceId:y.id,allocatedAmount:u[y.id]||0})).filter(y=>y.allocatedAmount>0)};a(x)},g=(m,x)=>{const y=r.find(S=>S.id===m),j=parseFloat((y==null?void 0:y.balanceAmount)||"0"),b=Math.min(Math.max(0,x),j);h(S=>({...S,[m]:b}))};return e.jsx("div",{className:"modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content",onClick:m=>m.stopPropagation(),style:{maxWidth:"800px",maxHeight:"90vh",overflowY:"auto"},children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:"Make Payment"}),e.jsx("button",{className:"modal-close-btn",onClick:n,children:""})]}),e.jsxs("form",{onSubmit:A,children:[e.jsxs("div",{style:{marginBottom:"20px",padding:"15px",background:"#f1f5f9",borderRadius:"8px"},children:[e.jsxs("h3",{style:{margin:"0 0 10px 0",fontSize:"14px",fontWeight:600},children:["Selected Invoices (",r.length,")"]}),e.jsx("div",{style:{maxHeight:"150px",overflowY:"auto"},children:e.jsxs("table",{style:{width:"100%",fontSize:"12px"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{borderBottom:"1px solid #e2e8f0"},children:[e.jsx("th",{style:{padding:"8px",textAlign:"left"},children:"Invoice #"}),e.jsx("th",{style:{padding:"8px",textAlign:"right"},children:"Invoice Value"}),e.jsx("th",{style:{padding:"8px",textAlign:"right"},children:"Paid"}),e.jsx("th",{style:{padding:"8px",textAlign:"right"},children:"Balance"})]})}),e.jsx("tbody",{children:r.map(m=>e.jsxs("tr",{children:[e.jsx("td",{style:{padding:"8px"},children:m.invoiceNum}),e.jsxs("td",{style:{padding:"8px",textAlign:"right"},children:["",parseFloat(m.invoiceValue||"0").toFixed(2)]}),e.jsxs("td",{style:{padding:"8px",textAlign:"right"},children:["",parseFloat(m.totalPaidAmount||"0").toFixed(2)]}),e.jsxs("td",{style:{padding:"8px",textAlign:"right",fontWeight:600},children:["",parseFloat(m.balanceAmount||"0").toFixed(2)]})]},m.id))}),e.jsx("tfoot",{children:e.jsxs("tr",{style:{borderTop:"2px solid #cbd5e1",fontWeight:600},children:[e.jsx("td",{style:{padding:"8px"},children:"Total Payable:"}),e.jsxs("td",{colSpan:3,style:{padding:"8px",textAlign:"right"},children:["",f.toFixed(2)]})]})})]})})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Payment Details"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company *"}),e.jsxs("select",{required:!0,value:c.companyId,onChange:m=>o({...c,companyId:m.target.value}),children:[e.jsx("option",{value:"",children:"Select Company"}),t.map(m=>e.jsx("option",{value:m.id,children:m.companyName},m.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Payment Date *"}),e.jsx("input",{type:"date",required:!0,value:c.paymentDate,onChange:m=>o({...c,paymentDate:m.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Payment Mode *"}),e.jsxs("select",{required:!0,value:c.paymentMode,onChange:m=>o({...c,paymentMode:m.target.value}),children:[e.jsx("option",{value:ss.CASH,children:"Cash"}),e.jsx("option",{value:ss.CHEQUE,children:"Cheque"}),e.jsx("option",{value:ss.BANK_TRANSFER,children:"Bank Transfer"}),e.jsx("option",{value:ss.UPI,children:"UPI"}),e.jsx("option",{value:ss.NEFT,children:"NEFT"}),e.jsx("option",{value:ss.RTGS,children:"RTGS"}),e.jsx("option",{value:ss.OTHER,children:"Other"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Payment Amount *"}),e.jsx("input",{type:"number",required:!0,min:"0.01",step:"0.01",value:c.paymentAmount,onChange:m=>o({...c,paymentAmount:parseFloat(m.target.value)||0}),disabled:d==="FIFO"}),d==="FIFO"&&e.jsx("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:"Auto-calculated from selected invoices (FIFO allocation)"})]}),(c.paymentMode===ss.CHEQUE||c.paymentMode===ss.BANK_TRANSFER||c.paymentMode===ss.NEFT||c.paymentMode===ss.RTGS)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Reference Number"}),e.jsx("input",{type:"text",value:c.referenceNumber||"",onChange:m=>o({...c,referenceNumber:m.target.value||null}),placeholder:"Transaction/Reference number"})]}),c.paymentMode===ss.CHEQUE&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Bank Name"}),e.jsx("input",{type:"text",value:c.bankName||"",onChange:m=>o({...c,bankName:m.target.value||null}),placeholder:"Bank name"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Cheque Number"}),e.jsx("input",{type:"text",value:c.chequeNumber||"",onChange:m=>o({...c,chequeNumber:m.target.value||null}),placeholder:"Cheque number"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Cheque Date"}),e.jsx("input",{type:"date",value:c.chequeDate||"",onChange:m=>o({...c,chequeDate:m.target.value||null})})]})]})]}),e.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[e.jsx("label",{children:"Notes"}),e.jsx("textarea",{value:c.notes||"",onChange:m=>o({...c,notes:m.target.value||null}),placeholder:"Payment notes (optional)",rows:3})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Allocation Mode"}),e.jsx("div",{style:{marginBottom:"15px"},children:e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",cursor:"pointer"},children:[e.jsx("input",{type:"radio",name:"allocationMode",value:"FIFO",checked:d==="FIFO",onChange:m=>l(m.target.value)}),e.jsx("span",{children:"FIFO (First In, First Out) - Automatically allocate to oldest invoices first"})]})}),e.jsx("div",{children:e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",cursor:"pointer"},children:[e.jsx("input",{type:"radio",name:"allocationMode",value:"Manual",checked:d==="Manual",onChange:m=>l(m.target.value)}),e.jsx("span",{children:"Manual - Specify allocation amounts for each invoice"})]})}),d==="Manual"&&e.jsxs("div",{style:{marginTop:"15px",padding:"15px",background:"#f8fafc",borderRadius:"8px"},children:[e.jsx("h4",{style:{margin:"0 0 10px 0",fontSize:"13px",fontWeight:600},children:"Manual Allocation"}),e.jsx("div",{style:{maxHeight:"200px",overflowY:"auto"},children:r.map(m=>{const x=parseFloat(m.balanceAmount||"0"),y=u[m.id]||0;return e.jsxs("div",{style:{marginBottom:"10px",padding:"10px",background:"#ffffff",borderRadius:"6px",border:"1px solid #e2e8f0"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"5px"},children:[e.jsx("span",{style:{fontSize:"12px",fontWeight:600},children:m.invoiceNum}),e.jsxs("span",{style:{fontSize:"12px",color:"#64748b"},children:["Balance: ",x.toFixed(2)]})]}),e.jsx("input",{type:"number",min:"0",max:x,step:"0.01",value:y,onChange:j=>g(m.id,parseFloat(j.target.value)||0),placeholder:"0.00",style:{width:"100%",padding:"6px",border:"1px solid #cbd5e1",borderRadius:"4px"}})]},m.id)})}),e.jsxs("div",{style:{marginTop:"10px",padding:"10px",background:"#dbeafe",borderRadius:"6px",fontSize:"12px"},children:[e.jsx("strong",{children:"Total Allocated:"})," ",Object.values(u).reduce((m,x)=>m+x,0).toFixed(2)]})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",onClick:n,disabled:s,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn--primary",disabled:s,children:s?"Processing...":"Process Payment"})]})]})]})})},Sne=({invoice:r,onClose:t,onSubmit:n,loading:a})=>{const[s,i]=C.useState({invoiceId:r.id,paymentDate:new Date().toISOString().split("T")[0],paymentAmount:parseFloat(r.balanceAmount||"0"),paymentMode:ss.CASH,referenceNumber:null,bankName:null,chequeNumber:null,chequeDate:null,notes:null}),c=async o=>{o.preventDefault();const d=parseFloat(r.balanceAmount||"0");if(s.paymentAmount>d){alert(`Payment amount cannot exceed invoice balance of ${d.toFixed(2)}`);return}if(s.paymentAmount<=0){alert("Payment amount must be greater than zero");return}await n(s)};return e.jsx("div",{className:"modal-overlay",onClick:t,children:e.jsxs("div",{className:"modal-content",onClick:o=>o.stopPropagation(),style:{maxWidth:"600px"},children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:"Record Payment"}),e.jsx("button",{className:"modal-close-btn",onClick:t,children:""})]}),e.jsxs("form",{onSubmit:c,children:[e.jsxs("div",{style:{marginBottom:"20px",padding:"15px",background:"#f1f5f9",borderRadius:"8px"},children:[e.jsx("h3",{style:{margin:"0 0 10px 0",fontSize:"14px",fontWeight:600},children:"Invoice Details"}),e.jsxs("div",{style:{fontSize:"12px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[e.jsx("span",{children:"Invoice #:"}),e.jsx("span",{style:{fontWeight:600},children:r.invoiceNum})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[e.jsx("span",{children:"Invoice Value:"}),e.jsxs("span",{children:["",parseFloat(r.invoiceValue||"0").toFixed(2)]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[e.jsx("span",{children:"Paid Amount:"}),e.jsxs("span",{children:["",parseFloat(r.totalPaidAmount||"0").toFixed(2)]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",borderTop:"1px solid #cbd5e1",paddingTop:"5px",marginTop:"5px"},children:[e.jsx("span",{style:{fontWeight:600},children:"Balance Amount:"}),e.jsxs("span",{style:{fontWeight:600,color:"#dc2626"},children:["",parseFloat(r.balanceAmount||"0").toFixed(2)]})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Payment Details"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Payment Date *"}),e.jsx("input",{type:"date",required:!0,value:s.paymentDate,onChange:o=>i({...s,paymentDate:o.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Payment Mode *"}),e.jsxs("select",{required:!0,value:s.paymentMode,onChange:o=>i({...s,paymentMode:o.target.value}),children:[e.jsx("option",{value:ss.CASH,children:"Cash"}),e.jsx("option",{value:ss.CHEQUE,children:"Cheque"}),e.jsx("option",{value:ss.NEFT,children:"NEFT"}),e.jsx("option",{value:ss.RTGS,children:"RTGS"}),e.jsx("option",{value:ss.BANK_TRANSFER,children:"Bank Transfer"}),e.jsx("option",{value:ss.UPI,children:"UPI"}),e.jsx("option",{value:ss.OTHER,children:"Other"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Payment Amount *"}),e.jsx("input",{type:"number",required:!0,min:"0.01",step:"0.01",max:parseFloat(r.balanceAmount||"0"),value:s.paymentAmount,onChange:o=>i({...s,paymentAmount:parseFloat(o.target.value)||0})}),e.jsxs("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:["Maximum: ",parseFloat(r.balanceAmount||"0").toFixed(2)]})]}),(s.paymentMode===ss.CHEQUE||s.paymentMode===ss.BANK_TRANSFER||s.paymentMode===ss.NEFT||s.paymentMode===ss.RTGS)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Reference Number"}),e.jsx("input",{type:"text",value:s.referenceNumber||"",onChange:o=>i({...s,referenceNumber:o.target.value||null}),placeholder:"Transaction/Reference number"})]}),s.paymentMode===ss.CHEQUE&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Bank Name"}),e.jsx("input",{type:"text",value:s.bankName||"",onChange:o=>i({...s,bankName:o.target.value||null}),placeholder:"Bank name"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Cheque Number"}),e.jsx("input",{type:"text",value:s.chequeNumber||"",onChange:o=>i({...s,chequeNumber:o.target.value||null}),placeholder:"Cheque number"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Cheque Date"}),e.jsx("input",{type:"date",value:s.chequeDate||"",onChange:o=>i({...s,chequeDate:o.target.value||null})})]})]})]}),e.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[e.jsx("label",{children:"Notes"}),e.jsx("textarea",{value:s.notes||"",onChange:o=>i({...s,notes:o.target.value||null}),placeholder:"Payment notes (optional)",rows:3})]})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:t,disabled:a,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a,children:a?"Recording...":"Record Payment"})]})]})]})})},Ene=({receiptData:r,onClose:t})=>e.jsx("div",{className:"modal-overlay",onClick:t,children:e.jsxs("div",{className:"modal-content",onClick:n=>n.stopPropagation(),style:{maxWidth:"700px"},children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:"Payment Receipt"}),e.jsx("button",{className:"modal-close-btn",onClick:t,children:""})]}),e.jsxs("div",{style:{padding:"20px"},children:[e.jsxs("div",{style:{textAlign:"center",marginBottom:"30px",padding:"20px",background:"#f1f5f9",borderRadius:"8px"},children:[e.jsx("h3",{style:{margin:"0 0 10px 0",color:"#1e293b"},children:"Payment Receipt"}),e.jsxs("p",{style:{margin:"0",fontSize:"18px",fontWeight:600,color:"#059669"},children:["Receipt #: ",r.receiptNumber]})]}),e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 0",borderBottom:"1px solid #e2e8f0"},children:[e.jsx("span",{style:{fontWeight:600},children:"Receipt Date:"}),e.jsx("span",{children:r.receiptDate})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 0",borderBottom:"1px solid #e2e8f0"},children:[e.jsx("span",{style:{fontWeight:600},children:"Total Amount:"}),e.jsxs("span",{style:{fontSize:"18px",fontWeight:700,color:"#059669"},children:["",r.totalAmount.toFixed(2)]})]}),r.payment&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 0",borderBottom:"1px solid #e2e8f0"},children:[e.jsx("span",{style:{fontWeight:600},children:"Payment Mode:"}),e.jsx("span",{children:r.payment.paymentMode})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 0",borderBottom:"1px solid #e2e8f0"},children:[e.jsx("span",{style:{fontWeight:600},children:"Payment Date:"}),e.jsx("span",{children:r.payment.paymentDate})]})]})]}),r.invoices&&r.invoices.length>0&&e.jsxs("div",{style:{marginTop:"20px"},children:[e.jsx("h4",{style:{margin:"0 0 10px 0",fontSize:"14px",fontWeight:600},children:"Invoices Paid:"}),e.jsxs("table",{style:{width:"100%",fontSize:"12px",borderCollapse:"collapse"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{background:"#f1f5f9",borderBottom:"2px solid #cbd5e1"},children:[e.jsx("th",{style:{padding:"8px",textAlign:"left"},children:"Invoice #"}),e.jsx("th",{style:{padding:"8px",textAlign:"right"},children:"Amount"})]})}),e.jsx("tbody",{children:r.invoices.map((n,a)=>e.jsxs("tr",{style:{borderBottom:"1px solid #e2e8f0"},children:[e.jsx("td",{style:{padding:"8px"},children:n.invoiceNumber}),e.jsxs("td",{style:{padding:"8px",textAlign:"right"},children:["",n.allocatedAmount.toFixed(2)]})]},a))})]})]}),e.jsx("div",{style:{marginTop:"30px",padding:"15px",background:"#dbeafe",borderRadius:"8px",textAlign:"center"},children:e.jsxs("p",{style:{margin:"0",fontSize:"14px",color:"#1e40af"},children:["Payment processed successfully! Receipt number: ",e.jsx("strong",{children:r.receiptNumber})]})})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--primary",onClick:t,children:"Close"}),e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:()=>window.print(),style:{marginLeft:"10px"},children:"Print Receipt"})]})]})}),Bne=({statusFilter:r,advancedFilters:t,companies:n,hcfs:a,onClose:s,onClear:i,onApply:c})=>{const[o,d]=C.useState(r),[l,u]=C.useState(t);return e.jsx("div",{className:"modal-overlay ra-filter-modal-overlay",onClick:s,children:e.jsxs("div",{className:"modal-content ra-filter-modal",onClick:h=>h.stopPropagation(),children:[e.jsxs("div",{className:"ra-filter-modal-header",children:[e.jsxs("div",{className:"ra-filter-modal-titlewrap",children:[e.jsx("div",{className:"ra-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M22 3H2l8 9v7l4 2v-9l8-9z"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"ra-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"ra-filter-subtitle",children:"Filter invoices by multiple criteria"})]})]}),e.jsx("button",{className:"ra-filter-close",onClick:s,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"ra-filter-modal-body",children:e.jsxs("div",{className:"ra-filter-grid",children:[e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Invoice Number"}),e.jsx("input",{type:"text",value:l.invoiceNum,onChange:h=>u({...l,invoiceNum:h.target.value}),className:"ra-filter-input",placeholder:"Enter invoice number"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Company Name"}),e.jsxs("select",{value:l.companyName,onChange:h=>u({...l,companyName:h.target.value}),className:"ra-filter-select",children:[e.jsx("option",{value:"",children:"All Companies"}),n.map(h=>e.jsx("option",{value:h.companyName,children:h.companyName},h.id))]})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"HCF Code"}),e.jsxs("select",{value:l.hcfCode,onChange:h=>u({...l,hcfCode:h.target.value}),className:"ra-filter-select",children:[e.jsx("option",{value:"",children:"All HCFs"}),a.map(h=>e.jsxs("option",{value:h.hcfCode,children:[h.hcfCode," - ",h.hcfName]},h.id))]})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Invoice Date"}),e.jsx("input",{type:"date",value:l.invoiceDate,onChange:h=>u({...l,invoiceDate:h.target.value}),className:"ra-filter-input"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Due Date"}),e.jsx("input",{type:"date",value:l.dueDate,onChange:h=>u({...l,dueDate:h.target.value}),className:"ra-filter-input"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:o,onChange:h=>d(h.target.value),className:"ra-filter-select",children:[e.jsx("option",{value:"All",children:"All Status"}),e.jsx("option",{value:"Draft",children:"Draft"}),e.jsx("option",{value:"Generated",children:"DUE"}),e.jsx("option",{value:"Partially Paid",children:"Partially Paid"}),e.jsx("option",{value:"Paid",children:"Paid"}),e.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]})]})}),e.jsxs("div",{className:"ra-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"ra-link-btn",onClick:()=>{d("All"),u({invoiceNum:"",companyName:"",hcfCode:"",invoiceDate:"",dueDate:"",status:""}),i()},children:"Clear Filters"}),e.jsx("button",{type:"button",className:"ra-btn ra-btn--primary ra-btn--sm",onClick:()=>c({statusFilter:o,advancedFilters:l}),children:"Apply Filters"})]})]})})},Ine=()=>{var le;const{logout:r}=Yn(),t=qa(),[n]=g4(),a=n.get("invoices")||"",s=a.split(",").filter(V=>V),[i,c]=C.useState([]),[o,d]=C.useState([]),[l,u]=C.useState(!1),[h,f]=C.useState(null),[A,g]=C.useState(null),[m,x]=C.useState({companyId:"",paymentDate:new Date().toISOString().split("T")[0],paymentAmount:0,paymentMode:ss.CASH,referenceNumber:null,bankName:null,chequeNumber:null,chequeDate:null,notes:null,invoiceAllocations:[]}),[y,j]=C.useState(!1),[b,S]=C.useState(!1),w=C.useRef(0),E=C.useRef(null);C.useEffect(()=>{I()},[a]);const I=async()=>{var V,me;if(s.length===0){f("No invoices selected");return}u(!0),f(null);try{const $=await ha.getAllCompanies();d($.filter(ie=>ie.status==="Active"));const we=(await ZP()).filter(ie=>s.includes(ie.invoiceId));if(we.length===0){f("Selected invoices not found");return}const R=we.map(ie=>({id:ie.invoiceId,invoiceId:ie.invoiceId,companyId:ie.companyId,companyName:ie.companyName,hcfId:ie.hcfId,hcfCode:ie.hcfCode,invoiceNum:ie.invoiceNumber,invoiceDate:ie.invoiceDate,dueDate:ie.dueDate,invoiceValue:ie.invoiceValue,totalPaidAmount:ie.totalPaidAmount,balanceAmount:ie.balanceAmount,invoiceStatus:ie.status}));c(R),R.length>0&&R[0].companyId&&x(ie=>({...ie,companyId:R[0].companyId}));const q=R.reduce((ie,Z)=>ie+parseFloat(Z.balanceAmount||"0"),0);w.current=q,x(ie=>({...ie,paymentAmount:q}))}catch($){console.error("Error loading data:",$);let ee="Failed to load invoice data";$.message?ee=$.message:(me=(V=$.response)==null?void 0:V.data)!=null&&me.message?ee=$.response.data.message:typeof $=="string"&&(ee=$),(ee.includes("Internal server error")||ee.includes("500"))&&(ee="Internal server error. Please check the backend logs or try again later."),f(ee)}finally{u(!1)}},L=i.reduce((V,me)=>V+parseFloat(me.balanceAmount||"0"),0),J=async V=>{var $;V.preventDefault();let me=0;if(E.current){const ee=E.current.value;me=ee?parseFloat(ee):0}if((!me||me<=0)&&(me=w.current>0?w.current:m.paymentAmount),me=Number(me),console.log("=== Form Submit Debug ==="),console.log("Input Field Value:",($=E.current)==null?void 0:$.value),console.log("Payment Amount Ref:",w.current),console.log("Form Data Payment Amount:",m.paymentAmount),console.log("Current Amount:",me),me>L){f(`Payment amount (${me.toFixed(2)}) cannot exceed total payable (${L.toFixed(2)})`);return}if(me<=0||isNaN(me)){f("Payment amount must be greater than zero"),me=L,w.current=L,x(ee=>({...ee,paymentAmount:L})),E.current&&(E.current.value=L.toString());return}w.current=me,x(ee=>({...ee,paymentAmount:me})),E.current&&(E.current.value=me.toString()),j(!0)},ae=async()=>{var V,me,$;j(!1),S(!0),u(!0),f(null),g(null);try{let ee=0;if(E.current){const Z=E.current.value;ee=Z?parseFloat(Z):0,console.log("Reading from input field:",Z,"->",ee)}if((!ee||ee<=0)&&(ee=w.current>0?w.current:m.paymentAmount,console.log("Using fallback - Ref:",w.current,"FormData:",m.paymentAmount)),ee=Number(ee),console.log("=== Payment Processing Debug ==="),console.log("Input Field Value:",(V=E.current)==null?void 0:V.value),console.log("Payment Amount Ref:",w.current),console.log("Form Data Payment Amount:",m.paymentAmount),console.log("Final Payment Amount:",ee),console.log("Total Payable:",L),!ee||ee<=0||isNaN(ee)){f(`Invalid payment amount: ${ee}. Please enter a valid amount greater than zero.`),S(!1),u(!1);return}if(ee>L){f(`Payment amount (${ee.toFixed(2)}) cannot exceed total payable (${L.toFixed(2)})`),S(!1),u(!1);return}const we=i.map(Z=>({invoiceId:Z.id,allocatedAmount:0})),R={companyId:m.companyId||"",paymentDate:m.paymentDate||new Date().toISOString().split("T")[0],paymentAmount:ee,paymentMode:m.paymentMode||ss.CASH,referenceNumber:m.referenceNumber||null,bankName:m.bankName||null,chequeNumber:m.chequeNumber||null,chequeDate:m.chequeDate||null,notes:m.notes||null,invoiceAllocations:we},q=Number(R.paymentAmount);if(!q||q<=0||isNaN(q)){console.error("=== PAYMENT AMOUNT VALIDATION FAILED ==="),console.error("Payment Request:",R),console.error("Payment Amount:",R.paymentAmount),console.error("Final Payment Amount:",q),f(`Invalid payment amount: ${R.paymentAmount}. Cannot proceed. Please check the amount and try again.`),S(!1),u(!1);return}R.paymentAmount=q,console.log("=== Final Payment Request ==="),console.log("Payment Request Object:",R),console.log("Payment Amount Type:",typeof R.paymentAmount),console.log("Payment Amount Value:",R.paymentAmount),console.log("Payment Amount is Number?",!isNaN(R.paymentAmount)),console.log("JSON Stringified:",JSON.stringify(R,null,2)),console.log("JSON paymentAmount value:",JSON.stringify(R).match(/"paymentAmount":\s*([^,}]+)/));const ie=await eD(R);t("/finance/payment-success",{state:{receiptNumber:ie.receipt.receiptNumber,receiptId:ie.receipt.receiptId,totalAmount:ie.receipt.totalAmount,receiptDate:ie.receipt.receiptDate,invoiceUpdates:ie.invoiceUpdates}})}catch(ee){console.error("Error processing payment:",ee);let we="Failed to process payment";ee.message?we=ee.message:($=(me=ee.response)==null?void 0:me.data)!=null&&$.message?we=ee.response.data.message:typeof ee=="string"&&(we=ee),(we.includes("Internal server error")||we.includes("500"))&&(we="Internal server error. Please check the backend logs or try again later."),f(we),S(!1)}finally{u(!1)}},G=()=>{t("/finance/invoice-management")};return s.length===0?e.jsxs("div",{style:{padding:"40px",textAlign:"center"},children:[e.jsx("h2",{children:"No invoices selected"}),e.jsx("p",{children:"Please select invoices from the Invoice Management page."}),e.jsx("button",{onClick:G,style:{marginTop:"20px",padding:"10px 20px"},children:"Back to Invoice Management"})]}):e.jsx("div",{className:"payment-page",style:{minHeight:"100vh",background:"#F8FAFC",padding:"24px",display:"flex",justifyContent:"center"},children:e.jsxs("div",{style:{maxWidth:"950px",width:"100%",margin:"0 auto"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"32px"},children:[e.jsxs("button",{onClick:G,style:{padding:"8px 16px",background:"#FFFFFF",border:"1px solid #E2E8F0",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:500,color:"#475569",display:"flex",alignItems:"center",gap:"6px",transition:"all 0.2s ease"},onMouseEnter:V=>{V.currentTarget.style.background="#F1F5F9",V.currentTarget.style.borderColor="#CBD5E1"},onMouseLeave:V=>{V.currentTarget.style.background="#FFFFFF",V.currentTarget.style.borderColor="#E2E8F0"},children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"15 18 9 12 15 6"})}),"Back"]}),e.jsx("h1",{style:{margin:0,fontSize:"24px",fontWeight:600,color:"#1F2937"},children:"Process Payment"})]}),h&&e.jsxs("div",{className:"alert alert-error",style:{marginBottom:"24px",padding:"12px 16px",background:"#FEF2F2",border:"1px solid #FECACA",borderRadius:"8px",color:"#DC2626"},children:[h,e.jsx("button",{onClick:()=>f(null),style:{float:"right",background:"none",border:"none",cursor:"pointer",fontSize:"18px",color:"#DC2626",padding:"0",marginLeft:"12px"},children:""})]}),A&&e.jsx("div",{className:"alert alert-success",style:{marginBottom:"24px",padding:"12px 16px",background:"#F0FDF4",border:"1px solid #BBF7D0",borderRadius:"8px",color:"#059669"},children:A}),e.jsxs("form",{onSubmit:J,children:[e.jsxs("div",{style:{marginBottom:"32px",padding:"20px",background:"#F1F5F9",borderRadius:"8px",borderLeft:"4px solid #10b981"},children:[e.jsxs("h3",{style:{margin:"0 0 16px 0",fontSize:"16px",fontWeight:600,color:"#1F2937"},children:["Selected Invoices (",i.length,")"]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",marginBottom:"16px"},children:i.map(V=>e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",padding:"12px",background:"#FFFFFF",borderRadius:"6px",border:"1px solid #E2E8F0"},children:[e.jsx("div",{style:{fontSize:"14px",color:"#6B7280",fontWeight:500},children:"Invoice #"}),e.jsx("div",{style:{fontSize:"14px",color:"#1F2937",fontWeight:600,textAlign:"right"},children:V.invoiceNum}),e.jsx("div",{style:{fontSize:"14px",color:"#6B7280",fontWeight:500},children:"Balance"}),e.jsxs("div",{style:{fontSize:"14px",color:"#059669",fontWeight:700,textAlign:"right"},children:["",parseFloat(V.balanceAmount||"0").toFixed(2)]})]},V.id))}),e.jsxs("div",{style:{padding:"16px",background:"#FFFFFF",borderRadius:"6px",border:"2px solid #10b981",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{style:{fontSize:"16px",fontWeight:600,color:"#1F2937"},children:"Total Payable:"}),e.jsxs("span",{style:{fontSize:"24px",fontWeight:700,color:"#059669",letterSpacing:"-0.02em"},children:["",L.toFixed(2)]})]})]}),e.jsxs("div",{style:{marginBottom:"32px"},children:[e.jsx("h3",{style:{marginBottom:"20px",fontSize:"18px",fontWeight:600,color:"#1F2937"},children:"Payment Details"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"20px"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Company *"}),e.jsx("input",{type:"text",value:((le=o.find(V=>V.id===m.companyId))==null?void 0:le.companyName)||"",readOnly:!0,disabled:!0,style:{width:"100%",padding:"10px 12px",background:"#F3F4F6",border:"1px solid #D1D5DB",borderRadius:"6px",cursor:"not-allowed",fontSize:"14px",color:"#6B7280"}}),e.jsx("small",{style:{display:"block",marginTop:"6px",color:"#6B7280",fontSize:"12px",fontStyle:"italic"},children:"Company is derived from selected invoices"})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Payment Date *"}),e.jsx("input",{type:"date",required:!0,value:m.paymentDate,onChange:V=>x(me=>({...me,paymentDate:V.target.value})),style:{width:"100%",padding:"10px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",color:"#1F2937"}})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Payment Mode *"}),e.jsxs("select",{required:!0,value:m.paymentMode,onChange:V=>x(me=>({...me,paymentMode:V.target.value})),style:{width:"100%",padding:"10px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",color:"#1F2937",background:"#FFFFFF",cursor:"pointer"},children:[e.jsx("option",{value:ss.CASH,children:"Cash"}),e.jsx("option",{value:ss.CHEQUE,children:"Cheque"}),e.jsx("option",{value:ss.NEFT,children:"NEFT"}),e.jsx("option",{value:ss.RTGS,children:"RTGS"}),e.jsx("option",{value:ss.BANK_TRANSFER,children:"Bank Transfer"}),e.jsx("option",{value:ss.UPI,children:"UPI"}),e.jsx("option",{value:ss.OTHER,children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Payment Amount *"}),e.jsx("input",{ref:E,type:"number",required:!0,min:"0.01",step:"0.01",max:L,value:m.paymentAmount>0?m.paymentAmount:"",onChange:V=>{const me=V.target.value.trim();if(me===""){x(ee=>({...ee,paymentAmount:0})),f(null);return}const $=parseFloat(me);if(isNaN($)){x(ee=>({...ee,paymentAmount:0}));return}if($<0){x(ee=>({...ee,paymentAmount:0}));return}$>L?f(`Payment amount cannot exceed total payable of ${L.toFixed(2)}`):f(null),w.current=$,x(ee=>({...ee,paymentAmount:$})),console.log("Payment amount updated to:",$)},onBlur:V=>{const me=V.target.value.trim();if(me===""){w.current=L,x(ee=>({...ee,paymentAmount:L}));return}const $=parseFloat(me);isNaN($)||$<=0?(w.current=L,x(ee=>({...ee,paymentAmount:L}))):(w.current=$,x(ee=>({...ee,paymentAmount:$})))},style:{width:"100%",padding:"12px",border:"2px solid #10b981",borderRadius:"6px",fontSize:"16px",fontWeight:600,color:"#1F2937",background:"#FFFFFF"}}),e.jsxs("small",{style:{display:"block",marginTop:"6px",color:"#6B7280",fontSize:"12px"},children:["Maximum: ",L.toFixed(2)," (supports partial payments)"]})]}),(m.paymentMode===ss.CHEQUE||m.paymentMode===ss.BANK_TRANSFER||m.paymentMode===ss.NEFT||m.paymentMode===ss.RTGS)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{children:"Reference Number"}),e.jsx("input",{type:"text",value:m.referenceNumber||"",onChange:V=>x({...m,referenceNumber:V.target.value||null}),placeholder:"Transaction/Reference number"})]}),m.paymentMode===ss.CHEQUE&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{children:"Bank Name"}),e.jsx("input",{type:"text",value:m.bankName||"",onChange:V=>x({...m,bankName:V.target.value||null}),placeholder:"Bank name"})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Cheque Number"}),e.jsx("input",{type:"text",value:m.chequeNumber||"",onChange:V=>x({...m,chequeNumber:V.target.value||null}),placeholder:"Cheque number"})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Cheque Date"}),e.jsx("input",{type:"date",value:m.chequeDate||"",onChange:V=>x({...m,chequeDate:V.target.value||null})})]})]})]}),(m.paymentMode===ss.CHEQUE||m.paymentMode===ss.BANK_TRANSFER||m.paymentMode===ss.NEFT||m.paymentMode===ss.RTGS)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{gridColumn:"1 / -1"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Reference Number"}),e.jsx("input",{type:"text",value:m.referenceNumber||"",onChange:V=>x({...m,referenceNumber:V.target.value||null}),placeholder:"Transaction/Reference number",style:{width:"100%",padding:"10px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",color:"#1F2937"}})]}),m.paymentMode===ss.CHEQUE&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Bank Name"}),e.jsx("input",{type:"text",value:m.bankName||"",onChange:V=>x({...m,bankName:V.target.value||null}),placeholder:"Bank name",style:{width:"100%",padding:"10px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",color:"#1F2937"}})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Cheque Number"}),e.jsx("input",{type:"text",value:m.chequeNumber||"",onChange:V=>x({...m,chequeNumber:V.target.value||null}),placeholder:"Cheque number",style:{width:"100%",padding:"10px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",color:"#1F2937"}})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Cheque Date"}),e.jsx("input",{type:"date",value:m.chequeDate||"",onChange:V=>x({...m,chequeDate:V.target.value||null}),style:{width:"100%",padding:"10px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",color:"#1F2937"}})]})]})]}),e.jsxs("div",{style:{gridColumn:"1 / -1"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Notes"}),e.jsx("textarea",{value:m.notes||"",onChange:V=>x({...m,notes:V.target.value||null}),placeholder:"Payment notes (optional)",rows:3,style:{width:"100%",padding:"10px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",color:"#1F2937",fontFamily:"inherit",resize:"vertical"}})]})]})]}),e.jsxs("div",{style:{marginBottom:"32px",padding:"16px",background:"#F1F5F9",borderRadius:"8px",border:"1px solid #E2E8F0"},children:[e.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:"14px",fontWeight:600,color:"#1F2937"},children:"Allocation Mode"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",color:"#6B7280",fontSize:"14px"},children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M12 16v-4M12 8h.01"})]}),e.jsx("span",{children:"FIFO (First In, First Out) - Payment will be automatically allocated to oldest invoices first"})]})]}),e.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end",paddingTop:"24px",borderTop:"1px solid #E2E8F0"},children:[e.jsx("button",{type:"button",onClick:G,disabled:l||b,style:{padding:"12px 24px",background:"#FFFFFF",border:"1px solid #D1D5DB",borderRadius:"8px",cursor:l||b?"not-allowed":"pointer",fontSize:"14px",fontWeight:500,color:"#475569",transition:"all 0.2s ease"},children:"Cancel"}),e.jsx("button",{type:"submit",disabled:l||b,style:{padding:"12px 32px",background:b?"#94a3b8":"#10b981",color:"#FFFFFF",border:"none",borderRadius:"8px",cursor:b?"not-allowed":"pointer",fontSize:"15px",fontWeight:600,transition:"all 0.2s ease",boxShadow:b?"none":"0 2px 4px rgba(16, 185, 129, 0.2)"},onMouseEnter:V=>{!b&&!l&&(V.currentTarget.style.background="#059669",V.currentTarget.style.transform="translateY(-1px)",V.currentTarget.style.boxShadow="0 4px 8px rgba(16, 185, 129, 0.3)")},onMouseLeave:V=>{!b&&!l&&(V.currentTarget.style.background="#10b981",V.currentTarget.style.transform="translateY(0)",V.currentTarget.style.boxShadow="0 2px 4px rgba(16, 185, 129, 0.2)")},children:b?"Processing...":l?"Loading...":"Process Payment"})]})]}),y&&e.jsx("div",{className:"modal-overlay",onClick:()=>!b&&j(!1),style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:e.jsxs("div",{className:"modal-content",onClick:V=>V.stopPropagation(),style:{background:"#fff",padding:"24px",borderRadius:"8px",maxWidth:"500px",width:"90%"},children:[e.jsx("h2",{style:{margin:"0 0 16px 0",fontSize:"20px",fontWeight:600},children:"Confirm Payment"}),e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("p",{style:{margin:"0 0 12px 0",color:"#dc2626",fontWeight:600},children:"This action cannot be undone."}),e.jsxs("p",{style:{margin:"0 0 8px 0",fontSize:"14px"},children:["You are about to process a payment of ",e.jsxs("strong",{children:["",m.paymentAmount.toFixed(2)]}),"."]}),e.jsx("p",{style:{margin:"0",fontSize:"14px",color:"#64748b"},children:"Payment will be allocated using FIFO (First In, First Out) method to the selected invoices."})]}),e.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[e.jsx("button",{type:"button",onClick:()=>j(!1),disabled:b,style:{padding:"10px 20px",background:"#f1f5f9",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer"},children:"Cancel"}),e.jsx("button",{type:"button",onClick:ae,disabled:b,style:{padding:"10px 24px",background:"#dc2626",color:"#fff",border:"none",borderRadius:"6px",cursor:b?"not-allowed":"pointer",fontWeight:600},children:b?"Processing...":"Confirm & Process Payment"})]})]})})]})})},Tne=()=>{const r=jn(),t=qa(),n=r.state;C.useEffect(()=>{if(!(n!=null&&n.receiptId)){t("/finance/invoice-management");return}},[n,t]);const a=()=>{window.print()},s=()=>{t("/finance/invoice-management")};return n?e.jsxs("div",{className:"payment-success-page",children:[e.jsx("div",{className:"payment-success-header",children:e.jsxs("div",{style:{textAlign:"center",marginBottom:"30px"},children:[e.jsx("div",{style:{width:"64px",height:"64px",borderRadius:"50%",background:"#d1fae5",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px",fontSize:"32px"},children:""}),e.jsx("h1",{style:{margin:"0 0 8px 0",fontSize:"28px",fontWeight:600,color:"#059669"},children:"Payment Successful"}),e.jsx("p",{style:{margin:0,color:"#64748b",fontSize:"14px"},children:"Your payment has been processed successfully"})]})}),e.jsxs("div",{className:"payment-success-content",children:[e.jsxs("div",{className:"success-card receipt-card",children:[e.jsx("h2",{style:{margin:"0 0 24px 0",fontSize:"18px",fontWeight:600,color:"#1e293b"},children:"Payment Receipt"}),e.jsxs("div",{style:{display:"grid",gap:"16px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0"},children:[e.jsx("span",{style:{color:"#64748b",fontSize:"14px",fontWeight:500},children:"Receipt Number"}),e.jsx("span",{style:{fontWeight:600,fontSize:"15px",color:"#1e293b",letterSpacing:"0.3px"},children:n.receiptNumber})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",borderTop:"1px solid #e2e8f0",borderBottom:"1px solid #e2e8f0"},children:[e.jsx("span",{style:{color:"#64748b",fontSize:"14px",fontWeight:500},children:"Receipt Date"}),e.jsx("span",{style:{fontSize:"14px",color:"#334155",fontWeight:500},children:n.receiptDate})]}),e.jsx("div",{className:"amount-received-section",children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px 0"},children:[e.jsx("span",{style:{color:"#1e293b",fontSize:"16px",fontWeight:600},children:"Amount Received"}),e.jsxs("span",{className:"amount-value",children:["",n.totalAmount.toFixed(2)]})]})})]})]}),e.jsxs("div",{className:"success-card settlement-card",children:[e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("h2",{style:{margin:"0 0 8px 0",fontSize:"18px",fontWeight:600,color:"#1e293b"},children:"Invoice Settlement Status"}),e.jsx("p",{style:{margin:0,fontSize:"13px",color:"#64748b",lineHeight:"1.5"},children:"Partial payments are automatically allocated using FIFO (oldest invoices first). Remaining balances will carry forward for future payments."})]}),e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{borderBottom:"2px solid #e2e8f0"},children:[e.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"13px",fontWeight:600,color:"#475569",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Invoice #"}),e.jsx("th",{style:{padding:"12px",textAlign:"right",fontSize:"13px",fontWeight:600,color:"#475569",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Amount Paid"}),e.jsx("th",{style:{padding:"12px",textAlign:"right",fontSize:"13px",fontWeight:600,color:"#475569",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Remaining Balance"}),e.jsx("th",{style:{padding:"12px",textAlign:"center",fontSize:"13px",fontWeight:600,color:"#475569",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Settlement Status"})]})}),e.jsx("tbody",{children:n.invoiceUpdates.map(i=>e.jsxs("tr",{style:{borderBottom:"1px solid #e2e8f0"},children:[e.jsx("td",{style:{padding:"14px 12px",fontSize:"14px",color:"#1e293b",fontWeight:500},children:i.invoiceNumber}),e.jsxs("td",{style:{padding:"14px 12px",textAlign:"right",fontSize:"15px",fontWeight:600,color:"#059669"},children:["",i.totalPaidAmount.toFixed(2)]}),e.jsxs("td",{style:{padding:"14px 12px",textAlign:"right",fontSize:"15px",fontWeight:600,color:i.balanceAmount>0?"#dc2626":"#059669"},children:["",i.balanceAmount.toFixed(2)]}),e.jsx("td",{style:{padding:"14px 12px",textAlign:"center"},children:e.jsx("span",{style:{padding:"5px 14px",borderRadius:"12px",fontSize:"12px",fontWeight:600,display:"inline-block",background:i.status==="Paid"?"#d1fae5":i.status==="Partially Paid"?"#fef3c7":"#e0e7ff",color:i.status==="Paid"?"#065f46":i.status==="Partially Paid"?"#92400e":"#3730a3"},children:i.status==="Generated"?"DUE":i.status})})]},i.invoiceId))})]})]}),e.jsxs("div",{className:"action-buttons",children:[e.jsxs("button",{onClick:a,className:"primary-action-btn",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[e.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),e.jsx("polyline",{points:"7 10 12 15 17 10"}),e.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Download Receipt"]}),e.jsx("button",{onClick:s,className:"secondary-action-btn",children:"Back to Invoice List"})]})]})]}):e.jsx("div",{style:{padding:"40px",textAlign:"center"},children:e.jsx("p",{children:"No payment data found. Redirecting..."})})},kne=()=>{const{logout:r,permissions:t}=Yn(),n=jn();qa();const[a,s]=C.useState(""),[i,c]=C.useState(""),[o,d]=C.useState(!1),[l,u]=C.useState({paymentId:"",companyId:"",paymentDate:"",paymentMode:"",status:""}),[h,f]=C.useState(!1),[A,g]=C.useState(null),[m,x]=C.useState([]),[y,j]=C.useState([]),[b,S]=C.useState(!1),[w,E]=C.useState(null),[I,L]=C.useState(null),[J,ae]=C.useState(!1),G=()=>{ae(!J)},[le,V]=C.useState({paymentId:"",receiptDate:"",notes:null});C.useEffect(()=>{me()},[]),C.useEffect(()=>{y.length>0&&(i?$(i):$())},[i,y.length]);const me=async()=>{var ie,Z;try{S(!0),E(null);const ue=(await ha.getAllCompanies(!0)).map(te=>({id:te.id,companyCode:te.companyCode,companyName:te.companyName,status:te.status}));j(ue),console.log("Loaded companies:",ue.length),await $(),E(null)}catch(D){console.error("Error loading data:",D);const ue=D.message||((Z=(ie=D.response)==null?void 0:ie.data)==null?void 0:Z.message)||"Failed to load data";E(ue)}finally{S(!1)}},$=async ie=>{var Z,D;try{S(!0),E(null);const ue=await gne(ie),te=Array.isArray(ue)?ue:[];x(te),E(null),te.length>0&&(console.log("Payments loaded:",te.length),console.log("Payment company IDs:",te.map(ye=>ye.companyId)),console.log("Available companies:",y.map(ye=>({id:ye.id,name:ye.companyName}))))}catch(ue){console.error("Error loading payments:",ue);const te=ue.message||((D=(Z=ue.response)==null?void 0:Z.data)==null?void 0:D.message)||"Failed to load payments";E(te),x([])}finally{S(!1)}},ee=ie=>{g(ie),V({paymentId:ie.paymentId,receiptDate:ie.paymentDate,notes:null}),f(!0)},we=async()=>{if(!le.paymentId){E("Please select a payment");return}try{S(!0),E(null),L(null);const ie=await vne(le);L(`Receipt ${ie.data.receipt.receiptNumber} created successfully!`),f(!1),g(null),V({paymentId:"",receiptDate:"",notes:null}),await $(i||void 0)}catch(ie){console.error("Error creating receipt:",ie),E(ie.message||"Failed to create receipt")}finally{S(!1)}},R=m.filter(ie=>{var he,X;const Z=a.toLowerCase(),D=!a||ie.paymentId.toLowerCase().includes(Z)||((he=ie.receiptNumber)==null?void 0:he.toLowerCase().includes(Z))||((X=y.find(Ae=>Ae.id===ie.companyId))==null?void 0:X.companyName.toLowerCase().includes(Z)),ue=!i||ie.companyId===i,te=!l.paymentId||ie.paymentId.toLowerCase().includes(l.paymentId.toLowerCase()),ye=!l.companyId||ie.companyId===l.companyId,pe=!l.paymentDate||ie.paymentDate===l.paymentDate,je=!l.paymentMode||ie.paymentMode===l.paymentMode,re=!l.status||ie.status===l.status;return D&&ue&&te&&ye&&pe&&je&&re}),q=xs(t,n.pathname);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${J?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!J&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:G,"aria-label":J?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:J?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:q.map(ie=>e.jsx("li",{children:e.jsxs(Hr,{to:ie.path,className:`nav-link ${ie.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:ie.icon}),!J&&e.jsx("span",{className:"nav-label",children:ie.label})]})},ie.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Hr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!J&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!J&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(_a,{title:"Receipt Management",subtitle:"Generate and manage payment receipts"}),e.jsxs("div",{className:"route-assignment-page",children:[e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"Receipt Management"}),e.jsx("p",{className:"ra-page-subtitle",children:"Generate and manage payment receipts"})]})]}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"ra-search-input",placeholder:"Search by payment ID, receipt number, company...",value:a,onChange:ie=>s(ie.target.value)})]}),e.jsx("div",{className:"ra-actions",children:e.jsxs("button",{className:"ra-filter-btn",onClick:()=>d(!0),type:"button",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]})})]}),w&&e.jsxs("div",{className:"ra-alert ra-alert--error",children:[e.jsx("span",{children:w}),e.jsx("button",{className:"ra-alert-close",onClick:()=>E(null),children:""})]}),I&&e.jsxs("div",{className:"ra-alert ra-alert--success",children:[e.jsx("span",{children:I}),e.jsx("button",{className:"ra-alert-close",onClick:()=>L(null),children:""})]}),e.jsx("div",{className:"route-assignment-table-container",children:b&&m.length===0?e.jsx("div",{style:{padding:"40px",textAlign:"center",color:"#64748b"},children:"Loading payments..."}):R.length===0?e.jsxs("div",{style:{padding:"60px",textAlign:"center",color:"#94a3b8"},children:[e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",style:{margin:"0 auto 16px",opacity:.5},children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),e.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),e.jsx("p",{style:{fontSize:"14px",margin:0},children:m.length===0?"No payments found without receipts":"No payments match your search criteria"})]}):e.jsxs("table",{className:"route-assignment-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Payment ID"}),e.jsx("th",{children:"Company"}),e.jsx("th",{children:"Payment Date"}),e.jsx("th",{children:"Payment Amount"}),e.jsx("th",{children:"Payment Mode"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:R.map(ie=>{const Z=y.find(D=>D.id===ie.companyId);return e.jsxs("tr",{children:[e.jsxs("td",{className:"payment-id-cell",children:[ie.paymentId.substring(0,8),"..."]}),e.jsx("td",{children:(Z==null?void 0:Z.companyName)||ie.companyId||"-"}),e.jsx("td",{children:ie.paymentDate}),e.jsxs("td",{style:{fontWeight:600},children:["",Number(ie.paymentAmount).toFixed(2)]}),e.jsx("td",{children:ie.paymentMode}),e.jsx("td",{children:e.jsx("span",{className:`receipt-status-badge receipt-status-badge--${ie.status.toLowerCase()}`,children:ie.status})}),e.jsx("td",{children:e.jsx("button",{className:"action-btn action-btn--create",onClick:()=>ee(ie),type:"button",children:"Create Receipt"})})]},ie.paymentId)})})]})}),e.jsxs("div",{className:"route-assignment-pagination-info",children:["Showing ",R.length," of ",m.length," items"]}),o&&e.jsx(_ne,{advancedFilters:l,companies:y.filter(ie=>ie.status==="Active"),onClose:()=>d(!1),onClear:()=>{u({paymentId:"",companyId:"",paymentDate:"",paymentMode:"",status:""}),d(!1)},onApply:ie=>{u(ie),d(!1)}}),h&&A&&e.jsx("div",{className:"modal-overlay",onClick:()=>f(!1),children:e.jsxs("div",{className:"modal-content",onClick:ie=>ie.stopPropagation(),style:{maxWidth:"600px"},children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:"Create Receipt"}),e.jsx("button",{onClick:()=>f(!1),style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#64748b"},children:""})]}),e.jsxs("div",{className:"modal-body",children:[e.jsx("div",{style:{marginBottom:"20px",padding:"16px",background:"#f8fafc",borderRadius:"6px"},children:e.jsxs("div",{style:{display:"grid",gap:"8px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{color:"#64748b"},children:"Payment ID:"}),e.jsxs("span",{style:{fontWeight:600},children:[A.paymentId.substring(0,8),"..."]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{color:"#64748b"},children:"Payment Amount:"}),e.jsxs("span",{style:{fontWeight:600},children:["",Number(A.paymentAmount).toFixed(2)]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{color:"#64748b"},children:"Payment Date:"}),e.jsx("span",{children:A.paymentDate})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{color:"#64748b"},children:"Payment Mode:"}),e.jsx("span",{children:A.paymentMode})]})]})}),e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:["Receipt Date ",e.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),e.jsx("input",{type:"date",value:le.receiptDate||"",onChange:ie=>V({...le,receiptDate:ie.target.value}),required:!0,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px"}}),e.jsx("p",{style:{marginTop:"4px",fontSize:"12px",color:"#64748b"},children:"Defaults to payment date if not specified"})]}),e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:"Notes (Optional)"}),e.jsx("textarea",{value:le.notes||"",onChange:ie=>V({...le,notes:ie.target.value||null}),rows:3,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",resize:"vertical"}})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{onClick:()=>f(!1),style:{padding:"10px 20px",background:"#f1f5f9",color:"#475569",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:500},children:"Cancel"}),e.jsx("button",{onClick:we,disabled:b||!le.receiptDate,style:{padding:"10px 20px",background:b||!le.receiptDate?"#cbd5e1":"#3b82f6",color:"#fff",border:"none",borderRadius:"6px",cursor:b||!le.receiptDate?"not-allowed":"pointer",fontSize:"14px",fontWeight:600},children:b?"Creating...":"Create Receipt"})]})]})})]})]})]})},_ne=({advancedFilters:r,companies:t,onClose:n,onClear:a,onApply:s})=>{const[i,c]=C.useState(r);return e.jsx("div",{className:"modal-overlay ra-filter-modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content ra-filter-modal",onClick:o=>o.stopPropagation(),children:[e.jsxs("div",{className:"ra-filter-modal-header",children:[e.jsxs("div",{className:"ra-filter-modal-titlewrap",children:[e.jsx("div",{className:"ra-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M22 3H2l8 9v7l4 2v-9l8-9z"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"ra-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"ra-filter-subtitle",children:"Filter payments by multiple criteria"})]})]}),e.jsx("button",{className:"ra-filter-close",onClick:n,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"ra-filter-modal-body",children:e.jsxs("div",{className:"ra-filter-grid",children:[e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Payment ID"}),e.jsx("input",{type:"text",value:i.paymentId,onChange:o=>c({...i,paymentId:o.target.value}),className:"ra-filter-input",placeholder:"Enter payment ID"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Company"}),e.jsxs("select",{value:i.companyId,onChange:o=>c({...i,companyId:o.target.value}),className:"ra-filter-select",children:[e.jsx("option",{value:"",children:"All Companies"}),t.map(o=>e.jsx("option",{value:o.id,children:o.companyName},o.id))]})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Payment Date"}),e.jsx("input",{type:"date",value:i.paymentDate,onChange:o=>c({...i,paymentDate:o.target.value}),className:"ra-filter-input"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Payment Mode"}),e.jsxs("select",{value:i.paymentMode,onChange:o=>c({...i,paymentMode:o.target.value}),className:"ra-filter-select",children:[e.jsx("option",{value:"",children:"All Modes"}),e.jsx("option",{value:"Cash",children:"Cash"}),e.jsx("option",{value:"Cheque",children:"Cheque"}),e.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),e.jsx("option",{value:"UPI",children:"UPI"}),e.jsx("option",{value:"Credit Card",children:"Credit Card"}),e.jsx("option",{value:"Debit Card",children:"Debit Card"}),e.jsx("option",{value:"Online Payment",children:"Online Payment"})]})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:i.status,onChange:o=>c({...i,status:o.target.value}),className:"ra-filter-select",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"Completed",children:"Completed"}),e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Failed",children:"Failed"})]})]})]})}),e.jsxs("div",{className:"ra-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"ra-link-btn",onClick:()=>{c({paymentId:"",companyId:"",paymentDate:"",paymentMode:"",status:""}),a()},children:"Clear Filters"}),e.jsx("button",{type:"button",className:"ra-btn ra-btn--primary ra-btn--sm",onClick:()=>s(i),children:"Apply Filters"})]})]})})},tD="http://localhost:3000/api/v1",rD=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},e0=async(r,t={})=>{const n=rD(),a={"Content-Type":"application/json",...t.headers};n&&(a.Authorization=`Bearer ${n}`);const s=await fetch(`${tD}${r}`,{...t,headers:a});if(!s.ok){let c=`HTTP error! status: ${s.status}`;try{const d=await s.json();c=d.message||d.error||c,d.message&&typeof d.message=="object"&&(c=JSON.stringify(d.message))}catch{s.status===500?c="Internal server error":s.status===401?c="Unauthorized. Please login again.":s.status===403?c="Forbidden. You do not have permission.":s.status===404&&(c="Resource not found")}const o=new Error(c);throw o.status=s.status,o.response={status:s.status},o}return(await s.json()).data},One=async r=>{const t=r?`?companyId=${r}`:"";return e0(`/fin-balance${t}`,{method:"GET"})},Fne=async r=>e0("/fin-balance",{method:"POST",body:JSON.stringify(r)}),Pne=async(r,t)=>e0(`/fin-balance/${r}`,{method:"PUT",body:JSON.stringify(t)}),Dne=async r=>e0(`/fin-balance/${r}`,{method:"DELETE"}),Mne=async r=>{const t=rD(),n=new FormData;n.append("file",r);const a=await fetch(`${tD}/fin-balance/bulk-upload/preview`,{method:"POST",headers:{...t&&{Authorization:`Bearer ${t}`}},body:n});if(!a.ok){let i=`HTTP error! status: ${a.status}`;try{const c=await a.json();i=c.message||c.error||i}catch{i="Failed to preview bulk upload"}throw new Error(i)}return(await a.json()).data},Rne=async r=>e0("/fin-balance/bulk-upload/execute",{method:"POST",body:JSON.stringify({preview:r})}),Lne=()=>{const{logout:r,permissions:t}=Yn(),n=jn();qa();const a=C.useRef(null),[s,i]=C.useState(""),[c,o]=C.useState(""),[d,l]=C.useState(!1),[u,h]=C.useState({companyId:"",hcfCode:"",hcfName:"",isManual:""}),[f,A]=C.useState([]),[g,m]=C.useState([]),[x,y]=C.useState([]),[j,b]=C.useState(!1),[S,w]=C.useState(null),[E,I]=C.useState(null),[L,J]=C.useState(!1),ae=()=>{J(!L)},[G,le]=C.useState(!1),[V,me]=C.useState(!1),[$,ee]=C.useState(!1),[we,R]=C.useState(null),[q,ie]=C.useState(null),[Z,D]=C.useState({companyId:"",hcfId:"",openingBalance:0,notes:null});C.useEffect(()=>{ue()},[]),C.useEffect(()=>{c?te(c):te()},[c]);const ue=async()=>{try{b(!0),w(null);const ne=await ha.getAllCompanies(!0);m(ne.map(_e=>({id:_e.id,companyCode:_e.companyCode,companyName:_e.companyName,status:_e.status})));const Pe=await Mi.getAllHcfs(void 0,!1);y(Pe.map(_e=>{var rt;return{id:_e.id,hcfCode:_e.hcfCode,hcfName:_e.hcfName,companyId:_e.companyId,companyName:((rt=ne.find(et=>et.id===_e.companyId))==null?void 0:rt.companyName)||""}})),await te()}catch(ne){console.error("Error loading data:",ne),w(ne.message||"Failed to load data")}finally{b(!1)}},te=async ne=>{var Pe,_e;try{b(!0),w(null);const rt=await One(ne);A(Array.isArray(rt)?rt:[]),w(null)}catch(rt){console.error("Error loading balances:",rt);const et=rt.message||((_e=(Pe=rt.response)==null?void 0:Pe.data)==null?void 0:_e.message)||"Failed to load balances";w(et),A([])}finally{b(!1)}},ye=async ne=>{var _e;const Pe=(_e=ne.target.files)==null?void 0:_e[0];if(Pe)try{b(!0),w(null),I(null);const rt=await Mne(Pe);ie(rt),ee(!0)}catch(rt){console.error("Error previewing upload:",rt),w(rt.message||"Failed to preview Excel file")}finally{b(!1),a.current&&(a.current.value="")}},pe=async()=>{if(q)try{b(!0),w(null),I(null);const ne=await Rne(q),Pe=ne.created.length+ne.updated.length;I(`Successfully processed ${Pe} records (${ne.created.length} created, ${ne.updated.length} updated)`),ee(!1),ie(null),await te(c||void 0)}catch(ne){console.error("Error executing bulk upload:",ne),w(ne.message||"Failed to execute bulk upload")}finally{b(!1)}},je=()=>{D({companyId:"",hcfId:"",openingBalance:0,notes:null}),le(!0)},re=ne=>{R(ne),D({companyId:ne.companyId,hcfId:ne.hcfId,openingBalance:ne.openingBalance,notes:ne.notes}),me(!0)},he=async ne=>{if(window.confirm("Are you sure you want to delete this financial balance record?"))try{b(!0),w(null),await Dne(ne),I("Financial balance deleted successfully"),await te(c||void 0)}catch(Pe){console.error("Error deleting balance:",Pe),w(Pe.message||"Failed to delete financial balance")}finally{b(!1)}},X=async()=>{try{b(!0),w(null),I(null),await Fne(Z),I("Financial balance created successfully"),le(!1),D({companyId:"",hcfId:"",openingBalance:0,notes:null}),await te(c||void 0)}catch(ne){console.error("Error creating balance:",ne),w(ne.message||"Failed to create financial balance")}finally{b(!1)}},Ae=async()=>{if(we)try{b(!0),w(null),I(null);const ne={openingBalance:Z.openingBalance,notes:Z.notes};await Pne(we.finBalanceId,ne),I("Financial balance updated successfully (current balance reset to opening balance)"),me(!1),R(null),await te(c||void 0)}catch(ne){console.error("Error updating balance:",ne),w(ne.message||"Failed to update financial balance")}finally{b(!1)}},Be=f.filter(ne=>{var qe,St,_t,ar,en,Xt;const Pe=s.toLowerCase(),_e=!s||((qe=ne.companyName)==null?void 0:qe.toLowerCase().includes(Pe))||((St=ne.companyCode)==null?void 0:St.toLowerCase().includes(Pe))||((_t=ne.hcfCode)==null?void 0:_t.toLowerCase().includes(Pe))||((ar=ne.hcfName)==null?void 0:ar.toLowerCase().includes(Pe)),rt=!c||ne.companyId===c,et=!u.companyId||ne.companyId===u.companyId,Le=!u.hcfCode||((en=ne.hcfCode)==null?void 0:en.toLowerCase().includes(u.hcfCode.toLowerCase())),it=!u.hcfName||((Xt=ne.hcfName)==null?void 0:Xt.toLowerCase().includes(u.hcfName.toLowerCase())),Wt=!u.isManual||u.isManual==="true"&&ne.isManual||u.isManual==="false"&&!ne.isManual;return _e&&rt&&et&&Le&&it&&Wt}),Me=Z.companyId?x.filter(ne=>ne.companyId===Z.companyId):[],$e=xs(t,n.pathname);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${L?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!L&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:ae,"aria-label":L?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:L?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:$e.map(ne=>e.jsx("li",{children:e.jsxs(Hr,{to:ne.path,className:`nav-link ${ne.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:ne.icon}),!L&&e.jsx("span",{className:"nav-label",children:ne.label})]})},ne.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Hr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!L&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!L&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(_a,{title:"Financial Balance Summary",subtitle:"View and manage financial balance records"}),e.jsxs("div",{className:"route-assignment-page",children:[e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"Financial Balance Summary"}),e.jsx("p",{className:"ra-page-subtitle",children:"View and manage financial balance records"})]})]}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"ra-search-input",placeholder:"Search by company, HCF code, or name...",value:s,onChange:ne=>i(ne.target.value)})]}),e.jsxs("div",{className:"ra-actions",children:[e.jsxs("label",{className:"ra-filter-btn",style:{cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),e.jsx("polyline",{points:"17 8 12 3 7 8"}),e.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),"Upload Excel",e.jsx("input",{ref:a,type:"file",accept:".xlsx,.xls",onChange:ye,style:{display:"none"}})]}),e.jsxs("button",{className:"ra-filter-btn",onClick:()=>l(!0),type:"button",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),e.jsxs("button",{className:"ra-add-btn",onClick:je,disabled:j,type:"button",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Balance"]})]})]}),S&&e.jsxs("div",{className:"ra-alert ra-alert--error",children:[e.jsx("span",{children:S}),e.jsx("button",{className:"ra-alert-close",onClick:()=>w(null),children:""})]}),E&&e.jsxs("div",{className:"ra-alert ra-alert--success",children:[e.jsx("span",{children:E}),e.jsx("button",{className:"ra-alert-close",onClick:()=>I(null),children:""})]}),e.jsx("div",{className:"route-assignment-table-container",children:j&&f.length===0?e.jsx("div",{style:{padding:"40px",textAlign:"center",color:"#64748b"},children:"Loading balances..."}):Be.length===0?e.jsxs("div",{style:{padding:"60px",textAlign:"center",color:"#94a3b8"},children:[e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",style:{margin:"0 auto 16px",opacity:.5},children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),e.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),e.jsx("p",{style:{fontSize:"14px",margin:0},children:f.length===0?"No financial balance records found":"No records match your search criteria"})]}):e.jsxs("table",{className:"route-assignment-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Company"}),e.jsx("th",{children:"HCF Code"}),e.jsx("th",{children:"HCF Name"}),e.jsx("th",{children:"Opening Balance"}),e.jsx("th",{children:"Current Balance"}),e.jsx("th",{children:"Is Manual"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:Be.map(ne=>e.jsxs("tr",{children:[e.jsx("td",{children:ne.companyName||"-"}),e.jsx("td",{className:"hcf-code-cell",children:ne.hcfCode||"-"}),e.jsx("td",{children:ne.hcfName||"-"}),e.jsxs("td",{style:{fontWeight:600},children:["",Number(ne.openingBalance).toFixed(2)]}),e.jsxs("td",{style:{fontWeight:600,color:ne.currentBalance<0?"#dc2626":"#059669"},children:["",Number(ne.currentBalance).toFixed(2)]}),e.jsx("td",{children:e.jsx("span",{className:`balance-type-badge balance-type-badge--${ne.isManual?"manual":"auto"}`,children:ne.isManual?"Manual":"Auto"})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>re(ne),type:"button",children:"Edit"}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>he(ne.finBalanceId),type:"button",children:"Delete"})]})})]},ne.finBalanceId))})]})}),e.jsxs("div",{className:"route-assignment-pagination-info",children:["Showing ",Be.length," of ",f.length," items"]}),d&&e.jsx(Une,{advancedFilters:u,companies:g.filter(ne=>ne.status==="Active"),onClose:()=>l(!1),onClear:()=>{h({companyId:"",hcfCode:"",hcfName:"",isManual:""}),l(!1)},onApply:ne=>{h(ne),l(!1)}}),G&&e.jsx("div",{className:"modal-overlay",onClick:()=>le(!1),children:e.jsxs("div",{className:"modal-content",onClick:ne=>ne.stopPropagation(),style:{maxWidth:"600px"},children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:"Add Financial Balance"}),e.jsx("button",{onClick:()=>le(!1),style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#64748b"},children:""})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:["Company ",e.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),e.jsxs("select",{value:Z.companyId,onChange:ne=>D({...Z,companyId:ne.target.value,hcfId:""}),required:!0,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px"},children:[e.jsx("option",{value:"",children:"Select Company"}),g.filter(ne=>ne.status==="Active").map(ne=>e.jsx("option",{value:ne.id,children:ne.companyName},ne.id))]})]}),e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:["HCF ",e.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),e.jsxs("select",{value:Z.hcfId,onChange:ne=>D({...Z,hcfId:ne.target.value}),required:!0,disabled:!Z.companyId,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",background:Z.companyId?"#fff":"#f1f5f9"},children:[e.jsx("option",{value:"",children:Z.companyId?"Select HCF":"Select Company first"}),Me.map(ne=>e.jsxs("option",{value:ne.id,children:[ne.hcfCode," - ",ne.hcfName]},ne.id))]})]}),e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:["Opening Balance ",e.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:Z.openingBalance,onChange:ne=>D({...Z,openingBalance:parseFloat(ne.target.value)||0}),required:!0,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px"}})]}),e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:"Notes (Optional)"}),e.jsx("textarea",{value:Z.notes||"",onChange:ne=>D({...Z,notes:ne.target.value||null}),rows:3,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",resize:"vertical"}})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{onClick:()=>le(!1),style:{padding:"10px 20px",background:"#f1f5f9",color:"#475569",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:500},children:"Cancel"}),e.jsx("button",{onClick:X,disabled:j||!Z.companyId||!Z.hcfId||Z.openingBalance<0,style:{padding:"10px 20px",background:j||!Z.companyId||!Z.hcfId||Z.openingBalance<0?"#cbd5e1":"#3b82f6",color:"#fff",border:"none",borderRadius:"6px",cursor:j||!Z.companyId||!Z.hcfId||Z.openingBalance<0?"not-allowed":"pointer",fontSize:"14px",fontWeight:600},children:j?"Creating...":"Create"})]})]})}),V&&we&&e.jsx("div",{className:"modal-overlay",onClick:()=>me(!1),children:e.jsxs("div",{className:"modal-content",onClick:ne=>ne.stopPropagation(),style:{maxWidth:"600px"},children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:"Edit Financial Balance"}),e.jsx("button",{onClick:()=>me(!1),style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#64748b"},children:""})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{style:{marginBottom:"16px",padding:"12px",background:"#fef3c7",borderRadius:"6px",fontSize:"13px",color:"#92400e"},children:[e.jsx("strong",{children:"Note:"})," Updating opening balance will reset current balance to the new opening balance value."]}),e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px",color:"#64748b"},children:"Company"}),e.jsx("input",{type:"text",value:we.companyName||"",disabled:!0,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",background:"#f1f5f9",color:"#64748b"}})]}),e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px",color:"#64748b"},children:"HCF"}),e.jsx("input",{type:"text",value:`${we.hcfCode||""} - ${we.hcfName||""}`,disabled:!0,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",background:"#f1f5f9",color:"#64748b"}})]}),e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:["Opening Balance ",e.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:Z.openingBalance,onChange:ne=>D({...Z,openingBalance:parseFloat(ne.target.value)||0}),required:!0,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px"}})]}),e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:"Current Balance (Read-only)"}),e.jsx("input",{type:"text",value:`${Number(we.currentBalance).toFixed(2)}`,disabled:!0,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",background:"#f1f5f9",color:"#64748b"}}),e.jsx("p",{style:{marginTop:"4px",fontSize:"12px",color:"#64748b"},children:"Will be reset to opening balance after update"})]}),e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:"Notes (Optional)"}),e.jsx("textarea",{value:Z.notes||"",onChange:ne=>D({...Z,notes:ne.target.value||null}),rows:3,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",resize:"vertical"}})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{onClick:()=>me(!1),style:{padding:"10px 20px",background:"#f1f5f9",color:"#475569",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:500},children:"Cancel"}),e.jsx("button",{onClick:Ae,disabled:j||Z.openingBalance<0,style:{padding:"10px 20px",background:j||Z.openingBalance<0?"#cbd5e1":"#3b82f6",color:"#fff",border:"none",borderRadius:"6px",cursor:j||Z.openingBalance<0?"not-allowed":"pointer",fontSize:"14px",fontWeight:600},children:j?"Updating...":"Update"})]})]})}),$&&q&&e.jsx("div",{className:"modal-overlay",onClick:()=>ee(!1),children:e.jsxs("div",{className:"modal-content",onClick:ne=>ne.stopPropagation(),style:{maxWidth:"900px",maxHeight:"90vh",overflow:"auto"},children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:"Preview Bulk Upload"}),e.jsx("button",{onClick:()=>ee(!1),style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#64748b"},children:""})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{style:{marginBottom:"20px",display:"flex",gap:"16px",flexWrap:"wrap"},children:[e.jsxs("div",{style:{padding:"12px",background:"#dbeafe",borderRadius:"6px",flex:"1",minWidth:"150px"},children:[e.jsx("div",{style:{fontSize:"12px",color:"#1e40af",marginBottom:"4px"},children:"New Records"}),e.jsx("div",{style:{fontSize:"20px",fontWeight:700,color:"#1e40af"},children:q.inserts.length})]}),e.jsxs("div",{style:{padding:"12px",background:"#fef3c7",borderRadius:"6px",flex:"1",minWidth:"150px"},children:[e.jsx("div",{style:{fontSize:"12px",color:"#92400e",marginBottom:"4px"},children:"Updates"}),e.jsx("div",{style:{fontSize:"20px",fontWeight:700,color:"#92400e"},children:q.updates.length})]}),e.jsxs("div",{style:{padding:"12px",background:"#fee2e2",borderRadius:"6px",flex:"1",minWidth:"150px"},children:[e.jsx("div",{style:{fontSize:"12px",color:"#991b1b",marginBottom:"4px"},children:"Errors"}),e.jsx("div",{style:{fontSize:"20px",fontWeight:700,color:"#991b1b"},children:q.errors.length+q.parseErrors.length})]})]}),q.parseErrors.length>0&&e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("h3",{style:{fontSize:"16px",fontWeight:600,marginBottom:"12px",color:"#991b1b"},children:"Parse Errors"}),e.jsx("div",{style:{maxHeight:"150px",overflow:"auto",border:"1px solid #fee2e2",borderRadius:"6px",padding:"12px"},children:q.parseErrors.map((ne,Pe)=>e.jsxs("div",{style:{marginBottom:"8px",fontSize:"13px",color:"#991b1b"},children:[e.jsxs("strong",{children:["Row ",ne.row,":"]})," ",ne.message]},Pe))})]}),q.errors.length>0&&e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("h3",{style:{fontSize:"16px",fontWeight:600,marginBottom:"12px",color:"#991b1b"},children:"Validation Errors"}),e.jsx("div",{style:{maxHeight:"150px",overflow:"auto",border:"1px solid #fee2e2",borderRadius:"6px",padding:"12px"},children:q.errors.map((ne,Pe)=>e.jsxs("div",{style:{marginBottom:"8px",fontSize:"13px",color:"#991b1b"},children:[e.jsxs("strong",{children:["Row ",ne.row,":"]})," ",ne.message]},Pe))})]}),(q.inserts.length>0||q.updates.length>0)&&e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:"16px",fontWeight:600,marginBottom:"12px"},children:"Records to Process"}),e.jsx("div",{style:{maxHeight:"400px",overflow:"auto",border:"1px solid #e2e8f0",borderRadius:"6px"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"13px"},children:[e.jsx("thead",{style:{background:"#f8fafc",position:"sticky",top:0},children:e.jsxs("tr",{children:[e.jsx("th",{style:{padding:"10px",textAlign:"left",borderBottom:"2px solid #e2e8f0"},children:"Action"}),e.jsx("th",{style:{padding:"10px",textAlign:"left",borderBottom:"2px solid #e2e8f0"},children:"Company"}),e.jsx("th",{style:{padding:"10px",textAlign:"left",borderBottom:"2px solid #e2e8f0"},children:"HCF Code"}),e.jsx("th",{style:{padding:"10px",textAlign:"left",borderBottom:"2px solid #e2e8f0"},children:"HCF Name"}),e.jsx("th",{style:{padding:"10px",textAlign:"right",borderBottom:"2px solid #e2e8f0"},children:"Opening Balance"})]})}),e.jsxs("tbody",{children:[q.inserts.map((ne,Pe)=>{const _e=g.find(et=>et.id===ne.companyId),rt=x.find(et=>et.id===ne.hcfId);return e.jsxs("tr",{style:{borderBottom:"1px solid #e2e8f0"},children:[e.jsx("td",{style:{padding:"10px"},children:e.jsx("span",{style:{padding:"4px 8px",background:"#dbeafe",color:"#1e40af",borderRadius:"4px",fontSize:"11px",fontWeight:600},children:"INSERT"})}),e.jsx("td",{style:{padding:"10px"},children:(_e==null?void 0:_e.companyName)||"-"}),e.jsx("td",{style:{padding:"10px"},children:(rt==null?void 0:rt.hcfCode)||"-"}),e.jsx("td",{style:{padding:"10px"},children:(rt==null?void 0:rt.hcfName)||"-"}),e.jsxs("td",{style:{padding:"10px",textAlign:"right",fontWeight:600},children:["",Number(ne.openingBalance).toFixed(2)]})]},`insert-${Pe}`)}),q.updates.map((ne,Pe)=>{const _e=g.find(et=>et.id===ne.data.companyId),rt=x.find(et=>et.id===ne.data.hcfId);return e.jsxs("tr",{style:{borderBottom:"1px solid #e2e8f0"},children:[e.jsx("td",{style:{padding:"10px"},children:e.jsx("span",{style:{padding:"4px 8px",background:"#fef3c7",color:"#92400e",borderRadius:"4px",fontSize:"11px",fontWeight:600},children:"UPDATE"})}),e.jsx("td",{style:{padding:"10px"},children:(_e==null?void 0:_e.companyName)||"-"}),e.jsx("td",{style:{padding:"10px"},children:(rt==null?void 0:rt.hcfCode)||"-"}),e.jsx("td",{style:{padding:"10px"},children:(rt==null?void 0:rt.hcfName)||"-"}),e.jsxs("td",{style:{padding:"10px",textAlign:"right",fontWeight:600},children:["",Number(ne.data.openingBalance).toFixed(2)]})]},`update-${Pe}`)})]})]})})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{onClick:()=>ee(!1),style:{padding:"10px 20px",background:"#f1f5f9",color:"#475569",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:500},children:"Cancel"}),e.jsx("button",{onClick:pe,disabled:j||q.inserts.length===0&&q.updates.length===0,style:{padding:"10px 20px",background:j||q.inserts.length===0&&q.updates.length===0?"#cbd5e1":"#10b981",color:"#fff",border:"none",borderRadius:"6px",cursor:j||q.inserts.length===0&&q.updates.length===0?"not-allowed":"pointer",fontSize:"14px",fontWeight:600},children:j?"Processing...":"Save All"})]})]})})]})]})]})},Une=({advancedFilters:r,companies:t,onClose:n,onClear:a,onApply:s})=>{const[i,c]=C.useState(r);return e.jsx("div",{className:"modal-overlay ra-filter-modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content ra-filter-modal",onClick:o=>o.stopPropagation(),children:[e.jsxs("div",{className:"ra-filter-modal-header",children:[e.jsxs("div",{className:"ra-filter-modal-titlewrap",children:[e.jsx("div",{className:"ra-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M22 3H2l8 9v7l4 2v-9l8-9z"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"ra-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"ra-filter-subtitle",children:"Filter financial balances by multiple criteria"})]})]}),e.jsx("button",{className:"ra-filter-close",onClick:n,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"ra-filter-modal-body",children:e.jsxs("div",{className:"ra-filter-grid",children:[e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Company"}),e.jsxs("select",{value:i.companyId,onChange:o=>c({...i,companyId:o.target.value}),className:"ra-filter-select",children:[e.jsx("option",{value:"",children:"All Companies"}),t.map(o=>e.jsx("option",{value:o.id,children:o.companyName},o.id))]})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"HCF Code"}),e.jsx("input",{type:"text",value:i.hcfCode,onChange:o=>c({...i,hcfCode:o.target.value}),className:"ra-filter-input",placeholder:"Enter HCF code"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"HCF Name"}),e.jsx("input",{type:"text",value:i.hcfName,onChange:o=>c({...i,hcfName:o.target.value}),className:"ra-filter-input",placeholder:"Enter HCF name"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Type"}),e.jsxs("select",{value:i.isManual,onChange:o=>c({...i,isManual:o.target.value}),className:"ra-filter-select",children:[e.jsx("option",{value:"",children:"All Types"}),e.jsx("option",{value:"true",children:"Manual"}),e.jsx("option",{value:"false",children:"Auto"})]})]})]})}),e.jsxs("div",{className:"ra-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"ra-link-btn",onClick:()=>{c({companyId:"",hcfCode:"",hcfName:"",isManual:""}),a()},children:"Clear Filters"}),e.jsx("button",{type:"button",className:"ra-btn ra-btn--primary ra-btn--sm",onClick:()=>s(i),children:"Apply Filters"})]})]})})},Hne="http://localhost:3000/api/v1",Qne=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},Ng=async(r,t={})=>{const n=Qne(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${Hne}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const c=await s.json();c.message?Array.isArray(c.message)?i=c.message.join(", "):typeof c.message=="string"?i=c.message:i=String(c.message):c.error&&(typeof c.error=="string"?i=c.error:c.error.message?i=typeof c.error.message=="string"?c.error.message:String(c.error.message):i=JSON.stringify(c.error));const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o.errorData=c,o}catch{const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o}}return s.status===204?{}:s.json()},rp={generateLabels:async r=>(await Ng("/barcode-labels",{method:"POST",body:JSON.stringify(r)})).data,getBarcodeLabelById:async r=>(await Ng(`/barcode-labels/${r}`,{method:"GET"})).data,getAllBarcodeLabels:async(r,t,n,a)=>{let s="/barcode-labels";const i=new URLSearchParams;return r&&i.append("companyId",r),t&&i.append("hcfId",t),n&&i.append("hcfCode",n),a&&i.append("barcodeType",a),i.toString()&&(s+=`?${i.toString()}`),(await Ng(s,{method:"GET"})).data},getLastSequence:async(r,t)=>(await Ng(`/barcode-labels/last-sequence?hcfCode=${encodeURIComponent(r)}&barcodeType=${encodeURIComponent(t)}`,{method:"GET"})).data.lastSequence,deleteBarcodeLabel:async r=>{await Ng(`/barcode-labels/${r}`,{method:"DELETE"})}};var D0={},Sg={},M0={},eT;function Au(){if(eT)return M0;eT=1,Object.defineProperty(M0,"__esModule",{value:!0});function r(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}var t=function n(a,s){r(this,n),this.data=a,this.text=s.text||a,this.options=s};return M0.default=t,M0}var tT;function Wne(){if(tT)return Sg;tT=1,Object.defineProperty(Sg,"__esModule",{value:!0}),Sg.CODE39=void 0;var r=(function(){function m(x,y){for(var j=0;j<y.length;j++){var b=y[j];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(x,b.key,b)}}return function(x,y,j){return y&&m(x.prototype,y),j&&m(x,j),x}})(),t=Au(),n=a(t);function a(m){return m&&m.__esModule?m:{default:m}}function s(m,x){if(!(m instanceof x))throw new TypeError("Cannot call a class as a function")}function i(m,x){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:m}function c(m,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);m.prototype=Object.create(x&&x.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(m,x):m.__proto__=x)}var o=(function(m){c(x,m);function x(y,j){return s(this,x),y=y.toUpperCase(),j.mod43&&(y+=f(g(y))),i(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,y,j))}return r(x,[{key:"encode",value:function(){for(var j=u("*"),b=0;b<this.data.length;b++)j+=u(this.data[b])+"0";return j+=u("*"),{data:j,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),x})(n.default),d=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],l=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function u(m){return h(A(m))}function h(m){return l[m].toString(2)}function f(m){return d[m]}function A(m){return d.indexOf(m)}function g(m){for(var x=0,y=0;y<m.length;y++)x+=A(m[y]);return x=x%43,x}return Sg.CODE39=o,Sg}var lh={},R0={},L0={},sl={},rT;function t0(){if(rT)return sl;rT=1,Object.defineProperty(sl,"__esModule",{value:!0});var r;function t(d,l,u){return l in d?Object.defineProperty(d,l,{value:u,enumerable:!0,configurable:!0,writable:!0}):d[l]=u,d}var n=sl.SET_A=0,a=sl.SET_B=1,s=sl.SET_C=2;sl.SHIFT=98;var i=sl.START_A=103,c=sl.START_B=104,o=sl.START_C=105;return sl.MODULO=103,sl.STOP=106,sl.FNC1=207,sl.SET_BY_CODE=(r={},t(r,i,n),t(r,c,a),t(r,o,s),r),sl.SWAP={101:n,100:a,99:s},sl.A_START_CHAR="",sl.B_START_CHAR="",sl.C_START_CHAR="",sl.A_CHARS="[\0-_-]",sl.B_CHARS="[ --]",sl.C_CHARS="(*[0-9]{2}*)",sl.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011],sl}var nT;function N2(){if(nT)return L0;nT=1,Object.defineProperty(L0,"__esModule",{value:!0});var r=(function(){function l(u,h){for(var f=0;f<h.length;f++){var A=h[f];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(u,A.key,A)}}return function(u,h,f){return h&&l(u.prototype,h),f&&l(u,f),u}})(),t=Au(),n=s(t),a=t0();function s(l){return l&&l.__esModule?l:{default:l}}function i(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}function c(l,u){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:l}function o(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);l.prototype=Object.create(u&&u.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(l,u):l.__proto__=u)}var d=(function(l){o(u,l);function u(h,f){i(this,u);var A=c(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,h.substring(1),f));return A.bytes=h.split("").map(function(g){return g.charCodeAt(0)}),A}return r(u,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var f=this.bytes,A=f.shift()-105,g=a.SET_BY_CODE[A];if(g===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&f.unshift(a.FNC1);var m=u.next(f,1,g);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:u.getBar(A)+m.result+u.getBar((m.checksum+A)%a.MODULO)+u.getBar(a.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var f=this.options.ean128||!1;return typeof f=="string"&&(f=f.toLowerCase()==="true"),f}}],[{key:"getBar",value:function(f){return a.BARS[f]?a.BARS[f].toString():""}},{key:"correctIndex",value:function(f,A){if(A===a.SET_A){var g=f.shift();return g<32?g+64:g-32}else return A===a.SET_B?f.shift()-32:(f.shift()-48)*10+f.shift()-48}},{key:"next",value:function(f,A,g){if(!f.length)return{result:"",checksum:0};var m=void 0,x=void 0;if(f[0]>=200){x=f.shift()-105;var y=a.SWAP[x];y!==void 0?m=u.next(f,A+1,y):((g===a.SET_A||g===a.SET_B)&&x===a.SHIFT&&(f[0]=g===a.SET_A?f[0]>95?f[0]-96:f[0]:f[0]<32?f[0]+96:f[0]),m=u.next(f,A+1,g))}else x=u.correctIndex(f,g),m=u.next(f,A+1,g);var j=u.getBar(x),b=x*A;return{result:j+m.result,checksum:b+m.checksum}}}]),u})(n.default);return L0.default=d,L0}var U0={},aT;function $ne(){if(aT)return U0;aT=1,Object.defineProperty(U0,"__esModule",{value:!0});var r=t0(),t=function(o){return o.match(new RegExp("^"+r.A_CHARS+"*"))[0].length},n=function(o){return o.match(new RegExp("^"+r.B_CHARS+"*"))[0].length},a=function(o){return o.match(new RegExp("^"+r.C_CHARS+"*"))[0]};function s(c,o){var d=o?r.A_CHARS:r.B_CHARS,l=c.match(new RegExp("^("+d+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(l)return l[1]+""+i(c.substring(l[1].length));var u=c.match(new RegExp("^"+d+"+"))[0];return u.length===c.length?c:u+String.fromCharCode(o?205:206)+s(c.substring(u.length),!o)}function i(c){var o=a(c),d=o.length;if(d===c.length)return c;c=c.substring(d);var l=t(c)>=n(c);return o+String.fromCharCode(l?206:205)+s(c,l)}return U0.default=function(c){var o=void 0,d=a(c).length;if(d>=2)o=r.C_START_CHAR+i(c);else{var l=t(c)>n(c);o=(l?r.A_START_CHAR:r.B_START_CHAR)+s(c,l)}return o.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(u,h){return""+h})},U0}var sT;function Vne(){if(sT)return R0;sT=1,Object.defineProperty(R0,"__esModule",{value:!0});var r=N2(),t=s(r),n=$ne(),a=s(n);function s(l){return l&&l.__esModule?l:{default:l}}function i(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}function c(l,u){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:l}function o(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);l.prototype=Object.create(u&&u.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(l,u):l.__proto__=u)}var d=(function(l){o(u,l);function u(h,f){if(i(this,u),/^[\x00-\x7F\xC8-\xD3]+$/.test(h))var A=c(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,(0,a.default)(h),f));else var A=c(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,h,f));return c(A)}return u})(t.default);return R0.default=d,R0}var H0={},iT;function zne(){if(iT)return H0;iT=1,Object.defineProperty(H0,"__esModule",{value:!0});var r=(function(){function l(u,h){for(var f=0;f<h.length;f++){var A=h[f];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(u,A.key,A)}}return function(u,h,f){return h&&l(u.prototype,h),f&&l(u,f),u}})(),t=N2(),n=s(t),a=t0();function s(l){return l&&l.__esModule?l:{default:l}}function i(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}function c(l,u){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:l}function o(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);l.prototype=Object.create(u&&u.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(l,u):l.__proto__=u)}var d=(function(l){o(u,l);function u(h,f){return i(this,u),c(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,a.A_START_CHAR+h,f))}return r(u,[{key:"valid",value:function(){return new RegExp("^"+a.A_CHARS+"+$").test(this.data)}}]),u})(n.default);return H0.default=d,H0}var Q0={},oT;function Kne(){if(oT)return Q0;oT=1,Object.defineProperty(Q0,"__esModule",{value:!0});var r=(function(){function l(u,h){for(var f=0;f<h.length;f++){var A=h[f];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(u,A.key,A)}}return function(u,h,f){return h&&l(u.prototype,h),f&&l(u,f),u}})(),t=N2(),n=s(t),a=t0();function s(l){return l&&l.__esModule?l:{default:l}}function i(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}function c(l,u){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:l}function o(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);l.prototype=Object.create(u&&u.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(l,u):l.__proto__=u)}var d=(function(l){o(u,l);function u(h,f){return i(this,u),c(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,a.B_START_CHAR+h,f))}return r(u,[{key:"valid",value:function(){return new RegExp("^"+a.B_CHARS+"+$").test(this.data)}}]),u})(n.default);return Q0.default=d,Q0}var W0={},lT;function Gne(){if(lT)return W0;lT=1,Object.defineProperty(W0,"__esModule",{value:!0});var r=(function(){function l(u,h){for(var f=0;f<h.length;f++){var A=h[f];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(u,A.key,A)}}return function(u,h,f){return h&&l(u.prototype,h),f&&l(u,f),u}})(),t=N2(),n=s(t),a=t0();function s(l){return l&&l.__esModule?l:{default:l}}function i(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}function c(l,u){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:l}function o(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);l.prototype=Object.create(u&&u.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(l,u):l.__proto__=u)}var d=(function(l){o(u,l);function u(h,f){return i(this,u),c(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,a.C_START_CHAR+h,f))}return r(u,[{key:"valid",value:function(){return new RegExp("^"+a.C_CHARS+"+$").test(this.data)}}]),u})(n.default);return W0.default=d,W0}var cT;function qne(){if(cT)return lh;cT=1,Object.defineProperty(lh,"__esModule",{value:!0}),lh.CODE128C=lh.CODE128B=lh.CODE128A=lh.CODE128=void 0;var r=Vne(),t=d(r),n=zne(),a=d(n),s=Kne(),i=d(s),c=Gne(),o=d(c);function d(l){return l&&l.__esModule?l:{default:l}}return lh.CODE128=t.default,lh.CODE128A=a.default,lh.CODE128B=i.default,lh.CODE128C=o.default,lh}var xd={},$0={},uf={},dT;function r0(){return dT||(dT=1,Object.defineProperty(uf,"__esModule",{value:!0}),uf.SIDE_BIN="101",uf.MIDDLE_BIN="01010",uf.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},uf.EAN2_STRUCTURE=["LL","LG","GL","GG"],uf.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],uf.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]),uf}var V0={},z0={},uT;function n0(){if(uT)return z0;uT=1,Object.defineProperty(z0,"__esModule",{value:!0});var r=r0(),t=function(a,s,i){var c=a.split("").map(function(d,l){return r.BINARIES[s[l]]}).map(function(d,l){return d?d[a[l]]:""});if(i){var o=a.length-1;c=c.map(function(d,l){return l<o?d+i:d})}return c.join("")};return z0.default=t,z0}var hT;function nD(){if(hT)return V0;hT=1,Object.defineProperty(V0,"__esModule",{value:!0});var r=(function(){function h(f,A){for(var g=0;g<A.length;g++){var m=A[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(f,m.key,m)}}return function(f,A,g){return A&&h(f.prototype,A),g&&h(f,g),f}})(),t=r0(),n=n0(),a=c(n),s=Au(),i=c(s);function c(h){return h&&h.__esModule?h:{default:h}}function o(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")}function d(h,f){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:h}function l(h,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);h.prototype=Object.create(f&&f.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(h,f):h.__proto__=f)}var u=(function(h){l(f,h);function f(A,g){o(this,f);var m=d(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,A,g));return m.fontSize=!g.flat&&g.fontSize>g.width*10?g.width*10:g.fontSize,m.guardHeight=g.height+m.fontSize/2+g.textMargin,m}return r(f,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(g,m){return this.text.substr(g,m)}},{key:"leftEncode",value:function(g,m){return(0,a.default)(g,m)}},{key:"rightText",value:function(g,m){return this.text.substr(g,m)}},{key:"rightEncode",value:function(g,m){return(0,a.default)(g,m)}},{key:"encodeGuarded",value:function(){var g={fontSize:this.fontSize},m={height:this.guardHeight};return[{data:t.SIDE_BIN,options:m},{data:this.leftEncode(),text:this.leftText(),options:g},{data:t.MIDDLE_BIN,options:m},{data:this.rightEncode(),text:this.rightText(),options:g},{data:t.SIDE_BIN,options:m}]}},{key:"encodeFlat",value:function(){var g=[t.SIDE_BIN,this.leftEncode(),t.MIDDLE_BIN,this.rightEncode(),t.SIDE_BIN];return{data:g.join(""),text:this.text}}}]),f})(i.default);return V0.default=u,V0}var fT;function Xne(){if(fT)return $0;fT=1,Object.defineProperty($0,"__esModule",{value:!0});var r=(function(){function h(f,A){for(var g=0;g<A.length;g++){var m=A[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(f,m.key,m)}}return function(f,A,g){return A&&h(f.prototype,A),g&&h(f,g),f}})(),t=function h(f,A,g){f===null&&(f=Function.prototype);var m=Object.getOwnPropertyDescriptor(f,A);if(m===void 0){var x=Object.getPrototypeOf(f);return x===null?void 0:h(x,A,g)}else{if("value"in m)return m.value;var y=m.get;return y===void 0?void 0:y.call(g)}},n=r0(),a=nD(),s=i(a);function i(h){return h&&h.__esModule?h:{default:h}}function c(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")}function o(h,f){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:h}function d(h,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);h.prototype=Object.create(f&&f.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(h,f):h.__proto__=f)}var l=function(f){var A=f.substr(0,12).split("").map(function(g){return+g}).reduce(function(g,m,x){return x%2?g+m*3:g+m},0);return(10-A%10)%10},u=(function(h){d(f,h);function f(A,g){c(this,f),A.search(/^[0-9]{12}$/)!==-1&&(A+=l(A));var m=o(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,A,g));return m.lastChar=g.lastChar,m}return r(f,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===l(this.data)}},{key:"leftText",value:function(){return t(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var g=this.data.substr(1,6),m=n.EAN13_STRUCTURE[this.data[0]];return t(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"leftEncode",this).call(this,g,m)}},{key:"rightText",value:function(){return t(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var g=this.data.substr(7,6);return t(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"rightEncode",this).call(this,g,"RRRRRR")}},{key:"encodeGuarded",value:function(){var g=t(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(g.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(g.push({data:"00"}),g.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),g}}]),f})(s.default);return $0.default=u,$0}var K0={},AT;function Yne(){if(AT)return K0;AT=1,Object.defineProperty(K0,"__esModule",{value:!0});var r=(function(){function u(h,f){for(var A=0;A<f.length;A++){var g=f[A];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,g.key,g)}}return function(h,f,A){return f&&u(h.prototype,f),A&&u(h,A),h}})(),t=function u(h,f,A){h===null&&(h=Function.prototype);var g=Object.getOwnPropertyDescriptor(h,f);if(g===void 0){var m=Object.getPrototypeOf(h);return m===null?void 0:u(m,f,A)}else{if("value"in g)return g.value;var x=g.get;return x===void 0?void 0:x.call(A)}},n=nD(),a=s(n);function s(u){return u&&u.__esModule?u:{default:u}}function i(u,h){if(!(u instanceof h))throw new TypeError("Cannot call a class as a function")}function c(u,h){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:u}function o(u,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);u.prototype=Object.create(h&&h.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(u,h):u.__proto__=h)}var d=function(h){var f=h.substr(0,7).split("").map(function(A){return+A}).reduce(function(A,g,m){return m%2?A+g:A+g*3},0);return(10-f%10)%10},l=(function(u){o(h,u);function h(f,A){return i(this,h),f.search(/^[0-9]{7}$/)!==-1&&(f+=d(f)),c(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,f,A))}return r(h,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===d(this.data)}},{key:"leftText",value:function(){return t(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var A=this.data.substr(0,4);return t(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"leftEncode",this).call(this,A,"LLLL")}},{key:"rightText",value:function(){return t(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var A=this.data.substr(4,4);return t(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"rightEncode",this).call(this,A,"RRRR")}}]),h})(a.default);return K0.default=l,K0}var G0={},pT;function Jne(){if(pT)return G0;pT=1,Object.defineProperty(G0,"__esModule",{value:!0});var r=(function(){function f(A,g){for(var m=0;m<g.length;m++){var x=g[m];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(A,x.key,x)}}return function(A,g,m){return g&&f(A.prototype,g),m&&f(A,m),A}})(),t=r0(),n=n0(),a=c(n),s=Au(),i=c(s);function c(f){return f&&f.__esModule?f:{default:f}}function o(f,A){if(!(f instanceof A))throw new TypeError("Cannot call a class as a function")}function d(f,A){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:f}function l(f,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);f.prototype=Object.create(A&&A.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(f,A):f.__proto__=A)}var u=function(A){var g=A.split("").map(function(m){return+m}).reduce(function(m,x,y){return y%2?m+x*9:m+x*3},0);return g%10},h=(function(f){l(A,f);function A(g,m){return o(this,A),d(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,g,m))}return r(A,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var m=t.EAN5_STRUCTURE[u(this.data)];return{data:"1011"+(0,a.default)(this.data,m,"01"),text:this.text}}}]),A})(i.default);return G0.default=h,G0}var q0={},mT;function Zne(){if(mT)return q0;mT=1,Object.defineProperty(q0,"__esModule",{value:!0});var r=(function(){function h(f,A){for(var g=0;g<A.length;g++){var m=A[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(f,m.key,m)}}return function(f,A,g){return A&&h(f.prototype,A),g&&h(f,g),f}})(),t=r0(),n=n0(),a=c(n),s=Au(),i=c(s);function c(h){return h&&h.__esModule?h:{default:h}}function o(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")}function d(h,f){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:h}function l(h,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);h.prototype=Object.create(f&&f.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(h,f):h.__proto__=f)}var u=(function(h){l(f,h);function f(A,g){return o(this,f),d(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,A,g))}return r(f,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var g=t.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,a.default)(this.data,g,"01"),text:this.text}}}]),f})(i.default);return q0.default=u,q0}var Eg={},gT;function aD(){if(gT)return Eg;gT=1,Object.defineProperty(Eg,"__esModule",{value:!0});var r=(function(){function h(f,A){for(var g=0;g<A.length;g++){var m=A[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(f,m.key,m)}}return function(f,A,g){return A&&h(f.prototype,A),g&&h(f,g),f}})();Eg.checksum=u;var t=n0(),n=i(t),a=Au(),s=i(a);function i(h){return h&&h.__esModule?h:{default:h}}function c(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")}function o(h,f){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:h}function d(h,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);h.prototype=Object.create(f&&f.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(h,f):h.__proto__=f)}var l=(function(h){d(f,h);function f(A,g){c(this,f),A.search(/^[0-9]{11}$/)!==-1&&(A+=u(A));var m=o(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,A,g));return m.displayValue=g.displayValue,g.fontSize>g.width*10?m.fontSize=g.width*10:m.fontSize=g.fontSize,m.guardHeight=g.height+m.fontSize/2+g.textMargin,m}return r(f,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==u(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var g="";return g+="101",g+=(0,n.default)(this.data.substr(0,6),"LLLLLL"),g+="01010",g+=(0,n.default)(this.data.substr(6,6),"RRRRRR"),g+="101",{data:g,text:this.text}}},{key:"guardedEncoding",value:function(){var g=[];return this.displayValue&&g.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),g.push({data:"101"+(0,n.default)(this.data[0],"L"),options:{height:this.guardHeight}}),g.push({data:(0,n.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),g.push({data:"01010",options:{height:this.guardHeight}}),g.push({data:(0,n.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),g.push({data:(0,n.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&g.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),g}}]),f})(s.default);function u(h){var f=0,A;for(A=1;A<11;A+=2)f+=parseInt(h[A]);for(A=0;A<11;A+=2)f+=parseInt(h[A])*3;return(10-f%10)%10}return Eg.default=l,Eg}var X0={},vT;function eae(){if(vT)return X0;vT=1,Object.defineProperty(X0,"__esModule",{value:!0});var r=(function(){function g(m,x){for(var y=0;y<x.length;y++){var j=x[y];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(m,j.key,j)}}return function(m,x,y){return x&&g(m.prototype,x),y&&g(m,y),m}})(),t=n0(),n=c(t),a=Au(),s=c(a),i=aD();function c(g){return g&&g.__esModule?g:{default:g}}function o(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}function d(g,m){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:g}function l(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(g,m):g.__proto__=m)}var u=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],h=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],f=(function(g){l(m,g);function m(x,y){o(this,m);var j=d(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,x,y));if(j.isValid=!1,x.search(/^[0-9]{6}$/)!==-1)j.middleDigits=x,j.upcA=A(x,"0"),j.text=y.text||""+j.upcA[0]+x+j.upcA[j.upcA.length-1],j.isValid=!0;else if(x.search(/^[01][0-9]{7}$/)!==-1)if(j.middleDigits=x.substring(1,x.length-1),j.upcA=A(j.middleDigits,x[0]),j.upcA[j.upcA.length-1]===x[x.length-1])j.isValid=!0;else return d(j);else return d(j);return j.displayValue=y.displayValue,y.fontSize>y.width*10?j.fontSize=y.width*10:j.fontSize=y.fontSize,j.guardHeight=y.height+j.fontSize/2+y.textMargin,j}return r(m,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var y="";return y+="101",y+=this.encodeMiddleDigits(),y+="010101",{data:y,text:this.text}}},{key:"guardedEncoding",value:function(){var y=[];return this.displayValue&&y.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),y.push({data:"101",options:{height:this.guardHeight}}),y.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),y.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&y.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),y}},{key:"encodeMiddleDigits",value:function(){var y=this.upcA[0],j=this.upcA[this.upcA.length-1],b=h[parseInt(j)][parseInt(y)];return(0,n.default)(this.middleDigits,b)}}]),m})(s.default);function A(g,m){for(var x=parseInt(g[g.length-1]),y=u[x],j="",b=0,S=0;S<y.length;S++){var w=y[S];w==="X"?j+=g[b++]:j+=w}return j=""+m+j,""+j+(0,i.checksum)(j)}return X0.default=f,X0}var xT;function tae(){if(xT)return xd;xT=1,Object.defineProperty(xd,"__esModule",{value:!0}),xd.UPCE=xd.UPC=xd.EAN2=xd.EAN5=xd.EAN8=xd.EAN13=void 0;var r=Xne(),t=f(r),n=Yne(),a=f(n),s=Jne(),i=f(s),c=Zne(),o=f(c),d=aD(),l=f(d),u=eae(),h=f(u);function f(A){return A&&A.__esModule?A:{default:A}}return xd.EAN13=t.default,xd.EAN8=a.default,xd.EAN5=i.default,xd.EAN2=o.default,xd.UPC=l.default,xd.UPCE=h.default,xd}var WA={},Y0={},Dp={},yT;function rae(){return yT||(yT=1,Object.defineProperty(Dp,"__esModule",{value:!0}),Dp.START_BIN="1010",Dp.END_BIN="11101",Dp.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]),Dp}var jT;function sD(){if(jT)return Y0;jT=1,Object.defineProperty(Y0,"__esModule",{value:!0});var r=(function(){function l(u,h){for(var f=0;f<h.length;f++){var A=h[f];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(u,A.key,A)}}return function(u,h,f){return h&&l(u.prototype,h),f&&l(u,f),u}})(),t=rae(),n=Au(),a=s(n);function s(l){return l&&l.__esModule?l:{default:l}}function i(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}function c(l,u){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:l}function o(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);l.prototype=Object.create(u&&u.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(l,u):l.__proto__=u)}var d=(function(l){o(u,l);function u(){return i(this,u),c(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return r(u,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var f=this,A=this.data.match(/.{2}/g).map(function(g){return f.encodePair(g)}).join("");return{data:t.START_BIN+A+t.END_BIN,text:this.text}}},{key:"encodePair",value:function(f){var A=t.BINARIES[f[1]];return t.BINARIES[f[0]].split("").map(function(g,m){return(g==="1"?"111":"1")+(A[m]==="1"?"000":"0")}).join("")}}]),u})(a.default);return Y0.default=d,Y0}var J0={},bT;function nae(){if(bT)return J0;bT=1,Object.defineProperty(J0,"__esModule",{value:!0});var r=(function(){function l(u,h){for(var f=0;f<h.length;f++){var A=h[f];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(u,A.key,A)}}return function(u,h,f){return h&&l(u.prototype,h),f&&l(u,f),u}})(),t=sD(),n=a(t);function a(l){return l&&l.__esModule?l:{default:l}}function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}function i(l,u){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:l}function c(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);l.prototype=Object.create(u&&u.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(l,u):l.__proto__=u)}var o=function(u){var h=u.substr(0,13).split("").map(function(f){return parseInt(f,10)}).reduce(function(f,A,g){return f+A*(3-g%2*2)},0);return Math.ceil(h/10)*10-h},d=(function(l){c(u,l);function u(h,f){return s(this,u),h.search(/^[0-9]{13}$/)!==-1&&(h+=o(h)),i(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,h,f))}return r(u,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===o(this.data)}}]),u})(n.default);return J0.default=d,J0}var wT;function aae(){if(wT)return WA;wT=1,Object.defineProperty(WA,"__esModule",{value:!0}),WA.ITF14=WA.ITF=void 0;var r=sD(),t=s(r),n=nae(),a=s(n);function s(i){return i&&i.__esModule?i:{default:i}}return WA.ITF=t.default,WA.ITF14=a.default,WA}var au={},Z0={},CT;function a0(){if(CT)return Z0;CT=1,Object.defineProperty(Z0,"__esModule",{value:!0});var r=(function(){function l(u,h){for(var f=0;f<h.length;f++){var A=h[f];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(u,A.key,A)}}return function(u,h,f){return h&&l(u.prototype,h),f&&l(u,f),u}})(),t=Au(),n=a(t);function a(l){return l&&l.__esModule?l:{default:l}}function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}function i(l,u){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:l}function c(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);l.prototype=Object.create(u&&u.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(l,u):l.__proto__=u)}var o=(function(l){c(u,l);function u(h,f){return s(this,u),i(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,h,f))}return r(u,[{key:"encode",value:function(){for(var f="110",A=0;A<this.data.length;A++){var g=parseInt(this.data[A]),m=g.toString(2);m=d(m,4-m.length);for(var x=0;x<m.length;x++)f+=m[x]=="0"?"100":"110"}return f+="1001",{data:f,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),u})(n.default);function d(l,u){for(var h=0;h<u;h++)l="0"+l;return l}return Z0.default=o,Z0}var ev={},Bg={},NT;function S2(){if(NT)return Bg;NT=1,Object.defineProperty(Bg,"__esModule",{value:!0}),Bg.mod10=r,Bg.mod11=t;function r(n){for(var a=0,s=0;s<n.length;s++){var i=parseInt(n[s]);(s+n.length)%2===0?a+=i:a+=i*2%10+Math.floor(i*2/10)}return(10-a%10)%10}function t(n){for(var a=0,s=[2,3,4,5,6,7],i=0;i<n.length;i++){var c=parseInt(n[n.length-1-i]);a+=s[i%s.length]*c}return(11-a%11)%11}return Bg}var ST;function sae(){if(ST)return ev;ST=1,Object.defineProperty(ev,"__esModule",{value:!0});var r=a0(),t=a(r),n=S2();function a(d){return d&&d.__esModule?d:{default:d}}function s(d,l){if(!(d instanceof l))throw new TypeError("Cannot call a class as a function")}function i(d,l){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:d}function c(d,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);d.prototype=Object.create(l&&l.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(d,l):d.__proto__=l)}var o=(function(d){c(l,d);function l(u,h){return s(this,l),i(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,u+(0,n.mod10)(u),h))}return l})(t.default);return ev.default=o,ev}var tv={},ET;function iae(){if(ET)return tv;ET=1,Object.defineProperty(tv,"__esModule",{value:!0});var r=a0(),t=a(r),n=S2();function a(d){return d&&d.__esModule?d:{default:d}}function s(d,l){if(!(d instanceof l))throw new TypeError("Cannot call a class as a function")}function i(d,l){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:d}function c(d,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);d.prototype=Object.create(l&&l.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(d,l):d.__proto__=l)}var o=(function(d){c(l,d);function l(u,h){return s(this,l),i(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,u+(0,n.mod11)(u),h))}return l})(t.default);return tv.default=o,tv}var rv={},BT;function oae(){if(BT)return rv;BT=1,Object.defineProperty(rv,"__esModule",{value:!0});var r=a0(),t=a(r),n=S2();function a(d){return d&&d.__esModule?d:{default:d}}function s(d,l){if(!(d instanceof l))throw new TypeError("Cannot call a class as a function")}function i(d,l){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:d}function c(d,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);d.prototype=Object.create(l&&l.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(d,l):d.__proto__=l)}var o=(function(d){c(l,d);function l(u,h){return s(this,l),u+=(0,n.mod10)(u),u+=(0,n.mod10)(u),i(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,u,h))}return l})(t.default);return rv.default=o,rv}var nv={},IT;function lae(){if(IT)return nv;IT=1,Object.defineProperty(nv,"__esModule",{value:!0});var r=a0(),t=a(r),n=S2();function a(d){return d&&d.__esModule?d:{default:d}}function s(d,l){if(!(d instanceof l))throw new TypeError("Cannot call a class as a function")}function i(d,l){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:d}function c(d,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);d.prototype=Object.create(l&&l.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(d,l):d.__proto__=l)}var o=(function(d){c(l,d);function l(u,h){return s(this,l),u+=(0,n.mod11)(u),u+=(0,n.mod10)(u),i(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,u,h))}return l})(t.default);return nv.default=o,nv}var TT;function cae(){if(TT)return au;TT=1,Object.defineProperty(au,"__esModule",{value:!0}),au.MSI1110=au.MSI1010=au.MSI11=au.MSI10=au.MSI=void 0;var r=a0(),t=u(r),n=sae(),a=u(n),s=iae(),i=u(s),c=oae(),o=u(c),d=lae(),l=u(d);function u(h){return h&&h.__esModule?h:{default:h}}return au.MSI=t.default,au.MSI10=a.default,au.MSI11=i.default,au.MSI1010=o.default,au.MSI1110=l.default,au}var Ig={},kT;function dae(){if(kT)return Ig;kT=1,Object.defineProperty(Ig,"__esModule",{value:!0}),Ig.pharmacode=void 0;var r=(function(){function d(l,u){for(var h=0;h<u.length;h++){var f=u[h];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(l,f.key,f)}}return function(l,u,h){return u&&d(l.prototype,u),h&&d(l,h),l}})(),t=Au(),n=a(t);function a(d){return d&&d.__esModule?d:{default:d}}function s(d,l){if(!(d instanceof l))throw new TypeError("Cannot call a class as a function")}function i(d,l){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:d}function c(d,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);d.prototype=Object.create(l&&l.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(d,l):d.__proto__=l)}var o=(function(d){c(l,d);function l(u,h){s(this,l);var f=i(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,u,h));return f.number=parseInt(u,10),f}return r(l,[{key:"encode",value:function(){for(var h=this.number,f="";!isNaN(h)&&h!=0;)h%2===0?(f="11100"+f,h=(h-2)/2):(f="100"+f,h=(h-1)/2);return f=f.slice(0,-2),{data:f,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),l})(n.default);return Ig.pharmacode=o,Ig}var Tg={},_T;function uae(){if(_T)return Tg;_T=1,Object.defineProperty(Tg,"__esModule",{value:!0}),Tg.codabar=void 0;var r=(function(){function d(l,u){for(var h=0;h<u.length;h++){var f=u[h];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(l,f.key,f)}}return function(l,u,h){return u&&d(l.prototype,u),h&&d(l,h),l}})(),t=Au(),n=a(t);function a(d){return d&&d.__esModule?d:{default:d}}function s(d,l){if(!(d instanceof l))throw new TypeError("Cannot call a class as a function")}function i(d,l){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:d}function c(d,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);d.prototype=Object.create(l&&l.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(d,l):d.__proto__=l)}var o=(function(d){c(l,d);function l(u,h){s(this,l),u.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(u="A"+u+"A");var f=i(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,u.toUpperCase(),h));return f.text=f.options.text||f.text.replace(/[A-D]/g,""),f}return r(l,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var h=[],f=this.getEncodings(),A=0;A<this.data.length;A++)h.push(f[this.data.charAt(A)]),A!==this.data.length-1&&h.push("0");return{text:this.text,data:h.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),l})(n.default);return Tg.codabar=o,Tg}var $A={},av={},Mp={},OT;function hae(){return OT||(OT=1,Object.defineProperty(Mp,"__esModule",{value:!0}),Mp.SYMBOLS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","($)","(%)","(/)","(+)",""],Mp.BINARIES=["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"],Mp.MULTI_SYMBOLS={"\0":["(%)","U"],"":["($)","A"],"":["($)","B"],"":["($)","C"],"":["($)","D"],"":["($)","E"],"":["($)","F"],"\x07":["($)","G"],"\b":["($)","H"],"	":["($)","I"],"\n":["($)","J"],"\v":["($)","K"],"\f":["($)","L"],"\r":["($)","M"],"":["($)","N"],"":["($)","O"],"":["($)","P"],"":["($)","Q"],"":["($)","R"],"":["($)","S"],"":["($)","T"],"":["($)","U"],"":["($)","V"],"":["($)","W"],"":["($)","X"],"":["($)","Y"],"":["($)","Z"],"\x1B":["(%)","A"],"":["(%)","B"],"":["(%)","C"],"":["(%)","D"],"":["(%)","E"],"!":["(/)","A"],'"':["(/)","B"],"#":["(/)","C"],"&":["(/)","F"],"'":["(/)","G"],"(":["(/)","H"],")":["(/)","I"],"*":["(/)","J"],",":["(/)","L"],":":["(/)","Z"],";":["(%)","F"],"<":["(%)","G"],"=":["(%)","H"],">":["(%)","I"],"?":["(%)","J"],"@":["(%)","V"],"[":["(%)","K"],"\\":["(%)","L"],"]":["(%)","M"],"^":["(%)","N"],_:["(%)","O"],"`":["(%)","W"],a:["(+)","A"],b:["(+)","B"],c:["(+)","C"],d:["(+)","D"],e:["(+)","E"],f:["(+)","F"],g:["(+)","G"],h:["(+)","H"],i:["(+)","I"],j:["(+)","J"],k:["(+)","K"],l:["(+)","L"],m:["(+)","M"],n:["(+)","N"],o:["(+)","O"],p:["(+)","P"],q:["(+)","Q"],r:["(+)","R"],s:["(+)","S"],t:["(+)","T"],u:["(+)","U"],v:["(+)","V"],w:["(+)","W"],x:["(+)","X"],y:["(+)","Y"],z:["(+)","Z"],"{":["(%)","P"],"|":["(%)","Q"],"}":["(%)","R"],"~":["(%)","S"],"":["(%)","T"]}),Mp}var FT;function iD(){if(FT)return av;FT=1,Object.defineProperty(av,"__esModule",{value:!0});var r=(function(){function l(u,h){for(var f=0;f<h.length;f++){var A=h[f];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(u,A.key,A)}}return function(u,h,f){return h&&l(u.prototype,h),f&&l(u,f),u}})(),t=hae(),n=Au(),a=s(n);function s(l){return l&&l.__esModule?l:{default:l}}function i(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}function c(l,u){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:l}function o(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);l.prototype=Object.create(u&&u.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(l,u):l.__proto__=u)}var d=(function(l){o(u,l);function u(h,f){return i(this,u),c(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,h,f))}return r(u,[{key:"valid",value:function(){return/^[0-9A-Z\-. $/+%]+$/.test(this.data)}},{key:"encode",value:function(){var f=this.data.split("").flatMap(function(x){return t.MULTI_SYMBOLS[x]||x}),A=f.map(function(x){return u.getEncoding(x)}).join(""),g=u.checksum(f,20),m=u.checksum(f.concat(g),15);return{text:this.text,data:u.getEncoding("")+A+u.getEncoding(g)+u.getEncoding(m)+u.getEncoding("")+"1"}}}],[{key:"getEncoding",value:function(f){return t.BINARIES[u.symbolValue(f)]}},{key:"getSymbol",value:function(f){return t.SYMBOLS[f]}},{key:"symbolValue",value:function(f){return t.SYMBOLS.indexOf(f)}},{key:"checksum",value:function(f,A){var g=f.slice().reverse().reduce(function(m,x,y){var j=y%A+1;return m+u.symbolValue(x)*j},0);return u.getSymbol(g%47)}}]),u})(a.default);return av.default=d,av}var sv={},PT;function fae(){if(PT)return sv;PT=1,Object.defineProperty(sv,"__esModule",{value:!0});var r=(function(){function d(l,u){for(var h=0;h<u.length;h++){var f=u[h];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(l,f.key,f)}}return function(l,u,h){return u&&d(l.prototype,u),h&&d(l,h),l}})(),t=iD(),n=a(t);function a(d){return d&&d.__esModule?d:{default:d}}function s(d,l){if(!(d instanceof l))throw new TypeError("Cannot call a class as a function")}function i(d,l){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:d}function c(d,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);d.prototype=Object.create(l&&l.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(d,l):d.__proto__=l)}var o=(function(d){c(l,d);function l(u,h){return s(this,l),i(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,u,h))}return r(l,[{key:"valid",value:function(){return/^[\x00-\x7f]+$/.test(this.data)}}]),l})(n.default);return sv.default=o,sv}var DT;function Aae(){if(DT)return $A;DT=1,Object.defineProperty($A,"__esModule",{value:!0}),$A.CODE93FullASCII=$A.CODE93=void 0;var r=iD(),t=s(r),n=fae(),a=s(n);function s(i){return i&&i.__esModule?i:{default:i}}return $A.CODE93=t.default,$A.CODE93FullASCII=a.default,$A}var kg={},MT;function pae(){if(MT)return kg;MT=1,Object.defineProperty(kg,"__esModule",{value:!0}),kg.GenericBarcode=void 0;var r=(function(){function d(l,u){for(var h=0;h<u.length;h++){var f=u[h];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(l,f.key,f)}}return function(l,u,h){return u&&d(l.prototype,u),h&&d(l,h),l}})(),t=Au(),n=a(t);function a(d){return d&&d.__esModule?d:{default:d}}function s(d,l){if(!(d instanceof l))throw new TypeError("Cannot call a class as a function")}function i(d,l){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:d}function c(d,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);d.prototype=Object.create(l&&l.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(d,l):d.__proto__=l)}var o=(function(d){c(l,d);function l(u,h){return s(this,l),i(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,u,h))}return r(l,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),l})(n.default);return kg.GenericBarcode=o,kg}var RT;function mae(){if(RT)return D0;RT=1,Object.defineProperty(D0,"__esModule",{value:!0});var r=Wne(),t=qne(),n=tae(),a=aae(),s=cae(),i=dae(),c=uae(),o=Aae(),d=pae();return D0.default={CODE39:r.CODE39,CODE128:t.CODE128,CODE128A:t.CODE128A,CODE128B:t.CODE128B,CODE128C:t.CODE128C,EAN13:n.EAN13,EAN8:n.EAN8,EAN5:n.EAN5,EAN2:n.EAN2,UPC:n.UPC,UPCE:n.UPCE,ITF14:a.ITF14,ITF:a.ITF,MSI:s.MSI,MSI10:s.MSI10,MSI11:s.MSI11,MSI1010:s.MSI1010,MSI1110:s.MSI1110,pharmacode:i.pharmacode,codabar:c.codabar,CODE93:o.CODE93,CODE93FullASCII:o.CODE93FullASCII,GenericBarcode:d.GenericBarcode},D0}var iv={},LT;function E2(){if(LT)return iv;LT=1,Object.defineProperty(iv,"__esModule",{value:!0});var r=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t};return iv.default=function(t,n){return r({},t,n)},iv}var ov={},UT;function gae(){if(UT)return ov;UT=1,Object.defineProperty(ov,"__esModule",{value:!0}),ov.default=r;function r(t){var n=[];function a(s){if(Array.isArray(s))for(var i=0;i<s.length;i++)a(s[i]);else s.text=s.text||"",s.data=s.data||"",n.push(s)}return a(t),n}return ov}var lv={},HT;function vae(){if(HT)return lv;HT=1,Object.defineProperty(lv,"__esModule",{value:!0}),lv.default=r;function r(t){return t.marginTop=t.marginTop||t.margin,t.marginBottom=t.marginBottom||t.margin,t.marginRight=t.marginRight||t.margin,t.marginLeft=t.marginLeft||t.margin,t}return lv}var cv={},dv={},uv={},QT;function oD(){if(QT)return uv;QT=1,Object.defineProperty(uv,"__esModule",{value:!0}),uv.default=r;function r(t){var n=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var a in n)n.hasOwnProperty(a)&&(a=n[a],typeof t[a]=="string"&&(t[a]=parseInt(t[a],10)));return typeof t.displayValue=="string"&&(t.displayValue=t.displayValue!="false"),t}return uv}var hv={},WT;function lD(){if(WT)return hv;WT=1,Object.defineProperty(hv,"__esModule",{value:!0});var r={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};return hv.default=r,hv}var $T;function xae(){if($T)return dv;$T=1,Object.defineProperty(dv,"__esModule",{value:!0});var r=oD(),t=s(r),n=lD(),a=s(n);function s(c){return c&&c.__esModule?c:{default:c}}function i(c){var o={};for(var d in a.default)a.default.hasOwnProperty(d)&&(c.hasAttribute("jsbarcode-"+d.toLowerCase())&&(o[d]=c.getAttribute("jsbarcode-"+d.toLowerCase())),c.hasAttribute("data-"+d.toLowerCase())&&(o[d]=c.getAttribute("data-"+d.toLowerCase())));return o.value=c.getAttribute("jsbarcode-value")||c.getAttribute("data-value"),o=(0,t.default)(o),o}return dv.default=i,dv}var fv={},Av={},su={},VT;function cD(){if(VT)return su;VT=1,Object.defineProperty(su,"__esModule",{value:!0}),su.getTotalWidthOfEncodings=su.calculateEncodingAttributes=su.getBarcodePadding=su.getEncodingHeight=su.getMaximumHeightOfEncodings=void 0;var r=E2(),t=n(r);function n(l){return l&&l.__esModule?l:{default:l}}function a(l,u){return u.height+(u.displayValue&&l.text.length>0?u.fontSize+u.textMargin:0)+u.marginTop+u.marginBottom}function s(l,u,h){if(h.displayValue&&u<l){if(h.textAlign=="center")return Math.floor((l-u)/2);if(h.textAlign=="left")return 0;if(h.textAlign=="right")return Math.floor(l-u)}return 0}function i(l,u,h){for(var f=0;f<l.length;f++){var A=l[f],g=(0,t.default)(u,A.options),m;g.displayValue?m=d(A.text,g,h):m=0;var x=A.data.length*g.width;A.width=Math.ceil(Math.max(m,x)),A.height=a(A,g),A.barcodePadding=s(m,x,g)}}function c(l){for(var u=0,h=0;h<l.length;h++)u+=l[h].width;return u}function o(l){for(var u=0,h=0;h<l.length;h++)l[h].height>u&&(u=l[h].height);return u}function d(l,u,h){var f;if(h)f=h;else if(typeof document<"u")f=document.createElement("canvas").getContext("2d");else return 0;f.font=u.fontOptions+" "+u.fontSize+"px "+u.font;var A=f.measureText(l);if(!A)return 0;var g=A.width;return g}return su.getMaximumHeightOfEncodings=o,su.getEncodingHeight=a,su.getBarcodePadding=s,su.calculateEncodingAttributes=i,su.getTotalWidthOfEncodings=c,su}var zT;function yae(){if(zT)return Av;zT=1,Object.defineProperty(Av,"__esModule",{value:!0});var r=(function(){function o(d,l){for(var u=0;u<l.length;u++){var h=l[u];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(d,h.key,h)}}return function(d,l,u){return l&&o(d.prototype,l),u&&o(d,u),d}})(),t=E2(),n=s(t),a=cD();function s(o){return o&&o.__esModule?o:{default:o}}function i(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")}var c=(function(){function o(d,l,u){i(this,o),this.canvas=d,this.encodings=l,this.options=u}return r(o,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var l=0;l<this.encodings.length;l++){var u=(0,n.default)(this.options,this.encodings[l].options);this.drawCanvasBarcode(u,this.encodings[l]),this.drawCanvasText(u,this.encodings[l]),this.moveCanvasDrawing(this.encodings[l])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var l=this.canvas.getContext("2d");l.save(),(0,a.calculateEncodingAttributes)(this.encodings,this.options,l);var u=(0,a.getTotalWidthOfEncodings)(this.encodings),h=(0,a.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=u+this.options.marginLeft+this.options.marginRight,this.canvas.height=h,l.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(l.fillStyle=this.options.background,l.fillRect(0,0,this.canvas.width,this.canvas.height)),l.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(l,u){var h=this.canvas.getContext("2d"),f=u.data,A;l.textPosition=="top"?A=l.marginTop+l.fontSize+l.textMargin:A=l.marginTop,h.fillStyle=l.lineColor;for(var g=0;g<f.length;g++){var m=g*l.width+u.barcodePadding;f[g]==="1"?h.fillRect(m,A,l.width,l.height):f[g]&&h.fillRect(m,A,l.width,l.height*f[g])}}},{key:"drawCanvasText",value:function(l,u){var h=this.canvas.getContext("2d"),f=l.fontOptions+" "+l.fontSize+"px "+l.font;if(l.displayValue){var A,g;l.textPosition=="top"?g=l.marginTop+l.fontSize-l.textMargin:g=l.height+l.textMargin+l.marginTop+l.fontSize,h.font=f,l.textAlign=="left"||u.barcodePadding>0?(A=0,h.textAlign="left"):l.textAlign=="right"?(A=u.width-1,h.textAlign="right"):(A=u.width/2,h.textAlign="center"),h.fillText(u.text,A,g)}}},{key:"moveCanvasDrawing",value:function(l){var u=this.canvas.getContext("2d");u.translate(l.width,0)}},{key:"restoreCanvas",value:function(){var l=this.canvas.getContext("2d");l.restore()}}]),o})();return Av.default=c,Av}var pv={},KT;function jae(){if(KT)return pv;KT=1,Object.defineProperty(pv,"__esModule",{value:!0});var r=(function(){function d(l,u){for(var h=0;h<u.length;h++){var f=u[h];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(l,f.key,f)}}return function(l,u,h){return u&&d(l.prototype,u),h&&d(l,h),l}})(),t=E2(),n=s(t),a=cD();function s(d){return d&&d.__esModule?d:{default:d}}function i(d,l){if(!(d instanceof l))throw new TypeError("Cannot call a class as a function")}var c="http://www.w3.org/2000/svg",o=(function(){function d(l,u,h){i(this,d),this.svg=l,this.encodings=u,this.options=h,this.document=h.xmlDocument||document}return r(d,[{key:"render",value:function(){var u=this.options.marginLeft;this.prepareSVG();for(var h=0;h<this.encodings.length;h++){var f=this.encodings[h],A=(0,n.default)(this.options,f.options),g=this.createGroup(u,A.marginTop,this.svg);this.setGroupOptions(g,A),this.drawSvgBarcode(g,A,f),this.drawSVGText(g,A,f),u+=f.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,a.calculateEncodingAttributes)(this.encodings,this.options);var u=(0,a.getTotalWidthOfEncodings)(this.encodings),h=(0,a.getMaximumHeightOfEncodings)(this.encodings),f=u+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(f,h),this.options.background&&this.drawRect(0,0,f,h,this.svg).setAttribute("fill",this.options.background)}},{key:"drawSvgBarcode",value:function(u,h,f){var A=f.data,g;h.textPosition=="top"?g=h.fontSize+h.textMargin:g=0;for(var m=0,x=0,y=0;y<A.length;y++)x=y*h.width+f.barcodePadding,A[y]==="1"?m++:m>0&&(this.drawRect(x-h.width*m,g,h.width*m,h.height,u),m=0);m>0&&this.drawRect(x-h.width*(m-1),g,h.width*m,h.height,u)}},{key:"drawSVGText",value:function(u,h,f){var A=this.document.createElementNS(c,"text");if(h.displayValue){var g,m;A.setAttribute("font-family",h.font),A.setAttribute("font-size",h.fontSize),h.fontOptions.includes("bold")&&A.setAttribute("font-weight","bold"),h.fontOptions.includes("italic")&&A.setAttribute("font-style","italic"),h.textPosition=="top"?m=h.fontSize-h.textMargin:m=h.height+h.textMargin+h.fontSize,h.textAlign=="left"||f.barcodePadding>0?(g=0,A.setAttribute("text-anchor","start")):h.textAlign=="right"?(g=f.width-1,A.setAttribute("text-anchor","end")):(g=f.width/2,A.setAttribute("text-anchor","middle")),A.setAttribute("x",g),A.setAttribute("y",m),A.appendChild(this.document.createTextNode(f.text)),u.appendChild(A)}}},{key:"setSvgAttributes",value:function(u,h){var f=this.svg;f.setAttribute("width",u+"px"),f.setAttribute("height",h+"px"),f.setAttribute("x","0px"),f.setAttribute("y","0px"),f.setAttribute("viewBox","0 0 "+u+" "+h),f.setAttribute("xmlns",c),f.setAttribute("version","1.1")}},{key:"createGroup",value:function(u,h,f){var A=this.document.createElementNS(c,"g");return A.setAttribute("transform","translate("+u+", "+h+")"),f.appendChild(A),A}},{key:"setGroupOptions",value:function(u,h){u.setAttribute("fill",h.lineColor)}},{key:"drawRect",value:function(u,h,f,A,g){var m=this.document.createElementNS(c,"rect");return m.setAttribute("x",u),m.setAttribute("y",h),m.setAttribute("width",f),m.setAttribute("height",A),g.appendChild(m),m}}]),d})();return pv.default=o,pv}var mv={},GT;function bae(){if(GT)return mv;GT=1,Object.defineProperty(mv,"__esModule",{value:!0});var r=(function(){function a(s,i){for(var c=0;c<i.length;c++){var o=i[c];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(s,o.key,o)}}return function(s,i,c){return i&&a(s.prototype,i),c&&a(s,c),s}})();function t(a,s){if(!(a instanceof s))throw new TypeError("Cannot call a class as a function")}var n=(function(){function a(s,i,c){t(this,a),this.object=s,this.encodings=i,this.options=c}return r(a,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),a})();return mv.default=n,mv}var qT;function wae(){if(qT)return fv;qT=1,Object.defineProperty(fv,"__esModule",{value:!0});var r=yae(),t=c(r),n=jae(),a=c(n),s=bae(),i=c(s);function c(o){return o&&o.__esModule?o:{default:o}}return fv.default={CanvasRenderer:t.default,SVGRenderer:a.default,ObjectRenderer:i.default},fv}var Rp={},XT;function dD(){if(XT)return Rp;XT=1,Object.defineProperty(Rp,"__esModule",{value:!0});function r(c,o){if(!(c instanceof o))throw new TypeError("Cannot call a class as a function")}function t(c,o){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:c}function n(c,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);c.prototype=Object.create(o&&o.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(c,o):c.__proto__=o)}var a=(function(c){n(o,c);function o(d,l){r(this,o);var u=t(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return u.name="InvalidInputException",u.symbology=d,u.input=l,u.message='"'+u.input+'" is not a valid input for '+u.symbology,u}return o})(Error),s=(function(c){n(o,c);function o(){r(this,o);var d=t(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return d.name="InvalidElementException",d.message="Not supported type to render on",d}return o})(Error),i=(function(c){n(o,c);function o(){r(this,o);var d=t(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return d.name="NoElementException",d.message="No element to render on.",d}return o})(Error);return Rp.InvalidInputException=a,Rp.InvalidElementException=s,Rp.NoElementException=i,Rp}var YT;function Cae(){if(YT)return cv;YT=1,Object.defineProperty(cv,"__esModule",{value:!0});var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},t=xae(),n=c(t),a=wae(),s=c(a),i=dD();function c(u){return u&&u.__esModule?u:{default:u}}function o(u){if(typeof u=="string")return d(u);if(Array.isArray(u)){for(var h=[],f=0;f<u.length;f++)h.push(o(u[f]));return h}else{if(typeof HTMLCanvasElement<"u"&&u instanceof HTMLImageElement)return l(u);if(u&&u.nodeName&&u.nodeName.toLowerCase()==="svg"||typeof SVGElement<"u"&&u instanceof SVGElement)return{element:u,options:(0,n.default)(u),renderer:s.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&u instanceof HTMLCanvasElement)return{element:u,options:(0,n.default)(u),renderer:s.default.CanvasRenderer};if(u&&u.getContext)return{element:u,renderer:s.default.CanvasRenderer};if(u&&(typeof u>"u"?"undefined":r(u))==="object"&&!u.nodeName)return{element:u,renderer:s.default.ObjectRenderer};throw new i.InvalidElementException}}function d(u){var h=document.querySelectorAll(u);if(h.length!==0){for(var f=[],A=0;A<h.length;A++)f.push(o(h[A]));return f}}function l(u){var h=document.createElement("canvas");return{element:h,options:(0,n.default)(u),renderer:s.default.CanvasRenderer,afterRender:function(){u.setAttribute("src",h.toDataURL())}}}return cv.default=o,cv}var gv={},JT;function Nae(){if(JT)return gv;JT=1,Object.defineProperty(gv,"__esModule",{value:!0});var r=(function(){function a(s,i){for(var c=0;c<i.length;c++){var o=i[c];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(s,o.key,o)}}return function(s,i,c){return i&&a(s.prototype,i),c&&a(s,c),s}})();function t(a,s){if(!(a instanceof s))throw new TypeError("Cannot call a class as a function")}var n=(function(){function a(s){t(this,a),this.api=s}return r(a,[{key:"handleCatch",value:function(i){if(i.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw i.message;else throw i;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(i){try{var c=i.apply(void 0,arguments);return this.api._options.valid(!0),c}catch(o){return this.handleCatch(o),this.api}}}]),a})();return gv.default=n,gv}var $w,ZT;function Sae(){if(ZT)return $w;ZT=1;var r=mae(),t=y(r),n=E2(),a=y(n),s=gae(),i=y(s),c=vae(),o=y(c),d=Cae(),l=y(d),u=oD(),h=y(u),f=Nae(),A=y(f),g=dD(),m=lD(),x=y(m);function y(J){return J&&J.__esModule?J:{default:J}}var j=function(){},b=function(ae,G,le){var V=new j;if(typeof ae>"u")throw Error("No element to render on was provided.");return V._renderProperties=(0,l.default)(ae),V._encodings=[],V._options=x.default,V._errorHandler=new A.default(V),typeof G<"u"&&(le=le||{},le.format||(le.format=I()),V.options(le)[le.format](G,le).render()),V};b.getModule=function(J){return t.default[J]};for(var S in t.default)t.default.hasOwnProperty(S)&&w(t.default,S);function w(J,ae){j.prototype[ae]=j.prototype[ae.toUpperCase()]=j.prototype[ae.toLowerCase()]=function(G,le){var V=this;return V._errorHandler.wrapBarcodeCall(function(){le.text=typeof le.text>"u"?void 0:""+le.text;var me=(0,a.default)(V._options,le);me=(0,h.default)(me);var $=J[ae],ee=E(G,$,me);return V._encodings.push(ee),V})}}function E(J,ae,G){J=""+J;var le=new ae(J,G);if(!le.valid())throw new g.InvalidInputException(le.constructor.name,J);var V=le.encode();V=(0,i.default)(V);for(var me=0;me<V.length;me++)V[me].options=(0,a.default)(G,V[me].options);return V}function I(){return t.default.CODE128?"CODE128":Object.keys(t.default)[0]}j.prototype.options=function(J){return this._options=(0,a.default)(this._options,J),this},j.prototype.blank=function(J){var ae=new Array(J+1).join("0");return this._encodings.push({data:ae}),this},j.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var J;for(var ae in this._renderProperties){J=this._renderProperties[ae];var G=(0,a.default)(this._options,J.options);G.format=="auto"&&(G.format=I()),this._errorHandler.wrapBarcodeCall(function(){var le=G.value,V=t.default[G.format.toUpperCase()],me=E(le,V,G);L(J,me,G)})}}},j.prototype.render=function(){if(!this._renderProperties)throw new g.NoElementException;if(Array.isArray(this._renderProperties))for(var J=0;J<this._renderProperties.length;J++)L(this._renderProperties[J],this._encodings,this._options);else L(this._renderProperties,this._encodings,this._options);return this},j.prototype._defaults=x.default;function L(J,ae,G){ae=(0,i.default)(ae);for(var le=0;le<ae.length;le++)ae[le].options=(0,a.default)(G,ae[le].options),(0,o.default)(ae[le].options);(0,o.default)(G);var V=J.renderer,me=new V(J.element,ae,G);me.render(),J.afterRender&&J.afterRender()}return typeof window<"u"&&(window.JsBarcode=b),typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(J,ae){var G=[];return jQuery(this).each(function(){G.push(this)}),b(G,J,ae)}),$w=b,$w}var Eae=Sae();const ZN=si(Eae);var Lp={},Vw,ek;function Bae(){return ek||(ek=1,Vw=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),Vw}var zw={},Yf={},tk;function yp(){if(tk)return Yf;tk=1;let r;const t=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Yf.getSymbolSize=function(a){if(!a)throw new Error('"version" cannot be null or undefined');if(a<1||a>40)throw new Error('"version" should be in range from 1 to 40');return a*4+17},Yf.getSymbolTotalCodewords=function(a){return t[a]},Yf.getBCHDigit=function(n){let a=0;for(;n!==0;)a++,n>>>=1;return a},Yf.setToSJISFunction=function(a){if(typeof a!="function")throw new Error('"toSJISFunc" is not a valid function.');r=a},Yf.isKanjiModeEnabled=function(){return typeof r<"u"},Yf.toSJIS=function(a){return r(a)},Yf}var Kw={},rk;function NS(){return rk||(rk=1,(function(r){r.L={bit:1},r.M={bit:0},r.Q={bit:3},r.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return r.L;case"m":case"medium":return r.M;case"q":case"quartile":return r.Q;case"h":case"high":return r.H;default:throw new Error("Unknown EC Level: "+n)}}r.isValid=function(a){return a&&typeof a.bit<"u"&&a.bit>=0&&a.bit<4},r.from=function(a,s){if(r.isValid(a))return a;try{return t(a)}catch{return s}}})(Kw)),Kw}var Gw,nk;function Iae(){if(nk)return Gw;nk=1;function r(){this.buffer=[],this.length=0}return r.prototype={get:function(t){const n=Math.floor(t/8);return(this.buffer[n]>>>7-t%8&1)===1},put:function(t,n){for(let a=0;a<n;a++)this.putBit((t>>>n-a-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),t&&(this.buffer[n]|=128>>>this.length%8),this.length++}},Gw=r,Gw}var qw,ak;function Tae(){if(ak)return qw;ak=1;function r(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}return r.prototype.set=function(t,n,a,s){const i=t*this.size+n;this.data[i]=a,s&&(this.reservedBit[i]=!0)},r.prototype.get=function(t,n){return this.data[t*this.size+n]},r.prototype.xor=function(t,n,a){this.data[t*this.size+n]^=a},r.prototype.isReserved=function(t,n){return this.reservedBit[t*this.size+n]},qw=r,qw}var Xw={},sk;function kae(){return sk||(sk=1,(function(r){const t=yp().getSymbolSize;r.getRowColCoords=function(a){if(a===1)return[];const s=Math.floor(a/7)+2,i=t(a),c=i===145?26:Math.ceil((i-13)/(2*s-2))*2,o=[i-7];for(let d=1;d<s-1;d++)o[d]=o[d-1]-c;return o.push(6),o.reverse()},r.getPositions=function(a){const s=[],i=r.getRowColCoords(a),c=i.length;for(let o=0;o<c;o++)for(let d=0;d<c;d++)o===0&&d===0||o===0&&d===c-1||o===c-1&&d===0||s.push([i[o],i[d]]);return s}})(Xw)),Xw}var Yw={},ik;function _ae(){if(ik)return Yw;ik=1;const r=yp().getSymbolSize,t=7;return Yw.getPositions=function(a){const s=r(a);return[[0,0],[s-t,0],[0,s-t]]},Yw}var Jw={},ok;function Oae(){return ok||(ok=1,(function(r){r.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};r.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},r.from=function(s){return r.isValid(s)?parseInt(s,10):void 0},r.getPenaltyN1=function(s){const i=s.size;let c=0,o=0,d=0,l=null,u=null;for(let h=0;h<i;h++){o=d=0,l=u=null;for(let f=0;f<i;f++){let A=s.get(h,f);A===l?o++:(o>=5&&(c+=t.N1+(o-5)),l=A,o=1),A=s.get(f,h),A===u?d++:(d>=5&&(c+=t.N1+(d-5)),u=A,d=1)}o>=5&&(c+=t.N1+(o-5)),d>=5&&(c+=t.N1+(d-5))}return c},r.getPenaltyN2=function(s){const i=s.size;let c=0;for(let o=0;o<i-1;o++)for(let d=0;d<i-1;d++){const l=s.get(o,d)+s.get(o,d+1)+s.get(o+1,d)+s.get(o+1,d+1);(l===4||l===0)&&c++}return c*t.N2},r.getPenaltyN3=function(s){const i=s.size;let c=0,o=0,d=0;for(let l=0;l<i;l++){o=d=0;for(let u=0;u<i;u++)o=o<<1&2047|s.get(l,u),u>=10&&(o===1488||o===93)&&c++,d=d<<1&2047|s.get(u,l),u>=10&&(d===1488||d===93)&&c++}return c*t.N3},r.getPenaltyN4=function(s){let i=0;const c=s.data.length;for(let d=0;d<c;d++)i+=s.data[d];return Math.abs(Math.ceil(i*100/c/5)-10)*t.N4};function n(a,s,i){switch(a){case r.Patterns.PATTERN000:return(s+i)%2===0;case r.Patterns.PATTERN001:return s%2===0;case r.Patterns.PATTERN010:return i%3===0;case r.Patterns.PATTERN011:return(s+i)%3===0;case r.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(i/3))%2===0;case r.Patterns.PATTERN101:return s*i%2+s*i%3===0;case r.Patterns.PATTERN110:return(s*i%2+s*i%3)%2===0;case r.Patterns.PATTERN111:return(s*i%3+(s+i)%2)%2===0;default:throw new Error("bad maskPattern:"+a)}}r.applyMask=function(s,i){const c=i.size;for(let o=0;o<c;o++)for(let d=0;d<c;d++)i.isReserved(d,o)||i.xor(d,o,n(s,d,o))},r.getBestMask=function(s,i){const c=Object.keys(r.Patterns).length;let o=0,d=1/0;for(let l=0;l<c;l++){i(l),r.applyMask(l,s);const u=r.getPenaltyN1(s)+r.getPenaltyN2(s)+r.getPenaltyN3(s)+r.getPenaltyN4(s);r.applyMask(l,s),u<d&&(d=u,o=l)}return o}})(Jw)),Jw}var vv={},lk;function uD(){if(lk)return vv;lk=1;const r=NS(),t=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return vv.getBlocksCount=function(s,i){switch(i){case r.L:return t[(s-1)*4+0];case r.M:return t[(s-1)*4+1];case r.Q:return t[(s-1)*4+2];case r.H:return t[(s-1)*4+3];default:return}},vv.getTotalCodewordsCount=function(s,i){switch(i){case r.L:return n[(s-1)*4+0];case r.M:return n[(s-1)*4+1];case r.Q:return n[(s-1)*4+2];case r.H:return n[(s-1)*4+3];default:return}},vv}var Zw={},_g={},ck;function Fae(){if(ck)return _g;ck=1;const r=new Uint8Array(512),t=new Uint8Array(256);return(function(){let a=1;for(let s=0;s<255;s++)r[s]=a,t[a]=s,a<<=1,a&256&&(a^=285);for(let s=255;s<512;s++)r[s]=r[s-255]})(),_g.log=function(a){if(a<1)throw new Error("log("+a+")");return t[a]},_g.exp=function(a){return r[a]},_g.mul=function(a,s){return a===0||s===0?0:r[t[a]+t[s]]},_g}var dk;function Pae(){return dk||(dk=1,(function(r){const t=Fae();r.mul=function(a,s){const i=new Uint8Array(a.length+s.length-1);for(let c=0;c<a.length;c++)for(let o=0;o<s.length;o++)i[c+o]^=t.mul(a[c],s[o]);return i},r.mod=function(a,s){let i=new Uint8Array(a);for(;i.length-s.length>=0;){const c=i[0];for(let d=0;d<s.length;d++)i[d]^=t.mul(s[d],c);let o=0;for(;o<i.length&&i[o]===0;)o++;i=i.slice(o)}return i},r.generateECPolynomial=function(a){let s=new Uint8Array([1]);for(let i=0;i<a;i++)s=r.mul(s,new Uint8Array([1,t.exp(i)]));return s}})(Zw)),Zw}var eC,uk;function Dae(){if(uk)return eC;uk=1;const r=Pae();function t(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return t.prototype.initialize=function(a){this.degree=a,this.genPoly=r.generateECPolynomial(this.degree)},t.prototype.encode=function(a){if(!this.genPoly)throw new Error("Encoder not initialized");const s=new Uint8Array(a.length+this.degree);s.set(a);const i=r.mod(s,this.genPoly),c=this.degree-i.length;if(c>0){const o=new Uint8Array(this.degree);return o.set(i,c),o}return i},eC=t,eC}var tC={},rC={},nC={},hk;function hD(){return hk||(hk=1,nC.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}),nC}var Ih={},fk;function fD(){if(fk)return Ih;fk=1;const r="[0-9]+",t="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const a="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;Ih.KANJI=new RegExp(n,"g"),Ih.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Ih.BYTE=new RegExp(a,"g"),Ih.NUMERIC=new RegExp(r,"g"),Ih.ALPHANUMERIC=new RegExp(t,"g");const s=new RegExp("^"+n+"$"),i=new RegExp("^"+r+"$"),c=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Ih.testKanji=function(d){return s.test(d)},Ih.testNumeric=function(d){return i.test(d)},Ih.testAlphanumeric=function(d){return c.test(d)},Ih}var Ak;function jp(){return Ak||(Ak=1,(function(r){const t=hD(),n=fD();r.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},r.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},r.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},r.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},r.MIXED={bit:-1},r.getCharCountIndicator=function(i,c){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!t.isValid(c))throw new Error("Invalid version: "+c);return c>=1&&c<10?i.ccBits[0]:c<27?i.ccBits[1]:i.ccBits[2]},r.getBestModeForData=function(i){return n.testNumeric(i)?r.NUMERIC:n.testAlphanumeric(i)?r.ALPHANUMERIC:n.testKanji(i)?r.KANJI:r.BYTE},r.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},r.isValid=function(i){return i&&i.bit&&i.ccBits};function a(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return r.NUMERIC;case"alphanumeric":return r.ALPHANUMERIC;case"kanji":return r.KANJI;case"byte":return r.BYTE;default:throw new Error("Unknown mode: "+s)}}r.from=function(i,c){if(r.isValid(i))return i;try{return a(i)}catch{return c}}})(rC)),rC}var pk;function Mae(){return pk||(pk=1,(function(r){const t=yp(),n=uD(),a=NS(),s=jp(),i=hD(),c=7973,o=t.getBCHDigit(c);function d(f,A,g){for(let m=1;m<=40;m++)if(A<=r.getCapacity(m,g,f))return m}function l(f,A){return s.getCharCountIndicator(f,A)+4}function u(f,A){let g=0;return f.forEach(function(m){const x=l(m.mode,A);g+=x+m.getBitsLength()}),g}function h(f,A){for(let g=1;g<=40;g++)if(u(f,g)<=r.getCapacity(g,A,s.MIXED))return g}r.from=function(A,g){return i.isValid(A)?parseInt(A,10):g},r.getCapacity=function(A,g,m){if(!i.isValid(A))throw new Error("Invalid QR Code version");typeof m>"u"&&(m=s.BYTE);const x=t.getSymbolTotalCodewords(A),y=n.getTotalCodewordsCount(A,g),j=(x-y)*8;if(m===s.MIXED)return j;const b=j-l(m,A);switch(m){case s.NUMERIC:return Math.floor(b/10*3);case s.ALPHANUMERIC:return Math.floor(b/11*2);case s.KANJI:return Math.floor(b/13);case s.BYTE:default:return Math.floor(b/8)}},r.getBestVersionForData=function(A,g){let m;const x=a.from(g,a.M);if(Array.isArray(A)){if(A.length>1)return h(A,x);if(A.length===0)return 1;m=A[0]}else m=A;return d(m.mode,m.getLength(),x)},r.getEncodedBits=function(A){if(!i.isValid(A)||A<7)throw new Error("Invalid QR Code version");let g=A<<12;for(;t.getBCHDigit(g)-o>=0;)g^=c<<t.getBCHDigit(g)-o;return A<<12|g}})(tC)),tC}var aC={},mk;function Rae(){if(mk)return aC;mk=1;const r=yp(),t=1335,n=21522,a=r.getBCHDigit(t);return aC.getEncodedBits=function(i,c){const o=i.bit<<3|c;let d=o<<10;for(;r.getBCHDigit(d)-a>=0;)d^=t<<r.getBCHDigit(d)-a;return(o<<10|d)^n},aC}var sC={},iC,gk;function Lae(){if(gk)return iC;gk=1;const r=jp();function t(n){this.mode=r.NUMERIC,this.data=n.toString()}return t.getBitsLength=function(a){return 10*Math.floor(a/3)+(a%3?a%3*3+1:0)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(a){let s,i,c;for(s=0;s+3<=this.data.length;s+=3)i=this.data.substr(s,3),c=parseInt(i,10),a.put(c,10);const o=this.data.length-s;o>0&&(i=this.data.substr(s),c=parseInt(i,10),a.put(c,o*3+1))},iC=t,iC}var oC,vk;function Uae(){if(vk)return oC;vk=1;const r=jp(),t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(a){this.mode=r.ALPHANUMERIC,this.data=a}return n.getBitsLength=function(s){return 11*Math.floor(s/2)+6*(s%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(s){let i;for(i=0;i+2<=this.data.length;i+=2){let c=t.indexOf(this.data[i])*45;c+=t.indexOf(this.data[i+1]),s.put(c,11)}this.data.length%2&&s.put(t.indexOf(this.data[i]),6)},oC=n,oC}var lC,xk;function Hae(){if(xk)return lC;xk=1;const r=jp();function t(n){this.mode=r.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}return t.getBitsLength=function(a){return a*8},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(n){for(let a=0,s=this.data.length;a<s;a++)n.put(this.data[a],8)},lC=t,lC}var cC,yk;function Qae(){if(yk)return cC;yk=1;const r=jp(),t=yp();function n(a){this.mode=r.KANJI,this.data=a}return n.getBitsLength=function(s){return s*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(a){let s;for(s=0;s<this.data.length;s++){let i=t.toSJIS(this.data[s]);if(i>=33088&&i<=40956)i-=33088;else if(i>=57408&&i<=60351)i-=49472;else throw new Error("Invalid SJIS character: "+this.data[s]+`
Make sure your charset is UTF-8`);i=(i>>>8&255)*192+(i&255),a.put(i,13)}},cC=n,cC}var dC={exports:{}},jk;function Wae(){return jk||(jk=1,(function(r){var t={single_source_shortest_paths:function(n,a,s){var i={},c={};c[a]=0;var o=t.PriorityQueue.make();o.push(a,0);for(var d,l,u,h,f,A,g,m,x;!o.empty();){d=o.pop(),l=d.value,h=d.cost,f=n[l]||{};for(u in f)f.hasOwnProperty(u)&&(A=f[u],g=h+A,m=c[u],x=typeof c[u]>"u",(x||m>g)&&(c[u]=g,o.push(u,g),i[u]=l))}if(typeof s<"u"&&typeof c[s]>"u"){var y=["Could not find a path from ",a," to ",s,"."].join("");throw new Error(y)}return i},extract_shortest_path_from_predecessor_list:function(n,a){for(var s=[],i=a;i;)s.push(i),n[i],i=n[i];return s.reverse(),s},find_path:function(n,a,s){var i=t.single_source_shortest_paths(n,a,s);return t.extract_shortest_path_from_predecessor_list(i,s)},PriorityQueue:{make:function(n){var a=t.PriorityQueue,s={},i;n=n||{};for(i in a)a.hasOwnProperty(i)&&(s[i]=a[i]);return s.queue=[],s.sorter=n.sorter||a.default_sorter,s},default_sorter:function(n,a){return n.cost-a.cost},push:function(n,a){var s={value:n,cost:a};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};r.exports=t})(dC)),dC.exports}var bk;function $ae(){return bk||(bk=1,(function(r){const t=jp(),n=Lae(),a=Uae(),s=Hae(),i=Qae(),c=fD(),o=yp(),d=Wae();function l(y){return unescape(encodeURIComponent(y)).length}function u(y,j,b){const S=[];let w;for(;(w=y.exec(b))!==null;)S.push({data:w[0],index:w.index,mode:j,length:w[0].length});return S}function h(y){const j=u(c.NUMERIC,t.NUMERIC,y),b=u(c.ALPHANUMERIC,t.ALPHANUMERIC,y);let S,w;return o.isKanjiModeEnabled()?(S=u(c.BYTE,t.BYTE,y),w=u(c.KANJI,t.KANJI,y)):(S=u(c.BYTE_KANJI,t.BYTE,y),w=[]),j.concat(b,S,w).sort(function(I,L){return I.index-L.index}).map(function(I){return{data:I.data,mode:I.mode,length:I.length}})}function f(y,j){switch(j){case t.NUMERIC:return n.getBitsLength(y);case t.ALPHANUMERIC:return a.getBitsLength(y);case t.KANJI:return i.getBitsLength(y);case t.BYTE:return s.getBitsLength(y)}}function A(y){return y.reduce(function(j,b){const S=j.length-1>=0?j[j.length-1]:null;return S&&S.mode===b.mode?(j[j.length-1].data+=b.data,j):(j.push(b),j)},[])}function g(y){const j=[];for(let b=0;b<y.length;b++){const S=y[b];switch(S.mode){case t.NUMERIC:j.push([S,{data:S.data,mode:t.ALPHANUMERIC,length:S.length},{data:S.data,mode:t.BYTE,length:S.length}]);break;case t.ALPHANUMERIC:j.push([S,{data:S.data,mode:t.BYTE,length:S.length}]);break;case t.KANJI:j.push([S,{data:S.data,mode:t.BYTE,length:l(S.data)}]);break;case t.BYTE:j.push([{data:S.data,mode:t.BYTE,length:l(S.data)}])}}return j}function m(y,j){const b={},S={start:{}};let w=["start"];for(let E=0;E<y.length;E++){const I=y[E],L=[];for(let J=0;J<I.length;J++){const ae=I[J],G=""+E+J;L.push(G),b[G]={node:ae,lastCount:0},S[G]={};for(let le=0;le<w.length;le++){const V=w[le];b[V]&&b[V].node.mode===ae.mode?(S[V][G]=f(b[V].lastCount+ae.length,ae.mode)-f(b[V].lastCount,ae.mode),b[V].lastCount+=ae.length):(b[V]&&(b[V].lastCount=ae.length),S[V][G]=f(ae.length,ae.mode)+4+t.getCharCountIndicator(ae.mode,j))}}w=L}for(let E=0;E<w.length;E++)S[w[E]].end=0;return{map:S,table:b}}function x(y,j){let b;const S=t.getBestModeForData(y);if(b=t.from(j,S),b!==t.BYTE&&b.bit<S.bit)throw new Error('"'+y+'" cannot be encoded with mode '+t.toString(b)+`.
 Suggested mode is: `+t.toString(S));switch(b===t.KANJI&&!o.isKanjiModeEnabled()&&(b=t.BYTE),b){case t.NUMERIC:return new n(y);case t.ALPHANUMERIC:return new a(y);case t.KANJI:return new i(y);case t.BYTE:return new s(y)}}r.fromArray=function(j){return j.reduce(function(b,S){return typeof S=="string"?b.push(x(S,null)):S.data&&b.push(x(S.data,S.mode)),b},[])},r.fromString=function(j,b){const S=h(j,o.isKanjiModeEnabled()),w=g(S),E=m(w,b),I=d.find_path(E.map,"start","end"),L=[];for(let J=1;J<I.length-1;J++)L.push(E.table[I[J]].node);return r.fromArray(A(L))},r.rawSplit=function(j){return r.fromArray(h(j,o.isKanjiModeEnabled()))}})(sC)),sC}var wk;function Vae(){if(wk)return zw;wk=1;const r=yp(),t=NS(),n=Iae(),a=Tae(),s=kae(),i=_ae(),c=Oae(),o=uD(),d=Dae(),l=Mae(),u=Rae(),h=jp(),f=$ae();function A(E,I){const L=E.size,J=i.getPositions(I);for(let ae=0;ae<J.length;ae++){const G=J[ae][0],le=J[ae][1];for(let V=-1;V<=7;V++)if(!(G+V<=-1||L<=G+V))for(let me=-1;me<=7;me++)le+me<=-1||L<=le+me||(V>=0&&V<=6&&(me===0||me===6)||me>=0&&me<=6&&(V===0||V===6)||V>=2&&V<=4&&me>=2&&me<=4?E.set(G+V,le+me,!0,!0):E.set(G+V,le+me,!1,!0))}}function g(E){const I=E.size;for(let L=8;L<I-8;L++){const J=L%2===0;E.set(L,6,J,!0),E.set(6,L,J,!0)}}function m(E,I){const L=s.getPositions(I);for(let J=0;J<L.length;J++){const ae=L[J][0],G=L[J][1];for(let le=-2;le<=2;le++)for(let V=-2;V<=2;V++)le===-2||le===2||V===-2||V===2||le===0&&V===0?E.set(ae+le,G+V,!0,!0):E.set(ae+le,G+V,!1,!0)}}function x(E,I){const L=E.size,J=l.getEncodedBits(I);let ae,G,le;for(let V=0;V<18;V++)ae=Math.floor(V/3),G=V%3+L-8-3,le=(J>>V&1)===1,E.set(ae,G,le,!0),E.set(G,ae,le,!0)}function y(E,I,L){const J=E.size,ae=u.getEncodedBits(I,L);let G,le;for(G=0;G<15;G++)le=(ae>>G&1)===1,G<6?E.set(G,8,le,!0):G<8?E.set(G+1,8,le,!0):E.set(J-15+G,8,le,!0),G<8?E.set(8,J-G-1,le,!0):G<9?E.set(8,15-G-1+1,le,!0):E.set(8,15-G-1,le,!0);E.set(J-8,8,1,!0)}function j(E,I){const L=E.size;let J=-1,ae=L-1,G=7,le=0;for(let V=L-1;V>0;V-=2)for(V===6&&V--;;){for(let me=0;me<2;me++)if(!E.isReserved(ae,V-me)){let $=!1;le<I.length&&($=(I[le]>>>G&1)===1),E.set(ae,V-me,$),G--,G===-1&&(le++,G=7)}if(ae+=J,ae<0||L<=ae){ae-=J,J=-J;break}}}function b(E,I,L){const J=new n;L.forEach(function(me){J.put(me.mode.bit,4),J.put(me.getLength(),h.getCharCountIndicator(me.mode,E)),me.write(J)});const ae=r.getSymbolTotalCodewords(E),G=o.getTotalCodewordsCount(E,I),le=(ae-G)*8;for(J.getLengthInBits()+4<=le&&J.put(0,4);J.getLengthInBits()%8!==0;)J.putBit(0);const V=(le-J.getLengthInBits())/8;for(let me=0;me<V;me++)J.put(me%2?17:236,8);return S(J,E,I)}function S(E,I,L){const J=r.getSymbolTotalCodewords(I),ae=o.getTotalCodewordsCount(I,L),G=J-ae,le=o.getBlocksCount(I,L),V=J%le,me=le-V,$=Math.floor(J/le),ee=Math.floor(G/le),we=ee+1,R=$-ee,q=new d(R);let ie=0;const Z=new Array(le),D=new Array(le);let ue=0;const te=new Uint8Array(E.buffer);for(let he=0;he<le;he++){const X=he<me?ee:we;Z[he]=te.slice(ie,ie+X),D[he]=q.encode(Z[he]),ie+=X,ue=Math.max(ue,X)}const ye=new Uint8Array(J);let pe=0,je,re;for(je=0;je<ue;je++)for(re=0;re<le;re++)je<Z[re].length&&(ye[pe++]=Z[re][je]);for(je=0;je<R;je++)for(re=0;re<le;re++)ye[pe++]=D[re][je];return ye}function w(E,I,L,J){let ae;if(Array.isArray(E))ae=f.fromArray(E);else if(typeof E=="string"){let $=I;if(!$){const ee=f.rawSplit(E);$=l.getBestVersionForData(ee,L)}ae=f.fromString(E,$||40)}else throw new Error("Invalid data");const G=l.getBestVersionForData(ae,L);if(!G)throw new Error("The amount of data is too big to be stored in a QR Code");if(!I)I=G;else if(I<G)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+G+`.
`);const le=b(I,L,ae),V=r.getSymbolSize(I),me=new a(V);return A(me,I),g(me),m(me,I),y(me,L,0),I>=7&&x(me,I),j(me,le),isNaN(J)&&(J=c.getBestMask(me,y.bind(null,me,L))),c.applyMask(J,me),y(me,L,J),{modules:me,version:I,errorCorrectionLevel:L,maskPattern:J,segments:ae}}return zw.create=function(I,L){if(typeof I>"u"||I==="")throw new Error("No input text");let J=t.M,ae,G;return typeof L<"u"&&(J=t.from(L.errorCorrectionLevel,t.M),ae=l.from(L.version),G=c.from(L.maskPattern),L.toSJISFunc&&r.setToSJISFunction(L.toSJISFunc)),w(I,ae,J,G)},zw}var uC={},hC={},Ck;function AD(){return Ck||(Ck=1,(function(r){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let a=n.slice().replace("#","").split("");if(a.length<3||a.length===5||a.length>8)throw new Error("Invalid hex color: "+n);(a.length===3||a.length===4)&&(a=Array.prototype.concat.apply([],a.map(function(i){return[i,i]}))),a.length===6&&a.push("F","F");const s=parseInt(a.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+a.slice(0,6).join("")}}r.getOptions=function(a){a||(a={}),a.color||(a.color={});const s=typeof a.margin>"u"||a.margin===null||a.margin<0?4:a.margin,i=a.width&&a.width>=21?a.width:void 0,c=a.scale||4;return{width:i,scale:i?4:c,margin:s,color:{dark:t(a.color.dark||"#000000ff"),light:t(a.color.light||"#ffffffff")},type:a.type,rendererOpts:a.rendererOpts||{}}},r.getScale=function(a,s){return s.width&&s.width>=a+s.margin*2?s.width/(a+s.margin*2):s.scale},r.getImageWidth=function(a,s){const i=r.getScale(a,s);return Math.floor((a+s.margin*2)*i)},r.qrToImageData=function(a,s,i){const c=s.modules.size,o=s.modules.data,d=r.getScale(c,i),l=Math.floor((c+i.margin*2)*d),u=i.margin*d,h=[i.color.light,i.color.dark];for(let f=0;f<l;f++)for(let A=0;A<l;A++){let g=(f*l+A)*4,m=i.color.light;if(f>=u&&A>=u&&f<l-u&&A<l-u){const x=Math.floor((f-u)/d),y=Math.floor((A-u)/d);m=h[o[x*c+y]?1:0]}a[g++]=m.r,a[g++]=m.g,a[g++]=m.b,a[g]=m.a}}})(hC)),hC}var Nk;function zae(){return Nk||(Nk=1,(function(r){const t=AD();function n(s,i,c){s.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=c,i.width=c,i.style.height=c+"px",i.style.width=c+"px"}function a(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}r.render=function(i,c,o){let d=o,l=c;typeof d>"u"&&(!c||!c.getContext)&&(d=c,c=void 0),c||(l=a()),d=t.getOptions(d);const u=t.getImageWidth(i.modules.size,d),h=l.getContext("2d"),f=h.createImageData(u,u);return t.qrToImageData(f.data,i,d),n(h,l,u),h.putImageData(f,0,0),l},r.renderToDataURL=function(i,c,o){let d=o;typeof d>"u"&&(!c||!c.getContext)&&(d=c,c=void 0),d||(d={});const l=r.render(i,c,d),u=d.type||"image/png",h=d.rendererOpts||{};return l.toDataURL(u,h.quality)}})(uC)),uC}var fC={},Sk;function Kae(){if(Sk)return fC;Sk=1;const r=AD();function t(s,i){const c=s.a/255,o=i+'="'+s.hex+'"';return c<1?o+" "+i+'-opacity="'+c.toFixed(2).slice(1)+'"':o}function n(s,i,c){let o=s+i;return typeof c<"u"&&(o+=" "+c),o}function a(s,i,c){let o="",d=0,l=!1,u=0;for(let h=0;h<s.length;h++){const f=Math.floor(h%i),A=Math.floor(h/i);!f&&!l&&(l=!0),s[h]?(u++,h>0&&f>0&&s[h-1]||(o+=l?n("M",f+c,.5+A+c):n("m",d,0),d=0,l=!1),f+1<i&&s[h+1]||(o+=n("h",u),u=0)):d++}return o}return fC.render=function(i,c,o){const d=r.getOptions(c),l=i.modules.size,u=i.modules.data,h=l+d.margin*2,f=d.color.light.a?"<path "+t(d.color.light,"fill")+' d="M0 0h'+h+"v"+h+'H0z"/>':"",A="<path "+t(d.color.dark,"stroke")+' d="'+a(u,l,d.margin)+'"/>',g='viewBox="0 0 '+h+" "+h+'"',x='<svg xmlns="http://www.w3.org/2000/svg" '+(d.width?'width="'+d.width+'" height="'+d.width+'" ':"")+g+' shape-rendering="crispEdges">'+f+A+`</svg>
`;return typeof o=="function"&&o(null,x),x},fC}var Ek;function Gae(){if(Ek)return Lp;Ek=1;const r=Bae(),t=Vae(),n=zae(),a=Kae();function s(i,c,o,d,l){const u=[].slice.call(arguments,1),h=u.length,f=typeof u[h-1]=="function";if(!f&&!r())throw new Error("Callback required as last argument");if(f){if(h<2)throw new Error("Too few arguments provided");h===2?(l=o,o=c,c=d=void 0):h===3&&(c.getContext&&typeof l>"u"?(l=d,d=void 0):(l=d,d=o,o=c,c=void 0))}else{if(h<1)throw new Error("Too few arguments provided");return h===1?(o=c,c=d=void 0):h===2&&!c.getContext&&(d=o,o=c,c=void 0),new Promise(function(A,g){try{const m=t.create(o,d);A(i(m,c,d))}catch(m){g(m)}})}try{const A=t.create(o,d);l(null,i(A,c,d))}catch(A){l(A)}}return Lp.create=t.create,Lp.toCanvas=s.bind(null,n.render),Lp.toDataURL=s.bind(null,n.renderToDataURL),Lp.toString=s.bind(null,function(i,c,o){return a.render(i,o)}),Lp}var qae=Gae();const e4=si(qae),Xae=()=>{const{logout:r,permissions:t}=Yn(),n=jn(),[a,s]=C.useState(""),[i,c]=C.useState(!1),[o,d]=C.useState(!1),[l,u]=C.useState(!1),[h,f]=C.useState([]),A=C.useRef(null),[g,m]=C.useState({companyId:"",hcfId:"",barcodeType:"",colorBlock:""}),[x,y]=C.useState([]),[j,b]=C.useState([]),[S,w]=C.useState([]),[E,I]=C.useState([]),[L,J]=C.useState(!1),[ae,G]=C.useState(null),[le,V]=C.useState(!1),me=()=>{V(!le)},[$,ee]=C.useState({companyId:"",hcfId:"",hcfCode:"",prefix:"HCF",startSequence:1,endSequence:10,barcodeType:"Barcode",colorBlock:"White",count:1}),we=C.useCallback(async()=>{try{const te=await ha.getAllCompanies(void 0,!0);y(te)}catch(te){console.error("Failed to load companies:",te),G("Failed to load companies")}},[]),R=C.useCallback(async()=>{try{const te=await Mi.getAllHcfs(void 0,!0);b(te)}catch(te){console.error("Failed to load HCFs:",te),G("Failed to load HCFs")}},[]);C.useEffect(()=>{if($.companyId){const te=j.filter(ye=>ye.companyId===$.companyId);w(te),$.hcfId&&!te.find(ye=>ye.id===$.hcfId)&&ee(ye=>({...ye,hcfId:""}))}else w([]),ee(te=>({...te,hcfId:""}))},[$.companyId,j]);const q=C.useCallback(async()=>{try{J(!0);const te=await rp.getAllBarcodeLabels(),ye=await Promise.all(te.map(async pe=>{const je=x.find(he=>he.id===pe.companyId);let re="";try{re=(await Mi.getHcfById(pe.hcfId)).hcfName}catch(he){console.error("Error loading HCF:",he)}return{id:pe.id,hcfCode:pe.hcfCode,hcfName:re,companyId:pe.companyId,companyName:(je==null?void 0:je.companyName)||"Unknown",sequenceNumber:pe.sequenceNumber,barcodeType:pe.barcodeType,colorBlock:pe.colorBlock,barcodeValue:pe.barcodeValue,createdAt:pe.createdOn}}));I(ye)}catch(te){console.error("Failed to load labels:",te),G("Failed to load labels")}finally{J(!1)}},[x]);C.useEffect(()=>{we(),R()},[we,R]),C.useEffect(()=>{x.length>0&&q()},[x,q]),C.useCallback(async(te,ye)=>{try{return await rp.getLastSequence(te,ye)}catch(pe){return console.error("Failed to get last sequence:",pe),0}},[]);const ie=async()=>{const te=$.endSequence-$.startSequence+1;if(!$.companyId||!$.hcfId||te<1){G("Please select company, HCF, and enter valid sequence range");return}const ye=S.find(je=>je.id===$.hcfId),pe=x.find(je=>je.id===$.companyId);if(!ye||!pe){G("Invalid selection");return}try{J(!0),G(null);const re=(await rp.generateLabels({hcfId:$.hcfId,companyId:$.companyId,barcodeType:$.barcodeType,colorBlock:$.colorBlock,count:te})).map(he=>({id:he.id,hcfCode:he.hcfCode,hcfName:ye.hcfName,companyId:he.companyId,companyName:pe.companyName,sequenceNumber:he.sequenceNumber,barcodeType:he.barcodeType,colorBlock:he.colorBlock,barcodeValue:he.barcodeValue,createdAt:he.createdOn}));await q(),f(re),d(!0),c(!1),ee(he=>({...he,companyId:"",hcfId:"",hcfCode:"",prefix:"HCF",startSequence:1,endSequence:10,barcodeType:"Barcode",colorBlock:"White",count:1}))}catch(je){const re=je instanceof Error?je.message:"Failed to generate labels";G(re),console.error("Error generating labels:",je)}finally{J(!1)}};C.useEffect(()=>{o&&A.current&&h.length>0&&setTimeout(()=>{const te=A.current;if(!te)return;const ye=te.querySelectorAll(".barcode-svg"),pe=te.querySelectorAll(".qr-canvas");ye.forEach((je,re)=>{const he=h[re];if(he&&he.barcodeType==="Barcode")try{je.innerHTML="",ZN(je,he.barcodeValue,{format:"CODE128",width:2,height:50,displayValue:!1,margin:5})}catch(X){console.error("Failed to generate barcode:",X)}}),pe.forEach((je,re)=>{const he=h[re];he&&he.barcodeType==="QR Code"&&e4.toCanvas(je,he.barcodeValue,{width:150,margin:2,color:{dark:"#000000",light:"#FFFFFF"}}).catch(X=>{console.error("Failed to generate QR code:",X)})})},100)},[h,o]);const Z=()=>{!A.current||h.length===0||setTimeout(()=>{const te=A.current;if(!te)return;const ye=te.querySelectorAll(".barcode-svg"),pe=te.querySelectorAll(".qr-canvas");ye.forEach((je,re)=>{const he=h[re];if(he&&he.barcodeType==="Barcode")try{je.innerHTML="",ZN(je,he.barcodeValue,{format:"CODE128",width:2,height:50,displayValue:!1,margin:5})}catch(X){console.error("Failed to generate barcode:",X)}}),pe.forEach((je,re)=>{const he=h[re];he&&he.barcodeType==="QR Code"&&e4.toCanvas(je,he.barcodeValue,{width:150,margin:2,color:{dark:"#000000",light:"#FFFFFF"}}).catch(X=>{console.error("Failed to generate QR code:",X)})}),setTimeout(()=>{window.print()},200)},100)},D=E.filter(te=>{const ye=te.hcfCode.toLowerCase().includes(a.toLowerCase())||te.hcfName.toLowerCase().includes(a.toLowerCase())||te.companyName.toLowerCase().includes(a.toLowerCase())||te.barcodeValue.toLowerCase().includes(a.toLowerCase()),pe=!g.companyId||te.companyId===g.companyId,je=!g.hcfId||te.hcfCode===g.hcfId,re=!g.barcodeType||te.barcodeType===g.barcodeType,he=!g.colorBlock||te.colorBlock===g.colorBlock;return ye&&pe&&je&&re&&he}),ue=xs(t,n.pathname);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${le?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!le&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:me,"aria-label":le?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:le?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:ue.map(te=>e.jsx("li",{children:e.jsxs(Hr,{to:te.path,className:`nav-link ${te.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:te.icon}),!le&&e.jsx("span",{className:"nav-label",children:te.label})]})},te.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Hr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!le&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!le&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(_a,{title:"Barcode Generation",subtitle:"Generate barcodes and QR codes for waste labels"}),e.jsxs("div",{className:"barcode-generation-page",children:[e.jsxs("div",{className:"barcode-generation-header",children:[e.jsx("div",{className:"barcode-generation-header-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"7",y1:"8",x2:"7",y2:"16"}),e.jsx("line",{x1:"11",y1:"8",x2:"11",y2:"16"}),e.jsx("line",{x1:"15",y1:"8",x2:"15",y2:"16"}),e.jsx("line",{x1:"19",y1:"8",x2:"19",y2:"16"})]})}),e.jsxs("div",{className:"barcode-generation-header-text",children:[e.jsx("h1",{className:"barcode-generation-title",children:"Barcode & QR Code Label Generation"}),e.jsx("p",{className:"barcode-generation-subtitle",children:"Generate and print labels with sequence numbers"})]})]}),e.jsxs("div",{className:"barcode-generation-actions",children:[e.jsxs("div",{className:"barcode-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"barcode-search-input",placeholder:"Search by HCF Code, Name, Company, or Barcode...",value:a,onChange:te=>s(te.target.value)})]}),e.jsxs("div",{className:"barcode-action-buttons-group",children:[e.jsxs("button",{className:"barcode-filter-btn",onClick:()=>u(!0),children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filters"]}),e.jsxs("button",{className:"generate-btn",onClick:()=>c(!0),children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Generate Labels"]})]})]}),ae&&e.jsxs("div",{className:"barcode-error-banner",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),e.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),ae]}),e.jsx("div",{className:"barcode-table-container",children:e.jsxs("table",{className:"barcode-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"SEQUENCE"}),e.jsx("th",{children:"HCF CODE"}),e.jsx("th",{children:"HCF NAME"}),e.jsx("th",{children:"COMPANY"}),e.jsx("th",{children:"TYPE"}),e.jsx("th",{children:"COLOR BLOCK"}),e.jsx("th",{children:"BARCODE VALUE"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:D.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"empty-message",children:'No labels found. Click "Generate Labels" to create barcode/QR labels.'})}):D.map(te=>e.jsxs("tr",{children:[e.jsx("td",{className:"sequence-cell",children:te.sequenceNumber.toString().padStart(6,"0")}),e.jsx("td",{className:"hcf-code-cell",children:te.hcfCode}),e.jsx("td",{children:te.hcfName}),e.jsx("td",{children:te.companyName}),e.jsx("td",{children:e.jsx("div",{className:"barcode-type-icon-wrapper",children:te.barcodeType==="QR Code"?e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"3",width:"5",height:"5"}),e.jsx("rect",{x:"16",y:"3",width:"5",height:"5"}),e.jsx("rect",{x:"3",y:"16",width:"5",height:"5"}),e.jsx("rect",{x:"7",y:"7",width:"2",height:"2"}),e.jsx("rect",{x:"15",y:"7",width:"2",height:"2"}),e.jsx("rect",{x:"7",y:"15",width:"2",height:"2"}),e.jsx("rect",{x:"11",y:"11",width:"2",height:"2"}),e.jsx("rect",{x:"16",y:"16",width:"5",height:"5"})]}):e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"4",y1:"8",x2:"4",y2:"16"}),e.jsx("line",{x1:"6",y1:"8",x2:"6",y2:"16"}),e.jsx("line",{x1:"8",y1:"8",x2:"8",y2:"16"}),e.jsx("line",{x1:"10",y1:"8",x2:"10",y2:"16"}),e.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),e.jsx("line",{x1:"14",y1:"8",x2:"14",y2:"16"}),e.jsx("line",{x1:"16",y1:"8",x2:"16",y2:"16"}),e.jsx("line",{x1:"18",y1:"8",x2:"18",y2:"16"}),e.jsx("line",{x1:"20",y1:"8",x2:"20",y2:"16"})]})})}),e.jsx("td",{children:e.jsxs("div",{className:"color-block-swatch-wrapper",children:[e.jsx("div",{className:`color-block-swatch color-block-swatch--${te.colorBlock.toLowerCase()}`,style:{backgroundColor:te.colorBlock==="Yellow"?"#FFFF00":te.colorBlock==="Red"?"#FF0000":"#FFFFFF",border:te.colorBlock==="White"?"1px solid #e2e8f0":"none"}}),e.jsx("span",{className:"color-block-hex",children:te.colorBlock==="Yellow"?"#FFFF00":te.colorBlock==="Red"?"#FF0000":"#FFFFFF"})]})}),e.jsx("td",{className:"barcode-value-cell",children:te.barcodeValue}),e.jsx("td",{children:e.jsxs("div",{className:"barcode-table-action-buttons",children:[e.jsx("button",{className:"barcode-action-btn barcode-action-btn--view",onClick:()=>{f([te]),d(!0)},title:"View",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),e.jsx("button",{className:"barcode-action-btn barcode-action-btn--download",onClick:()=>{f([te]),d(!0),setTimeout(()=>Z(),200)},title:"Download",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),e.jsx("polyline",{points:"7 10 12 15 17 10"}),e.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]})}),e.jsx("button",{className:"barcode-action-btn barcode-action-btn--delete",onClick:async()=>{if(window.confirm("Are you sure you want to delete this label?"))try{await rp.deleteBarcodeLabel(te.id),await q()}catch{G("Failed to delete label")}},title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},te.id))})]})}),e.jsxs("div",{className:"barcode-pagination-info",children:["Showing ",D.length," of ",E.length," Labels"]})]})]}),i&&e.jsx(Yae,{companies:x,hcfs:S,formData:$,setFormData:ee,onClose:()=>c(!1),onGenerate:ie}),l&&e.jsx(Zae,{companies:x,hcfs:j,filters:g,setFilters:m,onClose:()=>u(!1),onClear:()=>m({companyId:"",hcfId:"",barcodeType:"",colorBlock:""})}),o&&h.length>0&&e.jsx(Jae,{labels:h,printContainerRef:A,onClose:()=>d(!1),onPrint:Z}),e.jsx("div",{className:"print-container",ref:A,children:h.map(te=>e.jsxs("div",{className:"print-label",children:[e.jsxs("div",{className:"print-label-header",children:[e.jsx("div",{className:`print-color-block-square print-color-block-square--${te.colorBlock.toLowerCase()}`,children:te.colorBlock.toUpperCase()}),e.jsxs("div",{className:"print-sequence-text",children:["Seq. No. ",te.sequenceNumber.toString().padStart(15,"0")]})]}),e.jsxs("div",{className:"print-barcode-container",children:[te.barcodeType==="QR Code"?e.jsx("canvas",{className:"qr-canvas",width:"150",height:"150"}):e.jsx("svg",{className:"barcode-svg"}),e.jsx("div",{className:"print-barcode-value",children:te.barcodeValue})]}),e.jsx("div",{className:"print-label-footer",children:e.jsx("div",{className:"print-type-label",children:te.barcodeType==="QR Code"?"QR Code":"Bar Code"})})]},te.id))})]})},Yae=({companies:r,hcfs:t,formData:n,setFormData:a,onClose:s,onGenerate:i})=>{t.find(h=>h.id===n.hcfId);const c=n.companyId?t.filter(h=>h.companyId===n.companyId):t,o=n.endSequence>=n.startSequence?n.endSequence-n.startSequence+1:0,d=n.hcfCode&&n.startSequence?`${n.prefix}-${n.hcfCode}-${n.startSequence.toString().padStart(6,"0")}`:"",l=h=>{a({...n,hcfCode:h});const f=c.find(A=>A.hcfCode.toUpperCase()===h.toUpperCase());a(f?A=>({...A,hcfCode:h,hcfId:f.id}):A=>({...A,hcfCode:h,hcfId:""}))},u=h=>{const f=t.find(A=>A.id===h);f&&a({...n,hcfId:h,hcfCode:f.hcfCode})};return e.jsx("div",{className:"modal-overlay bg-generate-modal-overlay",onClick:s,children:e.jsxs("div",{className:"modal-content bg-generate-modal",onClick:h=>h.stopPropagation(),children:[e.jsxs("div",{className:"bg-generate-modal-header",children:[e.jsxs("div",{className:"bg-generate-modal-titlewrap",children:[e.jsx("div",{className:"bg-generate-icon","aria-hidden":"true",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"3",width:"5",height:"5"}),e.jsx("rect",{x:"16",y:"3",width:"5",height:"5"}),e.jsx("rect",{x:"3",y:"16",width:"5",height:"5"}),e.jsx("rect",{x:"7",y:"7",width:"2",height:"2"}),e.jsx("rect",{x:"15",y:"7",width:"2",height:"2"}),e.jsx("rect",{x:"7",y:"15",width:"2",height:"2"}),e.jsx("rect",{x:"11",y:"11",width:"2",height:"2"}),e.jsx("rect",{x:"16",y:"16",width:"5",height:"5"})]})}),e.jsxs("div",{children:[e.jsx("h2",{className:"bg-generate-modal-title",children:"Generate Labels"}),e.jsx("p",{className:"bg-generate-modal-subtitle",children:"Create barcode or QR code labels"})]})]}),e.jsx("button",{className:"bg-generate-close",onClick:s,"aria-label":"Close",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"bg-generate-form",onSubmit:h=>{h.preventDefault(),i()},children:[e.jsxs("div",{className:"bg-generate-form-section",children:[e.jsxs("label",{className:"bg-generate-form-label",children:["LABEL TYPE ",e.jsx("span",{className:"bg-required",children:"*"})]}),e.jsxs("div",{className:"bg-label-type-options",children:[e.jsxs("button",{type:"button",className:`bg-label-type-btn ${n.barcodeType==="Barcode"?"bg-label-type-btn--active":""}`,onClick:()=>a({...n,barcodeType:"Barcode"}),children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"4",y1:"8",x2:"4",y2:"16"}),e.jsx("line",{x1:"6",y1:"8",x2:"6",y2:"16"}),e.jsx("line",{x1:"8",y1:"8",x2:"8",y2:"16"}),e.jsx("line",{x1:"10",y1:"8",x2:"10",y2:"16"}),e.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),e.jsx("line",{x1:"14",y1:"8",x2:"14",y2:"16"}),e.jsx("line",{x1:"16",y1:"8",x2:"16",y2:"16"}),e.jsx("line",{x1:"18",y1:"8",x2:"18",y2:"16"}),e.jsx("line",{x1:"20",y1:"8",x2:"20",y2:"16"})]}),"Barcode"]}),e.jsxs("button",{type:"button",className:`bg-label-type-btn ${n.barcodeType==="QR Code"?"bg-label-type-btn--active":""}`,onClick:()=>a({...n,barcodeType:"QR Code"}),children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"3",width:"5",height:"5"}),e.jsx("rect",{x:"16",y:"3",width:"5",height:"5"}),e.jsx("rect",{x:"3",y:"16",width:"5",height:"5"}),e.jsx("rect",{x:"7",y:"7",width:"2",height:"2"}),e.jsx("rect",{x:"15",y:"7",width:"2",height:"2"}),e.jsx("rect",{x:"7",y:"15",width:"2",height:"2"}),e.jsx("rect",{x:"11",y:"11",width:"2",height:"2"}),e.jsx("rect",{x:"16",y:"16",width:"5",height:"5"})]}),"QR Code"]})]})]}),e.jsx("div",{className:"bg-generate-form-section",children:e.jsxs("div",{className:"bg-generate-form-grid",children:[e.jsxs("div",{className:"bg-generate-form-group",children:[e.jsxs("label",{className:"bg-generate-form-label",children:["COMPANY ",e.jsx("span",{className:"bg-required",children:"*"})]}),e.jsxs("select",{value:n.companyId,onChange:h=>a({...n,companyId:h.target.value,hcfId:"",hcfCode:""}),required:!0,className:"bg-generate-select",children:[e.jsx("option",{value:"",children:"Select Company"}),r.map(h=>e.jsx("option",{value:h.id,children:h.companyName},h.id))]})]}),e.jsxs("div",{className:"bg-generate-form-group",children:[e.jsxs("label",{className:"bg-generate-form-label",children:["PREFIX ",e.jsx("span",{className:"bg-required",children:"*"})]}),e.jsx("input",{type:"text",value:n.prefix,onChange:h=>a({...n,prefix:h.target.value}),required:!0,className:"bg-generate-input"})]})]})}),e.jsx("div",{className:"bg-generate-form-section",children:e.jsxs("div",{className:"bg-generate-form-grid",children:[e.jsxs("div",{className:"bg-generate-form-group",children:[e.jsxs("label",{className:"bg-generate-form-label",children:["START SEQUENCE ",e.jsx("span",{className:"bg-required",children:"*"})]}),e.jsx("input",{type:"number",value:n.startSequence,onChange:h=>a({...n,startSequence:parseInt(h.target.value)||1}),required:!0,min:1,className:"bg-generate-input"})]}),e.jsxs("div",{className:"bg-generate-form-group",children:[e.jsxs("label",{className:"bg-generate-form-label",children:["END SEQUENCE ",e.jsx("span",{className:"bg-required",children:"*"})]}),e.jsx("input",{type:"number",value:n.endSequence,onChange:h=>a({...n,endSequence:parseInt(h.target.value)||1}),required:!0,min:n.startSequence,className:"bg-generate-input"})]})]})}),e.jsx("div",{className:"bg-generate-form-section",children:e.jsxs("div",{className:"bg-generate-form-grid",children:[e.jsxs("div",{className:"bg-generate-form-group",children:[e.jsxs("label",{className:"bg-generate-form-label",children:["HCF CODE ",e.jsx("span",{className:"bg-required",children:"*"})]}),e.jsx("input",{type:"text",value:n.hcfCode,onChange:h=>l(h.target.value),required:!0,placeholder:"e.g., MH01",className:"bg-generate-input"})]}),e.jsxs("div",{className:"bg-generate-form-group",children:[e.jsxs("label",{className:"bg-generate-form-label",children:["HCF NAME ",e.jsx("span",{className:"bg-required",children:"*"})]}),e.jsxs("select",{value:n.hcfId,onChange:h=>u(h.target.value),required:!0,disabled:!n.companyId,className:"bg-generate-select",children:[e.jsx("option",{value:"",children:"Select HCF"}),c.map(h=>e.jsx("option",{value:h.id,children:h.hcfName},h.id))]})]})]})}),e.jsxs("div",{className:"bg-generate-form-section",children:[e.jsxs("label",{className:"bg-generate-form-label",children:["COLOR BLOCK ",e.jsx("span",{className:"bg-required",children:"*"})]}),e.jsxs("div",{className:"bg-color-block-options",children:[e.jsxs("button",{type:"button",className:`bg-color-block-btn ${n.colorBlock==="White"?"bg-color-block-btn--active":""}`,onClick:()=>a({...n,colorBlock:"White"}),children:[e.jsx("div",{className:"bg-color-block-swatch",style:{backgroundColor:"#FFFFFF",border:"1px solid #e2e8f0"}}),e.jsx("span",{children:"WHITE"}),e.jsx("span",{className:"bg-color-block-hex",children:"#FFFFFF"})]}),e.jsxs("button",{type:"button",className:`bg-color-block-btn ${n.colorBlock==="Red"?"bg-color-block-btn--active":""}`,onClick:()=>a({...n,colorBlock:"Red"}),children:[e.jsx("div",{className:"bg-color-block-swatch",style:{backgroundColor:"#FF0000"}}),e.jsx("span",{children:"RED"}),e.jsx("span",{className:"bg-color-block-hex",children:"#FF0000"})]}),e.jsxs("button",{type:"button",className:`bg-color-block-btn ${n.colorBlock==="Yellow"?"bg-color-block-btn--active":""}`,onClick:()=>a({...n,colorBlock:"Yellow"}),children:[e.jsx("div",{className:"bg-color-block-swatch",style:{backgroundColor:"#FFFF00"}}),e.jsx("span",{children:"YELLOW"}),e.jsx("span",{className:"bg-color-block-hex",children:"#FFFF00"})]})]})]}),e.jsxs("div",{className:"bg-generate-form-section",children:[e.jsx("label",{className:"bg-generate-form-label",children:"PREVIEW"}),e.jsxs("div",{className:"bg-preview-box",children:[e.jsxs("div",{className:"bg-preview-content",children:[e.jsx("div",{className:"bg-preview-color-swatch",style:{backgroundColor:n.colorBlock==="Yellow"?"#FFFF00":n.colorBlock==="Red"?"#FF0000":"#FFFFFF",border:n.colorBlock==="White"?"1px solid #e2e8f0":"none"}}),e.jsx("div",{className:"bg-preview-barcode-value",children:d||`${n.prefix}-CODE-000001`})]}),e.jsx("div",{className:"bg-preview-count",children:o>0?`${o} label(s) will be generated`:"Enter sequence range"})]})]}),e.jsxs("div",{className:"bg-generate-modal-footer",children:[e.jsx("button",{type:"button",className:"bg-generate-btn bg-generate-btn--cancel",onClick:s,children:"Cancel"}),e.jsx("button",{type:"submit",className:"bg-generate-btn bg-generate-btn--primary",children:"Generate Labels"})]})]})]})})},Jae=({labels:r,printContainerRef:t,onClose:n,onPrint:a})=>{var o;const s=C.useRef(null),i=C.useRef(null),c=r[0];return C.useEffect(()=>{if(c)if(c.barcodeType==="Barcode"&&s.current)try{s.current.innerHTML="",ZN(s.current,c.barcodeValue,{format:"CODE128",width:2,height:50,displayValue:!1,margin:5})}catch(d){console.error("Failed to generate preview barcode:",d)}else c.barcodeType==="QR Code"&&i.current&&e4.toCanvas(i.current,c.barcodeValue,{width:150,margin:2,color:{dark:"#000000",light:"#FFFFFF"}}).catch(d=>{console.error("Failed to generate preview QR code:",d)})},[c]),e.jsx("div",{className:"modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content modal-content--preview",onClick:d=>d.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h2",{className:"modal-title",children:["Preview Label (",r.length,")"]}),e.jsx("button",{className:"modal-close-btn",onClick:n,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("div",{className:"preview-content",children:[e.jsxs("div",{className:"preview-info",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"HCF:"})," ",c==null?void 0:c.hcfCode," - ",c==null?void 0:c.hcfName]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Company:"})," ",e.jsx("span",{className:"preview-company-link",children:c==null?void 0:c.companyName})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Type:"})," ",c==null?void 0:c.barcodeType]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Color Block:"})," ",c==null?void 0:c.colorBlock]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Sequence Range:"})," ",c==null?void 0:c.sequenceNumber," - ",(o=r[r.length-1])==null?void 0:o.sequenceNumber]})]}),c&&e.jsxs("div",{className:"preview-label-single",children:[e.jsxs("div",{className:"preview-label-single-header",children:[e.jsx("div",{className:"preview-label-seq-label",children:"Seq. No:"}),e.jsx("div",{className:"preview-label-seq-number",children:c.sequenceNumber.toString().padStart(15,"0")})]}),e.jsxs("div",{className:"preview-label-single-body",children:[e.jsx("div",{className:"preview-label-single-color-text",children:c.colorBlock.toUpperCase()}),e.jsx("div",{className:"preview-label-single-barcode-container",children:c.barcodeType==="Barcode"?e.jsx("svg",{ref:s,className:"preview-barcode-svg"}):e.jsx("canvas",{ref:i,className:"preview-qr-canvas"})}),e.jsx("div",{className:"preview-label-single-barcode-value",children:c.barcodeValue}),e.jsx("div",{className:"preview-label-single-type-badge",children:c.barcodeType})]}),e.jsx("div",{className:"preview-label-single-footer",children:e.jsx("div",{className:"preview-label-single-footer-text",children:"BAR CODE"})})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Close"}),e.jsx("button",{type:"button",className:"btn btn--print-label",onClick:a,children:"Print Label"})]})]})})},Zae=({companies:r,hcfs:t,filters:n,setFilters:a,onClose:s,onClear:i})=>{const c=n.companyId?t.filter(o=>o.companyId===n.companyId):t;return e.jsx("div",{className:"modal-overlay bg-filter-modal-overlay",onClick:s,children:e.jsxs("div",{className:"modal-content bg-filter-modal",onClick:o=>o.stopPropagation(),children:[e.jsxs("div",{className:"bg-filter-modal-header",children:[e.jsxs("div",{className:"bg-filter-modal-titlewrap",children:[e.jsx("div",{className:"bg-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})})}),e.jsxs("div",{children:[e.jsx("h2",{className:"bg-filter-modal-title",children:"Advanced Filters"}),e.jsx("p",{className:"bg-filter-modal-subtitle",children:"Refine results by multiple criteria"})]})]}),e.jsx("button",{className:"bg-filter-close",onClick:s,"aria-label":"Close",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("div",{className:"bg-filter-modal-body",children:[e.jsxs("div",{className:"bg-filter-form-group",children:[e.jsx("label",{htmlFor:"filter-hcf",children:"HCF CODE"}),e.jsxs("select",{id:"filter-hcf",value:n.hcfId,onChange:o=>a({...n,hcfId:o.target.value}),className:"bg-filter-select",children:[e.jsx("option",{value:"",children:"All Codes"}),c.map(o=>e.jsx("option",{value:o.hcfCode,children:o.hcfCode},o.id))]})]}),e.jsxs("div",{className:"bg-filter-form-group",children:[e.jsx("label",{htmlFor:"filter-company",children:"COMPANY"}),e.jsxs("select",{id:"filter-company",value:n.companyId,onChange:o=>{const d=o.target.value;a({...n,companyId:d,hcfId:d?"":n.hcfId})},className:"bg-filter-select",children:[e.jsx("option",{value:"",children:"All Companies"}),r.map(o=>e.jsx("option",{value:o.id,children:o.companyName},o.id))]})]}),e.jsxs("div",{className:"bg-filter-form-group",children:[e.jsx("label",{htmlFor:"filter-type",children:"LABEL TYPE"}),e.jsxs("select",{id:"filter-type",value:n.barcodeType,onChange:o=>a({...n,barcodeType:o.target.value}),className:"bg-filter-select",children:[e.jsx("option",{value:"",children:"All Types"}),e.jsx("option",{value:"Barcode",children:"Barcode"}),e.jsx("option",{value:"QR Code",children:"QR Code"})]})]}),e.jsxs("div",{className:"bg-filter-form-group",children:[e.jsx("label",{htmlFor:"filter-color",children:"COLOR BLOCK"}),e.jsxs("select",{id:"filter-color",value:n.colorBlock,onChange:o=>a({...n,colorBlock:o.target.value}),className:"bg-filter-select",children:[e.jsx("option",{value:"",children:"All Colors"}),e.jsx("option",{value:"Yellow",children:"Yellow"}),e.jsx("option",{value:"Red",children:"Red"}),e.jsx("option",{value:"White",children:"White"})]})]})]}),e.jsxs("div",{className:"bg-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"bg-link-btn",onClick:i,children:"Clear Filters"}),e.jsx("button",{type:"button",className:"bg-filter-btn-primary",onClick:s,children:"Apply Filters"})]})]})})},ese="http://localhost:3000/api/v1",tse=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},Og=async(r,t={})=>{const n=tse(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${ese}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const o=await s.json();Array.isArray(o.message)?i=o.message.join(", "):typeof o.message=="string"?i=o.message:o.error?i=typeof o.error=="string"?o.error:JSON.stringify(o.error):o.message&&(i=String(o.message))}catch{}const c=new Error(i);throw c.status=s.status,c.statusText=s.statusText,c}return s.status===204?{}:s.json()},Bv={createCertificate:async r=>(await Og("/training-certificates",{method:"POST",body:JSON.stringify(r)})).data,getCertificateById:async r=>(await Og(`/training-certificates/${r}`,{method:"GET"})).data,getAllCertificates:async(r,t,n)=>{let a="/training-certificates";const s=new URLSearchParams;return r&&s.append("companyId",r),t&&s.append("activeOnly","true"),n!=null&&n.hcfId&&s.append("hcfId",n.hcfId),n!=null&&n.status&&s.append("status",n.status),n!=null&&n.dateFrom&&s.append("dateFrom",n.dateFrom),n!=null&&n.dateTo&&s.append("dateTo",n.dateTo),n!=null&&n.search&&s.append("search",n.search),s.toString()&&(a+=`?${s.toString()}`),(await Og(a,{method:"GET"})).data},updateCertificate:async(r,t)=>(await Og(`/training-certificates/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,deleteCertificate:async r=>{await Og(`/training-certificates/${r}`,{method:"DELETE"})}},rse=()=>{const{logout:r,user:t,permissions:n}=Yn(),a=jn(),[s,i]=C.useState(""),[c,o]=C.useState("All"),[d,l]=C.useState("All"),[u,h]=C.useState("All"),[f,A]=C.useState(""),[g,m]=C.useState(""),[x,y]=C.useState(!1),[j,b]=C.useState({companyId:"",hcfCode:"",staffName:"",staffCode:"",trainingDateFrom:"",trainingDateTo:"",status:""}),[S,w]=C.useState(!1),[E,I]=C.useState(!1),[L,J]=C.useState(null),[ae,G]=C.useState(null),[le,V]=C.useState(!0),[me,$]=C.useState(null),[ee,we]=C.useState(!1),[R,q]=C.useState(!1),ie=()=>{q(!R)},[Z,D]=C.useState([]),[ue,te]=C.useState([]),[ye,pe]=C.useState([]),je=C.useCallback(async()=>{try{const et=await ha.getAllCompanies(void 0,!0);D(et)}catch(et){console.error("Failed to load companies:",et),$("Failed to load companies")}},[]),re=C.useCallback(async et=>{try{const Le=await Mi.getAllHcfs(et,!0);te(Le)}catch(Le){console.error("Failed to load HCFs:",Le),$("Failed to load HCFs")}},[]),he=C.useCallback(async()=>{var et;try{V(!0),$(null);const Le=c!=="All"?(et=Z.find(St=>St.companyName===c))==null?void 0:et.id:void 0,it={};if(d!=="All"){const St=ue.find(_t=>_t.hcfCode===d);St&&(it.hcfId=St.id)}u!=="All"&&(it.status=u),f&&(it.dateFrom=f),g&&(it.dateTo=g),s&&(it.search=s);const qe=(await Bv.getAllCertificates(Le,!1,Object.keys(it).length>0?it:void 0)).map(St=>{const _t=Z.find(en=>en.id===St.companyId),ar=ue.find(en=>en.id===St.hcfId);return{id:St.id,certificateNo:St.certificateNo,staffName:St.staffName,staffCode:St.staffCode,designation:St.designation||"",hcfCode:(ar==null?void 0:ar.hcfCode)||"",hcfId:St.hcfId,trainingDate:St.trainingDate,status:St.status,companyName:(_t==null?void 0:_t.companyName)||"",companyId:St.companyId,trainedBy:St.trainedBy,createdBy:St.createdBy||"",createdOn:St.createdOn,modifiedBy:St.modifiedBy||"",modifiedOn:St.modifiedOn}});pe(qe)}catch(Le){console.error("Failed to load certificates:",Le),$(Le.message||"Failed to load certificates")}finally{V(!1)}},[c,d,u,f,g,s,Z,ue]);C.useEffect(()=>{(async()=>{await je(),await re()})()},[je,re]),C.useEffect(()=>{Z.length>0&&ue.length>0&&he()},[c,d,u,f,g,s,Z,ue,he]),C.useEffect(()=>{if(c!=="All"){const et=Z.find(Le=>Le.companyName===c);et&&re(et.id)}else re()},[c,Z,re]);const X=ye.filter(et=>{const Le=s.toLowerCase(),it=!s||et.certificateNo.toLowerCase().includes(Le)||et.staffName.toLowerCase().includes(Le)||et.staffCode.toLowerCase().includes(Le)||et.hcfCode.toLowerCase().includes(Le),Wt=!j.companyId||et.companyId===j.companyId,qe=!j.hcfCode||et.hcfCode.toLowerCase().includes(j.hcfCode.toLowerCase()),St=!j.staffName||et.staffName.toLowerCase().includes(j.staffName.toLowerCase()),_t=!j.staffCode||et.staffCode.toLowerCase().includes(j.staffCode.toLowerCase()),ar=!j.trainingDateFrom||et.trainingDate>=j.trainingDateFrom,en=!j.trainingDateTo||et.trainingDate<=j.trainingDateTo,Xt=!j.status||et.status===j.status;return it&&Wt&&qe&&St&&_t&&ar&&en&&Xt}),Ae=()=>{J(null),w(!0)},Be=et=>{G(et),I(!0)},Me=et=>{et.status==="Active"?(J(et),w(!0)):alert("Only Active certificates can be edited.")},$e=et=>{window.print()},ne=async et=>{try{if(we(!0),$(null),L){const Le={};et.staffName!==void 0&&(Le.staffName=et.staffName),et.staffCode!==void 0&&(Le.staffCode=et.staffCode),et.designation!==void 0&&(Le.designation=et.designation),et.hcfId!==void 0&&(Le.hcfId=et.hcfId),et.trainingDate!==void 0&&(Le.trainingDate=et.trainingDate),et.trainedBy!==void 0&&(Le.trainedBy=et.trainedBy),et.status!==void 0&&(Le.status=et.status),await Bv.updateCertificate(L.id,Le)}else{const Le=Z.find(it=>it.companyName===et.companyName);if(!Le)throw new Error("Company not found");if(!et.hcfId)throw new Error("HCF is required");if(!et.certificateNo)throw new Error("Certificate number is required");await Bv.createCertificate({certificateNo:et.certificateNo||Pe(),staffName:et.staffName||"",staffCode:et.staffCode||"",designation:et.designation,hcfId:et.hcfId,trainingDate:et.trainingDate||new Date().toISOString().split("T")[0],companyId:Le.id,trainedBy:et.trainedBy||""})}await he(),w(!1),J(null)}catch(Le){console.error("Failed to save certificate:",Le),$(Le.message||"Failed to save certificate"),alert(Le.message||"Failed to save certificate")}finally{we(!1)}},Pe=()=>{const et=new Date().getFullYear(),Le=ye.length+1;return`CERT-${et}-${Le.toString().padStart(3,"0")}`},_e=et=>{if(et==="All")return ue.filter(it=>it.status==="Active");const Le=Z.find(it=>it.companyName===et);return Le?ue.filter(it=>it.companyId===Le.id&&it.status==="Active"):[]},rt=xs(n,a.pathname);return _e(c),e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${R?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!R&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:ie,"aria-label":R?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:R?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:rt.map(et=>e.jsx("li",{children:e.jsxs(Hr,{to:et.path,className:`nav-link ${et.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:et.icon}),!R&&e.jsx("span",{className:"nav-label",children:et.label})]})},et.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Hr,{to:"/profile",className:`sidebar-profile-btn ${a.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!R&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!R&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(_a,{title:"Training Certificate Management",subtitle:"Manage training certificates and certifications"}),e.jsxs("div",{className:"route-assignment-page",children:[e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("path",{d:"M9 15l2 2 4-4"})]})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"Training Certificate Management"}),e.jsx("p",{className:"ra-page-subtitle",children:"Manage training certificates and certifications"})]})]}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"ra-search-input",placeholder:"Search by certificate number, staff name, staff code, HCF...",value:s,onChange:et=>i(et.target.value)})]}),e.jsxs("div",{className:"ra-actions",children:[e.jsxs("button",{className:"ra-filter-btn",onClick:()=>y(!0),type:"button",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),e.jsxs("button",{className:"ra-add-btn",onClick:Ae,disabled:le,type:"button",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Certificate"]})]})]}),me&&e.jsxs("div",{className:"ra-alert ra-alert--error",children:[e.jsx("span",{children:me}),e.jsx("button",{className:"ra-alert-close",onClick:()=>$(null),children:""})]}),le&&e.jsx("div",{className:"ra-alert",style:{background:"#f8fafc",borderColor:"#e2e8f0",color:"#64748b"},children:e.jsx("span",{children:"Loading certificates..."})}),e.jsx("div",{className:"route-assignment-table-container",children:le&&ye.length===0?e.jsx("div",{style:{padding:"40px",textAlign:"center",color:"#64748b"},children:"Loading certificates..."}):X.length===0?e.jsxs("div",{style:{padding:"60px",textAlign:"center",color:"#94a3b8"},children:[e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",style:{margin:"0 auto 16px",opacity:.5},children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),e.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),e.jsx("p",{style:{fontSize:"14px",margin:0},children:ye.length===0?"No certificate records found":"No certificates match your search criteria"})]}):e.jsxs("table",{className:"route-assignment-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Certificate No"}),e.jsx("th",{children:"Staff Name"}),e.jsx("th",{children:"Staff Code"}),e.jsx("th",{children:"Designation"}),e.jsx("th",{children:"HCF Code"}),e.jsx("th",{children:"Training Date"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:X.map(et=>{const Le=ue.find(it=>it.hcfCode===et.hcfCode);return e.jsxs("tr",{children:[e.jsx("td",{className:"certificate-no-cell",children:et.certificateNo}),e.jsx("td",{children:et.staffName}),e.jsx("td",{children:et.staffCode}),e.jsx("td",{children:et.designation}),e.jsx("td",{children:Le?`${et.hcfCode} - ${Le.hcfName}`:et.hcfCode}),e.jsx("td",{children:et.trainingDate}),e.jsx("td",{children:e.jsx("span",{className:`certificate-status-badge certificate-status-badge--${et.status.toLowerCase()}`,children:et.status})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"action-btn action-btn--view",onClick:()=>Be(et),title:"View",type:"button",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),et.status==="Active"&&e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>Me(et),title:"Edit",type:"button",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--print",onClick:()=>$e(),title:"Print",type:"button",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),e.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),e.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]})})]})})]},et.id)})})]})}),e.jsxs("div",{className:"route-assignment-pagination-info",children:["Showing ",X.length," of ",ye.length," items"]})]})]}),x&&e.jsx(sse,{advancedFilters:j,companies:Z.filter(et=>et.status==="Active"),hcfs:ue.filter(et=>et.status==="Active"),onClose:()=>y(!1),onClear:()=>{b({companyId:"",hcfCode:"",staffName:"",staffCode:"",trainingDateFrom:"",trainingDateTo:"",status:""}),y(!1)},onApply:et=>{b(et),y(!1)}}),S&&e.jsx(nse,{certificate:L,companies:Z.filter(et=>et.status==="Active"),hcfs:ue.filter(et=>et.status==="Active"),onClose:()=>{w(!1),J(null)},onSave:ne,generateCertificateNo:Pe}),E&&ae&&e.jsx(ase,{certificate:ae,hcfs:ue,companies:Z,onClose:()=>{I(!1),G(null)},onPrint:$e})]})},nse=({certificate:r,companies:t,hcfs:n,onClose:a,onSave:s,generateCertificateNo:i})=>{const c=()=>{if(r){const y=t.find(j=>j.companyName===r.companyName);return{...r,companyId:r.companyId||(y==null?void 0:y.id)||""}}return{certificateNo:"",staffName:"",staffCode:"",designation:"",hcfCode:"",hcfId:"",trainingDate:new Date().toISOString().split("T")[0],status:"Active",companyName:"",companyId:"",trainedBy:""}},[o,d]=C.useState(c()),[l,u]=C.useState(r?"manual":"auto");C.useEffect(()=>{if(o.companyName&&!o.companyId&&t.length>0){const y=t.find(j=>j.companyName===o.companyName);y&&d(j=>({...j,companyId:y.id}))}},[o.companyName,t.length]);const h=(()=>{if(!o.companyId&&!o.companyName)return[];const y=o.companyId?t.find(b=>b.id===o.companyId):t.find(b=>b.companyName===o.companyName);return y?n.filter(b=>b.companyId===y.id):[]})(),f=(y,j)=>{const b={[y]:j};if(y==="companyName"){const S=t.find(w=>w.companyName===j);S&&(b.companyId=S.id),b.hcfCode="",b.hcfId=""}if(y==="hcfCode"){const S=h.find(w=>w.hcfCode===j);S&&(b.hcfId=S.id)}d({...o,...b})},A=y=>{u(y),d(y==="auto"?{...o,certificateNo:i()}:{...o,certificateNo:""})},g=()=>{d({...o,certificateNo:i()})},m=y=>{if(y.preventDefault(),!o.companyName||!o.hcfCode||!o.staffName||!o.staffCode||!o.trainingDate){alert("Please fill in all required fields");return}s(o)},x=()=>{window.confirm("Are you sure you want to reset the form? All unsaved changes will be lost.")&&d({certificateNo:l==="auto"?i():"",staffName:"",staffCode:"",designation:"",hcfCode:"",trainingDate:new Date().toISOString().split("T")[0],status:"Active",companyName:"",trainedBy:""})};return e.jsx("div",{className:"modal-overlay",onClick:a,children:e.jsxs("div",{className:"modal-content",onClick:y=>y.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:r?"Edit Training Certificate":"Create Training Certificate"}),e.jsx("button",{className:"modal-close-btn",onClick:a,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"certificate-form",onSubmit:m,children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Organization Details"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company *"}),e.jsxs("select",{value:o.companyName||"",onChange:y=>{f("companyName",y.target.value)},required:!0,children:[e.jsx("option",{value:"",children:"Select Company"}),t.map(y=>e.jsx("option",{value:y.companyName,children:y.companyName},y.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"HCF *"}),e.jsxs("select",{value:o.hcfCode||"",onChange:y=>f("hcfCode",y.target.value),required:!0,disabled:!o.companyId&&!o.companyName,children:[e.jsx("option",{value:"",children:"Select HCF"}),h.length===0&&(o.companyId||o.companyName)?e.jsx("option",{value:"",disabled:!0,children:"No HCFs available for selected company"}):h.map(y=>e.jsxs("option",{value:y.hcfCode,children:[y.hcfCode," - ",y.hcfName]},y.id))]})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Staff Details"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Staff Code *"}),e.jsx("input",{type:"text",value:o.staffCode||"",onChange:y=>f("staffCode",y.target.value),required:!0,placeholder:"Enter staff code"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Staff Name *"}),e.jsx("input",{type:"text",value:o.staffName||"",onChange:y=>f("staffName",y.target.value),required:!0,placeholder:"Enter staff name"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Designation *"}),e.jsx("input",{type:"text",value:o.designation||"",onChange:y=>f("designation",y.target.value),required:!0,placeholder:"Enter designation"})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Training Details"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group form-group--full",children:[e.jsx("label",{children:"Certificate Number *"}),e.jsxs("div",{className:"certificate-no-input-group",children:[e.jsxs("div",{className:"certificate-no-mode-toggle",children:[e.jsx("button",{type:"button",className:`mode-toggle-btn ${l==="auto"?"active":""}`,onClick:()=>A("auto"),children:"Auto"}),e.jsx("button",{type:"button",className:`mode-toggle-btn ${l==="manual"?"active":""}`,onClick:()=>A("manual"),children:"Manual"})]}),e.jsx("input",{type:"text",value:o.certificateNo||"",onChange:y=>f("certificateNo",y.target.value),required:!0,placeholder:l==="auto"?"Auto-generated":"Enter certificate number",disabled:l==="auto"&&!r,style:{flex:1}}),l==="auto"&&!r&&e.jsx("button",{type:"button",className:"generate-btn-small",onClick:g,children:"Generate"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Training Date *"}),e.jsx("input",{type:"date",value:o.trainingDate||"",onChange:y=>f("trainingDate",y.target.value),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Trained By *"}),e.jsx("input",{type:"text",value:o.trainedBy||"",onChange:y=>f("trainedBy",y.target.value),required:!0,placeholder:"Enter trainer name or organization"})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Status"}),e.jsx("div",{className:"form-grid",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status *"}),e.jsxs("select",{value:o.status||"Active",onChange:y=>f("status",y.target.value),required:!0,children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:x,children:"Reset"}),e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:a,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn--primary",children:"Save"})]})]})]})})},ase=({certificate:r,hcfs:t,companies:n,onClose:a,onPrint:s})=>{const i=t.find(c=>c.hcfCode===r.hcfCode);return n.find(c=>c.companyName===r.companyName),e.jsx("div",{className:"modal-overlay",onClick:a,children:e.jsxs("div",{className:"modal-content modal-content--view",onClick:c=>c.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h2",{className:"modal-title",children:["Training Certificate - ",r.certificateNo]}),e.jsx("button",{className:"modal-close-btn",onClick:a,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("div",{className:"certificate-view-content",children:[e.jsxs("div",{className:"certificate-view-section",children:[e.jsx("h3",{className:"certificate-view-section-title",children:"Organization Details"}),e.jsxs("div",{className:"certificate-view-grid",children:[e.jsxs("div",{className:"certificate-view-field",children:[e.jsx("label",{children:"Company:"}),e.jsx("span",{children:r.companyName||"-"})]}),e.jsxs("div",{className:"certificate-view-field",children:[e.jsx("label",{children:"HCF:"}),e.jsx("span",{children:i?`${r.hcfCode} - ${i.hcfName}`:r.hcfCode})]})]})]}),e.jsxs("div",{className:"certificate-view-section",children:[e.jsx("h3",{className:"certificate-view-section-title",children:"Staff Details"}),e.jsxs("div",{className:"certificate-view-grid",children:[e.jsxs("div",{className:"certificate-view-field",children:[e.jsx("label",{children:"Staff Code:"}),e.jsx("span",{children:r.staffCode||"-"})]}),e.jsxs("div",{className:"certificate-view-field",children:[e.jsx("label",{children:"Staff Name:"}),e.jsx("span",{children:r.staffName||"-"})]}),e.jsxs("div",{className:"certificate-view-field",children:[e.jsx("label",{children:"Designation:"}),e.jsx("span",{children:r.designation||"-"})]})]})]}),e.jsxs("div",{className:"certificate-view-section",children:[e.jsx("h3",{className:"certificate-view-section-title",children:"Training Details"}),e.jsxs("div",{className:"certificate-view-grid",children:[e.jsxs("div",{className:"certificate-view-field",children:[e.jsx("label",{children:"Certificate Number:"}),e.jsx("span",{className:"certificate-no-display",children:r.certificateNo||"-"})]}),e.jsxs("div",{className:"certificate-view-field",children:[e.jsx("label",{children:"Training Date:"}),e.jsx("span",{children:r.trainingDate||"-"})]}),e.jsxs("div",{className:"certificate-view-field",children:[e.jsx("label",{children:"Trained By:"}),e.jsx("span",{children:r.trainedBy||"-"})]}),e.jsxs("div",{className:"certificate-view-field",children:[e.jsx("label",{children:"Status:"}),e.jsx("span",{className:`certificate-status-badge certificate-status-badge--${r.status.toLowerCase()}`,children:r.status})]})]})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:a,children:"Back"}),e.jsx("button",{type:"button",className:"btn btn--primary",onClick:()=>s(r),children:"Print Certificate"})]})]})})},sse=({advancedFilters:r,companies:t,hcfs:n,onClose:a,onClear:s,onApply:i})=>{const[c,o]=C.useState(r);return e.jsx("div",{className:"modal-overlay ra-filter-modal-overlay",onClick:a,children:e.jsxs("div",{className:"modal-content ra-filter-modal",onClick:d=>d.stopPropagation(),children:[e.jsxs("div",{className:"ra-filter-modal-header",children:[e.jsxs("div",{className:"ra-filter-modal-titlewrap",children:[e.jsx("div",{className:"ra-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M22 3H2l8 9v7l4 2v-9l8-9z"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"ra-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"ra-filter-subtitle",children:"Filter certificates by multiple criteria"})]})]}),e.jsx("button",{className:"ra-filter-close",onClick:a,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"ra-filter-modal-body",children:e.jsxs("div",{className:"ra-filter-grid",children:[e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Company"}),e.jsxs("select",{value:c.companyId,onChange:d=>o({...c,companyId:d.target.value}),className:"ra-filter-select",children:[e.jsx("option",{value:"",children:"All Companies"}),t.map(d=>e.jsx("option",{value:d.id,children:d.companyName},d.id))]})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"HCF Code"}),e.jsx("input",{type:"text",value:c.hcfCode,onChange:d=>o({...c,hcfCode:d.target.value}),className:"ra-filter-input",placeholder:"Enter HCF code"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Staff Name"}),e.jsx("input",{type:"text",value:c.staffName,onChange:d=>o({...c,staffName:d.target.value}),className:"ra-filter-input",placeholder:"Enter staff name"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Staff Code"}),e.jsx("input",{type:"text",value:c.staffCode,onChange:d=>o({...c,staffCode:d.target.value}),className:"ra-filter-input",placeholder:"Enter staff code"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Training Date From"}),e.jsx("input",{type:"date",value:c.trainingDateFrom,onChange:d=>o({...c,trainingDateFrom:d.target.value}),className:"ra-filter-input"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Training Date To"}),e.jsx("input",{type:"date",value:c.trainingDateTo,onChange:d=>o({...c,trainingDateTo:d.target.value}),className:"ra-filter-input"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:c.status,onChange:d=>o({...c,status:d.target.value}),className:"ra-filter-select",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"ra-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"ra-link-btn",onClick:()=>{o({companyId:"",hcfCode:"",staffName:"",staffCode:"",trainingDateFrom:"",trainingDateTo:"",status:""}),s()},children:"Clear Filters"}),e.jsx("button",{type:"button",className:"ra-btn ra-btn--primary ra-btn--sm",onClick:()=>i(c),children:"Apply Filters"})]})]})})},ise="http://localhost:3000/api/v1",ose=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},Fg=async(r,t={})=>{const n=ose(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${ise}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const o=await s.json();Array.isArray(o.message)?i=o.message.join(", "):typeof o.message=="string"?i=o.message:o.error?i=typeof o.error=="string"?o.error:JSON.stringify(o.error):o.message&&(i=String(o.message))}catch{}const c=new Error(i);throw c.status=s.status,c.statusText=s.statusText,c}return s.status===204?{}:s.json()},dA={getAllContracts:async(r,t)=>{let n="/contracts";const a=new URLSearchParams;return r&&a.append("companyId",r),t&&a.append("status",t),a.toString()&&(n+=`?${a.toString()}`),(await Fg(n,{method:"GET"})).data},getContractById:async r=>(await Fg(`/contracts/${r}`,{method:"GET"})).data,createContract:async r=>(await Fg("/contracts",{method:"POST",body:JSON.stringify(r)})).data,updateContract:async(r,t)=>(await Fg(`/contracts/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,deleteContract:async r=>{await Fg(`/contracts/${r}`,{method:"DELETE"})}},lse=()=>{const{logout:r,permissions:t}=Yn(),n=jn(),a=qa(),[s,i]=C.useState(""),[c,o]=C.useState("All"),[d,l]=C.useState(!1),[u,h]=C.useState(!1),[f,A]=C.useState(null),[g,m]=C.useState([]),[x,y]=C.useState([]),[j,b]=C.useState([]),[S,w]=C.useState([]),[E,I]=C.useState(!1),[L,J]=C.useState(null),[ae,G]=C.useState(!1),[le,V]=C.useState(!1),[me,$]=C.useState({contractNum:"",companyName:"",hcfName:"",billingType:"",status:""}),ee=()=>{V(!le)},we=C.useCallback(async()=>{try{const re=await ha.getAllCompanies(!0);y(re.map(he=>({id:he.id,companyCode:he.companyCode,companyName:he.companyName})))}catch(re){console.error("Failed to load companies:",re)}},[]),R=C.useCallback(async()=>{try{const re=await Mi.getAllHcfs(void 0,!0);b(re.map(he=>({id:he.id,hcfCode:he.hcfCode,hcfName:he.hcfName,companyId:he.companyId})))}catch(re){console.error("Failed to load HCFs:",re)}},[]),q=C.useCallback(async()=>{try{I(!0),J(null);const re=await dA.getAllContracts(),he=await Promise.all(re.map(async X=>{const Ae=x.find(Me=>Me.id===X.companyId),Be=j.find(Me=>Me.id===X.hcfId);return{id:X.id,contractID:X.contractID,contractNum:X.contractNum,companyName:(Ae==null?void 0:Ae.companyName)||"Unknown",companyID:X.companyId,hcfName:(Be==null?void 0:Be.hcfName)||"Unknown",hcfID:X.hcfId,startDate:X.startDate,endDate:X.endDate,billingType:X.billingType,status:X.status}}));m(he)}catch(re){console.error("Failed to load contracts:",re),J(re.message||"Failed to load contracts")}finally{I(!1)}},[x,j]);C.useEffect(()=>{(async()=>{await Promise.all([we(),R()])})()},[we,R]),C.useEffect(()=>{x.length>0&&j.length>0&&q()},[x.length,j.length,q]),C.useEffect(()=>{f!=null&&f.companyID?w(j.filter(re=>re.companyId===f.companyID)):w(j)},[f==null?void 0:f.companyID,j]);const ie=C.useMemo(()=>{const re=s.trim().toLowerCase(),he=me.contractNum.trim().toLowerCase(),X=me.companyName.trim().toLowerCase(),Ae=me.hcfName.trim().toLowerCase(),Be=me.billingType.trim().toLowerCase(),Me=me.status.trim();return g.filter($e=>{const ne=!re||$e.contractNum.toLowerCase().includes(re)||$e.companyName.toLowerCase().includes(re)||$e.hcfName.toLowerCase().includes(re),Pe=c==="All"||$e.status===c,_e=!he||$e.contractNum.toLowerCase().includes(he),rt=!X||$e.companyName.toLowerCase().includes(X),et=!Ae||$e.hcfName.toLowerCase().includes(Ae),Le=!Be||$e.billingType.toLowerCase().includes(Be),it=!Me||$e.status===Me;return ne&&Pe&&_e&&rt&&et&&Le&&it})},[g,s,c,me]),Z=()=>{A(null),l(!0)},D=(re,he)=>{he.stopPropagation(),A(re),l(!0)},ue=async re=>{try{G(!0),J(null),f?await dA.updateContract(f.id,{contractNum:re.contractNum,startDate:re.startDate,endDate:re.endDate,billingType:re.billingType,status:re.status}):await dA.createContract({contractNum:re.contractNum,companyId:re.companyID,hcfId:re.hcfID,startDate:re.startDate,endDate:re.endDate,billingType:re.billingType,status:re.status||"Draft"}),l(!1),A(null),await q()}catch(he){console.error("Failed to save contract:",he),J(he.message||"Failed to save contract"),alert(he.message||"Failed to save contract")}finally{G(!1)}},te=re=>{a(`/commercial-agreements/agreement?contractId=${re.id}`)},ye=({status:re})=>{const he=`status-badge status-badge--${re.toLowerCase()}`;return e.jsx("span",{className:he,children:re})},pe=({contract:re})=>e.jsx(e.Fragment,{children:e.jsx("button",{className:"action-btn action-btn--edit",onClick:he=>D(re,he),title:"Edit Contract","aria-label":`Edit contract ${re.contractNum}`,children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})})}),je=xs(t,n.pathname);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar sidebar ${le?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-header",children:[e.jsxs("div",{className:"brand",children:[e.jsx("div",{className:"logo-container",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]})}),!le&&e.jsxs("div",{className:"brand-text",children:[e.jsx("span",{className:"brand-title",children:"MEDI-WASTE"}),e.jsx("span",{className:"brand-subtitle",children:"Enterprise Platform"})]})]}),e.jsx("button",{className:"toggle-button",onClick:ee,"aria-label":le?"Expand sidebar":"Collapse sidebar",type:"button",children:e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:le?e.jsx("path",{d:"M9 18l6-6-6-6"}):e.jsx("path",{d:"M15 18l-6-6 6-6"})})})]}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:je.map(re=>e.jsx("li",{children:e.jsxs(Hr,{to:re.path,className:`nav-link ${re.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:re.icon}),!le&&e.jsx("span",{className:"nav-label",children:re.label})]})},re.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Hr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!le&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!le&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(_a,{title:"Contract Master",subtitle:"Manage contracts and agreements"}),e.jsxs("div",{className:"route-assignment-page",children:[e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon","aria-hidden":"true",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"Contract Master"}),e.jsx("p",{className:"ra-page-subtitle",children:"Manage and track contracts, billing type and status"})]})]}),L&&e.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"20px",backgroundColor:"#fee",color:"#c00",borderRadius:"4px"},children:L}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"ra-search-input",placeholder:"Search by contract number or company...",value:s,onChange:re=>i(re.target.value)})]}),e.jsxs("div",{className:"ra-actions",children:[e.jsxs("button",{className:"ra-filter-btn",onClick:()=>h(!0),type:"button",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),e.jsxs("button",{className:"ra-add-btn",onClick:Z,type:"button",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Contract"]})]})]}),E&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading contracts..."}),e.jsx("div",{className:"route-assignment-table-container",children:e.jsxs("table",{className:"route-assignment-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"CONTRACT NUMBER"}),e.jsx("th",{children:"CONTRACT ID"}),e.jsx("th",{children:"COMPANY"}),e.jsx("th",{children:"HCF"}),e.jsx("th",{children:"START DATE"}),e.jsx("th",{children:"END DATE"}),e.jsx("th",{children:"BILLING TYPE"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:ie.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"empty-message",children:E?"Loading...":"No contract records found"})}):ie.map(re=>{const he=X=>{if(!X)return"-";const Ae=new Date(X),Be=String(Ae.getDate()).padStart(2,"0"),Me=String(Ae.getMonth()+1).padStart(2,"0"),$e=Ae.getFullYear();return`${Be}/${Me}/${$e}`};return e.jsxs("tr",{onClick:()=>te(re),style:{cursor:"pointer"},children:[e.jsx("td",{children:e.jsx("span",{className:"contract-num-cell",children:re.contractNum})}),e.jsx("td",{children:re.contractID}),e.jsx("td",{children:re.companyName}),e.jsx("td",{children:re.hcfName}),e.jsx("td",{children:he(re.startDate)}),e.jsx("td",{children:he(re.endDate)}),e.jsx("td",{children:re.billingType}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx(ye,{status:re.status})})}),e.jsx("td",{onClick:X=>X.stopPropagation(),children:e.jsx("div",{className:"action-buttons ra-actions",children:e.jsx(pe,{contract:re})})})]},re.id)})})]})}),e.jsxs("div",{className:"route-assignment-pagination-info",children:["Showing ",ie.length," of ",g.length," items"]})]})]}),d&&e.jsx(cse,{contract:f,companies:x,hcfs:S,saving:ae,onClose:()=>{l(!1),A(null)},onSave:ue}),u&&e.jsx(dse,{statusFilter:c,advancedFilters:me,onClose:()=>h(!1),onClear:()=>{o("All"),$({contractNum:"",companyName:"",hcfName:"",billingType:"",status:""}),h(!1)},onApply:re=>{o(re.statusFilter),$(re.advancedFilters),h(!1)}})]})},cse=({contract:r,companies:t,hcfs:n,saving:a,onClose:s,onSave:i})=>{const[c,o]=C.useState(r||{contractNum:"",companyID:"",hcfID:"",startDate:"",endDate:"",billingType:"Bed",status:"Draft"}),d=h=>{o({...c,companyID:h,hcfID:""})},l=h=>{if(h.preventDefault(),!c.contractNum||!c.companyID||!c.hcfID||!c.startDate||!c.endDate){alert("Please fill in all required fields");return}if(new Date(c.startDate)>new Date(c.endDate)){alert("End date must be after start date");return}i(c)},u=c.companyID?n.filter(h=>h.companyId===c.companyID):[];return e.jsx("div",{className:"modal-overlay",onClick:s,children:e.jsxs("div",{className:"modal-content",onClick:h=>h.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:r?"Edit Contract":"Add Contract"}),e.jsx("button",{className:"modal-close-btn",onClick:s,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"contract-form",onSubmit:l,children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Contract Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Contract Number *"}),e.jsx("input",{type:"text",value:c.contractNum||"",onChange:h=>o({...c,contractNum:h.target.value}),required:!0,disabled:a,placeholder:"e.g., CONTRACT-2024-001"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company *"}),e.jsxs("select",{value:c.companyID||"",onChange:h=>d(h.target.value),required:!0,disabled:a||!!r,children:[e.jsx("option",{value:"",children:"Select Company"}),t.map(h=>e.jsxs("option",{value:h.id,children:[h.companyCode," - ",h.companyName]},h.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"HCF *"}),e.jsxs("select",{value:c.hcfID||"",onChange:h=>o({...c,hcfID:h.target.value}),required:!0,disabled:a||!c.companyID,children:[e.jsx("option",{value:"",children:"Select HCF"}),u.map(h=>e.jsxs("option",{value:h.id,children:[h.hcfCode," - ",h.hcfName]},h.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Start Date *"}),e.jsx("input",{type:"date",value:c.startDate||"",onChange:h=>o({...c,startDate:h.target.value}),required:!0,disabled:a})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"End Date *"}),e.jsx("input",{type:"date",value:c.endDate||"",onChange:h=>o({...c,endDate:h.target.value}),required:!0,disabled:a})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Billing Type *"}),e.jsxs("select",{value:c.billingType||"Bed",onChange:h=>o({...c,billingType:h.target.value}),required:!0,disabled:a,children:[e.jsx("option",{value:"Bed",children:"Bed"}),e.jsx("option",{value:"Kg",children:"Kg"}),e.jsx("option",{value:"Lumpsum",children:"Lumpsum"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:c.status||"Draft",onChange:h=>o({...c,status:h.target.value}),disabled:a,children:[e.jsx("option",{value:"Draft",children:"Draft"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Expired",children:"Expired"})]})]})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:s,disabled:a,children:"Cancel"}),e.jsxs("button",{type:"submit",className:"btn btn--primary",disabled:a,children:[a?"Saving...":r?"Update":"Add"," Contract"]})]})]})]})})},dse=({statusFilter:r,advancedFilters:t,onClose:n,onClear:a,onApply:s})=>{const[i,c]=C.useState(r),[o,d]=C.useState(t);return e.jsx("div",{className:"modal-overlay ra-filter-modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content ra-filter-modal",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"ra-filter-modal-header",children:[e.jsxs("div",{className:"ra-filter-modal-titlewrap",children:[e.jsx("div",{className:"ra-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M22 3H2l8 9v7l4 2v-9l8-9z"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"ra-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"ra-filter-subtitle",children:"Filter contracts by multiple criteria"})]})]}),e.jsx("button",{className:"ra-filter-close",onClick:n,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"ra-filter-modal-body",children:e.jsxs("div",{className:"ra-filter-grid",children:[e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Contract Number"}),e.jsx("input",{type:"text",value:o.contractNum,onChange:l=>d({...o,contractNum:l.target.value}),className:"ra-filter-input",placeholder:"Enter contract number"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Company Name"}),e.jsx("input",{type:"text",value:o.companyName,onChange:l=>d({...o,companyName:l.target.value}),className:"ra-filter-input",placeholder:"Enter company name"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"HCF Name"}),e.jsx("input",{type:"text",value:o.hcfName,onChange:l=>d({...o,hcfName:l.target.value}),className:"ra-filter-input",placeholder:"Enter HCF name"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Billing Type"}),e.jsxs("select",{value:o.billingType,onChange:l=>d({...o,billingType:l.target.value}),className:"ra-filter-select",children:[e.jsx("option",{value:"",children:"All Types"}),e.jsx("option",{value:"Bed",children:"Bed"}),e.jsx("option",{value:"Kg",children:"Kg"}),e.jsx("option",{value:"Lumpsum",children:"Lumpsum"})]})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:i,onChange:l=>c(l.target.value),className:"ra-filter-select",children:[e.jsx("option",{value:"All",children:"All Status"}),e.jsx("option",{value:"Draft",children:"Draft"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Expired",children:"Expired"})]})]})]})}),e.jsxs("div",{className:"ra-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"ra-link-btn",onClick:()=>{c("All"),d({contractNum:"",companyName:"",hcfName:"",billingType:"",status:""}),a()},children:"Clear Filters"}),e.jsx("button",{type:"button",className:"ra-btn ra-btn--primary ra-btn--sm",onClick:()=>s({statusFilter:i,advancedFilters:o}),children:"Apply Filters"})]})]})})},pD="http://localhost:3000/api/v1",mD=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},xv=async(r,t={})=>{const n=mD(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${pD}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const o=await s.json();Array.isArray(o.message)?i=o.message.join(", "):typeof o.message=="string"?i=o.message:o.error?i=typeof o.error=="string"?o.error:JSON.stringify(o.error):o.message&&(i=String(o.message))}catch{}const c=new Error(i);throw c.status=s.status,c.statusText=s.statusText,c}return s.status===204?{}:s.json()},s1={getAllAgreements:async(r,t)=>{let n="/agreements";const a=new URLSearchParams;return r&&a.append("contractId",r),t&&a.append("status",t),a.toString()&&(n+=`?${a.toString()}`),(await xv(n,{method:"GET"})).data},getAgreementById:async r=>(await xv(`/agreements/${r}`,{method:"GET"})).data,createAgreement:async r=>(await xv("/agreements",{method:"POST",body:JSON.stringify(r)})).data,updateAgreement:async(r,t)=>(await xv(`/agreements/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,downloadAgreementPDF:async r=>{const t=mD(),n=await fetch(`${pD}/agreements/${r}/download`,{method:"GET",headers:{...t&&{Authorization:`Bearer ${t}`}}});if(!n.ok){let a=`Failed to download PDF: ${n.statusText}`;if(n.status===404)a="PDF download endpoint not found";else if(n.status===501)a="PDF generation is not yet implemented";else try{const s=await n.json();s.message&&(a=s.message)}catch{}throw new Error(a)}return n.blob()}},use="http://localhost:3000/api/v1",hse=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},Pg=async(r,t={})=>{const n=hse(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${use}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const o=await s.json();Array.isArray(o.message)?i=o.message.join(", "):typeof o.message=="string"?i=o.message:o.error?i=typeof o.error=="string"?o.error:JSON.stringify(o.error):o.message&&(i=String(o.message))}catch{}const c=new Error(i);throw c.status=s.status,c.statusText=s.statusText,c}return s.status===204?{}:s.json()},eA={getAllClauses:async(r,t)=>{let n="/agreement-clauses";const a=new URLSearchParams;return r&&a.append("agreementId",r),t&&a.append("status",t),a.toString()&&(n+=`?${a.toString()}`),(await Pg(n,{method:"GET"})).data},getClauseById:async r=>(await Pg(`/agreement-clauses/${r}`,{method:"GET"})).data,createClause:async r=>(await Pg("/agreement-clauses",{method:"POST",body:JSON.stringify(r)})).data,updateClause:async(r,t)=>(await Pg(`/agreement-clauses/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,reorderClause:async(r,t)=>(await Pg(`/agreement-clauses/${r}/reorder`,{method:"PATCH",body:JSON.stringify({newSequenceNo:t})})).data};var AC={exports:{}},Iv={exports:{}};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */var fse=Iv.exports,Bk;function Ase(){return Bk||(Bk=1,(function(r,t){(function(n,a){r.exports=a()})(fse,(function(){/*! *****************************************************************************
		    Copyright (c) Microsoft Corporation.

		    Permission to use, copy, modify, and/or distribute this software for any
		    purpose with or without fee is hereby granted.

		    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
		    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
		    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
		    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
		    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
		    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
		    PERFORMANCE OF THIS SOFTWARE.
		    ***************************************************************************** */var n=function(F,T){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,H){U.__proto__=H}||function(U,H){for(var Se in H)Object.prototype.hasOwnProperty.call(H,Se)&&(U[Se]=H[Se])},n(F,T)};function a(F,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");n(F,T);function U(){this.constructor=F}F.prototype=T===null?Object.create(T):(U.prototype=T.prototype,new U)}var s=function(){return s=Object.assign||function(T){for(var U,H=1,Se=arguments.length;H<Se;H++){U=arguments[H];for(var De in U)Object.prototype.hasOwnProperty.call(U,De)&&(T[De]=U[De])}return T},s.apply(this,arguments)};function i(F,T,U,H){function Se(De){return De instanceof U?De:new U(function(Ke){Ke(De)})}return new(U||(U=Promise))(function(De,Ke){function At(Gt){try{zt(H.next(Gt))}catch(lr){Ke(lr)}}function ft(Gt){try{zt(H.throw(Gt))}catch(lr){Ke(lr)}}function zt(Gt){Gt.done?De(Gt.value):Se(Gt.value).then(At,ft)}zt((H=H.apply(F,[])).next())})}function c(F,T){var U={label:0,sent:function(){if(De[0]&1)throw De[1];return De[1]},trys:[],ops:[]},H,Se,De,Ke;return Ke={next:At(0),throw:At(1),return:At(2)},typeof Symbol=="function"&&(Ke[Symbol.iterator]=function(){return this}),Ke;function At(zt){return function(Gt){return ft([zt,Gt])}}function ft(zt){if(H)throw new TypeError("Generator is already executing.");for(;U;)try{if(H=1,Se&&(De=zt[0]&2?Se.return:zt[0]?Se.throw||((De=Se.return)&&De.call(Se),0):Se.next)&&!(De=De.call(Se,zt[1])).done)return De;switch(Se=0,De&&(zt=[zt[0]&2,De.value]),zt[0]){case 0:case 1:De=zt;break;case 4:return U.label++,{value:zt[1],done:!1};case 5:U.label++,Se=zt[1],zt=[0];continue;case 7:zt=U.ops.pop(),U.trys.pop();continue;default:if(De=U.trys,!(De=De.length>0&&De[De.length-1])&&(zt[0]===6||zt[0]===2)){U=0;continue}if(zt[0]===3&&(!De||zt[1]>De[0]&&zt[1]<De[3])){U.label=zt[1];break}if(zt[0]===6&&U.label<De[1]){U.label=De[1],De=zt;break}if(De&&U.label<De[2]){U.label=De[2],U.ops.push(zt);break}De[2]&&U.ops.pop(),U.trys.pop();continue}zt=T.call(F,U)}catch(Gt){zt=[6,Gt],Se=0}finally{H=De=0}if(zt[0]&5)throw zt[1];return{value:zt[0]?zt[1]:void 0,done:!0}}}function o(F,T,U){if(arguments.length===2)for(var H=0,Se=T.length,De;H<Se;H++)(De||!(H in T))&&(De||(De=Array.prototype.slice.call(T,0,H)),De[H]=T[H]);return F.concat(De||T)}for(var d=(function(){function F(T,U,H,Se){this.left=T,this.top=U,this.width=H,this.height=Se}return F.prototype.add=function(T,U,H,Se){return new F(this.left+T,this.top+U,this.width+H,this.height+Se)},F.fromClientRect=function(T,U){return new F(U.left+T.windowBounds.left,U.top+T.windowBounds.top,U.width,U.height)},F.fromDOMRectList=function(T,U){var H=Array.from(U).find(function(Se){return Se.width!==0});return H?new F(H.left+T.windowBounds.left,H.top+T.windowBounds.top,H.width,H.height):F.EMPTY},F.EMPTY=new F(0,0,0,0),F})(),l=function(F,T){return d.fromClientRect(F,T.getBoundingClientRect())},u=function(F){var T=F.body,U=F.documentElement;if(!T||!U)throw new Error("Unable to get document size");var H=Math.max(Math.max(T.scrollWidth,U.scrollWidth),Math.max(T.offsetWidth,U.offsetWidth),Math.max(T.clientWidth,U.clientWidth)),Se=Math.max(Math.max(T.scrollHeight,U.scrollHeight),Math.max(T.offsetHeight,U.offsetHeight),Math.max(T.clientHeight,U.clientHeight));return new d(0,0,H,Se)},h=function(F){for(var T=[],U=0,H=F.length;U<H;){var Se=F.charCodeAt(U++);if(Se>=55296&&Se<=56319&&U<H){var De=F.charCodeAt(U++);(De&64512)===56320?T.push(((Se&1023)<<10)+(De&1023)+65536):(T.push(Se),U--)}else T.push(Se)}return T},f=function(){for(var F=[],T=0;T<arguments.length;T++)F[T]=arguments[T];if(String.fromCodePoint)return String.fromCodePoint.apply(String,F);var U=F.length;if(!U)return"";for(var H=[],Se=-1,De="";++Se<U;){var Ke=F[Se];Ke<=65535?H.push(Ke):(Ke-=65536,H.push((Ke>>10)+55296,Ke%1024+56320)),(Se+1===U||H.length>16384)&&(De+=String.fromCharCode.apply(String,H),H.length=0)}return De},A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g=typeof Uint8Array>"u"?[]:new Uint8Array(256),m=0;m<A.length;m++)g[A.charCodeAt(m)]=m;for(var x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",y=typeof Uint8Array>"u"?[]:new Uint8Array(256),j=0;j<x.length;j++)y[x.charCodeAt(j)]=j;for(var b=function(F){var T=F.length*.75,U=F.length,H,Se=0,De,Ke,At,ft;F[F.length-1]==="="&&(T--,F[F.length-2]==="="&&T--);var zt=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(T):new Array(T),Gt=Array.isArray(zt)?zt:new Uint8Array(zt);for(H=0;H<U;H+=4)De=y[F.charCodeAt(H)],Ke=y[F.charCodeAt(H+1)],At=y[F.charCodeAt(H+2)],ft=y[F.charCodeAt(H+3)],Gt[Se++]=De<<2|Ke>>4,Gt[Se++]=(Ke&15)<<4|At>>2,Gt[Se++]=(At&3)<<6|ft&63;return zt},S=function(F){for(var T=F.length,U=[],H=0;H<T;H+=2)U.push(F[H+1]<<8|F[H]);return U},w=function(F){for(var T=F.length,U=[],H=0;H<T;H+=4)U.push(F[H+3]<<24|F[H+2]<<16|F[H+1]<<8|F[H]);return U},E=5,I=11,L=2,J=I-E,ae=65536>>E,G=1<<E,le=G-1,V=1024>>E,me=ae+V,$=me,ee=32,we=$+ee,R=65536>>I,q=1<<J,ie=q-1,Z=function(F,T,U){return F.slice?F.slice(T,U):new Uint16Array(Array.prototype.slice.call(F,T,U))},D=function(F,T,U){return F.slice?F.slice(T,U):new Uint32Array(Array.prototype.slice.call(F,T,U))},ue=function(F,T){var U=b(F),H=Array.isArray(U)?w(U):new Uint32Array(U),Se=Array.isArray(U)?S(U):new Uint16Array(U),De=24,Ke=Z(Se,De/2,H[4]/2),At=H[5]===2?Z(Se,(De+H[4])/2):D(H,Math.ceil((De+H[4])/4));return new te(H[0],H[1],H[2],H[3],Ke,At)},te=(function(){function F(T,U,H,Se,De,Ke){this.initialValue=T,this.errorValue=U,this.highStart=H,this.highValueIndex=Se,this.index=De,this.data=Ke}return F.prototype.get=function(T){var U;if(T>=0){if(T<55296||T>56319&&T<=65535)return U=this.index[T>>E],U=(U<<L)+(T&le),this.data[U];if(T<=65535)return U=this.index[ae+(T-55296>>E)],U=(U<<L)+(T&le),this.data[U];if(T<this.highStart)return U=we-R+(T>>I),U=this.index[U],U+=T>>E&ie,U=this.index[U],U=(U<<L)+(T&le),this.data[U];if(T<=1114111)return this.data[this.highValueIndex]}return this.errorValue},F})(),ye="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pe=typeof Uint8Array>"u"?[]:new Uint8Array(256),je=0;je<ye.length;je++)pe[ye.charCodeAt(je)]=je;var re="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",he=50,X=1,Ae=2,Be=3,Me=4,$e=5,ne=7,Pe=8,_e=9,rt=10,et=11,Le=12,it=13,Wt=14,qe=15,St=16,_t=17,ar=18,en=19,Xt=20,Yr=21,Qr=22,He=23,Rt=24,ot=25,Ht=26,$t=27,Dr=28,Fr=29,Jr=30,Wr=31,Ln=32,Vr=33,Ur=34,Cn=35,un=36,Dn=37,da=38,ri=39,Ks=40,Hs=41,oa=42,rn=43,ds=[9001,65288],wi="!",wt="",Pr="",Mr=ue(re),tn=[Jr,un],Kr=[X,Ae,Be,$e],Ma=[rt,Pe],ys=[$t,Ht],Va=Kr.concat(Ma),Ai=[da,ri,Ks,Ur,Cn],Ca=[qe,it],ko=function(F,T){T===void 0&&(T="strict");var U=[],H=[],Se=[];return F.forEach(function(De,Ke){var At=Mr.get(De);if(At>he?(Se.push(!0),At-=he):Se.push(!1),["normal","auto","loose"].indexOf(T)!==-1&&[8208,8211,12316,12448].indexOf(De)!==-1)return H.push(Ke),U.push(St);if(At===Me||At===et){if(Ke===0)return H.push(Ke),U.push(Jr);var ft=U[Ke-1];return Va.indexOf(ft)===-1?(H.push(H[Ke-1]),U.push(ft)):(H.push(Ke),U.push(Jr))}if(H.push(Ke),At===Wr)return U.push(T==="strict"?Yr:Dn);if(At===oa||At===Fr)return U.push(Jr);if(At===rn)return De>=131072&&De<=196605||De>=196608&&De<=262141?U.push(Dn):U.push(Jr);U.push(At)}),[H,U,Se]},Qs=function(F,T,U,H){var Se=H[U];if(Array.isArray(F)?F.indexOf(Se)!==-1:F===Se)for(var De=U;De<=H.length;){De++;var Ke=H[De];if(Ke===T)return!0;if(Ke!==rt)break}if(Se===rt)for(var De=U;De>0;){De--;var At=H[De];if(Array.isArray(F)?F.indexOf(At)!==-1:F===At)for(var ft=U;ft<=H.length;){ft++;var Ke=H[ft];if(Ke===T)return!0;if(Ke!==rt)break}if(At!==rt)break}return!1},qo=function(F,T){for(var U=F;U>=0;){var H=T[U];if(H===rt)U--;else return H}return 0},yl=function(F,T,U,H,Se){if(U[H]===0)return wt;var De=H-1;if(Array.isArray(Se)&&Se[De]===!0)return wt;var Ke=De-1,At=De+1,ft=T[De],zt=Ke>=0?T[Ke]:0,Gt=T[At];if(ft===Ae&&Gt===Be)return wt;if(Kr.indexOf(ft)!==-1)return wi;if(Kr.indexOf(Gt)!==-1||Ma.indexOf(Gt)!==-1)return wt;if(qo(De,T)===Pe)return Pr;if(Mr.get(F[De])===et||(ft===Ln||ft===Vr)&&Mr.get(F[At])===et||ft===ne||Gt===ne||ft===_e||[rt,it,qe].indexOf(ft)===-1&&Gt===_e||[_t,ar,en,Rt,Dr].indexOf(Gt)!==-1||qo(De,T)===Qr||Qs(He,Qr,De,T)||Qs([_t,ar],Yr,De,T)||Qs(Le,Le,De,T))return wt;if(ft===rt)return Pr;if(ft===He||Gt===He)return wt;if(Gt===St||ft===St)return Pr;if([it,qe,Yr].indexOf(Gt)!==-1||ft===Wt||zt===un&&Ca.indexOf(ft)!==-1||ft===Dr&&Gt===un||Gt===Xt||tn.indexOf(Gt)!==-1&&ft===ot||tn.indexOf(ft)!==-1&&Gt===ot||ft===$t&&[Dn,Ln,Vr].indexOf(Gt)!==-1||[Dn,Ln,Vr].indexOf(ft)!==-1&&Gt===Ht||tn.indexOf(ft)!==-1&&ys.indexOf(Gt)!==-1||ys.indexOf(ft)!==-1&&tn.indexOf(Gt)!==-1||[$t,Ht].indexOf(ft)!==-1&&(Gt===ot||[Qr,qe].indexOf(Gt)!==-1&&T[At+1]===ot)||[Qr,qe].indexOf(ft)!==-1&&Gt===ot||ft===ot&&[ot,Dr,Rt].indexOf(Gt)!==-1)return wt;if([ot,Dr,Rt,_t,ar].indexOf(Gt)!==-1)for(var lr=De;lr>=0;){var Br=T[lr];if(Br===ot)return wt;if([Dr,Rt].indexOf(Br)!==-1)lr--;else break}if([$t,Ht].indexOf(Gt)!==-1)for(var lr=[_t,ar].indexOf(ft)!==-1?Ke:De;lr>=0;){var Br=T[lr];if(Br===ot)return wt;if([Dr,Rt].indexOf(Br)!==-1)lr--;else break}if(da===ft&&[da,ri,Ur,Cn].indexOf(Gt)!==-1||[ri,Ur].indexOf(ft)!==-1&&[ri,Ks].indexOf(Gt)!==-1||[Ks,Cn].indexOf(ft)!==-1&&Gt===Ks||Ai.indexOf(ft)!==-1&&[Xt,Ht].indexOf(Gt)!==-1||Ai.indexOf(Gt)!==-1&&ft===$t||tn.indexOf(ft)!==-1&&tn.indexOf(Gt)!==-1||ft===Rt&&tn.indexOf(Gt)!==-1||tn.concat(ot).indexOf(ft)!==-1&&Gt===Qr&&ds.indexOf(F[At])===-1||tn.concat(ot).indexOf(Gt)!==-1&&ft===ar)return wt;if(ft===Hs&&Gt===Hs){for(var Nn=U[De],ln=1;Nn>0&&(Nn--,T[Nn]===Hs);)ln++;if(ln%2!==0)return wt}return ft===Ln&&Gt===Vr?wt:Pr},Xo=function(F,T){T||(T={lineBreak:"normal",wordBreak:"normal"});var U=ko(F,T.lineBreak),H=U[0],Se=U[1],De=U[2];(T.wordBreak==="break-all"||T.wordBreak==="break-word")&&(Se=Se.map(function(At){return[ot,Jr,oa].indexOf(At)!==-1?Dn:At}));var Ke=T.wordBreak==="keep-all"?De.map(function(At,ft){return At&&F[ft]>=19968&&F[ft]<=40959}):void 0;return[H,Se,Ke]},Is=(function(){function F(T,U,H,Se){this.codePoints=T,this.required=U===wi,this.start=H,this.end=Se}return F.prototype.slice=function(){return f.apply(void 0,this.codePoints.slice(this.start,this.end))},F})(),jo=function(F,T){var U=h(F),H=Xo(U,T),Se=H[0],De=H[1],Ke=H[2],At=U.length,ft=0,zt=0;return{next:function(){if(zt>=At)return{done:!0,value:null};for(var Gt=wt;zt<At&&(Gt=yl(U,De,Se,++zt,Ke))===wt;);if(Gt!==wt||zt===At){var lr=new Is(U,Gt,ft,zt);return ft=zt,{value:lr,done:!1}}return{done:!0,value:null}}}},pa=1,rc=2,os=4,_o=8,Ji=10,Oo=47,ol=92,Fo=9,zi=32,Ts=34,ls=61,jl=35,Po=36,$c=37,pi=39,Gn=40,Gs=41,Ci=95,Ni=45,Do=33,Ws=60,uo=62,ni=64,Rs=91,bo=93,Mo=61,va=123,qs=63,Si=125,Zi=124,Ri=126,Ro=128,Kt=65533,Q=42,fe=43,ge=44,M=58,W=59,ce=46,Ee=0,Fe=8,Xe=11,dt=14,k=31,B=127,P=-1,K=48,se=97,de=101,Ie=102,be=117,Ce=122,Re=65,ze=69,nt=70,ut=85,Oe=90,Nt=function(F){return F>=K&&F<=57},jt=function(F){return F>=55296&&F<=57343},Bt=function(F){return Nt(F)||F>=Re&&F<=nt||F>=se&&F<=Ie},lt=function(F){return F>=se&&F<=Ce},Mt=function(F){return F>=Re&&F<=Oe},tr=function(F){return lt(F)||Mt(F)},kt=function(F){return F>=Ro},at=function(F){return F===Ji||F===Fo||F===zi},qt=function(F){return tr(F)||kt(F)||F===Ci},pr=function(F){return qt(F)||Nt(F)||F===Ni},nr=function(F){return F>=Ee&&F<=Fe||F===Xe||F>=dt&&F<=k||F===B},Pt=function(F,T){return F!==ol?!1:T!==Ji},Ar=function(F,T,U){return F===Ni?qt(T)||Pt(T,U):qt(F)?!0:!!(F===ol&&Pt(F,T))},ct=function(F,T,U){return F===fe||F===Ni?Nt(T)?!0:T===ce&&Nt(U):Nt(F===ce?T:F)},mt=function(F){var T=0,U=1;(F[T]===fe||F[T]===Ni)&&(F[T]===Ni&&(U=-1),T++);for(var H=[];Nt(F[T]);)H.push(F[T++]);var Se=H.length?parseInt(f.apply(void 0,H),10):0;F[T]===ce&&T++;for(var De=[];Nt(F[T]);)De.push(F[T++]);var Ke=De.length,At=Ke?parseInt(f.apply(void 0,De),10):0;(F[T]===ze||F[T]===de)&&T++;var ft=1;(F[T]===fe||F[T]===Ni)&&(F[T]===Ni&&(ft=-1),T++);for(var zt=[];Nt(F[T]);)zt.push(F[T++]);var Gt=zt.length?parseInt(f.apply(void 0,zt),10):0;return U*(Se+At*Math.pow(10,-Ke))*Math.pow(10,ft*Gt)},Ot={type:2},Ft={type:3},mr={type:4},yr={type:13},Cr={type:8},ir={type:21},br={type:9},nn={type:10},Gr={type:11},Ze={type:12},Et={type:14},Tt={type:23},Yt={type:1},er={type:25},dr={type:24},jr={type:26},wr={type:27},Rr={type:28},an={type:29},Sn={type:31},Bn={type:32},ua=(function(){function F(){this._value=[]}return F.prototype.write=function(T){this._value=this._value.concat(h(T))},F.prototype.read=function(){for(var T=[],U=this.consumeToken();U!==Bn;)T.push(U),U=this.consumeToken();return T},F.prototype.consumeToken=function(){var T=this.consumeCodePoint();switch(T){case Ts:return this.consumeStringToken(Ts);case jl:var U=this.peekCodePoint(0),H=this.peekCodePoint(1),Se=this.peekCodePoint(2);if(pr(U)||Pt(H,Se)){var De=Ar(U,H,Se)?rc:pa,Ke=this.consumeName();return{type:5,value:Ke,flags:De}}break;case Po:if(this.peekCodePoint(0)===ls)return this.consumeCodePoint(),yr;break;case pi:return this.consumeStringToken(pi);case Gn:return Ot;case Gs:return Ft;case Q:if(this.peekCodePoint(0)===ls)return this.consumeCodePoint(),Et;break;case fe:if(ct(T,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(T),this.consumeNumericToken();break;case ge:return mr;case Ni:var At=T,ft=this.peekCodePoint(0),zt=this.peekCodePoint(1);if(ct(At,ft,zt))return this.reconsumeCodePoint(T),this.consumeNumericToken();if(Ar(At,ft,zt))return this.reconsumeCodePoint(T),this.consumeIdentLikeToken();if(ft===Ni&&zt===uo)return this.consumeCodePoint(),this.consumeCodePoint(),dr;break;case ce:if(ct(T,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(T),this.consumeNumericToken();break;case Oo:if(this.peekCodePoint(0)===Q)for(this.consumeCodePoint();;){var Gt=this.consumeCodePoint();if(Gt===Q&&(Gt=this.consumeCodePoint(),Gt===Oo))return this.consumeToken();if(Gt===P)return this.consumeToken()}break;case M:return jr;case W:return wr;case Ws:if(this.peekCodePoint(0)===Do&&this.peekCodePoint(1)===Ni&&this.peekCodePoint(2)===Ni)return this.consumeCodePoint(),this.consumeCodePoint(),er;break;case ni:var lr=this.peekCodePoint(0),Br=this.peekCodePoint(1),Nn=this.peekCodePoint(2);if(Ar(lr,Br,Nn)){var Ke=this.consumeName();return{type:7,value:Ke}}break;case Rs:return Rr;case ol:if(Pt(T,this.peekCodePoint(0)))return this.reconsumeCodePoint(T),this.consumeIdentLikeToken();break;case bo:return an;case Mo:if(this.peekCodePoint(0)===ls)return this.consumeCodePoint(),Cr;break;case va:return Gr;case Si:return Ze;case be:case ut:var ln=this.peekCodePoint(0),bn=this.peekCodePoint(1);return ln===fe&&(Bt(bn)||bn===qs)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(T),this.consumeIdentLikeToken();case Zi:if(this.peekCodePoint(0)===ls)return this.consumeCodePoint(),br;if(this.peekCodePoint(0)===Zi)return this.consumeCodePoint(),ir;break;case Ri:if(this.peekCodePoint(0)===ls)return this.consumeCodePoint(),nn;break;case P:return Bn}return at(T)?(this.consumeWhiteSpace(),Sn):Nt(T)?(this.reconsumeCodePoint(T),this.consumeNumericToken()):qt(T)?(this.reconsumeCodePoint(T),this.consumeIdentLikeToken()):{type:6,value:f(T)}},F.prototype.consumeCodePoint=function(){var T=this._value.shift();return typeof T>"u"?-1:T},F.prototype.reconsumeCodePoint=function(T){this._value.unshift(T)},F.prototype.peekCodePoint=function(T){return T>=this._value.length?-1:this._value[T]},F.prototype.consumeUnicodeRangeToken=function(){for(var T=[],U=this.consumeCodePoint();Bt(U)&&T.length<6;)T.push(U),U=this.consumeCodePoint();for(var H=!1;U===qs&&T.length<6;)T.push(U),U=this.consumeCodePoint(),H=!0;if(H){var Se=parseInt(f.apply(void 0,T.map(function(ft){return ft===qs?K:ft})),16),De=parseInt(f.apply(void 0,T.map(function(ft){return ft===qs?nt:ft})),16);return{type:30,start:Se,end:De}}var Ke=parseInt(f.apply(void 0,T),16);if(this.peekCodePoint(0)===Ni&&Bt(this.peekCodePoint(1))){this.consumeCodePoint(),U=this.consumeCodePoint();for(var At=[];Bt(U)&&At.length<6;)At.push(U),U=this.consumeCodePoint();var De=parseInt(f.apply(void 0,At),16);return{type:30,start:Ke,end:De}}else return{type:30,start:Ke,end:Ke}},F.prototype.consumeIdentLikeToken=function(){var T=this.consumeName();return T.toLowerCase()==="url"&&this.peekCodePoint(0)===Gn?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Gn?(this.consumeCodePoint(),{type:19,value:T}):{type:20,value:T}},F.prototype.consumeUrlToken=function(){var T=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===P)return{type:22,value:""};var U=this.peekCodePoint(0);if(U===pi||U===Ts){var H=this.consumeStringToken(this.consumeCodePoint());return H.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===P||this.peekCodePoint(0)===Gs)?(this.consumeCodePoint(),{type:22,value:H.value}):(this.consumeBadUrlRemnants(),Tt)}for(;;){var Se=this.consumeCodePoint();if(Se===P||Se===Gs)return{type:22,value:f.apply(void 0,T)};if(at(Se))return this.consumeWhiteSpace(),this.peekCodePoint(0)===P||this.peekCodePoint(0)===Gs?(this.consumeCodePoint(),{type:22,value:f.apply(void 0,T)}):(this.consumeBadUrlRemnants(),Tt);if(Se===Ts||Se===pi||Se===Gn||nr(Se))return this.consumeBadUrlRemnants(),Tt;if(Se===ol)if(Pt(Se,this.peekCodePoint(0)))T.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Tt;else T.push(Se)}},F.prototype.consumeWhiteSpace=function(){for(;at(this.peekCodePoint(0));)this.consumeCodePoint()},F.prototype.consumeBadUrlRemnants=function(){for(;;){var T=this.consumeCodePoint();if(T===Gs||T===P)return;Pt(T,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},F.prototype.consumeStringSlice=function(T){for(var U=5e4,H="";T>0;){var Se=Math.min(U,T);H+=f.apply(void 0,this._value.splice(0,Se)),T-=Se}return this._value.shift(),H},F.prototype.consumeStringToken=function(T){var U="",H=0;do{var Se=this._value[H];if(Se===P||Se===void 0||Se===T)return U+=this.consumeStringSlice(H),{type:0,value:U};if(Se===Ji)return this._value.splice(0,H),Yt;if(Se===ol){var De=this._value[H+1];De!==P&&De!==void 0&&(De===Ji?(U+=this.consumeStringSlice(H),H=-1,this._value.shift()):Pt(Se,De)&&(U+=this.consumeStringSlice(H),U+=f(this.consumeEscapedCodePoint()),H=-1))}H++}while(!0)},F.prototype.consumeNumber=function(){var T=[],U=os,H=this.peekCodePoint(0);for((H===fe||H===Ni)&&T.push(this.consumeCodePoint());Nt(this.peekCodePoint(0));)T.push(this.consumeCodePoint());H=this.peekCodePoint(0);var Se=this.peekCodePoint(1);if(H===ce&&Nt(Se))for(T.push(this.consumeCodePoint(),this.consumeCodePoint()),U=_o;Nt(this.peekCodePoint(0));)T.push(this.consumeCodePoint());H=this.peekCodePoint(0),Se=this.peekCodePoint(1);var De=this.peekCodePoint(2);if((H===ze||H===de)&&((Se===fe||Se===Ni)&&Nt(De)||Nt(Se)))for(T.push(this.consumeCodePoint(),this.consumeCodePoint()),U=_o;Nt(this.peekCodePoint(0));)T.push(this.consumeCodePoint());return[mt(T),U]},F.prototype.consumeNumericToken=function(){var T=this.consumeNumber(),U=T[0],H=T[1],Se=this.peekCodePoint(0),De=this.peekCodePoint(1),Ke=this.peekCodePoint(2);if(Ar(Se,De,Ke)){var At=this.consumeName();return{type:15,number:U,flags:H,unit:At}}return Se===$c?(this.consumeCodePoint(),{type:16,number:U,flags:H}):{type:17,number:U,flags:H}},F.prototype.consumeEscapedCodePoint=function(){var T=this.consumeCodePoint();if(Bt(T)){for(var U=f(T);Bt(this.peekCodePoint(0))&&U.length<6;)U+=f(this.consumeCodePoint());at(this.peekCodePoint(0))&&this.consumeCodePoint();var H=parseInt(U,16);return H===0||jt(H)||H>1114111?Kt:H}return T===P?Kt:T},F.prototype.consumeName=function(){for(var T="";;){var U=this.consumeCodePoint();if(pr(U))T+=f(U);else if(Pt(U,this.peekCodePoint(0)))T+=f(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(U),T}},F})(),pt=(function(){function F(T){this._tokens=T}return F.create=function(T){var U=new ua;return U.write(T),new F(U.read())},F.parseValue=function(T){return F.create(T).parseComponentValue()},F.parseValues=function(T){return F.create(T).parseComponentValues()},F.prototype.parseComponentValue=function(){for(var T=this.consumeToken();T.type===31;)T=this.consumeToken();if(T.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(T);var U=this.consumeComponentValue();do T=this.consumeToken();while(T.type===31);if(T.type===32)return U;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},F.prototype.parseComponentValues=function(){for(var T=[];;){var U=this.consumeComponentValue();if(U.type===32)return T;T.push(U),T.push()}},F.prototype.consumeComponentValue=function(){var T=this.consumeToken();switch(T.type){case 11:case 28:case 2:return this.consumeSimpleBlock(T.type);case 19:return this.consumeFunction(T)}return T},F.prototype.consumeSimpleBlock=function(T){for(var U={type:T,values:[]},H=this.consumeToken();;){if(H.type===32||js(H,T))return U;this.reconsumeToken(H),U.values.push(this.consumeComponentValue()),H=this.consumeToken()}},F.prototype.consumeFunction=function(T){for(var U={name:T.value,values:[],type:18};;){var H=this.consumeToken();if(H.type===32||H.type===3)return U;this.reconsumeToken(H),U.values.push(this.consumeComponentValue())}},F.prototype.consumeToken=function(){var T=this._tokens.shift();return typeof T>"u"?Bn:T},F.prototype.reconsumeToken=function(T){this._tokens.unshift(T)},F})(),mn=function(F){return F.type===15},xa=function(F){return F.type===17},pn=function(F){return F.type===20},qr=function(F){return F.type===0},la=function(F,T){return pn(F)&&F.value===T},Mn=function(F){return F.type!==31},Zn=function(F){return F.type!==31&&F.type!==4},Rn=function(F){var T=[],U=[];return F.forEach(function(H){if(H.type===4){if(U.length===0)throw new Error("Error parsing function args, zero tokens for arg");T.push(U),U=[];return}H.type!==31&&U.push(H)}),U.length&&T.push(U),T},js=function(F,T){return T===11&&F.type===12||T===28&&F.type===29?!0:T===2&&F.type===3},za=function(F){return F.type===17||F.type===15},Pn=function(F){return F.type===16||za(F)},us=function(F){return F.length>1?[F[0],F[1]]:[F[0]]},ca={type:17,number:0,flags:os},_n={type:16,number:50,flags:os},fa={type:16,number:100,flags:os},On=function(F,T,U){var H=F[0],Se=F[1];return[Na(H,T),Na(typeof Se<"u"?Se:H,U)]},Na=function(F,T){if(F.type===16)return F.number/100*T;if(mn(F))switch(F.unit){case"rem":case"em":return 16*F.number;case"px":default:return F.number}return F.number},As="deg",Ya="grad",Ja="rad",ii="turn",zn={name:"angle",parse:function(F,T){if(T.type===15)switch(T.unit){case As:return Math.PI*T.number/180;case Ya:return Math.PI/200*T.number;case Ja:return T.number;case ii:return Math.PI*2*T.number}throw new Error("Unsupported angle type")}},Os=function(F){return F.type===15&&(F.unit===As||F.unit===Ya||F.unit===Ja||F.unit===ii)},ya=function(F){var T=F.filter(pn).map(function(U){return U.value}).join(" ");switch(T){case"to bottom right":case"to right bottom":case"left top":case"top left":return[ca,ca];case"to top":case"bottom":return Vn(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[ca,fa];case"to right":case"left":return Vn(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[fa,fa];case"to bottom":case"top":return Vn(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[fa,ca];case"to left":case"right":return Vn(270)}return 0},Vn=function(F){return Math.PI*F/180},Fs={name:"color",parse:function(F,T){if(T.type===18){var U=ma[T.name];if(typeof U>"u")throw new Error('Attempting to parse an unsupported color function "'+T.name+'"');return U(F,T.values)}if(T.type===5){if(T.value.length===3){var H=T.value.substring(0,1),Se=T.value.substring(1,2),De=T.value.substring(2,3);return rs(parseInt(H+H,16),parseInt(Se+Se,16),parseInt(De+De,16),1)}if(T.value.length===4){var H=T.value.substring(0,1),Se=T.value.substring(1,2),De=T.value.substring(2,3),Ke=T.value.substring(3,4);return rs(parseInt(H+H,16),parseInt(Se+Se,16),parseInt(De+De,16),parseInt(Ke+Ke,16)/255)}if(T.value.length===6){var H=T.value.substring(0,2),Se=T.value.substring(2,4),De=T.value.substring(4,6);return rs(parseInt(H,16),parseInt(Se,16),parseInt(De,16),1)}if(T.value.length===8){var H=T.value.substring(0,2),Se=T.value.substring(2,4),De=T.value.substring(4,6),Ke=T.value.substring(6,8);return rs(parseInt(H,16),parseInt(Se,16),parseInt(De,16),parseInt(Ke,16)/255)}}if(T.type===20){var At=Co[T.value.toUpperCase()];if(typeof At<"u")return At}return Co.TRANSPARENT}},Sa=function(F){return(255&F)===0},In=function(F){var T=255&F,U=255&F>>8,H=255&F>>16,Se=255&F>>24;return T<255?"rgba("+Se+","+H+","+U+","+T/255+")":"rgb("+Se+","+H+","+U+")"},rs=function(F,T,U,H){return(F<<24|T<<16|U<<8|Math.round(H*255)<<0)>>>0},sd=function(F,T){if(F.type===17)return F.number;if(F.type===16){var U=T===3?1:255;return T===3?F.number/100*U:Math.round(F.number/100*U)}return 0},Ki=function(F,T){var U=T.filter(Zn);if(U.length===3){var H=U.map(sd),Se=H[0],De=H[1],Ke=H[2];return rs(Se,De,Ke,1)}if(U.length===4){var At=U.map(sd),Se=At[0],De=At[1],Ke=At[2],ft=At[3];return rs(Se,De,Ke,ft)}return 0};function wo(F,T,U){return U<0&&(U+=1),U>=1&&(U-=1),U<1/6?(T-F)*U*6+F:U<1/2?T:U<2/3?(T-F)*6*(2/3-U)+F:F}var Bc=function(F,T){var U=T.filter(Zn),H=U[0],Se=U[1],De=U[2],Ke=U[3],At=(H.type===17?Vn(H.number):zn.parse(F,H))/(Math.PI*2),ft=Pn(Se)?Se.number/100:0,zt=Pn(De)?De.number/100:0,Gt=typeof Ke<"u"&&Pn(Ke)?Na(Ke,1):1;if(ft===0)return rs(zt*255,zt*255,zt*255,1);var lr=zt<=.5?zt*(ft+1):zt+ft-zt*ft,Br=zt*2-lr,Nn=wo(Br,lr,At+1/3),ln=wo(Br,lr,At),bn=wo(Br,lr,At-1/3);return rs(Nn*255,ln*255,bn*255,Gt)},ma={hsl:Bc,hsla:Bc,rgb:Ki,rgba:Ki},Ei=function(F,T){return Fs.parse(F,pt.create(T).parseComponentValue())},Co={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Ol={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(F,T){return T.map(function(U){if(pn(U))switch(U.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Li={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Ls=function(F,T){var U=Fs.parse(F,T[0]),H=T[1];return H&&Pn(H)?{color:U,stop:H}:{color:U,stop:null}},Oi=function(F,T){var U=F[0],H=F[F.length-1];U.stop===null&&(U.stop=ca),H.stop===null&&(H.stop=fa);for(var Se=[],De=0,Ke=0;Ke<F.length;Ke++){var At=F[Ke].stop;if(At!==null){var ft=Na(At,T);ft>De?Se.push(ft):Se.push(De),De=ft}else Se.push(null)}for(var zt=null,Ke=0;Ke<Se.length;Ke++){var Gt=Se[Ke];if(Gt===null)zt===null&&(zt=Ke);else if(zt!==null){for(var lr=Ke-zt,Br=Se[zt-1],Nn=(Gt-Br)/(lr+1),ln=1;ln<=lr;ln++)Se[zt+ln-1]=Nn*ln;zt=null}}return F.map(function(bn,as){var Xn=bn.color;return{color:Xn,stop:Math.max(Math.min(1,Se[as]/T),0)}})},ho=function(F,T,U){var H=T/2,Se=U/2,De=Na(F[0],T)-H,Ke=Se-Na(F[1],U);return(Math.atan2(Ke,De)+Math.PI*2)%(Math.PI*2)},id=function(F,T,U){var H=typeof F=="number"?F:ho(F,T,U),Se=Math.abs(T*Math.sin(H))+Math.abs(U*Math.cos(H)),De=T/2,Ke=U/2,At=Se/2,ft=Math.sin(H-Math.PI/2)*At,zt=Math.cos(H-Math.PI/2)*At;return[Se,De-zt,De+zt,Ke-ft,Ke+ft]},eo=function(F,T){return Math.sqrt(F*F+T*T)},ll=function(F,T,U,H,Se){var De=[[0,0],[0,T],[F,0],[F,T]];return De.reduce(function(Ke,At){var ft=At[0],zt=At[1],Gt=eo(U-ft,H-zt);return(Se?Gt<Ke.optimumDistance:Gt>Ke.optimumDistance)?{optimumCorner:At,optimumDistance:Gt}:Ke},{optimumDistance:Se?1/0:-1/0,optimumCorner:null}).optimumCorner},Ic=function(F,T,U,H,Se){var De=0,Ke=0;switch(F.size){case 0:F.shape===0?De=Ke=Math.min(Math.abs(T),Math.abs(T-H),Math.abs(U),Math.abs(U-Se)):F.shape===1&&(De=Math.min(Math.abs(T),Math.abs(T-H)),Ke=Math.min(Math.abs(U),Math.abs(U-Se)));break;case 2:if(F.shape===0)De=Ke=Math.min(eo(T,U),eo(T,U-Se),eo(T-H,U),eo(T-H,U-Se));else if(F.shape===1){var At=Math.min(Math.abs(U),Math.abs(U-Se))/Math.min(Math.abs(T),Math.abs(T-H)),ft=ll(H,Se,T,U,!0),zt=ft[0],Gt=ft[1];De=eo(zt-T,(Gt-U)/At),Ke=At*De}break;case 1:F.shape===0?De=Ke=Math.max(Math.abs(T),Math.abs(T-H),Math.abs(U),Math.abs(U-Se)):F.shape===1&&(De=Math.max(Math.abs(T),Math.abs(T-H)),Ke=Math.max(Math.abs(U),Math.abs(U-Se)));break;case 3:if(F.shape===0)De=Ke=Math.max(eo(T,U),eo(T,U-Se),eo(T-H,U),eo(T-H,U-Se));else if(F.shape===1){var At=Math.max(Math.abs(U),Math.abs(U-Se))/Math.max(Math.abs(T),Math.abs(T-H)),lr=ll(H,Se,T,U,!1),zt=lr[0],Gt=lr[1];De=eo(zt-T,(Gt-U)/At),Ke=At*De}break}return Array.isArray(F.size)&&(De=Na(F.size[0],H),Ke=F.size.length===2?Na(F.size[1],Se):De),[De,Ke]},nc=function(F,T){var U=Vn(180),H=[];return Rn(T).forEach(function(Se,De){if(De===0){var Ke=Se[0];if(Ke.type===20&&Ke.value==="to"){U=ya(Se);return}else if(Os(Ke)){U=zn.parse(F,Ke);return}}var At=Ls(F,Se);H.push(At)}),{angle:U,stops:H,type:1}},to=function(F,T){var U=Vn(180),H=[];return Rn(T).forEach(function(Se,De){if(De===0){var Ke=Se[0];if(Ke.type===20&&["top","left","right","bottom"].indexOf(Ke.value)!==-1){U=ya(Se);return}else if(Os(Ke)){U=(zn.parse(F,Ke)+Vn(270))%Vn(360);return}}var At=Ls(F,Se);H.push(At)}),{angle:U,stops:H,type:1}},cl=function(F,T){var U=Vn(180),H=[],Se=1,De=0,Ke=3,At=[];return Rn(T).forEach(function(ft,zt){var Gt=ft[0];if(zt===0){if(pn(Gt)&&Gt.value==="linear"){Se=1;return}else if(pn(Gt)&&Gt.value==="radial"){Se=2;return}}if(Gt.type===18){if(Gt.name==="from"){var lr=Fs.parse(F,Gt.values[0]);H.push({stop:ca,color:lr})}else if(Gt.name==="to"){var lr=Fs.parse(F,Gt.values[0]);H.push({stop:fa,color:lr})}else if(Gt.name==="color-stop"){var Br=Gt.values.filter(Zn);if(Br.length===2){var lr=Fs.parse(F,Br[1]),Nn=Br[0];xa(Nn)&&H.push({stop:{type:16,number:Nn.number*100,flags:Nn.flags},color:lr})}}}}),Se===1?{angle:(U+Vn(180))%Vn(360),stops:H,type:Se}:{size:Ke,shape:De,stops:H,position:At,type:Se}},Fl="closest-side",Yo="farthest-side",Lo="closest-corner",ac="farthest-corner",Pl="circle",Tc="ellipse",pu="cover",Vc="contain",mu=function(F,T){var U=0,H=3,Se=[],De=[];return Rn(T).forEach(function(Ke,At){var ft=!0;if(At===0){var zt=!1;ft=Ke.reduce(function(lr,Br){if(zt)if(pn(Br))switch(Br.value){case"center":return De.push(_n),lr;case"top":case"left":return De.push(ca),lr;case"right":case"bottom":return De.push(fa),lr}else(Pn(Br)||za(Br))&&De.push(Br);else if(pn(Br))switch(Br.value){case Pl:return U=0,!1;case Tc:return U=1,!1;case"at":return zt=!0,!1;case Fl:return H=0,!1;case pu:case Yo:return H=1,!1;case Vc:case Lo:return H=2,!1;case ac:return H=3,!1}else if(za(Br)||Pn(Br))return Array.isArray(H)||(H=[]),H.push(Br),!1;return lr},ft)}if(ft){var Gt=Ls(F,Ke);Se.push(Gt)}}),{size:H,shape:U,stops:Se,position:De,type:2}},od=function(F,T){var U=0,H=3,Se=[],De=[];return Rn(T).forEach(function(Ke,At){var ft=!0;if(At===0?ft=Ke.reduce(function(Gt,lr){if(pn(lr))switch(lr.value){case"center":return De.push(_n),!1;case"top":case"left":return De.push(ca),!1;case"right":case"bottom":return De.push(fa),!1}else if(Pn(lr)||za(lr))return De.push(lr),!1;return Gt},ft):At===1&&(ft=Ke.reduce(function(Gt,lr){if(pn(lr))switch(lr.value){case Pl:return U=0,!1;case Tc:return U=1,!1;case Vc:case Fl:return H=0,!1;case Yo:return H=1,!1;case Lo:return H=2,!1;case pu:case ac:return H=3,!1}else if(za(lr)||Pn(lr))return Array.isArray(H)||(H=[]),H.push(lr),!1;return Gt},ft)),ft){var zt=Ls(F,Ke);Se.push(zt)}}),{size:H,shape:U,stops:Se,position:De,type:2}},Jo=function(F){return F.type===1},ld=function(F){return F.type===2},Sd={name:"image",parse:function(F,T){if(T.type===22){var U={url:T.value,type:0};return F.cache.addImage(T.value),U}if(T.type===18){var H=Dl[T.name];if(typeof H>"u")throw new Error('Attempting to parse an unsupported image function "'+T.name+'"');return H(F,T.values)}throw new Error("Unsupported image type "+T.type)}};function $d(F){return!(F.type===20&&F.value==="none")&&(F.type!==18||!!Dl[F.name])}var Dl={"linear-gradient":nc,"-moz-linear-gradient":to,"-ms-linear-gradient":to,"-o-linear-gradient":to,"-webkit-linear-gradient":to,"radial-gradient":mu,"-moz-radial-gradient":od,"-ms-radial-gradient":od,"-o-radial-gradient":od,"-webkit-radial-gradient":od,"-webkit-gradient":cl},Vd={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(F,T){if(T.length===0)return[];var U=T[0];return U.type===20&&U.value==="none"?[]:T.filter(function(H){return Zn(H)&&$d(H)}).map(function(H){return Sd.parse(F,H)})}},zd={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(F,T){return T.map(function(U){if(pn(U))switch(U.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},sc={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(F,T){return Rn(T).map(function(U){return U.filter(Pn)}).map(us)}},Kd={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(F,T){return Rn(T).map(function(U){return U.filter(pn).map(function(H){return H.value}).join(" ")}).map(Ed)}},Ed=function(F){switch(F){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},ba;(function(F){F.AUTO="auto",F.CONTAIN="contain",F.COVER="cover"})(ba||(ba={}));var gu={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(F,T){return Rn(T).map(function(U){return U.filter(ic)})}},ic=function(F){return pn(F)||Pn(F)},Ns=function(F){return{name:"border-"+F+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},vu=Ns("top"),bl=Ns("right"),Fi=Ns("bottom"),kc=Ns("left"),cd=function(F){return{name:"border-radius-"+F,initialValue:"0 0",prefix:!1,type:1,parse:function(T,U){return us(U.filter(Pn))}}},Ml=cd("top-left"),Gd=cd("top-right"),Zo=cd("bottom-right"),xu=cd("bottom-left"),Bd=function(F){return{name:"border-"+F+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(T,U){switch(U){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},yu=Bd("top"),dd=Bd("right"),Id=Bd("bottom"),Td=Bd("left"),kd=function(F){return{name:"border-"+F+"-width",initialValue:"0",type:0,prefix:!1,parse:function(T,U){return mn(U)?U.number:0}}},_d=kd("top"),ju=kd("right"),Rl=kd("bottom"),$h=kd("left"),Od={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Gu={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(F,T){switch(T){case"rtl":return 1;case"ltr":default:return 0}}},Vh={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(F,T){return T.filter(pn).reduce(function(U,H){return U|Ea(H.value)},0)}},Ea=function(F){switch(F){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},zc={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(F,T){switch(T){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},gh={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(F,T){return T.type===20&&T.value==="normal"?0:T.type===17||T.type===15?T.number:0}},_c;(function(F){F.NORMAL="normal",F.STRICT="strict"})(_c||(_c={}));var No={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(F,T){switch(T){case"strict":return _c.STRICT;case"normal":default:return _c.NORMAL}}},Ll={name:"line-height",initialValue:"normal",prefix:!1,type:4},oc=function(F,T){return pn(F)&&F.value==="normal"?1.2*T:F.type===17?T*F.number:Pn(F)?Na(F,T):T},qu={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(F,T){return T.type===20&&T.value==="none"?null:Sd.parse(F,T)}},wl={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(F,T){switch(T){case"inside":return 0;case"outside":default:return 1}}},qd={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(F,T){switch(T){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},el=function(F){return{name:"margin-"+F,initialValue:"0",prefix:!1,type:4}},Fd=el("top"),Cl=el("right"),bu=el("bottom"),Oc=el("left"),lc={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(F,T){return T.filter(pn).map(function(U){switch(U.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Ul={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(F,T){switch(T){case"break-word":return"break-word";case"normal":default:return"normal"}}},ps=function(F){return{name:"padding-"+F,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Ps=ps("top"),Hl=ps("right"),Bi=ps("bottom"),Ui=ps("left"),Fc={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(F,T){switch(T){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},ud={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(F,T){switch(T){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Uo={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(F,T){return T.length===1&&la(T[0],"none")?[]:Rn(T).map(function(U){for(var H={color:Co.TRANSPARENT,offsetX:ca,offsetY:ca,blur:ca},Se=0,De=0;De<U.length;De++){var Ke=U[De];za(Ke)?(Se===0?H.offsetX=Ke:Se===1?H.offsetY=Ke:H.blur=Ke,Se++):H.color=Fs.parse(F,Ke)}return H})}},cc={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(F,T){switch(T){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Kc={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(F,T){if(T.type===20&&T.value==="none")return null;if(T.type===18){var U=Yu[T.name];if(typeof U>"u")throw new Error('Attempting to parse an unsupported transform function "'+T.name+'"');return U(T.values)}return null}},Xu=function(F){var T=F.filter(function(U){return U.type===17}).map(function(U){return U.number});return T.length===6?T:null},Gc=function(F){var T=F.filter(function(ft){return ft.type===17}).map(function(ft){return ft.number}),U=T[0],H=T[1];T[2],T[3];var Se=T[4],De=T[5];T[6],T[7],T[8],T[9],T[10],T[11];var Ke=T[12],At=T[13];return T[14],T[15],T.length===16?[U,H,Se,De,Ke,At]:null},Yu={matrix:Xu,matrix3d:Gc},ve={type:16,number:50,flags:os},Qe=[ve,ve],bt={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(F,T){var U=T.filter(Pn);return U.length!==2?Qe:[U[0],U[1]]}},Dt={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(F,T){switch(T){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},rr;(function(F){F.NORMAL="normal",F.BREAK_ALL="break-all",F.KEEP_ALL="keep-all"})(rr||(rr={}));for(var Nr={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(F,T){switch(T){case"break-all":return rr.BREAK_ALL;case"keep-all":return rr.KEEP_ALL;case"normal":default:return rr.NORMAL}}},Lr={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(F,T){if(T.type===20)return{auto:!0,order:0};if(xa(T))return{auto:!1,order:T.number};throw new Error("Invalid z-index number parsed")}},Tn={name:"time",parse:function(F,T){if(T.type===15)switch(T.unit.toLowerCase()){case"s":return 1e3*T.number;case"ms":return T.number}throw new Error("Unsupported time type")}},Hn={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(F,T){return xa(T)?T.number:1}},ga={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},aa={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(F,T){return T.filter(pn).map(function(U){switch(U.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(U){return U!==0})}},Ra={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(F,T){var U=[],H=[];return T.forEach(function(Se){switch(Se.type){case 20:case 0:U.push(Se.value);break;case 17:U.push(Se.number.toString());break;case 4:H.push(U.join(" ")),U.length=0;break}}),U.length&&H.push(U.join(" ")),H.map(function(Se){return Se.indexOf(" ")===-1?Se:"'"+Se+"'"})}},Us={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},$s={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(F,T){if(xa(T))return T.number;if(pn(T))switch(T.value){case"bold":return 700;case"normal":default:return 400}return 400}},gs={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(F,T){return T.filter(pn).map(function(U){return U.value})}},mi={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(F,T){switch(T){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},_=function(F,T){return(F&T)!==0},Ue={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(F,T){if(T.length===0)return[];var U=T[0];return U.type===20&&U.value==="none"?[]:T}},oe={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(F,T){if(T.length===0)return null;var U=T[0];if(U.type===20&&U.value==="none")return null;for(var H=[],Se=T.filter(Mn),De=0;De<Se.length;De++){var Ke=Se[De],At=Se[De+1];if(Ke.type===20){var ft=At&&xa(At)?At.number:1;H.push({counter:Ke.value,increment:ft})}}return H}},Je={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(F,T){if(T.length===0)return[];for(var U=[],H=T.filter(Mn),Se=0;Se<H.length;Se++){var De=H[Se],Ke=H[Se+1];if(pn(De)&&De.value!=="none"){var At=Ke&&xa(Ke)?Ke.number:0;U.push({counter:De.value,reset:At})}}return U}},gt={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(F,T){return T.filter(mn).map(function(U){return Tn.parse(F,U)})}},ht={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(F,T){if(T.length===0)return null;var U=T[0];if(U.type===20&&U.value==="none")return null;var H=[],Se=T.filter(qr);if(Se.length%2!==0)return null;for(var De=0;De<Se.length;De+=2){var Ke=Se[De].value,At=Se[De+1].value;H.push({open:Ke,close:At})}return H}},or=function(F,T,U){if(!F)return"";var H=F[Math.min(T,F.length-1)];return H?U?H.open:H.close:""},Jt={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(F,T){return T.length===1&&la(T[0],"none")?[]:Rn(T).map(function(U){for(var H={color:255,offsetX:ca,offsetY:ca,blur:ca,spread:ca,inset:!1},Se=0,De=0;De<U.length;De++){var Ke=U[De];la(Ke,"inset")?H.inset=!0:za(Ke)?(Se===0?H.offsetX=Ke:Se===1?H.offsetY=Ke:Se===2?H.blur=Ke:H.spread=Ke,Se++):H.color=Fs.parse(F,Ke)}return H})}},En={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(F,T){var U=[0,1,2],H=[];return T.filter(pn).forEach(function(Se){switch(Se.value){case"stroke":H.push(1);break;case"fill":H.push(0);break;case"markers":H.push(2);break}}),U.forEach(function(Se){H.indexOf(Se)===-1&&H.push(Se)}),H}},Lt={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},hr={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(F,T){return mn(T)?T.number:0}},ja=(function(){function F(T,U){var H,Se;this.animationDuration=Sr(T,gt,U.animationDuration),this.backgroundClip=Sr(T,Ol,U.backgroundClip),this.backgroundColor=Sr(T,Li,U.backgroundColor),this.backgroundImage=Sr(T,Vd,U.backgroundImage),this.backgroundOrigin=Sr(T,zd,U.backgroundOrigin),this.backgroundPosition=Sr(T,sc,U.backgroundPosition),this.backgroundRepeat=Sr(T,Kd,U.backgroundRepeat),this.backgroundSize=Sr(T,gu,U.backgroundSize),this.borderTopColor=Sr(T,vu,U.borderTopColor),this.borderRightColor=Sr(T,bl,U.borderRightColor),this.borderBottomColor=Sr(T,Fi,U.borderBottomColor),this.borderLeftColor=Sr(T,kc,U.borderLeftColor),this.borderTopLeftRadius=Sr(T,Ml,U.borderTopLeftRadius),this.borderTopRightRadius=Sr(T,Gd,U.borderTopRightRadius),this.borderBottomRightRadius=Sr(T,Zo,U.borderBottomRightRadius),this.borderBottomLeftRadius=Sr(T,xu,U.borderBottomLeftRadius),this.borderTopStyle=Sr(T,yu,U.borderTopStyle),this.borderRightStyle=Sr(T,dd,U.borderRightStyle),this.borderBottomStyle=Sr(T,Id,U.borderBottomStyle),this.borderLeftStyle=Sr(T,Td,U.borderLeftStyle),this.borderTopWidth=Sr(T,_d,U.borderTopWidth),this.borderRightWidth=Sr(T,ju,U.borderRightWidth),this.borderBottomWidth=Sr(T,Rl,U.borderBottomWidth),this.borderLeftWidth=Sr(T,$h,U.borderLeftWidth),this.boxShadow=Sr(T,Jt,U.boxShadow),this.color=Sr(T,Od,U.color),this.direction=Sr(T,Gu,U.direction),this.display=Sr(T,Vh,U.display),this.float=Sr(T,zc,U.cssFloat),this.fontFamily=Sr(T,Ra,U.fontFamily),this.fontSize=Sr(T,Us,U.fontSize),this.fontStyle=Sr(T,mi,U.fontStyle),this.fontVariant=Sr(T,gs,U.fontVariant),this.fontWeight=Sr(T,$s,U.fontWeight),this.letterSpacing=Sr(T,gh,U.letterSpacing),this.lineBreak=Sr(T,No,U.lineBreak),this.lineHeight=Sr(T,Ll,U.lineHeight),this.listStyleImage=Sr(T,qu,U.listStyleImage),this.listStylePosition=Sr(T,wl,U.listStylePosition),this.listStyleType=Sr(T,qd,U.listStyleType),this.marginTop=Sr(T,Fd,U.marginTop),this.marginRight=Sr(T,Cl,U.marginRight),this.marginBottom=Sr(T,bu,U.marginBottom),this.marginLeft=Sr(T,Oc,U.marginLeft),this.opacity=Sr(T,Hn,U.opacity);var De=Sr(T,lc,U.overflow);this.overflowX=De[0],this.overflowY=De[De.length>1?1:0],this.overflowWrap=Sr(T,Ul,U.overflowWrap),this.paddingTop=Sr(T,Ps,U.paddingTop),this.paddingRight=Sr(T,Hl,U.paddingRight),this.paddingBottom=Sr(T,Bi,U.paddingBottom),this.paddingLeft=Sr(T,Ui,U.paddingLeft),this.paintOrder=Sr(T,En,U.paintOrder),this.position=Sr(T,ud,U.position),this.textAlign=Sr(T,Fc,U.textAlign),this.textDecorationColor=Sr(T,ga,(H=U.textDecorationColor)!==null&&H!==void 0?H:U.color),this.textDecorationLine=Sr(T,aa,(Se=U.textDecorationLine)!==null&&Se!==void 0?Se:U.textDecoration),this.textShadow=Sr(T,Uo,U.textShadow),this.textTransform=Sr(T,cc,U.textTransform),this.transform=Sr(T,Kc,U.transform),this.transformOrigin=Sr(T,bt,U.transformOrigin),this.visibility=Sr(T,Dt,U.visibility),this.webkitTextStrokeColor=Sr(T,Lt,U.webkitTextStrokeColor),this.webkitTextStrokeWidth=Sr(T,hr,U.webkitTextStrokeWidth),this.wordBreak=Sr(T,Nr,U.wordBreak),this.zIndex=Sr(T,Lr,U.zIndex)}return F.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},F.prototype.isTransparent=function(){return Sa(this.backgroundColor)},F.prototype.isTransformed=function(){return this.transform!==null},F.prototype.isPositioned=function(){return this.position!==0},F.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},F.prototype.isFloating=function(){return this.float!==0},F.prototype.isInlineLevel=function(){return _(this.display,4)||_(this.display,33554432)||_(this.display,268435456)||_(this.display,536870912)||_(this.display,67108864)||_(this.display,134217728)},F})(),gn=(function(){function F(T,U){this.content=Sr(T,Ue,U.content),this.quotes=Sr(T,ht,U.quotes)}return F})(),$r=(function(){function F(T,U){this.counterIncrement=Sr(T,oe,U.counterIncrement),this.counterReset=Sr(T,Je,U.counterReset)}return F})(),Sr=function(F,T,U){var H=new ua,Se=U!==null&&typeof U<"u"?U.toString():T.initialValue;H.write(Se);var De=new pt(H.read());switch(T.type){case 2:var Ke=De.parseComponentValue();return T.parse(F,pn(Ke)?Ke.value:T.initialValue);case 0:return T.parse(F,De.parseComponentValue());case 1:return T.parse(F,De.parseComponentValues());case 4:return De.parseComponentValue();case 3:switch(T.format){case"angle":return zn.parse(F,De.parseComponentValue());case"color":return Fs.parse(F,De.parseComponentValue());case"image":return Sd.parse(F,De.parseComponentValue());case"length":var At=De.parseComponentValue();return za(At)?At:ca;case"length-percentage":var ft=De.parseComponentValue();return Pn(ft)?ft:ca;case"time":return Tn.parse(F,De.parseComponentValue())}break}},Vs="data-html2canvas-debug",wa=function(F){var T=F.getAttribute(Vs);switch(T){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},sa=function(F,T){var U=wa(F);return U===1||T===U},Ba=(function(){function F(T,U){if(this.context=T,this.textNodes=[],this.elements=[],this.flags=0,sa(U,3))debugger;this.styles=new ja(T,window.getComputedStyle(U,null)),Iu(U)&&(this.styles.animationDuration.some(function(H){return H>0})&&(U.style.animationDuration="0s"),this.styles.transform!==null&&(U.style.transform="none")),this.bounds=l(this.context,U),sa(U,4)&&(this.flags|=16)}return F})(),ns="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",dn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Oa=typeof Uint8Array>"u"?[]:new Uint8Array(256),oi=0;oi<dn.length;oi++)Oa[dn.charCodeAt(oi)]=oi;for(var ea=function(F){var T=F.length*.75,U=F.length,H,Se=0,De,Ke,At,ft;F[F.length-1]==="="&&(T--,F[F.length-2]==="="&&T--);var zt=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(T):new Array(T),Gt=Array.isArray(zt)?zt:new Uint8Array(zt);for(H=0;H<U;H+=4)De=Oa[F.charCodeAt(H)],Ke=Oa[F.charCodeAt(H+1)],At=Oa[F.charCodeAt(H+2)],ft=Oa[F.charCodeAt(H+3)],Gt[Se++]=De<<2|Ke>>4,Gt[Se++]=(Ke&15)<<4|At>>2,Gt[Se++]=(At&3)<<6|ft&63;return zt},hs=function(F){for(var T=F.length,U=[],H=0;H<T;H+=2)U.push(F[H+1]<<8|F[H]);return U},La=function(F){for(var T=F.length,U=[],H=0;H<T;H+=4)U.push(F[H+3]<<24|F[H+2]<<16|F[H+1]<<8|F[H]);return U},Qn=5,Aa=11,So=2,dc=Aa-Qn,Ho=65536>>Qn,fo=1<<Qn,uc=fo-1,Gi=1024>>Qn,zh=Ho+Gi,tl=zh,dl=32,Ju=tl+dl,vh=65536>>Aa,Pc=1<<dc,qc=Pc-1,Xc=function(F,T,U){return F.slice?F.slice(T,U):new Uint16Array(Array.prototype.slice.call(F,T,U))},Xd=function(F,T,U){return F.slice?F.slice(T,U):new Uint32Array(Array.prototype.slice.call(F,T,U))},hd=function(F,T){var U=ea(F),H=Array.isArray(U)?La(U):new Uint32Array(U),Se=Array.isArray(U)?hs(U):new Uint16Array(U),De=24,Ke=Xc(Se,De/2,H[4]/2),At=H[5]===2?Xc(Se,(De+H[4])/2):Xd(H,Math.ceil((De+H[4])/4));return new wu(H[0],H[1],H[2],H[3],Ke,At)},wu=(function(){function F(T,U,H,Se,De,Ke){this.initialValue=T,this.errorValue=U,this.highStart=H,this.highValueIndex=Se,this.index=De,this.data=Ke}return F.prototype.get=function(T){var U;if(T>=0){if(T<55296||T>56319&&T<=65535)return U=this.index[T>>Qn],U=(U<<So)+(T&uc),this.data[U];if(T<=65535)return U=this.index[Ho+(T-55296>>Qn)],U=(U<<So)+(T&uc),this.data[U];if(T<this.highStart)return U=Ju-vh+(T>>Aa),U=this.index[U],U+=T>>Qn&qc,U=this.index[U],U=(U<<So)+(T&uc),this.data[U];if(T<=1114111)return this.data[this.highValueIndex]}return this.errorValue},F})(),Dc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Nl=typeof Uint8Array>"u"?[]:new Uint8Array(256),Qo=0;Qo<Dc.length;Qo++)Nl[Dc.charCodeAt(Qo)]=Qo;var hc=1,ms=2,zs=3,gi=4,Ao=5,fd=7,li=8,Ad=9,Cu=10,Kh=11,xh=12,Gh=13,Yd=14,Ii=15,Eo=function(F){for(var T=[],U=0,H=F.length;U<H;){var Se=F.charCodeAt(U++);if(Se>=55296&&Se<=56319&&U<H){var De=F.charCodeAt(U++);(De&64512)===56320?T.push(((Se&1023)<<10)+(De&1023)+65536):(T.push(Se),U--)}else T.push(Se)}return T},ro=function(){for(var F=[],T=0;T<arguments.length;T++)F[T]=arguments[T];if(String.fromCodePoint)return String.fromCodePoint.apply(String,F);var U=F.length;if(!U)return"";for(var H=[],Se=-1,De="";++Se<U;){var Ke=F[Se];Ke<=65535?H.push(Ke):(Ke-=65536,H.push((Ke>>10)+55296,Ke%1024+56320)),(Se+1===U||H.length>16384)&&(De+=String.fromCharCode.apply(String,H),H.length=0)}return De},qh=hd(ns),ul="",Nu="",bp=function(F){return qh.get(F)},hl=function(F,T,U){var H=U-2,Se=T[H],De=T[U-1],Ke=T[U];if(De===ms&&Ke===zs)return ul;if(De===ms||De===zs||De===gi||Ke===ms||Ke===zs||Ke===gi)return Nu;if(De===li&&[li,Ad,Kh,xh].indexOf(Ke)!==-1||(De===Kh||De===Ad)&&(Ke===Ad||Ke===Cu)||(De===xh||De===Cu)&&Ke===Cu||Ke===Gh||Ke===Ao||Ke===fd||De===hc)return ul;if(De===Gh&&Ke===Yd){for(;Se===Ao;)Se=T[--H];if(Se===Yd)return ul}if(De===Ii&&Ke===Ii){for(var At=0;Se===Ii;)At++,Se=T[--H];if(At%2===0)return ul}return Nu},Bf=function(F){var T=Eo(F),U=T.length,H=0,Se=0,De=T.map(bp);return{next:function(){if(H>=U)return{done:!0,value:null};for(var Ke=ul;H<U&&(Ke=hl(T,De,++H))===ul;);if(Ke!==ul||H===U){var At=ro.apply(null,T.slice(Se,H));return Se=H,{value:At,done:!1}}return{done:!0,value:null}}}},If=function(F){for(var T=Bf(F),U=[],H;!(H=T.next()).done;)H.value&&U.push(H.value.slice());return U},Tf=function(F){var T=123;if(F.createRange){var U=F.createRange();if(U.getBoundingClientRect){var H=F.createElement("boundtest");H.style.height=T+"px",H.style.display="block",F.body.appendChild(H),U.selectNode(H);var Se=U.getBoundingClientRect(),De=Math.round(Se.height);if(F.body.removeChild(H),De===T)return!0}}return!1},Yc=function(F){var T=F.createElement("boundtest");T.style.width="50px",T.style.display="block",T.style.fontSize="12px",T.style.letterSpacing="0px",T.style.wordSpacing="0px",F.body.appendChild(T);var U=F.createRange();T.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var H=T.firstChild,Se=h(H.data).map(function(ft){return f(ft)}),De=0,Ke={},At=Se.every(function(ft,zt){U.setStart(H,De),U.setEnd(H,De+ft.length);var Gt=U.getBoundingClientRect();De+=ft.length;var lr=Gt.x>Ke.x||Gt.y>Ke.y;return Ke=Gt,zt===0?!0:lr});return F.body.removeChild(T),At},Ql=function(){return typeof new Image().crossOrigin<"u"},fl=function(){return typeof new XMLHttpRequest().responseType=="string"},fc=function(F){var T=new Image,U=F.createElement("canvas"),H=U.getContext("2d");if(!H)return!1;T.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{H.drawImage(T,0,0),U.toDataURL()}catch{return!1}return!0},Zu=function(F){return F[0]===0&&F[1]===255&&F[2]===0&&F[3]===255},Xh=function(F){var T=F.createElement("canvas"),U=100;T.width=U,T.height=U;var H=T.getContext("2d");if(!H)return Promise.reject(!1);H.fillStyle="rgb(0, 255, 0)",H.fillRect(0,0,U,U);var Se=new Image,De=T.toDataURL();Se.src=De;var Ke=Yh(U,U,0,0,Se);return H.fillStyle="red",H.fillRect(0,0,U,U),yh(Ke).then(function(At){H.drawImage(At,0,0);var ft=H.getImageData(0,0,U,U).data;H.fillStyle="red",H.fillRect(0,0,U,U);var zt=F.createElement("div");return zt.style.backgroundImage="url("+De+")",zt.style.height=U+"px",Zu(ft)?yh(Yh(U,U,0,0,zt)):Promise.reject(!1)}).then(function(At){return H.drawImage(At,0,0),Zu(H.getImageData(0,0,U,U).data)}).catch(function(){return!1})},Yh=function(F,T,U,H,Se){var De="http://www.w3.org/2000/svg",Ke=document.createElementNS(De,"svg"),At=document.createElementNS(De,"foreignObject");return Ke.setAttributeNS(null,"width",F.toString()),Ke.setAttributeNS(null,"height",T.toString()),At.setAttributeNS(null,"width","100%"),At.setAttributeNS(null,"height","100%"),At.setAttributeNS(null,"x",U.toString()),At.setAttributeNS(null,"y",H.toString()),At.setAttributeNS(null,"externalResourcesRequired","true"),Ke.appendChild(At),At.appendChild(Se),Ke},yh=function(F){return new Promise(function(T,U){var H=new Image;H.onload=function(){return T(H)},H.onerror=U,H.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(F))})},po={get SUPPORT_RANGE_BOUNDS(){var F=Tf(document);return Object.defineProperty(po,"SUPPORT_RANGE_BOUNDS",{value:F}),F},get SUPPORT_WORD_BREAKING(){var F=po.SUPPORT_RANGE_BOUNDS&&Yc(document);return Object.defineProperty(po,"SUPPORT_WORD_BREAKING",{value:F}),F},get SUPPORT_SVG_DRAWING(){var F=fc(document);return Object.defineProperty(po,"SUPPORT_SVG_DRAWING",{value:F}),F},get SUPPORT_FOREIGNOBJECT_DRAWING(){var F=typeof Array.from=="function"&&typeof window.fetch=="function"?Xh(document):Promise.resolve(!1);return Object.defineProperty(po,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:F}),F},get SUPPORT_CORS_IMAGES(){var F=Ql();return Object.defineProperty(po,"SUPPORT_CORS_IMAGES",{value:F}),F},get SUPPORT_RESPONSE_TYPE(){var F=fl();return Object.defineProperty(po,"SUPPORT_RESPONSE_TYPE",{value:F}),F},get SUPPORT_CORS_XHR(){var F="withCredentials"in new XMLHttpRequest;return Object.defineProperty(po,"SUPPORT_CORS_XHR",{value:F}),F},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var F=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(po,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:F}),F}},Su=(function(){function F(T,U){this.text=T,this.bounds=U}return F})(),yA=function(F,T,U,H){var Se=Of(T,U),De=[],Ke=0;return Se.forEach(function(At){if(U.textDecorationLine.length||At.trim().length>0)if(po.SUPPORT_RANGE_BOUNDS){var ft=Jh(H,Ke,At.length).getClientRects();if(ft.length>1){var zt=Pd(At),Gt=0;zt.forEach(function(Br){De.push(new Su(Br,d.fromDOMRectList(F,Jh(H,Gt+Ke,Br.length).getClientRects()))),Gt+=Br.length})}else De.push(new Su(At,d.fromDOMRectList(F,ft)))}else{var lr=H.splitText(At.length);De.push(new Su(At,kf(F,H))),H=lr}else po.SUPPORT_RANGE_BOUNDS||(H=H.splitText(At.length));Ke+=At.length}),De},kf=function(F,T){var U=T.ownerDocument;if(U){var H=U.createElement("html2canvaswrapper");H.appendChild(T.cloneNode(!0));var Se=T.parentNode;if(Se){Se.replaceChild(H,T);var De=l(F,H);return H.firstChild&&Se.replaceChild(H.firstChild,H),De}}return d.EMPTY},Jh=function(F,T,U){var H=F.ownerDocument;if(!H)throw new Error("Node has no owner document");var Se=H.createRange();return Se.setStart(F,T),Se.setEnd(F,T+U),Se},Pd=function(F){if(po.SUPPORT_NATIVE_TEXT_SEGMENTATION){var T=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(T.segment(F)).map(function(U){return U.segment})}return If(F)},_f=function(F,T){if(po.SUPPORT_NATIVE_TEXT_SEGMENTATION){var U=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(U.segment(F)).map(function(H){return H.segment})}return jA(F,T)},Of=function(F,T){return T.letterSpacing!==0?Pd(F):_f(F,T)},Ff=[32,160,4961,65792,65793,4153,4241],jA=function(F,T){for(var U=jo(F,{lineBreak:T.lineBreak,wordBreak:T.overflowWrap==="break-word"?"break-word":T.wordBreak}),H=[],Se,De=function(){if(Se.value){var Ke=Se.value.slice(),At=h(Ke),ft="";At.forEach(function(zt){Ff.indexOf(zt)===-1?ft+=f(zt):(ft.length&&H.push(ft),H.push(f(zt)),ft="")}),ft.length&&H.push(ft)}};!(Se=U.next()).done;)De();return H},bA=(function(){function F(T,U,H){this.text=wp(U.data,H.textTransform),this.textBounds=yA(T,this.text,H,U)}return F})(),wp=function(F,T){switch(T){case 1:return F.toLowerCase();case 3:return F.replace(Cp,Np);case 2:return F.toUpperCase();default:return F}},Cp=/(^|\s|:|-|\(|\))([a-z])/g,Np=function(F,T,U){return F.length>0?T+U.toUpperCase():F},wA=(function(F){a(T,F);function T(U,H){var Se=F.call(this,U,H)||this;return Se.src=H.currentSrc||H.src,Se.intrinsicWidth=H.naturalWidth,Se.intrinsicHeight=H.naturalHeight,Se.context.cache.addImage(Se.src),Se}return T})(Ba),jh=(function(F){a(T,F);function T(U,H){var Se=F.call(this,U,H)||this;return Se.canvas=H,Se.intrinsicWidth=H.width,Se.intrinsicHeight=H.height,Se}return T})(Ba),Zh=(function(F){a(T,F);function T(U,H){var Se=F.call(this,U,H)||this,De=new XMLSerializer,Ke=l(U,H);return H.setAttribute("width",Ke.width+"px"),H.setAttribute("height",Ke.height+"px"),Se.svg="data:image/svg+xml,"+encodeURIComponent(De.serializeToString(H)),Se.intrinsicWidth=H.width.baseVal.value,Se.intrinsicHeight=H.height.baseVal.value,Se.context.cache.addImage(Se.svg),Se}return T})(Ba),eh=(function(F){a(T,F);function T(U,H){var Se=F.call(this,U,H)||this;return Se.value=H.value,Se}return T})(Ba),Pf=(function(F){a(T,F);function T(U,H){var Se=F.call(this,U,H)||this;return Se.start=H.start,Se.reversed=typeof H.reversed=="boolean"&&H.reversed===!0,Se}return T})(Ba),Hm=[{type:15,flags:0,unit:"px",number:3}],CA=[{type:16,flags:0,number:50}],Qm=function(F){return F.width>F.height?new d(F.left+(F.width-F.height)/2,F.top,F.height,F.height):F.width<F.height?new d(F.left,F.top+(F.height-F.width)/2,F.width,F.width):F},Wm=function(F){var T=F.type===Jd?new Array(F.value.length+1).join(""):F.value;return T.length===0?F.placeholder||"":T},ef="checkbox",tf="radio",Jd="password",Wl=707406591,pd=(function(F){a(T,F);function T(U,H){var Se=F.call(this,U,H)||this;switch(Se.type=H.type.toLowerCase(),Se.checked=H.checked,Se.value=Wm(H),(Se.type===ef||Se.type===tf)&&(Se.styles.backgroundColor=3739148031,Se.styles.borderTopColor=Se.styles.borderRightColor=Se.styles.borderBottomColor=Se.styles.borderLeftColor=2779096575,Se.styles.borderTopWidth=Se.styles.borderRightWidth=Se.styles.borderBottomWidth=Se.styles.borderLeftWidth=1,Se.styles.borderTopStyle=Se.styles.borderRightStyle=Se.styles.borderBottomStyle=Se.styles.borderLeftStyle=1,Se.styles.backgroundClip=[0],Se.styles.backgroundOrigin=[0],Se.bounds=Qm(Se.bounds)),Se.type){case ef:Se.styles.borderTopRightRadius=Se.styles.borderTopLeftRadius=Se.styles.borderBottomRightRadius=Se.styles.borderBottomLeftRadius=Hm;break;case tf:Se.styles.borderTopRightRadius=Se.styles.borderTopLeftRadius=Se.styles.borderBottomRightRadius=Se.styles.borderBottomLeftRadius=CA;break}return Se}return T})(Ba),Sp=(function(F){a(T,F);function T(U,H){var Se=F.call(this,U,H)||this,De=H.options[H.selectedIndex||0];return Se.value=De&&De.text||"",Se}return T})(Ba),NA=(function(F){a(T,F);function T(U,H){var Se=F.call(this,U,H)||this;return Se.value=H.value,Se}return T})(Ba),Wo=(function(F){a(T,F);function T(U,H){var Se=F.call(this,U,H)||this;Se.src=H.src,Se.width=parseInt(H.width,10)||0,Se.height=parseInt(H.height,10)||0,Se.backgroundColor=Se.styles.backgroundColor;try{if(H.contentWindow&&H.contentWindow.document&&H.contentWindow.document.documentElement){Se.tree=Df(U,H.contentWindow.document.documentElement);var De=H.contentWindow.document.documentElement?Ei(U,getComputedStyle(H.contentWindow.document.documentElement).backgroundColor):Co.TRANSPARENT,Ke=H.contentWindow.document.body?Ei(U,getComputedStyle(H.contentWindow.document.body).backgroundColor):Co.TRANSPARENT;Se.backgroundColor=Sa(De)?Sa(Ke)?Se.styles.backgroundColor:Ke:De}}catch{}return Se}return T})(Ba),Ac=["OL","UL","MENU"],th=function(F,T,U,H){for(var Se=T.firstChild,De=void 0;Se;Se=De)if(De=Se.nextSibling,Eu(Se)&&Se.data.trim().length>0)U.textNodes.push(new bA(F,Se,U.styles));else if(Bu(Se))if(Hf(Se)&&Se.assignedNodes)Se.assignedNodes().forEach(function(At){return th(F,At,U,H)});else{var Ke=SA(F,Se);Ke.styles.isVisible()&&(EA(Se,Ke,H)?Ke.flags|=4:Mf(Ke.styles)&&(Ke.flags|=2),Ac.indexOf(Se.tagName)!==-1&&(Ke.flags|=8),U.elements.push(Ke),Se.slot,Se.shadowRoot?th(F,Se.shadowRoot,Ke,H):!nf(Se)&&!IA(Se)&&!wh(Se)&&th(F,Se,Ke,H))}},SA=function(F,T){return Lf(T)?new wA(F,T):$l(T)?new jh(F,T):IA(T)?new Zh(F,T):bh(T)?new eh(F,T):Rf(T)?new Pf(F,T):Ep(T)?new pd(F,T):wh(T)?new Sp(F,T):nf(T)?new NA(F,T):kA(T)?new Wo(F,T):new Ba(F,T)},Df=function(F,T){var U=SA(F,T);return U.flags|=4,th(F,T,U,U),U},EA=function(F,T,U){return T.styles.isPositionedWithZIndex()||T.styles.opacity<1||T.styles.isTransformed()||TA(F)&&U.styles.isTransparent()},Mf=function(F){return F.isPositioned()||F.isFloating()},Eu=function(F){return F.nodeType===Node.TEXT_NODE},Bu=function(F){return F.nodeType===Node.ELEMENT_NODE},Iu=function(F){return Bu(F)&&typeof F.style<"u"&&!rh(F)},rh=function(F){return typeof F.className=="object"},bh=function(F){return F.tagName==="LI"},Rf=function(F){return F.tagName==="OL"},Ep=function(F){return F.tagName==="INPUT"},BA=function(F){return F.tagName==="HTML"},IA=function(F){return F.tagName==="svg"},TA=function(F){return F.tagName==="BODY"},$l=function(F){return F.tagName==="CANVAS"},Sl=function(F){return F.tagName==="VIDEO"},Lf=function(F){return F.tagName==="IMG"},kA=function(F){return F.tagName==="IFRAME"},Uf=function(F){return F.tagName==="STYLE"},rf=function(F){return F.tagName==="SCRIPT"},nf=function(F){return F.tagName==="TEXTAREA"},wh=function(F){return F.tagName==="SELECT"},Hf=function(F){return F.tagName==="SLOT"},O=function(F){return F.tagName.indexOf("-")>0},Y=(function(){function F(){this.counters={}}return F.prototype.getCounterValue=function(T){var U=this.counters[T];return U&&U.length?U[U.length-1]:1},F.prototype.getCounterValues=function(T){var U=this.counters[T];return U||[]},F.prototype.pop=function(T){var U=this;T.forEach(function(H){return U.counters[H].pop()})},F.prototype.parse=function(T){var U=this,H=T.counterIncrement,Se=T.counterReset,De=!0;H!==null&&H.forEach(function(At){var ft=U.counters[At.counter];ft&&At.increment!==0&&(De=!1,ft.length||ft.push(1),ft[Math.max(0,ft.length-1)]+=At.increment)});var Ke=[];return De&&Se.forEach(function(At){var ft=U.counters[At.counter];Ke.push(At.counter),ft||(ft=U.counters[At.counter]=[]),ft.push(At.reset)}),Ke},F})(),Ne={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},ke={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},We={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Ge={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Ye=function(F,T,U,H,Se,De){return F<T||F>U?zr(F,Se,De.length>0):H.integers.reduce(function(Ke,At,ft){for(;F>=At;)F-=At,Ke+=H.values[ft];return Ke},"")+De},tt=function(F,T,U,H){var Se="";do U||F--,Se=H(F)+Se,F/=T;while(F*T>=T);return Se},st=function(F,T,U,H,Se){var De=U-T+1;return(F<0?"-":"")+(tt(Math.abs(F),De,H,function(Ke){return f(Math.floor(Ke%De)+T)})+Se)},yt=function(F,T,U){U===void 0&&(U=". ");var H=T.length;return tt(Math.abs(F),H,!1,function(Se){return T[Math.floor(Se%H)]})+U},Ut=1,cr=2,vt=4,Vt=8,sr=function(F,T,U,H,Se,De){if(F<-9999||F>9999)return zr(F,4,Se.length>0);var Ke=Math.abs(F),At=Se;if(Ke===0)return T[0]+At;for(var ft=0;Ke>0&&ft<=4;ft++){var zt=Ke%10;zt===0&&_(De,Ut)&&At!==""?At=T[zt]+At:zt>1||zt===1&&ft===0||zt===1&&ft===1&&_(De,cr)||zt===1&&ft===1&&_(De,vt)&&F>100||zt===1&&ft>1&&_(De,Vt)?At=T[zt]+(ft>0?U[ft-1]:"")+At:zt===1&&ft>0&&(At=U[ft-1]+At),Ke=Math.floor(Ke/10)}return(F<0?H:"")+At},Er="",ur="",Ir="",kr="",zr=function(F,T,U){var H=U?". ":"",Se=U?"":"",De=U?", ":"",Ke=U?" ":"";switch(T){case 0:return""+Ke;case 1:return""+Ke;case 2:return""+Ke;case 5:var At=st(F,48,57,!0,H);return At.length<4?"0"+At:At;case 4:return yt(F,"",Se);case 6:return Ye(F,1,3999,Ne,3,H).toLowerCase();case 7:return Ye(F,1,3999,Ne,3,H);case 8:return st(F,945,969,!1,H);case 9:return st(F,97,122,!1,H);case 10:return st(F,65,90,!1,H);case 11:return st(F,1632,1641,!0,H);case 12:case 49:return Ye(F,1,9999,ke,3,H);case 35:return Ye(F,1,9999,ke,3,H).toLowerCase();case 13:return st(F,2534,2543,!0,H);case 14:case 30:return st(F,6112,6121,!0,H);case 15:return yt(F,"",Se);case 16:return yt(F,"",Se);case 17:case 48:return sr(F,"",Er,"",Se,cr|vt|Vt);case 47:return sr(F,"",ur,"",Se,Ut|cr|vt|Vt);case 42:return sr(F,"",Er,"",Se,cr|vt|Vt);case 41:return sr(F,"",ur,"",Se,Ut|cr|vt|Vt);case 26:return sr(F,"","",Ir,Se,0);case 25:return sr(F,"","",Ir,Se,Ut|cr|vt);case 31:return sr(F,"","",kr,De,Ut|cr|vt);case 33:return sr(F,"","",kr,De,0);case 32:return sr(F,"","",kr,De,Ut|cr|vt);case 18:return st(F,2406,2415,!0,H);case 20:return Ye(F,1,19999,Ge,3,H);case 21:return st(F,2790,2799,!0,H);case 22:return st(F,2662,2671,!0,H);case 22:return Ye(F,1,10999,We,3,H);case 23:return yt(F,"");case 24:return yt(F,"");case 27:return st(F,3302,3311,!0,H);case 28:return yt(F,"",Se);case 29:return yt(F,"",Se);case 34:return st(F,3792,3801,!0,H);case 37:return st(F,6160,6169,!0,H);case 38:return st(F,4160,4169,!0,H);case 39:return st(F,2918,2927,!0,H);case 40:return st(F,1776,1785,!0,H);case 43:return st(F,3046,3055,!0,H);case 44:return st(F,3174,3183,!0,H);case 45:return st(F,3664,3673,!0,H);case 46:return st(F,3872,3881,!0,H);case 3:default:return st(F,48,57,!0,H)}},_r="data-html2canvas-ignore",ta=(function(){function F(T,U,H){if(this.context=T,this.options=H,this.scrolledElements=[],this.referenceElement=U,this.counters=new Y,this.quoteDepth=0,!U.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(U.ownerDocument.documentElement,!1)}return F.prototype.toIFrame=function(T,U){var H=this,Se=Xa(T,U);if(!Se.contentWindow)return Promise.reject("Unable to find iframe window");var De=T.defaultView.pageXOffset,Ke=T.defaultView.pageYOffset,At=Se.contentWindow,ft=At.document,zt=fn(Se).then(function(){return i(H,void 0,void 0,function(){var Gt,lr;return c(this,function(Br){switch(Br.label){case 0:return this.scrolledElements.forEach(Ua),At&&(At.scrollTo(U.left,U.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(At.scrollY!==U.top||At.scrollX!==U.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(At.scrollX-U.left,At.scrollY-U.top,0,0))),Gt=this.options.onclone,lr=this.clonedReferenceElement,typeof lr>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:ft.fonts&&ft.fonts.ready?[4,ft.fonts.ready]:[3,2];case 1:Br.sent(),Br.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Ss(ft)]:[3,4];case 3:Br.sent(),Br.label=4;case 4:return typeof Gt=="function"?[2,Promise.resolve().then(function(){return Gt(ft,lr)}).then(function(){return Se})]:[2,Se]}})})});return ft.open(),ft.write(vn(document.doctype)+"<html></html>"),mo(this.referenceElement.ownerDocument,De,Ke),ft.replaceChild(ft.adoptNode(this.documentElement),ft.documentElement),ft.close(),zt},F.prototype.createElementClone=function(T){if(sa(T,2))debugger;if($l(T))return this.createCanvasClone(T);if(Sl(T))return this.createVideoClone(T);if(Uf(T))return this.createStyleClone(T);var U=T.cloneNode(!1);return Lf(U)&&(Lf(T)&&T.currentSrc&&T.currentSrc!==T.src&&(U.src=T.currentSrc,U.srcset=""),U.loading==="lazy"&&(U.loading="eager")),O(U)?this.createCustomElementClone(U):U},F.prototype.createCustomElementClone=function(T){var U=document.createElement("html2canvascustomelement");return Wn(T.style,U),U},F.prototype.createStyleClone=function(T){try{var U=T.sheet;if(U&&U.cssRules){var H=[].slice.call(U.cssRules,0).reduce(function(De,Ke){return Ke&&typeof Ke.cssText=="string"?De+Ke.cssText:De},""),Se=T.cloneNode(!1);return Se.textContent=H,Se}}catch(De){if(this.context.logger.error("Unable to access cssRules property",De),De.name!=="SecurityError")throw De}return T.cloneNode(!1)},F.prototype.createCanvasClone=function(T){var U;if(this.options.inlineImages&&T.ownerDocument){var H=T.ownerDocument.createElement("img");try{return H.src=T.toDataURL(),H}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",T)}}var Se=T.cloneNode(!1);try{Se.width=T.width,Se.height=T.height;var De=T.getContext("2d"),Ke=Se.getContext("2d");if(Ke)if(!this.options.allowTaint&&De)Ke.putImageData(De.getImageData(0,0,T.width,T.height),0,0);else{var At=(U=T.getContext("webgl2"))!==null&&U!==void 0?U:T.getContext("webgl");if(At){var ft=At.getContextAttributes();(ft==null?void 0:ft.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",T)}Ke.drawImage(T,0,0)}return Se}catch{this.context.logger.info("Unable to clone canvas as it is tainted",T)}return Se},F.prototype.createVideoClone=function(T){var U=T.ownerDocument.createElement("canvas");U.width=T.offsetWidth,U.height=T.offsetHeight;var H=U.getContext("2d");try{return H&&(H.drawImage(T,0,0,U.width,U.height),this.options.allowTaint||H.getImageData(0,0,U.width,U.height)),U}catch{this.context.logger.info("Unable to clone video as it is tainted",T)}var Se=T.ownerDocument.createElement("canvas");return Se.width=T.offsetWidth,Se.height=T.offsetHeight,Se},F.prototype.appendChildNode=function(T,U,H){(!Bu(U)||!rf(U)&&!U.hasAttribute(_r)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(U)))&&(!this.options.copyStyles||!Bu(U)||!Uf(U))&&T.appendChild(this.cloneNode(U,H))},F.prototype.cloneChildNodes=function(T,U,H){for(var Se=this,De=T.shadowRoot?T.shadowRoot.firstChild:T.firstChild;De;De=De.nextSibling)if(Bu(De)&&Hf(De)&&typeof De.assignedNodes=="function"){var Ke=De.assignedNodes();Ke.length&&Ke.forEach(function(At){return Se.appendChildNode(U,At,H)})}else this.appendChildNode(U,De,H)},F.prototype.cloneNode=function(T,U){if(Eu(T))return document.createTextNode(T.data);if(!T.ownerDocument)return T.cloneNode(!1);var H=T.ownerDocument.defaultView;if(H&&Bu(T)&&(Iu(T)||rh(T))){var Se=this.createElementClone(T);Se.style.transitionProperty="none";var De=H.getComputedStyle(T),Ke=H.getComputedStyle(T,":before"),At=H.getComputedStyle(T,":after");this.referenceElement===T&&Iu(Se)&&(this.clonedReferenceElement=Se),TA(Se)&&nl(Se);var ft=this.counters.parse(new $r(this.context,De)),zt=this.resolvePseudoContent(T,Se,Ke,Fn.BEFORE);O(T)&&(U=!0),Sl(T)||this.cloneChildNodes(T,Se,U),zt&&Se.insertBefore(zt,Se.firstChild);var Gt=this.resolvePseudoContent(T,Se,At,Fn.AFTER);return Gt&&Se.appendChild(Gt),this.counters.pop(ft),(De&&(this.options.copyStyles||rh(T))&&!kA(T)||U)&&Wn(De,Se),(T.scrollTop!==0||T.scrollLeft!==0)&&this.scrolledElements.push([Se,T.scrollLeft,T.scrollTop]),(nf(T)||wh(T))&&(nf(Se)||wh(Se))&&(Se.value=T.value),Se}return T.cloneNode(!1)},F.prototype.resolvePseudoContent=function(T,U,H,Se){var De=this;if(H){var Ke=H.content,At=U.ownerDocument;if(!(!At||!Ke||Ke==="none"||Ke==="-moz-alt-content"||H.display==="none")){this.counters.parse(new $r(this.context,H));var ft=new gn(this.context,H),zt=At.createElement("html2canvaspseudoelement");Wn(H,zt),ft.content.forEach(function(lr){if(lr.type===0)zt.appendChild(At.createTextNode(lr.value));else if(lr.type===22){var Br=At.createElement("img");Br.src=lr.value,Br.style.opacity="1",zt.appendChild(Br)}else if(lr.type===18){if(lr.name==="attr"){var Nn=lr.values.filter(pn);Nn.length&&zt.appendChild(At.createTextNode(T.getAttribute(Nn[0].value)||""))}else if(lr.name==="counter"){var ln=lr.values.filter(Zn),bn=ln[0],as=ln[1];if(bn&&pn(bn)){var Xn=De.counters.getCounterValue(bn.value),$n=as&&pn(as)?qd.parse(De.context,as.value):3;zt.appendChild(At.createTextNode(zr(Xn,$n,!1)))}}else if(lr.name==="counters"){var Zs=lr.values.filter(Zn),bn=Zs[0],cs=Zs[1],as=Zs[2];if(bn&&pn(bn)){var Ga=De.counters.getCounterValues(bn.value),kn=as&&pn(as)?qd.parse(De.context,as.value):3,Ms=cs&&cs.type===0?cs.value:"",Es=Ga.map(function(gc){return zr(gc,kn,!1)}).join(Ms);zt.appendChild(At.createTextNode(Es))}}}else if(lr.type===20)switch(lr.value){case"open-quote":zt.appendChild(At.createTextNode(or(ft.quotes,De.quoteDepth++,!0)));break;case"close-quote":zt.appendChild(At.createTextNode(or(ft.quotes,--De.quoteDepth,!1)));break;default:zt.appendChild(At.createTextNode(lr.value))}}),zt.className=Bo+" "+rl;var Gt=Se===Fn.BEFORE?" "+Bo:" "+rl;return rh(U)?U.className.baseValue+=Gt:U.className+=Gt,zt}}},F.destroy=function(T){return T.parentNode?(T.parentNode.removeChild(T),!0):!1},F})(),Fn;(function(F){F[F.BEFORE=0]="BEFORE",F[F.AFTER=1]="AFTER"})(Fn||(Fn={}));var Xa=function(F,T){var U=F.createElement("iframe");return U.className="html2canvas-container",U.style.visibility="hidden",U.style.position="fixed",U.style.left="-10000px",U.style.top="0px",U.style.border="0",U.width=T.width.toString(),U.height=T.height.toString(),U.scrolling="no",U.setAttribute(_r,"true"),F.body.appendChild(U),U},wn=function(F){return new Promise(function(T){if(F.complete){T();return}if(!F.src){T();return}F.onload=T,F.onerror=T})},Ss=function(F){return Promise.all([].slice.call(F.images,0).map(wn))},fn=function(F){return new Promise(function(T,U){var H=F.contentWindow;if(!H)return U("No window assigned for iframe");var Se=H.document;H.onload=F.onload=function(){H.onload=F.onload=null;var De=setInterval(function(){Se.body.childNodes.length>0&&Se.readyState==="complete"&&(clearInterval(De),T(F))},50)}})},Wa=["all","d","content"],Wn=function(F,T){for(var U=F.length-1;U>=0;U--){var H=F.item(U);Wa.indexOf(H)===-1&&T.style.setProperty(H,F.getPropertyValue(H))}return T},vn=function(F){var T="";return F&&(T+="<!DOCTYPE ",F.name&&(T+=F.name),F.internalSubset&&(T+=F.internalSubset),F.publicId&&(T+='"'+F.publicId+'"'),F.systemId&&(T+='"'+F.systemId+'"'),T+=">"),T},mo=function(F,T,U){F&&F.defaultView&&(T!==F.defaultView.pageXOffset||U!==F.defaultView.pageYOffset)&&F.defaultView.scrollTo(T,U)},Ua=function(F){var T=F[0],U=F[1],H=F[2];T.scrollLeft=U,T.scrollTop=H},vs=":before",vi=":after",Bo="___html2canvas___pseudoelement_before",rl="___html2canvas___pseudoelement_after",Hi=`{
    content: "" !important;
    display: none !important;
}`,nl=function(F){Al(F,"."+Bo+vs+Hi+`
         .`+rl+vi+Hi)},Al=function(F,T){var U=F.ownerDocument;if(U){var H=U.createElement("style");H.textContent=T,F.appendChild(H)}},bs=(function(){function F(){}return F.getOrigin=function(T){var U=F._link;return U?(U.href=T,U.href=U.href,U.protocol+U.hostname+U.port):"about:blank"},F.isSameOrigin=function(T){return F.getOrigin(T)===F._origin},F.setContext=function(T){F._link=T.document.createElement("a"),F._origin=F.getOrigin(T.location.href)},F._origin="about:blank",F})(),Za=(function(){function F(T,U){this.context=T,this._options=U,this._cache={}}return F.prototype.addImage=function(T){var U=Promise.resolve();return this.has(T)||(El(T)||xi(T))&&(this._cache[T]=this.loadImage(T)).catch(function(){}),U},F.prototype.match=function(T){return this._cache[T]},F.prototype.loadImage=function(T){return i(this,void 0,void 0,function(){var U,H,Se,De,Ke=this;return c(this,function(At){switch(At.label){case 0:return U=bs.isSameOrigin(T),H=!pc(T)&&this._options.useCORS===!0&&po.SUPPORT_CORS_IMAGES&&!U,Se=!pc(T)&&!U&&!El(T)&&typeof this._options.proxy=="string"&&po.SUPPORT_CORS_XHR&&!H,!U&&this._options.allowTaint===!1&&!pc(T)&&!El(T)&&!Se&&!H?[2]:(De=T,Se?[4,this.proxy(De)]:[3,2]);case 1:De=At.sent(),At.label=2;case 2:return this.context.logger.debug("Added image "+T.substring(0,256)),[4,new Promise(function(ft,zt){var Gt=new Image;Gt.onload=function(){return ft(Gt)},Gt.onerror=zt,(Ys(De)||H)&&(Gt.crossOrigin="anonymous"),Gt.src=De,Gt.complete===!0&&setTimeout(function(){return ft(Gt)},500),Ke._options.imageTimeout>0&&setTimeout(function(){return zt("Timed out ("+Ke._options.imageTimeout+"ms) loading image")},Ke._options.imageTimeout)})];case 3:return[2,At.sent()]}})})},F.prototype.has=function(T){return typeof this._cache[T]<"u"},F.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},F.prototype.proxy=function(T){var U=this,H=this._options.proxy;if(!H)throw new Error("No proxy defined");var Se=T.substring(0,256);return new Promise(function(De,Ke){var At=po.SUPPORT_RESPONSE_TYPE?"blob":"text",ft=new XMLHttpRequest;ft.onload=function(){if(ft.status===200)if(At==="text")De(ft.response);else{var lr=new FileReader;lr.addEventListener("load",function(){return De(lr.result)},!1),lr.addEventListener("error",function(Br){return Ke(Br)},!1),lr.readAsDataURL(ft.response)}else Ke("Failed to proxy resource "+Se+" with status code "+ft.status)},ft.onerror=Ke;var zt=H.indexOf("?")>-1?"&":"?";if(ft.open("GET",""+H+zt+"url="+encodeURIComponent(T)+"&responseType="+At),At!=="text"&&ft instanceof XMLHttpRequest&&(ft.responseType=At),U._options.imageTimeout){var Gt=U._options.imageTimeout;ft.timeout=Gt,ft.ontimeout=function(){return Ke("Timed out ("+Gt+"ms) proxying "+Se)}}ft.send()})},F})(),ws=/^data:image\/svg\+xml/i,qi=/^data:image\/.*;base64,/i,Xs=/^data:image\/.*/i,xi=function(F){return po.SUPPORT_SVG_DRAWING||!ci(F)},pc=function(F){return Xs.test(F)},Ys=function(F){return qi.test(F)},El=function(F){return F.substr(0,4)==="blob"},ci=function(F){return F.substr(-3).toLowerCase()==="svg"||ws.test(F)},on=(function(){function F(T,U){this.type=0,this.x=T,this.y=U}return F.prototype.add=function(T,U){return new F(this.x+T,this.y+U)},F})(),$o=function(F,T,U){return new on(F.x+(T.x-F.x)*U,F.y+(T.y-F.y)*U)},Vo=(function(){function F(T,U,H,Se){this.type=1,this.start=T,this.startControl=U,this.endControl=H,this.end=Se}return F.prototype.subdivide=function(T,U){var H=$o(this.start,this.startControl,T),Se=$o(this.startControl,this.endControl,T),De=$o(this.endControl,this.end,T),Ke=$o(H,Se,T),At=$o(Se,De,T),ft=$o(Ke,At,T);return U?new F(this.start,H,Ke,ft):new F(ft,At,De,this.end)},F.prototype.add=function(T,U){return new F(this.start.add(T,U),this.startControl.add(T,U),this.endControl.add(T,U),this.end.add(T,U))},F.prototype.reverse=function(){return new F(this.end,this.endControl,this.startControl,this.start)},F})(),Qi=function(F){return F.type===1},Bl=(function(){function F(T){var U=T.styles,H=T.bounds,Se=On(U.borderTopLeftRadius,H.width,H.height),De=Se[0],Ke=Se[1],At=On(U.borderTopRightRadius,H.width,H.height),ft=At[0],zt=At[1],Gt=On(U.borderBottomRightRadius,H.width,H.height),lr=Gt[0],Br=Gt[1],Nn=On(U.borderBottomLeftRadius,H.width,H.height),ln=Nn[0],bn=Nn[1],as=[];as.push((De+ft)/H.width),as.push((ln+lr)/H.width),as.push((Ke+bn)/H.height),as.push((zt+Br)/H.height);var Xn=Math.max.apply(Math,as);Xn>1&&(De/=Xn,Ke/=Xn,ft/=Xn,zt/=Xn,lr/=Xn,Br/=Xn,ln/=Xn,bn/=Xn);var $n=H.width-ft,Zs=H.height-Br,cs=H.width-lr,Ga=H.height-bn,kn=U.borderTopWidth,Ms=U.borderRightWidth,Es=U.borderBottomWidth,Qa=U.borderLeftWidth,zo=Na(U.paddingTop,T.bounds.width),gc=Na(U.paddingRight,T.bounds.width),gd=Na(U.paddingBottom,T.bounds.width),yi=Na(U.paddingLeft,T.bounds.width);this.topLeftBorderDoubleOuterBox=De>0||Ke>0?Ha(H.left+Qa/3,H.top+kn/3,De-Qa/3,Ke-kn/3,Ka.TOP_LEFT):new on(H.left+Qa/3,H.top+kn/3),this.topRightBorderDoubleOuterBox=De>0||Ke>0?Ha(H.left+$n,H.top+kn/3,ft-Ms/3,zt-kn/3,Ka.TOP_RIGHT):new on(H.left+H.width-Ms/3,H.top+kn/3),this.bottomRightBorderDoubleOuterBox=lr>0||Br>0?Ha(H.left+cs,H.top+Zs,lr-Ms/3,Br-Es/3,Ka.BOTTOM_RIGHT):new on(H.left+H.width-Ms/3,H.top+H.height-Es/3),this.bottomLeftBorderDoubleOuterBox=ln>0||bn>0?Ha(H.left+Qa/3,H.top+Ga,ln-Qa/3,bn-Es/3,Ka.BOTTOM_LEFT):new on(H.left+Qa/3,H.top+H.height-Es/3),this.topLeftBorderDoubleInnerBox=De>0||Ke>0?Ha(H.left+Qa*2/3,H.top+kn*2/3,De-Qa*2/3,Ke-kn*2/3,Ka.TOP_LEFT):new on(H.left+Qa*2/3,H.top+kn*2/3),this.topRightBorderDoubleInnerBox=De>0||Ke>0?Ha(H.left+$n,H.top+kn*2/3,ft-Ms*2/3,zt-kn*2/3,Ka.TOP_RIGHT):new on(H.left+H.width-Ms*2/3,H.top+kn*2/3),this.bottomRightBorderDoubleInnerBox=lr>0||Br>0?Ha(H.left+cs,H.top+Zs,lr-Ms*2/3,Br-Es*2/3,Ka.BOTTOM_RIGHT):new on(H.left+H.width-Ms*2/3,H.top+H.height-Es*2/3),this.bottomLeftBorderDoubleInnerBox=ln>0||bn>0?Ha(H.left+Qa*2/3,H.top+Ga,ln-Qa*2/3,bn-Es*2/3,Ka.BOTTOM_LEFT):new on(H.left+Qa*2/3,H.top+H.height-Es*2/3),this.topLeftBorderStroke=De>0||Ke>0?Ha(H.left+Qa/2,H.top+kn/2,De-Qa/2,Ke-kn/2,Ka.TOP_LEFT):new on(H.left+Qa/2,H.top+kn/2),this.topRightBorderStroke=De>0||Ke>0?Ha(H.left+$n,H.top+kn/2,ft-Ms/2,zt-kn/2,Ka.TOP_RIGHT):new on(H.left+H.width-Ms/2,H.top+kn/2),this.bottomRightBorderStroke=lr>0||Br>0?Ha(H.left+cs,H.top+Zs,lr-Ms/2,Br-Es/2,Ka.BOTTOM_RIGHT):new on(H.left+H.width-Ms/2,H.top+H.height-Es/2),this.bottomLeftBorderStroke=ln>0||bn>0?Ha(H.left+Qa/2,H.top+Ga,ln-Qa/2,bn-Es/2,Ka.BOTTOM_LEFT):new on(H.left+Qa/2,H.top+H.height-Es/2),this.topLeftBorderBox=De>0||Ke>0?Ha(H.left,H.top,De,Ke,Ka.TOP_LEFT):new on(H.left,H.top),this.topRightBorderBox=ft>0||zt>0?Ha(H.left+$n,H.top,ft,zt,Ka.TOP_RIGHT):new on(H.left+H.width,H.top),this.bottomRightBorderBox=lr>0||Br>0?Ha(H.left+cs,H.top+Zs,lr,Br,Ka.BOTTOM_RIGHT):new on(H.left+H.width,H.top+H.height),this.bottomLeftBorderBox=ln>0||bn>0?Ha(H.left,H.top+Ga,ln,bn,Ka.BOTTOM_LEFT):new on(H.left,H.top+H.height),this.topLeftPaddingBox=De>0||Ke>0?Ha(H.left+Qa,H.top+kn,Math.max(0,De-Qa),Math.max(0,Ke-kn),Ka.TOP_LEFT):new on(H.left+Qa,H.top+kn),this.topRightPaddingBox=ft>0||zt>0?Ha(H.left+Math.min($n,H.width-Ms),H.top+kn,$n>H.width+Ms?0:Math.max(0,ft-Ms),Math.max(0,zt-kn),Ka.TOP_RIGHT):new on(H.left+H.width-Ms,H.top+kn),this.bottomRightPaddingBox=lr>0||Br>0?Ha(H.left+Math.min(cs,H.width-Qa),H.top+Math.min(Zs,H.height-Es),Math.max(0,lr-Ms),Math.max(0,Br-Es),Ka.BOTTOM_RIGHT):new on(H.left+H.width-Ms,H.top+H.height-Es),this.bottomLeftPaddingBox=ln>0||bn>0?Ha(H.left+Qa,H.top+Math.min(Ga,H.height-Es),Math.max(0,ln-Qa),Math.max(0,bn-Es),Ka.BOTTOM_LEFT):new on(H.left+Qa,H.top+H.height-Es),this.topLeftContentBox=De>0||Ke>0?Ha(H.left+Qa+yi,H.top+kn+zo,Math.max(0,De-(Qa+yi)),Math.max(0,Ke-(kn+zo)),Ka.TOP_LEFT):new on(H.left+Qa+yi,H.top+kn+zo),this.topRightContentBox=ft>0||zt>0?Ha(H.left+Math.min($n,H.width+Qa+yi),H.top+kn+zo,$n>H.width+Qa+yi?0:ft-Qa+yi,zt-(kn+zo),Ka.TOP_RIGHT):new on(H.left+H.width-(Ms+gc),H.top+kn+zo),this.bottomRightContentBox=lr>0||Br>0?Ha(H.left+Math.min(cs,H.width-(Qa+yi)),H.top+Math.min(Zs,H.height+kn+zo),Math.max(0,lr-(Ms+gc)),Br-(Es+gd),Ka.BOTTOM_RIGHT):new on(H.left+H.width-(Ms+gc),H.top+H.height-(Es+gd)),this.bottomLeftContentBox=ln>0||bn>0?Ha(H.left+Qa+yi,H.top+Ga,Math.max(0,ln-(Qa+yi)),bn-(Es+gd),Ka.BOTTOM_LEFT):new on(H.left+Qa+yi,H.top+H.height-(Es+gd))}return F})(),Ka;(function(F){F[F.TOP_LEFT=0]="TOP_LEFT",F[F.TOP_RIGHT=1]="TOP_RIGHT",F[F.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",F[F.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Ka||(Ka={}));var Ha=function(F,T,U,H,Se){var De=4*((Math.sqrt(2)-1)/3),Ke=U*De,At=H*De,ft=F+U,zt=T+H;switch(Se){case Ka.TOP_LEFT:return new Vo(new on(F,zt),new on(F,zt-At),new on(ft-Ke,T),new on(ft,T));case Ka.TOP_RIGHT:return new Vo(new on(F,T),new on(F+Ke,T),new on(ft,zt-At),new on(ft,zt));case Ka.BOTTOM_RIGHT:return new Vo(new on(ft,T),new on(ft,T+At),new on(F+Ke,zt),new on(F,zt));case Ka.BOTTOM_LEFT:default:return new Vo(new on(ft,zt),new on(ft-Ke,zt),new on(F,T+At),new on(F,T))}},qn=function(F){return[F.topLeftBorderBox,F.topRightBorderBox,F.bottomRightBorderBox,F.bottomLeftBorderBox]},Js=function(F){return[F.topLeftContentBox,F.topRightContentBox,F.bottomRightContentBox,F.bottomLeftContentBox]},Ds=function(F){return[F.topLeftPaddingBox,F.topRightPaddingBox,F.bottomRightPaddingBox,F.bottomLeftPaddingBox]},Xi=(function(){function F(T,U,H){this.offsetX=T,this.offsetY=U,this.matrix=H,this.type=0,this.target=6}return F})(),Wi=(function(){function F(T,U){this.path=T,this.target=U,this.type=1}return F})(),no=(function(){function F(T){this.opacity=T,this.type=2,this.target=6}return F})(),ao=function(F){return F.type===0},Tu=function(F){return F.type===1},Dd=function(F){return F.type===2},Zd=function(F,T){return F.length===T.length?F.some(function(U,H){return U===T[H]}):!1},_A=function(F,T,U,H,Se){return F.map(function(De,Ke){switch(Ke){case 0:return De.add(T,U);case 1:return De.add(T+H,U);case 2:return De.add(T+H,U+Se);case 3:return De.add(T,U+Se)}return De})},Ch=(function(){function F(T){this.element=T,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return F})(),pl=(function(){function F(T,U){if(this.container=T,this.parent=U,this.effects=[],this.curves=new Bl(this.container),this.container.styles.opacity<1&&this.effects.push(new no(this.container.styles.opacity)),this.container.styles.transform!==null){var H=this.container.bounds.left+this.container.styles.transformOrigin[0].number,Se=this.container.bounds.top+this.container.styles.transformOrigin[1].number,De=this.container.styles.transform;this.effects.push(new Xi(H,Se,De))}if(this.container.styles.overflowX!==0){var Ke=qn(this.curves),At=Ds(this.curves);Zd(Ke,At)?this.effects.push(new Wi(Ke,6)):(this.effects.push(new Wi(Ke,2)),this.effects.push(new Wi(At,4)))}}return F.prototype.getEffects=function(T){for(var U=[2,3].indexOf(this.container.styles.position)===-1,H=this.parent,Se=this.effects.slice(0);H;){var De=H.effects.filter(function(ft){return!Tu(ft)});if(U||H.container.styles.position!==0||!H.parent){if(Se.unshift.apply(Se,De),U=[2,3].indexOf(H.container.styles.position)===-1,H.container.styles.overflowX!==0){var Ke=qn(H.curves),At=Ds(H.curves);Zd(Ke,At)||Se.unshift(new Wi(At,6))}}else Se.unshift.apply(Se,De);H=H.parent}return Se.filter(function(ft){return _(ft.target,T)})},F})(),Jc=function(F,T,U,H){F.container.elements.forEach(function(Se){var De=_(Se.flags,4),Ke=_(Se.flags,2),At=new pl(Se,F);_(Se.styles.display,2048)&&H.push(At);var ft=_(Se.flags,8)?[]:H;if(De||Ke){var zt=De||Se.styles.isPositioned()?U:T,Gt=new Ch(At);if(Se.styles.isPositioned()||Se.styles.opacity<1||Se.styles.isTransformed()){var lr=Se.styles.zIndex.order;if(lr<0){var Br=0;zt.negativeZIndex.some(function(ln,bn){return lr>ln.element.container.styles.zIndex.order?(Br=bn,!1):Br>0}),zt.negativeZIndex.splice(Br,0,Gt)}else if(lr>0){var Nn=0;zt.positiveZIndex.some(function(ln,bn){return lr>=ln.element.container.styles.zIndex.order?(Nn=bn+1,!1):Nn>0}),zt.positiveZIndex.splice(Nn,0,Gt)}else zt.zeroOrAutoZIndexOrTransformedOrOpacity.push(Gt)}else Se.styles.isFloating()?zt.nonPositionedFloats.push(Gt):zt.nonPositionedInlineLevel.push(Gt);Jc(At,Gt,De?Gt:U,ft)}else Se.styles.isInlineLevel()?T.inlineLevel.push(At):T.nonInlineLevel.push(At),Jc(At,T,U,ft);_(Se.flags,8)&&nh(Se,ft)})},nh=function(F,T){for(var U=F instanceof Pf?F.start:1,H=F instanceof Pf?F.reversed:!1,Se=0;Se<T.length;Se++){var De=T[Se];De.container instanceof eh&&typeof De.container.value=="number"&&De.container.value!==0&&(U=De.container.value),De.listValue=zr(U,De.container.styles.listStyleType,!0),U+=H?-1:1}},eu=function(F){var T=new pl(F,null),U=new Ch(T),H=[];return Jc(T,U,U,H),nh(T.container,H),U},af=function(F,T){switch(T){case 0:return al(F.topLeftBorderBox,F.topLeftPaddingBox,F.topRightBorderBox,F.topRightPaddingBox);case 1:return al(F.topRightBorderBox,F.topRightPaddingBox,F.bottomRightBorderBox,F.bottomRightPaddingBox);case 2:return al(F.bottomRightBorderBox,F.bottomRightPaddingBox,F.bottomLeftBorderBox,F.bottomLeftPaddingBox);case 3:default:return al(F.bottomLeftBorderBox,F.bottomLeftPaddingBox,F.topLeftBorderBox,F.topLeftPaddingBox)}},Qf=function(F,T){switch(T){case 0:return al(F.topLeftBorderBox,F.topLeftBorderDoubleOuterBox,F.topRightBorderBox,F.topRightBorderDoubleOuterBox);case 1:return al(F.topRightBorderBox,F.topRightBorderDoubleOuterBox,F.bottomRightBorderBox,F.bottomRightBorderDoubleOuterBox);case 2:return al(F.bottomRightBorderBox,F.bottomRightBorderDoubleOuterBox,F.bottomLeftBorderBox,F.bottomLeftBorderDoubleOuterBox);case 3:default:return al(F.bottomLeftBorderBox,F.bottomLeftBorderDoubleOuterBox,F.topLeftBorderBox,F.topLeftBorderDoubleOuterBox)}},md=function(F,T){switch(T){case 0:return al(F.topLeftBorderDoubleInnerBox,F.topLeftPaddingBox,F.topRightBorderDoubleInnerBox,F.topRightPaddingBox);case 1:return al(F.topRightBorderDoubleInnerBox,F.topRightPaddingBox,F.bottomRightBorderDoubleInnerBox,F.bottomRightPaddingBox);case 2:return al(F.bottomRightBorderDoubleInnerBox,F.bottomRightPaddingBox,F.bottomLeftBorderDoubleInnerBox,F.bottomLeftPaddingBox);case 3:default:return al(F.bottomLeftBorderDoubleInnerBox,F.bottomLeftPaddingBox,F.topLeftBorderDoubleInnerBox,F.topLeftPaddingBox)}},sf=function(F,T){switch(T){case 0:return Zc(F.topLeftBorderStroke,F.topRightBorderStroke);case 1:return Zc(F.topRightBorderStroke,F.bottomRightBorderStroke);case 2:return Zc(F.bottomRightBorderStroke,F.bottomLeftBorderStroke);case 3:default:return Zc(F.bottomLeftBorderStroke,F.topLeftBorderStroke)}},Zc=function(F,T){var U=[];return Qi(F)?U.push(F.subdivide(.5,!1)):U.push(F),Qi(T)?U.push(T.subdivide(.5,!0)):U.push(T),U},al=function(F,T,U,H){var Se=[];return Qi(F)?Se.push(F.subdivide(.5,!1)):Se.push(F),Qi(U)?Se.push(U.subdivide(.5,!0)):Se.push(U),Qi(H)?Se.push(H.subdivide(.5,!0).reverse()):Se.push(H),Qi(T)?Se.push(T.subdivide(.5,!1).reverse()):Se.push(T),Se},ku=function(F){var T=F.bounds,U=F.styles;return T.add(U.borderLeftWidth,U.borderTopWidth,-(U.borderRightWidth+U.borderLeftWidth),-(U.borderTopWidth+U.borderBottomWidth))},Md=function(F){var T=F.styles,U=F.bounds,H=Na(T.paddingLeft,U.width),Se=Na(T.paddingRight,U.width),De=Na(T.paddingTop,U.width),Ke=Na(T.paddingBottom,U.width);return U.add(H+T.borderLeftWidth,De+T.borderTopWidth,-(T.borderRightWidth+T.borderLeftWidth+H+Se),-(T.borderTopWidth+T.borderBottomWidth+De+Ke))},of=function(F,T){return F===0?T.bounds:F===2?Md(T):ku(T)},Wf=function(F,T){return F===0?T.bounds:F===2?Md(T):ku(T)},Io=function(F,T,U){var H=of(_u(F.styles.backgroundOrigin,T),F),Se=Wf(_u(F.styles.backgroundClip,T),F),De=go(_u(F.styles.backgroundSize,T),U,H),Ke=De[0],At=De[1],ft=On(_u(F.styles.backgroundPosition,T),H.width-Ke,H.height-At),zt=$f(_u(F.styles.backgroundRepeat,T),ft,De,H,Se),Gt=Math.round(H.left+ft[0]),lr=Math.round(H.top+ft[1]);return[zt,Gt,lr,Ke,At]},mc=function(F){return pn(F)&&F.value===ba.AUTO},Il=function(F){return typeof F=="number"},go=function(F,T,U){var H=T[0],Se=T[1],De=T[2],Ke=F[0],At=F[1];if(!Ke)return[0,0];if(Pn(Ke)&&At&&Pn(At))return[Na(Ke,U.width),Na(At,U.height)];var ft=Il(De);if(pn(Ke)&&(Ke.value===ba.CONTAIN||Ke.value===ba.COVER)){if(Il(De)){var zt=U.width/U.height;return zt<De!=(Ke.value===ba.COVER)?[U.width,U.width/De]:[U.height*De,U.height]}return[U.width,U.height]}var Gt=Il(H),lr=Il(Se),Br=Gt||lr;if(mc(Ke)&&(!At||mc(At))){if(Gt&&lr)return[H,Se];if(!ft&&!Br)return[U.width,U.height];if(Br&&ft){var Nn=Gt?H:Se*De,ln=lr?Se:H/De;return[Nn,ln]}var bn=Gt?H:U.width,as=lr?Se:U.height;return[bn,as]}if(ft){var Xn=0,$n=0;return Pn(Ke)?Xn=Na(Ke,U.width):Pn(At)&&($n=Na(At,U.height)),mc(Ke)?Xn=$n*De:(!At||mc(At))&&($n=Xn/De),[Xn,$n]}var Zs=null,cs=null;if(Pn(Ke)?Zs=Na(Ke,U.width):At&&Pn(At)&&(cs=Na(At,U.height)),Zs!==null&&(!At||mc(At))&&(cs=Gt&&lr?Zs/H*Se:U.height),cs!==null&&mc(Ke)&&(Zs=Gt&&lr?cs/Se*H:U.width),Zs!==null&&cs!==null)return[Zs,cs];throw new Error("Unable to calculate background-size for element")},_u=function(F,T){var U=F[T];return typeof U>"u"?F[0]:U},$f=function(F,T,U,H,Se){var De=T[0],Ke=T[1],At=U[0],ft=U[1];switch(F){case 2:return[new on(Math.round(H.left),Math.round(H.top+Ke)),new on(Math.round(H.left+H.width),Math.round(H.top+Ke)),new on(Math.round(H.left+H.width),Math.round(ft+H.top+Ke)),new on(Math.round(H.left),Math.round(ft+H.top+Ke))];case 3:return[new on(Math.round(H.left+De),Math.round(H.top)),new on(Math.round(H.left+De+At),Math.round(H.top)),new on(Math.round(H.left+De+At),Math.round(H.height+H.top)),new on(Math.round(H.left+De),Math.round(H.height+H.top))];case 1:return[new on(Math.round(H.left+De),Math.round(H.top+Ke)),new on(Math.round(H.left+De+At),Math.round(H.top+Ke)),new on(Math.round(H.left+De+At),Math.round(H.top+Ke+ft)),new on(Math.round(H.left+De),Math.round(H.top+Ke+ft))];default:return[new on(Math.round(Se.left),Math.round(Se.top)),new on(Math.round(Se.left+Se.width),Math.round(Se.top)),new on(Math.round(Se.left+Se.width),Math.round(Se.height+Se.top)),new on(Math.round(Se.left),Math.round(Se.height+Se.top))]}},OA="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",FA="Hidden Text",Mc=(function(){function F(T){this._data={},this._document=T}return F.prototype.parseMetrics=function(T,U){var H=this._document.createElement("div"),Se=this._document.createElement("img"),De=this._document.createElement("span"),Ke=this._document.body;H.style.visibility="hidden",H.style.fontFamily=T,H.style.fontSize=U,H.style.margin="0",H.style.padding="0",H.style.whiteSpace="nowrap",Ke.appendChild(H),Se.src=OA,Se.width=1,Se.height=1,Se.style.margin="0",Se.style.padding="0",Se.style.verticalAlign="baseline",De.style.fontFamily=T,De.style.fontSize=U,De.style.margin="0",De.style.padding="0",De.appendChild(this._document.createTextNode(FA)),H.appendChild(De),H.appendChild(Se);var At=Se.offsetTop-De.offsetTop+2;H.removeChild(De),H.appendChild(this._document.createTextNode(FA)),H.style.lineHeight="normal",Se.style.verticalAlign="super";var ft=Se.offsetTop-H.offsetTop+2;return Ke.removeChild(H),{baseline:At,middle:ft}},F.prototype.getMetrics=function(T,U){var H=T+" "+U;return typeof this._data[H]>"u"&&(this._data[H]=this.parseMetrics(T,U)),this._data[H]},F})(),PA=(function(){function F(T,U){this.context=T,this.options=U}return F})(),Vf=1e4,ah=(function(F){a(T,F);function T(U,H){var Se=F.call(this,U,H)||this;return Se._activeEffects=[],Se.canvas=H.canvas?H.canvas:document.createElement("canvas"),Se.ctx=Se.canvas.getContext("2d"),H.canvas||(Se.canvas.width=Math.floor(H.width*H.scale),Se.canvas.height=Math.floor(H.height*H.scale),Se.canvas.style.width=H.width+"px",Se.canvas.style.height=H.height+"px"),Se.fontMetrics=new Mc(document),Se.ctx.scale(Se.options.scale,Se.options.scale),Se.ctx.translate(-H.x,-H.y),Se.ctx.textBaseline="bottom",Se._activeEffects=[],Se.context.logger.debug("Canvas renderer initialized ("+H.width+"x"+H.height+") with scale "+H.scale),Se}return T.prototype.applyEffects=function(U){for(var H=this;this._activeEffects.length;)this.popEffect();U.forEach(function(Se){return H.applyEffect(Se)})},T.prototype.applyEffect=function(U){this.ctx.save(),Dd(U)&&(this.ctx.globalAlpha=U.opacity),ao(U)&&(this.ctx.translate(U.offsetX,U.offsetY),this.ctx.transform(U.matrix[0],U.matrix[1],U.matrix[2],U.matrix[3],U.matrix[4],U.matrix[5]),this.ctx.translate(-U.offsetX,-U.offsetY)),Tu(U)&&(this.path(U.path),this.ctx.clip()),this._activeEffects.push(U)},T.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},T.prototype.renderStack=function(U){return i(this,void 0,void 0,function(){var H;return c(this,function(Se){switch(Se.label){case 0:return H=U.element.container.styles,H.isVisible()?[4,this.renderStackContent(U)]:[3,2];case 1:Se.sent(),Se.label=2;case 2:return[2]}})})},T.prototype.renderNode=function(U){return i(this,void 0,void 0,function(){return c(this,function(H){switch(H.label){case 0:if(_(U.container.flags,16))debugger;return U.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(U)]:[3,3];case 1:return H.sent(),[4,this.renderNodeContent(U)];case 2:H.sent(),H.label=3;case 3:return[2]}})})},T.prototype.renderTextWithLetterSpacing=function(U,H,Se){var De=this;if(H===0)this.ctx.fillText(U.text,U.bounds.left,U.bounds.top+Se);else{var Ke=Pd(U.text);Ke.reduce(function(At,ft){return De.ctx.fillText(ft,At,U.bounds.top+Se),At+De.ctx.measureText(ft).width},U.bounds.left)}},T.prototype.createFontStyle=function(U){var H=U.fontVariant.filter(function(Ke){return Ke==="normal"||Ke==="small-caps"}).join(""),Se=Sh(U.fontFamily).join(", "),De=mn(U.fontSize)?""+U.fontSize.number+U.fontSize.unit:U.fontSize.number+"px";return[[U.fontStyle,H,U.fontWeight,De,Se].join(" "),Se,De]},T.prototype.renderTextNode=function(U,H){return i(this,void 0,void 0,function(){var Se,De,Ke,At,ft,zt,Gt,lr,Br=this;return c(this,function(Nn){return Se=this.createFontStyle(H),De=Se[0],Ke=Se[1],At=Se[2],this.ctx.font=De,this.ctx.direction=H.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",ft=this.fontMetrics.getMetrics(Ke,At),zt=ft.baseline,Gt=ft.middle,lr=H.paintOrder,U.textBounds.forEach(function(ln){lr.forEach(function(bn){switch(bn){case 0:Br.ctx.fillStyle=In(H.color),Br.renderTextWithLetterSpacing(ln,H.letterSpacing,zt);var as=H.textShadow;as.length&&ln.text.trim().length&&(as.slice(0).reverse().forEach(function(Xn){Br.ctx.shadowColor=In(Xn.color),Br.ctx.shadowOffsetX=Xn.offsetX.number*Br.options.scale,Br.ctx.shadowOffsetY=Xn.offsetY.number*Br.options.scale,Br.ctx.shadowBlur=Xn.blur.number,Br.renderTextWithLetterSpacing(ln,H.letterSpacing,zt)}),Br.ctx.shadowColor="",Br.ctx.shadowOffsetX=0,Br.ctx.shadowOffsetY=0,Br.ctx.shadowBlur=0),H.textDecorationLine.length&&(Br.ctx.fillStyle=In(H.textDecorationColor||H.color),H.textDecorationLine.forEach(function(Xn){switch(Xn){case 1:Br.ctx.fillRect(ln.bounds.left,Math.round(ln.bounds.top+zt),ln.bounds.width,1);break;case 2:Br.ctx.fillRect(ln.bounds.left,Math.round(ln.bounds.top),ln.bounds.width,1);break;case 3:Br.ctx.fillRect(ln.bounds.left,Math.ceil(ln.bounds.top+Gt),ln.bounds.width,1);break}}));break;case 1:H.webkitTextStrokeWidth&&ln.text.trim().length&&(Br.ctx.strokeStyle=In(H.webkitTextStrokeColor),Br.ctx.lineWidth=H.webkitTextStrokeWidth,Br.ctx.lineJoin=window.chrome?"miter":"round",Br.ctx.strokeText(ln.text,ln.bounds.left,ln.bounds.top+zt)),Br.ctx.strokeStyle="",Br.ctx.lineWidth=0,Br.ctx.lineJoin="miter";break}})}),[2]})})},T.prototype.renderReplacedElement=function(U,H,Se){if(Se&&U.intrinsicWidth>0&&U.intrinsicHeight>0){var De=Md(U),Ke=Ds(H);this.path(Ke),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(Se,0,0,U.intrinsicWidth,U.intrinsicHeight,De.left,De.top,De.width,De.height),this.ctx.restore()}},T.prototype.renderNodeContent=function(U){return i(this,void 0,void 0,function(){var H,Se,De,Ke,At,ft,$n,$n,zt,Gt,lr,Br,cs,Nn,ln,Ga,bn,as,Xn,$n,Zs,cs,Ga;return c(this,function(kn){switch(kn.label){case 0:this.applyEffects(U.getEffects(4)),H=U.container,Se=U.curves,De=H.styles,Ke=0,At=H.textNodes,kn.label=1;case 1:return Ke<At.length?(ft=At[Ke],[4,this.renderTextNode(ft,De)]):[3,4];case 2:kn.sent(),kn.label=3;case 3:return Ke++,[3,1];case 4:if(!(H instanceof wA))return[3,8];kn.label=5;case 5:return kn.trys.push([5,7,,8]),[4,this.context.cache.match(H.src)];case 6:return $n=kn.sent(),this.renderReplacedElement(H,Se,$n),[3,8];case 7:return kn.sent(),this.context.logger.error("Error loading image "+H.src),[3,8];case 8:if(H instanceof jh&&this.renderReplacedElement(H,Se,H.canvas),!(H instanceof Zh))return[3,12];kn.label=9;case 9:return kn.trys.push([9,11,,12]),[4,this.context.cache.match(H.svg)];case 10:return $n=kn.sent(),this.renderReplacedElement(H,Se,$n),[3,12];case 11:return kn.sent(),this.context.logger.error("Error loading svg "+H.svg.substring(0,255)),[3,12];case 12:return H instanceof Wo&&H.tree?(zt=new T(this.context,{scale:this.options.scale,backgroundColor:H.backgroundColor,x:0,y:0,width:H.width,height:H.height}),[4,zt.render(H.tree)]):[3,14];case 13:Gt=kn.sent(),H.width&&H.height&&this.ctx.drawImage(Gt,0,0,H.width,H.height,H.bounds.left,H.bounds.top,H.bounds.width,H.bounds.height),kn.label=14;case 14:if(H instanceof pd&&(lr=Math.min(H.bounds.width,H.bounds.height),H.type===ef?H.checked&&(this.ctx.save(),this.path([new on(H.bounds.left+lr*.39363,H.bounds.top+lr*.79),new on(H.bounds.left+lr*.16,H.bounds.top+lr*.5549),new on(H.bounds.left+lr*.27347,H.bounds.top+lr*.44071),new on(H.bounds.left+lr*.39694,H.bounds.top+lr*.5649),new on(H.bounds.left+lr*.72983,H.bounds.top+lr*.23),new on(H.bounds.left+lr*.84,H.bounds.top+lr*.34085),new on(H.bounds.left+lr*.39363,H.bounds.top+lr*.79)]),this.ctx.fillStyle=In(Wl),this.ctx.fill(),this.ctx.restore()):H.type===tf&&H.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(H.bounds.left+lr/2,H.bounds.top+lr/2,lr/4,0,Math.PI*2,!0),this.ctx.fillStyle=In(Wl),this.ctx.fill(),this.ctx.restore())),zf(H)&&H.value.length){switch(Br=this.createFontStyle(De),cs=Br[0],Nn=Br[1],ln=this.fontMetrics.getMetrics(cs,Nn).baseline,this.ctx.font=cs,this.ctx.fillStyle=In(De.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Nh(H.styles.textAlign),Ga=Md(H),bn=0,H.styles.textAlign){case 1:bn+=Ga.width/2;break;case 2:bn+=Ga.width;break}as=Ga.add(bn,0,0,-Ga.height/2+1),this.ctx.save(),this.path([new on(Ga.left,Ga.top),new on(Ga.left+Ga.width,Ga.top),new on(Ga.left+Ga.width,Ga.top+Ga.height),new on(Ga.left,Ga.top+Ga.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Su(H.value,as),De.letterSpacing,ln),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!_(H.styles.display,2048))return[3,20];if(H.styles.listStyleImage===null)return[3,19];if(Xn=H.styles.listStyleImage,Xn.type!==0)return[3,18];$n=void 0,Zs=Xn.url,kn.label=15;case 15:return kn.trys.push([15,17,,18]),[4,this.context.cache.match(Zs)];case 16:return $n=kn.sent(),this.ctx.drawImage($n,H.bounds.left-($n.width+10),H.bounds.top),[3,18];case 17:return kn.sent(),this.context.logger.error("Error loading list-style-image "+Zs),[3,18];case 18:return[3,20];case 19:U.listValue&&H.styles.listStyleType!==-1&&(cs=this.createFontStyle(De)[0],this.ctx.font=cs,this.ctx.fillStyle=In(De.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",Ga=new d(H.bounds.left,H.bounds.top+Na(H.styles.paddingTop,H.bounds.width),H.bounds.width,oc(De.lineHeight,De.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Su(U.listValue,Ga),De.letterSpacing,oc(De.lineHeight,De.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),kn.label=20;case 20:return[2]}})})},T.prototype.renderStackContent=function(U){return i(this,void 0,void 0,function(){var H,Se,Xn,De,Ke,Xn,At,ft,Xn,zt,Gt,Xn,lr,Br,Xn,Nn,ln,Xn,bn,as,Xn;return c(this,function($n){switch($n.label){case 0:if(_(U.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(U.element)];case 1:$n.sent(),H=0,Se=U.negativeZIndex,$n.label=2;case 2:return H<Se.length?(Xn=Se[H],[4,this.renderStack(Xn)]):[3,5];case 3:$n.sent(),$n.label=4;case 4:return H++,[3,2];case 5:return[4,this.renderNodeContent(U.element)];case 6:$n.sent(),De=0,Ke=U.nonInlineLevel,$n.label=7;case 7:return De<Ke.length?(Xn=Ke[De],[4,this.renderNode(Xn)]):[3,10];case 8:$n.sent(),$n.label=9;case 9:return De++,[3,7];case 10:At=0,ft=U.nonPositionedFloats,$n.label=11;case 11:return At<ft.length?(Xn=ft[At],[4,this.renderStack(Xn)]):[3,14];case 12:$n.sent(),$n.label=13;case 13:return At++,[3,11];case 14:zt=0,Gt=U.nonPositionedInlineLevel,$n.label=15;case 15:return zt<Gt.length?(Xn=Gt[zt],[4,this.renderStack(Xn)]):[3,18];case 16:$n.sent(),$n.label=17;case 17:return zt++,[3,15];case 18:lr=0,Br=U.inlineLevel,$n.label=19;case 19:return lr<Br.length?(Xn=Br[lr],[4,this.renderNode(Xn)]):[3,22];case 20:$n.sent(),$n.label=21;case 21:return lr++,[3,19];case 22:Nn=0,ln=U.zeroOrAutoZIndexOrTransformedOrOpacity,$n.label=23;case 23:return Nn<ln.length?(Xn=ln[Nn],[4,this.renderStack(Xn)]):[3,26];case 24:$n.sent(),$n.label=25;case 25:return Nn++,[3,23];case 26:bn=0,as=U.positiveZIndex,$n.label=27;case 27:return bn<as.length?(Xn=as[bn],[4,this.renderStack(Xn)]):[3,30];case 28:$n.sent(),$n.label=29;case 29:return bn++,[3,27];case 30:return[2]}})})},T.prototype.mask=function(U){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(U.slice(0).reverse()),this.ctx.closePath()},T.prototype.path=function(U){this.ctx.beginPath(),this.formatPath(U),this.ctx.closePath()},T.prototype.formatPath=function(U){var H=this;U.forEach(function(Se,De){var Ke=Qi(Se)?Se.start:Se;De===0?H.ctx.moveTo(Ke.x,Ke.y):H.ctx.lineTo(Ke.x,Ke.y),Qi(Se)&&H.ctx.bezierCurveTo(Se.startControl.x,Se.startControl.y,Se.endControl.x,Se.endControl.y,Se.end.x,Se.end.y)})},T.prototype.renderRepeat=function(U,H,Se,De){this.path(U),this.ctx.fillStyle=H,this.ctx.translate(Se,De),this.ctx.fill(),this.ctx.translate(-Se,-De)},T.prototype.resizeImage=function(U,H,Se){var De;if(U.width===H&&U.height===Se)return U;var Ke=(De=this.canvas.ownerDocument)!==null&&De!==void 0?De:document,At=Ke.createElement("canvas");At.width=Math.max(1,H),At.height=Math.max(1,Se);var ft=At.getContext("2d");return ft.drawImage(U,0,0,U.width,U.height,0,0,H,Se),At},T.prototype.renderBackgroundImage=function(U){return i(this,void 0,void 0,function(){var H,Se,De,Ke,At,ft;return c(this,function(zt){switch(zt.label){case 0:H=U.styles.backgroundImage.length-1,Se=function(Gt){var lr,Br,Nn,zo,vc,Vl,yi,ml,Es,ln,zo,vc,Vl,yi,ml,bn,as,Xn,$n,Zs,cs,Ga,kn,Ms,Es,Qa,zo,gc,gd,yi,ml,tu,vc,Vl,Eh,Du,ru,cf,nu,ih,Mu,p;return c(this,function(v){switch(v.label){case 0:if(Gt.type!==0)return[3,5];lr=void 0,Br=Gt.url,v.label=1;case 1:return v.trys.push([1,3,,4]),[4,De.context.cache.match(Br)];case 2:return lr=v.sent(),[3,4];case 3:return v.sent(),De.context.logger.error("Error loading background-image "+Br),[3,4];case 4:return lr&&(Nn=Io(U,H,[lr.width,lr.height,lr.width/lr.height]),zo=Nn[0],vc=Nn[1],Vl=Nn[2],yi=Nn[3],ml=Nn[4],Es=De.ctx.createPattern(De.resizeImage(lr,yi,ml),"repeat"),De.renderRepeat(zo,Es,vc,Vl)),[3,6];case 5:Jo(Gt)?(ln=Io(U,H,[null,null,null]),zo=ln[0],vc=ln[1],Vl=ln[2],yi=ln[3],ml=ln[4],bn=id(Gt.angle,yi,ml),as=bn[0],Xn=bn[1],$n=bn[2],Zs=bn[3],cs=bn[4],Ga=document.createElement("canvas"),Ga.width=yi,Ga.height=ml,kn=Ga.getContext("2d"),Ms=kn.createLinearGradient(Xn,Zs,$n,cs),Oi(Gt.stops,as).forEach(function(N){return Ms.addColorStop(N.stop,In(N.color))}),kn.fillStyle=Ms,kn.fillRect(0,0,yi,ml),yi>0&&ml>0&&(Es=De.ctx.createPattern(Ga,"repeat"),De.renderRepeat(zo,Es,vc,Vl))):ld(Gt)&&(Qa=Io(U,H,[null,null,null]),zo=Qa[0],gc=Qa[1],gd=Qa[2],yi=Qa[3],ml=Qa[4],tu=Gt.position.length===0?[_n]:Gt.position,vc=Na(tu[0],yi),Vl=Na(tu[tu.length-1],ml),Eh=Ic(Gt,vc,Vl,yi,ml),Du=Eh[0],ru=Eh[1],Du>0&&ru>0&&(cf=De.ctx.createRadialGradient(gc+vc,gd+Vl,0,gc+vc,gd+Vl,Du),Oi(Gt.stops,Du*2).forEach(function(N){return cf.addColorStop(N.stop,In(N.color))}),De.path(zo),De.ctx.fillStyle=cf,Du!==ru?(nu=U.bounds.left+.5*U.bounds.width,ih=U.bounds.top+.5*U.bounds.height,Mu=ru/Du,p=1/Mu,De.ctx.save(),De.ctx.translate(nu,ih),De.ctx.transform(1,0,0,Mu,0,0),De.ctx.translate(-nu,-ih),De.ctx.fillRect(gc,p*(gd-ih)+ih,yi,ml*p),De.ctx.restore()):De.ctx.fill())),v.label=6;case 6:return H--,[2]}})},De=this,Ke=0,At=U.styles.backgroundImage.slice(0).reverse(),zt.label=1;case 1:return Ke<At.length?(ft=At[Ke],[5,Se(ft)]):[3,4];case 2:zt.sent(),zt.label=3;case 3:return Ke++,[3,1];case 4:return[2]}})})},T.prototype.renderSolidBorder=function(U,H,Se){return i(this,void 0,void 0,function(){return c(this,function(De){return this.path(af(Se,H)),this.ctx.fillStyle=In(U),this.ctx.fill(),[2]})})},T.prototype.renderDoubleBorder=function(U,H,Se,De){return i(this,void 0,void 0,function(){var Ke,At;return c(this,function(ft){switch(ft.label){case 0:return H<3?[4,this.renderSolidBorder(U,Se,De)]:[3,2];case 1:return ft.sent(),[2];case 2:return Ke=Qf(De,Se),this.path(Ke),this.ctx.fillStyle=In(U),this.ctx.fill(),At=md(De,Se),this.path(At),this.ctx.fill(),[2]}})})},T.prototype.renderNodeBackgroundAndBorders=function(U){return i(this,void 0,void 0,function(){var H,Se,De,Ke,At,ft,zt,Gt,lr=this;return c(this,function(Br){switch(Br.label){case 0:return this.applyEffects(U.getEffects(2)),H=U.container.styles,Se=!Sa(H.backgroundColor)||H.backgroundImage.length,De=[{style:H.borderTopStyle,color:H.borderTopColor,width:H.borderTopWidth},{style:H.borderRightStyle,color:H.borderRightColor,width:H.borderRightWidth},{style:H.borderBottomStyle,color:H.borderBottomColor,width:H.borderBottomWidth},{style:H.borderLeftStyle,color:H.borderLeftColor,width:H.borderLeftWidth}],Ke=sh(_u(H.backgroundClip,0),U.curves),Se||H.boxShadow.length?(this.ctx.save(),this.path(Ke),this.ctx.clip(),Sa(H.backgroundColor)||(this.ctx.fillStyle=In(H.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(U.container)]):[3,2];case 1:Br.sent(),this.ctx.restore(),H.boxShadow.slice(0).reverse().forEach(function(Nn){lr.ctx.save();var ln=qn(U.curves),bn=Nn.inset?0:Vf,as=_A(ln,-bn+(Nn.inset?1:-1)*Nn.spread.number,(Nn.inset?1:-1)*Nn.spread.number,Nn.spread.number*(Nn.inset?-2:2),Nn.spread.number*(Nn.inset?-2:2));Nn.inset?(lr.path(ln),lr.ctx.clip(),lr.mask(as)):(lr.mask(ln),lr.ctx.clip(),lr.path(as)),lr.ctx.shadowOffsetX=Nn.offsetX.number+bn,lr.ctx.shadowOffsetY=Nn.offsetY.number,lr.ctx.shadowColor=In(Nn.color),lr.ctx.shadowBlur=Nn.blur.number,lr.ctx.fillStyle=Nn.inset?In(Nn.color):"rgba(0,0,0,1)",lr.ctx.fill(),lr.ctx.restore()}),Br.label=2;case 2:At=0,ft=0,zt=De,Br.label=3;case 3:return ft<zt.length?(Gt=zt[ft],Gt.style!==0&&!Sa(Gt.color)&&Gt.width>0?Gt.style!==2?[3,5]:[4,this.renderDashedDottedBorder(Gt.color,Gt.width,At,U.curves,2)]:[3,11]):[3,13];case 4:return Br.sent(),[3,11];case 5:return Gt.style!==3?[3,7]:[4,this.renderDashedDottedBorder(Gt.color,Gt.width,At,U.curves,3)];case 6:return Br.sent(),[3,11];case 7:return Gt.style!==4?[3,9]:[4,this.renderDoubleBorder(Gt.color,Gt.width,At,U.curves)];case 8:return Br.sent(),[3,11];case 9:return[4,this.renderSolidBorder(Gt.color,At,U.curves)];case 10:Br.sent(),Br.label=11;case 11:At++,Br.label=12;case 12:return ft++,[3,3];case 13:return[2]}})})},T.prototype.renderDashedDottedBorder=function(U,H,Se,De,Ke){return i(this,void 0,void 0,function(){var At,ft,zt,Gt,lr,Br,Nn,ln,bn,as,Xn,$n,Zs,cs,Ga,kn,Ga,kn;return c(this,function(Ms){return this.ctx.save(),At=sf(De,Se),ft=af(De,Se),Ke===2&&(this.path(ft),this.ctx.clip()),Qi(ft[0])?(zt=ft[0].start.x,Gt=ft[0].start.y):(zt=ft[0].x,Gt=ft[0].y),Qi(ft[1])?(lr=ft[1].end.x,Br=ft[1].end.y):(lr=ft[1].x,Br=ft[1].y),Se===0||Se===2?Nn=Math.abs(zt-lr):Nn=Math.abs(Gt-Br),this.ctx.beginPath(),Ke===3?this.formatPath(At):this.formatPath(ft.slice(0,2)),ln=H<3?H*3:H*2,bn=H<3?H*2:H,Ke===3&&(ln=H,bn=H),as=!0,Nn<=ln*2?as=!1:Nn<=ln*2+bn?(Xn=Nn/(2*ln+bn),ln*=Xn,bn*=Xn):($n=Math.floor((Nn+bn)/(ln+bn)),Zs=(Nn-$n*ln)/($n-1),cs=(Nn-($n+1)*ln)/$n,bn=cs<=0||Math.abs(bn-Zs)<Math.abs(bn-cs)?Zs:cs),as&&(Ke===3?this.ctx.setLineDash([0,ln+bn]):this.ctx.setLineDash([ln,bn])),Ke===3?(this.ctx.lineCap="round",this.ctx.lineWidth=H):this.ctx.lineWidth=H*2+1.1,this.ctx.strokeStyle=In(U),this.ctx.stroke(),this.ctx.setLineDash([]),Ke===2&&(Qi(ft[0])&&(Ga=ft[3],kn=ft[0],this.ctx.beginPath(),this.formatPath([new on(Ga.end.x,Ga.end.y),new on(kn.start.x,kn.start.y)]),this.ctx.stroke()),Qi(ft[1])&&(Ga=ft[1],kn=ft[2],this.ctx.beginPath(),this.formatPath([new on(Ga.end.x,Ga.end.y),new on(kn.start.x,kn.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},T.prototype.render=function(U){return i(this,void 0,void 0,function(){var H;return c(this,function(Se){switch(Se.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=In(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),H=eu(U),[4,this.renderStack(H)];case 1:return Se.sent(),this.applyEffects([]),[2,this.canvas]}})})},T})(PA),zf=function(F){return F instanceof NA||F instanceof Sp?!0:F instanceof pd&&F.type!==tf&&F.type!==ef},sh=function(F,T){switch(F){case 0:return qn(T);case 2:return Js(T);case 1:default:return Ds(T)}},Nh=function(F){switch(F){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Kf=["-apple-system","system-ui"],Sh=function(F){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?F.filter(function(T){return Kf.indexOf(T)===-1}):F},ed=(function(F){a(T,F);function T(U,H){var Se=F.call(this,U,H)||this;return Se.canvas=H.canvas?H.canvas:document.createElement("canvas"),Se.ctx=Se.canvas.getContext("2d"),Se.options=H,Se.canvas.width=Math.floor(H.width*H.scale),Se.canvas.height=Math.floor(H.height*H.scale),Se.canvas.style.width=H.width+"px",Se.canvas.style.height=H.height+"px",Se.ctx.scale(Se.options.scale,Se.options.scale),Se.ctx.translate(-H.x,-H.y),Se.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+H.width+"x"+H.height+" at "+H.x+","+H.y+") with scale "+H.scale),Se}return T.prototype.render=function(U){return i(this,void 0,void 0,function(){var H,Se;return c(this,function(De){switch(De.label){case 0:return H=Yh(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,U),[4,Ou(H)];case 1:return Se=De.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=In(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(Se,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},T})(PA),Ou=function(F){return new Promise(function(T,U){var H=new Image;H.onload=function(){T(H)},H.onerror=U,H.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(F))})},Fu=(function(){function F(T){var U=T.id,H=T.enabled;this.id=U,this.enabled=H,this.start=Date.now()}return F.prototype.debug=function(){for(var T=[],U=0;U<arguments.length;U++)T[U]=arguments[U];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,o([this.id,this.getTime()+"ms"],T)):this.info.apply(this,T))},F.prototype.getTime=function(){return Date.now()-this.start},F.prototype.info=function(){for(var T=[],U=0;U<arguments.length;U++)T[U]=arguments[U];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,o([this.id,this.getTime()+"ms"],T))},F.prototype.warn=function(){for(var T=[],U=0;U<arguments.length;U++)T[U]=arguments[U];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,o([this.id,this.getTime()+"ms"],T)):this.info.apply(this,T))},F.prototype.error=function(){for(var T=[],U=0;U<arguments.length;U++)T[U]=arguments[U];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,o([this.id,this.getTime()+"ms"],T)):this.info.apply(this,T))},F.instances={},F})(),lf=(function(){function F(T,U){var H;this.windowBounds=U,this.instanceName="#"+F.instanceCount++,this.logger=new Fu({id:this.instanceName,enabled:T.logging}),this.cache=(H=T.cache)!==null&&H!==void 0?H:new Za(this,T)}return F.instanceCount=1,F})(),Gf=function(F,T){return T===void 0&&(T={}),Pu(F,T)};typeof window<"u"&&bs.setContext(window);var Pu=function(F,T){return i(void 0,void 0,void 0,function(){var U,H,Se,De,Ke,At,ft,zt,Gt,lr,Br,Nn,ln,bn,as,Xn,$n,Zs,cs,Ga,Ms,kn,Ms,Es,Qa,zo,gc,gd,yi,ml,tu,vc,Vl,Eh,Du,ru,cf,nu,ih,Mu;return c(this,function(p){switch(p.label){case 0:if(!F||typeof F!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(U=F.ownerDocument,!U)throw new Error("Element is not attached to a Document");if(H=U.defaultView,!H)throw new Error("Document is not attached to a Window");return Se={allowTaint:(Es=T.allowTaint)!==null&&Es!==void 0?Es:!1,imageTimeout:(Qa=T.imageTimeout)!==null&&Qa!==void 0?Qa:15e3,proxy:T.proxy,useCORS:(zo=T.useCORS)!==null&&zo!==void 0?zo:!1},De=s({logging:(gc=T.logging)!==null&&gc!==void 0?gc:!0,cache:T.cache},Se),Ke={windowWidth:(gd=T.windowWidth)!==null&&gd!==void 0?gd:H.innerWidth,windowHeight:(yi=T.windowHeight)!==null&&yi!==void 0?yi:H.innerHeight,scrollX:(ml=T.scrollX)!==null&&ml!==void 0?ml:H.pageXOffset,scrollY:(tu=T.scrollY)!==null&&tu!==void 0?tu:H.pageYOffset},At=new d(Ke.scrollX,Ke.scrollY,Ke.windowWidth,Ke.windowHeight),ft=new lf(De,At),zt=(vc=T.foreignObjectRendering)!==null&&vc!==void 0?vc:!1,Gt={allowTaint:(Vl=T.allowTaint)!==null&&Vl!==void 0?Vl:!1,onclone:T.onclone,ignoreElements:T.ignoreElements,inlineImages:zt,copyStyles:zt},ft.logger.debug("Starting document clone with size "+At.width+"x"+At.height+" scrolled to "+-At.left+","+-At.top),lr=new ta(ft,F,Gt),Br=lr.clonedReferenceElement,Br?[4,lr.toIFrame(U,At)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return Nn=p.sent(),ln=TA(Br)||BA(Br)?u(Br.ownerDocument):l(ft,Br),bn=ln.width,as=ln.height,Xn=ln.left,$n=ln.top,Zs=$m(ft,Br,T.backgroundColor),cs={canvas:T.canvas,backgroundColor:Zs,scale:(Du=(Eh=T.scale)!==null&&Eh!==void 0?Eh:H.devicePixelRatio)!==null&&Du!==void 0?Du:1,x:((ru=T.x)!==null&&ru!==void 0?ru:0)+Xn,y:((cf=T.y)!==null&&cf!==void 0?cf:0)+$n,width:(nu=T.width)!==null&&nu!==void 0?nu:Math.ceil(bn),height:(ih=T.height)!==null&&ih!==void 0?ih:Math.ceil(as)},zt?(ft.logger.debug("Document cloned, using foreign object rendering"),Ms=new ed(ft,cs),[4,Ms.render(Br)]):[3,3];case 2:return Ga=p.sent(),[3,5];case 3:return ft.logger.debug("Document cloned, element located at "+Xn+","+$n+" with size "+bn+"x"+as+" using computed rendering"),ft.logger.debug("Starting DOM parsing"),kn=Df(ft,Br),Zs===kn.styles.backgroundColor&&(kn.styles.backgroundColor=Co.TRANSPARENT),ft.logger.debug("Starting renderer for element at "+cs.x+","+cs.y+" with size "+cs.width+"x"+cs.height),Ms=new ah(ft,cs),[4,Ms.render(kn)];case 4:Ga=p.sent(),p.label=5;case 5:return(!((Mu=T.removeContainer)!==null&&Mu!==void 0)||Mu)&&(ta.destroy(Nn)||ft.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),ft.logger.debug("Finished rendering"),[2,Ga]}})})},$m=function(F,T,U){var H=T.ownerDocument,Se=H.documentElement?Ei(F,getComputedStyle(H.documentElement).backgroundColor):Co.TRANSPARENT,De=H.body?Ei(F,getComputedStyle(H.body).backgroundColor):Co.TRANSPARENT,Ke=typeof U=="string"?Ei(F,U):U===null?Co.TRANSPARENT:4294967295;return T===H.documentElement?Sa(Se)?Sa(De)?Ke:De:Se:Ke};return Gf}))})(Iv)),Iv.exports}/*!
 * html2pdf.js v0.14.0
 * Copyright (c) 2026 Erik Koopmans
 * Released under the MIT License.
 */var Ik;function pse(){return Ik||(Ik=1,(function(r,t){(function(a,s){r.exports=s(Ase())})(self,function(n){return(function(){var a={"./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js":(function(o,d,l){l.r(d),l.d(d,{default:function(){return u}});function u(h,f){(f==null||f>h.length)&&(f=h.length);for(var A=0,g=Array(f);A<f;A++)g[A]=h[A];return g}}),"./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js":(function(o,d,l){l.r(d),l.d(d,{default:function(){return u}});function u(h){if(Array.isArray(h))return h}}),"./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js":(function(o,d,l){l.r(d),l.d(d,{default:function(){return h}});function u(f,A,g,m,x,y,j){try{var b=f[y](j),S=b.value}catch(w){return void g(w)}b.done?A(S):Promise.resolve(S).then(m,x)}function h(f){return function(){var A=this,g=arguments;return new Promise(function(m,x){var y=f.apply(A,g);function j(S){u(y,m,x,j,b,"next",S)}function b(S){u(y,m,x,j,b,"throw",S)}j(void 0)})}}}),"./node_modules/@babel/runtime/helpers/esm/defineProperty.js":(function(o,d,l){l.r(d),l.d(d,{default:function(){return h}});var u=l("./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js");function h(f,A,g){return(A=(0,u.default)(A))in f?Object.defineProperty(f,A,{value:g,enumerable:!0,configurable:!0,writable:!0}):f[A]=g,f}}),"./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js":(function(o,d,l){l.r(d),l.d(d,{default:function(){return u}});function u(h,f){var A=h==null?null:typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(A!=null){var g,m,x,y,j=[],b=!0,S=!1;try{if(x=(A=A.call(h)).next,f===0){if(Object(A)!==A)return;b=!1}else for(;!(b=(g=x.call(A)).done)&&(j.push(g.value),j.length!==f);b=!0);}catch(w){S=!0,m=w}finally{try{if(!b&&A.return!=null&&(y=A.return(),Object(y)!==y))return}finally{if(S)throw m}}return j}}}),"./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js":(function(o,d,l){l.r(d),l.d(d,{default:function(){return u}});function u(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}}),"./node_modules/@babel/runtime/helpers/esm/slicedToArray.js":(function(o,d,l){l.r(d),l.d(d,{default:function(){return g}});var u=l("./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js"),h=l("./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js"),f=l("./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js"),A=l("./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js");function g(m,x){return(0,u.default)(m)||(0,h.default)(m,x)||(0,f.default)(m,x)||(0,A.default)()}}),"./node_modules/@babel/runtime/helpers/esm/toPrimitive.js":(function(o,d,l){l.r(d),l.d(d,{default:function(){return h}});var u=l("./node_modules/@babel/runtime/helpers/esm/typeof.js");function h(f,A){if((0,u.default)(f)!="object"||!f)return f;var g=f[Symbol.toPrimitive];if(g!==void 0){var m=g.call(f,A||"default");if((0,u.default)(m)!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(A==="string"?String:Number)(f)}}),"./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js":(function(o,d,l){l.r(d),l.d(d,{default:function(){return f}});var u=l("./node_modules/@babel/runtime/helpers/esm/typeof.js"),h=l("./node_modules/@babel/runtime/helpers/esm/toPrimitive.js");function f(A){var g=(0,h.default)(A,"string");return(0,u.default)(g)=="symbol"?g:g+""}}),"./node_modules/@babel/runtime/helpers/esm/typeof.js":(function(o,d,l){l.r(d),l.d(d,{default:function(){return u}});function u(h){"@babel/helpers - typeof";return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},u(h)}}),"./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js":(function(o,d,l){l.r(d),l.d(d,{default:function(){return h}});var u=l("./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js");function h(f,A){if(f){if(typeof f=="string")return(0,u.default)(f,A);var g={}.toString.call(f).slice(8,-1);return g==="Object"&&f.constructor&&(g=f.constructor.name),g==="Map"||g==="Set"?Array.from(f):g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g)?(0,u.default)(f,A):void 0}}}),"./node_modules/canvg/lib/index.es.js":(function(o,d,l){l.r(d),l.d(d,{AElement:function(){return Xo},AnimateColorElement:function(){return Ai},AnimateElement:function(){return Va},AnimateTransformElement:function(){return Ca},BoundingBox:function(){return Jr},CB1:function(){return te},CB2:function(){return ye},CB3:function(){return pe},CB4:function(){return je},Canvg:function(){return Ro},CircleElement:function(){return Ks},ClipPathElement:function(){return pi},DefsElement:function(){return Pr},DescElement:function(){return uo},Document:function(){return Si},Element:function(){return He},EllipseElement:function(){return Hs},FeColorMatrixElement:function(){return jl},FeCompositeElement:function(){return Ni},FeDropShadowElement:function(){return Gs},FeGaussianBlurElement:function(){return Do},FeMorphologyElement:function(){return Ci},FilterElement:function(){return Gn},Font:function(){return Fr},FontElement:function(){return ko},FontFaceElement:function(){return Qs},GElement:function(){return Mr},GlyphElement:function(){return Ur},GradientElement:function(){return tn},ImageElement:function(){return os},LineElement:function(){return oa},LinearGradientElement:function(){return Kr},MarkerElement:function(){return wt},MaskElement:function(){return Po},Matrix:function(){return St},MissingGlyphElement:function(){return qo},Mouse:function(){return $e},PSEUDO_ZERO:function(){return ie},Parser:function(){return Le},PathElement:function(){return Vr},PathParser:function(){return Wr},PatternElement:function(){return wi},Point:function(){return Me},PolygonElement:function(){return ds},PolylineElement:function(){return rn},Property:function(){return Ae},QB1:function(){return re},QB2:function(){return he},QB3:function(){return X},RadialGradientElement:function(){return Ma},RectElement:function(){return ri},RenderedElement:function(){return Ln},Rotate:function(){return Wt},SVGElement:function(){return da},SVGFontLoader:function(){return Ji},Scale:function(){return qe},Screen:function(){return _e},Skew:function(){return _t},SkewX:function(){return ar},SkewY:function(){return en},StopElement:function(){return ys},StyleElement:function(){return Oo},SymbolElement:function(){return _o},TRefElement:function(){return yl},TSpanElement:function(){return un},TextElement:function(){return Cn},TextPathElement:function(){return pa},TitleElement:function(){return Ws},Transform:function(){return Qr},Translate:function(){return it},UnknownElement:function(){return Rt},UseElement:function(){return ol},ViewPort:function(){return Be},compressSpaces:function(){return b},default:function(){return Ro},getSelectorSpecificity:function(){return q},normalizeAttributeName:function(){return L},normalizeColor:function(){return ae},parseExternalUrl:function(){return J},presets:function(){return j},toNumbers:function(){return E},trimLeft:function(){return S},trimRight:function(){return w},vectorMagnitude:function(){return Z},vectorsAngle:function(){return ue},vectorsRatio:function(){return D}}),l("./node_modules/core-js/modules/es.promise.js");var u=l("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");l("./node_modules/core-js/modules/es.string.match.js"),l("./node_modules/core-js/modules/es.string.replace.js"),l("./node_modules/core-js/modules/es.string.starts-with.js"),l("./node_modules/core-js/modules/es.array.iterator.js"),l("./node_modules/core-js/modules/web.dom-collections.iterator.js");var h=l("./node_modules/@babel/runtime/helpers/esm/defineProperty.js");l("./node_modules/core-js/modules/es.array.reduce.js"),l("./node_modules/core-js/modules/es.string.ends-with.js"),l("./node_modules/core-js/modules/es.string.split.js");var f=l("./node_modules/raf/index.js");l("./node_modules/core-js/modules/es.string.trim.js");var A=l("./node_modules/rgbcolor/index.js");l("./node_modules/core-js/modules/es.array.index-of.js"),l("./node_modules/core-js/modules/es.string.includes.js"),l("./node_modules/core-js/modules/es.array.reverse.js");var g=l("./node_modules/svg-pathdata/lib/SVGPathData.module.js");l("./node_modules/core-js/modules/es.regexp.to-string.js");var m=l("./node_modules/stackblur-canvas/dist/stackblur-es.js");function x(){var{DOMParser:Kt}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q={window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:Kt,createCanvas(fe,ge){return new OffscreenCanvas(fe,ge)},createImage(fe){return(0,u.default)(function*(){var ge=yield fetch(fe),M=yield ge.blob(),W=yield createImageBitmap(M);return W})()}};return(typeof DOMParser<"u"||typeof Kt>"u")&&Reflect.deleteProperty(Q,"DOMParser"),Q}function y(Kt){var{DOMParser:Q,canvas:fe,fetch:ge}=Kt;return{window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:Q,fetch:ge,createCanvas:fe.createCanvas,createImage:fe.loadImage}}var j=Object.freeze({__proto__:null,offscreen:x,node:y});function b(Kt){return Kt.replace(/(?!\u3000)\s+/gm," ")}function S(Kt){return Kt.replace(/^[\n \t]+/,"")}function w(Kt){return Kt.replace(/[\n \t]+$/,"")}function E(Kt){var Q=(Kt||"").match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm)||[];return Q.map(parseFloat)}var I=/^[A-Z-]+$/;function L(Kt){return I.test(Kt)?Kt.toLowerCase():Kt}function J(Kt){var Q=/url\(('([^']+)'|"([^"]+)"|([^'")]+))\)/.exec(Kt)||[];return Q[2]||Q[3]||Q[4]}function ae(Kt){if(!Kt.startsWith("rgb"))return Kt;var Q=3,fe=Kt.replace(/\d+(\.\d+)?/g,(ge,M)=>Q--&&M?String(Math.round(parseFloat(ge))):ge);return fe}var G=/(\[[^\]]+\])/g,le=/(#[^\s+>~.[:]+)/g,V=/(\.[^\s+>~.[:]+)/g,me=/(::[^\s+>~.[:]+|:first-line|:first-letter|:before|:after)/gi,$=/(:[\w-]+\([^)]*\))/gi,ee=/(:[^\s+>~.[:]+)/g,we=/([^\s+>~.[:]+)/g;function R(Kt,Q){var fe=Q.exec(Kt);return fe?[Kt.replace(Q," "),fe.length]:[Kt,0]}function q(Kt){var Q=[0,0,0],fe=Kt.replace(/:not\(([^)]*)\)/g,"     $1 ").replace(/{[\s\S]*/gm," "),ge=0;return[fe,ge]=R(fe,G),Q[1]+=ge,[fe,ge]=R(fe,le),Q[0]+=ge,[fe,ge]=R(fe,V),Q[1]+=ge,[fe,ge]=R(fe,me),Q[2]+=ge,[fe,ge]=R(fe,$),Q[1]+=ge,[fe,ge]=R(fe,ee),Q[1]+=ge,fe=fe.replace(/[*\s+>~]/g," ").replace(/[#.]/g," "),[fe,ge]=R(fe,we),Q[2]+=ge,Q.join("")}var ie=1e-8;function Z(Kt){return Math.sqrt(Math.pow(Kt[0],2)+Math.pow(Kt[1],2))}function D(Kt,Q){return(Kt[0]*Q[0]+Kt[1]*Q[1])/(Z(Kt)*Z(Q))}function ue(Kt,Q){return(Kt[0]*Q[1]<Kt[1]*Q[0]?-1:1)*Math.acos(D(Kt,Q))}function te(Kt){return Kt*Kt*Kt}function ye(Kt){return 3*Kt*Kt*(1-Kt)}function pe(Kt){return 3*Kt*(1-Kt)*(1-Kt)}function je(Kt){return(1-Kt)*(1-Kt)*(1-Kt)}function re(Kt){return Kt*Kt}function he(Kt){return 2*Kt*(1-Kt)}function X(Kt){return(1-Kt)*(1-Kt)}class Ae{constructor(Q,fe,ge){this.document=Q,this.name=fe,this.value=ge,this.isNormalizedColor=!1}static empty(Q){return new Ae(Q,"EMPTY","")}split(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:" ",{document:fe,name:ge}=this;return b(this.getString()).trim().split(Q).map(M=>new Ae(fe,ge,M))}hasValue(Q){var{value:fe}=this;return fe!==null&&fe!==""&&(Q||fe!==0)&&typeof fe<"u"}isString(Q){var{value:fe}=this,ge=typeof fe=="string";return!ge||!Q?ge:Q.test(fe)}isUrlDefinition(){return this.isString(/^url\(/)}isPixels(){if(!this.hasValue())return!1;var Q=this.getString();switch(!0){case Q.endsWith("px"):case/^[0-9]+$/.test(Q):return!0;default:return!1}}setValue(Q){return this.value=Q,this}getValue(Q){return typeof Q>"u"||this.hasValue()?this.value:Q}getNumber(Q){if(!this.hasValue())return typeof Q>"u"?0:parseFloat(Q);var{value:fe}=this,ge=parseFloat(fe);return this.isString(/%$/)&&(ge/=100),ge}getString(Q){return typeof Q>"u"||this.hasValue()?typeof this.value>"u"?"":String(this.value):String(Q)}getColor(Q){var fe=this.getString(Q);return this.isNormalizedColor||(this.isNormalizedColor=!0,fe=ae(fe),this.value=fe),fe}getDpi(){return 96}getRem(){return this.document.rootEmSize}getEm(){return this.document.emSize}getUnits(){return this.getString().replace(/[0-9.-]/g,"")}getPixels(Q){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!this.hasValue())return 0;var[ge,M]=typeof Q=="boolean"?[void 0,Q]:[Q],{viewPort:W}=this.document.screen;switch(!0){case this.isString(/vmin$/):return this.getNumber()/100*Math.min(W.computeSize("x"),W.computeSize("y"));case this.isString(/vmax$/):return this.getNumber()/100*Math.max(W.computeSize("x"),W.computeSize("y"));case this.isString(/vw$/):return this.getNumber()/100*W.computeSize("x");case this.isString(/vh$/):return this.getNumber()/100*W.computeSize("y");case this.isString(/rem$/):return this.getNumber()*this.getRem();case this.isString(/em$/):return this.getNumber()*this.getEm();case this.isString(/ex$/):return this.getNumber()*this.getEm()/2;case this.isString(/px$/):return this.getNumber();case this.isString(/pt$/):return this.getNumber()*this.getDpi()*.013888888888888888;case this.isString(/pc$/):return this.getNumber()*15;case this.isString(/cm$/):return this.getNumber()*this.getDpi()/2.54;case this.isString(/mm$/):return this.getNumber()*this.getDpi()/25.4;case this.isString(/in$/):return this.getNumber()*this.getDpi();case(this.isString(/%$/)&&M):return this.getNumber()*this.getEm();case this.isString(/%$/):return this.getNumber()*W.computeSize(ge);default:{var ce=this.getNumber();return fe&&ce<1?ce*W.computeSize(ge):ce}}}getMilliseconds(){return this.hasValue()?this.isString(/ms$/)?this.getNumber():this.getNumber()*1e3:0}getRadians(){if(!this.hasValue())return 0;switch(!0){case this.isString(/deg$/):return this.getNumber()*(Math.PI/180);case this.isString(/grad$/):return this.getNumber()*(Math.PI/200);case this.isString(/rad$/):return this.getNumber();default:return this.getNumber()*(Math.PI/180)}}getDefinition(){var Q=this.getString(),fe=/#([^)'"]+)/.exec(Q);return fe&&(fe=fe[1]),fe||(fe=Q),this.document.definitions[fe]}getFillStyleDefinition(Q,fe){var ge=this.getDefinition();if(!ge)return null;if(typeof ge.createGradient=="function")return ge.createGradient(this.document.ctx,Q,fe);if(typeof ge.createPattern=="function"){if(ge.getHrefAttribute().hasValue()){var M=ge.getAttribute("patternTransform");ge=ge.getHrefAttribute().getDefinition(),M.hasValue()&&ge.getAttribute("patternTransform",!0).setValue(M.value)}return ge.createPattern(this.document.ctx,Q,fe)}return null}getTextBaseline(){return this.hasValue()?Ae.textBaselineMapping[this.getString()]:null}addOpacity(Q){for(var fe=this.getColor(),ge=fe.length,M=0,W=0;W<ge&&(fe[W]===","&&M++,M!==3);W++);if(Q.hasValue()&&this.isString()&&M!==3){var ce=new A(fe);ce.ok&&(ce.alpha=Q.getNumber(),fe=ce.toRGBA())}return new Ae(this.document,this.name,fe)}}Ae.textBaselineMapping={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};class Be{constructor(){this.viewPorts=[]}clear(){this.viewPorts=[]}setCurrent(Q,fe){this.viewPorts.push({width:Q,height:fe})}removeCurrent(){this.viewPorts.pop()}getCurrent(){var{viewPorts:Q}=this;return Q[Q.length-1]}get width(){return this.getCurrent().width}get height(){return this.getCurrent().height}computeSize(Q){return typeof Q=="number"?Q:Q==="x"?this.width:Q==="y"?this.height:Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))/Math.sqrt(2)}}class Me{constructor(Q,fe){this.x=Q,this.y=fe}static parse(Q){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,[ge=fe,M=fe]=E(Q);return new Me(ge,M)}static parseScale(Q){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,[ge=fe,M=ge]=E(Q);return new Me(ge,M)}static parsePath(Q){for(var fe=E(Q),ge=fe.length,M=[],W=0;W<ge;W+=2)M.push(new Me(fe[W],fe[W+1]));return M}angleTo(Q){return Math.atan2(Q.y-this.y,Q.x-this.x)}applyTransform(Q){var{x:fe,y:ge}=this,M=fe*Q[0]+ge*Q[2]+Q[4],W=fe*Q[1]+ge*Q[3]+Q[5];this.x=M,this.y=W}}class $e{constructor(Q){this.screen=Q,this.working=!1,this.events=[],this.eventElements=[],this.onClick=this.onClick.bind(this),this.onMouseMove=this.onMouseMove.bind(this)}isWorking(){return this.working}start(){if(!this.working){var{screen:Q,onClick:fe,onMouseMove:ge}=this,M=Q.ctx.canvas;M.onclick=fe,M.onmousemove=ge,this.working=!0}}stop(){if(this.working){var Q=this.screen.ctx.canvas;this.working=!1,Q.onclick=null,Q.onmousemove=null}}hasEvents(){return this.working&&this.events.length>0}runEvents(){if(this.working){var{screen:Q,events:fe,eventElements:ge}=this,{style:M}=Q.ctx.canvas;M&&(M.cursor=""),fe.forEach((W,ce)=>{for(var{run:Ee}=W,Fe=ge[ce];Fe;)Ee(Fe),Fe=Fe.parent}),this.events=[],this.eventElements=[]}}checkPath(Q,fe){if(!(!this.working||!fe)){var{events:ge,eventElements:M}=this;ge.forEach((W,ce)=>{var{x:Ee,y:Fe}=W;!M[ce]&&fe.isPointInPath&&fe.isPointInPath(Ee,Fe)&&(M[ce]=Q)})}}checkBoundingBox(Q,fe){if(!(!this.working||!fe)){var{events:ge,eventElements:M}=this;ge.forEach((W,ce)=>{var{x:Ee,y:Fe}=W;!M[ce]&&fe.isPointInBox(Ee,Fe)&&(M[ce]=Q)})}}mapXY(Q,fe){for(var{window:ge,ctx:M}=this.screen,W=new Me(Q,fe),ce=M.canvas;ce;)W.x-=ce.offsetLeft,W.y-=ce.offsetTop,ce=ce.offsetParent;return ge.scrollX&&(W.x+=ge.scrollX),ge.scrollY&&(W.y+=ge.scrollY),W}onClick(Q){var{x:fe,y:ge}=this.mapXY(Q.clientX,Q.clientY);this.events.push({type:"onclick",x:fe,y:ge,run(M){M.onClick&&M.onClick()}})}onMouseMove(Q){var{x:fe,y:ge}=this.mapXY(Q.clientX,Q.clientY);this.events.push({type:"onmousemove",x:fe,y:ge,run(M){M.onMouseMove&&M.onMouseMove()}})}}var ne=typeof window<"u"?window:null,Pe=typeof fetch<"u"?fetch.bind(void 0):null;class _e{constructor(Q){var{fetch:fe=Pe,window:ge=ne}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.ctx=Q,this.FRAMERATE=30,this.MAX_VIRTUAL_PIXELS=3e4,this.CLIENT_WIDTH=800,this.CLIENT_HEIGHT=600,this.viewPort=new Be,this.mouse=new $e(this),this.animations=[],this.waits=[],this.frameDuration=0,this.isReadyLock=!1,this.isFirstRender=!0,this.intervalId=null,this.window=ge,this.fetch=fe}wait(Q){this.waits.push(Q)}ready(){return this.readyPromise?this.readyPromise:Promise.resolve()}isReady(){if(this.isReadyLock)return!0;var Q=this.waits.every(fe=>fe());return Q&&(this.waits=[],this.resolveReady&&this.resolveReady()),this.isReadyLock=Q,Q}setDefaults(Q){Q.strokeStyle="rgba(0,0,0,0)",Q.lineCap="butt",Q.lineJoin="miter",Q.miterLimit=4}setViewBox(Q){var{document:fe,ctx:ge,aspectRatio:M,width:W,desiredWidth:ce,height:Ee,desiredHeight:Fe,minX:Xe=0,minY:dt=0,refX:k,refY:B,clip:P=!1,clipX:K=0,clipY:se=0}=Q,de=b(M).replace(/^defer\s/,""),[Ie,be]=de.split(" "),Ce=Ie||"xMidYMid",Re=be||"meet",ze=W/ce,nt=Ee/Fe,ut=Math.min(ze,nt),Oe=Math.max(ze,nt),Nt=ce,jt=Fe;Re==="meet"&&(Nt*=ut,jt*=ut),Re==="slice"&&(Nt*=Oe,jt*=Oe);var Bt=new Ae(fe,"refX",k),lt=new Ae(fe,"refY",B),Mt=Bt.hasValue()&&lt.hasValue();if(Mt&&ge.translate(-ut*Bt.getPixels("x"),-ut*lt.getPixels("y")),P){var tr=ut*K,kt=ut*se;ge.beginPath(),ge.moveTo(tr,kt),ge.lineTo(W,kt),ge.lineTo(W,Ee),ge.lineTo(tr,Ee),ge.closePath(),ge.clip()}if(!Mt){var at=Re==="meet"&&ut===nt,qt=Re==="slice"&&Oe===nt,pr=Re==="meet"&&ut===ze,nr=Re==="slice"&&Oe===ze;Ce.startsWith("xMid")&&(at||qt)&&ge.translate(W/2-Nt/2,0),Ce.endsWith("YMid")&&(pr||nr)&&ge.translate(0,Ee/2-jt/2),Ce.startsWith("xMax")&&(at||qt)&&ge.translate(W-Nt,0),Ce.endsWith("YMax")&&(pr||nr)&&ge.translate(0,Ee-jt)}switch(!0){case Ce==="none":ge.scale(ze,nt);break;case Re==="meet":ge.scale(ut,ut);break;case Re==="slice":ge.scale(Oe,Oe);break}ge.translate(-Xe,-dt)}start(Q){var{enableRedraw:fe=!1,ignoreMouse:ge=!1,ignoreAnimation:M=!1,ignoreDimensions:W=!1,ignoreClear:ce=!1,forceRedraw:Ee,scaleWidth:Fe,scaleHeight:Xe,offsetX:dt,offsetY:k}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{FRAMERATE:B,mouse:P}=this,K=1e3/B;if(this.frameDuration=K,this.readyPromise=new Promise(Ce=>{this.resolveReady=Ce}),this.isReady()&&this.render(Q,W,ce,Fe,Xe,dt,k),!!fe){var se=Date.now(),de=se,Ie=0,be=()=>{se=Date.now(),Ie=se-de,Ie>=K&&(de=se-Ie%K,this.shouldUpdate(M,Ee)&&(this.render(Q,W,ce,Fe,Xe,dt,k),P.runEvents())),this.intervalId=f(be)};ge||P.start(),this.intervalId=f(be)}}stop(){this.intervalId&&(f.cancel(this.intervalId),this.intervalId=null),this.mouse.stop()}shouldUpdate(Q,fe){if(!Q){var{frameDuration:ge}=this,M=this.animations.reduce((W,ce)=>ce.update(ge)||W,!1);if(M)return!0}return!!(typeof fe=="function"&&fe()||!this.isReadyLock&&this.isReady()||this.mouse.hasEvents())}render(Q,fe,ge,M,W,ce,Ee){var{CLIENT_WIDTH:Fe,CLIENT_HEIGHT:Xe,viewPort:dt,ctx:k,isFirstRender:B}=this,P=k.canvas;dt.clear(),P.width&&P.height?dt.setCurrent(P.width,P.height):dt.setCurrent(Fe,Xe);var K=Q.getStyle("width"),se=Q.getStyle("height");!fe&&(B||typeof M!="number"&&typeof W!="number")&&(K.hasValue()&&(P.width=K.getPixels("x"),P.style&&(P.style.width="".concat(P.width,"px"))),se.hasValue()&&(P.height=se.getPixels("y"),P.style&&(P.style.height="".concat(P.height,"px"))));var de=P.clientWidth||P.width,Ie=P.clientHeight||P.height;if(fe&&K.hasValue()&&se.hasValue()&&(de=K.getPixels("x"),Ie=se.getPixels("y")),dt.setCurrent(de,Ie),typeof ce=="number"&&Q.getAttribute("x",!0).setValue(ce),typeof Ee=="number"&&Q.getAttribute("y",!0).setValue(Ee),typeof M=="number"||typeof W=="number"){var be=E(Q.getAttribute("viewBox").getString()),Ce=0,Re=0;if(typeof M=="number"){var ze=Q.getStyle("width");ze.hasValue()?Ce=ze.getPixels("x")/M:isNaN(be[2])||(Ce=be[2]/M)}if(typeof W=="number"){var nt=Q.getStyle("height");nt.hasValue()?Re=nt.getPixels("y")/W:isNaN(be[3])||(Re=be[3]/W)}Ce||(Ce=Re),Re||(Re=Ce),Q.getAttribute("width",!0).setValue(M),Q.getAttribute("height",!0).setValue(W);var ut=Q.getStyle("transform",!0,!0);ut.setValue("".concat(ut.getString()," scale(").concat(1/Ce,", ").concat(1/Re,")"))}ge||k.clearRect(0,0,de,Ie),Q.render(k),B&&(this.isFirstRender=!1)}}_e.defaultWindow=ne,_e.defaultFetch=Pe;var{defaultFetch:rt}=_e,et=typeof DOMParser<"u"?DOMParser:null;class Le{constructor(){var{fetch:Q=rt,DOMParser:fe=et}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fetch=Q,this.DOMParser=fe}parse(Q){var fe=this;return(0,u.default)(function*(){return Q.startsWith("<")?fe.parseFromString(Q):fe.load(Q)})()}parseFromString(Q){var fe=new this.DOMParser;try{return this.checkDocument(fe.parseFromString(Q,"image/svg+xml"))}catch{return this.checkDocument(fe.parseFromString(Q,"text/xml"))}}checkDocument(Q){var fe=Q.getElementsByTagName("parsererror")[0];if(fe)throw new Error(fe.textContent);return Q}load(Q){var fe=this;return(0,u.default)(function*(){var ge=yield fe.fetch(Q),M=yield ge.text();return fe.parseFromString(M)})()}}class it{constructor(Q,fe){this.type="translate",this.point=null,this.point=Me.parse(fe)}apply(Q){var{x:fe,y:ge}=this.point;Q.translate(fe||0,ge||0)}unapply(Q){var{x:fe,y:ge}=this.point;Q.translate(-1*fe||0,-1*ge||0)}applyToPoint(Q){var{x:fe,y:ge}=this.point;Q.applyTransform([1,0,0,1,fe||0,ge||0])}}class Wt{constructor(Q,fe,ge){this.type="rotate",this.angle=null,this.originX=null,this.originY=null,this.cx=0,this.cy=0;var M=E(fe);this.angle=new Ae(Q,"angle",M[0]),this.originX=ge[0],this.originY=ge[1],this.cx=M[1]||0,this.cy=M[2]||0}apply(Q){var{cx:fe,cy:ge,originX:M,originY:W,angle:ce}=this,Ee=fe+M.getPixels("x"),Fe=ge+W.getPixels("y");Q.translate(Ee,Fe),Q.rotate(ce.getRadians()),Q.translate(-Ee,-Fe)}unapply(Q){var{cx:fe,cy:ge,originX:M,originY:W,angle:ce}=this,Ee=fe+M.getPixels("x"),Fe=ge+W.getPixels("y");Q.translate(Ee,Fe),Q.rotate(-1*ce.getRadians()),Q.translate(-Ee,-Fe)}applyToPoint(Q){var{cx:fe,cy:ge,angle:M}=this,W=M.getRadians();Q.applyTransform([1,0,0,1,fe||0,ge||0]),Q.applyTransform([Math.cos(W),Math.sin(W),-Math.sin(W),Math.cos(W),0,0]),Q.applyTransform([1,0,0,1,-fe||0,-ge||0])}}class qe{constructor(Q,fe,ge){this.type="scale",this.scale=null,this.originX=null,this.originY=null;var M=Me.parseScale(fe);(M.x===0||M.y===0)&&(M.x=ie,M.y=ie),this.scale=M,this.originX=ge[0],this.originY=ge[1]}apply(Q){var{scale:{x:fe,y:ge},originX:M,originY:W}=this,ce=M.getPixels("x"),Ee=W.getPixels("y");Q.translate(ce,Ee),Q.scale(fe,ge||fe),Q.translate(-ce,-Ee)}unapply(Q){var{scale:{x:fe,y:ge},originX:M,originY:W}=this,ce=M.getPixels("x"),Ee=W.getPixels("y");Q.translate(ce,Ee),Q.scale(1/fe,1/ge||fe),Q.translate(-ce,-Ee)}applyToPoint(Q){var{x:fe,y:ge}=this.scale;Q.applyTransform([fe||0,0,0,ge||0,0,0])}}class St{constructor(Q,fe,ge){this.type="matrix",this.matrix=[],this.originX=null,this.originY=null,this.matrix=E(fe),this.originX=ge[0],this.originY=ge[1]}apply(Q){var{originX:fe,originY:ge,matrix:M}=this,W=fe.getPixels("x"),ce=ge.getPixels("y");Q.translate(W,ce),Q.transform(M[0],M[1],M[2],M[3],M[4],M[5]),Q.translate(-W,-ce)}unapply(Q){var{originX:fe,originY:ge,matrix:M}=this,W=M[0],ce=M[2],Ee=M[4],Fe=M[1],Xe=M[3],dt=M[5],k=0,B=0,P=1,K=1/(W*(Xe*P-dt*B)-ce*(Fe*P-dt*k)+Ee*(Fe*B-Xe*k)),se=fe.getPixels("x"),de=ge.getPixels("y");Q.translate(se,de),Q.transform(K*(Xe*P-dt*B),K*(dt*k-Fe*P),K*(Ee*B-ce*P),K*(W*P-Ee*k),K*(ce*dt-Ee*Xe),K*(Ee*Fe-W*dt)),Q.translate(-se,-de)}applyToPoint(Q){Q.applyTransform(this.matrix)}}class _t extends St{constructor(Q,fe,ge){super(Q,fe,ge),this.type="skew",this.angle=null,this.angle=new Ae(Q,"angle",fe)}}class ar extends _t{constructor(Q,fe,ge){super(Q,fe,ge),this.type="skewX",this.matrix=[1,0,Math.tan(this.angle.getRadians()),1,0,0]}}class en extends _t{constructor(Q,fe,ge){super(Q,fe,ge),this.type="skewY",this.matrix=[1,Math.tan(this.angle.getRadians()),0,1,0,0]}}function Xt(Kt){return b(Kt).trim().replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/)}function Yr(Kt){var[Q,fe]=Kt.split("(");return[Q.trim(),fe.trim().replace(")","")]}class Qr{constructor(Q,fe,ge){this.document=Q,this.transforms=[];var M=Xt(fe);M.forEach(W=>{if(W!=="none"){var[ce,Ee]=Yr(W),Fe=Qr.transformTypes[ce];typeof Fe<"u"&&this.transforms.push(new Fe(this.document,Ee,ge))}})}static fromElement(Q,fe){var ge=fe.getStyle("transform",!1,!0),[M,W=M]=fe.getStyle("transform-origin",!1,!0).split(),ce=[M,W];return ge.hasValue()?new Qr(Q,ge.getString(),ce):null}apply(Q){for(var{transforms:fe}=this,ge=fe.length,M=0;M<ge;M++)fe[M].apply(Q)}unapply(Q){for(var{transforms:fe}=this,ge=fe.length,M=ge-1;M>=0;M--)fe[M].unapply(Q)}applyToPoint(Q){for(var{transforms:fe}=this,ge=fe.length,M=0;M<ge;M++)fe[M].applyToPoint(Q)}}Qr.transformTypes={translate:it,rotate:Wt,scale:qe,matrix:St,skewX:ar,skewY:en};class He{constructor(Q,fe){var ge=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(this.document=Q,this.node=fe,this.captureTextNodes=ge,this.attributes=Object.create(null),this.styles=Object.create(null),this.stylesSpecificity=Object.create(null),this.animationFrozen=!1,this.animationFrozenValue="",this.parent=null,this.children=[],!(!fe||fe.nodeType!==1)){if(Array.from(fe.attributes).forEach(Ee=>{var Fe=L(Ee.nodeName);this.attributes[Fe]=new Ae(Q,Fe,Ee.value)}),this.addStylesFromStyleDefinition(),this.getAttribute("style").hasValue()){var M=this.getAttribute("style").getString().split(";").map(Ee=>Ee.trim());M.forEach(Ee=>{if(Ee){var[Fe,Xe]=Ee.split(":").map(dt=>dt.trim());this.styles[Fe]=new Ae(Q,Fe,Xe)}})}var{definitions:W}=Q,ce=this.getAttribute("id");ce.hasValue()&&(W[ce.getString()]||(W[ce.getString()]=this)),Array.from(fe.childNodes).forEach(Ee=>{if(Ee.nodeType===1)this.addChild(Ee);else if(ge&&(Ee.nodeType===3||Ee.nodeType===4)){var Fe=Q.createTextNode(Ee);Fe.getText().length>0&&this.addChild(Fe)}})}}getAttribute(Q){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ge=this.attributes[Q];if(!ge&&fe){var M=new Ae(this.document,Q,"");return this.attributes[Q]=M,M}return ge||Ae.empty(this.document)}getHrefAttribute(){for(var Q in this.attributes)if(Q==="href"||Q.endsWith(":href"))return this.attributes[Q];return Ae.empty(this.document)}getStyle(Q){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ge=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,M=this.styles[Q];if(M)return M;var W=this.getAttribute(Q);if(W!=null&&W.hasValue())return this.styles[Q]=W,W;if(!ge){var{parent:ce}=this;if(ce){var Ee=ce.getStyle(Q);if(Ee!=null&&Ee.hasValue())return Ee}}if(fe){var Fe=new Ae(this.document,Q,"");return this.styles[Q]=Fe,Fe}return M||Ae.empty(this.document)}render(Q){if(!(this.getStyle("display").getString()==="none"||this.getStyle("visibility").getString()==="hidden")){if(Q.save(),this.getStyle("mask").hasValue()){var fe=this.getStyle("mask").getDefinition();fe&&(this.applyEffects(Q),fe.apply(Q,this))}else if(this.getStyle("filter").getValue("none")!=="none"){var ge=this.getStyle("filter").getDefinition();ge&&(this.applyEffects(Q),ge.apply(Q,this))}else this.setContext(Q),this.renderChildren(Q),this.clearContext(Q);Q.restore()}}setContext(Q){}applyEffects(Q){var fe=Qr.fromElement(this.document,this);fe&&fe.apply(Q);var ge=this.getStyle("clip-path",!1,!0);if(ge.hasValue()){var M=ge.getDefinition();M&&M.apply(Q)}}clearContext(Q){}renderChildren(Q){this.children.forEach(fe=>{fe.render(Q)})}addChild(Q){var fe=Q instanceof He?Q:this.document.createElement(Q);fe.parent=this,He.ignoreChildTypes.includes(fe.type)||this.children.push(fe)}matchesSelector(Q){var fe,{node:ge}=this;if(typeof ge.matches=="function")return ge.matches(Q);var M=(fe=ge.getAttribute)===null||fe===void 0?void 0:fe.call(ge,"class");return!M||M===""?!1:M.split(" ").some(W=>".".concat(W)===Q)}addStylesFromStyleDefinition(){var{styles:Q,stylesSpecificity:fe}=this.document;for(var ge in Q)if(!ge.startsWith("@")&&this.matchesSelector(ge)){var M=Q[ge],W=fe[ge];if(M)for(var ce in M){var Ee=this.stylesSpecificity[ce];typeof Ee>"u"&&(Ee="000"),W>=Ee&&(this.styles[ce]=M[ce],this.stylesSpecificity[ce]=W)}}}removeStyles(Q,fe){var ge=fe.reduce((M,W)=>{var ce=Q.getStyle(W);if(!ce.hasValue())return M;var Ee=ce.getString();return ce.setValue(""),[...M,[W,Ee]]},[]);return ge}restoreStyles(Q,fe){fe.forEach(ge=>{var[M,W]=ge;Q.getStyle(M,!0).setValue(W)})}isFirstChild(){var Q;return((Q=this.parent)===null||Q===void 0?void 0:Q.children.indexOf(this))===0}}He.ignoreChildTypes=["title"];class Rt extends He{constructor(Q,fe,ge){super(Q,fe,ge)}}function ot(Kt){var Q=Kt.trim();return/^('|")/.test(Q)?Q:'"'.concat(Q,'"')}function Ht(Kt){return typeof process>"u"?Kt:Kt.trim().split(",").map(ot).join(",")}function $t(Kt){if(!Kt)return"";var Q=Kt.trim().toLowerCase();switch(Q){case"normal":case"italic":case"oblique":case"inherit":case"initial":case"unset":return Q;default:return/^oblique\s+(-|)\d+deg$/.test(Q)?Q:""}}function Dr(Kt){if(!Kt)return"";var Q=Kt.trim().toLowerCase();switch(Q){case"normal":case"bold":case"lighter":case"bolder":case"inherit":case"initial":case"unset":return Q;default:return/^[\d.]+$/.test(Q)?Q:""}}class Fr{constructor(Q,fe,ge,M,W,ce){var Ee=ce?typeof ce=="string"?Fr.parse(ce):ce:{};this.fontFamily=W||Ee.fontFamily,this.fontSize=M||Ee.fontSize,this.fontStyle=Q||Ee.fontStyle,this.fontWeight=ge||Ee.fontWeight,this.fontVariant=fe||Ee.fontVariant}static parse(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",fe=arguments.length>1?arguments[1]:void 0,ge="",M="",W="",ce="",Ee="",Fe=b(Q).trim().split(" "),Xe={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1};return Fe.forEach(dt=>{switch(!0){case(!Xe.fontStyle&&Fr.styles.includes(dt)):dt!=="inherit"&&(ge=dt),Xe.fontStyle=!0;break;case(!Xe.fontVariant&&Fr.variants.includes(dt)):dt!=="inherit"&&(M=dt),Xe.fontStyle=!0,Xe.fontVariant=!0;break;case(!Xe.fontWeight&&Fr.weights.includes(dt)):dt!=="inherit"&&(W=dt),Xe.fontStyle=!0,Xe.fontVariant=!0,Xe.fontWeight=!0;break;case!Xe.fontSize:dt!=="inherit"&&([ce]=dt.split("/")),Xe.fontStyle=!0,Xe.fontVariant=!0,Xe.fontWeight=!0,Xe.fontSize=!0;break;default:dt!=="inherit"&&(Ee+=dt)}}),new Fr(ge,M,W,ce,Ee,fe)}toString(){return[$t(this.fontStyle),this.fontVariant,Dr(this.fontWeight),this.fontSize,Ht(this.fontFamily)].join(" ").trim()}}Fr.styles="normal|italic|oblique|inherit",Fr.variants="normal|small-caps|inherit",Fr.weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";class Jr{constructor(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Number.NaN,fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.NaN,ge=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Number.NaN,M=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Number.NaN;this.x1=Q,this.y1=fe,this.x2=ge,this.y2=M,this.addPoint(Q,fe),this.addPoint(ge,M)}get x(){return this.x1}get y(){return this.y1}get width(){return this.x2-this.x1}get height(){return this.y2-this.y1}addPoint(Q,fe){typeof Q<"u"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=Q,this.x2=Q),Q<this.x1&&(this.x1=Q),Q>this.x2&&(this.x2=Q)),typeof fe<"u"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=fe,this.y2=fe),fe<this.y1&&(this.y1=fe),fe>this.y2&&(this.y2=fe))}addX(Q){this.addPoint(Q,null)}addY(Q){this.addPoint(null,Q)}addBoundingBox(Q){if(Q){var{x1:fe,y1:ge,x2:M,y2:W}=Q;this.addPoint(fe,ge),this.addPoint(M,W)}}sumCubic(Q,fe,ge,M,W){return Math.pow(1-Q,3)*fe+3*Math.pow(1-Q,2)*Q*ge+3*(1-Q)*Math.pow(Q,2)*M+Math.pow(Q,3)*W}bezierCurveAdd(Q,fe,ge,M,W){var ce=6*fe-12*ge+6*M,Ee=-3*fe+9*ge-9*M+3*W,Fe=3*ge-3*fe;if(Ee===0){if(ce===0)return;var Xe=-Fe/ce;0<Xe&&Xe<1&&(Q?this.addX(this.sumCubic(Xe,fe,ge,M,W)):this.addY(this.sumCubic(Xe,fe,ge,M,W)));return}var dt=Math.pow(ce,2)-4*Fe*Ee;if(!(dt<0)){var k=(-ce+Math.sqrt(dt))/(2*Ee);0<k&&k<1&&(Q?this.addX(this.sumCubic(k,fe,ge,M,W)):this.addY(this.sumCubic(k,fe,ge,M,W)));var B=(-ce-Math.sqrt(dt))/(2*Ee);0<B&&B<1&&(Q?this.addX(this.sumCubic(B,fe,ge,M,W)):this.addY(this.sumCubic(B,fe,ge,M,W)))}}addBezierCurve(Q,fe,ge,M,W,ce,Ee,Fe){this.addPoint(Q,fe),this.addPoint(Ee,Fe),this.bezierCurveAdd(!0,Q,ge,W,Ee),this.bezierCurveAdd(!1,fe,M,ce,Fe)}addQuadraticCurve(Q,fe,ge,M,W,ce){var Ee=Q+.6666666666666666*(ge-Q),Fe=fe+2/3*(M-fe),Xe=Ee+1/3*(W-Q),dt=Fe+1/3*(ce-fe);this.addBezierCurve(Q,fe,Ee,Xe,Fe,dt,W,ce)}isPointInBox(Q,fe){var{x1:ge,y1:M,x2:W,y2:ce}=this;return ge<=Q&&Q<=W&&M<=fe&&fe<=ce}}class Wr extends g.SVGPathData{constructor(Q){super(Q.replace(/([+\-.])\s+/gm,"$1").replace(/[^MmZzLlHhVvCcSsQqTtAae\d\s.,+-].*/g,"")),this.control=null,this.start=null,this.current=null,this.command=null,this.commands=this.commands,this.i=-1,this.previousCommand=null,this.points=[],this.angles=[]}reset(){this.i=-1,this.command=null,this.previousCommand=null,this.start=new Me(0,0),this.control=new Me(0,0),this.current=new Me(0,0),this.points=[],this.angles=[]}isEnd(){var{i:Q,commands:fe}=this;return Q>=fe.length-1}next(){var Q=this.commands[++this.i];return this.previousCommand=this.command,this.command=Q,Q}getPoint(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"x",fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"y",ge=new Me(this.command[Q],this.command[fe]);return this.makeAbsolute(ge)}getAsControlPoint(Q,fe){var ge=this.getPoint(Q,fe);return this.control=ge,ge}getAsCurrentPoint(Q,fe){var ge=this.getPoint(Q,fe);return this.current=ge,ge}getReflectedControlPoint(){var Q=this.previousCommand.type;if(Q!==g.SVGPathData.CURVE_TO&&Q!==g.SVGPathData.SMOOTH_CURVE_TO&&Q!==g.SVGPathData.QUAD_TO&&Q!==g.SVGPathData.SMOOTH_QUAD_TO)return this.current;var{current:{x:fe,y:ge},control:{x:M,y:W}}=this,ce=new Me(2*fe-M,2*ge-W);return ce}makeAbsolute(Q){if(this.command.relative){var{x:fe,y:ge}=this.current;Q.x+=fe,Q.y+=ge}return Q}addMarker(Q,fe,ge){var{points:M,angles:W}=this;ge&&W.length>0&&!W[W.length-1]&&(W[W.length-1]=M[M.length-1].angleTo(ge)),this.addMarkerAngle(Q,fe?fe.angleTo(Q):null)}addMarkerAngle(Q,fe){this.points.push(Q),this.angles.push(fe)}getMarkerPoints(){return this.points}getMarkerAngles(){for(var{angles:Q}=this,fe=Q.length,ge=0;ge<fe;ge++)if(!Q[ge]){for(var M=ge+1;M<fe;M++)if(Q[M]){Q[ge]=Q[M];break}}return Q}}class Ln extends He{constructor(){super(...arguments),this.modifiedEmSizeStack=!1}calculateOpacity(){for(var Q=1,fe=this;fe;){var ge=fe.getStyle("opacity",!1,!0);ge.hasValue(!0)&&(Q*=ge.getNumber()),fe=fe.parent}return Q}setContext(Q){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!fe){var ge=this.getStyle("fill"),M=this.getStyle("fill-opacity"),W=this.getStyle("stroke"),ce=this.getStyle("stroke-opacity");if(ge.isUrlDefinition()){var Ee=ge.getFillStyleDefinition(this,M);Ee&&(Q.fillStyle=Ee)}else if(ge.hasValue()){ge.getString()==="currentColor"&&ge.setValue(this.getStyle("color").getColor());var Fe=ge.getColor();Fe!=="inherit"&&(Q.fillStyle=Fe==="none"?"rgba(0,0,0,0)":Fe)}if(M.hasValue()){var Xe=new Ae(this.document,"fill",Q.fillStyle).addOpacity(M).getColor();Q.fillStyle=Xe}if(W.isUrlDefinition()){var dt=W.getFillStyleDefinition(this,ce);dt&&(Q.strokeStyle=dt)}else if(W.hasValue()){W.getString()==="currentColor"&&W.setValue(this.getStyle("color").getColor());var k=W.getString();k!=="inherit"&&(Q.strokeStyle=k==="none"?"rgba(0,0,0,0)":k)}if(ce.hasValue()){var B=new Ae(this.document,"stroke",Q.strokeStyle).addOpacity(ce).getString();Q.strokeStyle=B}var P=this.getStyle("stroke-width");if(P.hasValue()){var K=P.getPixels();Q.lineWidth=K||ie}var se=this.getStyle("stroke-linecap"),de=this.getStyle("stroke-linejoin"),Ie=this.getStyle("stroke-miterlimit"),be=this.getStyle("stroke-dasharray"),Ce=this.getStyle("stroke-dashoffset");if(se.hasValue()&&(Q.lineCap=se.getString()),de.hasValue()&&(Q.lineJoin=de.getString()),Ie.hasValue()&&(Q.miterLimit=Ie.getNumber()),be.hasValue()&&be.getString()!=="none"){var Re=E(be.getString());typeof Q.setLineDash<"u"?Q.setLineDash(Re):typeof Q.webkitLineDash<"u"?Q.webkitLineDash=Re:typeof Q.mozDash<"u"&&!(Re.length===1&&Re[0]===0)&&(Q.mozDash=Re);var ze=Ce.getPixels();typeof Q.lineDashOffset<"u"?Q.lineDashOffset=ze:typeof Q.webkitLineDashOffset<"u"?Q.webkitLineDashOffset=ze:typeof Q.mozDashOffset<"u"&&(Q.mozDashOffset=ze)}}if(this.modifiedEmSizeStack=!1,typeof Q.font<"u"){var nt=this.getStyle("font"),ut=this.getStyle("font-style"),Oe=this.getStyle("font-variant"),Nt=this.getStyle("font-weight"),jt=this.getStyle("font-size"),Bt=this.getStyle("font-family"),lt=new Fr(ut.getString(),Oe.getString(),Nt.getString(),jt.hasValue()?"".concat(jt.getPixels(!0),"px"):"",Bt.getString(),Fr.parse(nt.getString(),Q.font));ut.setValue(lt.fontStyle),Oe.setValue(lt.fontVariant),Nt.setValue(lt.fontWeight),jt.setValue(lt.fontSize),Bt.setValue(lt.fontFamily),Q.font=lt.toString(),jt.isPixels()&&(this.document.emSize=jt.getPixels(),this.modifiedEmSizeStack=!0)}fe||(this.applyEffects(Q),Q.globalAlpha=this.calculateOpacity())}clearContext(Q){super.clearContext(Q),this.modifiedEmSizeStack&&this.document.popEmSize()}}class Vr extends Ln{constructor(Q,fe,ge){super(Q,fe,ge),this.type="path",this.pathParser=null,this.pathParser=new Wr(this.getAttribute("d").getString())}path(Q){var{pathParser:fe}=this,ge=new Jr;for(fe.reset(),Q&&Q.beginPath();!fe.isEnd();)switch(fe.next().type){case Wr.MOVE_TO:this.pathM(Q,ge);break;case Wr.LINE_TO:this.pathL(Q,ge);break;case Wr.HORIZ_LINE_TO:this.pathH(Q,ge);break;case Wr.VERT_LINE_TO:this.pathV(Q,ge);break;case Wr.CURVE_TO:this.pathC(Q,ge);break;case Wr.SMOOTH_CURVE_TO:this.pathS(Q,ge);break;case Wr.QUAD_TO:this.pathQ(Q,ge);break;case Wr.SMOOTH_QUAD_TO:this.pathT(Q,ge);break;case Wr.ARC:this.pathA(Q,ge);break;case Wr.CLOSE_PATH:this.pathZ(Q,ge);break}return ge}getBoundingBox(Q){return this.path()}getMarkers(){var{pathParser:Q}=this,fe=Q.getMarkerPoints(),ge=Q.getMarkerAngles(),M=fe.map((W,ce)=>[W,ge[ce]]);return M}renderChildren(Q){this.path(Q),this.document.screen.mouse.checkPath(this,Q);var fe=this.getStyle("fill-rule");Q.fillStyle!==""&&(fe.getString("inherit")!=="inherit"?Q.fill(fe.getString()):Q.fill()),Q.strokeStyle!==""&&(this.getAttribute("vector-effect").getString()==="non-scaling-stroke"?(Q.save(),Q.setTransform(1,0,0,1,0,0),Q.stroke(),Q.restore()):Q.stroke());var ge=this.getMarkers();if(ge){var M=ge.length-1,W=this.getStyle("marker-start"),ce=this.getStyle("marker-mid"),Ee=this.getStyle("marker-end");if(W.isUrlDefinition()){var Fe=W.getDefinition(),[Xe,dt]=ge[0];Fe.render(Q,Xe,dt)}if(ce.isUrlDefinition())for(var k=ce.getDefinition(),B=1;B<M;B++){var[P,K]=ge[B];k.render(Q,P,K)}if(Ee.isUrlDefinition()){var se=Ee.getDefinition(),[de,Ie]=ge[M];se.render(Q,de,Ie)}}}static pathM(Q){var fe=Q.getAsCurrentPoint();return Q.start=Q.current,{point:fe}}pathM(Q,fe){var{pathParser:ge}=this,{point:M}=Vr.pathM(ge),{x:W,y:ce}=M;ge.addMarker(M),fe.addPoint(W,ce),Q&&Q.moveTo(W,ce)}static pathL(Q){var{current:fe}=Q,ge=Q.getAsCurrentPoint();return{current:fe,point:ge}}pathL(Q,fe){var{pathParser:ge}=this,{current:M,point:W}=Vr.pathL(ge),{x:ce,y:Ee}=W;ge.addMarker(W,M),fe.addPoint(ce,Ee),Q&&Q.lineTo(ce,Ee)}static pathH(Q){var{current:fe,command:ge}=Q,M=new Me((ge.relative?fe.x:0)+ge.x,fe.y);return Q.current=M,{current:fe,point:M}}pathH(Q,fe){var{pathParser:ge}=this,{current:M,point:W}=Vr.pathH(ge),{x:ce,y:Ee}=W;ge.addMarker(W,M),fe.addPoint(ce,Ee),Q&&Q.lineTo(ce,Ee)}static pathV(Q){var{current:fe,command:ge}=Q,M=new Me(fe.x,(ge.relative?fe.y:0)+ge.y);return Q.current=M,{current:fe,point:M}}pathV(Q,fe){var{pathParser:ge}=this,{current:M,point:W}=Vr.pathV(ge),{x:ce,y:Ee}=W;ge.addMarker(W,M),fe.addPoint(ce,Ee),Q&&Q.lineTo(ce,Ee)}static pathC(Q){var{current:fe}=Q,ge=Q.getPoint("x1","y1"),M=Q.getAsControlPoint("x2","y2"),W=Q.getAsCurrentPoint();return{current:fe,point:ge,controlPoint:M,currentPoint:W}}pathC(Q,fe){var{pathParser:ge}=this,{current:M,point:W,controlPoint:ce,currentPoint:Ee}=Vr.pathC(ge);ge.addMarker(Ee,ce,W),fe.addBezierCurve(M.x,M.y,W.x,W.y,ce.x,ce.y,Ee.x,Ee.y),Q&&Q.bezierCurveTo(W.x,W.y,ce.x,ce.y,Ee.x,Ee.y)}static pathS(Q){var{current:fe}=Q,ge=Q.getReflectedControlPoint(),M=Q.getAsControlPoint("x2","y2"),W=Q.getAsCurrentPoint();return{current:fe,point:ge,controlPoint:M,currentPoint:W}}pathS(Q,fe){var{pathParser:ge}=this,{current:M,point:W,controlPoint:ce,currentPoint:Ee}=Vr.pathS(ge);ge.addMarker(Ee,ce,W),fe.addBezierCurve(M.x,M.y,W.x,W.y,ce.x,ce.y,Ee.x,Ee.y),Q&&Q.bezierCurveTo(W.x,W.y,ce.x,ce.y,Ee.x,Ee.y)}static pathQ(Q){var{current:fe}=Q,ge=Q.getAsControlPoint("x1","y1"),M=Q.getAsCurrentPoint();return{current:fe,controlPoint:ge,currentPoint:M}}pathQ(Q,fe){var{pathParser:ge}=this,{current:M,controlPoint:W,currentPoint:ce}=Vr.pathQ(ge);ge.addMarker(ce,W,W),fe.addQuadraticCurve(M.x,M.y,W.x,W.y,ce.x,ce.y),Q&&Q.quadraticCurveTo(W.x,W.y,ce.x,ce.y)}static pathT(Q){var{current:fe}=Q,ge=Q.getReflectedControlPoint();Q.control=ge;var M=Q.getAsCurrentPoint();return{current:fe,controlPoint:ge,currentPoint:M}}pathT(Q,fe){var{pathParser:ge}=this,{current:M,controlPoint:W,currentPoint:ce}=Vr.pathT(ge);ge.addMarker(ce,W,W),fe.addQuadraticCurve(M.x,M.y,W.x,W.y,ce.x,ce.y),Q&&Q.quadraticCurveTo(W.x,W.y,ce.x,ce.y)}static pathA(Q){var{current:fe,command:ge}=Q,{rX:M,rY:W,xRot:ce,lArcFlag:Ee,sweepFlag:Fe}=ge,Xe=ce*(Math.PI/180),dt=Q.getAsCurrentPoint(),k=new Me(Math.cos(Xe)*(fe.x-dt.x)/2+Math.sin(Xe)*(fe.y-dt.y)/2,-Math.sin(Xe)*(fe.x-dt.x)/2+Math.cos(Xe)*(fe.y-dt.y)/2),B=Math.pow(k.x,2)/Math.pow(M,2)+Math.pow(k.y,2)/Math.pow(W,2);B>1&&(M*=Math.sqrt(B),W*=Math.sqrt(B));var P=(Ee===Fe?-1:1)*Math.sqrt((Math.pow(M,2)*Math.pow(W,2)-Math.pow(M,2)*Math.pow(k.y,2)-Math.pow(W,2)*Math.pow(k.x,2))/(Math.pow(M,2)*Math.pow(k.y,2)+Math.pow(W,2)*Math.pow(k.x,2)));isNaN(P)&&(P=0);var K=new Me(P*M*k.y/W,P*-W*k.x/M),se=new Me((fe.x+dt.x)/2+Math.cos(Xe)*K.x-Math.sin(Xe)*K.y,(fe.y+dt.y)/2+Math.sin(Xe)*K.x+Math.cos(Xe)*K.y),de=ue([1,0],[(k.x-K.x)/M,(k.y-K.y)/W]),Ie=[(k.x-K.x)/M,(k.y-K.y)/W],be=[(-k.x-K.x)/M,(-k.y-K.y)/W],Ce=ue(Ie,be);return D(Ie,be)<=-1&&(Ce=Math.PI),D(Ie,be)>=1&&(Ce=0),{currentPoint:dt,rX:M,rY:W,sweepFlag:Fe,xAxisRotation:Xe,centp:se,a1:de,ad:Ce}}pathA(Q,fe){var{pathParser:ge}=this,{currentPoint:M,rX:W,rY:ce,sweepFlag:Ee,xAxisRotation:Fe,centp:Xe,a1:dt,ad:k}=Vr.pathA(ge),B=1-Ee?1:-1,P=dt+B*(k/2),K=new Me(Xe.x+W*Math.cos(P),Xe.y+ce*Math.sin(P));if(ge.addMarkerAngle(K,P-B*Math.PI/2),ge.addMarkerAngle(M,P-B*Math.PI),fe.addPoint(M.x,M.y),Q&&!isNaN(dt)&&!isNaN(k)){var se=W>ce?W:ce,de=W>ce?1:W/ce,Ie=W>ce?ce/W:1;Q.translate(Xe.x,Xe.y),Q.rotate(Fe),Q.scale(de,Ie),Q.arc(0,0,se,dt,dt+k,!!(1-Ee)),Q.scale(1/de,1/Ie),Q.rotate(-Fe),Q.translate(-Xe.x,-Xe.y)}}static pathZ(Q){Q.current=Q.start}pathZ(Q,fe){Vr.pathZ(this.pathParser),Q&&fe.x1!==fe.x2&&fe.y1!==fe.y2&&Q.closePath()}}class Ur extends Vr{constructor(Q,fe,ge){super(Q,fe,ge),this.type="glyph",this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber(),this.unicode=this.getAttribute("unicode").getString(),this.arabicForm=this.getAttribute("arabic-form").getString()}}class Cn extends Ln{constructor(Q,fe,ge){super(Q,fe,new.target===Cn?!0:ge),this.type="text",this.x=0,this.y=0,this.measureCache=-1}setContext(Q){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;super.setContext(Q,fe);var ge=this.getStyle("dominant-baseline").getTextBaseline()||this.getStyle("alignment-baseline").getTextBaseline();ge&&(Q.textBaseline=ge)}initializeCoordinates(){this.x=0,this.y=0,this.leafTexts=[],this.textChunkStart=0,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY}getBoundingBox(Q){if(this.type!=="text")return this.getTElementBoundingBox(Q);this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(Q);var fe=null;return this.children.forEach((ge,M)=>{var W=this.getChildBoundingBox(Q,this,this,M);fe?fe.addBoundingBox(W):fe=W}),fe}getFontSize(){var{document:Q,parent:fe}=this,ge=Fr.parse(Q.ctx.font).fontSize,M=fe.getStyle("font-size").getNumber(ge);return M}getTElementBoundingBox(Q){var fe=this.getFontSize();return new Jr(this.x,this.y-fe,this.x+this.measureText(Q),this.y)}getGlyph(Q,fe,ge){var M=fe[ge],W=null;if(Q.isArabic){var ce=fe.length,Ee=fe[ge-1],Fe=fe[ge+1],Xe="isolated";if((ge===0||Ee===" ")&&ge<ce-1&&Fe!==" "&&(Xe="terminal"),ge>0&&Ee!==" "&&ge<ce-1&&Fe!==" "&&(Xe="medial"),ge>0&&Ee!==" "&&(ge===ce-1||Fe===" ")&&(Xe="initial"),typeof Q.glyphs[M]<"u"){var dt=Q.glyphs[M];W=dt instanceof Ur?dt:dt[Xe]}}else W=Q.glyphs[M];return W||(W=Q.missingGlyph),W}getText(){return""}getTextFromNode(Q){var fe=Q||this.node,ge=Array.from(fe.parentNode.childNodes),M=ge.indexOf(fe),W=ge.length-1,ce=b(fe.textContent||"");return M===0&&(ce=S(ce)),M===W&&(ce=w(ce)),ce}renderChildren(Q){if(this.type!=="text"){this.renderTElementChildren(Q);return}this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(Q),this.children.forEach((ge,M)=>{this.renderChild(Q,this,this,M)});var{mouse:fe}=this.document.screen;fe.isWorking()&&fe.checkBoundingBox(this,this.getBoundingBox(Q))}renderTElementChildren(Q){var{document:fe,parent:ge}=this,M=this.getText(),W=ge.getStyle("font-family").getDefinition();if(W){for(var{unitsPerEm:ce}=W.fontFace,Ee=Fr.parse(fe.ctx.font),Fe=ge.getStyle("font-size").getNumber(Ee.fontSize),Xe=ge.getStyle("font-style").getString(Ee.fontStyle),dt=Fe/ce,k=W.isRTL?M.split("").reverse().join(""):M,B=E(ge.getAttribute("dx").getString()),P=k.length,K=0;K<P;K++){var se=this.getGlyph(W,k,K);Q.translate(this.x,this.y),Q.scale(dt,-dt);var de=Q.lineWidth;Q.lineWidth=Q.lineWidth*ce/Fe,Xe==="italic"&&Q.transform(1,0,.4,1,0,0),se.render(Q),Xe==="italic"&&Q.transform(1,0,-.4,1,0,0),Q.lineWidth=de,Q.scale(1/dt,-1/dt),Q.translate(-this.x,-this.y),this.x+=Fe*(se.horizAdvX||W.horizAdvX)/ce,typeof B[K]<"u"&&!isNaN(B[K])&&(this.x+=B[K])}return}var{x:Ie,y:be}=this;Q.fillStyle&&Q.fillText(M,Ie,be),Q.strokeStyle&&Q.strokeText(M,Ie,be)}applyAnchoring(){if(!(this.textChunkStart>=this.leafTexts.length)){var Q=this.leafTexts[this.textChunkStart],fe=Q.getStyle("text-anchor").getString("start"),ge=!1,M=0;fe==="start"&&!ge||fe==="end"&&ge?M=Q.x-this.minX:fe==="end"&&!ge||fe==="start"&&ge?M=Q.x-this.maxX:M=Q.x-(this.minX+this.maxX)/2;for(var W=this.textChunkStart;W<this.leafTexts.length;W++)this.leafTexts[W].x+=M;this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.textChunkStart=this.leafTexts.length}}adjustChildCoordinatesRecursive(Q){this.children.forEach((fe,ge)=>{this.adjustChildCoordinatesRecursiveCore(Q,this,this,ge)}),this.applyAnchoring()}adjustChildCoordinatesRecursiveCore(Q,fe,ge,M){var W=ge.children[M];W.children.length>0?W.children.forEach((ce,Ee)=>{fe.adjustChildCoordinatesRecursiveCore(Q,fe,W,Ee)}):this.adjustChildCoordinates(Q,fe,ge,M)}adjustChildCoordinates(Q,fe,ge,M){var W=ge.children[M];if(typeof W.measureText!="function")return W;Q.save(),W.setContext(Q,!0);var ce=W.getAttribute("x"),Ee=W.getAttribute("y"),Fe=W.getAttribute("dx"),Xe=W.getAttribute("dy"),dt=W.getStyle("font-family").getDefinition(),k=!!dt&&dt.isRTL;M===0&&(ce.hasValue()||ce.setValue(W.getInheritedAttribute("x")),Ee.hasValue()||Ee.setValue(W.getInheritedAttribute("y")),Fe.hasValue()||Fe.setValue(W.getInheritedAttribute("dx")),Xe.hasValue()||Xe.setValue(W.getInheritedAttribute("dy")));var B=W.measureText(Q);return k&&(fe.x-=B),ce.hasValue()?(fe.applyAnchoring(),W.x=ce.getPixels("x"),Fe.hasValue()&&(W.x+=Fe.getPixels("x"))):(Fe.hasValue()&&(fe.x+=Fe.getPixels("x")),W.x=fe.x),fe.x=W.x,k||(fe.x+=B),Ee.hasValue()?(W.y=Ee.getPixels("y"),Xe.hasValue()&&(W.y+=Xe.getPixels("y"))):(Xe.hasValue()&&(fe.y+=Xe.getPixels("y")),W.y=fe.y),fe.y=W.y,fe.leafTexts.push(W),fe.minX=Math.min(fe.minX,W.x,W.x+B),fe.maxX=Math.max(fe.maxX,W.x,W.x+B),W.clearContext(Q),Q.restore(),W}getChildBoundingBox(Q,fe,ge,M){var W=ge.children[M];if(typeof W.getBoundingBox!="function")return null;var ce=W.getBoundingBox(Q);return ce?(W.children.forEach((Ee,Fe)=>{var Xe=fe.getChildBoundingBox(Q,fe,W,Fe);ce.addBoundingBox(Xe)}),ce):null}renderChild(Q,fe,ge,M){var W=ge.children[M];W.render(Q),W.children.forEach((ce,Ee)=>{fe.renderChild(Q,fe,W,Ee)})}measureText(Q){var{measureCache:fe}=this;if(~fe)return fe;var ge=this.getText(),M=this.measureTargetText(Q,ge);return this.measureCache=M,M}measureTargetText(Q,fe){if(!fe.length)return 0;var{parent:ge}=this,M=ge.getStyle("font-family").getDefinition();if(M){for(var W=this.getFontSize(),ce=M.isRTL?fe.split("").reverse().join(""):fe,Ee=E(ge.getAttribute("dx").getString()),Fe=ce.length,Xe=0,dt=0;dt<Fe;dt++){var k=this.getGlyph(M,ce,dt);Xe+=(k.horizAdvX||M.horizAdvX)*W/M.fontFace.unitsPerEm,typeof Ee[dt]<"u"&&!isNaN(Ee[dt])&&(Xe+=Ee[dt])}return Xe}if(!Q.measureText)return fe.length*10;Q.save(),this.setContext(Q,!0);var{width:B}=Q.measureText(fe);return this.clearContext(Q),Q.restore(),B}getInheritedAttribute(Q){for(var fe=this;fe instanceof Cn&&fe.isFirstChild();){var ge=fe.parent.getAttribute(Q);if(ge.hasValue(!0))return ge.getValue("0");fe=fe.parent}return null}}class un extends Cn{constructor(Q,fe,ge){super(Q,fe,new.target===un?!0:ge),this.type="tspan",this.text=this.children.length>0?"":this.getTextFromNode()}getText(){return this.text}}class Dn extends un{constructor(){super(...arguments),this.type="textNode"}}class da extends Ln{constructor(){super(...arguments),this.type="svg",this.root=!1}setContext(Q){var fe,{document:ge}=this,{screen:M,window:W}=ge,ce=Q.canvas;if(M.setDefaults(Q),ce.style&&typeof Q.font<"u"&&W&&typeof W.getComputedStyle<"u"){Q.font=W.getComputedStyle(ce).getPropertyValue("font");var Ee=new Ae(ge,"fontSize",Fr.parse(Q.font).fontSize);Ee.hasValue()&&(ge.rootEmSize=Ee.getPixels("y"),ge.emSize=ge.rootEmSize)}this.getAttribute("x").hasValue()||this.getAttribute("x",!0).setValue(0),this.getAttribute("y").hasValue()||this.getAttribute("y",!0).setValue(0);var{width:Fe,height:Xe}=M.viewPort;this.getStyle("width").hasValue()||this.getStyle("width",!0).setValue("100%"),this.getStyle("height").hasValue()||this.getStyle("height",!0).setValue("100%"),this.getStyle("color").hasValue()||this.getStyle("color",!0).setValue("black");var dt=this.getAttribute("refX"),k=this.getAttribute("refY"),B=this.getAttribute("viewBox"),P=B.hasValue()?E(B.getString()):null,K=!this.root&&this.getStyle("overflow").getValue("hidden")!=="visible",se=0,de=0,Ie=0,be=0;P&&(se=P[0],de=P[1]),this.root||(Fe=this.getStyle("width").getPixels("x"),Xe=this.getStyle("height").getPixels("y"),this.type==="marker"&&(Ie=se,be=de,se=0,de=0)),M.viewPort.setCurrent(Fe,Xe),this.node&&(!this.parent||((fe=this.node.parentNode)===null||fe===void 0?void 0:fe.nodeName)==="foreignObject")&&this.getStyle("transform",!1,!0).hasValue()&&!this.getStyle("transform-origin",!1,!0).hasValue()&&this.getStyle("transform-origin",!0,!0).setValue("50% 50%"),super.setContext(Q),Q.translate(this.getAttribute("x").getPixels("x"),this.getAttribute("y").getPixels("y")),P&&(Fe=P[2],Xe=P[3]),ge.setViewBox({ctx:Q,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:M.viewPort.width,desiredWidth:Fe,height:M.viewPort.height,desiredHeight:Xe,minX:se,minY:de,refX:dt.getValue(),refY:k.getValue(),clip:K,clipX:Ie,clipY:be}),P&&(M.viewPort.removeCurrent(),M.viewPort.setCurrent(Fe,Xe))}clearContext(Q){super.clearContext(Q),this.document.screen.viewPort.removeCurrent()}resize(Q){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Q,ge=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,M=this.getAttribute("width",!0),W=this.getAttribute("height",!0),ce=this.getAttribute("viewBox"),Ee=this.getAttribute("style"),Fe=M.getNumber(0),Xe=W.getNumber(0);if(ge)if(typeof ge=="string")this.getAttribute("preserveAspectRatio",!0).setValue(ge);else{var dt=this.getAttribute("preserveAspectRatio");dt.hasValue()&&dt.setValue(dt.getString().replace(/^\s*(\S.*\S)\s*$/,"$1"))}if(M.setValue(Q),W.setValue(fe),ce.hasValue()||ce.setValue("0 0 ".concat(Fe||Q," ").concat(Xe||fe)),Ee.hasValue()){var k=this.getStyle("width"),B=this.getStyle("height");k.hasValue()&&k.setValue("".concat(Q,"px")),B.hasValue()&&B.setValue("".concat(fe,"px"))}}}class ri extends Vr{constructor(){super(...arguments),this.type="rect"}path(Q){var fe=this.getAttribute("x").getPixels("x"),ge=this.getAttribute("y").getPixels("y"),M=this.getStyle("width",!1,!0).getPixels("x"),W=this.getStyle("height",!1,!0).getPixels("y"),ce=this.getAttribute("rx"),Ee=this.getAttribute("ry"),Fe=ce.getPixels("x"),Xe=Ee.getPixels("y");if(ce.hasValue()&&!Ee.hasValue()&&(Xe=Fe),Ee.hasValue()&&!ce.hasValue()&&(Fe=Xe),Fe=Math.min(Fe,M/2),Xe=Math.min(Xe,W/2),Q){var dt=4*((Math.sqrt(2)-1)/3);Q.beginPath(),W>0&&M>0&&(Q.moveTo(fe+Fe,ge),Q.lineTo(fe+M-Fe,ge),Q.bezierCurveTo(fe+M-Fe+dt*Fe,ge,fe+M,ge+Xe-dt*Xe,fe+M,ge+Xe),Q.lineTo(fe+M,ge+W-Xe),Q.bezierCurveTo(fe+M,ge+W-Xe+dt*Xe,fe+M-Fe+dt*Fe,ge+W,fe+M-Fe,ge+W),Q.lineTo(fe+Fe,ge+W),Q.bezierCurveTo(fe+Fe-dt*Fe,ge+W,fe,ge+W-Xe+dt*Xe,fe,ge+W-Xe),Q.lineTo(fe,ge+Xe),Q.bezierCurveTo(fe,ge+Xe-dt*Xe,fe+Fe-dt*Fe,ge,fe+Fe,ge),Q.closePath())}return new Jr(fe,ge,fe+M,ge+W)}getMarkers(){return null}}class Ks extends Vr{constructor(){super(...arguments),this.type="circle"}path(Q){var fe=this.getAttribute("cx").getPixels("x"),ge=this.getAttribute("cy").getPixels("y"),M=this.getAttribute("r").getPixels();return Q&&M>0&&(Q.beginPath(),Q.arc(fe,ge,M,0,Math.PI*2,!1),Q.closePath()),new Jr(fe-M,ge-M,fe+M,ge+M)}getMarkers(){return null}}class Hs extends Vr{constructor(){super(...arguments),this.type="ellipse"}path(Q){var fe=4*((Math.sqrt(2)-1)/3),ge=this.getAttribute("rx").getPixels("x"),M=this.getAttribute("ry").getPixels("y"),W=this.getAttribute("cx").getPixels("x"),ce=this.getAttribute("cy").getPixels("y");return Q&&ge>0&&M>0&&(Q.beginPath(),Q.moveTo(W+ge,ce),Q.bezierCurveTo(W+ge,ce+fe*M,W+fe*ge,ce+M,W,ce+M),Q.bezierCurveTo(W-fe*ge,ce+M,W-ge,ce+fe*M,W-ge,ce),Q.bezierCurveTo(W-ge,ce-fe*M,W-fe*ge,ce-M,W,ce-M),Q.bezierCurveTo(W+fe*ge,ce-M,W+ge,ce-fe*M,W+ge,ce),Q.closePath()),new Jr(W-ge,ce-M,W+ge,ce+M)}getMarkers(){return null}}class oa extends Vr{constructor(){super(...arguments),this.type="line"}getPoints(){return[new Me(this.getAttribute("x1").getPixels("x"),this.getAttribute("y1").getPixels("y")),new Me(this.getAttribute("x2").getPixels("x"),this.getAttribute("y2").getPixels("y"))]}path(Q){var[{x:fe,y:ge},{x:M,y:W}]=this.getPoints();return Q&&(Q.beginPath(),Q.moveTo(fe,ge),Q.lineTo(M,W)),new Jr(fe,ge,M,W)}getMarkers(){var[Q,fe]=this.getPoints(),ge=Q.angleTo(fe);return[[Q,ge],[fe,ge]]}}class rn extends Vr{constructor(Q,fe,ge){super(Q,fe,ge),this.type="polyline",this.points=[],this.points=Me.parsePath(this.getAttribute("points").getString())}path(Q){var{points:fe}=this,[{x:ge,y:M}]=fe,W=new Jr(ge,M);return Q&&(Q.beginPath(),Q.moveTo(ge,M)),fe.forEach(ce=>{var{x:Ee,y:Fe}=ce;W.addPoint(Ee,Fe),Q&&Q.lineTo(Ee,Fe)}),W}getMarkers(){var{points:Q}=this,fe=Q.length-1,ge=[];return Q.forEach((M,W)=>{W!==fe&&ge.push([M,M.angleTo(Q[W+1])])}),ge.length>0&&ge.push([Q[Q.length-1],ge[ge.length-1][1]]),ge}}class ds extends rn{constructor(){super(...arguments),this.type="polygon"}path(Q){var fe=super.path(Q),[{x:ge,y:M}]=this.points;return Q&&(Q.lineTo(ge,M),Q.closePath()),fe}}class wi extends He{constructor(){super(...arguments),this.type="pattern"}createPattern(Q,fe,ge){var M=this.getStyle("width").getPixels("x",!0),W=this.getStyle("height").getPixels("y",!0),ce=new da(this.document,null);ce.attributes.viewBox=new Ae(this.document,"viewBox",this.getAttribute("viewBox").getValue()),ce.attributes.width=new Ae(this.document,"width","".concat(M,"px")),ce.attributes.height=new Ae(this.document,"height","".concat(W,"px")),ce.attributes.transform=new Ae(this.document,"transform",this.getAttribute("patternTransform").getValue()),ce.children=this.children;var Ee=this.document.createCanvas(M,W),Fe=Ee.getContext("2d"),Xe=this.getAttribute("x"),dt=this.getAttribute("y");Xe.hasValue()&&dt.hasValue()&&Fe.translate(Xe.getPixels("x",!0),dt.getPixels("y",!0)),ge.hasValue()?this.styles["fill-opacity"]=ge:Reflect.deleteProperty(this.styles,"fill-opacity");for(var k=-1;k<=1;k++)for(var B=-1;B<=1;B++)Fe.save(),ce.attributes.x=new Ae(this.document,"x",k*Ee.width),ce.attributes.y=new Ae(this.document,"y",B*Ee.height),ce.render(Fe),Fe.restore();var P=Q.createPattern(Ee,"repeat");return P}}class wt extends He{constructor(){super(...arguments),this.type="marker"}render(Q,fe,ge){if(fe){var{x:M,y:W}=fe,ce=this.getAttribute("orient").getString("auto"),Ee=this.getAttribute("markerUnits").getString("strokeWidth");Q.translate(M,W),ce==="auto"&&Q.rotate(ge),Ee==="strokeWidth"&&Q.scale(Q.lineWidth,Q.lineWidth),Q.save();var Fe=new da(this.document,null);Fe.type=this.type,Fe.attributes.viewBox=new Ae(this.document,"viewBox",this.getAttribute("viewBox").getValue()),Fe.attributes.refX=new Ae(this.document,"refX",this.getAttribute("refX").getValue()),Fe.attributes.refY=new Ae(this.document,"refY",this.getAttribute("refY").getValue()),Fe.attributes.width=new Ae(this.document,"width",this.getAttribute("markerWidth").getValue()),Fe.attributes.height=new Ae(this.document,"height",this.getAttribute("markerHeight").getValue()),Fe.attributes.overflow=new Ae(this.document,"overflow",this.getAttribute("overflow").getValue()),Fe.attributes.fill=new Ae(this.document,"fill",this.getAttribute("fill").getColor("black")),Fe.attributes.stroke=new Ae(this.document,"stroke",this.getAttribute("stroke").getValue("none")),Fe.children=this.children,Fe.render(Q),Q.restore(),Ee==="strokeWidth"&&Q.scale(1/Q.lineWidth,1/Q.lineWidth),ce==="auto"&&Q.rotate(-ge),Q.translate(-M,-W)}}}class Pr extends He{constructor(){super(...arguments),this.type="defs"}render(){}}class Mr extends Ln{constructor(){super(...arguments),this.type="g"}getBoundingBox(Q){var fe=new Jr;return this.children.forEach(ge=>{fe.addBoundingBox(ge.getBoundingBox(Q))}),fe}}class tn extends He{constructor(Q,fe,ge){super(Q,fe,ge),this.attributesToInherit=["gradientUnits"],this.stops=[];var{stops:M,children:W}=this;W.forEach(ce=>{ce.type==="stop"&&M.push(ce)})}getGradientUnits(){return this.getAttribute("gradientUnits").getString("objectBoundingBox")}createGradient(Q,fe,ge){var M=this;this.getHrefAttribute().hasValue()&&(M=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(M));var{stops:W}=M,ce=this.getGradient(Q,fe);if(!ce)return this.addParentOpacity(ge,W[W.length-1].color);if(W.forEach(de=>{ce.addColorStop(de.offset,this.addParentOpacity(ge,de.color))}),this.getAttribute("gradientTransform").hasValue()){var{document:Ee}=this,{MAX_VIRTUAL_PIXELS:Fe,viewPort:Xe}=Ee.screen,[dt]=Xe.viewPorts,k=new ri(Ee,null);k.attributes.x=new Ae(Ee,"x",-Fe/3),k.attributes.y=new Ae(Ee,"y",-Fe/3),k.attributes.width=new Ae(Ee,"width",Fe),k.attributes.height=new Ae(Ee,"height",Fe);var B=new Mr(Ee,null);B.attributes.transform=new Ae(Ee,"transform",this.getAttribute("gradientTransform").getValue()),B.children=[k];var P=new da(Ee,null);P.attributes.x=new Ae(Ee,"x",0),P.attributes.y=new Ae(Ee,"y",0),P.attributes.width=new Ae(Ee,"width",dt.width),P.attributes.height=new Ae(Ee,"height",dt.height),P.children=[B];var K=Ee.createCanvas(dt.width,dt.height),se=K.getContext("2d");return se.fillStyle=ce,P.render(se),se.createPattern(K,"no-repeat")}return ce}inheritStopContainer(Q){this.attributesToInherit.forEach(fe=>{!this.getAttribute(fe).hasValue()&&Q.getAttribute(fe).hasValue()&&this.getAttribute(fe,!0).setValue(Q.getAttribute(fe).getValue())})}addParentOpacity(Q,fe){if(Q.hasValue()){var ge=new Ae(this.document,"color",fe);return ge.addOpacity(Q).getColor()}return fe}}class Kr extends tn{constructor(Q,fe,ge){super(Q,fe,ge),this.type="linearGradient",this.attributesToInherit.push("x1","y1","x2","y2")}getGradient(Q,fe){var ge=this.getGradientUnits()==="objectBoundingBox",M=ge?fe.getBoundingBox(Q):null;if(ge&&!M)return null;!this.getAttribute("x1").hasValue()&&!this.getAttribute("y1").hasValue()&&!this.getAttribute("x2").hasValue()&&!this.getAttribute("y2").hasValue()&&(this.getAttribute("x1",!0).setValue(0),this.getAttribute("y1",!0).setValue(0),this.getAttribute("x2",!0).setValue(1),this.getAttribute("y2",!0).setValue(0));var W=ge?M.x+M.width*this.getAttribute("x1").getNumber():this.getAttribute("x1").getPixels("x"),ce=ge?M.y+M.height*this.getAttribute("y1").getNumber():this.getAttribute("y1").getPixels("y"),Ee=ge?M.x+M.width*this.getAttribute("x2").getNumber():this.getAttribute("x2").getPixels("x"),Fe=ge?M.y+M.height*this.getAttribute("y2").getNumber():this.getAttribute("y2").getPixels("y");return W===Ee&&ce===Fe?null:Q.createLinearGradient(W,ce,Ee,Fe)}}class Ma extends tn{constructor(Q,fe,ge){super(Q,fe,ge),this.type="radialGradient",this.attributesToInherit.push("cx","cy","r","fx","fy","fr")}getGradient(Q,fe){var ge=this.getGradientUnits()==="objectBoundingBox",M=fe.getBoundingBox(Q);if(ge&&!M)return null;this.getAttribute("cx").hasValue()||this.getAttribute("cx",!0).setValue("50%"),this.getAttribute("cy").hasValue()||this.getAttribute("cy",!0).setValue("50%"),this.getAttribute("r").hasValue()||this.getAttribute("r",!0).setValue("50%");var W=ge?M.x+M.width*this.getAttribute("cx").getNumber():this.getAttribute("cx").getPixels("x"),ce=ge?M.y+M.height*this.getAttribute("cy").getNumber():this.getAttribute("cy").getPixels("y"),Ee=W,Fe=ce;this.getAttribute("fx").hasValue()&&(Ee=ge?M.x+M.width*this.getAttribute("fx").getNumber():this.getAttribute("fx").getPixels("x")),this.getAttribute("fy").hasValue()&&(Fe=ge?M.y+M.height*this.getAttribute("fy").getNumber():this.getAttribute("fy").getPixels("y"));var Xe=ge?(M.width+M.height)/2*this.getAttribute("r").getNumber():this.getAttribute("r").getPixels(),dt=this.getAttribute("fr").getPixels();return Q.createRadialGradient(Ee,Fe,dt,W,ce,Xe)}}class ys extends He{constructor(Q,fe,ge){super(Q,fe,ge),this.type="stop";var M=Math.max(0,Math.min(1,this.getAttribute("offset").getNumber())),W=this.getStyle("stop-opacity"),ce=this.getStyle("stop-color",!0);ce.getString()===""&&ce.setValue("#000"),W.hasValue()&&(ce=ce.addOpacity(W)),this.offset=M,this.color=ce.getColor()}}class Va extends He{constructor(Q,fe,ge){super(Q,fe,ge),this.type="animate",this.duration=0,this.initialValue=null,this.initialUnits="",this.removed=!1,this.frozen=!1,Q.screen.animations.push(this),this.begin=this.getAttribute("begin").getMilliseconds(),this.maxDuration=this.begin+this.getAttribute("dur").getMilliseconds(),this.from=this.getAttribute("from"),this.to=this.getAttribute("to"),this.values=new Ae(Q,"values",null);var M=this.getAttribute("values");M.hasValue()&&this.values.setValue(M.getString().split(";"))}getProperty(){var Q=this.getAttribute("attributeType").getString(),fe=this.getAttribute("attributeName").getString();return Q==="CSS"?this.parent.getStyle(fe,!0):this.parent.getAttribute(fe,!0)}calcValue(){var{initialUnits:Q}=this,{progress:fe,from:ge,to:M}=this.getProgress(),W=ge.getNumber()+(M.getNumber()-ge.getNumber())*fe;return Q==="%"&&(W*=100),"".concat(W).concat(Q)}update(Q){var{parent:fe}=this,ge=this.getProperty();if(this.initialValue||(this.initialValue=ge.getString(),this.initialUnits=ge.getUnits()),this.duration>this.maxDuration){var M=this.getAttribute("fill").getString("remove");if(this.getAttribute("repeatCount").getString()==="indefinite"||this.getAttribute("repeatDur").getString()==="indefinite")this.duration=0;else if(M==="freeze"&&!this.frozen)this.frozen=!0,fe.animationFrozen=!0,fe.animationFrozenValue=ge.getString();else if(M==="remove"&&!this.removed)return this.removed=!0,ge.setValue(fe.animationFrozen?fe.animationFrozenValue:this.initialValue),!0;return!1}this.duration+=Q;var W=!1;if(this.begin<this.duration){var ce=this.calcValue(),Ee=this.getAttribute("type");if(Ee.hasValue()){var Fe=Ee.getString();ce="".concat(Fe,"(").concat(ce,")")}ge.setValue(ce),W=!0}return W}getProgress(){var{document:Q,values:fe}=this,ge={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(fe.hasValue()){var M=ge.progress*(fe.getValue().length-1),W=Math.floor(M),ce=Math.ceil(M);ge.from=new Ae(Q,"from",parseFloat(fe.getValue()[W])),ge.to=new Ae(Q,"to",parseFloat(fe.getValue()[ce])),ge.progress=(M-W)/(ce-W)}else ge.from=this.from,ge.to=this.to;return ge}}class Ai extends Va{constructor(){super(...arguments),this.type="animateColor"}calcValue(){var{progress:Q,from:fe,to:ge}=this.getProgress(),M=new A(fe.getColor()),W=new A(ge.getColor());if(M.ok&&W.ok){var ce=M.r+(W.r-M.r)*Q,Ee=M.g+(W.g-M.g)*Q,Fe=M.b+(W.b-M.b)*Q;return"rgb(".concat(Math.floor(ce),", ").concat(Math.floor(Ee),", ").concat(Math.floor(Fe),")")}return this.getAttribute("from").getColor()}}class Ca extends Va{constructor(){super(...arguments),this.type="animateTransform"}calcValue(){var{progress:Q,from:fe,to:ge}=this.getProgress(),M=E(fe.getString()),W=E(ge.getString()),ce=M.map((Ee,Fe)=>{var Xe=W[Fe];return Ee+(Xe-Ee)*Q}).join(" ");return ce}}class ko extends He{constructor(Q,fe,ge){super(Q,fe,ge),this.type="font",this.glyphs=Object.create(null),this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber();var{definitions:M}=Q,{children:W}=this;for(var ce of W)switch(ce.type){case"font-face":{this.fontFace=ce;var Ee=ce.getStyle("font-family");Ee.hasValue()&&(M[Ee.getString()]=this);break}case"missing-glyph":this.missingGlyph=ce;break;case"glyph":{var Fe=ce;Fe.arabicForm?(this.isRTL=!0,this.isArabic=!0,typeof this.glyphs[Fe.unicode]>"u"&&(this.glyphs[Fe.unicode]=Object.create(null)),this.glyphs[Fe.unicode][Fe.arabicForm]=Fe):this.glyphs[Fe.unicode]=Fe;break}}}render(){}}class Qs extends He{constructor(Q,fe,ge){super(Q,fe,ge),this.type="font-face",this.ascent=this.getAttribute("ascent").getNumber(),this.descent=this.getAttribute("descent").getNumber(),this.unitsPerEm=this.getAttribute("units-per-em").getNumber()}}class qo extends Vr{constructor(){super(...arguments),this.type="missing-glyph",this.horizAdvX=0}}class yl extends Cn{constructor(){super(...arguments),this.type="tref"}getText(){var Q=this.getHrefAttribute().getDefinition();if(Q){var fe=Q.children[0];if(fe)return fe.getText()}return""}}class Xo extends Cn{constructor(Q,fe,ge){super(Q,fe,ge),this.type="a";var{childNodes:M}=fe,W=M[0],ce=M.length>0&&Array.from(M).every(Ee=>Ee.nodeType===3);this.hasText=ce,this.text=ce?this.getTextFromNode(W):""}getText(){return this.text}renderChildren(Q){if(this.hasText){super.renderChildren(Q);var{document:fe,x:ge,y:M}=this,{mouse:W}=fe.screen,ce=new Ae(fe,"fontSize",Fr.parse(fe.ctx.font).fontSize);W.isWorking()&&W.checkBoundingBox(this,new Jr(ge,M-ce.getPixels("y"),ge+this.measureText(Q),M))}else if(this.children.length>0){var Ee=new Mr(this.document,null);Ee.children=this.children,Ee.parent=this,Ee.render(Q)}}onClick(){var{window:Q}=this.document;Q&&Q.open(this.getHrefAttribute().getString())}onMouseMove(){var Q=this.document.ctx;Q.canvas.style.cursor="pointer"}}function Is(Kt,Q){var fe=Object.keys(Kt);if(Object.getOwnPropertySymbols){var ge=Object.getOwnPropertySymbols(Kt);Q&&(ge=ge.filter(function(M){return Object.getOwnPropertyDescriptor(Kt,M).enumerable})),fe.push.apply(fe,ge)}return fe}function jo(Kt){for(var Q=1;Q<arguments.length;Q++){var fe=arguments[Q]!=null?arguments[Q]:{};Q%2?Is(Object(fe),!0).forEach(function(ge){(0,h.default)(Kt,ge,fe[ge])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Kt,Object.getOwnPropertyDescriptors(fe)):Is(Object(fe)).forEach(function(ge){Object.defineProperty(Kt,ge,Object.getOwnPropertyDescriptor(fe,ge))})}return Kt}class pa extends Cn{constructor(Q,fe,ge){super(Q,fe,ge),this.type="textPath",this.textWidth=0,this.textHeight=0,this.pathLength=-1,this.glyphInfo=null,this.letterSpacingCache=[],this.measuresCache=new Map([["",0]]);var M=this.getHrefAttribute().getDefinition();this.text=this.getTextFromNode(),this.dataArray=this.parsePathData(M)}getText(){return this.text}path(Q){var{dataArray:fe}=this;Q&&Q.beginPath(),fe.forEach(ge=>{var{type:M,points:W}=ge;switch(M){case Wr.LINE_TO:Q&&Q.lineTo(W[0],W[1]);break;case Wr.MOVE_TO:Q&&Q.moveTo(W[0],W[1]);break;case Wr.CURVE_TO:Q&&Q.bezierCurveTo(W[0],W[1],W[2],W[3],W[4],W[5]);break;case Wr.QUAD_TO:Q&&Q.quadraticCurveTo(W[0],W[1],W[2],W[3]);break;case Wr.ARC:{var[ce,Ee,Fe,Xe,dt,k,B,P]=W,K=Fe>Xe?Fe:Xe,se=Fe>Xe?1:Fe/Xe,de=Fe>Xe?Xe/Fe:1;Q&&(Q.translate(ce,Ee),Q.rotate(B),Q.scale(se,de),Q.arc(0,0,K,dt,dt+k,!!(1-P)),Q.scale(1/se,1/de),Q.rotate(-B),Q.translate(-ce,-Ee));break}case Wr.CLOSE_PATH:Q&&Q.closePath();break}})}renderChildren(Q){this.setTextData(Q),Q.save();var fe=this.parent.getStyle("text-decoration").getString(),ge=this.getFontSize(),{glyphInfo:M}=this,W=Q.fillStyle;fe==="underline"&&Q.beginPath(),M.forEach((ce,Ee)=>{var{p0:Fe,p1:Xe,rotation:dt,text:k}=ce;Q.save(),Q.translate(Fe.x,Fe.y),Q.rotate(dt),Q.fillStyle&&Q.fillText(k,0,0),Q.strokeStyle&&Q.strokeText(k,0,0),Q.restore(),fe==="underline"&&(Ee===0&&Q.moveTo(Fe.x,Fe.y+ge/8),Q.lineTo(Xe.x,Xe.y+ge/5))}),fe==="underline"&&(Q.lineWidth=ge/20,Q.strokeStyle=W,Q.stroke(),Q.closePath()),Q.restore()}getLetterSpacingAt(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.letterSpacingCache[Q]||0}findSegmentToFitChar(Q,fe,ge,M,W,ce,Ee,Fe,Xe){var dt=ce,k=this.measureText(Q,Fe);Fe===" "&&fe==="justify"&&ge<M&&(k+=(M-ge)/W),Xe>-1&&(dt+=this.getLetterSpacingAt(Xe));var B=this.textHeight/20,P=this.getEquidistantPointOnPath(dt,B,0),K=this.getEquidistantPointOnPath(dt+k,B,0),se={p0:P,p1:K},de=P&&K?Math.atan2(K.y-P.y,K.x-P.x):0;if(Ee){var Ie=Math.cos(Math.PI/2+de)*Ee,be=Math.cos(-de)*Ee;se.p0=jo(jo({},P),{},{x:P.x+Ie,y:P.y+be}),se.p1=jo(jo({},K),{},{x:K.x+Ie,y:K.y+be})}return dt+=k,{offset:dt,segment:se,rotation:de}}measureText(Q,fe){var{measuresCache:ge}=this,M=fe||this.getText();if(ge.has(M))return ge.get(M);var W=this.measureTargetText(Q,M);return ge.set(M,W),W}setTextData(Q){if(!this.glyphInfo){var fe=this.getText(),ge=fe.split(""),M=fe.split(" ").length-1,W=this.parent.getAttribute("dx").split().map(Re=>Re.getPixels("x")),ce=this.parent.getAttribute("dy").getPixels("y"),Ee=this.parent.getStyle("text-anchor").getString("start"),Fe=this.getStyle("letter-spacing"),Xe=this.parent.getStyle("letter-spacing"),dt=0;!Fe.hasValue()||Fe.getValue()==="inherit"?dt=Xe.getPixels():Fe.hasValue()&&Fe.getValue()!=="initial"&&Fe.getValue()!=="unset"&&(dt=Fe.getPixels());var k=[],B=fe.length;this.letterSpacingCache=k;for(var P=0;P<B;P++)k.push(typeof W[P]<"u"?W[P]:dt);var K=k.reduce((Re,ze,nt)=>nt===0?0:Re+ze||0,0),se=this.measureText(Q),de=Math.max(se+K,0);this.textWidth=se,this.textHeight=this.getFontSize(),this.glyphInfo=[];var Ie=this.getPathLength(),be=this.getStyle("startOffset").getNumber(0)*Ie,Ce=0;(Ee==="middle"||Ee==="center")&&(Ce=-de/2),(Ee==="end"||Ee==="right")&&(Ce=-de),Ce+=be,ge.forEach((Re,ze)=>{var{offset:nt,segment:ut,rotation:Oe}=this.findSegmentToFitChar(Q,Ee,de,Ie,M,Ce,ce,Re,ze);Ce=nt,!(!ut.p0||!ut.p1)&&this.glyphInfo.push({text:ge[ze],p0:ut.p0,p1:ut.p1,rotation:Oe})})}}parsePathData(Q){if(this.pathLength=-1,!Q)return[];var fe=[],{pathParser:ge}=Q;for(ge.reset();!ge.isEnd();){var{current:M}=ge,W=M?M.x:0,ce=M?M.y:0,Ee=ge.next(),Fe=Ee.type,Xe=[];switch(Ee.type){case Wr.MOVE_TO:this.pathM(ge,Xe);break;case Wr.LINE_TO:Fe=this.pathL(ge,Xe);break;case Wr.HORIZ_LINE_TO:Fe=this.pathH(ge,Xe);break;case Wr.VERT_LINE_TO:Fe=this.pathV(ge,Xe);break;case Wr.CURVE_TO:this.pathC(ge,Xe);break;case Wr.SMOOTH_CURVE_TO:Fe=this.pathS(ge,Xe);break;case Wr.QUAD_TO:this.pathQ(ge,Xe);break;case Wr.SMOOTH_QUAD_TO:Fe=this.pathT(ge,Xe);break;case Wr.ARC:Xe=this.pathA(ge);break;case Wr.CLOSE_PATH:Vr.pathZ(ge);break}Ee.type!==Wr.CLOSE_PATH?fe.push({type:Fe,points:Xe,start:{x:W,y:ce},pathLength:this.calcLength(W,ce,Fe,Xe)}):fe.push({type:Wr.CLOSE_PATH,points:[],pathLength:0})}return fe}pathM(Q,fe){var{x:ge,y:M}=Vr.pathM(Q).point;fe.push(ge,M)}pathL(Q,fe){var{x:ge,y:M}=Vr.pathL(Q).point;return fe.push(ge,M),Wr.LINE_TO}pathH(Q,fe){var{x:ge,y:M}=Vr.pathH(Q).point;return fe.push(ge,M),Wr.LINE_TO}pathV(Q,fe){var{x:ge,y:M}=Vr.pathV(Q).point;return fe.push(ge,M),Wr.LINE_TO}pathC(Q,fe){var{point:ge,controlPoint:M,currentPoint:W}=Vr.pathC(Q);fe.push(ge.x,ge.y,M.x,M.y,W.x,W.y)}pathS(Q,fe){var{point:ge,controlPoint:M,currentPoint:W}=Vr.pathS(Q);return fe.push(ge.x,ge.y,M.x,M.y,W.x,W.y),Wr.CURVE_TO}pathQ(Q,fe){var{controlPoint:ge,currentPoint:M}=Vr.pathQ(Q);fe.push(ge.x,ge.y,M.x,M.y)}pathT(Q,fe){var{controlPoint:ge,currentPoint:M}=Vr.pathT(Q);return fe.push(ge.x,ge.y,M.x,M.y),Wr.QUAD_TO}pathA(Q){var{rX:fe,rY:ge,sweepFlag:M,xAxisRotation:W,centp:ce,a1:Ee,ad:Fe}=Vr.pathA(Q);return M===0&&Fe>0&&(Fe-=2*Math.PI),M===1&&Fe<0&&(Fe+=2*Math.PI),[ce.x,ce.y,fe,ge,Ee,Fe,W,M]}calcLength(Q,fe,ge,M){var W=0,ce=null,Ee=null,Fe=0;switch(ge){case Wr.LINE_TO:return this.getLineLength(Q,fe,M[0],M[1]);case Wr.CURVE_TO:for(W=0,ce=this.getPointOnCubicBezier(0,Q,fe,M[0],M[1],M[2],M[3],M[4],M[5]),Fe=.01;Fe<=1;Fe+=.01)Ee=this.getPointOnCubicBezier(Fe,Q,fe,M[0],M[1],M[2],M[3],M[4],M[5]),W+=this.getLineLength(ce.x,ce.y,Ee.x,Ee.y),ce=Ee;return W;case Wr.QUAD_TO:for(W=0,ce=this.getPointOnQuadraticBezier(0,Q,fe,M[0],M[1],M[2],M[3]),Fe=.01;Fe<=1;Fe+=.01)Ee=this.getPointOnQuadraticBezier(Fe,Q,fe,M[0],M[1],M[2],M[3]),W+=this.getLineLength(ce.x,ce.y,Ee.x,Ee.y),ce=Ee;return W;case Wr.ARC:{W=0;var Xe=M[4],dt=M[5],k=M[4]+dt,B=Math.PI/180;if(Math.abs(Xe-k)<B&&(B=Math.abs(Xe-k)),ce=this.getPointOnEllipticalArc(M[0],M[1],M[2],M[3],Xe,0),dt<0)for(Fe=Xe-B;Fe>k;Fe-=B)Ee=this.getPointOnEllipticalArc(M[0],M[1],M[2],M[3],Fe,0),W+=this.getLineLength(ce.x,ce.y,Ee.x,Ee.y),ce=Ee;else for(Fe=Xe+B;Fe<k;Fe+=B)Ee=this.getPointOnEllipticalArc(M[0],M[1],M[2],M[3],Fe,0),W+=this.getLineLength(ce.x,ce.y,Ee.x,Ee.y),ce=Ee;return Ee=this.getPointOnEllipticalArc(M[0],M[1],M[2],M[3],k,0),W+=this.getLineLength(ce.x,ce.y,Ee.x,Ee.y),W}}return 0}getPointOnLine(Q,fe,ge,M,W){var ce=arguments.length>5&&arguments[5]!==void 0?arguments[5]:fe,Ee=arguments.length>6&&arguments[6]!==void 0?arguments[6]:ge,Fe=(W-ge)/(M-fe+ie),Xe=Math.sqrt(Q*Q/(1+Fe*Fe));M<fe&&(Xe*=-1);var dt=Fe*Xe,k=null;if(M===fe)k={x:ce,y:Ee+dt};else if((Ee-ge)/(ce-fe+ie)===Fe)k={x:ce+Xe,y:Ee+dt};else{var B=0,P=0,K=this.getLineLength(fe,ge,M,W);if(K<ie)return null;var se=(ce-fe)*(M-fe)+(Ee-ge)*(W-ge);se/=K*K,B=fe+se*(M-fe),P=ge+se*(W-ge);var de=this.getLineLength(ce,Ee,B,P),Ie=Math.sqrt(Q*Q-de*de);Xe=Math.sqrt(Ie*Ie/(1+Fe*Fe)),M<fe&&(Xe*=-1),dt=Fe*Xe,k={x:B+Xe,y:P+dt}}return k}getPointOnPath(Q){var fe=this.getPathLength(),ge=0,M=null;if(Q<-5e-5||Q-5e-5>fe)return null;var{dataArray:W}=this;for(var ce of W){if(ce&&(ce.pathLength<5e-5||ge+ce.pathLength+5e-5<Q)){ge+=ce.pathLength;continue}var Ee=Q-ge,Fe=0;switch(ce.type){case Wr.LINE_TO:M=this.getPointOnLine(Ee,ce.start.x,ce.start.y,ce.points[0],ce.points[1],ce.start.x,ce.start.y);break;case Wr.ARC:{var Xe=ce.points[4],dt=ce.points[5],k=ce.points[4]+dt;if(Fe=Xe+Ee/ce.pathLength*dt,dt<0&&Fe<k||dt>=0&&Fe>k)break;M=this.getPointOnEllipticalArc(ce.points[0],ce.points[1],ce.points[2],ce.points[3],Fe,ce.points[6]);break}case Wr.CURVE_TO:Fe=Ee/ce.pathLength,Fe>1&&(Fe=1),M=this.getPointOnCubicBezier(Fe,ce.start.x,ce.start.y,ce.points[0],ce.points[1],ce.points[2],ce.points[3],ce.points[4],ce.points[5]);break;case Wr.QUAD_TO:Fe=Ee/ce.pathLength,Fe>1&&(Fe=1),M=this.getPointOnQuadraticBezier(Fe,ce.start.x,ce.start.y,ce.points[0],ce.points[1],ce.points[2],ce.points[3]);break}if(M)return M;break}return null}getLineLength(Q,fe,ge,M){return Math.sqrt((ge-Q)*(ge-Q)+(M-fe)*(M-fe))}getPathLength(){return this.pathLength===-1&&(this.pathLength=this.dataArray.reduce((Q,fe)=>fe.pathLength>0?Q+fe.pathLength:Q,0)),this.pathLength}getPointOnCubicBezier(Q,fe,ge,M,W,ce,Ee,Fe,Xe){var dt=Fe*te(Q)+ce*ye(Q)+M*pe(Q)+fe*je(Q),k=Xe*te(Q)+Ee*ye(Q)+W*pe(Q)+ge*je(Q);return{x:dt,y:k}}getPointOnQuadraticBezier(Q,fe,ge,M,W,ce,Ee){var Fe=ce*re(Q)+M*he(Q)+fe*X(Q),Xe=Ee*re(Q)+W*he(Q)+ge*X(Q);return{x:Fe,y:Xe}}getPointOnEllipticalArc(Q,fe,ge,M,W,ce){var Ee=Math.cos(ce),Fe=Math.sin(ce),Xe={x:ge*Math.cos(W),y:M*Math.sin(W)};return{x:Q+(Xe.x*Ee-Xe.y*Fe),y:fe+(Xe.x*Fe+Xe.y*Ee)}}buildEquidistantCache(Q,fe){var ge=this.getPathLength(),M=fe||.25,W=Q||ge/100;if(!this.equidistantCache||this.equidistantCache.step!==W||this.equidistantCache.precision!==M){this.equidistantCache={step:W,precision:M,points:[]};for(var ce=0,Ee=0;Ee<=ge;Ee+=M){var Fe=this.getPointOnPath(Ee),Xe=this.getPointOnPath(Ee+M);!Fe||!Xe||(ce+=this.getLineLength(Fe.x,Fe.y,Xe.x,Xe.y),ce>=W&&(this.equidistantCache.points.push({x:Fe.x,y:Fe.y,distance:Ee}),ce-=W))}}}getEquidistantPointOnPath(Q,fe,ge){if(this.buildEquidistantCache(fe,ge),Q<0||Q-this.getPathLength()>5e-5)return null;var M=Math.round(Q/this.getPathLength()*(this.equidistantCache.points.length-1));return this.equidistantCache.points[M]||null}}var rc=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*)$/i;class os extends Ln{constructor(Q,fe,ge){super(Q,fe,ge),this.type="image",this.loaded=!1;var M=this.getHrefAttribute().getString();if(M){var W=M.endsWith(".svg")||/^\s*data:image\/svg\+xml/i.test(M);Q.images.push(this),W?this.loadSvg(M):this.loadImage(M),this.isSvg=W}}loadImage(Q){var fe=this;return(0,u.default)(function*(){try{var ge=yield fe.document.createImage(Q);fe.image=ge}catch(M){console.error('Error while loading image "'.concat(Q,'":'),M)}fe.loaded=!0})()}loadSvg(Q){var fe=this;return(0,u.default)(function*(){var ge=rc.exec(Q);if(ge){var M=ge[5];ge[4]==="base64"?fe.image=atob(M):fe.image=decodeURIComponent(M)}else try{var W=yield fe.document.fetch(Q),ce=yield W.text();fe.image=ce}catch(Ee){console.error('Error while loading image "'.concat(Q,'":'),Ee)}fe.loaded=!0})()}renderChildren(Q){var{document:fe,image:ge,loaded:M}=this,W=this.getAttribute("x").getPixels("x"),ce=this.getAttribute("y").getPixels("y"),Ee=this.getStyle("width").getPixels("x"),Fe=this.getStyle("height").getPixels("y");if(!(!M||!ge||!Ee||!Fe)){if(Q.save(),Q.translate(W,ce),this.isSvg){var Xe=fe.canvg.forkString(Q,this.image,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:0,offsetY:0,scaleWidth:Ee,scaleHeight:Fe});Xe.document.documentElement.parent=this,Xe.render()}else{var dt=this.image;fe.setViewBox({ctx:Q,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:Ee,desiredWidth:dt.width,height:Fe,desiredHeight:dt.height}),this.loaded&&(typeof dt.complete>"u"||dt.complete)&&Q.drawImage(dt,0,0)}Q.restore()}}getBoundingBox(){var Q=this.getAttribute("x").getPixels("x"),fe=this.getAttribute("y").getPixels("y"),ge=this.getStyle("width").getPixels("x"),M=this.getStyle("height").getPixels("y");return new Jr(Q,fe,Q+ge,fe+M)}}class _o extends Ln{constructor(){super(...arguments),this.type="symbol"}render(Q){}}class Ji{constructor(Q){this.document=Q,this.loaded=!1,Q.fonts.push(this)}load(Q,fe){var ge=this;return(0,u.default)(function*(){try{var{document:M}=ge,W=yield M.canvg.parser.load(fe),ce=W.getElementsByTagName("font");Array.from(ce).forEach(Ee=>{var Fe=M.createElement(Ee);M.definitions[Q]=Fe})}catch(Ee){console.error('Error while loading font "'.concat(fe,'":'),Ee)}ge.loaded=!0})()}}class Oo extends He{constructor(Q,fe,ge){super(Q,fe,ge),this.type="style";var M=b(Array.from(fe.childNodes).map(ce=>ce.textContent).join("").replace(/(\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"").replace(/@import.*;/g,"")),W=M.split("}");W.forEach(ce=>{var Ee=ce.trim();if(Ee){var Fe=Ee.split("{"),Xe=Fe[0].split(","),dt=Fe[1].split(";");Xe.forEach(k=>{var B=k.trim();if(B){var P=Q.styles[B]||{};if(dt.forEach(de=>{var Ie=de.indexOf(":"),be=de.substr(0,Ie).trim(),Ce=de.substr(Ie+1,de.length-Ie).trim();be&&Ce&&(P[be]=new Ae(Q,be,Ce))}),Q.styles[B]=P,Q.stylesSpecificity[B]=q(B),B==="@font-face"){var K=P["font-family"].getString().replace(/"|'/g,""),se=P.src.getString().split(",");se.forEach(de=>{if(de.indexOf('format("svg")')>0){var Ie=J(de);Ie&&new Ji(Q).load(K,Ie)}})}}})}})}}Oo.parseExternalUrl=J;class ol extends Ln{constructor(){super(...arguments),this.type="use"}setContext(Q){super.setContext(Q);var fe=this.getAttribute("x"),ge=this.getAttribute("y");fe.hasValue()&&Q.translate(fe.getPixels("x"),0),ge.hasValue()&&Q.translate(0,ge.getPixels("y"))}path(Q){var{element:fe}=this;fe&&fe.path(Q)}renderChildren(Q){var{document:fe,element:ge}=this;if(ge){var M=ge;if(ge.type==="symbol"&&(M=new da(fe,null),M.attributes.viewBox=new Ae(fe,"viewBox",ge.getAttribute("viewBox").getString()),M.attributes.preserveAspectRatio=new Ae(fe,"preserveAspectRatio",ge.getAttribute("preserveAspectRatio").getString()),M.attributes.overflow=new Ae(fe,"overflow",ge.getAttribute("overflow").getString()),M.children=ge.children,ge.styles.opacity=new Ae(fe,"opacity",this.calculateOpacity())),M.type==="svg"){var W=this.getStyle("width",!1,!0),ce=this.getStyle("height",!1,!0);W.hasValue()&&(M.attributes.width=new Ae(fe,"width",W.getString())),ce.hasValue()&&(M.attributes.height=new Ae(fe,"height",ce.getString()))}var Ee=M.parent;M.parent=this,M.render(Q),M.parent=Ee}}getBoundingBox(Q){var{element:fe}=this;return fe?fe.getBoundingBox(Q):null}elementTransform(){var{document:Q,element:fe}=this;return Qr.fromElement(Q,fe)}get element(){return this.cachedElement||(this.cachedElement=this.getHrefAttribute().getDefinition()),this.cachedElement}}function Fo(Kt,Q,fe,ge,M,W){return Kt[fe*ge*4+Q*4+W]}function zi(Kt,Q,fe,ge,M,W,ce){Kt[fe*ge*4+Q*4+W]=ce}function Ts(Kt,Q,fe){var ge=Kt[Q];return ge*fe}function ls(Kt,Q,fe,ge){return Q+Math.cos(Kt)*fe+Math.sin(Kt)*ge}class jl extends He{constructor(Q,fe,ge){super(Q,fe,ge),this.type="feColorMatrix";var M=E(this.getAttribute("values").getString());switch(this.getAttribute("type").getString("matrix")){case"saturate":{var W=M[0];M=[.213+.787*W,.715-.715*W,.072-.072*W,0,0,.213-.213*W,.715+.285*W,.072-.072*W,0,0,.213-.213*W,.715-.715*W,.072+.928*W,0,0,0,0,0,1,0,0,0,0,0,1];break}case"hueRotate":{var ce=M[0]*Math.PI/180;M=[ls(ce,.213,.787,-.213),ls(ce,.715,-.715,-.715),ls(ce,.072,-.072,.928),0,0,ls(ce,.213,-.213,.143),ls(ce,.715,.285,.14),ls(ce,.072,-.072,-.283),0,0,ls(ce,.213,-.213,-.787),ls(ce,.715,-.715,.715),ls(ce,.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break}case"luminanceToAlpha":M=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1];break}this.matrix=M,this.includeOpacity=this.getAttribute("includeOpacity").hasValue()}apply(Q,fe,ge,M,W){for(var{includeOpacity:ce,matrix:Ee}=this,Fe=Q.getImageData(0,0,M,W),Xe=0;Xe<W;Xe++)for(var dt=0;dt<M;dt++){var k=Fo(Fe.data,dt,Xe,M,W,0),B=Fo(Fe.data,dt,Xe,M,W,1),P=Fo(Fe.data,dt,Xe,M,W,2),K=Fo(Fe.data,dt,Xe,M,W,3),se=Ts(Ee,0,k)+Ts(Ee,1,B)+Ts(Ee,2,P)+Ts(Ee,3,K)+Ts(Ee,4,1),de=Ts(Ee,5,k)+Ts(Ee,6,B)+Ts(Ee,7,P)+Ts(Ee,8,K)+Ts(Ee,9,1),Ie=Ts(Ee,10,k)+Ts(Ee,11,B)+Ts(Ee,12,P)+Ts(Ee,13,K)+Ts(Ee,14,1),be=Ts(Ee,15,k)+Ts(Ee,16,B)+Ts(Ee,17,P)+Ts(Ee,18,K)+Ts(Ee,19,1);ce&&(se=0,de=0,Ie=0,be*=K/255),zi(Fe.data,dt,Xe,M,W,0,se),zi(Fe.data,dt,Xe,M,W,1,de),zi(Fe.data,dt,Xe,M,W,2,Ie),zi(Fe.data,dt,Xe,M,W,3,be)}Q.clearRect(0,0,M,W),Q.putImageData(Fe,0,0)}}class Po extends He{constructor(){super(...arguments),this.type="mask"}apply(Q,fe){var{document:ge}=this,M=this.getAttribute("x").getPixels("x"),W=this.getAttribute("y").getPixels("y"),ce=this.getStyle("width").getPixels("x"),Ee=this.getStyle("height").getPixels("y");if(!ce&&!Ee){var Fe=new Jr;this.children.forEach(K=>{Fe.addBoundingBox(K.getBoundingBox(Q))}),M=Math.floor(Fe.x1),W=Math.floor(Fe.y1),ce=Math.floor(Fe.width),Ee=Math.floor(Fe.height)}var Xe=this.removeStyles(fe,Po.ignoreStyles),dt=ge.createCanvas(M+ce,W+Ee),k=dt.getContext("2d");ge.screen.setDefaults(k),this.renderChildren(k),new jl(ge,{nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]}).apply(k,0,0,M+ce,W+Ee);var B=ge.createCanvas(M+ce,W+Ee),P=B.getContext("2d");ge.screen.setDefaults(P),fe.render(P),P.globalCompositeOperation="destination-in",P.fillStyle=k.createPattern(dt,"no-repeat"),P.fillRect(0,0,M+ce,W+Ee),Q.fillStyle=P.createPattern(B,"no-repeat"),Q.fillRect(0,0,M+ce,W+Ee),this.restoreStyles(fe,Xe)}render(Q){}}Po.ignoreStyles=["mask","transform","clip-path"];var $c=()=>{};class pi extends He{constructor(){super(...arguments),this.type="clipPath"}apply(Q){var{document:fe}=this,ge=Reflect.getPrototypeOf(Q),{beginPath:M,closePath:W}=Q;ge&&(ge.beginPath=$c,ge.closePath=$c),Reflect.apply(M,Q,[]),this.children.forEach(ce=>{if(!(typeof ce.path>"u")){var Ee=typeof ce.elementTransform<"u"?ce.elementTransform():null;Ee||(Ee=Qr.fromElement(fe,ce)),Ee&&Ee.apply(Q),ce.path(Q),ge&&(ge.closePath=W),Ee&&Ee.unapply(Q)}}),Reflect.apply(W,Q,[]),Q.clip(),ge&&(ge.beginPath=M,ge.closePath=W)}render(Q){}}class Gn extends He{constructor(){super(...arguments),this.type="filter"}apply(Q,fe){var{document:ge,children:M}=this,W=fe.getBoundingBox(Q);if(W){var ce=0,Ee=0;M.forEach(Ie=>{var be=Ie.extraFilterDistance||0;ce=Math.max(ce,be),Ee=Math.max(Ee,be)});var Fe=Math.floor(W.width),Xe=Math.floor(W.height),dt=Fe+2*ce,k=Xe+2*Ee;if(!(dt<1||k<1)){var B=Math.floor(W.x),P=Math.floor(W.y),K=this.removeStyles(fe,Gn.ignoreStyles),se=ge.createCanvas(dt,k),de=se.getContext("2d");ge.screen.setDefaults(de),de.translate(-B+ce,-P+Ee),fe.render(de),M.forEach(Ie=>{typeof Ie.apply=="function"&&Ie.apply(de,0,0,dt,k)}),Q.drawImage(se,0,0,dt,k,B-ce,P-Ee,dt,k),this.restoreStyles(fe,K)}}}render(Q){}}Gn.ignoreStyles=["filter","transform","clip-path"];class Gs extends He{constructor(Q,fe,ge){super(Q,fe,ge),this.type="feDropShadow",this.addStylesFromStyleDefinition()}apply(Q,fe,ge,M,W){}}class Ci extends He{constructor(){super(...arguments),this.type="feMorphology"}apply(Q,fe,ge,M,W){}}class Ni extends He{constructor(){super(...arguments),this.type="feComposite"}apply(Q,fe,ge,M,W){}}class Do extends He{constructor(Q,fe,ge){super(Q,fe,ge),this.type="feGaussianBlur",this.blurRadius=Math.floor(this.getAttribute("stdDeviation").getNumber()),this.extraFilterDistance=this.blurRadius}apply(Q,fe,ge,M,W){var{document:ce,blurRadius:Ee}=this,Fe=ce.window?ce.window.document.body:null,Xe=Q.canvas;Xe.id=ce.getUniqueId(),Fe&&(Xe.style.display="none",Fe.appendChild(Xe)),(0,m.canvasRGBA)(Xe,fe,ge,M,W,Ee),Fe&&Fe.removeChild(Xe)}}class Ws extends He{constructor(){super(...arguments),this.type="title"}}class uo extends He{constructor(){super(...arguments),this.type="desc"}}var ni={svg:da,rect:ri,circle:Ks,ellipse:Hs,line:oa,polyline:rn,polygon:ds,path:Vr,pattern:wi,marker:wt,defs:Pr,linearGradient:Kr,radialGradient:Ma,stop:ys,animate:Va,animateColor:Ai,animateTransform:Ca,font:ko,"font-face":Qs,"missing-glyph":qo,glyph:Ur,text:Cn,tspan:un,tref:yl,a:Xo,textPath:pa,image:os,g:Mr,symbol:_o,style:Oo,use:ol,mask:Po,clipPath:pi,filter:Gn,feDropShadow:Gs,feMorphology:Ci,feComposite:Ni,feColorMatrix:jl,feGaussianBlur:Do,title:Ws,desc:uo};function Rs(Kt,Q){var fe=Object.keys(Kt);if(Object.getOwnPropertySymbols){var ge=Object.getOwnPropertySymbols(Kt);Q&&(ge=ge.filter(function(M){return Object.getOwnPropertyDescriptor(Kt,M).enumerable})),fe.push.apply(fe,ge)}return fe}function bo(Kt){for(var Q=1;Q<arguments.length;Q++){var fe=arguments[Q]!=null?arguments[Q]:{};Q%2?Rs(Object(fe),!0).forEach(function(ge){(0,h.default)(Kt,ge,fe[ge])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Kt,Object.getOwnPropertyDescriptors(fe)):Rs(Object(fe)).forEach(function(ge){Object.defineProperty(Kt,ge,Object.getOwnPropertyDescriptor(fe,ge))})}return Kt}function Mo(Kt,Q){var fe=document.createElement("canvas");return fe.width=Kt,fe.height=Q,fe}function va(Kt){return qs.apply(this,arguments)}function qs(){return qs=(0,u.default)(function*(Kt){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,fe=document.createElement("img");return Q&&(fe.crossOrigin="Anonymous"),new Promise((ge,M)=>{fe.onload=()=>{ge(fe)},fe.onerror=(W,ce,Ee,Fe,Xe)=>{M(Xe)},fe.src=Kt})}),qs.apply(this,arguments)}class Si{constructor(Q){var{rootEmSize:fe=12,emSize:ge=12,createCanvas:M=Si.createCanvas,createImage:W=Si.createImage,anonymousCrossOrigin:ce}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.canvg=Q,this.definitions=Object.create(null),this.styles=Object.create(null),this.stylesSpecificity=Object.create(null),this.images=[],this.fonts=[],this.emSizeStack=[],this.uniqueId=0,this.screen=Q.screen,this.rootEmSize=fe,this.emSize=ge,this.createCanvas=M,this.createImage=this.bindCreateImage(W,ce),this.screen.wait(this.isImagesLoaded.bind(this)),this.screen.wait(this.isFontsLoaded.bind(this))}bindCreateImage(Q,fe){return typeof fe=="boolean"?(ge,M)=>Q(ge,typeof M=="boolean"?M:fe):Q}get window(){return this.screen.window}get fetch(){return this.screen.fetch}get ctx(){return this.screen.ctx}get emSize(){var{emSizeStack:Q}=this;return Q[Q.length-1]}set emSize(Q){var{emSizeStack:fe}=this;fe.push(Q)}popEmSize(){var{emSizeStack:Q}=this;Q.pop()}getUniqueId(){return"canvg".concat(++this.uniqueId)}isImagesLoaded(){return this.images.every(Q=>Q.loaded)}isFontsLoaded(){return this.fonts.every(Q=>Q.loaded)}createDocumentElement(Q){var fe=this.createElement(Q.documentElement);return fe.root=!0,fe.addStylesFromStyleDefinition(),this.documentElement=fe,fe}createElement(Q){var fe=Q.nodeName.replace(/^[^:]+:/,""),ge=Si.elementTypes[fe];return typeof ge<"u"?new ge(this,Q):new Rt(this,Q)}createTextNode(Q){return new Dn(this,Q)}setViewBox(Q){this.screen.setViewBox(bo({document:this},Q))}}Si.createCanvas=Mo,Si.createImage=va,Si.elementTypes=ni;function Zi(Kt,Q){var fe=Object.keys(Kt);if(Object.getOwnPropertySymbols){var ge=Object.getOwnPropertySymbols(Kt);Q&&(ge=ge.filter(function(M){return Object.getOwnPropertyDescriptor(Kt,M).enumerable})),fe.push.apply(fe,ge)}return fe}function Ri(Kt){for(var Q=1;Q<arguments.length;Q++){var fe=arguments[Q]!=null?arguments[Q]:{};Q%2?Zi(Object(fe),!0).forEach(function(ge){(0,h.default)(Kt,ge,fe[ge])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Kt,Object.getOwnPropertyDescriptors(fe)):Zi(Object(fe)).forEach(function(ge){Object.defineProperty(Kt,ge,Object.getOwnPropertyDescriptor(fe,ge))})}return Kt}class Ro{constructor(Q,fe){var ge=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.parser=new Le(ge),this.screen=new _e(Q,ge),this.options=ge;var M=new Si(this,ge),W=M.createDocumentElement(fe);this.document=M,this.documentElement=W}static from(Q,fe){var ge=arguments;return(0,u.default)(function*(){var M=ge.length>2&&ge[2]!==void 0?ge[2]:{},W=new Le(M),ce=yield W.parse(fe);return new Ro(Q,ce,M)})()}static fromString(Q,fe){var ge=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},M=new Le(ge),W=M.parseFromString(fe);return new Ro(Q,W,ge)}fork(Q,fe){var ge=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Ro.from(Q,fe,Ri(Ri({},this.options),ge))}forkString(Q,fe){var ge=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Ro.fromString(Q,fe,Ri(Ri({},this.options),ge))}ready(){return this.screen.ready()}isReady(){return this.screen.isReady()}render(){var Q=arguments,fe=this;return(0,u.default)(function*(){var ge=Q.length>0&&Q[0]!==void 0?Q[0]:{};fe.start(Ri({enableRedraw:!0,ignoreAnimation:!0,ignoreMouse:!0},ge)),yield fe.ready(),fe.stop()})()}start(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{documentElement:fe,screen:ge,options:M}=this;ge.start(fe,Ri(Ri({enableRedraw:!0},M),Q))}stop(){this.screen.stop()}resize(Q){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Q,ge=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.documentElement.resize(Q,fe,ge)}}}),"./node_modules/core-js/internals/a-callable.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/is-callable.js"),h=l("./node_modules/core-js/internals/try-to-string.js"),f=TypeError;o.exports=function(A){if(u(A))return A;throw new f(h(A)+" is not a function")}}),"./node_modules/core-js/internals/a-constructor.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/is-constructor.js"),h=l("./node_modules/core-js/internals/try-to-string.js"),f=TypeError;o.exports=function(A){if(u(A))return A;throw new f(h(A)+" is not a constructor")}}),"./node_modules/core-js/internals/a-possible-prototype.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/is-possible-prototype.js"),h=String,f=TypeError;o.exports=function(A){if(u(A))return A;throw new f("Can't set "+h(A)+" as a prototype")}}),"./node_modules/core-js/internals/a-set.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/set-helpers.js").has;o.exports=function(h){return u(h),h}}),"./node_modules/core-js/internals/add-to-unscopables.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/well-known-symbol.js"),h=l("./node_modules/core-js/internals/object-create.js"),f=l("./node_modules/core-js/internals/object-define-property.js").f,A=u("unscopables"),g=Array.prototype;g[A]===void 0&&f(g,A,{configurable:!0,value:h(null)}),o.exports=function(m){g[A][m]=!0}}),"./node_modules/core-js/internals/advance-string-index.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/string-multibyte.js").charAt;o.exports=function(h,f,A){return f+(A?u(h,f).length:1)}}),"./node_modules/core-js/internals/an-instance.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/object-is-prototype-of.js"),h=TypeError;o.exports=function(f,A){if(u(A,f))return f;throw new h("Incorrect invocation")}}),"./node_modules/core-js/internals/an-object.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/is-object.js"),h=String,f=TypeError;o.exports=function(A){if(u(A))return A;throw new f(h(A)+" is not an object")}}),"./node_modules/core-js/internals/array-buffer-non-extensible.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/fails.js");o.exports=u(function(){if(typeof ArrayBuffer=="function"){var h=new ArrayBuffer(8);Object.isExtensible(h)&&Object.defineProperty(h,"a",{value:8})}})}),"./node_modules/core-js/internals/array-for-each.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/array-iteration.js").forEach,h=l("./node_modules/core-js/internals/array-method-is-strict.js"),f=h("forEach");o.exports=f?[].forEach:function(g){return u(this,g,arguments.length>1?arguments[1]:void 0)}}),"./node_modules/core-js/internals/array-from.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-bind-context.js"),h=l("./node_modules/core-js/internals/function-call.js"),f=l("./node_modules/core-js/internals/to-object.js"),A=l("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),g=l("./node_modules/core-js/internals/is-array-iterator-method.js"),m=l("./node_modules/core-js/internals/is-constructor.js"),x=l("./node_modules/core-js/internals/length-of-array-like.js"),y=l("./node_modules/core-js/internals/create-property.js"),j=l("./node_modules/core-js/internals/get-iterator.js"),b=l("./node_modules/core-js/internals/get-iterator-method.js"),S=Array;o.exports=function(E){var I=f(E),L=m(this),J=arguments.length,ae=J>1?arguments[1]:void 0,G=ae!==void 0;G&&(ae=u(ae,J>2?arguments[2]:void 0));var le=b(I),V=0,me,$,ee,we,R,q;if(le&&!(this===S&&g(le)))for($=L?new this:[],we=j(I,le),R=we.next;!(ee=h(R,we)).done;V++)q=G?A(we,ae,[ee.value,V],!0):ee.value,y($,V,q);else for(me=x(I),$=L?new this(me):S(me);me>V;V++)q=G?ae(I[V],V):I[V],y($,V,q);return $.length=V,$}}),"./node_modules/core-js/internals/array-includes.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/to-indexed-object.js"),h=l("./node_modules/core-js/internals/to-absolute-index.js"),f=l("./node_modules/core-js/internals/length-of-array-like.js"),A=function(g){return function(m,x,y){var j=u(m),b=f(j);if(b===0)return!g&&-1;var S=h(y,b),w;if(g&&x!==x){for(;b>S;)if(w=j[S++],w!==w)return!0}else for(;b>S;S++)if((g||S in j)&&j[S]===x)return g||S||0;return!g&&-1}};o.exports={includes:A(!0),indexOf:A(!1)}}),"./node_modules/core-js/internals/array-iteration.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-bind-context.js"),h=l("./node_modules/core-js/internals/function-uncurry-this.js"),f=l("./node_modules/core-js/internals/indexed-object.js"),A=l("./node_modules/core-js/internals/to-object.js"),g=l("./node_modules/core-js/internals/length-of-array-like.js"),m=l("./node_modules/core-js/internals/array-species-create.js"),x=h([].push),y=function(j){var b=j===1,S=j===2,w=j===3,E=j===4,I=j===6,L=j===7,J=j===5||I;return function(ae,G,le,V){for(var me=A(ae),$=f(me),ee=g($),we=u(G,le),R=0,q=V||m,ie=b?q(ae,ee):S||L?q(ae,0):void 0,Z,D;ee>R;R++)if((J||R in $)&&(Z=$[R],D=we(Z,R,me),j))if(b)ie[R]=D;else if(D)switch(j){case 3:return!0;case 5:return Z;case 6:return R;case 2:x(ie,Z)}else switch(j){case 4:return!1;case 7:x(ie,Z)}return I?-1:w||E?E:ie}};o.exports={forEach:y(0),map:y(1),filter:y(2),some:y(3),every:y(4),find:y(5),findIndex:y(6),filterReject:y(7)}}),"./node_modules/core-js/internals/array-method-has-species-support.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/fails.js"),h=l("./node_modules/core-js/internals/well-known-symbol.js"),f=l("./node_modules/core-js/internals/environment-v8-version.js"),A=h("species");o.exports=function(g){return f>=51||!u(function(){var m=[],x=m.constructor={};return x[A]=function(){return{foo:1}},m[g](Boolean).foo!==1})}}),"./node_modules/core-js/internals/array-method-is-strict.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/fails.js");o.exports=function(h,f){var A=[][h];return!!A&&u(function(){A.call(null,f||function(){return 1},1)})}}),"./node_modules/core-js/internals/array-reduce.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/a-callable.js"),h=l("./node_modules/core-js/internals/to-object.js"),f=l("./node_modules/core-js/internals/indexed-object.js"),A=l("./node_modules/core-js/internals/length-of-array-like.js"),g=TypeError,m="Reduce of empty array with no initial value",x=function(y){return function(j,b,S,w){var E=h(j),I=f(E),L=A(E);if(u(b),L===0&&S<2)throw new g(m);var J=y?L-1:0,ae=y?-1:1;if(S<2)for(;;){if(J in I){w=I[J],J+=ae;break}if(J+=ae,y?J<0:L<=J)throw new g(m)}for(;y?J>=0:L>J;J+=ae)J in I&&(w=b(w,I[J],J,E));return w}};o.exports={left:x(!1),right:x(!0)}}),"./node_modules/core-js/internals/array-slice.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-uncurry-this.js");o.exports=u([].slice)}),"./node_modules/core-js/internals/array-species-constructor.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/is-array.js"),h=l("./node_modules/core-js/internals/is-constructor.js"),f=l("./node_modules/core-js/internals/is-object.js"),A=l("./node_modules/core-js/internals/well-known-symbol.js"),g=A("species"),m=Array;o.exports=function(x){var y;return u(x)&&(y=x.constructor,h(y)&&(y===m||u(y.prototype))?y=void 0:f(y)&&(y=y[g],y===null&&(y=void 0))),y===void 0?m:y}}),"./node_modules/core-js/internals/array-species-create.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/array-species-constructor.js");o.exports=function(h,f){return new(u(h))(f===0?0:f)}}),"./node_modules/core-js/internals/call-with-safe-iteration-closing.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/an-object.js"),h=l("./node_modules/core-js/internals/iterator-close.js");o.exports=function(f,A,g,m){try{return m?A(u(g)[0],g[1]):A(g)}catch(x){h(f,"throw",x)}}}),"./node_modules/core-js/internals/check-correctness-of-iteration.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/well-known-symbol.js"),h=u("iterator"),f=!1;try{var A=0,g={next:function(){return{done:!!A++}},return:function(){f=!0}};g[h]=function(){return this},Array.from(g,function(){throw 2})}catch{}o.exports=function(m,x){try{if(!x&&!f)return!1}catch{return!1}var y=!1;try{var j={};j[h]=function(){return{next:function(){return{done:y=!0}}}},m(j)}catch{}return y}}),"./node_modules/core-js/internals/classof-raw.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-uncurry-this.js"),h=u({}.toString),f=u("".slice);o.exports=function(A){return f(h(A),8,-1)}}),"./node_modules/core-js/internals/classof.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/to-string-tag-support.js"),h=l("./node_modules/core-js/internals/is-callable.js"),f=l("./node_modules/core-js/internals/classof-raw.js"),A=l("./node_modules/core-js/internals/well-known-symbol.js"),g=A("toStringTag"),m=Object,x=f((function(){return arguments})())==="Arguments",y=function(j,b){try{return j[b]}catch{}};o.exports=u?f:function(j){var b,S,w;return j===void 0?"Undefined":j===null?"Null":typeof(S=y(b=m(j),g))=="string"?S:x?f(b):(w=f(b))==="Object"&&h(b.callee)?"Arguments":w}}),"./node_modules/core-js/internals/collection-strong.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/object-create.js"),h=l("./node_modules/core-js/internals/define-built-in-accessor.js"),f=l("./node_modules/core-js/internals/define-built-ins.js"),A=l("./node_modules/core-js/internals/function-bind-context.js"),g=l("./node_modules/core-js/internals/an-instance.js"),m=l("./node_modules/core-js/internals/is-null-or-undefined.js"),x=l("./node_modules/core-js/internals/iterate.js"),y=l("./node_modules/core-js/internals/iterator-define.js"),j=l("./node_modules/core-js/internals/create-iter-result-object.js"),b=l("./node_modules/core-js/internals/set-species.js"),S=l("./node_modules/core-js/internals/descriptors.js"),w=l("./node_modules/core-js/internals/internal-metadata.js").fastKey,E=l("./node_modules/core-js/internals/internal-state.js"),I=E.set,L=E.getterFor;o.exports={getConstructor:function(J,ae,G,le){var V=J(function(R,q){g(R,me),I(R,{type:ae,index:u(null),first:null,last:null,size:0}),S||(R.size=0),m(q)||x(q,R[le],{that:R,AS_ENTRIES:G})}),me=V.prototype,$=L(ae),ee=function(R,q,ie){var Z=$(R),D=we(R,q),ue,te;return D?D.value=ie:(Z.last=D={index:te=w(q,!0),key:q,value:ie,previous:ue=Z.last,next:null,removed:!1},Z.first||(Z.first=D),ue&&(ue.next=D),S?Z.size++:R.size++,te!=="F"&&(Z.index[te]=D)),R},we=function(R,q){var ie=$(R),Z=w(q),D;if(Z!=="F")return ie.index[Z];for(D=ie.first;D;D=D.next)if(D.key===q)return D};return f(me,{clear:function(){for(var q=this,ie=$(q),Z=ie.first;Z;)Z.removed=!0,Z.previous&&(Z.previous=Z.previous.next=null),Z=Z.next;ie.first=ie.last=null,ie.index=u(null),S?ie.size=0:q.size=0},delete:function(R){var q=this,ie=$(q),Z=we(q,R);if(Z){var D=Z.next,ue=Z.previous;delete ie.index[Z.index],Z.removed=!0,ue&&(ue.next=D),D&&(D.previous=ue),ie.first===Z&&(ie.first=D),ie.last===Z&&(ie.last=ue),S?ie.size--:q.size--}return!!Z},forEach:function(q){for(var ie=$(this),Z=A(q,arguments.length>1?arguments[1]:void 0),D;D=D?D.next:ie.first;)for(Z(D.value,D.key,this);D&&D.removed;)D=D.previous},has:function(q){return!!we(this,q)}}),f(me,G?{get:function(q){var ie=we(this,q);return ie&&ie.value},set:function(q,ie){return ee(this,q===0?0:q,ie)}}:{add:function(q){return ee(this,q=q===0?0:q,q)}}),S&&h(me,"size",{configurable:!0,get:function(){return $(this).size}}),V},setStrong:function(J,ae,G){var le=ae+" Iterator",V=L(ae),me=L(le);y(J,ae,function($,ee){I(this,{type:le,target:$,state:V($),kind:ee,last:null})},function(){for(var $=me(this),ee=$.kind,we=$.last;we&&we.removed;)we=we.previous;return!$.target||!($.last=we=we?we.next:$.state.first)?($.target=null,j(void 0,!0)):j(ee==="keys"?we.key:ee==="values"?we.value:[we.key,we.value],!1)},G?"entries":"values",!G,!0),b(ae)}}}),"./node_modules/core-js/internals/collection.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/global-this.js"),f=l("./node_modules/core-js/internals/function-uncurry-this.js"),A=l("./node_modules/core-js/internals/is-forced.js"),g=l("./node_modules/core-js/internals/define-built-in.js"),m=l("./node_modules/core-js/internals/internal-metadata.js"),x=l("./node_modules/core-js/internals/iterate.js"),y=l("./node_modules/core-js/internals/an-instance.js"),j=l("./node_modules/core-js/internals/is-callable.js"),b=l("./node_modules/core-js/internals/is-null-or-undefined.js"),S=l("./node_modules/core-js/internals/is-object.js"),w=l("./node_modules/core-js/internals/fails.js"),E=l("./node_modules/core-js/internals/check-correctness-of-iteration.js"),I=l("./node_modules/core-js/internals/set-to-string-tag.js"),L=l("./node_modules/core-js/internals/inherit-if-required.js");o.exports=function(J,ae,G){var le=J.indexOf("Map")!==-1,V=J.indexOf("Weak")!==-1,me=le?"set":"add",$=h[J],ee=$&&$.prototype,we=$,R={},q=function(pe){var je=f(ee[pe]);g(ee,pe,pe==="add"?function(he){return je(this,he===0?0:he),this}:pe==="delete"?function(re){return V&&!S(re)?!1:je(this,re===0?0:re)}:pe==="get"?function(he){return V&&!S(he)?void 0:je(this,he===0?0:he)}:pe==="has"?function(he){return V&&!S(he)?!1:je(this,he===0?0:he)}:function(he,X){return je(this,he===0?0:he,X),this})},ie=A(J,!j($)||!(V||ee.forEach&&!w(function(){new $().entries().next()})));if(ie)we=G.getConstructor(ae,J,le,me),m.enable();else if(A(J,!0)){var Z=new we,D=Z[me](V?{}:-0,1)!==Z,ue=w(function(){Z.has(1)}),te=E(function(pe){new $(pe)}),ye=!V&&w(function(){for(var pe=new $,je=5;je--;)pe[me](je,je);return!pe.has(-0)});te||(we=ae(function(pe,je){y(pe,ee);var re=L(new $,pe,we);return b(je)||x(je,re[me],{that:re,AS_ENTRIES:le}),re}),we.prototype=ee,ee.constructor=we),(ue||ye)&&(q("delete"),q("has"),le&&q("get")),(ye||D)&&q(me),V&&ee.clear&&delete ee.clear}return R[J]=we,u({global:!0,constructor:!0,forced:we!==$},R),I(we,J),V||G.setStrong(we,J,le),we}}),"./node_modules/core-js/internals/copy-constructor-properties.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/has-own-property.js"),h=l("./node_modules/core-js/internals/own-keys.js"),f=l("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),A=l("./node_modules/core-js/internals/object-define-property.js");o.exports=function(g,m,x){for(var y=h(m),j=A.f,b=f.f,S=0;S<y.length;S++){var w=y[S];!u(g,w)&&!(x&&u(x,w))&&j(g,w,b(m,w))}}}),"./node_modules/core-js/internals/correct-is-regexp-logic.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/well-known-symbol.js"),h=u("match");o.exports=function(f){var A=/./;try{"/./"[f](A)}catch{try{return A[h]=!1,"/./"[f](A)}catch{}}return!1}}),"./node_modules/core-js/internals/correct-prototype-getter.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/fails.js");o.exports=!u(function(){function h(){}return h.prototype.constructor=null,Object.getPrototypeOf(new h)!==h.prototype})}),"./node_modules/core-js/internals/create-html.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-uncurry-this.js"),h=l("./node_modules/core-js/internals/require-object-coercible.js"),f=l("./node_modules/core-js/internals/to-string.js"),A=/"/g,g=u("".replace);o.exports=function(m,x,y,j){var b=f(h(m)),S="<"+x;return y!==""&&(S+=" "+y+'="'+g(f(j),A,"&quot;")+'"'),S+">"+b+"</"+x+">"}}),"./node_modules/core-js/internals/create-iter-result-object.js":(function(o){o.exports=function(d,l){return{value:d,done:l}}}),"./node_modules/core-js/internals/create-non-enumerable-property.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/descriptors.js"),h=l("./node_modules/core-js/internals/object-define-property.js"),f=l("./node_modules/core-js/internals/create-property-descriptor.js");o.exports=u?function(A,g,m){return h.f(A,g,f(1,m))}:function(A,g,m){return A[g]=m,A}}),"./node_modules/core-js/internals/create-property-descriptor.js":(function(o){o.exports=function(d,l){return{enumerable:!(d&1),configurable:!(d&2),writable:!(d&4),value:l}}}),"./node_modules/core-js/internals/create-property.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/descriptors.js"),h=l("./node_modules/core-js/internals/object-define-property.js"),f=l("./node_modules/core-js/internals/create-property-descriptor.js");o.exports=function(A,g,m){u?h.f(A,g,f(0,m)):A[g]=m}}),"./node_modules/core-js/internals/define-built-in-accessor.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/make-built-in.js"),h=l("./node_modules/core-js/internals/object-define-property.js");o.exports=function(f,A,g){return g.get&&u(g.get,A,{getter:!0}),g.set&&u(g.set,A,{setter:!0}),h.f(f,A,g)}}),"./node_modules/core-js/internals/define-built-in.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/is-callable.js"),h=l("./node_modules/core-js/internals/object-define-property.js"),f=l("./node_modules/core-js/internals/make-built-in.js"),A=l("./node_modules/core-js/internals/define-global-property.js");o.exports=function(g,m,x,y){y||(y={});var j=y.enumerable,b=y.name!==void 0?y.name:m;if(u(x)&&f(x,b,y),y.global)j?g[m]=x:A(m,x);else{try{y.unsafe?g[m]&&(j=!0):delete g[m]}catch{}j?g[m]=x:h.f(g,m,{value:x,enumerable:!1,configurable:!y.nonConfigurable,writable:!y.nonWritable})}return g}}),"./node_modules/core-js/internals/define-built-ins.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/define-built-in.js");o.exports=function(h,f,A){for(var g in f)u(h,g,f[g],A);return h}}),"./node_modules/core-js/internals/define-global-property.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/global-this.js"),h=Object.defineProperty;o.exports=function(f,A){try{h(u,f,{value:A,configurable:!0,writable:!0})}catch{u[f]=A}return A}}),"./node_modules/core-js/internals/descriptors.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/fails.js");o.exports=!u(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})}),"./node_modules/core-js/internals/document-create-element.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/global-this.js"),h=l("./node_modules/core-js/internals/is-object.js"),f=u.document,A=h(f)&&h(f.createElement);o.exports=function(g){return A?f.createElement(g):{}}}),"./node_modules/core-js/internals/does-not-exceed-safe-integer.js":(function(o){var d=TypeError,l=9007199254740991;o.exports=function(u){if(u>l)throw d("Maximum allowed index exceeded");return u}}),"./node_modules/core-js/internals/dom-iterables.js":(function(o){o.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}),"./node_modules/core-js/internals/dom-token-list-prototype.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/document-create-element.js"),h=u("span").classList,f=h&&h.constructor&&h.constructor.prototype;o.exports=f===Object.prototype?void 0:f}),"./node_modules/core-js/internals/enum-bug-keys.js":(function(o){o.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]}),"./node_modules/core-js/internals/environment-is-ios-pebble.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/environment-user-agent.js");o.exports=/ipad|iphone|ipod/i.test(u)&&typeof Pebble<"u"}),"./node_modules/core-js/internals/environment-is-ios.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/environment-user-agent.js");o.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(u)}),"./node_modules/core-js/internals/environment-is-node.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/environment.js");o.exports=u==="NODE"}),"./node_modules/core-js/internals/environment-is-webos-webkit.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/environment-user-agent.js");o.exports=/web0s(?!.*chrome)/i.test(u)}),"./node_modules/core-js/internals/environment-user-agent.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/global-this.js"),h=u.navigator,f=h&&h.userAgent;o.exports=f?String(f):""}),"./node_modules/core-js/internals/environment-v8-version.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/global-this.js"),h=l("./node_modules/core-js/internals/environment-user-agent.js"),f=u.process,A=u.Deno,g=f&&f.versions||A&&A.version,m=g&&g.v8,x,y;m&&(x=m.split("."),y=x[0]>0&&x[0]<4?1:+(x[0]+x[1])),!y&&h&&(x=h.match(/Edge\/(\d+)/),(!x||x[1]>=74)&&(x=h.match(/Chrome\/(\d+)/),x&&(y=+x[1]))),o.exports=y}),"./node_modules/core-js/internals/environment.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/global-this.js"),h=l("./node_modules/core-js/internals/environment-user-agent.js"),f=l("./node_modules/core-js/internals/classof-raw.js"),A=function(g){return h.slice(0,g.length)===g};o.exports=(function(){return A("Bun/")?"BUN":A("Cloudflare-Workers")?"CLOUDFLARE":A("Deno/")?"DENO":A("Node.js/")?"NODE":u.Bun&&typeof Bun.version=="string"?"BUN":u.Deno&&typeof Deno.version=="object"?"DENO":f(u.process)==="process"?"NODE":u.window&&u.document?"BROWSER":"REST"})()}),"./node_modules/core-js/internals/export.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/global-this.js"),h=l("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,f=l("./node_modules/core-js/internals/create-non-enumerable-property.js"),A=l("./node_modules/core-js/internals/define-built-in.js"),g=l("./node_modules/core-js/internals/define-global-property.js"),m=l("./node_modules/core-js/internals/copy-constructor-properties.js"),x=l("./node_modules/core-js/internals/is-forced.js");o.exports=function(y,j){var b=y.target,S=y.global,w=y.stat,E,I,L,J,ae,G;if(S?I=u:w?I=u[b]||g(b,{}):I=u[b]&&u[b].prototype,I)for(L in j){if(ae=j[L],y.dontCallGetSet?(G=h(I,L),J=G&&G.value):J=I[L],E=x(S?L:b+(w?".":"#")+L,y.forced),!E&&J!==void 0){if(typeof ae==typeof J)continue;m(ae,J)}(y.sham||J&&J.sham)&&f(ae,"sham",!0),A(I,L,ae,y)}}}),"./node_modules/core-js/internals/fails.js":(function(o){o.exports=function(d){try{return!!d()}catch{return!0}}}),"./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js":(function(o,d,l){l("./node_modules/core-js/modules/es.regexp.exec.js");var u=l("./node_modules/core-js/internals/function-call.js"),h=l("./node_modules/core-js/internals/define-built-in.js"),f=l("./node_modules/core-js/internals/regexp-exec.js"),A=l("./node_modules/core-js/internals/fails.js"),g=l("./node_modules/core-js/internals/well-known-symbol.js"),m=l("./node_modules/core-js/internals/create-non-enumerable-property.js"),x=g("species"),y=RegExp.prototype;o.exports=function(j,b,S,w){var E=g(j),I=!A(function(){var G={};return G[E]=function(){return 7},""[j](G)!==7}),L=I&&!A(function(){var G=!1,le=/a/;if(j==="split"){var V={};V[x]=function(){return le},le={constructor:V,flags:""},le[E]=/./[E]}return le.exec=function(){return G=!0,null},le[E](""),!G});if(!I||!L||S){var J=/./[E],ae=b(E,""[j],function(G,le,V,me,$){var ee=le.exec;return ee===f||ee===y.exec?I&&!$?{done:!0,value:u(J,le,V,me)}:{done:!0,value:u(G,V,le,me)}:{done:!1}});h(String.prototype,j,ae[0]),h(y,E,ae[1])}w&&m(y[E],"sham",!0)}}),"./node_modules/core-js/internals/freezing.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/fails.js");o.exports=!u(function(){return Object.isExtensible(Object.preventExtensions({}))})}),"./node_modules/core-js/internals/function-apply.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-bind-native.js"),h=Function.prototype,f=h.apply,A=h.call;o.exports=typeof Reflect=="object"&&Reflect.apply||(u?A.bind(f):function(){return A.apply(f,arguments)})}),"./node_modules/core-js/internals/function-bind-context.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-uncurry-this-clause.js"),h=l("./node_modules/core-js/internals/a-callable.js"),f=l("./node_modules/core-js/internals/function-bind-native.js"),A=u(u.bind);o.exports=function(g,m){return h(g),m===void 0?g:f?A(g,m):function(){return g.apply(m,arguments)}}}),"./node_modules/core-js/internals/function-bind-native.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/fails.js");o.exports=!u(function(){var h=(function(){}).bind();return typeof h!="function"||h.hasOwnProperty("prototype")})}),"./node_modules/core-js/internals/function-call.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-bind-native.js"),h=Function.prototype.call;o.exports=u?h.bind(h):function(){return h.apply(h,arguments)}}),"./node_modules/core-js/internals/function-name.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/descriptors.js"),h=l("./node_modules/core-js/internals/has-own-property.js"),f=Function.prototype,A=u&&Object.getOwnPropertyDescriptor,g=h(f,"name"),m=g&&(function(){}).name==="something",x=g&&(!u||u&&A(f,"name").configurable);o.exports={EXISTS:g,PROPER:m,CONFIGURABLE:x}}),"./node_modules/core-js/internals/function-uncurry-this-accessor.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-uncurry-this.js"),h=l("./node_modules/core-js/internals/a-callable.js");o.exports=function(f,A,g){try{return u(h(Object.getOwnPropertyDescriptor(f,A)[g]))}catch{}}}),"./node_modules/core-js/internals/function-uncurry-this-clause.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/classof-raw.js"),h=l("./node_modules/core-js/internals/function-uncurry-this.js");o.exports=function(f){if(u(f)==="Function")return h(f)}}),"./node_modules/core-js/internals/function-uncurry-this.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-bind-native.js"),h=Function.prototype,f=h.call,A=u&&h.bind.bind(f,f);o.exports=u?A:function(g){return function(){return f.apply(g,arguments)}}}),"./node_modules/core-js/internals/get-built-in.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/global-this.js"),h=l("./node_modules/core-js/internals/is-callable.js"),f=function(A){return h(A)?A:void 0};o.exports=function(A,g){return arguments.length<2?f(u[A]):u[A]&&u[A][g]}}),"./node_modules/core-js/internals/get-iterator-direct.js":(function(o){o.exports=function(d){return{iterator:d,next:d.next,done:!1}}}),"./node_modules/core-js/internals/get-iterator-method.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/classof.js"),h=l("./node_modules/core-js/internals/get-method.js"),f=l("./node_modules/core-js/internals/is-null-or-undefined.js"),A=l("./node_modules/core-js/internals/iterators.js"),g=l("./node_modules/core-js/internals/well-known-symbol.js"),m=g("iterator");o.exports=function(x){if(!f(x))return h(x,m)||h(x,"@@iterator")||A[u(x)]}}),"./node_modules/core-js/internals/get-iterator.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-call.js"),h=l("./node_modules/core-js/internals/a-callable.js"),f=l("./node_modules/core-js/internals/an-object.js"),A=l("./node_modules/core-js/internals/try-to-string.js"),g=l("./node_modules/core-js/internals/get-iterator-method.js"),m=TypeError;o.exports=function(x,y){var j=arguments.length<2?g(x):y;if(h(j))return f(u(j,x));throw new m(A(x)+" is not iterable")}}),"./node_modules/core-js/internals/get-method.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/a-callable.js"),h=l("./node_modules/core-js/internals/is-null-or-undefined.js");o.exports=function(f,A){var g=f[A];return h(g)?void 0:u(g)}}),"./node_modules/core-js/internals/get-set-record.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/a-callable.js"),h=l("./node_modules/core-js/internals/an-object.js"),f=l("./node_modules/core-js/internals/function-call.js"),A=l("./node_modules/core-js/internals/to-integer-or-infinity.js"),g=l("./node_modules/core-js/internals/get-iterator-direct.js"),m="Invalid size",x=RangeError,y=TypeError,j=Math.max,b=function(S,w){this.set=S,this.size=j(w,0),this.has=u(S.has),this.keys=u(S.keys)};b.prototype={getIterator:function(){return g(h(f(this.keys,this.set)))},includes:function(S){return f(this.has,this.set,S)}},o.exports=function(S){h(S);var w=+S.size;if(w!==w)throw new y(m);var E=A(w);if(E<0)throw new x(m);return new b(S,E)}}),"./node_modules/core-js/internals/get-substitution.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-uncurry-this.js"),h=l("./node_modules/core-js/internals/to-object.js"),f=Math.floor,A=u("".charAt),g=u("".replace),m=u("".slice),x=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,y=/\$([$&'`]|\d{1,2})/g;o.exports=function(j,b,S,w,E,I){var L=S+j.length,J=w.length,ae=y;return E!==void 0&&(E=h(E),ae=x),g(I,ae,function(G,le){var V;switch(A(le,0)){case"$":return"$";case"&":return j;case"`":return m(b,0,S);case"'":return m(b,L);case"<":V=E[m(le,1,-1)];break;default:var me=+le;if(me===0)return G;if(me>J){var $=f(me/10);return $===0?G:$<=J?w[$-1]===void 0?A(le,1):w[$-1]+A(le,1):G}V=w[me-1]}return V===void 0?"":V})}}),"./node_modules/core-js/internals/global-this.js":(function(o){var d=function(l){return l&&l.Math===Math&&l};o.exports=d(typeof globalThis=="object"&&globalThis)||d(typeof window=="object"&&window)||d(typeof self=="object"&&self)||d(typeof ff=="object"&&ff)||d(typeof this=="object"&&this)||(function(){return this})()||Function("return this")()}),"./node_modules/core-js/internals/has-own-property.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-uncurry-this.js"),h=l("./node_modules/core-js/internals/to-object.js"),f=u({}.hasOwnProperty);o.exports=Object.hasOwn||function(g,m){return f(h(g),m)}}),"./node_modules/core-js/internals/hidden-keys.js":(function(o){o.exports={}}),"./node_modules/core-js/internals/host-report-errors.js":(function(o){o.exports=function(d,l){try{arguments.length===1?console.error(d):console.error(d,l)}catch{}}}),"./node_modules/core-js/internals/html.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/get-built-in.js");o.exports=u("document","documentElement")}),"./node_modules/core-js/internals/ie8-dom-define.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/descriptors.js"),h=l("./node_modules/core-js/internals/fails.js"),f=l("./node_modules/core-js/internals/document-create-element.js");o.exports=!u&&!h(function(){return Object.defineProperty(f("div"),"a",{get:function(){return 7}}).a!==7})}),"./node_modules/core-js/internals/indexed-object.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-uncurry-this.js"),h=l("./node_modules/core-js/internals/fails.js"),f=l("./node_modules/core-js/internals/classof-raw.js"),A=Object,g=u("".split);o.exports=h(function(){return!A("z").propertyIsEnumerable(0)})?function(m){return f(m)==="String"?g(m,""):A(m)}:A}),"./node_modules/core-js/internals/inherit-if-required.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/is-callable.js"),h=l("./node_modules/core-js/internals/is-object.js"),f=l("./node_modules/core-js/internals/object-set-prototype-of.js");o.exports=function(A,g,m){var x,y;return f&&u(x=g.constructor)&&x!==m&&h(y=x.prototype)&&y!==m.prototype&&f(A,y),A}}),"./node_modules/core-js/internals/inspect-source.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-uncurry-this.js"),h=l("./node_modules/core-js/internals/is-callable.js"),f=l("./node_modules/core-js/internals/shared-store.js"),A=u(Function.toString);h(f.inspectSource)||(f.inspectSource=function(g){return A(g)}),o.exports=f.inspectSource}),"./node_modules/core-js/internals/internal-metadata.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/function-uncurry-this.js"),f=l("./node_modules/core-js/internals/hidden-keys.js"),A=l("./node_modules/core-js/internals/is-object.js"),g=l("./node_modules/core-js/internals/has-own-property.js"),m=l("./node_modules/core-js/internals/object-define-property.js").f,x=l("./node_modules/core-js/internals/object-get-own-property-names.js"),y=l("./node_modules/core-js/internals/object-get-own-property-names-external.js"),j=l("./node_modules/core-js/internals/object-is-extensible.js"),b=l("./node_modules/core-js/internals/uid.js"),S=l("./node_modules/core-js/internals/freezing.js"),w=!1,E=b("meta"),I=0,L=function(me){m(me,E,{value:{objectID:"O"+I++,weakData:{}}})},J=function(me,$){if(!A(me))return typeof me=="symbol"?me:(typeof me=="string"?"S":"P")+me;if(!g(me,E)){if(!j(me))return"F";if(!$)return"E";L(me)}return me[E].objectID},ae=function(me,$){if(!g(me,E)){if(!j(me))return!0;if(!$)return!1;L(me)}return me[E].weakData},G=function(me){return S&&w&&j(me)&&!g(me,E)&&L(me),me},le=function(){V.enable=function(){},w=!0;var me=x.f,$=h([].splice),ee={};ee[E]=1,me(ee).length&&(x.f=function(we){for(var R=me(we),q=0,ie=R.length;q<ie;q++)if(R[q]===E){$(R,q,1);break}return R},u({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:y.f}))},V=o.exports={enable:le,fastKey:J,getWeakData:ae,onFreeze:G};f[E]=!0}),"./node_modules/core-js/internals/internal-state.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/weak-map-basic-detection.js"),h=l("./node_modules/core-js/internals/global-this.js"),f=l("./node_modules/core-js/internals/is-object.js"),A=l("./node_modules/core-js/internals/create-non-enumerable-property.js"),g=l("./node_modules/core-js/internals/has-own-property.js"),m=l("./node_modules/core-js/internals/shared-store.js"),x=l("./node_modules/core-js/internals/shared-key.js"),y=l("./node_modules/core-js/internals/hidden-keys.js"),j="Object already initialized",b=h.TypeError,S=h.WeakMap,w,E,I,L=function(le){return I(le)?E(le):w(le,{})},J=function(le){return function(V){var me;if(!f(V)||(me=E(V)).type!==le)throw new b("Incompatible receiver, "+le+" required");return me}};if(u||m.state){var ae=m.state||(m.state=new S);ae.get=ae.get,ae.has=ae.has,ae.set=ae.set,w=function(le,V){if(ae.has(le))throw new b(j);return V.facade=le,ae.set(le,V),V},E=function(le){return ae.get(le)||{}},I=function(le){return ae.has(le)}}else{var G=x("state");y[G]=!0,w=function(le,V){if(g(le,G))throw new b(j);return V.facade=le,A(le,G,V),V},E=function(le){return g(le,G)?le[G]:{}},I=function(le){return g(le,G)}}o.exports={set:w,get:E,has:I,enforce:L,getterFor:J}}),"./node_modules/core-js/internals/is-array-iterator-method.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/well-known-symbol.js"),h=l("./node_modules/core-js/internals/iterators.js"),f=u("iterator"),A=Array.prototype;o.exports=function(g){return g!==void 0&&(h.Array===g||A[f]===g)}}),"./node_modules/core-js/internals/is-array.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/classof-raw.js");o.exports=Array.isArray||function(f){return u(f)==="Array"}}),"./node_modules/core-js/internals/is-callable.js":(function(o){var d=typeof document=="object"&&document.all;o.exports=typeof d>"u"&&d!==void 0?function(l){return typeof l=="function"||l===d}:function(l){return typeof l=="function"}}),"./node_modules/core-js/internals/is-constructor.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-uncurry-this.js"),h=l("./node_modules/core-js/internals/fails.js"),f=l("./node_modules/core-js/internals/is-callable.js"),A=l("./node_modules/core-js/internals/classof.js"),g=l("./node_modules/core-js/internals/get-built-in.js"),m=l("./node_modules/core-js/internals/inspect-source.js"),x=function(){},y=g("Reflect","construct"),j=/^\s*(?:class|function)\b/,b=u(j.exec),S=!j.test(x),w=function(L){if(!f(L))return!1;try{return y(x,[],L),!0}catch{return!1}},E=function(L){if(!f(L))return!1;switch(A(L)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return S||!!b(j,m(L))}catch{return!0}};E.sham=!0,o.exports=!y||h(function(){var I;return w(w.call)||!w(Object)||!w(function(){I=!0})||I})?E:w}),"./node_modules/core-js/internals/is-forced.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/fails.js"),h=l("./node_modules/core-js/internals/is-callable.js"),f=/#|\.prototype\./,A=function(j,b){var S=m[g(j)];return S===y?!0:S===x?!1:h(b)?u(b):!!b},g=A.normalize=function(j){return String(j).replace(f,".").toLowerCase()},m=A.data={},x=A.NATIVE="N",y=A.POLYFILL="P";o.exports=A}),"./node_modules/core-js/internals/is-iterable.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/classof.js"),h=l("./node_modules/core-js/internals/has-own-property.js"),f=l("./node_modules/core-js/internals/is-null-or-undefined.js"),A=l("./node_modules/core-js/internals/well-known-symbol.js"),g=l("./node_modules/core-js/internals/iterators.js"),m=A("iterator"),x=Object;o.exports=function(y){if(f(y))return!1;var j=x(y);return j[m]!==void 0||"@@iterator"in j||h(g,u(j))}}),"./node_modules/core-js/internals/is-null-or-undefined.js":(function(o){o.exports=function(d){return d==null}}),"./node_modules/core-js/internals/is-object.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/is-callable.js");o.exports=function(h){return typeof h=="object"?h!==null:u(h)}}),"./node_modules/core-js/internals/is-possible-prototype.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/is-object.js");o.exports=function(h){return u(h)||h===null}}),"./node_modules/core-js/internals/is-pure.js":(function(o){o.exports=!1}),"./node_modules/core-js/internals/is-raw-json.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/is-object.js"),h=l("./node_modules/core-js/internals/internal-state.js").get;o.exports=function(A){if(!u(A))return!1;var g=h(A);return!!g&&g.type==="RawJSON"}}),"./node_modules/core-js/internals/is-regexp.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/is-object.js"),h=l("./node_modules/core-js/internals/classof-raw.js"),f=l("./node_modules/core-js/internals/well-known-symbol.js"),A=f("match");o.exports=function(g){var m;return u(g)&&((m=g[A])!==void 0?!!m:h(g)==="RegExp")}}),"./node_modules/core-js/internals/is-symbol.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/get-built-in.js"),h=l("./node_modules/core-js/internals/is-callable.js"),f=l("./node_modules/core-js/internals/object-is-prototype-of.js"),A=l("./node_modules/core-js/internals/use-symbol-as-uid.js"),g=Object;o.exports=A?function(m){return typeof m=="symbol"}:function(m){var x=u("Symbol");return h(x)&&f(x.prototype,g(m))}}),"./node_modules/core-js/internals/iterate-simple.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-call.js");o.exports=function(h,f,A){for(var g=A?h:h.iterator,m=h.next,x,y;!(x=u(m,g)).done;)if(y=f(x.value),y!==void 0)return y}}),"./node_modules/core-js/internals/iterate.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-bind-context.js"),h=l("./node_modules/core-js/internals/function-call.js"),f=l("./node_modules/core-js/internals/an-object.js"),A=l("./node_modules/core-js/internals/try-to-string.js"),g=l("./node_modules/core-js/internals/is-array-iterator-method.js"),m=l("./node_modules/core-js/internals/length-of-array-like.js"),x=l("./node_modules/core-js/internals/object-is-prototype-of.js"),y=l("./node_modules/core-js/internals/get-iterator.js"),j=l("./node_modules/core-js/internals/get-iterator-method.js"),b=l("./node_modules/core-js/internals/iterator-close.js"),S=TypeError,w=function(I,L){this.stopped=I,this.result=L},E=w.prototype;o.exports=function(I,L,J){var ae=J&&J.that,G=!!(J&&J.AS_ENTRIES),le=!!(J&&J.IS_RECORD),V=!!(J&&J.IS_ITERATOR),me=!!(J&&J.INTERRUPTED),$=u(L,ae),ee,we,R,q,ie,Z,D,ue=function(ye){return ee&&b(ee,"normal"),new w(!0,ye)},te=function(ye){return G?(f(ye),me?$(ye[0],ye[1],ue):$(ye[0],ye[1])):me?$(ye,ue):$(ye)};if(le)ee=I.iterator;else if(V)ee=I;else{if(we=j(I),!we)throw new S(A(I)+" is not iterable");if(g(we)){for(R=0,q=m(I);q>R;R++)if(ie=te(I[R]),ie&&x(E,ie))return ie;return new w(!1)}ee=y(I,we)}for(Z=le?I.next:ee.next;!(D=h(Z,ee)).done;){try{ie=te(D.value)}catch(ye){b(ee,"throw",ye)}if(typeof ie=="object"&&ie&&x(E,ie))return ie}return new w(!1)}}),"./node_modules/core-js/internals/iterator-close-all.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/iterator-close.js");o.exports=function(h,f,A){for(var g=h.length-1;g>=0;g--)if(h[g]!==void 0)try{A=u(h[g].iterator,f,A)}catch(m){f="throw",A=m}if(f==="throw")throw A;return A}}),"./node_modules/core-js/internals/iterator-close.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-call.js"),h=l("./node_modules/core-js/internals/an-object.js"),f=l("./node_modules/core-js/internals/get-method.js");o.exports=function(A,g,m){var x,y;h(A);try{if(x=f(A,"return"),!x){if(g==="throw")throw m;return m}x=u(x,A)}catch(j){y=!0,x=j}if(g==="throw")throw m;if(y)throw x;return h(x),m}}),"./node_modules/core-js/internals/iterator-create-constructor.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,h=l("./node_modules/core-js/internals/object-create.js"),f=l("./node_modules/core-js/internals/create-property-descriptor.js"),A=l("./node_modules/core-js/internals/set-to-string-tag.js"),g=l("./node_modules/core-js/internals/iterators.js"),m=function(){return this};o.exports=function(x,y,j,b){var S=y+" Iterator";return x.prototype=h(u,{next:f(+!b,j)}),A(x,S,!1,!0),g[S]=m,x}}),"./node_modules/core-js/internals/iterator-create-proxy.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-call.js"),h=l("./node_modules/core-js/internals/object-create.js"),f=l("./node_modules/core-js/internals/create-non-enumerable-property.js"),A=l("./node_modules/core-js/internals/define-built-ins.js"),g=l("./node_modules/core-js/internals/well-known-symbol.js"),m=l("./node_modules/core-js/internals/internal-state.js"),x=l("./node_modules/core-js/internals/get-method.js"),y=l("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,j=l("./node_modules/core-js/internals/create-iter-result-object.js"),b=l("./node_modules/core-js/internals/iterator-close.js"),S=l("./node_modules/core-js/internals/iterator-close-all.js"),w=g("toStringTag"),E="IteratorHelper",I="WrapForValidIterator",L="normal",J="throw",ae=m.set,G=function(me){var $=m.getterFor(me?I:E);return A(h(y),{next:function(){var we=$(this);if(me)return we.nextHandler();if(we.done)return j(void 0,!0);try{var R=we.nextHandler();return we.returnHandlerResult?R:j(R,we.done)}catch(q){throw we.done=!0,q}},return:function(){var ee=$(this),we=ee.iterator;if(ee.done=!0,me){var R=x(we,"return");return R?u(R,we):j(void 0,!0)}if(ee.inner)try{b(ee.inner.iterator,L)}catch(q){return b(we,J,q)}if(ee.openIters)try{S(ee.openIters,L)}catch(q){return b(we,J,q)}return we&&b(we,L),j(void 0,!0)}})},le=G(!0),V=G(!1);f(V,w,"Iterator Helper"),o.exports=function(me,$,ee){var we=function(q,ie){ie?(ie.iterator=q.iterator,ie.next=q.next):ie=q,ie.type=$?I:E,ie.returnHandlerResult=!!ee,ie.nextHandler=me,ie.counter=0,ie.done=!1,ae(this,ie)};return we.prototype=$?le:V,we}}),"./node_modules/core-js/internals/iterator-define.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/function-call.js"),f=l("./node_modules/core-js/internals/is-pure.js"),A=l("./node_modules/core-js/internals/function-name.js"),g=l("./node_modules/core-js/internals/is-callable.js"),m=l("./node_modules/core-js/internals/iterator-create-constructor.js"),x=l("./node_modules/core-js/internals/object-get-prototype-of.js"),y=l("./node_modules/core-js/internals/object-set-prototype-of.js"),j=l("./node_modules/core-js/internals/set-to-string-tag.js"),b=l("./node_modules/core-js/internals/create-non-enumerable-property.js"),S=l("./node_modules/core-js/internals/define-built-in.js"),w=l("./node_modules/core-js/internals/well-known-symbol.js"),E=l("./node_modules/core-js/internals/iterators.js"),I=l("./node_modules/core-js/internals/iterators-core.js"),L=A.PROPER,J=A.CONFIGURABLE,ae=I.IteratorPrototype,G=I.BUGGY_SAFARI_ITERATORS,le=w("iterator"),V="keys",me="values",$="entries",ee=function(){return this};o.exports=function(we,R,q,ie,Z,D,ue){m(q,R,ie);var te=function($e){if($e===Z&&he)return he;if(!G&&$e&&$e in je)return je[$e];switch($e){case V:return function(){return new q(this,$e)};case me:return function(){return new q(this,$e)};case $:return function(){return new q(this,$e)}}return function(){return new q(this)}},ye=R+" Iterator",pe=!1,je=we.prototype,re=je[le]||je["@@iterator"]||Z&&je[Z],he=!G&&re||te(Z),X=R==="Array"&&je.entries||re,Ae,Be,Me;if(X&&(Ae=x(X.call(new we)),Ae!==Object.prototype&&Ae.next&&(!f&&x(Ae)!==ae&&(y?y(Ae,ae):g(Ae[le])||S(Ae,le,ee)),j(Ae,ye,!0,!0),f&&(E[ye]=ee))),L&&Z===me&&re&&re.name!==me&&(!f&&J?b(je,"name",me):(pe=!0,he=function(){return h(re,this)})),Z)if(Be={values:te(me),keys:D?he:te(V),entries:te($)},ue)for(Me in Be)(G||pe||!(Me in je))&&S(je,Me,Be[Me]);else u({target:R,proto:!0,forced:G||pe},Be);return(!f||ue)&&je[le]!==he&&S(je,le,he,{name:Z}),E[R]=he,Be}}),"./node_modules/core-js/internals/iterator-helper-throws-on-invalid-iterator.js":(function(o){o.exports=function(d,l){var u=typeof Iterator=="function"&&Iterator.prototype[d];if(u)try{u.call({next:null},l).next()}catch{return!0}}}),"./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/global-this.js");o.exports=function(h,f){var A=u.Iterator,g=A&&A.prototype,m=g&&g[h],x=!1;if(m)try{m.call({next:function(){return{done:!0}},return:function(){x=!0}},-1)}catch(y){y instanceof f||(x=!1)}if(!x)return m}}),"./node_modules/core-js/internals/iterators-core.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/fails.js"),h=l("./node_modules/core-js/internals/is-callable.js"),f=l("./node_modules/core-js/internals/is-object.js"),A=l("./node_modules/core-js/internals/object-create.js"),g=l("./node_modules/core-js/internals/object-get-prototype-of.js"),m=l("./node_modules/core-js/internals/define-built-in.js"),x=l("./node_modules/core-js/internals/well-known-symbol.js"),y=l("./node_modules/core-js/internals/is-pure.js"),j=x("iterator"),b=!1,S,w,E;[].keys&&(E=[].keys(),"next"in E?(w=g(g(E)),w!==Object.prototype&&(S=w)):b=!0);var I=!f(S)||u(function(){var L={};return S[j].call(L)!==L});I?S={}:y&&(S=A(S)),h(S[j])||m(S,j,function(){return this}),o.exports={IteratorPrototype:S,BUGGY_SAFARI_ITERATORS:b}}),"./node_modules/core-js/internals/iterators.js":(function(o){o.exports={}}),"./node_modules/core-js/internals/length-of-array-like.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/to-length.js");o.exports=function(h){return u(h.length)}}),"./node_modules/core-js/internals/make-built-in.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-uncurry-this.js"),h=l("./node_modules/core-js/internals/fails.js"),f=l("./node_modules/core-js/internals/is-callable.js"),A=l("./node_modules/core-js/internals/has-own-property.js"),g=l("./node_modules/core-js/internals/descriptors.js"),m=l("./node_modules/core-js/internals/function-name.js").CONFIGURABLE,x=l("./node_modules/core-js/internals/inspect-source.js"),y=l("./node_modules/core-js/internals/internal-state.js"),j=y.enforce,b=y.get,S=String,w=Object.defineProperty,E=u("".slice),I=u("".replace),L=u([].join),J=g&&!h(function(){return w(function(){},"length",{value:8}).length!==8}),ae=String(String).split("String"),G=o.exports=function(le,V,me){E(S(V),0,7)==="Symbol("&&(V="["+I(S(V),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),me&&me.getter&&(V="get "+V),me&&me.setter&&(V="set "+V),(!A(le,"name")||m&&le.name!==V)&&(g?w(le,"name",{value:V,configurable:!0}):le.name=V),J&&me&&A(me,"arity")&&le.length!==me.arity&&w(le,"length",{value:me.arity});try{me&&A(me,"constructor")&&me.constructor?g&&w(le,"prototype",{writable:!1}):le.prototype&&(le.prototype=void 0)}catch{}var $=j(le);return A($,"source")||($.source=L(ae,typeof V=="string"?V:"")),le};Function.prototype.toString=G(function(){return f(this)&&b(this).source||x(this)},"toString")}),"./node_modules/core-js/internals/math-trunc.js":(function(o){var d=Math.ceil,l=Math.floor;o.exports=Math.trunc||function(h){var f=+h;return(f>0?l:d)(f)}}),"./node_modules/core-js/internals/microtask.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/global-this.js"),h=l("./node_modules/core-js/internals/safe-get-built-in.js"),f=l("./node_modules/core-js/internals/function-bind-context.js"),A=l("./node_modules/core-js/internals/task.js").set,g=l("./node_modules/core-js/internals/queue.js"),m=l("./node_modules/core-js/internals/environment-is-ios.js"),x=l("./node_modules/core-js/internals/environment-is-ios-pebble.js"),y=l("./node_modules/core-js/internals/environment-is-webos-webkit.js"),j=l("./node_modules/core-js/internals/environment-is-node.js"),b=u.MutationObserver||u.WebKitMutationObserver,S=u.document,w=u.process,E=u.Promise,I=h("queueMicrotask"),L,J,ae,G,le;if(!I){var V=new g,me=function(){var $,ee;for(j&&($=w.domain)&&$.exit();ee=V.get();)try{ee()}catch(we){throw V.head&&L(),we}$&&$.enter()};!m&&!j&&!y&&b&&S?(J=!0,ae=S.createTextNode(""),new b(me).observe(ae,{characterData:!0}),L=function(){ae.data=J=!J}):!x&&E&&E.resolve?(G=E.resolve(void 0),G.constructor=E,le=f(G.then,G),L=function(){le(me)}):j?L=function(){w.nextTick(me)}:(A=f(A,u),L=function(){A(me)}),I=function($){V.head||L(),V.add($)}}o.exports=I}),"./node_modules/core-js/internals/native-raw-json.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/fails.js");o.exports=!u(function(){var h="9007199254740993",f=JSON.rawJSON(h);return!JSON.isRawJSON(f)||JSON.stringify(f)!==h})}),"./node_modules/core-js/internals/new-promise-capability.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/a-callable.js"),h=TypeError,f=function(A){var g,m;this.promise=new A(function(x,y){if(g!==void 0||m!==void 0)throw new h("Bad Promise constructor");g=x,m=y}),this.resolve=u(g),this.reject=u(m)};o.exports.f=function(A){return new f(A)}}),"./node_modules/core-js/internals/not-a-regexp.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/is-regexp.js"),h=TypeError;o.exports=function(f){if(u(f))throw new h("The method doesn't accept regular expressions");return f}}),"./node_modules/core-js/internals/object-assign.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/descriptors.js"),h=l("./node_modules/core-js/internals/function-uncurry-this.js"),f=l("./node_modules/core-js/internals/function-call.js"),A=l("./node_modules/core-js/internals/fails.js"),g=l("./node_modules/core-js/internals/object-keys.js"),m=l("./node_modules/core-js/internals/object-get-own-property-symbols.js"),x=l("./node_modules/core-js/internals/object-property-is-enumerable.js"),y=l("./node_modules/core-js/internals/to-object.js"),j=l("./node_modules/core-js/internals/indexed-object.js"),b=Object.assign,S=Object.defineProperty,w=h([].concat);o.exports=!b||A(function(){if(u&&b({b:1},b(S({},"a",{enumerable:!0,get:function(){S(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var E={},I={},L=Symbol("assign detection"),J="abcdefghijklmnopqrst";return E[L]=7,J.split("").forEach(function(ae){I[ae]=ae}),b({},E)[L]!==7||g(b({},I)).join("")!==J})?function(I,L){for(var J=y(I),ae=arguments.length,G=1,le=m.f,V=x.f;ae>G;)for(var me=j(arguments[G++]),$=le?w(g(me),le(me)):g(me),ee=$.length,we=0,R;ee>we;)R=$[we++],(!u||f(V,me,R))&&(J[R]=me[R]);return J}:b}),"./node_modules/core-js/internals/object-create.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/an-object.js"),h=l("./node_modules/core-js/internals/object-define-properties.js"),f=l("./node_modules/core-js/internals/enum-bug-keys.js"),A=l("./node_modules/core-js/internals/hidden-keys.js"),g=l("./node_modules/core-js/internals/html.js"),m=l("./node_modules/core-js/internals/document-create-element.js"),x=l("./node_modules/core-js/internals/shared-key.js"),y=">",j="<",b="prototype",S="script",w=x("IE_PROTO"),E=function(){},I=function(le){return j+S+y+le+j+"/"+S+y},L=function(le){le.write(I("")),le.close();var V=le.parentWindow.Object;return le=null,V},J=function(){var le=m("iframe"),V="java"+S+":",me;return le.style.display="none",g.appendChild(le),le.src=String(V),me=le.contentWindow.document,me.open(),me.write(I("document.F=Object")),me.close(),me.F},ae,G=function(){try{ae=new ActiveXObject("htmlfile")}catch{}G=typeof document<"u"?document.domain&&ae?L(ae):J():L(ae);for(var le=f.length;le--;)delete G[b][f[le]];return G()};A[w]=!0,o.exports=Object.create||function(V,me){var $;return V!==null?(E[b]=u(V),$=new E,E[b]=null,$[w]=V):$=G(),me===void 0?$:h.f($,me)}}),"./node_modules/core-js/internals/object-define-properties.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/descriptors.js"),h=l("./node_modules/core-js/internals/v8-prototype-define-bug.js"),f=l("./node_modules/core-js/internals/object-define-property.js"),A=l("./node_modules/core-js/internals/an-object.js"),g=l("./node_modules/core-js/internals/to-indexed-object.js"),m=l("./node_modules/core-js/internals/object-keys.js");d.f=u&&!h?Object.defineProperties:function(y,j){A(y);for(var b=g(j),S=m(j),w=S.length,E=0,I;w>E;)f.f(y,I=S[E++],b[I]);return y}}),"./node_modules/core-js/internals/object-define-property.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/descriptors.js"),h=l("./node_modules/core-js/internals/ie8-dom-define.js"),f=l("./node_modules/core-js/internals/v8-prototype-define-bug.js"),A=l("./node_modules/core-js/internals/an-object.js"),g=l("./node_modules/core-js/internals/to-property-key.js"),m=TypeError,x=Object.defineProperty,y=Object.getOwnPropertyDescriptor,j="enumerable",b="configurable",S="writable";d.f=u?f?function(E,I,L){if(A(E),I=g(I),A(L),typeof E=="function"&&I==="prototype"&&"value"in L&&S in L&&!L[S]){var J=y(E,I);J&&J[S]&&(E[I]=L.value,L={configurable:b in L?L[b]:J[b],enumerable:j in L?L[j]:J[j],writable:!1})}return x(E,I,L)}:x:function(E,I,L){if(A(E),I=g(I),A(L),h)try{return x(E,I,L)}catch{}if("get"in L||"set"in L)throw new m("Accessors not supported");return"value"in L&&(E[I]=L.value),E}}),"./node_modules/core-js/internals/object-get-own-property-descriptor.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/descriptors.js"),h=l("./node_modules/core-js/internals/function-call.js"),f=l("./node_modules/core-js/internals/object-property-is-enumerable.js"),A=l("./node_modules/core-js/internals/create-property-descriptor.js"),g=l("./node_modules/core-js/internals/to-indexed-object.js"),m=l("./node_modules/core-js/internals/to-property-key.js"),x=l("./node_modules/core-js/internals/has-own-property.js"),y=l("./node_modules/core-js/internals/ie8-dom-define.js"),j=Object.getOwnPropertyDescriptor;d.f=u?j:function(S,w){if(S=g(S),w=m(w),y)try{return j(S,w)}catch{}if(x(S,w))return A(!h(f.f,S,w),S[w])}}),"./node_modules/core-js/internals/object-get-own-property-names-external.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/classof-raw.js"),h=l("./node_modules/core-js/internals/to-indexed-object.js"),f=l("./node_modules/core-js/internals/object-get-own-property-names.js").f,A=l("./node_modules/core-js/internals/array-slice.js"),g=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],m=function(x){try{return f(x)}catch{return A(g)}};o.exports.f=function(y){return g&&u(y)==="Window"?m(y):f(h(y))}}),"./node_modules/core-js/internals/object-get-own-property-names.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/object-keys-internal.js"),h=l("./node_modules/core-js/internals/enum-bug-keys.js"),f=h.concat("length","prototype");d.f=Object.getOwnPropertyNames||function(g){return u(g,f)}}),"./node_modules/core-js/internals/object-get-own-property-symbols.js":(function(o,d){d.f=Object.getOwnPropertySymbols}),"./node_modules/core-js/internals/object-get-prototype-of.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/has-own-property.js"),h=l("./node_modules/core-js/internals/is-callable.js"),f=l("./node_modules/core-js/internals/to-object.js"),A=l("./node_modules/core-js/internals/shared-key.js"),g=l("./node_modules/core-js/internals/correct-prototype-getter.js"),m=A("IE_PROTO"),x=Object,y=x.prototype;o.exports=g?x.getPrototypeOf:function(j){var b=f(j);if(u(b,m))return b[m];var S=b.constructor;return h(S)&&b instanceof S?S.prototype:b instanceof x?y:null}}),"./node_modules/core-js/internals/object-is-extensible.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/fails.js"),h=l("./node_modules/core-js/internals/is-object.js"),f=l("./node_modules/core-js/internals/classof-raw.js"),A=l("./node_modules/core-js/internals/array-buffer-non-extensible.js"),g=Object.isExtensible,m=u(function(){});o.exports=m||A?function(y){return!h(y)||A&&f(y)==="ArrayBuffer"?!1:g?g(y):!0}:g}),"./node_modules/core-js/internals/object-is-prototype-of.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-uncurry-this.js");o.exports=u({}.isPrototypeOf)}),"./node_modules/core-js/internals/object-keys-internal.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-uncurry-this.js"),h=l("./node_modules/core-js/internals/has-own-property.js"),f=l("./node_modules/core-js/internals/to-indexed-object.js"),A=l("./node_modules/core-js/internals/array-includes.js").indexOf,g=l("./node_modules/core-js/internals/hidden-keys.js"),m=u([].push);o.exports=function(x,y){var j=f(x),b=0,S=[],w;for(w in j)!h(g,w)&&h(j,w)&&m(S,w);for(;y.length>b;)h(j,w=y[b++])&&(~A(S,w)||m(S,w));return S}}),"./node_modules/core-js/internals/object-keys.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/object-keys-internal.js"),h=l("./node_modules/core-js/internals/enum-bug-keys.js");o.exports=Object.keys||function(A){return u(A,h)}}),"./node_modules/core-js/internals/object-property-is-enumerable.js":(function(o,d){var l={}.propertyIsEnumerable,u=Object.getOwnPropertyDescriptor,h=u&&!l.call({1:2},1);d.f=h?function(A){var g=u(this,A);return!!g&&g.enumerable}:l}),"./node_modules/core-js/internals/object-set-prototype-of.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-uncurry-this-accessor.js"),h=l("./node_modules/core-js/internals/is-object.js"),f=l("./node_modules/core-js/internals/require-object-coercible.js"),A=l("./node_modules/core-js/internals/a-possible-prototype.js");o.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var g=!1,m={},x;try{x=u(Object.prototype,"__proto__","set"),x(m,[]),g=m instanceof Array}catch{}return function(j,b){return f(j),A(b),h(j)&&(g?x(j,b):j.__proto__=b),j}})():void 0)}),"./node_modules/core-js/internals/object-to-string.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/to-string-tag-support.js"),h=l("./node_modules/core-js/internals/classof.js");o.exports=u?{}.toString:function(){return"[object "+h(this)+"]"}}),"./node_modules/core-js/internals/ordinary-to-primitive.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-call.js"),h=l("./node_modules/core-js/internals/is-callable.js"),f=l("./node_modules/core-js/internals/is-object.js"),A=TypeError;o.exports=function(g,m){var x,y;if(m==="string"&&h(x=g.toString)&&!f(y=u(x,g))||h(x=g.valueOf)&&!f(y=u(x,g))||m!=="string"&&h(x=g.toString)&&!f(y=u(x,g)))return y;throw new A("Can't convert object to primitive value")}}),"./node_modules/core-js/internals/own-keys.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/get-built-in.js"),h=l("./node_modules/core-js/internals/function-uncurry-this.js"),f=l("./node_modules/core-js/internals/object-get-own-property-names.js"),A=l("./node_modules/core-js/internals/object-get-own-property-symbols.js"),g=l("./node_modules/core-js/internals/an-object.js"),m=h([].concat);o.exports=u("Reflect","ownKeys")||function(y){var j=f.f(g(y)),b=A.f;return b?m(j,b(y)):j}}),"./node_modules/core-js/internals/parse-json-string.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-uncurry-this.js"),h=l("./node_modules/core-js/internals/has-own-property.js"),f=SyntaxError,A=parseInt,g=String.fromCharCode,m=u("".charAt),x=u("".slice),y=u(/./.exec),j={'\\"':'"',"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":`
`,"\\r":"\r","\\t":"	"},b=/^[\da-f]{4}$/i,S=/^[\u0000-\u001F]$/;o.exports=function(w,E){for(var I=!0,L="";E<w.length;){var J=m(w,E);if(J==="\\"){var ae=x(w,E,E+2);if(h(j,ae))L+=j[ae],E+=2;else if(ae==="\\u"){E+=2;var G=x(w,E,E+4);if(!y(b,G))throw new f("Bad Unicode escape at: "+E);L+=g(A(G,16)),E+=4}else throw new f('Unknown escape sequence: "'+ae+'"')}else if(J==='"'){I=!1,E++;break}else{if(y(S,J))throw new f("Bad control character in string literal at: "+E);L+=J,E++}}if(I)throw new f("Unterminated string at: "+E);return{value:L,end:E}}}),"./node_modules/core-js/internals/path.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/global-this.js");o.exports=u}),"./node_modules/core-js/internals/perform.js":(function(o){o.exports=function(d){try{return{error:!1,value:d()}}catch(l){return{error:!0,value:l}}}}),"./node_modules/core-js/internals/promise-constructor-detection.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/global-this.js"),h=l("./node_modules/core-js/internals/promise-native-constructor.js"),f=l("./node_modules/core-js/internals/is-callable.js"),A=l("./node_modules/core-js/internals/is-forced.js"),g=l("./node_modules/core-js/internals/inspect-source.js"),m=l("./node_modules/core-js/internals/well-known-symbol.js"),x=l("./node_modules/core-js/internals/environment.js"),y=l("./node_modules/core-js/internals/is-pure.js"),j=l("./node_modules/core-js/internals/environment-v8-version.js"),b=h&&h.prototype,S=m("species"),w=!1,E=f(u.PromiseRejectionEvent),I=A("Promise",function(){var L=g(h),J=L!==String(h);if(!J&&j===66||y&&!(b.catch&&b.finally))return!0;if(!j||j<51||!/native code/.test(L)){var ae=new h(function(V){V(1)}),G=function(V){V(function(){},function(){})},le=ae.constructor={};if(le[S]=G,w=ae.then(function(){})instanceof G,!w)return!0}return!J&&(x==="BROWSER"||x==="DENO")&&!E});o.exports={CONSTRUCTOR:I,REJECTION_EVENT:E,SUBCLASSING:w}}),"./node_modules/core-js/internals/promise-native-constructor.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/global-this.js");o.exports=u.Promise}),"./node_modules/core-js/internals/promise-resolve.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/an-object.js"),h=l("./node_modules/core-js/internals/is-object.js"),f=l("./node_modules/core-js/internals/new-promise-capability.js");o.exports=function(A,g){if(u(A),h(g)&&g.constructor===A)return g;var m=f.f(A),x=m.resolve;return x(g),m.promise}}),"./node_modules/core-js/internals/promise-statics-incorrect-iteration.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/promise-native-constructor.js"),h=l("./node_modules/core-js/internals/check-correctness-of-iteration.js"),f=l("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR;o.exports=f||!h(function(A){u.all(A).then(void 0,function(){})})}),"./node_modules/core-js/internals/queue.js":(function(o){var d=function(){this.head=null,this.tail=null};d.prototype={add:function(l){var u={item:l,next:null},h=this.tail;h?h.next=u:this.head=u,this.tail=u},get:function(){var l=this.head;if(l){var u=this.head=l.next;return u===null&&(this.tail=null),l.item}}},o.exports=d}),"./node_modules/core-js/internals/regexp-exec-abstract.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-call.js"),h=l("./node_modules/core-js/internals/an-object.js"),f=l("./node_modules/core-js/internals/is-callable.js"),A=l("./node_modules/core-js/internals/classof-raw.js"),g=l("./node_modules/core-js/internals/regexp-exec.js"),m=TypeError;o.exports=function(x,y){var j=x.exec;if(f(j)){var b=u(j,x,y);return b!==null&&h(b),b}if(A(x)==="RegExp")return u(g,x,y);throw new m("RegExp#exec called on incompatible receiver")}}),"./node_modules/core-js/internals/regexp-exec.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-call.js"),h=l("./node_modules/core-js/internals/function-uncurry-this.js"),f=l("./node_modules/core-js/internals/to-string.js"),A=l("./node_modules/core-js/internals/regexp-flags.js"),g=l("./node_modules/core-js/internals/regexp-sticky-helpers.js"),m=l("./node_modules/core-js/internals/shared.js"),x=l("./node_modules/core-js/internals/object-create.js"),y=l("./node_modules/core-js/internals/internal-state.js").get,j=l("./node_modules/core-js/internals/regexp-unsupported-dot-all.js"),b=l("./node_modules/core-js/internals/regexp-unsupported-ncg.js"),S=m("native-string-replace",String.prototype.replace),w=RegExp.prototype.exec,E=w,I=h("".charAt),L=h("".indexOf),J=h("".replace),ae=h("".slice),G=(function(){var $=/a/,ee=/b*/g;return u(w,$,"a"),u(w,ee,"a"),$.lastIndex!==0||ee.lastIndex!==0})(),le=g.BROKEN_CARET,V=/()??/.exec("")[1]!==void 0,me=G||V||le||j||b;me&&(E=function(ee){var we=this,R=y(we),q=f(ee),ie=R.raw,Z,D,ue,te,ye,pe,je;if(ie)return ie.lastIndex=we.lastIndex,Z=u(E,ie,q),we.lastIndex=ie.lastIndex,Z;var re=R.groups,he=le&&we.sticky,X=u(A,we),Ae=we.source,Be=0,Me=q;if(he&&(X=J(X,"y",""),L(X,"g")===-1&&(X+="g"),Me=ae(q,we.lastIndex),we.lastIndex>0&&(!we.multiline||we.multiline&&I(q,we.lastIndex-1)!==`
`)&&(Ae="(?: "+Ae+")",Me=" "+Me,Be++),D=new RegExp("^(?:"+Ae+")",X)),V&&(D=new RegExp("^"+Ae+"$(?!\\s)",X)),G&&(ue=we.lastIndex),te=u(w,he?D:we,Me),he?te?(te.input=ae(te.input,Be),te[0]=ae(te[0],Be),te.index=we.lastIndex,we.lastIndex+=te[0].length):we.lastIndex=0:G&&te&&(we.lastIndex=we.global?te.index+te[0].length:ue),V&&te&&te.length>1&&u(S,te[0],D,function(){for(ye=1;ye<arguments.length-2;ye++)arguments[ye]===void 0&&(te[ye]=void 0)}),te&&re)for(te.groups=pe=x(null),ye=0;ye<re.length;ye++)je=re[ye],pe[je[0]]=te[je[1]];return te}),o.exports=E}),"./node_modules/core-js/internals/regexp-flags-detection.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/global-this.js"),h=l("./node_modules/core-js/internals/fails.js"),f=u.RegExp,A=!h(function(){var g=!0;try{f(".","d")}catch{g=!1}var m={},x="",y=g?"dgimsy":"gimsy",j=function(E,I){Object.defineProperty(m,E,{get:function(){return x+=I,!0}})},b={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};g&&(b.hasIndices="d");for(var S in b)j(S,b[S]);var w=Object.getOwnPropertyDescriptor(f.prototype,"flags").get.call(m);return w!==y||x!==y});o.exports={correct:A}}),"./node_modules/core-js/internals/regexp-flags.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/an-object.js");o.exports=function(){var h=u(this),f="";return h.hasIndices&&(f+="d"),h.global&&(f+="g"),h.ignoreCase&&(f+="i"),h.multiline&&(f+="m"),h.dotAll&&(f+="s"),h.unicode&&(f+="u"),h.unicodeSets&&(f+="v"),h.sticky&&(f+="y"),f}}),"./node_modules/core-js/internals/regexp-get-flags.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-call.js"),h=l("./node_modules/core-js/internals/has-own-property.js"),f=l("./node_modules/core-js/internals/object-is-prototype-of.js"),A=l("./node_modules/core-js/internals/regexp-flags-detection.js"),g=l("./node_modules/core-js/internals/regexp-flags.js"),m=RegExp.prototype;o.exports=A.correct?function(x){return x.flags}:function(x){return!A.correct&&f(m,x)&&!h(x,"flags")?u(g,x):x.flags}}),"./node_modules/core-js/internals/regexp-sticky-helpers.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/fails.js"),h=l("./node_modules/core-js/internals/global-this.js"),f=h.RegExp,A=u(function(){var x=f("a","y");return x.lastIndex=2,x.exec("abcd")!==null}),g=A||u(function(){return!f("a","y").sticky}),m=A||u(function(){var x=f("^r","gy");return x.lastIndex=2,x.exec("str")!==null});o.exports={BROKEN_CARET:m,MISSED_STICKY:g,UNSUPPORTED_Y:A}}),"./node_modules/core-js/internals/regexp-unsupported-dot-all.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/fails.js"),h=l("./node_modules/core-js/internals/global-this.js"),f=h.RegExp;o.exports=u(function(){var A=f(".","s");return!(A.dotAll&&A.test(`
`)&&A.flags==="s")})}),"./node_modules/core-js/internals/regexp-unsupported-ncg.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/fails.js"),h=l("./node_modules/core-js/internals/global-this.js"),f=h.RegExp;o.exports=u(function(){var A=f("(?<a>b)","g");return A.exec("b").groups.a!=="b"||"b".replace(A,"$<a>c")!=="bc"})}),"./node_modules/core-js/internals/require-object-coercible.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/is-null-or-undefined.js"),h=TypeError;o.exports=function(f){if(u(f))throw new h("Can't call method on "+f);return f}}),"./node_modules/core-js/internals/safe-get-built-in.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/global-this.js"),h=l("./node_modules/core-js/internals/descriptors.js"),f=Object.getOwnPropertyDescriptor;o.exports=function(A){if(!h)return u[A];var g=f(u,A);return g&&g.value}}),"./node_modules/core-js/internals/schedulers-fix.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/global-this.js"),h=l("./node_modules/core-js/internals/function-apply.js"),f=l("./node_modules/core-js/internals/is-callable.js"),A=l("./node_modules/core-js/internals/environment.js"),g=l("./node_modules/core-js/internals/environment-user-agent.js"),m=l("./node_modules/core-js/internals/array-slice.js"),x=l("./node_modules/core-js/internals/validate-arguments-length.js"),y=u.Function,j=/MSIE .\./.test(g)||A==="BUN"&&(function(){var b=u.Bun.version.split(".");return b.length<3||b[0]==="0"&&(b[1]<3||b[1]==="3"&&b[2]==="0")})();o.exports=function(b,S){var w=S?2:1;return j?function(E,I){var L=x(arguments.length,1)>w,J=f(E)?E:y(E),ae=L?m(arguments,w):[],G=L?function(){h(J,this,ae)}:J;return S?b(G,I):b(G)}:b}}),"./node_modules/core-js/internals/set-clone.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/set-helpers.js"),h=l("./node_modules/core-js/internals/set-iterate.js"),f=u.Set,A=u.add;o.exports=function(g){var m=new f;return h(g,function(x){A(m,x)}),m}}),"./node_modules/core-js/internals/set-difference.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/a-set.js"),h=l("./node_modules/core-js/internals/set-helpers.js"),f=l("./node_modules/core-js/internals/set-clone.js"),A=l("./node_modules/core-js/internals/set-size.js"),g=l("./node_modules/core-js/internals/get-set-record.js"),m=l("./node_modules/core-js/internals/set-iterate.js"),x=l("./node_modules/core-js/internals/iterate-simple.js"),y=h.has,j=h.remove;o.exports=function(S){var w=u(this),E=g(S),I=f(w);return A(w)<=E.size?m(w,function(L){E.includes(L)&&j(I,L)}):x(E.getIterator(),function(L){y(I,L)&&j(I,L)}),I}}),"./node_modules/core-js/internals/set-helpers.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-uncurry-this.js"),h=Set.prototype;o.exports={Set,add:u(h.add),has:u(h.has),remove:u(h.delete),proto:h}}),"./node_modules/core-js/internals/set-intersection.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/a-set.js"),h=l("./node_modules/core-js/internals/set-helpers.js"),f=l("./node_modules/core-js/internals/set-size.js"),A=l("./node_modules/core-js/internals/get-set-record.js"),g=l("./node_modules/core-js/internals/set-iterate.js"),m=l("./node_modules/core-js/internals/iterate-simple.js"),x=h.Set,y=h.add,j=h.has;o.exports=function(S){var w=u(this),E=A(S),I=new x;return f(w)>E.size?m(E.getIterator(),function(L){j(w,L)&&y(I,L)}):g(w,function(L){E.includes(L)&&y(I,L)}),I}}),"./node_modules/core-js/internals/set-is-disjoint-from.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/a-set.js"),h=l("./node_modules/core-js/internals/set-helpers.js").has,f=l("./node_modules/core-js/internals/set-size.js"),A=l("./node_modules/core-js/internals/get-set-record.js"),g=l("./node_modules/core-js/internals/set-iterate.js"),m=l("./node_modules/core-js/internals/iterate-simple.js"),x=l("./node_modules/core-js/internals/iterator-close.js");o.exports=function(j){var b=u(this),S=A(j);if(f(b)<=S.size)return g(b,function(E){if(S.includes(E))return!1},!0)!==!1;var w=S.getIterator();return m(w,function(E){if(h(b,E))return x(w,"normal",!1)})!==!1}}),"./node_modules/core-js/internals/set-is-subset-of.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/a-set.js"),h=l("./node_modules/core-js/internals/set-size.js"),f=l("./node_modules/core-js/internals/set-iterate.js"),A=l("./node_modules/core-js/internals/get-set-record.js");o.exports=function(m){var x=u(this),y=A(m);return h(x)>y.size?!1:f(x,function(j){if(!y.includes(j))return!1},!0)!==!1}}),"./node_modules/core-js/internals/set-is-superset-of.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/a-set.js"),h=l("./node_modules/core-js/internals/set-helpers.js").has,f=l("./node_modules/core-js/internals/set-size.js"),A=l("./node_modules/core-js/internals/get-set-record.js"),g=l("./node_modules/core-js/internals/iterate-simple.js"),m=l("./node_modules/core-js/internals/iterator-close.js");o.exports=function(y){var j=u(this),b=A(y);if(f(j)<b.size)return!1;var S=b.getIterator();return g(S,function(w){if(!h(j,w))return m(S,"normal",!1)})!==!1}}),"./node_modules/core-js/internals/set-iterate.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-uncurry-this.js"),h=l("./node_modules/core-js/internals/iterate-simple.js"),f=l("./node_modules/core-js/internals/set-helpers.js"),A=f.Set,g=f.proto,m=u(g.forEach),x=u(g.keys),y=x(new A).next;o.exports=function(j,b,S){return S?h({iterator:x(j),next:y},b):m(j,b)}}),"./node_modules/core-js/internals/set-size.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-uncurry-this-accessor.js"),h=l("./node_modules/core-js/internals/set-helpers.js");o.exports=u(h.proto,"size","get")||function(f){return f.size}}),"./node_modules/core-js/internals/set-species.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/get-built-in.js"),h=l("./node_modules/core-js/internals/define-built-in-accessor.js"),f=l("./node_modules/core-js/internals/well-known-symbol.js"),A=l("./node_modules/core-js/internals/descriptors.js"),g=f("species");o.exports=function(m){var x=u(m);A&&x&&!x[g]&&h(x,g,{configurable:!0,get:function(){return this}})}}),"./node_modules/core-js/internals/set-symmetric-difference.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/a-set.js"),h=l("./node_modules/core-js/internals/set-helpers.js"),f=l("./node_modules/core-js/internals/set-clone.js"),A=l("./node_modules/core-js/internals/get-set-record.js"),g=l("./node_modules/core-js/internals/iterate-simple.js"),m=h.add,x=h.has,y=h.remove;o.exports=function(b){var S=u(this),w=A(b).getIterator(),E=f(S);return g(w,function(I){x(S,I)?y(E,I):m(E,I)}),E}}),"./node_modules/core-js/internals/set-to-string-tag.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/object-define-property.js").f,h=l("./node_modules/core-js/internals/has-own-property.js"),f=l("./node_modules/core-js/internals/well-known-symbol.js"),A=f("toStringTag");o.exports=function(g,m,x){g&&!x&&(g=g.prototype),g&&!h(g,A)&&u(g,A,{configurable:!0,value:m})}}),"./node_modules/core-js/internals/set-union.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/a-set.js"),h=l("./node_modules/core-js/internals/set-helpers.js").add,f=l("./node_modules/core-js/internals/set-clone.js"),A=l("./node_modules/core-js/internals/get-set-record.js"),g=l("./node_modules/core-js/internals/iterate-simple.js");o.exports=function(x){var y=u(this),j=A(x).getIterator(),b=f(y);return g(j,function(S){h(b,S)}),b}}),"./node_modules/core-js/internals/shared-key.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/shared.js"),h=l("./node_modules/core-js/internals/uid.js"),f=u("keys");o.exports=function(A){return f[A]||(f[A]=h(A))}}),"./node_modules/core-js/internals/shared-store.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/is-pure.js"),h=l("./node_modules/core-js/internals/global-this.js"),f=l("./node_modules/core-js/internals/define-global-property.js"),A="__core-js_shared__",g=o.exports=h[A]||f(A,{});(g.versions||(g.versions=[])).push({version:"3.47.0",mode:u?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru), 2025 CoreJS Company (core-js.io)",license:"https://github.com/zloirock/core-js/blob/v3.47.0/LICENSE",source:"https://github.com/zloirock/core-js"})}),"./node_modules/core-js/internals/shared.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/shared-store.js");o.exports=function(h,f){return u[h]||(u[h]=f||{})}}),"./node_modules/core-js/internals/species-constructor.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/an-object.js"),h=l("./node_modules/core-js/internals/a-constructor.js"),f=l("./node_modules/core-js/internals/is-null-or-undefined.js"),A=l("./node_modules/core-js/internals/well-known-symbol.js"),g=A("species");o.exports=function(m,x){var y=u(m).constructor,j;return y===void 0||f(j=u(y)[g])?x:h(j)}}),"./node_modules/core-js/internals/string-html-forced.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/fails.js");o.exports=function(h){return u(function(){var f=""[h]('"');return f!==f.toLowerCase()||f.split('"').length>3})}}),"./node_modules/core-js/internals/string-multibyte.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-uncurry-this.js"),h=l("./node_modules/core-js/internals/to-integer-or-infinity.js"),f=l("./node_modules/core-js/internals/to-string.js"),A=l("./node_modules/core-js/internals/require-object-coercible.js"),g=u("".charAt),m=u("".charCodeAt),x=u("".slice),y=function(j){return function(b,S){var w=f(A(b)),E=h(S),I=w.length,L,J;return E<0||E>=I?j?"":void 0:(L=m(w,E),L<55296||L>56319||E+1===I||(J=m(w,E+1))<56320||J>57343?j?g(w,E):L:j?x(w,E,E+2):(L-55296<<10)+(J-56320)+65536)}};o.exports={codeAt:y(!1),charAt:y(!0)}}),"./node_modules/core-js/internals/string-trim-forced.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-name.js").PROPER,h=l("./node_modules/core-js/internals/fails.js"),f=l("./node_modules/core-js/internals/whitespaces.js"),A="";o.exports=function(g){return h(function(){return!!f[g]()||A[g]()!==A||u&&f[g].name!==g})}}),"./node_modules/core-js/internals/string-trim.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-uncurry-this.js"),h=l("./node_modules/core-js/internals/require-object-coercible.js"),f=l("./node_modules/core-js/internals/to-string.js"),A=l("./node_modules/core-js/internals/whitespaces.js"),g=u("".replace),m=RegExp("^["+A+"]+"),x=RegExp("(^|[^"+A+"])["+A+"]+$"),y=function(j){return function(b){var S=f(h(b));return j&1&&(S=g(S,m,"")),j&2&&(S=g(S,x,"$1")),S}};o.exports={start:y(1),end:y(2),trim:y(3)}}),"./node_modules/core-js/internals/symbol-constructor-detection.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/environment-v8-version.js"),h=l("./node_modules/core-js/internals/fails.js"),f=l("./node_modules/core-js/internals/global-this.js"),A=f.String;o.exports=!!Object.getOwnPropertySymbols&&!h(function(){var g=Symbol("symbol detection");return!A(g)||!(Object(g)instanceof Symbol)||!Symbol.sham&&u&&u<41})}),"./node_modules/core-js/internals/symbol-define-to-primitive.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-call.js"),h=l("./node_modules/core-js/internals/get-built-in.js"),f=l("./node_modules/core-js/internals/well-known-symbol.js"),A=l("./node_modules/core-js/internals/define-built-in.js");o.exports=function(){var g=h("Symbol"),m=g&&g.prototype,x=m&&m.valueOf,y=f("toPrimitive");m&&!m[y]&&A(m,y,function(j){return u(x,this)},{arity:1})}}),"./node_modules/core-js/internals/symbol-registry-detection.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/symbol-constructor-detection.js");o.exports=u&&!!Symbol.for&&!!Symbol.keyFor}),"./node_modules/core-js/internals/task.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/global-this.js"),h=l("./node_modules/core-js/internals/function-apply.js"),f=l("./node_modules/core-js/internals/function-bind-context.js"),A=l("./node_modules/core-js/internals/is-callable.js"),g=l("./node_modules/core-js/internals/has-own-property.js"),m=l("./node_modules/core-js/internals/fails.js"),x=l("./node_modules/core-js/internals/html.js"),y=l("./node_modules/core-js/internals/array-slice.js"),j=l("./node_modules/core-js/internals/document-create-element.js"),b=l("./node_modules/core-js/internals/validate-arguments-length.js"),S=l("./node_modules/core-js/internals/environment-is-ios.js"),w=l("./node_modules/core-js/internals/environment-is-node.js"),E=u.setImmediate,I=u.clearImmediate,L=u.process,J=u.Dispatch,ae=u.Function,G=u.MessageChannel,le=u.String,V=0,me={},$="onreadystatechange",ee,we,R,q;m(function(){ee=u.location});var ie=function(te){if(g(me,te)){var ye=me[te];delete me[te],ye()}},Z=function(te){return function(){ie(te)}},D=function(te){ie(te.data)},ue=function(te){u.postMessage(le(te),ee.protocol+"//"+ee.host)};(!E||!I)&&(E=function(ye){b(arguments.length,1);var pe=A(ye)?ye:ae(ye),je=y(arguments,1);return me[++V]=function(){h(pe,void 0,je)},we(V),V},I=function(ye){delete me[ye]},w?we=function(te){L.nextTick(Z(te))}:J&&J.now?we=function(te){J.now(Z(te))}:G&&!S?(R=new G,q=R.port2,R.port1.onmessage=D,we=f(q.postMessage,q)):u.addEventListener&&A(u.postMessage)&&!u.importScripts&&ee&&ee.protocol!=="file:"&&!m(ue)?(we=ue,u.addEventListener("message",D,!1)):$ in j("script")?we=function(te){x.appendChild(j("script"))[$]=function(){x.removeChild(this),ie(te)}}:we=function(te){setTimeout(Z(te),0)}),o.exports={set:E,clear:I}}),"./node_modules/core-js/internals/this-number-value.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-uncurry-this.js");o.exports=u(1.1.valueOf)}),"./node_modules/core-js/internals/to-absolute-index.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/to-integer-or-infinity.js"),h=Math.max,f=Math.min;o.exports=function(A,g){var m=u(A);return m<0?h(m+g,0):f(m,g)}}),"./node_modules/core-js/internals/to-indexed-object.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/indexed-object.js"),h=l("./node_modules/core-js/internals/require-object-coercible.js");o.exports=function(f){return u(h(f))}}),"./node_modules/core-js/internals/to-integer-or-infinity.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/math-trunc.js");o.exports=function(h){var f=+h;return f!==f||f===0?0:u(f)}}),"./node_modules/core-js/internals/to-length.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/to-integer-or-infinity.js"),h=Math.min;o.exports=function(f){var A=u(f);return A>0?h(A,9007199254740991):0}}),"./node_modules/core-js/internals/to-object.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/require-object-coercible.js"),h=Object;o.exports=function(f){return h(u(f))}}),"./node_modules/core-js/internals/to-primitive.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-call.js"),h=l("./node_modules/core-js/internals/is-object.js"),f=l("./node_modules/core-js/internals/is-symbol.js"),A=l("./node_modules/core-js/internals/get-method.js"),g=l("./node_modules/core-js/internals/ordinary-to-primitive.js"),m=l("./node_modules/core-js/internals/well-known-symbol.js"),x=TypeError,y=m("toPrimitive");o.exports=function(j,b){if(!h(j)||f(j))return j;var S=A(j,y),w;if(S){if(b===void 0&&(b="default"),w=u(S,j,b),!h(w)||f(w))return w;throw new x("Can't convert object to primitive value")}return b===void 0&&(b="number"),g(j,b)}}),"./node_modules/core-js/internals/to-property-key.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/to-primitive.js"),h=l("./node_modules/core-js/internals/is-symbol.js");o.exports=function(f){var A=u(f,"string");return h(A)?A:A+""}}),"./node_modules/core-js/internals/to-set-like.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/get-built-in.js"),h=l("./node_modules/core-js/internals/is-callable.js"),f=l("./node_modules/core-js/internals/is-iterable.js"),A=l("./node_modules/core-js/internals/is-object.js"),g=u("Set"),m=function(x){return A(x)&&typeof x.size=="number"&&h(x.has)&&h(x.keys)};o.exports=function(x){return m(x)?x:f(x)?new g(x):x}}),"./node_modules/core-js/internals/to-string-tag-support.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/well-known-symbol.js"),h=u("toStringTag"),f={};f[h]="z",o.exports=String(f)==="[object z]"}),"./node_modules/core-js/internals/to-string.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/classof.js"),h=String;o.exports=function(f){if(u(f)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return h(f)}}),"./node_modules/core-js/internals/try-to-string.js":(function(o){var d=String;o.exports=function(l){try{return d(l)}catch{return"Object"}}}),"./node_modules/core-js/internals/uid.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-uncurry-this.js"),h=0,f=Math.random(),A=u(1.1.toString);o.exports=function(g){return"Symbol("+(g===void 0?"":g)+")_"+A(++h+f,36)}}),"./node_modules/core-js/internals/use-symbol-as-uid.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/symbol-constructor-detection.js");o.exports=u&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}),"./node_modules/core-js/internals/v8-prototype-define-bug.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/descriptors.js"),h=l("./node_modules/core-js/internals/fails.js");o.exports=u&&h(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})}),"./node_modules/core-js/internals/validate-arguments-length.js":(function(o){var d=TypeError;o.exports=function(l,u){if(l<u)throw new d("Not enough arguments");return l}}),"./node_modules/core-js/internals/weak-map-basic-detection.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/global-this.js"),h=l("./node_modules/core-js/internals/is-callable.js"),f=u.WeakMap;o.exports=h(f)&&/native code/.test(String(f))}),"./node_modules/core-js/internals/well-known-symbol-define.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/path.js"),h=l("./node_modules/core-js/internals/has-own-property.js"),f=l("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),A=l("./node_modules/core-js/internals/object-define-property.js").f;o.exports=function(g){var m=u.Symbol||(u.Symbol={});h(m,g)||A(m,g,{value:f.f(g)})}}),"./node_modules/core-js/internals/well-known-symbol-wrapped.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/well-known-symbol.js");d.f=u}),"./node_modules/core-js/internals/well-known-symbol.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/global-this.js"),h=l("./node_modules/core-js/internals/shared.js"),f=l("./node_modules/core-js/internals/has-own-property.js"),A=l("./node_modules/core-js/internals/uid.js"),g=l("./node_modules/core-js/internals/symbol-constructor-detection.js"),m=l("./node_modules/core-js/internals/use-symbol-as-uid.js"),x=u.Symbol,y=h("wks"),j=m?x.for||x:x&&x.withoutSetter||A;o.exports=function(b){return f(y,b)||(y[b]=g&&f(x,b)?x[b]:j("Symbol."+b)),y[b]}}),"./node_modules/core-js/internals/whitespaces.js":(function(o){o.exports=`	
\v\f\r \u2028\u2029\uFEFF`}),"./node_modules/core-js/modules/es.array.concat.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/fails.js"),f=l("./node_modules/core-js/internals/is-array.js"),A=l("./node_modules/core-js/internals/is-object.js"),g=l("./node_modules/core-js/internals/to-object.js"),m=l("./node_modules/core-js/internals/length-of-array-like.js"),x=l("./node_modules/core-js/internals/does-not-exceed-safe-integer.js"),y=l("./node_modules/core-js/internals/create-property.js"),j=l("./node_modules/core-js/internals/array-species-create.js"),b=l("./node_modules/core-js/internals/array-method-has-species-support.js"),S=l("./node_modules/core-js/internals/well-known-symbol.js"),w=l("./node_modules/core-js/internals/environment-v8-version.js"),E=S("isConcatSpreadable"),I=w>=51||!h(function(){var ae=[];return ae[E]=!1,ae.concat()[0]!==ae}),L=function(ae){if(!A(ae))return!1;var G=ae[E];return G!==void 0?!!G:f(ae)},J=!I||!b("concat");u({target:"Array",proto:!0,arity:1,forced:J},{concat:function(G){var le=g(this),V=j(le,0),me=0,$,ee,we,R,q;for($=-1,we=arguments.length;$<we;$++)if(q=$===-1?le:arguments[$],L(q))for(R=m(q),x(me+R),ee=0;ee<R;ee++,me++)ee in q&&y(V,me,q[ee]);else x(me+1),y(V,me++,q);return V.length=me,V}})}),"./node_modules/core-js/modules/es.array.from.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/array-from.js"),f=l("./node_modules/core-js/internals/check-correctness-of-iteration.js"),A=!f(function(g){Array.from(g)});u({target:"Array",stat:!0,forced:A},{from:h})}),"./node_modules/core-js/modules/es.array.index-of.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/function-uncurry-this-clause.js"),f=l("./node_modules/core-js/internals/array-includes.js").indexOf,A=l("./node_modules/core-js/internals/array-method-is-strict.js"),g=h([].indexOf),m=!!g&&1/g([1],1,-0)<0,x=m||!A("indexOf");u({target:"Array",proto:!0,forced:x},{indexOf:function(j){var b=arguments.length>1?arguments[1]:void 0;return m?g(this,j,b)||0:f(this,j,b)}})}),"./node_modules/core-js/modules/es.array.iterator.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/to-indexed-object.js"),h=l("./node_modules/core-js/internals/add-to-unscopables.js"),f=l("./node_modules/core-js/internals/iterators.js"),A=l("./node_modules/core-js/internals/internal-state.js"),g=l("./node_modules/core-js/internals/object-define-property.js").f,m=l("./node_modules/core-js/internals/iterator-define.js"),x=l("./node_modules/core-js/internals/create-iter-result-object.js"),y=l("./node_modules/core-js/internals/is-pure.js"),j=l("./node_modules/core-js/internals/descriptors.js"),b="Array Iterator",S=A.set,w=A.getterFor(b);o.exports=m(Array,"Array",function(I,L){S(this,{type:b,target:u(I),index:0,kind:L})},function(){var I=w(this),L=I.target,J=I.index++;if(!L||J>=L.length)return I.target=null,x(void 0,!0);switch(I.kind){case"keys":return x(J,!1);case"values":return x(L[J],!1)}return x([J,L[J]],!1)},"values");var E=f.Arguments=f.Array;if(h("keys"),h("values"),h("entries"),!y&&j&&E.name!=="values")try{g(E,"name",{value:"values"})}catch{}}),"./node_modules/core-js/modules/es.array.join.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/function-uncurry-this.js"),f=l("./node_modules/core-js/internals/indexed-object.js"),A=l("./node_modules/core-js/internals/to-indexed-object.js"),g=l("./node_modules/core-js/internals/array-method-is-strict.js"),m=h([].join),x=f!==Object,y=x||!g("join",",");u({target:"Array",proto:!0,forced:y},{join:function(b){return m(A(this),b===void 0?",":b)}})}),"./node_modules/core-js/modules/es.array.map.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/array-iteration.js").map,f=l("./node_modules/core-js/internals/array-method-has-species-support.js"),A=f("map");u({target:"Array",proto:!0,forced:!A},{map:function(m){return h(this,m,arguments.length>1?arguments[1]:void 0)}})}),"./node_modules/core-js/modules/es.array.reduce.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/array-reduce.js").left,f=l("./node_modules/core-js/internals/array-method-is-strict.js"),A=l("./node_modules/core-js/internals/environment-v8-version.js"),g=l("./node_modules/core-js/internals/environment-is-node.js"),m=!g&&A>79&&A<83,x=m||!f("reduce");u({target:"Array",proto:!0,forced:x},{reduce:function(j){var b=arguments.length;return h(this,j,b,b>1?arguments[1]:void 0)}})}),"./node_modules/core-js/modules/es.array.reverse.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/function-uncurry-this.js"),f=l("./node_modules/core-js/internals/is-array.js"),A=h([].reverse),g=[1,2];u({target:"Array",proto:!0,forced:String(g)===String(g.reverse())},{reverse:function(){return f(this)&&(this.length=this.length),A(this)}})}),"./node_modules/core-js/modules/es.array.slice.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/is-array.js"),f=l("./node_modules/core-js/internals/is-constructor.js"),A=l("./node_modules/core-js/internals/is-object.js"),g=l("./node_modules/core-js/internals/to-absolute-index.js"),m=l("./node_modules/core-js/internals/length-of-array-like.js"),x=l("./node_modules/core-js/internals/to-indexed-object.js"),y=l("./node_modules/core-js/internals/create-property.js"),j=l("./node_modules/core-js/internals/well-known-symbol.js"),b=l("./node_modules/core-js/internals/array-method-has-species-support.js"),S=l("./node_modules/core-js/internals/array-slice.js"),w=b("slice"),E=j("species"),I=Array,L=Math.max;u({target:"Array",proto:!0,forced:!w},{slice:function(ae,G){var le=x(this),V=m(le),me=g(ae,V),$=g(G===void 0?V:G,V),ee,we,R;if(h(le)&&(ee=le.constructor,f(ee)&&(ee===I||h(ee.prototype))?ee=void 0:A(ee)&&(ee=ee[E],ee===null&&(ee=void 0)),ee===I||ee===void 0))return S(le,me,$);for(we=new(ee===void 0?I:ee)(L($-me,0)),R=0;me<$;me++,R++)me in le&&y(we,R,le[me]);return we.length=R,we}})}),"./node_modules/core-js/modules/es.function.name.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/descriptors.js"),h=l("./node_modules/core-js/internals/function-name.js").EXISTS,f=l("./node_modules/core-js/internals/function-uncurry-this.js"),A=l("./node_modules/core-js/internals/define-built-in-accessor.js"),g=Function.prototype,m=f(g.toString),x=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,y=f(x.exec),j="name";u&&!h&&A(g,j,{configurable:!0,get:function(){try{return y(x,m(this))[1]}catch{return""}}})}),"./node_modules/core-js/modules/es.iterator.constructor.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/global-this.js"),f=l("./node_modules/core-js/internals/an-instance.js"),A=l("./node_modules/core-js/internals/an-object.js"),g=l("./node_modules/core-js/internals/is-callable.js"),m=l("./node_modules/core-js/internals/object-get-prototype-of.js"),x=l("./node_modules/core-js/internals/define-built-in-accessor.js"),y=l("./node_modules/core-js/internals/create-property.js"),j=l("./node_modules/core-js/internals/fails.js"),b=l("./node_modules/core-js/internals/has-own-property.js"),S=l("./node_modules/core-js/internals/well-known-symbol.js"),w=l("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,E=l("./node_modules/core-js/internals/descriptors.js"),I=l("./node_modules/core-js/internals/is-pure.js"),L="constructor",J="Iterator",ae=S("toStringTag"),G=TypeError,le=h[J],V=I||!g(le)||le.prototype!==w||!j(function(){le({})}),me=function(){if(f(this,w),m(this)===w)throw new G("Abstract class Iterator not directly constructable")},$=function(ee,we){E?x(w,ee,{configurable:!0,get:function(){return we},set:function(R){if(A(this),this===w)throw new G("You can't redefine this property");b(this,ee)?this[ee]=R:y(this,ee,R)}}):w[ee]=we};b(w,ae)||$(ae,J),(V||!b(w,L)||w[L]===Object)&&$(L,me),me.prototype=w,u({global:!0,constructor:!0,forced:V},{Iterator:me})}),"./node_modules/core-js/modules/es.iterator.for-each.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/function-call.js"),f=l("./node_modules/core-js/internals/iterate.js"),A=l("./node_modules/core-js/internals/a-callable.js"),g=l("./node_modules/core-js/internals/an-object.js"),m=l("./node_modules/core-js/internals/get-iterator-direct.js"),x=l("./node_modules/core-js/internals/iterator-close.js"),y=l("./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js"),j=y("forEach",TypeError);u({target:"Iterator",proto:!0,real:!0,forced:j},{forEach:function(S){g(this);try{A(S)}catch(I){x(this,"throw",I)}if(j)return h(j,this,S);var w=m(this),E=0;f(w,function(I){S(I,E++)},{IS_RECORD:!0})}})}),"./node_modules/core-js/modules/es.iterator.map.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/function-call.js"),f=l("./node_modules/core-js/internals/a-callable.js"),A=l("./node_modules/core-js/internals/an-object.js"),g=l("./node_modules/core-js/internals/get-iterator-direct.js"),m=l("./node_modules/core-js/internals/iterator-create-proxy.js"),x=l("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),y=l("./node_modules/core-js/internals/iterator-close.js"),j=l("./node_modules/core-js/internals/iterator-helper-throws-on-invalid-iterator.js"),b=l("./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js"),S=l("./node_modules/core-js/internals/is-pure.js"),w=!S&&!j("map",function(){}),E=!S&&!w&&b("map",TypeError),I=S||w||E,L=m(function(){var J=this.iterator,ae=A(h(this.next,J)),G=this.done=!!ae.done;if(!G)return x(J,this.mapper,[ae.value,this.counter++],!0)});u({target:"Iterator",proto:!0,real:!0,forced:I},{map:function(ae){A(this);try{f(ae)}catch(G){y(this,"throw",G)}return E?h(E,this,ae):new L(g(this),{mapper:ae})}})}),"./node_modules/core-js/modules/es.json.stringify.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/get-built-in.js"),f=l("./node_modules/core-js/internals/function-apply.js"),A=l("./node_modules/core-js/internals/function-call.js"),g=l("./node_modules/core-js/internals/function-uncurry-this.js"),m=l("./node_modules/core-js/internals/fails.js"),x=l("./node_modules/core-js/internals/is-array.js"),y=l("./node_modules/core-js/internals/is-callable.js"),j=l("./node_modules/core-js/internals/is-raw-json.js"),b=l("./node_modules/core-js/internals/is-symbol.js"),S=l("./node_modules/core-js/internals/classof-raw.js"),w=l("./node_modules/core-js/internals/to-string.js"),E=l("./node_modules/core-js/internals/array-slice.js"),I=l("./node_modules/core-js/internals/parse-json-string.js"),L=l("./node_modules/core-js/internals/uid.js"),J=l("./node_modules/core-js/internals/symbol-constructor-detection.js"),ae=l("./node_modules/core-js/internals/native-raw-json.js"),G=String,le=h("JSON","stringify"),V=g(/./.exec),me=g("".charAt),$=g("".charCodeAt),ee=g("".replace),we=g("".slice),R=g([].push),q=g(1.1.toString),ie=/[\uD800-\uDFFF]/g,Z=/^[\uD800-\uDBFF]$/,D=/^[\uDC00-\uDFFF]$/,ue=L(),te=ue.length,ye=!J||m(function(){var X=h("Symbol")("stringify detection");return le([X])!=="[null]"||le({a:X})!=="{}"||le(Object(X))!=="{}"}),pe=m(function(){return le("\uDF06\uD834")!=='"\\udf06\\ud834"'||le("\uDEAD")!=='"\\udead"'}),je=ye?function(X,Ae){var Be=E(arguments),Me=he(Ae);if(!(!y(Me)&&(X===void 0||b(X))))return Be[1]=function($e,ne){if(y(Me)&&(ne=A(Me,this,G($e),ne)),!b(ne))return ne},f(le,null,Be)}:le,re=function(X,Ae,Be){var Me=me(Be,Ae-1),$e=me(Be,Ae+1);return V(Z,X)&&!V(D,$e)||V(D,X)&&!V(Z,Me)?"\\u"+q($(X,0),16):X},he=function(X){if(y(X))return X;if(x(X)){for(var Ae=X.length,Be=[],Me=0;Me<Ae;Me++){var $e=X[Me];typeof $e=="string"?R(Be,$e):(typeof $e=="number"||S($e)==="Number"||S($e)==="String")&&R(Be,w($e))}var ne=Be.length,Pe=!0;return function(_e,rt){if(Pe)return Pe=!1,rt;if(x(this))return rt;for(var et=0;et<ne;et++)if(Be[et]===_e)return rt}}};le&&u({target:"JSON",stat:!0,arity:3,forced:ye||pe||!ae},{stringify:function(Ae,Be,Me){var $e=he(Be),ne=[],Pe=je(Ae,function(qe,St){var _t=y($e)?A($e,this,G(qe),St):St;return!ae&&j(_t)?ue+(R(ne,_t.rawJSON)-1):_t},Me);if(typeof Pe!="string"||(pe&&(Pe=ee(Pe,ie,re)),ae))return Pe;for(var _e="",rt=Pe.length,et=0;et<rt;et++){var Le=me(Pe,et);if(Le==='"'){var it=I(Pe,++et).end-1,Wt=we(Pe,et,it);_e+=we(Wt,0,te)===ue?ne[we(Wt,te)]:'"'+Wt+'"',et=it}else _e+=Le}return _e}})}),"./node_modules/core-js/modules/es.number.constructor.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/is-pure.js"),f=l("./node_modules/core-js/internals/descriptors.js"),A=l("./node_modules/core-js/internals/global-this.js"),g=l("./node_modules/core-js/internals/path.js"),m=l("./node_modules/core-js/internals/function-uncurry-this.js"),x=l("./node_modules/core-js/internals/is-forced.js"),y=l("./node_modules/core-js/internals/has-own-property.js"),j=l("./node_modules/core-js/internals/inherit-if-required.js"),b=l("./node_modules/core-js/internals/object-is-prototype-of.js"),S=l("./node_modules/core-js/internals/is-symbol.js"),w=l("./node_modules/core-js/internals/to-primitive.js"),E=l("./node_modules/core-js/internals/fails.js"),I=l("./node_modules/core-js/internals/object-get-own-property-names.js").f,L=l("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,J=l("./node_modules/core-js/internals/object-define-property.js").f,ae=l("./node_modules/core-js/internals/this-number-value.js"),G=l("./node_modules/core-js/internals/string-trim.js").trim,le="Number",V=A[le],me=g[le],$=V.prototype,ee=A.TypeError,we=m("".slice),R=m("".charCodeAt),q=function(ye){var pe=w(ye,"number");return typeof pe=="bigint"?pe:ie(pe)},ie=function(ye){var pe=w(ye,"number"),je,re,he,X,Ae,Be,Me,$e;if(S(pe))throw new ee("Cannot convert a Symbol value to a number");if(typeof pe=="string"&&pe.length>2){if(pe=G(pe),je=R(pe,0),je===43||je===45){if(re=R(pe,2),re===88||re===120)return NaN}else if(je===48){switch(R(pe,1)){case 66:case 98:he=2,X=49;break;case 79:case 111:he=8,X=55;break;default:return+pe}for(Ae=we(pe,2),Be=Ae.length,Me=0;Me<Be;Me++)if($e=R(Ae,Me),$e<48||$e>X)return NaN;return parseInt(Ae,he)}}return+pe},Z=x(le,!V(" 0o1")||!V("0b1")||V("+0x1")),D=function(ye){return b($,ye)&&E(function(){ae(ye)})},ue=function(pe){var je=arguments.length<1?0:V(q(pe));return D(this)?j(Object(je),this,ue):je};ue.prototype=$,Z&&!h&&($.constructor=ue),u({global:!0,constructor:!0,wrap:!0,forced:Z},{Number:ue});var te=function(ye,pe){for(var je=f?I(pe):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),re=0,he;je.length>re;re++)y(pe,he=je[re])&&!y(ye,he)&&J(ye,he,L(pe,he))};h&&me&&te(g[le],me),(Z||h)&&te(g[le],V)}),"./node_modules/core-js/modules/es.object.assign.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/object-assign.js");u({target:"Object",stat:!0,arity:2,forced:Object.assign!==h},{assign:h})}),"./node_modules/core-js/modules/es.object.get-own-property-symbols.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/symbol-constructor-detection.js"),f=l("./node_modules/core-js/internals/fails.js"),A=l("./node_modules/core-js/internals/object-get-own-property-symbols.js"),g=l("./node_modules/core-js/internals/to-object.js"),m=!h||f(function(){A.f(1)});u({target:"Object",stat:!0,forced:m},{getOwnPropertySymbols:function(y){var j=A.f;return j?j(g(y)):[]}})}),"./node_modules/core-js/modules/es.object.keys.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/to-object.js"),f=l("./node_modules/core-js/internals/object-keys.js"),A=l("./node_modules/core-js/internals/fails.js"),g=A(function(){f(1)});u({target:"Object",stat:!0,forced:g},{keys:function(x){return f(h(x))}})}),"./node_modules/core-js/modules/es.object.to-string.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/to-string-tag-support.js"),h=l("./node_modules/core-js/internals/define-built-in.js"),f=l("./node_modules/core-js/internals/object-to-string.js");u||h(Object.prototype,"toString",f,{unsafe:!0})}),"./node_modules/core-js/modules/es.promise.all.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/function-call.js"),f=l("./node_modules/core-js/internals/a-callable.js"),A=l("./node_modules/core-js/internals/new-promise-capability.js"),g=l("./node_modules/core-js/internals/perform.js"),m=l("./node_modules/core-js/internals/iterate.js"),x=l("./node_modules/core-js/internals/promise-statics-incorrect-iteration.js");u({target:"Promise",stat:!0,forced:x},{all:function(j){var b=this,S=A.f(b),w=S.resolve,E=S.reject,I=g(function(){var L=f(b.resolve),J=[],ae=0,G=1;m(j,function(le){var V=ae++,me=!1;G++,h(L,b,le).then(function($){me||(me=!0,J[V]=$,--G||w(J))},E)}),--G||w(J)});return I.error&&E(I.value),S.promise}})}),"./node_modules/core-js/modules/es.promise.catch.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/is-pure.js"),f=l("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR,A=l("./node_modules/core-js/internals/promise-native-constructor.js"),g=l("./node_modules/core-js/internals/get-built-in.js"),m=l("./node_modules/core-js/internals/is-callable.js"),x=l("./node_modules/core-js/internals/define-built-in.js"),y=A&&A.prototype;if(u({target:"Promise",proto:!0,forced:f,real:!0},{catch:function(b){return this.then(void 0,b)}}),!h&&m(A)){var j=g("Promise").prototype.catch;y.catch!==j&&x(y,"catch",j,{unsafe:!0})}}),"./node_modules/core-js/modules/es.promise.constructor.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/is-pure.js"),f=l("./node_modules/core-js/internals/environment-is-node.js"),A=l("./node_modules/core-js/internals/global-this.js"),g=l("./node_modules/core-js/internals/path.js"),m=l("./node_modules/core-js/internals/function-call.js"),x=l("./node_modules/core-js/internals/define-built-in.js"),y=l("./node_modules/core-js/internals/object-set-prototype-of.js"),j=l("./node_modules/core-js/internals/set-to-string-tag.js"),b=l("./node_modules/core-js/internals/set-species.js"),S=l("./node_modules/core-js/internals/a-callable.js"),w=l("./node_modules/core-js/internals/is-callable.js"),E=l("./node_modules/core-js/internals/is-object.js"),I=l("./node_modules/core-js/internals/an-instance.js"),L=l("./node_modules/core-js/internals/species-constructor.js"),J=l("./node_modules/core-js/internals/task.js").set,ae=l("./node_modules/core-js/internals/microtask.js"),G=l("./node_modules/core-js/internals/host-report-errors.js"),le=l("./node_modules/core-js/internals/perform.js"),V=l("./node_modules/core-js/internals/queue.js"),me=l("./node_modules/core-js/internals/internal-state.js"),$=l("./node_modules/core-js/internals/promise-native-constructor.js"),ee=l("./node_modules/core-js/internals/promise-constructor-detection.js"),we=l("./node_modules/core-js/internals/new-promise-capability.js"),R="Promise",q=ee.CONSTRUCTOR,ie=ee.REJECTION_EVENT,Z=ee.SUBCLASSING,D=me.getterFor(R),ue=me.set,te=$&&$.prototype,ye=$,pe=te,je=A.TypeError,re=A.document,he=A.process,X=we.f,Ae=X,Be=!!(re&&re.createEvent&&A.dispatchEvent),Me="unhandledrejection",$e="rejectionhandled",ne=0,Pe=1,_e=2,rt=1,et=2,Le,it,Wt,qe,St=function(Ht){var $t;return E(Ht)&&w($t=Ht.then)?$t:!1},_t=function(Ht,$t){var Dr=$t.value,Fr=$t.state===Pe,Jr=Fr?Ht.ok:Ht.fail,Wr=Ht.resolve,Ln=Ht.reject,Vr=Ht.domain,Ur,Cn,un;try{Jr?(Fr||($t.rejection===et&&Qr($t),$t.rejection=rt),Jr===!0?Ur=Dr:(Vr&&Vr.enter(),Ur=Jr(Dr),Vr&&(Vr.exit(),un=!0)),Ur===Ht.promise?Ln(new je("Promise-chain cycle")):(Cn=St(Ur))?m(Cn,Ur,Wr,Ln):Wr(Ur)):Ln(Dr)}catch(Dn){Vr&&!un&&Vr.exit(),Ln(Dn)}},ar=function(Ht,$t){Ht.notified||(Ht.notified=!0,ae(function(){for(var Dr=Ht.reactions,Fr;Fr=Dr.get();)_t(Fr,Ht);Ht.notified=!1,$t&&!Ht.rejection&&Xt(Ht)}))},en=function(Ht,$t,Dr){var Fr,Jr;Be?(Fr=re.createEvent("Event"),Fr.promise=$t,Fr.reason=Dr,Fr.initEvent(Ht,!1,!0),A.dispatchEvent(Fr)):Fr={promise:$t,reason:Dr},!ie&&(Jr=A["on"+Ht])?Jr(Fr):Ht===Me&&G("Unhandled promise rejection",Dr)},Xt=function(Ht){m(J,A,function(){var $t=Ht.facade,Dr=Ht.value,Fr=Yr(Ht),Jr;if(Fr&&(Jr=le(function(){f?he.emit("unhandledRejection",Dr,$t):en(Me,$t,Dr)}),Ht.rejection=f||Yr(Ht)?et:rt,Jr.error))throw Jr.value})},Yr=function(Ht){return Ht.rejection!==rt&&!Ht.parent},Qr=function(Ht){m(J,A,function(){var $t=Ht.facade;f?he.emit("rejectionHandled",$t):en($e,$t,Ht.value)})},He=function(Ht,$t,Dr){return function(Fr){Ht($t,Fr,Dr)}},Rt=function(Ht,$t,Dr){Ht.done||(Ht.done=!0,Dr&&(Ht=Dr),Ht.value=$t,Ht.state=_e,ar(Ht,!0))},ot=function(Ht,$t,Dr){if(!Ht.done){Ht.done=!0,Dr&&(Ht=Dr);try{if(Ht.facade===$t)throw new je("Promise can't be resolved itself");var Fr=St($t);Fr?ae(function(){var Jr={done:!1};try{m(Fr,$t,He(ot,Jr,Ht),He(Rt,Jr,Ht))}catch(Wr){Rt(Jr,Wr,Ht)}}):(Ht.value=$t,Ht.state=Pe,ar(Ht,!1))}catch(Jr){Rt({done:!1},Jr,Ht)}}};if(q&&(ye=function($t){I(this,pe),S($t),m(Le,this);var Dr=D(this);try{$t(He(ot,Dr),He(Rt,Dr))}catch(Fr){Rt(Dr,Fr)}},pe=ye.prototype,Le=function($t){ue(this,{type:R,done:!1,notified:!1,parent:!1,reactions:new V,rejection:!1,state:ne,value:null})},Le.prototype=x(pe,"then",function($t,Dr){var Fr=D(this),Jr=X(L(this,ye));return Fr.parent=!0,Jr.ok=w($t)?$t:!0,Jr.fail=w(Dr)&&Dr,Jr.domain=f?he.domain:void 0,Fr.state===ne?Fr.reactions.add(Jr):ae(function(){_t(Jr,Fr)}),Jr.promise}),it=function(){var Ht=new Le,$t=D(Ht);this.promise=Ht,this.resolve=He(ot,$t),this.reject=He(Rt,$t)},we.f=X=function(Ht){return Ht===ye||Ht===Wt?new it(Ht):Ae(Ht)},!h&&w($)&&te!==Object.prototype)){qe=te.then,Z||x(te,"then",function($t,Dr){var Fr=this;return new ye(function(Jr,Wr){m(qe,Fr,Jr,Wr)}).then($t,Dr)},{unsafe:!0});try{delete te.constructor}catch{}y&&y(te,pe)}u({global:!0,constructor:!0,wrap:!0,forced:q},{Promise:ye}),Wt=g.Promise,j(ye,R,!1,!0),b(R)}),"./node_modules/core-js/modules/es.promise.js":(function(o,d,l){l("./node_modules/core-js/modules/es.promise.constructor.js"),l("./node_modules/core-js/modules/es.promise.all.js"),l("./node_modules/core-js/modules/es.promise.catch.js"),l("./node_modules/core-js/modules/es.promise.race.js"),l("./node_modules/core-js/modules/es.promise.reject.js"),l("./node_modules/core-js/modules/es.promise.resolve.js")}),"./node_modules/core-js/modules/es.promise.race.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/function-call.js"),f=l("./node_modules/core-js/internals/a-callable.js"),A=l("./node_modules/core-js/internals/new-promise-capability.js"),g=l("./node_modules/core-js/internals/perform.js"),m=l("./node_modules/core-js/internals/iterate.js"),x=l("./node_modules/core-js/internals/promise-statics-incorrect-iteration.js");u({target:"Promise",stat:!0,forced:x},{race:function(j){var b=this,S=A.f(b),w=S.reject,E=g(function(){var I=f(b.resolve);m(j,function(L){h(I,b,L).then(S.resolve,w)})});return E.error&&w(E.value),S.promise}})}),"./node_modules/core-js/modules/es.promise.reject.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/new-promise-capability.js"),f=l("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR;u({target:"Promise",stat:!0,forced:f},{reject:function(g){var m=h.f(this),x=m.reject;return x(g),m.promise}})}),"./node_modules/core-js/modules/es.promise.resolve.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/get-built-in.js"),f=l("./node_modules/core-js/internals/is-pure.js"),A=l("./node_modules/core-js/internals/promise-native-constructor.js"),g=l("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR,m=l("./node_modules/core-js/internals/promise-resolve.js"),x=h("Promise"),y=f&&!g;u({target:"Promise",stat:!0,forced:f||g},{resolve:function(b){return m(y&&this===x?A:this,b)}})}),"./node_modules/core-js/modules/es.regexp.exec.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/regexp-exec.js");u({target:"RegExp",proto:!0,forced:/./.exec!==h},{exec:h})}),"./node_modules/core-js/modules/es.regexp.test.js":(function(o,d,l){l("./node_modules/core-js/modules/es.regexp.exec.js");var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/function-call.js"),f=l("./node_modules/core-js/internals/is-callable.js"),A=l("./node_modules/core-js/internals/an-object.js"),g=l("./node_modules/core-js/internals/to-string.js"),m=(function(){var y=!1,j=/[ac]/;return j.exec=function(){return y=!0,/./.exec.apply(this,arguments)},j.test("abc")===!0&&y})(),x=/./.test;u({target:"RegExp",proto:!0,forced:!m},{test:function(y){var j=A(this),b=g(y),S=j.exec;if(!f(S))return h(x,j,b);var w=h(S,j,b);return w===null?!1:(A(w),!0)}})}),"./node_modules/core-js/modules/es.regexp.to-string.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-name.js").PROPER,h=l("./node_modules/core-js/internals/define-built-in.js"),f=l("./node_modules/core-js/internals/an-object.js"),A=l("./node_modules/core-js/internals/to-string.js"),g=l("./node_modules/core-js/internals/fails.js"),m=l("./node_modules/core-js/internals/regexp-get-flags.js"),x="toString",y=RegExp.prototype,j=y[x],b=g(function(){return j.call({source:"a",flags:"b"})!=="/a/b"}),S=u&&j.name!==x;(b||S)&&h(y,x,function(){var E=f(this),I=A(E.source),L=A(m(E));return"/"+I+"/"+L},{unsafe:!0})}),"./node_modules/core-js/modules/es.set.constructor.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/collection.js"),h=l("./node_modules/core-js/internals/collection-strong.js");u("Set",function(f){return function(){return f(this,arguments.length?arguments[0]:void 0)}},h)}),"./node_modules/core-js/modules/es.set.js":(function(o,d,l){l("./node_modules/core-js/modules/es.set.constructor.js")}),"./node_modules/core-js/modules/es.string.ends-with.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/function-uncurry-this-clause.js"),f=l("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,A=l("./node_modules/core-js/internals/to-length.js"),g=l("./node_modules/core-js/internals/to-string.js"),m=l("./node_modules/core-js/internals/not-a-regexp.js"),x=l("./node_modules/core-js/internals/require-object-coercible.js"),y=l("./node_modules/core-js/internals/correct-is-regexp-logic.js"),j=l("./node_modules/core-js/internals/is-pure.js"),b=h("".slice),S=Math.min,w=y("endsWith"),E=!j&&!w&&!!(function(){var I=f(String.prototype,"endsWith");return I&&!I.writable})();u({target:"String",proto:!0,forced:!E&&!w},{endsWith:function(L){var J=g(x(this));m(L);var ae=arguments.length>1?arguments[1]:void 0,G=J.length,le=ae===void 0?G:S(A(ae),G),V=g(L);return b(J,le-V.length,le)===V}})}),"./node_modules/core-js/modules/es.string.includes.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/function-uncurry-this.js"),f=l("./node_modules/core-js/internals/not-a-regexp.js"),A=l("./node_modules/core-js/internals/require-object-coercible.js"),g=l("./node_modules/core-js/internals/to-string.js"),m=l("./node_modules/core-js/internals/correct-is-regexp-logic.js"),x=h("".indexOf);u({target:"String",proto:!0,forced:!m("includes")},{includes:function(j){return!!~x(g(A(this)),g(f(j)),arguments.length>1?arguments[1]:void 0)}})}),"./node_modules/core-js/modules/es.string.iterator.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/string-multibyte.js").charAt,h=l("./node_modules/core-js/internals/to-string.js"),f=l("./node_modules/core-js/internals/internal-state.js"),A=l("./node_modules/core-js/internals/iterator-define.js"),g=l("./node_modules/core-js/internals/create-iter-result-object.js"),m="String Iterator",x=f.set,y=f.getterFor(m);A(String,"String",function(j){x(this,{type:m,string:h(j),index:0})},function(){var b=y(this),S=b.string,w=b.index,E;return w>=S.length?g(void 0,!0):(E=u(S,w),b.index+=E.length,g(E,!1))})}),"./node_modules/core-js/modules/es.string.link.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/create-html.js"),f=l("./node_modules/core-js/internals/string-html-forced.js");u({target:"String",proto:!0,forced:f("link")},{link:function(g){return h(this,"a","href",g)}})}),"./node_modules/core-js/modules/es.string.match.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-call.js"),h=l("./node_modules/core-js/internals/function-uncurry-this.js"),f=l("./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js"),A=l("./node_modules/core-js/internals/an-object.js"),g=l("./node_modules/core-js/internals/is-object.js"),m=l("./node_modules/core-js/internals/to-length.js"),x=l("./node_modules/core-js/internals/to-string.js"),y=l("./node_modules/core-js/internals/require-object-coercible.js"),j=l("./node_modules/core-js/internals/get-method.js"),b=l("./node_modules/core-js/internals/advance-string-index.js"),S=l("./node_modules/core-js/internals/regexp-get-flags.js"),w=l("./node_modules/core-js/internals/regexp-exec-abstract.js"),E=h("".indexOf);f("match",function(I,L,J){return[function(G){var le=y(this),V=g(G)?j(G,I):void 0;return V?u(V,G,le):new RegExp(G)[I](x(le))},function(ae){var G=A(this),le=x(ae),V=J(L,G,le);if(V.done)return V.value;var me=x(S(G));if(E(me,"g")===-1)return w(G,le);var $=E(me,"u")!==-1;G.lastIndex=0;for(var ee=[],we=0,R;(R=w(G,le))!==null;){var q=x(R[0]);ee[we]=q,q===""&&(G.lastIndex=b(le,m(G.lastIndex),$)),we++}return we===0?null:ee}]})}),"./node_modules/core-js/modules/es.string.replace.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-apply.js"),h=l("./node_modules/core-js/internals/function-call.js"),f=l("./node_modules/core-js/internals/function-uncurry-this.js"),A=l("./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js"),g=l("./node_modules/core-js/internals/fails.js"),m=l("./node_modules/core-js/internals/an-object.js"),x=l("./node_modules/core-js/internals/is-callable.js"),y=l("./node_modules/core-js/internals/is-object.js"),j=l("./node_modules/core-js/internals/to-integer-or-infinity.js"),b=l("./node_modules/core-js/internals/to-length.js"),S=l("./node_modules/core-js/internals/to-string.js"),w=l("./node_modules/core-js/internals/require-object-coercible.js"),E=l("./node_modules/core-js/internals/advance-string-index.js"),I=l("./node_modules/core-js/internals/get-method.js"),L=l("./node_modules/core-js/internals/get-substitution.js"),J=l("./node_modules/core-js/internals/regexp-get-flags.js"),ae=l("./node_modules/core-js/internals/regexp-exec-abstract.js"),G=l("./node_modules/core-js/internals/well-known-symbol.js"),le=G("replace"),V=Math.max,me=Math.min,$=f([].concat),ee=f([].push),we=f("".indexOf),R=f("".slice),q=function(ue){return ue===void 0?ue:String(ue)},ie=(function(){return"a".replace(/./,"$0")==="$0"})(),Z=(function(){return/./[le]?/./[le]("a","$0")==="":!1})(),D=!g(function(){var ue=/./;return ue.exec=function(){var te=[];return te.groups={a:"7"},te},"".replace(ue,"$<a>")!=="7"});A("replace",function(ue,te,ye){var pe=Z?"$":"$0";return[function(re,he){var X=w(this),Ae=y(re)?I(re,le):void 0;return Ae?h(Ae,re,X,he):h(te,S(X),re,he)},function(je,re){var he=m(this),X=S(je);if(typeof re=="string"&&we(re,pe)===-1&&we(re,"$<")===-1){var Ae=ye(te,he,X,re);if(Ae.done)return Ae.value}var Be=x(re);Be||(re=S(re));var Me=S(J(he)),$e=we(Me,"g")!==-1,ne;$e&&(ne=we(Me,"u")!==-1,he.lastIndex=0);for(var Pe=[],_e;_e=ae(he,X),!(_e===null||(ee(Pe,_e),!$e));){var rt=S(_e[0]);rt===""&&(he.lastIndex=E(X,b(he.lastIndex),ne))}for(var et="",Le=0,it=0;it<Pe.length;it++){_e=Pe[it];for(var Wt=S(_e[0]),qe=V(me(j(_e.index),X.length),0),St=[],_t,ar=1;ar<_e.length;ar++)ee(St,q(_e[ar]));var en=_e.groups;if(Be){var Xt=$([Wt],St,qe,X);en!==void 0&&ee(Xt,en),_t=S(u(re,void 0,Xt))}else _t=L(Wt,X,qe,St,en,re);qe>=Le&&(et+=R(X,Le,qe)+_t,Le=qe+Wt.length)}return et+R(X,Le)}]},!D||!ie||Z)}),"./node_modules/core-js/modules/es.string.split.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-call.js"),h=l("./node_modules/core-js/internals/function-uncurry-this.js"),f=l("./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js"),A=l("./node_modules/core-js/internals/an-object.js"),g=l("./node_modules/core-js/internals/is-object.js"),m=l("./node_modules/core-js/internals/require-object-coercible.js"),x=l("./node_modules/core-js/internals/species-constructor.js"),y=l("./node_modules/core-js/internals/advance-string-index.js"),j=l("./node_modules/core-js/internals/to-length.js"),b=l("./node_modules/core-js/internals/to-string.js"),S=l("./node_modules/core-js/internals/get-method.js"),w=l("./node_modules/core-js/internals/regexp-exec-abstract.js"),E=l("./node_modules/core-js/internals/regexp-sticky-helpers.js"),I=l("./node_modules/core-js/internals/fails.js"),L=E.UNSUPPORTED_Y,J=4294967295,ae=Math.min,G=h([].push),le=h("".slice),V=!I(function(){var $=/(?:)/,ee=$.exec;$.exec=function(){return ee.apply(this,arguments)};var we="ab".split($);return we.length!==2||we[0]!=="a"||we[1]!=="b"}),me="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;f("split",function($,ee,we){var R="0".split(void 0,0).length?function(q,ie){return q===void 0&&ie===0?[]:u(ee,this,q,ie)}:ee;return[function(ie,Z){var D=m(this),ue=g(ie)?S(ie,$):void 0;return ue?u(ue,ie,D,Z):u(R,b(D),ie,Z)},function(q,ie){var Z=A(this),D=b(q);if(!me){var ue=we(R,Z,D,ie,R!==ee);if(ue.done)return ue.value}var te=x(Z,RegExp),ye=Z.unicode,pe=(Z.ignoreCase?"i":"")+(Z.multiline?"m":"")+(Z.unicode?"u":"")+(L?"g":"y"),je=new te(L?"^(?:"+Z.source+")":Z,pe),re=ie===void 0?J:ie>>>0;if(re===0)return[];if(D.length===0)return w(je,D)===null?[D]:[];for(var he=0,X=0,Ae=[];X<D.length;){je.lastIndex=L?0:X;var Be=w(je,L?le(D,X):D),Me;if(Be===null||(Me=ae(j(je.lastIndex+(L?X:0)),D.length))===he)X=y(D,X,ye);else{if(G(Ae,le(D,he,X)),Ae.length===re)return Ae;for(var $e=1;$e<=Be.length-1;$e++)if(G(Ae,Be[$e]),Ae.length===re)return Ae;X=he=Me}}return G(Ae,le(D,he)),Ae}]},me||!V,L)}),"./node_modules/core-js/modules/es.string.starts-with.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/function-uncurry-this-clause.js"),f=l("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,A=l("./node_modules/core-js/internals/to-length.js"),g=l("./node_modules/core-js/internals/to-string.js"),m=l("./node_modules/core-js/internals/not-a-regexp.js"),x=l("./node_modules/core-js/internals/require-object-coercible.js"),y=l("./node_modules/core-js/internals/correct-is-regexp-logic.js"),j=l("./node_modules/core-js/internals/is-pure.js"),b=h("".slice),S=Math.min,w=y("startsWith"),E=!j&&!w&&!!(function(){var I=f(String.prototype,"startsWith");return I&&!I.writable})();u({target:"String",proto:!0,forced:!E&&!w},{startsWith:function(L){var J=g(x(this));m(L);var ae=A(S(arguments.length>1?arguments[1]:void 0,J.length)),G=g(L);return b(J,ae,ae+G.length)===G}})}),"./node_modules/core-js/modules/es.string.trim.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/string-trim.js").trim,f=l("./node_modules/core-js/internals/string-trim-forced.js");u({target:"String",proto:!0,forced:f("trim")},{trim:function(){return h(this)}})}),"./node_modules/core-js/modules/es.symbol.constructor.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/global-this.js"),f=l("./node_modules/core-js/internals/function-call.js"),A=l("./node_modules/core-js/internals/function-uncurry-this.js"),g=l("./node_modules/core-js/internals/is-pure.js"),m=l("./node_modules/core-js/internals/descriptors.js"),x=l("./node_modules/core-js/internals/symbol-constructor-detection.js"),y=l("./node_modules/core-js/internals/fails.js"),j=l("./node_modules/core-js/internals/has-own-property.js"),b=l("./node_modules/core-js/internals/object-is-prototype-of.js"),S=l("./node_modules/core-js/internals/an-object.js"),w=l("./node_modules/core-js/internals/to-indexed-object.js"),E=l("./node_modules/core-js/internals/to-property-key.js"),I=l("./node_modules/core-js/internals/to-string.js"),L=l("./node_modules/core-js/internals/create-property-descriptor.js"),J=l("./node_modules/core-js/internals/object-create.js"),ae=l("./node_modules/core-js/internals/object-keys.js"),G=l("./node_modules/core-js/internals/object-get-own-property-names.js"),le=l("./node_modules/core-js/internals/object-get-own-property-names-external.js"),V=l("./node_modules/core-js/internals/object-get-own-property-symbols.js"),me=l("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),$=l("./node_modules/core-js/internals/object-define-property.js"),ee=l("./node_modules/core-js/internals/object-define-properties.js"),we=l("./node_modules/core-js/internals/object-property-is-enumerable.js"),R=l("./node_modules/core-js/internals/define-built-in.js"),q=l("./node_modules/core-js/internals/define-built-in-accessor.js"),ie=l("./node_modules/core-js/internals/shared.js"),Z=l("./node_modules/core-js/internals/shared-key.js"),D=l("./node_modules/core-js/internals/hidden-keys.js"),ue=l("./node_modules/core-js/internals/uid.js"),te=l("./node_modules/core-js/internals/well-known-symbol.js"),ye=l("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),pe=l("./node_modules/core-js/internals/well-known-symbol-define.js"),je=l("./node_modules/core-js/internals/symbol-define-to-primitive.js"),re=l("./node_modules/core-js/internals/set-to-string-tag.js"),he=l("./node_modules/core-js/internals/internal-state.js"),X=l("./node_modules/core-js/internals/array-iteration.js").forEach,Ae=Z("hidden"),Be="Symbol",Me="prototype",$e=he.set,ne=he.getterFor(Be),Pe=Object[Me],_e=h.Symbol,rt=_e&&_e[Me],et=h.RangeError,Le=h.TypeError,it=h.QObject,Wt=me.f,qe=$.f,St=le.f,_t=we.f,ar=A([].push),en=ie("symbols"),Xt=ie("op-symbols"),Yr=ie("wks"),Qr=!it||!it[Me]||!it[Me].findChild,He=function(Vr,Ur,Cn){var un=Wt(Pe,Ur);un&&delete Pe[Ur],qe(Vr,Ur,Cn),un&&Vr!==Pe&&qe(Pe,Ur,un)},Rt=m&&y(function(){return J(qe({},"a",{get:function(){return qe(this,"a",{value:7}).a}})).a!==7})?He:qe,ot=function(Vr,Ur){var Cn=en[Vr]=J(rt);return $e(Cn,{type:Be,tag:Vr,description:Ur}),m||(Cn.description=Ur),Cn},Ht=function(Ur,Cn,un){Ur===Pe&&Ht(Xt,Cn,un),S(Ur);var Dn=E(Cn);return S(un),j(en,Dn)?(un.enumerable?(j(Ur,Ae)&&Ur[Ae][Dn]&&(Ur[Ae][Dn]=!1),un=J(un,{enumerable:L(0,!1)})):(j(Ur,Ae)||qe(Ur,Ae,L(1,J(null))),Ur[Ae][Dn]=!0),Rt(Ur,Dn,un)):qe(Ur,Dn,un)},$t=function(Ur,Cn){S(Ur);var un=w(Cn),Dn=ae(un).concat(Ln(un));return X(Dn,function(da){(!m||f(Fr,un,da))&&Ht(Ur,da,un[da])}),Ur},Dr=function(Ur,Cn){return Cn===void 0?J(Ur):$t(J(Ur),Cn)},Fr=function(Ur){var Cn=E(Ur),un=f(_t,this,Cn);return this===Pe&&j(en,Cn)&&!j(Xt,Cn)?!1:un||!j(this,Cn)||!j(en,Cn)||j(this,Ae)&&this[Ae][Cn]?un:!0},Jr=function(Ur,Cn){var un=w(Ur),Dn=E(Cn);if(!(un===Pe&&j(en,Dn)&&!j(Xt,Dn))){var da=Wt(un,Dn);return da&&j(en,Dn)&&!(j(un,Ae)&&un[Ae][Dn])&&(da.enumerable=!0),da}},Wr=function(Ur){var Cn=St(w(Ur)),un=[];return X(Cn,function(Dn){!j(en,Dn)&&!j(D,Dn)&&ar(un,Dn)}),un},Ln=function(Vr){var Ur=Vr===Pe,Cn=St(Ur?Xt:w(Vr)),un=[];return X(Cn,function(Dn){j(en,Dn)&&(!Ur||j(Pe,Dn))&&ar(un,en[Dn])}),un};x||(_e=function(){if(b(rt,this))throw new Le("Symbol is not a constructor");var Ur=!arguments.length||arguments[0]===void 0?void 0:I(arguments[0]),Cn=ue(Ur),un=function(Dn){var da=this===void 0?h:this;da===Pe&&f(un,Xt,Dn),j(da,Ae)&&j(da[Ae],Cn)&&(da[Ae][Cn]=!1);var ri=L(1,Dn);try{Rt(da,Cn,ri)}catch(Ks){if(!(Ks instanceof et))throw Ks;He(da,Cn,ri)}};return m&&Qr&&Rt(Pe,Cn,{configurable:!0,set:un}),ot(Cn,Ur)},rt=_e[Me],R(rt,"toString",function(){return ne(this).tag}),R(_e,"withoutSetter",function(Vr){return ot(ue(Vr),Vr)}),we.f=Fr,$.f=Ht,ee.f=$t,me.f=Jr,G.f=le.f=Wr,V.f=Ln,ye.f=function(Vr){return ot(te(Vr),Vr)},m&&(q(rt,"description",{configurable:!0,get:function(){return ne(this).description}}),g||R(Pe,"propertyIsEnumerable",Fr,{unsafe:!0}))),u({global:!0,constructor:!0,wrap:!0,forced:!x,sham:!x},{Symbol:_e}),X(ae(Yr),function(Vr){pe(Vr)}),u({target:Be,stat:!0,forced:!x},{useSetter:function(){Qr=!0},useSimple:function(){Qr=!1}}),u({target:"Object",stat:!0,forced:!x,sham:!m},{create:Dr,defineProperty:Ht,defineProperties:$t,getOwnPropertyDescriptor:Jr}),u({target:"Object",stat:!0,forced:!x},{getOwnPropertyNames:Wr}),je(),re(_e,Be),D[Ae]=!0}),"./node_modules/core-js/modules/es.symbol.description.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/descriptors.js"),f=l("./node_modules/core-js/internals/global-this.js"),A=l("./node_modules/core-js/internals/function-uncurry-this.js"),g=l("./node_modules/core-js/internals/has-own-property.js"),m=l("./node_modules/core-js/internals/is-callable.js"),x=l("./node_modules/core-js/internals/object-is-prototype-of.js"),y=l("./node_modules/core-js/internals/to-string.js"),j=l("./node_modules/core-js/internals/define-built-in-accessor.js"),b=l("./node_modules/core-js/internals/copy-constructor-properties.js"),S=f.Symbol,w=S&&S.prototype;if(h&&m(S)&&(!("description"in w)||S().description!==void 0)){var E={},I=function(){var $=arguments.length<1||arguments[0]===void 0?void 0:y(arguments[0]),ee=x(w,this)?new S($):$===void 0?S():S($);return $===""&&(E[ee]=!0),ee};b(I,S),I.prototype=w,w.constructor=I;var L=String(S("description detection"))==="Symbol(description detection)",J=A(w.valueOf),ae=A(w.toString),G=/^Symbol\((.*)\)[^)]+$/,le=A("".replace),V=A("".slice);j(w,"description",{configurable:!0,get:function(){var $=J(this);if(g(E,$))return"";var ee=ae($),we=L?V(ee,7,-1):le(ee,G,"$1");return we===""?void 0:we}}),u({global:!0,constructor:!0,forced:!0},{Symbol:I})}}),"./node_modules/core-js/modules/es.symbol.for.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/get-built-in.js"),f=l("./node_modules/core-js/internals/has-own-property.js"),A=l("./node_modules/core-js/internals/to-string.js"),g=l("./node_modules/core-js/internals/shared.js"),m=l("./node_modules/core-js/internals/symbol-registry-detection.js"),x=g("string-to-symbol-registry"),y=g("symbol-to-string-registry");u({target:"Symbol",stat:!0,forced:!m},{for:function(j){var b=A(j);if(f(x,b))return x[b];var S=h("Symbol")(b);return x[b]=S,y[S]=b,S}})}),"./node_modules/core-js/modules/es.symbol.iterator.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/well-known-symbol-define.js");u("iterator")}),"./node_modules/core-js/modules/es.symbol.js":(function(o,d,l){l("./node_modules/core-js/modules/es.symbol.constructor.js"),l("./node_modules/core-js/modules/es.symbol.for.js"),l("./node_modules/core-js/modules/es.symbol.key-for.js"),l("./node_modules/core-js/modules/es.json.stringify.js"),l("./node_modules/core-js/modules/es.object.get-own-property-symbols.js")}),"./node_modules/core-js/modules/es.symbol.key-for.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/has-own-property.js"),f=l("./node_modules/core-js/internals/is-symbol.js"),A=l("./node_modules/core-js/internals/try-to-string.js"),g=l("./node_modules/core-js/internals/shared.js"),m=l("./node_modules/core-js/internals/symbol-registry-detection.js"),x=g("symbol-to-string-registry");u({target:"Symbol",stat:!0,forced:!m},{keyFor:function(j){if(!f(j))throw new TypeError(A(j)+" is not a symbol");if(h(x,j))return x[j]}})}),"./node_modules/core-js/modules/esnext.iterator.constructor.js":(function(o,d,l){l("./node_modules/core-js/modules/es.iterator.constructor.js")}),"./node_modules/core-js/modules/esnext.iterator.for-each.js":(function(o,d,l){l("./node_modules/core-js/modules/es.iterator.for-each.js")}),"./node_modules/core-js/modules/esnext.iterator.map.js":(function(o,d,l){l("./node_modules/core-js/modules/es.iterator.map.js")}),"./node_modules/core-js/modules/esnext.set.add-all.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/a-set.js"),f=l("./node_modules/core-js/internals/set-helpers.js").add;u({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var g=h(this),m=0,x=arguments.length;m<x;m++)f(g,arguments[m]);return g}})}),"./node_modules/core-js/modules/esnext.set.delete-all.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/a-set.js"),f=l("./node_modules/core-js/internals/set-helpers.js").remove;u({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var g=h(this),m=!0,x,y=0,j=arguments.length;y<j;y++)x=f(g,arguments[y]),m=m&&x;return!!m}})}),"./node_modules/core-js/modules/esnext.set.difference.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/function-call.js"),f=l("./node_modules/core-js/internals/to-set-like.js"),A=l("./node_modules/core-js/internals/set-difference.js");u({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(m){return h(A,this,f(m))}})}),"./node_modules/core-js/modules/esnext.set.every.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/function-bind-context.js"),f=l("./node_modules/core-js/internals/a-set.js"),A=l("./node_modules/core-js/internals/set-iterate.js");u({target:"Set",proto:!0,real:!0,forced:!0},{every:function(m){var x=f(this),y=h(m,arguments.length>1?arguments[1]:void 0);return A(x,function(j){if(!y(j,j,x))return!1},!0)!==!1}})}),"./node_modules/core-js/modules/esnext.set.filter.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/function-bind-context.js"),f=l("./node_modules/core-js/internals/a-set.js"),A=l("./node_modules/core-js/internals/set-helpers.js"),g=l("./node_modules/core-js/internals/set-iterate.js"),m=A.Set,x=A.add;u({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(j){var b=f(this),S=h(j,arguments.length>1?arguments[1]:void 0),w=new m;return g(b,function(E){S(E,E,b)&&x(w,E)}),w}})}),"./node_modules/core-js/modules/esnext.set.find.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/function-bind-context.js"),f=l("./node_modules/core-js/internals/a-set.js"),A=l("./node_modules/core-js/internals/set-iterate.js");u({target:"Set",proto:!0,real:!0,forced:!0},{find:function(m){var x=f(this),y=h(m,arguments.length>1?arguments[1]:void 0),j=A(x,function(b){if(y(b,b,x))return{value:b}},!0);return j&&j.value}})}),"./node_modules/core-js/modules/esnext.set.intersection.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/function-call.js"),f=l("./node_modules/core-js/internals/to-set-like.js"),A=l("./node_modules/core-js/internals/set-intersection.js");u({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(m){return h(A,this,f(m))}})}),"./node_modules/core-js/modules/esnext.set.is-disjoint-from.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/function-call.js"),f=l("./node_modules/core-js/internals/to-set-like.js"),A=l("./node_modules/core-js/internals/set-is-disjoint-from.js");u({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(m){return h(A,this,f(m))}})}),"./node_modules/core-js/modules/esnext.set.is-subset-of.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/function-call.js"),f=l("./node_modules/core-js/internals/to-set-like.js"),A=l("./node_modules/core-js/internals/set-is-subset-of.js");u({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(m){return h(A,this,f(m))}})}),"./node_modules/core-js/modules/esnext.set.is-superset-of.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/function-call.js"),f=l("./node_modules/core-js/internals/to-set-like.js"),A=l("./node_modules/core-js/internals/set-is-superset-of.js");u({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(m){return h(A,this,f(m))}})}),"./node_modules/core-js/modules/esnext.set.join.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/function-uncurry-this.js"),f=l("./node_modules/core-js/internals/a-set.js"),A=l("./node_modules/core-js/internals/set-iterate.js"),g=l("./node_modules/core-js/internals/to-string.js"),m=h([].join),x=h([].push);u({target:"Set",proto:!0,real:!0,forced:!0},{join:function(j){var b=f(this),S=j===void 0?",":g(j),w=[];return A(b,function(E){x(w,E)}),m(w,S)}})}),"./node_modules/core-js/modules/esnext.set.map.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/function-bind-context.js"),f=l("./node_modules/core-js/internals/a-set.js"),A=l("./node_modules/core-js/internals/set-helpers.js"),g=l("./node_modules/core-js/internals/set-iterate.js"),m=A.Set,x=A.add;u({target:"Set",proto:!0,real:!0,forced:!0},{map:function(j){var b=f(this),S=h(j,arguments.length>1?arguments[1]:void 0),w=new m;return g(b,function(E){x(w,S(E,E,b))}),w}})}),"./node_modules/core-js/modules/esnext.set.reduce.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/a-callable.js"),f=l("./node_modules/core-js/internals/a-set.js"),A=l("./node_modules/core-js/internals/set-iterate.js"),g=TypeError;u({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(x){var y=f(this),j=arguments.length<2,b=j?void 0:arguments[1];if(h(x),A(y,function(S){j?(j=!1,b=S):b=x(b,S,S,y)}),j)throw new g("Reduce of empty set with no initial value");return b}})}),"./node_modules/core-js/modules/esnext.set.some.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/function-bind-context.js"),f=l("./node_modules/core-js/internals/a-set.js"),A=l("./node_modules/core-js/internals/set-iterate.js");u({target:"Set",proto:!0,real:!0,forced:!0},{some:function(m){var x=f(this),y=h(m,arguments.length>1?arguments[1]:void 0);return A(x,function(j){if(y(j,j,x))return!0},!0)===!0}})}),"./node_modules/core-js/modules/esnext.set.symmetric-difference.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/function-call.js"),f=l("./node_modules/core-js/internals/to-set-like.js"),A=l("./node_modules/core-js/internals/set-symmetric-difference.js");u({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(m){return h(A,this,f(m))}})}),"./node_modules/core-js/modules/esnext.set.union.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/function-call.js"),f=l("./node_modules/core-js/internals/to-set-like.js"),A=l("./node_modules/core-js/internals/set-union.js");u({target:"Set",proto:!0,real:!0,forced:!0},{union:function(m){return h(A,this,f(m))}})}),"./node_modules/core-js/modules/web.dom-collections.for-each.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/global-this.js"),h=l("./node_modules/core-js/internals/dom-iterables.js"),f=l("./node_modules/core-js/internals/dom-token-list-prototype.js"),A=l("./node_modules/core-js/internals/array-for-each.js"),g=l("./node_modules/core-js/internals/create-non-enumerable-property.js"),m=function(y){if(y&&y.forEach!==A)try{g(y,"forEach",A)}catch{y.forEach=A}};for(var x in h)h[x]&&m(u[x]&&u[x].prototype);m(f)}),"./node_modules/core-js/modules/web.dom-collections.iterator.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/global-this.js"),h=l("./node_modules/core-js/internals/dom-iterables.js"),f=l("./node_modules/core-js/internals/dom-token-list-prototype.js"),A=l("./node_modules/core-js/modules/es.array.iterator.js"),g=l("./node_modules/core-js/internals/create-non-enumerable-property.js"),m=l("./node_modules/core-js/internals/set-to-string-tag.js"),x=l("./node_modules/core-js/internals/well-known-symbol.js"),y=x("iterator"),j=A.values,b=function(w,E){if(w){if(w[y]!==j)try{g(w,y,j)}catch{w[y]=j}if(m(w,E,!0),h[E]){for(var I in A)if(w[I]!==A[I])try{g(w,I,A[I])}catch{w[I]=A[I]}}}};for(var S in h)b(u[S]&&u[S].prototype,S);b(f,"DOMTokenList")}),"./node_modules/core-js/modules/web.set-interval.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/global-this.js"),f=l("./node_modules/core-js/internals/schedulers-fix.js"),A=f(h.setInterval,!0);u({global:!0,bind:!0,forced:h.setInterval!==A},{setInterval:A})}),"./node_modules/core-js/modules/web.set-timeout.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/global-this.js"),f=l("./node_modules/core-js/internals/schedulers-fix.js"),A=f(h.setTimeout,!0);u({global:!0,bind:!0,forced:h.setTimeout!==A},{setTimeout:A})}),"./node_modules/core-js/modules/web.timers.js":(function(o,d,l){l("./node_modules/core-js/modules/web.set-interval.js"),l("./node_modules/core-js/modules/web.set-timeout.js")}),"./node_modules/dompurify/dist/purify.es.mjs":(function(o,d,l){l.r(d),l.d(d,{default:function(){return He}});/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:u,setPrototypeOf:h,isFrozen:f,getPrototypeOf:A,getOwnPropertyDescriptor:g}=Object;let{freeze:m,seal:x,create:y}=Object,{apply:j,construct:b}=typeof Reflect<"u"&&Reflect;m||(m=function(ot){return ot}),x||(x=function(ot){return ot}),j||(j=function(ot,Ht){for(var $t=arguments.length,Dr=new Array($t>2?$t-2:0),Fr=2;Fr<$t;Fr++)Dr[Fr-2]=arguments[Fr];return ot.apply(Ht,Dr)}),b||(b=function(ot){for(var Ht=arguments.length,$t=new Array(Ht>1?Ht-1:0),Dr=1;Dr<Ht;Dr++)$t[Dr-1]=arguments[Dr];return new ot(...$t)});const S=R(Array.prototype.forEach),w=R(Array.prototype.lastIndexOf),E=R(Array.prototype.pop),I=R(Array.prototype.push),L=R(Array.prototype.splice),J=R(String.prototype.toLowerCase),ae=R(String.prototype.toString),G=R(String.prototype.match),le=R(String.prototype.replace),V=R(String.prototype.indexOf),me=R(String.prototype.trim),$=R(Object.prototype.hasOwnProperty),ee=R(RegExp.prototype.test),we=q(TypeError);function R(Rt){return function(ot){ot instanceof RegExp&&(ot.lastIndex=0);for(var Ht=arguments.length,$t=new Array(Ht>1?Ht-1:0),Dr=1;Dr<Ht;Dr++)$t[Dr-1]=arguments[Dr];return j(Rt,ot,$t)}}function q(Rt){return function(){for(var ot=arguments.length,Ht=new Array(ot),$t=0;$t<ot;$t++)Ht[$t]=arguments[$t];return b(Rt,Ht)}}function ie(Rt,ot){let Ht=arguments.length>2&&arguments[2]!==void 0?arguments[2]:J;h&&h(Rt,null);let $t=ot.length;for(;$t--;){let Dr=ot[$t];if(typeof Dr=="string"){const Fr=Ht(Dr);Fr!==Dr&&(f(ot)||(ot[$t]=Fr),Dr=Fr)}Rt[Dr]=!0}return Rt}function Z(Rt){for(let ot=0;ot<Rt.length;ot++)$(Rt,ot)||(Rt[ot]=null);return Rt}function D(Rt){const ot=y(null);for(const[Ht,$t]of u(Rt))$(Rt,Ht)&&(Array.isArray($t)?ot[Ht]=Z($t):$t&&typeof $t=="object"&&$t.constructor===Object?ot[Ht]=D($t):ot[Ht]=$t);return ot}function ue(Rt,ot){for(;Rt!==null;){const $t=g(Rt,ot);if($t){if($t.get)return R($t.get);if(typeof $t.value=="function")return R($t.value)}Rt=A(Rt)}function Ht(){return null}return Ht}const te=m(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ye=m(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),pe=m(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),je=m(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),re=m(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),he=m(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),X=m(["#text"]),Ae=m(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Be=m(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Me=m(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),$e=m(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ne=x(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Pe=x(/<%[\w\W]*|[\w\W]*%>/gm),_e=x(/\$\{[\w\W]*/gm),rt=x(/^data-[\-\w.\u00B7-\uFFFF]+$/),et=x(/^aria-[\-\w]+$/),Le=x(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),it=x(/^(?:\w+script|data):/i),Wt=x(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),qe=x(/^html$/i),St=x(/^[a-z][.\w]*(-[.\w]+)+$/i);var _t=Object.freeze({__proto__:null,ARIA_ATTR:et,ATTR_WHITESPACE:Wt,CUSTOM_ELEMENT:St,DATA_ATTR:rt,DOCTYPE_NAME:qe,ERB_EXPR:Pe,IS_ALLOWED_URI:Le,IS_SCRIPT_OR_DATA:it,MUSTACHE_EXPR:ne,TMPLIT_EXPR:_e});const ar={element:1,text:3,progressingInstruction:7,comment:8,document:9},en=function(){return typeof window>"u"?null:window},Xt=function(ot,Ht){if(typeof ot!="object"||typeof ot.createPolicy!="function")return null;let $t=null;const Dr="data-tt-policy-suffix";Ht&&Ht.hasAttribute(Dr)&&($t=Ht.getAttribute(Dr));const Fr="dompurify"+($t?"#"+$t:"");try{return ot.createPolicy(Fr,{createHTML(Jr){return Jr},createScriptURL(Jr){return Jr}})}catch{return console.warn("TrustedTypes policy "+Fr+" could not be created."),null}},Yr=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Qr(){let Rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:en();const ot=kt=>Qr(kt);if(ot.version="3.3.1",ot.removed=[],!Rt||!Rt.document||Rt.document.nodeType!==ar.document||!Rt.Element)return ot.isSupported=!1,ot;let{document:Ht}=Rt;const $t=Ht,Dr=$t.currentScript,{DocumentFragment:Fr,HTMLTemplateElement:Jr,Node:Wr,Element:Ln,NodeFilter:Vr,NamedNodeMap:Ur=Rt.NamedNodeMap||Rt.MozNamedAttrMap,HTMLFormElement:Cn,DOMParser:un,trustedTypes:Dn}=Rt,da=Ln.prototype,ri=ue(da,"cloneNode"),Ks=ue(da,"remove"),Hs=ue(da,"nextSibling"),oa=ue(da,"childNodes"),rn=ue(da,"parentNode");if(typeof Jr=="function"){const kt=Ht.createElement("template");kt.content&&kt.content.ownerDocument&&(Ht=kt.content.ownerDocument)}let ds,wi="";const{implementation:wt,createNodeIterator:Pr,createDocumentFragment:Mr,getElementsByTagName:tn}=Ht,{importNode:Kr}=$t;let Ma=Yr();ot.isSupported=typeof u=="function"&&typeof rn=="function"&&wt&&wt.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:ys,ERB_EXPR:Va,TMPLIT_EXPR:Ai,DATA_ATTR:Ca,ARIA_ATTR:ko,IS_SCRIPT_OR_DATA:Qs,ATTR_WHITESPACE:qo,CUSTOM_ELEMENT:yl}=_t;let{IS_ALLOWED_URI:Xo}=_t,Is=null;const jo=ie({},[...te,...ye,...pe,...re,...X]);let pa=null;const rc=ie({},[...Ae,...Be,...Me,...$e]);let os=Object.seal(y(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),_o=null,Ji=null;const Oo=Object.seal(y(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let ol=!0,Fo=!0,zi=!1,Ts=!0,ls=!1,jl=!0,Po=!1,$c=!1,pi=!1,Gn=!1,Gs=!1,Ci=!1,Ni=!0,Do=!1;const Ws="user-content-";let uo=!0,ni=!1,Rs={},bo=null;const Mo=ie({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let va=null;const qs=ie({},["audio","video","img","source","image","track"]);let Si=null;const Zi=ie({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ri="http://www.w3.org/1998/Math/MathML",Ro="http://www.w3.org/2000/svg",Kt="http://www.w3.org/1999/xhtml";let Q=Kt,fe=!1,ge=null;const M=ie({},[Ri,Ro,Kt],ae);let W=ie({},["mi","mo","mn","ms","mtext"]),ce=ie({},["annotation-xml"]);const Ee=ie({},["title","style","font","a","script"]);let Fe=null;const Xe=["application/xhtml+xml","text/html"],dt="text/html";let k=null,B=null;const P=Ht.createElement("form"),K=function(at){return at instanceof RegExp||at instanceof Function},se=function(){let at=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(B&&B===at)){if((!at||typeof at!="object")&&(at={}),at=D(at),Fe=Xe.indexOf(at.PARSER_MEDIA_TYPE)===-1?dt:at.PARSER_MEDIA_TYPE,k=Fe==="application/xhtml+xml"?ae:J,Is=$(at,"ALLOWED_TAGS")?ie({},at.ALLOWED_TAGS,k):jo,pa=$(at,"ALLOWED_ATTR")?ie({},at.ALLOWED_ATTR,k):rc,ge=$(at,"ALLOWED_NAMESPACES")?ie({},at.ALLOWED_NAMESPACES,ae):M,Si=$(at,"ADD_URI_SAFE_ATTR")?ie(D(Zi),at.ADD_URI_SAFE_ATTR,k):Zi,va=$(at,"ADD_DATA_URI_TAGS")?ie(D(qs),at.ADD_DATA_URI_TAGS,k):qs,bo=$(at,"FORBID_CONTENTS")?ie({},at.FORBID_CONTENTS,k):Mo,_o=$(at,"FORBID_TAGS")?ie({},at.FORBID_TAGS,k):D({}),Ji=$(at,"FORBID_ATTR")?ie({},at.FORBID_ATTR,k):D({}),Rs=$(at,"USE_PROFILES")?at.USE_PROFILES:!1,ol=at.ALLOW_ARIA_ATTR!==!1,Fo=at.ALLOW_DATA_ATTR!==!1,zi=at.ALLOW_UNKNOWN_PROTOCOLS||!1,Ts=at.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ls=at.SAFE_FOR_TEMPLATES||!1,jl=at.SAFE_FOR_XML!==!1,Po=at.WHOLE_DOCUMENT||!1,Gn=at.RETURN_DOM||!1,Gs=at.RETURN_DOM_FRAGMENT||!1,Ci=at.RETURN_TRUSTED_TYPE||!1,pi=at.FORCE_BODY||!1,Ni=at.SANITIZE_DOM!==!1,Do=at.SANITIZE_NAMED_PROPS||!1,uo=at.KEEP_CONTENT!==!1,ni=at.IN_PLACE||!1,Xo=at.ALLOWED_URI_REGEXP||Le,Q=at.NAMESPACE||Kt,W=at.MATHML_TEXT_INTEGRATION_POINTS||W,ce=at.HTML_INTEGRATION_POINTS||ce,os=at.CUSTOM_ELEMENT_HANDLING||{},at.CUSTOM_ELEMENT_HANDLING&&K(at.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(os.tagNameCheck=at.CUSTOM_ELEMENT_HANDLING.tagNameCheck),at.CUSTOM_ELEMENT_HANDLING&&K(at.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(os.attributeNameCheck=at.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),at.CUSTOM_ELEMENT_HANDLING&&typeof at.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(os.allowCustomizedBuiltInElements=at.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ls&&(Fo=!1),Gs&&(Gn=!0),Rs&&(Is=ie({},X),pa=[],Rs.html===!0&&(ie(Is,te),ie(pa,Ae)),Rs.svg===!0&&(ie(Is,ye),ie(pa,Be),ie(pa,$e)),Rs.svgFilters===!0&&(ie(Is,pe),ie(pa,Be),ie(pa,$e)),Rs.mathMl===!0&&(ie(Is,re),ie(pa,Me),ie(pa,$e))),at.ADD_TAGS&&(typeof at.ADD_TAGS=="function"?Oo.tagCheck=at.ADD_TAGS:(Is===jo&&(Is=D(Is)),ie(Is,at.ADD_TAGS,k))),at.ADD_ATTR&&(typeof at.ADD_ATTR=="function"?Oo.attributeCheck=at.ADD_ATTR:(pa===rc&&(pa=D(pa)),ie(pa,at.ADD_ATTR,k))),at.ADD_URI_SAFE_ATTR&&ie(Si,at.ADD_URI_SAFE_ATTR,k),at.FORBID_CONTENTS&&(bo===Mo&&(bo=D(bo)),ie(bo,at.FORBID_CONTENTS,k)),at.ADD_FORBID_CONTENTS&&(bo===Mo&&(bo=D(bo)),ie(bo,at.ADD_FORBID_CONTENTS,k)),uo&&(Is["#text"]=!0),Po&&ie(Is,["html","head","body"]),Is.table&&(ie(Is,["tbody"]),delete _o.tbody),at.TRUSTED_TYPES_POLICY){if(typeof at.TRUSTED_TYPES_POLICY.createHTML!="function")throw we('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof at.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw we('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ds=at.TRUSTED_TYPES_POLICY,wi=ds.createHTML("")}else ds===void 0&&(ds=Xt(Dn,Dr)),ds!==null&&typeof wi=="string"&&(wi=ds.createHTML(""));m&&m(at),B=at}},de=ie({},[...ye,...pe,...je]),Ie=ie({},[...re,...he]),be=function(at){let qt=rn(at);(!qt||!qt.tagName)&&(qt={namespaceURI:Q,tagName:"template"});const pr=J(at.tagName),nr=J(qt.tagName);return ge[at.namespaceURI]?at.namespaceURI===Ro?qt.namespaceURI===Kt?pr==="svg":qt.namespaceURI===Ri?pr==="svg"&&(nr==="annotation-xml"||W[nr]):!!de[pr]:at.namespaceURI===Ri?qt.namespaceURI===Kt?pr==="math":qt.namespaceURI===Ro?pr==="math"&&ce[nr]:!!Ie[pr]:at.namespaceURI===Kt?qt.namespaceURI===Ro&&!ce[nr]||qt.namespaceURI===Ri&&!W[nr]?!1:!Ie[pr]&&(Ee[pr]||!de[pr]):!!(Fe==="application/xhtml+xml"&&ge[at.namespaceURI]):!1},Ce=function(at){I(ot.removed,{element:at});try{rn(at).removeChild(at)}catch{Ks(at)}},Re=function(at,qt){try{I(ot.removed,{attribute:qt.getAttributeNode(at),from:qt})}catch{I(ot.removed,{attribute:null,from:qt})}if(qt.removeAttribute(at),at==="is")if(Gn||Gs)try{Ce(qt)}catch{}else try{qt.setAttribute(at,"")}catch{}},ze=function(at){let qt=null,pr=null;if(pi)at="<remove></remove>"+at;else{const Ar=G(at,/^[\r\n\t ]+/);pr=Ar&&Ar[0]}Fe==="application/xhtml+xml"&&Q===Kt&&(at='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+at+"</body></html>");const nr=ds?ds.createHTML(at):at;if(Q===Kt)try{qt=new un().parseFromString(nr,Fe)}catch{}if(!qt||!qt.documentElement){qt=wt.createDocument(Q,"template",null);try{qt.documentElement.innerHTML=fe?wi:nr}catch{}}const Pt=qt.body||qt.documentElement;return at&&pr&&Pt.insertBefore(Ht.createTextNode(pr),Pt.childNodes[0]||null),Q===Kt?tn.call(qt,Po?"html":"body")[0]:Po?qt.documentElement:Pt},nt=function(at){return Pr.call(at.ownerDocument||at,at,Vr.SHOW_ELEMENT|Vr.SHOW_COMMENT|Vr.SHOW_TEXT|Vr.SHOW_PROCESSING_INSTRUCTION|Vr.SHOW_CDATA_SECTION,null)},ut=function(at){return at instanceof Cn&&(typeof at.nodeName!="string"||typeof at.textContent!="string"||typeof at.removeChild!="function"||!(at.attributes instanceof Ur)||typeof at.removeAttribute!="function"||typeof at.setAttribute!="function"||typeof at.namespaceURI!="string"||typeof at.insertBefore!="function"||typeof at.hasChildNodes!="function")},Oe=function(at){return typeof Wr=="function"&&at instanceof Wr};function Nt(kt,at,qt){S(kt,pr=>{pr.call(ot,at,qt,B)})}const jt=function(at){let qt=null;if(Nt(Ma.beforeSanitizeElements,at,null),ut(at))return Ce(at),!0;const pr=k(at.nodeName);if(Nt(Ma.uponSanitizeElement,at,{tagName:pr,allowedTags:Is}),jl&&at.hasChildNodes()&&!Oe(at.firstElementChild)&&ee(/<[/\w!]/g,at.innerHTML)&&ee(/<[/\w!]/g,at.textContent)||at.nodeType===ar.progressingInstruction||jl&&at.nodeType===ar.comment&&ee(/<[/\w]/g,at.data))return Ce(at),!0;if(!(Oo.tagCheck instanceof Function&&Oo.tagCheck(pr))&&(!Is[pr]||_o[pr])){if(!_o[pr]&&lt(pr)&&(os.tagNameCheck instanceof RegExp&&ee(os.tagNameCheck,pr)||os.tagNameCheck instanceof Function&&os.tagNameCheck(pr)))return!1;if(uo&&!bo[pr]){const nr=rn(at)||at.parentNode,Pt=oa(at)||at.childNodes;if(Pt&&nr){const Ar=Pt.length;for(let ct=Ar-1;ct>=0;--ct){const mt=ri(Pt[ct],!0);mt.__removalCount=(at.__removalCount||0)+1,nr.insertBefore(mt,Hs(at))}}}return Ce(at),!0}return at instanceof Ln&&!be(at)||(pr==="noscript"||pr==="noembed"||pr==="noframes")&&ee(/<\/no(script|embed|frames)/i,at.innerHTML)?(Ce(at),!0):(ls&&at.nodeType===ar.text&&(qt=at.textContent,S([ys,Va,Ai],nr=>{qt=le(qt,nr," ")}),at.textContent!==qt&&(I(ot.removed,{element:at.cloneNode()}),at.textContent=qt)),Nt(Ma.afterSanitizeElements,at,null),!1)},Bt=function(at,qt,pr){if(Ni&&(qt==="id"||qt==="name")&&(pr in Ht||pr in P))return!1;if(!(Fo&&!Ji[qt]&&ee(Ca,qt))){if(!(ol&&ee(ko,qt))){if(!(Oo.attributeCheck instanceof Function&&Oo.attributeCheck(qt,at))){if(!pa[qt]||Ji[qt]){if(!(lt(at)&&(os.tagNameCheck instanceof RegExp&&ee(os.tagNameCheck,at)||os.tagNameCheck instanceof Function&&os.tagNameCheck(at))&&(os.attributeNameCheck instanceof RegExp&&ee(os.attributeNameCheck,qt)||os.attributeNameCheck instanceof Function&&os.attributeNameCheck(qt,at))||qt==="is"&&os.allowCustomizedBuiltInElements&&(os.tagNameCheck instanceof RegExp&&ee(os.tagNameCheck,pr)||os.tagNameCheck instanceof Function&&os.tagNameCheck(pr))))return!1}else if(!Si[qt]){if(!ee(Xo,le(pr,qo,""))){if(!((qt==="src"||qt==="xlink:href"||qt==="href")&&at!=="script"&&V(pr,"data:")===0&&va[at])){if(!(zi&&!ee(Qs,le(pr,qo,"")))){if(pr)return!1}}}}}}}return!0},lt=function(at){return at!=="annotation-xml"&&G(at,yl)},Mt=function(at){Nt(Ma.beforeSanitizeAttributes,at,null);const{attributes:qt}=at;if(!qt||ut(at))return;const pr={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:pa,forceKeepAttr:void 0};let nr=qt.length;for(;nr--;){const Pt=qt[nr],{name:Ar,namespaceURI:ct,value:mt}=Pt,Ot=k(Ar),Ft=mt;let mr=Ar==="value"?Ft:me(Ft);if(pr.attrName=Ot,pr.attrValue=mr,pr.keepAttr=!0,pr.forceKeepAttr=void 0,Nt(Ma.uponSanitizeAttribute,at,pr),mr=pr.attrValue,Do&&(Ot==="id"||Ot==="name")&&(Re(Ar,at),mr=Ws+mr),jl&&ee(/((--!?|])>)|<\/(style|title|textarea)/i,mr)){Re(Ar,at);continue}if(Ot==="attributename"&&G(mr,"href")){Re(Ar,at);continue}if(pr.forceKeepAttr)continue;if(!pr.keepAttr){Re(Ar,at);continue}if(!Ts&&ee(/\/>/i,mr)){Re(Ar,at);continue}ls&&S([ys,Va,Ai],Cr=>{mr=le(mr,Cr," ")});const yr=k(at.nodeName);if(!Bt(yr,Ot,mr)){Re(Ar,at);continue}if(ds&&typeof Dn=="object"&&typeof Dn.getAttributeType=="function"&&!ct)switch(Dn.getAttributeType(yr,Ot)){case"TrustedHTML":{mr=ds.createHTML(mr);break}case"TrustedScriptURL":{mr=ds.createScriptURL(mr);break}}if(mr!==Ft)try{ct?at.setAttributeNS(ct,Ar,mr):at.setAttribute(Ar,mr),ut(at)?Ce(at):E(ot.removed)}catch{Re(Ar,at)}}Nt(Ma.afterSanitizeAttributes,at,null)},tr=function kt(at){let qt=null;const pr=nt(at);for(Nt(Ma.beforeSanitizeShadowDOM,at,null);qt=pr.nextNode();)Nt(Ma.uponSanitizeShadowNode,qt,null),jt(qt),Mt(qt),qt.content instanceof Fr&&kt(qt.content);Nt(Ma.afterSanitizeShadowDOM,at,null)};return ot.sanitize=function(kt){let at=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},qt=null,pr=null,nr=null,Pt=null;if(fe=!kt,fe&&(kt="<!-->"),typeof kt!="string"&&!Oe(kt))if(typeof kt.toString=="function"){if(kt=kt.toString(),typeof kt!="string")throw we("dirty is not a string, aborting")}else throw we("toString is not a function");if(!ot.isSupported)return kt;if($c||se(at),ot.removed=[],typeof kt=="string"&&(ni=!1),ni){if(kt.nodeName){const mt=k(kt.nodeName);if(!Is[mt]||_o[mt])throw we("root node is forbidden and cannot be sanitized in-place")}}else if(kt instanceof Wr)qt=ze("<!---->"),pr=qt.ownerDocument.importNode(kt,!0),pr.nodeType===ar.element&&pr.nodeName==="BODY"||pr.nodeName==="HTML"?qt=pr:qt.appendChild(pr);else{if(!Gn&&!ls&&!Po&&kt.indexOf("<")===-1)return ds&&Ci?ds.createHTML(kt):kt;if(qt=ze(kt),!qt)return Gn?null:Ci?wi:""}qt&&pi&&Ce(qt.firstChild);const Ar=nt(ni?kt:qt);for(;nr=Ar.nextNode();)jt(nr),Mt(nr),nr.content instanceof Fr&&tr(nr.content);if(ni)return kt;if(Gn){if(Gs)for(Pt=Mr.call(qt.ownerDocument);qt.firstChild;)Pt.appendChild(qt.firstChild);else Pt=qt;return(pa.shadowroot||pa.shadowrootmode)&&(Pt=Kr.call($t,Pt,!0)),Pt}let ct=Po?qt.outerHTML:qt.innerHTML;return Po&&Is["!doctype"]&&qt.ownerDocument&&qt.ownerDocument.doctype&&qt.ownerDocument.doctype.name&&ee(qe,qt.ownerDocument.doctype.name)&&(ct="<!DOCTYPE "+qt.ownerDocument.doctype.name+`>
`+ct),ls&&S([ys,Va,Ai],mt=>{ct=le(ct,mt," ")}),ds&&Ci?ds.createHTML(ct):ct},ot.setConfig=function(){let kt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};se(kt),$c=!0},ot.clearConfig=function(){B=null,$c=!1},ot.isValidAttribute=function(kt,at,qt){B||se({});const pr=k(kt),nr=k(at);return Bt(pr,nr,qt)},ot.addHook=function(kt,at){typeof at=="function"&&I(Ma[kt],at)},ot.removeHook=function(kt,at){if(at!==void 0){const qt=w(Ma[kt],at);return qt===-1?void 0:L(Ma[kt],qt,1)[0]}return E(Ma[kt])},ot.removeHooks=function(kt){Ma[kt]=[]},ot.removeAllHooks=function(){Ma=Yr()},ot}var He=Qr()}),"./node_modules/fast-png/lib-esm/PngDecoder.js":(function(o,d,l){l.r(d),l.d(d,{default:function(){return j}});var u=l("./node_modules/iobuffer/lib-esm/IOBuffer.js"),h=l("./node_modules/pako/dist/pako.esm.mjs"),f=l("./node_modules/fast-png/lib-esm/helpers/crc.js"),A=l("./node_modules/fast-png/lib-esm/helpers/decodeInterlaceAdam7.js"),g=l("./node_modules/fast-png/lib-esm/helpers/decodeInterlaceNull.js"),m=l("./node_modules/fast-png/lib-esm/helpers/signature.js"),x=l("./node_modules/fast-png/lib-esm/helpers/text.js"),y=l("./node_modules/fast-png/lib-esm/internalTypes.js");class j extends u.IOBuffer{constructor(E,I={}){super(E);ei(this,"_checkCrc");ei(this,"_inflator");ei(this,"_png");ei(this,"_apng");ei(this,"_end");ei(this,"_hasPalette");ei(this,"_palette");ei(this,"_hasTransparency");ei(this,"_transparency");ei(this,"_compressionMethod");ei(this,"_filterMethod");ei(this,"_interlaceMethod");ei(this,"_colorType");ei(this,"_isAnimated");ei(this,"_numberOfFrames");ei(this,"_numberOfPlays");ei(this,"_frames");ei(this,"_writingDataChunks");const{checkCrc:L=!1}=I;this._checkCrc=L,this._inflator=new h.Inflate,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=y.CompressionMethod.UNKNOWN,this._filterMethod=y.FilterMethod.UNKNOWN,this._interlaceMethod=y.InterlaceMethod.UNKNOWN,this._colorType=y.ColorType.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for((0,m.checkSignature)(this);!this._end;){const E=this.readUint32(),I=this.readChars(4);this.decodeChunk(E,I)}return this.decodeImage(),this._png}decodeApng(){for((0,m.checkSignature)(this);!this._end;){const E=this.readUint32(),I=this.readChars(4);this.decodeApngChunk(E,I)}return this.decodeApngImage(),this._apng}decodeChunk(E,I){const L=this.offset;switch(I){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(E);break;case"IDAT":this.decodeIDAT(E);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(E);break;case"iCCP":this.decodeiCCP(E);break;case x.textChunkName:(0,x.decodetEXt)(this._png.text,this,E);break;case"pHYs":this.decodepHYs();break;default:this.skip(E);break}if(this.offset-L!==E)throw new Error(`Length mismatch while decoding chunk ${I}`);this._checkCrc?(0,f.checkCrc)(this,E+4,I):this.skip(4)}decodeApngChunk(E,I){const L=this.offset;switch(I!=="fdAT"&&I!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),I){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(E);break;default:this.decodeChunk(E,I),this.offset=L+E;break}if(this.offset-L!==E)throw new Error(`Length mismatch while decoding chunk ${I}`);this._checkCrc?(0,f.checkCrc)(this,E+4,I):this.skip(4)}decodeIHDR(){const E=this._png;E.width=this.readUint32(),E.height=this.readUint32(),E.depth=b(this.readUint8());const I=this.readUint8();this._colorType=I;let L;switch(I){case y.ColorType.GREYSCALE:L=1;break;case y.ColorType.TRUECOLOUR:L=3;break;case y.ColorType.INDEXED_COLOUR:L=1;break;case y.ColorType.GREYSCALE_ALPHA:L=2;break;case y.ColorType.TRUECOLOUR_ALPHA:L=4;break;case y.ColorType.UNKNOWN:default:throw new Error(`Unknown color type: ${I}`)}if(this._png.channels=L,this._compressionMethod=this.readUint8(),this._compressionMethod!==y.CompressionMethod.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const E={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(E)}decodePLTE(E){if(E%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${E}`);const I=E/3;this._hasPalette=!0;const L=[];this._palette=L;for(let J=0;J<I;J++)L.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(E){this._writingDataChunks=!0;const I=E,L=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,L,I)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(E)}decodeFDAT(E){this._writingDataChunks=!0;let I=E,L=this.offset+this.byteOffset;if(L+=4,I-=4,this._inflator.push(new Uint8Array(this.buffer,L,I)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(E)}decodetRNS(E){switch(this._colorType){case y.ColorType.GREYSCALE:case y.ColorType.TRUECOLOUR:{if(E%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${E}`);if(E/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${E/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(E/2);for(let I=0;I<E/2;I++)this._transparency[I]=this.readUint16();break}case y.ColorType.INDEXED_COLOUR:{if(E>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${E} vs ${this._palette.length})`);let I=0;for(;I<E;I++){const L=this.readByte();this._palette[I].push(L)}for(;I<this._palette.length;I++)this._palette[I].push(255);break}case y.ColorType.UNKNOWN:case y.ColorType.GREYSCALE_ALPHA:case y.ColorType.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(E){const I=(0,x.readKeyword)(this),L=this.readUint8();if(L!==y.CompressionMethod.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${L}`);const J=this.readBytes(E-I.length-2);this._png.iccEmbeddedProfile={name:I,profile:(0,h.inflate)(J)}}decodepHYs(){const E=this.readUint32(),I=this.readUint32(),L=this.readByte();this._png.resolution={x:E,y:I,unit:L}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let E=0;E<this._numberOfFrames;E++){const I={sequenceNumber:this._frames[E].sequenceNumber,delayNumber:this._frames[E].delayNumber,delayDenominator:this._frames[E].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},L=this._frames.at(E);if(L){if(L.data=(0,g.decodeInterlaceNull)({data:L.data,width:L.width,height:L.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),E===0||L.xOffset===0&&L.yOffset===0&&L.width===this._png.width&&L.height===this._png.height)I.data=L.data;else{const J=this._apng.frames.at(E-1);this.disposeFrame(L,J,I),this.addFrameDataToCanvas(I,L)}this._apng.frames.push(I)}}return this._apng}disposeFrame(E,I,L){switch(E.disposeOp){case y.DisposeOpType.NONE:break;case y.DisposeOpType.BACKGROUND:for(let J=0;J<this._png.height;J++)for(let ae=0;ae<this._png.width;ae++){const G=(J*E.width+ae)*this._png.channels;for(let le=0;le<this._png.channels;le++)L.data[G+le]=0}break;case y.DisposeOpType.PREVIOUS:L.data.set(I.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(E,I){const L=1<<this._png.depth,J=(ae,G)=>{const le=((ae+I.yOffset)*this._png.width+I.xOffset+G)*this._png.channels,V=(ae*I.width+G)*this._png.channels;return{index:le,frameIndex:V}};switch(I.blendOp){case y.BlendOpType.SOURCE:for(let ae=0;ae<I.height;ae++)for(let G=0;G<I.width;G++){const{index:le,frameIndex:V}=J(ae,G);for(let me=0;me<this._png.channels;me++)E.data[le+me]=I.data[V+me]}break;case y.BlendOpType.OVER:for(let ae=0;ae<I.height;ae++)for(let G=0;G<I.width;G++){const{index:le,frameIndex:V}=J(ae,G);for(let me=0;me<this._png.channels;me++){const $=I.data[V+this._png.channels-1]/L,ee=me%(this._png.channels-1)===0?1:I.data[V+me],we=Math.floor($*ee+(1-$)*E.data[le+me]);E.data[le+me]+=we}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var I;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const E=this._isAnimated?((I=this._frames)==null?void 0:I.at(0)).data:this._inflator.result;if(this._filterMethod!==y.FilterMethod.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===y.InterlaceMethod.NO_INTERLACE)this._png.data=(0,g.decodeInterlaceNull)({data:E,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===y.InterlaceMethod.ADAM7)this._png.data=(0,A.decodeInterlaceAdam7)({data:E,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const E=this._inflator.result,I=this._frames.at(-1);I?I.data=E:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:y.DisposeOpType.NONE,blendOp:y.BlendOpType.SOURCE,data:E}),this._inflator=new h.Inflate,this._writingDataChunks=!1}}function b(S){if(S!==1&&S!==2&&S!==4&&S!==8&&S!==16)throw new Error(`invalid bit depth: ${S}`);return S}}),"./node_modules/fast-png/lib-esm/PngEncoder.js":(function(o,d,l){l.r(d),l.d(d,{default:function(){return y}});var u=l("./node_modules/iobuffer/lib-esm/IOBuffer.js"),h=l("./node_modules/pako/dist/pako.esm.mjs"),f=l("./node_modules/fast-png/lib-esm/helpers/crc.js"),A=l("./node_modules/fast-png/lib-esm/helpers/signature.js"),g=l("./node_modules/fast-png/lib-esm/helpers/text.js"),m=l("./node_modules/fast-png/lib-esm/internalTypes.js");const x={level:3};class y extends u.IOBuffer{constructor(J,ae={}){super();ei(this,"_png");ei(this,"_zlibOptions");ei(this,"_colorType");ei(this,"_interlaceMethod");this._colorType=m.ColorType.UNKNOWN,this._zlibOptions={...x,...ae.zlib},this._png=this._checkData(J),this._interlaceMethod=(ae.interlace==="Adam7"?m.InterlaceMethod.ADAM7:m.InterlaceMethod.NO_INTERLACE)??m.InterlaceMethod.NO_INTERLACE,this.setBigEndian()}encode(){if((0,A.writeSignature)(this),this.encodeIHDR(),this._png.palette&&(this.encodePLTE(),this._png.palette[0].length===4&&this.encodeTRNS()),this.encodeData(),this._png.text)for(const[J,ae]of Object.entries(this._png.text))(0,g.encodetEXt)(this,J,ae);return this.encodeIEND(),this.toArray()}encodeIHDR(){this.writeUint32(13),this.writeChars("IHDR"),this.writeUint32(this._png.width),this.writeUint32(this._png.height),this.writeByte(this._png.depth),this.writeByte(this._colorType),this.writeByte(m.CompressionMethod.DEFLATE),this.writeByte(m.FilterMethod.ADAPTIVE),this.writeByte(this._interlaceMethod),(0,f.writeCrc)(this,17)}encodeIEND(){this.writeUint32(0),this.writeChars("IEND"),(0,f.writeCrc)(this,4)}encodePLTE(){var ae;const J=((ae=this._png.palette)==null?void 0:ae.length)*3;this.writeUint32(J),this.writeChars("PLTE");for(const G of this._png.palette)this.writeByte(G[0]),this.writeByte(G[1]),this.writeByte(G[2]);(0,f.writeCrc)(this,4+J)}encodeTRNS(){const J=this._png.palette.filter(ae=>ae.at(-1)!==255);this.writeUint32(J.length),this.writeChars("tRNS");for(const ae of J)this.writeByte(ae.at(-1));(0,f.writeCrc)(this,4+J.length)}encodeIDAT(J){this.writeUint32(J.length),this.writeChars("IDAT"),this.writeBytes(J),(0,f.writeCrc)(this,J.length+4)}encodeData(){const{width:J,height:ae,channels:G,depth:le,data:V}=this._png,me=le<=8?Math.ceil(J*le/8)*G:Math.ceil(J*le/8*G/2),$=new u.IOBuffer().setBigEndian();let ee=0;if(this._interlaceMethod===m.InterlaceMethod.NO_INTERLACE)for(let q=0;q<ae;q++)$.writeByte(0),le===16?ee=E(V,$,me,ee):ee=S(V,$,me,ee);else this._interlaceMethod===m.InterlaceMethod.ADAM7&&(ee=w(this._png,V,$,ee));const we=$.toArray(),R=(0,h.deflate)(we,this._zlibOptions);this.encodeIDAT(R)}_checkData(J){const{colorType:ae,channels:G,depth:le}=b(J,J.palette),V={width:j(J.width,"width"),height:j(J.height,"height"),channels:G,data:J.data,depth:le,text:J.text,palette:J.palette};this._colorType=ae;const me=le<8?Math.ceil(V.width*le/8)*V.height*G:V.width*V.height*G;if(V.data.length!==me)throw new RangeError(`wrong data size. Found ${V.data.length}, expected ${me}`);return V}}function j(I,L){if(Number.isInteger(I)&&I>0)return I;throw new TypeError(`${L} must be a positive integer`)}function b(I,L){const{channels:J=4,depth:ae=8}=I;if(J!==4&&J!==3&&J!==2&&J!==1)throw new RangeError(`unsupported number of channels: ${J}`);const G={channels:J,depth:ae,colorType:m.ColorType.UNKNOWN};switch(J){case 4:G.colorType=m.ColorType.TRUECOLOUR_ALPHA;break;case 3:G.colorType=m.ColorType.TRUECOLOUR;break;case 1:L?G.colorType=m.ColorType.INDEXED_COLOUR:G.colorType=m.ColorType.GREYSCALE;break;case 2:G.colorType=m.ColorType.GREYSCALE_ALPHA;break;default:throw new Error("unsupported number of channels")}return G}function S(I,L,J,ae){for(let G=0;G<J;G++)L.writeByte(I[ae++]);return ae}function w(I,L,J,ae){const G=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],{width:le,height:V,channels:me,depth:$}=I;let ee=0;$===16?ee=me*$/8/2:ee=me*$/8;for(let we=0;we<7;we++){const R=G[we],q=Math.floor((le-R.x+R.xStep-1)/R.xStep),ie=Math.floor((V-R.y+R.yStep-1)/R.yStep);if(q<=0||ie<=0)continue;const Z=q*ee;for(let D=0;D<ie;D++){const ue=R.y+D*R.yStep,te=$<=8?new Uint8Array(Z):new Uint16Array(Z);let ye=0;for(let pe=0;pe<q;pe++){const je=R.x+pe*R.xStep;if(je<le&&ue<V){const re=(ue*le+je)*ee;for(let he=0;he<ee;he++)te[ye++]=L[re+he]}}if(J.writeByte(0),$===8)J.writeBytes(te);else if($===16)for(const pe of te)J.writeByte(pe>>8&255),J.writeByte(pe&255)}}return ae}function E(I,L,J,ae){for(let G=0;G<J;G++)L.writeUint16(I[ae++]);return ae}}),"./node_modules/fast-png/lib-esm/convertIndexedToRgb.js":(function(o,d,l){l.r(d),l.d(d,{convertIndexedToRgb:function(){return u}});function u(f){const A=f.palette,g=f.depth;if(!A)throw new Error("Color palette is undefined.");h(f);const m=f.width*f.height,x=m*A[0].length,y=new Uint8Array(x);let j=0,b=0;const S=new Uint8Array(m);let w=255;switch(g){case 1:w=128;break;case 2:w=192;break;case 4:w=240;break;case 8:w=255;break;default:throw new Error("Incorrect depth value")}for(const E of f.data){let I=w,L=8;for(;I&&(L-=g,S[j++]=(E&I)>>L,I=I>>g,j%f.width!==0););}if(f.palette)for(const E of S){const I=f.palette.at(E);if(!I)throw new Error("Incorrect index of palette color");y.set(I,b),b+=I.length}return y}function h(f){const A=f.depth<8?Math.ceil(f.width*f.depth/8)*f.height*f.channels:f.width*f.height*f.channels;if(f.data.length!==A)throw new RangeError(`wrong data size. Found ${f.data.length}, expected ${A}`)}}),"./node_modules/fast-png/lib-esm/helpers/applyUnfilter.js":(function(o,d,l){l.r(d),l.d(d,{applyUnfilter:function(){return h}});var u=l("./node_modules/fast-png/lib-esm/helpers/unfilter.js");function h(f,A,g,m,x,y){switch(f){case 0:(0,u.unfilterNone)(A,g,x);break;case 1:(0,u.unfilterSub)(A,g,x,y);break;case 2:(0,u.unfilterUp)(A,g,m,x);break;case 3:(0,u.unfilterAverage)(A,g,m,x,y);break;case 4:(0,u.unfilterPaeth)(A,g,m,x,y);break;default:throw new Error(`Unsupported filter: ${f}`)}}}),"./node_modules/fast-png/lib-esm/helpers/crc.js":(function(o,d,l){l.r(d),l.d(d,{checkCrc:function(){return g},writeCrc:function(){return m}});const u=[];for(let x=0;x<256;x++){let y=x;for(let j=0;j<8;j++)y&1?y=3988292384^y>>>1:y=y>>>1;u[x]=y}const h=4294967295;function f(x,y,j){let b=x;for(let S=0;S<j;S++)b=u[(b^y[S])&255]^b>>>8;return b}function A(x,y){return(f(h,x,y)^h)>>>0}function g(x,y,j){const b=x.readUint32(),S=A(new Uint8Array(x.buffer,x.byteOffset+x.offset-y-4,y),y);if(S!==b)throw new Error(`CRC mismatch for chunk ${j}. Expected ${b}, found ${S}`)}function m(x,y){x.writeUint32(A(new Uint8Array(x.buffer,x.byteOffset+x.offset-y,y),y))}}),"./node_modules/fast-png/lib-esm/helpers/decodeInterlaceAdam7.js":(function(o,d,l){l.r(d),l.d(d,{decodeInterlaceAdam7:function(){return g}});var u=l("./node_modules/fast-png/lib-esm/helpers/applyUnfilter.js");const h=new Uint16Array([255]),A=new Uint8Array(h.buffer)[0]===255;function g(x){const{data:y,width:j,height:b,channels:S,depth:w}=x,E=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],I=Math.ceil(w/8)*S,L=new Uint8Array(b*j*I);let J=0;for(let ae=0;ae<7;ae++){const G=E[ae],le=Math.ceil((j-G.x)/G.xStep),V=Math.ceil((b-G.y)/G.yStep);if(le<=0||V<=0)continue;const me=le*I,$=new Uint8Array(me);for(let ee=0;ee<V;ee++){const we=y[J++],R=y.subarray(J,J+me);J+=me;const q=new Uint8Array(me);(0,u.applyUnfilter)(we,R,q,$,me,I),$.set(q);for(let ie=0;ie<le;ie++){const Z=G.x+ie*G.xStep,D=G.y+ee*G.yStep;if(!(Z>=j||D>=b))for(let ue=0;ue<I;ue++)L[(D*j+Z)*I+ue]=q[ie*I+ue]}}}if(w===16){const ae=new Uint16Array(L.buffer);if(A)for(let G=0;G<ae.length;G++)ae[G]=m(ae[G]);return ae}else return L}function m(x){return(x&255)<<8|x>>8&255}}),"./node_modules/fast-png/lib-esm/helpers/decodeInterlaceNull.js":(function(o,d,l){l.r(d),l.d(d,{decodeInterlaceNull:function(){return m}});var u=l("./node_modules/fast-png/lib-esm/helpers/unfilter.js");const h=new Uint16Array([255]),A=new Uint8Array(h.buffer)[0]===255,g=new Uint8Array(0);function m(y){const{data:j,width:b,height:S,channels:w,depth:E}=y,I=Math.ceil(E/8)*w,L=Math.ceil(E/8*w*b),J=new Uint8Array(S*L);let ae=g,G=0,le,V;for(let me=0;me<S;me++){switch(le=j.subarray(G+1,G+1+L),V=J.subarray(me*L,(me+1)*L),j[G]){case 0:(0,u.unfilterNone)(le,V,L);break;case 1:(0,u.unfilterSub)(le,V,L,I);break;case 2:(0,u.unfilterUp)(le,V,ae,L);break;case 3:(0,u.unfilterAverage)(le,V,ae,L,I);break;case 4:(0,u.unfilterPaeth)(le,V,ae,L,I);break;default:throw new Error(`Unsupported filter: ${j[G]}`)}ae=V,G+=L+1}if(E===16){const me=new Uint16Array(J.buffer);if(A)for(let $=0;$<me.length;$++)me[$]=x(me[$]);return me}else return J}function x(y){return(y&255)<<8|y>>8&255}}),"./node_modules/fast-png/lib-esm/helpers/signature.js":(function(o,d,l){l.r(d),l.d(d,{checkSignature:function(){return f},hasPngSignature:function(){return A},writeSignature:function(){return h}});const u=Uint8Array.of(137,80,78,71,13,10,26,10);function h(g){g.writeBytes(u)}function f(g){if(!A(g.readBytes(u.length)))throw new Error("wrong PNG signature")}function A(g){if(g.length<u.length)return!1;for(let m=0;m<u.length;m++)if(g[m]!==u[m])return!1;return!0}}),"./node_modules/fast-png/lib-esm/helpers/text.js":(function(o,d,l){l.r(d),l.d(d,{decodetEXt:function(){return y},encodetEXt:function(){return j},readKeyword:function(){return b},readLatin1:function(){return S},textChunkName:function(){return h}});var u=l("./node_modules/fast-png/lib-esm/helpers/crc.js");const h="tEXt",f=0,A=new TextDecoder("latin1");function g(w){if(x(w),w.length===0||w.length>79)throw new Error("keyword length must be between 1 and 79")}const m=/^[\u0000-\u00FF]*$/;function x(w){if(!m.test(w))throw new Error("invalid latin1 text")}function y(w,E,I){const L=b(E);w[L]=S(E,I-L.length-1)}function j(w,E,I){g(E),x(I);const L=E.length+1+I.length;w.writeUint32(L),w.writeChars(h),w.writeChars(E),w.writeByte(f),w.writeChars(I),(0,u.writeCrc)(w,L+4)}function b(w){for(w.mark();w.readByte()!==f;);const E=w.offset;w.reset();const I=A.decode(w.readBytes(E-w.offset-1));return w.skip(1),g(I),I}function S(w,E){return A.decode(w.readBytes(E))}}),"./node_modules/fast-png/lib-esm/helpers/unfilter.js":(function(o,d,l){l.r(d),l.d(d,{unfilterAverage:function(){return A},unfilterNone:function(){return u},unfilterPaeth:function(){return g},unfilterSub:function(){return h},unfilterUp:function(){return f}});function u(x,y,j){for(let b=0;b<j;b++)y[b]=x[b]}function h(x,y,j,b){let S=0;for(;S<b;S++)y[S]=x[S];for(;S<j;S++)y[S]=x[S]+y[S-b]&255}function f(x,y,j,b){let S=0;if(j.length===0)for(;S<b;S++)y[S]=x[S];else for(;S<b;S++)y[S]=x[S]+j[S]&255}function A(x,y,j,b,S){let w=0;if(j.length===0){for(;w<S;w++)y[w]=x[w];for(;w<b;w++)y[w]=x[w]+(y[w-S]>>1)&255}else{for(;w<S;w++)y[w]=x[w]+(j[w]>>1)&255;for(;w<b;w++)y[w]=x[w]+(y[w-S]+j[w]>>1)&255}}function g(x,y,j,b,S){let w=0;if(j.length===0){for(;w<S;w++)y[w]=x[w];for(;w<b;w++)y[w]=x[w]+y[w-S]&255}else{for(;w<S;w++)y[w]=x[w]+j[w]&255;for(;w<b;w++)y[w]=x[w]+m(y[w-S],j[w],j[w-S])&255}}function m(x,y,j){const b=x+y-j,S=Math.abs(b-x),w=Math.abs(b-y),E=Math.abs(b-j);return S<=w&&S<=E?x:w<=E?y:j}}),"./node_modules/fast-png/lib-esm/index.js":(function(o,d,l){l.r(d),l.d(d,{ResolutionUnitSpecifier:function(){return A.ResolutionUnitSpecifier},convertIndexedToRgb:function(){return g.convertIndexedToRgb},decode:function(){return m},decodeApng:function(){return y},encode:function(){return x},hasPngSignature:function(){return f.hasPngSignature}});var u=l("./node_modules/fast-png/lib-esm/PngDecoder.js"),h=l("./node_modules/fast-png/lib-esm/PngEncoder.js"),f=l("./node_modules/fast-png/lib-esm/helpers/signature.js"),A=l("./node_modules/fast-png/lib-esm/types.js"),g=l("./node_modules/fast-png/lib-esm/convertIndexedToRgb.js");function m(j,b){return new u.default(j,b).decode()}function x(j,b){return new h.default(j,b).encode()}function y(j,b){return new u.default(j,b).decodeApng()}}),"./node_modules/fast-png/lib-esm/internalTypes.js":(function(o,d,l){l.r(d),l.d(d,{BlendOpType:function(){return m},ColorType:function(){return u},CompressionMethod:function(){return h},DisposeOpType:function(){return g},FilterMethod:function(){return f},InterlaceMethod:function(){return A}});const u={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},h={UNKNOWN:-1,DEFLATE:0},f={UNKNOWN:-1,ADAPTIVE:0},A={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},g={NONE:0,BACKGROUND:1,PREVIOUS:2},m={SOURCE:0,OVER:1}}),"./node_modules/fast-png/lib-esm/types.js":(function(o,d,l){l.r(d),l.d(d,{ResolutionUnitSpecifier:function(){return u}});var u;(function(h){h[h.UNKNOWN=0]="UNKNOWN",h[h.METRE=1]="METRE"})(u||(u={}))}),"./node_modules/fflate/esm/browser.js":(function(o,d,l){l.r(d),l.d(d,{AsyncCompress:function(){return Ma},AsyncDecompress:function(){return Ji},AsyncDeflate:function(){return rn},AsyncGunzip:function(){return Ca},AsyncGzip:function(){return Ma},AsyncInflate:function(){return Pr},AsyncUnzipInflate:function(){return Ro},AsyncUnzlib:function(){return pa},AsyncZipDeflate:function(){return Mo},AsyncZlib:function(){return yl},Compress:function(){return Kr},DecodeUTF8:function(){return Po},Decompress:function(){return _o},Deflate:function(){return oa},EncodeUTF8:function(){return $c},FlateErrorCode:function(){return te},Gunzip:function(){return Ai},Gzip:function(){return Kr},Inflate:function(){return wt},Unzip:function(){return Kt},UnzipInflate:function(){return Ri},UnzipPassThrough:function(){return Zi},Unzlib:function(){return jo},Zip:function(){return va},ZipDeflate:function(){return bo},ZipPassThrough:function(){return Rs},Zlib:function(){return qo},compress:function(){return ys},compressSync:function(){return Va},decompress:function(){return Oo},decompressSync:function(){return ol},deflate:function(){return ds},deflateSync:function(){return wi},gunzip:function(){return ko},gunzipSync:function(){return Qs},gzip:function(){return ys},gzipSync:function(){return Va},inflate:function(){return Mr},inflateSync:function(){return tn},strFromU8:function(){return Gn},strToU8:function(){return pi},unzip:function(){return fe},unzipSync:function(){return ge},unzlib:function(){return rc},unzlibSync:function(){return os},zip:function(){return qs},zipSync:function(){return Si},zlib:function(){return Xo},zlibSync:function(){return Is}});var u={},h=(function(M,W,ce,Ee,Fe){var Xe=new Worker(u[W]||(u[W]=URL.createObjectURL(new Blob([M+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return Xe.onmessage=function(dt){var k=dt.data,B=k.$e$;if(B){var P=new Error(B[0]);P.code=B[1],P.stack=B[2],Fe(P,null)}else Fe(null,k)},Xe.postMessage(ce,Ee),Xe}),f=Uint8Array,A=Uint16Array,g=Int32Array,m=new f([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),x=new f([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),y=new f([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),j=function(M,W){for(var ce=new A(31),Ee=0;Ee<31;++Ee)ce[Ee]=W+=1<<M[Ee-1];for(var Fe=new g(ce[30]),Ee=1;Ee<30;++Ee)for(var Xe=ce[Ee];Xe<ce[Ee+1];++Xe)Fe[Xe]=Xe-ce[Ee]<<5|Ee;return{b:ce,r:Fe}},b=j(m,2),S=b.b,w=b.r;S[28]=258,w[258]=28;for(var E=j(x,0),I=E.b,L=E.r,J=new A(32768),ae=0;ae<32768;++ae){var G=(ae&43690)>>1|(ae&21845)<<1;G=(G&52428)>>2|(G&13107)<<2,G=(G&61680)>>4|(G&3855)<<4,J[ae]=((G&65280)>>8|(G&255)<<8)>>1}for(var le=(function(M,W,ce){for(var Ee=M.length,Fe=0,Xe=new A(W);Fe<Ee;++Fe)M[Fe]&&++Xe[M[Fe]-1];var dt=new A(W);for(Fe=1;Fe<W;++Fe)dt[Fe]=dt[Fe-1]+Xe[Fe-1]<<1;var k;if(ce){k=new A(1<<W);var B=15-W;for(Fe=0;Fe<Ee;++Fe)if(M[Fe])for(var P=Fe<<4|M[Fe],K=W-M[Fe],se=dt[M[Fe]-1]++<<K,de=se|(1<<K)-1;se<=de;++se)k[J[se]>>B]=P}else for(k=new A(Ee),Fe=0;Fe<Ee;++Fe)M[Fe]&&(k[Fe]=J[dt[M[Fe]-1]++]>>15-M[Fe]);return k}),V=new f(288),ae=0;ae<144;++ae)V[ae]=8;for(var ae=144;ae<256;++ae)V[ae]=9;for(var ae=256;ae<280;++ae)V[ae]=7;for(var ae=280;ae<288;++ae)V[ae]=8;for(var me=new f(32),ae=0;ae<32;++ae)me[ae]=5;var $=le(V,9,0),ee=le(V,9,1),we=le(me,5,0),R=le(me,5,1),q=function(M){for(var W=M[0],ce=1;ce<M.length;++ce)M[ce]>W&&(W=M[ce]);return W},ie=function(M,W,ce){var Ee=W/8|0;return(M[Ee]|M[Ee+1]<<8)>>(W&7)&ce},Z=function(M,W){var ce=W/8|0;return(M[ce]|M[ce+1]<<8|M[ce+2]<<16)>>(W&7)},D=function(M){return(M+7)/8|0},ue=function(M,W,ce){return(W==null||W<0)&&(W=0),(ce==null||ce>M.length)&&(ce=M.length),new f(M.subarray(W,ce))},te={UnexpectedEOF:0,InvalidBlockType:1,InvalidLengthLiteral:2,InvalidDistance:3,StreamFinished:4,NoStreamHandler:5,InvalidHeader:6,NoCallback:7,InvalidUTF8:8,ExtraFieldTooLong:9,InvalidDate:10,FilenameTooLong:11,StreamFinishing:12,InvalidZipData:13,UnknownCompressionMethod:14},ye=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],pe=function(M,W,ce){var Ee=new Error(W||ye[M]);if(Ee.code=M,Error.captureStackTrace&&Error.captureStackTrace(Ee,pe),!ce)throw Ee;return Ee},je=function(M,W,ce,Ee){var Fe=M.length,Xe=Ee?Ee.length:0;if(!Fe||W.f&&!W.l)return ce||new f(0);var dt=!ce,k=dt||W.i!=2,B=W.i;dt&&(ce=new f(Fe*3));var P=function(Tt){var Yt=ce.length;if(Tt>Yt){var er=new f(Math.max(Yt*2,Tt));er.set(ce),ce=er}},K=W.f||0,se=W.p||0,de=W.b||0,Ie=W.l,be=W.d,Ce=W.m,Re=W.n,ze=Fe*8;do{if(!Ie){K=ie(M,se,1);var nt=ie(M,se+1,3);if(se+=3,nt)if(nt==1)Ie=ee,be=R,Ce=9,Re=5;else if(nt==2){var jt=ie(M,se,31)+257,Bt=ie(M,se+10,15)+4,lt=jt+ie(M,se+5,31)+1;se+=14;for(var Mt=new f(lt),tr=new f(19),kt=0;kt<Bt;++kt)tr[y[kt]]=ie(M,se+kt*3,7);se+=Bt*3;for(var at=q(tr),qt=(1<<at)-1,pr=le(tr,at,1),kt=0;kt<lt;){var nr=pr[ie(M,se,qt)];se+=nr&15;var ut=nr>>4;if(ut<16)Mt[kt++]=ut;else{var Pt=0,Ar=0;for(ut==16?(Ar=3+ie(M,se,3),se+=2,Pt=Mt[kt-1]):ut==17?(Ar=3+ie(M,se,7),se+=3):ut==18&&(Ar=11+ie(M,se,127),se+=7);Ar--;)Mt[kt++]=Pt}}var ct=Mt.subarray(0,jt),mt=Mt.subarray(jt);Ce=q(ct),Re=q(mt),Ie=le(ct,Ce,1),be=le(mt,Re,1)}else pe(1);else{var ut=D(se)+4,Oe=M[ut-4]|M[ut-3]<<8,Nt=ut+Oe;if(Nt>Fe){B&&pe(0);break}k&&P(de+Oe),ce.set(M.subarray(ut,Nt),de),W.b=de+=Oe,W.p=se=Nt*8,W.f=K;continue}if(se>ze){B&&pe(0);break}}k&&P(de+131072);for(var Ot=(1<<Ce)-1,Ft=(1<<Re)-1,mr=se;;mr=se){var Pt=Ie[Z(M,se)&Ot],yr=Pt>>4;if(se+=Pt&15,se>ze){B&&pe(0);break}if(Pt||pe(2),yr<256)ce[de++]=yr;else if(yr==256){mr=se,Ie=null;break}else{var Cr=yr-254;if(yr>264){var kt=yr-257,ir=m[kt];Cr=ie(M,se,(1<<ir)-1)+S[kt],se+=ir}var br=be[Z(M,se)&Ft],nn=br>>4;br||pe(3),se+=br&15;var mt=I[nn];if(nn>3){var ir=x[nn];mt+=Z(M,se)&(1<<ir)-1,se+=ir}if(se>ze){B&&pe(0);break}k&&P(de+131072);var Gr=de+Cr;if(de<mt){var Ze=Xe-mt,Et=Math.min(mt,Gr);for(Ze+de<0&&pe(3);de<Et;++de)ce[de]=Ee[Ze+de]}for(;de<Gr;++de)ce[de]=ce[de-mt]}}W.l=Ie,W.p=mr,W.b=de,W.f=K,Ie&&(K=1,W.m=Ce,W.d=be,W.n=Re)}while(!K);return de!=ce.length&&dt?ue(ce,0,de):ce.subarray(0,de)},re=function(M,W,ce){ce<<=W&7;var Ee=W/8|0;M[Ee]|=ce,M[Ee+1]|=ce>>8},he=function(M,W,ce){ce<<=W&7;var Ee=W/8|0;M[Ee]|=ce,M[Ee+1]|=ce>>8,M[Ee+2]|=ce>>16},X=function(M,W){for(var ce=[],Ee=0;Ee<M.length;++Ee)M[Ee]&&ce.push({s:Ee,f:M[Ee]});var Fe=ce.length,Xe=ce.slice();if(!Fe)return{t:_e,l:0};if(Fe==1){var dt=new f(ce[0].s+1);return dt[ce[0].s]=1,{t:dt,l:1}}ce.sort(function(Nt,jt){return Nt.f-jt.f}),ce.push({s:-1,f:25001});var k=ce[0],B=ce[1],P=0,K=1,se=2;for(ce[0]={s:-1,f:k.f+B.f,l:k,r:B};K!=Fe-1;)k=ce[ce[P].f<ce[se].f?P++:se++],B=ce[P!=K&&ce[P].f<ce[se].f?P++:se++],ce[K++]={s:-1,f:k.f+B.f,l:k,r:B};for(var de=Xe[0].s,Ee=1;Ee<Fe;++Ee)Xe[Ee].s>de&&(de=Xe[Ee].s);var Ie=new A(de+1),be=Ae(ce[K-1],Ie,0);if(be>W){var Ee=0,Ce=0,Re=be-W,ze=1<<Re;for(Xe.sort(function(jt,Bt){return Ie[Bt.s]-Ie[jt.s]||jt.f-Bt.f});Ee<Fe;++Ee){var nt=Xe[Ee].s;if(Ie[nt]>W)Ce+=ze-(1<<be-Ie[nt]),Ie[nt]=W;else break}for(Ce>>=Re;Ce>0;){var ut=Xe[Ee].s;Ie[ut]<W?Ce-=1<<W-Ie[ut]++-1:++Ee}for(;Ee>=0&&Ce;--Ee){var Oe=Xe[Ee].s;Ie[Oe]==W&&(--Ie[Oe],++Ce)}be=W}return{t:new f(Ie),l:be}},Ae=function(M,W,ce){return M.s==-1?Math.max(Ae(M.l,W,ce+1),Ae(M.r,W,ce+1)):W[M.s]=ce},Be=function(M){for(var W=M.length;W&&!M[--W];);for(var ce=new A(++W),Ee=0,Fe=M[0],Xe=1,dt=function(B){ce[Ee++]=B},k=1;k<=W;++k)if(M[k]==Fe&&k!=W)++Xe;else{if(!Fe&&Xe>2){for(;Xe>138;Xe-=138)dt(32754);Xe>2&&(dt(Xe>10?Xe-11<<5|28690:Xe-3<<5|12305),Xe=0)}else if(Xe>3){for(dt(Fe),--Xe;Xe>6;Xe-=6)dt(8304);Xe>2&&(dt(Xe-3<<5|8208),Xe=0)}for(;Xe--;)dt(Fe);Xe=1,Fe=M[k]}return{c:ce.subarray(0,Ee),n:W}},Me=function(M,W){for(var ce=0,Ee=0;Ee<W.length;++Ee)ce+=M[Ee]*W[Ee];return ce},$e=function(M,W,ce){var Ee=ce.length,Fe=D(W+2);M[Fe]=Ee&255,M[Fe+1]=Ee>>8,M[Fe+2]=M[Fe]^255,M[Fe+3]=M[Fe+1]^255;for(var Xe=0;Xe<Ee;++Xe)M[Fe+Xe+4]=ce[Xe];return(Fe+4+Ee)*8},ne=function(M,W,ce,Ee,Fe,Xe,dt,k,B,P,K){re(W,K++,ce),++Fe[256];for(var se=X(Fe,15),de=se.t,Ie=se.l,be=X(Xe,15),Ce=be.t,Re=be.l,ze=Be(de),nt=ze.c,ut=ze.n,Oe=Be(Ce),Nt=Oe.c,jt=Oe.n,Bt=new A(19),lt=0;lt<nt.length;++lt)++Bt[nt[lt]&31];for(var lt=0;lt<Nt.length;++lt)++Bt[Nt[lt]&31];for(var Mt=X(Bt,7),tr=Mt.t,kt=Mt.l,at=19;at>4&&!tr[y[at-1]];--at);var qt=P+5<<3,pr=Me(Fe,V)+Me(Xe,me)+dt,nr=Me(Fe,de)+Me(Xe,Ce)+dt+14+3*at+Me(Bt,tr)+2*Bt[16]+3*Bt[17]+7*Bt[18];if(B>=0&&qt<=pr&&qt<=nr)return $e(W,K,M.subarray(B,B+P));var Pt,Ar,ct,mt;if(re(W,K,1+(nr<pr)),K+=2,nr<pr){Pt=le(de,Ie,0),Ar=de,ct=le(Ce,Re,0),mt=Ce;var Ot=le(tr,kt,0);re(W,K,ut-257),re(W,K+5,jt-1),re(W,K+10,at-4),K+=14;for(var lt=0;lt<at;++lt)re(W,K+3*lt,tr[y[lt]]);K+=3*at;for(var Ft=[nt,Nt],mr=0;mr<2;++mr)for(var yr=Ft[mr],lt=0;lt<yr.length;++lt){var Cr=yr[lt]&31;re(W,K,Ot[Cr]),K+=tr[Cr],Cr>15&&(re(W,K,yr[lt]>>5&127),K+=yr[lt]>>12)}}else Pt=$,Ar=V,ct=we,mt=me;for(var lt=0;lt<k;++lt){var ir=Ee[lt];if(ir>255){var Cr=ir>>18&31;he(W,K,Pt[Cr+257]),K+=Ar[Cr+257],Cr>7&&(re(W,K,ir>>23&31),K+=m[Cr]);var br=ir&31;he(W,K,ct[br]),K+=mt[br],br>3&&(he(W,K,ir>>5&8191),K+=x[br])}else he(W,K,Pt[ir]),K+=Ar[ir]}return he(W,K,Pt[256]),K+Ar[256]},Pe=new g([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),_e=new f(0),rt=function(M,W,ce,Ee,Fe,Xe){var dt=Xe.z||M.length,k=new f(Ee+dt+5*(1+Math.ceil(dt/7e3))+Fe),B=k.subarray(Ee,k.length-Fe),P=Xe.l,K=(Xe.r||0)&7;if(W){K&&(B[0]=Xe.r>>3);for(var se=Pe[W-1],de=se>>13,Ie=se&8191,be=(1<<ce)-1,Ce=Xe.p||new A(32768),Re=Xe.h||new A(be+1),ze=Math.ceil(ce/3),nt=2*ze,ut=function(dr){return(M[dr]^M[dr+1]<<ze^M[dr+2]<<nt)&be},Oe=new g(25e3),Nt=new A(288),jt=new A(32),Bt=0,lt=0,Mt=Xe.i||0,tr=0,kt=Xe.w||0,at=0;Mt+2<dt;++Mt){var qt=ut(Mt),pr=Mt&32767,nr=Re[qt];if(Ce[pr]=nr,Re[qt]=pr,kt<=Mt){var Pt=dt-Mt;if((Bt>7e3||tr>24576)&&(Pt>423||!P)){K=ne(M,B,0,Oe,Nt,jt,lt,tr,at,Mt-at,K),tr=Bt=lt=0,at=Mt;for(var Ar=0;Ar<286;++Ar)Nt[Ar]=0;for(var Ar=0;Ar<30;++Ar)jt[Ar]=0}var ct=2,mt=0,Ot=Ie,Ft=pr-nr&32767;if(Pt>2&&qt==ut(Mt-Ft))for(var mr=Math.min(de,Pt)-1,yr=Math.min(32767,Mt),Cr=Math.min(258,Pt);Ft<=yr&&--Ot&&pr!=nr;){if(M[Mt+ct]==M[Mt+ct-Ft]){for(var ir=0;ir<Cr&&M[Mt+ir]==M[Mt+ir-Ft];++ir);if(ir>ct){if(ct=ir,mt=Ft,ir>mr)break;for(var br=Math.min(Ft,ir-2),nn=0,Ar=0;Ar<br;++Ar){var Gr=Mt-Ft+Ar&32767,Ze=Ce[Gr],Et=Gr-Ze&32767;Et>nn&&(nn=Et,nr=Gr)}}}pr=nr,nr=Ce[pr],Ft+=pr-nr&32767}if(mt){Oe[tr++]=268435456|w[ct]<<18|L[mt];var Tt=w[ct]&31,Yt=L[mt]&31;lt+=m[Tt]+x[Yt],++Nt[257+Tt],++jt[Yt],kt=Mt+ct,++Bt}else Oe[tr++]=M[Mt],++Nt[M[Mt]]}}for(Mt=Math.max(Mt,kt);Mt<dt;++Mt)Oe[tr++]=M[Mt],++Nt[M[Mt]];K=ne(M,B,P,Oe,Nt,jt,lt,tr,at,Mt-at,K),P||(Xe.r=K&7|B[K/8|0]<<3,K-=7,Xe.h=Re,Xe.p=Ce,Xe.i=Mt,Xe.w=kt)}else{for(var Mt=Xe.w||0;Mt<dt+P;Mt+=65535){var er=Mt+65535;er>=dt&&(B[K/8|0]=P,er=dt),K=$e(B,K+1,M.subarray(Mt,er))}Xe.i=dt}return ue(k,0,Ee+D(K)+Fe)},et=(function(){for(var M=new Int32Array(256),W=0;W<256;++W){for(var ce=W,Ee=9;--Ee;)ce=(ce&1&&-306674912)^ce>>>1;M[W]=ce}return M})(),Le=function(){var M=-1;return{p:function(W){for(var ce=M,Ee=0;Ee<W.length;++Ee)ce=et[ce&255^W[Ee]]^ce>>>8;M=ce},d:function(){return~M}}},it=function(){var M=1,W=0;return{p:function(ce){for(var Ee=M,Fe=W,Xe=ce.length|0,dt=0;dt!=Xe;){for(var k=Math.min(dt+2655,Xe);dt<k;++dt)Fe+=Ee+=ce[dt];Ee=(Ee&65535)+15*(Ee>>16),Fe=(Fe&65535)+15*(Fe>>16)}M=Ee,W=Fe},d:function(){return M%=65521,W%=65521,(M&255)<<24|(M&65280)<<8|(W&255)<<8|W>>8}}},Wt=function(M,W,ce,Ee,Fe){if(!Fe&&(Fe={l:1},W.dictionary)){var Xe=W.dictionary.subarray(-32768),dt=new f(Xe.length+M.length);dt.set(Xe),dt.set(M,Xe.length),M=dt,Fe.w=Xe.length}return rt(M,W.level==null?6:W.level,W.mem==null?Fe.l?Math.ceil(Math.max(8,Math.min(13,Math.log(M.length)))*1.5):20:12+W.mem,ce,Ee,Fe)},qe=function(M,W){var ce={};for(var Ee in M)ce[Ee]=M[Ee];for(var Ee in W)ce[Ee]=W[Ee];return ce},St=function(M,W,ce){for(var Ee=M(),Fe=M.toString(),Xe=Fe.slice(Fe.indexOf("[")+1,Fe.lastIndexOf("]")).replace(/\s+/g,"").split(","),dt=0;dt<Ee.length;++dt){var k=Ee[dt],B=Xe[dt];if(typeof k=="function"){W+=";"+B+"=";var P=k.toString();if(k.prototype)if(P.indexOf("[native code]")!=-1){var K=P.indexOf(" ",8)+1;W+=P.slice(K,P.indexOf("(",K))}else{W+=P;for(var se in k.prototype)W+=";"+B+".prototype."+se+"="+k.prototype[se].toString()}else W+=P}else ce[B]=k}return W},_t=[],ar=function(M){var W=[];for(var ce in M)M[ce].buffer&&W.push((M[ce]=new M[ce].constructor(M[ce])).buffer);return W},en=function(M,W,ce,Ee){if(!_t[ce]){for(var Fe="",Xe={},dt=M.length-1,k=0;k<dt;++k)Fe=St(M[k],Fe,Xe);_t[ce]={c:St(M[dt],Fe,Xe),e:Xe}}var B=qe({},_t[ce].e);return h(_t[ce].c+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+W.toString()+"}",ce,B,ar(B),Ee)},Xt=function(){return[f,A,g,m,x,y,S,I,ee,R,J,ye,le,q,ie,Z,D,ue,pe,je,tn,Ht,$t]},Yr=function(){return[f,A,g,m,x,y,w,L,$,V,we,me,J,Pe,_e,le,re,he,X,Ae,Be,Me,$e,ne,D,ue,rt,Wt,wi,Ht]},Qr=function(){return[Cn,da,Ur,Le,et]},He=function(){return[un,Dn]},Rt=function(){return[ri,Ur,it]},ot=function(){return[Ks]},Ht=function(M){return postMessage(M,[M.buffer])},$t=function(M){return M&&{out:M.size&&new f(M.size),dictionary:M.dictionary}},Dr=function(M,W,ce,Ee,Fe,Xe){var dt=en(ce,Ee,Fe,function(k,B){dt.terminate(),Xe(k,B)});return dt.postMessage([M,W],W.consume?[M.buffer]:[]),function(){dt.terminate()}},Fr=function(M){return M.ondata=function(W,ce){return postMessage([W,ce],[W.buffer])},function(W){W.data.length?(M.push(W.data[0],W.data[1]),postMessage([W.data[0].length])):M.flush()}},Jr=function(M,W,ce,Ee,Fe,Xe,dt){var k,B=en(M,Ee,Fe,function(P,K){P?(B.terminate(),W.ondata.call(W,P)):Array.isArray(K)?K.length==1?(W.queuedSize-=K[0],W.ondrain&&W.ondrain(K[0])):(K[1]&&B.terminate(),W.ondata.call(W,P,K[0],K[1])):dt(K)});B.postMessage(ce),W.queuedSize=0,W.push=function(P,K){W.ondata||pe(5),k&&W.ondata(pe(4,0,1),null,!!K),W.queuedSize+=P.length,B.postMessage([P,k=K],[P.buffer])},W.terminate=function(){B.terminate()},Xe&&(W.flush=function(){B.postMessage([])})},Wr=function(M,W){return M[W]|M[W+1]<<8},Ln=function(M,W){return(M[W]|M[W+1]<<8|M[W+2]<<16|M[W+3]<<24)>>>0},Vr=function(M,W){return Ln(M,W)+Ln(M,W+4)*4294967296},Ur=function(M,W,ce){for(;ce;++W)M[W]=ce,ce>>>=8},Cn=function(M,W){var ce=W.filename;if(M[0]=31,M[1]=139,M[2]=8,M[8]=W.level<2?4:W.level==9?2:0,M[9]=3,W.mtime!=0&&Ur(M,4,Math.floor(new Date(W.mtime||Date.now())/1e3)),ce){M[3]=8;for(var Ee=0;Ee<=ce.length;++Ee)M[Ee+10]=ce.charCodeAt(Ee)}},un=function(M){(M[0]!=31||M[1]!=139||M[2]!=8)&&pe(6,"invalid gzip data");var W=M[3],ce=10;W&4&&(ce+=(M[10]|M[11]<<8)+2);for(var Ee=(W>>3&1)+(W>>4&1);Ee>0;Ee-=!M[ce++]);return ce+(W&2)},Dn=function(M){var W=M.length;return(M[W-4]|M[W-3]<<8|M[W-2]<<16|M[W-1]<<24)>>>0},da=function(M){return 10+(M.filename?M.filename.length+1:0)},ri=function(M,W){var ce=W.level,Ee=ce==0?0:ce<6?1:ce==9?3:2;if(M[0]=120,M[1]=Ee<<6|(W.dictionary&&32),M[1]|=31-(M[0]<<8|M[1])%31,W.dictionary){var Fe=it();Fe.p(W.dictionary),Ur(M,2,Fe.d())}},Ks=function(M,W){return((M[0]&15)!=8||M[0]>>4>7||(M[0]<<8|M[1])%31)&&pe(6,"invalid zlib data"),(M[1]>>5&1)==+!W&&pe(6,"invalid zlib data: "+(M[1]&32?"need":"unexpected")+" dictionary"),(M[1]>>3&4)+2};function Hs(M,W){return typeof M=="function"&&(W=M,M={}),this.ondata=W,M}var oa=(function(){function M(W,ce){if(typeof W=="function"&&(ce=W,W={}),this.ondata=ce,this.o=W||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new f(98304),this.o.dictionary){var Ee=this.o.dictionary.subarray(-32768);this.b.set(Ee,32768-Ee.length),this.s.i=32768-Ee.length}}return M.prototype.p=function(W,ce){this.ondata(Wt(W,this.o,0,0,this.s),ce)},M.prototype.push=function(W,ce){this.ondata||pe(5),this.s.l&&pe(4);var Ee=W.length+this.s.z;if(Ee>this.b.length){if(Ee>2*this.b.length-32768){var Fe=new f(Ee&-32768);Fe.set(this.b.subarray(0,this.s.z)),this.b=Fe}var Xe=this.b.length-this.s.z;this.b.set(W.subarray(0,Xe),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(W.subarray(Xe),32768),this.s.z=W.length-Xe+32768,this.s.i=32766,this.s.w=32768}else this.b.set(W,this.s.z),this.s.z+=W.length;this.s.l=ce&1,(this.s.z>this.s.w+8191||ce)&&(this.p(this.b,ce||!1),this.s.w=this.s.i,this.s.i-=2)},M.prototype.flush=function(){this.ondata||pe(5),this.s.l&&pe(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},M})(),rn=(function(){function M(W,ce){Jr([Yr,function(){return[Fr,oa]}],this,Hs.call(this,W,ce),function(Ee){var Fe=new oa(Ee.data);onmessage=Fr(Fe)},6,1)}return M})();function ds(M,W,ce){return ce||(ce=W,W={}),typeof ce!="function"&&pe(7),Dr(M,W,[Yr],function(Ee){return Ht(wi(Ee.data[0],Ee.data[1]))},0,ce)}function wi(M,W){return Wt(M,W||{},0,0)}var wt=(function(){function M(W,ce){typeof W=="function"&&(ce=W,W={}),this.ondata=ce;var Ee=W&&W.dictionary&&W.dictionary.subarray(-32768);this.s={i:0,b:Ee?Ee.length:0},this.o=new f(32768),this.p=new f(0),Ee&&this.o.set(Ee)}return M.prototype.e=function(W){if(this.ondata||pe(5),this.d&&pe(4),!this.p.length)this.p=W;else if(W.length){var ce=new f(this.p.length+W.length);ce.set(this.p),ce.set(W,this.p.length),this.p=ce}},M.prototype.c=function(W){this.s.i=+(this.d=W||!1);var ce=this.s.b,Ee=je(this.p,this.s,this.o);this.ondata(ue(Ee,ce,this.s.b),this.d),this.o=ue(Ee,this.s.b-32768),this.s.b=this.o.length,this.p=ue(this.p,this.s.p/8|0),this.s.p&=7},M.prototype.push=function(W,ce){this.e(W),this.c(ce)},M})(),Pr=(function(){function M(W,ce){Jr([Xt,function(){return[Fr,wt]}],this,Hs.call(this,W,ce),function(Ee){var Fe=new wt(Ee.data);onmessage=Fr(Fe)},7,0)}return M})();function Mr(M,W,ce){return ce||(ce=W,W={}),typeof ce!="function"&&pe(7),Dr(M,W,[Xt],function(Ee){return Ht(tn(Ee.data[0],$t(Ee.data[1])))},1,ce)}function tn(M,W){return je(M,{i:2},W&&W.out,W&&W.dictionary)}var Kr=(function(){function M(W,ce){this.c=Le(),this.l=0,this.v=1,oa.call(this,W,ce)}return M.prototype.push=function(W,ce){this.c.p(W),this.l+=W.length,oa.prototype.push.call(this,W,ce)},M.prototype.p=function(W,ce){var Ee=Wt(W,this.o,this.v&&da(this.o),ce&&8,this.s);this.v&&(Cn(Ee,this.o),this.v=0),ce&&(Ur(Ee,Ee.length-8,this.c.d()),Ur(Ee,Ee.length-4,this.l)),this.ondata(Ee,ce)},M.prototype.flush=function(){oa.prototype.flush.call(this)},M})(),Ma=(function(){function M(W,ce){Jr([Yr,Qr,function(){return[Fr,oa,Kr]}],this,Hs.call(this,W,ce),function(Ee){var Fe=new Kr(Ee.data);onmessage=Fr(Fe)},8,1)}return M})();function ys(M,W,ce){return ce||(ce=W,W={}),typeof ce!="function"&&pe(7),Dr(M,W,[Yr,Qr,function(){return[Va]}],function(Ee){return Ht(Va(Ee.data[0],Ee.data[1]))},2,ce)}function Va(M,W){W||(W={});var ce=Le(),Ee=M.length;ce.p(M);var Fe=Wt(M,W,da(W),8),Xe=Fe.length;return Cn(Fe,W),Ur(Fe,Xe-8,ce.d()),Ur(Fe,Xe-4,Ee),Fe}var Ai=(function(){function M(W,ce){this.v=1,this.r=0,wt.call(this,W,ce)}return M.prototype.push=function(W,ce){if(wt.prototype.e.call(this,W),this.r+=W.length,this.v){var Ee=this.p.subarray(this.v-1),Fe=Ee.length>3?un(Ee):4;if(Fe>Ee.length){if(!ce)return}else this.v>1&&this.onmember&&this.onmember(this.r-Ee.length);this.p=Ee.subarray(Fe),this.v=0}wt.prototype.c.call(this,ce),this.s.f&&!this.s.l&&!ce&&(this.v=D(this.s.p)+9,this.s={i:0},this.o=new f(0),this.push(new f(0),ce))},M})(),Ca=(function(){function M(W,ce){var Ee=this;Jr([Xt,He,function(){return[Fr,wt,Ai]}],this,Hs.call(this,W,ce),function(Fe){var Xe=new Ai(Fe.data);Xe.onmember=function(dt){return postMessage(dt)},onmessage=Fr(Xe)},9,0,function(Fe){return Ee.onmember&&Ee.onmember(Fe)})}return M})();function ko(M,W,ce){return ce||(ce=W,W={}),typeof ce!="function"&&pe(7),Dr(M,W,[Xt,He,function(){return[Qs]}],function(Ee){return Ht(Qs(Ee.data[0],Ee.data[1]))},3,ce)}function Qs(M,W){var ce=un(M);return ce+8>M.length&&pe(6,"invalid gzip data"),je(M.subarray(ce,-8),{i:2},W&&W.out||new f(Dn(M)),W&&W.dictionary)}var qo=(function(){function M(W,ce){this.c=it(),this.v=1,oa.call(this,W,ce)}return M.prototype.push=function(W,ce){this.c.p(W),oa.prototype.push.call(this,W,ce)},M.prototype.p=function(W,ce){var Ee=Wt(W,this.o,this.v&&(this.o.dictionary?6:2),ce&&4,this.s);this.v&&(ri(Ee,this.o),this.v=0),ce&&Ur(Ee,Ee.length-4,this.c.d()),this.ondata(Ee,ce)},M.prototype.flush=function(){oa.prototype.flush.call(this)},M})(),yl=(function(){function M(W,ce){Jr([Yr,Rt,function(){return[Fr,oa,qo]}],this,Hs.call(this,W,ce),function(Ee){var Fe=new qo(Ee.data);onmessage=Fr(Fe)},10,1)}return M})();function Xo(M,W,ce){return ce||(ce=W,W={}),typeof ce!="function"&&pe(7),Dr(M,W,[Yr,Rt,function(){return[Is]}],function(Ee){return Ht(Is(Ee.data[0],Ee.data[1]))},4,ce)}function Is(M,W){W||(W={});var ce=it();ce.p(M);var Ee=Wt(M,W,W.dictionary?6:2,4);return ri(Ee,W),Ur(Ee,Ee.length-4,ce.d()),Ee}var jo=(function(){function M(W,ce){wt.call(this,W,ce),this.v=W&&W.dictionary?2:1}return M.prototype.push=function(W,ce){if(wt.prototype.e.call(this,W),this.v){if(this.p.length<6&&!ce)return;this.p=this.p.subarray(Ks(this.p,this.v-1)),this.v=0}ce&&(this.p.length<4&&pe(6,"invalid zlib data"),this.p=this.p.subarray(0,-4)),wt.prototype.c.call(this,ce)},M})(),pa=(function(){function M(W,ce){Jr([Xt,ot,function(){return[Fr,wt,jo]}],this,Hs.call(this,W,ce),function(Ee){var Fe=new jo(Ee.data);onmessage=Fr(Fe)},11,0)}return M})();function rc(M,W,ce){return ce||(ce=W,W={}),typeof ce!="function"&&pe(7),Dr(M,W,[Xt,ot,function(){return[os]}],function(Ee){return Ht(os(Ee.data[0],$t(Ee.data[1])))},5,ce)}function os(M,W){return je(M.subarray(Ks(M,W&&W.dictionary),-4),{i:2},W&&W.out,W&&W.dictionary)}var _o=(function(){function M(W,ce){this.o=Hs.call(this,W,ce)||{},this.G=Ai,this.I=wt,this.Z=jo}return M.prototype.i=function(){var W=this;this.s.ondata=function(ce,Ee){W.ondata(ce,Ee)}},M.prototype.push=function(W,ce){if(this.ondata||pe(5),this.s)this.s.push(W,ce);else{if(this.p&&this.p.length){var Ee=new f(this.p.length+W.length);Ee.set(this.p),Ee.set(W,this.p.length)}else this.p=W;this.p.length>2&&(this.s=this.p[0]==31&&this.p[1]==139&&this.p[2]==8?new this.G(this.o):(this.p[0]&15)!=8||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(this.o):new this.Z(this.o),this.i(),this.s.push(this.p,ce),this.p=null)}},M})(),Ji=(function(){function M(W,ce){_o.call(this,W,ce),this.queuedSize=0,this.G=Ca,this.I=Pr,this.Z=pa}return M.prototype.i=function(){var W=this;this.s.ondata=function(ce,Ee,Fe){W.ondata(ce,Ee,Fe)},this.s.ondrain=function(ce){W.queuedSize-=ce,W.ondrain&&W.ondrain(ce)}},M.prototype.push=function(W,ce){this.queuedSize+=W.length,_o.prototype.push.call(this,W,ce)},M})();function Oo(M,W,ce){return ce||(ce=W,W={}),typeof ce!="function"&&pe(7),M[0]==31&&M[1]==139&&M[2]==8?ko(M,W,ce):(M[0]&15)!=8||M[0]>>4>7||(M[0]<<8|M[1])%31?Mr(M,W,ce):rc(M,W,ce)}function ol(M,W){return M[0]==31&&M[1]==139&&M[2]==8?Qs(M,W):(M[0]&15)!=8||M[0]>>4>7||(M[0]<<8|M[1])%31?tn(M,W):os(M,W)}var Fo=function(M,W,ce,Ee){for(var Fe in M){var Xe=M[Fe],dt=W+Fe,k=Ee;Array.isArray(Xe)&&(k=qe(Ee,Xe[1]),Xe=Xe[0]),Xe instanceof f?ce[dt]=[Xe,k]:(ce[dt+="/"]=[new f(0),k],Fo(Xe,dt,ce,Ee))}},zi=typeof TextEncoder<"u"&&new TextEncoder,Ts=typeof TextDecoder<"u"&&new TextDecoder,ls=0;try{Ts.decode(_e,{stream:!0}),ls=1}catch{}var jl=function(M){for(var W="",ce=0;;){var Ee=M[ce++],Fe=(Ee>127)+(Ee>223)+(Ee>239);if(ce+Fe>M.length)return{s:W,r:ue(M,ce-1)};Fe?Fe==3?(Ee=((Ee&15)<<18|(M[ce++]&63)<<12|(M[ce++]&63)<<6|M[ce++]&63)-65536,W+=String.fromCharCode(55296|Ee>>10,56320|Ee&1023)):Fe&1?W+=String.fromCharCode((Ee&31)<<6|M[ce++]&63):W+=String.fromCharCode((Ee&15)<<12|(M[ce++]&63)<<6|M[ce++]&63):W+=String.fromCharCode(Ee)}},Po=(function(){function M(W){this.ondata=W,ls?this.t=new TextDecoder:this.p=_e}return M.prototype.push=function(W,ce){if(this.ondata||pe(5),ce=!!ce,this.t){this.ondata(this.t.decode(W,{stream:!0}),ce),ce&&(this.t.decode().length&&pe(8),this.t=null);return}this.p||pe(4);var Ee=new f(this.p.length+W.length);Ee.set(this.p),Ee.set(W,this.p.length);var Fe=jl(Ee),Xe=Fe.s,dt=Fe.r;ce?(dt.length&&pe(8),this.p=null):this.p=dt,this.ondata(Xe,ce)},M})(),$c=(function(){function M(W){this.ondata=W}return M.prototype.push=function(W,ce){this.ondata||pe(5),this.d&&pe(4),this.ondata(pi(W),this.d=ce||!1)},M})();function pi(M,W){if(W){for(var ce=new f(M.length),Ee=0;Ee<M.length;++Ee)ce[Ee]=M.charCodeAt(Ee);return ce}if(zi)return zi.encode(M);for(var Fe=M.length,Xe=new f(M.length+(M.length>>1)),dt=0,k=function(K){Xe[dt++]=K},Ee=0;Ee<Fe;++Ee){if(dt+5>Xe.length){var B=new f(dt+8+(Fe-Ee<<1));B.set(Xe),Xe=B}var P=M.charCodeAt(Ee);P<128||W?k(P):P<2048?(k(192|P>>6),k(128|P&63)):P>55295&&P<57344?(P=65536+(P&1047552)|M.charCodeAt(++Ee)&1023,k(240|P>>18),k(128|P>>12&63),k(128|P>>6&63),k(128|P&63)):(k(224|P>>12),k(128|P>>6&63),k(128|P&63))}return ue(Xe,0,dt)}function Gn(M,W){if(W){for(var ce="",Ee=0;Ee<M.length;Ee+=16384)ce+=String.fromCharCode.apply(null,M.subarray(Ee,Ee+16384));return ce}else{if(Ts)return Ts.decode(M);var Fe=jl(M),Xe=Fe.s,ce=Fe.r;return ce.length&&pe(8),Xe}}var Gs=function(M){return M==1?3:M<6?2:M==9?1:0},Ci=function(M,W){return W+30+Wr(M,W+26)+Wr(M,W+28)},Ni=function(M,W,ce){var Ee=Wr(M,W+28),Fe=Gn(M.subarray(W+46,W+46+Ee),!(Wr(M,W+8)&2048)),Xe=W+46+Ee,dt=Ln(M,W+20),k=ce&&dt==4294967295?Do(M,Xe):[dt,Ln(M,W+24),Ln(M,W+42)],B=k[0],P=k[1],K=k[2];return[Wr(M,W+10),B,P,Fe,Xe+Wr(M,W+30)+Wr(M,W+32),K]},Do=function(M,W){for(;Wr(M,W)!=1;W+=4+Wr(M,W+2));return[Vr(M,W+12),Vr(M,W+4),Vr(M,W+20)]},Ws=function(M){var W=0;if(M)for(var ce in M){var Ee=M[ce].length;Ee>65535&&pe(9),W+=Ee+4}return W},uo=function(M,W,ce,Ee,Fe,Xe,dt,k){var B=Ee.length,P=ce.extra,K=k&&k.length,se=Ws(P);Ur(M,W,dt!=null?33639248:67324752),W+=4,dt!=null&&(M[W++]=20,M[W++]=ce.os),M[W]=20,W+=2,M[W++]=ce.flag<<1|(Xe<0&&8),M[W++]=Fe&&8,M[W++]=ce.compression&255,M[W++]=ce.compression>>8;var de=new Date(ce.mtime==null?Date.now():ce.mtime),Ie=de.getFullYear()-1980;if((Ie<0||Ie>119)&&pe(10),Ur(M,W,Ie<<25|de.getMonth()+1<<21|de.getDate()<<16|de.getHours()<<11|de.getMinutes()<<5|de.getSeconds()>>1),W+=4,Xe!=-1&&(Ur(M,W,ce.crc),Ur(M,W+4,Xe<0?-Xe-2:Xe),Ur(M,W+8,ce.size)),Ur(M,W+12,B),Ur(M,W+14,se),W+=16,dt!=null&&(Ur(M,W,K),Ur(M,W+6,ce.attrs),Ur(M,W+10,dt),W+=14),M.set(Ee,W),W+=B,se)for(var be in P){var Ce=P[be],Re=Ce.length;Ur(M,W,+be),Ur(M,W+2,Re),M.set(Ce,W+4),W+=4+Re}return K&&(M.set(k,W),W+=K),W},ni=function(M,W,ce,Ee,Fe){Ur(M,W,101010256),Ur(M,W+8,ce),Ur(M,W+10,ce),Ur(M,W+12,Ee),Ur(M,W+16,Fe)},Rs=(function(){function M(W){this.filename=W,this.c=Le(),this.size=0,this.compression=0}return M.prototype.process=function(W,ce){this.ondata(null,W,ce)},M.prototype.push=function(W,ce){this.ondata||pe(5),this.c.p(W),this.size+=W.length,ce&&(this.crc=this.c.d()),this.process(W,ce||!1)},M})(),bo=(function(){function M(W,ce){var Ee=this;ce||(ce={}),Rs.call(this,W),this.d=new oa(ce,function(Fe,Xe){Ee.ondata(null,Fe,Xe)}),this.compression=8,this.flag=Gs(ce.level)}return M.prototype.process=function(W,ce){try{this.d.push(W,ce)}catch(Ee){this.ondata(Ee,null,ce)}},M.prototype.push=function(W,ce){Rs.prototype.push.call(this,W,ce)},M})(),Mo=(function(){function M(W,ce){var Ee=this;ce||(ce={}),Rs.call(this,W),this.d=new rn(ce,function(Fe,Xe,dt){Ee.ondata(Fe,Xe,dt)}),this.compression=8,this.flag=Gs(ce.level),this.terminate=this.d.terminate}return M.prototype.process=function(W,ce){this.d.push(W,ce)},M.prototype.push=function(W,ce){Rs.prototype.push.call(this,W,ce)},M})(),va=(function(){function M(W){this.ondata=W,this.u=[],this.d=1}return M.prototype.add=function(W){var ce=this;if(this.ondata||pe(5),this.d&2)this.ondata(pe(4+(this.d&1)*8,0,1),null,!1);else{var Ee=pi(W.filename),Fe=Ee.length,Xe=W.comment,dt=Xe&&pi(Xe),k=Fe!=W.filename.length||dt&&Xe.length!=dt.length,B=Fe+Ws(W.extra)+30;Fe>65535&&this.ondata(pe(11,0,1),null,!1);var P=new f(B);uo(P,0,W,Ee,k,-1);var K=[P],se=function(){for(var Re=0,ze=K;Re<ze.length;Re++){var nt=ze[Re];ce.ondata(null,nt,!1)}K=[]},de=this.d;this.d=0;var Ie=this.u.length,be=qe(W,{f:Ee,u:k,o:dt,t:function(){W.terminate&&W.terminate()},r:function(){if(se(),de){var Re=ce.u[Ie+1];Re?Re.r():ce.d=1}de=1}}),Ce=0;W.ondata=function(Re,ze,nt){if(Re)ce.ondata(Re,ze,nt),ce.terminate();else if(Ce+=ze.length,K.push(ze),nt){var ut=new f(16);Ur(ut,0,134695760),Ur(ut,4,W.crc),Ur(ut,8,Ce),Ur(ut,12,W.size),K.push(ut),be.c=Ce,be.b=B+Ce+16,be.crc=W.crc,be.size=W.size,de&&be.r(),de=1}else de&&se()},this.u.push(be)}},M.prototype.end=function(){var W=this;if(this.d&2){this.ondata(pe(4+(this.d&1)*8,0,1),null,!0);return}this.d?this.e():this.u.push({r:function(){W.d&1&&(W.u.splice(-1,1),W.e())},t:function(){}}),this.d=3},M.prototype.e=function(){for(var W=0,ce=0,Ee=0,Fe=0,Xe=this.u;Fe<Xe.length;Fe++){var dt=Xe[Fe];Ee+=46+dt.f.length+Ws(dt.extra)+(dt.o?dt.o.length:0)}for(var k=new f(Ee+22),B=0,P=this.u;B<P.length;B++){var dt=P[B];uo(k,W,dt,dt.f,dt.u,-dt.c-2,ce,dt.o),W+=46+dt.f.length+Ws(dt.extra)+(dt.o?dt.o.length:0),ce+=dt.b}ni(k,W,this.u.length,Ee,ce),this.ondata(null,k,!0),this.d=2},M.prototype.terminate=function(){for(var W=0,ce=this.u;W<ce.length;W++){var Ee=ce[W];Ee.t()}this.d=2},M})();function qs(M,W,ce){ce||(ce=W,W={}),typeof ce!="function"&&pe(7);var Ee={};Fo(M,"",Ee,W);var Fe=Object.keys(Ee),Xe=Fe.length,dt=0,k=0,B=Xe,P=new Array(Xe),K=[],se=function(){for(var Re=0;Re<K.length;++Re)K[Re]()},de=function(Re,ze){Q(function(){ce(Re,ze)})};Q(function(){de=ce});var Ie=function(){var Re=new f(k+22),ze=dt,nt=k-dt;k=0;for(var ut=0;ut<B;++ut){var Oe=P[ut];try{var Nt=Oe.c.length;uo(Re,k,Oe,Oe.f,Oe.u,Nt);var jt=30+Oe.f.length+Ws(Oe.extra),Bt=k+jt;Re.set(Oe.c,Bt),uo(Re,dt,Oe,Oe.f,Oe.u,Nt,k,Oe.m),dt+=16+jt+(Oe.m?Oe.m.length:0),k=Bt+Nt}catch(lt){return de(lt,null)}}ni(Re,dt,P.length,nt,ze),de(null,Re)};Xe||Ie();for(var be=function(Re){var ze=Fe[Re],nt=Ee[ze],ut=nt[0],Oe=nt[1],Nt=Le(),jt=ut.length;Nt.p(ut);var Bt=pi(ze),lt=Bt.length,Mt=Oe.comment,tr=Mt&&pi(Mt),kt=tr&&tr.length,at=Ws(Oe.extra),qt=Oe.level==0?0:8,pr=function(nr,Pt){if(nr)se(),de(nr,null);else{var Ar=Pt.length;P[Re]=qe(Oe,{size:jt,crc:Nt.d(),c:Pt,f:Bt,m:tr,u:lt!=ze.length||tr&&Mt.length!=kt,compression:qt}),dt+=30+lt+at+Ar,k+=76+2*(lt+at)+(kt||0)+Ar,--Xe||Ie()}};if(lt>65535&&pr(pe(11,0,1),null),!qt)pr(null,ut);else if(jt<16e4)try{pr(null,wi(ut,Oe))}catch(nr){pr(nr,null)}else K.push(ds(ut,Oe,pr))},Ce=0;Ce<B;++Ce)be(Ce);return se}function Si(M,W){W||(W={});var ce={},Ee=[];Fo(M,"",ce,W);var Fe=0,Xe=0;for(var dt in ce){var k=ce[dt],B=k[0],P=k[1],K=P.level==0?0:8,se=pi(dt),de=se.length,Ie=P.comment,be=Ie&&pi(Ie),Ce=be&&be.length,Re=Ws(P.extra);de>65535&&pe(11);var ze=K?wi(B,P):B,nt=ze.length,ut=Le();ut.p(B),Ee.push(qe(P,{size:B.length,crc:ut.d(),c:ze,f:se,m:be,u:de!=dt.length||be&&Ie.length!=Ce,o:Fe,compression:K})),Fe+=30+de+Re+nt,Xe+=76+2*(de+Re)+(Ce||0)+nt}for(var Oe=new f(Xe+22),Nt=Fe,jt=Xe-Fe,Bt=0;Bt<Ee.length;++Bt){var se=Ee[Bt];uo(Oe,se.o,se,se.f,se.u,se.c.length);var lt=30+se.f.length+Ws(se.extra);Oe.set(se.c,se.o+lt),uo(Oe,Fe,se,se.f,se.u,se.c.length,se.o,se.m),Fe+=16+lt+(se.m?se.m.length:0)}return ni(Oe,Fe,Ee.length,jt,Nt),Oe}var Zi=(function(){function M(){}return M.prototype.push=function(W,ce){this.ondata(null,W,ce)},M.compression=0,M})(),Ri=(function(){function M(){var W=this;this.i=new wt(function(ce,Ee){W.ondata(null,ce,Ee)})}return M.prototype.push=function(W,ce){try{this.i.push(W,ce)}catch(Ee){this.ondata(Ee,null,ce)}},M.compression=8,M})(),Ro=(function(){function M(W,ce){var Ee=this;ce<32e4?this.i=new wt(function(Fe,Xe){Ee.ondata(null,Fe,Xe)}):(this.i=new Pr(function(Fe,Xe,dt){Ee.ondata(Fe,Xe,dt)}),this.terminate=this.i.terminate)}return M.prototype.push=function(W,ce){this.i.terminate&&(W=ue(W,0)),this.i.push(W,ce)},M.compression=8,M})(),Kt=(function(){function M(W){this.onfile=W,this.k=[],this.o={0:Zi},this.p=_e}return M.prototype.push=function(W,ce){var Ee=this;if(this.onfile||pe(5),this.p||pe(4),this.c>0){var Fe=Math.min(this.c,W.length),Xe=W.subarray(0,Fe);if(this.c-=Fe,this.d?this.d.push(Xe,!this.c):this.k[0].push(Xe),W=W.subarray(Fe),W.length)return this.push(W,ce)}else{var dt=0,k=0,B=void 0,P=void 0;this.p.length?W.length?(P=new f(this.p.length+W.length),P.set(this.p),P.set(W,this.p.length)):P=this.p:P=W;for(var K=P.length,se=this.c,de=se&&this.d,Ie=function(){var ze,nt=Ln(P,k);if(nt==67324752){dt=1,B=k,be.d=null,be.c=0;var ut=Wr(P,k+6),Oe=Wr(P,k+8),Nt=ut&2048,jt=ut&8,Bt=Wr(P,k+26),lt=Wr(P,k+28);if(K>k+30+Bt+lt){var Mt=[];be.k.unshift(Mt),dt=2;var tr=Ln(P,k+18),kt=Ln(P,k+22),at=Gn(P.subarray(k+30,k+=30+Bt),!Nt);tr==4294967295?(ze=jt?[-2]:Do(P,k),tr=ze[0],kt=ze[1]):jt&&(tr=-1),k+=lt,be.c=tr;var qt,pr={name:at,compression:Oe,start:function(){if(pr.ondata||pe(5),!tr)pr.ondata(null,_e,!0);else{var nr=Ee.o[Oe];nr||pr.ondata(pe(14,"unknown compression type "+Oe,1),null,!1),qt=tr<0?new nr(at):new nr(at,tr,kt),qt.ondata=function(mt,Ot,Ft){pr.ondata(mt,Ot,Ft)};for(var Pt=0,Ar=Mt;Pt<Ar.length;Pt++){var ct=Ar[Pt];qt.push(ct,!1)}Ee.k[0]==Mt&&Ee.c?Ee.d=qt:qt.push(_e,!0)}},terminate:function(){qt&&qt.terminate&&qt.terminate()}};tr>=0&&(pr.size=tr,pr.originalSize=kt),be.onfile(pr)}return"break"}else if(se){if(nt==134695760)return B=k+=12+(se==-2&&8),dt=3,be.c=0,"break";if(nt==33639248)return B=k-=4,dt=3,be.c=0,"break"}},be=this;k<K-4;++k){var Ce=Ie();if(Ce==="break")break}if(this.p=_e,se<0){var Re=dt?P.subarray(0,B-12-(se==-2&&8)-(Ln(P,B-16)==134695760&&4)):P.subarray(0,k);de?de.push(Re,!!dt):this.k[+(dt==2)].push(Re)}if(dt&2)return this.push(P.subarray(k),ce);this.p=P.subarray(k)}ce&&(this.c&&pe(13),this.p=null)},M.prototype.register=function(W){this.o[W.compression]=W},M})(),Q=typeof queueMicrotask=="function"?queueMicrotask:typeof setTimeout=="function"?setTimeout:function(M){M()};function fe(M,W,ce){ce||(ce=W,W={}),typeof ce!="function"&&pe(7);var Ee=[],Fe=function(){for(var Re=0;Re<Ee.length;++Re)Ee[Re]()},Xe={},dt=function(Re,ze){Q(function(){ce(Re,ze)})};Q(function(){dt=ce});for(var k=M.length-22;Ln(M,k)!=101010256;--k)if(!k||M.length-k>65558)return dt(pe(13,0,1),null),Fe;var B=Wr(M,k+8);if(B){var P=B,K=Ln(M,k+16),se=K==4294967295||P==65535;if(se){var de=Ln(M,k-12);se=Ln(M,de)==101075792,se&&(P=B=Ln(M,de+32),K=Ln(M,de+48))}for(var Ie=W&&W.filter,be=function(Re){var ze=Ni(M,K,se),nt=ze[0],ut=ze[1],Oe=ze[2],Nt=ze[3],jt=ze[4],Bt=ze[5],lt=Ci(M,Bt);K=jt;var Mt=function(kt,at){kt?(Fe(),dt(kt,null)):(at&&(Xe[Nt]=at),--B||dt(null,Xe))};if(!Ie||Ie({name:Nt,size:ut,originalSize:Oe,compression:nt}))if(!nt)Mt(null,ue(M,lt,lt+ut));else if(nt==8){var tr=M.subarray(lt,lt+ut);if(Oe<524288||ut>.8*Oe)try{Mt(null,tn(tr,{out:new f(Oe)}))}catch(kt){Mt(kt,null)}else Ee.push(Mr(tr,{size:Oe},Mt))}else Mt(pe(14,"unknown compression type "+nt,1),null);else Mt(null,null)},Ce=0;Ce<P;++Ce)be(Ce)}else dt(null,{});return Fe}function ge(M,W){for(var ce={},Ee=M.length-22;Ln(M,Ee)!=101010256;--Ee)(!Ee||M.length-Ee>65558)&&pe(13);var Fe=Wr(M,Ee+8);if(!Fe)return{};var Xe=Ln(M,Ee+16),dt=Xe==4294967295||Fe==65535;if(dt){var k=Ln(M,Ee-12);dt=Ln(M,k)==101075792,dt&&(Fe=Ln(M,k+32),Xe=Ln(M,k+48))}for(var B=W&&W.filter,P=0;P<Fe;++P){var K=Ni(M,Xe,dt),se=K[0],de=K[1],Ie=K[2],be=K[3],Ce=K[4],Re=K[5],ze=Ci(M,Re);Xe=Ce,(!B||B({name:be,size:de,originalSize:Ie,compression:se}))&&(se?se==8?ce[be]=tn(M.subarray(ze,ze+de),{out:new f(Ie)}):pe(14,"unknown compression type "+se):ce[be]=ue(M,ze,ze+de))}return ce}}),"./node_modules/iobuffer/lib-esm/IOBuffer.js":(function(o,d,l){l.r(d),l.d(d,{IOBuffer:function(){return g}});var u=l("./node_modules/iobuffer/lib-esm/text.js");const h=1024*8,f=(()=>{const m=new Uint8Array(4),x=new Uint32Array(m.buffer);return!((x[0]=1)&m[0])})(),A={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class g{constructor(x=h,y={}){ei(this,"buffer");ei(this,"byteLength");ei(this,"byteOffset");ei(this,"length");ei(this,"offset");ei(this,"lastWrittenByte");ei(this,"littleEndian");ei(this,"_data");ei(this,"_mark");ei(this,"_marks");let j=!1;typeof x=="number"?x=new ArrayBuffer(x):(j=!0,this.lastWrittenByte=x.byteLength);const b=y.offset?y.offset>>>0:0,S=x.byteLength-b;let w=b;(ArrayBuffer.isView(x)||x instanceof g)&&(x.byteLength!==x.buffer.byteLength&&(w=x.byteOffset+b),x=x.buffer),j?this.lastWrittenByte=S:this.lastWrittenByte=0,this.buffer=x,this.length=S,this.byteLength=S,this.byteOffset=w,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,w,S),this._mark=0,this._marks=[]}available(x=1){return this.offset+x<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(x=1){return this.offset+=x,this}back(x=1){return this.offset-=x,this}seek(x){return this.offset=x,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const x=this._marks.pop();if(x===void 0)throw new Error("Mark stack empty");return this.seek(x),this}rewind(){return this.offset=0,this}ensureAvailable(x=1){if(!this.available(x)){const j=(this.offset+x)*2,b=new Uint8Array(j);b.set(new Uint8Array(this.buffer)),this.buffer=b.buffer,this.length=j,this.byteLength=j,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(x=1){return this.readArray(x,"uint8")}readArray(x,y){const j=A[y].BYTES_PER_ELEMENT*x,b=this.byteOffset+this.offset,S=this.buffer.slice(b,b+j);if(this.littleEndian===f&&y!=="uint8"&&y!=="int8"){const E=new Uint8Array(this.buffer.slice(b,b+j));E.reverse();const I=new A[y](E.buffer);return this.offset+=j,I.reverse(),I}const w=new A[y](S);return this.offset+=j,w}readInt16(){const x=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,x}readUint16(){const x=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,x}readInt32(){const x=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,x}readUint32(){const x=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,x}readFloat32(){const x=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,x}readFloat64(){const x=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,x}readBigInt64(){const x=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,x}readBigUint64(){const x=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,x}readChar(){return String.fromCharCode(this.readInt8())}readChars(x=1){let y="";for(let j=0;j<x;j++)y+=this.readChar();return y}readUtf8(x=1){return(0,u.decode)(this.readBytes(x))}decodeText(x=1,y="utf8"){return(0,u.decode)(this.readBytes(x),y)}writeBoolean(x){return this.writeUint8(x?255:0),this}writeInt8(x){return this.ensureAvailable(1),this._data.setInt8(this.offset++,x),this._updateLastWrittenByte(),this}writeUint8(x){return this.ensureAvailable(1),this._data.setUint8(this.offset++,x),this._updateLastWrittenByte(),this}writeByte(x){return this.writeUint8(x)}writeBytes(x){this.ensureAvailable(x.length);for(let y=0;y<x.length;y++)this._data.setUint8(this.offset++,x[y]);return this._updateLastWrittenByte(),this}writeInt16(x){return this.ensureAvailable(2),this._data.setInt16(this.offset,x,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(x){return this.ensureAvailable(2),this._data.setUint16(this.offset,x,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(x){return this.ensureAvailable(4),this._data.setInt32(this.offset,x,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(x){return this.ensureAvailable(4),this._data.setUint32(this.offset,x,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(x){return this.ensureAvailable(4),this._data.setFloat32(this.offset,x,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(x){return this.ensureAvailable(8),this._data.setFloat64(this.offset,x,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(x){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,x,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(x){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,x,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(x){return this.writeUint8(x.charCodeAt(0))}writeChars(x){for(let y=0;y<x.length;y++)this.writeUint8(x.charCodeAt(y));return this}writeUtf8(x){return this.writeBytes((0,u.encode)(x))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}}),"./node_modules/iobuffer/lib-esm/text.js":(function(o,d,l){l.r(d),l.d(d,{decode:function(){return u},encode:function(){return f}});function u(A,g="utf8"){return new TextDecoder(g).decode(A)}const h=new TextEncoder;function f(A){return h.encode(A)}}),"./node_modules/jspdf/dist/jspdf.es.min.js":(function(o,d,l){l.r(d),l.d(d,{AcroForm:function(){return wi},AcroFormAppearance:function(){return rn},AcroFormButton:function(){return un},AcroFormCheckBox:function(){return Ks},AcroFormChoiceField:function(){return Ln},AcroFormComboBox:function(){return Ur},AcroFormEditBox:function(){return Cn},AcroFormListBox:function(){return Vr},AcroFormPasswordField:function(){return oa},AcroFormPushButton:function(){return Dn},AcroFormRadioButton:function(){return da},AcroFormTextField:function(){return Hs},GState:function(){return je},ShadingPattern:function(){return he},TilingPattern:function(){return X},default:function(){return Ae},jsPDF:function(){return Ae}});var u=l("./node_modules/@babel/runtime/helpers/esm/typeof.js"),h=l("./node_modules/fflate/esm/browser.js"),f=l("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),A=l("./node_modules/fast-png/lib-esm/index.js");/** @license
 *
 * jsPDF - PDF Document creation from JavaScript
 * Version 4.0.0 Built on 2025-12-18T10:27:09.425Z
 *                      CommitID 00000000
 *
 * Copyright (c) 2010-2025 James Hall <james@parall.ax>, https://github.com/MrRio/jsPDF
 *               2015-2025 yWorks GmbH, http://www.yworks.com
 *               2015-2025 Lukas Hollnder <lukas.hollaender@yworks.com>, https://github.com/HackbrettXXX
 *               2016-2018 Aras Abbasi <aras.abbasi@gmail.com>
 *               2010 Aaron Spike, https://github.com/acspike
 *               2012 Willow Systems Corporation, https://github.com/willowsystems
 *               2012 Pablo Hess, https://github.com/pablohess
 *               2012 Florian Jenett, https://github.com/fjenett
 *               2013 Warren Weckesser, https://github.com/warrenweckesser
 *               2013 Youssef Beddad, https://github.com/lifof
 *               2013 Lee Driscoll, https://github.com/lsdriscoll
 *               2013 Stefan Slonevskiy, https://github.com/stefslon
 *               2013 Jeremy Morel, https://github.com/jmorel
 *               2013 Christoph Hartmann, https://github.com/chris-rock
 *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
 *               2014 James Makes, https://github.com/dollaruw
 *               2014 Diego Casorran, https://github.com/diegocr
 *               2014 Steven Spungin, https://github.com/Flamenco
 *               2014 Kenneth Glassey, https://github.com/Gavvers
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 * Contributor(s):
 *    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,
 *    kim3er, mfo, alnorth, Flamenco
 */var g=(function(){return typeof window<"u"?window:typeof ff<"u"?ff:typeof self<"u"?self:this})();function m(){g.console&&typeof g.console.log=="function"&&g.console.log.apply(g.console,arguments)}var x={log:m,warn:function(k){g.console&&(typeof g.console.warn=="function"?g.console.warn.apply(g.console,arguments):m.call(null,arguments))},error:function(k){g.console&&(typeof g.console.error=="function"?g.console.error.apply(g.console,arguments):m(k))}};function y(k,B,P){var K=new XMLHttpRequest;K.open("GET",k),K.responseType="blob",K.onload=function(){S(K.response,B,P)},K.onerror=function(){x.error("could not download file")},K.send()}function j(k){var B=new XMLHttpRequest;B.open("HEAD",k,!1);try{B.send()}catch{}return B.status>=200&&B.status<=299}function b(k){try{k.dispatchEvent(new MouseEvent("click"))}catch{var B=document.createEvent("MouseEvents");B.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),k.dispatchEvent(B)}}var S=g.saveAs||((typeof window>"u"?"undefined":(0,u.default)(window))!=="object"||window!==g?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(k,B,P){var K=g.URL||g.webkitURL,se=document.createElement("a");B=B||k.name||"download",se.download=B,se.rel="noopener",typeof k=="string"?(se.href=k,se.origin!==location.origin?j(se.href)?y(k,B,P):b(se,se.target="_blank"):b(se)):(se.href=K.createObjectURL(k),setTimeout(function(){K.revokeObjectURL(se.href)},4e4),setTimeout(function(){b(se)},0))}:"msSaveOrOpenBlob"in navigator?function(k,B,P){if(B=B||k.name||"download",typeof k=="string")if(j(k))y(k,B,P);else{var K=document.createElement("a");K.href=k,K.target="_blank",setTimeout(function(){b(K)})}else navigator.msSaveOrOpenBlob((function(se,de){return de===void 0?de={autoBom:!1}:(0,u.default)(de)!=="object"&&(x.warn("Deprecated: Expected third argument to be a object"),de={autoBom:!de}),de.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(se.type)?new Blob(["\uFEFF",se],{type:se.type}):se})(k,P),B)}:function(k,B,P,K){if((K=K||open("","_blank"))&&(K.document.title=K.document.body.innerText="downloading..."),typeof k=="string")return y(k,B,P);var se=k.type==="application/octet-stream",de=/constructor/i.test(g.HTMLElement)||g.safari,Ie=/CriOS\/[\d]+/.test(navigator.userAgent);if((Ie||se&&de)&&(typeof FileReader>"u"?"undefined":(0,u.default)(FileReader))==="object"){var be=new FileReader;be.onloadend=function(){var ze=be.result;ze=Ie?ze:ze.replace(/^data:[^;]*;/,"data:attachment/file;"),K?K.location.href=ze:location=ze,K=null},be.readAsDataURL(k)}else{var Ce=g.URL||g.webkitURL,Re=Ce.createObjectURL(k);K?K.location=Re:location.href=Re,K=null,setTimeout(function(){Ce.revokeObjectURL(Re)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function w(k){var B;k=k||"",this.ok=!1,k.charAt(0)=="#"&&(k=k.substr(1,6)),k={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[k=(k=k.replace(/ /g,"")).toLowerCase()]||k;for(var P=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(be){return[parseInt(be[1]),parseInt(be[2]),parseInt(be[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(be){return[parseInt(be[1],16),parseInt(be[2],16),parseInt(be[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(be){return[parseInt(be[1]+be[1],16),parseInt(be[2]+be[2],16),parseInt(be[3]+be[3],16)]}}],K=0;K<P.length;K++){var se=P[K].re,de=P[K].process,Ie=se.exec(k);Ie&&(B=de(Ie),this.r=B[0],this.g=B[1],this.b=B[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var be=this.r.toString(16),Ce=this.g.toString(16),Re=this.b.toString(16);return be.length==1&&(be="0"+be),Ce.length==1&&(Ce="0"+Ce),Re.length==1&&(Re="0"+Re),"#"+be+Ce+Re}}var E=g.atob.bind(g),I=g.btoa.bind(g);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function L(k,B){var P=k[0],K=k[1],se=k[2],de=k[3];P=ae(P,K,se,de,B[0],7,-680876936),de=ae(de,P,K,se,B[1],12,-389564586),se=ae(se,de,P,K,B[2],17,606105819),K=ae(K,se,de,P,B[3],22,-1044525330),P=ae(P,K,se,de,B[4],7,-176418897),de=ae(de,P,K,se,B[5],12,1200080426),se=ae(se,de,P,K,B[6],17,-1473231341),K=ae(K,se,de,P,B[7],22,-45705983),P=ae(P,K,se,de,B[8],7,1770035416),de=ae(de,P,K,se,B[9],12,-1958414417),se=ae(se,de,P,K,B[10],17,-42063),K=ae(K,se,de,P,B[11],22,-1990404162),P=ae(P,K,se,de,B[12],7,1804603682),de=ae(de,P,K,se,B[13],12,-40341101),se=ae(se,de,P,K,B[14],17,-1502002290),P=G(P,K=ae(K,se,de,P,B[15],22,1236535329),se,de,B[1],5,-165796510),de=G(de,P,K,se,B[6],9,-1069501632),se=G(se,de,P,K,B[11],14,643717713),K=G(K,se,de,P,B[0],20,-373897302),P=G(P,K,se,de,B[5],5,-701558691),de=G(de,P,K,se,B[10],9,38016083),se=G(se,de,P,K,B[15],14,-660478335),K=G(K,se,de,P,B[4],20,-405537848),P=G(P,K,se,de,B[9],5,568446438),de=G(de,P,K,se,B[14],9,-1019803690),se=G(se,de,P,K,B[3],14,-187363961),K=G(K,se,de,P,B[8],20,1163531501),P=G(P,K,se,de,B[13],5,-1444681467),de=G(de,P,K,se,B[2],9,-51403784),se=G(se,de,P,K,B[7],14,1735328473),P=le(P,K=G(K,se,de,P,B[12],20,-1926607734),se,de,B[5],4,-378558),de=le(de,P,K,se,B[8],11,-2022574463),se=le(se,de,P,K,B[11],16,1839030562),K=le(K,se,de,P,B[14],23,-35309556),P=le(P,K,se,de,B[1],4,-1530992060),de=le(de,P,K,se,B[4],11,1272893353),se=le(se,de,P,K,B[7],16,-155497632),K=le(K,se,de,P,B[10],23,-1094730640),P=le(P,K,se,de,B[13],4,681279174),de=le(de,P,K,se,B[0],11,-358537222),se=le(se,de,P,K,B[3],16,-722521979),K=le(K,se,de,P,B[6],23,76029189),P=le(P,K,se,de,B[9],4,-640364487),de=le(de,P,K,se,B[12],11,-421815835),se=le(se,de,P,K,B[15],16,530742520),P=V(P,K=le(K,se,de,P,B[2],23,-995338651),se,de,B[0],6,-198630844),de=V(de,P,K,se,B[7],10,1126891415),se=V(se,de,P,K,B[14],15,-1416354905),K=V(K,se,de,P,B[5],21,-57434055),P=V(P,K,se,de,B[12],6,1700485571),de=V(de,P,K,se,B[3],10,-1894986606),se=V(se,de,P,K,B[10],15,-1051523),K=V(K,se,de,P,B[1],21,-2054922799),P=V(P,K,se,de,B[8],6,1873313359),de=V(de,P,K,se,B[15],10,-30611744),se=V(se,de,P,K,B[6],15,-1560198380),K=V(K,se,de,P,B[13],21,1309151649),P=V(P,K,se,de,B[4],6,-145523070),de=V(de,P,K,se,B[11],10,-1120210379),se=V(se,de,P,K,B[2],15,718787259),K=V(K,se,de,P,B[9],21,-343485551),k[0]=Z(P,k[0]),k[1]=Z(K,k[1]),k[2]=Z(se,k[2]),k[3]=Z(de,k[3])}function J(k,B,P,K,se,de){return B=Z(Z(B,k),Z(K,de)),Z(B<<se|B>>>32-se,P)}function ae(k,B,P,K,se,de,Ie){return J(B&P|~B&K,k,B,se,de,Ie)}function G(k,B,P,K,se,de,Ie){return J(B&K|P&~K,k,B,se,de,Ie)}function le(k,B,P,K,se,de,Ie){return J(B^P^K,k,B,se,de,Ie)}function V(k,B,P,K,se,de,Ie){return J(P^(B|~K),k,B,se,de,Ie)}function me(k){var B,P=k.length,K=[1732584193,-271733879,-1732584194,271733878];for(B=64;B<=k.length;B+=64)L(K,$(k.substring(B-64,B)));k=k.substring(B-64);var se=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(B=0;B<k.length;B++)se[B>>2]|=k.charCodeAt(B)<<(B%4<<3);if(se[B>>2]|=128<<(B%4<<3),B>55)for(L(K,se),B=0;B<16;B++)se[B]=0;return se[14]=8*P,L(K,se),K}function $(k){var B,P=[];for(B=0;B<64;B+=4)P[B>>2]=k.charCodeAt(B)+(k.charCodeAt(B+1)<<8)+(k.charCodeAt(B+2)<<16)+(k.charCodeAt(B+3)<<24);return P}var ee="0123456789abcdef".split("");function we(k){for(var B="",P=0;P<4;P++)B+=ee[k>>8*P+4&15]+ee[k>>8*P&15];return B}function R(k){return String.fromCharCode(255&k,(65280&k)>>8,(16711680&k)>>16,(4278190080&k)>>24)}function q(k){return me(k).map(R).join("")}var ie=(function(k){for(var B=0;B<k.length;B++)k[B]=we(k[B]);return k.join("")})(me("hello"))!="5d41402abc4b2a76b9719d911017c592";function Z(k,B){if(ie){var P=(65535&k)+(65535&B);return(k>>16)+(B>>16)+(P>>16)<<16|65535&P}return k+B&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function D(k,B){var P,K,se,de;if(k!==P){for(var Ie=(se=k,de=1+(256/k.length|0),new Array(de+1).join(se)),be=[],Ce=0;Ce<256;Ce++)be[Ce]=Ce;var Re=0;for(Ce=0;Ce<256;Ce++){var ze=be[Ce];Re=(Re+ze+Ie.charCodeAt(Ce))%256,be[Ce]=be[Re],be[Re]=ze}P=k,K=be}else be=K;var nt=B.length,ut=0,Oe=0,Nt="";for(Ce=0;Ce<nt;Ce++)Oe=(Oe+(ze=be[ut=(ut+1)%256]))%256,be[ut]=be[Oe],be[Oe]=ze,Ie=be[(be[ut]+be[Oe])%256],Nt+=String.fromCharCode(B.charCodeAt(Ce)^Ie);return Nt}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var ue={print:4,modify:8,copy:16,"annot-forms":32};function te(k,B,P,K){this.v=1,this.r=2;var se=192;k.forEach(function(be){if(ue.perm!==void 0)throw new Error("Invalid permission: "+be);se+=ue[be]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var de=(B+this.padding).substr(0,32),Ie=(P+this.padding).substr(0,32);this.O=this.processOwnerPassword(de,Ie),this.P=-(1+(255^se)),this.encryptionKey=q(de+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(K)).substr(0,5),this.U=D(this.encryptionKey,this.padding)}function ye(k){if(/[^\u0000-\u00ff]/.test(k))throw new Error("Invalid PDF Name Object: "+k+", Only accept ASCII characters.");for(var B="",P=k.length,K=0;K<P;K++){var se=k.charCodeAt(K);B+=se<33||se===35||se===37||se===40||se===41||se===47||se===60||se===62||se===91||se===93||se===123||se===125||se>126?"#"+("0"+se.toString(16)).slice(-2):k[K]}return B}function pe(k){if((0,u.default)(k)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var B={};this.subscribe=function(P,K,se){if(se=se||!1,typeof P!="string"||typeof K!="function"||typeof se!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");B.hasOwnProperty(P)||(B[P]={});var de=Math.random().toString(35);return B[P][de]=[K,!!se],de},this.unsubscribe=function(P){for(var K in B)if(B[K][P])return delete B[K][P],Object.keys(B[K]).length===0&&delete B[K],!0;return!1},this.publish=function(P){if(B.hasOwnProperty(P)){var K=Array.prototype.slice.call(arguments,1),se=[];for(var de in B[P]){var Ie=B[P][de];try{Ie[0].apply(k,K)}catch(be){g.console&&x.error("jsPDF PubSub Error",be.message,be)}Ie[1]&&se.push(de)}se.length&&se.forEach(this.unsubscribe)}},this.getTopics=function(){return B}}function je(k){if(!(this instanceof je))return new je(k);var B="opacity,stroke-opacity".split(",");for(var P in k)k.hasOwnProperty(P)&&B.indexOf(P)>=0&&(this[P]=k[P]);this.id="",this.objectNumber=-1}function re(k,B){this.gState=k,this.matrix=B,this.id="",this.objectNumber=-1}function he(k,B,P,K,se){if(!(this instanceof he))return new he(k,B,P,K,se);this.type=k==="axial"?2:3,this.coords=B,this.colors=P,re.call(this,K,se)}function X(k,B,P,K,se){if(!(this instanceof X))return new X(k,B,P,K,se);this.boundingBox=k,this.xStep=B,this.yStep=P,this.stream="",this.cloneIndex=0,re.call(this,K,se)}function Ae(k){var B,P=typeof arguments[0]=="string"?arguments[0]:"p",K=arguments[1],se=arguments[2],de=arguments[3],Ie=[],be=1,Ce=16,Re="S",ze=null;(0,u.default)(k=k||{})==="object"&&(P=k.orientation,K=k.unit||K,se=k.format||se,de=k.compress||k.compressPdf||de,(ze=k.encryption||null)!==null&&(ze.userPassword=ze.userPassword||"",ze.ownerPassword=ze.ownerPassword||"",ze.userPermissions=ze.userPermissions||[]),be=typeof k.userUnit=="number"?Math.abs(k.userUnit):1,k.precision!==void 0&&(B=k.precision),k.floatPrecision!==void 0&&(Ce=k.floatPrecision),Re=k.defaultPathOperation||"S"),Ie=k.filters||(de===!0?["FlateEncode"]:Ie),K=K||"mm",P=(""+(P||"P")).toLowerCase();var nt=k.putOnlyUsedFonts||!1,ut={},Oe={internal:{},__private__:{}};Oe.__private__.PubSub=pe;var Nt="1.3",jt=Oe.__private__.getPdfVersion=function(){return Nt};Oe.__private__.setPdfVersion=function(ve){Nt=ve};var Bt={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};Oe.__private__.getPageFormats=function(){return Bt};var lt=Oe.__private__.getPageFormat=function(ve){return Bt[ve]};se=se||"a4";var Mt="compat",tr="advanced",kt=Mt;function at(){this.saveGraphicsState(),pt(new ma(fa,0,0,-fa,0,Gc()*fa).toString()+" cm"),this.setFontSize(this.getFontSize()/fa),Re="n",kt=tr}function qt(){this.restoreGraphicsState(),Re="S",kt=Mt}var pr=Oe.__private__.combineFontStyleAndFontWeight=function(ve,Qe){if(ve=="bold"&&Qe=="normal"||ve=="bold"&&Qe==400||ve=="normal"&&Qe=="italic"||ve=="bold"&&Qe=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Qe&&(ve=Qe==400||Qe==="normal"?ve==="italic"?"italic":"normal":Qe!=700&&Qe!=="bold"||ve!=="normal"?(Qe==700?"bold":Qe)+""+ve:"bold"),ve};Oe.advancedAPI=function(ve){var Qe=kt===Mt;return Qe&&at.call(this),typeof ve!="function"||(ve(this),Qe&&qt.call(this)),this},Oe.compatAPI=function(ve){var Qe=kt===tr;return Qe&&qt.call(this),typeof ve!="function"||(ve(this),Qe&&at.call(this)),this},Oe.isAdvancedAPI=function(){return kt===tr};var nr,Pt=function(ve){if(kt!==tr)throw new Error(ve+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Ar=Oe.roundToPrecision=Oe.__private__.roundToPrecision=function(ve,Qe){var bt=B||Qe;if(isNaN(ve)||isNaN(bt))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return ve.toFixed(bt).replace(/0+$/,"")};nr=Oe.hpf=Oe.__private__.hpf=typeof Ce=="number"?function(ve){if(isNaN(ve))throw new Error("Invalid argument passed to jsPDF.hpf");return Ar(ve,Ce)}:Ce==="smart"?function(ve){if(isNaN(ve))throw new Error("Invalid argument passed to jsPDF.hpf");return Ar(ve,ve>-1&&ve<1?16:5)}:function(ve){if(isNaN(ve))throw new Error("Invalid argument passed to jsPDF.hpf");return Ar(ve,16)};var ct=Oe.f2=Oe.__private__.f2=function(ve){if(isNaN(ve))throw new Error("Invalid argument passed to jsPDF.f2");return Ar(ve,2)},mt=Oe.__private__.f3=function(ve){if(isNaN(ve))throw new Error("Invalid argument passed to jsPDF.f3");return Ar(ve,3)},Ot=Oe.scale=Oe.__private__.scale=function(ve){if(isNaN(ve))throw new Error("Invalid argument passed to jsPDF.scale");return kt===Mt?ve*fa:kt===tr?ve:void 0},Ft=function(ve){return Ot((function(Qe){return kt===Mt?Gc()-Qe:kt===tr?Qe:void 0})(ve))};Oe.__private__.setPrecision=Oe.setPrecision=function(ve){typeof parseInt(ve,10)=="number"&&(B=parseInt(ve,10))};var mr,yr="00000000000000000000000000000000",Cr=Oe.__private__.getFileId=function(){return yr},ir=Oe.__private__.setFileId=function(ve){return yr=ve!==void 0&&/^[a-fA-F0-9]{32}$/.test(ve)?ve.toUpperCase():yr.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),ze!==null&&(Fi=new te(ze.userPermissions,ze.userPassword,ze.ownerPassword,yr)),yr};Oe.setFileId=function(ve){return ir(ve),this},Oe.getFileId=function(){return Cr()};var br=Oe.__private__.convertDateToPDFDate=function(ve){var Qe=ve.getTimezoneOffset(),bt=Qe<0?"+":"-",Dt=Math.floor(Math.abs(Qe/60)),rr=Math.abs(Qe%60),Nr=[bt,Tt(Dt),"'",Tt(rr),"'"].join("");return["D:",ve.getFullYear(),Tt(ve.getMonth()+1),Tt(ve.getDate()),Tt(ve.getHours()),Tt(ve.getMinutes()),Tt(ve.getSeconds()),Nr].join("")},nn=Oe.__private__.convertPDFDateToDate=function(ve){var Qe=parseInt(ve.substr(2,4),10),bt=parseInt(ve.substr(6,2),10)-1,Dt=parseInt(ve.substr(8,2),10),rr=parseInt(ve.substr(10,2),10),Nr=parseInt(ve.substr(12,2),10),Lr=parseInt(ve.substr(14,2),10);return new Date(Qe,bt,Dt,rr,Nr,Lr,0)},Gr=Oe.__private__.setCreationDate=function(ve){var Qe;if(ve===void 0&&(ve=new Date),ve instanceof Date)Qe=br(ve);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(ve))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Qe=ve}return mr=Qe},Ze=Oe.__private__.getCreationDate=function(ve){var Qe=mr;return ve==="jsDate"&&(Qe=nn(mr)),Qe};Oe.setCreationDate=function(ve){return Gr(ve),this},Oe.getCreationDate=function(ve){return Ze(ve)};var Et,Tt=Oe.__private__.padd2=function(ve){return("0"+parseInt(ve)).slice(-2)},Yt=Oe.__private__.padd2Hex=function(ve){return("00"+(ve=ve.toString())).substr(ve.length)},er=0,dr=[],jr=[],wr=0,Rr=[],an=[],Sn=!1,Bn=jr;Oe.__private__.setCustomOutputDestination=function(ve){Sn=!0,Bn=ve};var ua=function(ve){Sn||(Bn=ve)};Oe.__private__.resetCustomOutputDestination=function(){Sn=!1,Bn=jr};var pt=Oe.__private__.out=function(ve){return ve=ve.toString(),wr+=ve.length+1,Bn.push(ve),Bn},mn=Oe.__private__.write=function(ve){return pt(arguments.length===1?ve.toString():Array.prototype.join.call(arguments," "))},xa=Oe.__private__.getArrayBuffer=function(ve){for(var Qe=ve.length,bt=new ArrayBuffer(Qe),Dt=new Uint8Array(bt);Qe--;)Dt[Qe]=ve.charCodeAt(Qe);return bt},pn=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];Oe.__private__.getStandardFonts=function(){return pn};var qr=k.fontSize||16;Oe.__private__.setFontSize=Oe.setFontSize=function(ve){return qr=kt===tr?ve/fa:ve,this};var la,Mn=Oe.__private__.getFontSize=Oe.getFontSize=function(){return kt===Mt?qr:qr*fa},Zn=k.R2L||!1;Oe.__private__.setR2L=Oe.setR2L=function(ve){return Zn=ve,this},Oe.__private__.getR2L=Oe.getR2L=function(){return Zn};var Rn,js=Oe.__private__.setZoomMode=function(ve){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(ve))la=ve;else if(isNaN(ve)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(ve)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+ve+'" is not recognized.');la=ve}else la=parseInt(ve,10)};Oe.__private__.getZoomMode=function(){return la};var za,Pn=Oe.__private__.setPageMode=function(ve){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(ve)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+ve+'" is not recognized.');Rn=ve};Oe.__private__.getPageMode=function(){return Rn};var us=Oe.__private__.setLayoutMode=function(ve){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(ve)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+ve+'" is not recognized.');za=ve};Oe.__private__.getLayoutMode=function(){return za},Oe.__private__.setDisplayMode=Oe.setDisplayMode=function(ve,Qe,bt){return js(ve),us(Qe),Pn(bt),this};var ca={title:"",subject:"",author:"",keywords:"",creator:""};Oe.__private__.getDocumentProperty=function(ve){if(Object.keys(ca).indexOf(ve)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ca[ve]},Oe.__private__.getDocumentProperties=function(){return ca},Oe.__private__.setDocumentProperties=Oe.setProperties=Oe.setDocumentProperties=function(ve){for(var Qe in ca)ca.hasOwnProperty(Qe)&&ve[Qe]&&(ca[Qe]=ve[Qe]);return this},Oe.__private__.setDocumentProperty=function(ve,Qe){if(Object.keys(ca).indexOf(ve)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ca[ve]=Qe};var _n,fa,On,Na,As,Ya={},Ja={},ii=[],zn={},Os={},ya={},Vn={},Fs=null,Sa=0,In=[],rs=new pe(Oe),sd=k.hotfixes||[],Ki={},wo={},Bc=[],ma=function ve(Qe,bt,Dt,rr,Nr,Lr){if(!(this instanceof ve))return new ve(Qe,bt,Dt,rr,Nr,Lr);isNaN(Qe)&&(Qe=1),isNaN(bt)&&(bt=0),isNaN(Dt)&&(Dt=0),isNaN(rr)&&(rr=1),isNaN(Nr)&&(Nr=0),isNaN(Lr)&&(Lr=0),this._matrix=[Qe,bt,Dt,rr,Nr,Lr]};Object.defineProperty(ma.prototype,"sx",{get:function(){return this._matrix[0]},set:function(ve){this._matrix[0]=ve}}),Object.defineProperty(ma.prototype,"shy",{get:function(){return this._matrix[1]},set:function(ve){this._matrix[1]=ve}}),Object.defineProperty(ma.prototype,"shx",{get:function(){return this._matrix[2]},set:function(ve){this._matrix[2]=ve}}),Object.defineProperty(ma.prototype,"sy",{get:function(){return this._matrix[3]},set:function(ve){this._matrix[3]=ve}}),Object.defineProperty(ma.prototype,"tx",{get:function(){return this._matrix[4]},set:function(ve){this._matrix[4]=ve}}),Object.defineProperty(ma.prototype,"ty",{get:function(){return this._matrix[5]},set:function(ve){this._matrix[5]=ve}}),Object.defineProperty(ma.prototype,"a",{get:function(){return this._matrix[0]},set:function(ve){this._matrix[0]=ve}}),Object.defineProperty(ma.prototype,"b",{get:function(){return this._matrix[1]},set:function(ve){this._matrix[1]=ve}}),Object.defineProperty(ma.prototype,"c",{get:function(){return this._matrix[2]},set:function(ve){this._matrix[2]=ve}}),Object.defineProperty(ma.prototype,"d",{get:function(){return this._matrix[3]},set:function(ve){this._matrix[3]=ve}}),Object.defineProperty(ma.prototype,"e",{get:function(){return this._matrix[4]},set:function(ve){this._matrix[4]=ve}}),Object.defineProperty(ma.prototype,"f",{get:function(){return this._matrix[5]},set:function(ve){this._matrix[5]=ve}}),Object.defineProperty(ma.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ma.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ma.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ma.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ma.prototype.join=function(ve){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(nr).join(ve)},ma.prototype.multiply=function(ve){var Qe=ve.sx*this.sx+ve.shy*this.shx,bt=ve.sx*this.shy+ve.shy*this.sy,Dt=ve.shx*this.sx+ve.sy*this.shx,rr=ve.shx*this.shy+ve.sy*this.sy,Nr=ve.tx*this.sx+ve.ty*this.shx+this.tx,Lr=ve.tx*this.shy+ve.ty*this.sy+this.ty;return new ma(Qe,bt,Dt,rr,Nr,Lr)},ma.prototype.decompose=function(){var ve=this.sx,Qe=this.shy,bt=this.shx,Dt=this.sy,rr=this.tx,Nr=this.ty,Lr=Math.sqrt(ve*ve+Qe*Qe),Tn=(ve/=Lr)*bt+(Qe/=Lr)*Dt;bt-=ve*Tn,Dt-=Qe*Tn;var Hn=Math.sqrt(bt*bt+Dt*Dt);return Tn/=Hn,ve*(Dt/=Hn)<Qe*(bt/=Hn)&&(ve=-ve,Qe=-Qe,Tn=-Tn,Lr=-Lr),{scale:new ma(Lr,0,0,Hn,0,0),translate:new ma(1,0,0,1,rr,Nr),rotate:new ma(ve,Qe,-Qe,ve,0,0),skew:new ma(1,0,Tn,1,0,0)}},ma.prototype.toString=function(ve){return this.join(" ")},ma.prototype.inversed=function(){var ve=this.sx,Qe=this.shy,bt=this.shx,Dt=this.sy,rr=this.tx,Nr=this.ty,Lr=1/(ve*Dt-Qe*bt),Tn=Dt*Lr,Hn=-Qe*Lr,ga=-bt*Lr,aa=ve*Lr;return new ma(Tn,Hn,ga,aa,-Tn*rr-ga*Nr,-Hn*rr-aa*Nr)},ma.prototype.applyToPoint=function(ve){var Qe=ve.x*this.sx+ve.y*this.shx+this.tx,bt=ve.x*this.shy+ve.y*this.sy+this.ty;return new ps(Qe,bt)},ma.prototype.applyToRectangle=function(ve){var Qe=this.applyToPoint(ve),bt=this.applyToPoint(new ps(ve.x+ve.w,ve.y+ve.h));return new Ps(Qe.x,Qe.y,bt.x-Qe.x,bt.y-Qe.y)},ma.prototype.clone=function(){var ve=this.sx,Qe=this.shy,bt=this.shx,Dt=this.sy,rr=this.tx,Nr=this.ty;return new ma(ve,Qe,bt,Dt,rr,Nr)},Oe.Matrix=ma;var Ei=Oe.matrixMult=function(ve,Qe){return Qe.multiply(ve)},Co=new ma(1,0,0,1,0,0);Oe.unitMatrix=Oe.identityMatrix=Co;var Ol=function(ve,Qe){if(!Os[ve]){var bt=(Qe instanceof he?"Sh":"P")+(Object.keys(zn).length+1).toString(10);Qe.id=bt,Os[ve]=bt,zn[bt]=Qe,rs.publish("addPattern",Qe)}};Oe.ShadingPattern=he,Oe.TilingPattern=X,Oe.addShadingPattern=function(ve,Qe){return Pt("addShadingPattern()"),Ol(ve,Qe),this},Oe.beginTilingPattern=function(ve){Pt("beginTilingPattern()"),Bi(ve.boundingBox[0],ve.boundingBox[1],ve.boundingBox[2]-ve.boundingBox[0],ve.boundingBox[3]-ve.boundingBox[1],ve.matrix)},Oe.endTilingPattern=function(ve,Qe){Pt("endTilingPattern()"),Qe.stream=an[Et].join(`
`),Ol(ve,Qe),rs.publish("endTilingPattern",Qe),Bc.pop().restore()};var Li,Ls=Oe.__private__.newObject=function(){var ve=Oi();return ho(ve,!0),ve},Oi=Oe.__private__.newObjectDeferred=function(){return er++,dr[er]=function(){return wr},er},ho=function(ve,Qe){return Qe=typeof Qe=="boolean"&&Qe,dr[ve]=wr,Qe&&pt(ve+" 0 obj"),ve},id=Oe.__private__.newAdditionalObject=function(){var ve={objId:Oi(),content:""};return Rr.push(ve),ve},eo=Oi(),ll=Oi(),Ic=Oe.__private__.decodeColorString=function(ve){var Qe=ve.split(" ");if(Qe.length!==2||Qe[1]!=="g"&&Qe[1]!=="G")Qe.length!==5||Qe[4]!=="k"&&Qe[4]!=="K"||(Qe=[(1-Qe[0])*(1-Qe[3]),(1-Qe[1])*(1-Qe[3]),(1-Qe[2])*(1-Qe[3]),"r"]);else{var bt=parseFloat(Qe[0]);Qe=[bt,bt,bt,"r"]}for(var Dt="#",rr=0;rr<3;rr++)Dt+=("0"+Math.floor(255*parseFloat(Qe[rr])).toString(16)).slice(-2);return Dt},nc=Oe.__private__.encodeColorString=function(ve){var Qe;typeof ve=="string"&&(ve={ch1:ve});var bt=ve.ch1,Dt=ve.ch2,rr=ve.ch3,Nr=ve.ch4,Lr=ve.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof bt=="string"&&bt.charAt(0)!=="#"){var Tn=new w(bt);if(Tn.ok)bt=Tn.toHex();else if(!/^\d*\.?\d*$/.test(bt))throw new Error('Invalid color "'+bt+'" passed to jsPDF.encodeColorString.')}if(typeof bt=="string"&&/^#[0-9A-Fa-f]{3}$/.test(bt)&&(bt="#"+bt[1]+bt[1]+bt[2]+bt[2]+bt[3]+bt[3]),typeof bt=="string"&&/^#[0-9A-Fa-f]{6}$/.test(bt)){var Hn=parseInt(bt.substr(1),16);bt=Hn>>16&255,Dt=Hn>>8&255,rr=255&Hn}if(Dt===void 0||Nr===void 0&&bt===Dt&&Dt===rr)Qe=typeof bt=="string"?bt+" "+Lr[0]:ve.precision===2?ct(bt/255)+" "+Lr[0]:mt(bt/255)+" "+Lr[0];else if(Nr===void 0||(0,u.default)(Nr)==="object"){if(Nr&&!isNaN(Nr.a)&&Nr.a===0)return["1.","1.","1.",Lr[1]].join(" ");Qe=typeof bt=="string"?[bt,Dt,rr,Lr[1]].join(" "):ve.precision===2?[ct(bt/255),ct(Dt/255),ct(rr/255),Lr[1]].join(" "):[mt(bt/255),mt(Dt/255),mt(rr/255),Lr[1]].join(" ")}else Qe=typeof bt=="string"?[bt,Dt,rr,Nr,Lr[2]].join(" "):ve.precision===2?[ct(bt),ct(Dt),ct(rr),ct(Nr),Lr[2]].join(" "):[mt(bt),mt(Dt),mt(rr),mt(Nr),Lr[2]].join(" ");return Qe},to=Oe.__private__.getFilters=function(){return Ie},cl=Oe.__private__.putStream=function(ve){var Qe=(ve=ve||{}).data||"",bt=ve.filters||to(),Dt=ve.alreadyAppliedFilters||[],rr=ve.addLength1||!1,Nr=Qe.length,Lr=ve.objectId,Tn=function(mi){return mi};if(ze!==null&&Lr===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");ze!==null&&(Tn=Fi.encryptor(Lr,0));var Hn={};bt===!0&&(bt=["FlateEncode"]);var ga=ve.additionalKeyValues||[],aa=(Hn=Ae.API.processDataByFilters!==void 0?Ae.API.processDataByFilters(Qe,bt):{data:Qe,reverseChain:[]}).reverseChain+(Array.isArray(Dt)?Dt.join(" "):Dt.toString());if(Hn.data.length!==0&&(ga.push({key:"Length",value:Hn.data.length}),rr===!0&&ga.push({key:"Length1",value:Nr})),aa.length!=0)if(aa.split("/").length-1==1)ga.push({key:"Filter",value:aa});else{ga.push({key:"Filter",value:"["+aa+"]"});for(var Ra=0;Ra<ga.length;Ra+=1)if(ga[Ra].key==="DecodeParms"){for(var Us=[],$s=0;$s<Hn.reverseChain.split("/").length-1;$s+=1)Us.push("null");Us.push(ga[Ra].value),ga[Ra].value="["+Us.join(" ")+"]"}}pt("<<");for(var gs=0;gs<ga.length;gs++)pt("/"+ga[gs].key+" "+ga[gs].value);pt(">>"),Hn.data.length!==0&&(pt("stream"),pt(Tn(Hn.data)),pt("endstream"))},Fl=Oe.__private__.putPage=function(ve){var Qe=ve.number,bt=ve.data,Dt=ve.objId,rr=ve.contentsObjId;ho(Dt,!0),pt("<</Type /Page"),pt("/Parent "+ve.rootDictionaryObjId+" 0 R"),pt("/Resources "+ve.resourceDictionaryObjId+" 0 R"),pt("/MediaBox ["+parseFloat(nr(ve.mediaBox.bottomLeftX))+" "+parseFloat(nr(ve.mediaBox.bottomLeftY))+" "+nr(ve.mediaBox.topRightX)+" "+nr(ve.mediaBox.topRightY)+"]"),ve.cropBox!==null&&pt("/CropBox ["+nr(ve.cropBox.bottomLeftX)+" "+nr(ve.cropBox.bottomLeftY)+" "+nr(ve.cropBox.topRightX)+" "+nr(ve.cropBox.topRightY)+"]"),ve.bleedBox!==null&&pt("/BleedBox ["+nr(ve.bleedBox.bottomLeftX)+" "+nr(ve.bleedBox.bottomLeftY)+" "+nr(ve.bleedBox.topRightX)+" "+nr(ve.bleedBox.topRightY)+"]"),ve.trimBox!==null&&pt("/TrimBox ["+nr(ve.trimBox.bottomLeftX)+" "+nr(ve.trimBox.bottomLeftY)+" "+nr(ve.trimBox.topRightX)+" "+nr(ve.trimBox.topRightY)+"]"),ve.artBox!==null&&pt("/ArtBox ["+nr(ve.artBox.bottomLeftX)+" "+nr(ve.artBox.bottomLeftY)+" "+nr(ve.artBox.topRightX)+" "+nr(ve.artBox.topRightY)+"]"),typeof ve.userUnit=="number"&&ve.userUnit!==1&&pt("/UserUnit "+ve.userUnit),rs.publish("putPage",{objId:Dt,pageContext:In[Qe],pageNumber:Qe,page:bt}),pt("/Contents "+rr+" 0 R"),pt(">>"),pt("endobj");var Nr=bt.join(`
`);return kt===tr&&(Nr+=`
Q`),ho(rr,!0),cl({data:Nr,filters:to(),objectId:rr}),pt("endobj"),Dt},Yo=Oe.__private__.putPages=function(){var ve,Qe,bt=[];for(ve=1;ve<=Sa;ve++)In[ve].objId=Oi(),In[ve].contentsObjId=Oi();for(ve=1;ve<=Sa;ve++)bt.push(Fl({number:ve,data:an[ve],objId:In[ve].objId,contentsObjId:In[ve].contentsObjId,mediaBox:In[ve].mediaBox,cropBox:In[ve].cropBox,bleedBox:In[ve].bleedBox,trimBox:In[ve].trimBox,artBox:In[ve].artBox,userUnit:In[ve].userUnit,rootDictionaryObjId:eo,resourceDictionaryObjId:ll}));ho(eo,!0),pt("<</Type /Pages");var Dt="/Kids [";for(Qe=0;Qe<Sa;Qe++)Dt+=bt[Qe]+" 0 R ";pt(Dt+"]"),pt("/Count "+Sa),pt(">>"),pt("endobj"),rs.publish("postPutPages")},Lo=function(ve){rs.publish("putFont",{font:ve,out:pt,newObject:Ls,putStream:cl}),ve.isAlreadyPutted!==!0&&(ve.objectNumber=Ls(),pt("<<"),pt("/Type /Font"),pt("/BaseFont /"+ye(ve.postScriptName)),pt("/Subtype /Type1"),typeof ve.encoding=="string"&&pt("/Encoding /"+ve.encoding),pt("/FirstChar 32"),pt("/LastChar 255"),pt(">>"),pt("endobj"))},ac=function(ve){ve.objectNumber=Ls();var Qe=[];Qe.push({key:"Type",value:"/XObject"}),Qe.push({key:"Subtype",value:"/Form"}),Qe.push({key:"BBox",value:"["+[nr(ve.x),nr(ve.y),nr(ve.x+ve.width),nr(ve.y+ve.height)].join(" ")+"]"}),Qe.push({key:"Matrix",value:"["+ve.matrix.toString()+"]"});var bt=ve.pages[1].join(`
`);cl({data:bt,additionalKeyValues:Qe,objectId:ve.objectNumber}),pt("endobj")},Pl=function(ve,Qe){Qe||(Qe=21);var bt=Ls(),Dt=(function(Lr,Tn){var Hn,ga=[],aa=1/(Tn-1);for(Hn=0;Hn<1;Hn+=aa)ga.push(Hn);if(ga.push(1),Lr[0].offset!=0){var Ra={offset:0,color:Lr[0].color};Lr.unshift(Ra)}if(Lr[Lr.length-1].offset!=1){var Us={offset:1,color:Lr[Lr.length-1].color};Lr.push(Us)}for(var $s="",gs=0,mi=0;mi<ga.length;mi++){for(Hn=ga[mi];Hn>Lr[gs+1].offset;)gs++;var _=Lr[gs].offset,Ue=(Hn-_)/(Lr[gs+1].offset-_),oe=Lr[gs].color,Je=Lr[gs+1].color;$s+=Yt(Math.round((1-Ue)*oe[0]+Ue*Je[0]).toString(16))+Yt(Math.round((1-Ue)*oe[1]+Ue*Je[1]).toString(16))+Yt(Math.round((1-Ue)*oe[2]+Ue*Je[2]).toString(16))}return $s.trim()})(ve.colors,Qe),rr=[];rr.push({key:"FunctionType",value:"0"}),rr.push({key:"Domain",value:"[0.0 1.0]"}),rr.push({key:"Size",value:"["+Qe+"]"}),rr.push({key:"BitsPerSample",value:"8"}),rr.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),rr.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),cl({data:Dt,additionalKeyValues:rr,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:bt}),pt("endobj"),ve.objectNumber=Ls(),pt("<< /ShadingType "+ve.type),pt("/ColorSpace /DeviceRGB");var Nr="/Coords ["+nr(parseFloat(ve.coords[0]))+" "+nr(parseFloat(ve.coords[1]))+" ";ve.type===2?Nr+=nr(parseFloat(ve.coords[2]))+" "+nr(parseFloat(ve.coords[3])):Nr+=nr(parseFloat(ve.coords[2]))+" "+nr(parseFloat(ve.coords[3]))+" "+nr(parseFloat(ve.coords[4]))+" "+nr(parseFloat(ve.coords[5])),pt(Nr+="]"),ve.matrix&&pt("/Matrix ["+ve.matrix.toString()+"]"),pt("/Function "+bt+" 0 R"),pt("/Extend [true true]"),pt(">>"),pt("endobj")},Tc=function(ve,Qe){var bt=Oi(),Dt=Ls();Qe.push({resourcesOid:bt,objectOid:Dt}),ve.objectNumber=Dt;var rr=[];rr.push({key:"Type",value:"/Pattern"}),rr.push({key:"PatternType",value:"1"}),rr.push({key:"PaintType",value:"1"}),rr.push({key:"TilingType",value:"1"}),rr.push({key:"BBox",value:"["+ve.boundingBox.map(nr).join(" ")+"]"}),rr.push({key:"XStep",value:nr(ve.xStep)}),rr.push({key:"YStep",value:nr(ve.yStep)}),rr.push({key:"Resources",value:bt+" 0 R"}),ve.matrix&&rr.push({key:"Matrix",value:"["+ve.matrix.toString()+"]"}),cl({data:ve.stream,additionalKeyValues:rr,objectId:ve.objectNumber}),pt("endobj")},pu=function(ve){for(var Qe in ve.objectNumber=Ls(),pt("<<"),ve)switch(Qe){case"opacity":pt("/ca "+ct(ve[Qe]));break;case"stroke-opacity":pt("/CA "+ct(ve[Qe]))}pt(">>"),pt("endobj")},Vc=function(ve){ho(ve.resourcesOid,!0),pt("<<"),pt("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var Qe in pt("/Font <<"),Ya)Ya.hasOwnProperty(Qe)&&(nt===!1||nt===!0&&ut.hasOwnProperty(Qe))&&pt("/"+Qe+" "+Ya[Qe].objectNumber+" 0 R");pt(">>")})(),(function(){if(Object.keys(zn).length>0){for(var Qe in pt("/Shading <<"),zn)zn.hasOwnProperty(Qe)&&zn[Qe]instanceof he&&zn[Qe].objectNumber>=0&&pt("/"+Qe+" "+zn[Qe].objectNumber+" 0 R");rs.publish("putShadingPatternDict"),pt(">>")}})(),(function(Qe){if(Object.keys(zn).length>0){for(var bt in pt("/Pattern <<"),zn)zn.hasOwnProperty(bt)&&zn[bt]instanceof Oe.TilingPattern&&zn[bt].objectNumber>=0&&zn[bt].objectNumber<Qe&&pt("/"+bt+" "+zn[bt].objectNumber+" 0 R");rs.publish("putTilingPatternDict"),pt(">>")}})(ve.objectOid),(function(){if(Object.keys(ya).length>0){var Qe;for(Qe in pt("/ExtGState <<"),ya)ya.hasOwnProperty(Qe)&&ya[Qe].objectNumber>=0&&pt("/"+Qe+" "+ya[Qe].objectNumber+" 0 R");rs.publish("putGStateDict"),pt(">>")}})(),(function(){for(var Qe in pt("/XObject <<"),Ki)Ki.hasOwnProperty(Qe)&&Ki[Qe].objectNumber>=0&&pt("/"+Qe+" "+Ki[Qe].objectNumber+" 0 R");rs.publish("putXobjectDict"),pt(">>")})(),pt(">>"),pt("endobj")},mu=function(ve){Ja[ve.fontName]=Ja[ve.fontName]||{},Ja[ve.fontName][ve.fontStyle]=ve.id},od=function(ve,Qe,bt,Dt,rr){var Nr={id:"F"+(Object.keys(Ya).length+1).toString(10),postScriptName:ve,fontName:Qe,fontStyle:bt,encoding:Dt,isStandardFont:rr||!1,metadata:{}};return rs.publish("addFont",{font:Nr,instance:this}),Ya[Nr.id]=Nr,mu(Nr),Nr.id},Jo=Oe.__private__.pdfEscape=Oe.pdfEscape=function(ve,Qe){return(function(bt,Dt){var rr,Nr,Lr,Tn,Hn,ga,aa,Ra,Us;if(Lr=(Dt=Dt||{}).sourceEncoding||"Unicode",Hn=Dt.outputEncoding,(Dt.autoencode||Hn)&&Ya[_n].metadata&&Ya[_n].metadata[Lr]&&Ya[_n].metadata[Lr].encoding&&(Tn=Ya[_n].metadata[Lr].encoding,!Hn&&Ya[_n].encoding&&(Hn=Ya[_n].encoding),!Hn&&Tn.codePages&&(Hn=Tn.codePages[0]),typeof Hn=="string"&&(Hn=Tn[Hn]),Hn)){for(aa=!1,ga=[],rr=0,Nr=bt.length;rr<Nr;rr++)(Ra=Hn[bt.charCodeAt(rr)])?ga.push(String.fromCharCode(Ra)):ga.push(bt[rr]),ga[rr].charCodeAt(0)>>8&&(aa=!0);bt=ga.join("")}for(rr=bt.length;aa===void 0&&rr!==0;)bt.charCodeAt(rr-1)>>8&&(aa=!0),rr--;if(!aa)return bt;for(ga=Dt.noBOM?[]:[254,255],rr=0,Nr=bt.length;rr<Nr;rr++){if((Us=(Ra=bt.charCodeAt(rr))>>8)>>8)throw new Error("Character at position "+rr+" of string '"+bt+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ga.push(Us),ga.push(Ra-(Us<<8))}return String.fromCharCode.apply(void 0,ga)})(ve,Qe).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ld=Oe.__private__.beginPage=function(ve){an[++Sa]=[],In[Sa]={objId:0,contentsObjId:0,userUnit:Number(be),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(ve[0]),topRightY:Number(ve[1])}},Dl(Sa),ua(an[Et])},Sd=function(ve,Qe){var bt,Dt,rr;switch(P=Qe||P,typeof ve=="string"&&(bt=lt(ve.toLowerCase()),Array.isArray(bt)&&(Dt=bt[0],rr=bt[1])),Array.isArray(ve)&&(Dt=ve[0]*fa,rr=ve[1]*fa),isNaN(Dt)&&(Dt=se[0],rr=se[1]),(Dt>14400||rr>14400)&&(x.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Dt=Math.min(14400,Dt),rr=Math.min(14400,rr)),se=[Dt,rr],P.substr(0,1)){case"l":rr>Dt&&(se=[rr,Dt]);break;case"p":Dt>rr&&(se=[rr,Dt])}ld(se),Ea(Gu),pt(wl),Oc!==0&&pt(Oc+" J"),lc!==0&&pt(lc+" j"),rs.publish("addPage",{pageNumber:Sa})},$d=function(ve){ve>0&&ve<=Sa&&(an.splice(ve,1),In.splice(ve,1),Sa--,Et>Sa&&(Et=Sa),this.setPage(Et))},Dl=function(ve){ve>0&&ve<=Sa&&(Et=ve)},Vd=Oe.__private__.getNumberOfPages=Oe.getNumberOfPages=function(){return an.length-1},zd=function(ve,Qe,bt){var Dt,rr=void 0;return bt=bt||{},ve=ve!==void 0?ve:Ya[_n].fontName,Qe=Qe!==void 0?Qe:Ya[_n].fontStyle,Dt=ve.toLowerCase(),Ja[Dt]!==void 0&&Ja[Dt][Qe]!==void 0?rr=Ja[Dt][Qe]:Ja[ve]!==void 0&&Ja[ve][Qe]!==void 0?rr=Ja[ve][Qe]:bt.disableWarning===!1&&x.warn("Unable to look up font label for font '"+ve+"', '"+Qe+"'. Refer to getFontList() for available fonts."),rr||bt.noFallback||(rr=Ja.times[Qe])==null&&(rr=Ja.times.normal),rr},sc=Oe.__private__.putInfo=function(){var ve=Ls(),Qe=function(Dt){return Dt};for(var bt in ze!==null&&(Qe=Fi.encryptor(ve,0)),pt("<<"),pt("/Producer ("+Jo(Qe("jsPDF "+Ae.version))+")"),ca)ca.hasOwnProperty(bt)&&ca[bt]&&pt("/"+bt.substr(0,1).toUpperCase()+bt.substr(1)+" ("+Jo(Qe(ca[bt]))+")");pt("/CreationDate ("+Jo(Qe(mr))+")"),pt(">>"),pt("endobj")},Kd=Oe.__private__.putCatalog=function(ve){var Qe=(ve=ve||{}).rootDictionaryObjId||eo;switch(Ls(),pt("<<"),pt("/Type /Catalog"),pt("/Pages "+Qe+" 0 R"),la||(la="fullwidth"),la){case"fullwidth":pt("/OpenAction [3 0 R /FitH null]");break;case"fullheight":pt("/OpenAction [3 0 R /FitV null]");break;case"fullpage":pt("/OpenAction [3 0 R /Fit]");break;case"original":pt("/OpenAction [3 0 R /XYZ null null 1]");break;default:var bt=""+la;bt.substr(bt.length-1)==="%"&&(la=parseInt(la)/100),typeof la=="number"&&pt("/OpenAction [3 0 R /XYZ null null "+ct(la)+"]")}switch(za||(za="continuous"),za){case"continuous":pt("/PageLayout /OneColumn");break;case"single":pt("/PageLayout /SinglePage");break;case"two":case"twoleft":pt("/PageLayout /TwoColumnLeft");break;case"tworight":pt("/PageLayout /TwoColumnRight")}Rn&&pt("/PageMode /"+Rn),rs.publish("putCatalog"),pt(">>"),pt("endobj")},Ed=Oe.__private__.putTrailer=function(){pt("trailer"),pt("<<"),pt("/Size "+(er+1)),pt("/Root "+er+" 0 R"),pt("/Info "+(er-1)+" 0 R"),ze!==null&&pt("/Encrypt "+Fi.oid+" 0 R"),pt("/ID [ <"+yr+"> <"+yr+"> ]"),pt(">>")},ba=Oe.__private__.putHeader=function(){pt("%PDF-"+Nt),pt("%")},gu=Oe.__private__.putXRef=function(){var ve="0000000000";pt("xref"),pt("0 "+(er+1)),pt("0000000000 65535 f ");for(var Qe=1;Qe<=er;Qe++)typeof dr[Qe]=="function"?pt((ve+dr[Qe]()).slice(-10)+" 00000 n "):dr[Qe]!==void 0?pt((ve+dr[Qe]).slice(-10)+" 00000 n "):pt("0000000000 00000 n ")},ic=Oe.__private__.buildDocument=function(){var ve;er=0,wr=0,jr=[],dr=[],Rr=[],eo=Oi(),ll=Oi(),ua(jr),rs.publish("buildDocument"),ba(),Yo(),(function(){rs.publish("putAdditionalObjects");for(var bt=0;bt<Rr.length;bt++){var Dt=Rr[bt];ho(Dt.objId,!0),pt(Dt.content),pt("endobj")}rs.publish("postPutAdditionalObjects")})(),ve=[],(function(){for(var bt in Ya)Ya.hasOwnProperty(bt)&&(nt===!1||nt===!0&&ut.hasOwnProperty(bt))&&Lo(Ya[bt])})(),(function(){var bt;for(bt in ya)ya.hasOwnProperty(bt)&&pu(ya[bt])})(),(function(){for(var bt in Ki)Ki.hasOwnProperty(bt)&&ac(Ki[bt])})(),(function(bt){var Dt;for(Dt in zn)zn.hasOwnProperty(Dt)&&(zn[Dt]instanceof he?Pl(zn[Dt]):zn[Dt]instanceof X&&Tc(zn[Dt],bt))})(ve),rs.publish("putResources"),ve.forEach(Vc),Vc({resourcesOid:ll,objectOid:Number.MAX_SAFE_INTEGER}),rs.publish("postPutResources"),ze!==null&&(Fi.oid=Ls(),pt("<<"),pt("/Filter /Standard"),pt("/V "+Fi.v),pt("/R "+Fi.r),pt("/U <"+Fi.toHexString(Fi.U)+">"),pt("/O <"+Fi.toHexString(Fi.O)+">"),pt("/P "+Fi.P),pt(">>"),pt("endobj")),sc(),Kd();var Qe=wr;return gu(),Ed(),pt("startxref"),pt(""+Qe),pt("%%EOF"),ua(an[Et]),jr.join(`
`)},Ns=Oe.__private__.getBlob=function(ve){return new Blob([xa(ve)],{type:"application/pdf"})},vu=Oe.output=Oe.__private__.output=(Li=function(ve,Qe){switch(typeof(Qe=Qe||{})=="string"?Qe={filename:Qe}:Qe.filename=Qe.filename||"generated.pdf",ve){case void 0:return ic();case"save":Oe.save(Qe.filename);break;case"arraybuffer":return xa(ic());case"blob":return Ns(ic());case"bloburi":case"bloburl":if(g.URL!==void 0&&typeof g.URL.createObjectURL=="function")return g.URL&&g.URL.createObjectURL(Ns(ic()))||void 0;x.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var bt="",Dt=ic();try{bt=I(Dt)}catch{bt=I(unescape(encodeURIComponent(Dt)))}return"data:application/pdf;filename="+Qe.filename+";base64,"+bt;case"pdfobjectnewwindow":if(Object.prototype.toString.call(g)==="[object Window]"){var rr="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Nr=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Qe.pdfObjectUrl&&(rr=Qe.pdfObjectUrl,Nr="");var Lr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+rr+'"'+Nr+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Qe)+");<\/script></body></html>",Tn=g.open();return Tn!==null&&Tn.document.write(Lr),Tn}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(g)==="[object Window]"){var Hn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Qe.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Qe.filename+'" width="500px" height="400px" /></body></html>',ga=g.open();if(ga!==null){ga.document.write(Hn);var aa=this;ga.document.documentElement.querySelector("#pdfViewer").onload=function(){ga.document.title=Qe.filename,ga.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(aa.output("bloburl"))}}return ga}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(g)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ra='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Qe)+'"></iframe></body></html>',Us=g.open();if(Us!==null&&(Us.document.write(Ra),Us.document.title=Qe.filename),Us||typeof safari>"u")return Us;break;case"datauri":case"dataurl":return g.document.location.href=this.output("datauristring",Qe);default:return null}},Li.foo=function(){try{return Li.apply(this,arguments)}catch(bt){var ve=bt.stack||"";~ve.indexOf(" at ")&&(ve=ve.split(" at ")[1]);var Qe="Error in function "+ve.split(`
`)[0].split("<")[0]+": "+bt.message;if(!g.console)throw new Error(Qe);g.console.error(Qe,bt),g.alert&&alert(Qe)}},Li.foo.bar=Li,Li.foo),bl=function(ve){return Array.isArray(sd)===!0&&sd.indexOf(ve)>-1};switch(K){case"pt":fa=1;break;case"mm":fa=2.834645669291339;break;case"cm":fa=28.346456692913385;break;case"in":fa=72;break;case"px":fa=bl("px_scaling")==1?.75:1.3333333333333333;break;case"pc":case"em":fa=12;break;case"ex":fa=6;break;default:if(typeof K!="number")throw new Error("Invalid unit: "+K);fa=K}var Fi=null;Gr(),ir();var kc=Oe.__private__.getPageInfo=Oe.getPageInfo=function(ve){if(isNaN(ve)||ve%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:In[ve].objId,pageNumber:ve,pageContext:In[ve]}},cd=Oe.__private__.getPageInfoByObjId=function(ve){if(isNaN(ve)||ve%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Qe in In)if(In[Qe].objId===ve)break;return kc(Qe)},Ml=Oe.__private__.getCurrentPageInfo=Oe.getCurrentPageInfo=function(){return{objId:In[Et].objId,pageNumber:Et,pageContext:In[Et]}};Oe.addPage=function(){return Sd.apply(this,arguments),this},Oe.setPage=function(){return Dl.apply(this,arguments),ua.call(this,an[Et]),this},Oe.insertPage=function(ve){return this.addPage(),this.movePage(Et,ve),this},Oe.movePage=function(ve,Qe){var bt,Dt;if(ve>Qe){bt=an[ve],Dt=In[ve];for(var rr=ve;rr>Qe;rr--)an[rr]=an[rr-1],In[rr]=In[rr-1];an[Qe]=bt,In[Qe]=Dt,this.setPage(Qe)}else if(ve<Qe){bt=an[ve],Dt=In[ve];for(var Nr=ve;Nr<Qe;Nr++)an[Nr]=an[Nr+1],In[Nr]=In[Nr+1];an[Qe]=bt,In[Qe]=Dt,this.setPage(Qe)}return this},Oe.deletePage=function(){return $d.apply(this,arguments),this},Oe.__private__.text=Oe.text=function(ve,Qe,bt,Dt,rr){var Nr,Lr,Tn,Hn,ga,aa,Ra,Us,$s,gs=(Dt=Dt||{}).scope||this;if(typeof ve=="number"&&typeof Qe=="number"&&(typeof bt=="string"||Array.isArray(bt))){var mi=bt;bt=Qe,Qe=ve,ve=mi}if(arguments[3]instanceof ma==0?(Tn=arguments[4],Hn=arguments[5],(0,u.default)(Ra=arguments[3])==="object"&&Ra!==null||(typeof Tn=="string"&&(Hn=Tn,Tn=null),typeof Ra=="string"&&(Hn=Ra,Ra=null),typeof Ra=="number"&&(Tn=Ra,Ra=null),Dt={flags:Ra,angle:Tn,align:Hn})):(Pt("The transform parameter of text() with a Matrix value"),$s=rr),isNaN(Qe)||isNaN(bt)||ve==null)throw new Error("Invalid arguments passed to jsPDF.text");if(ve.length===0)return gs;var _,Ue="",oe=typeof Dt.lineHeightFactor=="number"?Dt.lineHeightFactor:Od,Je=gs.internal.scaleFactor;function gt(ms){return ms=ms.split("	").join(Array(Dt.TabLen||9).join(" ")),Jo(ms,Ra)}function ht(ms){for(var zs,gi=ms.concat(),Ao=[],fd=gi.length;fd--;)typeof(zs=gi.shift())=="string"?Ao.push(zs):Array.isArray(ms)&&(zs.length===1||zs[1]===void 0&&zs[2]===void 0)?Ao.push(zs[0]):Ao.push([zs[0],zs[1],zs[2]]);return Ao}function or(ms,zs){var gi;if(typeof ms=="string")gi=zs(ms)[0];else if(Array.isArray(ms)){for(var Ao,fd,li=ms.concat(),Ad=[],Cu=li.length;Cu--;)typeof(Ao=li.shift())=="string"?Ad.push(zs(Ao)[0]):Array.isArray(Ao)&&typeof Ao[0]=="string"&&(fd=zs(Ao[0],Ao[1],Ao[2]),Ad.push([fd[0],fd[1],fd[2]]));gi=Ad}return gi}var Jt=!1,En=!0;if(typeof ve=="string")Jt=!0;else if(Array.isArray(ve)){var Lt=ve.concat();Lr=[];for(var hr,ja=Lt.length;ja--;)(typeof(hr=Lt.shift())!="string"||Array.isArray(hr)&&typeof hr[0]!="string")&&(En=!1);Jt=En}if(Jt===!1)throw new Error('Type of text must be string or Array. "'+ve+'" is not recognized.');typeof ve=="string"&&(ve=ve.match(/[\r?\n]/)?ve.split(/\r\n|\r|\n/g):[ve]);var gn=qr/gs.internal.scaleFactor,$r=gn*(oe-1);switch(Dt.baseline){case"bottom":bt-=$r;break;case"top":bt+=gn-$r;break;case"hanging":bt+=gn-2*$r;break;case"middle":bt+=gn/2-$r}if((aa=Dt.maxWidth||0)>0&&(typeof ve=="string"?ve=gs.splitTextToSize(ve,aa):Object.prototype.toString.call(ve)==="[object Array]"&&(ve=ve.reduce(function(ms,zs){return ms.concat(gs.splitTextToSize(zs,aa))},[]))),Nr={text:ve,x:Qe,y:bt,options:Dt,mutex:{pdfEscape:Jo,activeFontKey:_n,fonts:Ya,activeFontSize:qr}},rs.publish("preProcessText",Nr),ve=Nr.text,Tn=(Dt=Nr.options).angle,$s instanceof ma==0&&Tn&&typeof Tn=="number"){Tn*=Math.PI/180,Dt.rotationDirection===0&&(Tn=-Tn),kt===tr&&(Tn=-Tn);var Sr=Math.cos(Tn),Vs=Math.sin(Tn);$s=new ma(Sr,Vs,-Vs,Sr,0,0)}else Tn&&Tn instanceof ma&&($s=Tn);kt!==tr||$s||($s=Co),(ga=Dt.charSpace||Cl)!==void 0&&(Ue+=nr(Ot(ga))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Us=Dt.horizontalScale)!==void 0&&(Ue+=nr(100*Us)+` Tz
`),Dt.lang;var wa=-1,sa=Dt.renderingMode!==void 0?Dt.renderingMode:Dt.stroke,Ba=gs.internal.getCurrentPageInfo().pageContext;switch(sa){case 0:case!1:case"fill":wa=0;break;case 1:case!0:case"stroke":wa=1;break;case 2:case"fillThenStroke":wa=2;break;case 3:case"invisible":wa=3;break;case 4:case"fillAndAddForClipping":wa=4;break;case 5:case"strokeAndAddPathForClipping":wa=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":wa=6;break;case 7:case"addToPathForClipping":wa=7}var ns=Ba.usedRenderingMode!==void 0?Ba.usedRenderingMode:-1;wa!==-1?Ue+=wa+` Tr
`:ns!==-1&&(Ue+=`0 Tr
`),wa!==-1&&(Ba.usedRenderingMode=wa),Hn=Dt.align||"left";var dn,Oa=qr*oe,oi=gs.internal.pageSize.getWidth(),ea=Ya[_n];ga=Dt.charSpace||Cl,aa=Dt.maxWidth||0,Ra=Object.assign({autoencode:!0,noBOM:!0},Dt.flags);var hs=[],La=function(ms){return gs.getStringUnitWidth(ms,{font:ea,charSpace:ga,fontSize:qr,doKerning:!1})*qr/Je};if(Object.prototype.toString.call(ve)==="[object Array]"){var Qn;Lr=ht(ve),Hn!=="left"&&(dn=Lr.map(La));var Aa,So=0;if(Hn==="right"){Qe-=dn[0],ve=[],ja=Lr.length;for(var dc=0;dc<ja;dc++)dc===0?(Aa=No(Qe),Qn=Ll(bt)):(Aa=Ot(So-dn[dc]),Qn=-Oa),ve.push([Lr[dc],Aa,Qn]),So=dn[dc]}else if(Hn==="center"){Qe-=dn[0]/2,ve=[],ja=Lr.length;for(var Ho=0;Ho<ja;Ho++)Ho===0?(Aa=No(Qe),Qn=Ll(bt)):(Aa=Ot((So-dn[Ho])/2),Qn=-Oa),ve.push([Lr[Ho],Aa,Qn]),So=dn[Ho]}else if(Hn==="left"){ve=[],ja=Lr.length;for(var fo=0;fo<ja;fo++)ve.push(Lr[fo])}else if(Hn==="justify"&&ea.encoding==="Identity-H"){ve=[],ja=Lr.length,aa=aa!==0?aa:oi;for(var uc=0,Gi=0;Gi<ja;Gi++)if(Qn=Gi===0?Ll(bt):-Oa,Aa=Gi===0?No(Qe):uc,Gi<ja-1){var zh=Ot((aa-dn[Gi])/(Lr[Gi].split(" ").length-1)),tl=Lr[Gi].split(" ");ve.push([tl[0]+" ",Aa,Qn]),uc=0;for(var dl=1;dl<tl.length;dl++){var Ju=(La(tl[dl-1]+" "+tl[dl])-La(tl[dl]))*Je+zh;dl==tl.length-1?ve.push([tl[dl],Ju,0]):ve.push([tl[dl]+" ",Ju,0]),uc-=Ju}}else ve.push([Lr[Gi],Aa,Qn]);ve.push(["",uc,0])}else{if(Hn!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(ve=[],ja=Lr.length,aa=aa!==0?aa:oi,Gi=0;Gi<ja;Gi++){Qn=Gi===0?Ll(bt):-Oa,Aa=Gi===0?No(Qe):0;var vh=Lr[Gi].split(" ").length-1,Pc=vh>0?(aa-dn[Gi])/vh:0;Gi<ja-1?hs.push(nr(Ot(Pc))):hs.push(0),ve.push([Lr[Gi],Aa,Qn])}}}(typeof Dt.R2L=="boolean"?Dt.R2L:Zn)===!0&&(ve=or(ve,function(ms,zs,gi){return[ms.split("").reverse().join(""),zs,gi]})),Nr={text:ve,x:Qe,y:bt,options:Dt,mutex:{pdfEscape:Jo,activeFontKey:_n,fonts:Ya,activeFontSize:qr}},rs.publish("postProcessText",Nr),ve=Nr.text,_=Nr.mutex.isHex||!1;var qc=Ya[_n].encoding;qc!=="WinAnsiEncoding"&&qc!=="StandardEncoding"||(ve=or(ve,function(ms,zs,gi){return[gt(ms),zs,gi]})),Lr=ht(ve),ve=[];for(var Xc,Xd,hd,wu=Array.isArray(Lr[0])?1:0,Dc="",Nl=function(ms,zs,gi){var Ao="";return gi instanceof ma?(gi=typeof Dt.angle=="number"?Ei(gi,new ma(1,0,0,1,ms,zs)):Ei(new ma(1,0,0,1,ms,zs),gi),kt===tr&&(gi=Ei(new ma(1,0,0,-1,0,0),gi)),Ao=gi.join(" ")+` Tm
`):Ao=nr(ms)+" "+nr(zs)+` Td
`,Ao},Qo=0;Qo<Lr.length;Qo++){switch(Dc="",wu){case 1:hd=(_?"<":"(")+Lr[Qo][0]+(_?">":")"),Xc=parseFloat(Lr[Qo][1]),Xd=parseFloat(Lr[Qo][2]);break;case 0:hd=(_?"<":"(")+Lr[Qo]+(_?">":")"),Xc=No(Qe),Xd=Ll(bt)}hs!==void 0&&hs[Qo]!==void 0&&(Dc=hs[Qo]+` Tw
`),Qo===0?ve.push(Dc+Nl(Xc,Xd,$s)+hd):wu===0?ve.push(Dc+hd):wu===1&&ve.push(Dc+Nl(Xc,Xd,$s)+hd)}ve=wu===0?ve.join(` Tj
T* `):ve.join(` Tj
`),ve+=` Tj
`;var hc=`BT
/`;return hc+=_n+" "+qr+` Tf
`,hc+=nr(qr*oe)+` TL
`,hc+=el+`
`,hc+=Ue,hc+=ve,pt(hc+="ET"),ut[_n]=!0,gs};var Gd=Oe.__private__.clip=Oe.clip=function(ve){return pt(ve==="evenodd"?"W*":"W"),this};Oe.clipEvenOdd=function(){return Gd("evenodd")},Oe.__private__.discardPath=Oe.discardPath=function(){return pt("n"),this};var Zo=Oe.__private__.isValidStyle=function(ve){var Qe=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(ve)!==-1&&(Qe=!0),Qe};Oe.__private__.setDefaultPathOperation=Oe.setDefaultPathOperation=function(ve){return Zo(ve)&&(Re=ve),this};var xu=Oe.__private__.getStyle=Oe.getStyle=function(ve){var Qe=Re;switch(ve){case"D":case"S":Qe="S";break;case"F":Qe="f";break;case"FD":case"DF":Qe="B";break;case"f":case"f*":case"B":case"B*":Qe=ve}return Qe},Bd=Oe.close=function(){return pt("h"),this};Oe.stroke=function(){return pt("S"),this},Oe.fill=function(ve){return yu("f",ve),this},Oe.fillEvenOdd=function(ve){return yu("f*",ve),this},Oe.fillStroke=function(ve){return yu("B",ve),this},Oe.fillStrokeEvenOdd=function(ve){return yu("B*",ve),this};var yu=function(ve,Qe){(0,u.default)(Qe)==="object"?Td(Qe,ve):pt(ve)},dd=function(ve){ve===null||kt===tr&&ve===void 0||(ve=xu(ve),pt(ve))};function Id(ve,Qe,bt,Dt,rr){var Nr=new X(Qe||this.boundingBox,bt||this.xStep,Dt||this.yStep,this.gState,rr||this.matrix);Nr.stream=this.stream;var Lr=ve+"$$"+this.cloneIndex+++"$$";return Ol(Lr,Nr),Nr}var Td=function(ve,Qe){var bt=Os[ve.key],Dt=zn[bt];if(Dt instanceof he)pt("q"),pt(kd(Qe)),Dt.gState&&Oe.setGState(Dt.gState),pt(ve.matrix.toString()+" cm"),pt("/"+bt+" sh"),pt("Q");else if(Dt instanceof X){var rr=new ma(1,0,0,-1,0,Gc());ve.matrix&&(rr=rr.multiply(ve.matrix||Co),bt=Id.call(Dt,ve.key,ve.boundingBox,ve.xStep,ve.yStep,rr).id),pt("q"),pt("/Pattern cs"),pt("/"+bt+" scn"),Dt.gState&&Oe.setGState(Dt.gState),pt(Qe),pt("Q")}},kd=function(ve){switch(ve){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},_d=Oe.moveTo=function(ve,Qe){return pt(nr(Ot(ve))+" "+nr(Ft(Qe))+" m"),this},ju=Oe.lineTo=function(ve,Qe){return pt(nr(Ot(ve))+" "+nr(Ft(Qe))+" l"),this},Rl=Oe.curveTo=function(ve,Qe,bt,Dt,rr,Nr){return pt([nr(Ot(ve)),nr(Ft(Qe)),nr(Ot(bt)),nr(Ft(Dt)),nr(Ot(rr)),nr(Ft(Nr)),"c"].join(" ")),this};Oe.__private__.line=Oe.line=function(ve,Qe,bt,Dt,rr){if(isNaN(ve)||isNaN(Qe)||isNaN(bt)||isNaN(Dt)||!Zo(rr))throw new Error("Invalid arguments passed to jsPDF.line");return kt===Mt?this.lines([[bt-ve,Dt-Qe]],ve,Qe,[1,1],rr||"S"):this.lines([[bt-ve,Dt-Qe]],ve,Qe,[1,1]).stroke()},Oe.__private__.lines=Oe.lines=function(ve,Qe,bt,Dt,rr,Nr){var Lr,Tn,Hn,ga,aa,Ra,Us,$s,gs,mi,_,Ue;if(typeof ve=="number"&&(Ue=bt,bt=Qe,Qe=ve,ve=Ue),Dt=Dt||[1,1],Nr=Nr||!1,isNaN(Qe)||isNaN(bt)||!Array.isArray(ve)||!Array.isArray(Dt)||!Zo(rr)||typeof Nr!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(_d(Qe,bt),Lr=Dt[0],Tn=Dt[1],ga=ve.length,mi=Qe,_=bt,Hn=0;Hn<ga;Hn++)(aa=ve[Hn]).length===2?(mi=aa[0]*Lr+mi,_=aa[1]*Tn+_,ju(mi,_)):(Ra=aa[0]*Lr+mi,Us=aa[1]*Tn+_,$s=aa[2]*Lr+mi,gs=aa[3]*Tn+_,mi=aa[4]*Lr+mi,_=aa[5]*Tn+_,Rl(Ra,Us,$s,gs,mi,_));return Nr&&Bd(),dd(rr),this},Oe.path=function(ve){for(var Qe=0;Qe<ve.length;Qe++){var bt=ve[Qe],Dt=bt.c;switch(bt.op){case"m":_d(Dt[0],Dt[1]);break;case"l":ju(Dt[0],Dt[1]);break;case"c":Rl.apply(this,Dt);break;case"h":Bd()}}return this},Oe.__private__.rect=Oe.rect=function(ve,Qe,bt,Dt,rr){if(isNaN(ve)||isNaN(Qe)||isNaN(bt)||isNaN(Dt)||!Zo(rr))throw new Error("Invalid arguments passed to jsPDF.rect");return kt===Mt&&(Dt=-Dt),pt([nr(Ot(ve)),nr(Ft(Qe)),nr(Ot(bt)),nr(Ot(Dt)),"re"].join(" ")),dd(rr),this},Oe.__private__.triangle=Oe.triangle=function(ve,Qe,bt,Dt,rr,Nr,Lr){if(isNaN(ve)||isNaN(Qe)||isNaN(bt)||isNaN(Dt)||isNaN(rr)||isNaN(Nr)||!Zo(Lr))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[bt-ve,Dt-Qe],[rr-bt,Nr-Dt],[ve-rr,Qe-Nr]],ve,Qe,[1,1],Lr,!0),this},Oe.__private__.roundedRect=Oe.roundedRect=function(ve,Qe,bt,Dt,rr,Nr,Lr){if(isNaN(ve)||isNaN(Qe)||isNaN(bt)||isNaN(Dt)||isNaN(rr)||isNaN(Nr)||!Zo(Lr))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Tn=4/3*(Math.SQRT2-1);return rr=Math.min(rr,.5*bt),Nr=Math.min(Nr,.5*Dt),this.lines([[bt-2*rr,0],[rr*Tn,0,rr,Nr-Nr*Tn,rr,Nr],[0,Dt-2*Nr],[0,Nr*Tn,-rr*Tn,Nr,-rr,Nr],[2*rr-bt,0],[-rr*Tn,0,-rr,-Nr*Tn,-rr,-Nr],[0,2*Nr-Dt],[0,-Nr*Tn,rr*Tn,-Nr,rr,-Nr]],ve+rr,Qe,[1,1],Lr,!0),this},Oe.__private__.ellipse=Oe.ellipse=function(ve,Qe,bt,Dt,rr){if(isNaN(ve)||isNaN(Qe)||isNaN(bt)||isNaN(Dt)||!Zo(rr))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Nr=4/3*(Math.SQRT2-1)*bt,Lr=4/3*(Math.SQRT2-1)*Dt;return _d(ve+bt,Qe),Rl(ve+bt,Qe-Lr,ve+Nr,Qe-Dt,ve,Qe-Dt),Rl(ve-Nr,Qe-Dt,ve-bt,Qe-Lr,ve-bt,Qe),Rl(ve-bt,Qe+Lr,ve-Nr,Qe+Dt,ve,Qe+Dt),Rl(ve+Nr,Qe+Dt,ve+bt,Qe+Lr,ve+bt,Qe),dd(rr),this},Oe.__private__.circle=Oe.circle=function(ve,Qe,bt,Dt){if(isNaN(ve)||isNaN(Qe)||isNaN(bt)||!Zo(Dt))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(ve,Qe,bt,bt,Dt)},Oe.setFont=function(ve,Qe,bt){return bt&&(Qe=pr(Qe,bt)),_n=zd(ve,Qe,{disableWarning:!1}),this};var $h=Oe.__private__.getFont=Oe.getFont=function(){return Ya[zd.apply(Oe,arguments)]};Oe.__private__.getFontList=Oe.getFontList=function(){var ve,Qe,bt={};for(ve in Ja)if(Ja.hasOwnProperty(ve))for(Qe in bt[ve]=[],Ja[ve])Ja[ve].hasOwnProperty(Qe)&&bt[ve].push(Qe);return bt},Oe.addFont=function(ve,Qe,bt,Dt,rr){var Nr=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Nr.indexOf(arguments[3])!==-1?rr=arguments[3]:arguments[3]&&Nr.indexOf(arguments[3])==-1&&(bt=pr(bt,Dt)),od.call(this,ve,Qe,bt,rr=rr||"Identity-H")};var Od,Gu=k.lineWidth||.200025,Vh=Oe.__private__.getLineWidth=Oe.getLineWidth=function(){return Gu},Ea=Oe.__private__.setLineWidth=Oe.setLineWidth=function(ve){return Gu=ve,pt(nr(Ot(ve))+" w"),this};Oe.__private__.setLineDash=Ae.API.setLineDash=Ae.API.setLineDashPattern=function(ve,Qe){if(ve=ve||[],Qe=Qe||0,isNaN(Qe)||!Array.isArray(ve))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return ve=ve.map(function(bt){return nr(Ot(bt))}).join(" "),Qe=nr(Ot(Qe)),pt("["+ve+"] "+Qe+" d"),this};var zc=Oe.__private__.getLineHeight=Oe.getLineHeight=function(){return qr*Od};Oe.__private__.getLineHeight=Oe.getLineHeight=function(){return qr*Od};var gh=Oe.__private__.setLineHeightFactor=Oe.setLineHeightFactor=function(ve){return typeof(ve=ve||1.15)=="number"&&(Od=ve),this},_c=Oe.__private__.getLineHeightFactor=Oe.getLineHeightFactor=function(){return Od};gh(k.lineHeight);var No=Oe.__private__.getHorizontalCoordinate=function(ve){return Ot(ve)},Ll=Oe.__private__.getVerticalCoordinate=function(ve){return kt===tr?ve:In[Et].mediaBox.topRightY-In[Et].mediaBox.bottomLeftY-Ot(ve)},oc=Oe.__private__.getHorizontalCoordinateString=Oe.getHorizontalCoordinateString=function(ve){return nr(No(ve))},qu=Oe.__private__.getVerticalCoordinateString=Oe.getVerticalCoordinateString=function(ve){return nr(Ll(ve))},wl=k.strokeColor||"0 G";Oe.__private__.getStrokeColor=Oe.getDrawColor=function(){return Ic(wl)},Oe.__private__.setStrokeColor=Oe.setDrawColor=function(ve,Qe,bt,Dt){return wl=nc({ch1:ve,ch2:Qe,ch3:bt,ch4:Dt,pdfColorType:"draw",precision:2}),pt(wl),this};var qd=k.fillColor||"0 g";Oe.__private__.getFillColor=Oe.getFillColor=function(){return Ic(qd)},Oe.__private__.setFillColor=Oe.setFillColor=function(ve,Qe,bt,Dt){return qd=nc({ch1:ve,ch2:Qe,ch3:bt,ch4:Dt,pdfColorType:"fill",precision:2}),pt(qd),this};var el=k.textColor||"0 g",Fd=Oe.__private__.getTextColor=Oe.getTextColor=function(){return Ic(el)};Oe.__private__.setTextColor=Oe.setTextColor=function(ve,Qe,bt,Dt){return el=nc({ch1:ve,ch2:Qe,ch3:bt,ch4:Dt,pdfColorType:"text",precision:3}),this};var Cl=k.charSpace,bu=Oe.__private__.getCharSpace=Oe.getCharSpace=function(){return parseFloat(Cl||0)};Oe.__private__.setCharSpace=Oe.setCharSpace=function(ve){if(isNaN(ve))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Cl=ve,this};var Oc=0;Oe.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},Oe.__private__.setLineCap=Oe.setLineCap=function(ve){var Qe=Oe.CapJoinStyles[ve];if(Qe===void 0)throw new Error("Line cap style of '"+ve+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Oc=Qe,pt(Qe+" J"),this};var lc=0;Oe.__private__.setLineJoin=Oe.setLineJoin=function(ve){var Qe=Oe.CapJoinStyles[ve];if(Qe===void 0)throw new Error("Line join style of '"+ve+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return lc=Qe,pt(Qe+" j"),this},Oe.__private__.setLineMiterLimit=Oe.__private__.setMiterLimit=Oe.setLineMiterLimit=Oe.setMiterLimit=function(ve){if(ve=ve||0,isNaN(ve))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return pt(nr(Ot(ve))+" M"),this},Oe.GState=je,Oe.setGState=function(ve){(ve=typeof ve=="string"?ya[Vn[ve]]:Ul(null,ve)).equals(Fs)||(pt("/"+ve.id+" gs"),Fs=ve)};var Ul=function(ve,Qe){if(!ve||!Vn[ve]){var bt=!1;for(var Dt in ya)if(ya.hasOwnProperty(Dt)&&ya[Dt].equals(Qe)){bt=!0;break}if(bt)Qe=ya[Dt];else{var rr="GS"+(Object.keys(ya).length+1).toString(10);ya[rr]=Qe,Qe.id=rr}return ve&&(Vn[ve]=Qe.id),rs.publish("addGState",Qe),Qe}};Oe.addGState=function(ve,Qe){return Ul(ve,Qe),this},Oe.saveGraphicsState=function(){return pt("q"),ii.push({key:_n,size:qr,color:el}),this},Oe.restoreGraphicsState=function(){pt("Q");var ve=ii.pop();return _n=ve.key,qr=ve.size,el=ve.color,Fs=null,this},Oe.setCurrentTransformationMatrix=function(ve){return pt(ve.toString()+" cm"),this},Oe.comment=function(ve){return pt("#"+ve),this};var ps=function(ve,Qe){var bt=ve||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return bt},set:function(Nr){isNaN(Nr)||(bt=parseFloat(Nr))}});var Dt=Qe||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Dt},set:function(Nr){isNaN(Nr)||(Dt=parseFloat(Nr))}});var rr="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return rr},set:function(Nr){rr=Nr.toString()}}),this},Ps=function(ve,Qe,bt,Dt){ps.call(this,ve,Qe),this.type="rect";var rr=bt||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return rr},set:function(Lr){isNaN(Lr)||(rr=parseFloat(Lr))}});var Nr=Dt||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Nr},set:function(Lr){isNaN(Lr)||(Nr=parseFloat(Lr))}}),this},Hl=function(){this.page=Sa,this.currentPage=Et,this.pages=an.slice(0),this.pagesContext=In.slice(0),this.x=On,this.y=Na,this.matrix=As,this.width=Fc(Et),this.height=Uo(Et),this.outputDestination=Bn,this.id="",this.objectNumber=-1};Hl.prototype.restore=function(){Sa=this.page,Et=this.currentPage,In=this.pagesContext,an=this.pages,On=this.x,Na=this.y,As=this.matrix,ud(Et,this.width),cc(Et,this.height),Bn=this.outputDestination};var Bi=function(ve,Qe,bt,Dt,rr){Bc.push(new Hl),Sa=Et=0,an=[],On=ve,Na=Qe,As=rr,ld([bt,Dt])};for(var Ui in Oe.beginFormObject=function(ve,Qe,bt,Dt,rr){return Bi(ve,Qe,bt,Dt,rr),this},Oe.endFormObject=function(ve){return(function(Qe){if(wo[Qe])Bc.pop().restore();else{var bt=new Hl,Dt="Xo"+(Object.keys(Ki).length+1).toString(10);bt.id=Dt,wo[Qe]=Dt,Ki[Dt]=bt,rs.publish("addFormObject",bt),Bc.pop().restore()}})(ve),this},Oe.doFormObject=function(ve,Qe){var bt=Ki[wo[ve]];return pt("q"),pt(Qe.toString()+" cm"),pt("/"+bt.id+" Do"),pt("Q"),this},Oe.getFormObject=function(ve){var Qe=Ki[wo[ve]];return{x:Qe.x,y:Qe.y,width:Qe.width,height:Qe.height,matrix:Qe.matrix}},Oe.save=function(ve,Qe){return ve=ve||"generated.pdf",(Qe=Qe||{}).returnPromise=Qe.returnPromise||!1,Qe.returnPromise===!1?(S(Ns(ic()),ve),typeof S.unload=="function"&&g.setTimeout&&setTimeout(S.unload,911),this):new Promise(function(bt,Dt){try{var rr=S(Ns(ic()),ve);typeof S.unload=="function"&&g.setTimeout&&setTimeout(S.unload,911),bt(rr)}catch(Nr){Dt(Nr.message)}})},Ae.API)Ae.API.hasOwnProperty(Ui)&&(Ui==="events"&&Ae.API.events.length?(function(ve,Qe){var bt,Dt,rr;for(rr=Qe.length-1;rr!==-1;rr--)bt=Qe[rr][0],Dt=Qe[rr][1],ve.subscribe.apply(ve,[bt].concat(typeof Dt=="function"?[Dt]:Dt))})(rs,Ae.API.events):Oe[Ui]=Ae.API[Ui]);function Fc(ve){return In[ve].mediaBox.topRightX-In[ve].mediaBox.bottomLeftX}function ud(ve,Qe){In[ve].mediaBox.topRightX=Qe+In[ve].mediaBox.bottomLeftX}function Uo(ve){return In[ve].mediaBox.topRightY-In[ve].mediaBox.bottomLeftY}function cc(ve,Qe){In[ve].mediaBox.topRightY=Qe+In[ve].mediaBox.bottomLeftY}var Kc=Oe.getPageWidth=function(ve){return Fc(ve=ve||Et)/fa},Xu=Oe.setPageWidth=function(ve,Qe){ud(ve,Qe*fa)},Gc=Oe.getPageHeight=function(ve){return Uo(ve=ve||Et)/fa},Yu=Oe.setPageHeight=function(ve,Qe){cc(ve,Qe*fa)};return Oe.internal={pdfEscape:Jo,getStyle:xu,getFont:$h,getFontSize:Mn,getCharSpace:bu,getTextColor:Fd,getLineHeight:zc,getLineHeightFactor:_c,getLineWidth:Vh,write:mn,getHorizontalCoordinate:No,getVerticalCoordinate:Ll,getCoordinateString:oc,getVerticalCoordinateString:qu,collections:{},newObject:Ls,newAdditionalObject:id,newObjectDeferred:Oi,newObjectDeferredBegin:ho,getFilters:to,putStream:cl,events:rs,scaleFactor:fa,pageSize:{getWidth:function(){return Kc(Et)},setWidth:function(ve){Xu(Et,ve)},getHeight:function(){return Gc(Et)},setHeight:function(ve){Yu(Et,ve)}},encryptionOptions:ze,encryption:Fi,getEncryptor:function(ve){return ze!==null?Fi.encryptor(ve,0):function(Qe){return Qe}},output:vu,getNumberOfPages:Vd,get pages(){return an},out:pt,f2:ct,f3:mt,getPageInfo:kc,getPageInfoByObjId:cd,getCurrentPageInfo:Ml,getPDFVersion:jt,Point:ps,Rectangle:Ps,Matrix:ma,hasHotfix:bl},Object.defineProperty(Oe.internal.pageSize,"width",{get:function(){return Kc(Et)},set:function(ve){Xu(Et,ve)},enumerable:!0,configurable:!0}),Object.defineProperty(Oe.internal.pageSize,"height",{get:function(){return Gc(Et)},set:function(ve){Yu(Et,ve)},enumerable:!0,configurable:!0}),(function(ve){for(var Qe=0,bt=pn.length;Qe<bt;Qe++){var Dt=od.call(this,ve[Qe][0],ve[Qe][1],ve[Qe][2],pn[Qe][3],!0);nt===!1&&(ut[Dt]=!0);var rr=ve[Qe][0].split("-");mu({id:Dt,fontName:rr[0],fontStyle:rr[1]||""})}rs.publish("addFonts",{fonts:Ya,dictionary:Ja})}).call(Oe,pn),_n="F1",Sd(se,P),rs.publish("initialized"),Oe}te.prototype.lsbFirstWord=function(k){return String.fromCharCode(255&k,k>>8&255,k>>16&255,k>>24&255)},te.prototype.toHexString=function(k){return k.split("").map(function(B){return("0"+(255&B.charCodeAt(0)).toString(16)).slice(-2)}).join("")},te.prototype.hexToBytes=function(k){for(var B=[],P=0;P<k.length;P+=2)B.push(String.fromCharCode(parseInt(k.substr(P,2),16)));return B.join("")},te.prototype.processOwnerPassword=function(k,B){return D(q(B).substr(0,5),k)},te.prototype.encryptor=function(k,B){var P=q(this.encryptionKey+String.fromCharCode(255&k,k>>8&255,k>>16&255,255&B,B>>8&255)).substr(0,10);return function(K){return D(P,K)}},je.prototype.equals=function(k){var B,P="id,objectNumber,equals";if(!k||(0,u.default)(k)!==(0,u.default)(this))return!1;var K=0;for(B in this)if(!(P.indexOf(B)>=0)){if(this.hasOwnProperty(B)&&!k.hasOwnProperty(B)||this[B]!==k[B])return!1;K++}for(B in k)k.hasOwnProperty(B)&&P.indexOf(B)<0&&K--;return K===0},Ae.API={events:[]},Ae.version="4.0.0";var Be=Ae.API,Me=1,$e=function(k){return k.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ne=function(k){return k.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Pe=function(k){return k.toFixed(2)},_e=function(k){return k.toFixed(5)};Be.__acroform__={};var rt=function(k,B){k.prototype=Object.create(B.prototype),k.prototype.constructor=k},et=function(k){return k*Me},Le=function(k){var B=new Fr,P=rn.internal.getHeight(k)||0,K=rn.internal.getWidth(k)||0;return B.BBox=[0,0,Number(Pe(K)),Number(Pe(P))],B},it=Be.__acroform__.setBit=function(k,B){if(k=k||0,B=B||0,isNaN(k)||isNaN(B))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return k|1<<B},Wt=Be.__acroform__.clearBit=function(k,B){if(k=k||0,B=B||0,isNaN(k)||isNaN(B))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return k&~(1<<B)},qe=Be.__acroform__.getBit=function(k,B){if(isNaN(k)||isNaN(B))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return k&1<<B?1:0},St=Be.__acroform__.getBitForPdf=function(k,B){if(isNaN(k)||isNaN(B))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return qe(k,B-1)},_t=Be.__acroform__.setBitForPdf=function(k,B){if(isNaN(k)||isNaN(B))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return it(k,B-1)},ar=Be.__acroform__.clearBitForPdf=function(k,B){if(isNaN(k)||isNaN(B))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Wt(k,B-1)},en=Be.__acroform__.calculateCoordinates=function(k,B){var P=B.internal.getHorizontalCoordinate,K=B.internal.getVerticalCoordinate,se=k[0],de=k[1],Ie=k[2],be=k[3],Ce={};return Ce.lowerLeft_X=P(se)||0,Ce.lowerLeft_Y=K(de+be)||0,Ce.upperRight_X=P(se+Ie)||0,Ce.upperRight_Y=K(de)||0,[Number(Pe(Ce.lowerLeft_X)),Number(Pe(Ce.lowerLeft_Y)),Number(Pe(Ce.upperRight_X)),Number(Pe(Ce.upperRight_Y))]},Xt=function(k){if(k.appearanceStreamContent)return k.appearanceStreamContent;if(k.V||k.DV){var B=[],P=k._V||k.DV,K=Yr(k,P),se=k.scope.internal.getFont(k.fontName,k.fontStyle).id;B.push("/Tx BMC"),B.push("q"),B.push("BT"),B.push(k.scope.__private__.encodeColorString(k.color)),B.push("/"+se+" "+Pe(K.fontSize)+" Tf"),B.push("1 0 0 1 0 0 Tm"),B.push(K.text),B.push("ET"),B.push("Q"),B.push("EMC");var de=Le(k);return de.scope=k.scope,de.stream=B.join(`
`),de}},Yr=function(k,B){var P=k.fontSize===0?k.maxFontSize:k.fontSize,K={text:"",fontSize:""},se=(B=(B=B.substr(0,1)=="("?B.substr(1):B).substr(B.length-1)==")"?B.substr(0,B.length-1):B).split(" ");se=k.multiline?se.map(function(ct){return ct.split(`
`)}):se.map(function(ct){return[ct]});var de=P,Ie=rn.internal.getHeight(k)||0;Ie=Ie<0?-Ie:Ie;var be=rn.internal.getWidth(k)||0;be=be<0?-be:be;var Ce=function(ct,mt,Ot){if(ct+1<se.length){var Ft=mt+" "+se[ct+1][0];return Qr(Ft,k,Ot).width<=be-4}return!1};de++;e:for(;de>0;){B="",de--;var Re,ze,nt=Qr("3",k,de).height,ut=k.multiline?Ie-de:(Ie-nt)/2,Oe=ut+=2,Nt=0,jt=0,Bt=0;if(de<=0){B=`(...) Tj
`,B+="% Width of Text: "+Qr(B,k,de=12).width+", FieldWidth:"+be+`
`;break}for(var lt="",Mt=0,tr=0;tr<se.length;tr++)if(se.hasOwnProperty(tr)){var kt=!1;if(se[tr].length!==1&&Bt!==se[tr].length-1){if((nt+2)*(Mt+2)+2>Ie)continue e;lt+=se[tr][Bt],kt=!0,jt=tr,tr--}else{lt=(lt+=se[tr][Bt]+" ").substr(lt.length-1)==" "?lt.substr(0,lt.length-1):lt;var at=parseInt(tr),qt=Ce(at,lt,de),pr=tr>=se.length-1;if(qt&&!pr){lt+=" ",Bt=0;continue}if(qt||pr){if(pr)jt=at;else if(k.multiline&&(nt+2)*(Mt+2)+2>Ie)continue e}else{if(!k.multiline||(nt+2)*(Mt+2)+2>Ie)continue e;jt=at}}for(var nr="",Pt=Nt;Pt<=jt;Pt++){var Ar=se[Pt];if(k.multiline){if(Pt===jt){nr+=Ar[Bt]+" ",Bt=(Bt+1)%Ar.length;continue}if(Pt===Nt){nr+=Ar[Ar.length-1]+" ";continue}}nr+=Ar[0]+" "}switch(nr=nr.substr(nr.length-1)==" "?nr.substr(0,nr.length-1):nr,ze=Qr(nr,k,de).width,k.textAlign){case"right":Re=be-ze-2;break;case"center":Re=(be-ze)/2;break;default:Re=2}B+=Pe(Re)+" "+Pe(Oe)+` Td
`,B+="("+$e(nr)+`) Tj
`,B+=-Pe(Re)+` 0 Td
`,Oe=-(de+2),ze=0,Nt=kt?jt:jt+1,Mt++,lt=""}break}return K.text=B,K.fontSize=de,K},Qr=function(k,B,P){var K=B.scope.internal.getFont(B.fontName,B.fontStyle),se=B.scope.getStringUnitWidth(k,{font:K,fontSize:parseFloat(P),charSpace:0})*parseFloat(P);return{height:B.scope.getStringUnitWidth("3",{font:K,fontSize:parseFloat(P),charSpace:0})*parseFloat(P)*1.5,width:se}},He={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Rt=function(k,B){var P={type:"reference",object:k};B.internal.getPageInfo(k.page).pageContext.annotations.find(function(K){return K.type===P.type&&K.object===P.object})===void 0&&B.internal.getPageInfo(k.page).pageContext.annotations.push(P)},ot=function(k,B){if(B.scope=k,k.internal!==void 0&&(k.internal.acroformPlugin===void 0||k.internal.acroformPlugin.isInitialized===!1)){if(Wr.FieldNum=0,k.internal.acroformPlugin=JSON.parse(JSON.stringify(He)),k.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Me=k.internal.scaleFactor,k.internal.acroformPlugin.acroFormDictionaryRoot=new Jr,k.internal.acroformPlugin.acroFormDictionaryRoot.scope=k,k.internal.acroformPlugin.acroFormDictionaryRoot._eventID=k.internal.events.subscribe("postPutResources",function(){(function(P){P.internal.events.unsubscribe(P.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete P.internal.acroformPlugin.acroFormDictionaryRoot._eventID,P.internal.acroformPlugin.printedOut=!0})(k)}),k.internal.events.subscribe("buildDocument",function(){(function(P){P.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var K=P.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var se in K)if(K.hasOwnProperty(se)){var de=K[se];de.objId=void 0,de.hasAnnotation&&Rt(de,P)}})(k)}),k.internal.events.subscribe("putCatalog",function(){(function(P){if(P.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");P.internal.write("/AcroForm "+P.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(k)}),k.internal.events.subscribe("postPutPages",function(P){(function(K,se){var de=!K;for(var Ie in K||(se.internal.newObjectDeferredBegin(se.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),se.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),K=K||se.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(K.hasOwnProperty(Ie)){var be=K[Ie],Ce=[],Re=be.Rect;if(be.Rect&&(be.Rect=en(be.Rect,se)),se.internal.newObjectDeferredBegin(be.objId,!0),be.DA=rn.createDefaultAppearanceStream(be),(0,u.default)(be)==="object"&&typeof be.getKeyValueListForStream=="function"&&(Ce=be.getKeyValueListForStream()),be.Rect=Re,be.hasAppearanceStream&&!be.appearanceStreamContent){var ze=Xt(be);Ce.push({key:"AP",value:"<</N "+ze+">>"}),se.internal.acroformPlugin.xForms.push(ze)}if(be.appearanceStreamContent){var nt="";for(var ut in be.appearanceStreamContent)if(be.appearanceStreamContent.hasOwnProperty(ut)){var Oe=be.appearanceStreamContent[ut];if(nt+="/"+ut+" ",nt+="<<",Object.keys(Oe).length>=1||Array.isArray(Oe)){for(var Ie in Oe)if(Oe.hasOwnProperty(Ie)){var Nt=Oe[Ie];typeof Nt=="function"&&(Nt=Nt.call(se,be)),nt+="/"+Ie+" "+Nt+" ",se.internal.acroformPlugin.xForms.indexOf(Nt)>=0||se.internal.acroformPlugin.xForms.push(Nt)}}else typeof(Nt=Oe)=="function"&&(Nt=Nt.call(se,be)),nt+="/"+Ie+" "+Nt,se.internal.acroformPlugin.xForms.indexOf(Nt)>=0||se.internal.acroformPlugin.xForms.push(Nt);nt+=">>"}Ce.push({key:"AP",value:`<<
`+nt+">>"})}se.internal.putStream({additionalKeyValues:Ce,objectId:be.objId}),se.internal.out("endobj")}de&&(function(jt,Bt){for(var lt in jt)if(jt.hasOwnProperty(lt)){var Mt=lt,tr=jt[lt];Bt.internal.newObjectDeferredBegin(tr.objId,!0),(0,u.default)(tr)==="object"&&typeof tr.putStream=="function"&&tr.putStream(),delete jt[Mt]}})(se.internal.acroformPlugin.xForms,se)})(P,k)}),k.internal.acroformPlugin.isInitialized=!0}},Ht=Be.__acroform__.arrayToPdfArray=function(k,B,P){var K=function(Ie){return Ie};if(Array.isArray(k)){for(var se="[",de=0;de<k.length;de++)switch(de!==0&&(se+=" "),(0,u.default)(k[de])){case"boolean":case"number":case"object":se+=k[de].toString();break;case"string":k[de].substr(0,1)!=="/"?(B!==void 0&&P&&(K=P.internal.getEncryptor(B)),se+="("+$e(K(k[de].toString()))+")"):se+=k[de].toString()}return se+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},$t=function(k,B,P){var K=function(se){return se};return B!==void 0&&P&&(K=P.internal.getEncryptor(B)),(k=k||"").toString(),"("+$e(K(k))+")"},Dr=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(k){this._objId=k}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Dr.prototype.toString=function(){return this.objId+" 0 R"},Dr.prototype.putStream=function(){var k=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:k,objectId:this.objId}),this.scope.internal.out("endobj")},Dr.prototype.getKeyValueListForStream=function(){var k=[],B=Object.getOwnPropertyNames(this).filter(function(de){return de!="content"&&de!="appearanceStreamContent"&&de!="scope"&&de!="objId"&&de.substring(0,1)!="_"});for(var P in B)if(Object.getOwnPropertyDescriptor(this,B[P]).configurable===!1){var K=B[P],se=this[K];se&&(Array.isArray(se)?k.push({key:K,value:Ht(se,this.objId,this.scope)}):se instanceof Dr?(se.scope=this.scope,k.push({key:K,value:se.objId+" 0 R"})):typeof se!="function"&&k.push({key:K,value:se}))}return k};var Fr=function(){Dr.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var k,B=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return B},set:function(P){B=P}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(P){k=P.trim()},get:function(){return k||null}})};rt(Fr,Dr);var Jr=function(){Dr.call(this);var k,B=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return B.length>0?B:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return B}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(k){var P=function(K){return K};return this.scope&&(P=this.scope.internal.getEncryptor(this.objId)),"("+$e(P(k))+")"}},set:function(P){k=P}})};rt(Jr,Dr);var Wr=function k(){Dr.call(this);var B=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return B},set:function(lt){if(isNaN(lt))throw new Error('Invalid value "'+lt+'" for attribute F supplied.');B=lt}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!St(B,3)},set:function(lt){lt?this.F=_t(B,3):this.F=ar(B,3)}});var P=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return P},set:function(lt){if(isNaN(lt))throw new Error('Invalid value "'+lt+'" for attribute Ff supplied.');P=lt}});var K=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(K.length!==0)return K},set:function(lt){K=lt!==void 0?lt:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!K||isNaN(K[0])?0:K[0]},set:function(lt){K[0]=lt}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!K||isNaN(K[1])?0:K[1]},set:function(lt){K[1]=lt}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!K||isNaN(K[2])?0:K[2]},set:function(lt){K[2]=lt}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!K||isNaN(K[3])?0:K[3]},set:function(lt){K[3]=lt}});var se="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return se},set:function(lt){switch(lt){case"/Btn":case"/Tx":case"/Ch":case"/Sig":se=lt;break;default:throw new Error('Invalid value "'+lt+'" for attribute FT supplied.')}}});var de=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!de||de.length<1){if(this instanceof ri)return;de="FieldObject"+k.FieldNum++}var lt=function(Mt){return Mt};return this.scope&&(lt=this.scope.internal.getEncryptor(this.objId)),"("+$e(lt(de))+")"},set:function(lt){de=lt.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return de},set:function(lt){de=lt}});var Ie="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return Ie},set:function(lt){Ie=lt}});var be="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return be},set:function(lt){be=lt}});var Ce=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return Ce},set:function(lt){Ce=lt}});var Re=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return Re===void 0?50/Me:Re},set:function(lt){Re=lt}});var ze="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return ze},set:function(lt){ze=lt}});var nt="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!nt||this instanceof ri||this instanceof Hs))return $t(nt,this.objId,this.scope)},set:function(lt){lt=lt.toString(),nt=lt}});var ut=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(ut)return this instanceof un==0?$t(ut,this.objId,this.scope):ut},set:function(lt){lt=lt.toString(),ut=this instanceof un==0?lt.substr(0,1)==="("?ne(lt.substr(1,lt.length-2)):ne(lt):lt}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof un==1?ne(ut.substr(1,ut.length-1)):ut},set:function(lt){lt=lt.toString(),ut=this instanceof un==1?"/"+lt:lt}});var Oe=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(Oe)return Oe},set:function(lt){this.V=lt}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(Oe)return this instanceof un==0?$t(Oe,this.objId,this.scope):Oe},set:function(lt){lt=lt.toString(),Oe=this instanceof un==0?lt.substr(0,1)==="("?ne(lt.substr(1,lt.length-2)):ne(lt):lt}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof un==1?ne(Oe.substr(1,Oe.length-1)):Oe},set:function(lt){lt=lt.toString(),Oe=this instanceof un==1?"/"+lt:lt}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var Nt,jt=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return jt},set:function(lt){lt=!!lt,jt=lt}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(Nt)return Nt},set:function(lt){Nt=lt}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!St(this.Ff,1)},set:function(lt){lt?this.Ff=_t(this.Ff,1):this.Ff=ar(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!St(this.Ff,2)},set:function(lt){lt?this.Ff=_t(this.Ff,2):this.Ff=ar(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!St(this.Ff,3)},set:function(lt){lt?this.Ff=_t(this.Ff,3):this.Ff=ar(this.Ff,3)}});var Bt=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(Bt!==null)return Bt},set:function(lt){if([0,1,2].indexOf(lt)===-1)throw new Error('Invalid value "'+lt+'" for attribute Q supplied.');Bt=lt}}),Object.defineProperty(this,"textAlign",{get:function(){var lt;switch(Bt){case 0:default:lt="left";break;case 1:lt="center";break;case 2:lt="right"}return lt},configurable:!0,enumerable:!0,set:function(lt){switch(lt){case"right":case 2:Bt=2;break;case"center":case 1:Bt=1;break;default:Bt=0}}})};rt(Wr,Dr);var Ln=function(){Wr.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var k=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return k},set:function(P){k=P}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return k},set:function(P){k=P}});var B=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Ht(B,this.objId,this.scope)},set:function(P){var K,se;se=[],typeof(K=P)=="string"&&(se=(function(de,Ie,be){be||(be=1);for(var Ce,Re=[];Ce=Ie.exec(de);)Re.push(Ce[be]);return Re})(K,/\((.*?)\)/g)),B=se}}),this.getOptions=function(){return B},this.setOptions=function(P){B=P,this.sort&&B.sort()},this.addOption=function(P){P=(P=P||"").toString(),B.push(P),this.sort&&B.sort()},this.removeOption=function(P,K){for(K=K||!1,P=(P=P||"").toString();B.indexOf(P)!==-1&&(B.splice(B.indexOf(P),1),K!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!St(this.Ff,18)},set:function(P){P?this.Ff=_t(this.Ff,18):this.Ff=ar(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!St(this.Ff,19)},set:function(P){this.combo===!0&&(P?this.Ff=_t(this.Ff,19):this.Ff=ar(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!St(this.Ff,20)},set:function(P){P?(this.Ff=_t(this.Ff,20),B.sort()):this.Ff=ar(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!St(this.Ff,22)},set:function(P){P?this.Ff=_t(this.Ff,22):this.Ff=ar(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!St(this.Ff,23)},set:function(P){P?this.Ff=_t(this.Ff,23):this.Ff=ar(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!St(this.Ff,27)},set:function(P){P?this.Ff=_t(this.Ff,27):this.Ff=ar(this.Ff,27)}}),this.hasAppearanceStream=!1};rt(Ln,Wr);var Vr=function(){Ln.call(this),this.fontName="helvetica",this.combo=!1};rt(Vr,Ln);var Ur=function(){Vr.call(this),this.combo=!0};rt(Ur,Vr);var Cn=function(){Ur.call(this),this.edit=!0};rt(Cn,Ur);var un=function(){Wr.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!St(this.Ff,15)},set:function(P){P?this.Ff=_t(this.Ff,15):this.Ff=ar(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!St(this.Ff,16)},set:function(P){P?this.Ff=_t(this.Ff,16):this.Ff=ar(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!St(this.Ff,17)},set:function(P){P?this.Ff=_t(this.Ff,17):this.Ff=ar(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!St(this.Ff,26)},set:function(P){P?this.Ff=_t(this.Ff,26):this.Ff=ar(this.Ff,26)}});var k,B={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var P=function(de){return de};if(this.scope&&(P=this.scope.internal.getEncryptor(this.objId)),Object.keys(B).length!==0){var K,se=[];for(K in se.push("<<"),B)se.push("/"+K+" ("+$e(P(B[K]))+")");return se.push(">>"),se.join(`
`)}},set:function(P){(0,u.default)(P)==="object"&&(B=P)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return B.CA||""},set:function(P){typeof P=="string"&&(B.CA=P)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return k},set:function(P){k=P}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return k.substr(1,k.length-1)},set:function(P){k="/"+P}})};rt(un,Wr);var Dn=function(){un.call(this),this.pushButton=!0};rt(Dn,un);var da=function(){un.call(this),this.radio=!0,this.pushButton=!1;var k=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return k},set:function(B){k=B!==void 0?B:[]}})};rt(da,un);var ri=function(){var k,B;Wr.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return k},set:function(se){k=se}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return B},set:function(se){B=se}});var P,K={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var se=function(be){return be};this.scope&&(se=this.scope.internal.getEncryptor(this.objId));var de,Ie=[];for(de in Ie.push("<<"),K)Ie.push("/"+de+" ("+$e(se(K[de]))+")");return Ie.push(">>"),Ie.join(`
`)},set:function(se){(0,u.default)(se)==="object"&&(K=se)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return K.CA||""},set:function(se){typeof se=="string"&&(K.CA=se)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return P},set:function(se){P=se}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return P.substr(1,P.length-1)},set:function(se){P="/"+se}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=rn.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};rt(ri,Wr),da.prototype.setAppearance=function(k){if(!("createAppearanceStream"in k)||!("getCA"in k))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var B in this.Kids)if(this.Kids.hasOwnProperty(B)){var P=this.Kids[B];P.appearanceStreamContent=k.createAppearanceStream(P.optionName),P.caption=k.getCA()}},da.prototype.createOption=function(k){var B=new ri;return B.Parent=this,B.optionName=k,this.Kids.push(B),ds.call(this.scope,B),B};var Ks=function(){un.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=rn.CheckBox.createAppearanceStream()};rt(Ks,un);var Hs=function(){Wr.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!St(this.Ff,13)},set:function(B){B?this.Ff=_t(this.Ff,13):this.Ff=ar(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!St(this.Ff,21)},set:function(B){B?this.Ff=_t(this.Ff,21):this.Ff=ar(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!St(this.Ff,23)},set:function(B){B?this.Ff=_t(this.Ff,23):this.Ff=ar(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!St(this.Ff,24)},set:function(B){B?this.Ff=_t(this.Ff,24):this.Ff=ar(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!St(this.Ff,25)},set:function(B){B?this.Ff=_t(this.Ff,25):this.Ff=ar(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!St(this.Ff,26)},set:function(B){B?this.Ff=_t(this.Ff,26):this.Ff=ar(this.Ff,26)}});var k=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return k},set:function(B){k=B}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return k},set:function(B){Number.isInteger(B)&&(k=B)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};rt(Hs,Wr);var oa=function(){Hs.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!St(this.Ff,14)},set:function(k){k?this.Ff=_t(this.Ff,14):this.Ff=ar(this.Ff,14)}}),this.password=!0};rt(oa,Hs);var rn={CheckBox:{createAppearanceStream:function(){return{N:{On:rn.CheckBox.YesNormal},D:{On:rn.CheckBox.YesPushDown,Off:rn.CheckBox.OffPushDown}}},YesPushDown:function(k){var B=Le(k);B.scope=k.scope;var P=[],K=k.scope.internal.getFont(k.fontName,k.fontStyle).id,se=k.scope.__private__.encodeColorString(k.color),de=Yr(k,k.caption);return P.push("0.749023 g"),P.push("0 0 "+Pe(rn.internal.getWidth(k))+" "+Pe(rn.internal.getHeight(k))+" re"),P.push("f"),P.push("BMC"),P.push("q"),P.push("0 0 1 rg"),P.push("/"+K+" "+Pe(de.fontSize)+" Tf "+se),P.push("BT"),P.push(de.text),P.push("ET"),P.push("Q"),P.push("EMC"),B.stream=P.join(`
`),B},YesNormal:function(k){var B=Le(k);B.scope=k.scope;var P=k.scope.internal.getFont(k.fontName,k.fontStyle).id,K=k.scope.__private__.encodeColorString(k.color),se=[],de=rn.internal.getHeight(k),Ie=rn.internal.getWidth(k),be=Yr(k,k.caption);return se.push("1 g"),se.push("0 0 "+Pe(Ie)+" "+Pe(de)+" re"),se.push("f"),se.push("q"),se.push("0 0 1 rg"),se.push("0 0 "+Pe(Ie-1)+" "+Pe(de-1)+" re"),se.push("W"),se.push("n"),se.push("0 g"),se.push("BT"),se.push("/"+P+" "+Pe(be.fontSize)+" Tf "+K),se.push(be.text),se.push("ET"),se.push("Q"),B.stream=se.join(`
`),B},OffPushDown:function(k){var B=Le(k);B.scope=k.scope;var P=[];return P.push("0.749023 g"),P.push("0 0 "+Pe(rn.internal.getWidth(k))+" "+Pe(rn.internal.getHeight(k))+" re"),P.push("f"),B.stream=P.join(`
`),B}},RadioButton:{Circle:{createAppearanceStream:function(k){var B={D:{Off:rn.RadioButton.Circle.OffPushDown},N:{}};return B.N[k]=rn.RadioButton.Circle.YesNormal,B.D[k]=rn.RadioButton.Circle.YesPushDown,B},getCA:function(){return"l"},YesNormal:function(k){var B=Le(k);B.scope=k.scope;var P=[],K=rn.internal.getWidth(k)<=rn.internal.getHeight(k)?rn.internal.getWidth(k)/4:rn.internal.getHeight(k)/4;K=Number((.9*K).toFixed(5));var se=rn.internal.Bezier_C,de=Number((K*se).toFixed(5));return P.push("q"),P.push("1 0 0 1 "+_e(rn.internal.getWidth(k)/2)+" "+_e(rn.internal.getHeight(k)/2)+" cm"),P.push(K+" 0 m"),P.push(K+" "+de+" "+de+" "+K+" 0 "+K+" c"),P.push("-"+de+" "+K+" -"+K+" "+de+" -"+K+" 0 c"),P.push("-"+K+" -"+de+" -"+de+" -"+K+" 0 -"+K+" c"),P.push(de+" -"+K+" "+K+" -"+de+" "+K+" 0 c"),P.push("f"),P.push("Q"),B.stream=P.join(`
`),B},YesPushDown:function(k){var B=Le(k);B.scope=k.scope;var P=[],K=rn.internal.getWidth(k)<=rn.internal.getHeight(k)?rn.internal.getWidth(k)/4:rn.internal.getHeight(k)/4;K=Number((.9*K).toFixed(5));var se=Number((2*K).toFixed(5)),de=Number((se*rn.internal.Bezier_C).toFixed(5)),Ie=Number((K*rn.internal.Bezier_C).toFixed(5));return P.push("0.749023 g"),P.push("q"),P.push("1 0 0 1 "+_e(rn.internal.getWidth(k)/2)+" "+_e(rn.internal.getHeight(k)/2)+" cm"),P.push(se+" 0 m"),P.push(se+" "+de+" "+de+" "+se+" 0 "+se+" c"),P.push("-"+de+" "+se+" -"+se+" "+de+" -"+se+" 0 c"),P.push("-"+se+" -"+de+" -"+de+" -"+se+" 0 -"+se+" c"),P.push(de+" -"+se+" "+se+" -"+de+" "+se+" 0 c"),P.push("f"),P.push("Q"),P.push("0 g"),P.push("q"),P.push("1 0 0 1 "+_e(rn.internal.getWidth(k)/2)+" "+_e(rn.internal.getHeight(k)/2)+" cm"),P.push(K+" 0 m"),P.push(K+" "+Ie+" "+Ie+" "+K+" 0 "+K+" c"),P.push("-"+Ie+" "+K+" -"+K+" "+Ie+" -"+K+" 0 c"),P.push("-"+K+" -"+Ie+" -"+Ie+" -"+K+" 0 -"+K+" c"),P.push(Ie+" -"+K+" "+K+" -"+Ie+" "+K+" 0 c"),P.push("f"),P.push("Q"),B.stream=P.join(`
`),B},OffPushDown:function(k){var B=Le(k);B.scope=k.scope;var P=[],K=rn.internal.getWidth(k)<=rn.internal.getHeight(k)?rn.internal.getWidth(k)/4:rn.internal.getHeight(k)/4;K=Number((.9*K).toFixed(5));var se=Number((2*K).toFixed(5)),de=Number((se*rn.internal.Bezier_C).toFixed(5));return P.push("0.749023 g"),P.push("q"),P.push("1 0 0 1 "+_e(rn.internal.getWidth(k)/2)+" "+_e(rn.internal.getHeight(k)/2)+" cm"),P.push(se+" 0 m"),P.push(se+" "+de+" "+de+" "+se+" 0 "+se+" c"),P.push("-"+de+" "+se+" -"+se+" "+de+" -"+se+" 0 c"),P.push("-"+se+" -"+de+" -"+de+" -"+se+" 0 -"+se+" c"),P.push(de+" -"+se+" "+se+" -"+de+" "+se+" 0 c"),P.push("f"),P.push("Q"),B.stream=P.join(`
`),B}},Cross:{createAppearanceStream:function(k){var B={D:{Off:rn.RadioButton.Cross.OffPushDown},N:{}};return B.N[k]=rn.RadioButton.Cross.YesNormal,B.D[k]=rn.RadioButton.Cross.YesPushDown,B},getCA:function(){return"8"},YesNormal:function(k){var B=Le(k);B.scope=k.scope;var P=[],K=rn.internal.calculateCross(k);return P.push("q"),P.push("1 1 "+Pe(rn.internal.getWidth(k)-2)+" "+Pe(rn.internal.getHeight(k)-2)+" re"),P.push("W"),P.push("n"),P.push(Pe(K.x1.x)+" "+Pe(K.x1.y)+" m"),P.push(Pe(K.x2.x)+" "+Pe(K.x2.y)+" l"),P.push(Pe(K.x4.x)+" "+Pe(K.x4.y)+" m"),P.push(Pe(K.x3.x)+" "+Pe(K.x3.y)+" l"),P.push("s"),P.push("Q"),B.stream=P.join(`
`),B},YesPushDown:function(k){var B=Le(k);B.scope=k.scope;var P=rn.internal.calculateCross(k),K=[];return K.push("0.749023 g"),K.push("0 0 "+Pe(rn.internal.getWidth(k))+" "+Pe(rn.internal.getHeight(k))+" re"),K.push("f"),K.push("q"),K.push("1 1 "+Pe(rn.internal.getWidth(k)-2)+" "+Pe(rn.internal.getHeight(k)-2)+" re"),K.push("W"),K.push("n"),K.push(Pe(P.x1.x)+" "+Pe(P.x1.y)+" m"),K.push(Pe(P.x2.x)+" "+Pe(P.x2.y)+" l"),K.push(Pe(P.x4.x)+" "+Pe(P.x4.y)+" m"),K.push(Pe(P.x3.x)+" "+Pe(P.x3.y)+" l"),K.push("s"),K.push("Q"),B.stream=K.join(`
`),B},OffPushDown:function(k){var B=Le(k);B.scope=k.scope;var P=[];return P.push("0.749023 g"),P.push("0 0 "+Pe(rn.internal.getWidth(k))+" "+Pe(rn.internal.getHeight(k))+" re"),P.push("f"),B.stream=P.join(`
`),B}}},createDefaultAppearanceStream:function(k){var B=k.scope.internal.getFont(k.fontName,k.fontStyle).id,P=k.scope.__private__.encodeColorString(k.color);return"/"+B+" "+k.fontSize+" Tf "+P}};rn.internal={Bezier_C:.551915024494,calculateCross:function(k){var B=rn.internal.getWidth(k),P=rn.internal.getHeight(k),K=Math.min(B,P);return{x1:{x:(B-K)/2,y:(P-K)/2+K},x2:{x:(B-K)/2+K,y:(P-K)/2},x3:{x:(B-K)/2,y:(P-K)/2},x4:{x:(B-K)/2+K,y:(P-K)/2+K}}}},rn.internal.getWidth=function(k){var B=0;return(0,u.default)(k)==="object"&&(B=et(k.Rect[2])),B},rn.internal.getHeight=function(k){var B=0;return(0,u.default)(k)==="object"&&(B=et(k.Rect[3])),B};var ds=Be.addField=function(k){if(ot(this,k),!(k instanceof Wr))throw new Error("Invalid argument passed to jsPDF.addField.");var B;return(B=k).scope.internal.acroformPlugin.printedOut&&(B.scope.internal.acroformPlugin.printedOut=!1,B.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),B.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(B),k.page=k.scope.internal.getCurrentPageInfo().pageNumber,this};Be.AcroFormChoiceField=Ln,Be.AcroFormListBox=Vr,Be.AcroFormComboBox=Ur,Be.AcroFormEditBox=Cn,Be.AcroFormButton=un,Be.AcroFormPushButton=Dn,Be.AcroFormRadioButton=da,Be.AcroFormCheckBox=Ks,Be.AcroFormTextField=Hs,Be.AcroFormPasswordField=oa,Be.AcroFormAppearance=rn,Be.AcroForm={ChoiceField:Ln,ListBox:Vr,ComboBox:Ur,EditBox:Cn,Button:un,PushButton:Dn,RadioButton:da,CheckBox:Ks,TextField:Hs,PasswordField:oa,Appearance:rn},Ae.AcroForm={ChoiceField:Ln,ListBox:Vr,ComboBox:Ur,EditBox:Cn,Button:un,PushButton:Dn,RadioButton:da,CheckBox:Ks,TextField:Hs,PasswordField:oa,Appearance:rn};var wi=Ae.AcroForm;function wt(k){return k.reduce(function(B,P,K){return B[P]=K,B},{})}(function(k){var B="addImage_";k.__addimage__={};var P="UNKNOWN",K={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},se=k.__addimage__.getImageFileTypeByImageData=function(ct,mt){var Ot,Ft,mr,yr,Cr,ir=P;if((mt=mt||P)==="RGBA"||ct.data!==void 0&&ct.data instanceof Uint8ClampedArray&&"height"in ct&&"width"in ct)return"RGBA";if(qt(ct))for(Cr in K)for(mr=K[Cr],Ot=0;Ot<mr.length;Ot+=1){for(yr=!0,Ft=0;Ft<mr[Ot].length;Ft+=1)if(mr[Ot][Ft]!==void 0&&mr[Ot][Ft]!==ct[Ft]){yr=!1;break}if(yr===!0){ir=Cr;break}}else for(Cr in K)for(mr=K[Cr],Ot=0;Ot<mr.length;Ot+=1){for(yr=!0,Ft=0;Ft<mr[Ot].length;Ft+=1)if(mr[Ot][Ft]!==void 0&&mr[Ot][Ft]!==ct.charCodeAt(Ft)){yr=!1;break}if(yr===!0){ir=Cr;break}}return ir===P&&mt!==P&&(ir=mt),ir},de=function ct(mt){for(var Ot=this.internal.write,Ft=this.internal.putStream,mr=(0,this.internal.getFilters)();mr.indexOf("FlateEncode")!==-1;)mr.splice(mr.indexOf("FlateEncode"),1);mt.objectId=this.internal.newObject();var yr=[];if(yr.push({key:"Type",value:"/XObject"}),yr.push({key:"Subtype",value:"/Image"}),yr.push({key:"Width",value:mt.width}),yr.push({key:"Height",value:mt.height}),mt.colorSpace===lt.INDEXED?yr.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(mt.palette.length/3-1)+" "+("sMask"in mt&&mt.sMask!==void 0?mt.objectId+2:mt.objectId+1)+" 0 R]"}):(yr.push({key:"ColorSpace",value:"/"+mt.colorSpace}),mt.colorSpace===lt.DEVICE_CMYK&&yr.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),yr.push({key:"BitsPerComponent",value:mt.bitsPerComponent}),"decodeParameters"in mt&&mt.decodeParameters!==void 0&&yr.push({key:"DecodeParms",value:"<<"+mt.decodeParameters+">>"}),"transparency"in mt&&Array.isArray(mt.transparency)&&mt.transparency.length>0){for(var Cr="",ir=0,br=mt.transparency.length;ir<br;ir++)Cr+=mt.transparency[ir]+" "+mt.transparency[ir]+" ";yr.push({key:"Mask",value:"["+Cr+"]"})}mt.sMask!==void 0&&yr.push({key:"SMask",value:mt.objectId+1+" 0 R"});var nn=mt.filter!==void 0?["/"+mt.filter]:void 0;if(Ft({data:mt.data,additionalKeyValues:yr,alreadyAppliedFilters:nn,objectId:mt.objectId}),Ot("endobj"),"sMask"in mt&&mt.sMask!==void 0){var Gr,Ze=(Gr=mt.sMaskBitsPerComponent)!==null&&Gr!==void 0?Gr:mt.bitsPerComponent,Et={width:mt.width,height:mt.height,colorSpace:"DeviceGray",bitsPerComponent:Ze,data:mt.sMask};"filter"in mt&&(Et.decodeParameters="/Predictor ".concat(mt.predictor," /Colors 1 /BitsPerComponent ").concat(Ze," /Columns ").concat(mt.width),Et.filter=mt.filter),ct.call(this,Et)}if(mt.colorSpace===lt.INDEXED){var Tt=this.internal.newObject();Ft({data:nr(new Uint8Array(mt.palette)),objectId:Tt}),Ot("endobj")}},Ie=function(){var ct=this.internal.collections[B+"images"];for(var mt in ct)de.call(this,ct[mt])},be=function(){var ct,mt=this.internal.collections[B+"images"],Ot=this.internal.write;for(var Ft in mt)Ot("/I"+(ct=mt[Ft]).index,ct.objectId,"0","R")},Ce=function(){this.internal.collections[B+"images"]||(this.internal.collections[B+"images"]={},this.internal.events.subscribe("putResources",Ie),this.internal.events.subscribe("putXobjectDict",be))},Re=function(){var ct=this.internal.collections[B+"images"];return Ce.call(this),ct},ze=function(){return Object.keys(this.internal.collections[B+"images"]).length},nt=function(ct){return typeof k["process"+ct.toUpperCase()]=="function"},ut=function(ct){return(0,u.default)(ct)==="object"&&ct.nodeType===1},Oe=function(ct,mt){if(ct.nodeName==="IMG"&&ct.hasAttribute("src")){var Ot=""+ct.getAttribute("src");if(Ot.indexOf("data:image/")===0)return E(unescape(Ot).split("base64,").pop());var Ft=k.loadFile(Ot,!0);if(Ft!==void 0)return Ft}if(ct.nodeName==="CANVAS"){if(ct.width===0||ct.height===0)throw new Error("Given canvas must have data. Canvas width: "+ct.width+", height: "+ct.height);var mr;switch(mt){case"PNG":mr="image/png";break;case"WEBP":mr="image/webp";break;default:mr="image/jpeg"}return E(ct.toDataURL(mr,1).split("base64,").pop())}},Nt=function(ct){var mt=this.internal.collections[B+"images"];if(mt){for(var Ot in mt)if(ct===mt[Ot].alias)return mt[Ot]}},jt=function(ct,mt,Ot){return ct||mt||(ct=-96,mt=-96),ct<0&&(ct=-1*Ot.width*72/ct/this.internal.scaleFactor),mt<0&&(mt=-1*Ot.height*72/mt/this.internal.scaleFactor),ct===0&&(ct=mt*Ot.width/Ot.height),mt===0&&(mt=ct*Ot.height/Ot.width),[ct,mt]},Bt=function(ct,mt,Ot,Ft,mr,yr){var Cr=jt.call(this,Ot,Ft,mr),ir=this.internal.getCoordinateString,br=this.internal.getVerticalCoordinateString,nn=Re.call(this);if(Ot=Cr[0],Ft=Cr[1],nn[mr.index]=mr,yr){yr*=Math.PI/180;var Gr=Math.cos(yr),Ze=Math.sin(yr),Et=function(Yt){return Yt.toFixed(4)},Tt=[Et(Gr),Et(Ze),Et(-1*Ze),Et(Gr),0,0,"cm"]}this.internal.write("q"),yr?(this.internal.write([1,"0","0",1,ir(ct),br(mt+Ft),"cm"].join(" ")),this.internal.write(Tt.join(" ")),this.internal.write([ir(Ot),"0","0",ir(Ft),"0","0","cm"].join(" "))):this.internal.write([ir(Ot),"0","0",ir(Ft),ir(ct),br(mt+Ft),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+mr.index+" Do"),this.internal.write("Q")},lt=k.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};k.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var Mt=k.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},tr=k.__addimage__.sHashCode=function(ct){var mt,Ot,Ft=0;if(typeof ct=="string")for(Ot=ct.length,mt=0;mt<Ot;mt++)Ft=(Ft<<5)-Ft+ct.charCodeAt(mt),Ft|=0;else if(qt(ct))for(Ot=ct.byteLength/2,mt=0;mt<Ot;mt++)Ft=(Ft<<5)-Ft+ct[mt],Ft|=0;return Ft},kt=k.__addimage__.validateStringAsBase64=function(ct){(ct=ct||"").toString().trim();var mt=!0;return ct.length===0&&(mt=!1),ct.length%4!=0&&(mt=!1),/^[A-Za-z0-9+/]+$/.test(ct.substr(0,ct.length-2))===!1&&(mt=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(ct.substr(-2))===!1&&(mt=!1),mt},at=k.__addimage__.extractImageFromDataUrl=function(ct){if(ct==null||!(ct=ct.trim()).startsWith("data:"))return null;var mt=ct.indexOf(",");return mt<0?null:ct.substring(0,mt).trim().endsWith("base64")?ct.substring(mt+1):null};k.__addimage__.isArrayBuffer=function(ct){return ct instanceof ArrayBuffer};var qt=k.__addimage__.isArrayBufferView=function(ct){return ct instanceof Int8Array||ct instanceof Uint8Array||ct instanceof Uint8ClampedArray||ct instanceof Int16Array||ct instanceof Uint16Array||ct instanceof Int32Array||ct instanceof Uint32Array||ct instanceof Float32Array||ct instanceof Float64Array},pr=k.__addimage__.binaryStringToUint8Array=function(ct){for(var mt=ct.length,Ot=new Uint8Array(mt),Ft=0;Ft<mt;Ft++)Ot[Ft]=ct.charCodeAt(Ft);return Ot},nr=k.__addimage__.arrayBufferToBinaryString=function(ct){for(var mt="",Ot=qt(ct)?ct:new Uint8Array(ct),Ft=0;Ft<Ot.length;Ft+=8192)mt+=String.fromCharCode.apply(null,Ot.subarray(Ft,Ft+8192));return mt};k.addImage=function(){var ct,mt,Ot,Ft,mr,yr,Cr,ir,br;if(typeof arguments[1]=="number"?(mt=P,Ot=arguments[1],Ft=arguments[2],mr=arguments[3],yr=arguments[4],Cr=arguments[5],ir=arguments[6],br=arguments[7]):(mt=arguments[1],Ot=arguments[2],Ft=arguments[3],mr=arguments[4],yr=arguments[5],Cr=arguments[6],ir=arguments[7],br=arguments[8]),(0,u.default)(ct=arguments[0])==="object"&&!ut(ct)&&"imageData"in ct){var nn=ct;ct=nn.imageData,mt=nn.format||mt||P,Ot=nn.x||Ot||0,Ft=nn.y||Ft||0,mr=nn.w||nn.width||mr,yr=nn.h||nn.height||yr,Cr=nn.alias||Cr,ir=nn.compression||ir,br=nn.rotation||nn.angle||br}var Gr=this.internal.getFilters();if(ir===void 0&&Gr.indexOf("FlateEncode")!==-1&&(ir="SLOW"),isNaN(Ot)||isNaN(Ft))throw new Error("Invalid coordinates passed to jsPDF.addImage");Ce.call(this);var Ze=Pt.call(this,ct,mt,Cr,ir);return Bt.call(this,Ot,Ft,mr,yr,Ze,br),this};var Pt=function(ct,mt,Ot,Ft){var mr,yr,Cr;if(typeof ct=="string"&&se(ct)===P){ct=unescape(ct);var ir=Ar(ct,!1);(ir!==""||(ir=k.loadFile(ct,!0))!==void 0)&&(ct=ir)}if(ut(ct)&&(ct=Oe(ct,mt)),mt=se(ct,mt),!nt(mt))throw new Error("addImage does not support files of type '"+mt+"', please ensure that a plugin for '"+mt+"' support is added.");if(((Cr=Ot)==null||Cr.length===0)&&(Ot=(function(br){return typeof br=="string"||qt(br)?tr(br):qt(br.data)?tr(br.data):null})(ct)),(mr=Nt.call(this,Ot))||(ct instanceof Uint8Array||mt==="RGBA"||(yr=ct,ct=pr(ct)),mr=this["process"+mt.toUpperCase()](ct,ze.call(this),Ot,(function(br){return br&&typeof br=="string"&&(br=br.toUpperCase()),br in k.image_compression?br:Mt.NONE})(Ft),yr)),!mr)throw new Error("An unknown error occurred whilst processing the image.");return mr},Ar=k.__addimage__.convertBase64ToBinaryString=function(ct,mt){mt=typeof mt!="boolean"||mt;var Ot,Ft="";if(typeof ct=="string"){var mr;Ot=(mr=at(ct))!==null&&mr!==void 0?mr:ct;try{Ft=E(Ot)}catch(yr){if(mt)throw kt(Ot)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+yr.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Ft};k.getImageProperties=function(ct){var mt,Ot,Ft="";if(ut(ct)&&(ct=Oe(ct)),typeof ct=="string"&&se(ct)===P&&((Ft=Ar(ct,!1))===""&&(Ft=k.loadFile(ct)||""),ct=Ft),Ot=se(ct),!nt(Ot))throw new Error("addImage does not support files of type '"+Ot+"', please ensure that a plugin for '"+Ot+"' support is added.");if(ct instanceof Uint8Array||(ct=pr(ct)),!(mt=this["process"+Ot.toUpperCase()](ct)))throw new Error("An unknown error occurred whilst processing the image");return mt.fileType=Ot,mt}})(Ae.API),(function(k){var B=function(P){if(P!==void 0&&P!="")return!0};Ae.API.events.push(["addPage",function(P){this.internal.getPageInfo(P.pageNumber).pageContext.annotations=[]}]),k.events.push(["putPage",function(P){for(var K,se,de,Ie=this.internal.getCoordinateString,be=this.internal.getVerticalCoordinateString,Ce=this.internal.getPageInfoByObjId(P.objId),Re=P.pageContext.annotations,ze=!1,nt=0;nt<Re.length&&!ze;nt++)switch((K=Re[nt]).type){case"link":(B(K.options.url)||B(K.options.pageNumber))&&(ze=!0);break;case"reference":case"text":case"freetext":ze=!0}if(ze!=0){this.internal.write("/Annots [");for(var ut=0;ut<Re.length;ut++){K=Re[ut];var Oe=this.internal.pdfEscape,Nt=this.internal.getEncryptor(P.objId);switch(K.type){case"reference":this.internal.write(" "+K.object.objId+" 0 R ");break;case"text":var jt=this.internal.newAdditionalObject(),Bt=this.internal.newAdditionalObject(),lt=this.internal.getEncryptor(jt.objId),Mt=K.title||"Note";de="<</Type /Annot /Subtype /Text "+(se="/Rect ["+Ie(K.bounds.x)+" "+be(K.bounds.y+K.bounds.h)+" "+Ie(K.bounds.x+K.bounds.w)+" "+be(K.bounds.y)+"] ")+"/Contents ("+Oe(lt(K.contents))+")",de+=" /Popup "+Bt.objId+" 0 R",de+=" /P "+Ce.objId+" 0 R",de+=" /T ("+Oe(lt(Mt))+") >>",jt.content=de;var tr=jt.objId+" 0 R";de="<</Type /Annot /Subtype /Popup "+(se="/Rect ["+Ie(K.bounds.x+30)+" "+be(K.bounds.y+K.bounds.h)+" "+Ie(K.bounds.x+K.bounds.w+30)+" "+be(K.bounds.y)+"] ")+" /Parent "+tr,K.open&&(de+=" /Open true"),de+=" >>",Bt.content=de,this.internal.write(jt.objId,"0 R",Bt.objId,"0 R");break;case"freetext":se="/Rect ["+Ie(K.bounds.x)+" "+be(K.bounds.y)+" "+Ie(K.bounds.x+K.bounds.w)+" "+be(K.bounds.y+K.bounds.h)+"] ";var kt=K.color||"#000000";de="<</Type /Annot /Subtype /FreeText "+se+"/Contents ("+Oe(Nt(K.contents))+")",de+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+kt+")",de+=" /Border [0 0 0]",de+=" >>",this.internal.write(de);break;case"link":if(K.options.name){var at=this.annotations._nameMap[K.options.name];K.options.pageNumber=at.page,K.options.top=at.y}else K.options.top||(K.options.top=0);if(se="/Rect ["+K.finalBounds.x+" "+K.finalBounds.y+" "+K.finalBounds.w+" "+K.finalBounds.h+"] ",de="",K.options.url)de="<</Type /Annot /Subtype /Link "+se+"/Border [0 0 0] /A <</S /URI /URI ("+Oe(Nt(K.options.url))+") >>";else if(K.options.pageNumber)switch(de="<</Type /Annot /Subtype /Link "+se+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(K.options.pageNumber).objId+" 0 R",K.options.magFactor=K.options.magFactor||"XYZ",K.options.magFactor){case"Fit":de+=" /Fit]";break;case"FitH":de+=" /FitH "+K.options.top+"]";break;case"FitV":K.options.left=K.options.left||0,de+=" /FitV "+K.options.left+"]";break;default:var qt=be(K.options.top);K.options.left=K.options.left||0,K.options.zoom===void 0&&(K.options.zoom=0),de+=" /XYZ "+K.options.left+" "+qt+" "+K.options.zoom+"]"}de!=""&&(de+=" >>",this.internal.write(de))}}this.internal.write("]")}}]),k.createAnnotation=function(P){var K=this.internal.getCurrentPageInfo();switch(P.type){case"link":this.link(P.bounds.x,P.bounds.y,P.bounds.w,P.bounds.h,P);break;case"text":case"freetext":K.pageContext.annotations.push(P)}},k.link=function(P,K,se,de,Ie){var be=this.internal.getCurrentPageInfo(),Ce=this.internal.getCoordinateString,Re=this.internal.getVerticalCoordinateString;be.pageContext.annotations.push({finalBounds:{x:Ce(P),y:Re(K),w:Ce(P+se),h:Re(K+de)},options:Ie,type:"link"})},k.textWithLink=function(P,K,se,de){var Ie,be,Ce=this.getTextWidth(P),Re=this.internal.getLineHeight()/this.internal.scaleFactor;if(de.maxWidth!==void 0){be=de.maxWidth;var ze=this.splitTextToSize(P,be).length;Ie=Math.ceil(Re*ze)}else be=Ce,Ie=Re;return this.text(P,K,se,de),se+=.2*Re,de.align==="center"&&(K-=Ce/2),de.align==="right"&&(K-=Ce),this.link(K,se-Re,be,Ie,de),Ce},k.getTextWidth=function(P){var K=this.internal.getFontSize();return this.getStringUnitWidth(P)*K/this.internal.scaleFactor}})(Ae.API),(function(k){var B={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},P={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},K={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},se=[1570,1571,1573,1575];k.__arabicParser__={};var de=k.__arabicParser__.isInArabicSubstitutionA=function(jt){return B[jt.charCodeAt(0)]!==void 0},Ie=k.__arabicParser__.isArabicLetter=function(jt){return typeof jt=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(jt)},be=k.__arabicParser__.isArabicEndLetter=function(jt){return Ie(jt)&&de(jt)&&B[jt.charCodeAt(0)].length<=2},Ce=k.__arabicParser__.isArabicAlfLetter=function(jt){return Ie(jt)&&se.indexOf(jt.charCodeAt(0))>=0};k.__arabicParser__.arabicLetterHasIsolatedForm=function(jt){return Ie(jt)&&de(jt)&&B[jt.charCodeAt(0)].length>=1};var Re=k.__arabicParser__.arabicLetterHasFinalForm=function(jt){return Ie(jt)&&de(jt)&&B[jt.charCodeAt(0)].length>=2};k.__arabicParser__.arabicLetterHasInitialForm=function(jt){return Ie(jt)&&de(jt)&&B[jt.charCodeAt(0)].length>=3};var ze=k.__arabicParser__.arabicLetterHasMedialForm=function(jt){return Ie(jt)&&de(jt)&&B[jt.charCodeAt(0)].length==4},nt=k.__arabicParser__.resolveLigatures=function(jt){var Bt=0,lt=P,Mt="",tr=0;for(Bt=0;Bt<jt.length;Bt+=1)lt[jt.charCodeAt(Bt)]!==void 0?(tr++,typeof(lt=lt[jt.charCodeAt(Bt)])=="number"&&(Mt+=String.fromCharCode(lt),lt=P,tr=0),Bt===jt.length-1&&(lt=P,Mt+=jt.charAt(Bt-(tr-1)),Bt-=tr-1,tr=0)):(lt=P,Mt+=jt.charAt(Bt-tr),Bt-=tr,tr=0);return Mt};k.__arabicParser__.isArabicDiacritic=function(jt){return jt!==void 0&&K[jt.charCodeAt(0)]!==void 0};var ut=k.__arabicParser__.getCorrectForm=function(jt,Bt,lt){return Ie(jt)?de(jt)===!1?-1:!Re(jt)||!Ie(Bt)&&!Ie(lt)||!Ie(lt)&&be(Bt)||be(jt)&&!Ie(Bt)||be(jt)&&Ce(Bt)||be(jt)&&be(Bt)?0:ze(jt)&&Ie(Bt)&&!be(Bt)&&Ie(lt)&&Re(lt)?3:be(jt)||!Ie(lt)?1:2:-1},Oe=function(jt){var Bt=0,lt=0,Mt=0,tr="",kt="",at="",qt=(jt=jt||"").split("\\s+"),pr=[];for(Bt=0;Bt<qt.length;Bt+=1){for(pr.push(""),lt=0;lt<qt[Bt].length;lt+=1)tr=qt[Bt][lt],kt=qt[Bt][lt-1],at=qt[Bt][lt+1],Ie(tr)?(Mt=ut(tr,kt,at),pr[Bt]+=Mt!==-1?String.fromCharCode(B[tr.charCodeAt(0)][Mt]):tr):pr[Bt]+=tr;pr[Bt]=nt(pr[Bt])}return pr.join(" ")},Nt=k.__arabicParser__.processArabic=k.processArabic=function(){var jt,Bt=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,lt=[];if(Array.isArray(Bt)){var Mt=0;for(lt=[],Mt=0;Mt<Bt.length;Mt+=1)Array.isArray(Bt[Mt])?lt.push([Oe(Bt[Mt][0]),Bt[Mt][1],Bt[Mt][2]]):lt.push([Oe(Bt[Mt])]);jt=lt}else jt=Oe(Bt);return typeof arguments[0]=="string"?jt:(arguments[0].text=jt,arguments[0])};k.events.push(["preProcessText",Nt])})(Ae.API),Ae.API.autoPrint=function(k){var B;return(k=k||{}).variant=k.variant||"non-conform",k.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){B=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+B+" 0 R")})),this},(function(k){var B=function(){var P=void 0;Object.defineProperty(this,"pdf",{get:function(){return P},set:function(be){P=be}});var K=150;Object.defineProperty(this,"width",{get:function(){return K},set:function(be){K=isNaN(be)||Number.isInteger(be)===!1||be<0?150:be,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=K+1)}});var se=300;Object.defineProperty(this,"height",{get:function(){return se},set:function(be){se=isNaN(be)||Number.isInteger(be)===!1||be<0?300:be,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=se+1)}});var de=[];Object.defineProperty(this,"childNodes",{get:function(){return de},set:function(be){de=be}});var Ie={};Object.defineProperty(this,"style",{get:function(){return Ie},set:function(be){Ie=be}}),Object.defineProperty(this,"parentNode",{})};B.prototype.getContext=function(P,K){var se;if((P=P||"2d")!=="2d")return null;for(se in K)this.pdf.context2d.hasOwnProperty(se)&&(this.pdf.context2d[se]=K[se]);return this.pdf.context2d._canvas=this,this.pdf.context2d},B.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},k.events.push(["initialized",function(){this.canvas=new B,this.canvas.pdf=this}])})(Ae.API),(function(k){var B={left:0,top:0,bottom:0,right:0},P=!1,K=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},B),this.internal.__cell__.margins.width=this.getPageWidth(),se.call(this))},se=function(){this.internal.__cell__.lastCell=new de,this.internal.__cell__.pages=1},de=function(){var Ce=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ce},set:function(jt){Ce=jt}});var Re=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Re},set:function(jt){Re=jt}});var ze=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return ze},set:function(jt){ze=jt}});var nt=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return nt},set:function(jt){nt=jt}});var ut=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return ut},set:function(jt){ut=jt}});var Oe=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return Oe},set:function(jt){Oe=jt}});var Nt=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return Nt},set:function(jt){Nt=jt}}),this};de.prototype.clone=function(){return new de(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},de.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},k.setHeaderFunction=function(Ce){return K.call(this),this.internal.__cell__.headerFunction=typeof Ce=="function"?Ce:void 0,this},k.getTextDimensions=function(Ce,Re){K.call(this);var ze=(Re=Re||{}).fontSize||this.getFontSize(),nt=Re.font||this.getFont(),ut=Re.scaleFactor||this.internal.scaleFactor,Oe=0,Nt=0,jt=0,Bt=this;if(!Array.isArray(Ce)&&typeof Ce!="string"){if(typeof Ce!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");Ce=String(Ce)}var lt=Re.maxWidth;lt>0?typeof Ce=="string"?Ce=this.splitTextToSize(Ce,lt):Object.prototype.toString.call(Ce)==="[object Array]"&&(Ce=Ce.reduce(function(tr,kt){return tr.concat(Bt.splitTextToSize(kt,lt))},[])):Ce=Array.isArray(Ce)?Ce:[Ce];for(var Mt=0;Mt<Ce.length;Mt++)Oe<(jt=this.getStringUnitWidth(Ce[Mt],{font:nt})*ze)&&(Oe=jt);return Oe!==0&&(Nt=Ce.length),{w:Oe/=ut,h:Math.max((Nt*ze*this.getLineHeightFactor()-ze*(this.getLineHeightFactor()-1))/ut,0)}},k.cellAddPage=function(){K.call(this),this.addPage();var Ce=this.internal.__cell__.margins||B;return this.internal.__cell__.lastCell=new de(Ce.left,Ce.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var Ie=k.cell=function(){var Ce;Ce=arguments[0]instanceof de?arguments[0]:new de(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),K.call(this);var Re=this.internal.__cell__.lastCell,ze=this.internal.__cell__.padding,nt=this.internal.__cell__.margins||B,ut=this.internal.__cell__.tableHeaderRow,Oe=this.internal.__cell__.printHeaders;return Re.lineNumber!==void 0&&(Re.lineNumber===Ce.lineNumber?(Ce.x=(Re.x||0)+(Re.width||0),Ce.y=Re.y||0):Re.y+Re.height+Ce.height+nt.bottom>this.getPageHeight()?(this.cellAddPage(),Ce.y=nt.top,Oe&&ut&&(this.printHeaderRow(Ce.lineNumber,!0),Ce.y+=ut[0].height)):Ce.y=Re.y+Re.height||Ce.y),Ce.text[0]!==void 0&&(this.rect(Ce.x,Ce.y,Ce.width,Ce.height,P===!0?"FD":void 0),Ce.align==="right"?this.text(Ce.text,Ce.x+Ce.width-ze,Ce.y+ze,{align:"right",baseline:"top"}):Ce.align==="center"?this.text(Ce.text,Ce.x+Ce.width/2,Ce.y+ze,{align:"center",baseline:"top",maxWidth:Ce.width-ze-ze}):this.text(Ce.text,Ce.x+ze,Ce.y+ze,{align:"left",baseline:"top",maxWidth:Ce.width-ze-ze})),this.internal.__cell__.lastCell=Ce,this};k.table=function(Ce,Re,ze,nt,ut){if(K.call(this),!ze)throw new Error("No data for PDF table.");var Oe,Nt,jt,Bt,lt=[],Mt=[],tr=[],kt={},at={},qt=[],pr=[],nr=(ut=ut||{}).autoSize||!1,Pt=ut.printHeaders!==!1,Ar=ut.css&&ut.css["font-size"]!==void 0?16*ut.css["font-size"]:ut.fontSize||12,ct=ut.margins||Object.assign({width:this.getPageWidth()},B),mt=typeof ut.padding=="number"?ut.padding:3,Ot=ut.headerBackgroundColor||"#c8c8c8",Ft=ut.headerTextColor||"#000";if(se.call(this),this.internal.__cell__.printHeaders=Pt,this.internal.__cell__.margins=ct,this.internal.__cell__.table_font_size=Ar,this.internal.__cell__.padding=mt,this.internal.__cell__.headerBackgroundColor=Ot,this.internal.__cell__.headerTextColor=Ft,this.setFontSize(Ar),nt==null)Mt=lt=Object.keys(ze[0]),tr=lt.map(function(){return"left"});else if(Array.isArray(nt)&&(0,u.default)(nt[0])==="object")for(lt=nt.map(function(nn){return nn.name}),Mt=nt.map(function(nn){return nn.prompt||nn.name||""}),tr=nt.map(function(nn){return nn.align||"left"}),Oe=0;Oe<nt.length;Oe+=1)at[nt[Oe].name]=.7499990551181103*nt[Oe].width;else Array.isArray(nt)&&typeof nt[0]=="string"&&(Mt=lt=nt,tr=lt.map(function(){return"left"}));if(nr||Array.isArray(nt)&&typeof nt[0]=="string")for(Oe=0;Oe<lt.length;Oe+=1){for(kt[Bt=lt[Oe]]=ze.map(function(nn){return nn[Bt]}),this.setFont(void 0,"bold"),qt.push(this.getTextDimensions(Mt[Oe],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),Nt=kt[Bt],this.setFont(void 0,"normal"),jt=0;jt<Nt.length;jt+=1)qt.push(this.getTextDimensions(Nt[jt],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);at[Bt]=Math.max.apply(null,qt)+mt+mt,qt=[]}if(Pt){var mr={};for(Oe=0;Oe<lt.length;Oe+=1)mr[lt[Oe]]={},mr[lt[Oe]].text=Mt[Oe],mr[lt[Oe]].align=tr[Oe];var yr=be.call(this,mr,at);pr=lt.map(function(nn){return new de(Ce,Re,at[nn],yr,mr[nn].text,void 0,mr[nn].align)}),this.setTableHeaderRow(pr),this.printHeaderRow(1,!1)}var Cr=nt.reduce(function(nn,Gr){return nn[Gr.name]=Gr.align,nn},{});for(Oe=0;Oe<ze.length;Oe+=1){"rowStart"in ut&&ut.rowStart instanceof Function&&ut.rowStart({row:Oe,data:ze[Oe]},this);var ir=be.call(this,ze[Oe],at);for(jt=0;jt<lt.length;jt+=1){var br=ze[Oe][lt[jt]];"cellStart"in ut&&ut.cellStart instanceof Function&&ut.cellStart({row:Oe,col:jt,data:br},this),Ie.call(this,new de(Ce,Re,at[lt[jt]],ir,br,Oe+2,Cr[lt[jt]]))}}return this.internal.__cell__.table_x=Ce,this.internal.__cell__.table_y=Re,this};var be=function(Ce,Re){var ze=this.internal.__cell__.padding,nt=this.internal.__cell__.table_font_size,ut=this.internal.scaleFactor;return Object.keys(Ce).map(function(Oe){var Nt=Ce[Oe];return this.splitTextToSize(Nt.hasOwnProperty("text")?Nt.text:Nt,Re[Oe]-ze-ze)},this).map(function(Oe){return this.getLineHeightFactor()*Oe.length*nt/ut+ze+ze},this).reduce(function(Oe,Nt){return Math.max(Oe,Nt)},0)};k.setTableHeaderRow=function(Ce){K.call(this),this.internal.__cell__.tableHeaderRow=Ce},k.printHeaderRow=function(Ce,Re){if(K.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var ze;if(P=!0,typeof this.internal.__cell__.headerFunction=="function"){var nt=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new de(nt[0],nt[1],nt[2],nt[3],void 0,-1)}this.setFont(void 0,"bold");for(var ut=[],Oe=0;Oe<this.internal.__cell__.tableHeaderRow.length;Oe+=1){ze=this.internal.__cell__.tableHeaderRow[Oe].clone(),Re&&(ze.y=this.internal.__cell__.margins.top||0,ut.push(ze)),ze.lineNumber=Ce;var Nt=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),Ie.call(this,ze),this.setTextColor(Nt)}ut.length>0&&this.setTableHeaderRow(ut),this.setFont(void 0,"normal"),P=!1}})(Ae.API);var Pr={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Mr=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],tn=wt(Mr),Kr=[100,200,300,400,500,600,700,800,900],Ma=wt(Kr);function ys(k){var B=k.family.replace(/"|'/g,"").toLowerCase(),P=(function(de){return Pr[de=de||"normal"]?de:"normal"})(k.style),K=(function(de){return de?typeof de=="number"?de>=100&&de<=900&&de%100==0?de:400:/^\d00$/.test(de)?parseInt(de):de==="bold"?700:400:400})(k.weight),se=(function(de){return typeof tn[de=de||"normal"]=="number"?de:"normal"})(k.stretch);return{family:B,style:P,weight:K,stretch:se,src:k.src||[],ref:k.ref||{name:B,style:[se,P,K].join(" ")}}}function Va(k,B,P,K){var se;for(se=P;se>=0&&se<B.length;se+=K)if(k[B[se]])return k[B[se]];for(se=P;se>=0&&se<B.length;se-=K)if(k[B[se]])return k[B[se]]}var Ai={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Ca={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function ko(k){return[k.stretch,k.style,k.weight,k.family].join(" ")}function Qs(k){return k.trimLeft()}function qo(k,B){for(var P=0;P<k.length;){if(k.charAt(P)===B)return[k.substring(0,P),k.substring(P+1)];P+=1}return null}function yl(k){var B=k.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return B===null?null:[B[0],k.substring(B[0].length)]}var Xo,Is,jo,pa,rc,os,_o,Ji,Oo=["times"];function ol(k,B,P,K,se){var de=4,Ie=Ts;switch(se){case Ae.API.image_compression.FAST:de=1,Ie=zi;break;case Ae.API.image_compression.MEDIUM:de=6,Ie=ls;break;case Ae.API.image_compression.SLOW:de=9,Ie=jl}k=(function(Ce,Re,ze,nt){for(var ut,Oe=Ce.length/Re,Nt=new Uint8Array(Ce.length+Oe),jt=[Fo,zi,Ts,ls,jl],Bt=0;Bt<Oe;Bt+=1){var lt=Bt*Re,Mt=Ce.subarray(lt,lt+Re);if(nt)Nt.set(nt(Mt,ze,ut),lt+Bt);else{for(var tr=jt.length,kt=[],at=0;at<tr;at+=1)kt[at]=jt[at](Mt,ze,ut);var qt=$c(kt.concat());Nt.set(kt[qt],lt+Bt)}ut=Mt}return Nt})(k,B,Math.ceil(P*K/8),Ie);var be=(0,h.zlibSync)(k,{level:de});return Ae.API.__addimage__.arrayBufferToBinaryString(be)}function Fo(k){var B=Array.apply([],k);return B.unshift(0),B}function zi(k,B){var P=k.length,K=[];K[0]=1;for(var se=0;se<P;se+=1){var de=k[se-B]||0;K[se+1]=k[se]-de+256&255}return K}function Ts(k,B,P){var K=k.length,se=[];se[0]=2;for(var de=0;de<K;de+=1){var Ie=P&&P[de]||0;se[de+1]=k[de]-Ie+256&255}return se}function ls(k,B,P){var K=k.length,se=[];se[0]=3;for(var de=0;de<K;de+=1){var Ie=k[de-B]||0,be=P&&P[de]||0;se[de+1]=k[de]+256-(Ie+be>>>1)&255}return se}function jl(k,B,P){var K=k.length,se=[];se[0]=4;for(var de=0;de<K;de+=1){var Ie=Po(k[de-B]||0,P&&P[de]||0,P&&P[de-B]||0);se[de+1]=k[de]-Ie+256&255}return se}function Po(k,B,P){if(k===B&&B===P)return k;var K=Math.abs(B-P),se=Math.abs(k-P),de=Math.abs(k+B-P-P);return K<=se&&K<=de?k:se<=de?B:P}function $c(k){var B=k.map(function(P){return P.reduce(function(K,se){return K+Math.abs(se)},0)});return B.indexOf(Math.min.apply(null,B))}function pi(k,B,P){var K=B*P,se=Math.floor(K/8),de=16-(K-8*se+P),Ie=(1<<P)-1;return Gs(k,se)>>de&Ie}function Gn(k,B,P,K){var se=P*K,de=Math.floor(se/8),Ie=16-(se-8*de+K),be=(1<<K)-1,Ce=(B&be)<<Ie;(function(Re,ze,nt){if(ze+1<Re.byteLength)Re.setUint16(ze,nt,!1);else{var ut=nt>>8&255;Re.setUint8(ze,ut)}})(k,de,Gs(k,de)&~(be<<Ie)&65535|Ce)}function Gs(k,B){return B+1<k.byteLength?k.getUint16(B,!1):k.getUint8(B)<<8}function Ci(k){var B=0;if(k[B++]!==71||k[B++]!==73||k[B++]!==70||k[B++]!==56||(k[B++]+1&253)!=56||k[B++]!==97)throw new Error("Invalid GIF 87a/89a header.");var P=k[B++]|k[B++]<<8,K=k[B++]|k[B++]<<8,se=k[B++],de=se>>7,Ie=1<<1+(7&se);k[B++],k[B++];var be=null,Ce=null;de&&(be=B,Ce=Ie,B+=3*Ie);var Re=!0,ze=[],nt=0,ut=null,Oe=0,Nt=null;for(this.width=P,this.height=K;Re&&B<k.length;)switch(k[B++]){case 33:switch(k[B++]){case 255:if(k[B]!==11||k[B+1]==78&&k[B+2]==69&&k[B+3]==84&&k[B+4]==83&&k[B+5]==67&&k[B+6]==65&&k[B+7]==80&&k[B+8]==69&&k[B+9]==50&&k[B+10]==46&&k[B+11]==48&&k[B+12]==3&&k[B+13]==1&&k[B+16]==0)B+=14,Nt=k[B++]|k[B++]<<8,B++;else for(B+=12;;){if(!((ct=k[B++])>=0))throw Error("Invalid block size");if(ct===0)break;B+=ct}break;case 249:if(k[B++]!==4||k[B+4]!==0)throw new Error("Invalid graphics extension block.");var jt=k[B++];nt=k[B++]|k[B++]<<8,ut=k[B++],1&jt||(ut=null),Oe=jt>>2&7,B++;break;case 254:for(;;){if(!((ct=k[B++])>=0))throw Error("Invalid block size");if(ct===0)break;B+=ct}break;default:throw new Error("Unknown graphic control label: 0x"+k[B-1].toString(16))}break;case 44:var Bt=k[B++]|k[B++]<<8,lt=k[B++]|k[B++]<<8,Mt=k[B++]|k[B++]<<8,tr=k[B++]|k[B++]<<8,kt=k[B++],at=kt>>6&1,qt=1<<1+(7&kt),pr=be,nr=Ce,Pt=!1;kt>>7&&(Pt=!0,pr=B,nr=qt,B+=3*qt);var Ar=B;for(B++;;){var ct;if(!((ct=k[B++])>=0))throw Error("Invalid block size");if(ct===0)break;B+=ct}ze.push({x:Bt,y:lt,width:Mt,height:tr,has_local_palette:Pt,palette_offset:pr,palette_size:nr,data_offset:Ar,data_length:B-Ar,transparent_index:ut,interlaced:!!at,delay:nt,disposal:Oe});break;case 59:Re=!1;break;default:throw new Error("Unknown gif block: 0x"+k[B-1].toString(16))}this.numFrames=function(){return ze.length},this.loopCount=function(){return Nt},this.frameInfo=function(mt){if(mt<0||mt>=ze.length)throw new Error("Frame index out of range.");return ze[mt]},this.decodeAndBlitFrameBGRA=function(mt,Ot){var Ft=this.frameInfo(mt),mr=Ft.width*Ft.height,yr=new Uint8Array(mr);Ni(k,Ft.data_offset,yr,mr);var Cr=Ft.palette_offset,ir=Ft.transparent_index;ir===null&&(ir=256);var br=Ft.width,nn=P-br,Gr=br,Ze=4*(Ft.y*P+Ft.x),Et=4*((Ft.y+Ft.height)*P+Ft.x),Tt=Ze,Yt=4*nn;Ft.interlaced===!0&&(Yt+=4*P*7);for(var er=8,dr=0,jr=yr.length;dr<jr;++dr){var wr=yr[dr];if(Gr===0&&(Gr=br,(Tt+=Yt)>=Et&&(Yt=4*nn+4*P*(er-1),Tt=Ze+(br+nn)*(er<<1),er>>=1)),wr===ir)Tt+=4;else{var Rr=k[Cr+3*wr],an=k[Cr+3*wr+1],Sn=k[Cr+3*wr+2];Ot[Tt++]=Sn,Ot[Tt++]=an,Ot[Tt++]=Rr,Ot[Tt++]=255}--Gr}},this.decodeAndBlitFrameRGBA=function(mt,Ot){var Ft=this.frameInfo(mt),mr=Ft.width*Ft.height,yr=new Uint8Array(mr);Ni(k,Ft.data_offset,yr,mr);var Cr=Ft.palette_offset,ir=Ft.transparent_index;ir===null&&(ir=256);var br=Ft.width,nn=P-br,Gr=br,Ze=4*(Ft.y*P+Ft.x),Et=4*((Ft.y+Ft.height)*P+Ft.x),Tt=Ze,Yt=4*nn;Ft.interlaced===!0&&(Yt+=4*P*7);for(var er=8,dr=0,jr=yr.length;dr<jr;++dr){var wr=yr[dr];if(Gr===0&&(Gr=br,(Tt+=Yt)>=Et&&(Yt=4*nn+4*P*(er-1),Tt=Ze+(br+nn)*(er<<1),er>>=1)),wr===ir)Tt+=4;else{var Rr=k[Cr+3*wr],an=k[Cr+3*wr+1],Sn=k[Cr+3*wr+2];Ot[Tt++]=Rr,Ot[Tt++]=an,Ot[Tt++]=Sn,Ot[Tt++]=255}--Gr}}}function Ni(k,B,P,K){for(var se=k[B++],de=1<<se,Ie=de+1,be=Ie+1,Ce=se+1,Re=(1<<Ce)-1,ze=0,nt=0,ut=0,Oe=k[B++],Nt=new Int32Array(4096),jt=null;;){for(;ze<16&&Oe!==0;)nt|=k[B++]<<ze,ze+=8,Oe===1?Oe=k[B++]:--Oe;if(ze<Ce)break;var Bt=nt&Re;if(nt>>=Ce,ze-=Ce,Bt!==de){if(Bt===Ie)break;for(var lt=Bt<be?Bt:jt,Mt=0,tr=lt;tr>de;)tr=Nt[tr]>>8,++Mt;var kt=tr;if(ut+Mt+(lt!==Bt?1:0)>K)return void x.log("Warning, gif stream longer than expected.");P[ut++]=kt;var at=ut+=Mt;for(lt!==Bt&&(P[ut++]=kt),tr=lt;Mt--;)tr=Nt[tr],P[--at]=255&tr,tr>>=8;jt!==null&&be<4096&&(Nt[be++]=jt<<8|kt,be>=Re+1&&Ce<12&&(++Ce,Re=Re<<1|1)),jt=Bt}else be=Ie+1,Re=(1<<(Ce=se+1))-1,jt=null}return ut!==K&&x.log("Warning, gif stream shorter than expected."),P}/**
		 * @license
		  Copyright (c) 2008, Adobe Systems Incorporated
		  All rights reserved.

		  Redistribution and use in source and binary forms, with or without 
		  modification, are permitted provided that the following conditions are
		  met:

		  * Redistributions of source code must retain the above copyright notice, 
		    this list of conditions and the following disclaimer.
		  
		  * Redistributions in binary form must reproduce the above copyright
		    notice, this list of conditions and the following disclaimer in the 
		    documentation and/or other materials provided with the distribution.
		  
		  * Neither the name of Adobe Systems Incorporated nor the names of its 
		    contributors may be used to endorse or promote products derived from 
		    this software without specific prior written permission.

		  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
		  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
		  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
		  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
		  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
		  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
		  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
		  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
		  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
		  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
		  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
		*/function Do(k){var B,P,K,se,de,Ie=Math.floor,be=new Array(64),Ce=new Array(64),Re=new Array(64),ze=new Array(64),nt=new Array(65535),ut=new Array(65535),Oe=new Array(64),Nt=new Array(64),jt=[],Bt=0,lt=7,Mt=new Array(64),tr=new Array(64),kt=new Array(64),at=new Array(256),qt=new Array(2048),pr=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],nr=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Pt=[0,1,2,3,4,5,6,7,8,9,10,11],Ar=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],ct=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],mt=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Ot=[0,1,2,3,4,5,6,7,8,9,10,11],Ft=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],mr=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function yr(Ze,Et){for(var Tt=0,Yt=0,er=new Array,dr=1;dr<=16;dr++){for(var jr=1;jr<=Ze[dr];jr++)er[Et[Yt]]=[],er[Et[Yt]][0]=Tt,er[Et[Yt]][1]=dr,Yt++,Tt++;Tt*=2}return er}function Cr(Ze){for(var Et=Ze[0],Tt=Ze[1]-1;Tt>=0;)Et&1<<Tt&&(Bt|=1<<lt),Tt--,--lt<0&&(Bt==255?(ir(255),ir(0)):ir(Bt),lt=7,Bt=0)}function ir(Ze){jt.push(Ze)}function br(Ze){ir(Ze>>8&255),ir(255&Ze)}function nn(Ze,Et,Tt,Yt,er){for(var dr,jr=er[0],wr=er[240],Rr=(function(qr,la){var Mn,Zn,Rn,js,za,Pn,us,ca,_n,fa,On=0;for(_n=0;_n<8;++_n){Mn=qr[On],Zn=qr[On+1],Rn=qr[On+2],js=qr[On+3],za=qr[On+4],Pn=qr[On+5],us=qr[On+6];var Na=Mn+(ca=qr[On+7]),As=Mn-ca,Ya=Zn+us,Ja=Zn-us,ii=Rn+Pn,zn=Rn-Pn,Os=js+za,ya=js-za,Vn=Na+Os,Fs=Na-Os,Sa=Ya+ii,In=Ya-ii;qr[On]=Vn+Sa,qr[On+4]=Vn-Sa;var rs=.707106781*(In+Fs);qr[On+2]=Fs+rs,qr[On+6]=Fs-rs;var sd=.382683433*((Vn=ya+zn)-(In=Ja+As)),Ki=.5411961*Vn+sd,wo=1.306562965*In+sd,Bc=.707106781*(Sa=zn+Ja),ma=As+Bc,Ei=As-Bc;qr[On+5]=Ei+Ki,qr[On+3]=Ei-Ki,qr[On+1]=ma+wo,qr[On+7]=ma-wo,On+=8}for(On=0,_n=0;_n<8;++_n){Mn=qr[On],Zn=qr[On+8],Rn=qr[On+16],js=qr[On+24],za=qr[On+32],Pn=qr[On+40],us=qr[On+48];var Co=Mn+(ca=qr[On+56]),Ol=Mn-ca,Li=Zn+us,Ls=Zn-us,Oi=Rn+Pn,ho=Rn-Pn,id=js+za,eo=js-za,ll=Co+id,Ic=Co-id,nc=Li+Oi,to=Li-Oi;qr[On]=ll+nc,qr[On+32]=ll-nc;var cl=.707106781*(to+Ic);qr[On+16]=Ic+cl,qr[On+48]=Ic-cl;var Fl=.382683433*((ll=eo+ho)-(to=Ls+Ol)),Yo=.5411961*ll+Fl,Lo=1.306562965*to+Fl,ac=.707106781*(nc=ho+Ls),Pl=Ol+ac,Tc=Ol-ac;qr[On+40]=Tc+Yo,qr[On+24]=Tc-Yo,qr[On+8]=Pl+Lo,qr[On+56]=Pl-Lo,On++}for(_n=0;_n<64;++_n)fa=qr[_n]*la[_n],Oe[_n]=fa>0?fa+.5|0:fa-.5|0;return Oe})(Ze,Et),an=0;an<64;++an)Nt[pr[an]]=Rr[an];var Sn=Nt[0]-Tt;Tt=Nt[0],Sn==0?Cr(Yt[0]):(Cr(Yt[ut[dr=32767+Sn]]),Cr(nt[dr]));for(var Bn=63;Bn>0&&Nt[Bn]==0;)Bn--;if(Bn==0)return Cr(jr),Tt;for(var ua,pt=1;pt<=Bn;){for(var mn=pt;Nt[pt]==0&&pt<=Bn;)++pt;var xa=pt-mn;if(xa>=16){ua=xa>>4;for(var pn=1;pn<=ua;++pn)Cr(wr);xa&=15}dr=32767+Nt[pt],Cr(er[(xa<<4)+ut[dr]]),Cr(nt[dr]),pt++}return Bn!=63&&Cr(jr),Tt}function Gr(Ze){Ze=Math.min(Math.max(Ze,1),100),de!=Ze&&((function(Et){for(var Tt=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Yt=0;Yt<64;Yt++){var er=Ie((Tt[Yt]*Et+50)/100);er=Math.min(Math.max(er,1),255),be[pr[Yt]]=er}for(var dr=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],jr=0;jr<64;jr++){var wr=Ie((dr[jr]*Et+50)/100);wr=Math.min(Math.max(wr,1),255),Ce[pr[jr]]=wr}for(var Rr=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],an=0,Sn=0;Sn<8;Sn++)for(var Bn=0;Bn<8;Bn++)Re[an]=1/(be[pr[an]]*Rr[Sn]*Rr[Bn]*8),ze[an]=1/(Ce[pr[an]]*Rr[Sn]*Rr[Bn]*8),an++})(Ze<50?Math.floor(5e3/Ze):Math.floor(200-2*Ze)),de=Ze)}this.encode=function(Ze,Et){Et&&Gr(Et),jt=new Array,Bt=0,lt=7,br(65496),br(65504),br(16),ir(74),ir(70),ir(73),ir(70),ir(0),ir(1),ir(1),ir(0),br(1),br(1),ir(0),ir(0),(function(){br(65499),br(132),ir(0);for(var Zn=0;Zn<64;Zn++)ir(be[Zn]);ir(1);for(var Rn=0;Rn<64;Rn++)ir(Ce[Rn])})(),(function(Zn,Rn){br(65472),br(17),ir(8),br(Rn),br(Zn),ir(3),ir(1),ir(17),ir(0),ir(2),ir(17),ir(1),ir(3),ir(17),ir(1)})(Ze.width,Ze.height),(function(){br(65476),br(418),ir(0);for(var Zn=0;Zn<16;Zn++)ir(nr[Zn+1]);for(var Rn=0;Rn<=11;Rn++)ir(Pt[Rn]);ir(16);for(var js=0;js<16;js++)ir(Ar[js+1]);for(var za=0;za<=161;za++)ir(ct[za]);ir(1);for(var Pn=0;Pn<16;Pn++)ir(mt[Pn+1]);for(var us=0;us<=11;us++)ir(Ot[us]);ir(17);for(var ca=0;ca<16;ca++)ir(Ft[ca+1]);for(var _n=0;_n<=161;_n++)ir(mr[_n])})(),br(65498),br(12),ir(3),ir(1),ir(0),ir(2),ir(17),ir(3),ir(17),ir(0),ir(63),ir(0);var Tt=0,Yt=0,er=0;Bt=0,lt=7,this.encode.displayName="_encode_";for(var dr,jr,wr,Rr,an,Sn,Bn,ua,pt,mn=Ze.data,xa=Ze.width,pn=Ze.height,qr=4*xa,la=0;la<pn;){for(dr=0;dr<qr;){for(an=qr*la+dr,Bn=-1,ua=0,pt=0;pt<64;pt++)Sn=an+(ua=pt>>3)*qr+(Bn=4*(7&pt)),la+ua>=pn&&(Sn-=qr*(la+1+ua-pn)),dr+Bn>=qr&&(Sn-=dr+Bn-qr+4),jr=mn[Sn++],wr=mn[Sn++],Rr=mn[Sn++],Mt[pt]=(qt[jr]+qt[wr+256|0]+qt[Rr+512|0]>>16)-128,tr[pt]=(qt[jr+768|0]+qt[wr+1024|0]+qt[Rr+1280|0]>>16)-128,kt[pt]=(qt[jr+1280|0]+qt[wr+1536|0]+qt[Rr+1792|0]>>16)-128;Tt=nn(Mt,Re,Tt,B,K),Yt=nn(tr,ze,Yt,P,se),er=nn(kt,ze,er,P,se),dr+=32}la+=8}if(lt>=0){var Mn=[];Mn[1]=lt+1,Mn[0]=(1<<lt+1)-1,Cr(Mn)}return br(65497),new Uint8Array(jt)},k=k||50,(function(){for(var Ze=String.fromCharCode,Et=0;Et<256;Et++)at[Et]=Ze(Et)})(),B=yr(nr,Pt),P=yr(mt,Ot),K=yr(Ar,ct),se=yr(Ft,mr),(function(){for(var Ze=1,Et=2,Tt=1;Tt<=15;Tt++){for(var Yt=Ze;Yt<Et;Yt++)ut[32767+Yt]=Tt,nt[32767+Yt]=[],nt[32767+Yt][1]=Tt,nt[32767+Yt][0]=Yt;for(var er=-(Et-1);er<=-Ze;er++)ut[32767+er]=Tt,nt[32767+er]=[],nt[32767+er][1]=Tt,nt[32767+er][0]=Et-1+er;Ze<<=1,Et<<=1}})(),(function(){for(var Ze=0;Ze<256;Ze++)qt[Ze]=19595*Ze,qt[Ze+256|0]=38470*Ze,qt[Ze+512|0]=7471*Ze+32768,qt[Ze+768|0]=-11059*Ze,qt[Ze+1024|0]=-21709*Ze,qt[Ze+1280|0]=32768*Ze+8421375,qt[Ze+1536|0]=-27439*Ze,qt[Ze+1792|0]=-5329*Ze})(),Gr(k)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ws(k,B){if(this.pos=0,this.buffer=k,this.datav=new DataView(k.buffer),this.is_with_alpha=!!B,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function uo(k){function B(Pt){if(!Pt)throw Error("assert :P")}function P(Pt,Ar,ct){for(var mt=0;4>mt;mt++)if(Pt[Ar+mt]!=ct.charCodeAt(mt))return!0;return!1}function K(Pt,Ar,ct,mt,Ot){for(var Ft=0;Ft<Ot;Ft++)Pt[Ar+Ft]=ct[mt+Ft]}function se(Pt,Ar,ct,mt){for(var Ot=0;Ot<mt;Ot++)Pt[Ar+Ot]=ct}function de(Pt){return new Int32Array(Pt)}function Ie(Pt,Ar){for(var ct=[],mt=0;mt<Pt;mt++)ct.push(new Ar);return ct}function be(Pt,Ar){var ct=[];return(function mt(Ot,Ft,mr){for(var yr=mr[Ft],Cr=0;Cr<yr&&(Ot.push(mr.length>Ft+1?[]:new Ar),!(mr.length<Ft+1));Cr++)mt(Ot[Cr],Ft+1,mr)})(ct,0,Pt),ct}var Ce=function(){var Pt=this;function Ar(O,Y){for(var Ne=1<<Y-1>>>0;O&Ne;)Ne>>>=1;return Ne?(O&Ne-1)+Ne:O}function ct(O,Y,Ne,ke,We){B(!(ke%Ne));do O[Y+(ke-=Ne)]=We;while(0<ke)}function mt(O,Y,Ne,ke,We){if(B(2328>=We),512>=We)var Ge=de(512);else if((Ge=de(We))==null)return 0;return(function(Ye,tt,st,yt,Ut,cr){var vt,Vt,sr=tt,Er=1<<st,ur=de(16),Ir=de(16);for(B(Ut!=0),B(yt!=null),B(Ye!=null),B(0<st),Vt=0;Vt<Ut;++Vt){if(15<yt[Vt])return 0;++ur[yt[Vt]]}if(ur[0]==Ut)return 0;for(Ir[1]=0,vt=1;15>vt;++vt){if(ur[vt]>1<<vt)return 0;Ir[vt+1]=Ir[vt]+ur[vt]}for(Vt=0;Vt<Ut;++Vt)vt=yt[Vt],0<yt[Vt]&&(cr[Ir[vt]++]=Vt);if(Ir[15]==1)return(yt=new Ot).g=0,yt.value=cr[0],ct(Ye,sr,1,Er,yt),Er;var kr,zr=-1,_r=Er-1,ta=0,Fn=1,Xa=1,wn=1<<st;for(Vt=0,vt=1,Ut=2;vt<=st;++vt,Ut<<=1){if(Fn+=Xa<<=1,0>(Xa-=ur[vt]))return 0;for(;0<ur[vt];--ur[vt])(yt=new Ot).g=vt,yt.value=cr[Vt++],ct(Ye,sr+ta,Ut,wn,yt),ta=Ar(ta,vt)}for(vt=st+1,Ut=2;15>=vt;++vt,Ut<<=1){if(Fn+=Xa<<=1,0>(Xa-=ur[vt]))return 0;for(;0<ur[vt];--ur[vt]){if(yt=new Ot,(ta&_r)!=zr){for(sr+=wn,kr=1<<(zr=vt)-st;15>zr&&!(0>=(kr-=ur[zr]));)++zr,kr<<=1;Er+=wn=1<<(kr=zr-st),Ye[tt+(zr=ta&_r)].g=kr+st,Ye[tt+zr].value=sr-tt-zr}yt.g=vt-st,yt.value=cr[Vt++],ct(Ye,sr+(ta>>st),Ut,wn,yt),ta=Ar(ta,vt)}}return Fn!=2*Ir[15]-1?0:Er})(O,Y,Ne,ke,We,Ge)}function Ot(){this.value=this.g=0}function Ft(){this.value=this.g=0}function mr(){this.G=Ie(5,Ot),this.H=de(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=Ie(La,Ft)}function yr(O,Y,Ne,ke){B(O!=null),B(Y!=null),B(2147483648>ke),O.Ca=254,O.I=0,O.b=-8,O.Ka=0,O.oa=Y,O.pa=Ne,O.Jd=Y,O.Yc=Ne+ke,O.Zc=4<=ke?Ne+ke-4+1:Ne,jr(O)}function Cr(O,Y){for(var Ne=0;0<Y--;)Ne|=Rr(O,128)<<Y;return Ne}function ir(O,Y){var Ne=Cr(O,Y);return wr(O)?-Ne:Ne}function br(O,Y,Ne,ke){var We,Ge=0;for(B(O!=null),B(Y!=null),B(4294967288>ke),O.Sb=ke,O.Ra=0,O.u=0,O.h=0,4<ke&&(ke=4),We=0;We<ke;++We)Ge+=Y[Ne+We]<<8*We;O.Ra=Ge,O.bb=ke,O.oa=Y,O.pa=Ne}function nn(O){for(;8<=O.u&&O.bb<O.Sb;)O.Ra>>>=8,O.Ra+=O.oa[O.pa+O.bb]<<So-8>>>0,++O.bb,O.u-=8;Yt(O)&&(O.h=1,O.u=0)}function Gr(O,Y){if(B(0<=Y),!O.h&&Y<=Aa){var Ne=Tt(O)&Qn[Y];return O.u+=Y,nn(O),Ne}return O.h=1,O.u=0}function Ze(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Et(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Tt(O){return O.Ra>>>(O.u&So-1)>>>0}function Yt(O){return B(O.bb<=O.Sb),O.h||O.bb==O.Sb&&O.u>So}function er(O,Y){O.u=Y,O.h=Yt(O)}function dr(O){O.u>=dc&&(B(O.u>=dc),nn(O))}function jr(O){B(O!=null&&O.oa!=null),O.pa<O.Zc?(O.I=(O.oa[O.pa++]|O.I<<8)>>>0,O.b+=8):(B(O!=null&&O.oa!=null),O.pa<O.Yc?(O.b+=8,O.I=O.oa[O.pa++]|O.I<<8):O.Ka?O.b=0:(O.I<<=8,O.b+=8,O.Ka=1))}function wr(O){return Cr(O,1)}function Rr(O,Y){var Ne=O.Ca;0>O.b&&jr(O);var ke=O.b,We=Ne*Y>>>8,Ge=(O.I>>>ke>We)+0;for(Ge?(Ne-=We,O.I-=We+1<<ke>>>0):Ne=We+1,ke=Ne,We=0;256<=ke;)We+=8,ke>>=8;return ke=7^We+Ho[ke],O.b-=ke,O.Ca=(Ne<<ke)-1,Ge}function an(O,Y,Ne){O[Y+0]=Ne>>24&255,O[Y+1]=Ne>>16&255,O[Y+2]=Ne>>8&255,O[Y+3]=255&Ne}function Sn(O,Y){return O[Y+0]|O[Y+1]<<8}function Bn(O,Y){return Sn(O,Y)|O[Y+2]<<16}function ua(O,Y){return Sn(O,Y)|Sn(O,Y+2)<<16}function pt(O,Y){var Ne=1<<Y;return B(O!=null),B(0<Y),O.X=de(Ne),O.X==null?0:(O.Mb=32-Y,O.Xa=Y,1)}function mn(O,Y){B(O!=null),B(Y!=null),B(O.Xa==Y.Xa),K(Y.X,0,O.X,0,1<<Y.Xa)}function xa(){this.X=[],this.Xa=this.Mb=0}function pn(O,Y,Ne,ke){B(Ne!=null),B(ke!=null);var We=Ne[0],Ge=ke[0];return We==0&&(We=(O*Ge+Y/2)/Y),Ge==0&&(Ge=(Y*We+O/2)/O),0>=We||0>=Ge?0:(Ne[0]=We,ke[0]=Ge,1)}function qr(O,Y){return O+(1<<Y)-1>>>Y}function la(O,Y){return((4278255360&O)+(4278255360&Y)>>>0&4278255360)+((16711935&O)+(16711935&Y)>>>0&16711935)>>>0}function Mn(O,Y){Pt[Y]=function(Ne,ke,We,Ge,Ye,tt,st){var yt;for(yt=0;yt<Ye;++yt){var Ut=Pt[O](tt[st+yt-1],We,Ge+yt);tt[st+yt]=la(Ne[ke+yt],Ut)}}}function Zn(){this.ud=this.hd=this.jd=0}function Rn(O,Y){return((4278124286&(O^Y))>>>1)+(O&Y)>>>0}function js(O){return 0<=O&&256>O?O:0>O?0:255<O?255:void 0}function za(O,Y){return js(O+(O-Y+.5>>1))}function Pn(O,Y,Ne){return Math.abs(Y-Ne)-Math.abs(O-Ne)}function us(O,Y,Ne,ke,We,Ge,Ye){for(ke=Ge[Ye-1],Ne=0;Ne<We;++Ne)Ge[Ye+Ne]=ke=la(O[Y+Ne],ke)}function ca(O,Y,Ne,ke,We){var Ge;for(Ge=0;Ge<Ne;++Ge){var Ye=O[Y+Ge],tt=Ye>>8&255,st=16711935&(st=(st=16711935&Ye)+((tt<<16)+tt));ke[We+Ge]=(4278255360&Ye)+st>>>0}}function _n(O,Y){Y.jd=255&O,Y.hd=O>>8&255,Y.ud=O>>16&255}function fa(O,Y,Ne,ke,We,Ge){var Ye;for(Ye=0;Ye<ke;++Ye){var tt=Y[Ne+Ye],st=tt>>>8,yt=tt,Ut=255&(Ut=(Ut=tt>>>16)+((O.jd<<24>>24)*(st<<24>>24)>>>5));yt=255&(yt=(yt+=(O.hd<<24>>24)*(st<<24>>24)>>>5)+((O.ud<<24>>24)*(Ut<<24>>24)>>>5)),We[Ge+Ye]=(4278255360&tt)+(Ut<<16)+yt}}function On(O,Y,Ne,ke,We){Pt[Y]=function(Ge,Ye,tt,st,yt,Ut,cr,vt,Vt){for(st=cr;st<vt;++st)for(cr=0;cr<Vt;++cr)yt[Ut++]=We(tt[ke(Ge[Ye++])])},Pt[O]=function(Ge,Ye,tt,st,yt,Ut,cr){var vt=8>>Ge.b,Vt=Ge.Ea,sr=Ge.K[0],Er=Ge.w;if(8>vt)for(Ge=(1<<Ge.b)-1,Er=(1<<vt)-1;Ye<tt;++Ye){var ur,Ir=0;for(ur=0;ur<Vt;++ur)ur&Ge||(Ir=ke(st[yt++])),Ut[cr++]=We(sr[Ir&Er]),Ir>>=vt}else Pt["VP8LMapColor"+Ne](st,yt,sr,Er,Ut,cr,Ye,tt,Vt)}}function Na(O,Y,Ne,ke,We){for(Ne=Y+Ne;Y<Ne;){var Ge=O[Y++];ke[We++]=Ge>>16&255,ke[We++]=Ge>>8&255,ke[We++]=255&Ge}}function As(O,Y,Ne,ke,We){for(Ne=Y+Ne;Y<Ne;){var Ge=O[Y++];ke[We++]=Ge>>16&255,ke[We++]=Ge>>8&255,ke[We++]=255&Ge,ke[We++]=Ge>>24&255}}function Ya(O,Y,Ne,ke,We){for(Ne=Y+Ne;Y<Ne;){var Ge=(Ye=O[Y++])>>16&240|Ye>>12&15,Ye=240&Ye|Ye>>28&15;ke[We++]=Ge,ke[We++]=Ye}}function Ja(O,Y,Ne,ke,We){for(Ne=Y+Ne;Y<Ne;){var Ge=(Ye=O[Y++])>>16&248|Ye>>13&7,Ye=Ye>>5&224|Ye>>3&31;ke[We++]=Ge,ke[We++]=Ye}}function ii(O,Y,Ne,ke,We){for(Ne=Y+Ne;Y<Ne;){var Ge=O[Y++];ke[We++]=255&Ge,ke[We++]=Ge>>8&255,ke[We++]=Ge>>16&255}}function zn(O,Y,Ne,ke,We,Ge){if(Ge==0)for(Ne=Y+Ne;Y<Ne;)an(ke,((Ge=O[Y++])[0]>>24|Ge[1]>>8&65280|Ge[2]<<8&16711680|Ge[3]<<24)>>>0),We+=32;else K(ke,We,O,Y,Ne)}function Os(O,Y){Pt[Y][0]=Pt[O+"0"],Pt[Y][1]=Pt[O+"1"],Pt[Y][2]=Pt[O+"2"],Pt[Y][3]=Pt[O+"3"],Pt[Y][4]=Pt[O+"4"],Pt[Y][5]=Pt[O+"5"],Pt[Y][6]=Pt[O+"6"],Pt[Y][7]=Pt[O+"7"],Pt[Y][8]=Pt[O+"8"],Pt[Y][9]=Pt[O+"9"],Pt[Y][10]=Pt[O+"10"],Pt[Y][11]=Pt[O+"11"],Pt[Y][12]=Pt[O+"12"],Pt[Y][13]=Pt[O+"13"],Pt[Y][14]=Pt[O+"0"],Pt[Y][15]=Pt[O+"0"]}function ya(O){return O==kf||O==Jh||O==Pd||O==_f}function Vn(){this.eb=[],this.size=this.A=this.fb=0}function Fs(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Sa(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Vn,this.f.kb=new Fs,this.sd=null}function In(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function rs(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function sd(O){return alert("todo:WebPSamplerProcessPlane"),O.T}function Ki(O,Y){var Ne=O.T,ke=Y.ba.f.RGBA,We=ke.eb,Ge=ke.fb+O.ka*ke.A,Ye=Ac[Y.ba.S],tt=O.y,st=O.O,yt=O.f,Ut=O.N,cr=O.ea,vt=O.W,Vt=Y.cc,sr=Y.dc,Er=Y.Mc,ur=Y.Nc,Ir=O.ka,kr=O.ka+O.T,zr=O.U,_r=zr+1>>1;for(Ir==0?Ye(tt,st,null,null,yt,Ut,cr,vt,yt,Ut,cr,vt,We,Ge,null,null,zr):(Ye(Y.ec,Y.fc,tt,st,Vt,sr,Er,ur,yt,Ut,cr,vt,We,Ge-ke.A,We,Ge,zr),++Ne);Ir+2<kr;Ir+=2)Vt=yt,sr=Ut,Er=cr,ur=vt,Ut+=O.Rc,vt+=O.Rc,Ge+=2*ke.A,Ye(tt,(st+=2*O.fa)-O.fa,tt,st,Vt,sr,Er,ur,yt,Ut,cr,vt,We,Ge-ke.A,We,Ge,zr);return st+=O.fa,O.j+kr<O.o?(K(Y.ec,Y.fc,tt,st,zr),K(Y.cc,Y.dc,yt,Ut,_r),K(Y.Mc,Y.Nc,cr,vt,_r),Ne--):1&kr||Ye(tt,st,null,null,yt,Ut,cr,vt,yt,Ut,cr,vt,We,Ge+ke.A,null,null,zr),Ne}function wo(O,Y,Ne){var ke=O.F,We=[O.J];if(ke!=null){var Ge=O.U,Ye=Y.ba.S,tt=Ye==po||Ye==Pd;Y=Y.ba.f.RGBA;var st=[0],yt=O.ka;st[0]=O.T,O.Kb&&(yt==0?--st[0]:(--yt,We[0]-=O.width),O.j+O.ka+O.T==O.o&&(st[0]=O.o-O.j-yt));var Ut=Y.eb;yt=Y.fb+yt*Y.A,O=ul(ke,We[0],O.width,Ge,st,Ut,yt+(tt?0:3),Y.A),B(Ne==st),O&&ya(Ye)&&ro(Ut,yt,tt,Ge,st,Y.A)}return 0}function Bc(O){var Y=O.ma,Ne=Y.ba.S,ke=11>Ne,We=Ne==Xh||Ne==yh||Ne==po||Ne==Su||Ne==12||ya(Ne);if(Y.memory=null,Y.Ib=null,Y.Jb=null,Y.Nd=null,!oi(Y.Oa,O,We?11:12))return 0;if(We&&ya(Ne)&&ht(),O.da)alert("todo:use_scaling");else{if(ke){if(Y.Ib=sd,O.Kb){if(Ne=O.U+1>>1,Y.memory=de(O.U+2*Ne),Y.memory==null)return 0;Y.ec=Y.memory,Y.fc=0,Y.cc=Y.ec,Y.dc=Y.fc+O.U,Y.Mc=Y.cc,Y.Nc=Y.dc+Ne,Y.Ib=Ki,ht()}}else alert("todo:EmitYUV");We&&(Y.Jb=wo,ke&&Je())}if(ke&&!BA){for(O=0;256>O;++O)IA[O]=89858*(O-128)+rh>>Iu,Sl[O]=-22014*(O-128)+rh,$l[O]=-45773*(O-128),TA[O]=113618*(O-128)+rh>>Iu;for(O=bh;O<Rf;++O)Y=76283*(O-16)+rh>>Iu,Lf[O-bh]=sc(Y,255),kA[O-bh]=sc(Y+8>>4,15);BA=1}return 1}function ma(O){var Y=O.ma,Ne=O.U,ke=O.T;return B(!(1&O.ka)),0>=Ne||0>=ke?0:(Ne=Y.Ib(O,Y),Y.Jb!=null&&Y.Jb(O,Y,Ne),Y.Dc+=Ne,1)}function Ei(O){O.ma.memory=null}function Co(O,Y,Ne,ke){return Gr(O,8)!=47?0:(Y[0]=Gr(O,14)+1,Ne[0]=Gr(O,14)+1,ke[0]=Gr(O,1),Gr(O,3)!=0?0:!O.h)}function Ol(O,Y){if(4>O)return O+1;var Ne=O-2>>1;return(2+(1&O)<<Ne)+Gr(Y,Ne)+1}function Li(O,Y){return 120<Y?Y-120:1<=(Ne=((Ne=Cp[Y-1])>>4)*O+(8-(15&Ne)))?Ne:1;var Ne}function Ls(O,Y,Ne){var ke=Tt(Ne),We=O[Y+=255&ke].g-8;return 0<We&&(er(Ne,Ne.u+8),ke=Tt(Ne),Y+=O[Y].value,Y+=ke&(1<<We)-1),er(Ne,Ne.u+O[Y].g),O[Y].value}function Oi(O,Y,Ne){return Ne.g+=O.g,Ne.value+=O.value<<Y>>>0,B(8>=Ne.g),O.g}function ho(O,Y,Ne){var ke=O.xc;return B((Y=ke==0?0:O.vc[O.md*(Ne>>ke)+(Y>>ke)])<O.Wb),O.Ya[Y]}function id(O,Y,Ne,ke){var We=O.ab,Ge=O.c*Y,Ye=O.C;Y=Ye+Y;var tt=Ne,st=ke;for(ke=O.Ta,Ne=O.Ua;0<We--;){var yt=O.gc[We],Ut=Ye,cr=Y,vt=tt,Vt=st,sr=(st=ke,tt=Ne,yt.Ea);switch(B(Ut<cr),B(cr<=yt.nc),yt.hc){case 2:Gi(vt,Vt,(cr-Ut)*sr,st,tt);break;case 0:var Er=Ut,ur=cr,Ir=st,kr=tt,zr=(wn=yt).Ea;Er==0&&(fo(vt,Vt,null,null,1,Ir,kr),us(vt,Vt+1,0,0,zr-1,Ir,kr+1),Vt+=zr,kr+=zr,++Er);for(var _r=1<<wn.b,ta=_r-1,Fn=qr(zr,wn.b),Xa=wn.K,wn=wn.w+(Er>>wn.b)*Fn;Er<ur;){var Ss=Xa,fn=wn,Wa=1;for(uc(vt,Vt,Ir,kr-zr,1,Ir,kr);Wa<zr;){var Wn=(Wa&~ta)+_r;Wn>zr&&(Wn=zr),(0,vh[Ss[fn++]>>8&15])(vt,Vt+ +Wa,Ir,kr+Wa-zr,Wn-Wa,Ir,kr+Wa),Wa=Wn}Vt+=zr,kr+=zr,++Er&ta||(wn+=Fn)}cr!=yt.nc&&K(st,tt-sr,st,tt+(cr-Ut-1)*sr,sr);break;case 1:for(sr=vt,ur=Vt,zr=(vt=yt.Ea)-(kr=vt&~(Ir=(Vt=1<<yt.b)-1)),Er=qr(vt,yt.b),_r=yt.K,yt=yt.w+(Ut>>yt.b)*Er;Ut<cr;){for(ta=_r,Fn=yt,Xa=new Zn,wn=ur+kr,Ss=ur+vt;ur<wn;)_n(ta[Fn++],Xa),Pc(Xa,sr,ur,Vt,st,tt),ur+=Vt,tt+=Vt;ur<Ss&&(_n(ta[Fn++],Xa),Pc(Xa,sr,ur,zr,st,tt),ur+=zr,tt+=zr),++Ut&Ir||(yt+=Er)}break;case 3:if(vt==st&&Vt==tt&&0<yt.b){for(ur=st,vt=sr=tt+(cr-Ut)*sr-(kr=(cr-Ut)*qr(yt.Ea,yt.b)),Vt=st,Ir=tt,Er=[],kr=(zr=kr)-1;0<=kr;--kr)Er[kr]=Vt[Ir+kr];for(kr=zr-1;0<=kr;--kr)ur[vt+kr]=Er[kr];zh(yt,Ut,cr,st,sr,st,tt)}else zh(yt,Ut,cr,vt,Vt,st,tt)}tt=ke,st=Ne}st!=Ne&&K(ke,Ne,tt,st,Ge)}function eo(O,Y){var Ne=O.V,ke=O.Ba+O.c*O.C,We=Y-O.C;if(B(Y<=O.l.o),B(16>=We),0<We){var Ge=O.l,Ye=O.Ta,tt=O.Ua,st=Ge.width;if(id(O,We,Ne,ke),We=tt=[tt],B((Ne=O.C)<(ke=Y)),B(Ge.v<Ge.va),ke>Ge.o&&(ke=Ge.o),Ne<Ge.j){var yt=Ge.j-Ne;Ne=Ge.j,We[0]+=yt*st}if(Ne>=ke?Ne=0:(We[0]+=4*Ge.v,Ge.ka=Ne-Ge.j,Ge.U=Ge.va-Ge.v,Ge.T=ke-Ne,Ne=1),Ne){if(tt=tt[0],11>(Ne=O.ca).S){var Ut=Ne.f.RGBA,cr=(ke=Ne.S,We=Ge.U,Ge=Ge.T,yt=Ut.eb,Ut.A),vt=Ge;for(Ut=Ut.fb+O.Ma*Ut.A;0<vt--;){var Vt=Ye,sr=tt,Er=We,ur=yt,Ir=Ut;switch(ke){case Zu:qc(Vt,sr,Er,ur,Ir);break;case Xh:Xc(Vt,sr,Er,ur,Ir);break;case kf:Xc(Vt,sr,Er,ur,Ir),ro(ur,Ir,0,Er,1,0);break;case Yh:wu(Vt,sr,Er,ur,Ir);break;case yh:zn(Vt,sr,Er,ur,Ir,1);break;case Jh:zn(Vt,sr,Er,ur,Ir,1),ro(ur,Ir,0,Er,1,0);break;case po:zn(Vt,sr,Er,ur,Ir,0);break;case Pd:zn(Vt,sr,Er,ur,Ir,0),ro(ur,Ir,1,Er,1,0);break;case Su:Xd(Vt,sr,Er,ur,Ir);break;case _f:Xd(Vt,sr,Er,ur,Ir),qh(ur,Ir,Er,1,0);break;case yA:hd(Vt,sr,Er,ur,Ir);break;default:B(0)}tt+=st,Ut+=cr}O.Ma+=Ge}else alert("todo:EmitRescaledRowsYUVA");B(O.Ma<=Ne.height)}}O.C=Y,B(O.C<=O.i)}function ll(O){var Y;if(0<O.ua)return 0;for(Y=0;Y<O.Wb;++Y){var Ne=O.Ya[Y].G,ke=O.Ya[Y].H;if(0<Ne[1][ke[1]+0].g||0<Ne[2][ke[2]+0].g||0<Ne[3][ke[3]+0].g)return 0}return 1}function Ic(O,Y,Ne,ke,We,Ge){if(O.Z!=0){var Ye=O.qd,tt=O.rd;for(B(Wo[O.Z]!=null);Y<Ne;++Y)Wo[O.Z](Ye,tt,ke,We,ke,We,Ge),Ye=ke,tt=We,We+=Ge;O.qd=Ye,O.rd=tt}}function nc(O,Y){var Ne=O.l.ma,ke=Ne.Z==0||Ne.Z==1?O.l.j:O.C;if(ke=O.C<ke?ke:O.C,B(Y<=O.l.o),Y>ke){var We=O.l.width,Ge=Ne.ca,Ye=Ne.tb+We*ke,tt=O.V,st=O.Ba+O.c*ke,yt=O.gc;B(O.ab==1),B(yt[0].hc==3),dl(yt[0],ke,Y,tt,st,Ge,Ye),Ic(Ne,ke,Y,Ge,Ye,We)}O.C=O.Ma=Y}function to(O,Y,Ne,ke,We,Ge,Ye){var tt=O.$/ke,st=O.$%ke,yt=O.m,Ut=O.s,cr=Ne+O.$,vt=cr;We=Ne+ke*We;var Vt=Ne+ke*Ge,sr=280+Ut.ua,Er=O.Pb?tt:16777216,ur=0<Ut.ua?Ut.Wa:null,Ir=Ut.wc,kr=cr<Vt?ho(Ut,st,tt):null;B(O.C<Ge),B(Vt<=We);var zr=!1;e:for(;;){for(;zr||cr<Vt;){var _r=0;if(tt>=Er){var ta=cr-Ne;B((Er=O).Pb),Er.wd=Er.m,Er.xd=ta,0<Er.s.ua&&mn(Er.s.Wa,Er.s.vb),Er=tt+wA}if(st&Ir||(kr=ho(Ut,st,tt)),B(kr!=null),kr.Qb&&(Y[cr]=kr.qb,zr=!0),!zr)if(dr(yt),kr.jc){_r=yt,ta=Y;var Fn=cr,Xa=kr.pd[Tt(_r)&La-1];B(kr.jc),256>Xa.g?(er(_r,_r.u+Xa.g),ta[Fn]=Xa.value,_r=0):(er(_r,_r.u+Xa.g-256),B(256<=Xa.value),_r=Xa.value),_r==0&&(zr=!0)}else _r=Ls(kr.G[0],kr.H[0],yt);if(yt.h)break;if(zr||256>_r){if(!zr)if(kr.nd)Y[cr]=(kr.qb|_r<<8)>>>0;else{if(dr(yt),zr=Ls(kr.G[1],kr.H[1],yt),dr(yt),ta=Ls(kr.G[2],kr.H[2],yt),Fn=Ls(kr.G[3],kr.H[3],yt),yt.h)break;Y[cr]=(Fn<<24|zr<<16|_r<<8|ta)>>>0}if(zr=!1,++cr,++st>=ke&&(st=0,++tt,Ye!=null&&tt<=Ge&&!(tt%16)&&Ye(O,tt),ur!=null))for(;vt<cr;)_r=Y[vt++],ur.X[(506832829*_r&4294967295)>>>ur.Mb]=_r}else if(280>_r){if(_r=Ol(_r-256,yt),ta=Ls(kr.G[4],kr.H[4],yt),dr(yt),ta=Li(ke,ta=Ol(ta,yt)),yt.h)break;if(cr-Ne<ta||We-cr<_r)break e;for(Fn=0;Fn<_r;++Fn)Y[cr+Fn]=Y[cr+Fn-ta];for(cr+=_r,st+=_r;st>=ke;)st-=ke,++tt,Ye!=null&&tt<=Ge&&!(tt%16)&&Ye(O,tt);if(B(cr<=We),st&Ir&&(kr=ho(Ut,st,tt)),ur!=null)for(;vt<cr;)_r=Y[vt++],ur.X[(506832829*_r&4294967295)>>>ur.Mb]=_r}else{if(!(_r<sr))break e;for(zr=_r-280,B(ur!=null);vt<cr;)_r=Y[vt++],ur.X[(506832829*_r&4294967295)>>>ur.Mb]=_r;_r=cr,B(!(zr>>>(ta=ur).Xa)),Y[_r]=ta.X[zr],zr=!0}zr||B(yt.h==Yt(yt))}if(O.Pb&&yt.h&&cr<We)B(O.m.h),O.a=5,O.m=O.wd,O.$=O.xd,0<O.s.ua&&mn(O.s.vb,O.s.Wa);else{if(yt.h)break e;Ye!=null&&Ye(O,tt>Ge?Ge:tt),O.a=0,O.$=cr-Ne}return 1}return O.a=3,0}function cl(O){B(O!=null),O.vc=null,O.yc=null,O.Ya=null;var Y=O.Wa;Y!=null&&(Y.X=null),O.vb=null,B(O!=null)}function Fl(){var O=new ga;return O==null?null:(O.a=0,O.xb=NA,Os("Predictor","VP8LPredictors"),Os("Predictor","VP8LPredictors_C"),Os("PredictorAdd","VP8LPredictorsAdd"),Os("PredictorAdd","VP8LPredictorsAdd_C"),Gi=ca,Pc=fa,qc=Na,Xc=As,Xd=Ya,hd=Ja,wu=ii,Pt.VP8LMapColor32b=tl,Pt.VP8LMapColor8b=Ju,O)}function Yo(O,Y,Ne,ke,We){var Ge=1,Ye=[O],tt=[Y],st=ke.m,yt=ke.s,Ut=null,cr=0;e:for(;;){if(Ne)for(;Ge&&Gr(st,1);){var vt=Ye,Vt=tt,sr=ke,Er=1,ur=sr.m,Ir=sr.gc[sr.ab],kr=Gr(ur,2);if(sr.Oc&1<<kr)Ge=0;else{switch(sr.Oc|=1<<kr,Ir.hc=kr,Ir.Ea=vt[0],Ir.nc=Vt[0],Ir.K=[null],++sr.ab,B(4>=sr.ab),kr){case 0:case 1:Ir.b=Gr(ur,3)+2,Er=Yo(qr(Ir.Ea,Ir.b),qr(Ir.nc,Ir.b),0,sr,Ir.K),Ir.K=Ir.K[0];break;case 3:var zr,_r=Gr(ur,8)+1,ta=16<_r?0:4<_r?1:2<_r?2:3;if(vt[0]=qr(Ir.Ea,ta),Ir.b=ta,zr=Er=Yo(_r,1,0,sr,Ir.K)){var Fn,Xa=_r,wn=Ir,Ss=1<<(8>>wn.b),fn=de(Ss);if(fn==null)zr=0;else{var Wa=wn.K[0],Wn=wn.w;for(fn[0]=wn.K[0][0],Fn=1;Fn<1*Xa;++Fn)fn[Fn]=la(Wa[Wn+Fn],fn[Fn-1]);for(;Fn<4*Ss;++Fn)fn[Fn]=0;wn.K[0]=null,wn.K[0]=fn,zr=1}}Er=zr;break;case 2:break;default:B(0)}Ge=Er}}if(Ye=Ye[0],tt=tt[0],Ge&&Gr(st,1)&&!(Ge=1<=(cr=Gr(st,4))&&11>=cr)){ke.a=3;break e}var vn;if(vn=Ge)t:{var mo,Ua,vs,vi=ke,Bo=Ye,rl=tt,Hi=cr,nl=Ne,Al=vi.m,bs=vi.s,Za=[null],ws=1,qi=0,Xs=Np[Hi];r:for(;;){if(nl&&Gr(Al,1)){var xi=Gr(Al,3)+2,pc=qr(Bo,xi),Ys=qr(rl,xi),El=pc*Ys;if(!Yo(pc,Ys,0,vi,Za))break r;for(Za=Za[0],bs.xc=xi,mo=0;mo<El;++mo){var ci=Za[mo]>>8&65535;Za[mo]=ci,ci>=ws&&(ws=ci+1)}}if(Al.h)break r;for(Ua=0;5>Ua;++Ua){var on=jA[Ua];!Ua&&0<Hi&&(on+=1<<Hi),qi<on&&(qi=on)}var $o=Ie(ws*Xs,Ot),Vo=ws,Qi=Ie(Vo,mr);if(Qi==null)var Bl=null;else B(65536>=Vo),Bl=Qi;var Ka=de(qi);if(Bl==null||Ka==null||$o==null){vi.a=1;break r}var Ha=$o;for(mo=vs=0;mo<ws;++mo){var qn=Bl[mo],Js=qn.G,Ds=qn.H,Xi=0,Wi=1,no=0;for(Ua=0;5>Ua;++Ua){on=jA[Ua],Js[Ua]=Ha,Ds[Ua]=vs,!Ua&&0<Hi&&(on+=1<<Hi);a:{var ao,Tu=on,Dd=vi,Zd=Ka,_A=Ha,Ch=vs,pl=0,Jc=Dd.m,nh=Gr(Jc,1);if(se(Zd,0,0,Tu),nh){var eu=Gr(Jc,1)+1,af=Gr(Jc,1),Qf=Gr(Jc,af==0?1:8);Zd[Qf]=1,eu==2&&(Zd[Qf=Gr(Jc,8)]=1);var md=1}else{var sf=de(19),Zc=Gr(Jc,4)+4;if(19<Zc){Dd.a=3;var al=0;break a}for(ao=0;ao<Zc;++ao)sf[wp[ao]]=Gr(Jc,3);var ku=void 0,Md=void 0,of=Dd,Wf=sf,Io=Tu,mc=Zd,Il=0,go=of.m,_u=8,$f=Ie(128,Ot);n:for(;mt($f,0,7,Wf,19);){if(Gr(go,1)){var OA=2+2*Gr(go,3);if((ku=2+Gr(go,OA))>Io)break n}else ku=Io;for(Md=0;Md<Io&&ku--;){dr(go);var FA=$f[0+(127&Tt(go))];er(go,go.u+FA.g);var Mc=FA.value;if(16>Mc)mc[Md++]=Mc,Mc!=0&&(_u=Mc);else{var PA=Mc==16,Vf=Mc-16,ah=Ff[Vf],zf=Gr(go,Of[Vf])+ah;if(Md+zf>Io)break n;for(var sh=PA?_u:0;0<zf--;)mc[Md++]=sh}}Il=1;break n}Il||(of.a=3),md=Il}(md=md&&!Jc.h)&&(pl=mt(_A,Ch,8,Zd,Tu)),md&&pl!=0?al=pl:(Dd.a=3,al=0)}if(al==0)break r;if(Wi&&bA[Ua]==1&&(Wi=Ha[vs].g==0),Xi+=Ha[vs].g,vs+=al,3>=Ua){var Nh,Kf=Ka[0];for(Nh=1;Nh<on;++Nh)Ka[Nh]>Kf&&(Kf=Ka[Nh]);no+=Kf}}if(qn.nd=Wi,qn.Qb=0,Wi&&(qn.qb=(Js[3][Ds[3]+0].value<<24|Js[1][Ds[1]+0].value<<16|Js[2][Ds[2]+0].value)>>>0,Xi==0&&256>Js[0][Ds[0]+0].value&&(qn.Qb=1,qn.qb+=Js[0][Ds[0]+0].value<<8)),qn.jc=!qn.Qb&&6>no,qn.jc){var Sh,ed=qn;for(Sh=0;Sh<La;++Sh){var Ou=Sh,Fu=ed.pd[Ou],lf=ed.G[0][ed.H[0]+Ou];256<=lf.value?(Fu.g=lf.g+256,Fu.value=lf.value):(Fu.g=0,Fu.value=0,Ou>>=Oi(lf,8,Fu),Ou>>=Oi(ed.G[1][ed.H[1]+Ou],16,Fu),Ou>>=Oi(ed.G[2][ed.H[2]+Ou],0,Fu),Oi(ed.G[3][ed.H[3]+Ou],24,Fu))}}}bs.vc=Za,bs.Wb=ws,bs.Ya=Bl,bs.yc=$o,vn=1;break t}vn=0}if(!(Ge=vn)){ke.a=3;break e}if(0<cr){if(yt.ua=1<<cr,!pt(yt.Wa,cr)){ke.a=1,Ge=0;break e}}else yt.ua=0;var Gf=ke,Pu=Ye,$m=tt,F=Gf.s,T=F.xc;if(Gf.c=Pu,Gf.i=$m,F.md=qr(Pu,T),F.wc=T==0?-1:(1<<T)-1,Ne){ke.xb=Sp;break e}if((Ut=de(Ye*tt))==null){ke.a=1,Ge=0;break e}Ge=(Ge=to(ke,Ut,0,Ye,tt,tt,null))&&!st.h;break e}return Ge?(We!=null?We[0]=Ut:(B(Ut==null),B(Ne)),ke.$=0,Ne||cl(yt)):cl(yt),Ge}function Lo(O,Y){var Ne=O.c*O.i,ke=Ne+Y+16*Y;return B(O.c<=Y),O.V=de(ke),O.V==null?(O.Ta=null,O.Ua=0,O.a=1,0):(O.Ta=O.V,O.Ua=O.Ba+Ne+Y,1)}function ac(O,Y){var Ne=O.C,ke=Y-Ne,We=O.V,Ge=O.Ba+O.c*Ne;for(B(Y<=O.l.o);0<ke;){var Ye=16<ke?16:ke,tt=O.l.ma,st=O.l.width,yt=st*Ye,Ut=tt.ca,cr=tt.tb+st*Ne,vt=O.Ta,Vt=O.Ua;id(O,Ye,We,Ge),Nu(vt,Vt,Ut,cr,yt),Ic(tt,Ne,Ne+Ye,Ut,cr,st),ke-=Ye,We+=Ye*O.c,Ne+=Ye}B(Ne==Y),O.C=O.Ma=Y}function Pl(){this.ub=this.yd=this.td=this.Rb=0}function Tc(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function pu(){this.Fb=this.Bb=this.Cb=0,this.Zb=de(4),this.Lb=de(4)}function Vc(){this.Yb=(function(){var O=[];return(function Y(Ne,ke,We){for(var Ge=We[ke],Ye=0;Ye<Ge&&(Ne.push(We.length>ke+1?[]:0),!(We.length<ke+1));Ye++)Y(Ne[Ye],ke+1,We)})(O,0,[3,11]),O})()}function mu(){this.jb=de(3),this.Wc=be([4,8],Vc),this.Xc=be([4,17],Vc)}function od(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new de(4),this.od=new de(4)}function Jo(){this.ld=this.La=this.dd=this.tc=0}function ld(){this.Na=this.la=0}function Sd(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function $d(){this.ad=de(384),this.Za=0,this.Ob=de(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Dl(){this.uc=this.M=this.Nb=0,this.wa=Array(new Jo),this.Y=0,this.ya=Array(new $d),this.aa=0,this.l=new Kd}function Vd(){this.y=de(16),this.f=de(8),this.ea=de(8)}function zd(){this.cb=this.a=0,this.sc="",this.m=new Ze,this.Od=new Pl,this.Kc=new Tc,this.ed=new od,this.Qa=new pu,this.Ic=this.$c=this.Aa=0,this.D=new Dl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=Ie(8,Ze),this.ia=0,this.pb=Ie(4,Sd),this.Pa=new mu,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Vd),this.Hd=0,this.rb=Array(new ld),this.sb=0,this.wa=Array(new Jo),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new $d),this.L=this.aa=0,this.gd=be([4,2],Jo),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function sc(O,Y){return 0>O?0:O>Y?Y:O}function Kd(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ed(){var O=new zd;return O!=null&&(O.a=0,O.sc="OK",O.cb=0,O.Xb=0,eh||(eh=Ns)),O}function ba(O,Y,Ne){return O.a==0&&(O.a=Y,O.sc=Ne,O.cb=0),0}function gu(O,Y,Ne){return 3<=Ne&&O[Y+0]==157&&O[Y+1]==1&&O[Y+2]==42}function ic(O,Y){if(O==null)return 0;if(O.a=0,O.sc="OK",Y==null)return ba(O,2,"null VP8Io passed to VP8GetHeaders()");var Ne=Y.data,ke=Y.w,We=Y.ha;if(4>We)return ba(O,7,"Truncated header.");var Ge=Ne[ke+0]|Ne[ke+1]<<8|Ne[ke+2]<<16,Ye=O.Od;if(Ye.Rb=!(1&Ge),Ye.td=Ge>>1&7,Ye.yd=Ge>>4&1,Ye.ub=Ge>>5,3<Ye.td)return ba(O,3,"Incorrect keyframe parameters.");if(!Ye.yd)return ba(O,4,"Frame not displayable.");ke+=3,We-=3;var tt=O.Kc;if(Ye.Rb){if(7>We)return ba(O,7,"cannot parse picture header");if(!gu(Ne,ke,We))return ba(O,3,"Bad code word");tt.c=16383&(Ne[ke+4]<<8|Ne[ke+3]),tt.Td=Ne[ke+4]>>6,tt.i=16383&(Ne[ke+6]<<8|Ne[ke+5]),tt.Ud=Ne[ke+6]>>6,ke+=7,We-=7,O.za=tt.c+15>>4,O.Ub=tt.i+15>>4,Y.width=tt.c,Y.height=tt.i,Y.Da=0,Y.j=0,Y.v=0,Y.va=Y.width,Y.o=Y.height,Y.da=0,Y.ib=Y.width,Y.hb=Y.height,Y.U=Y.width,Y.T=Y.height,se((Ge=O.Pa).jb,0,255,Ge.jb.length),B((Ge=O.Qa)!=null),Ge.Cb=0,Ge.Bb=0,Ge.Fb=1,se(Ge.Zb,0,0,Ge.Zb.length),se(Ge.Lb,0,0,Ge.Lb)}if(Ye.ub>We)return ba(O,7,"bad partition length");yr(Ge=O.m,Ne,ke,Ye.ub),ke+=Ye.ub,We-=Ye.ub,Ye.Rb&&(tt.Ld=wr(Ge),tt.Kd=wr(Ge)),tt=O.Qa;var st,yt=O.Pa;if(B(Ge!=null),B(tt!=null),tt.Cb=wr(Ge),tt.Cb){if(tt.Bb=wr(Ge),wr(Ge)){for(tt.Fb=wr(Ge),st=0;4>st;++st)tt.Zb[st]=wr(Ge)?ir(Ge,7):0;for(st=0;4>st;++st)tt.Lb[st]=wr(Ge)?ir(Ge,6):0}if(tt.Bb)for(st=0;3>st;++st)yt.jb[st]=wr(Ge)?Cr(Ge,8):255}else tt.Bb=0;if(Ge.Ka)return ba(O,3,"cannot parse segment header");if((tt=O.ed).zd=wr(Ge),tt.Tb=Cr(Ge,6),tt.wb=Cr(Ge,3),tt.Pc=wr(Ge),tt.Pc&&wr(Ge)){for(yt=0;4>yt;++yt)wr(Ge)&&(tt.vd[yt]=ir(Ge,6));for(yt=0;4>yt;++yt)wr(Ge)&&(tt.od[yt]=ir(Ge,6))}if(O.L=tt.Tb==0?0:tt.zd?1:2,Ge.Ka)return ba(O,3,"cannot parse filter header");var Ut=We;if(We=st=ke,ke=st+Ut,tt=Ut,O.Xb=(1<<Cr(O.m,2))-1,Ut<3*(yt=O.Xb))Ne=7;else{for(st+=3*yt,tt-=3*yt,Ut=0;Ut<yt;++Ut){var cr=Ne[We+0]|Ne[We+1]<<8|Ne[We+2]<<16;cr>tt&&(cr=tt),yr(O.Jc[+Ut],Ne,st,cr),st+=cr,tt-=cr,We+=3}yr(O.Jc[+yt],Ne,st,tt),Ne=st<ke?0:5}if(Ne!=0)return ba(O,Ne,"cannot parse partitions");for(Ne=Cr(st=O.m,7),We=wr(st)?ir(st,4):0,ke=wr(st)?ir(st,4):0,tt=wr(st)?ir(st,4):0,yt=wr(st)?ir(st,4):0,st=wr(st)?ir(st,4):0,Ut=O.Qa,cr=0;4>cr;++cr){if(Ut.Cb){var vt=Ut.Zb[cr];Ut.Fb||(vt+=Ne)}else{if(0<cr){O.pb[cr]=O.pb[0];continue}vt=Ne}var Vt=O.pb[cr];Vt.Sc[0]=jh[sc(vt+We,127)],Vt.Sc[1]=Zh[sc(vt+0,127)],Vt.Eb[0]=2*jh[sc(vt+ke,127)],Vt.Eb[1]=101581*Zh[sc(vt+tt,127)]>>16,8>Vt.Eb[1]&&(Vt.Eb[1]=8),Vt.Qc[0]=jh[sc(vt+yt,117)],Vt.Qc[1]=Zh[sc(vt+st,127)],Vt.lc=vt+st}if(!Ye.Rb)return ba(O,4,"Not a key frame.");for(wr(Ge),Ye=O.Pa,Ne=0;4>Ne;++Ne){for(We=0;8>We;++We)for(ke=0;3>ke;++ke)for(tt=0;11>tt;++tt)yt=Rr(Ge,ef[Ne][We][ke][tt])?Cr(Ge,8):Qm[Ne][We][ke][tt],Ye.Wc[Ne][We].Yb[ke][tt]=yt;for(We=0;17>We;++We)Ye.Xc[Ne][We]=Ye.Wc[Ne][tf[We]]}return O.kc=wr(Ge),O.kc&&(O.Bd=Cr(Ge,8)),O.cb=1}function Ns(O,Y,Ne,ke,We,Ge,Ye){var tt=Y[We].Yb[Ne];for(Ne=0;16>We;++We){if(!Rr(O,tt[Ne+0]))return We;for(;!Rr(O,tt[Ne+1]);)if(tt=Y[++We].Yb[0],Ne=0,We==16)return 16;var st=Y[We+1].Yb;if(Rr(O,tt[Ne+2])){var yt=O,Ut=0;if(Rr(yt,(vt=tt)[(cr=Ne)+3]))if(Rr(yt,vt[cr+6])){for(tt=0,cr=2*(Ut=Rr(yt,vt[cr+8]))+(vt=Rr(yt,vt[cr+9+Ut])),Ut=0,vt=Pf[cr];vt[tt];++tt)Ut+=Ut+Rr(yt,vt[tt]);Ut+=3+(8<<cr)}else Rr(yt,vt[cr+7])?(Ut=7+2*Rr(yt,165),Ut+=Rr(yt,145)):Ut=5+Rr(yt,159);else Ut=Rr(yt,vt[cr+4])?3+Rr(yt,vt[cr+5]):2;tt=st[2]}else Ut=1,tt=st[1];st=Ye+Hm[We],0>(yt=O).b&&jr(yt);var cr,vt=yt.b,Vt=(cr=yt.Ca>>1)-(yt.I>>vt)>>31;--yt.b,yt.Ca+=Vt,yt.Ca|=1,yt.I-=(cr+1&Vt)<<vt,Ge[st]=((Ut^Vt)-Vt)*ke[(0<We)+0]}return 16}function vu(O){var Y=O.rb[O.sb-1];Y.la=0,Y.Na=0,se(O.zc,0,0,O.zc.length),O.ja=0}function bl(O,Y,Ne,ke,We){We=O[Y+Ne+32*ke]+(We>>3),O[Y+Ne+32*ke]=-256&We?0>We?0:255:We}function Fi(O,Y,Ne,ke,We,Ge){bl(O,Y,0,Ne,ke+We),bl(O,Y,1,Ne,ke+Ge),bl(O,Y,2,Ne,ke-Ge),bl(O,Y,3,Ne,ke-We)}function kc(O){return(20091*O>>16)+O}function cd(O,Y,Ne,ke){var We,Ge=0,Ye=de(16);for(We=0;4>We;++We){var tt=O[Y+0]+O[Y+8],st=O[Y+0]-O[Y+8],yt=(35468*O[Y+4]>>16)-kc(O[Y+12]),Ut=kc(O[Y+4])+(35468*O[Y+12]>>16);Ye[Ge+0]=tt+Ut,Ye[Ge+1]=st+yt,Ye[Ge+2]=st-yt,Ye[Ge+3]=tt-Ut,Ge+=4,Y++}for(We=Ge=0;4>We;++We)tt=(O=Ye[Ge+0]+4)+Ye[Ge+8],st=O-Ye[Ge+8],yt=(35468*Ye[Ge+4]>>16)-kc(Ye[Ge+12]),bl(Ne,ke,0,0,tt+(Ut=kc(Ye[Ge+4])+(35468*Ye[Ge+12]>>16))),bl(Ne,ke,1,0,st+yt),bl(Ne,ke,2,0,st-yt),bl(Ne,ke,3,0,tt-Ut),Ge++,ke+=32}function Ml(O,Y,Ne,ke){var We=O[Y+0]+4,Ge=35468*O[Y+4]>>16,Ye=kc(O[Y+4]),tt=35468*O[Y+1]>>16;Fi(Ne,ke,0,We+Ye,O=kc(O[Y+1]),tt),Fi(Ne,ke,1,We+Ge,O,tt),Fi(Ne,ke,2,We-Ge,O,tt),Fi(Ne,ke,3,We-Ye,O,tt)}function Gd(O,Y,Ne,ke,We){cd(O,Y,Ne,ke),We&&cd(O,Y+16,Ne,ke+4)}function Zo(O,Y,Ne,ke){Nl(O,Y+0,Ne,ke,1),Nl(O,Y+32,Ne,ke+128,1)}function xu(O,Y,Ne,ke){var We;for(O=O[Y+0]+4,We=0;4>We;++We)for(Y=0;4>Y;++Y)bl(Ne,ke,Y,We,O)}function Bd(O,Y,Ne,ke){O[Y+0]&&ms(O,Y+0,Ne,ke),O[Y+16]&&ms(O,Y+16,Ne,ke+4),O[Y+32]&&ms(O,Y+32,Ne,ke+128),O[Y+48]&&ms(O,Y+48,Ne,ke+128+4)}function yu(O,Y,Ne,ke){var We,Ge=de(16);for(We=0;4>We;++We){var Ye=O[Y+0+We]+O[Y+12+We],tt=O[Y+4+We]+O[Y+8+We],st=O[Y+4+We]-O[Y+8+We],yt=O[Y+0+We]-O[Y+12+We];Ge[0+We]=Ye+tt,Ge[8+We]=Ye-tt,Ge[4+We]=yt+st,Ge[12+We]=yt-st}for(We=0;4>We;++We)Ye=(O=Ge[0+4*We]+3)+Ge[3+4*We],tt=Ge[1+4*We]+Ge[2+4*We],st=Ge[1+4*We]-Ge[2+4*We],yt=O-Ge[3+4*We],Ne[ke+0]=Ye+tt>>3,Ne[ke+16]=yt+st>>3,Ne[ke+32]=Ye-tt>>3,Ne[ke+48]=yt-st>>3,ke+=64}function dd(O,Y,Ne){var ke,We=Y-32,Ge=fl,Ye=255-O[We-1];for(ke=0;ke<Ne;++ke){var tt,st=Ge,yt=Ye+O[Y-1];for(tt=0;tt<Ne;++tt)O[Y+tt]=st[yt+O[We+tt]];Y+=32}}function Id(O,Y){dd(O,Y,4)}function Td(O,Y){dd(O,Y,8)}function kd(O,Y){dd(O,Y,16)}function _d(O,Y){var Ne;for(Ne=0;16>Ne;++Ne)K(O,Y+32*Ne,O,Y-32,16)}function ju(O,Y){var Ne;for(Ne=16;0<Ne;--Ne)se(O,Y,O[Y-1],16),Y+=32}function Rl(O,Y,Ne){var ke;for(ke=0;16>ke;++ke)se(Y,Ne+32*ke,O,16)}function $h(O,Y){var Ne,ke=16;for(Ne=0;16>Ne;++Ne)ke+=O[Y-1+32*Ne]+O[Y+Ne-32];Rl(ke>>5,O,Y)}function Od(O,Y){var Ne,ke=8;for(Ne=0;16>Ne;++Ne)ke+=O[Y-1+32*Ne];Rl(ke>>4,O,Y)}function Gu(O,Y){var Ne,ke=8;for(Ne=0;16>Ne;++Ne)ke+=O[Y+Ne-32];Rl(ke>>4,O,Y)}function Vh(O,Y){Rl(128,O,Y)}function Ea(O,Y,Ne){return O+2*Y+Ne+2>>2}function zc(O,Y){var Ne,ke=Y-32;for(ke=new Uint8Array([Ea(O[ke-1],O[ke+0],O[ke+1]),Ea(O[ke+0],O[ke+1],O[ke+2]),Ea(O[ke+1],O[ke+2],O[ke+3]),Ea(O[ke+2],O[ke+3],O[ke+4])]),Ne=0;4>Ne;++Ne)K(O,Y+32*Ne,ke,0,ke.length)}function gh(O,Y){var Ne=O[Y-1],ke=O[Y-1+32],We=O[Y-1+64],Ge=O[Y-1+96];an(O,Y+0,16843009*Ea(O[Y-1-32],Ne,ke)),an(O,Y+32,16843009*Ea(Ne,ke,We)),an(O,Y+64,16843009*Ea(ke,We,Ge)),an(O,Y+96,16843009*Ea(We,Ge,Ge))}function _c(O,Y){var Ne,ke=4;for(Ne=0;4>Ne;++Ne)ke+=O[Y+Ne-32]+O[Y-1+32*Ne];for(ke>>=3,Ne=0;4>Ne;++Ne)se(O,Y+32*Ne,ke,4)}function No(O,Y){var Ne=O[Y-1+0],ke=O[Y-1+32],We=O[Y-1+64],Ge=O[Y-1-32],Ye=O[Y+0-32],tt=O[Y+1-32],st=O[Y+2-32],yt=O[Y+3-32];O[Y+0+96]=Ea(ke,We,O[Y-1+96]),O[Y+1+96]=O[Y+0+64]=Ea(Ne,ke,We),O[Y+2+96]=O[Y+1+64]=O[Y+0+32]=Ea(Ge,Ne,ke),O[Y+3+96]=O[Y+2+64]=O[Y+1+32]=O[Y+0+0]=Ea(Ye,Ge,Ne),O[Y+3+64]=O[Y+2+32]=O[Y+1+0]=Ea(tt,Ye,Ge),O[Y+3+32]=O[Y+2+0]=Ea(st,tt,Ye),O[Y+3+0]=Ea(yt,st,tt)}function Ll(O,Y){var Ne=O[Y+1-32],ke=O[Y+2-32],We=O[Y+3-32],Ge=O[Y+4-32],Ye=O[Y+5-32],tt=O[Y+6-32],st=O[Y+7-32];O[Y+0+0]=Ea(O[Y+0-32],Ne,ke),O[Y+1+0]=O[Y+0+32]=Ea(Ne,ke,We),O[Y+2+0]=O[Y+1+32]=O[Y+0+64]=Ea(ke,We,Ge),O[Y+3+0]=O[Y+2+32]=O[Y+1+64]=O[Y+0+96]=Ea(We,Ge,Ye),O[Y+3+32]=O[Y+2+64]=O[Y+1+96]=Ea(Ge,Ye,tt),O[Y+3+64]=O[Y+2+96]=Ea(Ye,tt,st),O[Y+3+96]=Ea(tt,st,st)}function oc(O,Y){var Ne=O[Y-1+0],ke=O[Y-1+32],We=O[Y-1+64],Ge=O[Y-1-32],Ye=O[Y+0-32],tt=O[Y+1-32],st=O[Y+2-32],yt=O[Y+3-32];O[Y+0+0]=O[Y+1+64]=Ge+Ye+1>>1,O[Y+1+0]=O[Y+2+64]=Ye+tt+1>>1,O[Y+2+0]=O[Y+3+64]=tt+st+1>>1,O[Y+3+0]=st+yt+1>>1,O[Y+0+96]=Ea(We,ke,Ne),O[Y+0+64]=Ea(ke,Ne,Ge),O[Y+0+32]=O[Y+1+96]=Ea(Ne,Ge,Ye),O[Y+1+32]=O[Y+2+96]=Ea(Ge,Ye,tt),O[Y+2+32]=O[Y+3+96]=Ea(Ye,tt,st),O[Y+3+32]=Ea(tt,st,yt)}function qu(O,Y){var Ne=O[Y+0-32],ke=O[Y+1-32],We=O[Y+2-32],Ge=O[Y+3-32],Ye=O[Y+4-32],tt=O[Y+5-32],st=O[Y+6-32],yt=O[Y+7-32];O[Y+0+0]=Ne+ke+1>>1,O[Y+1+0]=O[Y+0+64]=ke+We+1>>1,O[Y+2+0]=O[Y+1+64]=We+Ge+1>>1,O[Y+3+0]=O[Y+2+64]=Ge+Ye+1>>1,O[Y+0+32]=Ea(Ne,ke,We),O[Y+1+32]=O[Y+0+96]=Ea(ke,We,Ge),O[Y+2+32]=O[Y+1+96]=Ea(We,Ge,Ye),O[Y+3+32]=O[Y+2+96]=Ea(Ge,Ye,tt),O[Y+3+64]=Ea(Ye,tt,st),O[Y+3+96]=Ea(tt,st,yt)}function wl(O,Y){var Ne=O[Y-1+0],ke=O[Y-1+32],We=O[Y-1+64],Ge=O[Y-1+96];O[Y+0+0]=Ne+ke+1>>1,O[Y+2+0]=O[Y+0+32]=ke+We+1>>1,O[Y+2+32]=O[Y+0+64]=We+Ge+1>>1,O[Y+1+0]=Ea(Ne,ke,We),O[Y+3+0]=O[Y+1+32]=Ea(ke,We,Ge),O[Y+3+32]=O[Y+1+64]=Ea(We,Ge,Ge),O[Y+3+64]=O[Y+2+64]=O[Y+0+96]=O[Y+1+96]=O[Y+2+96]=O[Y+3+96]=Ge}function qd(O,Y){var Ne=O[Y-1+0],ke=O[Y-1+32],We=O[Y-1+64],Ge=O[Y-1+96],Ye=O[Y-1-32],tt=O[Y+0-32],st=O[Y+1-32],yt=O[Y+2-32];O[Y+0+0]=O[Y+2+32]=Ne+Ye+1>>1,O[Y+0+32]=O[Y+2+64]=ke+Ne+1>>1,O[Y+0+64]=O[Y+2+96]=We+ke+1>>1,O[Y+0+96]=Ge+We+1>>1,O[Y+3+0]=Ea(tt,st,yt),O[Y+2+0]=Ea(Ye,tt,st),O[Y+1+0]=O[Y+3+32]=Ea(Ne,Ye,tt),O[Y+1+32]=O[Y+3+64]=Ea(ke,Ne,Ye),O[Y+1+64]=O[Y+3+96]=Ea(We,ke,Ne),O[Y+1+96]=Ea(Ge,We,ke)}function el(O,Y){var Ne;for(Ne=0;8>Ne;++Ne)K(O,Y+32*Ne,O,Y-32,8)}function Fd(O,Y){var Ne;for(Ne=0;8>Ne;++Ne)se(O,Y,O[Y-1],8),Y+=32}function Cl(O,Y,Ne){var ke;for(ke=0;8>ke;++ke)se(Y,Ne+32*ke,O,8)}function bu(O,Y){var Ne,ke=8;for(Ne=0;8>Ne;++Ne)ke+=O[Y+Ne-32]+O[Y-1+32*Ne];Cl(ke>>4,O,Y)}function Oc(O,Y){var Ne,ke=4;for(Ne=0;8>Ne;++Ne)ke+=O[Y+Ne-32];Cl(ke>>3,O,Y)}function lc(O,Y){var Ne,ke=4;for(Ne=0;8>Ne;++Ne)ke+=O[Y-1+32*Ne];Cl(ke>>3,O,Y)}function Ul(O,Y){Cl(128,O,Y)}function ps(O,Y,Ne){var ke=O[Y-Ne],We=O[Y+0],Ge=3*(We-ke)+Yc[1020+O[Y-2*Ne]-O[Y+Ne]],Ye=Ql[112+(Ge+4>>3)];O[Y-Ne]=fl[255+ke+Ql[112+(Ge+3>>3)]],O[Y+0]=fl[255+We-Ye]}function Ps(O,Y,Ne,ke){var We=O[Y+0],Ge=O[Y+Ne];return fc[255+O[Y-2*Ne]-O[Y-Ne]]>ke||fc[255+Ge-We]>ke}function Hl(O,Y,Ne,ke){return 4*fc[255+O[Y-Ne]-O[Y+0]]+fc[255+O[Y-2*Ne]-O[Y+Ne]]<=ke}function Bi(O,Y,Ne,ke,We){var Ge=O[Y-3*Ne],Ye=O[Y-2*Ne],tt=O[Y-Ne],st=O[Y+0],yt=O[Y+Ne],Ut=O[Y+2*Ne],cr=O[Y+3*Ne];return 4*fc[255+tt-st]+fc[255+Ye-yt]>ke?0:fc[255+O[Y-4*Ne]-Ge]<=We&&fc[255+Ge-Ye]<=We&&fc[255+Ye-tt]<=We&&fc[255+cr-Ut]<=We&&fc[255+Ut-yt]<=We&&fc[255+yt-st]<=We}function Ui(O,Y,Ne,ke){var We=2*ke+1;for(ke=0;16>ke;++ke)Hl(O,Y+ke,Ne,We)&&ps(O,Y+ke,Ne)}function Fc(O,Y,Ne,ke){var We=2*ke+1;for(ke=0;16>ke;++ke)Hl(O,Y+ke*Ne,1,We)&&ps(O,Y+ke*Ne,1)}function ud(O,Y,Ne,ke){var We;for(We=3;0<We;--We)Ui(O,Y+=4*Ne,Ne,ke)}function Uo(O,Y,Ne,ke){var We;for(We=3;0<We;--We)Fc(O,Y+=4,Ne,ke)}function cc(O,Y,Ne,ke,We,Ge,Ye,tt){for(Ge=2*Ge+1;0<We--;){if(Bi(O,Y,Ne,Ge,Ye))if(Ps(O,Y,Ne,tt))ps(O,Y,Ne);else{var st=O,yt=Y,Ut=Ne,cr=st[yt-2*Ut],vt=st[yt-Ut],Vt=st[yt+0],sr=st[yt+Ut],Er=st[yt+2*Ut],ur=27*(kr=Yc[1020+3*(Vt-vt)+Yc[1020+cr-sr]])+63>>7,Ir=18*kr+63>>7,kr=9*kr+63>>7;st[yt-3*Ut]=fl[255+st[yt-3*Ut]+kr],st[yt-2*Ut]=fl[255+cr+Ir],st[yt-Ut]=fl[255+vt+ur],st[yt+0]=fl[255+Vt-ur],st[yt+Ut]=fl[255+sr-Ir],st[yt+2*Ut]=fl[255+Er-kr]}Y+=ke}}function Kc(O,Y,Ne,ke,We,Ge,Ye,tt){for(Ge=2*Ge+1;0<We--;){if(Bi(O,Y,Ne,Ge,Ye))if(Ps(O,Y,Ne,tt))ps(O,Y,Ne);else{var st=O,yt=Y,Ut=Ne,cr=st[yt-Ut],vt=st[yt+0],Vt=st[yt+Ut],sr=Ql[112+(4+(Er=3*(vt-cr))>>3)],Er=Ql[112+(Er+3>>3)],ur=sr+1>>1;st[yt-2*Ut]=fl[255+st[yt-2*Ut]+ur],st[yt-Ut]=fl[255+cr+Er],st[yt+0]=fl[255+vt-sr],st[yt+Ut]=fl[255+Vt-ur]}Y+=ke}}function Xu(O,Y,Ne,ke,We,Ge){cc(O,Y,Ne,1,16,ke,We,Ge)}function Gc(O,Y,Ne,ke,We,Ge){cc(O,Y,1,Ne,16,ke,We,Ge)}function Yu(O,Y,Ne,ke,We,Ge){var Ye;for(Ye=3;0<Ye;--Ye)Kc(O,Y+=4*Ne,Ne,1,16,ke,We,Ge)}function ve(O,Y,Ne,ke,We,Ge){var Ye;for(Ye=3;0<Ye;--Ye)Kc(O,Y+=4,1,Ne,16,ke,We,Ge)}function Qe(O,Y,Ne,ke,We,Ge,Ye,tt){cc(O,Y,We,1,8,Ge,Ye,tt),cc(Ne,ke,We,1,8,Ge,Ye,tt)}function bt(O,Y,Ne,ke,We,Ge,Ye,tt){cc(O,Y,1,We,8,Ge,Ye,tt),cc(Ne,ke,1,We,8,Ge,Ye,tt)}function Dt(O,Y,Ne,ke,We,Ge,Ye,tt){Kc(O,Y+4*We,We,1,8,Ge,Ye,tt),Kc(Ne,ke+4*We,We,1,8,Ge,Ye,tt)}function rr(O,Y,Ne,ke,We,Ge,Ye,tt){Kc(O,Y+4,1,We,8,Ge,Ye,tt),Kc(Ne,ke+4,1,We,8,Ge,Ye,tt)}function Nr(){this.ba=new Sa,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new rs,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Lr(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Tn(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Hn(){this.ua=0,this.Wa=new xa,this.vb=new xa,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new mr,this.yc=new Ot}function ga(){this.xb=this.a=0,this.l=new Kd,this.ca=new Sa,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Et,this.Pb=0,this.wd=new Et,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Hn,this.ab=0,this.gc=Ie(4,Tn),this.Oc=0}function aa(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Kd,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ra(O,Y,Ne,ke,We,Ge,Ye){for(O=O==null?0:O[Y+0],Y=0;Y<Ye;++Y)We[Ge+Y]=O+Ne[ke+Y]&255,O=We[Ge+Y]}function Us(O,Y,Ne,ke,We,Ge,Ye){var tt;if(O==null)Ra(null,null,Ne,ke,We,Ge,Ye);else for(tt=0;tt<Ye;++tt)We[Ge+tt]=O[Y+tt]+Ne[ke+tt]&255}function $s(O,Y,Ne,ke,We,Ge,Ye){if(O==null)Ra(null,null,Ne,ke,We,Ge,Ye);else{var tt,st=O[Y+0],yt=st,Ut=st;for(tt=0;tt<Ye;++tt)yt=Ut+(st=O[Y+tt])-yt,Ut=Ne[ke+tt]+(-256&yt?0>yt?0:255:yt)&255,yt=st,We[Ge+tt]=Ut}}function gs(O,Y,Ne,ke){var We=Y.width,Ge=Y.o;if(B(O!=null&&Y!=null),0>Ne||0>=ke||Ne+ke>Ge)return null;if(!O.Cc){if(O.ga==null){var Ye;if(O.ga=new aa,(Ye=O.ga==null)||(Ye=Y.width*Y.o,B(O.Gb.length==0),O.Gb=de(Ye),O.Uc=0,O.Gb==null?Ye=0:(O.mb=O.Gb,O.nb=O.Uc,O.rc=null,Ye=1),Ye=!Ye),!Ye){Ye=O.ga;var tt=O.Fa,st=O.P,yt=O.qc,Ut=O.mb,cr=O.nb,vt=st+1,Vt=yt-1,sr=Ye.l;if(B(tt!=null&&Ut!=null&&Y!=null),Wo[0]=null,Wo[1]=Ra,Wo[2]=Us,Wo[3]=$s,Ye.ca=Ut,Ye.tb=cr,Ye.c=Y.width,Ye.i=Y.height,B(0<Ye.c&&0<Ye.i),1>=yt)Y=0;else if(Ye.$a=3&tt[st+0],Ye.Z=tt[st+0]>>2&3,Ye.Lc=tt[st+0]>>4&3,st=tt[st+0]>>6&3,0>Ye.$a||1<Ye.$a||4<=Ye.Z||1<Ye.Lc||st)Y=0;else if(sr.put=ma,sr.ac=Bc,sr.bc=Ei,sr.ma=Ye,sr.width=Y.width,sr.height=Y.height,sr.Da=Y.Da,sr.v=Y.v,sr.va=Y.va,sr.j=Y.j,sr.o=Y.o,Ye.$a)e:{B(Ye.$a==1),Y=Fl();t:for(;;){if(Y==null){Y=0;break e}if(B(Ye!=null),Ye.mc=Y,Y.c=Ye.c,Y.i=Ye.i,Y.l=Ye.l,Y.l.ma=Ye,Y.l.width=Ye.c,Y.l.height=Ye.i,Y.a=0,br(Y.m,tt,vt,Vt),!Yo(Ye.c,Ye.i,1,Y,null)||(Y.ab==1&&Y.gc[0].hc==3&&ll(Y.s)?(Ye.ic=1,tt=Y.c*Y.i,Y.Ta=null,Y.Ua=0,Y.V=de(tt),Y.Ba=0,Y.V==null?(Y.a=1,Y=0):Y=1):(Ye.ic=0,Y=Lo(Y,Ye.c)),!Y))break t;Y=1;break e}Ye.mc=null,Y=0}else Y=Vt>=Ye.c*Ye.i;Ye=!Y}if(Ye)return null;O.ga.Lc!=1?O.Ga=0:ke=Ge-Ne}B(O.ga!=null),B(Ne+ke<=Ge);e:{if(Y=(tt=O.ga).c,Ge=tt.l.o,tt.$a==0){if(vt=O.rc,Vt=O.Vc,sr=O.Fa,st=O.P+1+Ne*Y,yt=O.mb,Ut=O.nb+Ne*Y,B(st<=O.P+O.qc),tt.Z!=0)for(B(Wo[tt.Z]!=null),Ye=0;Ye<ke;++Ye)Wo[tt.Z](vt,Vt,sr,st,yt,Ut,Y),vt=yt,Vt=Ut,Ut+=Y,st+=Y;else for(Ye=0;Ye<ke;++Ye)K(yt,Ut,sr,st,Y),vt=yt,Vt=Ut,Ut+=Y,st+=Y;O.rc=vt,O.Vc=Vt}else{if(B(tt.mc!=null),Y=Ne+ke,B((Ye=tt.mc)!=null),B(Y<=Ye.i),Ye.C>=Y)Y=1;else if(tt.ic||Je(),tt.ic){tt=Ye.V,vt=Ye.Ba,Vt=Ye.c;var Er=Ye.i,ur=(sr=1,st=Ye.$/Vt,yt=Ye.$%Vt,Ut=Ye.m,cr=Ye.s,Ye.$),Ir=Vt*Er,kr=Vt*Y,zr=cr.wc,_r=ur<kr?ho(cr,yt,st):null;B(ur<=Ir),B(Y<=Er),B(ll(cr));t:for(;;){for(;!Ut.h&&ur<kr;){if(yt&zr||(_r=ho(cr,yt,st)),B(_r!=null),dr(Ut),256>(Er=Ls(_r.G[0],_r.H[0],Ut)))tt[vt+ur]=Er,++ur,++yt>=Vt&&(yt=0,++st<=Y&&!(st%16)&&nc(Ye,st));else{if(!(280>Er)){sr=0;break t}Er=Ol(Er-256,Ut);var ta,Fn=Ls(_r.G[4],_r.H[4],Ut);if(dr(Ut),!(ur>=(Fn=Li(Vt,Fn=Ol(Fn,Ut)))&&Ir-ur>=Er)){sr=0;break t}for(ta=0;ta<Er;++ta)tt[vt+ur+ta]=tt[vt+ur+ta-Fn];for(ur+=Er,yt+=Er;yt>=Vt;)yt-=Vt,++st<=Y&&!(st%16)&&nc(Ye,st);ur<kr&&yt&zr&&(_r=ho(cr,yt,st))}B(Ut.h==Yt(Ut))}nc(Ye,st>Y?Y:st);break t}!sr||Ut.h&&ur<Ir?(sr=0,Ye.a=Ut.h?5:3):Ye.$=ur,Y=sr}else Y=to(Ye,Ye.V,Ye.Ba,Ye.c,Ye.i,Y,ac);if(!Y){ke=0;break e}}Ne+ke>=Ge&&(O.Cc=1),ke=1}if(!ke)return null;if(O.Cc&&((ke=O.ga)!=null&&(ke.mc=null),O.ga=null,0<O.Ga))return alert("todo:WebPDequantizeLevels"),null}return O.nb+Ne*We}function mi(O,Y,Ne,ke,We,Ge){for(;0<We--;){var Ye,tt=O,st=Y+(Ne?1:0),yt=O,Ut=Y+(Ne?0:3);for(Ye=0;Ye<ke;++Ye){var cr=yt[Ut+4*Ye];cr!=255&&(cr*=32897,tt[st+4*Ye+0]=tt[st+4*Ye+0]*cr>>23,tt[st+4*Ye+1]=tt[st+4*Ye+1]*cr>>23,tt[st+4*Ye+2]=tt[st+4*Ye+2]*cr>>23)}Y+=Ge}}function _(O,Y,Ne,ke,We){for(;0<ke--;){var Ge;for(Ge=0;Ge<Ne;++Ge){var Ye=O[Y+2*Ge+0],tt=15&(yt=O[Y+2*Ge+1]),st=4369*tt,yt=(240&yt|yt>>4)*st>>16;O[Y+2*Ge+0]=(240&Ye|Ye>>4)*st>>16&240|(15&Ye|Ye<<4)*st>>16>>4&15,O[Y+2*Ge+1]=240&yt|tt}Y+=We}}function Ue(O,Y,Ne,ke,We,Ge,Ye,tt){var st,yt,Ut=255;for(yt=0;yt<We;++yt){for(st=0;st<ke;++st){var cr=O[Y+st];Ge[Ye+4*st]=cr,Ut&=cr}Y+=Ne,Ye+=tt}return Ut!=255}function oe(O,Y,Ne,ke,We){var Ge;for(Ge=0;Ge<We;++Ge)Ne[ke+Ge]=O[Y+Ge]>>8}function Je(){ro=mi,qh=_,ul=Ue,Nu=oe}function gt(O,Y,Ne){Pt[O]=function(ke,We,Ge,Ye,tt,st,yt,Ut,cr,vt,Vt,sr,Er,ur,Ir,kr,zr){var _r,ta=zr-1>>1,Fn=tt[st+0]|yt[Ut+0]<<16,Xa=cr[vt+0]|Vt[sr+0]<<16;B(ke!=null);var wn=3*Fn+Xa+131074>>2;for(Y(ke[We+0],255&wn,wn>>16,Er,ur),Ge!=null&&(wn=3*Xa+Fn+131074>>2,Y(Ge[Ye+0],255&wn,wn>>16,Ir,kr)),_r=1;_r<=ta;++_r){var Ss=tt[st+_r]|yt[Ut+_r]<<16,fn=cr[vt+_r]|Vt[sr+_r]<<16,Wa=Fn+Ss+Xa+fn+524296,Wn=Wa+2*(Ss+Xa)>>3;wn=Wn+Fn>>1,Fn=(Wa=Wa+2*(Fn+fn)>>3)+Ss>>1,Y(ke[We+2*_r-1],255&wn,wn>>16,Er,ur+(2*_r-1)*Ne),Y(ke[We+2*_r-0],255&Fn,Fn>>16,Er,ur+(2*_r-0)*Ne),Ge!=null&&(wn=Wa+Xa>>1,Fn=Wn+fn>>1,Y(Ge[Ye+2*_r-1],255&wn,wn>>16,Ir,kr+(2*_r-1)*Ne),Y(Ge[Ye+2*_r+0],255&Fn,Fn>>16,Ir,kr+(2*_r+0)*Ne)),Fn=Ss,Xa=fn}1&zr||(wn=3*Fn+Xa+131074>>2,Y(ke[We+zr-1],255&wn,wn>>16,Er,ur+(zr-1)*Ne),Ge!=null&&(wn=3*Xa+Fn+131074>>2,Y(Ge[Ye+zr-1],255&wn,wn>>16,Ir,kr+(zr-1)*Ne)))}}function ht(){Ac[Zu]=th,Ac[Xh]=Df,Ac[Yh]=SA,Ac[yh]=EA,Ac[po]=Mf,Ac[Su]=Eu,Ac[yA]=Bu,Ac[kf]=Df,Ac[Jh]=EA,Ac[Pd]=Mf,Ac[_f]=Eu}function or(O){return O&-16384?0>O?0:255:O>>Ep}function Jt(O,Y){return or((19077*O>>8)+(26149*Y>>8)-14234)}function En(O,Y,Ne){return or((19077*O>>8)-(6419*Y>>8)-(13320*Ne>>8)+8708)}function Lt(O,Y){return or((19077*O>>8)+(33050*Y>>8)-17685)}function hr(O,Y,Ne,ke,We){ke[We+0]=Jt(O,Ne),ke[We+1]=En(O,Y,Ne),ke[We+2]=Lt(O,Y)}function ja(O,Y,Ne,ke,We){ke[We+0]=Lt(O,Y),ke[We+1]=En(O,Y,Ne),ke[We+2]=Jt(O,Ne)}function gn(O,Y,Ne,ke,We){var Ge=En(O,Y,Ne);Y=Ge<<3&224|Lt(O,Y)>>3,ke[We+0]=248&Jt(O,Ne)|Ge>>5,ke[We+1]=Y}function $r(O,Y,Ne,ke,We){var Ge=240&Lt(O,Y)|15;ke[We+0]=240&Jt(O,Ne)|En(O,Y,Ne)>>4,ke[We+1]=Ge}function Sr(O,Y,Ne,ke,We){ke[We+0]=255,hr(O,Y,Ne,ke,We+1)}function Vs(O,Y,Ne,ke,We){ja(O,Y,Ne,ke,We),ke[We+3]=255}function wa(O,Y,Ne,ke,We){hr(O,Y,Ne,ke,We),ke[We+3]=255}function sa(O,Y,Ne){Pt[O]=function(ke,We,Ge,Ye,tt,st,yt,Ut,cr){for(var vt=Ut+(-2&cr)*Ne;Ut!=vt;)Y(ke[We+0],Ge[Ye+0],tt[st+0],yt,Ut),Y(ke[We+1],Ge[Ye+0],tt[st+0],yt,Ut+Ne),We+=2,++Ye,++st,Ut+=2*Ne;1&cr&&Y(ke[We+0],Ge[Ye+0],tt[st+0],yt,Ut)}}function Ba(O,Y,Ne){return Ne==0?O==0?Y==0?6:5:Y==0?4:0:Ne}function ns(O,Y,Ne,ke,We){switch(O>>>30){case 3:Nl(Y,Ne,ke,We,0);break;case 2:Qo(Y,Ne,ke,We);break;case 1:ms(Y,Ne,ke,We)}}function dn(O,Y){var Ne,ke,We=Y.M,Ge=Y.Nb,Ye=O.oc,tt=O.pc+40,st=O.oc,yt=O.pc+584,Ut=O.oc,cr=O.pc+600;for(Ne=0;16>Ne;++Ne)Ye[tt+32*Ne-1]=129;for(Ne=0;8>Ne;++Ne)st[yt+32*Ne-1]=129,Ut[cr+32*Ne-1]=129;for(0<We?Ye[tt-1-32]=st[yt-1-32]=Ut[cr-1-32]=129:(se(Ye,tt-32-1,127,21),se(st,yt-32-1,127,9),se(Ut,cr-32-1,127,9)),ke=0;ke<O.za;++ke){var vt=Y.ya[Y.aa+ke];if(0<ke){for(Ne=-1;16>Ne;++Ne)K(Ye,tt+32*Ne-4,Ye,tt+32*Ne+12,4);for(Ne=-1;8>Ne;++Ne)K(st,yt+32*Ne-4,st,yt+32*Ne+4,4),K(Ut,cr+32*Ne-4,Ut,cr+32*Ne+4,4)}var Vt=O.Gd,sr=O.Hd+ke,Er=vt.ad,ur=vt.Hc;if(0<We&&(K(Ye,tt-32,Vt[sr].y,0,16),K(st,yt-32,Vt[sr].f,0,8),K(Ut,cr-32,Vt[sr].ea,0,8)),vt.Za){var Ir=Ye,kr=tt-32+16;for(0<We&&(ke>=O.za-1?se(Ir,kr,Vt[sr].y[15],4):K(Ir,kr,Vt[sr+1].y,0,4)),Ne=0;4>Ne;Ne++)Ir[kr+128+Ne]=Ir[kr+256+Ne]=Ir[kr+384+Ne]=Ir[kr+0+Ne];for(Ne=0;16>Ne;++Ne,ur<<=2)Ir=Ye,kr=tt+Uf[Ne],Wl[vt.Ob[Ne]](Ir,kr),ns(ur,Er,16*+Ne,Ir,kr)}else if(Ir=Ba(ke,We,vt.Ob[0]),Jd[Ir](Ye,tt),ur!=0)for(Ne=0;16>Ne;++Ne,ur<<=2)ns(ur,Er,16*+Ne,Ye,tt+Uf[Ne]);for(Ne=vt.Gc,Ir=Ba(ke,We,vt.Dd),pd[Ir](st,yt),pd[Ir](Ut,cr),ur=Er,Ir=st,kr=yt,255&(vt=0|Ne)&&(170&vt?hc(ur,256,Ir,kr):zs(ur,256,Ir,kr)),vt=Ut,ur=cr,255&(Ne>>=8)&&(170&Ne?hc(Er,320,vt,ur):zs(Er,320,vt,ur)),We<O.Ub-1&&(K(Vt[sr].y,0,Ye,tt+480,16),K(Vt[sr].f,0,st,yt+224,8),K(Vt[sr].ea,0,Ut,cr+224,8)),Ne=8*Ge*O.B,Vt=O.sa,sr=O.ta+16*ke+16*Ge*O.R,Er=O.qa,vt=O.ra+8*ke+Ne,ur=O.Ha,Ir=O.Ia+8*ke+Ne,Ne=0;16>Ne;++Ne)K(Vt,sr+Ne*O.R,Ye,tt+32*Ne,16);for(Ne=0;8>Ne;++Ne)K(Er,vt+Ne*O.B,st,yt+32*Ne,8),K(ur,Ir+Ne*O.B,Ut,cr+32*Ne,8)}}function Oa(O,Y,Ne,ke,We,Ge,Ye,tt,st){var yt=[0],Ut=[0],cr=0,vt=st!=null?st.kd:0,Vt=st??new Lr;if(O==null||12>Ne)return 7;Vt.data=O,Vt.w=Y,Vt.ha=Ne,Y=[Y],Ne=[Ne],Vt.gb=[Vt.gb];e:{var sr=Y,Er=Ne,ur=Vt.gb;if(B(O!=null),B(Er!=null),B(ur!=null),ur[0]=0,12<=Er[0]&&!P(O,sr[0],"RIFF")){if(P(O,sr[0]+8,"WEBP")){ur=3;break e}var Ir=ua(O,sr[0]+4);if(12>Ir||4294967286<Ir){ur=3;break e}if(vt&&Ir>Er[0]-8){ur=7;break e}ur[0]=Ir,sr[0]+=12,Er[0]-=12}ur=0}if(ur!=0)return ur;for(Ir=0<Vt.gb[0],Ne=Ne[0];;){e:{var kr=O;Er=Y,ur=Ne;var zr=yt,_r=Ut,ta=sr=[0];if((wn=cr=[cr])[0]=0,8>ur[0])ur=7;else{if(!P(kr,Er[0],"VP8X")){if(ua(kr,Er[0]+4)!=10){ur=3;break e}if(18>ur[0]){ur=7;break e}var Fn=ua(kr,Er[0]+8),Xa=1+Bn(kr,Er[0]+12);if(2147483648<=Xa*(kr=1+Bn(kr,Er[0]+15))){ur=3;break e}ta!=null&&(ta[0]=Fn),zr!=null&&(zr[0]=Xa),_r!=null&&(_r[0]=kr),Er[0]+=18,ur[0]-=18,wn[0]=1}ur=0}}if(cr=cr[0],sr=sr[0],ur!=0)return ur;if(Er=!!(2&sr),!Ir&&cr)return 3;if(Ge!=null&&(Ge[0]=!!(16&sr)),Ye!=null&&(Ye[0]=Er),tt!=null&&(tt[0]=0),Ye=yt[0],sr=Ut[0],cr&&Er&&st==null){ur=0;break}if(4>Ne){ur=7;break}if(Ir&&cr||!Ir&&!cr&&!P(O,Y[0],"ALPH")){Ne=[Ne],Vt.na=[Vt.na],Vt.P=[Vt.P],Vt.Sa=[Vt.Sa];e:{Fn=O,ur=Y,Ir=Ne;var wn=Vt.gb;zr=Vt.na,_r=Vt.P,ta=Vt.Sa,Xa=22,B(Fn!=null),B(Ir!=null),kr=ur[0];var Ss=Ir[0];for(B(zr!=null),B(ta!=null),zr[0]=null,_r[0]=null,ta[0]=0;;){if(ur[0]=kr,Ir[0]=Ss,8>Ss){ur=7;break e}var fn=ua(Fn,kr+4);if(4294967286<fn){ur=3;break e}var Wa=8+fn+1&-2;if(Xa+=Wa,0<wn&&Xa>wn){ur=3;break e}if(!P(Fn,kr,"VP8 ")||!P(Fn,kr,"VP8L")){ur=0;break e}if(Ss[0]<Wa){ur=7;break e}P(Fn,kr,"ALPH")||(zr[0]=Fn,_r[0]=kr+8,ta[0]=fn),kr+=Wa,Ss-=Wa}}if(Ne=Ne[0],Vt.na=Vt.na[0],Vt.P=Vt.P[0],Vt.Sa=Vt.Sa[0],ur!=0)break}Ne=[Ne],Vt.Ja=[Vt.Ja],Vt.xa=[Vt.xa];e:if(wn=O,ur=Y,Ir=Ne,zr=Vt.gb[0],_r=Vt.Ja,ta=Vt.xa,Fn=ur[0],kr=!P(wn,Fn,"VP8 "),Xa=!P(wn,Fn,"VP8L"),B(wn!=null),B(Ir!=null),B(_r!=null),B(ta!=null),8>Ir[0])ur=7;else{if(kr||Xa){if(wn=ua(wn,Fn+4),12<=zr&&wn>zr-12){ur=3;break e}if(vt&&wn>Ir[0]-8){ur=7;break e}_r[0]=wn,ur[0]+=8,Ir[0]-=8,ta[0]=Xa}else ta[0]=5<=Ir[0]&&wn[Fn+0]==47&&!(wn[Fn+4]>>5),_r[0]=Ir[0];ur=0}if(Ne=Ne[0],Vt.Ja=Vt.Ja[0],Vt.xa=Vt.xa[0],Y=Y[0],ur!=0)break;if(4294967286<Vt.Ja)return 3;if(tt==null||Er||(tt[0]=Vt.xa?2:1),Ye=[Ye],sr=[sr],Vt.xa){if(5>Ne){ur=7;break}tt=Ye,vt=sr,Er=Ge,O==null||5>Ne?O=0:5<=Ne&&O[Y+0]==47&&!(O[Y+4]>>5)?(Ir=[0],wn=[0],zr=[0],br(_r=new Et,O,Y,Ne),Co(_r,Ir,wn,zr)?(tt!=null&&(tt[0]=Ir[0]),vt!=null&&(vt[0]=wn[0]),Er!=null&&(Er[0]=zr[0]),O=1):O=0):O=0}else{if(10>Ne){ur=7;break}tt=sr,O==null||10>Ne||!gu(O,Y+3,Ne-3)?O=0:(vt=O[Y+0]|O[Y+1]<<8|O[Y+2]<<16,Er=16383&(O[Y+7]<<8|O[Y+6]),O=16383&(O[Y+9]<<8|O[Y+8]),1&vt||3<(vt>>1&7)||!(vt>>4&1)||vt>>5>=Vt.Ja||!Er||!O?O=0:(Ye&&(Ye[0]=Er),tt&&(tt[0]=O),O=1))}if(!O||(Ye=Ye[0],sr=sr[0],cr&&(yt[0]!=Ye||Ut[0]!=sr)))return 3;st!=null&&(st[0]=Vt,st.offset=Y-st.w,B(4294967286>Y-st.w),B(st.offset==st.ha-Ne));break}return ur==0||ur==7&&cr&&st==null?(Ge!=null&&(Ge[0]|=Vt.na!=null&&0<Vt.na.length),ke!=null&&(ke[0]=Ye),We!=null&&(We[0]=sr),0):ur}function oi(O,Y,Ne){var ke=Y.width,We=Y.height,Ge=0,Ye=0,tt=ke,st=We;if(Y.Da=O!=null&&0<O.Da,Y.Da&&(tt=O.cd,st=O.bd,Ge=O.v,Ye=O.j,11>Ne||(Ge&=-2,Ye&=-2),0>Ge||0>Ye||0>=tt||0>=st||Ge+tt>ke||Ye+st>We))return 0;if(Y.v=Ge,Y.j=Ye,Y.va=Ge+tt,Y.o=Ye+st,Y.U=tt,Y.T=st,Y.da=O!=null&&0<O.da,Y.da){if(!pn(tt,st,Ne=[O.ib],Ge=[O.hb]))return 0;Y.ib=Ne[0],Y.hb=Ge[0]}return Y.ob=O!=null&&O.ob,Y.Kb=O==null||!O.Sd,Y.da&&(Y.ob=Y.ib<3*ke/4&&Y.hb<3*We/4,Y.Kb=0),1}function ea(O){if(O==null)return 2;if(11>O.S){var Y=O.f.RGBA;Y.fb+=(O.height-1)*Y.A,Y.A=-Y.A}else Y=O.f.kb,O=O.height,Y.O+=(O-1)*Y.fa,Y.fa=-Y.fa,Y.N+=(O-1>>1)*Y.Ab,Y.Ab=-Y.Ab,Y.W+=(O-1>>1)*Y.Db,Y.Db=-Y.Db,Y.F!=null&&(Y.J+=(O-1)*Y.lb,Y.lb=-Y.lb);return 0}function hs(O,Y,Ne,ke){if(ke==null||0>=O||0>=Y)return 2;if(Ne!=null){if(Ne.Da){var We=Ne.cd,Ge=Ne.bd,Ye=-2&Ne.v,tt=-2&Ne.j;if(0>Ye||0>tt||0>=We||0>=Ge||Ye+We>O||tt+Ge>Y)return 2;O=We,Y=Ge}if(Ne.da){if(!pn(O,Y,We=[Ne.ib],Ge=[Ne.hb]))return 2;O=We[0],Y=Ge[0]}}ke.width=O,ke.height=Y;e:{var st=ke.width,yt=ke.height;if(O=ke.S,0>=st||0>=yt||!(O>=Zu&&13>O))O=2;else{if(0>=ke.Rd&&ke.sd==null){Ye=Ge=We=Y=0;var Ut=(tt=st*Hf[O])*yt;if(11>O||(Ge=(yt+1)/2*(Y=(st+1)/2),O==12&&(Ye=(We=st)*yt)),(yt=de(Ut+2*Ge+Ye))==null){O=1;break e}ke.sd=yt,11>O?((st=ke.f.RGBA).eb=yt,st.fb=0,st.A=tt,st.size=Ut):((st=ke.f.kb).y=yt,st.O=0,st.fa=tt,st.Fd=Ut,st.f=yt,st.N=0+Ut,st.Ab=Y,st.Cd=Ge,st.ea=yt,st.W=0+Ut+Ge,st.Db=Y,st.Ed=Ge,O==12&&(st.F=yt,st.J=0+Ut+2*Ge),st.Tc=Ye,st.lb=We)}if(Y=1,We=ke.S,Ge=ke.width,Ye=ke.height,We>=Zu&&13>We)if(11>We)O=ke.f.RGBA,Y&=(tt=Math.abs(O.A))*(Ye-1)+Ge<=O.size,Y&=tt>=Ge*Hf[We],Y&=O.eb!=null;else{O=ke.f.kb,tt=(Ge+1)/2,Ut=(Ye+1)/2,st=Math.abs(O.fa),yt=Math.abs(O.Ab);var cr=Math.abs(O.Db),vt=Math.abs(O.lb),Vt=vt*(Ye-1)+Ge;Y&=st*(Ye-1)+Ge<=O.Fd,Y&=yt*(Ut-1)+tt<=O.Cd,Y=(Y&=cr*(Ut-1)+tt<=O.Ed)&st>=Ge&yt>=tt&cr>=tt,Y&=O.y!=null,Y&=O.f!=null,Y&=O.ea!=null,We==12&&(Y&=vt>=Ge,Y&=Vt<=O.Tc,Y&=O.F!=null)}else Y=0;O=Y?0:2}}return O!=0||Ne!=null&&Ne.fd&&(O=ea(ke)),O}var La=64,Qn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Aa=24,So=32,dc=8,Ho=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Mn("Predictor0","PredictorAdd0"),Pt.Predictor0=function(){return 4278190080},Pt.Predictor1=function(O){return O},Pt.Predictor2=function(O,Y,Ne){return Y[Ne+0]},Pt.Predictor3=function(O,Y,Ne){return Y[Ne+1]},Pt.Predictor4=function(O,Y,Ne){return Y[Ne-1]},Pt.Predictor5=function(O,Y,Ne){return Rn(Rn(O,Y[Ne+1]),Y[Ne+0])},Pt.Predictor6=function(O,Y,Ne){return Rn(O,Y[Ne-1])},Pt.Predictor7=function(O,Y,Ne){return Rn(O,Y[Ne+0])},Pt.Predictor8=function(O,Y,Ne){return Rn(Y[Ne-1],Y[Ne+0])},Pt.Predictor9=function(O,Y,Ne){return Rn(Y[Ne+0],Y[Ne+1])},Pt.Predictor10=function(O,Y,Ne){return Rn(Rn(O,Y[Ne-1]),Rn(Y[Ne+0],Y[Ne+1]))},Pt.Predictor11=function(O,Y,Ne){var ke=Y[Ne+0];return 0>=Pn(ke>>24&255,O>>24&255,(Y=Y[Ne-1])>>24&255)+Pn(ke>>16&255,O>>16&255,Y>>16&255)+Pn(ke>>8&255,O>>8&255,Y>>8&255)+Pn(255&ke,255&O,255&Y)?ke:O},Pt.Predictor12=function(O,Y,Ne){var ke=Y[Ne+0];return(js((O>>24&255)+(ke>>24&255)-((Y=Y[Ne-1])>>24&255))<<24|js((O>>16&255)+(ke>>16&255)-(Y>>16&255))<<16|js((O>>8&255)+(ke>>8&255)-(Y>>8&255))<<8|js((255&O)+(255&ke)-(255&Y)))>>>0},Pt.Predictor13=function(O,Y,Ne){var ke=Y[Ne-1];return(za((O=Rn(O,Y[Ne+0]))>>24&255,ke>>24&255)<<24|za(O>>16&255,ke>>16&255)<<16|za(O>>8&255,ke>>8&255)<<8|za(255&O,255&ke))>>>0};var fo=Pt.PredictorAdd0;Pt.PredictorAdd1=us,Mn("Predictor2","PredictorAdd2"),Mn("Predictor3","PredictorAdd3"),Mn("Predictor4","PredictorAdd4"),Mn("Predictor5","PredictorAdd5"),Mn("Predictor6","PredictorAdd6"),Mn("Predictor7","PredictorAdd7"),Mn("Predictor8","PredictorAdd8"),Mn("Predictor9","PredictorAdd9"),Mn("Predictor10","PredictorAdd10"),Mn("Predictor11","PredictorAdd11"),Mn("Predictor12","PredictorAdd12"),Mn("Predictor13","PredictorAdd13");var uc=Pt.PredictorAdd2;On("ColorIndexInverseTransform","MapARGB","32b",function(O){return O>>8&255},function(O){return O}),On("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(O){return O},function(O){return O>>8&255});var Gi,zh=Pt.ColorIndexInverseTransform,tl=Pt.MapARGB,dl=Pt.VP8LColorIndexInverseTransformAlpha,Ju=Pt.MapAlpha,vh=Pt.VP8LPredictorsAdd=[];vh.length=16,(Pt.VP8LPredictors=[]).length=16,(Pt.VP8LPredictorsAdd_C=[]).length=16,(Pt.VP8LPredictors_C=[]).length=16;var Pc,qc,Xc,Xd,hd,wu,Dc,Nl,Qo,hc,ms,zs,gi,Ao,fd,li,Ad,Cu,Kh,xh,Gh,Yd,Ii,Eo,ro,qh,ul,Nu,bp=de(511),hl=de(2041),Bf=de(225),If=de(767),Tf=0,Yc=hl,Ql=Bf,fl=If,fc=bp,Zu=0,Xh=1,Yh=2,yh=3,po=4,Su=5,yA=6,kf=7,Jh=8,Pd=9,_f=10,Of=[2,3,7],Ff=[3,3,11],jA=[280,256,256,256,40],bA=[0,1,1,1,0],wp=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Cp=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Np=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],wA=8,jh=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Zh=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],eh=null,Pf=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Hm=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],CA=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Qm=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Wm=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ef=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],tf=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Jd=[],Wl=[],pd=[],Sp=1,NA=2,Wo=[],Ac=[];gt("UpsampleRgbLinePair",hr,3),gt("UpsampleBgrLinePair",ja,3),gt("UpsampleRgbaLinePair",wa,4),gt("UpsampleBgraLinePair",Vs,4),gt("UpsampleArgbLinePair",Sr,4),gt("UpsampleRgba4444LinePair",$r,2),gt("UpsampleRgb565LinePair",gn,2);var th=Pt.UpsampleRgbLinePair,SA=Pt.UpsampleBgrLinePair,Df=Pt.UpsampleRgbaLinePair,EA=Pt.UpsampleBgraLinePair,Mf=Pt.UpsampleArgbLinePair,Eu=Pt.UpsampleRgba4444LinePair,Bu=Pt.UpsampleRgb565LinePair,Iu=16,rh=1<<Iu-1,bh=-227,Rf=482,Ep=6,BA=0,IA=de(256),TA=de(256),$l=de(256),Sl=de(256),Lf=de(Rf-bh),kA=de(Rf-bh);sa("YuvToRgbRow",hr,3),sa("YuvToBgrRow",ja,3),sa("YuvToRgbaRow",wa,4),sa("YuvToBgraRow",Vs,4),sa("YuvToArgbRow",Sr,4),sa("YuvToRgba4444Row",$r,2),sa("YuvToRgb565Row",gn,2);var Uf=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],rf=[0,2,8],nf=[8,7,6,4,4,2,2,2,1,1,1,1],wh=1;this.WebPDecodeRGBA=function(O,Y,Ne,ke,We){var Ge=Xh,Ye=new Nr,tt=new Sa;Ye.ba=tt,tt.S=Ge,tt.width=[tt.width],tt.height=[tt.height];var st=tt.width,yt=tt.height,Ut=new In;if(Ut==null||O==null)var cr=2;else B(Ut!=null),cr=Oa(O,Y,Ne,Ut.width,Ut.height,Ut.Pd,Ut.Qd,Ut.format,null);if(cr!=0?st=0:(st!=null&&(st[0]=Ut.width[0]),yt!=null&&(yt[0]=Ut.height[0]),st=1),st){tt.width=tt.width[0],tt.height=tt.height[0],ke!=null&&(ke[0]=tt.width),We!=null&&(We[0]=tt.height);e:{if(ke=new Kd,(We=new Lr).data=O,We.w=Y,We.ha=Ne,We.kd=1,Y=[0],B(We!=null),((O=Oa(We.data,We.w,We.ha,null,null,null,Y,null,We))==0||O==7)&&Y[0]&&(O=4),(Y=O)==0){if(B(Ye!=null),ke.data=We.data,ke.w=We.w+We.offset,ke.ha=We.ha-We.offset,ke.put=ma,ke.ac=Bc,ke.bc=Ei,ke.ma=Ye,We.xa){if((O=Fl())==null){Ye=1;break e}if((function(vt,Vt){var sr=[0],Er=[0],ur=[0];t:for(;;){if(vt==null)return 0;if(Vt==null)return vt.a=2,0;if(vt.l=Vt,vt.a=0,br(vt.m,Vt.data,Vt.w,Vt.ha),!Co(vt.m,sr,Er,ur)){vt.a=3;break t}if(vt.xb=NA,Vt.width=sr[0],Vt.height=Er[0],!Yo(sr[0],Er[0],1,vt,null))break t;return 1}return B(vt.a!=0),0})(O,ke)){if(ke=(Y=hs(ke.width,ke.height,Ye.Oa,Ye.ba))==0){t:{ke=O;r:for(;;){if(ke==null){ke=0;break t}if(B(ke.s.yc!=null),B(ke.s.Ya!=null),B(0<ke.s.Wb),B((Ne=ke.l)!=null),B((We=Ne.ma)!=null),ke.xb!=0){if(ke.ca=We.ba,ke.tb=We.tb,B(ke.ca!=null),!oi(We.Oa,Ne,yh)){ke.a=2;break r}if(!Lo(ke,Ne.width)||Ne.da)break r;if((Ne.da||ya(ke.ca.S))&&Je(),11>ke.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),ke.ca.f.kb.F!=null&&Je()),ke.Pb&&0<ke.s.ua&&ke.s.vb.X==null&&!pt(ke.s.vb,ke.s.Wa.Xa)){ke.a=1;break r}ke.xb=0}if(!to(ke,ke.V,ke.Ba,ke.c,ke.i,Ne.o,eo))break r;We.Dc=ke.Ma,ke=1;break t}B(ke.a!=0),ke=0}ke=!ke}ke&&(Y=O.a)}else Y=O.a}else{if((O=new Ed)==null){Ye=1;break e}if(O.Fa=We.na,O.P=We.P,O.qc=We.Sa,ic(O,ke)){if((Y=hs(ke.width,ke.height,Ye.Oa,Ye.ba))==0){if(O.Aa=0,Ne=Ye.Oa,B((We=O)!=null),Ne!=null){if(0<(st=0>(st=Ne.Md)?0:100<st?255:255*st/100)){for(yt=Ut=0;4>yt;++yt)12>(cr=We.pb[yt]).lc&&(cr.ia=st*nf[0>cr.lc?0:cr.lc]>>3),Ut|=cr.ia;Ut&&(alert("todo:VP8InitRandom"),We.ia=1)}We.Ga=Ne.Id,100<We.Ga?We.Ga=100:0>We.Ga&&(We.Ga=0)}(function(vt,Vt){if(vt==null)return 0;if(Vt==null)return ba(vt,2,"NULL VP8Io parameter in VP8Decode().");if(!vt.cb&&!ic(vt,Vt))return 0;if(B(vt.cb),Vt.ac==null||Vt.ac(Vt)){Vt.ob&&(vt.L=0);var sr=rf[vt.L];if(vt.L==2?(vt.yb=0,vt.zb=0):(vt.yb=Vt.v-sr>>4,vt.zb=Vt.j-sr>>4,0>vt.yb&&(vt.yb=0),0>vt.zb&&(vt.zb=0)),vt.Va=Vt.o+15+sr>>4,vt.Hb=Vt.va+15+sr>>4,vt.Hb>vt.za&&(vt.Hb=vt.za),vt.Va>vt.Ub&&(vt.Va=vt.Ub),0<vt.L){var Er=vt.ed;for(sr=0;4>sr;++sr){var ur;if(vt.Qa.Cb){var Ir=vt.Qa.Lb[sr];vt.Qa.Fb||(Ir+=Er.Tb)}else Ir=Er.Tb;for(ur=0;1>=ur;++ur){var kr=vt.gd[sr][ur],zr=Ir;if(Er.Pc&&(zr+=Er.vd[0],ur&&(zr+=Er.od[0])),0<(zr=0>zr?0:63<zr?63:zr)){var _r=zr;0<Er.wb&&(_r=4<Er.wb?_r>>2:_r>>1)>9-Er.wb&&(_r=9-Er.wb),1>_r&&(_r=1),kr.dd=_r,kr.tc=2*zr+_r,kr.ld=40<=zr?2:15<=zr?1:0}else kr.tc=0;kr.La=ur}}}sr=0}else ba(vt,6,"Frame setup failed"),sr=vt.a;if(sr=sr==0){if(sr){vt.$c=0,0<vt.Aa||(vt.Ic=wh);t:{sr=vt.Ic,Er=4*(_r=vt.za);var ta=32*_r,Fn=_r+1,Xa=0<vt.L?_r*(0<vt.Aa?2:1):0,wn=(vt.Aa==2?2:1)*_r;if((kr=Er+832+(ur=3*(16*sr+rf[vt.L])/2*ta)+(Ir=vt.Fa!=null&&0<vt.Fa.length?vt.Kc.c*vt.Kc.i:0))!=kr)sr=0;else{if(kr>vt.Vb){if(vt.Vb=0,vt.Ec=de(kr),vt.Fc=0,vt.Ec==null){sr=ba(vt,1,"no memory during frame initialization.");break t}vt.Vb=kr}kr=vt.Ec,zr=vt.Fc,vt.Ac=kr,vt.Bc=zr,zr+=Er,vt.Gd=Ie(ta,Vd),vt.Hd=0,vt.rb=Ie(Fn+1,ld),vt.sb=1,vt.wa=Xa?Ie(Xa,Jo):null,vt.Y=0,vt.D.Nb=0,vt.D.wa=vt.wa,vt.D.Y=vt.Y,0<vt.Aa&&(vt.D.Y+=_r),B(!0),vt.oc=kr,vt.pc=zr,zr+=832,vt.ya=Ie(wn,$d),vt.aa=0,vt.D.ya=vt.ya,vt.D.aa=vt.aa,vt.Aa==2&&(vt.D.aa+=_r),vt.R=16*_r,vt.B=8*_r,_r=(ta=rf[vt.L])*vt.R,ta=ta/2*vt.B,vt.sa=kr,vt.ta=zr+_r,vt.qa=vt.sa,vt.ra=vt.ta+16*sr*vt.R+ta,vt.Ha=vt.qa,vt.Ia=vt.ra+8*sr*vt.B+ta,vt.$c=0,zr+=ur,vt.mb=Ir?kr:null,vt.nb=Ir?zr:null,B(zr+Ir<=vt.Fc+vt.Vb),vu(vt),se(vt.Ac,vt.Bc,0,Er),sr=1}}if(sr){if(Vt.ka=0,Vt.y=vt.sa,Vt.O=vt.ta,Vt.f=vt.qa,Vt.N=vt.ra,Vt.ea=vt.Ha,Vt.Vd=vt.Ia,Vt.fa=vt.R,Vt.Rc=vt.B,Vt.F=null,Vt.J=0,!Tf){for(sr=-255;255>=sr;++sr)bp[255+sr]=0>sr?-sr:sr;for(sr=-1020;1020>=sr;++sr)hl[1020+sr]=-128>sr?-128:127<sr?127:sr;for(sr=-112;112>=sr;++sr)Bf[112+sr]=-16>sr?-16:15<sr?15:sr;for(sr=-255;510>=sr;++sr)If[255+sr]=0>sr?0:255<sr?255:sr;Tf=1}Dc=yu,Nl=Gd,hc=Zo,ms=xu,zs=Bd,Qo=Ml,gi=Xu,Ao=Gc,fd=Qe,li=bt,Ad=Yu,Cu=ve,Kh=Dt,xh=rr,Gh=Ui,Yd=Fc,Ii=ud,Eo=Uo,Wl[0]=_c,Wl[1]=Id,Wl[2]=zc,Wl[3]=gh,Wl[4]=No,Wl[5]=oc,Wl[6]=Ll,Wl[7]=qu,Wl[8]=qd,Wl[9]=wl,Jd[0]=$h,Jd[1]=kd,Jd[2]=_d,Jd[3]=ju,Jd[4]=Od,Jd[5]=Gu,Jd[6]=Vh,pd[0]=bu,pd[1]=Td,pd[2]=el,pd[3]=Fd,pd[4]=lc,pd[5]=Oc,pd[6]=Ul,sr=1}else sr=0}sr&&(sr=(function(Ss,fn){for(Ss.M=0;Ss.M<Ss.Va;++Ss.M){var Wa,Wn=Ss.Jc[Ss.M&Ss.Xb],vn=Ss.m,mo=Ss;for(Wa=0;Wa<mo.za;++Wa){var Ua=vn,vs=mo,vi=vs.Ac,Bo=vs.Bc+4*Wa,rl=vs.zc,Hi=vs.ya[vs.aa+Wa];if(vs.Qa.Bb?Hi.$b=Rr(Ua,vs.Pa.jb[0])?2+Rr(Ua,vs.Pa.jb[2]):Rr(Ua,vs.Pa.jb[1]):Hi.$b=0,vs.kc&&(Hi.Ad=Rr(Ua,vs.Bd)),Hi.Za=!Rr(Ua,145)+0,Hi.Za){var nl=Hi.Ob,Al=0;for(vs=0;4>vs;++vs){var bs,Za=rl[0+vs];for(bs=0;4>bs;++bs){Za=Wm[vi[Bo+bs]][Za];for(var ws=CA[Rr(Ua,Za[0])];0<ws;)ws=CA[2*ws+Rr(Ua,Za[ws])];Za=-ws,vi[Bo+bs]=Za}K(nl,Al,vi,Bo,4),Al+=4,rl[0+vs]=Za}}else Za=Rr(Ua,156)?Rr(Ua,128)?1:3:Rr(Ua,163)?2:0,Hi.Ob[0]=Za,se(vi,Bo,Za,4),se(rl,0,Za,4);Hi.Dd=Rr(Ua,142)?Rr(Ua,114)?Rr(Ua,183)?1:3:2:0}if(mo.m.Ka)return ba(Ss,7,"Premature end-of-partition0 encountered.");for(;Ss.ja<Ss.za;++Ss.ja){if(mo=Wn,Ua=(vn=Ss).rb[vn.sb-1],vi=vn.rb[vn.sb+vn.ja],Wa=vn.ya[vn.aa+vn.ja],Bo=vn.kc?Wa.Ad:0)Ua.la=vi.la=0,Wa.Za||(Ua.Na=vi.Na=0),Wa.Hc=0,Wa.Gc=0,Wa.ia=0;else{var qi,Xs;if(Ua=vi,vi=mo,Bo=vn.Pa.Xc,rl=vn.ya[vn.aa+vn.ja],Hi=vn.pb[rl.$b],vs=rl.ad,nl=0,Al=vn.rb[vn.sb-1],Za=bs=0,se(vs,nl,0,384),rl.Za)var xi=0,pc=Bo[3];else{ws=de(16);var Ys=Ua.Na+Al.Na;if(Ys=eh(vi,Bo[1],Ys,Hi.Eb,0,ws,0),Ua.Na=Al.Na=(0<Ys)+0,1<Ys)Dc(ws,0,vs,nl);else{var El=ws[0]+3>>3;for(ws=0;256>ws;ws+=16)vs[nl+ws]=El}xi=1,pc=Bo[0]}var ci=15&Ua.la,on=15&Al.la;for(ws=0;4>ws;++ws){var $o=1&on;for(El=Xs=0;4>El;++El)ci=ci>>1|($o=(Ys=eh(vi,pc,Ys=$o+(1&ci),Hi.Sc,xi,vs,nl))>xi)<<7,Xs=Xs<<2|(3<Ys?3:1<Ys?2:vs[nl+0]!=0),nl+=16;ci>>=4,on=on>>1|$o<<7,bs=(bs<<8|Xs)>>>0}for(pc=ci,xi=on>>4,qi=0;4>qi;qi+=2){for(Xs=0,ci=Ua.la>>4+qi,on=Al.la>>4+qi,ws=0;2>ws;++ws){for($o=1&on,El=0;2>El;++El)Ys=$o+(1&ci),ci=ci>>1|($o=0<(Ys=eh(vi,Bo[2],Ys,Hi.Qc,0,vs,nl)))<<3,Xs=Xs<<2|(3<Ys?3:1<Ys?2:vs[nl+0]!=0),nl+=16;ci>>=2,on=on>>1|$o<<5}Za|=Xs<<4*qi,pc|=ci<<4<<qi,xi|=(240&on)<<qi}Ua.la=pc,Al.la=xi,rl.Hc=bs,rl.Gc=Za,rl.ia=43690&Za?0:Hi.ia,Bo=!(bs|Za)}if(0<vn.L&&(vn.wa[vn.Y+vn.ja]=vn.gd[Wa.$b][Wa.Za],vn.wa[vn.Y+vn.ja].La|=!Bo),mo.Ka)return ba(Ss,7,"Premature end-of-file encountered.")}if(vu(Ss),vn=fn,mo=1,Wa=(Wn=Ss).D,Ua=0<Wn.L&&Wn.M>=Wn.zb&&Wn.M<=Wn.Va,Wn.Aa==0)t:{if(Wa.M=Wn.M,Wa.uc=Ua,dn(Wn,Wa),mo=1,Wa=(Xs=Wn.D).Nb,Ua=(Za=rf[Wn.L])*Wn.R,vi=Za/2*Wn.B,ws=16*Wa*Wn.R,El=8*Wa*Wn.B,Bo=Wn.sa,rl=Wn.ta-Ua+ws,Hi=Wn.qa,vs=Wn.ra-vi+El,nl=Wn.Ha,Al=Wn.Ia-vi+El,on=(ci=Xs.M)==0,bs=ci>=Wn.Va-1,Wn.Aa==2&&dn(Wn,Xs),Xs.uc)for($o=(Ys=Wn).D.M,B(Ys.D.uc),Xs=Ys.yb;Xs<Ys.Hb;++Xs){xi=Xs,pc=$o;var Vo=(Qi=(no=Ys).D).Nb;qi=no.R;var Qi=Qi.wa[Qi.Y+xi],Bl=no.sa,Ka=no.ta+16*Vo*qi+16*xi,Ha=Qi.dd,qn=Qi.tc;if(qn!=0)if(B(3<=qn),no.L==1)0<xi&&Yd(Bl,Ka,qi,qn+4),Qi.La&&Eo(Bl,Ka,qi,qn),0<pc&&Gh(Bl,Ka,qi,qn+4),Qi.La&&Ii(Bl,Ka,qi,qn);else{var Js=no.B,Ds=no.qa,Xi=no.ra+8*Vo*Js+8*xi,Wi=no.Ha,no=no.Ia+8*Vo*Js+8*xi;Vo=Qi.ld,0<xi&&(Ao(Bl,Ka,qi,qn+4,Ha,Vo),li(Ds,Xi,Wi,no,Js,qn+4,Ha,Vo)),Qi.La&&(Cu(Bl,Ka,qi,qn,Ha,Vo),xh(Ds,Xi,Wi,no,Js,qn,Ha,Vo)),0<pc&&(gi(Bl,Ka,qi,qn+4,Ha,Vo),fd(Ds,Xi,Wi,no,Js,qn+4,Ha,Vo)),Qi.La&&(Ad(Bl,Ka,qi,qn,Ha,Vo),Kh(Ds,Xi,Wi,no,Js,qn,Ha,Vo))}}if(Wn.ia&&alert("todo:DitherRow"),vn.put!=null){if(Xs=16*ci,ci=16*(ci+1),on?(vn.y=Wn.sa,vn.O=Wn.ta+ws,vn.f=Wn.qa,vn.N=Wn.ra+El,vn.ea=Wn.Ha,vn.W=Wn.Ia+El):(Xs-=Za,vn.y=Bo,vn.O=rl,vn.f=Hi,vn.N=vs,vn.ea=nl,vn.W=Al),bs||(ci-=Za),ci>vn.o&&(ci=vn.o),vn.F=null,vn.J=null,Wn.Fa!=null&&0<Wn.Fa.length&&Xs<ci&&(vn.J=gs(Wn,vn,Xs,ci-Xs),vn.F=Wn.mb,vn.F==null&&vn.F.length==0)){mo=ba(Wn,3,"Could not decode alpha data.");break t}Xs<vn.j&&(Za=vn.j-Xs,Xs=vn.j,B(!(1&Za)),vn.O+=Wn.R*Za,vn.N+=Wn.B*(Za>>1),vn.W+=Wn.B*(Za>>1),vn.F!=null&&(vn.J+=vn.width*Za)),Xs<ci&&(vn.O+=vn.v,vn.N+=vn.v>>1,vn.W+=vn.v>>1,vn.F!=null&&(vn.J+=vn.v),vn.ka=Xs-vn.j,vn.U=vn.va-vn.v,vn.T=ci-Xs,mo=vn.put(vn))}Wa+1!=Wn.Ic||bs||(K(Wn.sa,Wn.ta-Ua,Bo,rl+16*Wn.R,Ua),K(Wn.qa,Wn.ra-vi,Hi,vs+8*Wn.B,vi),K(Wn.Ha,Wn.Ia-vi,nl,Al+8*Wn.B,vi))}if(!mo)return ba(Ss,6,"Output aborted.")}return 1})(vt,Vt)),Vt.bc!=null&&Vt.bc(Vt),sr&=1}return sr?(vt.cb=0,sr):0})(O,ke)||(Y=O.a)}}else Y=O.a}Y==0&&Ye.Oa!=null&&Ye.Oa.fd&&(Y=ea(Ye.ba))}Ye=Y}Ge=Ye!=0?null:11>Ge?tt.f.RGBA.eb:tt.f.kb.y}else Ge=null;return Ge};var Hf=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function Re(Pt,Ar){for(var ct="",mt=0;mt<4;mt++)ct+=String.fromCharCode(Pt[Ar++]);return ct}function ze(Pt,Ar){return Pt[Ar+0]|Pt[Ar+1]<<8}function nt(Pt,Ar){return(Pt[Ar+0]|Pt[Ar+1]<<8|Pt[Ar+2]<<16)>>>0}function ut(Pt,Ar){return(Pt[Ar+0]|Pt[Ar+1]<<8|Pt[Ar+2]<<16|Pt[Ar+3]<<24)>>>0}new Ce;var Oe=[0],Nt=[0],jt=[],Bt=new Ce,lt=k,Mt=(function(Pt,Ar){var ct={},mt=0,Ot=!1,Ft=0,mr=0;if(ct.frames=[],!(function(Ze,Et){for(var Tt=0;Tt<4;Tt++)if(Ze[Et+Tt]!="RIFF".charCodeAt(Tt))return!0;return!1})(Pt,Ar)){for(ut(Pt,Ar+=4),Ar+=8;Ar<Pt.length;){var yr=Re(Pt,Ar),Cr=ut(Pt,Ar+=4);Ar+=4;var ir=Cr+(1&Cr);switch(yr){case"VP8 ":case"VP8L":ct.frames[mt]===void 0&&(ct.frames[mt]={}),(Gr=ct.frames[mt]).src_off=Ot?mr:Ar-8,Gr.src_size=Ft+Cr+8,mt++,Ot&&(Ot=!1,Ft=0,mr=0);break;case"VP8X":(Gr=ct.header={}).feature_flags=Pt[Ar];var br=Ar+4;Gr.canvas_width=1+nt(Pt,br),br+=3,Gr.canvas_height=1+nt(Pt,br),br+=3;break;case"ALPH":Ot=!0,Ft=ir+8,mr=Ar-8;break;case"ANIM":(Gr=ct.header).bgcolor=ut(Pt,Ar),br=Ar+4,Gr.loop_count=ze(Pt,br),br+=2;break;case"ANMF":var nn,Gr;(Gr=ct.frames[mt]={}).offset_x=2*nt(Pt,Ar),Ar+=3,Gr.offset_y=2*nt(Pt,Ar),Ar+=3,Gr.width=1+nt(Pt,Ar),Ar+=3,Gr.height=1+nt(Pt,Ar),Ar+=3,Gr.duration=nt(Pt,Ar),Ar+=3,nn=Pt[Ar++],Gr.dispose=1&nn,Gr.blend=nn>>1&1}yr!="ANMF"&&(Ar+=ir)}return ct}})(lt,0);Mt.response=lt,Mt.rgbaoutput=!0,Mt.dataurl=!1;var tr=Mt.header?Mt.header:null,kt=Mt.frames?Mt.frames:null;if(tr){tr.loop_counter=tr.loop_count,Oe=[tr.canvas_height],Nt=[tr.canvas_width];for(var at=0;at<kt.length&&kt[at].blend!=0;at++);}var qt=kt[0],pr=Bt.WebPDecodeRGBA(lt,qt.src_off,qt.src_size,Nt,Oe);qt.rgba=pr,qt.imgwidth=Nt[0],qt.imgheight=Oe[0];for(var nr=0;nr<Nt[0]*Oe[0]*4;nr++)jt[nr]=pr[nr];return this.width=Nt,this.height=Oe,this.data=jt,this}(function(k){var B,P,K,se,de,Ie,be,Ce,Re,ze=function(Ze){return Ze=Ze||{},this.isStrokeTransparent=Ze.isStrokeTransparent||!1,this.strokeOpacity=Ze.strokeOpacity||1,this.strokeStyle=Ze.strokeStyle||"#000000",this.fillStyle=Ze.fillStyle||"#000000",this.isFillTransparent=Ze.isFillTransparent||!1,this.fillOpacity=Ze.fillOpacity||1,this.font=Ze.font||"10px sans-serif",this.textBaseline=Ze.textBaseline||"alphabetic",this.textAlign=Ze.textAlign||"left",this.lineWidth=Ze.lineWidth||1,this.lineJoin=Ze.lineJoin||"miter",this.lineCap=Ze.lineCap||"butt",this.path=Ze.path||[],this.transform=Ze.transform!==void 0?Ze.transform.clone():new Ce,this.globalCompositeOperation=Ze.globalCompositeOperation||"normal",this.globalAlpha=Ze.globalAlpha||1,this.clip_path=Ze.clip_path||[],this.currentPoint=Ze.currentPoint||new Ie,this.miterLimit=Ze.miterLimit||10,this.lastPoint=Ze.lastPoint||new Ie,this.lineDashOffset=Ze.lineDashOffset||0,this.lineDash=Ze.lineDash||[],this.margin=Ze.margin||[0,0,0,0],this.prevPageLastElemOffset=Ze.prevPageLastElemOffset||0,this.ignoreClearRect=typeof Ze.ignoreClearRect!="boolean"||Ze.ignoreClearRect,this};k.events.push(["initialized",function(){this.context2d=new nt(this),B=this.internal.f2,P=this.internal.getCoordinateString,K=this.internal.getVerticalCoordinateString,se=this.internal.getHorizontalCoordinate,de=this.internal.getVerticalCoordinate,Ie=this.internal.Point,be=this.internal.Rectangle,Ce=this.internal.Matrix,Re=new ze}]);var nt=function(Ze){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Et=Ze;Object.defineProperty(this,"pdf",{get:function(){return Et}});var Tt=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Tt},set:function(pt){Tt=!!pt}});var Yt=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Yt},set:function(pt){Yt=!!pt}});var er=0;Object.defineProperty(this,"posX",{get:function(){return er},set:function(pt){isNaN(pt)||(er=pt)}});var dr=0;Object.defineProperty(this,"posY",{get:function(){return dr},set:function(pt){isNaN(pt)||(dr=pt)}}),Object.defineProperty(this,"margin",{get:function(){return Re.margin},set:function(pt){var mn;typeof pt=="number"?mn=[pt,pt,pt,pt]:((mn=new Array(4))[0]=pt[0],mn[1]=pt.length>=2?pt[1]:mn[0],mn[2]=pt.length>=3?pt[2]:mn[0],mn[3]=pt.length>=4?pt[3]:mn[1]),Re.margin=mn}});var jr=!1;Object.defineProperty(this,"autoPaging",{get:function(){return jr},set:function(pt){jr=pt}});var wr=0;Object.defineProperty(this,"lastBreak",{get:function(){return wr},set:function(pt){wr=pt}});var Rr=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Rr},set:function(pt){Rr=pt}}),Object.defineProperty(this,"ctx",{get:function(){return Re},set:function(pt){pt instanceof ze&&(Re=pt)}}),Object.defineProperty(this,"path",{get:function(){return Re.path},set:function(pt){Re.path=pt}});var an=[];Object.defineProperty(this,"ctxStack",{get:function(){return an},set:function(pt){an=pt}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(pt){var mn;mn=ut(pt),this.ctx.fillStyle=mn.style,this.ctx.isFillTransparent=mn.a===0,this.ctx.fillOpacity=mn.a,this.pdf.setFillColor(mn.r,mn.g,mn.b,{a:mn.a}),this.pdf.setTextColor(mn.r,mn.g,mn.b,{a:mn.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(pt){var mn=ut(pt);this.ctx.strokeStyle=mn.style,this.ctx.isStrokeTransparent=mn.a===0,this.ctx.strokeOpacity=mn.a,mn.a===0?this.pdf.setDrawColor(255,255,255):(mn.a,this.pdf.setDrawColor(mn.r,mn.g,mn.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(pt){["butt","round","square"].indexOf(pt)!==-1&&(this.ctx.lineCap=pt,this.pdf.setLineCap(pt))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(pt){isNaN(pt)||(this.ctx.lineWidth=pt,this.pdf.setLineWidth(pt))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(pt){["bevel","round","miter"].indexOf(pt)!==-1&&(this.ctx.lineJoin=pt,this.pdf.setLineJoin(pt))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(pt){isNaN(pt)||(this.ctx.miterLimit=pt,this.pdf.setMiterLimit(pt))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(pt){this.ctx.textBaseline=pt}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(pt){["right","end","center","left","start"].indexOf(pt)!==-1&&(this.ctx.textAlign=pt)}});var Sn=null,Bn=null,ua=null;Object.defineProperty(this,"fontFaces",{get:function(){return ua},set:function(pt){Sn=null,Bn=null,ua=pt}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(pt){var mn;if(this.ctx.font=pt,(mn=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(pt))!==null){var xa=mn[1];mn[2];var pn=mn[3],qr=mn[4];mn[5];var la=mn[6],Mn=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(qr)[2];qr=Math.floor(Mn==="px"?parseFloat(qr)*this.pdf.internal.scaleFactor:Mn==="em"?parseFloat(qr)*this.pdf.getFontSize():parseFloat(qr)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(qr);var Zn=(function(On){var Na,As,Ya=[],Ja=On.trim();if(Ja==="")return Oo;if(Ja in Ca)return[Ca[Ja]];for(;Ja!=="";){switch(As=null,Na=(Ja=Qs(Ja)).charAt(0)){case'"':case"'":As=qo(Ja.substring(1),Na);break;default:As=yl(Ja)}if(As===null||(Ya.push(As[0]),(Ja=Qs(As[1]))!==""&&Ja.charAt(0)!==","))return Oo;Ja=Ja.replace(/^,/,"")}return Ya})(la);if(this.fontFaces){var Rn=(function(On,Na){var As=On.getFontList(),Ya=JSON.stringify(As);if(Sn===null||Bn!==Ya){var Ja=(function(ii){var zn=[];return Object.keys(ii).forEach(function(Os){ii[Os].forEach(function(ya){var Vn=null;switch(ya){case"bold":Vn={family:Os,weight:"bold"};break;case"italic":Vn={family:Os,style:"italic"};break;case"bolditalic":Vn={family:Os,weight:"bold",style:"italic"};break;case"":case"normal":Vn={family:Os}}Vn!==null&&(Vn.ref={name:Os,style:ya},zn.push(Vn))})}),zn})(As);Sn=(function(ii){for(var zn={},Os=0;Os<ii.length;++Os){var ya=ys(ii[Os]),Vn=ya.family,Fs=ya.stretch,Sa=ya.style,In=ya.weight;zn[Vn]=zn[Vn]||{},zn[Vn][Fs]=zn[Vn][Fs]||{},zn[Vn][Fs][Sa]=zn[Vn][Fs][Sa]||{},zn[Vn][Fs][Sa][In]=ya}return zn})(Ja.concat(Na)),Bn=Ya}return Sn})(this.pdf,this.fontFaces),js=Zn.map(function(On){return{family:On,stretch:"normal",weight:pn,style:xa}}),za=(function(On,Na,As){for(var Ya=(As=As||{}).defaultFontFamily||"times",Ja=Object.assign({},Ai,As.genericFontFamilies||{}),ii=null,zn=null,Os=0;Os<Na.length;++Os)if(Ja[(ii=ys(Na[Os])).family]&&(ii.family=Ja[ii.family]),On.hasOwnProperty(ii.family)){zn=On[ii.family];break}if(!(zn=zn||On[Ya]))throw new Error("Could not find a font-family for the rule '"+ko(ii)+"' and default family '"+Ya+"'.");if(zn=(function(ya,Vn){if(Vn[ya])return Vn[ya];var Fs=tn[ya],Sa=Fs<=tn.normal?-1:1,In=Va(Vn,Mr,Fs,Sa);if(!In)throw new Error("Could not find a matching font-stretch value for "+ya);return In})(ii.stretch,zn),zn=(function(ya,Vn){if(Vn[ya])return Vn[ya];for(var Fs=Pr[ya],Sa=0;Sa<Fs.length;++Sa)if(Vn[Fs[Sa]])return Vn[Fs[Sa]];throw new Error("Could not find a matching font-style for "+ya)})(ii.style,zn),!(zn=(function(ya,Vn){if(Vn[ya])return Vn[ya];if(ya===400&&Vn[500])return Vn[500];if(ya===500&&Vn[400])return Vn[400];var Fs=Ma[ya],Sa=Va(Vn,Kr,Fs,ya<400?-1:1);if(!Sa)throw new Error("Could not find a matching font-weight for value "+ya);return Sa})(ii.weight,zn)))throw new Error("Failed to resolve a font for the rule '"+ko(ii)+"'.");return zn})(Rn,js);this.pdf.setFont(za.ref.name,za.ref.style)}else{var Pn="";(pn==="bold"||parseInt(pn,10)>=700||xa==="bold")&&(Pn="bold"),xa==="italic"&&(Pn+="italic"),Pn.length===0&&(Pn="normal");for(var us="",ca={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},_n=0;_n<Zn.length;_n++){if(this.pdf.internal.getFont(Zn[_n],Pn,{noFallback:!0,disableWarning:!0})!==void 0){us=Zn[_n];break}if(Pn==="bolditalic"&&this.pdf.internal.getFont(Zn[_n],"bold",{noFallback:!0,disableWarning:!0})!==void 0)us=Zn[_n],Pn="bold";else if(this.pdf.internal.getFont(Zn[_n],"normal",{noFallback:!0,disableWarning:!0})!==void 0){us=Zn[_n],Pn="normal";break}}if(us===""){for(var fa=0;fa<Zn.length;fa++)if(ca[Zn[fa]]){us=ca[Zn[fa]];break}}us=us===""?"Times":us,this.pdf.setFont(us,Pn)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(pt){this.ctx.globalCompositeOperation=pt}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(pt){this.ctx.globalAlpha=pt}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(pt){this.ctx.lineDashOffset=pt,Gr.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(pt){this.ctx.lineDash=pt,Gr.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(pt){this.ctx.ignoreClearRect=!!pt}})};nt.prototype.setLineDash=function(Ze){this.lineDash=Ze},nt.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},nt.prototype.fill=function(){kt.call(this,"fill",!1)},nt.prototype.stroke=function(){kt.call(this,"stroke",!1)},nt.prototype.beginPath=function(){this.path=[{type:"begin"}]},nt.prototype.moveTo=function(Ze,Et){if(isNaN(Ze)||isNaN(Et))throw x.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Tt=this.ctx.transform.applyToPoint(new Ie(Ze,Et));this.path.push({type:"mt",x:Tt.x,y:Tt.y}),this.ctx.lastPoint=new Ie(Ze,Et)},nt.prototype.closePath=function(){var Ze=new Ie(0,0),Et=0;for(Et=this.path.length-1;Et!==-1;Et--)if(this.path[Et].type==="begin"&&(0,u.default)(this.path[Et+1])==="object"&&typeof this.path[Et+1].x=="number"){Ze=new Ie(this.path[Et+1].x,this.path[Et+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new Ie(Ze.x,Ze.y)},nt.prototype.lineTo=function(Ze,Et){if(isNaN(Ze)||isNaN(Et))throw x.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Tt=this.ctx.transform.applyToPoint(new Ie(Ze,Et));this.path.push({type:"lt",x:Tt.x,y:Tt.y}),this.ctx.lastPoint=new Ie(Tt.x,Tt.y)},nt.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),kt.call(this,null,!0)},nt.prototype.quadraticCurveTo=function(Ze,Et,Tt,Yt){if(isNaN(Tt)||isNaN(Yt)||isNaN(Ze)||isNaN(Et))throw x.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var er=this.ctx.transform.applyToPoint(new Ie(Tt,Yt)),dr=this.ctx.transform.applyToPoint(new Ie(Ze,Et));this.path.push({type:"qct",x1:dr.x,y1:dr.y,x:er.x,y:er.y}),this.ctx.lastPoint=new Ie(er.x,er.y)},nt.prototype.bezierCurveTo=function(Ze,Et,Tt,Yt,er,dr){if(isNaN(er)||isNaN(dr)||isNaN(Ze)||isNaN(Et)||isNaN(Tt)||isNaN(Yt))throw x.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var jr=this.ctx.transform.applyToPoint(new Ie(er,dr)),wr=this.ctx.transform.applyToPoint(new Ie(Ze,Et)),Rr=this.ctx.transform.applyToPoint(new Ie(Tt,Yt));this.path.push({type:"bct",x1:wr.x,y1:wr.y,x2:Rr.x,y2:Rr.y,x:jr.x,y:jr.y}),this.ctx.lastPoint=new Ie(jr.x,jr.y)},nt.prototype.arc=function(Ze,Et,Tt,Yt,er,dr){if(isNaN(Ze)||isNaN(Et)||isNaN(Tt)||isNaN(Yt)||isNaN(er))throw x.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(dr=!!dr,!this.ctx.transform.isIdentity){var jr=this.ctx.transform.applyToPoint(new Ie(Ze,Et));Ze=jr.x,Et=jr.y;var wr=this.ctx.transform.applyToPoint(new Ie(0,Tt)),Rr=this.ctx.transform.applyToPoint(new Ie(0,0));Tt=Math.sqrt(Math.pow(wr.x-Rr.x,2)+Math.pow(wr.y-Rr.y,2))}Math.abs(er-Yt)>=2*Math.PI&&(Yt=0,er=2*Math.PI),this.path.push({type:"arc",x:Ze,y:Et,radius:Tt,startAngle:Yt,endAngle:er,counterclockwise:dr})},nt.prototype.arcTo=function(Ze,Et,Tt,Yt,er){throw new Error("arcTo not implemented.")},nt.prototype.rect=function(Ze,Et,Tt,Yt){if(isNaN(Ze)||isNaN(Et)||isNaN(Tt)||isNaN(Yt))throw x.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(Ze,Et),this.lineTo(Ze+Tt,Et),this.lineTo(Ze+Tt,Et+Yt),this.lineTo(Ze,Et+Yt),this.lineTo(Ze,Et),this.lineTo(Ze+Tt,Et),this.lineTo(Ze,Et)},nt.prototype.fillRect=function(Ze,Et,Tt,Yt){if(isNaN(Ze)||isNaN(Et)||isNaN(Tt)||isNaN(Yt))throw x.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!Oe.call(this)){var er={};this.lineCap!=="butt"&&(er.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(er.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(Ze,Et,Tt,Yt),this.fill(),er.hasOwnProperty("lineCap")&&(this.lineCap=er.lineCap),er.hasOwnProperty("lineJoin")&&(this.lineJoin=er.lineJoin)}},nt.prototype.strokeRect=function(Ze,Et,Tt,Yt){if(isNaN(Ze)||isNaN(Et)||isNaN(Tt)||isNaN(Yt))throw x.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");Nt.call(this)||(this.beginPath(),this.rect(Ze,Et,Tt,Yt),this.stroke())},nt.prototype.clearRect=function(Ze,Et,Tt,Yt){if(isNaN(Ze)||isNaN(Et)||isNaN(Tt)||isNaN(Yt))throw x.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(Ze,Et,Tt,Yt))},nt.prototype.save=function(Ze){Ze=typeof Ze!="boolean"||Ze;for(var Et=this.pdf.internal.getCurrentPageInfo().pageNumber,Tt=0;Tt<this.pdf.internal.getNumberOfPages();Tt++)this.pdf.setPage(Tt+1),this.pdf.internal.out("q");if(this.pdf.setPage(Et),Ze){this.ctx.fontSize=this.pdf.internal.getFontSize();var Yt=new ze(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Yt}},nt.prototype.restore=function(Ze){Ze=typeof Ze!="boolean"||Ze;for(var Et=this.pdf.internal.getCurrentPageInfo().pageNumber,Tt=0;Tt<this.pdf.internal.getNumberOfPages();Tt++)this.pdf.setPage(Tt+1),this.pdf.internal.out("Q");this.pdf.setPage(Et),Ze&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},nt.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var ut=function(Ze){var Et,Tt,Yt,er;if(Ze.isCanvasGradient===!0&&(Ze=Ze.getColor()),!Ze)return{r:0,g:0,b:0,a:0,style:Ze};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(Ze))Et=0,Tt=0,Yt=0,er=0;else{var dr=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(Ze);if(dr!==null)Et=parseInt(dr[1]),Tt=parseInt(dr[2]),Yt=parseInt(dr[3]),er=1;else if((dr=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(Ze))!==null)Et=parseInt(dr[1]),Tt=parseInt(dr[2]),Yt=parseInt(dr[3]),er=parseFloat(dr[4]);else{if(er=1,typeof Ze=="string"&&Ze.charAt(0)!=="#"){var jr=new w(Ze);Ze=jr.ok?jr.toHex():"#000000"}Ze.length===4?(Et=Ze.substring(1,2),Et+=Et,Tt=Ze.substring(2,3),Tt+=Tt,Yt=Ze.substring(3,4),Yt+=Yt):(Et=Ze.substring(1,3),Tt=Ze.substring(3,5),Yt=Ze.substring(5,7)),Et=parseInt(Et,16),Tt=parseInt(Tt,16),Yt=parseInt(Yt,16)}}return{r:Et,g:Tt,b:Yt,a:er,style:Ze}},Oe=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},Nt=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};nt.prototype.fillText=function(Ze,Et,Tt,Yt){if(isNaN(Et)||isNaN(Tt)||typeof Ze!="string")throw x.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Yt=isNaN(Yt)?void 0:Yt,!Oe.call(this)){var er=ir(this.ctx.transform.rotation),dr=this.ctx.transform.scaleX;mt.call(this,{text:Ze,x:Et,y:Tt,scale:dr,angle:er,align:this.textAlign,maxWidth:Yt})}},nt.prototype.strokeText=function(Ze,Et,Tt,Yt){if(isNaN(Et)||isNaN(Tt)||typeof Ze!="string")throw x.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!Nt.call(this)){Yt=isNaN(Yt)?void 0:Yt;var er=ir(this.ctx.transform.rotation),dr=this.ctx.transform.scaleX;mt.call(this,{text:Ze,x:Et,y:Tt,scale:dr,renderingMode:"stroke",angle:er,align:this.textAlign,maxWidth:Yt})}},nt.prototype.measureText=function(Ze){if(typeof Ze!="string")throw x.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Et=this.pdf,Tt=this.pdf.internal.scaleFactor,Yt=Et.internal.getFontSize(),er=Et.getStringUnitWidth(Ze)*Yt/Et.internal.scaleFactor;return new function(dr){var jr=(dr=dr||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return jr}}),this}({width:er*=Math.round(96*Tt/72*1e4)/1e4})},nt.prototype.scale=function(Ze,Et){if(isNaN(Ze)||isNaN(Et))throw x.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Tt=new Ce(Ze,0,0,Et,0,0);this.ctx.transform=this.ctx.transform.multiply(Tt)},nt.prototype.rotate=function(Ze){if(isNaN(Ze))throw x.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Et=new Ce(Math.cos(Ze),Math.sin(Ze),-Math.sin(Ze),Math.cos(Ze),0,0);this.ctx.transform=this.ctx.transform.multiply(Et)},nt.prototype.translate=function(Ze,Et){if(isNaN(Ze)||isNaN(Et))throw x.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Tt=new Ce(1,0,0,1,Ze,Et);this.ctx.transform=this.ctx.transform.multiply(Tt)},nt.prototype.transform=function(Ze,Et,Tt,Yt,er,dr){if(isNaN(Ze)||isNaN(Et)||isNaN(Tt)||isNaN(Yt)||isNaN(er)||isNaN(dr))throw x.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var jr=new Ce(Ze,Et,Tt,Yt,er,dr);this.ctx.transform=this.ctx.transform.multiply(jr)},nt.prototype.setTransform=function(Ze,Et,Tt,Yt,er,dr){Ze=isNaN(Ze)?1:Ze,Et=isNaN(Et)?0:Et,Tt=isNaN(Tt)?0:Tt,Yt=isNaN(Yt)?1:Yt,er=isNaN(er)?0:er,dr=isNaN(dr)?0:dr,this.ctx.transform=new Ce(Ze,Et,Tt,Yt,er,dr)};var jt=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};nt.prototype.drawImage=function(Ze,Et,Tt,Yt,er,dr,jr,wr,Rr){var an=this.pdf.getImageProperties(Ze),Sn=1,Bn=1,ua=1,pt=1;Yt!==void 0&&wr!==void 0&&(ua=wr/Yt,pt=Rr/er,Sn=an.width/Yt*wr/Yt,Bn=an.height/er*Rr/er),dr===void 0&&(dr=Et,jr=Tt,Et=0,Tt=0),Yt!==void 0&&wr===void 0&&(wr=Yt,Rr=er),Yt===void 0&&wr===void 0&&(wr=an.width,Rr=an.height);var mn=this.ctx.transform.decompose(),xa=ir(mn.rotate.shx),pn=new Ce,qr=(pn=(pn=(pn=pn.multiply(mn.translate)).multiply(mn.skew)).multiply(mn.scale)).applyToRectangle(new be(dr-Et*ua,jr-Tt*pt,Yt*Sn,er*Bn));if(this.autoPaging){for(var la,Mn=Bt.call(this,qr),Zn=[],Rn=0;Rn<Mn.length;Rn+=1)Zn.indexOf(Mn[Rn])===-1&&Zn.push(Mn[Rn]);tr(Zn);for(var js=Zn[0],za=Zn[Zn.length-1],Pn=js;Pn<za+1;Pn++){this.pdf.setPage(Pn);var us=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ca=Pn===1?this.posY+this.margin[0]:this.margin[0],_n=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],fa=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],On=Pn===1?0:_n+(Pn-2)*fa;if(this.ctx.clip_path.length!==0){var Na=this.path;la=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Mt(la,this.posX+this.margin[3],-On+ca+this.ctx.prevPageLastElemOffset),at.call(this,"fill",!0),this.path=Na}var As=JSON.parse(JSON.stringify(qr));As=Mt([As],this.posX+this.margin[3],-On+ca+this.ctx.prevPageLastElemOffset)[0];var Ya=(Pn>js||Pn<za)&&jt.call(this);Ya&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],us,fa,null).clip().discardPath()),this.pdf.addImage(Ze,"JPEG",As.x,As.y,As.w,As.h,null,null,xa),Ya&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(Ze,"JPEG",qr.x,qr.y,qr.w,qr.h,null,null,xa)};var Bt=function(Ze,Et,Tt){var Yt=[];Et=Et||this.pdf.internal.pageSize.width,Tt=Tt||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var er=this.posY+this.ctx.prevPageLastElemOffset;switch(Ze.type){default:case"mt":case"lt":Yt.push(Math.floor((Ze.y+er)/Tt)+1);break;case"arc":Yt.push(Math.floor((Ze.y+er-Ze.radius)/Tt)+1),Yt.push(Math.floor((Ze.y+er+Ze.radius)/Tt)+1);break;case"qct":var dr=br(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Ze.x1,Ze.y1,Ze.x,Ze.y);Yt.push(Math.floor((dr.y+er)/Tt)+1),Yt.push(Math.floor((dr.y+dr.h+er)/Tt)+1);break;case"bct":var jr=nn(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Ze.x1,Ze.y1,Ze.x2,Ze.y2,Ze.x,Ze.y);Yt.push(Math.floor((jr.y+er)/Tt)+1),Yt.push(Math.floor((jr.y+jr.h+er)/Tt)+1);break;case"rect":Yt.push(Math.floor((Ze.y+er)/Tt)+1),Yt.push(Math.floor((Ze.y+Ze.h+er)/Tt)+1)}for(var wr=0;wr<Yt.length;wr+=1)for(;this.pdf.internal.getNumberOfPages()<Yt[wr];)lt.call(this);return Yt},lt=function(){var Ze=this.fillStyle,Et=this.strokeStyle,Tt=this.font,Yt=this.lineCap,er=this.lineWidth,dr=this.lineJoin;this.pdf.addPage(),this.fillStyle=Ze,this.strokeStyle=Et,this.font=Tt,this.lineCap=Yt,this.lineWidth=er,this.lineJoin=dr},Mt=function(Ze,Et,Tt){for(var Yt=0;Yt<Ze.length;Yt++)switch(Ze[Yt].type){case"bct":Ze[Yt].x2+=Et,Ze[Yt].y2+=Tt;case"qct":Ze[Yt].x1+=Et,Ze[Yt].y1+=Tt;default:Ze[Yt].x+=Et,Ze[Yt].y+=Tt}return Ze},tr=function(Ze){return Ze.sort(function(Et,Tt){return Et-Tt})},kt=function(Ze,Et){var Tt=this.fillStyle,Yt=this.strokeStyle,er=this.lineCap,dr=this.lineWidth,jr=Math.abs(dr*this.ctx.transform.scaleX),wr=this.lineJoin;if(this.autoPaging){for(var Rr,an,Sn=JSON.parse(JSON.stringify(this.path)),Bn=JSON.parse(JSON.stringify(this.path)),ua=[],pt=0;pt<Bn.length;pt++)if(Bn[pt].x!==void 0)for(var mn=Bt.call(this,Bn[pt]),xa=0;xa<mn.length;xa+=1)ua.indexOf(mn[xa])===-1&&ua.push(mn[xa]);for(var pn=0;pn<ua.length;pn++)for(;this.pdf.internal.getNumberOfPages()<ua[pn];)lt.call(this);tr(ua);for(var qr=ua[0],la=ua[ua.length-1],Mn=qr;Mn<la+1;Mn++){this.pdf.setPage(Mn),this.fillStyle=Tt,this.strokeStyle=Yt,this.lineCap=er,this.lineWidth=jr,this.lineJoin=wr;var Zn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Rn=Mn===1?this.posY+this.margin[0]:this.margin[0],js=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],za=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Pn=Mn===1?0:js+(Mn-2)*za;if(this.ctx.clip_path.length!==0){var us=this.path;Rr=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Mt(Rr,this.posX+this.margin[3],-Pn+Rn+this.ctx.prevPageLastElemOffset),at.call(this,Ze,!0),this.path=us}if(an=JSON.parse(JSON.stringify(Sn)),this.path=Mt(an,this.posX+this.margin[3],-Pn+Rn+this.ctx.prevPageLastElemOffset),Et===!1||Mn===0){var ca=(Mn>qr||Mn<la)&&jt.call(this);ca&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Zn,za,null).clip().discardPath()),at.call(this,Ze,Et),ca&&this.pdf.restoreGraphicsState()}this.lineWidth=dr}this.path=Sn}else this.lineWidth=jr,at.call(this,Ze,Et),this.lineWidth=dr},at=function(Ze,Et){if((Ze!=="stroke"||Et||!Nt.call(this))&&(Ze==="stroke"||Et||!Oe.call(this))){for(var Tt,Yt,er=[],dr=this.path,jr=0;jr<dr.length;jr++){var wr=dr[jr];switch(wr.type){case"begin":er.push({begin:!0});break;case"close":er.push({close:!0});break;case"mt":er.push({start:wr,deltas:[],abs:[]});break;case"lt":var Rr=er.length;if(dr[jr-1]&&!isNaN(dr[jr-1].x)&&(Tt=[wr.x-dr[jr-1].x,wr.y-dr[jr-1].y],Rr>0)){for(;Rr>=0;Rr--)if(er[Rr-1].close!==!0&&er[Rr-1].begin!==!0){er[Rr-1].deltas.push(Tt),er[Rr-1].abs.push(wr);break}}break;case"bct":Tt=[wr.x1-dr[jr-1].x,wr.y1-dr[jr-1].y,wr.x2-dr[jr-1].x,wr.y2-dr[jr-1].y,wr.x-dr[jr-1].x,wr.y-dr[jr-1].y],er[er.length-1].deltas.push(Tt);break;case"qct":var an=dr[jr-1].x+2/3*(wr.x1-dr[jr-1].x),Sn=dr[jr-1].y+2/3*(wr.y1-dr[jr-1].y),Bn=wr.x+2/3*(wr.x1-wr.x),ua=wr.y+2/3*(wr.y1-wr.y),pt=wr.x,mn=wr.y;Tt=[an-dr[jr-1].x,Sn-dr[jr-1].y,Bn-dr[jr-1].x,ua-dr[jr-1].y,pt-dr[jr-1].x,mn-dr[jr-1].y],er[er.length-1].deltas.push(Tt);break;case"arc":er.push({deltas:[],abs:[],arc:!0}),Array.isArray(er[er.length-1].abs)&&er[er.length-1].abs.push(wr)}}Yt=Et?null:Ze==="stroke"?"stroke":"fill";for(var xa=!1,pn=0;pn<er.length;pn++)if(er[pn].arc)for(var qr=er[pn].abs,la=0;la<qr.length;la++){var Mn=qr[la];Mn.type==="arc"?nr.call(this,Mn.x,Mn.y,Mn.radius,Mn.startAngle,Mn.endAngle,Mn.counterclockwise,void 0,Et,!xa):Ot.call(this,Mn.x,Mn.y),xa=!0}else if(er[pn].close===!0)this.pdf.internal.out("h"),xa=!1;else if(er[pn].begin!==!0){var Zn=er[pn].start.x,Rn=er[pn].start.y;Ft.call(this,er[pn].deltas,Zn,Rn),xa=!0}Yt&&Pt.call(this,Yt),Et&&Ar.call(this)}},qt=function(Ze){var Et=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Tt=Et*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return Ze-Tt;case"top":return Ze+Et-Tt;case"hanging":return Ze+Et-2*Tt;case"middle":return Ze+Et/2-Tt;default:return Ze}},pr=function(Ze){return Ze+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};nt.prototype.createLinearGradient=function(){var Ze=function(){};return Ze.colorStops=[],Ze.addColorStop=function(Et,Tt){this.colorStops.push([Et,Tt])},Ze.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},Ze.isCanvasGradient=!0,Ze},nt.prototype.createPattern=function(){return this.createLinearGradient()},nt.prototype.createRadialGradient=function(){return this.createLinearGradient()};var nr=function(Ze,Et,Tt,Yt,er,dr,jr,wr,Rr){for(var an=yr.call(this,Tt,Yt,er,dr),Sn=0;Sn<an.length;Sn++){var Bn=an[Sn];Sn===0&&(Rr?ct.call(this,Bn.x1+Ze,Bn.y1+Et):Ot.call(this,Bn.x1+Ze,Bn.y1+Et)),mr.call(this,Ze,Et,Bn.x2,Bn.y2,Bn.x3,Bn.y3,Bn.x4,Bn.y4)}wr?Ar.call(this):Pt.call(this,jr)},Pt=function(Ze){switch(Ze){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Ar=function(){this.pdf.clip(),this.pdf.discardPath()},ct=function(Ze,Et){this.pdf.internal.out(P(Ze)+" "+K(Et)+" m")},mt=function(Ze){var Et;switch(Ze.align){case"right":case"end":Et="right";break;case"center":Et="center";break;default:Et="left"}var Tt,Yt,er,dr=this.pdf.getTextDimensions(Ze.text),jr=qt.call(this,Ze.y),wr=pr.call(this,jr)-dr.h,Rr=this.ctx.transform.applyToPoint(new Ie(Ze.x,jr));if(this.autoPaging){var an=this.ctx.transform.decompose(),Sn=new Ce;Sn=(Sn=(Sn=Sn.multiply(an.translate)).multiply(an.skew)).multiply(an.scale);for(var Bn=this.ctx.transform.applyToRectangle(new be(Ze.x,jr,dr.w,dr.h)),ua=Sn.applyToRectangle(new be(Ze.x,wr,dr.w,dr.h)),pt=Bt.call(this,ua),mn=[],xa=0;xa<pt.length;xa+=1)mn.indexOf(pt[xa])===-1&&mn.push(pt[xa]);tr(mn);for(var pn=mn[0],qr=mn[mn.length-1],la=pn;la<qr+1;la++){this.pdf.setPage(la);var Mn=la===1?this.posY+this.margin[0]:this.margin[0],Zn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Rn=this.pdf.internal.pageSize.height-this.margin[2],js=Rn-this.margin[0],za=this.pdf.internal.pageSize.width-this.margin[1],Pn=za-this.margin[3],us=la===1?0:Zn+(la-2)*js;if(this.ctx.clip_path.length!==0){var ca=this.path;Tt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Mt(Tt,this.posX+this.margin[3],-1*us+Mn),at.call(this,"fill",!0),this.path=ca}var _n=Mt([JSON.parse(JSON.stringify(ua))],this.posX+this.margin[3],-us+Mn+this.ctx.prevPageLastElemOffset)[0];Ze.scale>=.01&&(Yt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Yt*Ze.scale),er=this.lineWidth,this.lineWidth=er*Ze.scale);var fa=this.autoPaging!=="text";if(fa||_n.y+_n.h<=Rn){if(fa||_n.y>=Mn&&_n.x<=za){var On=fa?Ze.text:this.pdf.splitTextToSize(Ze.text,Ze.maxWidth||za-_n.x)[0],Na=Mt([JSON.parse(JSON.stringify(Bn))],this.posX+this.margin[3],-us+Mn+this.ctx.prevPageLastElemOffset)[0],As=fa&&(la>pn||la<qr)&&jt.call(this);As&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Pn,js,null).clip().discardPath()),this.pdf.text(On,Na.x,Na.y,{angle:Ze.angle,align:Et,renderingMode:Ze.renderingMode}),As&&this.pdf.restoreGraphicsState()}}else _n.y<Rn&&(this.ctx.prevPageLastElemOffset+=Rn-_n.y);Ze.scale>=.01&&(this.pdf.setFontSize(Yt),this.lineWidth=er)}}else Ze.scale>=.01&&(Yt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Yt*Ze.scale),er=this.lineWidth,this.lineWidth=er*Ze.scale),this.pdf.text(Ze.text,Rr.x+this.posX,Rr.y+this.posY,{angle:Ze.angle,align:Et,renderingMode:Ze.renderingMode,maxWidth:Ze.maxWidth}),Ze.scale>=.01&&(this.pdf.setFontSize(Yt),this.lineWidth=er)},Ot=function(Ze,Et,Tt,Yt){Tt=Tt||0,Yt=Yt||0,this.pdf.internal.out(P(Ze+Tt)+" "+K(Et+Yt)+" l")},Ft=function(Ze,Et,Tt){return this.pdf.lines(Ze,Et,Tt,null,null)},mr=function(Ze,Et,Tt,Yt,er,dr,jr,wr){this.pdf.internal.out([B(se(Tt+Ze)),B(de(Yt+Et)),B(se(er+Ze)),B(de(dr+Et)),B(se(jr+Ze)),B(de(wr+Et)),"c"].join(" "))},yr=function(Ze,Et,Tt,Yt){for(var er=2*Math.PI,dr=Math.PI/2;Et>Tt;)Et-=er;var jr=Math.abs(Tt-Et);jr<er&&Yt&&(jr=er-jr);for(var wr=[],Rr=Yt?-1:1,an=Et;jr>1e-5;){var Sn=an+Rr*Math.min(jr,dr);wr.push(Cr.call(this,Ze,an,Sn)),jr-=Math.abs(Sn-an),an=Sn}return wr},Cr=function(Ze,Et,Tt){var Yt=(Tt-Et)/2,er=Ze*Math.cos(Yt),dr=Ze*Math.sin(Yt),jr=er,wr=-dr,Rr=jr*jr+wr*wr,an=Rr+jr*er+wr*dr,Sn=4/3*(Math.sqrt(2*Rr*an)-an)/(jr*dr-wr*er),Bn=jr-Sn*wr,ua=wr+Sn*jr,pt=Bn,mn=-ua,xa=Yt+Et,pn=Math.cos(xa),qr=Math.sin(xa);return{x1:Ze*Math.cos(Et),y1:Ze*Math.sin(Et),x2:Bn*pn-ua*qr,y2:Bn*qr+ua*pn,x3:pt*pn-mn*qr,y3:pt*qr+mn*pn,x4:Ze*Math.cos(Tt),y4:Ze*Math.sin(Tt)}},ir=function(Ze){return 180*Ze/Math.PI},br=function(Ze,Et,Tt,Yt,er,dr){var jr=Ze+.5*(Tt-Ze),wr=Et+.5*(Yt-Et),Rr=er+.5*(Tt-er),an=dr+.5*(Yt-dr),Sn=Math.min(Ze,er,jr,Rr),Bn=Math.max(Ze,er,jr,Rr),ua=Math.min(Et,dr,wr,an),pt=Math.max(Et,dr,wr,an);return new be(Sn,ua,Bn-Sn,pt-ua)},nn=function(Ze,Et,Tt,Yt,er,dr,jr,wr){var Rr,an,Sn,Bn,ua,pt,mn,xa,pn,qr,la,Mn,Zn,Rn,js=Tt-Ze,za=Yt-Et,Pn=er-Tt,us=dr-Yt,ca=jr-er,_n=wr-dr;for(an=0;an<41;an++)pn=(mn=(Sn=Ze+(Rr=an/40)*js)+Rr*((ua=Tt+Rr*Pn)-Sn))+Rr*(ua+Rr*(er+Rr*ca-ua)-mn),qr=(xa=(Bn=Et+Rr*za)+Rr*((pt=Yt+Rr*us)-Bn))+Rr*(pt+Rr*(dr+Rr*_n-pt)-xa),an==0?(la=pn,Mn=qr,Zn=pn,Rn=qr):(la=Math.min(la,pn),Mn=Math.min(Mn,qr),Zn=Math.max(Zn,pn),Rn=Math.max(Rn,qr));return new be(Math.round(la),Math.round(Mn),Math.round(Zn-la),Math.round(Rn-Mn))},Gr=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var Ze,Et,Tt=(Ze=this.ctx.lineDash,Et=this.ctx.lineDashOffset,JSON.stringify({lineDash:Ze,lineDashOffset:Et}));this.prevLineDash!==Tt&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Tt)}}})(Ae.API),(function(k){var B=function(Ie){var be,Ce,Re,ze,nt,ut,Oe,Nt,jt,Bt;for(Ce=[],Re=0,ze=(Ie+=be="\0\0\0\0".slice(Ie.length%4||4)).length;ze>Re;Re+=4)(nt=(Ie.charCodeAt(Re)<<24)+(Ie.charCodeAt(Re+1)<<16)+(Ie.charCodeAt(Re+2)<<8)+Ie.charCodeAt(Re+3))!==0?(ut=(nt=((nt=((nt=((nt=(nt-(Bt=nt%85))/85)-(jt=nt%85))/85)-(Nt=nt%85))/85)-(Oe=nt%85))/85)%85,Ce.push(ut+33,Oe+33,Nt+33,jt+33,Bt+33)):Ce.push(122);return(function(lt,Mt){for(var tr=Mt;tr>0;tr--)lt.pop()})(Ce,be.length),String.fromCharCode.apply(String,Ce)+"~>"},P=function(Ie){var be,Ce,Re,ze,nt,ut=String,Oe="length",Nt=255,jt="charCodeAt",Bt="slice",lt="replace";for(Ie[Bt](-2),Ie=Ie[Bt](0,-2)[lt](/\s/g,"")[lt]("z","!!!!!"),Re=[],ze=0,nt=(Ie+=be="uuuuu"[Bt](Ie[Oe]%5||5))[Oe];nt>ze;ze+=5)Ce=52200625*(Ie[jt](ze)-33)+614125*(Ie[jt](ze+1)-33)+7225*(Ie[jt](ze+2)-33)+85*(Ie[jt](ze+3)-33)+(Ie[jt](ze+4)-33),Re.push(Nt&Ce>>24,Nt&Ce>>16,Nt&Ce>>8,Nt&Ce);return(function(Mt,tr){for(var kt=tr;kt>0;kt--)Mt.pop()})(Re,be[Oe]),ut.fromCharCode.apply(ut,Re)},K=function(Ie){return Ie.split("").map(function(be){return("0"+be.charCodeAt().toString(16)).slice(-2)}).join("")+">"},se=function(Ie){var be=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((Ie=Ie.replace(/\s/g,"")).indexOf(">")!==-1&&(Ie=Ie.substr(0,Ie.indexOf(">"))),Ie.length%2&&(Ie+="0"),be.test(Ie)===!1)return"";for(var Ce="",Re=0;Re<Ie.length;Re+=2)Ce+=String.fromCharCode("0x"+(Ie[Re]+Ie[Re+1]));return Ce},de=function(Ie){for(var be=new Uint8Array(Ie.length),Ce=Ie.length;Ce--;)be[Ce]=Ie.charCodeAt(Ce);return(be=(0,h.zlibSync)(be)).reduce(function(Re,ze){return Re+String.fromCharCode(ze)},"")};k.processDataByFilters=function(Ie,be){var Ce=0,Re=Ie||"",ze=[];for(typeof(be=be||[])=="string"&&(be=[be]),Ce=0;Ce<be.length;Ce+=1)switch(be[Ce]){case"ASCII85Decode":case"/ASCII85Decode":Re=P(Re),ze.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":Re=B(Re),ze.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":Re=se(Re),ze.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":Re=K(Re),ze.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":Re=de(Re),ze.push("/FlateDecode");break;default:throw new Error('The filter: "'+be[Ce]+'" is not implemented')}return{data:Re,reverseChain:ze.reverse().join(" ")}}})(Ae.API),(function(k){k.loadFile=function(B,P,K){return(function(se,de,Ie){de=de!==!1,Ie=typeof Ie=="function"?Ie:function(){};var be=void 0;try{be=(function(Ce,Re,ze){var nt=new XMLHttpRequest,ut=0,Oe=function(Nt){var jt=Nt.length,Bt=[],lt=String.fromCharCode;for(ut=0;ut<jt;ut+=1)Bt.push(lt(255&Nt.charCodeAt(ut)));return Bt.join("")};if(nt.open("GET",Ce,!Re),nt.overrideMimeType("text/plain; charset=x-user-defined"),Re===!1&&(nt.onload=function(){nt.status===200?ze(Oe(this.responseText)):ze(void 0)}),nt.send(null),Re&&nt.status===200)return Oe(nt.responseText)})(se,de,Ie)}catch{}return be})(B,P,K)},k.allowFsRead=void 0,k.loadImageFile=k.loadFile})(Ae.API),(function(k){function B(){return(g.html2canvas?Promise.resolve(g.html2canvas):Promise.resolve().then(l.t.bind(l,"html2canvas",23))).catch(function(be){return Promise.reject(new Error("Could not load html2canvas: "+be))}).then(function(be){return be.default?be.default:be})}function P(){return(g.DOMPurify?Promise.resolve(g.DOMPurify):Promise.resolve().then(l.bind(l,"./node_modules/dompurify/dist/purify.es.mjs"))).catch(function(be){return Promise.reject(new Error("Could not load dompurify: "+be))}).then(function(be){return be.default?be.default:be})}var K=function(be){var Ce=(0,u.default)(be);return Ce==="undefined"?"undefined":Ce==="string"||be instanceof String?"string":Ce==="number"||be instanceof Number?"number":Ce==="function"||be instanceof Function?"function":be&&be.constructor===Array?"array":be&&be.nodeType===1?"element":Ce==="object"?"object":"unknown"},se=function(be,Ce){var Re=document.createElement(be);for(var ze in Ce.className&&(Re.className=Ce.className),Ce.innerHTML&&Ce.dompurify&&(Re.innerHTML=Ce.dompurify.sanitize(Ce.innerHTML)),Ce.style)Re.style[ze]=Ce.style[ze];return Re},de=function be(Ce,Re){for(var ze=Ce.nodeType===3?document.createTextNode(Ce.nodeValue):Ce.cloneNode(!1),nt=Ce.firstChild;nt;nt=nt.nextSibling)Re!==!0&&nt.nodeType===1&&nt.nodeName==="SCRIPT"||ze.appendChild(be(nt,Re));return Ce.nodeType===1&&(Ce.nodeName==="CANVAS"?(ze.width=Ce.width,ze.height=Ce.height,ze.getContext("2d").drawImage(Ce,0,0)):Ce.nodeName!=="TEXTAREA"&&Ce.nodeName!=="SELECT"||(ze.value=Ce.value),ze.addEventListener("load",function(){ze.scrollTop=Ce.scrollTop,ze.scrollLeft=Ce.scrollLeft},!0)),ze},Ie=function be(Ce){var Re=Object.assign(be.convert(Promise.resolve()),JSON.parse(JSON.stringify(be.template))),ze=be.convert(Promise.resolve(),Re);return(ze=ze.setProgress(1,be,1,[be])).set(Ce)};(Ie.prototype=Object.create(Promise.prototype)).constructor=Ie,Ie.convert=function(be,Ce){return be.__proto__=Ce||Ie.prototype,be},Ie.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},Ie.prototype.from=function(be,Ce){return this.then(function(){switch(Ce=Ce||(function(Re){switch(K(Re)){case"string":return"string";case"element":return Re.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(be),Ce){case"string":return this.then(P).then(function(Re){return this.set({src:se("div",{innerHTML:be,dompurify:Re})})});case"element":return this.set({src:be});case"canvas":return this.set({canvas:be});case"img":return this.set({img:be});default:return this.error("Unknown source type.")}})},Ie.prototype.to=function(be){switch(be){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},Ie.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var be={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},Ce=de(this.prop.src,this.opt.html2canvas.javascriptEnabled);Ce.tagName==="BODY"&&(be.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=se("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=se("div",{className:"html2pdf__container",style:be}),this.prop.container.appendChild(Ce),this.prop.container.firstChild.appendChild(se("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},Ie.prototype.toCanvas=function(){var be=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(be).then(B).then(function(Ce){var Re=Object.assign({},this.opt.html2canvas);return delete Re.onrendered,Ce(this.prop.container,Re)}).then(function(Ce){(this.opt.html2canvas.onrendered||function(){})(Ce),this.prop.canvas=Ce,document.body.removeChild(this.prop.overlay)})},Ie.prototype.toContext2d=function(){var be=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(be).then(B).then(function(Ce){var Re=this.opt.jsPDF,ze=this.opt.fontFaces,nt=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,ut=Object.assign({async:!0,allowTaint:!0,scale:nt,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete ut.onrendered,Re.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,Re.context2d.posX=this.opt.x,Re.context2d.posY=this.opt.y,Re.context2d.margin=this.opt.margin,Re.context2d.fontFaces=ze,ze)for(var Oe=0;Oe<ze.length;++Oe){var Nt=ze[Oe],jt=Nt.src.find(function(Bt){return Bt.format==="truetype"});jt&&Re.addFont(jt.url,Nt.ref.name,Nt.ref.style)}return ut.windowHeight=ut.windowHeight||0,ut.windowHeight=ut.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):ut.windowHeight,Re.context2d.save(!0),Ce(this.prop.container,ut)}).then(function(Ce){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(Ce),this.prop.canvas=Ce,document.body.removeChild(this.prop.overlay)})},Ie.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var be=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=be})},Ie.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},Ie.prototype.output=function(be,Ce,Re){return(Re=Re||"pdf").toLowerCase()==="img"||Re.toLowerCase()==="image"?this.outputImg(be,Ce):this.outputPdf(be,Ce)},Ie.prototype.outputPdf=function(be,Ce){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(be,Ce)})},Ie.prototype.outputImg=function(be){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(be){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+be+'" is not supported.'}})},Ie.prototype.save=function(be){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(be?{filename:be}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},Ie.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},Ie.prototype.set=function(be){if(K(be)!=="object")return this;var Ce=Object.keys(be||{}).map(function(Re){if(Re in Ie.template.prop)return function(){this.prop[Re]=be[Re]};switch(Re){case"margin":return this.setMargin.bind(this,be.margin);case"jsPDF":return function(){return this.opt.jsPDF=be.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,be.pageSize);default:return function(){this.opt[Re]=be[Re]}}},this);return this.then(function(){return this.thenList(Ce)})},Ie.prototype.get=function(be,Ce){return this.then(function(){var Re=be in Ie.template.prop?this.prop[be]:this.opt[be];return Ce?Ce(Re):Re})},Ie.prototype.setMargin=function(be){return this.then(function(){switch(K(be)){case"number":be=[be,be,be,be];case"array":if(be.length===2&&(be=[be[0],be[1],be[0],be[1]]),be.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=be}).then(this.setPageSize)},Ie.prototype.setPageSize=function(be){function Ce(Re,ze){return Math.floor(Re*ze/72*96)}return this.then(function(){(be=be||Ae.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(be.inner={width:be.width-this.opt.margin[1]-this.opt.margin[3],height:be.height-this.opt.margin[0]-this.opt.margin[2]},be.inner.px={width:Ce(be.inner.width,be.k),height:Ce(be.inner.height,be.k)},be.inner.ratio=be.inner.height/be.inner.width),this.prop.pageSize=be})},Ie.prototype.setProgress=function(be,Ce,Re,ze){return be!=null&&(this.progress.val=be),Ce!=null&&(this.progress.state=Ce),Re!=null&&(this.progress.n=Re),ze!=null&&(this.progress.stack=ze),this.progress.ratio=this.progress.val/this.progress.state,this},Ie.prototype.updateProgress=function(be,Ce,Re,ze){return this.setProgress(be?this.progress.val+be:null,Ce||null,Re?this.progress.n+Re:null,ze?this.progress.stack.concat(ze):null)},Ie.prototype.then=function(be,Ce){var Re=this;return this.thenCore(be,Ce,function(ze,nt){return Re.updateProgress(null,null,1,[ze]),Promise.prototype.then.call(this,function(ut){return Re.updateProgress(null,ze),ut}).then(ze,nt).then(function(ut){return Re.updateProgress(1),ut})})},Ie.prototype.thenCore=function(be,Ce,Re){Re=Re||Promise.prototype.then;var ze=this;be&&(be=be.bind(ze)),Ce&&(Ce=Ce.bind(ze));var nt=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?ze:Ie.convert(Object.assign({},ze),Promise.prototype),ut=Re.call(nt,be,Ce);return Ie.convert(ut,ze.__proto__)},Ie.prototype.thenExternal=function(be,Ce){return Promise.prototype.then.call(this,be,Ce)},Ie.prototype.thenList=function(be){var Ce=this;return be.forEach(function(Re){Ce=Ce.thenCore(Re)}),Ce},Ie.prototype.catch=function(be){be&&(be=be.bind(this));var Ce=Promise.prototype.catch.call(this,be);return Ie.convert(Ce,this)},Ie.prototype.catchExternal=function(be){return Promise.prototype.catch.call(this,be)},Ie.prototype.error=function(be){return this.then(function(){throw new Error(be)})},Ie.prototype.using=Ie.prototype.set,Ie.prototype.saveAs=Ie.prototype.save,Ie.prototype.export=Ie.prototype.output,Ie.prototype.run=Ie.prototype.then,Ae.getPageSize=function(be,Ce,Re){if((0,u.default)(be)==="object"){var ze=be;be=ze.orientation,Ce=ze.unit||Ce,Re=ze.format||Re}Ce=Ce||"mm",Re=Re||"a4",be=(""+(be||"P")).toLowerCase();var nt,ut=(""+Re).toLowerCase(),Oe={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(Ce){case"pt":nt=1;break;case"mm":nt=2.834645669291339;break;case"cm":nt=28.346456692913385;break;case"in":nt=72;break;case"px":nt=.75;break;case"pc":case"em":nt=12;break;case"ex":nt=6;break;default:throw"Invalid unit: "+Ce}var Nt,jt=0,Bt=0;if(Oe.hasOwnProperty(ut))jt=Oe[ut][1]/nt,Bt=Oe[ut][0]/nt;else try{jt=Re[1],Bt=Re[0]}catch{throw new Error("Invalid format: "+Re)}if(be==="p"||be==="portrait")be="p",Bt>jt&&(Nt=Bt,Bt=jt,jt=Nt);else{if(be!=="l"&&be!=="landscape")throw"Invalid orientation: "+be;be="l",jt>Bt&&(Nt=Bt,Bt=jt,jt=Nt)}return{width:Bt,height:jt,unit:Ce,k:nt,orientation:be}},k.html=function(be,Ce){(Ce=Ce||{}).callback=Ce.callback||function(){},Ce.html2canvas=Ce.html2canvas||{},Ce.html2canvas.canvas=Ce.html2canvas.canvas||this.canvas,Ce.jsPDF=Ce.jsPDF||this,Ce.fontFaces=Ce.fontFaces?Ce.fontFaces.map(ys):null;var Re=new Ie(Ce);return Ce.worker?Re:Re.from(be).doCallback()}})(Ae.API),Ae.API.addJS=function(k){return jo=k,this.internal.events.subscribe("postPutResources",function(){Xo=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Xo+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Is=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+jo+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Xo!==void 0&&Is!==void 0&&this.internal.out("/Names <</JavaScript "+Xo+" 0 R>>")}),this},(function(k){var B;k.events.push(["postPutResources",function(){var P=this,K=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var se=P.outline.render().split(/\r\n/),de=0;de<se.length;de++){var Ie=se[de],be=K.exec(Ie);if(be!=null){var Ce=be[1];P.internal.newObjectDeferredBegin(Ce,!1)}P.internal.write(Ie)}if(this.outline.createNamedDestinations){var Re=this.internal.pages.length,ze=[];for(de=0;de<Re;de++){var nt=P.internal.newObject();ze.push(nt);var ut=P.internal.getPageInfo(de+1);P.internal.write("<< /D["+ut.objId+" 0 R /XYZ null null null]>> endobj")}var Oe=P.internal.newObject();for(P.internal.write("<< /Names [ "),de=0;de<ze.length;de++)P.internal.write("(page_"+(de+1)+")"+ze[de]+" 0 R");P.internal.write(" ] >>","endobj"),B=P.internal.newObject(),P.internal.write("<< /Dests "+Oe+" 0 R"),P.internal.write(">>","endobj")}}]),k.events.push(["putCatalog",function(){var P=this;P.outline.root.children.length>0&&(P.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&P.internal.write("/Names "+B+" 0 R"))}]),k.events.push(["initialized",function(){var P=this;P.outline={createNamedDestinations:!1,root:{children:[]}},P.outline.add=function(K,se,de){var Ie={title:se,options:de,children:[]};return K==null&&(K=this.root),K.children.push(Ie),Ie},P.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=P,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},P.outline.genIds_r=function(K){K.id=P.internal.newObjectDeferred();for(var se=0;se<K.children.length;se++)this.genIds_r(K.children[se])},P.outline.renderRoot=function(K){this.objStart(K),this.line("/Type /Outlines"),K.children.length>0&&(this.line("/First "+this.makeRef(K.children[0])),this.line("/Last "+this.makeRef(K.children[K.children.length-1]))),this.line("/Count "+this.count_r({count:0},K)),this.objEnd()},P.outline.renderItems=function(K){for(var se=this.ctx.pdf.internal.getVerticalCoordinateString,de=0;de<K.children.length;de++){var Ie=K.children[de];this.objStart(Ie),this.line("/Title "+this.makeString(Ie.title)),this.line("/Parent "+this.makeRef(K)),de>0&&this.line("/Prev "+this.makeRef(K.children[de-1])),de<K.children.length-1&&this.line("/Next "+this.makeRef(K.children[de+1])),Ie.children.length>0&&(this.line("/First "+this.makeRef(Ie.children[0])),this.line("/Last "+this.makeRef(Ie.children[Ie.children.length-1])));var be=this.count=this.count_r({count:0},Ie);if(be>0&&this.line("/Count "+be),Ie.options&&Ie.options.pageNumber){var Ce=P.internal.getPageInfo(Ie.options.pageNumber);this.line("/Dest ["+Ce.objId+" 0 R /XYZ 0 "+se(0)+" 0]")}this.objEnd()}for(var Re=0;Re<K.children.length;Re++)this.renderItems(K.children[Re])},P.outline.line=function(K){this.ctx.val+=K+`\r
`},P.outline.makeRef=function(K){return K.id+" 0 R"},P.outline.makeString=function(K){return"("+P.internal.pdfEscape(K)+")"},P.outline.objStart=function(K){this.ctx.val+=`\r
`+K.id+` 0 obj\r
<<\r
`},P.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},P.outline.count_r=function(K,se){for(var de=0;de<se.children.length;de++)K.count++,this.count_r(K,se.children[de]);return K.count}}])})(Ae.API),(function(k){var B=[192,193,194,195,196,197,198,199];k.processJPEG=function(P,K,se,de,Ie,be){var Ce,Re=this.decode.DCT_DECODE,ze=null;if(typeof P=="string"||this.__addimage__.isArrayBuffer(P)||this.__addimage__.isArrayBufferView(P)){switch(P=Ie||P,P=this.__addimage__.isArrayBuffer(P)?new Uint8Array(P):P,Ce=(function(nt){for(var ut,Oe=256*nt.charCodeAt(4)+nt.charCodeAt(5),Nt=nt.length,jt={width:0,height:0,numcomponents:1},Bt=4;Bt<Nt;Bt+=2){if(Bt+=Oe,B.indexOf(nt.charCodeAt(Bt+1))!==-1){ut=256*nt.charCodeAt(Bt+5)+nt.charCodeAt(Bt+6),jt={width:256*nt.charCodeAt(Bt+7)+nt.charCodeAt(Bt+8),height:ut,numcomponents:nt.charCodeAt(Bt+9)};break}Oe=256*nt.charCodeAt(Bt+2)+nt.charCodeAt(Bt+3)}return jt})(P=this.__addimage__.isArrayBufferView(P)?this.__addimage__.arrayBufferToBinaryString(P):P),Ce.numcomponents){case 1:be=this.color_spaces.DEVICE_GRAY;break;case 4:be=this.color_spaces.DEVICE_CMYK;break;case 3:be=this.color_spaces.DEVICE_RGB}ze={data:P,width:Ce.width,height:Ce.height,colorSpace:be,bitsPerComponent:8,filter:Re,index:K,alias:se}}return ze}})(Ae.API),Ae.API.processPNG=function(k,B,P,K){if(this.__addimage__.isArrayBuffer(k)&&(k=new Uint8Array(k)),this.__addimage__.isArrayBufferView(k)){var se,de=(0,A.decode)(k,{checkCrc:!0}),Ie=de.width,be=de.height,Ce=de.channels,Re=de.palette,ze=de.depth;se=Re&&Ce===1?(function(nr){for(var Pt=nr.width,Ar=nr.height,ct=nr.data,mt=nr.palette,Ot=nr.depth,Ft=!1,mr=[],yr=[],Cr=void 0,ir=!1,br=0,nn=0;nn<mt.length;nn++){var Gr=(0,f.default)(mt[nn],4),Ze=Gr[0],Et=Gr[1],Tt=Gr[2],Yt=Gr[3];mr.push(Ze,Et,Tt),Yt!=null&&(Yt===0?(br++,yr.length<1&&yr.push(nn)):Yt<255&&(ir=!0))}if(ir||br>1){Ft=!0,yr=void 0;var er=Pt*Ar;Cr=new Uint8Array(er);for(var dr=new DataView(ct.buffer),jr=0;jr<er;jr++){var wr=pi(dr,jr,Ot),Rr=(0,f.default)(mt[wr],4)[3];Cr[jr]=Rr}}else br===0&&(yr=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:Ft?8:void 0,colorBytes:ct,alphaBytes:Cr,needSMask:Ft,palette:mr,mask:yr}})(de):Ce===2||Ce===4?(function(nr){for(var Pt=nr.data,Ar=nr.width,ct=nr.height,mt=nr.channels,Ot=nr.depth,Ft=mt===2?"DeviceGray":"DeviceRGB",mr=mt-1,yr=Ar*ct,Cr=mr,ir=yr*Cr,br=1*yr,nn=Math.ceil(ir*Ot/8),Gr=Math.ceil(br*Ot/8),Ze=new Uint8Array(nn),Et=new Uint8Array(Gr),Tt=new DataView(Pt.buffer),Yt=new DataView(Ze.buffer),er=new DataView(Et.buffer),dr=!1,jr=0;jr<yr;jr++){for(var wr=jr*mt,Rr=0;Rr<Cr;Rr++)Gn(Yt,pi(Tt,wr+Rr,Ot),jr*Cr+Rr,Ot);var an=pi(Tt,wr+Cr,Ot);an<(1<<Ot)-1&&(dr=!0),Gn(er,an,1*jr,Ot)}return{colorSpace:Ft,colorsPerPixel:mr,sMaskBitsPerComponent:dr?Ot:void 0,colorBytes:Ze,alphaBytes:Et,needSMask:dr}})(de):(function(nr){var Pt=nr.data,Ar=nr.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:Ar,colorsPerPixel:Ar==="DeviceGray"?1:3,colorBytes:Pt instanceof Uint16Array?(function(ct){for(var mt=ct.length,Ot=new Uint8Array(2*mt),Ft=new DataView(Ot.buffer,Ot.byteOffset,Ot.byteLength),mr=0;mr<mt;mr++)Ft.setUint16(2*mr,ct[mr],!1);return Ot})(Pt):Pt,needSMask:!1}})(de);var nt,ut,Oe,Nt=se,jt=Nt.colorSpace,Bt=Nt.colorsPerPixel,lt=Nt.sMaskBitsPerComponent,Mt=Nt.colorBytes,tr=Nt.alphaBytes,kt=Nt.needSMask,at=Nt.palette,qt=Nt.mask,pr=null;return K!==Ae.API.image_compression.NONE&&typeof h.zlibSync=="function"?(pr=(function(nr){var Pt;switch(nr){case Ae.API.image_compression.FAST:Pt=11;break;case Ae.API.image_compression.MEDIUM:Pt=13;break;case Ae.API.image_compression.SLOW:Pt=14;break;default:Pt=12}return Pt})(K),nt=this.decode.FLATE_DECODE,ut="/Predictor ".concat(pr," /Colors ").concat(Bt," /BitsPerComponent ").concat(ze," /Columns ").concat(Ie),k=ol(Mt,Math.ceil(Ie*Bt*ze/8),Bt,ze,K),kt&&(Oe=ol(tr,Math.ceil(Ie*lt/8),1,lt,K))):(nt=void 0,ut=void 0,k=Mt,kt&&(Oe=tr)),(this.__addimage__.isArrayBuffer(k)||this.__addimage__.isArrayBufferView(k))&&(k=this.__addimage__.arrayBufferToBinaryString(k)),(Oe&&this.__addimage__.isArrayBuffer(Oe)||this.__addimage__.isArrayBufferView(Oe))&&(Oe=this.__addimage__.arrayBufferToBinaryString(Oe)),{alias:P,data:k,index:B,filter:nt,decodeParameters:ut,transparency:qt,palette:at,sMask:Oe,predictor:pr,width:Ie,height:be,bitsPerComponent:ze,sMaskBitsPerComponent:lt,colorSpace:jt}}},(function(k){k.processGIF89A=function(B,P,K,se){var de=new Ci(B),Ie=de.width,be=de.height,Ce=[];de.decodeAndBlitFrameRGBA(0,Ce);var Re={data:Ce,width:Ie,height:be},ze=new Do(100).encode(Re,100);return k.processJPEG.call(this,ze,P,K,se)},k.processGIF87A=k.processGIF89A})(Ae.API),Ws.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var k=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(k);for(var B=0;B<k;B++){var P=this.datav.getUint8(this.pos++,!0),K=this.datav.getUint8(this.pos++,!0),se=this.datav.getUint8(this.pos++,!0),de=this.datav.getUint8(this.pos++,!0);this.palette[B]={red:se,green:K,blue:P,quad:de}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ws.prototype.parseBGR=function(){this.pos=this.offset;try{var k="bit"+this.bitPP,B=this.width*this.height*4;this.data=new Uint8Array(B),this[k]()}catch(P){x.log("bit decode error:"+P)}},Ws.prototype.bit1=function(){var k,B=Math.ceil(this.width/8),P=B%4;for(k=this.height-1;k>=0;k--){for(var K=this.bottom_up?k:this.height-1-k,se=0;se<B;se++)for(var de=this.datav.getUint8(this.pos++,!0),Ie=K*this.width*4+8*se*4,be=0;be<8&&8*se+be<this.width;be++){var Ce=this.palette[de>>7-be&1];this.data[Ie+4*be]=Ce.blue,this.data[Ie+4*be+1]=Ce.green,this.data[Ie+4*be+2]=Ce.red,this.data[Ie+4*be+3]=255}P!==0&&(this.pos+=4-P)}},Ws.prototype.bit4=function(){for(var k=Math.ceil(this.width/2),B=k%4,P=this.height-1;P>=0;P--){for(var K=this.bottom_up?P:this.height-1-P,se=0;se<k;se++){var de=this.datav.getUint8(this.pos++,!0),Ie=K*this.width*4+2*se*4,be=de>>4,Ce=15&de,Re=this.palette[be];if(this.data[Ie]=Re.blue,this.data[Ie+1]=Re.green,this.data[Ie+2]=Re.red,this.data[Ie+3]=255,2*se+1>=this.width)break;Re=this.palette[Ce],this.data[Ie+4]=Re.blue,this.data[Ie+4+1]=Re.green,this.data[Ie+4+2]=Re.red,this.data[Ie+4+3]=255}B!==0&&(this.pos+=4-B)}},Ws.prototype.bit8=function(){for(var k=this.width%4,B=this.height-1;B>=0;B--){for(var P=this.bottom_up?B:this.height-1-B,K=0;K<this.width;K++){var se=this.datav.getUint8(this.pos++,!0),de=P*this.width*4+4*K;if(se<this.palette.length){var Ie=this.palette[se];this.data[de]=Ie.red,this.data[de+1]=Ie.green,this.data[de+2]=Ie.blue,this.data[de+3]=255}else this.data[de]=255,this.data[de+1]=255,this.data[de+2]=255,this.data[de+3]=255}k!==0&&(this.pos+=4-k)}},Ws.prototype.bit15=function(){for(var k=this.width%3,B=parseInt("11111",2),P=this.height-1;P>=0;P--){for(var K=this.bottom_up?P:this.height-1-P,se=0;se<this.width;se++){var de=this.datav.getUint16(this.pos,!0);this.pos+=2;var Ie=(de&B)/B*255|0,be=(de>>5&B)/B*255|0,Ce=(de>>10&B)/B*255|0,Re=de>>15?255:0,ze=K*this.width*4+4*se;this.data[ze]=Ce,this.data[ze+1]=be,this.data[ze+2]=Ie,this.data[ze+3]=Re}this.pos+=k}},Ws.prototype.bit16=function(){for(var k=this.width%3,B=parseInt("11111",2),P=parseInt("111111",2),K=this.height-1;K>=0;K--){for(var se=this.bottom_up?K:this.height-1-K,de=0;de<this.width;de++){var Ie=this.datav.getUint16(this.pos,!0);this.pos+=2;var be=(Ie&B)/B*255|0,Ce=(Ie>>5&P)/P*255|0,Re=(Ie>>11)/B*255|0,ze=se*this.width*4+4*de;this.data[ze]=Re,this.data[ze+1]=Ce,this.data[ze+2]=be,this.data[ze+3]=255}this.pos+=k}},Ws.prototype.bit24=function(){for(var k=this.height-1;k>=0;k--){for(var B=this.bottom_up?k:this.height-1-k,P=0;P<this.width;P++){var K=this.datav.getUint8(this.pos++,!0),se=this.datav.getUint8(this.pos++,!0),de=this.datav.getUint8(this.pos++,!0),Ie=B*this.width*4+4*P;this.data[Ie]=de,this.data[Ie+1]=se,this.data[Ie+2]=K,this.data[Ie+3]=255}this.pos+=this.width%4}},Ws.prototype.bit32=function(){for(var k=this.height-1;k>=0;k--)for(var B=this.bottom_up?k:this.height-1-k,P=0;P<this.width;P++){var K=this.datav.getUint8(this.pos++,!0),se=this.datav.getUint8(this.pos++,!0),de=this.datav.getUint8(this.pos++,!0),Ie=this.datav.getUint8(this.pos++,!0),be=B*this.width*4+4*P;this.data[be]=de,this.data[be+1]=se,this.data[be+2]=K,this.data[be+3]=Ie}},Ws.prototype.getData=function(){return this.data},(function(k){k.processBMP=function(B,P,K,se){var de=new Ws(B,!1),Ie=de.width,be=de.height,Ce={data:de.getData(),width:Ie,height:be},Re=new Do(100).encode(Ce,100);return k.processJPEG.call(this,Re,P,K,se)}})(Ae.API),uo.prototype.getData=function(){return this.data},(function(k){k.processWEBP=function(B,P,K,se){var de=new uo(B),Ie=de.width,be=de.height,Ce={data:de.getData(),width:Ie,height:be},Re=new Do(100).encode(Ce,100);return k.processJPEG.call(this,Re,P,K,se)}})(Ae.API),Ae.API.processRGBA=function(k,B,P){for(var K=k.data,se=K.length,de=new Uint8Array(se/4*3),Ie=new Uint8Array(se/4),be=0,Ce=0,Re=0;Re<se;Re+=4){var ze=K[Re],nt=K[Re+1],ut=K[Re+2],Oe=K[Re+3];de[be++]=ze,de[be++]=nt,de[be++]=ut,Ie[Ce++]=Oe}var Nt=this.__addimage__.arrayBufferToBinaryString(de);return{alpha:this.__addimage__.arrayBufferToBinaryString(Ie),data:Nt,index:B,alias:P,colorSpace:"DeviceRGB",bitsPerComponent:8,width:k.width,height:k.height}},Ae.API.setLanguage=function(k){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[k]!==void 0&&(this.internal.languageSettings.languageCode=k,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},pa=Ae.API,rc=pa.getCharWidthsArray=function(k,B){var P,K,se=(B=B||{}).font||this.internal.getFont(),de=B.fontSize||this.internal.getFontSize(),Ie=B.charSpace||this.internal.getCharSpace(),be=B.widths?B.widths:se.metadata.Unicode.widths,Ce=be.fof?be.fof:1,Re=B.kerning?B.kerning:se.metadata.Unicode.kerning,ze=Re.fof?Re.fof:1,nt=B.doKerning!==!1,ut=0,Oe=k.length,Nt=0,jt=be[0]||Ce,Bt=[];for(P=0;P<Oe;P++)K=k.charCodeAt(P),typeof se.metadata.widthOfString=="function"?Bt.push((se.metadata.widthOfGlyph(se.metadata.characterToGlyph(K))+Ie*(1e3/de)||0)/1e3):(ut=nt&&(0,u.default)(Re[K])==="object"&&!isNaN(parseInt(Re[K][Nt],10))?Re[K][Nt]/ze:0,Bt.push((be[K]||jt)/Ce+ut)),Nt=K;return Bt},os=pa.getStringUnitWidth=function(k,B){var P=(B=B||{}).fontSize||this.internal.getFontSize(),K=B.font||this.internal.getFont(),se=B.charSpace||this.internal.getCharSpace();return pa.processArabic&&(k=pa.processArabic(k)),typeof K.metadata.widthOfString=="function"?K.metadata.widthOfString(k,P,se)/P:rc.apply(this,arguments).reduce(function(de,Ie){return de+Ie},0)},_o=function(k,B,P,K){for(var se=[],de=0,Ie=k.length,be=0;de!==Ie&&be+B[de]<P;)be+=B[de],de++;se.push(k.slice(0,de));var Ce=de;for(be=0;de!==Ie;)be+B[de]>K&&(se.push(k.slice(Ce,de)),be=0,Ce=de),be+=B[de],de++;return Ce!==de&&se.push(k.slice(Ce,de)),se},Ji=function(k,B,P){P||(P={});var K,se,de,Ie,be,Ce,Re,ze=[],nt=[ze],ut=P.textIndent||0,Oe=0,Nt=0,jt=k.split(" "),Bt=rc.apply(this,[" ",P])[0];if(Ce=P.lineIndent===-1?jt[0].length+2:P.lineIndent||0){var lt=Array(Ce).join(" "),Mt=[];jt.map(function(kt){(kt=kt.split(/\s*\n/)).length>1?Mt=Mt.concat(kt.map(function(at,qt){return(qt&&at.length?`
`:"")+at})):Mt.push(kt[0])}),jt=Mt,Ce=os.apply(this,[lt,P])}for(de=0,Ie=jt.length;de<Ie;de++){var tr=0;if(K=jt[de],Ce&&K[0]==`
`&&(K=K.substr(1),tr=1),ut+Oe+(Nt=(se=rc.apply(this,[K,P])).reduce(function(kt,at){return kt+at},0))>B||tr){if(Nt>B){for(be=_o.apply(this,[K,se,B-(ut+Oe),B]),ze.push(be.shift()),ze=[be.pop()];be.length;)nt.push([be.shift()]);Nt=se.slice(K.length-(ze[0]?ze[0].length:0)).reduce(function(kt,at){return kt+at},0)}else ze=[K];nt.push(ze),ut=Nt+Ce,Oe=Bt}else ze.push(K),ut+=Oe+Nt,Oe=Bt}return Re=Ce?function(kt,at){return(at?lt:"")+kt.join(" ")}:function(kt){return kt.join(" ")},nt.map(Re)},pa.splitTextToSize=function(k,B,P){var K,se=(P=P||{}).fontSize||this.internal.getFontSize(),de=(function(ze){if(ze.widths&&ze.kerning)return{widths:ze.widths,kerning:ze.kerning};var nt=this.internal.getFont(ze.fontName,ze.fontStyle),ut="Unicode";return nt.metadata[ut]?{widths:nt.metadata[ut].widths||{0:1},kerning:nt.metadata[ut].kerning||{}}:{font:nt.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,P);K=Array.isArray(k)?k:String(k).split(/\r?\n/);var Ie=1*this.internal.scaleFactor*B/se;de.textIndent=P.textIndent?1*P.textIndent*this.internal.scaleFactor/se:0,de.lineIndent=P.lineIndent;var be,Ce,Re=[];for(be=0,Ce=K.length;be<Ce;be++)Re=Re.concat(Ji.apply(this,[K[be],Ie,de]));return Re},(function(k){k.__fontmetrics__=k.__fontmetrics__||{};for(var B="0123456789abcdef",P="klmnopqrstuvwxyz",K={},se={},de=0;de<16;de++)K[P[de]]=B[de],se[B[de]]=P[de];var Ie=function(ut){return"0x"+parseInt(ut,10).toString(16)},be=k.__fontmetrics__.compress=function(ut){var Oe,Nt,jt,Bt,lt=["{"];for(var Mt in ut){if(Oe=ut[Mt],isNaN(parseInt(Mt,10))?Nt="'"+Mt+"'":(Mt=parseInt(Mt,10),Nt=(Nt=Ie(Mt).slice(2)).slice(0,-1)+se[Nt.slice(-1)]),typeof Oe=="number")Oe<0?(jt=Ie(Oe).slice(3),Bt="-"):(jt=Ie(Oe).slice(2),Bt=""),jt=Bt+jt.slice(0,-1)+se[jt.slice(-1)];else{if((0,u.default)(Oe)!=="object")throw new Error("Don't know what to do with value type "+(0,u.default)(Oe)+".");jt=be(Oe)}lt.push(Nt+jt)}return lt.push("}"),lt.join("")},Ce=k.__fontmetrics__.uncompress=function(ut){if(typeof ut!="string")throw new Error("Invalid argument passed to uncompress.");for(var Oe,Nt,jt,Bt,lt={},Mt=1,tr=lt,kt=[],at="",qt="",pr=ut.length-1,nr=1;nr<pr;nr+=1)(Bt=ut[nr])=="'"?Oe?(jt=Oe.join(""),Oe=void 0):Oe=[]:Oe?Oe.push(Bt):Bt=="{"?(kt.push([tr,jt]),tr={},jt=void 0):Bt=="}"?((Nt=kt.pop())[0][Nt[1]]=tr,jt=void 0,tr=Nt[0]):Bt=="-"?Mt=-1:jt===void 0?K.hasOwnProperty(Bt)?(at+=K[Bt],jt=parseInt(at,16)*Mt,Mt=1,at=""):at+=Bt:K.hasOwnProperty(Bt)?(qt+=K[Bt],tr[jt]=parseInt(qt,16)*Mt,Mt=1,jt=void 0,qt=""):qt+=Bt;return lt},Re={codePages:["WinAnsiEncoding"],WinAnsiEncoding:Ce("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},ze={Unicode:{Courier:Re,"Courier-Bold":Re,"Courier-BoldOblique":Re,"Courier-Oblique":Re,Helvetica:Re,"Helvetica-Bold":Re,"Helvetica-BoldOblique":Re,"Helvetica-Oblique":Re,"Times-Roman":Re,"Times-Bold":Re,"Times-BoldItalic":Re,"Times-Italic":Re}},nt={Unicode:{"Courier-Oblique":Ce("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":Ce("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":Ce("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:Ce("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":Ce("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":Ce("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:Ce("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:Ce("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":Ce("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:Ce("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":Ce("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":Ce("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":Ce("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":Ce("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};k.events.push(["addFont",function(ut){var Oe=ut.font,Nt=nt.Unicode[Oe.postScriptName];Nt&&(Oe.metadata.Unicode={},Oe.metadata.Unicode.widths=Nt.widths,Oe.metadata.Unicode.kerning=Nt.kerning);var jt=ze.Unicode[Oe.postScriptName];jt&&(Oe.metadata.Unicode.encoding=jt,Oe.encoding=jt.codePages[0])}])})(Ae.API),(function(k){var B=function(P){for(var K=P.length,se=new Uint8Array(K),de=0;de<K;de++)se[de]=P.charCodeAt(de);return se};k.API.events.push(["addFont",function(P){var K=void 0,se=P.font,de=P.instance;if(!se.isStandardFont){if(de===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+se.postScriptName+"').");if(typeof(K=de.existsFileInVFS(se.postScriptName)===!1?de.loadFile(se.postScriptName):de.getFileFromVFS(se.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+se.postScriptName+"').");(function(Ie,be){be=/^\x00\x01\x00\x00/.test(be)?B(be):B(E(be)),Ie.metadata=k.API.TTFFont.open(be),Ie.metadata.Unicode=Ie.metadata.Unicode||{encoding:{},kerning:{},widths:[]},Ie.metadata.glyIdsUsed=[0]})(se,K)}}])})(Ae),Ae.API.addSvgAsImage=function(k,B,P,K,se,de,Ie,be){if(isNaN(B)||isNaN(P))throw x.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(K)||isNaN(se))throw x.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var Ce=document.createElement("canvas");Ce.width=K,Ce.height=se;var Re=Ce.getContext("2d");Re.fillStyle="#fff",Re.fillRect(0,0,Ce.width,Ce.height);var ze={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},nt=this;return(g.canvg?Promise.resolve(g.canvg):Promise.resolve().then(l.bind(l,"./node_modules/canvg/lib/index.es.js"))).catch(function(ut){return Promise.reject(new Error("Could not load canvg: "+ut))}).then(function(ut){return ut.default?ut.default:ut}).then(function(ut){return ut.fromString(Re,k,ze)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(ut){return ut.render(ze)}).then(function(){nt.addImage(Ce.toDataURL("image/jpeg",1),B,P,K,se,Ie,be)})},Ae.API.putTotalPages=function(k){var B,P=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(B=new RegExp(k,"g"),P=this.internal.getNumberOfPages()):(B=new RegExp(this.pdfEscape16(k,this.internal.getFont()),"g"),P=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var K=1;K<=this.internal.getNumberOfPages();K++)for(var se=0;se<this.internal.pages[K].length;se++)this.internal.pages[K][se]=this.internal.pages[K][se].replace(B,P);return this},Ae.API.viewerPreferences=function(k,B){var P;k=k||{},B=B||!1;var K,se,de,Ie={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},be=Object.keys(Ie),Ce=[],Re=0,ze=0,nt=0;function ut(Nt,jt){var Bt,lt=!1;for(Bt=0;Bt<Nt.length;Bt+=1)Nt[Bt]===jt&&(lt=!0);return lt}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(Ie)),this.internal.viewerpreferences.isSubscribed=!1),P=this.internal.viewerpreferences.configuration,k==="reset"||B===!0){var Oe=be.length;for(nt=0;nt<Oe;nt+=1)P[be[nt]].value=P[be[nt]].defaultValue,P[be[nt]].explicitSet=!1}if((0,u.default)(k)==="object"){for(se in k)if(de=k[se],ut(be,se)&&de!==void 0){if(P[se].type==="boolean"&&typeof de=="boolean")P[se].value=de;else if(P[se].type==="name"&&ut(P[se].valueSet,de))P[se].value=de;else if(P[se].type==="integer"&&Number.isInteger(de))P[se].value=de;else if(P[se].type==="array"){for(Re=0;Re<de.length;Re+=1)if(K=!0,de[Re].length===1&&typeof de[Re][0]=="number")Ce.push(String(de[Re]-1));else if(de[Re].length>1){for(ze=0;ze<de[Re].length;ze+=1)typeof de[Re][ze]!="number"&&(K=!1);K===!0&&Ce.push([de[Re][0]-1,de[Re][1]-1].join(" "))}P[se].value="["+Ce.join(" ")+"]"}else P[se].value=P[se].defaultValue;P[se].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var Nt,jt=[];for(Nt in P)P[Nt].explicitSet===!0&&(P[Nt].type==="name"?jt.push("/"+Nt+" /"+P[Nt].value):jt.push("/"+Nt+" "+P[Nt].value));jt.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+jt.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=P,this},(function(k){var B=function(){var K='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',se=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),de=unescape(encodeURIComponent(K)),Ie=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),be=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),Ce=unescape(encodeURIComponent("</x:xmpmeta>")),Re=de.length+Ie.length+be.length+se.length+Ce.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+Re+" >>"),this.internal.write("stream"),this.internal.write(se+de+Ie+be+Ce),this.internal.write("endstream"),this.internal.write("endobj")},P=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};k.addMetadata=function(K,se){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:K,namespaceuri:se||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",P),this.internal.events.subscribe("postPutResources",B)),this}})(Ae.API),(function(k){var B=k.API,P=B.pdfEscape16=function(de,Ie){for(var be,Ce=Ie.metadata.Unicode.widths,Re=["","0","00","000","0000"],ze=[""],nt=0,ut=de.length;nt<ut;++nt){if(be=Ie.metadata.characterToGlyph(de.charCodeAt(nt)),Ie.metadata.glyIdsUsed.push(be),Ie.metadata.toUnicode[be]=de.charCodeAt(nt),Ce.indexOf(be)==-1&&(Ce.push(be),Ce.push([parseInt(Ie.metadata.widthOfGlyph(be),10)])),be=="0")return ze.join("");be=be.toString(16),ze.push(Re[4-be.length],be)}return ze.join("")},K=function(de){var Ie,be,Ce,Re,ze,nt,ut;for(ze=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,Ce=[],nt=0,ut=(be=Object.keys(de).sort(function(Oe,Nt){return Oe-Nt})).length;nt<ut;nt++)Ie=be[nt],Ce.length>=100&&(ze+=`
`+Ce.length+` beginbfchar
`+Ce.join(`
`)+`
endbfchar`,Ce=[]),de[Ie]!==void 0&&de[Ie]!==null&&typeof de[Ie].toString=="function"&&(Re=("0000"+de[Ie].toString(16)).slice(-4),Ie=("0000"+(+Ie).toString(16)).slice(-4),Ce.push("<"+Ie+"><"+Re+">"));return Ce.length&&(ze+=`
`+Ce.length+` beginbfchar
`+Ce.join(`
`)+`
endbfchar
`),ze+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};B.events.push(["putFont",function(de){(function(Ie){var be=Ie.font,Ce=Ie.out,Re=Ie.newObject,ze=Ie.putStream;if(be.metadata instanceof k.API.TTFFont&&be.encoding==="Identity-H"){for(var nt=be.metadata.Unicode.widths,ut=be.metadata.subset.encode(be.metadata.glyIdsUsed,1),Oe="",Nt=0;Nt<ut.length;Nt++)Oe+=String.fromCharCode(ut[Nt]);var jt=Re();ze({data:Oe,addLength1:!0,objectId:jt}),Ce("endobj");var Bt=Re();ze({data:K(be.metadata.toUnicode),addLength1:!0,objectId:Bt}),Ce("endobj");var lt=Re();Ce("<<"),Ce("/Type /FontDescriptor"),Ce("/FontName /"+ye(be.fontName)),Ce("/FontFile2 "+jt+" 0 R"),Ce("/FontBBox "+k.API.PDFObject.convert(be.metadata.bbox)),Ce("/Flags "+be.metadata.flags),Ce("/StemV "+be.metadata.stemV),Ce("/ItalicAngle "+be.metadata.italicAngle),Ce("/Ascent "+be.metadata.ascender),Ce("/Descent "+be.metadata.decender),Ce("/CapHeight "+be.metadata.capHeight),Ce(">>"),Ce("endobj");var Mt=Re();Ce("<<"),Ce("/Type /Font"),Ce("/BaseFont /"+ye(be.fontName)),Ce("/FontDescriptor "+lt+" 0 R"),Ce("/W "+k.API.PDFObject.convert(nt)),Ce("/CIDToGIDMap /Identity"),Ce("/DW 1000"),Ce("/Subtype /CIDFontType2"),Ce("/CIDSystemInfo"),Ce("<<"),Ce("/Supplement 0"),Ce("/Registry (Adobe)"),Ce("/Ordering ("+be.encoding+")"),Ce(">>"),Ce(">>"),Ce("endobj"),be.objectNumber=Re(),Ce("<<"),Ce("/Type /Font"),Ce("/Subtype /Type0"),Ce("/ToUnicode "+Bt+" 0 R"),Ce("/BaseFont /"+ye(be.fontName)),Ce("/Encoding /"+be.encoding),Ce("/DescendantFonts ["+Mt+" 0 R]"),Ce(">>"),Ce("endobj"),be.isAlreadyPutted=!0}})(de)}]),B.events.push(["putFont",function(de){(function(Ie){var be=Ie.font,Ce=Ie.out,Re=Ie.newObject,ze=Ie.putStream;if(be.metadata instanceof k.API.TTFFont&&be.encoding==="WinAnsiEncoding"){for(var nt=be.metadata.rawData,ut="",Oe=0;Oe<nt.length;Oe++)ut+=String.fromCharCode(nt[Oe]);var Nt=Re();ze({data:ut,addLength1:!0,objectId:Nt}),Ce("endobj");var jt=Re();ze({data:K(be.metadata.toUnicode),addLength1:!0,objectId:jt}),Ce("endobj");var Bt=Re();Ce("<<"),Ce("/Descent "+be.metadata.decender),Ce("/CapHeight "+be.metadata.capHeight),Ce("/StemV "+be.metadata.stemV),Ce("/Type /FontDescriptor"),Ce("/FontFile2 "+Nt+" 0 R"),Ce("/Flags 96"),Ce("/FontBBox "+k.API.PDFObject.convert(be.metadata.bbox)),Ce("/FontName /"+ye(be.fontName)),Ce("/ItalicAngle "+be.metadata.italicAngle),Ce("/Ascent "+be.metadata.ascender),Ce(">>"),Ce("endobj"),be.objectNumber=Re();for(var lt=0;lt<be.metadata.hmtx.widths.length;lt++)be.metadata.hmtx.widths[lt]=parseInt(be.metadata.hmtx.widths[lt]*(1e3/be.metadata.head.unitsPerEm));Ce("<</Subtype/TrueType/Type/Font/ToUnicode "+jt+" 0 R/BaseFont/"+ye(be.fontName)+"/FontDescriptor "+Bt+" 0 R/Encoding/"+be.encoding+" /FirstChar 29 /LastChar 255 /Widths "+k.API.PDFObject.convert(be.metadata.hmtx.widths)+">>"),Ce("endobj"),be.isAlreadyPutted=!0}})(de)}]);var se=function(de){var Ie,be=de.text||"",Ce=de.x,Re=de.y,ze=de.options||{},nt=de.mutex||{},ut=nt.pdfEscape,Oe=nt.activeFontKey,Nt=nt.fonts,jt=Oe,Bt="",lt=0,Mt="",tr=Nt[jt].encoding;if(Nt[jt].encoding!=="Identity-H")return{text:be,x:Ce,y:Re,options:ze,mutex:nt};for(Mt=be,jt=Oe,Array.isArray(be)&&(Mt=be[0]),lt=0;lt<Mt.length;lt+=1)Nt[jt].metadata.hasOwnProperty("cmap")&&(Ie=Nt[jt].metadata.cmap.unicode.codeMap[Mt[lt].charCodeAt(0)]),Ie||Mt[lt].charCodeAt(0)<256&&Nt[jt].metadata.hasOwnProperty("Unicode")?Bt+=Mt[lt]:Bt+="";var kt="";return parseInt(jt.slice(1))<14||tr==="WinAnsiEncoding"?kt=ut(Bt,jt).split("").map(function(at){return at.charCodeAt(0).toString(16)}).join(""):tr==="Identity-H"&&(kt=P(Bt,Nt[jt])),nt.isHex=!0,{text:kt,x:Ce,y:Re,options:ze,mutex:nt}};B.events.push(["postProcessText",function(de){var Ie=de.text||"",be=[],Ce={text:Ie,x:de.x,y:de.y,options:de.options,mutex:de.mutex};if(Array.isArray(Ie)){var Re=0;for(Re=0;Re<Ie.length;Re+=1)Array.isArray(Ie[Re])&&Ie[Re].length===3?be.push([se(Object.assign({},Ce,{text:Ie[Re][0]})).text,Ie[Re][1],Ie[Re][2]]):be.push(se(Object.assign({},Ce,{text:Ie[Re]})).text);de.text=be}else de.text=se(Object.assign({},Ce,{text:Ie})).text}])})(Ae),(function(k){var B=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};k.existsFileInVFS=function(P){return B.call(this),this.internal.vFS[P]!==void 0},k.addFileToVFS=function(P,K){return B.call(this),this.internal.vFS[P]=K,this},k.getFileFromVFS=function(P){return B.call(this),this.internal.vFS[P]!==void 0?this.internal.vFS[P]:null}})(Ae.API),(function(k){k.__bidiEngine__=k.prototype.__bidiEngine__=function(K){var se,de,Ie,be,Ce,Re,ze,nt=B,ut=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],Oe=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],Nt={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},jt={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},Bt=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],lt=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),Mt=!1,tr=0;this.__bidiEngine__={};var kt=function(ct){var mt=ct.charCodeAt(),Ot=mt>>8,Ft=jt[Ot];return Ft!==void 0?nt[256*Ft+(255&mt)]:Ot===252||Ot===253?"AL":lt.test(Ot)?"L":Ot===8?"R":"N"},at=function(ct){for(var mt,Ot=0;Ot<ct.length;Ot++){if((mt=kt(ct.charAt(Ot)))==="L")return!1;if(mt==="R")return!0}return!1},qt=function(ct,mt,Ot,Ft){var mr,yr,Cr,ir,br=mt[Ft];switch(br){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":Mt=!1;break;case"N":case"AN":break;case"EN":Mt&&(br="AN");break;case"AL":Mt=!0,br="R";break;case"WS":case"BN":br="N";break;case"CS":Ft<1||Ft+1>=mt.length||(mr=Ot[Ft-1])!=="EN"&&mr!=="AN"||(yr=mt[Ft+1])!=="EN"&&yr!=="AN"?br="N":Mt&&(yr="AN"),br=yr===mr?yr:"N";break;case"ES":br=(mr=Ft>0?Ot[Ft-1]:"B")==="EN"&&Ft+1<mt.length&&mt[Ft+1]==="EN"?"EN":"N";break;case"ET":if(Ft>0&&Ot[Ft-1]==="EN"){br="EN";break}if(Mt){br="N";break}for(Cr=Ft+1,ir=mt.length;Cr<ir&&mt[Cr]==="ET";)Cr++;br=Cr<ir&&mt[Cr]==="EN"?"EN":"N";break;case"NSM":if(Ie&&!be){for(ir=mt.length,Cr=Ft+1;Cr<ir&&mt[Cr]==="NSM";)Cr++;if(Cr<ir){var nn=ct[Ft],Gr=nn>=1425&&nn<=2303||nn===64286;if(mr=mt[Cr],Gr&&(mr==="R"||mr==="AL")){br="R";break}}}br=Ft<1||(mr=mt[Ft-1])==="B"?"N":Ot[Ft-1];break;case"B":Mt=!1,se=!0,br=tr;break;case"S":de=!0,br="N"}return br},pr=function(ct,mt,Ot){var Ft=ct.split("");return Ot&&nr(Ft,Ot,{hiLevel:tr}),Ft.reverse(),mt&&mt.reverse(),Ft.join("")},nr=function(ct,mt,Ot){var Ft,mr,yr,Cr,ir,br=-1,nn=ct.length,Gr=0,Ze=[],Et=tr?Oe:ut,Tt=[];for(Mt=!1,se=!1,de=!1,mr=0;mr<nn;mr++)Tt[mr]=kt(ct[mr]);for(yr=0;yr<nn;yr++){if(ir=Gr,Ze[yr]=qt(ct,Tt,Ze,yr),Ft=240&(Gr=Et[ir][Nt[Ze[yr]]]),Gr&=15,mt[yr]=Cr=Et[Gr][5],Ft>0)if(Ft===16){for(mr=br;mr<yr;mr++)mt[mr]=1;br=-1}else br=-1;if(Et[Gr][6])br===-1&&(br=yr);else if(br>-1){for(mr=br;mr<yr;mr++)mt[mr]=Cr;br=-1}Tt[yr]==="B"&&(mt[yr]=0),Ot.hiLevel|=Cr}de&&(function(Yt,er,dr){for(var jr=0;jr<dr;jr++)if(Yt[jr]==="S"){er[jr]=tr;for(var wr=jr-1;wr>=0&&Yt[wr]==="WS";wr--)er[wr]=tr}})(Tt,mt,nn)},Pt=function(ct,mt,Ot,Ft,mr){if(!(mr.hiLevel<ct)){if(ct===1&&tr===1&&!se)return mt.reverse(),void(Ot&&Ot.reverse());for(var yr,Cr,ir,br,nn=mt.length,Gr=0;Gr<nn;){if(Ft[Gr]>=ct){for(ir=Gr+1;ir<nn&&Ft[ir]>=ct;)ir++;for(br=Gr,Cr=ir-1;br<Cr;br++,Cr--)yr=mt[br],mt[br]=mt[Cr],mt[Cr]=yr,Ot&&(yr=Ot[br],Ot[br]=Ot[Cr],Ot[Cr]=yr);Gr=ir}Gr++}}},Ar=function(ct,mt,Ot){var Ft=ct.split(""),mr={hiLevel:tr};return Ot||(Ot=[]),nr(Ft,Ot,mr),(function(yr,Cr,ir){if(ir.hiLevel!==0&&ze)for(var br,nn=0;nn<yr.length;nn++)Cr[nn]===1&&(br=Bt.indexOf(yr[nn]))>=0&&(yr[nn]=Bt[br+1])})(Ft,Ot,mr),Pt(2,Ft,mt,Ot,mr),Pt(1,Ft,mt,Ot,mr),Ft.join("")};return this.__bidiEngine__.doBidiReorder=function(ct,mt,Ot){if((function(mr,yr){if(yr)for(var Cr=0;Cr<mr.length;Cr++)yr[Cr]=Cr;be===void 0&&(be=at(mr)),Re===void 0&&(Re=at(mr))})(ct,mt),Ie||!Ce||Re)if(Ie&&Ce&&be^Re)tr=be?1:0,ct=pr(ct,mt,Ot);else if(!Ie&&Ce&&Re)tr=be?1:0,ct=Ar(ct,mt,Ot),ct=pr(ct,mt);else if(!Ie||be||Ce||Re){if(Ie&&!Ce&&be^Re)ct=pr(ct,mt),be?(tr=0,ct=Ar(ct,mt,Ot)):(tr=1,ct=Ar(ct,mt,Ot),ct=pr(ct,mt));else if(Ie&&be&&!Ce&&Re)tr=1,ct=Ar(ct,mt,Ot),ct=pr(ct,mt);else if(!Ie&&!Ce&&be^Re){var Ft=ze;be?(tr=1,ct=Ar(ct,mt,Ot),tr=0,ze=!1,ct=Ar(ct,mt,Ot),ze=Ft):(tr=0,ct=Ar(ct,mt,Ot),ct=pr(ct,mt),tr=1,ze=!1,ct=Ar(ct,mt,Ot),ze=Ft,ct=pr(ct,mt))}}else tr=0,ct=Ar(ct,mt,Ot);else tr=be?1:0,ct=Ar(ct,mt,Ot);return ct},this.__bidiEngine__.setOptions=function(ct){ct&&(Ie=ct.isInputVisual,Ce=ct.isOutputVisual,be=ct.isInputRtl,Re=ct.isOutputRtl,ze=ct.isSymmetricSwapping)},this.__bidiEngine__.setOptions(K),this.__bidiEngine__};var B=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],P=new k.__bidiEngine__({isInputVisual:!0});k.API.events.push(["postProcessText",function(K){var se=K.text;K.x,K.y;var de=K.options||{};K.mutex,de.lang;var Ie=[];if(de.isInputVisual=typeof de.isInputVisual!="boolean"||de.isInputVisual,P.setOptions(de),Object.prototype.toString.call(se)==="[object Array]"){var be=0;for(Ie=[],be=0;be<se.length;be+=1)Object.prototype.toString.call(se[be])==="[object Array]"?Ie.push([P.doBidiReorder(se[be][0]),se[be][1],se[be][2]]):Ie.push([P.doBidiReorder(se[be])]);K.text=Ie}else K.text=P.doBidiReorder(se);P.setOptions({isInputVisual:!0})}])})(Ae),Ae.API.TTFFont=(function(){function k(B){var P;if(this.rawData=B,P=this.contents=new Rs(B),this.contents.pos=4,P.readString(4)==="ttcf")throw new Error("TTCF not supported.");P.pos=0,this.parse(),this.subset=new dt(this),this.registerTTF()}return k.open=function(B){return new k(B)},k.prototype.parse=function(){return this.directory=new bo(this.contents),this.head=new qs(this),this.name=new fe(this),this.cmap=new Zi(this),this.toUnicode={},this.hhea=new Ri(this),this.maxp=new ge(this),this.hmtx=new M(this),this.post=new Kt(this),this.os2=new Ro(this),this.loca=new Xe(this),this.glyf=new ce(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},k.prototype.registerTTF=function(){var B,P,K,se,de;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var Ie,be,Ce,Re;for(Re=[],Ie=0,be=(Ce=this.bbox).length;Ie<be;Ie++)B=Ce[Ie],Re.push(Math.round(B*this.scaleFactor));return Re}).call(this),this.stemV=0,this.post.exists?(K=255&(se=this.post.italic_angle),32768&(P=se>>16)&&(P=-(1+(65535^P))),this.italicAngle=+(P+"."+K)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(de=this.familyClass)===1||de===2||de===3||de===4||de===5||de===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},k.prototype.characterToGlyph=function(B){var P;return((P=this.cmap.unicode)!=null?P.codeMap[B]:void 0)||0},k.prototype.widthOfGlyph=function(B){var P;return P=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(B).advance*P},k.prototype.widthOfString=function(B,P,K){var se,de,Ie,be;for(Ie=0,de=0,be=(B=""+B).length;0<=be?de<be:de>be;de=0<=be?++de:--de)se=B.charCodeAt(de),Ie+=this.widthOfGlyph(this.characterToGlyph(se))+K*(1e3/P)||0;return Ie*(P/1e3)},k.prototype.lineHeight=function(B,P){var K;return P==null&&(P=!1),K=P?this.lineGap:0,(this.ascender+K-this.decender)/1e3*B},k})();var ni,Rs=(function(){function k(B){this.data=B??[],this.pos=0,this.length=this.data.length}return k.prototype.readByte=function(){return this.data[this.pos++]},k.prototype.writeByte=function(B){return this.data[this.pos++]=B},k.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},k.prototype.writeUInt32=function(B){return this.writeByte(B>>>24&255),this.writeByte(B>>16&255),this.writeByte(B>>8&255),this.writeByte(255&B)},k.prototype.readInt32=function(){var B;return(B=this.readUInt32())>=2147483648?B-4294967296:B},k.prototype.writeInt32=function(B){return B<0&&(B+=4294967296),this.writeUInt32(B)},k.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},k.prototype.writeUInt16=function(B){return this.writeByte(B>>8&255),this.writeByte(255&B)},k.prototype.readInt16=function(){var B;return(B=this.readUInt16())>=32768?B-65536:B},k.prototype.writeInt16=function(B){return B<0&&(B+=65536),this.writeUInt16(B)},k.prototype.readString=function(B){var P,K;for(K=[],P=0;0<=B?P<B:P>B;P=0<=B?++P:--P)K[P]=String.fromCharCode(this.readByte());return K.join("")},k.prototype.writeString=function(B){var P,K,se;for(se=[],P=0,K=B.length;0<=K?P<K:P>K;P=0<=K?++P:--P)se.push(this.writeByte(B.charCodeAt(P)));return se},k.prototype.readShort=function(){return this.readInt16()},k.prototype.writeShort=function(B){return this.writeInt16(B)},k.prototype.readLongLong=function(){var B,P,K,se,de,Ie,be,Ce;return B=this.readByte(),P=this.readByte(),K=this.readByte(),se=this.readByte(),de=this.readByte(),Ie=this.readByte(),be=this.readByte(),Ce=this.readByte(),128&B?-1*(72057594037927940*(255^B)+281474976710656*(255^P)+1099511627776*(255^K)+4294967296*(255^se)+16777216*(255^de)+65536*(255^Ie)+256*(255^be)+(255^Ce)+1):72057594037927940*B+281474976710656*P+1099511627776*K+4294967296*se+16777216*de+65536*Ie+256*be+Ce},k.prototype.writeLongLong=function(B){var P,K;return P=Math.floor(B/4294967296),K=4294967295&B,this.writeByte(P>>24&255),this.writeByte(P>>16&255),this.writeByte(P>>8&255),this.writeByte(255&P),this.writeByte(K>>24&255),this.writeByte(K>>16&255),this.writeByte(K>>8&255),this.writeByte(255&K)},k.prototype.readInt=function(){return this.readInt32()},k.prototype.writeInt=function(B){return this.writeInt32(B)},k.prototype.read=function(B){var P,K;for(P=[],K=0;0<=B?K<B:K>B;K=0<=B?++K:--K)P.push(this.readByte());return P},k.prototype.write=function(B){var P,K,se,de;for(de=[],K=0,se=B.length;K<se;K++)P=B[K],de.push(this.writeByte(P));return de},k})(),bo=(function(){var k;function B(P){var K,se,de;for(this.scalarType=P.readInt(),this.tableCount=P.readShort(),this.searchRange=P.readShort(),this.entrySelector=P.readShort(),this.rangeShift=P.readShort(),this.tables={},se=0,de=this.tableCount;0<=de?se<de:se>de;se=0<=de?++se:--se)K={tag:P.readString(4),checksum:P.readInt(),offset:P.readInt(),length:P.readInt()},this.tables[K.tag]=K}return B.prototype.encode=function(P){var K,se,de,Ie,be,Ce,Re,ze,nt,ut,Oe,Nt,jt;for(jt in Oe=Object.keys(P).length,Ce=Math.log(2),nt=16*Math.floor(Math.log(Oe)/Ce),Ie=Math.floor(nt/Ce),ze=16*Oe-nt,(se=new Rs).writeInt(this.scalarType),se.writeShort(Oe),se.writeShort(nt),se.writeShort(Ie),se.writeShort(ze),de=16*Oe,Re=se.pos+de,be=null,Nt=[],P)for(ut=P[jt],se.writeString(jt),se.writeInt(k(ut)),se.writeInt(Re),se.writeInt(ut.length),Nt=Nt.concat(ut),jt==="head"&&(be=Re),Re+=ut.length;Re%4;)Nt.push(0),Re++;return se.write(Nt),K=2981146554-k(se.data),se.pos=be+8,se.writeUInt32(K),se.data},k=function(P){var K,se,de,Ie;for(P=W.call(P);P.length%4;)P.push(0);for(de=new Rs(P),se=0,K=0,Ie=P.length;K<Ie;K=K+=4)se+=de.readUInt32();return 4294967295&se},B})(),Mo={}.hasOwnProperty,va=function(k,B){for(var P in B)Mo.call(B,P)&&(k[P]=B[P]);function K(){this.constructor=k}return K.prototype=B.prototype,k.prototype=new K,k.__super__=B.prototype,k};ni=(function(){function k(B){var P;this.file=B,P=this.file.directory.tables[this.tag],this.exists=!!P,P&&(this.offset=P.offset,this.length=P.length,this.parse(this.file.contents))}return k.prototype.parse=function(){},k.prototype.encode=function(){},k.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},k})();var qs=(function(){function k(){return k.__super__.constructor.apply(this,arguments)}return va(k,ni),k.prototype.tag="head",k.prototype.parse=function(B){return B.pos=this.offset,this.version=B.readInt(),this.revision=B.readInt(),this.checkSumAdjustment=B.readInt(),this.magicNumber=B.readInt(),this.flags=B.readShort(),this.unitsPerEm=B.readShort(),this.created=B.readLongLong(),this.modified=B.readLongLong(),this.xMin=B.readShort(),this.yMin=B.readShort(),this.xMax=B.readShort(),this.yMax=B.readShort(),this.macStyle=B.readShort(),this.lowestRecPPEM=B.readShort(),this.fontDirectionHint=B.readShort(),this.indexToLocFormat=B.readShort(),this.glyphDataFormat=B.readShort()},k.prototype.encode=function(B){var P;return(P=new Rs).writeInt(this.version),P.writeInt(this.revision),P.writeInt(this.checkSumAdjustment),P.writeInt(this.magicNumber),P.writeShort(this.flags),P.writeShort(this.unitsPerEm),P.writeLongLong(this.created),P.writeLongLong(this.modified),P.writeShort(this.xMin),P.writeShort(this.yMin),P.writeShort(this.xMax),P.writeShort(this.yMax),P.writeShort(this.macStyle),P.writeShort(this.lowestRecPPEM),P.writeShort(this.fontDirectionHint),P.writeShort(B),P.writeShort(this.glyphDataFormat),P.data},k})(),Si=(function(){function k(B,P){var K,se,de,Ie,be,Ce,Re,ze,nt,ut,Oe,Nt,jt,Bt,lt,Mt,tr;switch(this.platformID=B.readUInt16(),this.encodingID=B.readShort(),this.offset=P+B.readInt(),nt=B.pos,B.pos=this.offset,this.format=B.readUInt16(),this.length=B.readUInt16(),this.language=B.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(Ce=0;Ce<256;++Ce)this.codeMap[Ce]=B.readByte();break;case 4:for(Oe=B.readUInt16(),ut=Oe/2,B.pos+=6,de=(function(){var kt,at;for(at=[],Ce=kt=0;0<=ut?kt<ut:kt>ut;Ce=0<=ut?++kt:--kt)at.push(B.readUInt16());return at})(),B.pos+=2,jt=(function(){var kt,at;for(at=[],Ce=kt=0;0<=ut?kt<ut:kt>ut;Ce=0<=ut?++kt:--kt)at.push(B.readUInt16());return at})(),Re=(function(){var kt,at;for(at=[],Ce=kt=0;0<=ut?kt<ut:kt>ut;Ce=0<=ut?++kt:--kt)at.push(B.readUInt16());return at})(),ze=(function(){var kt,at;for(at=[],Ce=kt=0;0<=ut?kt<ut:kt>ut;Ce=0<=ut?++kt:--kt)at.push(B.readUInt16());return at})(),se=(this.length-B.pos+this.offset)/2,be=(function(){var kt,at;for(at=[],Ce=kt=0;0<=se?kt<se:kt>se;Ce=0<=se?++kt:--kt)at.push(B.readUInt16());return at})(),Ce=lt=0,tr=de.length;lt<tr;Ce=++lt)for(Bt=de[Ce],K=Mt=Nt=jt[Ce];Nt<=Bt?Mt<=Bt:Mt>=Bt;K=Nt<=Bt?++Mt:--Mt)ze[Ce]===0?Ie=K+Re[Ce]:(Ie=be[ze[Ce]/2+(K-Nt)-(ut-Ce)]||0)!==0&&(Ie+=Re[Ce]),this.codeMap[K]=65535&Ie}B.pos=nt}return k.encode=function(B,P){var K,se,de,Ie,be,Ce,Re,ze,nt,ut,Oe,Nt,jt,Bt,lt,Mt,tr,kt,at,qt,pr,nr,Pt,Ar,ct,mt,Ot,Ft,mr,yr,Cr,ir,br,nn,Gr,Ze,Et,Tt,Yt,er,dr,jr,wr,Rr,an,Sn;switch(Ft=new Rs,Ie=Object.keys(B).sort(function(Bn,ua){return Bn-ua}),P){case"macroman":for(jt=0,Bt=(function(){var Bn=[];for(Nt=0;Nt<256;++Nt)Bn.push(0);return Bn})(),Mt={0:0},de={},mr=0,br=Ie.length;mr<br;mr++)Mt[wr=B[se=Ie[mr]]]==null&&(Mt[wr]=++jt),de[se]={old:B[se],new:Mt[B[se]]},Bt[se]=Mt[B[se]];return Ft.writeUInt16(1),Ft.writeUInt16(0),Ft.writeUInt32(12),Ft.writeUInt16(0),Ft.writeUInt16(262),Ft.writeUInt16(0),Ft.write(Bt),{charMap:de,subtable:Ft.data,maxGlyphID:jt+1};case"unicode":for(mt=[],nt=[],tr=0,Mt={},K={},lt=Re=null,yr=0,nn=Ie.length;yr<nn;yr++)Mt[at=B[se=Ie[yr]]]==null&&(Mt[at]=++tr),K[se]={old:at,new:Mt[at]},be=Mt[at]-se,lt!=null&&be===Re||(lt&&nt.push(lt),mt.push(se),Re=be),lt=se;for(lt&&nt.push(lt),nt.push(65535),mt.push(65535),Ar=2*(Pt=mt.length),nr=2*Math.pow(Math.log(Pt)/Math.LN2,2),ut=Math.log(nr/2)/Math.LN2,pr=2*Pt-nr,Ce=[],qt=[],Oe=[],Nt=Cr=0,Gr=mt.length;Cr<Gr;Nt=++Cr){if(ct=mt[Nt],ze=nt[Nt],ct===65535){Ce.push(0),qt.push(0);break}if(ct-(Ot=K[ct].new)>=32768)for(Ce.push(0),qt.push(2*(Oe.length+Pt-Nt)),se=ir=ct;ct<=ze?ir<=ze:ir>=ze;se=ct<=ze?++ir:--ir)Oe.push(K[se].new);else Ce.push(Ot-ct),qt.push(0)}for(Ft.writeUInt16(3),Ft.writeUInt16(1),Ft.writeUInt32(12),Ft.writeUInt16(4),Ft.writeUInt16(16+8*Pt+2*Oe.length),Ft.writeUInt16(0),Ft.writeUInt16(Ar),Ft.writeUInt16(nr),Ft.writeUInt16(ut),Ft.writeUInt16(pr),dr=0,Ze=nt.length;dr<Ze;dr++)se=nt[dr],Ft.writeUInt16(se);for(Ft.writeUInt16(0),jr=0,Et=mt.length;jr<Et;jr++)se=mt[jr],Ft.writeUInt16(se);for(Rr=0,Tt=Ce.length;Rr<Tt;Rr++)be=Ce[Rr],Ft.writeUInt16(be);for(an=0,Yt=qt.length;an<Yt;an++)kt=qt[an],Ft.writeUInt16(kt);for(Sn=0,er=Oe.length;Sn<er;Sn++)jt=Oe[Sn],Ft.writeUInt16(jt);return{charMap:K,subtable:Ft.data,maxGlyphID:tr+1}}},k})(),Zi=(function(){function k(){return k.__super__.constructor.apply(this,arguments)}return va(k,ni),k.prototype.tag="cmap",k.prototype.parse=function(B){var P,K,se;for(B.pos=this.offset,this.version=B.readUInt16(),se=B.readUInt16(),this.tables=[],this.unicode=null,K=0;0<=se?K<se:K>se;K=0<=se?++K:--K)P=new Si(B,this.offset),this.tables.push(P),P.isUnicode&&this.unicode==null&&(this.unicode=P);return!0},k.encode=function(B,P){var K,se;return P==null&&(P="macroman"),K=Si.encode(B,P),(se=new Rs).writeUInt16(0),se.writeUInt16(1),K.table=se.data.concat(K.subtable),K},k})(),Ri=(function(){function k(){return k.__super__.constructor.apply(this,arguments)}return va(k,ni),k.prototype.tag="hhea",k.prototype.parse=function(B){return B.pos=this.offset,this.version=B.readInt(),this.ascender=B.readShort(),this.decender=B.readShort(),this.lineGap=B.readShort(),this.advanceWidthMax=B.readShort(),this.minLeftSideBearing=B.readShort(),this.minRightSideBearing=B.readShort(),this.xMaxExtent=B.readShort(),this.caretSlopeRise=B.readShort(),this.caretSlopeRun=B.readShort(),this.caretOffset=B.readShort(),B.pos+=8,this.metricDataFormat=B.readShort(),this.numberOfMetrics=B.readUInt16()},k})(),Ro=(function(){function k(){return k.__super__.constructor.apply(this,arguments)}return va(k,ni),k.prototype.tag="OS/2",k.prototype.parse=function(B){if(B.pos=this.offset,this.version=B.readUInt16(),this.averageCharWidth=B.readShort(),this.weightClass=B.readUInt16(),this.widthClass=B.readUInt16(),this.type=B.readShort(),this.ySubscriptXSize=B.readShort(),this.ySubscriptYSize=B.readShort(),this.ySubscriptXOffset=B.readShort(),this.ySubscriptYOffset=B.readShort(),this.ySuperscriptXSize=B.readShort(),this.ySuperscriptYSize=B.readShort(),this.ySuperscriptXOffset=B.readShort(),this.ySuperscriptYOffset=B.readShort(),this.yStrikeoutSize=B.readShort(),this.yStrikeoutPosition=B.readShort(),this.familyClass=B.readShort(),this.panose=(function(){var P,K;for(K=[],P=0;P<10;++P)K.push(B.readByte());return K})(),this.charRange=(function(){var P,K;for(K=[],P=0;P<4;++P)K.push(B.readInt());return K})(),this.vendorID=B.readString(4),this.selection=B.readShort(),this.firstCharIndex=B.readShort(),this.lastCharIndex=B.readShort(),this.version>0&&(this.ascent=B.readShort(),this.descent=B.readShort(),this.lineGap=B.readShort(),this.winAscent=B.readShort(),this.winDescent=B.readShort(),this.codePageRange=(function(){var P,K;for(K=[],P=0;P<2;P=++P)K.push(B.readInt());return K})(),this.version>1))return this.xHeight=B.readShort(),this.capHeight=B.readShort(),this.defaultChar=B.readShort(),this.breakChar=B.readShort(),this.maxContext=B.readShort()},k})(),Kt=(function(){function k(){return k.__super__.constructor.apply(this,arguments)}return va(k,ni),k.prototype.tag="post",k.prototype.parse=function(B){var P,K,se;switch(B.pos=this.offset,this.format=B.readInt(),this.italicAngle=B.readInt(),this.underlinePosition=B.readShort(),this.underlineThickness=B.readShort(),this.isFixedPitch=B.readInt(),this.minMemType42=B.readInt(),this.maxMemType42=B.readInt(),this.minMemType1=B.readInt(),this.maxMemType1=B.readInt(),this.format){case 65536:case 196608:break;case 131072:var de;for(K=B.readUInt16(),this.glyphNameIndex=[],de=0;0<=K?de<K:de>K;de=0<=K?++de:--de)this.glyphNameIndex.push(B.readUInt16());for(this.names=[],se=[];B.pos<this.offset+this.length;)P=B.readByte(),se.push(this.names.push(B.readString(P)));return se;case 151552:return K=B.readUInt16(),this.offsets=B.read(K);case 262144:return this.map=(function(){var Ie,be,Ce;for(Ce=[],de=Ie=0,be=this.file.maxp.numGlyphs;0<=be?Ie<be:Ie>be;de=0<=be?++Ie:--Ie)Ce.push(B.readUInt32());return Ce}).call(this)}},k})(),Q=function(k,B){this.raw=k,this.length=k.length,this.platformID=B.platformID,this.encodingID=B.encodingID,this.languageID=B.languageID},fe=(function(){function k(){return k.__super__.constructor.apply(this,arguments)}return va(k,ni),k.prototype.tag="name",k.prototype.parse=function(B){var P,K,se,de,Ie,be,Ce,Re,ze,nt,ut;for(B.pos=this.offset,B.readShort(),P=B.readShort(),be=B.readShort(),K=[],de=0;0<=P?de<P:de>P;de=0<=P?++de:--de)K.push({platformID:B.readShort(),encodingID:B.readShort(),languageID:B.readShort(),nameID:B.readShort(),length:B.readShort(),offset:this.offset+be+B.readShort()});for(Ce={},de=ze=0,nt=K.length;ze<nt;de=++ze)se=K[de],B.pos=se.offset,Re=B.readString(se.length),Ie=new Q(Re,se),Ce[ut=se.nameID]==null&&(Ce[ut]=[]),Ce[se.nameID].push(Ie);this.strings=Ce,this.copyright=Ce[0],this.fontFamily=Ce[1],this.fontSubfamily=Ce[2],this.uniqueSubfamily=Ce[3],this.fontName=Ce[4],this.version=Ce[5];try{this.postscriptName=Ce[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=Ce[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=Ce[7],this.manufacturer=Ce[8],this.designer=Ce[9],this.description=Ce[10],this.vendorUrl=Ce[11],this.designerUrl=Ce[12],this.license=Ce[13],this.licenseUrl=Ce[14],this.preferredFamily=Ce[15],this.preferredSubfamily=Ce[17],this.compatibleFull=Ce[18],this.sampleText=Ce[19]},k})(),ge=(function(){function k(){return k.__super__.constructor.apply(this,arguments)}return va(k,ni),k.prototype.tag="maxp",k.prototype.parse=function(B){return B.pos=this.offset,this.version=B.readInt(),this.numGlyphs=B.readUInt16(),this.maxPoints=B.readUInt16(),this.maxContours=B.readUInt16(),this.maxCompositePoints=B.readUInt16(),this.maxComponentContours=B.readUInt16(),this.maxZones=B.readUInt16(),this.maxTwilightPoints=B.readUInt16(),this.maxStorage=B.readUInt16(),this.maxFunctionDefs=B.readUInt16(),this.maxInstructionDefs=B.readUInt16(),this.maxStackElements=B.readUInt16(),this.maxSizeOfInstructions=B.readUInt16(),this.maxComponentElements=B.readUInt16(),this.maxComponentDepth=B.readUInt16()},k})(),M=(function(){function k(){return k.__super__.constructor.apply(this,arguments)}return va(k,ni),k.prototype.tag="hmtx",k.prototype.parse=function(B){var P,K,se,de,Ie,be,Ce;for(B.pos=this.offset,this.metrics=[],P=0,be=this.file.hhea.numberOfMetrics;0<=be?P<be:P>be;P=0<=be?++P:--P)this.metrics.push({advance:B.readUInt16(),lsb:B.readInt16()});for(se=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var Re,ze;for(ze=[],P=Re=0;0<=se?Re<se:Re>se;P=0<=se?++Re:--Re)ze.push(B.readInt16());return ze})(),this.widths=(function(){var Re,ze,nt,ut;for(ut=[],Re=0,ze=(nt=this.metrics).length;Re<ze;Re++)de=nt[Re],ut.push(de.advance);return ut}).call(this),K=this.widths[this.widths.length-1],Ce=[],P=Ie=0;0<=se?Ie<se:Ie>se;P=0<=se?++Ie:--Ie)Ce.push(this.widths.push(K));return Ce},k.prototype.forGlyph=function(B){return B in this.metrics?this.metrics[B]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[B-this.metrics.length]}},k})(),W=[].slice,ce=(function(){function k(){return k.__super__.constructor.apply(this,arguments)}return va(k,ni),k.prototype.tag="glyf",k.prototype.parse=function(){return this.cache={}},k.prototype.glyphFor=function(B){var P,K,se,de,Ie,be,Ce,Re,ze,nt;return B in this.cache?this.cache[B]:(de=this.file.loca,P=this.file.contents,K=de.indexOf(B),(se=de.lengthOf(B))===0?this.cache[B]=null:(P.pos=this.offset+K,Ie=(be=new Rs(P.read(se))).readShort(),Re=be.readShort(),nt=be.readShort(),Ce=be.readShort(),ze=be.readShort(),this.cache[B]=Ie===-1?new Fe(be,Re,nt,Ce,ze):new Ee(be,Ie,Re,nt,Ce,ze),this.cache[B]))},k.prototype.encode=function(B,P,K){var se,de,Ie,be,Ce;for(Ie=[],de=[],be=0,Ce=P.length;be<Ce;be++)se=B[P[be]],de.push(Ie.length),se&&(Ie=Ie.concat(se.encode(K)));return de.push(Ie.length),{table:Ie,offsets:de}},k})(),Ee=(function(){function k(B,P,K,se,de,Ie){this.raw=B,this.numberOfContours=P,this.xMin=K,this.yMin=se,this.xMax=de,this.yMax=Ie,this.compound=!1}return k.prototype.encode=function(){return this.raw.data},k})(),Fe=(function(){function k(B,P,K,se,de){var Ie,be;for(this.raw=B,this.xMin=P,this.yMin=K,this.xMax=se,this.yMax=de,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],Ie=this.raw;be=Ie.readShort(),this.glyphOffsets.push(Ie.pos),this.glyphIDs.push(Ie.readUInt16()),32&be;)Ie.pos+=1&be?4:2,128&be?Ie.pos+=8:64&be?Ie.pos+=4:8&be&&(Ie.pos+=2)}return k.prototype.encode=function(){var B,P,K;for(P=new Rs(W.call(this.raw.data)),B=0,K=this.glyphIDs.length;B<K;++B)P.pos=this.glyphOffsets[B];return P.data},k})(),Xe=(function(){function k(){return k.__super__.constructor.apply(this,arguments)}return va(k,ni),k.prototype.tag="loca",k.prototype.parse=function(B){var P,K;return B.pos=this.offset,P=this.file.head.indexToLocFormat,this.offsets=P===0?(function(){var se,de;for(de=[],K=0,se=this.length;K<se;K+=2)de.push(2*B.readUInt16());return de}).call(this):(function(){var se,de;for(de=[],K=0,se=this.length;K<se;K+=4)de.push(B.readUInt32());return de}).call(this)},k.prototype.indexOf=function(B){return this.offsets[B]},k.prototype.lengthOf=function(B){return this.offsets[B+1]-this.offsets[B]},k.prototype.encode=function(B,P){for(var K=new Uint32Array(this.offsets.length),se=0,de=0,Ie=0;Ie<K.length;++Ie)if(K[Ie]=se,de<P.length&&P[de]==Ie){++de,K[Ie]=se;var be=this.offsets[Ie],Ce=this.offsets[Ie+1]-be;Ce>0&&(se+=Ce)}for(var Re=new Array(4*K.length),ze=0;ze<K.length;++ze)Re[4*ze+3]=255&K[ze],Re[4*ze+2]=(65280&K[ze])>>8,Re[4*ze+1]=(16711680&K[ze])>>16,Re[4*ze]=(4278190080&K[ze])>>24;return Re},k})(),dt=(function(){function k(B){this.font=B,this.subset={},this.unicodes={},this.next=33}return k.prototype.generateCmap=function(){var B,P,K,se,de;for(P in se=this.font.cmap.tables[0].codeMap,B={},de=this.subset)K=de[P],B[P]=se[K];return B},k.prototype.glyphsFor=function(B){var P,K,se,de,Ie,be,Ce;for(se={},Ie=0,be=B.length;Ie<be;Ie++)se[de=B[Ie]]=this.font.glyf.glyphFor(de);for(de in P=[],se)(K=se[de])!=null&&K.compound&&P.push.apply(P,K.glyphIDs);if(P.length>0)for(de in Ce=this.glyphsFor(P))K=Ce[de],se[de]=K;return se},k.prototype.encode=function(B,P){var K,se,de,Ie,be,Ce,Re,ze,nt,ut,Oe,Nt,jt,Bt,lt;for(se in K=Zi.encode(this.generateCmap(),"unicode"),Ie=this.glyphsFor(B),Oe={0:0},lt=K.charMap)Oe[(Ce=lt[se]).old]=Ce.new;for(Nt in ut=K.maxGlyphID,Ie)Nt in Oe||(Oe[Nt]=ut++);return ze=(function(Mt){var tr,kt;for(tr in kt={},Mt)kt[Mt[tr]]=tr;return kt})(Oe),nt=Object.keys(ze).sort(function(Mt,tr){return Mt-tr}),jt=(function(){var Mt,tr,kt;for(kt=[],Mt=0,tr=nt.length;Mt<tr;Mt++)be=nt[Mt],kt.push(ze[be]);return kt})(),de=this.font.glyf.encode(Ie,jt,Oe),Re=this.font.loca.encode(de.offsets,jt),Bt={cmap:this.font.cmap.raw(),glyf:de.table,loca:Re,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(P)},this.font.os2.exists&&(Bt["OS/2"]=this.font.os2.raw()),this.font.directory.encode(Bt)},k})();Ae.API.PDFObject=(function(){var k;function B(){}return k=function(P,K){return(Array(K+1).join("0")+P).slice(-K)},B.convert=function(P){var K,se,de,Ie;if(Array.isArray(P))return"["+(function(){var be,Ce,Re;for(Re=[],be=0,Ce=P.length;be<Ce;be++)K=P[be],Re.push(B.convert(K));return Re})().join(" ")+"]";if(typeof P=="string")return"/"+P;if(P!=null&&P.isString)return"("+P+")";if(P instanceof Date)return"(D:"+k(P.getUTCFullYear(),4)+k(P.getUTCMonth(),2)+k(P.getUTCDate(),2)+k(P.getUTCHours(),2)+k(P.getUTCMinutes(),2)+k(P.getUTCSeconds(),2)+"Z)";if({}.toString.call(P)==="[object Object]"){for(se in de=["<<"],P)Ie=P[se],de.push("/"+se+" "+B.convert(Ie));return de.push(">>"),de.join(`
`)}return""+P},B})()}),"./node_modules/pako/dist/pako.esm.mjs":(function(o,d,l){l.r(d),l.d(d,{Deflate:function(){return Lr},Inflate:function(){return aa},constants:function(){return gs},default:function(){return mi},deflate:function(){return Tn},deflateRaw:function(){return Hn},gzip:function(){return ga},inflate:function(){return Ra},inflateRaw:function(){return Us},ungzip:function(){return $s}});/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const u=4,h=0,f=1,A=2;function g(_){let Ue=_.length;for(;--Ue>=0;)_[Ue]=0}const m=0,x=1,y=2,j=3,b=258,S=29,w=256,E=w+1+S,I=30,L=19,J=2*E+1,ae=15,G=16,le=7,V=256,me=16,$=17,ee=18,we=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),R=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),q=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),ie=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Z=512,D=new Array((E+2)*2);g(D);const ue=new Array(I*2);g(ue);const te=new Array(Z);g(te);const ye=new Array(b-j+1);g(ye);const pe=new Array(S);g(pe);const je=new Array(I);g(je);function re(_,Ue,oe,Je,gt){this.static_tree=_,this.extra_bits=Ue,this.extra_base=oe,this.elems=Je,this.max_length=gt,this.has_stree=_&&_.length}let he,X,Ae;function Be(_,Ue){this.dyn_tree=_,this.max_code=0,this.stat_desc=Ue}const Me=_=>_<256?te[_]:te[256+(_>>>7)],$e=(_,Ue)=>{_.pending_buf[_.pending++]=Ue&255,_.pending_buf[_.pending++]=Ue>>>8&255},ne=(_,Ue,oe)=>{_.bi_valid>G-oe?(_.bi_buf|=Ue<<_.bi_valid&65535,$e(_,_.bi_buf),_.bi_buf=Ue>>G-_.bi_valid,_.bi_valid+=oe-G):(_.bi_buf|=Ue<<_.bi_valid&65535,_.bi_valid+=oe)},Pe=(_,Ue,oe)=>{ne(_,oe[Ue*2],oe[Ue*2+1])},_e=(_,Ue)=>{let oe=0;do oe|=_&1,_>>>=1,oe<<=1;while(--Ue>0);return oe>>>1},rt=_=>{_.bi_valid===16?($e(_,_.bi_buf),_.bi_buf=0,_.bi_valid=0):_.bi_valid>=8&&(_.pending_buf[_.pending++]=_.bi_buf&255,_.bi_buf>>=8,_.bi_valid-=8)},et=(_,Ue)=>{const oe=Ue.dyn_tree,Je=Ue.max_code,gt=Ue.stat_desc.static_tree,ht=Ue.stat_desc.has_stree,or=Ue.stat_desc.extra_bits,Jt=Ue.stat_desc.extra_base,En=Ue.stat_desc.max_length;let Lt,hr,ja,gn,$r,Sr,Vs=0;for(gn=0;gn<=ae;gn++)_.bl_count[gn]=0;for(oe[_.heap[_.heap_max]*2+1]=0,Lt=_.heap_max+1;Lt<J;Lt++)hr=_.heap[Lt],gn=oe[oe[hr*2+1]*2+1]+1,gn>En&&(gn=En,Vs++),oe[hr*2+1]=gn,!(hr>Je)&&(_.bl_count[gn]++,$r=0,hr>=Jt&&($r=or[hr-Jt]),Sr=oe[hr*2],_.opt_len+=Sr*(gn+$r),ht&&(_.static_len+=Sr*(gt[hr*2+1]+$r)));if(Vs!==0){do{for(gn=En-1;_.bl_count[gn]===0;)gn--;_.bl_count[gn]--,_.bl_count[gn+1]+=2,_.bl_count[En]--,Vs-=2}while(Vs>0);for(gn=En;gn!==0;gn--)for(hr=_.bl_count[gn];hr!==0;)ja=_.heap[--Lt],!(ja>Je)&&(oe[ja*2+1]!==gn&&(_.opt_len+=(gn-oe[ja*2+1])*oe[ja*2],oe[ja*2+1]=gn),hr--)}},Le=(_,Ue,oe)=>{const Je=new Array(ae+1);let gt=0,ht,or;for(ht=1;ht<=ae;ht++)gt=gt+oe[ht-1]<<1,Je[ht]=gt;for(or=0;or<=Ue;or++){let Jt=_[or*2+1];Jt!==0&&(_[or*2]=_e(Je[Jt]++,Jt))}},it=()=>{let _,Ue,oe,Je,gt;const ht=new Array(ae+1);for(oe=0,Je=0;Je<S-1;Je++)for(pe[Je]=oe,_=0;_<1<<we[Je];_++)ye[oe++]=Je;for(ye[oe-1]=Je,gt=0,Je=0;Je<16;Je++)for(je[Je]=gt,_=0;_<1<<R[Je];_++)te[gt++]=Je;for(gt>>=7;Je<I;Je++)for(je[Je]=gt<<7,_=0;_<1<<R[Je]-7;_++)te[256+gt++]=Je;for(Ue=0;Ue<=ae;Ue++)ht[Ue]=0;for(_=0;_<=143;)D[_*2+1]=8,_++,ht[8]++;for(;_<=255;)D[_*2+1]=9,_++,ht[9]++;for(;_<=279;)D[_*2+1]=7,_++,ht[7]++;for(;_<=287;)D[_*2+1]=8,_++,ht[8]++;for(Le(D,E+1,ht),_=0;_<I;_++)ue[_*2+1]=5,ue[_*2]=_e(_,5);he=new re(D,we,w+1,E,ae),X=new re(ue,R,0,I,ae),Ae=new re(new Array(0),q,0,L,le)},Wt=_=>{let Ue;for(Ue=0;Ue<E;Ue++)_.dyn_ltree[Ue*2]=0;for(Ue=0;Ue<I;Ue++)_.dyn_dtree[Ue*2]=0;for(Ue=0;Ue<L;Ue++)_.bl_tree[Ue*2]=0;_.dyn_ltree[V*2]=1,_.opt_len=_.static_len=0,_.sym_next=_.matches=0},qe=_=>{_.bi_valid>8?$e(_,_.bi_buf):_.bi_valid>0&&(_.pending_buf[_.pending++]=_.bi_buf),_.bi_buf=0,_.bi_valid=0},St=(_,Ue,oe,Je)=>{const gt=Ue*2,ht=oe*2;return _[gt]<_[ht]||_[gt]===_[ht]&&Je[Ue]<=Je[oe]},_t=(_,Ue,oe)=>{const Je=_.heap[oe];let gt=oe<<1;for(;gt<=_.heap_len&&(gt<_.heap_len&&St(Ue,_.heap[gt+1],_.heap[gt],_.depth)&&gt++,!St(Ue,Je,_.heap[gt],_.depth));)_.heap[oe]=_.heap[gt],oe=gt,gt<<=1;_.heap[oe]=Je},ar=(_,Ue,oe)=>{let Je,gt,ht=0,or,Jt;if(_.sym_next!==0)do Je=_.pending_buf[_.sym_buf+ht++]&255,Je+=(_.pending_buf[_.sym_buf+ht++]&255)<<8,gt=_.pending_buf[_.sym_buf+ht++],Je===0?Pe(_,gt,Ue):(or=ye[gt],Pe(_,or+w+1,Ue),Jt=we[or],Jt!==0&&(gt-=pe[or],ne(_,gt,Jt)),Je--,or=Me(Je),Pe(_,or,oe),Jt=R[or],Jt!==0&&(Je-=je[or],ne(_,Je,Jt)));while(ht<_.sym_next);Pe(_,V,Ue)},en=(_,Ue)=>{const oe=Ue.dyn_tree,Je=Ue.stat_desc.static_tree,gt=Ue.stat_desc.has_stree,ht=Ue.stat_desc.elems;let or,Jt,En=-1,Lt;for(_.heap_len=0,_.heap_max=J,or=0;or<ht;or++)oe[or*2]!==0?(_.heap[++_.heap_len]=En=or,_.depth[or]=0):oe[or*2+1]=0;for(;_.heap_len<2;)Lt=_.heap[++_.heap_len]=En<2?++En:0,oe[Lt*2]=1,_.depth[Lt]=0,_.opt_len--,gt&&(_.static_len-=Je[Lt*2+1]);for(Ue.max_code=En,or=_.heap_len>>1;or>=1;or--)_t(_,oe,or);Lt=ht;do or=_.heap[1],_.heap[1]=_.heap[_.heap_len--],_t(_,oe,1),Jt=_.heap[1],_.heap[--_.heap_max]=or,_.heap[--_.heap_max]=Jt,oe[Lt*2]=oe[or*2]+oe[Jt*2],_.depth[Lt]=(_.depth[or]>=_.depth[Jt]?_.depth[or]:_.depth[Jt])+1,oe[or*2+1]=oe[Jt*2+1]=Lt,_.heap[1]=Lt++,_t(_,oe,1);while(_.heap_len>=2);_.heap[--_.heap_max]=_.heap[1],et(_,Ue),Le(oe,En,_.bl_count)},Xt=(_,Ue,oe)=>{let Je,gt=-1,ht,or=Ue[1],Jt=0,En=7,Lt=4;for(or===0&&(En=138,Lt=3),Ue[(oe+1)*2+1]=65535,Je=0;Je<=oe;Je++)ht=or,or=Ue[(Je+1)*2+1],!(++Jt<En&&ht===or)&&(Jt<Lt?_.bl_tree[ht*2]+=Jt:ht!==0?(ht!==gt&&_.bl_tree[ht*2]++,_.bl_tree[me*2]++):Jt<=10?_.bl_tree[$*2]++:_.bl_tree[ee*2]++,Jt=0,gt=ht,or===0?(En=138,Lt=3):ht===or?(En=6,Lt=3):(En=7,Lt=4))},Yr=(_,Ue,oe)=>{let Je,gt=-1,ht,or=Ue[1],Jt=0,En=7,Lt=4;for(or===0&&(En=138,Lt=3),Je=0;Je<=oe;Je++)if(ht=or,or=Ue[(Je+1)*2+1],!(++Jt<En&&ht===or)){if(Jt<Lt)do Pe(_,ht,_.bl_tree);while(--Jt!==0);else ht!==0?(ht!==gt&&(Pe(_,ht,_.bl_tree),Jt--),Pe(_,me,_.bl_tree),ne(_,Jt-3,2)):Jt<=10?(Pe(_,$,_.bl_tree),ne(_,Jt-3,3)):(Pe(_,ee,_.bl_tree),ne(_,Jt-11,7));Jt=0,gt=ht,or===0?(En=138,Lt=3):ht===or?(En=6,Lt=3):(En=7,Lt=4)}},Qr=_=>{let Ue;for(Xt(_,_.dyn_ltree,_.l_desc.max_code),Xt(_,_.dyn_dtree,_.d_desc.max_code),en(_,_.bl_desc),Ue=L-1;Ue>=3&&_.bl_tree[ie[Ue]*2+1]===0;Ue--);return _.opt_len+=3*(Ue+1)+5+5+4,Ue},He=(_,Ue,oe,Je)=>{let gt;for(ne(_,Ue-257,5),ne(_,oe-1,5),ne(_,Je-4,4),gt=0;gt<Je;gt++)ne(_,_.bl_tree[ie[gt]*2+1],3);Yr(_,_.dyn_ltree,Ue-1),Yr(_,_.dyn_dtree,oe-1)},Rt=_=>{let Ue=4093624447,oe;for(oe=0;oe<=31;oe++,Ue>>>=1)if(Ue&1&&_.dyn_ltree[oe*2]!==0)return h;if(_.dyn_ltree[18]!==0||_.dyn_ltree[20]!==0||_.dyn_ltree[26]!==0)return f;for(oe=32;oe<w;oe++)if(_.dyn_ltree[oe*2]!==0)return f;return h};let ot=!1;const Ht=_=>{ot||(it(),ot=!0),_.l_desc=new Be(_.dyn_ltree,he),_.d_desc=new Be(_.dyn_dtree,X),_.bl_desc=new Be(_.bl_tree,Ae),_.bi_buf=0,_.bi_valid=0,Wt(_)},$t=(_,Ue,oe,Je)=>{ne(_,(m<<1)+(Je?1:0),3),qe(_),$e(_,oe),$e(_,~oe),oe&&_.pending_buf.set(_.window.subarray(Ue,Ue+oe),_.pending),_.pending+=oe},Dr=_=>{ne(_,x<<1,3),Pe(_,V,D),rt(_)},Fr=(_,Ue,oe,Je)=>{let gt,ht,or=0;_.level>0?(_.strm.data_type===A&&(_.strm.data_type=Rt(_)),en(_,_.l_desc),en(_,_.d_desc),or=Qr(_),gt=_.opt_len+3+7>>>3,ht=_.static_len+3+7>>>3,ht<=gt&&(gt=ht)):gt=ht=oe+5,oe+4<=gt&&Ue!==-1?$t(_,Ue,oe,Je):_.strategy===u||ht===gt?(ne(_,(x<<1)+(Je?1:0),3),ar(_,D,ue)):(ne(_,(y<<1)+(Je?1:0),3),He(_,_.l_desc.max_code+1,_.d_desc.max_code+1,or+1),ar(_,_.dyn_ltree,_.dyn_dtree)),Wt(_),Je&&qe(_)},Jr=(_,Ue,oe)=>(_.pending_buf[_.sym_buf+_.sym_next++]=Ue,_.pending_buf[_.sym_buf+_.sym_next++]=Ue>>8,_.pending_buf[_.sym_buf+_.sym_next++]=oe,Ue===0?_.dyn_ltree[oe*2]++:(_.matches++,Ue--,_.dyn_ltree[(ye[oe]+w+1)*2]++,_.dyn_dtree[Me(Ue)*2]++),_.sym_next===_.sym_end);var Wr=Ht,Ln=$t,Vr=Fr,Ur=Jr,Cn=Dr,un={_tr_init:Wr,_tr_stored_block:Ln,_tr_flush_block:Vr,_tr_tally:Ur,_tr_align:Cn},da=(_,Ue,oe,Je)=>{let gt=_&65535|0,ht=_>>>16&65535|0,or=0;for(;oe!==0;){or=oe>2e3?2e3:oe,oe-=or;do gt=gt+Ue[Je++]|0,ht=ht+gt|0;while(--or);gt%=65521,ht%=65521}return gt|ht<<16|0};const ri=()=>{let _,Ue=[];for(var oe=0;oe<256;oe++){_=oe;for(var Je=0;Je<8;Je++)_=_&1?3988292384^_>>>1:_>>>1;Ue[oe]=_}return Ue},Ks=new Uint32Array(ri());var oa=(_,Ue,oe,Je)=>{const gt=Ks,ht=Je+oe;_^=-1;for(let or=Je;or<ht;or++)_=_>>>8^gt[(_^Ue[or])&255];return _^-1},rn={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ds={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:wi,_tr_stored_block:wt,_tr_flush_block:Pr,_tr_tally:Mr,_tr_align:tn}=un,{Z_NO_FLUSH:Kr,Z_PARTIAL_FLUSH:Ma,Z_FULL_FLUSH:ys,Z_FINISH:Va,Z_BLOCK:Ai,Z_OK:Ca,Z_STREAM_END:ko,Z_STREAM_ERROR:Qs,Z_DATA_ERROR:qo,Z_BUF_ERROR:yl,Z_DEFAULT_COMPRESSION:Xo,Z_FILTERED:Is,Z_HUFFMAN_ONLY:jo,Z_RLE:pa,Z_FIXED:rc,Z_DEFAULT_STRATEGY:os,Z_UNKNOWN:_o,Z_DEFLATED:Ji}=ds,Oo=9,ol=15,Fo=8,ls=256+1+29,jl=30,Po=19,$c=2*ls+1,pi=15,Gn=3,Gs=258,Ci=Gs+Gn+1,Ni=32,Do=42,Ws=57,uo=69,ni=73,Rs=91,bo=103,Mo=113,va=666,qs=1,Si=2,Zi=3,Ri=4,Ro=3,Kt=(_,Ue)=>(_.msg=rn[Ue],Ue),Q=_=>_*2-(_>4?9:0),fe=_=>{let Ue=_.length;for(;--Ue>=0;)_[Ue]=0},ge=_=>{let Ue,oe,Je,gt=_.w_size;Ue=_.hash_size,Je=Ue;do oe=_.head[--Je],_.head[Je]=oe>=gt?oe-gt:0;while(--Ue);Ue=gt,Je=Ue;do oe=_.prev[--Je],_.prev[Je]=oe>=gt?oe-gt:0;while(--Ue)};let W=(_,Ue,oe)=>(Ue<<_.hash_shift^oe)&_.hash_mask;const ce=_=>{const Ue=_.state;let oe=Ue.pending;oe>_.avail_out&&(oe=_.avail_out),oe!==0&&(_.output.set(Ue.pending_buf.subarray(Ue.pending_out,Ue.pending_out+oe),_.next_out),_.next_out+=oe,Ue.pending_out+=oe,_.total_out+=oe,_.avail_out-=oe,Ue.pending-=oe,Ue.pending===0&&(Ue.pending_out=0))},Ee=(_,Ue)=>{Pr(_,_.block_start>=0?_.block_start:-1,_.strstart-_.block_start,Ue),_.block_start=_.strstart,ce(_.strm)},Fe=(_,Ue)=>{_.pending_buf[_.pending++]=Ue},Xe=(_,Ue)=>{_.pending_buf[_.pending++]=Ue>>>8&255,_.pending_buf[_.pending++]=Ue&255},dt=(_,Ue,oe,Je)=>{let gt=_.avail_in;return gt>Je&&(gt=Je),gt===0?0:(_.avail_in-=gt,Ue.set(_.input.subarray(_.next_in,_.next_in+gt),oe),_.state.wrap===1?_.adler=da(_.adler,Ue,gt,oe):_.state.wrap===2&&(_.adler=oa(_.adler,Ue,gt,oe)),_.next_in+=gt,_.total_in+=gt,gt)},k=(_,Ue)=>{let oe=_.max_chain_length,Je=_.strstart,gt,ht,or=_.prev_length,Jt=_.nice_match;const En=_.strstart>_.w_size-Ci?_.strstart-(_.w_size-Ci):0,Lt=_.window,hr=_.w_mask,ja=_.prev,gn=_.strstart+Gs;let $r=Lt[Je+or-1],Sr=Lt[Je+or];_.prev_length>=_.good_match&&(oe>>=2),Jt>_.lookahead&&(Jt=_.lookahead);do if(gt=Ue,!(Lt[gt+or]!==Sr||Lt[gt+or-1]!==$r||Lt[gt]!==Lt[Je]||Lt[++gt]!==Lt[Je+1])){Je+=2,gt++;do;while(Lt[++Je]===Lt[++gt]&&Lt[++Je]===Lt[++gt]&&Lt[++Je]===Lt[++gt]&&Lt[++Je]===Lt[++gt]&&Lt[++Je]===Lt[++gt]&&Lt[++Je]===Lt[++gt]&&Lt[++Je]===Lt[++gt]&&Lt[++Je]===Lt[++gt]&&Je<gn);if(ht=Gs-(gn-Je),Je=gn-Gs,ht>or){if(_.match_start=Ue,or=ht,ht>=Jt)break;$r=Lt[Je+or-1],Sr=Lt[Je+or]}}while((Ue=ja[Ue&hr])>En&&--oe!==0);return or<=_.lookahead?or:_.lookahead},B=_=>{const Ue=_.w_size;let oe,Je,gt;do{if(Je=_.window_size-_.lookahead-_.strstart,_.strstart>=Ue+(Ue-Ci)&&(_.window.set(_.window.subarray(Ue,Ue+Ue-Je),0),_.match_start-=Ue,_.strstart-=Ue,_.block_start-=Ue,_.insert>_.strstart&&(_.insert=_.strstart),ge(_),Je+=Ue),_.strm.avail_in===0)break;if(oe=dt(_.strm,_.window,_.strstart+_.lookahead,Je),_.lookahead+=oe,_.lookahead+_.insert>=Gn)for(gt=_.strstart-_.insert,_.ins_h=_.window[gt],_.ins_h=W(_,_.ins_h,_.window[gt+1]);_.insert&&(_.ins_h=W(_,_.ins_h,_.window[gt+Gn-1]),_.prev[gt&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=gt,gt++,_.insert--,!(_.lookahead+_.insert<Gn)););}while(_.lookahead<Ci&&_.strm.avail_in!==0)},P=(_,Ue)=>{let oe=_.pending_buf_size-5>_.w_size?_.w_size:_.pending_buf_size-5,Je,gt,ht,or=0,Jt=_.strm.avail_in;do{if(Je=65535,ht=_.bi_valid+42>>3,_.strm.avail_out<ht||(ht=_.strm.avail_out-ht,gt=_.strstart-_.block_start,Je>gt+_.strm.avail_in&&(Je=gt+_.strm.avail_in),Je>ht&&(Je=ht),Je<oe&&(Je===0&&Ue!==Va||Ue===Kr||Je!==gt+_.strm.avail_in)))break;or=Ue===Va&&Je===gt+_.strm.avail_in?1:0,wt(_,0,0,or),_.pending_buf[_.pending-4]=Je,_.pending_buf[_.pending-3]=Je>>8,_.pending_buf[_.pending-2]=~Je,_.pending_buf[_.pending-1]=~Je>>8,ce(_.strm),gt&&(gt>Je&&(gt=Je),_.strm.output.set(_.window.subarray(_.block_start,_.block_start+gt),_.strm.next_out),_.strm.next_out+=gt,_.strm.avail_out-=gt,_.strm.total_out+=gt,_.block_start+=gt,Je-=gt),Je&&(dt(_.strm,_.strm.output,_.strm.next_out,Je),_.strm.next_out+=Je,_.strm.avail_out-=Je,_.strm.total_out+=Je)}while(or===0);return Jt-=_.strm.avail_in,Jt&&(Jt>=_.w_size?(_.matches=2,_.window.set(_.strm.input.subarray(_.strm.next_in-_.w_size,_.strm.next_in),0),_.strstart=_.w_size,_.insert=_.strstart):(_.window_size-_.strstart<=Jt&&(_.strstart-=_.w_size,_.window.set(_.window.subarray(_.w_size,_.w_size+_.strstart),0),_.matches<2&&_.matches++,_.insert>_.strstart&&(_.insert=_.strstart)),_.window.set(_.strm.input.subarray(_.strm.next_in-Jt,_.strm.next_in),_.strstart),_.strstart+=Jt,_.insert+=Jt>_.w_size-_.insert?_.w_size-_.insert:Jt),_.block_start=_.strstart),_.high_water<_.strstart&&(_.high_water=_.strstart),or?Ri:Ue!==Kr&&Ue!==Va&&_.strm.avail_in===0&&_.strstart===_.block_start?Si:(ht=_.window_size-_.strstart,_.strm.avail_in>ht&&_.block_start>=_.w_size&&(_.block_start-=_.w_size,_.strstart-=_.w_size,_.window.set(_.window.subarray(_.w_size,_.w_size+_.strstart),0),_.matches<2&&_.matches++,ht+=_.w_size,_.insert>_.strstart&&(_.insert=_.strstart)),ht>_.strm.avail_in&&(ht=_.strm.avail_in),ht&&(dt(_.strm,_.window,_.strstart,ht),_.strstart+=ht,_.insert+=ht>_.w_size-_.insert?_.w_size-_.insert:ht),_.high_water<_.strstart&&(_.high_water=_.strstart),ht=_.bi_valid+42>>3,ht=_.pending_buf_size-ht>65535?65535:_.pending_buf_size-ht,oe=ht>_.w_size?_.w_size:ht,gt=_.strstart-_.block_start,(gt>=oe||(gt||Ue===Va)&&Ue!==Kr&&_.strm.avail_in===0&&gt<=ht)&&(Je=gt>ht?ht:gt,or=Ue===Va&&_.strm.avail_in===0&&Je===gt?1:0,wt(_,_.block_start,Je,or),_.block_start+=Je,ce(_.strm)),or?Zi:qs)},K=(_,Ue)=>{let oe,Je;for(;;){if(_.lookahead<Ci){if(B(_),_.lookahead<Ci&&Ue===Kr)return qs;if(_.lookahead===0)break}if(oe=0,_.lookahead>=Gn&&(_.ins_h=W(_,_.ins_h,_.window[_.strstart+Gn-1]),oe=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart),oe!==0&&_.strstart-oe<=_.w_size-Ci&&(_.match_length=k(_,oe)),_.match_length>=Gn)if(Je=Mr(_,_.strstart-_.match_start,_.match_length-Gn),_.lookahead-=_.match_length,_.match_length<=_.max_lazy_match&&_.lookahead>=Gn){_.match_length--;do _.strstart++,_.ins_h=W(_,_.ins_h,_.window[_.strstart+Gn-1]),oe=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart;while(--_.match_length!==0);_.strstart++}else _.strstart+=_.match_length,_.match_length=0,_.ins_h=_.window[_.strstart],_.ins_h=W(_,_.ins_h,_.window[_.strstart+1]);else Je=Mr(_,0,_.window[_.strstart]),_.lookahead--,_.strstart++;if(Je&&(Ee(_,!1),_.strm.avail_out===0))return qs}return _.insert=_.strstart<Gn-1?_.strstart:Gn-1,Ue===Va?(Ee(_,!0),_.strm.avail_out===0?Zi:Ri):_.sym_next&&(Ee(_,!1),_.strm.avail_out===0)?qs:Si},se=(_,Ue)=>{let oe,Je,gt;for(;;){if(_.lookahead<Ci){if(B(_),_.lookahead<Ci&&Ue===Kr)return qs;if(_.lookahead===0)break}if(oe=0,_.lookahead>=Gn&&(_.ins_h=W(_,_.ins_h,_.window[_.strstart+Gn-1]),oe=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart),_.prev_length=_.match_length,_.prev_match=_.match_start,_.match_length=Gn-1,oe!==0&&_.prev_length<_.max_lazy_match&&_.strstart-oe<=_.w_size-Ci&&(_.match_length=k(_,oe),_.match_length<=5&&(_.strategy===Is||_.match_length===Gn&&_.strstart-_.match_start>4096)&&(_.match_length=Gn-1)),_.prev_length>=Gn&&_.match_length<=_.prev_length){gt=_.strstart+_.lookahead-Gn,Je=Mr(_,_.strstart-1-_.prev_match,_.prev_length-Gn),_.lookahead-=_.prev_length-1,_.prev_length-=2;do++_.strstart<=gt&&(_.ins_h=W(_,_.ins_h,_.window[_.strstart+Gn-1]),oe=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart);while(--_.prev_length!==0);if(_.match_available=0,_.match_length=Gn-1,_.strstart++,Je&&(Ee(_,!1),_.strm.avail_out===0))return qs}else if(_.match_available){if(Je=Mr(_,0,_.window[_.strstart-1]),Je&&Ee(_,!1),_.strstart++,_.lookahead--,_.strm.avail_out===0)return qs}else _.match_available=1,_.strstart++,_.lookahead--}return _.match_available&&(Je=Mr(_,0,_.window[_.strstart-1]),_.match_available=0),_.insert=_.strstart<Gn-1?_.strstart:Gn-1,Ue===Va?(Ee(_,!0),_.strm.avail_out===0?Zi:Ri):_.sym_next&&(Ee(_,!1),_.strm.avail_out===0)?qs:Si},de=(_,Ue)=>{let oe,Je,gt,ht;const or=_.window;for(;;){if(_.lookahead<=Gs){if(B(_),_.lookahead<=Gs&&Ue===Kr)return qs;if(_.lookahead===0)break}if(_.match_length=0,_.lookahead>=Gn&&_.strstart>0&&(gt=_.strstart-1,Je=or[gt],Je===or[++gt]&&Je===or[++gt]&&Je===or[++gt])){ht=_.strstart+Gs;do;while(Je===or[++gt]&&Je===or[++gt]&&Je===or[++gt]&&Je===or[++gt]&&Je===or[++gt]&&Je===or[++gt]&&Je===or[++gt]&&Je===or[++gt]&&gt<ht);_.match_length=Gs-(ht-gt),_.match_length>_.lookahead&&(_.match_length=_.lookahead)}if(_.match_length>=Gn?(oe=Mr(_,1,_.match_length-Gn),_.lookahead-=_.match_length,_.strstart+=_.match_length,_.match_length=0):(oe=Mr(_,0,_.window[_.strstart]),_.lookahead--,_.strstart++),oe&&(Ee(_,!1),_.strm.avail_out===0))return qs}return _.insert=0,Ue===Va?(Ee(_,!0),_.strm.avail_out===0?Zi:Ri):_.sym_next&&(Ee(_,!1),_.strm.avail_out===0)?qs:Si},Ie=(_,Ue)=>{let oe;for(;;){if(_.lookahead===0&&(B(_),_.lookahead===0)){if(Ue===Kr)return qs;break}if(_.match_length=0,oe=Mr(_,0,_.window[_.strstart]),_.lookahead--,_.strstart++,oe&&(Ee(_,!1),_.strm.avail_out===0))return qs}return _.insert=0,Ue===Va?(Ee(_,!0),_.strm.avail_out===0?Zi:Ri):_.sym_next&&(Ee(_,!1),_.strm.avail_out===0)?qs:Si};function be(_,Ue,oe,Je,gt){this.good_length=_,this.max_lazy=Ue,this.nice_length=oe,this.max_chain=Je,this.func=gt}const Ce=[new be(0,0,0,0,P),new be(4,4,8,4,K),new be(4,5,16,8,K),new be(4,6,32,32,K),new be(4,4,16,16,se),new be(8,16,32,32,se),new be(8,16,128,128,se),new be(8,32,128,256,se),new be(32,128,258,1024,se),new be(32,258,258,4096,se)],Re=_=>{_.window_size=2*_.w_size,fe(_.head),_.max_lazy_match=Ce[_.level].max_lazy,_.good_match=Ce[_.level].good_length,_.nice_match=Ce[_.level].nice_length,_.max_chain_length=Ce[_.level].max_chain,_.strstart=0,_.block_start=0,_.lookahead=0,_.insert=0,_.match_length=_.prev_length=Gn-1,_.match_available=0,_.ins_h=0};function ze(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ji,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array($c*2),this.dyn_dtree=new Uint16Array((2*jl+1)*2),this.bl_tree=new Uint16Array((2*Po+1)*2),fe(this.dyn_ltree),fe(this.dyn_dtree),fe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(pi+1),this.heap=new Uint16Array(2*ls+1),fe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*ls+1),fe(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const nt=_=>{if(!_)return 1;const Ue=_.state;return!Ue||Ue.strm!==_||Ue.status!==Do&&Ue.status!==Ws&&Ue.status!==uo&&Ue.status!==ni&&Ue.status!==Rs&&Ue.status!==bo&&Ue.status!==Mo&&Ue.status!==va?1:0},ut=_=>{if(nt(_))return Kt(_,Qs);_.total_in=_.total_out=0,_.data_type=_o;const Ue=_.state;return Ue.pending=0,Ue.pending_out=0,Ue.wrap<0&&(Ue.wrap=-Ue.wrap),Ue.status=Ue.wrap===2?Ws:Ue.wrap?Do:Mo,_.adler=Ue.wrap===2?0:1,Ue.last_flush=-2,wi(Ue),Ca},Oe=_=>{const Ue=ut(_);return Ue===Ca&&Re(_.state),Ue},Nt=(_,Ue)=>nt(_)||_.state.wrap!==2?Qs:(_.state.gzhead=Ue,Ca),jt=(_,Ue,oe,Je,gt,ht)=>{if(!_)return Qs;let or=1;if(Ue===Xo&&(Ue=6),Je<0?(or=0,Je=-Je):Je>15&&(or=2,Je-=16),gt<1||gt>Oo||oe!==Ji||Je<8||Je>15||Ue<0||Ue>9||ht<0||ht>rc||Je===8&&or!==1)return Kt(_,Qs);Je===8&&(Je=9);const Jt=new ze;return _.state=Jt,Jt.strm=_,Jt.status=Do,Jt.wrap=or,Jt.gzhead=null,Jt.w_bits=Je,Jt.w_size=1<<Jt.w_bits,Jt.w_mask=Jt.w_size-1,Jt.hash_bits=gt+7,Jt.hash_size=1<<Jt.hash_bits,Jt.hash_mask=Jt.hash_size-1,Jt.hash_shift=~~((Jt.hash_bits+Gn-1)/Gn),Jt.window=new Uint8Array(Jt.w_size*2),Jt.head=new Uint16Array(Jt.hash_size),Jt.prev=new Uint16Array(Jt.w_size),Jt.lit_bufsize=1<<gt+6,Jt.pending_buf_size=Jt.lit_bufsize*4,Jt.pending_buf=new Uint8Array(Jt.pending_buf_size),Jt.sym_buf=Jt.lit_bufsize,Jt.sym_end=(Jt.lit_bufsize-1)*3,Jt.level=Ue,Jt.strategy=ht,Jt.method=oe,Oe(_)},Bt=(_,Ue)=>jt(_,Ue,Ji,ol,Fo,os),lt=(_,Ue)=>{if(nt(_)||Ue>Ai||Ue<0)return _?Kt(_,Qs):Qs;const oe=_.state;if(!_.output||_.avail_in!==0&&!_.input||oe.status===va&&Ue!==Va)return Kt(_,_.avail_out===0?yl:Qs);const Je=oe.last_flush;if(oe.last_flush=Ue,oe.pending!==0){if(ce(_),_.avail_out===0)return oe.last_flush=-1,Ca}else if(_.avail_in===0&&Q(Ue)<=Q(Je)&&Ue!==Va)return Kt(_,yl);if(oe.status===va&&_.avail_in!==0)return Kt(_,yl);if(oe.status===Do&&oe.wrap===0&&(oe.status=Mo),oe.status===Do){let gt=Ji+(oe.w_bits-8<<4)<<8,ht=-1;if(oe.strategy>=jo||oe.level<2?ht=0:oe.level<6?ht=1:oe.level===6?ht=2:ht=3,gt|=ht<<6,oe.strstart!==0&&(gt|=Ni),gt+=31-gt%31,Xe(oe,gt),oe.strstart!==0&&(Xe(oe,_.adler>>>16),Xe(oe,_.adler&65535)),_.adler=1,oe.status=Mo,ce(_),oe.pending!==0)return oe.last_flush=-1,Ca}if(oe.status===Ws){if(_.adler=0,Fe(oe,31),Fe(oe,139),Fe(oe,8),oe.gzhead)Fe(oe,(oe.gzhead.text?1:0)+(oe.gzhead.hcrc?2:0)+(oe.gzhead.extra?4:0)+(oe.gzhead.name?8:0)+(oe.gzhead.comment?16:0)),Fe(oe,oe.gzhead.time&255),Fe(oe,oe.gzhead.time>>8&255),Fe(oe,oe.gzhead.time>>16&255),Fe(oe,oe.gzhead.time>>24&255),Fe(oe,oe.level===9?2:oe.strategy>=jo||oe.level<2?4:0),Fe(oe,oe.gzhead.os&255),oe.gzhead.extra&&oe.gzhead.extra.length&&(Fe(oe,oe.gzhead.extra.length&255),Fe(oe,oe.gzhead.extra.length>>8&255)),oe.gzhead.hcrc&&(_.adler=oa(_.adler,oe.pending_buf,oe.pending,0)),oe.gzindex=0,oe.status=uo;else if(Fe(oe,0),Fe(oe,0),Fe(oe,0),Fe(oe,0),Fe(oe,0),Fe(oe,oe.level===9?2:oe.strategy>=jo||oe.level<2?4:0),Fe(oe,Ro),oe.status=Mo,ce(_),oe.pending!==0)return oe.last_flush=-1,Ca}if(oe.status===uo){if(oe.gzhead.extra){let gt=oe.pending,ht=(oe.gzhead.extra.length&65535)-oe.gzindex;for(;oe.pending+ht>oe.pending_buf_size;){let Jt=oe.pending_buf_size-oe.pending;if(oe.pending_buf.set(oe.gzhead.extra.subarray(oe.gzindex,oe.gzindex+Jt),oe.pending),oe.pending=oe.pending_buf_size,oe.gzhead.hcrc&&oe.pending>gt&&(_.adler=oa(_.adler,oe.pending_buf,oe.pending-gt,gt)),oe.gzindex+=Jt,ce(_),oe.pending!==0)return oe.last_flush=-1,Ca;gt=0,ht-=Jt}let or=new Uint8Array(oe.gzhead.extra);oe.pending_buf.set(or.subarray(oe.gzindex,oe.gzindex+ht),oe.pending),oe.pending+=ht,oe.gzhead.hcrc&&oe.pending>gt&&(_.adler=oa(_.adler,oe.pending_buf,oe.pending-gt,gt)),oe.gzindex=0}oe.status=ni}if(oe.status===ni){if(oe.gzhead.name){let gt=oe.pending,ht;do{if(oe.pending===oe.pending_buf_size){if(oe.gzhead.hcrc&&oe.pending>gt&&(_.adler=oa(_.adler,oe.pending_buf,oe.pending-gt,gt)),ce(_),oe.pending!==0)return oe.last_flush=-1,Ca;gt=0}oe.gzindex<oe.gzhead.name.length?ht=oe.gzhead.name.charCodeAt(oe.gzindex++)&255:ht=0,Fe(oe,ht)}while(ht!==0);oe.gzhead.hcrc&&oe.pending>gt&&(_.adler=oa(_.adler,oe.pending_buf,oe.pending-gt,gt)),oe.gzindex=0}oe.status=Rs}if(oe.status===Rs){if(oe.gzhead.comment){let gt=oe.pending,ht;do{if(oe.pending===oe.pending_buf_size){if(oe.gzhead.hcrc&&oe.pending>gt&&(_.adler=oa(_.adler,oe.pending_buf,oe.pending-gt,gt)),ce(_),oe.pending!==0)return oe.last_flush=-1,Ca;gt=0}oe.gzindex<oe.gzhead.comment.length?ht=oe.gzhead.comment.charCodeAt(oe.gzindex++)&255:ht=0,Fe(oe,ht)}while(ht!==0);oe.gzhead.hcrc&&oe.pending>gt&&(_.adler=oa(_.adler,oe.pending_buf,oe.pending-gt,gt))}oe.status=bo}if(oe.status===bo){if(oe.gzhead.hcrc){if(oe.pending+2>oe.pending_buf_size&&(ce(_),oe.pending!==0))return oe.last_flush=-1,Ca;Fe(oe,_.adler&255),Fe(oe,_.adler>>8&255),_.adler=0}if(oe.status=Mo,ce(_),oe.pending!==0)return oe.last_flush=-1,Ca}if(_.avail_in!==0||oe.lookahead!==0||Ue!==Kr&&oe.status!==va){let gt=oe.level===0?P(oe,Ue):oe.strategy===jo?Ie(oe,Ue):oe.strategy===pa?de(oe,Ue):Ce[oe.level].func(oe,Ue);if((gt===Zi||gt===Ri)&&(oe.status=va),gt===qs||gt===Zi)return _.avail_out===0&&(oe.last_flush=-1),Ca;if(gt===Si&&(Ue===Ma?tn(oe):Ue!==Ai&&(wt(oe,0,0,!1),Ue===ys&&(fe(oe.head),oe.lookahead===0&&(oe.strstart=0,oe.block_start=0,oe.insert=0))),ce(_),_.avail_out===0))return oe.last_flush=-1,Ca}return Ue!==Va?Ca:oe.wrap<=0?ko:(oe.wrap===2?(Fe(oe,_.adler&255),Fe(oe,_.adler>>8&255),Fe(oe,_.adler>>16&255),Fe(oe,_.adler>>24&255),Fe(oe,_.total_in&255),Fe(oe,_.total_in>>8&255),Fe(oe,_.total_in>>16&255),Fe(oe,_.total_in>>24&255)):(Xe(oe,_.adler>>>16),Xe(oe,_.adler&65535)),ce(_),oe.wrap>0&&(oe.wrap=-oe.wrap),oe.pending!==0?Ca:ko)},Mt=_=>{if(nt(_))return Qs;const Ue=_.state.status;return _.state=null,Ue===Mo?Kt(_,qo):Ca},tr=(_,Ue)=>{let oe=Ue.length;if(nt(_))return Qs;const Je=_.state,gt=Je.wrap;if(gt===2||gt===1&&Je.status!==Do||Je.lookahead)return Qs;if(gt===1&&(_.adler=da(_.adler,Ue,oe,0)),Je.wrap=0,oe>=Je.w_size){gt===0&&(fe(Je.head),Je.strstart=0,Je.block_start=0,Je.insert=0);let En=new Uint8Array(Je.w_size);En.set(Ue.subarray(oe-Je.w_size,oe),0),Ue=En,oe=Je.w_size}const ht=_.avail_in,or=_.next_in,Jt=_.input;for(_.avail_in=oe,_.next_in=0,_.input=Ue,B(Je);Je.lookahead>=Gn;){let En=Je.strstart,Lt=Je.lookahead-(Gn-1);do Je.ins_h=W(Je,Je.ins_h,Je.window[En+Gn-1]),Je.prev[En&Je.w_mask]=Je.head[Je.ins_h],Je.head[Je.ins_h]=En,En++;while(--Lt);Je.strstart=En,Je.lookahead=Gn-1,B(Je)}return Je.strstart+=Je.lookahead,Je.block_start=Je.strstart,Je.insert=Je.lookahead,Je.lookahead=0,Je.match_length=Je.prev_length=Gn-1,Je.match_available=0,_.next_in=or,_.input=Jt,_.avail_in=ht,Je.wrap=gt,Ca};var kt=Bt,at=jt,qt=Oe,pr=ut,nr=Nt,Pt=lt,Ar=Mt,ct=tr,mt="pako deflate (from Nodeca project)",Ot={deflateInit:kt,deflateInit2:at,deflateReset:qt,deflateResetKeep:pr,deflateSetHeader:nr,deflate:Pt,deflateEnd:Ar,deflateSetDictionary:ct,deflateInfo:mt};const Ft=(_,Ue)=>Object.prototype.hasOwnProperty.call(_,Ue);var mr=function(_){const Ue=Array.prototype.slice.call(arguments,1);for(;Ue.length;){const oe=Ue.shift();if(oe){if(typeof oe!="object")throw new TypeError(oe+"must be non-object");for(const Je in oe)Ft(oe,Je)&&(_[Je]=oe[Je])}}return _},yr=_=>{let Ue=0;for(let Je=0,gt=_.length;Je<gt;Je++)Ue+=_[Je].length;const oe=new Uint8Array(Ue);for(let Je=0,gt=0,ht=_.length;Je<ht;Je++){let or=_[Je];oe.set(or,gt),gt+=or.length}return oe},Cr={assign:mr,flattenChunks:yr};let ir=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{ir=!1}const br=new Uint8Array(256);for(let _=0;_<256;_++)br[_]=_>=252?6:_>=248?5:_>=240?4:_>=224?3:_>=192?2:1;br[254]=br[254]=1;var nn=_=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(_);let Ue,oe,Je,gt,ht,or=_.length,Jt=0;for(gt=0;gt<or;gt++)oe=_.charCodeAt(gt),(oe&64512)===55296&&gt+1<or&&(Je=_.charCodeAt(gt+1),(Je&64512)===56320&&(oe=65536+(oe-55296<<10)+(Je-56320),gt++)),Jt+=oe<128?1:oe<2048?2:oe<65536?3:4;for(Ue=new Uint8Array(Jt),ht=0,gt=0;ht<Jt;gt++)oe=_.charCodeAt(gt),(oe&64512)===55296&&gt+1<or&&(Je=_.charCodeAt(gt+1),(Je&64512)===56320&&(oe=65536+(oe-55296<<10)+(Je-56320),gt++)),oe<128?Ue[ht++]=oe:oe<2048?(Ue[ht++]=192|oe>>>6,Ue[ht++]=128|oe&63):oe<65536?(Ue[ht++]=224|oe>>>12,Ue[ht++]=128|oe>>>6&63,Ue[ht++]=128|oe&63):(Ue[ht++]=240|oe>>>18,Ue[ht++]=128|oe>>>12&63,Ue[ht++]=128|oe>>>6&63,Ue[ht++]=128|oe&63);return Ue};const Gr=(_,Ue)=>{if(Ue<65534&&_.subarray&&ir)return String.fromCharCode.apply(null,_.length===Ue?_:_.subarray(0,Ue));let oe="";for(let Je=0;Je<Ue;Je++)oe+=String.fromCharCode(_[Je]);return oe};var Ze=(_,Ue)=>{const oe=Ue||_.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(_.subarray(0,Ue));let Je,gt;const ht=new Array(oe*2);for(gt=0,Je=0;Je<oe;){let or=_[Je++];if(or<128){ht[gt++]=or;continue}let Jt=br[or];if(Jt>4){ht[gt++]=65533,Je+=Jt-1;continue}for(or&=Jt===2?31:Jt===3?15:7;Jt>1&&Je<oe;)or=or<<6|_[Je++]&63,Jt--;if(Jt>1){ht[gt++]=65533;continue}or<65536?ht[gt++]=or:(or-=65536,ht[gt++]=55296|or>>10&1023,ht[gt++]=56320|or&1023)}return Gr(ht,gt)},Et=(_,Ue)=>{Ue=Ue||_.length,Ue>_.length&&(Ue=_.length);let oe=Ue-1;for(;oe>=0&&(_[oe]&192)===128;)oe--;return oe<0||oe===0?Ue:oe+br[_[oe]]>Ue?oe:Ue},Tt={string2buf:nn,buf2string:Ze,utf8border:Et};function Yt(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var er=Yt;const dr=Object.prototype.toString,{Z_NO_FLUSH:jr,Z_SYNC_FLUSH:wr,Z_FULL_FLUSH:Rr,Z_FINISH:an,Z_OK:Sn,Z_STREAM_END:Bn,Z_DEFAULT_COMPRESSION:ua,Z_DEFAULT_STRATEGY:pt,Z_DEFLATED:mn}=ds;function xa(_){this.options=Cr.assign({level:ua,method:mn,chunkSize:16384,windowBits:15,memLevel:8,strategy:pt},_||{});let Ue=this.options;Ue.raw&&Ue.windowBits>0?Ue.windowBits=-Ue.windowBits:Ue.gzip&&Ue.windowBits>0&&Ue.windowBits<16&&(Ue.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new er,this.strm.avail_out=0;let oe=Ot.deflateInit2(this.strm,Ue.level,Ue.method,Ue.windowBits,Ue.memLevel,Ue.strategy);if(oe!==Sn)throw new Error(rn[oe]);if(Ue.header&&Ot.deflateSetHeader(this.strm,Ue.header),Ue.dictionary){let Je;if(typeof Ue.dictionary=="string"?Je=Tt.string2buf(Ue.dictionary):dr.call(Ue.dictionary)==="[object ArrayBuffer]"?Je=new Uint8Array(Ue.dictionary):Je=Ue.dictionary,oe=Ot.deflateSetDictionary(this.strm,Je),oe!==Sn)throw new Error(rn[oe]);this._dict_set=!0}}xa.prototype.push=function(_,Ue){const oe=this.strm,Je=this.options.chunkSize;let gt,ht;if(this.ended)return!1;for(Ue===~~Ue?ht=Ue:ht=Ue===!0?an:jr,typeof _=="string"?oe.input=Tt.string2buf(_):dr.call(_)==="[object ArrayBuffer]"?oe.input=new Uint8Array(_):oe.input=_,oe.next_in=0,oe.avail_in=oe.input.length;;){if(oe.avail_out===0&&(oe.output=new Uint8Array(Je),oe.next_out=0,oe.avail_out=Je),(ht===wr||ht===Rr)&&oe.avail_out<=6){this.onData(oe.output.subarray(0,oe.next_out)),oe.avail_out=0;continue}if(gt=Ot.deflate(oe,ht),gt===Bn)return oe.next_out>0&&this.onData(oe.output.subarray(0,oe.next_out)),gt=Ot.deflateEnd(this.strm),this.onEnd(gt),this.ended=!0,gt===Sn;if(oe.avail_out===0){this.onData(oe.output);continue}if(ht>0&&oe.next_out>0){this.onData(oe.output.subarray(0,oe.next_out)),oe.avail_out=0;continue}if(oe.avail_in===0)break}return!0},xa.prototype.onData=function(_){this.chunks.push(_)},xa.prototype.onEnd=function(_){_===Sn&&(this.result=Cr.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg};function pn(_,Ue){const oe=new xa(Ue);if(oe.push(_,!0),oe.err)throw oe.msg||rn[oe.err];return oe.result}function qr(_,Ue){return Ue=Ue||{},Ue.raw=!0,pn(_,Ue)}function la(_,Ue){return Ue=Ue||{},Ue.gzip=!0,pn(_,Ue)}var Mn=xa,Zn=pn,Rn=qr,js=la,za={Deflate:Mn,deflate:Zn,deflateRaw:Rn,gzip:js};const Pn=16209,us=16191;var ca=function(Ue,oe){let Je,gt,ht,or,Jt,En,Lt,hr,ja,gn,$r,Sr,Vs,wa,sa,Ba,ns,dn,Oa,oi,ea,hs,La,Qn;const Aa=Ue.state;Je=Ue.next_in,La=Ue.input,gt=Je+(Ue.avail_in-5),ht=Ue.next_out,Qn=Ue.output,or=ht-(oe-Ue.avail_out),Jt=ht+(Ue.avail_out-257),En=Aa.dmax,Lt=Aa.wsize,hr=Aa.whave,ja=Aa.wnext,gn=Aa.window,$r=Aa.hold,Sr=Aa.bits,Vs=Aa.lencode,wa=Aa.distcode,sa=(1<<Aa.lenbits)-1,Ba=(1<<Aa.distbits)-1;e:do{Sr<15&&($r+=La[Je++]<<Sr,Sr+=8,$r+=La[Je++]<<Sr,Sr+=8),ns=Vs[$r&sa];t:for(;;){if(dn=ns>>>24,$r>>>=dn,Sr-=dn,dn=ns>>>16&255,dn===0)Qn[ht++]=ns&65535;else if(dn&16){Oa=ns&65535,dn&=15,dn&&(Sr<dn&&($r+=La[Je++]<<Sr,Sr+=8),Oa+=$r&(1<<dn)-1,$r>>>=dn,Sr-=dn),Sr<15&&($r+=La[Je++]<<Sr,Sr+=8,$r+=La[Je++]<<Sr,Sr+=8),ns=wa[$r&Ba];r:for(;;){if(dn=ns>>>24,$r>>>=dn,Sr-=dn,dn=ns>>>16&255,dn&16){if(oi=ns&65535,dn&=15,Sr<dn&&($r+=La[Je++]<<Sr,Sr+=8,Sr<dn&&($r+=La[Je++]<<Sr,Sr+=8)),oi+=$r&(1<<dn)-1,oi>En){Ue.msg="invalid distance too far back",Aa.mode=Pn;break e}if($r>>>=dn,Sr-=dn,dn=ht-or,oi>dn){if(dn=oi-dn,dn>hr&&Aa.sane){Ue.msg="invalid distance too far back",Aa.mode=Pn;break e}if(ea=0,hs=gn,ja===0){if(ea+=Lt-dn,dn<Oa){Oa-=dn;do Qn[ht++]=gn[ea++];while(--dn);ea=ht-oi,hs=Qn}}else if(ja<dn){if(ea+=Lt+ja-dn,dn-=ja,dn<Oa){Oa-=dn;do Qn[ht++]=gn[ea++];while(--dn);if(ea=0,ja<Oa){dn=ja,Oa-=dn;do Qn[ht++]=gn[ea++];while(--dn);ea=ht-oi,hs=Qn}}}else if(ea+=ja-dn,dn<Oa){Oa-=dn;do Qn[ht++]=gn[ea++];while(--dn);ea=ht-oi,hs=Qn}for(;Oa>2;)Qn[ht++]=hs[ea++],Qn[ht++]=hs[ea++],Qn[ht++]=hs[ea++],Oa-=3;Oa&&(Qn[ht++]=hs[ea++],Oa>1&&(Qn[ht++]=hs[ea++]))}else{ea=ht-oi;do Qn[ht++]=Qn[ea++],Qn[ht++]=Qn[ea++],Qn[ht++]=Qn[ea++],Oa-=3;while(Oa>2);Oa&&(Qn[ht++]=Qn[ea++],Oa>1&&(Qn[ht++]=Qn[ea++]))}}else if((dn&64)===0){ns=wa[(ns&65535)+($r&(1<<dn)-1)];continue r}else{Ue.msg="invalid distance code",Aa.mode=Pn;break e}break}}else if((dn&64)===0){ns=Vs[(ns&65535)+($r&(1<<dn)-1)];continue t}else if(dn&32){Aa.mode=us;break e}else{Ue.msg="invalid literal/length code",Aa.mode=Pn;break e}break}}while(Je<gt&&ht<Jt);Oa=Sr>>3,Je-=Oa,Sr-=Oa<<3,$r&=(1<<Sr)-1,Ue.next_in=Je,Ue.next_out=ht,Ue.avail_in=Je<gt?5+(gt-Je):5-(Je-gt),Ue.avail_out=ht<Jt?257+(Jt-ht):257-(ht-Jt),Aa.hold=$r,Aa.bits=Sr};const _n=15,fa=852,On=592,Na=0,As=1,Ya=2,Ja=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ii=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),zn=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Os=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Vn=(_,Ue,oe,Je,gt,ht,or,Jt)=>{const En=Jt.bits;let Lt=0,hr=0,ja=0,gn=0,$r=0,Sr=0,Vs=0,wa=0,sa=0,Ba=0,ns,dn,Oa,oi,ea,hs=null,La;const Qn=new Uint16Array(_n+1),Aa=new Uint16Array(_n+1);let So=null,dc,Ho,fo;for(Lt=0;Lt<=_n;Lt++)Qn[Lt]=0;for(hr=0;hr<Je;hr++)Qn[Ue[oe+hr]]++;for($r=En,gn=_n;gn>=1&&Qn[gn]===0;gn--);if($r>gn&&($r=gn),gn===0)return gt[ht++]=1<<24|64<<16|0,gt[ht++]=1<<24|64<<16|0,Jt.bits=1,0;for(ja=1;ja<gn&&Qn[ja]===0;ja++);for($r<ja&&($r=ja),wa=1,Lt=1;Lt<=_n;Lt++)if(wa<<=1,wa-=Qn[Lt],wa<0)return-1;if(wa>0&&(_===Na||gn!==1))return-1;for(Aa[1]=0,Lt=1;Lt<_n;Lt++)Aa[Lt+1]=Aa[Lt]+Qn[Lt];for(hr=0;hr<Je;hr++)Ue[oe+hr]!==0&&(or[Aa[Ue[oe+hr]]++]=hr);if(_===Na?(hs=So=or,La=20):_===As?(hs=Ja,So=ii,La=257):(hs=zn,So=Os,La=0),Ba=0,hr=0,Lt=ja,ea=ht,Sr=$r,Vs=0,Oa=-1,sa=1<<$r,oi=sa-1,_===As&&sa>fa||_===Ya&&sa>On)return 1;for(;;){dc=Lt-Vs,or[hr]+1<La?(Ho=0,fo=or[hr]):or[hr]>=La?(Ho=So[or[hr]-La],fo=hs[or[hr]-La]):(Ho=96,fo=0),ns=1<<Lt-Vs,dn=1<<Sr,ja=dn;do dn-=ns,gt[ea+(Ba>>Vs)+dn]=dc<<24|Ho<<16|fo|0;while(dn!==0);for(ns=1<<Lt-1;Ba&ns;)ns>>=1;if(ns!==0?(Ba&=ns-1,Ba+=ns):Ba=0,hr++,--Qn[Lt]===0){if(Lt===gn)break;Lt=Ue[oe+or[hr]]}if(Lt>$r&&(Ba&oi)!==Oa){for(Vs===0&&(Vs=$r),ea+=ja,Sr=Lt-Vs,wa=1<<Sr;Sr+Vs<gn&&(wa-=Qn[Sr+Vs],!(wa<=0));)Sr++,wa<<=1;if(sa+=1<<Sr,_===As&&sa>fa||_===Ya&&sa>On)return 1;Oa=Ba&oi,gt[Oa]=$r<<24|Sr<<16|ea-ht|0}}return Ba!==0&&(gt[ea+Ba]=Lt-Vs<<24|64<<16|0),Jt.bits=$r,0};const Fs=0,Sa=1,In=2,{Z_FINISH:rs,Z_BLOCK:sd,Z_TREES:Ki,Z_OK:wo,Z_STREAM_END:Bc,Z_NEED_DICT:ma,Z_STREAM_ERROR:Ei,Z_DATA_ERROR:Co,Z_MEM_ERROR:Ol,Z_BUF_ERROR:Li,Z_DEFLATED:Ls}=ds,Oi=16180,ho=16181,id=16182,eo=16183,ll=16184,Ic=16185,nc=16186,to=16187,cl=16188,Fl=16189,Yo=16190,Lo=16191,ac=16192,Pl=16193,Tc=16194,pu=16195,Vc=16196,mu=16197,od=16198,Jo=16199,ld=16200,Sd=16201,$d=16202,Dl=16203,Vd=16204,zd=16205,sc=16206,Kd=16207,Ed=16208,ba=16209,gu=16210,ic=16211,Ns=852,vu=592,Fi=15,kc=_=>(_>>>24&255)+(_>>>8&65280)+((_&65280)<<8)+((_&255)<<24);function cd(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Ml=_=>{if(!_)return 1;const Ue=_.state;return!Ue||Ue.strm!==_||Ue.mode<Oi||Ue.mode>ic?1:0},Gd=_=>{if(Ml(_))return Ei;const Ue=_.state;return _.total_in=_.total_out=Ue.total=0,_.msg="",Ue.wrap&&(_.adler=Ue.wrap&1),Ue.mode=Oi,Ue.last=0,Ue.havedict=0,Ue.flags=-1,Ue.dmax=32768,Ue.head=null,Ue.hold=0,Ue.bits=0,Ue.lencode=Ue.lendyn=new Int32Array(Ns),Ue.distcode=Ue.distdyn=new Int32Array(vu),Ue.sane=1,Ue.back=-1,wo},Zo=_=>{if(Ml(_))return Ei;const Ue=_.state;return Ue.wsize=0,Ue.whave=0,Ue.wnext=0,Gd(_)},xu=(_,Ue)=>{let oe;if(Ml(_))return Ei;const Je=_.state;return Ue<0?(oe=0,Ue=-Ue):(oe=(Ue>>4)+5,Ue<48&&(Ue&=15)),Ue&&(Ue<8||Ue>15)?Ei:(Je.window!==null&&Je.wbits!==Ue&&(Je.window=null),Je.wrap=oe,Je.wbits=Ue,Zo(_))},Bd=(_,Ue)=>{if(!_)return Ei;const oe=new cd;_.state=oe,oe.strm=_,oe.window=null,oe.mode=Oi;const Je=xu(_,Ue);return Je!==wo&&(_.state=null),Je},yu=_=>Bd(_,Fi);let dd=!0,Id,Td;const kd=_=>{if(dd){Id=new Int32Array(512),Td=new Int32Array(32);let Ue=0;for(;Ue<144;)_.lens[Ue++]=8;for(;Ue<256;)_.lens[Ue++]=9;for(;Ue<280;)_.lens[Ue++]=7;for(;Ue<288;)_.lens[Ue++]=8;for(Vn(Sa,_.lens,0,288,Id,0,_.work,{bits:9}),Ue=0;Ue<32;)_.lens[Ue++]=5;Vn(In,_.lens,0,32,Td,0,_.work,{bits:5}),dd=!1}_.lencode=Id,_.lenbits=9,_.distcode=Td,_.distbits=5},_d=(_,Ue,oe,Je)=>{let gt;const ht=_.state;return ht.window===null&&(ht.wsize=1<<ht.wbits,ht.wnext=0,ht.whave=0,ht.window=new Uint8Array(ht.wsize)),Je>=ht.wsize?(ht.window.set(Ue.subarray(oe-ht.wsize,oe),0),ht.wnext=0,ht.whave=ht.wsize):(gt=ht.wsize-ht.wnext,gt>Je&&(gt=Je),ht.window.set(Ue.subarray(oe-Je,oe-Je+gt),ht.wnext),Je-=gt,Je?(ht.window.set(Ue.subarray(oe-Je,oe),0),ht.wnext=Je,ht.whave=ht.wsize):(ht.wnext+=gt,ht.wnext===ht.wsize&&(ht.wnext=0),ht.whave<ht.wsize&&(ht.whave+=gt))),0},ju=(_,Ue)=>{let oe,Je,gt,ht,or,Jt,En,Lt,hr,ja,gn,$r,Sr,Vs,wa=0,sa,Ba,ns,dn,Oa,oi,ea,hs;const La=new Uint8Array(4);let Qn,Aa;const So=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Ml(_)||!_.output||!_.input&&_.avail_in!==0)return Ei;oe=_.state,oe.mode===Lo&&(oe.mode=ac),or=_.next_out,gt=_.output,En=_.avail_out,ht=_.next_in,Je=_.input,Jt=_.avail_in,Lt=oe.hold,hr=oe.bits,ja=Jt,gn=En,hs=wo;e:for(;;)switch(oe.mode){case Oi:if(oe.wrap===0){oe.mode=ac;break}for(;hr<16;){if(Jt===0)break e;Jt--,Lt+=Je[ht++]<<hr,hr+=8}if(oe.wrap&2&&Lt===35615){oe.wbits===0&&(oe.wbits=15),oe.check=0,La[0]=Lt&255,La[1]=Lt>>>8&255,oe.check=oa(oe.check,La,2,0),Lt=0,hr=0,oe.mode=ho;break}if(oe.head&&(oe.head.done=!1),!(oe.wrap&1)||(((Lt&255)<<8)+(Lt>>8))%31){_.msg="incorrect header check",oe.mode=ba;break}if((Lt&15)!==Ls){_.msg="unknown compression method",oe.mode=ba;break}if(Lt>>>=4,hr-=4,ea=(Lt&15)+8,oe.wbits===0&&(oe.wbits=ea),ea>15||ea>oe.wbits){_.msg="invalid window size",oe.mode=ba;break}oe.dmax=1<<oe.wbits,oe.flags=0,_.adler=oe.check=1,oe.mode=Lt&512?Fl:Lo,Lt=0,hr=0;break;case ho:for(;hr<16;){if(Jt===0)break e;Jt--,Lt+=Je[ht++]<<hr,hr+=8}if(oe.flags=Lt,(oe.flags&255)!==Ls){_.msg="unknown compression method",oe.mode=ba;break}if(oe.flags&57344){_.msg="unknown header flags set",oe.mode=ba;break}oe.head&&(oe.head.text=Lt>>8&1),oe.flags&512&&oe.wrap&4&&(La[0]=Lt&255,La[1]=Lt>>>8&255,oe.check=oa(oe.check,La,2,0)),Lt=0,hr=0,oe.mode=id;case id:for(;hr<32;){if(Jt===0)break e;Jt--,Lt+=Je[ht++]<<hr,hr+=8}oe.head&&(oe.head.time=Lt),oe.flags&512&&oe.wrap&4&&(La[0]=Lt&255,La[1]=Lt>>>8&255,La[2]=Lt>>>16&255,La[3]=Lt>>>24&255,oe.check=oa(oe.check,La,4,0)),Lt=0,hr=0,oe.mode=eo;case eo:for(;hr<16;){if(Jt===0)break e;Jt--,Lt+=Je[ht++]<<hr,hr+=8}oe.head&&(oe.head.xflags=Lt&255,oe.head.os=Lt>>8),oe.flags&512&&oe.wrap&4&&(La[0]=Lt&255,La[1]=Lt>>>8&255,oe.check=oa(oe.check,La,2,0)),Lt=0,hr=0,oe.mode=ll;case ll:if(oe.flags&1024){for(;hr<16;){if(Jt===0)break e;Jt--,Lt+=Je[ht++]<<hr,hr+=8}oe.length=Lt,oe.head&&(oe.head.extra_len=Lt),oe.flags&512&&oe.wrap&4&&(La[0]=Lt&255,La[1]=Lt>>>8&255,oe.check=oa(oe.check,La,2,0)),Lt=0,hr=0}else oe.head&&(oe.head.extra=null);oe.mode=Ic;case Ic:if(oe.flags&1024&&($r=oe.length,$r>Jt&&($r=Jt),$r&&(oe.head&&(ea=oe.head.extra_len-oe.length,oe.head.extra||(oe.head.extra=new Uint8Array(oe.head.extra_len)),oe.head.extra.set(Je.subarray(ht,ht+$r),ea)),oe.flags&512&&oe.wrap&4&&(oe.check=oa(oe.check,Je,$r,ht)),Jt-=$r,ht+=$r,oe.length-=$r),oe.length))break e;oe.length=0,oe.mode=nc;case nc:if(oe.flags&2048){if(Jt===0)break e;$r=0;do ea=Je[ht+$r++],oe.head&&ea&&oe.length<65536&&(oe.head.name+=String.fromCharCode(ea));while(ea&&$r<Jt);if(oe.flags&512&&oe.wrap&4&&(oe.check=oa(oe.check,Je,$r,ht)),Jt-=$r,ht+=$r,ea)break e}else oe.head&&(oe.head.name=null);oe.length=0,oe.mode=to;case to:if(oe.flags&4096){if(Jt===0)break e;$r=0;do ea=Je[ht+$r++],oe.head&&ea&&oe.length<65536&&(oe.head.comment+=String.fromCharCode(ea));while(ea&&$r<Jt);if(oe.flags&512&&oe.wrap&4&&(oe.check=oa(oe.check,Je,$r,ht)),Jt-=$r,ht+=$r,ea)break e}else oe.head&&(oe.head.comment=null);oe.mode=cl;case cl:if(oe.flags&512){for(;hr<16;){if(Jt===0)break e;Jt--,Lt+=Je[ht++]<<hr,hr+=8}if(oe.wrap&4&&Lt!==(oe.check&65535)){_.msg="header crc mismatch",oe.mode=ba;break}Lt=0,hr=0}oe.head&&(oe.head.hcrc=oe.flags>>9&1,oe.head.done=!0),_.adler=oe.check=0,oe.mode=Lo;break;case Fl:for(;hr<32;){if(Jt===0)break e;Jt--,Lt+=Je[ht++]<<hr,hr+=8}_.adler=oe.check=kc(Lt),Lt=0,hr=0,oe.mode=Yo;case Yo:if(oe.havedict===0)return _.next_out=or,_.avail_out=En,_.next_in=ht,_.avail_in=Jt,oe.hold=Lt,oe.bits=hr,ma;_.adler=oe.check=1,oe.mode=Lo;case Lo:if(Ue===sd||Ue===Ki)break e;case ac:if(oe.last){Lt>>>=hr&7,hr-=hr&7,oe.mode=sc;break}for(;hr<3;){if(Jt===0)break e;Jt--,Lt+=Je[ht++]<<hr,hr+=8}switch(oe.last=Lt&1,Lt>>>=1,hr-=1,Lt&3){case 0:oe.mode=Pl;break;case 1:if(kd(oe),oe.mode=Jo,Ue===Ki){Lt>>>=2,hr-=2;break e}break;case 2:oe.mode=Vc;break;case 3:_.msg="invalid block type",oe.mode=ba}Lt>>>=2,hr-=2;break;case Pl:for(Lt>>>=hr&7,hr-=hr&7;hr<32;){if(Jt===0)break e;Jt--,Lt+=Je[ht++]<<hr,hr+=8}if((Lt&65535)!==(Lt>>>16^65535)){_.msg="invalid stored block lengths",oe.mode=ba;break}if(oe.length=Lt&65535,Lt=0,hr=0,oe.mode=Tc,Ue===Ki)break e;case Tc:oe.mode=pu;case pu:if($r=oe.length,$r){if($r>Jt&&($r=Jt),$r>En&&($r=En),$r===0)break e;gt.set(Je.subarray(ht,ht+$r),or),Jt-=$r,ht+=$r,En-=$r,or+=$r,oe.length-=$r;break}oe.mode=Lo;break;case Vc:for(;hr<14;){if(Jt===0)break e;Jt--,Lt+=Je[ht++]<<hr,hr+=8}if(oe.nlen=(Lt&31)+257,Lt>>>=5,hr-=5,oe.ndist=(Lt&31)+1,Lt>>>=5,hr-=5,oe.ncode=(Lt&15)+4,Lt>>>=4,hr-=4,oe.nlen>286||oe.ndist>30){_.msg="too many length or distance symbols",oe.mode=ba;break}oe.have=0,oe.mode=mu;case mu:for(;oe.have<oe.ncode;){for(;hr<3;){if(Jt===0)break e;Jt--,Lt+=Je[ht++]<<hr,hr+=8}oe.lens[So[oe.have++]]=Lt&7,Lt>>>=3,hr-=3}for(;oe.have<19;)oe.lens[So[oe.have++]]=0;if(oe.lencode=oe.lendyn,oe.lenbits=7,Qn={bits:oe.lenbits},hs=Vn(Fs,oe.lens,0,19,oe.lencode,0,oe.work,Qn),oe.lenbits=Qn.bits,hs){_.msg="invalid code lengths set",oe.mode=ba;break}oe.have=0,oe.mode=od;case od:for(;oe.have<oe.nlen+oe.ndist;){for(;wa=oe.lencode[Lt&(1<<oe.lenbits)-1],sa=wa>>>24,Ba=wa>>>16&255,ns=wa&65535,!(sa<=hr);){if(Jt===0)break e;Jt--,Lt+=Je[ht++]<<hr,hr+=8}if(ns<16)Lt>>>=sa,hr-=sa,oe.lens[oe.have++]=ns;else{if(ns===16){for(Aa=sa+2;hr<Aa;){if(Jt===0)break e;Jt--,Lt+=Je[ht++]<<hr,hr+=8}if(Lt>>>=sa,hr-=sa,oe.have===0){_.msg="invalid bit length repeat",oe.mode=ba;break}ea=oe.lens[oe.have-1],$r=3+(Lt&3),Lt>>>=2,hr-=2}else if(ns===17){for(Aa=sa+3;hr<Aa;){if(Jt===0)break e;Jt--,Lt+=Je[ht++]<<hr,hr+=8}Lt>>>=sa,hr-=sa,ea=0,$r=3+(Lt&7),Lt>>>=3,hr-=3}else{for(Aa=sa+7;hr<Aa;){if(Jt===0)break e;Jt--,Lt+=Je[ht++]<<hr,hr+=8}Lt>>>=sa,hr-=sa,ea=0,$r=11+(Lt&127),Lt>>>=7,hr-=7}if(oe.have+$r>oe.nlen+oe.ndist){_.msg="invalid bit length repeat",oe.mode=ba;break}for(;$r--;)oe.lens[oe.have++]=ea}}if(oe.mode===ba)break;if(oe.lens[256]===0){_.msg="invalid code -- missing end-of-block",oe.mode=ba;break}if(oe.lenbits=9,Qn={bits:oe.lenbits},hs=Vn(Sa,oe.lens,0,oe.nlen,oe.lencode,0,oe.work,Qn),oe.lenbits=Qn.bits,hs){_.msg="invalid literal/lengths set",oe.mode=ba;break}if(oe.distbits=6,oe.distcode=oe.distdyn,Qn={bits:oe.distbits},hs=Vn(In,oe.lens,oe.nlen,oe.ndist,oe.distcode,0,oe.work,Qn),oe.distbits=Qn.bits,hs){_.msg="invalid distances set",oe.mode=ba;break}if(oe.mode=Jo,Ue===Ki)break e;case Jo:oe.mode=ld;case ld:if(Jt>=6&&En>=258){_.next_out=or,_.avail_out=En,_.next_in=ht,_.avail_in=Jt,oe.hold=Lt,oe.bits=hr,ca(_,gn),or=_.next_out,gt=_.output,En=_.avail_out,ht=_.next_in,Je=_.input,Jt=_.avail_in,Lt=oe.hold,hr=oe.bits,oe.mode===Lo&&(oe.back=-1);break}for(oe.back=0;wa=oe.lencode[Lt&(1<<oe.lenbits)-1],sa=wa>>>24,Ba=wa>>>16&255,ns=wa&65535,!(sa<=hr);){if(Jt===0)break e;Jt--,Lt+=Je[ht++]<<hr,hr+=8}if(Ba&&(Ba&240)===0){for(dn=sa,Oa=Ba,oi=ns;wa=oe.lencode[oi+((Lt&(1<<dn+Oa)-1)>>dn)],sa=wa>>>24,Ba=wa>>>16&255,ns=wa&65535,!(dn+sa<=hr);){if(Jt===0)break e;Jt--,Lt+=Je[ht++]<<hr,hr+=8}Lt>>>=dn,hr-=dn,oe.back+=dn}if(Lt>>>=sa,hr-=sa,oe.back+=sa,oe.length=ns,Ba===0){oe.mode=zd;break}if(Ba&32){oe.back=-1,oe.mode=Lo;break}if(Ba&64){_.msg="invalid literal/length code",oe.mode=ba;break}oe.extra=Ba&15,oe.mode=Sd;case Sd:if(oe.extra){for(Aa=oe.extra;hr<Aa;){if(Jt===0)break e;Jt--,Lt+=Je[ht++]<<hr,hr+=8}oe.length+=Lt&(1<<oe.extra)-1,Lt>>>=oe.extra,hr-=oe.extra,oe.back+=oe.extra}oe.was=oe.length,oe.mode=$d;case $d:for(;wa=oe.distcode[Lt&(1<<oe.distbits)-1],sa=wa>>>24,Ba=wa>>>16&255,ns=wa&65535,!(sa<=hr);){if(Jt===0)break e;Jt--,Lt+=Je[ht++]<<hr,hr+=8}if((Ba&240)===0){for(dn=sa,Oa=Ba,oi=ns;wa=oe.distcode[oi+((Lt&(1<<dn+Oa)-1)>>dn)],sa=wa>>>24,Ba=wa>>>16&255,ns=wa&65535,!(dn+sa<=hr);){if(Jt===0)break e;Jt--,Lt+=Je[ht++]<<hr,hr+=8}Lt>>>=dn,hr-=dn,oe.back+=dn}if(Lt>>>=sa,hr-=sa,oe.back+=sa,Ba&64){_.msg="invalid distance code",oe.mode=ba;break}oe.offset=ns,oe.extra=Ba&15,oe.mode=Dl;case Dl:if(oe.extra){for(Aa=oe.extra;hr<Aa;){if(Jt===0)break e;Jt--,Lt+=Je[ht++]<<hr,hr+=8}oe.offset+=Lt&(1<<oe.extra)-1,Lt>>>=oe.extra,hr-=oe.extra,oe.back+=oe.extra}if(oe.offset>oe.dmax){_.msg="invalid distance too far back",oe.mode=ba;break}oe.mode=Vd;case Vd:if(En===0)break e;if($r=gn-En,oe.offset>$r){if($r=oe.offset-$r,$r>oe.whave&&oe.sane){_.msg="invalid distance too far back",oe.mode=ba;break}$r>oe.wnext?($r-=oe.wnext,Sr=oe.wsize-$r):Sr=oe.wnext-$r,$r>oe.length&&($r=oe.length),Vs=oe.window}else Vs=gt,Sr=or-oe.offset,$r=oe.length;$r>En&&($r=En),En-=$r,oe.length-=$r;do gt[or++]=Vs[Sr++];while(--$r);oe.length===0&&(oe.mode=ld);break;case zd:if(En===0)break e;gt[or++]=oe.length,En--,oe.mode=ld;break;case sc:if(oe.wrap){for(;hr<32;){if(Jt===0)break e;Jt--,Lt|=Je[ht++]<<hr,hr+=8}if(gn-=En,_.total_out+=gn,oe.total+=gn,oe.wrap&4&&gn&&(_.adler=oe.check=oe.flags?oa(oe.check,gt,gn,or-gn):da(oe.check,gt,gn,or-gn)),gn=En,oe.wrap&4&&(oe.flags?Lt:kc(Lt))!==oe.check){_.msg="incorrect data check",oe.mode=ba;break}Lt=0,hr=0}oe.mode=Kd;case Kd:if(oe.wrap&&oe.flags){for(;hr<32;){if(Jt===0)break e;Jt--,Lt+=Je[ht++]<<hr,hr+=8}if(oe.wrap&4&&Lt!==(oe.total&4294967295)){_.msg="incorrect length check",oe.mode=ba;break}Lt=0,hr=0}oe.mode=Ed;case Ed:hs=Bc;break e;case ba:hs=Co;break e;case gu:return Ol;case ic:default:return Ei}return _.next_out=or,_.avail_out=En,_.next_in=ht,_.avail_in=Jt,oe.hold=Lt,oe.bits=hr,(oe.wsize||gn!==_.avail_out&&oe.mode<ba&&(oe.mode<sc||Ue!==rs))&&_d(_,_.output,_.next_out,gn-_.avail_out),ja-=_.avail_in,gn-=_.avail_out,_.total_in+=ja,_.total_out+=gn,oe.total+=gn,oe.wrap&4&&gn&&(_.adler=oe.check=oe.flags?oa(oe.check,gt,gn,_.next_out-gn):da(oe.check,gt,gn,_.next_out-gn)),_.data_type=oe.bits+(oe.last?64:0)+(oe.mode===Lo?128:0)+(oe.mode===Jo||oe.mode===Tc?256:0),(ja===0&&gn===0||Ue===rs)&&hs===wo&&(hs=Li),hs},Rl=_=>{if(Ml(_))return Ei;let Ue=_.state;return Ue.window&&(Ue.window=null),_.state=null,wo},$h=(_,Ue)=>{if(Ml(_))return Ei;const oe=_.state;return(oe.wrap&2)===0?Ei:(oe.head=Ue,Ue.done=!1,wo)},Od=(_,Ue)=>{const oe=Ue.length;let Je,gt,ht;return Ml(_)||(Je=_.state,Je.wrap!==0&&Je.mode!==Yo)?Ei:Je.mode===Yo&&(gt=1,gt=da(gt,Ue,oe,0),gt!==Je.check)?Co:(ht=_d(_,Ue,oe,oe),ht?(Je.mode=gu,Ol):(Je.havedict=1,wo))};var Gu=Zo,Vh=xu,Ea=Gd,zc=yu,gh=Bd,_c=ju,No=Rl,Ll=$h,oc=Od,qu="pako inflate (from Nodeca project)",wl={inflateReset:Gu,inflateReset2:Vh,inflateResetKeep:Ea,inflateInit:zc,inflateInit2:gh,inflate:_c,inflateEnd:No,inflateGetHeader:Ll,inflateSetDictionary:oc,inflateInfo:qu};function qd(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var el=qd;const Fd=Object.prototype.toString,{Z_NO_FLUSH:Cl,Z_FINISH:bu,Z_OK:Oc,Z_STREAM_END:lc,Z_NEED_DICT:Ul,Z_STREAM_ERROR:ps,Z_DATA_ERROR:Ps,Z_MEM_ERROR:Hl}=ds;function Bi(_){this.options=Cr.assign({chunkSize:65536,windowBits:15,to:""},_||{});const Ue=this.options;Ue.raw&&Ue.windowBits>=0&&Ue.windowBits<16&&(Ue.windowBits=-Ue.windowBits,Ue.windowBits===0&&(Ue.windowBits=-15)),Ue.windowBits>=0&&Ue.windowBits<16&&!(_&&_.windowBits)&&(Ue.windowBits+=32),Ue.windowBits>15&&Ue.windowBits<48&&(Ue.windowBits&15)===0&&(Ue.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new er,this.strm.avail_out=0;let oe=wl.inflateInit2(this.strm,Ue.windowBits);if(oe!==Oc)throw new Error(rn[oe]);if(this.header=new el,wl.inflateGetHeader(this.strm,this.header),Ue.dictionary&&(typeof Ue.dictionary=="string"?Ue.dictionary=Tt.string2buf(Ue.dictionary):Fd.call(Ue.dictionary)==="[object ArrayBuffer]"&&(Ue.dictionary=new Uint8Array(Ue.dictionary)),Ue.raw&&(oe=wl.inflateSetDictionary(this.strm,Ue.dictionary),oe!==Oc)))throw new Error(rn[oe])}Bi.prototype.push=function(_,Ue){const oe=this.strm,Je=this.options.chunkSize,gt=this.options.dictionary;let ht,or,Jt;if(this.ended)return!1;for(Ue===~~Ue?or=Ue:or=Ue===!0?bu:Cl,Fd.call(_)==="[object ArrayBuffer]"?oe.input=new Uint8Array(_):oe.input=_,oe.next_in=0,oe.avail_in=oe.input.length;;){for(oe.avail_out===0&&(oe.output=new Uint8Array(Je),oe.next_out=0,oe.avail_out=Je),ht=wl.inflate(oe,or),ht===Ul&&gt&&(ht=wl.inflateSetDictionary(oe,gt),ht===Oc?ht=wl.inflate(oe,or):ht===Ps&&(ht=Ul));oe.avail_in>0&&ht===lc&&oe.state.wrap>0&&_[oe.next_in]!==0;)wl.inflateReset(oe),ht=wl.inflate(oe,or);switch(ht){case ps:case Ps:case Ul:case Hl:return this.onEnd(ht),this.ended=!0,!1}if(Jt=oe.avail_out,oe.next_out&&(oe.avail_out===0||ht===lc))if(this.options.to==="string"){let En=Tt.utf8border(oe.output,oe.next_out),Lt=oe.next_out-En,hr=Tt.buf2string(oe.output,En);oe.next_out=Lt,oe.avail_out=Je-Lt,Lt&&oe.output.set(oe.output.subarray(En,En+Lt),0),this.onData(hr)}else this.onData(oe.output.length===oe.next_out?oe.output:oe.output.subarray(0,oe.next_out));if(!(ht===Oc&&Jt===0)){if(ht===lc)return ht=wl.inflateEnd(this.strm),this.onEnd(ht),this.ended=!0,!0;if(oe.avail_in===0)break}}return!0},Bi.prototype.onData=function(_){this.chunks.push(_)},Bi.prototype.onEnd=function(_){_===Oc&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Cr.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg};function Ui(_,Ue){const oe=new Bi(Ue);if(oe.push(_),oe.err)throw oe.msg||rn[oe.err];return oe.result}function Fc(_,Ue){return Ue=Ue||{},Ue.raw=!0,Ui(_,Ue)}var ud=Bi,Uo=Ui,cc=Fc,Kc=Ui,Xu={Inflate:ud,inflate:Uo,inflateRaw:cc,ungzip:Kc};const{Deflate:Gc,deflate:Yu,deflateRaw:ve,gzip:Qe}=za,{Inflate:bt,inflate:Dt,inflateRaw:rr,ungzip:Nr}=Xu;var Lr=Gc,Tn=Yu,Hn=ve,ga=Qe,aa=bt,Ra=Dt,Us=rr,$s=Nr,gs=ds,mi={Deflate:Lr,deflate:Tn,deflateRaw:Hn,gzip:ga,Inflate:aa,inflate:Ra,inflateRaw:Us,ungzip:$s,constants:gs}}),"./node_modules/performance-now/lib/performance-now.js":(function(o){(function(){var d,l,u,h,f,A;typeof performance<"u"&&performance!==null&&performance.now?o.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(o.exports=function(){return(d()-f)/1e6},l=process.hrtime,d=function(){var g;return g=l(),g[0]*1e9+g[1]},h=d(),A=process.uptime()*1e9,f=h-A):Date.now?(o.exports=function(){return Date.now()-u},u=Date.now()):(o.exports=function(){return new Date().getTime()-u},u=new Date().getTime())}).call(this)}),"./node_modules/raf/index.js":(function(o,d,l){for(var u=l("./node_modules/performance-now/lib/performance-now.js"),h=typeof window>"u"?ff:window,f=["moz","webkit"],A="AnimationFrame",g=h["request"+A],m=h["cancel"+A]||h["cancelRequest"+A],x=0;!g&&x<f.length;x++)g=h[f[x]+"Request"+A],m=h[f[x]+"Cancel"+A]||h[f[x]+"CancelRequest"+A];if(!g||!m){var y=0,j=0,b=[],S=1e3/60;g=function(w){if(b.length===0){var E=u(),I=Math.max(0,S-(E-y));y=I+E,setTimeout(function(){var L=b.slice(0);b.length=0;for(var J=0;J<L.length;J++)if(!L[J].cancelled)try{L[J].callback(y)}catch(ae){setTimeout(function(){throw ae},0)}},Math.round(I))}return b.push({handle:++j,callback:w,cancelled:!1}),j},m=function(w){for(var E=0;E<b.length;E++)b[E].handle===w&&(b[E].cancelled=!0)}}o.exports=function(w){return g.call(h,w)},o.exports.cancel=function(){m.apply(h,arguments)},o.exports.polyfill=function(w){w||(w=h),w.requestAnimationFrame=g,w.cancelAnimationFrame=m}}),"./node_modules/rgbcolor/index.js":(function(o){o.exports=function(d){this.ok=!1,this.alpha=1,d.charAt(0)=="#"&&(d=d.substr(1,6)),d=d.replace(/ /g,""),d=d.toLowerCase();var l={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};d=l[d]||d;for(var u=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(x){return[parseInt(x[1]),parseInt(x[2]),parseInt(x[3]),parseFloat(x[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(x){return[parseInt(x[1]),parseInt(x[2]),parseInt(x[3])]}},{re:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,example:["#00ff00","336699"],process:function(x){return[parseInt(x[1],16),parseInt(x[2],16),parseInt(x[3],16)]}},{re:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,example:["#fb0","f0f"],process:function(x){return[parseInt(x[1]+x[1],16),parseInt(x[2]+x[2],16),parseInt(x[3]+x[3],16)]}}],h=0;h<u.length;h++){var f=u[h].re,A=u[h].process,g=f.exec(d);if(g){var m=A(g);this.r=m[0],this.g=m[1],this.b=m[2],m.length>3&&(this.alpha=m[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var x=this.r.toString(16),y=this.g.toString(16),j=this.b.toString(16);return x.length==1&&(x="0"+x),y.length==1&&(y="0"+y),j.length==1&&(j="0"+j),"#"+x+y+j},this.getHelpXML=function(){for(var x=new Array,y=0;y<u.length;y++)for(var j=u[y].example,b=0;b<j.length;b++)x[x.length]=j[b];for(var S in l)x[x.length]=S;var w=document.createElement("ul");w.setAttribute("id","rgbcolor-examples");for(var y=0;y<x.length;y++)try{var E=document.createElement("li"),I=new RGBColor(x[y]),L=document.createElement("div");L.style.cssText="margin: 3px; border: 1px solid black; background:"+I.toHex()+"; color:"+I.toHex(),L.appendChild(document.createTextNode("test"));var J=document.createTextNode(" "+x[y]+" -> "+I.toRGB()+" -> "+I.toHex());E.appendChild(L),E.appendChild(J),w.appendChild(E)}catch{}return w}}}),"./node_modules/stackblur-canvas/dist/stackblur-es.js":(function(o,d,l){l.r(d),l.d(d,{BlurStack:function(){return S},canvasRGB:function(){return j},canvasRGBA:function(){return x},image:function(){return g},imageDataRGB:function(){return b},imageDataRGBA:function(){return y}});function u(w){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?u=function(E){return typeof E}:u=function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},u(w)}function h(w,E){if(!(w instanceof E))throw new TypeError("Cannot call a class as a function")}var f=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],A=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function g(w,E,I,L,J,ae){if(typeof w=="string"&&(w=document.getElementById(w)),!(!w||Object.prototype.toString.call(w).slice(8,-1)==="HTMLImageElement"&&!("naturalWidth"in w))){var G=J?"offset":"natural",le=w[G+"Width"],V=w[G+"Height"];if(Object.prototype.toString.call(w).slice(8,-1)==="ImageBitmap"&&(le=w.width,V=w.height),typeof E=="string"&&(E=document.getElementById(E)),!(!E||!("getContext"in E))){ae||(E.style.width=le+"px",E.style.height=V+"px"),E.width=le,E.height=V;var me=E.getContext("2d");me.clearRect(0,0,le,V),me.drawImage(w,0,0,w.naturalWidth,w.naturalHeight,0,0,le,V),!(isNaN(I)||I<1)&&(L?x(E,0,0,le,V,I):j(E,0,0,le,V,I))}}}function m(w,E,I,L,J){if(typeof w=="string"&&(w=document.getElementById(w)),!w||u(w)!=="object"||!("getContext"in w))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var ae=w.getContext("2d");try{return ae.getImageData(E,I,L,J)}catch(G){throw new Error("unable to access image data: "+G)}}function x(w,E,I,L,J,ae){if(!(isNaN(ae)||ae<1)){ae|=0;var G=m(w,E,I,L,J);G=y(G,E,I,L,J,ae),w.getContext("2d").putImageData(G,E,I)}}function y(w,E,I,L,J,ae){for(var G=w.data,le=2*ae+1,V=L-1,me=J-1,$=ae+1,ee=$*($+1)/2,we=new S,R=we,q,ie=1;ie<le;ie++)R=R.next=new S,ie===$&&(q=R);R.next=we;for(var Z=null,D=null,ue=0,te=0,ye=f[ae],pe=A[ae],je=0;je<J;je++){R=we;for(var re=G[te],he=G[te+1],X=G[te+2],Ae=G[te+3],Be=0;Be<$;Be++)R.r=re,R.g=he,R.b=X,R.a=Ae,R=R.next;for(var Me=0,$e=0,ne=0,Pe=0,_e=$*re,rt=$*he,et=$*X,Le=$*Ae,it=ee*re,Wt=ee*he,qe=ee*X,St=ee*Ae,_t=1;_t<$;_t++){var ar=te+((V<_t?V:_t)<<2),en=G[ar],Xt=G[ar+1],Yr=G[ar+2],Qr=G[ar+3],He=$-_t;it+=(R.r=en)*He,Wt+=(R.g=Xt)*He,qe+=(R.b=Yr)*He,St+=(R.a=Qr)*He,Me+=en,$e+=Xt,ne+=Yr,Pe+=Qr,R=R.next}Z=we,D=q;for(var Rt=0;Rt<L;Rt++){var ot=St*ye>>>pe;if(G[te+3]=ot,ot!==0){var Ht=255/ot;G[te]=(it*ye>>>pe)*Ht,G[te+1]=(Wt*ye>>>pe)*Ht,G[te+2]=(qe*ye>>>pe)*Ht}else G[te]=G[te+1]=G[te+2]=0;it-=_e,Wt-=rt,qe-=et,St-=Le,_e-=Z.r,rt-=Z.g,et-=Z.b,Le-=Z.a;var $t=Rt+ae+1;$t=ue+($t<V?$t:V)<<2,Me+=Z.r=G[$t],$e+=Z.g=G[$t+1],ne+=Z.b=G[$t+2],Pe+=Z.a=G[$t+3],it+=Me,Wt+=$e,qe+=ne,St+=Pe,Z=Z.next;var Dr=D,Fr=Dr.r,Jr=Dr.g,Wr=Dr.b,Ln=Dr.a;_e+=Fr,rt+=Jr,et+=Wr,Le+=Ln,Me-=Fr,$e-=Jr,ne-=Wr,Pe-=Ln,D=D.next,te+=4}ue+=L}for(var Vr=0;Vr<L;Vr++){te=Vr<<2;var Ur=G[te],Cn=G[te+1],un=G[te+2],Dn=G[te+3],da=$*Ur,ri=$*Cn,Ks=$*un,Hs=$*Dn,oa=ee*Ur,rn=ee*Cn,ds=ee*un,wi=ee*Dn;R=we;for(var wt=0;wt<$;wt++)R.r=Ur,R.g=Cn,R.b=un,R.a=Dn,R=R.next;for(var Pr=L,Mr=0,tn=0,Kr=0,Ma=0,ys=1;ys<=ae;ys++){te=Pr+Vr<<2;var Va=$-ys;oa+=(R.r=Ur=G[te])*Va,rn+=(R.g=Cn=G[te+1])*Va,ds+=(R.b=un=G[te+2])*Va,wi+=(R.a=Dn=G[te+3])*Va,Ma+=Ur,Mr+=Cn,tn+=un,Kr+=Dn,R=R.next,ys<me&&(Pr+=L)}te=Vr,Z=we,D=q;for(var Ai=0;Ai<J;Ai++){var Ca=te<<2;G[Ca+3]=Dn=wi*ye>>>pe,Dn>0?(Dn=255/Dn,G[Ca]=(oa*ye>>>pe)*Dn,G[Ca+1]=(rn*ye>>>pe)*Dn,G[Ca+2]=(ds*ye>>>pe)*Dn):G[Ca]=G[Ca+1]=G[Ca+2]=0,oa-=da,rn-=ri,ds-=Ks,wi-=Hs,da-=Z.r,ri-=Z.g,Ks-=Z.b,Hs-=Z.a,Ca=Vr+((Ca=Ai+$)<me?Ca:me)*L<<2,oa+=Ma+=Z.r=G[Ca],rn+=Mr+=Z.g=G[Ca+1],ds+=tn+=Z.b=G[Ca+2],wi+=Kr+=Z.a=G[Ca+3],Z=Z.next,da+=Ur=D.r,ri+=Cn=D.g,Ks+=un=D.b,Hs+=Dn=D.a,Ma-=Ur,Mr-=Cn,tn-=un,Kr-=Dn,D=D.next,te+=L}}return w}function j(w,E,I,L,J,ae){if(!(isNaN(ae)||ae<1)){ae|=0;var G=m(w,E,I,L,J);G=b(G,E,I,L,J,ae),w.getContext("2d").putImageData(G,E,I)}}function b(w,E,I,L,J,ae){for(var G=w.data,le=2*ae+1,V=L-1,me=J-1,$=ae+1,ee=$*($+1)/2,we=new S,R=we,q,ie=1;ie<le;ie++)R=R.next=new S,ie===$&&(q=R);R.next=we;for(var Z=null,D=null,ue=f[ae],te=A[ae],ye,pe,je=0,re=0,he=0;he<J;he++){var X=G[re],Ae=G[re+1],Be=G[re+2],Me=$*X,$e=$*Ae,ne=$*Be,Pe=ee*X,_e=ee*Ae,rt=ee*Be;R=we;for(var et=0;et<$;et++)R.r=X,R.g=Ae,R.b=Be,R=R.next;for(var Le=0,it=0,Wt=0,qe=1;qe<$;qe++)ye=re+((V<qe?V:qe)<<2),Pe+=(R.r=X=G[ye])*(pe=$-qe),_e+=(R.g=Ae=G[ye+1])*pe,rt+=(R.b=Be=G[ye+2])*pe,Le+=X,it+=Ae,Wt+=Be,R=R.next;Z=we,D=q;for(var St=0;St<L;St++)G[re]=Pe*ue>>>te,G[re+1]=_e*ue>>>te,G[re+2]=rt*ue>>>te,Pe-=Me,_e-=$e,rt-=ne,Me-=Z.r,$e-=Z.g,ne-=Z.b,ye=je+((ye=St+ae+1)<V?ye:V)<<2,Le+=Z.r=G[ye],it+=Z.g=G[ye+1],Wt+=Z.b=G[ye+2],Pe+=Le,_e+=it,rt+=Wt,Z=Z.next,Me+=X=D.r,$e+=Ae=D.g,ne+=Be=D.b,Le-=X,it-=Ae,Wt-=Be,D=D.next,re+=4;je+=L}for(var _t=0;_t<L;_t++){re=_t<<2;var ar=G[re],en=G[re+1],Xt=G[re+2],Yr=$*ar,Qr=$*en,He=$*Xt,Rt=ee*ar,ot=ee*en,Ht=ee*Xt;R=we;for(var $t=0;$t<$;$t++)R.r=ar,R.g=en,R.b=Xt,R=R.next;for(var Dr=0,Fr=0,Jr=0,Wr=1,Ln=L;Wr<=ae;Wr++)re=Ln+_t<<2,Rt+=(R.r=ar=G[re])*(pe=$-Wr),ot+=(R.g=en=G[re+1])*pe,Ht+=(R.b=Xt=G[re+2])*pe,Dr+=ar,Fr+=en,Jr+=Xt,R=R.next,Wr<me&&(Ln+=L);re=_t,Z=we,D=q;for(var Vr=0;Vr<J;Vr++)ye=re<<2,G[ye]=Rt*ue>>>te,G[ye+1]=ot*ue>>>te,G[ye+2]=Ht*ue>>>te,Rt-=Yr,ot-=Qr,Ht-=He,Yr-=Z.r,Qr-=Z.g,He-=Z.b,ye=_t+((ye=Vr+$)<me?ye:me)*L<<2,Rt+=Dr+=Z.r=G[ye],ot+=Fr+=Z.g=G[ye+1],Ht+=Jr+=Z.b=G[ye+2],Z=Z.next,Yr+=ar=D.r,Qr+=en=D.g,He+=Xt=D.b,Dr-=ar,Fr-=en,Jr-=Xt,D=D.next,re+=L}return w}var S=function w(){h(this,w),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}}),"./node_modules/svg-pathdata/lib/SVGPathData.module.js":(function(o,d,l){l.r(d),l.d(d,{COMMAND_ARG_COUNTS:function(){return me},SVGPathData:function(){return V},SVGPathDataParser:function(){return le},SVGPathDataTransformer:function(){return j},encodeSVGPath:function(){return f}});/*! *****************************************************************************
		Copyright (c) Microsoft Corporation.

		Permission to use, copy, modify, and/or distribute this software for any
		purpose with or without fee is hereby granted.

		THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
		REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
		AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
		INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
		LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
		OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
		PERFORMANCE OF THIS SOFTWARE.
		***************************************************************************** */var u=function($,ee){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(we,R){we.__proto__=R}||function(we,R){for(var q in R)Object.prototype.hasOwnProperty.call(R,q)&&(we[q]=R[q])})($,ee)};function h($,ee){if(typeof ee!="function"&&ee!==null)throw new TypeError("Class extends value "+String(ee)+" is not a constructor or null");function we(){this.constructor=$}u($,ee),$.prototype=ee===null?Object.create(ee):(we.prototype=ee.prototype,new we)}function f($){var ee="";Array.isArray($)||($=[$]);for(var we=0;we<$.length;we++){var R=$[we];if(R.type===V.CLOSE_PATH)ee+="z";else if(R.type===V.HORIZ_LINE_TO)ee+=(R.relative?"h":"H")+R.x;else if(R.type===V.VERT_LINE_TO)ee+=(R.relative?"v":"V")+R.y;else if(R.type===V.MOVE_TO)ee+=(R.relative?"m":"M")+R.x+" "+R.y;else if(R.type===V.LINE_TO)ee+=(R.relative?"l":"L")+R.x+" "+R.y;else if(R.type===V.CURVE_TO)ee+=(R.relative?"c":"C")+R.x1+" "+R.y1+" "+R.x2+" "+R.y2+" "+R.x+" "+R.y;else if(R.type===V.SMOOTH_CURVE_TO)ee+=(R.relative?"s":"S")+R.x2+" "+R.y2+" "+R.x+" "+R.y;else if(R.type===V.QUAD_TO)ee+=(R.relative?"q":"Q")+R.x1+" "+R.y1+" "+R.x+" "+R.y;else if(R.type===V.SMOOTH_QUAD_TO)ee+=(R.relative?"t":"T")+R.x+" "+R.y;else{if(R.type!==V.ARC)throw new Error('Unexpected command type "'+R.type+'" at index '+we+".");ee+=(R.relative?"a":"A")+R.rX+" "+R.rY+" "+R.xRot+" "+ +R.lArcFlag+" "+ +R.sweepFlag+" "+R.x+" "+R.y}}return ee}function A($,ee){var we=$[0],R=$[1];return[we*Math.cos(ee)-R*Math.sin(ee),we*Math.sin(ee)+R*Math.cos(ee)]}function g(){for(var $=[],ee=0;ee<arguments.length;ee++)$[ee]=arguments[ee];for(var we=0;we<$.length;we++)if(typeof $[we]!="number")throw new Error("assertNumbers arguments["+we+"] is not a number. "+typeof $[we]+" == typeof "+$[we]);return!0}var m=Math.PI;function x($,ee,we){$.lArcFlag=$.lArcFlag===0?0:1,$.sweepFlag=$.sweepFlag===0?0:1;var R=$.rX,q=$.rY,ie=$.x,Z=$.y;R=Math.abs($.rX),q=Math.abs($.rY);var D=A([(ee-ie)/2,(we-Z)/2],-$.xRot/180*m),ue=D[0],te=D[1],ye=Math.pow(ue,2)/Math.pow(R,2)+Math.pow(te,2)/Math.pow(q,2);1<ye&&(R*=Math.sqrt(ye),q*=Math.sqrt(ye)),$.rX=R,$.rY=q;var pe=Math.pow(R,2)*Math.pow(te,2)+Math.pow(q,2)*Math.pow(ue,2),je=($.lArcFlag!==$.sweepFlag?1:-1)*Math.sqrt(Math.max(0,(Math.pow(R,2)*Math.pow(q,2)-pe)/pe)),re=R*te/q*je,he=-q*ue/R*je,X=A([re,he],$.xRot/180*m);$.cX=X[0]+(ee+ie)/2,$.cY=X[1]+(we+Z)/2,$.phi1=Math.atan2((te-he)/q,(ue-re)/R),$.phi2=Math.atan2((-te-he)/q,(-ue-re)/R),$.sweepFlag===0&&$.phi2>$.phi1&&($.phi2-=2*m),$.sweepFlag===1&&$.phi2<$.phi1&&($.phi2+=2*m),$.phi1*=180/m,$.phi2*=180/m}function y($,ee,we){g($,ee,we);var R=$*$+ee*ee-we*we;if(0>R)return[];if(R===0)return[[$*we/($*$+ee*ee),ee*we/($*$+ee*ee)]];var q=Math.sqrt(R);return[[($*we+ee*q)/($*$+ee*ee),(ee*we-$*q)/($*$+ee*ee)],[($*we-ee*q)/($*$+ee*ee),(ee*we+$*q)/($*$+ee*ee)]]}var j,b=Math.PI/180;function S($,ee,we){return(1-we)*$+we*ee}function w($,ee,we,R){return $+Math.cos(R/180*m)*ee+Math.sin(R/180*m)*we}function E($,ee,we,R){var q=1e-6,ie=ee-$,Z=we-ee,D=3*ie+3*(R-we)-6*Z,ue=6*(Z-ie),te=3*ie;return Math.abs(D)<q?[-te/ue]:(function(ye,pe,je){var re=ye*ye/4-pe;if(re<-je)return[];if(re<=je)return[-ye/2];var he=Math.sqrt(re);return[-ye/2-he,-ye/2+he]})(ue/D,te/D,q)}function I($,ee,we,R,q){var ie=1-q;return $*(ie*ie*ie)+ee*(3*ie*ie*q)+we*(3*ie*q*q)+R*(q*q*q)}(function($){function ee(){return q((function(D,ue,te){return D.relative&&(D.x1!==void 0&&(D.x1+=ue),D.y1!==void 0&&(D.y1+=te),D.x2!==void 0&&(D.x2+=ue),D.y2!==void 0&&(D.y2+=te),D.x!==void 0&&(D.x+=ue),D.y!==void 0&&(D.y+=te),D.relative=!1),D}))}function we(){var D=NaN,ue=NaN,te=NaN,ye=NaN;return q((function(pe,je,re){return pe.type&V.SMOOTH_CURVE_TO&&(pe.type=V.CURVE_TO,D=isNaN(D)?je:D,ue=isNaN(ue)?re:ue,pe.x1=pe.relative?je-D:2*je-D,pe.y1=pe.relative?re-ue:2*re-ue),pe.type&V.CURVE_TO?(D=pe.relative?je+pe.x2:pe.x2,ue=pe.relative?re+pe.y2:pe.y2):(D=NaN,ue=NaN),pe.type&V.SMOOTH_QUAD_TO&&(pe.type=V.QUAD_TO,te=isNaN(te)?je:te,ye=isNaN(ye)?re:ye,pe.x1=pe.relative?je-te:2*je-te,pe.y1=pe.relative?re-ye:2*re-ye),pe.type&V.QUAD_TO?(te=pe.relative?je+pe.x1:pe.x1,ye=pe.relative?re+pe.y1:pe.y1):(te=NaN,ye=NaN),pe}))}function R(){var D=NaN,ue=NaN;return q((function(te,ye,pe){if(te.type&V.SMOOTH_QUAD_TO&&(te.type=V.QUAD_TO,D=isNaN(D)?ye:D,ue=isNaN(ue)?pe:ue,te.x1=te.relative?ye-D:2*ye-D,te.y1=te.relative?pe-ue:2*pe-ue),te.type&V.QUAD_TO){D=te.relative?ye+te.x1:te.x1,ue=te.relative?pe+te.y1:te.y1;var je=te.x1,re=te.y1;te.type=V.CURVE_TO,te.x1=((te.relative?0:ye)+2*je)/3,te.y1=((te.relative?0:pe)+2*re)/3,te.x2=(te.x+2*je)/3,te.y2=(te.y+2*re)/3}else D=NaN,ue=NaN;return te}))}function q(D){var ue=0,te=0,ye=NaN,pe=NaN;return function(je){if(isNaN(ye)&&!(je.type&V.MOVE_TO))throw new Error("path must start with moveto");var re=D(je,ue,te,ye,pe);return je.type&V.CLOSE_PATH&&(ue=ye,te=pe),je.x!==void 0&&(ue=je.relative?ue+je.x:je.x),je.y!==void 0&&(te=je.relative?te+je.y:je.y),je.type&V.MOVE_TO&&(ye=ue,pe=te),re}}function ie(D,ue,te,ye,pe,je){return g(D,ue,te,ye,pe,je),q((function(re,he,X,Ae){var Be=re.x1,Me=re.x2,$e=re.relative&&!isNaN(Ae),ne=re.x!==void 0?re.x:$e?0:he,Pe=re.y!==void 0?re.y:$e?0:X;function _e(ot){return ot*ot}re.type&V.HORIZ_LINE_TO&&ue!==0&&(re.type=V.LINE_TO,re.y=re.relative?0:X),re.type&V.VERT_LINE_TO&&te!==0&&(re.type=V.LINE_TO,re.x=re.relative?0:he),re.x!==void 0&&(re.x=re.x*D+Pe*te+($e?0:pe)),re.y!==void 0&&(re.y=ne*ue+re.y*ye+($e?0:je)),re.x1!==void 0&&(re.x1=re.x1*D+re.y1*te+($e?0:pe)),re.y1!==void 0&&(re.y1=Be*ue+re.y1*ye+($e?0:je)),re.x2!==void 0&&(re.x2=re.x2*D+re.y2*te+($e?0:pe)),re.y2!==void 0&&(re.y2=Me*ue+re.y2*ye+($e?0:je));var rt=D*ye-ue*te;if(re.xRot!==void 0&&(D!==1||ue!==0||te!==0||ye!==1))if(rt===0)delete re.rX,delete re.rY,delete re.xRot,delete re.lArcFlag,delete re.sweepFlag,re.type=V.LINE_TO;else{var et=re.xRot*Math.PI/180,Le=Math.sin(et),it=Math.cos(et),Wt=1/_e(re.rX),qe=1/_e(re.rY),St=_e(it)*Wt+_e(Le)*qe,_t=2*Le*it*(Wt-qe),ar=_e(Le)*Wt+_e(it)*qe,en=St*ye*ye-_t*ue*ye+ar*ue*ue,Xt=_t*(D*ye+ue*te)-2*(St*te*ye+ar*D*ue),Yr=St*te*te-_t*D*te+ar*D*D,Qr=(Math.atan2(Xt,en-Yr)+Math.PI)%Math.PI/2,He=Math.sin(Qr),Rt=Math.cos(Qr);re.rX=Math.abs(rt)/Math.sqrt(en*_e(Rt)+Xt*He*Rt+Yr*_e(He)),re.rY=Math.abs(rt)/Math.sqrt(en*_e(He)-Xt*He*Rt+Yr*_e(Rt)),re.xRot=180*Qr/Math.PI}return re.sweepFlag!==void 0&&0>rt&&(re.sweepFlag=+!re.sweepFlag),re}))}function Z(){return function(D){var ue={};for(var te in D)ue[te]=D[te];return ue}}$.ROUND=function(D){function ue(te){return Math.round(te*D)/D}return D===void 0&&(D=1e13),g(D),function(te){return te.x1!==void 0&&(te.x1=ue(te.x1)),te.y1!==void 0&&(te.y1=ue(te.y1)),te.x2!==void 0&&(te.x2=ue(te.x2)),te.y2!==void 0&&(te.y2=ue(te.y2)),te.x!==void 0&&(te.x=ue(te.x)),te.y!==void 0&&(te.y=ue(te.y)),te.rX!==void 0&&(te.rX=ue(te.rX)),te.rY!==void 0&&(te.rY=ue(te.rY)),te}},$.TO_ABS=ee,$.TO_REL=function(){return q((function(D,ue,te){return D.relative||(D.x1!==void 0&&(D.x1-=ue),D.y1!==void 0&&(D.y1-=te),D.x2!==void 0&&(D.x2-=ue),D.y2!==void 0&&(D.y2-=te),D.x!==void 0&&(D.x-=ue),D.y!==void 0&&(D.y-=te),D.relative=!0),D}))},$.NORMALIZE_HVZ=function(D,ue,te){return D===void 0&&(D=!0),ue===void 0&&(ue=!0),te===void 0&&(te=!0),q((function(ye,pe,je,re,he){if(isNaN(re)&&!(ye.type&V.MOVE_TO))throw new Error("path must start with moveto");return ue&&ye.type&V.HORIZ_LINE_TO&&(ye.type=V.LINE_TO,ye.y=ye.relative?0:je),te&&ye.type&V.VERT_LINE_TO&&(ye.type=V.LINE_TO,ye.x=ye.relative?0:pe),D&&ye.type&V.CLOSE_PATH&&(ye.type=V.LINE_TO,ye.x=ye.relative?re-pe:re,ye.y=ye.relative?he-je:he),ye.type&V.ARC&&(ye.rX===0||ye.rY===0)&&(ye.type=V.LINE_TO,delete ye.rX,delete ye.rY,delete ye.xRot,delete ye.lArcFlag,delete ye.sweepFlag),ye}))},$.NORMALIZE_ST=we,$.QT_TO_C=R,$.INFO=q,$.SANITIZE=function(D){D===void 0&&(D=0),g(D);var ue=NaN,te=NaN,ye=NaN,pe=NaN;return q((function(je,re,he,X,Ae){var Be=Math.abs,Me=!1,$e=0,ne=0;if(je.type&V.SMOOTH_CURVE_TO&&($e=isNaN(ue)?0:re-ue,ne=isNaN(te)?0:he-te),je.type&(V.CURVE_TO|V.SMOOTH_CURVE_TO)?(ue=je.relative?re+je.x2:je.x2,te=je.relative?he+je.y2:je.y2):(ue=NaN,te=NaN),je.type&V.SMOOTH_QUAD_TO?(ye=isNaN(ye)?re:2*re-ye,pe=isNaN(pe)?he:2*he-pe):je.type&V.QUAD_TO?(ye=je.relative?re+je.x1:je.x1,pe=je.relative?he+je.y1:je.y2):(ye=NaN,pe=NaN),je.type&V.LINE_COMMANDS||je.type&V.ARC&&(je.rX===0||je.rY===0||!je.lArcFlag)||je.type&V.CURVE_TO||je.type&V.SMOOTH_CURVE_TO||je.type&V.QUAD_TO||je.type&V.SMOOTH_QUAD_TO){var Pe=je.x===void 0?0:je.relative?je.x:je.x-re,_e=je.y===void 0?0:je.relative?je.y:je.y-he;$e=isNaN(ye)?je.x1===void 0?$e:je.relative?je.x:je.x1-re:ye-re,ne=isNaN(pe)?je.y1===void 0?ne:je.relative?je.y:je.y1-he:pe-he;var rt=je.x2===void 0?0:je.relative?je.x:je.x2-re,et=je.y2===void 0?0:je.relative?je.y:je.y2-he;Be(Pe)<=D&&Be(_e)<=D&&Be($e)<=D&&Be(ne)<=D&&Be(rt)<=D&&Be(et)<=D&&(Me=!0)}return je.type&V.CLOSE_PATH&&Be(re-X)<=D&&Be(he-Ae)<=D&&(Me=!0),Me?[]:je}))},$.MATRIX=ie,$.ROTATE=function(D,ue,te){ue===void 0&&(ue=0),te===void 0&&(te=0),g(D,ue,te);var ye=Math.sin(D),pe=Math.cos(D);return ie(pe,ye,-ye,pe,ue-ue*pe+te*ye,te-ue*ye-te*pe)},$.TRANSLATE=function(D,ue){return ue===void 0&&(ue=0),g(D,ue),ie(1,0,0,1,D,ue)},$.SCALE=function(D,ue){return ue===void 0&&(ue=D),g(D,ue),ie(D,0,0,ue,0,0)},$.SKEW_X=function(D){return g(D),ie(1,0,Math.atan(D),1,0,0)},$.SKEW_Y=function(D){return g(D),ie(1,Math.atan(D),0,1,0,0)},$.X_AXIS_SYMMETRY=function(D){return D===void 0&&(D=0),g(D),ie(-1,0,0,1,D,0)},$.Y_AXIS_SYMMETRY=function(D){return D===void 0&&(D=0),g(D),ie(1,0,0,-1,0,D)},$.A_TO_C=function(){return q((function(D,ue,te){return V.ARC===D.type?(function(ye,pe,je){var re,he,X,Ae;ye.cX||x(ye,pe,je);for(var Be=Math.min(ye.phi1,ye.phi2),Me=Math.max(ye.phi1,ye.phi2)-Be,$e=Math.ceil(Me/90),ne=new Array($e),Pe=pe,_e=je,rt=0;rt<$e;rt++){var et=S(ye.phi1,ye.phi2,rt/$e),Le=S(ye.phi1,ye.phi2,(rt+1)/$e),it=Le-et,Wt=4/3*Math.tan(it*b/4),qe=[Math.cos(et*b)-Wt*Math.sin(et*b),Math.sin(et*b)+Wt*Math.cos(et*b)],St=qe[0],_t=qe[1],ar=[Math.cos(Le*b),Math.sin(Le*b)],en=ar[0],Xt=ar[1],Yr=[en+Wt*Math.sin(Le*b),Xt-Wt*Math.cos(Le*b)],Qr=Yr[0],He=Yr[1];ne[rt]={relative:ye.relative,type:V.CURVE_TO};var Rt=function(ot,Ht){var $t=A([ot*ye.rX,Ht*ye.rY],ye.xRot),Dr=$t[0],Fr=$t[1];return[ye.cX+Dr,ye.cY+Fr]};re=Rt(St,_t),ne[rt].x1=re[0],ne[rt].y1=re[1],he=Rt(Qr,He),ne[rt].x2=he[0],ne[rt].y2=he[1],X=Rt(en,Xt),ne[rt].x=X[0],ne[rt].y=X[1],ye.relative&&(ne[rt].x1-=Pe,ne[rt].y1-=_e,ne[rt].x2-=Pe,ne[rt].y2-=_e,ne[rt].x-=Pe,ne[rt].y-=_e),Pe=(Ae=[ne[rt].x,ne[rt].y])[0],_e=Ae[1]}return ne})(D,D.relative?0:ue,D.relative?0:te):D}))},$.ANNOTATE_ARCS=function(){return q((function(D,ue,te){return D.relative&&(ue=0,te=0),V.ARC===D.type&&x(D,ue,te),D}))},$.CLONE=Z,$.CALCULATE_BOUNDS=function(){var D=function(je){var re={};for(var he in je)re[he]=je[he];return re},ue=ee(),te=R(),ye=we(),pe=q((function(je,re,he){var X=ye(te(ue(D(je))));function Ae(He){He>pe.maxX&&(pe.maxX=He),He<pe.minX&&(pe.minX=He)}function Be(He){He>pe.maxY&&(pe.maxY=He),He<pe.minY&&(pe.minY=He)}if(X.type&V.DRAWING_COMMANDS&&(Ae(re),Be(he)),X.type&V.HORIZ_LINE_TO&&Ae(X.x),X.type&V.VERT_LINE_TO&&Be(X.y),X.type&V.LINE_TO&&(Ae(X.x),Be(X.y)),X.type&V.CURVE_TO){Ae(X.x),Be(X.y);for(var Me=0,$e=E(re,X.x1,X.x2,X.x);Me<$e.length;Me++)0<(Qr=$e[Me])&&1>Qr&&Ae(I(re,X.x1,X.x2,X.x,Qr));for(var ne=0,Pe=E(he,X.y1,X.y2,X.y);ne<Pe.length;ne++)0<(Qr=Pe[ne])&&1>Qr&&Be(I(he,X.y1,X.y2,X.y,Qr))}if(X.type&V.ARC){Ae(X.x),Be(X.y),x(X,re,he);for(var _e=X.xRot/180*Math.PI,rt=Math.cos(_e)*X.rX,et=Math.sin(_e)*X.rX,Le=-Math.sin(_e)*X.rY,it=Math.cos(_e)*X.rY,Wt=X.phi1<X.phi2?[X.phi1,X.phi2]:-180>X.phi2?[X.phi2+360,X.phi1+360]:[X.phi2,X.phi1],qe=Wt[0],St=Wt[1],_t=function(He){var Rt=He[0],ot=He[1],Ht=180*Math.atan2(ot,Rt)/Math.PI;return Ht<qe?Ht+360:Ht},ar=0,en=y(Le,-rt,0).map(_t);ar<en.length;ar++)(Qr=en[ar])>qe&&Qr<St&&Ae(w(X.cX,rt,Le,Qr));for(var Xt=0,Yr=y(it,-et,0).map(_t);Xt<Yr.length;Xt++){var Qr;(Qr=Yr[Xt])>qe&&Qr<St&&Be(w(X.cY,et,it,Qr))}}return je}));return pe.minX=1/0,pe.maxX=-1/0,pe.minY=1/0,pe.maxY=-1/0,pe}})(j||(j={}));var L,J=(function(){function $(){}return $.prototype.round=function(ee){return this.transform(j.ROUND(ee))},$.prototype.toAbs=function(){return this.transform(j.TO_ABS())},$.prototype.toRel=function(){return this.transform(j.TO_REL())},$.prototype.normalizeHVZ=function(ee,we,R){return this.transform(j.NORMALIZE_HVZ(ee,we,R))},$.prototype.normalizeST=function(){return this.transform(j.NORMALIZE_ST())},$.prototype.qtToC=function(){return this.transform(j.QT_TO_C())},$.prototype.aToC=function(){return this.transform(j.A_TO_C())},$.prototype.sanitize=function(ee){return this.transform(j.SANITIZE(ee))},$.prototype.translate=function(ee,we){return this.transform(j.TRANSLATE(ee,we))},$.prototype.scale=function(ee,we){return this.transform(j.SCALE(ee,we))},$.prototype.rotate=function(ee,we,R){return this.transform(j.ROTATE(ee,we,R))},$.prototype.matrix=function(ee,we,R,q,ie,Z){return this.transform(j.MATRIX(ee,we,R,q,ie,Z))},$.prototype.skewX=function(ee){return this.transform(j.SKEW_X(ee))},$.prototype.skewY=function(ee){return this.transform(j.SKEW_Y(ee))},$.prototype.xSymmetry=function(ee){return this.transform(j.X_AXIS_SYMMETRY(ee))},$.prototype.ySymmetry=function(ee){return this.transform(j.Y_AXIS_SYMMETRY(ee))},$.prototype.annotateArcs=function(){return this.transform(j.ANNOTATE_ARCS())},$})(),ae=function($){return $===" "||$==="	"||$==="\r"||$===`
`},G=function($){return 48<=$.charCodeAt(0)&&$.charCodeAt(0)<=57},le=(function($){function ee(){var we=$.call(this)||this;return we.curNumber="",we.curCommandType=-1,we.curCommandRelative=!1,we.canParseCommandOrComma=!0,we.curNumberHasExp=!1,we.curNumberHasExpDigits=!1,we.curNumberHasDecimal=!1,we.curArgs=[],we}return h(ee,$),ee.prototype.finish=function(we){if(we===void 0&&(we=[]),this.parse(" ",we),this.curArgs.length!==0||!this.canParseCommandOrComma)throw new SyntaxError("Unterminated command at the path end.");return we},ee.prototype.parse=function(we,R){var q=this;R===void 0&&(R=[]);for(var ie=function(pe){R.push(pe),q.curArgs.length=0,q.canParseCommandOrComma=!0},Z=0;Z<we.length;Z++){var D=we[Z],ue=!(this.curCommandType!==V.ARC||this.curArgs.length!==3&&this.curArgs.length!==4||this.curNumber.length!==1||this.curNumber!=="0"&&this.curNumber!=="1"),te=G(D)&&(this.curNumber==="0"&&D==="0"||ue);if(!G(D)||te)if(D!=="e"&&D!=="E")if(D!=="-"&&D!=="+"||!this.curNumberHasExp||this.curNumberHasExpDigits)if(D!=="."||this.curNumberHasExp||this.curNumberHasDecimal||ue){if(this.curNumber&&this.curCommandType!==-1){var ye=Number(this.curNumber);if(isNaN(ye))throw new SyntaxError("Invalid number ending at "+Z);if(this.curCommandType===V.ARC){if(this.curArgs.length===0||this.curArgs.length===1){if(0>ye)throw new SyntaxError('Expected positive number, got "'+ye+'" at index "'+Z+'"')}else if((this.curArgs.length===3||this.curArgs.length===4)&&this.curNumber!=="0"&&this.curNumber!=="1")throw new SyntaxError('Expected a flag, got "'+this.curNumber+'" at index "'+Z+'"')}this.curArgs.push(ye),this.curArgs.length===me[this.curCommandType]&&(V.HORIZ_LINE_TO===this.curCommandType?ie({type:V.HORIZ_LINE_TO,relative:this.curCommandRelative,x:ye}):V.VERT_LINE_TO===this.curCommandType?ie({type:V.VERT_LINE_TO,relative:this.curCommandRelative,y:ye}):this.curCommandType===V.MOVE_TO||this.curCommandType===V.LINE_TO||this.curCommandType===V.SMOOTH_QUAD_TO?(ie({type:this.curCommandType,relative:this.curCommandRelative,x:this.curArgs[0],y:this.curArgs[1]}),V.MOVE_TO===this.curCommandType&&(this.curCommandType=V.LINE_TO)):this.curCommandType===V.CURVE_TO?ie({type:V.CURVE_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x2:this.curArgs[2],y2:this.curArgs[3],x:this.curArgs[4],y:this.curArgs[5]}):this.curCommandType===V.SMOOTH_CURVE_TO?ie({type:V.SMOOTH_CURVE_TO,relative:this.curCommandRelative,x2:this.curArgs[0],y2:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===V.QUAD_TO?ie({type:V.QUAD_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===V.ARC&&ie({type:V.ARC,relative:this.curCommandRelative,rX:this.curArgs[0],rY:this.curArgs[1],xRot:this.curArgs[2],lArcFlag:this.curArgs[3],sweepFlag:this.curArgs[4],x:this.curArgs[5],y:this.curArgs[6]})),this.curNumber="",this.curNumberHasExpDigits=!1,this.curNumberHasExp=!1,this.curNumberHasDecimal=!1,this.canParseCommandOrComma=!0}if(!ae(D))if(D===","&&this.canParseCommandOrComma)this.canParseCommandOrComma=!1;else if(D!=="+"&&D!=="-"&&D!==".")if(te)this.curNumber=D,this.curNumberHasDecimal=!1;else{if(this.curArgs.length!==0)throw new SyntaxError("Unterminated command at index "+Z+".");if(!this.canParseCommandOrComma)throw new SyntaxError('Unexpected character "'+D+'" at index '+Z+". Command cannot follow comma");if(this.canParseCommandOrComma=!1,D!=="z"&&D!=="Z")if(D==="h"||D==="H")this.curCommandType=V.HORIZ_LINE_TO,this.curCommandRelative=D==="h";else if(D==="v"||D==="V")this.curCommandType=V.VERT_LINE_TO,this.curCommandRelative=D==="v";else if(D==="m"||D==="M")this.curCommandType=V.MOVE_TO,this.curCommandRelative=D==="m";else if(D==="l"||D==="L")this.curCommandType=V.LINE_TO,this.curCommandRelative=D==="l";else if(D==="c"||D==="C")this.curCommandType=V.CURVE_TO,this.curCommandRelative=D==="c";else if(D==="s"||D==="S")this.curCommandType=V.SMOOTH_CURVE_TO,this.curCommandRelative=D==="s";else if(D==="q"||D==="Q")this.curCommandType=V.QUAD_TO,this.curCommandRelative=D==="q";else if(D==="t"||D==="T")this.curCommandType=V.SMOOTH_QUAD_TO,this.curCommandRelative=D==="t";else{if(D!=="a"&&D!=="A")throw new SyntaxError('Unexpected character "'+D+'" at index '+Z+".");this.curCommandType=V.ARC,this.curCommandRelative=D==="a"}else R.push({type:V.CLOSE_PATH}),this.canParseCommandOrComma=!0,this.curCommandType=-1}else this.curNumber=D,this.curNumberHasDecimal=D==="."}else this.curNumber+=D,this.curNumberHasDecimal=!0;else this.curNumber+=D;else this.curNumber+=D,this.curNumberHasExp=!0;else this.curNumber+=D,this.curNumberHasExpDigits=this.curNumberHasExp}return R},ee.prototype.transform=function(we){return Object.create(this,{parse:{value:function(R,q){q===void 0&&(q=[]);for(var ie=0,Z=Object.getPrototypeOf(this).parse.call(this,R);ie<Z.length;ie++){var D=Z[ie],ue=we(D);Array.isArray(ue)?q.push.apply(q,ue):q.push(ue)}return q}}})},ee})(J),V=(function($){function ee(we){var R=$.call(this)||this;return R.commands=typeof we=="string"?ee.parse(we):we,R}return h(ee,$),ee.prototype.encode=function(){return ee.encode(this.commands)},ee.prototype.getBounds=function(){var we=j.CALCULATE_BOUNDS();return this.transform(we),we},ee.prototype.transform=function(we){for(var R=[],q=0,ie=this.commands;q<ie.length;q++){var Z=we(ie[q]);Array.isArray(Z)?R.push.apply(R,Z):R.push(Z)}return this.commands=R,this},ee.encode=function(we){return f(we)},ee.parse=function(we){var R=new le,q=[];return R.parse(we,q),R.finish(q),q},ee.CLOSE_PATH=1,ee.MOVE_TO=2,ee.HORIZ_LINE_TO=4,ee.VERT_LINE_TO=8,ee.LINE_TO=16,ee.CURVE_TO=32,ee.SMOOTH_CURVE_TO=64,ee.QUAD_TO=128,ee.SMOOTH_QUAD_TO=256,ee.ARC=512,ee.LINE_COMMANDS=ee.LINE_TO|ee.HORIZ_LINE_TO|ee.VERT_LINE_TO,ee.DRAWING_COMMANDS=ee.HORIZ_LINE_TO|ee.VERT_LINE_TO|ee.LINE_TO|ee.CURVE_TO|ee.SMOOTH_CURVE_TO|ee.QUAD_TO|ee.SMOOTH_QUAD_TO|ee.ARC,ee})(J),me=((L={})[V.MOVE_TO]=2,L[V.LINE_TO]=2,L[V.HORIZ_LINE_TO]=1,L[V.VERT_LINE_TO]=1,L[V.CLOSE_PATH]=0,L[V.QUAD_TO]=4,L[V.SMOOTH_QUAD_TO]=2,L[V.CURVE_TO]=6,L[V.SMOOTH_CURVE_TO]=4,L[V.ARC]=7,L)}),"./src/plugin/hyperlinks.js":(function(o,d,l){l.r(d),l("./node_modules/core-js/modules/es.object.to-string.js"),l("./node_modules/core-js/modules/es.string.link.js"),l("./node_modules/core-js/modules/esnext.iterator.constructor.js"),l("./node_modules/core-js/modules/esnext.iterator.for-each.js"),l("./node_modules/core-js/modules/web.dom-collections.for-each.js");var u=l("./src/worker.js"),h=l("./src/utils.js"),f=[],A={toContainer:u.default.prototype.toContainer,toPdf:u.default.prototype.toPdf};u.default.prototype.toContainer=function(){return A.toContainer.call(this).then(function(){if(this.opt.enableLinks){var x=this.prop.container,y=x.querySelectorAll("a"),j=(0,h.unitConvert)(x.getBoundingClientRect(),this.prop.pageSize.k);f=[],Array.prototype.forEach.call(y,function(b){for(var S=b.getClientRects(),w=0;w<S.length;w++){var E=(0,h.unitConvert)(S[w],this.prop.pageSize.k);E.left-=j.left,E.top-=j.top;var I=Math.floor(E.top/this.prop.pageSize.inner.height)+1,L=this.opt.margin[0]+E.top%this.prop.pageSize.inner.height,J=this.opt.margin[1]+E.left;f.push({page:I,top:L,left:J,clientRect:E,link:b})}},this)}})},u.default.prototype.toPdf=function(){return A.toPdf.call(this).then(function(){if(this.opt.enableLinks){f.forEach(function(y){this.prop.pdf.setPage(y.page),this.prop.pdf.link(y.left,y.top,y.clientRect.width,y.clientRect.height,{url:y.link.href})},this);var x=this.prop.pdf.internal.getNumberOfPages();this.prop.pdf.setPage(x)}})}}),"./src/plugin/jspdf-plugin.js":(function(o,d,l){l.r(d),l("./node_modules/core-js/modules/es.symbol.js"),l("./node_modules/core-js/modules/es.symbol.description.js"),l("./node_modules/core-js/modules/es.symbol.iterator.js"),l("./node_modules/core-js/modules/es.array.iterator.js"),l("./node_modules/core-js/modules/es.object.to-string.js"),l("./node_modules/core-js/modules/es.string.iterator.js"),l("./node_modules/core-js/modules/web.dom-collections.iterator.js");var u=l("./node_modules/jspdf/dist/jspdf.es.min.js");function h(f){"@babel/helpers - typeof";return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},h(f)}u.jsPDF.getPageSize=function(f,A,g){if(h(f)==="object"){var m=f;f=m.orientation,A=m.unit||A,g=m.format||g}A=A||"mm",g=g||"a4",f=(""+(f||"P")).toLowerCase();var x=(""+g).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(A){case"pt":var j=1;break;case"mm":var j=72/25.4;break;case"cm":var j=72/2.54;break;case"in":var j=72;break;case"px":var j=72/96;break;case"pc":var j=12;break;case"em":var j=12;break;case"ex":var j=6;break;default:throw"Invalid unit: "+A}if(y.hasOwnProperty(x))var b=y[x][1]/j,S=y[x][0]/j;else try{var b=g[1],S=g[0]}catch{throw new Error("Invalid format: "+g)}if(f==="p"||f==="portrait"){if(f="p",S>b){var w=S;S=b,b=w}}else if(f==="l"||f==="landscape"){if(f="l",b>S){var w=S;S=b,b=w}}else throw"Invalid orientation: "+f;var E={width:S,height:b,unit:A,k:j};return E},d.default=u.jsPDF}),"./src/plugin/pagebreaks.js":(function(o,d,l){l.r(d),l("./node_modules/core-js/modules/es.array.concat.js"),l("./node_modules/core-js/modules/es.array.join.js"),l("./node_modules/core-js/modules/es.array.slice.js"),l("./node_modules/core-js/modules/es.object.keys.js"),l("./node_modules/core-js/modules/es.object.to-string.js"),l("./node_modules/core-js/modules/esnext.iterator.constructor.js"),l("./node_modules/core-js/modules/esnext.iterator.for-each.js"),l("./node_modules/core-js/modules/web.dom-collections.for-each.js");var u=l("./src/worker.js"),h=l("./src/utils.js"),f={toContainer:u.default.prototype.toContainer};u.default.template.opt.pagebreak={mode:["css","legacy"],before:[],after:[],avoid:[]},u.default.prototype.toContainer=function(){return f.toContainer.call(this).then(function(){var m=this.prop.container,x=this.prop.pageSize.inner.px.height,y=[].concat(this.opt.pagebreak.mode),j={avoidAll:y.indexOf("avoid-all")!==-1,css:y.indexOf("css")!==-1,legacy:y.indexOf("legacy")!==-1},b={},S=this;["before","after","avoid"].forEach(function(I){var L=j.avoidAll&&I==="avoid";b[I]=L?[]:[].concat(S.opt.pagebreak[I]||[]),b[I].length>0&&(b[I]=Array.prototype.slice.call(m.querySelectorAll(b[I].join(", "))))});var w=m.querySelectorAll(".html2pdf__page-break");w=Array.prototype.slice.call(w);var E=m.querySelectorAll("*");Array.prototype.forEach.call(E,function(L){var J={before:!1,after:j.legacy&&w.indexOf(L)!==-1,avoid:j.avoidAll};if(j.css){var ae=window.getComputedStyle(L),G=["always","page","left","right"],le=["avoid","avoid-page"];J={before:J.before||G.indexOf(ae.breakBefore||ae.pageBreakBefore)!==-1,after:J.after||G.indexOf(ae.breakAfter||ae.pageBreakAfter)!==-1,avoid:J.avoid||le.indexOf(ae.breakInside||ae.pageBreakInside)!==-1}}Object.keys(J).forEach(function(R){J[R]=J[R]||b[R].indexOf(L)!==-1});var V=L.getBoundingClientRect();if(J.avoid&&!J.before){var me=Math.floor(V.top/x),$=Math.floor(V.bottom/x),ee=Math.abs(V.bottom-V.top)/x;$!==me&&ee<=1&&(J.before=!0)}if(J.before){var we=(0,h.createElement)("div",{style:{display:"block",height:x-V.top%x+"px"}});L.parentNode.insertBefore(we,L)}if(J.after){var we=(0,h.createElement)("div",{style:{display:"block",height:x-V.bottom%x+"px"}});L.parentNode.insertBefore(we,L.nextSibling)}})})}}),"./src/snapdom/clone.js":(function(o,d,l){l.r(d),l.d(d,{deepCloneBasic:function(){return g}}),l("./node_modules/core-js/modules/es.symbol.js"),l("./node_modules/core-js/modules/es.symbol.description.js"),l("./node_modules/core-js/modules/es.symbol.iterator.js"),l("./node_modules/core-js/modules/es.array.concat.js"),l("./node_modules/core-js/modules/es.array.from.js"),l("./node_modules/core-js/modules/es.array.iterator.js"),l("./node_modules/core-js/modules/es.array.slice.js"),l("./node_modules/core-js/modules/es.function.name.js"),l("./node_modules/core-js/modules/es.object.to-string.js"),l("./node_modules/core-js/modules/es.regexp.exec.js"),l("./node_modules/core-js/modules/es.regexp.test.js"),l("./node_modules/core-js/modules/es.regexp.to-string.js"),l("./node_modules/core-js/modules/es.set.js"),l("./node_modules/core-js/modules/es.string.iterator.js"),l("./node_modules/core-js/modules/esnext.set.add-all.js"),l("./node_modules/core-js/modules/esnext.set.delete-all.js"),l("./node_modules/core-js/modules/esnext.set.difference.js"),l("./node_modules/core-js/modules/esnext.set.every.js"),l("./node_modules/core-js/modules/esnext.set.filter.js"),l("./node_modules/core-js/modules/esnext.set.find.js"),l("./node_modules/core-js/modules/esnext.set.intersection.js"),l("./node_modules/core-js/modules/esnext.set.is-disjoint-from.js"),l("./node_modules/core-js/modules/esnext.set.is-subset-of.js"),l("./node_modules/core-js/modules/esnext.set.is-superset-of.js"),l("./node_modules/core-js/modules/esnext.set.join.js"),l("./node_modules/core-js/modules/esnext.set.map.js"),l("./node_modules/core-js/modules/esnext.set.reduce.js"),l("./node_modules/core-js/modules/esnext.set.some.js"),l("./node_modules/core-js/modules/esnext.set.symmetric-difference.js"),l("./node_modules/core-js/modules/esnext.set.union.js"),l("./node_modules/core-js/modules/web.dom-collections.iterator.js");function u(m,x){var y=typeof Symbol<"u"&&m[Symbol.iterator]||m["@@iterator"];if(!y){if(Array.isArray(m)||(y=h(m))||x){y&&(m=y);var j=0,b=function(){};return{s:b,n:function(){return j>=m.length?{done:!0}:{done:!1,value:m[j++]}},e:function(L){throw L},f:b}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var S,w=!0,E=!1;return{s:function(){y=y.call(m)},n:function(){var L=y.next();return w=L.done,L},e:function(L){E=!0,S=L},f:function(){try{w||y.return==null||y.return()}finally{if(E)throw S}}}}function h(m,x){if(m){if(typeof m=="string")return f(m,x);var y={}.toString.call(m).slice(8,-1);return y==="Object"&&m.constructor&&(y=m.constructor.name),y==="Map"||y==="Set"?Array.from(m):y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y)?f(m,x):void 0}}function f(m,x){(x==null||x>m.length)&&(x=m.length);for(var y=0,j=Array(x);y<x;y++)j[y]=m[y];return j}function A(m,x){try{var y=m.currentSrc||m.src||"";if(!y)return;x.setAttribute("src",y),x.removeAttribute("srcset"),x.removeAttribute("sizes"),x.loading="eager",x.decoding="sync"}catch{}}function g(m){if(!m)throw new Error("Invalid node");var x=new Set,y=null;if(m.nodeType===Node.TEXT_NODE||m.nodeType!==Node.ELEMENT_NODE)return m.cloneNode(!0);if(m.tagName==="IFRAME"){var j=document.createElement("div");return j.style.cssText="width:".concat(m.offsetWidth,"px;height:").concat(m.offsetHeight,"px;background-image:repeating-linear-gradient(45deg,#ddd,#ddd 5px,#f9f9f9 5px,#f9f9f9 10px);display:flex;align-items:center;justify-content:center;font-size:12px;color:#555;border:1px solid #aaa;"),j}if(m.tagName==="CANVAS"){var b=m.toDataURL(),S=document.createElement("img");return S.src=b,S.width=m.width,S.height=m.height,S}var w;try{w=m.cloneNode(!1),m.tagName==="IMG"&&A(m,w)}catch(Be){throw console.error("[Snapdom] Failed to clone node:",m,Be),Be}if(m instanceof HTMLTextAreaElement){w.textContent=m.value,w.value=m.value;var E=m.getBoundingClientRect();return w.style.boxSizing="border-box",w.style.width="".concat(E.width,"px"),w.style.height="".concat(E.height,"px"),w}if(m instanceof HTMLInputElement&&(m.hasAttribute("value")&&(w.value=m.value,w.setAttribute("value",m.value)),m.checked!==void 0&&(w.checked=m.checked,m.checked&&w.setAttribute("checked",""),m.indeterminate&&(w.indeterminate=m.indeterminate))),m instanceof HTMLSelectElement&&(y=m.value),m.shadowRoot){var I=Array.from(m.shadowRoot.querySelectorAll("slot")).length>0;if(!I){var L=document.createDocumentFragment(),J=u(m.shadowRoot.childNodes),ae;try{for(J.s();!(ae=J.n()).done;){var G=ae.value;if(!(G.nodeType===Node.ELEMENT_NODE&&G.tagName==="STYLE")){var le=g(G);le&&L.appendChild(le)}}}catch(Be){J.e(Be)}finally{J.f()}w.appendChild(L)}}if(m.tagName==="SLOT"){var V,me=((V=m.assignedNodes)===null||V===void 0?void 0:V.call(m,{flatten:!0}))||[],$=me.length>0?me:Array.from(m.childNodes),ee=document.createDocumentFragment(),we=u($),R;try{for(we.s();!(R=we.n()).done;){var q=R.value,ie=g(q);ie&&ee.appendChild(ie)}}catch(Be){we.e(Be)}finally{we.f()}return ee}var Z=u(m.childNodes),D;try{for(Z.s();!(D=Z.n()).done;){var ue=D.value;if(!x.has(ue)){var te=g(ue);te&&w.appendChild(te)}}}catch(Be){Z.e(Be)}finally{Z.f()}if(y!==null&&w instanceof HTMLSelectElement){w.value=y;var ye=u(w.options),pe;try{for(ye.s();!(pe=ye.n()).done;){var je=pe.value;je.value===y?je.setAttribute("selected",""):je.removeAttribute("selected")}}catch(Be){ye.e(Be)}finally{ye.f()}}var re=m.scrollLeft,he=m.scrollTop,X=re||he;if(X&&w instanceof HTMLElement){w.style.overflow="hidden",w.style.scrollbarWidth="none",w.style.msOverflowStyle="none";var Ae=document.createElement("div");for(Ae.style.transform="translate(".concat(-re,"px, ").concat(-he,"px)"),Ae.style.willChange="transform",Ae.style.display="inline-block",Ae.style.width="100%";w.firstChild;)Ae.appendChild(w.firstChild);w.appendChild(Ae)}return w}}),"./src/utils.js":(function(o,d,l){l.r(d),l.d(d,{createElement:function(){return A},objType:function(){return f},toPx:function(){return m},unitConvert:function(){return g}}),l("./node_modules/core-js/modules/es.symbol.js"),l("./node_modules/core-js/modules/es.symbol.description.js"),l("./node_modules/core-js/modules/es.symbol.iterator.js"),l("./node_modules/core-js/modules/es.array.iterator.js"),l("./node_modules/core-js/modules/es.number.constructor.js"),l("./node_modules/core-js/modules/es.object.to-string.js"),l("./node_modules/core-js/modules/es.string.iterator.js"),l("./node_modules/core-js/modules/web.dom-collections.iterator.js");var u=l("./node_modules/dompurify/dist/purify.es.mjs");function h(x){"@babel/helpers - typeof";return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},h(x)}var f=function(y){var j=h(y);return j==="undefined"?"undefined":j==="string"||y instanceof String?"string":j==="number"||y instanceof Number?"number":j==="function"||y instanceof Function?"function":y&&y.constructor===Array?"array":y&&y.nodeType===1?"element":j==="object"?"object":"unknown"},A=function(y,j){var b=document.createElement(y);j.className&&(b.className=j.className),j.innerHTML&&(b.innerHTML=u.default.sanitize(j.innerHTML));for(var S in j.style)b.style[S]=j.style[S];return b},g=function(y,j){if(f(y)==="number")return y*72/96/j;var b={};for(var S in y)b[S]=y[S]*72/96/j;return b},m=function(y,j){return Math.floor(y*j/72*96)}}),"./src/worker.js":(function(o,d,l){l.r(d),l("./node_modules/core-js/modules/es.array.concat.js"),l("./node_modules/core-js/modules/es.array.map.js"),l("./node_modules/core-js/modules/es.function.name.js"),l("./node_modules/core-js/modules/es.json.stringify.js"),l("./node_modules/core-js/modules/es.object.assign.js"),l("./node_modules/core-js/modules/es.object.keys.js"),l("./node_modules/core-js/modules/es.object.to-string.js"),l("./node_modules/core-js/modules/es.promise.js"),l("./node_modules/core-js/modules/es.regexp.to-string.js"),l("./node_modules/core-js/modules/esnext.iterator.constructor.js"),l("./node_modules/core-js/modules/esnext.iterator.for-each.js"),l("./node_modules/core-js/modules/esnext.iterator.map.js"),l("./node_modules/core-js/modules/web.dom-collections.for-each.js"),l("./node_modules/core-js/modules/web.timers.js");var u=l("./node_modules/jspdf/dist/jspdf.es.min.js"),h=l("html2canvas"),f=l.n(h),A=l("./src/snapdom/clone.js"),g=l("./src/utils.js"),m=function x(y){var j=Object.assign(x.convert(Promise.resolve()),JSON.parse(JSON.stringify(x.template))),b=x.convert(Promise.resolve(),j);return b=b.setProgress(1,x,1,[x]),b=b.set(y),b};m.prototype=Object.create(Promise.prototype),m.prototype.constructor=m,m.convert=function(y,j){return y.__proto__=j||m.prototype,y},m.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],image:{type:"jpeg",quality:.95},enableLinks:!0,html2canvas:{},jsPDF:{}}},m.prototype.from=function(y,j){function b(S){switch((0,g.objType)(S)){case"string":return"string";case"element":return S.nodeName.toLowerCase&&S.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}return this.then(function(){switch(j=j||b(y),j){case"string":return this.set({src:(0,g.createElement)("div",{innerHTML:y})});case"element":return this.set({src:y});case"canvas":return this.set({canvas:y});case"img":return this.set({img:y});default:return this.error("Unknown source type.")}})},m.prototype.to=function(y){switch(y){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},m.prototype.toContainer=function(){var y=[function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(y).then(function(){var b={position:"fixed",overflow:"hidden",zIndex:1e3,left:0,right:0,bottom:0,top:0,backgroundColor:"rgba(0,0,0,0.8)"},S={position:"absolute",width:this.prop.pageSize.inner.width+this.prop.pageSize.unit,left:0,right:0,top:0,height:"auto",margin:"auto",backgroundColor:"white"};b.opacity=0;var w=(0,A.deepCloneBasic)(this.prop.src);return this.prop.overlay=(0,g.createElement)("div",{className:"html2pdf__overlay",style:b}),this.prop.container=(0,g.createElement)("div",{className:"html2pdf__container",style:S}),this.prop.container.appendChild(w),this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),new Promise(function(E){return setTimeout(E,10)})})},m.prototype.toCanvas=function(){var y=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(y).then(function(){var b=Object.assign({},this.opt.html2canvas);return delete b.onrendered,f()(this.prop.container,b)}).then(function(b){var S=this.opt.html2canvas.onrendered||function(){};S(b),this.prop.canvas=b,document.body.removeChild(this.prop.overlay)})},m.prototype.toImg=function(){var y=[function(){return this.prop.canvas||this.toCanvas()}];return this.thenList(y).then(function(){var b=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=b})},m.prototype.toPdf=function(){var y=[function(){return this.prop.canvas||this.toCanvas()},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(y).then(function(){var b=this.prop.canvas,S=this.opt,w=b.height,E=Math.floor(b.width*this.prop.pageSize.inner.ratio),I=Math.ceil(w/E),L=this.prop.pageSize.inner.height,J=document.createElement("canvas"),ae=J.getContext("2d");J.width=b.width,J.height=E,this.prop.pdf=this.prop.pdf||new u.jsPDF(S.jsPDF);for(var G=0;G<I;G++){G===I-1&&w%E!==0&&(J.height=w%E,L=J.height*this.prop.pageSize.inner.width/J.width);var le=J.width,V=J.height;ae.fillStyle="white",ae.fillRect(0,0,le,V),ae.drawImage(b,0,G*E,le,V,0,0,le,V),G&&this.prop.pdf.addPage();var me=J.toDataURL("image/"+S.image.type,S.image.quality);this.prop.pdf.addImage(me,S.image.type,S.margin[1],S.margin[0],this.prop.pageSize.inner.width,L)}})},m.prototype.output=function(y,j,b){return b=b||"pdf",b.toLowerCase()==="img"||b.toLowerCase()==="image"?this.outputImg(y,j):this.outputPdf(y,j)},m.prototype.outputPdf=function(y,j){var b=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(b).then(function(){return this.prop.pdf.output(y,j)})},m.prototype.outputImg=function(y,j){var b=[function(){return this.prop.img||this.toImg()}];return this.thenList(b).then(function(){switch(y){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+y+'" is not supported.'}})},m.prototype.save=function(y){var j=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(j).set(y?{filename:y}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},m.prototype.set=function(y){if((0,g.objType)(y)!=="object")return this;var j=Object.keys(y||{}).map(function(b){switch(b){case"margin":return this.setMargin.bind(this,y.margin);case"jsPDF":return function(){return this.opt.jsPDF=y.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,y.pageSize);default:return b in m.template.prop?function(){this.prop[b]=y[b]}:function(){this.opt[b]=y[b]}}},this);return this.then(function(){return this.thenList(j)})},m.prototype.get=function(y,j){return this.then(function(){var S=y in m.template.prop?this.prop[y]:this.opt[y];return j?j(S):S})},m.prototype.setMargin=function(y){return this.then(function(){switch((0,g.objType)(y)){case"number":y=[y,y,y,y];case"array":if(y.length===2&&(y=[y[0],y[1],y[0],y[1]]),y.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=y}).then(this.setPageSize)},m.prototype.setPageSize=function(y){return this.then(function(){y=y||u.jsPDF.getPageSize(this.opt.jsPDF),y.hasOwnProperty("inner")||(y.inner={width:y.width-this.opt.margin[1]-this.opt.margin[3],height:y.height-this.opt.margin[0]-this.opt.margin[2]},y.inner.px={width:(0,g.toPx)(y.inner.width,y.k),height:(0,g.toPx)(y.inner.height,y.k)},y.inner.ratio=y.inner.height/y.inner.width),this.prop.pageSize=y})},m.prototype.setProgress=function(y,j,b,S){return y!=null&&(this.progress.val=y),j!=null&&(this.progress.state=j),b!=null&&(this.progress.n=b),S!=null&&(this.progress.stack=S),this.progress.ratio=this.progress.val/this.progress.state,this},m.prototype.updateProgress=function(y,j,b,S){return this.setProgress(y?this.progress.val+y:null,j||null,b?this.progress.n+b:null,S?this.progress.stack.concat(S):null)},m.prototype.then=function(y,j){var b=this;return this.thenCore(y,j,function(w,E){return b.updateProgress(null,null,1,[w]),Promise.prototype.then.call(this,function(L){return b.updateProgress(null,w),L}).then(w,E).then(function(L){return b.updateProgress(1),L})})},m.prototype.thenCore=function(y,j,b){b=b||Promise.prototype.then;var S=this;y&&(y=y.bind(S)),j&&(j=j.bind(S));var w=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise",E=w?S:m.convert(Object.assign({},S),Promise.prototype),I=b.call(E,y,j);return m.convert(I,S.__proto__)},m.prototype.thenExternal=function(y,j){return Promise.prototype.then.call(this,y,j)},m.prototype.thenList=function(y){var j=this;return y.forEach(function(S){j=j.thenCore(S)}),j},m.prototype.catch=function(x){x&&(x=x.bind(this));var y=Promise.prototype.catch.call(this,x);return m.convert(y,this)},m.prototype.catchExternal=function(y){return Promise.prototype.catch.call(this,y)},m.prototype.error=function(y){return this.then(function(){throw new Error(y)})},m.prototype.using=m.prototype.set,m.prototype.saveAs=m.prototype.save,m.prototype.export=m.prototype.output,m.prototype.run=m.prototype.then,d.default=m}),html2canvas:(function(o){o.exports=n})},s={};function i(o){var d=s[o];if(d!==void 0)return d.exports;if(a[o]===void 0){var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var u=s[o]={exports:{}};return a[o].call(u.exports,u,u.exports,i),u.exports}(function(){i.n=function(o){var d=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(d,{a:d}),d}})(),(function(){var o=Object.getPrototypeOf?function(l){return Object.getPrototypeOf(l)}:function(l){return l.__proto__},d;i.t=function(l,u){if(u&1&&(l=this(l)),u&8||typeof l=="object"&&l&&(u&4&&l.__esModule||u&16&&typeof l.then=="function"))return l;var h=Object.create(null);i.r(h);var f={};d=d||[null,o({}),o([]),o(o)];for(var A=u&2&&l;(typeof A=="object"||typeof A=="function")&&!~d.indexOf(A);A=o(A))Object.getOwnPropertyNames(A).forEach(function(g){f[g]=function(){return l[g]}});return f.default=function(){return l},i.d(h,f),h}})(),(function(){i.d=function(o,d){for(var l in d)i.o(d,l)&&!i.o(o,l)&&Object.defineProperty(o,l,{enumerable:!0,get:d[l]})}})(),(function(){i.o=function(o,d){return Object.prototype.hasOwnProperty.call(o,d)}})(),(function(){i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})}})();var c={};return(function(){/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/i.r(c);var o=i("./src/worker.js");i("./src/plugin/jspdf-plugin.js"),i("./src/plugin/pagebreaks.js"),i("./src/plugin/hyperlinks.js");var d=function l(u,h){var f=new l.Worker(h);return u?f.from(u).save():f};d.Worker=o.default,c.default=d})(),c=c.default,c})()})})(AC)),AC.exports}var mse=pse();const gse=si(mse),vse=()=>{const{logout:r,permissions:t}=Yn(),n=jn(),[a]=g4(),s=a.get("contractId"),[i,c]=C.useState(""),[o,d]=C.useState("All"),[l,u]=C.useState(!1),[h,f]=C.useState(!1),[A,g]=C.useState(!1),[m,x]=C.useState(null),[y,j]=C.useState(null),[b,S]=C.useState([]),[w,E]=C.useState([]),[I,L]=C.useState(!1),[J,ae]=C.useState(null),[G,le]=C.useState(!1),[V,me]=C.useState(!1),[$,ee]=C.useState({agreementNum:"",agreementID:"",contractNum:"",status:""}),we=()=>{me(!V)},R=C.useCallback(async()=>{try{const re=await dA.getAllContracts();E(re.map(he=>({id:he.id,contractID:he.contractID,contractNum:he.contractNum})))}catch(re){console.error("Failed to load contracts:",re)}},[]),q=C.useCallback(async()=>{try{L(!0),ae(null);const he=(await s1.getAllAgreements(s||void 0)).map(X=>{const Ae=w.find(Be=>Be.id===X.contractId);return{id:X.id,agreementID:X.agreementID,contractID:X.contractId,contractNum:(Ae==null?void 0:Ae.contractNum)||"",agreementNum:X.agreementNum,agreementDate:X.agreementDate,status:X.status}});S(he)}catch(re){console.error("Failed to load agreements:",re),ae(re.message||"Failed to load agreements")}finally{L(!1)}},[s,w]);C.useEffect(()=>{R()},[R]),C.useEffect(()=>{w.length>0&&q()},[w.length,q]);const ie=C.useMemo(()=>{const re=i.trim().toLowerCase(),he=$.agreementNum.trim().toLowerCase(),X=$.agreementID.trim().toLowerCase(),Ae=$.contractNum.trim().toLowerCase(),Be=$.status.trim();return b.filter(Me=>{const $e=!re||Me.agreementNum.toLowerCase().includes(re)||Me.agreementID.toLowerCase().includes(re)||Me.contractNum&&Me.contractNum.toLowerCase().includes(re),ne=o==="All"||Me.status===o,Pe=!he||Me.agreementNum.toLowerCase().includes(he),_e=!X||Me.agreementID.toLowerCase().includes(X),rt=!Ae||Me.contractNum&&Me.contractNum.toLowerCase().includes(Ae),et=!Be||Me.status===Be;return $e&&ne&&Pe&&_e&&rt&&et})},[b,i,o,$]),Z=()=>{j(null),f(!0)},D=(re,he)=>{he.stopPropagation(),j(re),f(!0)},ue=async re=>{try{if(le(!0),ae(null),y)await s1.updateAgreement(y.id,{agreementNum:re.agreementNum,agreementDate:re.agreementDate,status:re.status});else{if(!re.contractID){alert("Please select a contract");return}await s1.createAgreement({contractId:re.contractID,agreementDate:re.agreementDate,status:re.status})}f(!1),j(null),await q()}catch(he){console.error("Failed to save agreement:",he),ae(he.message||"Failed to save agreement"),alert(he.message||"Failed to save agreement")}finally{le(!1)}},te=re=>{x(re),u(!0)},ye=({status:re})=>{const he=`status-badge status-badge--${re.toLowerCase()}`;return e.jsx("span",{className:he,role:"status","aria-label":`Status: ${re}`,children:re})},pe=({agreement:re})=>e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"action-btn action-btn--edit",onClick:he=>D(re,he),title:"Edit Agreement","aria-label":`Edit agreement ${re.agreementNum}`,children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--view",onClick:()=>te(re),title:"View Agreement","aria-label":`View agreement ${re.agreementNum}`,children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),je=xs(t,n.pathname);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar sidebar ${V?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-header",children:[e.jsxs("div",{className:"brand",children:[e.jsx("div",{className:"logo-container",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]})}),!V&&e.jsxs("div",{className:"brand-text",children:[e.jsx("span",{className:"brand-title",children:"MEDI-WASTE"}),e.jsx("span",{className:"brand-subtitle",children:"Enterprise Platform"})]})]}),e.jsx("button",{className:"toggle-button",onClick:we,"aria-label":V?"Expand sidebar":"Collapse sidebar",type:"button",children:e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:V?e.jsx("path",{d:"M9 18l6-6-6-6"}):e.jsx("path",{d:"M15 18l-6-6 6-6"})})})]}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:je.map(re=>e.jsx("li",{children:e.jsxs(Hr,{to:re.path,className:`nav-link ${re.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:re.icon}),!V&&e.jsx("span",{className:"nav-label",children:re.label})]})},re.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Hr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!V&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!V&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(_a,{title:"Agreement Management",subtitle:"Create, manage and track agreements"}),e.jsxs("div",{className:"route-assignment-page",children:[e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon","aria-hidden":"true",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"Agreement Management"}),e.jsx("p",{className:"ra-page-subtitle",children:"Manage and track agreements, contracts and status"})]})]}),J&&e.jsxs("div",{className:"ra-alert ra-alert--error",role:"alert",children:[e.jsx("span",{children:J}),e.jsx("button",{onClick:()=>ae(null),className:"ra-alert-close","aria-label":"Close error message",children:""})]}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"ra-search-input",placeholder:"Search by agreement number, contract, agreement ID...",value:i,onChange:re=>c(re.target.value)})]}),e.jsxs("div",{className:"ra-actions",children:[e.jsxs("button",{className:"ra-filter-btn",onClick:()=>g(!0),type:"button",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),e.jsxs("button",{className:"ra-add-btn",onClick:Z,type:"button",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Agreement"]})]})]}),I&&!b.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading agreements..."}),e.jsx("div",{className:"route-assignment-table-container",children:e.jsxs("table",{className:"route-assignment-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"AGREEMENT NUMBER"}),e.jsx("th",{children:"AGREEMENT ID"}),e.jsx("th",{children:"CONTRACT REFERENCE"}),e.jsx("th",{children:"AGREEMENT DATE"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:ie.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"empty-message",children:I?"Loading...":"No agreement records found"})}):ie.map(re=>{const he=X=>{if(!X)return"-";const Ae=new Date(X),Be=String(Ae.getDate()).padStart(2,"0"),Me=String(Ae.getMonth()+1).padStart(2,"0"),$e=Ae.getFullYear();return`${Be}/${Me}/${$e}`};return e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("span",{className:"agreement-num-cell",children:re.agreementNum})}),e.jsx("td",{children:re.agreementID}),e.jsx("td",{children:re.contractNum?`${re.contractID} - ${re.contractNum}`:re.contractID}),e.jsx("td",{children:he(re.agreementDate)}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx(ye,{status:re.status})})}),e.jsx("td",{onClick:X=>X.stopPropagation(),children:e.jsx("div",{className:"action-buttons ra-actions",children:e.jsx(pe,{agreement:re})})})]},re.id)})})]})}),e.jsxs("div",{className:"route-assignment-pagination-info",children:["Showing ",ie.length," of ",b.length," items"]})]})]}),h&&e.jsx(xse,{agreement:y,contracts:w,contractIdParam:s,saving:G,onClose:()=>{f(!1),j(null)},onSave:ue}),l&&m&&e.jsx(yse,{agreement:m,contractNum:m.contractNum,onClose:()=>{u(!1),x(null)}}),A&&e.jsx(jse,{statusFilter:o,advancedFilters:$,onClose:()=>g(!1),onClear:()=>{d("All"),ee({agreementNum:"",agreementID:"",contractNum:"",status:""}),g(!1)},onApply:re=>{d(re.statusFilter),ee(re.advancedFilters),g(!1)}})]})},xse=({agreement:r,contracts:t,contractIdParam:n,saving:a,onClose:s,onSave:i})=>{const[c,o]=C.useState(r||{contractID:n||"",agreementNum:"",agreementDate:new Date().toISOString().split("T")[0],status:"Draft"}),d=l=>{if(l.preventDefault(),!c.contractID||!c.agreementDate){alert("Please fill in all required fields");return}i(c)};return e.jsx("div",{className:"modal-overlay",onClick:s,children:e.jsxs("div",{className:"modal-content",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:r?"Edit Agreement":"Add Agreement"}),e.jsx("button",{className:"modal-close-btn",onClick:s,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"agreement-form",onSubmit:d,children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Agreement Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Contract *"}),e.jsxs("select",{value:c.contractID||"",onChange:l=>o({...c,contractID:l.target.value}),required:!0,disabled:a||!!n||!!r,children:[e.jsx("option",{value:"",children:"Select Contract"}),t.map(l=>e.jsxs("option",{value:l.id,children:[l.contractID," - ",l.contractNum]},l.id))]})]}),r&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Agreement Number"}),e.jsx("input",{type:"text",value:c.agreementNum||"",onChange:l=>o({...c,agreementNum:l.target.value}),disabled:a,placeholder:"Auto-generated if empty"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Agreement Date *"}),e.jsx("input",{type:"date",value:c.agreementDate||"",onChange:l=>o({...c,agreementDate:l.target.value}),required:!0,disabled:a})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:c.status||"Draft",onChange:l=>o({...c,status:l.target.value}),disabled:a,children:[e.jsx("option",{value:"Draft",children:"Draft"}),e.jsx("option",{value:"Generated",children:"Generated"}),e.jsx("option",{value:"Signed",children:"Signed"})]})]})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:s,disabled:a,children:"Cancel"}),e.jsxs("button",{type:"submit",className:"btn btn--primary",disabled:a,children:[a?"Saving...":r?"Update":"Add"," Agreement"]})]})]})]})})},yse=({agreement:r,contractNum:t,onClose:n})=>{const[a,s]=C.useState(!1),[i,c]=C.useState([]),[o,d]=C.useState(!1),[l,u]=C.useState(!1),[h,f]=C.useState(null),[A,g]=C.useState(null),[m,x]=C.useState(!1),y=C.useRef(null);C.useEffect(()=>{const I=async()=>{try{d(!0);const J=(await eA.getAllClauses(r.id)).map(ae=>({id:ae.id,pointNum:ae.pointNum,pointTitle:ae.pointTitle,pointText:ae.pointText,sequenceNo:ae.sequenceNo,status:ae.status})).sort((ae,G)=>ae.sequenceNo-G.sequenceNo);c(J)}catch(L){console.error("Failed to load clauses:",L),c([])}finally{d(!1)}};r.id&&I()},[r.id]),C.useEffect(()=>{(async()=>{if(r.contractID)try{x(!0);const L=await dA.getContractById(r.contractID),[J,ae]=await Promise.all([ha.getCompanyById(L.companyId),Mi.getHcfById(L.hcfId)]);f(J),g(ae)}catch(L){console.error("Failed to load party data:",L)}finally{x(!1)}})()},[r.contractID]);const j=()=>{window.print()},b=async()=>{if(!y.current){alert("Unable to generate PDF. Please try again.");return}try{u(!0);const I=y.current,L={margin:[10,10,10,10],filename:`${r.agreementNum}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0,letterRendering:!0},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"},pagebreak:{mode:["avoid-all","css","legacy"]}};await gse().set(L).from(I).save()}catch(I){console.error("Failed to generate PDF:",I),alert("Failed to generate PDF. Please try again.")}finally{u(!1)}},S=I=>{const L=I.pointTitle.toLowerCase().includes("whereas"),J=I.pointNum.toLowerCase().startsWith("w"),ae=I.pointNum.toLowerCase().startsWith("whereas");return L||J||ae},w=I=>!!(I.pointNum&&I.pointNum.trim()!==""&&/^\d+$/.test(I.pointNum.trim())),E=I=>!S(I)&&!w(I);return e.jsx("div",{className:"modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content modal-content--view modal-content--large",onClick:I=>I.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h2",{className:"modal-title",children:["Agreement Preview - ",r.agreementNum]}),e.jsx("button",{className:"modal-close-btn",onClick:n,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("div",{className:"agreement-preview-controls",children:[e.jsxs("label",{className:"stamp-paper-toggle",children:[e.jsx("input",{type:"checkbox",checked:a,onChange:I=>s(I.target.checked)}),e.jsx("span",{children:"Print on Stamp Paper"})]}),e.jsxs("div",{className:"preview-actions",children:[e.jsxs("button",{type:"button",className:"btn btn--secondary",onClick:j,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),e.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),e.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]}),"Print"]}),e.jsxs("button",{type:"button",className:"btn btn--primary",onClick:b,disabled:l,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),e.jsx("polyline",{points:"7 10 12 15 17 10"}),e.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),l?"Generating...":"Download PDF"]})]})]}),e.jsx("div",{ref:y,className:`agreement-document ${a?"stamp-paper-mode":""}`,children:o?e.jsx("div",{className:"loading-message",children:"Loading agreement clauses..."}):e.jsxs(e.Fragment,{children:[a&&e.jsxs("div",{className:"agreement-page agreement-page--stamp-paper",children:[e.jsx("div",{className:"stamp-paper-blank-space"}),e.jsxs("div",{className:"agreement-party-intro",children:[e.jsx("h2",{className:"party-intro-title",children:"THIS SERVICE AGREEMENT"}),e.jsxs("p",{className:"party-intro-subtitle",children:["is made on this ",e.jsx("strong",{children:new Date(r.agreementDate).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})})]}),e.jsxs("div",{className:"party-details",children:[e.jsxs("div",{className:"party-section",children:[e.jsx("p",{className:"party-intro-text",children:e.jsx("strong",{children:"BETWEEN"})}),e.jsx("h3",{className:"party-name",children:"PARTY OF THE FIRST PART"}),e.jsx("p",{className:"party-description",children:h?e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:h.companyName}),', a company incorporated under the Companies Act, 2013, having its registered office at [Address], represented by [Authorized Person], hereinafter referred to as the "',e.jsx("strong",{children:"Service Provider"}),'" (which expression shall, unless repugnant to the context or meaning thereof, be deemed to include its successors and assigns).']}):e.jsxs(e.Fragment,{children:['[Company Name], a company incorporated under the Companies Act, 2013, having its registered office at [Address], represented by [Authorized Person], hereinafter referred to as the "',e.jsx("strong",{children:"Service Provider"}),'" (which expression shall, unless repugnant to the context or meaning thereof, be deemed to include its successors and assigns).']})})]}),e.jsxs("div",{className:"party-section",children:[e.jsx("p",{className:"party-intro-text",children:e.jsx("strong",{children:"AND"})}),e.jsx("h3",{className:"party-name",children:"PARTY OF THE SECOND PART"}),e.jsx("p",{className:"party-description",children:A?e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:A.hcfName}),", a healthcare facility located at ",A.serviceAddress||"[Address]",", represented by",A.agrSignAuthName?` ${A.agrSignAuthName}`:" [Authorized Person]",', hereinafter referred to as the "',e.jsx("strong",{children:"Client"}),'" (which expression shall, unless repugnant to the context or meaning thereof, be deemed to include its successors and assigns).']}):e.jsxs(e.Fragment,{children:['[HCF Name], a healthcare facility located at [Address], represented by [Authorized Person], hereinafter referred to as the "',e.jsx("strong",{children:"Client"}),'" (which expression shall, unless repugnant to the context or meaning thereof, be deemed to include its successors and assigns).']})})]})]})]})]}),e.jsxs("div",{className:"agreement-page",children:[e.jsxs("div",{className:"agreement-header-section",children:[e.jsx("h1",{className:"agreement-main-title",children:"SERVICE AGREEMENT"}),e.jsxs("div",{className:"agreement-meta",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Agreement No.:"})," ",r.agreementNum]}),t&&e.jsxs("p",{children:[e.jsx("strong",{children:"Contract Reference:"})," ",t]})]})]}),i.length>0&&S(i[0])&&e.jsx("div",{className:"agreement-section agreement-intro-section",children:e.jsxs("p",{className:"whereas-intro",children:['This Service Agreement ("Agreement") is made on this ',e.jsx("strong",{children:new Date(r.agreementDate).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})})," between ",h?e.jsx("strong",{children:h.companyName}):"[Company Name]",' (hereinafter referred to as the "',e.jsx("strong",{children:"Service Provider"}),'") and ',A?e.jsx("strong",{children:A.hcfName}):"[HCF Name]",' (hereinafter referred to as the "',e.jsx("strong",{children:"Client"}),'"):']})}),(i.length===0||!S(i[0]))&&e.jsxs("div",{className:"agreement-section agreement-intro-section",children:[e.jsxs("p",{className:"intro-text",children:['This Service Agreement ("Agreement") is made on this ',e.jsx("strong",{children:new Date(r.agreementDate).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})})," between ",h?e.jsx("strong",{children:h.companyName}):"[Company Name]",' (hereinafter referred to as the "',e.jsx("strong",{children:"Service Provider"}),'") and ',A?e.jsx("strong",{children:A.hcfName}):"[HCF Name]",' (hereinafter referred to as the "',e.jsx("strong",{children:"Client"}),'").']}),i.length>0&&e.jsx("p",{className:"intro-continuation",children:"The parties agree as follows:"})]}),i.length>0&&(()=>{let I=0;return e.jsx("div",{className:"agreement-section agreement-clauses-section",children:i.map((L,J)=>{const ae=S(L),G=w(L),le=E(L);ae&&I++;const V=J>0?i[J-1]:null,me=V&&S(V)&&!ae;return e.jsxs("div",{children:[me&&e.jsx("div",{className:"agreement-section agreement-now-therefore-section",children:e.jsxs("p",{className:"now-therefore-text",children:[e.jsx("strong",{children:"NOW THEREFORE"}),", in consideration of the mutual covenants and agreements contained herein, the parties agree as follows:"]})}),ae?e.jsx("div",{className:"whereas-item",children:e.jsxs("p",{className:"whereas-text",children:[e.jsxs("strong",{children:["WHEREAS ",I===1?"":String.fromCharCode(64+I)+") "]}),L.pointText]})}):G?e.jsx("div",{className:"clause-item clause-item--numbered",children:e.jsxs("p",{className:"clause-text",children:[e.jsxs("strong",{children:[L.pointNum,"."]})," ",L.pointText]})}):le?e.jsx("div",{className:"clause-item clause-item--normal",children:e.jsx("p",{className:"clause-text",children:L.pointText})}):e.jsx("div",{className:"clause-item",children:e.jsx("p",{className:"clause-text",children:L.pointText})})]},L.id)})})})(),e.jsxs("div",{className:"agreement-section agreement-signature-section",children:[e.jsxs("div",{className:"signature-block",children:[e.jsxs("div",{className:"signature-party",children:[e.jsx("p",{className:"signature-party-title",children:e.jsx("strong",{children:"PARTY OF THE FIRST PART"})}),e.jsxs("div",{className:"signature-space",children:[e.jsx("div",{className:"signature-line"}),e.jsx("p",{className:"signature-name",children:"Signature"}),e.jsx("p",{className:"signature-name",children:"[Name of Authorized Signatory]"}),e.jsx("p",{className:"signature-designation",children:"[Designation]"}),e.jsxs("p",{className:"signature-designation",children:["For and on behalf of ",h?h.companyName:"[Company Name]"]})]})]}),e.jsxs("div",{className:"signature-party",children:[e.jsx("p",{className:"signature-party-title",children:e.jsx("strong",{children:"PARTY OF THE SECOND PART"})}),e.jsxs("div",{className:"signature-space",children:[e.jsx("div",{className:"signature-line"}),e.jsx("p",{className:"signature-name",children:"Signature"}),e.jsx("p",{className:"signature-name",children:A&&A.agrSignAuthName||"[Name of Authorized Signatory]"}),e.jsx("p",{className:"signature-designation",children:A&&A.agrSignAuthDesignation||"[Designation]"}),e.jsxs("p",{className:"signature-designation",children:["For and on behalf of ",A?A.hcfName:"[HCF Name]"]})]})]})]}),e.jsxs("div",{className:"signature-date-place",children:[e.jsxs("p",{className:"date-place-text",children:[e.jsx("strong",{children:"Date:"})," _______________________"]}),e.jsxs("p",{className:"date-place-text",children:[e.jsx("strong",{children:"Place:"})," _______________________"]})]}),e.jsxs("div",{className:"witness-section",children:[e.jsx("p",{className:"witness-title",children:e.jsx("strong",{children:"WITNESSES:"})}),e.jsxs("div",{className:"witness-block",children:[e.jsxs("div",{className:"witness-item",children:[e.jsx("div",{className:"signature-line"}),e.jsx("p",{className:"witness-name",children:"1. [Name of Witness]"}),e.jsx("p",{className:"witness-address",children:"[Address]"})]}),e.jsxs("div",{className:"witness-item",children:[e.jsx("div",{className:"signature-line"}),e.jsx("p",{className:"witness-name",children:"2. [Name of Witness]"}),e.jsx("p",{className:"witness-address",children:"[Address]"})]})]})]})]})]})]})}),e.jsx("div",{className:"modal-footer",children:e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Back"})})]})})},jse=({statusFilter:r,advancedFilters:t,onClose:n,onClear:a,onApply:s})=>{const[i,c]=C.useState(r),[o,d]=C.useState(t);return e.jsx("div",{className:"modal-overlay ra-filter-modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content ra-filter-modal",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"ra-filter-modal-header",children:[e.jsxs("div",{className:"ra-filter-modal-titlewrap",children:[e.jsx("div",{className:"ra-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M22 3H2l8 9v7l4 2v-9l8-9z"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"ra-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"ra-filter-subtitle",children:"Filter agreements by multiple criteria"})]})]}),e.jsx("button",{className:"ra-filter-close",onClick:n,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"ra-filter-modal-body",children:e.jsxs("div",{className:"ra-filter-grid",children:[e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Agreement Number"}),e.jsx("input",{type:"text",value:o.agreementNum,onChange:l=>d({...o,agreementNum:l.target.value}),className:"ra-filter-input",placeholder:"Enter agreement number"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Agreement ID"}),e.jsx("input",{type:"text",value:o.agreementID,onChange:l=>d({...o,agreementID:l.target.value}),className:"ra-filter-input",placeholder:"Enter agreement ID"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Contract Number"}),e.jsx("input",{type:"text",value:o.contractNum,onChange:l=>d({...o,contractNum:l.target.value}),className:"ra-filter-input",placeholder:"Enter contract number"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:i,onChange:l=>c(l.target.value),className:"ra-filter-select",children:[e.jsx("option",{value:"All",children:"All Status"}),e.jsx("option",{value:"Draft",children:"Draft"}),e.jsx("option",{value:"Generated",children:"Generated"}),e.jsx("option",{value:"Signed",children:"Signed"})]})]})]})}),e.jsxs("div",{className:"ra-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"ra-link-btn",onClick:()=>{c("All"),d({agreementNum:"",agreementID:"",contractNum:"",status:""}),a()},children:"Clear Filters"}),e.jsx("button",{type:"button",className:"ra-btn ra-btn--primary ra-btn--sm",onClick:()=>s({statusFilter:i,advancedFilters:o}),children:"Apply Filters"})]})]})})},bse=({clauses:r,searchQuery:t,statusFilter:n,advancedFilters:a})=>({filteredClauses:C.useMemo(()=>r.filter(i=>{const c=t.toLowerCase(),o=!t||i.agreementID.toLowerCase().includes(c)||i.pointNum.toLowerCase().includes(c)||i.pointTitle.toLowerCase().includes(c)||i.pointText.toLowerCase().includes(c),d=n==="All"||i.status===n,l=!a.agreementID||i.agreementID===a.agreementID,u=!a.pointNum||i.pointNum.toLowerCase().includes(a.pointNum.toLowerCase()),h=!a.pointTitle||i.pointTitle.toLowerCase().includes(a.pointTitle.toLowerCase()),f=!a.status||a.status==="All"||i.status===a.status;return o&&d&&l&&u&&h&&f}).sort((i,c)=>i.agreementID!==c.agreementID?i.agreementID.localeCompare(c.agreementID):i.sequenceNo-c.sequenceNo),[r,t,n,a])}),wse=()=>{const{logout:r,permissions:t}=Yn(),n=jn(),[a,s]=C.useState(""),[i,c]=C.useState("All"),[o,d]=C.useState(!1),[l,u]=C.useState(!1),[h,f]=C.useState(null),[A,g]=C.useState(!1),[m,x]=C.useState(null),[y,j]=C.useState(!1),[b,S]=C.useState(!1),[w,E]=C.useState({agreementID:"",pointNum:"",pointTitle:"",status:""}),I=()=>{S(!b)},[L,J]=C.useState([]),[ae,G]=C.useState([]),le=C.useCallback(async()=>{try{g(!0),x(null);const pe=await s1.getAllAgreements();J(pe.map(je=>({id:je.id,agreementID:je.agreementID,agreementNum:je.agreementNum,status:je.status})))}catch(pe){console.error("Failed to load agreements:",pe),x(pe.message||"Failed to load agreements")}finally{g(!1)}},[]),V=C.useCallback(async pe=>{var je;try{g(!0),x(null);const re=w.agreementID?(je=pe.find(Be=>Be.agreementID===w.agreementID))==null?void 0:je.id:void 0,he=i!=="All"?i:void 0,Ae=(await eA.getAllClauses(re,he)).map(Be=>{const Me=pe.find($e=>$e.id===Be.agreementId);return{id:Be.id,agreementClauseID:Be.agreementClauseID,agreementID:(Me==null?void 0:Me.agreementID)||Be.agreementId,pointNum:Be.pointNum,pointTitle:Be.pointTitle,pointText:Be.pointText,sequenceNo:Be.sequenceNo,status:Be.status}});Ae.sort((Be,Me)=>Be.agreementID!==Me.agreementID?Be.agreementID.localeCompare(Me.agreementID):Be.sequenceNo-Me.sequenceNo),G(Ae)}catch(re){console.error("Failed to load clauses:",re),x(re.message||"Failed to load clauses")}finally{g(!1)}},[i,w.agreementID]);C.useEffect(()=>{le()},[le]),C.useEffect(()=>{L.length>0&&V(L)},[L.length,i,w.agreementID,V]);const{filteredClauses:me}=bse({clauses:ae,searchQuery:a,statusFilter:i,advancedFilters:w}),$=pe=>{const je=L.find(re=>re.agreementID===pe);return je||console.warn(`Agreement not found for agreementID: ${pe}. Available agreements:`,L.map(re=>re.agreementID)),(je==null?void 0:je.status)||null},ee=pe=>$(pe.agreementID)==="Draft",we=pe=>{if(!ee(pe)){alert("Clauses can only be edited when the agreement status is Draft.");return}f(pe),d(!0)},R=async pe=>{if(!ee(pe)){alert("Clauses can only be reordered when the agreement status is Draft.");return}const re=[...ae.filter(X=>X.agreementID===pe.agreementID)].sort((X,Ae)=>X.sequenceNo-Ae.sequenceNo),he=re.findIndex(X=>X.id===pe.id);if(he>0){const X=re[he-1];try{g(!0),x(null),await eA.reorderClause(pe.id,X.sequenceNo),await eA.reorderClause(X.id,pe.sequenceNo),await V(L)}catch(Ae){console.error("Failed to reorder clause:",Ae),x(Ae.message||"Failed to reorder clause"),alert(Ae.message||"Failed to reorder clause")}finally{g(!1)}}},q=async pe=>{if(!ee(pe)){alert("Clauses can only be reordered when the agreement status is Draft.");return}const re=[...ae.filter(X=>X.agreementID===pe.agreementID)].sort((X,Ae)=>X.sequenceNo-Ae.sequenceNo),he=re.findIndex(X=>X.id===pe.id);if(he<re.length-1){const X=re[he+1];try{g(!0),x(null),await eA.reorderClause(pe.id,X.sequenceNo),await eA.reorderClause(X.id,pe.sequenceNo),await V(L)}catch(Ae){console.error("Failed to reorder clause:",Ae),x(Ae.message||"Failed to reorder clause"),alert(Ae.message||"Failed to reorder clause")}finally{g(!1)}}},ie=async pe=>{try{if(j(!0),x(null),pe.pointNum&&pe.agreementID&&ae.find(re=>re.agreementID===pe.agreementID&&re.pointNum===pe.pointNum&&re.id!==(h==null?void 0:h.id)))throw new Error(`Point number ${pe.pointNum} already exists for this agreement.`);if(h)await eA.updateClause(h.id,{pointNum:pe.pointNum,pointTitle:pe.pointTitle,pointText:pe.pointText,sequenceNo:pe.sequenceNo});else{const je=ae.filter(he=>he.agreementID===pe.agreementID).reduce((he,X)=>Math.max(he,X.sequenceNo),0),re=L.find(he=>he.agreementID===pe.agreementID);if(!re)throw new Error("Agreement not found");await eA.createClause({agreementId:re.id,pointNum:pe.pointNum,pointTitle:pe.pointTitle,pointText:pe.pointText,sequenceNo:je+1})}d(!1),f(null),await V(L)}catch(je){console.error("Failed to save clause:",je),x(je.message||"Failed to save clause"),alert(je.message||"Failed to save clause")}finally{j(!1)}},Z=({text:pe,maxLength:je=50})=>{const re=pe.length>je?`${pe.substring(0,je)}...`:pe,he=pe.length>je;return e.jsx("span",{className:"point-text-cell",title:he?pe:void 0,style:{cursor:he?"help":"default"},children:re})},D=({status:pe})=>{const je=`clause-status-badge clause-status-badge--${pe.toLowerCase()}`;return e.jsx("span",{className:je,role:"status","aria-label":`Status: ${pe}`,children:pe})},ue=({clause:pe})=>{const je=$(pe.agreementID),re=je==="Draft",X=[...ae.filter(_e=>_e.agreementID===pe.agreementID)].sort((_e,rt)=>_e.sequenceNo-rt.sequenceNo),Ae=X.findIndex(_e=>_e.id===pe.id),Be=re&&Ae>0,Me=re&&Ae<X.length-1,$e=re?"Edit Clause":`Edit only available when agreement status is Draft. Current status: ${je||"Unknown"}`,ne=Be?"Move Up":re?"Already at the top":`Move Up only available when agreement status is Draft. Current status: ${je||"Unknown"}`,Pe=Me?"Move Down":re?"Already at the bottom":`Move Down only available when agreement status is Draft. Current status: ${je||"Unknown"}`;return e.jsxs("div",{className:"clause-action-buttons",style:{display:"flex",gap:"4px",alignItems:"center"},children:[e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>we(pe),title:$e,"aria-label":`Edit clause ${pe.pointTitle}`,disabled:!re,type:"button",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--up",onClick:()=>R(pe),disabled:!Be,title:ne,"aria-label":`Move clause ${pe.pointTitle} up`,type:"button",children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:e.jsx("polyline",{points:"18 15 12 9 6 15"})})}),e.jsx("button",{className:"action-btn action-btn--down",onClick:()=>q(pe),disabled:!Me,title:Pe,"aria-label":`Move clause ${pe.pointTitle} down`,type:"button",children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:e.jsx("polyline",{points:"6 9 12 15 18 9"})})})]})},te=()=>{f(null),d(!0)},ye=xs(t,n.pathname);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${b?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!b&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:I,"aria-label":b?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:b?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:ye.map(pe=>e.jsx("li",{children:e.jsxs(Hr,{to:pe.path,className:`nav-link ${pe.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:pe.icon}),!b&&e.jsx("span",{className:"nav-label",children:pe.label})]})},pe.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Hr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!b&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!b&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(_a,{title:"Agreement Clause Management",subtitle:"Manage agreement clauses and points"}),e.jsxs("div",{className:"route-assignment-page",children:[e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"Agreement Clause Management"}),e.jsx("p",{className:"ra-page-subtitle",children:"Manage and organize agreement clauses and points"})]})]}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"ra-search-input",placeholder:"Search by agreement, point number, title...",value:a,onChange:pe=>s(pe.target.value)})]}),e.jsxs("div",{className:"ra-actions",children:[e.jsxs("button",{className:"ra-filter-btn",onClick:()=>u(!0),type:"button",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),e.jsxs("button",{className:"ra-add-btn",onClick:te,type:"button",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Clause"]})]})]}),m&&e.jsxs("div",{className:"ra-alert ra-alert--error",children:[e.jsx("span",{children:m}),e.jsx("button",{className:"ra-alert-close",onClick:()=>x(null),children:""})]}),e.jsx("div",{className:"route-assignment-table-container",children:A?e.jsx("div",{style:{padding:"40px",textAlign:"center",color:"#64748b"},children:"Loading clauses..."}):me.length===0?e.jsxs("div",{style:{padding:"60px",textAlign:"center",color:"#94a3b8"},children:[e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",style:{margin:"0 auto 16px",opacity:.5},children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),e.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),e.jsx("p",{style:{fontSize:"14px",margin:0},children:"No clauses found for the selected filters"})]}):e.jsxs("table",{className:"route-assignment-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Agreement ID"}),e.jsx("th",{children:"Sequence"}),e.jsx("th",{children:"Point Number"}),e.jsx("th",{children:"Point Title"}),e.jsx("th",{children:"Point Text"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:me.map(pe=>{const je=L.find(re=>re.agreementID===pe.agreementID);return e.jsxs("tr",{children:[e.jsx("td",{className:"clause-agreement-cell",children:je?`${pe.agreementID} - ${je.agreementNum}`:pe.agreementID}),e.jsx("td",{className:"ra-cell-center",children:e.jsx("span",{className:"sequence-cell",children:pe.sequenceNo})}),e.jsx("td",{children:pe.pointNum}),e.jsx("td",{children:pe.pointTitle||"-"}),e.jsx("td",{children:e.jsx(Z,{text:pe.pointText,maxLength:80})}),e.jsx("td",{children:e.jsx(D,{status:pe.status})}),e.jsx("td",{children:e.jsx(ue,{clause:pe})})]},pe.id)})})]})}),e.jsxs("div",{className:"route-assignment-pagination-info",children:["Showing ",me.length," of ",ae.length," items"]})]})]}),o&&e.jsx(Cse,{clause:h,agreements:L,clauses:ae,saving:y,onClose:()=>{d(!1),f(null)},onSave:ie}),l&&e.jsx(Nse,{statusFilter:i,advancedFilters:w,agreements:L,onClose:()=>u(!1),onClear:()=>{c("All"),E({agreementID:"",pointNum:"",pointTitle:"",status:""}),u(!1)},onApply:pe=>{c(pe.statusFilter),E(pe.advancedFilters),u(!1)}})]})},Cse=({clause:r,agreements:t,clauses:n,saving:a,onClose:s,onSave:i})=>{const[c,o]=C.useState(r||{agreementID:"",pointNum:"",pointTitle:"",pointText:"",sequenceNo:0,status:"Active"}),[d,l]=C.useState(null),u=(g,m)=>!g||!m?!0:n.find(y=>y.agreementID===m&&y.pointNum===g&&y.id!==(r==null?void 0:r.id))?(l(`Point number ${g} already exists for this agreement.`),!1):(l(null),!0),h=g=>{o({...c,pointNum:g}),c.agreementID&&u(g,c.agreementID)},f=g=>{o({...c,agreementID:g,pointNum:""}),l(null)},A=g=>{if(g.preventDefault(),!c.agreementID||!c.pointText||!c.pointNum){alert("Please fill in all required fields");return}u(c.pointNum,c.agreementID)&&i(c)};return e.jsx("div",{className:"modal-overlay",onClick:s,children:e.jsxs("div",{className:"modal-content",onClick:g=>g.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:r?"Edit Agreement Clause":"Add Agreement Clause"}),e.jsx("button",{className:"modal-close-btn",onClick:s,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"clause-form",onSubmit:A,children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Clause Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Agreement ID *"}),e.jsxs("select",{value:c.agreementID||"",onChange:g=>f(g.target.value),required:!0,disabled:!!r||a,children:[e.jsx("option",{value:"",children:"Select Agreement"}),t.map(g=>e.jsxs("option",{value:g.agreementID,children:[g.agreementID," - ",g.agreementNum]},g.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Point Number *"}),e.jsx("input",{type:"text",value:c.pointNum||"",onChange:g=>h(g.target.value),placeholder:"e.g., 1, 2, 3",required:!0,disabled:a}),d&&e.jsx("span",{className:"form-error",style:{color:"#dc2626",fontSize:"12px",marginTop:"4px",display:"block"},children:d}),e.jsx("p",{className:"form-help-text",style:{fontSize:"11px",color:"#64748b",marginTop:"4px"},children:"Must be unique per agreement"})]}),e.jsxs("div",{className:"form-group form-group--full",children:[e.jsx("label",{children:"Point Title"}),e.jsx("input",{type:"text",value:c.pointTitle||"",onChange:g=>o({...c,pointTitle:g.target.value}),disabled:a,placeholder:"Optional: For reference only (not printed in PDF)"})]}),e.jsxs("div",{className:"form-group form-group--full",children:[e.jsx("label",{children:"Point Text *"}),e.jsx("textarea",{value:c.pointText||"",onChange:g=>o({...c,pointText:g.target.value}),required:!0,disabled:a,placeholder:"Enter the clause text...",rows:4})]})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:s,disabled:a,children:"Cancel"}),e.jsxs("button",{type:"submit",className:"btn btn--primary",disabled:a||!!d,children:[a?"Saving...":r?"Update":"Add"," Clause"]})]})]})]})})},Nse=({statusFilter:r,advancedFilters:t,agreements:n,onClose:a,onClear:s,onApply:i})=>{const[c,o]=C.useState(r),[d,l]=C.useState(t);return e.jsx("div",{className:"modal-overlay ra-filter-modal-overlay",onClick:a,children:e.jsxs("div",{className:"modal-content ra-filter-modal",onClick:u=>u.stopPropagation(),children:[e.jsxs("div",{className:"ra-filter-modal-header",children:[e.jsxs("div",{className:"ra-filter-modal-titlewrap",children:[e.jsx("div",{className:"ra-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M22 3H2l8 9v7l4 2v-9l8-9z"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"ra-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"ra-filter-subtitle",children:"Filter clauses by multiple criteria"})]})]}),e.jsx("button",{className:"ra-filter-close",onClick:a,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"ra-filter-modal-body",children:e.jsxs("div",{className:"ra-filter-grid",children:[e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Agreement ID"}),e.jsxs("select",{value:d.agreementID,onChange:u=>l({...d,agreementID:u.target.value}),className:"ra-filter-select",children:[e.jsx("option",{value:"",children:"All Agreements"}),n.map(u=>e.jsxs("option",{value:u.agreementID,children:[u.agreementID," - ",u.agreementNum]},u.id))]})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Point Number"}),e.jsx("input",{type:"text",value:d.pointNum,onChange:u=>l({...d,pointNum:u.target.value}),className:"ra-filter-input",placeholder:"Enter point number"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Point Title"}),e.jsx("input",{type:"text",value:d.pointTitle,onChange:u=>l({...d,pointTitle:u.target.value}),className:"ra-filter-input",placeholder:"Enter point title"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:c,onChange:u=>o(u.target.value),className:"ra-filter-select",children:[e.jsx("option",{value:"All",children:"All Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"ra-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"ra-link-btn",onClick:()=>{o("All"),l({agreementID:"",pointNum:"",pointTitle:"",status:""}),s()},children:"Clear Filters"}),e.jsx("button",{type:"button",className:"ra-btn ra-btn--primary ra-btn--sm",onClick:()=>i({statusFilter:c,advancedFilters:d}),children:"Apply Filters"})]})]})})},Sse=()=>{const{createUser:r,loading:t,user:n}=Yn(),[a,s]=C.useState({userName:"",mobileNumber:"",empCode:"",userRoleID:"",employmentType:"",webLogin:!1,mobileApp:!1,dlNum:"",aadhaar:"",pan:"",uan:"",pfNum:"",esiNum:"",grossSalary:"",contractorName:"",companyName:"",address:"",area:"",city:"",district:"",pincode:"",emergencyContact:"",status:!0}),[i,c]=C.useState(null),[o,d]=C.useState(null),l=async h=>{h.preventDefault(),c(null),d(null);try{const f=await r({name:a.userName,email:a.mobileNumber+"@medi-waste.io",password:"TempPass123!",role:"staff"});c(`User ${f.name} created successfully!`),s({userName:"",mobileNumber:"",empCode:"",userRoleID:"",employmentType:"",webLogin:!1,mobileApp:!1,dlNum:"",aadhaar:"",pan:"",uan:"",pfNum:"",esiNum:"",grossSalary:"",contractorName:"",companyName:"",address:"",area:"",city:"",district:"",pincode:"",emergencyContact:"",status:!0})}catch(f){d(f.message||"Unable to create user")}},u=(h,f)=>{s(A=>({...A,[h]:f}))};return e.jsx("div",{className:"user-management-page",children:e.jsxs("div",{className:"user-management-container",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"User Management"}),e.jsx("p",{className:"page-subtitle",children:"Create and manage user accounts with complete information"})]}),e.jsxs("form",{className:"user-form",onSubmit:l,children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h2",{className:"section-title",children:"Basic Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"userName",className:"form-label required",children:"User Name"}),e.jsx("input",{id:"userName",type:"text",className:"form-input",placeholder:"Enter user name",value:a.userName,onChange:h=>u("userName",h.target.value),required:!0,maxLength:50})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"mobileNumber",className:"form-label required",children:"Mobile Number"}),e.jsx("input",{id:"mobileNumber",type:"tel",className:"form-input",placeholder:"10-digit mobile number",value:a.mobileNumber,onChange:h=>u("mobileNumber",h.target.value.replace(/\D/g,"").slice(0,10)),required:!0,maxLength:10})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"empCode",className:"form-label required",children:"Employee Code"}),e.jsx("input",{id:"empCode",type:"text",className:"form-input",placeholder:"Enter employee code",value:a.empCode,onChange:h=>u("empCode",h.target.value),required:!0,maxLength:10})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"userRoleID",className:"form-label required",children:"User Role"}),e.jsxs("select",{id:"userRoleID",className:"form-input",value:a.userRoleID,onChange:h=>u("userRoleID",h.target.value),required:!0,children:[e.jsx("option",{value:"",children:"Select Role"}),e.jsx("option",{value:"admin",children:"Admin"}),e.jsx("option",{value:"manager",children:"Manager"}),e.jsx("option",{value:"staff",children:"Staff"}),e.jsx("option",{value:"viewer",children:"Viewer"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"employmentType",className:"form-label",children:"Employment Type"}),e.jsxs("select",{id:"employmentType",className:"form-input",value:a.employmentType,onChange:h=>u("employmentType",h.target.value),children:[e.jsx("option",{value:"",children:"Select Type"}),e.jsx("option",{value:"Full-time",children:"Full-time"}),e.jsx("option",{value:"Part-time",children:"Part-time"}),e.jsx("option",{value:"Contract",children:"Contract"}),e.jsx("option",{value:"Temporary",children:"Temporary"})]})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h2",{className:"section-title",children:"Access Control"}),e.jsxs("div",{className:"form-grid",children:[e.jsx("div",{className:"form-group checkbox-group",children:e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:a.webLogin,onChange:h=>u("webLogin",h.target.checked)}),e.jsx("span",{children:"Web Login Access"})]})}),e.jsx("div",{className:"form-group checkbox-group",children:e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:a.mobileApp,onChange:h=>u("mobileApp",h.target.checked)}),e.jsx("span",{children:"Mobile App Access"})]})})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h2",{className:"section-title",children:"Identity Documents"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"dlNum",className:"form-label",children:"Driving License Number"}),e.jsx("input",{id:"dlNum",type:"text",className:"form-input",placeholder:"Enter DL number",value:a.dlNum,onChange:h=>u("dlNum",h.target.value),maxLength:20})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"aadhaar",className:"form-label",children:"Aadhaar Number"}),e.jsx("input",{id:"aadhaar",type:"text",className:"form-input",placeholder:"12-digit Aadhaar",value:a.aadhaar,onChange:h=>u("aadhaar",h.target.value.replace(/\D/g,"").slice(0,12)),maxLength:12})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"pan",className:"form-label",children:"PAN Number"}),e.jsx("input",{id:"pan",type:"text",className:"form-input",placeholder:"10-character PAN",value:a.pan,onChange:h=>u("pan",h.target.value.toUpperCase().slice(0,10)),maxLength:10})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h2",{className:"section-title",children:"Employment Details"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"uan",className:"form-label",children:"UAN (Universal Account Number)"}),e.jsx("input",{id:"uan",type:"text",className:"form-input",placeholder:"12-digit UAN",value:a.uan,onChange:h=>u("uan",h.target.value.replace(/\D/g,"").slice(0,12)),maxLength:12})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"pfNum",className:"form-label",children:"PF Number"}),e.jsx("input",{id:"pfNum",type:"text",className:"form-input",placeholder:"Enter PF number",value:a.pfNum,onChange:h=>u("pfNum",h.target.value),maxLength:22})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"esiNum",className:"form-label",children:"ESI Number"}),e.jsx("input",{id:"esiNum",type:"text",className:"form-input",placeholder:"Enter ESI number",value:a.esiNum,onChange:h=>u("esiNum",h.target.value),maxLength:22})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"grossSalary",className:"form-label required",children:"Gross Salary"}),e.jsx("input",{id:"grossSalary",type:"number",className:"form-input",placeholder:"Enter gross salary",value:a.grossSalary,onChange:h=>u("grossSalary",h.target.value),required:!0,min:"0",step:"0.01"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"contractorName",className:"form-label",children:"Contractor Name"}),e.jsx("input",{id:"contractorName",type:"text",className:"form-input",placeholder:"Enter contractor name",value:a.contractorName,onChange:h=>u("contractorName",h.target.value),maxLength:50})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"companyName",className:"form-label",children:"Company Name"}),e.jsx("input",{id:"companyName",type:"text",className:"form-input",placeholder:"Enter company name",value:a.companyName,onChange:h=>u("companyName",h.target.value),maxLength:50})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h2",{className:"section-title",children:"Address Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{htmlFor:"address",className:"form-label",children:"Address"}),e.jsx("textarea",{id:"address",className:"form-input",placeholder:"Enter full address",value:a.address,onChange:h=>u("address",h.target.value),rows:3})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"area",className:"form-label",children:"Area"}),e.jsx("input",{id:"area",type:"text",className:"form-input",placeholder:"Enter area",value:a.area,onChange:h=>u("area",h.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"city",className:"form-label",children:"City"}),e.jsx("input",{id:"city",type:"text",className:"form-input",placeholder:"Enter city",value:a.city,onChange:h=>u("city",h.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"district",className:"form-label",children:"District"}),e.jsx("input",{id:"district",type:"text",className:"form-input",placeholder:"Enter district",value:a.district,onChange:h=>u("district",h.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"pincode",className:"form-label",children:"Pincode"}),e.jsx("input",{id:"pincode",type:"text",className:"form-input",placeholder:"6-digit pincode",value:a.pincode,onChange:h=>u("pincode",h.target.value.replace(/\D/g,"").slice(0,6)),maxLength:6})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"emergencyContact",className:"form-label",children:"Emergency Contact"}),e.jsx("input",{id:"emergencyContact",type:"tel",className:"form-input",placeholder:"Emergency contact number",value:a.emergencyContact,onChange:h=>u("emergencyContact",h.target.value),maxLength:25})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h2",{className:"section-title",children:"Status"}),e.jsx("div",{className:"form-group checkbox-group",children:e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:a.status,onChange:h=>u("status",h.target.checked)}),e.jsx("span",{children:"Active Status"})]})})]}),o&&e.jsx("div",{className:"form-error",children:o}),i&&e.jsx("div",{className:"form-success",children:i}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"submit",className:"btn-primary",disabled:t,children:t?"Creating User...":"Create User"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>window.location.reload(),children:"Reset Form"})]})]})]})})},Ec=({children:r,navItems:t=[],pageTitle:n,pageSubtitle:a})=>{const{user:s,logout:i,permissions:c}=Yn(),o=jn();qa();const[d,l]=C.useState(!1),[u,h]=C.useState(!1),[f,A]=C.useState(!1);C.useEffect(()=>{const w=()=>{A(window.innerWidth<=768)};return w(),window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[]);const g=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:o.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:o.pathname==="/transaction"||o.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:o.pathname==="/finance"||o.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),active:o.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:o.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:o.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:o.pathname.startsWith("/report")}],x=(t.length>0?t:g).filter(w=>w.path==="/dashboard"?ka(c,"dashboard"):w.path==="/transaction"||w.path.startsWith("/transaction")?ka(c,"transaction"):w.path==="/finance"||w.path.startsWith("/finance")?ka(c,"finance"):w.path==="/commercial-agreements"||w.path.startsWith("/commercial-agreements")?ka(c,"commercial"):w.path==="/compliance-training"||w.path.startsWith("/compliance-training")?ka(c,"compliance"):w.path==="/master"||w.path.startsWith("/master")?ka(c,"master"):w.path==="/report"||w.path.startsWith("/report")?ka(c,"report"):!0),y=wS(Array.isArray(c)?c:[],o.pathname),j=[...x,...y.filter(w=>!x.some(E=>E.path===w.path))],b=()=>{l(!d)},S=()=>{h(!u)};return e.jsxs("div",{className:"app-layout",children:[f&&e.jsx("button",{className:"mobile-menu-toggle",onClick:S,"aria-label":"Toggle menu",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),e.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),e.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})}),f&&u&&e.jsx("div",{className:"mobile-overlay",onClick:S}),e.jsxs("aside",{className:`app-layout__sidebar ${d?"collapsed":""} ${f&&u?"open":""}`,children:[e.jsxs("div",{className:"sidebar-header",children:[e.jsxs("div",{className:"brand",children:[e.jsx("div",{className:"logo-container",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]})}),!d&&e.jsxs("div",{className:"brand-text",children:[e.jsx("span",{className:"brand-title",children:"MEDI-WASTE"}),e.jsx("span",{className:"brand-subtitle",children:"Enterprise Platform"})]})]}),!f&&e.jsx("button",{className:"toggle-button",onClick:b,"aria-label":d?"Expand sidebar":"Collapse sidebar",type:"button",children:e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:d?e.jsx("path",{d:"M9 18l6-6-6-6"}):e.jsx("path",{d:"M15 18l-6-6 6-6"})})})]}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:j.map(w=>e.jsx("li",{children:e.jsxs(Hr,{to:w.path,className:`nav-link ${w.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:w.icon}),!d&&e.jsx("span",{className:"nav-label",children:w.label})]})},w.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs(Hr,{to:"/profile",className:"sidebar-profile-link",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!d&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:i,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!d&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"app-layout__content",children:[n&&e.jsx(_a,{title:n,subtitle:a}),r]})]})},Ese=({id:r,title:t,description:n,icon:a,path:s,parameters:i,indicators:c=[]})=>{const o=()=>{if(i.length===0)return"No parameters";const d=3,l=i.slice(0,d),u=i.length-d;let h=l.join("  ");return u>0&&(h+=` +${u} more`),h};return e.jsxs(Hr,{to:s,className:"report-card-modern","aria-label":`View ${t} report`,children:[e.jsxs("div",{className:"report-card-modern-header",children:[e.jsx("div",{className:"report-card-modern-icon",children:a}),e.jsxs("div",{className:"report-card-modern-title-section",children:[e.jsx("h3",{className:"report-card-modern-title",children:t}),c.length>0&&e.jsxs("div",{className:"report-card-modern-indicators",children:[c.includes("popular")&&e.jsx("span",{className:"indicator-icon",title:"Frequently used",children:""}),c.includes("scheduled")&&e.jsx("span",{className:"indicator-icon",title:"Scheduled",children:""}),c.includes("restricted")&&e.jsx("span",{className:"indicator-icon",title:"Restricted",children:""}),c.includes("beta")&&e.jsx("span",{className:"indicator-icon",title:"Beta",children:""})]})]})]}),e.jsxs("div",{className:"report-card-modern-body",children:[e.jsx("p",{className:"report-card-modern-description",children:n}),e.jsxs("div",{className:"report-card-modern-parameters",children:[e.jsx("span",{className:"parameters-label",children:"Params:"}),e.jsx("span",{className:"parameters-value",children:o()})]})]})]})},Bse=()=>{var R;const r=jn(),[t,n]=C.useState(""),[a,s]=C.useState("All"),[i,c]=C.useState(!1),[o,d]=C.useState(!1),[l,u]=C.useState({reportType:"",ownership:"",favorites:!1}),[h,f]=C.useState(new Set),A=C.useRef(null),g=C.useRef(null),m=e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"10"}),e.jsx("line",{x1:"18",y1:"20",x2:"18",y2:"4"}),e.jsx("line",{x1:"6",y1:"20",x2:"6",y2:"16"})]}),x=e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),y=e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),j=e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M12 20h9"}),e.jsx("path",{d:"M16.5 3.5a2.1 2.1 0 0 1 3 3L7 19l-4 1 1-4Z"})]}),b=e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"23 4 23 10 17 10"}),e.jsx("polyline",{points:"1 20 1 14 7 14"}),e.jsx("path",{d:"M3.51 9a9 9 0 0 1 14.13-3.36L23 10"}),e.jsx("path",{d:"M20.49 15a9 9 0 0 1-14.13 3.36L1 14"})]}),S=e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"3",width:"15",height:"13"}),e.jsx("polygon",{points:"16 8 20 8 23 11 23 16 16 16 16 8"}),e.jsx("circle",{cx:"5.5",cy:"18.5",r:"2.5"}),e.jsx("circle",{cx:"18.5",cy:"18.5",r:"2.5"})]}),w=e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polygon",{points:"1 6 8 3 16 6 23 3 23 18 16 21 8 18 1 21 1 6"}),e.jsx("line",{x1:"8",y1:"3",x2:"8",y2:"18"}),e.jsx("line",{x1:"16",y1:"6",x2:"16",y2:"21"})]}),E=e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),e.jsx("polyline",{points:"3.29 7 12 12 20.71 7"}),e.jsx("line",{x1:"12",y1:"22",x2:"12",y2:"12"})]}),I=e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 22V6a2 2 0 0 1 2-2h6v18"}),e.jsx("path",{d:"M13 22V10a2 2 0 0 1 2-2h6v14"}),e.jsx("line",{x1:"7",y1:"8",x2:"7",y2:"8"}),e.jsx("line",{x1:"7",y1:"12",x2:"7",y2:"12"}),e.jsx("line",{x1:"17",y1:"12",x2:"17",y2:"12"}),e.jsx("line",{x1:"17",y1:"16",x2:"17",y2:"16"})]}),L=e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),J=e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),ae=e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 11l3 3L22 4"}),e.jsx("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"})]}),G=[{id:"All",label:"All Reports",icon:m},{id:"BillingFinance",label:"Billing & Finance",icon:x,children:[{id:"BillingFinance-Invoices",label:"Invoices",icon:y},{id:"BillingFinance-Payments",label:"Payments",icon:x},{id:"BillingFinance-Revenue",label:"Revenue",icon:m},{id:"BillingFinance-Outstanding",label:"Outstanding",icon:m}]},{id:"ContractAgreement",label:"Contract & Agreement",icon:j,children:[{id:"ContractAgreement-Contracts",label:"Contracts",icon:y},{id:"ContractAgreement-Agreements",label:"Agreements",icon:y},{id:"ContractAgreement-Renewals",label:"Renewals",icon:b}]},{id:"OperationsLogistics",label:"Operations & Logistics",icon:S,children:[{id:"OperationsLogistics-Fleet",label:"Fleet",icon:S},{id:"OperationsLogistics-Routes",label:"Routes",icon:w},{id:"OperationsLogistics-Collection",label:"Collection",icon:E},{id:"OperationsLogistics-Barcode",label:"Barcode",icon:m}]},{id:"MasterData",label:"Master Data",icon:J,children:[{id:"MasterData-Company",label:"Company",icon:I},{id:"MasterData-HCF",label:"HCF",icon:J},{id:"MasterData-User",label:"User",icon:L},{id:"MasterData-Fleet",label:"Fleet",icon:S}]},{id:"ComplianceTraining",label:"Compliance & Training",icon:ae,children:[{id:"ComplianceTraining-Certificates",label:"Certificates",icon:ae},{id:"ComplianceTraining-Compliance",label:"Compliance",icon:ae}]}],V=[{id:"invoice-report",category:"BillingFinance",title:"Invoice Report",description:"Generate invoice reports with filters",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),path:"/report/invoice",parameters:["Company","HCF","Date Range","Status","Billing Type"],indicators:["popular"],reportType:"Transactional",ownership:"System",isFavorite:!0},{id:"payment-report",category:"BillingFinance",title:"Payment Report",description:"Track payments and receipts",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),path:"/report/payment",parameters:["Company","Date Range","Payment Status","Payment Mode"],indicators:["popular"],reportType:"Transactional",ownership:"System",isFavorite:!0},{id:"revenue-report",category:"BillingFinance",title:"Revenue Analysis Report",description:"Analyze revenue by period and company",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"10"}),e.jsx("line",{x1:"18",y1:"20",x2:"18",y2:"4"}),e.jsx("line",{x1:"6",y1:"20",x2:"6",y2:"16"})]}),path:"/report/revenue",parameters:["Company","Date Range","Group By","HCF"],indicators:["popular"],reportType:"Analytics",ownership:"System",isFavorite:!0},{id:"outstanding-report",category:"BillingFinance",title:"Outstanding Amount Report",description:"View outstanding payments and aging analysis",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]}),path:"/report/outstanding",parameters:["Company","HCF","Date Range","Aging Period"],reportType:"Analytics",ownership:"Shared"},{id:"contract-report",category:"ContractAgreement",title:"Contract Report",description:"Generate contract reports with status and dates",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),path:"/report/contract",parameters:["Company","HCF","Status","Date Range","Billing Type"],indicators:["restricted"],reportType:"Transactional",ownership:"Shared"},{id:"agreement-report",category:"ContractAgreement",title:"Agreement Report",description:"View agreement documents and status",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("path",{d:"M9 15l2 2 4-4"})]}),path:"/report/agreement",parameters:["Company","Contract","Status","Date Range"],reportType:"Transactional",ownership:"My Reports"},{id:"contract-renewal-report",category:"ContractAgreement",title:"Contract Renewal Report",description:"Track contracts due for renewal",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]}),path:"/report/contract-renewal",parameters:["Company","Renewal Period","Days Before Expiry"],reportType:"Analytics",ownership:"Shared"},{id:"fleet-report",category:"OperationsLogistics",title:"Fleet Management Report",description:"Vehicle and fleet utilization reports",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),e.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]}),path:"/report/fleet",parameters:["Company","Vehicle Type","Status","Compliance Status"],reportType:"Master",ownership:"System"},{id:"route-report",category:"OperationsLogistics",title:"Route Report",description:"Route performance and assignment reports",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),e.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),path:"/report/route",parameters:["Company","Route Code","Status","HCF"],indicators:["beta"],reportType:"Master",ownership:"System"},{id:"barcode-report",category:"OperationsLogistics",title:"Barcode Usage Report",description:"Track barcode generation and usage",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"7",y1:"8",x2:"7",y2:"16"}),e.jsx("line",{x1:"11",y1:"8",x2:"11",y2:"16"}),e.jsx("line",{x1:"15",y1:"8",x2:"15",y2:"16"})]}),path:"/report/barcode",parameters:["Company","Status","Date Range","Assigned Entity"],reportType:"Transactional",ownership:"My Reports"},{id:"collection-report",category:"OperationsLogistics",title:"Waste Collection Report",description:"Daily/weekly/monthly collection reports",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),e.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),e.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]}),path:"/report/collection",parameters:["Company","HCF","Date Range","Route","Weight Range"],indicators:["popular"],reportType:"Transactional",ownership:"System",isFavorite:!0},{id:"company-report",category:"MasterData",title:"Company Master Report",description:"Company information and details report",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),path:"/report/company",parameters:["Status","State","PCB Zone","GST Status"],reportType:"Master",ownership:"System"},{id:"hcf-report",category:"MasterData",title:"HCF Master Report",description:"Healthcare facility information report",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"9",cy:"7",r:"4"}),e.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),e.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),path:"/report/hcf",parameters:["Company","HCF Type","Status","State","District","Category"],reportType:"Master",ownership:"System"},{id:"user-report",category:"MasterData",title:"User Report",description:"User and role assignment reports",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),path:"/report/user",parameters:["Company","Role","Status","Employment Type","Department"],indicators:["restricted"],reportType:"Master",ownership:"Shared"},{id:"fleet-master-report",category:"MasterData",title:"Fleet Master Report",description:"Vehicle master data report",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),e.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]}),path:"/report/fleet-master",parameters:["Company","Vehicle Make","Status","Compliance Status","Owner Type"],reportType:"Master",ownership:"System"},{id:"training-certificate-report",category:"ComplianceTraining",title:"Training Certificate Report",description:"Staff training and certification reports",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("path",{d:"M9 15l2 2 4-4"})]}),path:"/report/training-certificate",parameters:["Company","HCF","Training Date Range","Status","Staff Designation"],reportType:"Transactional",ownership:"Shared"},{id:"compliance-report",category:"ComplianceTraining",title:"Compliance Status Report",description:"Compliance tracking and status reports",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),path:"/report/compliance",parameters:["Company","HCF","Compliance Type","Status","Date Range"],reportType:"Analytics",ownership:"System"}].filter(q=>{const ie=q.title.toLowerCase().includes(t.toLowerCase())||q.description.toLowerCase().includes(t.toLowerCase())||q.parameters.some(ue=>ue.toLowerCase().includes(t.toLowerCase())),Z=a==="All"||q.category===a||a.startsWith(q.category+"-"),D=(!l.reportType||q.reportType===l.reportType)&&(!l.ownership||q.ownership===l.ownership)&&(!l.favorites||h.has(q.id)||q.isFavorite);return ie&&Z&&D});C.useEffect(()=>{const q=ie=>{A.current&&!A.current.contains(ie.target)&&c(!1),g.current&&!g.current.contains(ie.target)&&(ie.target.closest(".filters-toggle-btn")||d(!1))};return document.addEventListener("mousedown",q),()=>document.removeEventListener("mousedown",q)},[]);const me=()=>{if(a==="All")return"All Reports";const q=(Z,D)=>{for(const ue of Z){if(ue.id===D)return ue;if(ue.children){const te=q(ue.children,D);if(te)return te}}return null},ie=q(G,a);return(ie==null?void 0:ie.label)||"All Reports"},$=q=>{s(q),c(!1)},ee=()=>{let q=0;return l.reportType&&q++,l.ownership&&q++,l.favorites&&q++,q},we=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname==="/transaction"||r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname==="/finance"||r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname==="/commercial-agreements"||r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:r.pathname==="/compliance-training"||r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Masters",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return e.jsx(Ec,{navItems:we,children:e.jsxs("div",{className:"reports-page",children:[e.jsx(_a,{title:"Reports",subtitle:"Generate and view system reports"}),o&&e.jsxs("div",{className:"filters-drawer-compact",ref:g,children:[e.jsxs("div",{className:"filters-drawer-header-compact",children:[e.jsx("h3",{children:"Filters"}),e.jsx("button",{className:"filters-drawer-close",onClick:()=>d(!1),"aria-label":"Close filters",children:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("div",{className:"filters-drawer-content-compact",children:[e.jsxs("div",{className:"filter-section-compact",children:[e.jsx("label",{className:"filter-section-label",children:"Report Type"}),e.jsxs("div",{className:"filter-segmented-buttons",children:[e.jsx("button",{className:`segmented-btn ${l.reportType?"":"active"}`,onClick:()=>u({...l,reportType:""}),children:"All"}),e.jsx("button",{className:`segmented-btn ${l.reportType==="Transactional"?"active":""}`,onClick:()=>u({...l,reportType:"Transactional"}),children:"Transactional"}),e.jsx("button",{className:`segmented-btn ${l.reportType==="Master"?"active":""}`,onClick:()=>u({...l,reportType:"Master"}),children:"Master"}),e.jsx("button",{className:`segmented-btn ${l.reportType==="Analytics"?"active":""}`,onClick:()=>u({...l,reportType:"Analytics"}),children:"Analytics"})]})]}),e.jsxs("div",{className:"filter-section-compact",children:[e.jsx("label",{className:"filter-section-label",children:"Ownership"}),e.jsxs("div",{className:"filter-segmented-buttons",children:[e.jsx("button",{className:`segmented-btn ${l.ownership?"":"active"}`,onClick:()=>u({...l,ownership:""}),children:"All"}),e.jsx("button",{className:`segmented-btn ${l.ownership==="My Reports"?"active":""}`,onClick:()=>u({...l,ownership:"My Reports"}),children:"My Reports"}),e.jsx("button",{className:`segmented-btn ${l.ownership==="Shared"?"active":""}`,onClick:()=>u({...l,ownership:"Shared"}),children:"Shared"}),e.jsx("button",{className:`segmented-btn ${l.ownership==="System"?"active":""}`,onClick:()=>u({...l,ownership:"System"}),children:"System"})]})]}),e.jsxs("div",{className:"filter-section-compact",children:[e.jsx("label",{className:"filter-section-label",children:"Favorites"}),e.jsxs("div",{className:"filter-toggle-wrapper",children:[e.jsx("button",{className:`filter-toggle-btn ${l.favorites?"active":""}`,onClick:()=>u({...l,favorites:!l.favorites}),"aria-pressed":l.favorites,children:e.jsx("span",{className:"filter-toggle-slider"})}),e.jsx("span",{className:"filter-toggle-label",children:l.favorites?"Show favorites only":"Show all reports"})]})]}),ee()>0&&e.jsx("div",{className:"filters-drawer-actions-compact",children:e.jsx("button",{className:"filter-clear-btn-compact",onClick:()=>u({reportType:"",ownership:"",favorites:!1}),children:"Clear All"})})]})]}),e.jsxs("div",{className:"reports-content-wrapper",children:[e.jsx("div",{className:"reports-title-section",children:e.jsx("h1",{className:"reports-title",children:"Reports"})}),e.jsxs("div",{className:"reports-search-section",children:[e.jsxs("div",{className:"reports-search-box",children:[e.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"reports-search-input",placeholder:"Search reports...",value:t,onChange:q=>n(q.target.value),"aria-label":"Search reports"})]}),e.jsxs("div",{className:"category-popover-wrapper",ref:A,children:[e.jsxs("button",{className:"category-popover-toggle",onClick:()=>c(!i),"aria-expanded":i,children:[e.jsx("span",{className:"category-icon",children:((R=G.find(q=>q.id===a))==null?void 0:R.icon)||m}),e.jsx("span",{className:"category-label",children:me()}),e.jsx("svg",{className:"category-arrow",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),i&&e.jsx("div",{className:"category-popover",children:G.map(q=>e.jsxs("div",{className:"category-group",children:[e.jsxs("button",{className:`category-item ${a===q.id?"active":""}`,onClick:()=>!q.children&&$(q.id),children:[e.jsx("span",{className:"category-item-icon",children:q.icon}),e.jsx("span",{className:"category-item-label",children:q.label}),q.children&&e.jsx("svg",{className:"category-expand-icon",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"9 18 15 12 9 6"})})]}),q.children&&e.jsx("div",{className:"category-children",children:q.children.map(ie=>e.jsxs("button",{className:`category-item category-child ${a===ie.id?"active":""}`,onClick:()=>$(ie.id),children:[e.jsx("span",{className:"category-item-icon",children:ie.icon}),e.jsx("span",{className:"category-item-label",children:ie.label})]},ie.id))})]},q.id))})]}),e.jsxs("button",{className:"filters-toggle-btn",onClick:()=>d(!o),"aria-expanded":o,children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),e.jsx("span",{children:"Filters"}),ee()>0&&e.jsx("span",{className:"filter-count-badge",children:ee()})]}),e.jsxs("span",{className:"results-count-inline",children:[V.length," report",V.length!==1?"s":""]})]}),e.jsx("div",{className:"reports-grid-container",children:e.jsxs("div",{className:"reports-grid",children:[V.map(q=>e.jsx(Ese,{id:q.id,title:q.title,description:q.description,icon:q.icon,path:q.path,parameters:q.parameters,indicators:q.indicators},q.id)),V.length===0&&e.jsxs("div",{className:"reports-empty-state",children:[e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("h3",{children:"No reports found"}),e.jsx("p",{children:"Try adjusting your search or filter criteria"})]})]})})]})]})})},Ise=()=>{const{logout:r,permissions:t}=Yn(),n=jn(),[a,s]=C.useState(""),[i,c]=C.useState(!1),o=()=>{c(!i)},d=xs(t,n.pathname),u=[{id:"invoice-generation",title:"Invoice Generation & Printing",description:"Generate and print invoices for services",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),path:"/report/invoice"},{id:"unbilled-services",title:"Unbilled Services Report",description:"View services that are yet to be billed",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/invoice"},{id:"outstanding-payments",title:"Outstanding Payments Report",description:"Track outstanding payment amounts",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/billing-finance/outstanding-payments"},{id:"pending-payments",title:"Pending Payments Report (Period & Executive-Wise)",description:"View pending payments by period and executive",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/payment"},{id:"cost-revenue-analysis",title:"Cost & Revenue Analysis Report",description:"Analyze costs and revenue trends",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/revenue"}].filter(h=>h.title.toLowerCase().includes(a.toLowerCase())||h.description.toLowerCase().includes(a.toLowerCase()));return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${i?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!i&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:o,"aria-label":i?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:i?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:d.map(h=>e.jsx("li",{children:e.jsxs(Hr,{to:h.path,className:`nav-link ${h.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:h.icon}),!i&&e.jsx("span",{className:"nav-label",children:h.label})]})},h.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Hr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!i&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!i&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(_a,{title:"Billing & Finance Reports",subtitle:"Manage your billing and finance reports"}),e.jsxs("div",{className:"master-page",children:[e.jsx("div",{className:"master-header",children:e.jsxs("div",{className:"master-title-section",children:[e.jsx("h1",{className:"master-title",children:"Billing & Finance Reports"}),e.jsx("p",{className:"master-subtitle",children:"Manage your billing and finance reports"})]})}),e.jsx("div",{className:"master-search-section",children:e.jsxs("div",{className:"master-search-box",children:[e.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:a,onChange:h=>s(h.target.value)})]})}),e.jsx("div",{className:"master-grid",children:u.map(h=>e.jsxs(Hr,{to:h.path,className:"master-card",children:[e.jsx("div",{className:"master-card-icon",children:h.icon}),e.jsx("h3",{className:"master-card-title",children:h.title}),e.jsx("p",{className:"master-card-description",children:h.description})]},h.id))})]})]})]})},Tse=()=>{const{logout:r,permissions:t}=Yn(),n=jn(),[a,s]=C.useState(""),[i,c]=C.useState(!1),o=()=>{c(!i)},d=xs(t,n.pathname),u=[{id:"route-trip-sheet",title:"Route Trip Sheet / Trip Manifest",description:"View route trip sheets and trip manifests",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),path:"/report/operations-logistics/route-trip-sheet"},{id:"waste-collection-transactions",title:"Waste Collection Transactions",description:"Track waste collection transaction details",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/operations-logistics/waste-collection-transactions"},{id:"missed-collection",title:"Missed Collection Report",description:"View reports of missed waste collections",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/operations-logistics/missed-collection"},{id:"pcb-zone-waste-generation",title:"PCB Zone-Wise Waste Generation Report",description:"Analyze waste generation by PCB zones",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/operations-logistics/pcb-zone-waste-generation"}].filter(h=>h.title.toLowerCase().includes(a.toLowerCase())||h.description.toLowerCase().includes(a.toLowerCase()));return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${i?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!i&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:o,"aria-label":i?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:i?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:d.map(h=>e.jsx("li",{children:e.jsxs(Hr,{to:h.path,className:`nav-link ${h.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:h.icon}),!i&&e.jsx("span",{className:"nav-label",children:h.label})]})},h.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Hr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!i&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!i&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(_a,{title:"Operations & Logistics",subtitle:"Manage your operations and logistics reports"}),e.jsxs("div",{className:"master-page",children:[e.jsx("div",{className:"master-header",children:e.jsxs("div",{className:"master-title-section",children:[e.jsx("h1",{className:"master-title",children:"Operations & Logistics"}),e.jsx("p",{className:"master-subtitle",children:"Manage your operations and logistics reports"})]})}),e.jsx("div",{className:"master-search-section",children:e.jsxs("div",{className:"master-search-box",children:[e.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:a,onChange:h=>s(h.target.value)})]})}),e.jsx("div",{className:"master-grid",children:u.map(h=>e.jsxs(Hr,{to:h.path,className:"master-card",children:[e.jsx("div",{className:"master-card-icon",children:h.icon}),e.jsx("h3",{className:"master-card-title",children:h.title}),e.jsx("p",{className:"master-card-description",children:h.description})]},h.id))})]})]})]})},kse=()=>{const{logout:r,permissions:t}=Yn(),n=jn(),[a,s]=C.useState(""),[i,c]=C.useState(!1),o=()=>{c(!i)},d=xs(t,n.pathname),u=[{id:"hcf-service-history",title:"HCF Service History Report",description:"View complete service history for Healthcare Facilities",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),path:"/report/hcf-compliance/service-history"},{id:"hcf-status-report",title:"Active / Inactive HCF Status Report",description:"Monitor active and inactive Healthcare Facility status",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/hcf-compliance/status-report"},{id:"agreements-renewal",title:"Agreements Due for Renewal (Current Month)",description:"Track agreements that need renewal this month",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/hcf-compliance/agreements-renewal"},{id:"training-certification",title:"Training & Certification Records",description:"Manage training and certification documentation",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/hcf-compliance/training-certification"}].filter(h=>h.title.toLowerCase().includes(a.toLowerCase())||h.description.toLowerCase().includes(a.toLowerCase()));return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${i?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!i&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:o,"aria-label":i?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:i?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:d.map(h=>e.jsx("li",{children:e.jsxs(Hr,{to:h.path,className:`nav-link ${h.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:h.icon}),!i&&e.jsx("span",{className:"nav-label",children:h.label})]})},h.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Hr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!i&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!i&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(_a,{title:"HCF & Compliance",subtitle:"Manage your HCF and compliance reports"}),e.jsxs("div",{className:"master-page",children:[e.jsx("div",{className:"master-header",children:e.jsxs("div",{className:"master-title-section",children:[e.jsx("h1",{className:"master-title",children:"HCF & Compliance"}),e.jsx("p",{className:"master-subtitle",children:"Manage your HCF and compliance reports"})]})}),e.jsx("div",{className:"master-search-section",children:e.jsxs("div",{className:"master-search-box",children:[e.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:a,onChange:h=>s(h.target.value)})]})}),e.jsx("div",{className:"master-grid",children:u.map(h=>e.jsxs(Hr,{to:h.path,className:"master-card",children:[e.jsx("div",{className:"master-card-icon",children:h.icon}),e.jsx("h3",{className:"master-card-title",children:h.title}),e.jsx("p",{className:"master-card-description",children:h.description})]},h.id))})]})]})]})},_se=()=>{const[r,t]=C.useState({page:1,pageSize:25,invoiceFromDate:"",invoiceToDate:"",companyId:"",hcfId:"",status:"All",billingType:"All",searchText:"",sortBy:"invoiceDate",sortOrder:"DESC"}),[n,a]=C.useState({invoiceFromDate:"",invoiceToDate:"",companyId:"",hcfId:"",status:"All",billingType:"All"}),s=C.useCallback((f,A)=>{t(g=>({...g,[f]:A}))},[]),i=C.useCallback((f,A)=>{a(g=>({...g,[f]:A}))},[]),c=C.useCallback(()=>{t(f=>({...f,invoiceFromDate:n.invoiceFromDate||"",invoiceToDate:n.invoiceToDate||"",companyId:n.companyId||"",hcfId:n.hcfId||"",status:n.status||"All",billingType:n.billingType||"All",page:1}))},[n]),o=C.useCallback(()=>{const f={page:1,pageSize:r.pageSize||25,invoiceFromDate:"",invoiceToDate:"",companyId:"",hcfId:"",status:"All",billingType:"All",searchText:"",sortBy:"invoiceDate",sortOrder:"DESC"};t(f),a({invoiceFromDate:"",invoiceToDate:"",companyId:"",hcfId:"",status:"All",billingType:"All"})},[r.pageSize]),d=C.useCallback((f,A)=>{t(g=>({...g,page:f,...A!==void 0&&{pageSize:A}}))},[]),l=C.useCallback(f=>{t(A=>({...A,searchText:f,page:1}))},[]),u=C.useCallback(()=>{var f;return!!(r.invoiceFromDate||r.invoiceToDate||r.companyId||r.hcfId||r.status&&r.status!=="All"||r.billingType&&r.billingType!=="All"||(f=r.searchText)!=null&&f.trim())},[r]),h=C.useCallback(()=>{var A;const f={page:r.page||1,pageSize:r.pageSize||25,sortBy:r.sortBy||"invoiceDate",sortOrder:r.sortOrder||"DESC"};return r.invoiceFromDate&&(f.invoiceFromDate=r.invoiceFromDate),r.invoiceToDate&&(f.invoiceToDate=r.invoiceToDate),r.companyId&&(f.companyId=r.companyId),r.hcfId&&(f.hcfId=r.hcfId),r.status&&r.status!=="All"&&(f.status=r.status),r.billingType&&r.billingType!=="All"&&(f.billingType=r.billingType),(A=r.searchText)!=null&&A.trim()&&(f.searchText=r.searchText.trim()),f},[r]);return{filters:r,pendingFilters:n,updateFilter:s,updatePendingFilter:i,applyFilters:c,clearFilters:o,updatePagination:d,updateSearchText:l,hasFiltersApplied:u,buildApiFilters:h}},pC=()=>{const r=jn();qa();const{filters:t,pendingFilters:n,updatePendingFilter:a,applyFilters:s,clearFilters:i,updatePagination:c,updateSearchText:o,hasFiltersApplied:d,buildApiFilters:l}=_se(),[u,h]=C.useState(!1),f=t.searchText||"",[A,g]=C.useState([]),[m,x]=C.useState([]),[y,j]=C.useState([]),[b,S]=C.useState([]),[w,E]=C.useState(!1),[I,L]=C.useState(!1),[J,ae]=C.useState(null),G=t.page||1,le=t.pageSize||25,V=C.useRef(null),me=C.useRef(null),[$,ee]=C.useState(null),[we,R]=C.useState(!1),q=C.useRef(null),[ie,Z]=C.useState({totalInvoices:0,totalAmount:0,paidAmount:0,balanceAmount:0});C.useEffect(()=>{const Le=it=>{if(we&&q.current&&!q.current.contains(it.target)){const Wt=document.querySelector(".export-dropdown-menu");Wt&&!Wt.contains(it.target)&&R(!1)}};return document.addEventListener("mousedown",Le),()=>{document.removeEventListener("mousedown",Le)}},[we]),C.useEffect(()=>{(async()=>{try{const[it,Wt]=await Promise.all([ha.getAllCompanies(),Mi.getAllHcfs()]);g(it),x(Wt)}catch(it){console.error("Error loading master data:",it)}})()},[]);const D=t.companyId?m.filter(Le=>Le.companyId===t.companyId):m,ue=()=>{if(!d())return"No filters applied. Select a date range or search to view invoices.";const Le=[];if(t.invoiceFromDate&&t.invoiceToDate){const it=new Date(t.invoiceFromDate),Wt=new Date(t.invoiceToDate),qe=new Date,St=qe.getMonth(),_t=qe.getFullYear();if(it.getMonth()===St&&it.getFullYear()===_t&&Wt.getMonth()===St&&Wt.getFullYear()===_t)Le.push("Current Month");else{const ar=it.toLocaleDateString("en-US",{month:"short",day:"numeric"}),en=Wt.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});Le.push(`${ar} - ${en}`)}}else if(t.invoiceFromDate||t.invoiceToDate){if(t.invoiceFromDate){const it=new Date(t.invoiceFromDate);Le.push(`From ${it.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}if(t.invoiceToDate){const it=new Date(t.invoiceToDate);Le.push(`To ${it.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}}if(t.companyId){const it=A.find(Wt=>Wt.id===t.companyId);Le.push(it?it.companyName:"Selected Company")}else Le.push("All Companies");if(t.hcfId){const it=D.find(Wt=>Wt.id===t.hcfId);Le.push(it?it.hcfName:"Selected HCF")}else Le.push("All HCFs");return t.status&&t.status!=="All"?Le.push(t.status):Le.push("All Status"),`Showing invoices for: ${Le.join("  ")}`},te=[{value:"All",label:"All Status"},{value:"Draft",label:"Draft"},{value:"Generated",label:"Generated"},{value:"Partially Paid",label:"Partially Paid"},{value:"Paid",label:"Paid"},{value:"Cancelled",label:"Cancelled"}],ye=[{value:"All",label:"All Types"},{value:"Monthly",label:"Monthly"},{value:"Quarterly",label:"Quarterly"},{value:"Yearly",label:"Yearly"}],pe=Le=>{S(Le),je(Le)};C.useEffect(()=>{var Le;!I&&!w&&!((Le=t.searchText)!=null&&Le.trim())&&!d()&&he()},[]),C.useEffect(()=>{var it;if(w||!I&&!((it=t.searchText)!=null&&it.trim())&&!d())return;const Le=setTimeout(()=>{w||he()},500);return()=>clearTimeout(Le)},[t.searchText,t.invoiceFromDate,t.invoiceToDate,t.companyId,t.hcfId,t.status,t.billingType,t.page,t.pageSize]);const je=Le=>{const it=Le.length,Wt=Le.reduce((_t,ar)=>_t+(ar.invoiceValue||0),0),qe=Le.reduce((_t,ar)=>_t+(ar.totalPaidAmount||0),0),St=Le.reduce((_t,ar)=>_t+(ar.balanceAmount||0),0);Z({totalInvoices:it,totalAmount:Wt,paidAmount:qe,balanceAmount:St})},re=async()=>{var it,Wt;s(),h(!1);const Le={page:1,pageSize:t.pageSize||25,sortBy:t.sortBy||"invoiceDate",sortOrder:t.sortOrder||"DESC"};n.invoiceFromDate&&(Le.invoiceFromDate=n.invoiceFromDate),n.invoiceToDate&&(Le.invoiceToDate=n.invoiceToDate),n.companyId&&(Le.companyId=n.companyId),n.hcfId&&(Le.hcfId=n.hcfId),n.status&&n.status!=="All"&&(Le.status=n.status),n.billingType&&n.billingType!=="All"&&(Le.billingType=n.billingType),(it=t.searchText)!=null&&it.trim()&&(Le.searchText=t.searchText.trim()),E(!0),ae(null);try{const qe=await a1(Le);if(!qe||!qe.data||!Array.isArray(qe.data))throw console.error("Invalid response structure:",qe),new Error("Invalid response format from server");if(!qe.meta)throw console.error("Missing meta in response:",qe),new Error("Missing pagination metadata in response");let St=(qe.data||[]).map(Xt=>({id:Xt.invoiceId,invoiceNumber:Xt.invoiceNumber,invoiceDate:Xt.invoiceDate,dueDate:Xt.dueDate,companyId:Xt.companyId,companyName:Xt.companyName,hcfId:Xt.hcfId,hcfName:Xt.hcfName,hcfCode:Xt.hcfCode,billingType:Xt.billingType,invoiceValue:Xt.invoiceValue,totalPaidAmount:Xt.totalPaidAmount,balanceAmount:Xt.balanceAmount,status:Xt.status}));j(St),pe(St),L(!0);const _t=St.reduce((Xt,Yr)=>Xt+(Yr.invoiceValue||0),0),ar=St.reduce((Xt,Yr)=>Xt+(Yr.totalPaidAmount||0),0),en=St.reduce((Xt,Yr)=>Xt+(Yr.balanceAmount||0),0);Z({totalInvoices:((Wt=qe.meta)==null?void 0:Wt.totalRecords)||0,totalAmount:_t,paidAmount:ar,balanceAmount:en})}catch(qe){console.error("Error applying filters:",qe),ae(qe.message||"Failed to apply filters")}finally{E(!1)}},he=async()=>{var Le,it,Wt,qe,St;E(!0),ae(null);try{const _t=l(),ar=await a1(_t);if(_t.searchText&&ar.data.length===0&&((Le=ar==null?void 0:ar.meta)==null?void 0:Le.state)==="HAS_RESULTS"&&((it=ar==null?void 0:ar.meta)==null?void 0:it.totalRecords)===0)try{const ot={..._t};delete ot.searchText,ot.page=1,ot.pageSize=100;let Ht=[],$t=1;const Dr=5;for(;$t<=Dr;){ot.page=$t;const Fr=await a1(ot);if(Fr!=null&&Fr.data&&Fr.data.length>0){if(Ht=Ht.concat(Fr.data),Fr.data.length<ot.pageSize)break;$t++}else break}if(Ht.length>0){const Fr=_t.searchText.toLowerCase().trim(),Jr=Ht.filter(Wr=>{const Ln=(Wr.invoiceNumber||"").toLowerCase(),Vr=(Wr.companyName||"").toLowerCase(),Ur=(Wr.hcfCode||"").toLowerCase(),Cn=(Wr.status||"").toLowerCase();return Ln.includes(Fr)||Vr.includes(Fr)||Ur.includes(Fr)||Cn.includes(Fr)||Wr.invoiceValue&&Wr.invoiceValue.toString().includes(Fr)});Jr.length>0&&(ar.data=Jr,ar.meta&&(ar.meta.totalRecords=Jr.length,ar.meta.dataCount=Jr.length,ar.meta.state=Jr.length>0?"HAS_RESULTS":"NO_RESULTS",ar.meta.totalPages=Math.ceil(Jr.length/(_t.pageSize||25))))}}catch(ot){console.error("Client-side fallback failed:",ot)}if(!ar||!ar.data||!Array.isArray(ar.data))throw console.error("Invalid response structure:",ar),new Error("Invalid response format from server");if(!ar.meta)throw console.error("Missing meta in response:",ar),new Error("Missing pagination metadata in response");const Xt=(ar.data||[]).map(ot=>({invoiceId:ot.invoiceId,companyId:ot.companyId,hcfId:ot.hcfId,invoiceNumber:ot.invoiceNumber,invoiceDate:ot.invoiceDate,dueDate:ot.dueDate,billingType:ot.billingType,billingDays:null,billingOption:"Bed-wise",generationType:"Manual",bedCount:null,bedRate:null,weightInKg:null,kgRate:null,lumpsumAmount:null,taxableValue:0,igst:0,cgst:0,sgst:0,roundOff:0,invoiceValue:ot.invoiceValue,totalPaidAmount:ot.totalPaidAmount,balanceAmount:ot.balanceAmount,status:ot.status,isLocked:!1,lockedAfterDate:null,financialYear:"",sequenceNumber:0,billingPeriodStart:null,billingPeriodEnd:null,notes:null,createdBy:null,createdOn:new Date().toISOString(),modifiedBy:null,modifiedOn:new Date().toISOString(),companyName:ot.companyName,companyCode:ot.companyCode,hcfName:ot.hcfName,hcfCode:ot.hcfCode}))||[];j(()=>Xt),S(()=>Xt),L(()=>!0),ar.meta&&!f.trim()?c(ar.meta.page):ar.meta&&f.trim()&&c(G===1?1:ar.meta.page);const Yr=ar.data||[],Qr=Yr.reduce((ot,Ht)=>ot+(Ht.invoiceValue||0),0),He=Yr.reduce((ot,Ht)=>ot+(Ht.totalPaidAmount||0),0),Rt=Yr.reduce((ot,Ht)=>ot+(Ht.balanceAmount||0),0);Z({totalInvoices:((Wt=ar.meta)==null?void 0:Wt.totalRecords)||0,totalAmount:Qr,paidAmount:He,balanceAmount:Rt}),h(!1),setTimeout(()=>{var ot;(ot=V.current)==null||ot.scrollIntoView({behavior:"smooth",block:"start"})},100)}catch(_t){console.error("Error generating report:",_t),ae(_t.message||"Failed to generate report"),((qe=_t.message)!=null&&qe.includes("Invalid response")||(St=_t.message)!=null&&St.includes("Missing"))&&(j([]),S([]),L(!1)),console.error("Report error:",_t)}finally{E(!1)}},X=async()=>{i(),h(!1),await he()},Ae=Le=>Le==null?"0.00":`${Le.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`,Be=Le=>Le?new Date(Le).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",Me=Le=>{switch(Le){case"Paid":return"status-badge status-badge--paid";case"Partially Paid":return"status-badge status-badge--partial";case"Generated":case"Unpaid":return"status-badge status-badge--unpaid";case"Draft":return"status-badge status-badge--draft";case"Cancelled":case"Overdue":return"status-badge status-badge--overdue";default:return"status-badge status-badge--unpaid"}},$e=I&&ie.totalInvoices>0?Math.ceil(ie.totalInvoices/le):0,ne=(G-1)*le,Pe=ne+((b==null?void 0:b.length)||0),_e=b||[],rt=async Le=>{if(b.length===0){alert("No data to export");return}alert(`Exporting ${b.length} invoices as ${Le.toUpperCase()}`)},et=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return e.jsxs(Ec,{navItems:et,children:[e.jsx(_a,{title:"Invoice Generation & Printing Report",subtitle:ue()}),e.jsx("div",{className:"invoice-report-page",children:e.jsxs("div",{className:"report-content-wrapper",children:[e.jsxs("div",{className:"search-actions-row",children:[e.jsxs("div",{className:`search-container ${w?"loading":""}`,children:[e.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Invoice Number, Company, HCF, Status...",value:f,onChange:Le=>o(Le.target.value),onKeyDown:Le=>{Le.key==="Enter"&&!w&&(Le.preventDefault(),he())},disabled:w}),f&&!w&&e.jsx("button",{className:"clear-search-btn",onClick:async()=>{o(""),(I||d())&&await he()},title:"Clear search",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("div",{className:"action-buttons-group",children:[e.jsxs("button",{type:"button",ref:me,className:`btn btn-filters-toggle ${u?"active":""} ${w?"loading":""}`,onClick:()=>{if(!w){if(R(!1),u||(a("companyId",t.companyId||""),a("hcfId",t.hcfId||""),a("status",t.status||"All"),a("billingType",t.billingType||"All"),a("invoiceFromDate",t.invoiceFromDate||""),a("invoiceToDate",t.invoiceToDate||"")),me.current){const Le=me.current.getBoundingClientRect();ee({top:Le.bottom+8,left:Le.left})}h(!u)}},disabled:w,title:"Open filters",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[t.companyId,t.hcfId,t.status&&t.status!=="All"?t.status:"",t.billingType&&t.billingType!=="All"?t.billingType:"",t.invoiceFromDate,t.invoiceToDate].filter(Boolean).length>0&&e.jsx("span",{className:"filter-count",children:[t.companyId,t.hcfId,t.status&&t.status!=="All"?t.status:"",t.billingType&&t.billingType!=="All"?t.billingType:"",t.invoiceFromDate,t.invoiceToDate].filter(Boolean).length})]}),e.jsxs("div",{className:"export-dropdown-wrapper",children:[e.jsxs("button",{type:"button",ref:q,className:`btn btn-export ${we?"active":""}`,onClick:()=>{h(!1),R(!we)},disabled:w||b.length===0,title:"Export",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),e.jsx("polyline",{points:"7 10 12 15 17 10"}),e.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Export",e.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"dropdown-arrow",children:e.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),we&&e.jsxs("div",{className:"export-dropdown-menu",children:[e.jsxs("button",{type:"button",className:"export-option",onClick:()=>{rt("pdf"),R(!1)},children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#ef4444",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),"PDF"]}),e.jsxs("button",{type:"button",className:"export-option",onClick:()=>{rt("excel"),R(!1)},children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#22c55e",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),"Excel"]}),e.jsxs("button",{type:"button",className:"export-option",onClick:()=>{rt("csv"),R(!1)},children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#3b82f6",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),"CSV"]})]})]})]})]}),u&&Wc.createPortal(e.jsx("div",{className:"filter-modal-overlay",onClick:()=>{h(!1),ee(null)},children:e.jsxs("div",{className:"filter-modal-content",onClick:Le=>Le.stopPropagation(),style:$?{position:"fixed",top:`${$.top}px`,left:`${$.left}px`,margin:0}:{},children:[e.jsxs("div",{className:"filter-modal-header",children:[e.jsx("h3",{className:"filter-modal-title",children:"Filters"}),e.jsxs("div",{className:"filter-modal-actions",children:[e.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{a("companyId",""),a("hcfId",""),a("invoiceFromDate",""),a("invoiceToDate",""),a("status","All"),a("billingType","All")},children:"Clear Filters"}),e.jsx("button",{className:"filter-modal-close-btn",onClick:()=>h(!1),title:"Close filters",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),e.jsx("div",{className:"filter-modal-body",children:e.jsxs("div",{className:"filter-modal-grid",children:[e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Invoice Date"}),e.jsxs("div",{className:"filter-date-range",children:[e.jsx("input",{type:"date",className:"filter-modal-input",value:n.invoiceFromDate||"",onChange:Le=>a("invoiceFromDate",Le.target.value),placeholder:"Select Date"}),e.jsx("span",{className:"filter-date-separator",children:"to"}),e.jsx("input",{type:"date",className:"filter-modal-input",value:n.invoiceToDate||"",onChange:Le=>a("invoiceToDate",Le.target.value),placeholder:"Select Date"})]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Company Name"}),e.jsxs("select",{className:"filter-modal-select",value:n.companyId||"",onChange:Le=>{a("companyId",Le.target.value),a("hcfId","")},children:[e.jsx("option",{value:"",children:"Select Company Name"}),A.map(Le=>e.jsxs("option",{value:Le.id,children:[Le.companyCode," - ",Le.companyName]},Le.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),e.jsxs("select",{className:"filter-modal-select",value:n.hcfId||"",onChange:Le=>a("hcfId",Le.target.value),disabled:!n.companyId,children:[e.jsx("option",{value:"",children:"Select HCF Name"}),(n.companyId?m.filter(Le=>Le.companyId===n.companyId):m).map(Le=>e.jsxs("option",{value:Le.id,children:[Le.hcfCode," - ",Le.hcfName]},Le.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Status"}),e.jsx("select",{className:"filter-modal-select",value:n.status||"All",onChange:Le=>a("status",Le.target.value),children:te.map(Le=>e.jsx("option",{value:Le.value,children:Le.label},Le.value))})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Billing Type"}),e.jsx("select",{className:"filter-modal-select",value:n.billingType||"All",onChange:Le=>a("billingType",Le.target.value),children:ye.map(Le=>e.jsx("option",{value:Le.value,children:Le.label},Le.value))})]})]})}),e.jsx("div",{className:"filter-modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await re(),h(!1)},disabled:w,children:w?e.jsxs(e.Fragment,{children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:e.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),e.jsxs("div",{className:"results-section",ref:V,children:[e.jsx("div",{className:"table-scroll-container",children:e.jsxs("table",{className:"invoice-table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{children:"INVOICE NO"}),e.jsx("th",{children:"COMPANY"}),e.jsx("th",{children:"HCF"}),e.jsx("th",{children:"INVOICE DATE"}),e.jsx("th",{children:"BILLING TYPE"}),e.jsx("th",{className:"text-right",children:"INVOICE AMOUNT"}),e.jsx("th",{className:"text-right",children:"PAID AMOUNT"}),e.jsx("th",{className:"text-right",children:"BALANCE"}),e.jsx("th",{className:"text-center",children:"STATUS"})]})}),e.jsx("tbody",{className:"table-body",children:w?Array.from({length:5}).map((Le,it)=>e.jsxs("tr",{className:"table-row-skeleton",children:[e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{className:"text-right",children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{className:"text-right",children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{className:"text-right",children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${it}`)):I?_e.length===0?e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:9,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No invoices found"}),e.jsx("p",{className:"empty-state-text",children:f.trim()?`No invoices match "${f.trim()}". Try adjusting your search or filters.`:d()?"No invoices match the current filters. Try adjusting your filter criteria.":"No invoices available. Use the search bar or apply filters to view reports."}),(d()||f.trim())&&e.jsx("div",{className:"empty-state-action",children:e.jsx("button",{onClick:X,children:"Clear Filters"})})]})})}):_e.map((Le,it)=>e.jsxs("tr",{className:it%2===0?"table-row-even":"table-row-odd",children:[e.jsx("td",{className:"invoice-number-cell",children:Le.invoiceNumber}),e.jsx("td",{children:Le.companyName||"N/A"}),e.jsx("td",{children:Le.hcfCode||"N/A"}),e.jsx("td",{children:Be(Le.invoiceDate)}),e.jsx("td",{children:Le.billingType}),e.jsx("td",{className:"text-right",children:Ae(Le.invoiceValue)}),e.jsx("td",{className:"text-right",children:Ae(Le.totalPaidAmount)}),e.jsx("td",{className:"text-right",children:Ae(Le.balanceAmount)}),e.jsx("td",{className:"text-center",children:e.jsx("span",{className:Me(Le.status),children:Le.status})})]},Le.invoiceId)):e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:9,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No invoices found"}),e.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view invoice reports"})]})})})})]})}),e.jsxs("div",{className:"pagination-controls",children:[e.jsx("div",{className:"pagination-info",children:I&&b.length>0?`Showing ${ne+1} to ${Pe} of ${ie.totalInvoices} items`:"Showing 0 to 0 of 0 items"}),e.jsxs("div",{className:"pagination-right",children:[e.jsxs("select",{className:"rows-per-page-select",value:le,disabled:!I||b.length===0,onChange:async Le=>{c(1,Number(Le.target.value)),I&&await he()},children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]}),e.jsxs("div",{className:"pagination-numbers",children:[e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Le=Math.max(1,G-1);c(Le),I&&await he()},disabled:G===1||!I||b.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const Le=[];let Wt=Math.max(1,G-Math.floor(2.5)),qe=Math.min($e,Wt+5-1);qe-Wt<4&&(Wt=Math.max(1,qe-5+1)),Wt>1&&(Le.push(1),Wt>2&&Le.push("..."));for(let St=Wt;St<=qe;St++)Le.push(St);return qe<$e&&(qe<$e-1&&Le.push("..."),Le.push($e)),Le.map((St,_t)=>{if(St==="...")return e.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${_t}`);const ar=St;return e.jsx("button",{className:`pagination-page-btn ${G===ar?"active":""}`,onClick:async()=>{c(ar),I&&await he()},disabled:!I||b.length===0,children:ar},ar)})})(),e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Le=Math.min($e,G+1);c(Le),I&&await he()},disabled:G===$e||$e===0||!I||b.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})})]})},Ose=()=>{const r=jn(),t=qa(),[n,a]=C.useState({page:1,pageSize:25,fromDate:"",toDate:"",companyId:"",hcfId:"",status:"All",billingType:"All",searchText:"",sortBy:"startDate",sortOrder:"DESC"}),[s,i]=C.useState({fromDate:"",toDate:"",companyId:"",hcfId:"",status:"All",billingType:"All"}),[c,o]=C.useState(!1),d=n.searchText||"",[l,u]=C.useState([]),[h,f]=C.useState([]),[A,g]=C.useState([]),[m,x]=C.useState([]),[y,j]=C.useState(!1),[b,S]=C.useState(!1),[w,E]=C.useState(null),I=n.page||1,L=n.pageSize||25,J=C.useRef(null),ae=C.useRef(null),[G,le]=C.useState(null),[V,me]=C.useState({totalContracts:0});C.useEffect(()=>{(async()=>{try{const[X,Ae]=await Promise.all([ha.getAllCompanies(),Mi.getAllHcfs()]);u(X),f(Ae)}catch(X){console.error("Error loading master data:",X)}})()},[]);const $=n.companyId?h.filter(he=>he.companyId===n.companyId):h,ee=()=>{var he;return!!(n.fromDate||n.toDate||n.companyId||n.hcfId||n.status&&n.status!=="All"||n.billingType&&n.billingType!=="All"||(he=n.searchText)!=null&&he.trim())},we=()=>{if(!ee())return"No filters applied. Select a date range or search to view contracts.";const he=[];if(n.fromDate&&n.toDate){const X=new Date(n.fromDate),Ae=new Date(n.toDate),Be=X.toLocaleDateString("en-US",{month:"short",day:"numeric"}),Me=Ae.toLocaleDateString("en-US",{month:"short",day:"numeric"});he.push(`Date: ${Be}${Me}`)}if(n.companyId){const X=l.find(Ae=>Ae.id===n.companyId);X&&he.push(`Company: ${X.companyName}`)}if(n.hcfId){const X=$.find(Ae=>Ae.id===n.hcfId);X&&he.push(`HCF: ${X.hcfCode}`)}return n.status&&n.status!=="All"&&he.push(`Status: ${n.status}`),he.join("  ")},R=[{value:"All",label:"All Status"},{value:"Draft",label:"Draft"},{value:"Active",label:"Active"},{value:"Expired",label:"Expired"}],q=[{value:"All",label:"All Types"},{value:"Bed",label:"Bed"},{value:"Kg",label:"Kg"},{value:"Lumpsum",label:"Lumpsum"}],ie=async()=>{var he;j(!0),E(null);try{const X={companyId:n.companyId||void 0,status:n.status!=="All"?n.status:void 0};let Ae=await dA.getAllContracts(X.companyId,X.status);if(n.hcfId&&(Ae=Ae.filter(ne=>ne.hcfId===n.hcfId)),n.fromDate){const ne=new Date(n.fromDate);Ae=Ae.filter(Pe=>new Date(Pe.startDate)>=ne)}if(n.toDate){const ne=new Date(n.toDate);ne.setHours(23,59,59,999),Ae=Ae.filter(Pe=>new Date(Pe.startDate)<=ne)}if(n.billingType&&n.billingType!=="All"&&(Ae=Ae.filter(ne=>ne.billingType===n.billingType)),(he=n.searchText)!=null&&he.trim()){const ne=n.searchText.toLowerCase().trim();Ae=Ae.filter(Pe=>{const _e=(Pe.contractNum||"").toLowerCase(),rt=l.find(Wt=>Wt.id===Pe.companyId),et=((rt==null?void 0:rt.companyName)||"").toLowerCase(),Le=h.find(Wt=>Wt.id===Pe.hcfId),it=((Le==null?void 0:Le.hcfCode)||"").toLowerCase();return _e.includes(ne)||et.includes(ne)||it.includes(ne)})}Ae.sort((ne,Pe)=>{const _e=ne[n.sortBy]||"",rt=Pe[n.sortBy]||"";return n.sortOrder==="ASC"?_e>rt?1:-1:_e<rt?1:-1});const Be=(I-1)*L,Me=Be+L,$e=Ae.slice(Be,Me);g(Ae),x($e),S(!0),me({totalContracts:Ae.length})}catch(X){console.error("Error loading contracts:",X),E(X.message||"Failed to load contract data"),g([]),x([])}finally{j(!1)}},Z=async()=>{a(he=>({...he,fromDate:s.fromDate||"",toDate:s.toDate||"",companyId:s.companyId||"",hcfId:s.hcfId||"",status:s.status||"All",billingType:s.billingType||"All",page:1})),o(!1),await ie()},D=async()=>{a({page:1,pageSize:25,fromDate:"",toDate:"",companyId:"",hcfId:"",status:"All",billingType:"All",searchText:"",sortBy:"startDate",sortOrder:"DESC"}),i({fromDate:"",toDate:"",companyId:"",hcfId:"",status:"All",billingType:"All"}),o(!1),await ie()};C.useEffect(()=>{if(l.length>0||!n.companyId){const he=setTimeout(()=>{ie()},500);return()=>clearTimeout(he)}},[n,l]);const ue=he=>he?new Date(he).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",te=he=>{switch(he){case"Active":return"status-badge status-badge--paid";case"Draft":return"status-badge status-badge--draft";case"Expired":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},ye=b&&V.totalContracts>0?Math.ceil(V.totalContracts/L):0,pe=(I-1)*L,je=Math.min(pe+m.length,V.totalContracts),re=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return e.jsx(Ec,{navItems:re,children:e.jsxs("div",{className:"invoice-report-page",children:[e.jsxs("div",{className:"report-breadcrumb",children:[e.jsxs("button",{className:"back-button",onClick:()=>t("/report"),children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M19 12H5"}),e.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Reports"}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Contract"})]}),e.jsxs("div",{className:"report-content-wrapper",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Contract Report"}),!ee()&&e.jsx("div",{className:"page-context-subtitle",children:we()})]}),e.jsxs("div",{className:"search-actions-row",children:[e.jsxs("div",{className:`search-container ${y?"loading":""}`,children:[e.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Contract Number, Company, HCF",value:d,onChange:he=>a(X=>({...X,searchText:he.target.value,page:1})),onKeyDown:he=>{he.key==="Enter"&&!y&&(he.preventDefault(),ie())},disabled:y}),d&&!y&&e.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(he=>({...he,searchText:"",page:1})),(b||ee())&&await ie()},title:"Clear search",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("button",{type:"button",ref:ae,className:`btn btn-filters-toggle ${c?"active":""} ${y?"loading":""}`,onClick:()=>{if(!y){if(c||i({fromDate:n.fromDate||"",toDate:n.toDate||"",companyId:n.companyId||"",hcfId:n.hcfId||"",status:n.status||"All",billingType:n.billingType||"All"}),ae.current){const he=ae.current.getBoundingClientRect();le({top:he.bottom+8,left:he.left})}o(!c)}},disabled:y,title:"Open filters",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfId,n.fromDate,n.toDate,n.status&&n.status!=="All"?n.status:"",n.billingType&&n.billingType!=="All"?n.billingType:""].filter(Boolean).length>0&&e.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfId,n.fromDate,n.toDate,n.status&&n.status!=="All"?n.status:"",n.billingType&&n.billingType!=="All"?n.billingType:""].filter(Boolean).length})]})]}),c&&Wc.createPortal(e.jsx("div",{className:"filter-modal-overlay",onClick:()=>{o(!1),le(null)},children:e.jsxs("div",{className:"filter-modal-content",onClick:he=>he.stopPropagation(),style:G?{position:"fixed",top:`${G.top}px`,left:`${G.left}px`,margin:0}:{},children:[e.jsxs("div",{className:"filter-modal-header",children:[e.jsx("h3",{className:"filter-modal-title",children:"Filters"}),e.jsxs("div",{className:"filter-modal-actions",children:[e.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{i({fromDate:"",toDate:"",companyId:"",hcfId:"",status:"All",billingType:"All"})},children:"Clear Filters"}),e.jsx("button",{className:"filter-modal-close-btn",onClick:()=>o(!1),title:"Close filters",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),e.jsx("div",{className:"filter-modal-body",children:e.jsxs("div",{className:"filter-modal-grid",children:[e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Contract Date"}),e.jsxs("div",{className:"filter-date-range",children:[e.jsx("input",{type:"date",className:"filter-modal-input",value:s.fromDate||"",onChange:he=>i(X=>({...X,fromDate:he.target.value})),placeholder:"From Date"}),e.jsx("span",{className:"filter-date-separator",children:"to"}),e.jsx("input",{type:"date",className:"filter-modal-input",value:s.toDate||"",onChange:he=>i(X=>({...X,toDate:he.target.value})),placeholder:"To Date"})]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Company Name"}),e.jsxs("select",{className:"filter-modal-select",value:s.companyId||"",onChange:he=>{i(X=>({...X,companyId:he.target.value,hcfId:""}))},children:[e.jsx("option",{value:"",children:"Select Company Name"}),l.map(he=>e.jsxs("option",{value:he.id,children:[he.companyCode," - ",he.companyName]},he.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),e.jsxs("select",{className:"filter-modal-select",value:s.hcfId||"",onChange:he=>i(X=>({...X,hcfId:he.target.value})),disabled:!s.companyId,children:[e.jsx("option",{value:"",children:"Select HCF Name"}),(s.companyId?h.filter(he=>he.companyId===s.companyId):h).map(he=>e.jsxs("option",{value:he.id,children:[he.hcfCode," - ",he.hcfName]},he.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Status"}),e.jsx("select",{className:"filter-modal-select",value:s.status||"All",onChange:he=>i(X=>({...X,status:he.target.value})),children:R.map(he=>e.jsx("option",{value:he.value,children:he.label},he.value))})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Billing Type"}),e.jsx("select",{className:"filter-modal-select",value:s.billingType||"All",onChange:he=>i(X=>({...X,billingType:he.target.value})),children:q.map(he=>e.jsx("option",{value:he.value,children:he.label},he.value))})]})]})}),e.jsx("div",{className:"filter-modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await Z(),o(!1)},disabled:y,children:y?e.jsxs(e.Fragment,{children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:e.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),w&&e.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:w}),e.jsxs("div",{className:"results-section",ref:J,children:[e.jsx("div",{className:"table-scroll-container",children:e.jsxs("table",{className:"invoice-table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Contract No"}),e.jsx("th",{children:"Company"}),e.jsx("th",{children:"HCF"}),e.jsx("th",{children:"Start Date"}),e.jsx("th",{children:"End Date"}),e.jsx("th",{children:"Billing Type"}),e.jsx("th",{className:"text-center",children:"Status"})]})}),e.jsx("tbody",{className:"table-body",children:y?Array.from({length:5}).map((he,X)=>e.jsxs("tr",{className:"table-row-skeleton",children:[e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${X}`)):b?m.length===0?e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:7,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No contracts found"}),e.jsx("p",{className:"empty-state-text",children:d.trim()?`No contracts match "${d.trim()}". Try adjusting your search or filters.`:ee()?"No contracts match the current filters. Try adjusting your filter criteria.":"No contracts available. Use the search bar or apply filters to view reports."}),(ee()||d.trim())&&e.jsx("div",{className:"empty-state-action",children:e.jsx("button",{onClick:D,children:"Clear Filters"})})]})})}):m.map((he,X)=>{var Ae,Be;return e.jsxs("tr",{className:X%2===0?"table-row-even":"table-row-odd",children:[e.jsx("td",{className:"invoice-number-cell",children:he.contractNum}),e.jsx("td",{children:((Ae=l.find(Me=>Me.id===he.companyId))==null?void 0:Ae.companyName)||"N/A"}),e.jsx("td",{children:((Be=h.find(Me=>Me.id===he.hcfId))==null?void 0:Be.hcfCode)||"N/A"}),e.jsx("td",{children:ue(he.startDate)}),e.jsx("td",{children:ue(he.endDate)}),e.jsx("td",{children:he.billingType}),e.jsx("td",{className:"text-center",children:e.jsx("span",{className:te(he.status),children:he.status})})]},he.id)}):e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:7,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No contracts found"}),e.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view contract reports."})]})})})})]})}),e.jsxs("div",{className:"pagination-controls",children:[e.jsx("div",{className:"pagination-info",children:b&&m.length>0?`Showing ${pe+1}-${je} of ${V.totalContracts} items`:"Showing 0 of 0 items"}),e.jsxs("div",{className:"pagination-right",children:[e.jsxs("select",{className:"rows-per-page-select",value:L,disabled:!b||m.length===0,onChange:async he=>{a(X=>({...X,page:1,pageSize:Number(he.target.value)}))},children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]}),e.jsxs("div",{className:"pagination-numbers",children:[e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const he=Math.max(1,I-1);a(X=>({...X,page:he}))},disabled:I===1||!b||m.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const he=[];let Ae=Math.max(1,I-Math.floor(2.5)),Be=Math.min(ye,Ae+5-1);Be-Ae<4&&(Ae=Math.max(1,Be-5+1)),Ae>1&&(he.push(1),Ae>2&&he.push("..."));for(let Me=Ae;Me<=Be;Me++)he.push(Me);return Be<ye&&(Be<ye-1&&he.push("..."),he.push(ye)),he.map((Me,$e)=>{if(Me==="...")return e.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${$e}`);const ne=Me;return e.jsx("button",{className:`pagination-page-btn ${I===ne?"active":""}`,onClick:async()=>{a(Pe=>({...Pe,page:ne}))},disabled:!b||m.length===0,children:ne},ne)})})(),e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const he=Math.min(ye,I+1);a(X=>({...X,page:he}))},disabled:I===ye||ye===0||!b||m.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Fse=()=>{const r=jn(),t=qa(),[n,a]=C.useState({page:1,pageSize:25,companyId:"",hcfType:"All",status:"All",stateCode:"",district:"",category:"",searchText:"",sortBy:"hcfCode",sortOrder:"ASC"}),[s,i]=C.useState({companyId:"",hcfType:"All",status:"All",stateCode:"",district:"",category:""}),[c,o]=C.useState(!1),d=n.searchText||"",[l,u]=C.useState([]),[h,f]=C.useState([]),[A,g]=C.useState([]),[m,x]=C.useState(!1),[y,j]=C.useState(!1),[b,S]=C.useState(null),w=n.page||1,E=n.pageSize||25,I=C.useRef(null),L=C.useRef(null),[J,ae]=C.useState(null),[G,le]=C.useState({totalHcfs:0});C.useEffect(()=>{(async()=>{try{const pe=await ha.getAllCompanies();u(pe)}catch(pe){console.error("Error loading master data:",pe)}})()},[]);const V=()=>{var ye;return!!(n.companyId||n.hcfType&&n.hcfType!=="All"||n.status&&n.status!=="All"||n.stateCode||n.district||n.category||(ye=n.searchText)!=null&&ye.trim())},me=()=>{if(!V())return"No filters applied. View all healthcare facilities.";const ye=[];if(n.companyId){const pe=l.find(je=>je.id===n.companyId);pe&&ye.push(`Company: ${pe.companyName}`)}return n.hcfType&&n.hcfType!=="All"&&ye.push(`Type: ${n.hcfType}`),n.status&&n.status!=="All"&&ye.push(`Status: ${n.status}`),n.stateCode&&ye.push(`State: ${n.stateCode}`),n.district&&ye.push(`District: ${n.district}`),n.category&&ye.push(`Category: ${n.category}`),ye.join("  ")},$=[{value:"All",label:"All Types"},{value:"Hospital",label:"Hospital"},{value:"Clinic",label:"Clinic"},{value:"Laboratory",label:"Laboratory"}],ee=[{value:"All",label:"All Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],we=async()=>{var ye;x(!0),S(null);try{let pe=await Mi.getAllHcfs();if(n.companyId&&(pe=pe.filter(X=>X.companyId===n.companyId)),n.hcfType&&n.hcfType!=="All"&&(pe=pe.filter(X=>X.hcfTypeCode===n.hcfType)),n.status&&n.status!=="All"&&(pe=pe.filter(X=>X.status===n.status)),n.stateCode&&(pe=pe.filter(X=>X.stateCode===n.stateCode)),n.district){const X=n.district.toLowerCase().trim();pe=pe.filter(Ae=>Ae.district&&Ae.district.toLowerCase().includes(X))}if(n.category){const X=n.category.toLowerCase().trim();pe=pe.filter(Ae=>Ae.category&&Ae.category.toLowerCase().includes(X))}if((ye=n.searchText)!=null&&ye.trim()){const X=n.searchText.toLowerCase().trim();pe=pe.filter(Ae=>{const Be=(Ae.hcfCode||"").toLowerCase(),Me=(Ae.hcfName||"").toLowerCase(),$e=(Ae.hcfShortName||"").toLowerCase(),ne=l.find(et=>et.id===Ae.companyId),Pe=((ne==null?void 0:ne.companyName)||"").toLowerCase(),_e=(Ae.district||"").toLowerCase(),rt=(Ae.category||"").toLowerCase();return Be.includes(X)||Me.includes(X)||$e.includes(X)||Pe.includes(X)||_e.includes(X)||rt.includes(X)||Ae.pincode&&Ae.pincode.includes(X)||Ae.gstin&&Ae.gstin.toLowerCase().includes(X)})}pe.sort((X,Ae)=>{const Be=X[n.sortBy]||"",Me=Ae[n.sortBy]||"";return n.sortOrder==="ASC"?Be>Me?1:-1:Be<Me?1:-1});const je=(w-1)*E,re=je+E,he=pe.slice(je,re);f(pe),g(he),j(!0),le({totalHcfs:pe.length})}catch(pe){console.error("Error loading HCFs:",pe),S(pe.message||"Failed to load HCF data"),f([]),g([])}finally{x(!1)}},R=async()=>{a(ye=>({...ye,companyId:s.companyId||"",hcfType:s.hcfType||"All",status:s.status||"All",stateCode:s.stateCode||"",district:s.district||"",category:s.category||"",page:1})),o(!1),await we()},q=async()=>{a({page:1,pageSize:25,companyId:"",hcfType:"All",status:"All",stateCode:"",district:"",category:"",searchText:"",sortBy:"hcfCode",sortOrder:"ASC"}),i({companyId:"",hcfType:"All",status:"All",stateCode:"",district:"",category:""}),o(!1),await we()};C.useEffect(()=>{if(l.length>0||!n.companyId){const ye=setTimeout(()=>{we()},500);return()=>clearTimeout(ye)}},[n,l]);const ie=ye=>{switch(ye){case"Active":return"status-badge status-badge--paid";case"Inactive":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},Z=y&&G.totalHcfs>0?Math.ceil(G.totalHcfs/E):0,D=(w-1)*E,ue=Math.min(D+A.length,G.totalHcfs),te=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return e.jsx(Ec,{navItems:te,children:e.jsxs("div",{className:"invoice-report-page",children:[e.jsxs("div",{className:"report-breadcrumb",children:[e.jsxs("button",{className:"back-button",onClick:()=>t("/report"),children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M19 12H5"}),e.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Reports"}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"HCF Master"})]}),e.jsxs("div",{className:"report-content-wrapper",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"HCF Master Report"}),!V()&&e.jsx("div",{className:"page-context-subtitle",children:me()})]}),e.jsxs("div",{className:"search-actions-row",children:[e.jsxs("div",{className:`search-container ${m?"loading":""}`,children:[e.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by HCF Code, HCF Name, Company, District, Category, Pincode, GSTIN",value:d,onChange:ye=>a(pe=>({...pe,searchText:ye.target.value,page:1})),onKeyDown:ye=>{ye.key==="Enter"&&!m&&(ye.preventDefault(),we())},disabled:m}),d&&!m&&e.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(ye=>({...ye,searchText:"",page:1})),(y||V())&&await we()},title:"Clear search",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("button",{type:"button",ref:L,className:`btn btn-filters-toggle ${c?"active":""} ${m?"loading":""}`,onClick:()=>{if(!m){if(c||i({companyId:n.companyId||"",hcfType:n.hcfType||"All",status:n.status||"All",stateCode:n.stateCode||"",district:n.district||"",category:n.category||""}),L.current){const ye=L.current.getBoundingClientRect();ae({top:ye.bottom+8,left:ye.left})}o(!c)}},disabled:m,title:"Open filters",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfType&&n.hcfType!=="All"?n.hcfType:"",n.status&&n.status!=="All"?n.status:"",n.stateCode,n.district,n.category].filter(Boolean).length>0&&e.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfType&&n.hcfType!=="All"?n.hcfType:"",n.status&&n.status!=="All"?n.status:"",n.stateCode,n.district,n.category].filter(Boolean).length})]})]}),c&&Wc.createPortal(e.jsx("div",{className:"filter-modal-overlay",onClick:()=>{o(!1),ae(null)},children:e.jsxs("div",{className:"filter-modal-content",onClick:ye=>ye.stopPropagation(),style:J?{position:"fixed",top:`${J.top}px`,left:`${J.left}px`,margin:0}:{},children:[e.jsxs("div",{className:"filter-modal-header",children:[e.jsx("h3",{className:"filter-modal-title",children:"Filters"}),e.jsxs("div",{className:"filter-modal-actions",children:[e.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{i({companyId:"",hcfType:"All",status:"All",stateCode:"",district:"",category:""})},children:"Clear Filters"}),e.jsx("button",{className:"filter-modal-close-btn",onClick:()=>o(!1),title:"Close filters",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),e.jsx("div",{className:"filter-modal-body",children:e.jsxs("div",{className:"filter-modal-grid",children:[e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Company Name"}),e.jsxs("select",{className:"filter-modal-select",value:s.companyId||"",onChange:ye=>i(pe=>({...pe,companyId:ye.target.value})),children:[e.jsx("option",{value:"",children:"Select Company Name"}),l.map(ye=>e.jsxs("option",{value:ye.id,children:[ye.companyCode," - ",ye.companyName]},ye.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"HCF Type"}),e.jsx("select",{className:"filter-modal-select",value:s.hcfType||"All",onChange:ye=>i(pe=>({...pe,hcfType:ye.target.value})),children:$.map(ye=>e.jsx("option",{value:ye.value,children:ye.label},ye.value))})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Status"}),e.jsx("select",{className:"filter-modal-select",value:s.status||"All",onChange:ye=>i(pe=>({...pe,status:ye.target.value})),children:ee.map(ye=>e.jsx("option",{value:ye.value,children:ye.label},ye.value))})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"State Code"}),e.jsx("input",{type:"text",className:"filter-modal-input",value:s.stateCode||"",onChange:ye=>i(pe=>({...pe,stateCode:ye.target.value})),placeholder:"Enter state code"})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"District"}),e.jsx("input",{type:"text",className:"filter-modal-input",value:s.district||"",onChange:ye=>i(pe=>({...pe,district:ye.target.value})),placeholder:"Enter district name"})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Category"}),e.jsx("input",{type:"text",className:"filter-modal-input",value:s.category||"",onChange:ye=>i(pe=>({...pe,category:ye.target.value})),placeholder:"Enter category"})]})]})}),e.jsx("div",{className:"filter-modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await R(),o(!1)},disabled:m,children:m?e.jsxs(e.Fragment,{children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:e.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),b&&e.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:b}),e.jsxs("div",{className:"results-section",ref:I,children:[e.jsx("div",{className:"table-scroll-container",children:e.jsxs("table",{className:"invoice-table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{children:"HCF Code"}),e.jsx("th",{children:"HCF Name"}),e.jsx("th",{children:"Company"}),e.jsx("th",{children:"HCF Type"}),e.jsx("th",{children:"District"}),e.jsx("th",{children:"State"}),e.jsx("th",{children:"Category"}),e.jsx("th",{children:"Pincode"}),e.jsx("th",{className:"text-center",children:"Status"})]})}),e.jsx("tbody",{className:"table-body",children:m?Array.from({length:5}).map((ye,pe)=>e.jsxs("tr",{className:"table-row-skeleton",children:[e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${pe}`)):y?A.length===0?e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:9,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No HCFs found"}),e.jsx("p",{className:"empty-state-text",children:d.trim()?`No HCFs match "${d.trim()}". Try adjusting your search or filters.`:V()?"No HCFs match the current filters. Try adjusting your filter criteria.":"No HCFs available. Use the search bar or apply filters to view reports."}),(V()||d.trim())&&e.jsx("div",{className:"empty-state-action",children:e.jsx("button",{onClick:q,children:"Clear Filters"})})]})})}):A.map((ye,pe)=>{var je;return e.jsxs("tr",{className:pe%2===0?"table-row-even":"table-row-odd",children:[e.jsx("td",{className:"invoice-number-cell",children:ye.hcfCode}),e.jsx("td",{children:ye.hcfName}),e.jsx("td",{children:((je=l.find(re=>re.id===ye.companyId))==null?void 0:je.companyName)||"N/A"}),e.jsx("td",{children:ye.hcfTypeCode||"N/A"}),e.jsx("td",{children:ye.district||"N/A"}),e.jsx("td",{children:ye.stateCode||"N/A"}),e.jsx("td",{children:ye.category||"N/A"}),e.jsx("td",{children:ye.pincode||"N/A"}),e.jsx("td",{className:"text-center",children:e.jsx("span",{className:ie(ye.status),children:ye.status})})]},ye.id)}):e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:9,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No HCFs found"}),e.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view HCF master reports."})]})})})})]})}),e.jsxs("div",{className:"pagination-controls",children:[e.jsx("div",{className:"pagination-info",children:y&&A.length>0?`Showing ${D+1}-${ue} of ${G.totalHcfs} items`:"Showing 0 of 0 items"}),e.jsxs("div",{className:"pagination-right",children:[e.jsxs("select",{className:"rows-per-page-select",value:E,disabled:!y||A.length===0,onChange:async ye=>{a(pe=>({...pe,page:1,pageSize:Number(ye.target.value)}))},children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]}),e.jsxs("div",{className:"pagination-numbers",children:[e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ye=Math.max(1,w-1);a(pe=>({...pe,page:ye}))},disabled:w===1||!y||A.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const ye=[];let je=Math.max(1,w-Math.floor(2.5)),re=Math.min(Z,je+5-1);re-je<4&&(je=Math.max(1,re-5+1)),je>1&&(ye.push(1),je>2&&ye.push("..."));for(let he=je;he<=re;he++)ye.push(he);return re<Z&&(re<Z-1&&ye.push("..."),ye.push(Z)),ye.map((he,X)=>{if(he==="...")return e.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${X}`);const Ae=he;return e.jsx("button",{className:`pagination-page-btn ${w===Ae?"active":""}`,onClick:async()=>{a(Be=>({...Be,page:Ae}))},disabled:!y||A.length===0,children:Ae},Ae)})})(),e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ye=Math.min(Z,w+1);a(pe=>({...pe,page:ye}))},disabled:w===Z||Z===0||!y||A.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Pse=()=>{const r=jn(),t=qa(),[n,a]=C.useState({page:1,pageSize:25,trainingFromDate:"",trainingToDate:"",companyId:"",hcfId:"",status:"All",searchText:"",sortBy:"trainingDate",sortOrder:"DESC"}),[s,i]=C.useState({trainingFromDate:"",trainingToDate:"",companyId:"",hcfId:"",status:"All"}),[c,o]=C.useState(!1),d=n.searchText||"",[l,u]=C.useState([]),[h,f]=C.useState([]),[A,g]=C.useState([]),[m,x]=C.useState([]),[y,j]=C.useState(!1),[b,S]=C.useState(!1),[w,E]=C.useState(null),I=n.page||1,L=n.pageSize||25,J=C.useRef(null),ae=C.useRef(null),[G,le]=C.useState(null),[V,me]=C.useState({totalCertificates:0});C.useEffect(()=>{(async()=>{try{const[he,X]=await Promise.all([ha.getAllCompanies(),Mi.getAllHcfs()]);u(he),f(X)}catch(he){console.error("Error loading master data:",he)}})()},[]);const $=n.companyId?h.filter(re=>re.companyId===n.companyId):h,ee=()=>{var re;return!!(n.trainingFromDate||n.trainingToDate||n.companyId||n.hcfId||n.status&&n.status!=="All"||(re=n.searchText)!=null&&re.trim())},we=()=>{if(!ee())return"No filters applied. Select a date range or search to view training certificates.";const re=[];if(n.trainingFromDate&&n.trainingToDate){const he=new Date(n.trainingFromDate),X=new Date(n.trainingToDate),Ae=he.toLocaleDateString("en-US",{month:"short",day:"numeric"}),Be=X.toLocaleDateString("en-US",{month:"short",day:"numeric"});re.push(`Date: ${Ae}${Be}`)}if(n.companyId){const he=l.find(X=>X.id===n.companyId);he&&re.push(`Company: ${he.companyName}`)}if(n.hcfId){const he=$.find(X=>X.id===n.hcfId);he&&re.push(`HCF: ${he.hcfCode}`)}return n.status&&n.status!=="All"&&re.push(`Status: ${n.status}`),re.join("  ")},R=[{value:"All",label:"All Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],q=async()=>{var re;j(!0),E(null);try{const he={companyId:n.companyId||void 0,hcfId:n.hcfId||void 0,status:n.status!=="All"?n.status:void 0,dateFrom:n.trainingFromDate||void 0,dateTo:n.trainingToDate||void 0};let X=await Bv.getAllCertificates(he.companyId,!1,he);if((re=n.searchText)!=null&&re.trim()){const $e=n.searchText.toLowerCase().trim();X=X.filter(ne=>{const Pe=(ne.certificateNo||"").toLowerCase(),_e=(ne.staffName||"").toLowerCase(),rt=(ne.staffCode||"").toLowerCase(),et=l.find(qe=>qe.id===ne.companyId),Le=((et==null?void 0:et.companyName)||"").toLowerCase(),it=h.find(qe=>qe.id===ne.hcfId),Wt=((it==null?void 0:it.hcfCode)||"").toLowerCase();return Pe.includes($e)||_e.includes($e)||rt.includes($e)||Le.includes($e)||Wt.includes($e)})}X.sort(($e,ne)=>{const Pe=$e[n.sortBy]||"",_e=ne[n.sortBy]||"";return n.sortOrder==="ASC"?Pe>_e?1:-1:Pe<_e?1:-1});const Ae=(I-1)*L,Be=Ae+L,Me=X.slice(Ae,Be);g(X),x(Me),S(!0),me({totalCertificates:X.length})}catch(he){console.error("Error loading training certificates:",he),E(he.message||"Failed to load training certificate data"),g([]),x([])}finally{j(!1)}},ie=async()=>{a(re=>({...re,trainingFromDate:s.trainingFromDate||"",trainingToDate:s.trainingToDate||"",companyId:s.companyId||"",hcfId:s.hcfId||"",status:s.status||"All",page:1})),o(!1),await q()},Z=async()=>{a({page:1,pageSize:25,trainingFromDate:"",trainingToDate:"",companyId:"",hcfId:"",status:"All",searchText:"",sortBy:"trainingDate",sortOrder:"DESC"}),i({trainingFromDate:"",trainingToDate:"",companyId:"",hcfId:"",status:"All"}),o(!1),await q()};C.useEffect(()=>{if(l.length>0||!n.companyId){const re=setTimeout(()=>{q()},500);return()=>clearTimeout(re)}},[n,l]);const D=re=>re?new Date(re).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",ue=re=>{switch(re){case"Active":return"status-badge status-badge--paid";case"Inactive":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},te=b&&V.totalCertificates>0?Math.ceil(V.totalCertificates/L):0,ye=(I-1)*L,pe=Math.min(ye+m.length,V.totalCertificates),je=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return e.jsx(Ec,{navItems:je,children:e.jsxs("div",{className:"invoice-report-page",children:[e.jsxs("div",{className:"report-breadcrumb",children:[e.jsxs("button",{className:"back-button",onClick:()=>t("/report"),children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M19 12H5"}),e.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Reports"}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Training Certificate"})]}),e.jsxs("div",{className:"report-content-wrapper",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Training Certificate Report"}),!ee()&&e.jsx("div",{className:"page-context-subtitle",children:we()})]}),e.jsxs("div",{className:"search-actions-row",children:[e.jsxs("div",{className:`search-container ${y?"loading":""}`,children:[e.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Certificate No, Staff Name, Staff Code, Company, HCF",value:d,onChange:re=>a(he=>({...he,searchText:re.target.value,page:1})),onKeyDown:re=>{re.key==="Enter"&&!y&&(re.preventDefault(),q())},disabled:y}),d&&!y&&e.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(re=>({...re,searchText:"",page:1})),(b||ee())&&await q()},title:"Clear search",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("button",{type:"button",ref:ae,className:`btn btn-filters-toggle ${c?"active":""} ${y?"loading":""}`,onClick:()=>{if(!y){if(c||i({trainingFromDate:n.trainingFromDate||"",trainingToDate:n.trainingToDate||"",companyId:n.companyId||"",hcfId:n.hcfId||"",status:n.status||"All"}),ae.current){const re=ae.current.getBoundingClientRect();le({top:re.bottom+8,left:re.left})}o(!c)}},disabled:y,title:"Open filters",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfId,n.trainingFromDate,n.trainingToDate,n.status&&n.status!=="All"?n.status:""].filter(Boolean).length>0&&e.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfId,n.trainingFromDate,n.trainingToDate,n.status&&n.status!=="All"?n.status:""].filter(Boolean).length})]})]}),c&&Wc.createPortal(e.jsx("div",{className:"filter-modal-overlay",onClick:()=>{o(!1),le(null)},children:e.jsxs("div",{className:"filter-modal-content",onClick:re=>re.stopPropagation(),style:G?{position:"fixed",top:`${G.top}px`,left:`${G.left}px`,margin:0}:{},children:[e.jsxs("div",{className:"filter-modal-header",children:[e.jsx("h3",{className:"filter-modal-title",children:"Filters"}),e.jsxs("div",{className:"filter-modal-actions",children:[e.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{i({trainingFromDate:"",trainingToDate:"",companyId:"",hcfId:"",status:"All"})},children:"Clear Filters"}),e.jsx("button",{className:"filter-modal-close-btn",onClick:()=>o(!1),title:"Close filters",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),e.jsx("div",{className:"filter-modal-body",children:e.jsxs("div",{className:"filter-modal-grid",children:[e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Training Date"}),e.jsxs("div",{className:"filter-date-range",children:[e.jsx("input",{type:"date",className:"filter-modal-input",value:s.trainingFromDate||"",onChange:re=>i(he=>({...he,trainingFromDate:re.target.value})),placeholder:"From Date"}),e.jsx("span",{className:"filter-date-separator",children:"to"}),e.jsx("input",{type:"date",className:"filter-modal-input",value:s.trainingToDate||"",onChange:re=>i(he=>({...he,trainingToDate:re.target.value})),placeholder:"To Date"})]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Company Name"}),e.jsxs("select",{className:"filter-modal-select",value:s.companyId||"",onChange:re=>{i(he=>({...he,companyId:re.target.value,hcfId:""}))},children:[e.jsx("option",{value:"",children:"Select Company Name"}),l.map(re=>e.jsxs("option",{value:re.id,children:[re.companyCode," - ",re.companyName]},re.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),e.jsxs("select",{className:"filter-modal-select",value:s.hcfId||"",onChange:re=>i(he=>({...he,hcfId:re.target.value})),disabled:!s.companyId,children:[e.jsx("option",{value:"",children:"Select HCF Name"}),(s.companyId?h.filter(re=>re.companyId===s.companyId):h).map(re=>e.jsxs("option",{value:re.id,children:[re.hcfCode," - ",re.hcfName]},re.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Status"}),e.jsx("select",{className:"filter-modal-select",value:s.status||"All",onChange:re=>i(he=>({...he,status:re.target.value})),children:R.map(re=>e.jsx("option",{value:re.value,children:re.label},re.value))})]})]})}),e.jsx("div",{className:"filter-modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await ie(),o(!1)},disabled:y,children:y?e.jsxs(e.Fragment,{children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:e.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),w&&e.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:w}),e.jsxs("div",{className:"results-section",ref:J,children:[e.jsx("div",{className:"table-scroll-container",children:e.jsxs("table",{className:"invoice-table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Certificate No"}),e.jsx("th",{children:"Staff Name"}),e.jsx("th",{children:"Staff Code"}),e.jsx("th",{children:"Company"}),e.jsx("th",{children:"HCF"}),e.jsx("th",{children:"Training Date"}),e.jsx("th",{children:"Trained By"}),e.jsx("th",{className:"text-center",children:"Status"})]})}),e.jsx("tbody",{className:"table-body",children:y?Array.from({length:5}).map((re,he)=>e.jsxs("tr",{className:"table-row-skeleton",children:[e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${he}`)):b?m.length===0?e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:8,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No training certificates found"}),e.jsx("p",{className:"empty-state-text",children:d.trim()?`No certificates match "${d.trim()}". Try adjusting your search or filters.`:ee()?"No certificates match the current filters. Try adjusting your filter criteria.":"No training certificates available. Use the search bar or apply filters to view reports."}),(ee()||d.trim())&&e.jsx("div",{className:"empty-state-action",children:e.jsx("button",{onClick:Z,children:"Clear Filters"})})]})})}):m.map((re,he)=>{var X,Ae;return e.jsxs("tr",{className:he%2===0?"table-row-even":"table-row-odd",children:[e.jsx("td",{className:"invoice-number-cell",children:re.certificateNo}),e.jsx("td",{children:re.staffName}),e.jsx("td",{children:re.staffCode}),e.jsx("td",{children:((X=l.find(Be=>Be.id===re.companyId))==null?void 0:X.companyName)||"N/A"}),e.jsx("td",{children:((Ae=h.find(Be=>Be.id===re.hcfId))==null?void 0:Ae.hcfCode)||"N/A"}),e.jsx("td",{children:D(re.trainingDate)}),e.jsx("td",{children:re.trainedBy}),e.jsx("td",{className:"text-center",children:e.jsx("span",{className:ue(re.status),children:re.status})})]},re.id)}):e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:8,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No training certificates found"}),e.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view training certificate reports."})]})})})})]})}),e.jsxs("div",{className:"pagination-controls",children:[e.jsx("div",{className:"pagination-info",children:b&&m.length>0?`Showing ${ye+1}-${pe} of ${V.totalCertificates} items`:"Showing 0 of 0 items"}),e.jsxs("div",{className:"pagination-right",children:[e.jsxs("select",{className:"rows-per-page-select",value:L,disabled:!b||m.length===0,onChange:async re=>{a(he=>({...he,page:1,pageSize:Number(re.target.value)}))},children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]}),e.jsxs("div",{className:"pagination-numbers",children:[e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const re=Math.max(1,I-1);a(he=>({...he,page:re}))},disabled:I===1||!b||m.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const re=[];let X=Math.max(1,I-Math.floor(2.5)),Ae=Math.min(te,X+5-1);Ae-X<4&&(X=Math.max(1,Ae-5+1)),X>1&&(re.push(1),X>2&&re.push("..."));for(let Be=X;Be<=Ae;Be++)re.push(Be);return Ae<te&&(Ae<te-1&&re.push("..."),re.push(te)),re.map((Be,Me)=>{if(Be==="...")return e.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${Me}`);const $e=Be;return e.jsx("button",{className:`pagination-page-btn ${I===$e?"active":""}`,onClick:async()=>{a(ne=>({...ne,page:$e}))},disabled:!b||m.length===0,children:$e},$e)})})(),e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const re=Math.min(te,I+1);a(he=>({...he,page:re}))},disabled:I===te||te===0||!b||m.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Tk=()=>{const r=jn(),t=qa(),[n,a]=C.useState({page:1,pageSize:25,paymentFromDate:"",paymentToDate:"",companyId:"",status:"All",paymentMode:"All",searchText:"",sortBy:"paymentDate",sortOrder:"DESC"}),[s,i]=C.useState({paymentFromDate:"",paymentToDate:"",companyId:"",status:"All",paymentMode:"All"}),[c,o]=C.useState(!1),d=n.searchText||"",[l,u]=C.useState([]),[h,f]=C.useState([]),[A,g]=C.useState([]),[m,x]=C.useState(!1),[y,j]=C.useState(!1),[b,S]=C.useState(null),w=n.page||1,E=n.pageSize||25,I=C.useRef(null),L=C.useRef(null),[J,ae]=C.useState(null),[G,le]=C.useState({totalPayments:0,totalAmount:0});C.useEffect(()=>{(async()=>{try{const re=await ha.getAllCompanies();u(re)}catch(re){console.error("Error loading master data:",re)}})()},[]);const V=()=>{var je;return!!(n.paymentFromDate||n.paymentToDate||n.companyId||n.status&&n.status!=="All"||n.paymentMode&&n.paymentMode!=="All"||(je=n.searchText)!=null&&je.trim())},me=()=>{if(!V())return"No filters applied. Select a date range or search to view payments.";const je=[];if(n.paymentFromDate&&n.paymentToDate){const re=new Date(n.paymentFromDate),he=new Date(n.paymentToDate),X=re.toLocaleDateString("en-US",{month:"short",day:"numeric"}),Ae=he.toLocaleDateString("en-US",{month:"short",day:"numeric"});je.push(`Date: ${X}${Ae}`)}if(n.companyId){const re=l.find(he=>he.id===n.companyId);re&&je.push(`Company: ${re.companyName}`)}return n.status&&n.status!=="All"&&je.push(`Status: ${n.status}`),n.paymentMode&&n.paymentMode!=="All"&&je.push(`Mode: ${n.paymentMode}`),je.join("  ")},$=[{value:"All",label:"All Status"},{value:"Pending",label:"Pending"},{value:"Completed",label:"Completed"},{value:"Cancelled",label:"Cancelled"}],ee=[{value:"All",label:"All Modes"},{value:"Cash",label:"Cash"},{value:"Cheque",label:"Cheque"},{value:"Bank Transfer",label:"Bank Transfer"},{value:"UPI",label:"UPI"},{value:"NEFT",label:"NEFT"},{value:"RTGS",label:"RTGS"},{value:"Other",label:"Other"}],we=async()=>{var je;x(!0),S(null);try{const re={companyId:n.companyId||void 0,status:n.status!=="All"?n.status:void 0,paymentDateFrom:n.paymentFromDate||void 0,paymentDateTo:n.paymentToDate||void 0};let X=(await mne(re)).data||[];if((je=n.searchText)!=null&&je.trim()){const $e=n.searchText.toLowerCase().trim();X=X.filter(ne=>{const Pe=(ne.receiptNumber||"").toLowerCase(),_e=(ne.referenceNumber||"").toLowerCase(),rt=l.find(Le=>Le.id===ne.companyId),et=((rt==null?void 0:rt.companyName)||"").toLowerCase();return Pe.includes($e)||_e.includes($e)||et.includes($e)||ne.paymentAmount.toString().includes($e)})}n.paymentMode&&n.paymentMode!=="All"&&(X=X.filter($e=>$e.paymentMode===n.paymentMode)),X.sort(($e,ne)=>{const Pe=$e[n.sortBy]||"",_e=ne[n.sortBy]||"";return n.sortOrder==="ASC"?Pe>_e?1:-1:Pe<_e?1:-1});const Ae=(w-1)*E,Be=Ae+E,Me=X.slice(Ae,Be);f(X),g(Me),j(!0),le({totalPayments:X.length,totalAmount:X.reduce(($e,ne)=>$e+(ne.paymentAmount||0),0)})}catch(re){console.error("Error loading payments:",re),S(re.message||"Failed to load payment data"),f([]),g([])}finally{x(!1)}},R=async()=>{a(je=>({...je,paymentFromDate:s.paymentFromDate||"",paymentToDate:s.paymentToDate||"",companyId:s.companyId||"",status:s.status||"All",paymentMode:s.paymentMode||"All",page:1})),o(!1),await we()},q=async()=>{a({page:1,pageSize:25,paymentFromDate:"",paymentToDate:"",companyId:"",status:"All",paymentMode:"All",searchText:"",sortBy:"paymentDate",sortOrder:"DESC"}),i({paymentFromDate:"",paymentToDate:"",companyId:"",status:"All",paymentMode:"All"}),o(!1),await we()};C.useEffect(()=>{if(l.length>0||!n.companyId){const je=setTimeout(()=>{we()},500);return()=>clearTimeout(je)}},[n,l]);const ie=je=>je==null?"0.00":`${je.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`,Z=je=>je?new Date(je).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",D=je=>{switch(je){case"Completed":return"status-badge status-badge--paid";case"Pending":return"status-badge status-badge--partial";case"Cancelled":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},ue=y&&G.totalPayments>0?Math.ceil(G.totalPayments/E):0,te=(w-1)*E,ye=Math.min(te+A.length,G.totalPayments),pe=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return e.jsx(Ec,{navItems:pe,children:e.jsxs("div",{className:"invoice-report-page",children:[e.jsxs("div",{className:"report-breadcrumb",children:[e.jsxs("button",{className:"back-button",onClick:()=>t("/report"),children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M19 12H5"}),e.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Reports"}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Payment"})]}),e.jsxs("div",{className:"report-content-wrapper",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Payment Report"}),!V()&&e.jsx("div",{className:"page-context-subtitle",children:me()})]}),e.jsxs("div",{className:"search-actions-row",children:[e.jsxs("div",{className:`search-container ${m?"loading":""}`,children:[e.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Receipt Number, Reference Number, Company, Amount",value:d,onChange:je=>a(re=>({...re,searchText:je.target.value,page:1})),onKeyDown:je=>{je.key==="Enter"&&!m&&(je.preventDefault(),we())},disabled:m}),d&&!m&&e.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(je=>({...je,searchText:"",page:1})),(y||V())&&await we()},title:"Clear search",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("button",{type:"button",ref:L,className:`btn btn-filters-toggle ${c?"active":""} ${m?"loading":""}`,onClick:()=>{if(!m){if(c||i({paymentFromDate:n.paymentFromDate||"",paymentToDate:n.paymentToDate||"",companyId:n.companyId||"",status:n.status||"All",paymentMode:n.paymentMode||"All"}),L.current){const je=L.current.getBoundingClientRect();ae({top:je.bottom+8,left:je.left})}o(!c)}},disabled:m,title:"Open filters",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.paymentFromDate,n.paymentToDate,n.status&&n.status!=="All"?n.status:"",n.paymentMode&&n.paymentMode!=="All"?n.paymentMode:""].filter(Boolean).length>0&&e.jsx("span",{className:"filter-count",children:[n.companyId,n.paymentFromDate,n.paymentToDate,n.status&&n.status!=="All"?n.status:"",n.paymentMode&&n.paymentMode!=="All"?n.paymentMode:""].filter(Boolean).length})]})]}),c&&Wc.createPortal(e.jsx("div",{className:"filter-modal-overlay",onClick:()=>{o(!1),ae(null)},children:e.jsxs("div",{className:"filter-modal-content",onClick:je=>je.stopPropagation(),style:J?{position:"fixed",top:`${J.top}px`,left:`${J.left}px`,margin:0}:{},children:[e.jsxs("div",{className:"filter-modal-header",children:[e.jsx("h3",{className:"filter-modal-title",children:"Filters"}),e.jsxs("div",{className:"filter-modal-actions",children:[e.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{i({paymentFromDate:"",paymentToDate:"",companyId:"",status:"All",paymentMode:"All"})},children:"Clear Filters"}),e.jsx("button",{className:"filter-modal-close-btn",onClick:()=>o(!1),title:"Close filters",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),e.jsx("div",{className:"filter-modal-body",children:e.jsxs("div",{className:"filter-modal-grid",children:[e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Payment Date"}),e.jsxs("div",{className:"filter-date-range",children:[e.jsx("input",{type:"date",className:"filter-modal-input",value:s.paymentFromDate||"",onChange:je=>i(re=>({...re,paymentFromDate:je.target.value})),placeholder:"From Date"}),e.jsx("span",{className:"filter-date-separator",children:"to"}),e.jsx("input",{type:"date",className:"filter-modal-input",value:s.paymentToDate||"",onChange:je=>i(re=>({...re,paymentToDate:je.target.value})),placeholder:"To Date"})]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Company Name"}),e.jsxs("select",{className:"filter-modal-select",value:s.companyId||"",onChange:je=>i(re=>({...re,companyId:je.target.value})),children:[e.jsx("option",{value:"",children:"Select Company Name"}),l.map(je=>e.jsxs("option",{value:je.id,children:[je.companyCode," - ",je.companyName]},je.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Status"}),e.jsx("select",{className:"filter-modal-select",value:s.status||"All",onChange:je=>i(re=>({...re,status:je.target.value})),children:$.map(je=>e.jsx("option",{value:je.value,children:je.label},je.value))})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Payment Mode"}),e.jsx("select",{className:"filter-modal-select",value:s.paymentMode||"All",onChange:je=>i(re=>({...re,paymentMode:je.target.value})),children:ee.map(je=>e.jsx("option",{value:je.value,children:je.label},je.value))})]})]})}),e.jsx("div",{className:"filter-modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await R(),o(!1)},disabled:m,children:m?e.jsxs(e.Fragment,{children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:e.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),b&&e.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:b}),e.jsxs("div",{className:"results-section",ref:I,children:[e.jsx("div",{className:"table-scroll-container",children:e.jsxs("table",{className:"invoice-table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Receipt No"}),e.jsx("th",{children:"Company"}),e.jsx("th",{children:"Payment Date"}),e.jsx("th",{children:"Payment Mode"}),e.jsx("th",{className:"text-right",children:"Payment Amount"}),e.jsx("th",{children:"Reference Number"}),e.jsx("th",{className:"text-center",children:"Status"})]})}),e.jsx("tbody",{className:"table-body",children:m?Array.from({length:5}).map((je,re)=>e.jsxs("tr",{className:"table-row-skeleton",children:[e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{className:"text-right",children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${re}`)):y?A.length===0?e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:7,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No payments found"}),e.jsx("p",{className:"empty-state-text",children:d.trim()?`No payments match "${d.trim()}". Try adjusting your search or filters.`:V()?"No payments match the current filters. Try adjusting your filter criteria.":"No payments available. Use the search bar or apply filters to view reports."}),(V()||d.trim())&&e.jsx("div",{className:"empty-state-action",children:e.jsx("button",{onClick:q,children:"Clear Filters"})})]})})}):A.map((je,re)=>{var he;return e.jsxs("tr",{className:re%2===0?"table-row-even":"table-row-odd",children:[e.jsx("td",{className:"invoice-number-cell",children:je.receiptNumber||"N/A"}),e.jsx("td",{children:((he=l.find(X=>X.id===je.companyId))==null?void 0:he.companyName)||"N/A"}),e.jsx("td",{children:Z(je.paymentDate)}),e.jsx("td",{children:je.paymentMode}),e.jsx("td",{className:"text-right",children:ie(je.paymentAmount)}),e.jsx("td",{children:je.referenceNumber||"N/A"}),e.jsx("td",{className:"text-center",children:e.jsx("span",{className:D(je.status),children:je.status})})]},je.paymentId)}):e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:7,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No payments found"}),e.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view payment reports."})]})})})})]})}),e.jsxs("div",{className:"pagination-controls",children:[e.jsx("div",{className:"pagination-info",children:y&&A.length>0?`Showing ${te+1}-${ye} of ${G.totalPayments} items`:"Showing 0 of 0 items"}),e.jsxs("div",{className:"pagination-right",children:[e.jsxs("select",{className:"rows-per-page-select",value:E,disabled:!y||A.length===0,onChange:async je=>{a(re=>({...re,page:1,pageSize:Number(je.target.value)}))},children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]}),e.jsxs("div",{className:"pagination-numbers",children:[e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const je=Math.max(1,w-1);a(re=>({...re,page:je}))},disabled:w===1||!y||A.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const je=[];let he=Math.max(1,w-Math.floor(2.5)),X=Math.min(ue,he+5-1);X-he<4&&(he=Math.max(1,X-5+1)),he>1&&(je.push(1),he>2&&je.push("..."));for(let Ae=he;Ae<=X;Ae++)je.push(Ae);return X<ue&&(X<ue-1&&je.push("..."),je.push(ue)),je.map((Ae,Be)=>{if(Ae==="...")return e.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${Be}`);const Me=Ae;return e.jsx("button",{className:`pagination-page-btn ${w===Me?"active":""}`,onClick:async()=>{a($e=>({...$e,page:Me}))},disabled:!y||A.length===0,children:Me},Me)})})(),e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const je=Math.min(ue,w+1);a(re=>({...re,page:je}))},disabled:w===ue||ue===0||!y||A.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Dse=()=>{const r=jn(),t=qa(),[n,a]=C.useState({page:1,pageSize:25,fromDate:"",toDate:"",contractId:"",status:"All",searchText:"",sortBy:"agreementDate",sortOrder:"DESC"}),[s,i]=C.useState({fromDate:"",toDate:"",contractId:"",status:"All"}),[c,o]=C.useState(!1),d=n.searchText||"",[l,u]=C.useState([]),[h,f]=C.useState([]),[A,g]=C.useState([]),[m,x]=C.useState(!1),[y,j]=C.useState(!1),[b,S]=C.useState(null),w=n.page||1,E=n.pageSize||25,I=C.useRef(null),L=C.useRef(null),[J,ae]=C.useState(null),[G,le]=C.useState({totalAgreements:0});C.useEffect(()=>{(async()=>{try{const pe=await dA.getAllContracts();u(pe)}catch(pe){console.error("Error loading master data:",pe)}})()},[]);const V=()=>{var ye;return!!(n.fromDate||n.toDate||n.contractId||n.status&&n.status!=="All"||(ye=n.searchText)!=null&&ye.trim())},me=()=>{if(!V())return"No filters applied. Select a date range or search to view agreements.";const ye=[];if(n.fromDate&&n.toDate){const pe=new Date(n.fromDate),je=new Date(n.toDate),re=pe.toLocaleDateString("en-US",{month:"short",day:"numeric"}),he=je.toLocaleDateString("en-US",{month:"short",day:"numeric"});ye.push(`Date: ${re}${he}`)}if(n.contractId){const pe=l.find(je=>je.id===n.contractId);pe&&ye.push(`Contract: ${pe.contractNum}`)}return n.status&&n.status!=="All"&&ye.push(`Status: ${n.status}`),ye.join("  ")},$=[{value:"All",label:"All Status"},{value:"Draft",label:"Draft"},{value:"Generated",label:"Generated"},{value:"Signed",label:"Signed"}],ee=async()=>{var ye;x(!0),S(null);try{const pe={contractId:n.contractId||void 0,status:n.status!=="All"?n.status:void 0};let je=await s1.getAllAgreements(pe.contractId,pe.status);if(n.fromDate){const Ae=new Date(n.fromDate);je=je.filter(Be=>new Date(Be.agreementDate)>=Ae)}if(n.toDate){const Ae=new Date(n.toDate);Ae.setHours(23,59,59,999),je=je.filter(Be=>new Date(Be.agreementDate)<=Ae)}if((ye=n.searchText)!=null&&ye.trim()){const Ae=n.searchText.toLowerCase().trim();je=je.filter(Be=>{const Me=(Be.agreementNum||"").toLowerCase(),$e=(Be.contractNum||"").toLowerCase();return Me.includes(Ae)||$e.includes(Ae)})}je.sort((Ae,Be)=>{const Me=Ae[n.sortBy]||"",$e=Be[n.sortBy]||"";return n.sortOrder==="ASC"?Me>$e?1:-1:Me<$e?1:-1});const re=(w-1)*E,he=re+E,X=je.slice(re,he);f(je),g(X),j(!0),le({totalAgreements:je.length})}catch(pe){console.error("Error loading agreements:",pe),S(pe.message||"Failed to load agreement data"),f([]),g([])}finally{x(!1)}},we=async()=>{a(ye=>({...ye,fromDate:s.fromDate||"",toDate:s.toDate||"",contractId:s.contractId||"",status:s.status||"All",page:1})),o(!1),await ee()},R=async()=>{a({page:1,pageSize:25,fromDate:"",toDate:"",contractId:"",status:"All",searchText:"",sortBy:"agreementDate",sortOrder:"DESC"}),i({fromDate:"",toDate:"",contractId:"",status:"All"}),o(!1),await ee()};C.useEffect(()=>{if(l.length>0||!n.contractId){const ye=setTimeout(()=>{ee()},500);return()=>clearTimeout(ye)}},[n,l]);const q=ye=>ye?new Date(ye).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",ie=ye=>{switch(ye){case"Signed":return"status-badge status-badge--paid";case"Generated":return"status-badge status-badge--generated";case"Draft":return"status-badge status-badge--draft";default:return"status-badge status-badge--generated"}},Z=y&&G.totalAgreements>0?Math.ceil(G.totalAgreements/E):0,D=(w-1)*E,ue=Math.min(D+A.length,G.totalAgreements),te=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return e.jsx(Ec,{navItems:te,children:e.jsxs("div",{className:"invoice-report-page",children:[e.jsxs("div",{className:"report-breadcrumb",children:[e.jsxs("button",{className:"back-button",onClick:()=>t("/report"),children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M19 12H5"}),e.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Reports"}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Agreement"})]}),e.jsxs("div",{className:"report-content-wrapper",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Agreement Report"}),!V()&&e.jsx("div",{className:"page-context-subtitle",children:me()})]}),e.jsxs("div",{className:"search-actions-row",children:[e.jsxs("div",{className:`search-container ${m?"loading":""}`,children:[e.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Agreement Number, Contract Number",value:d,onChange:ye=>a(pe=>({...pe,searchText:ye.target.value,page:1})),onKeyDown:ye=>{ye.key==="Enter"&&!m&&(ye.preventDefault(),ee())},disabled:m}),d&&!m&&e.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(ye=>({...ye,searchText:"",page:1})),(y||V())&&await ee()},title:"Clear search",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("button",{type:"button",ref:L,className:`btn btn-filters-toggle ${c?"active":""} ${m?"loading":""}`,onClick:()=>{if(!m){if(c||i({fromDate:n.fromDate||"",toDate:n.toDate||"",contractId:n.contractId||"",status:n.status||"All"}),L.current){const ye=L.current.getBoundingClientRect();ae({top:ye.bottom+8,left:ye.left})}o(!c)}},disabled:m,title:"Open filters",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.contractId,n.fromDate,n.toDate,n.status&&n.status!=="All"?n.status:""].filter(Boolean).length>0&&e.jsx("span",{className:"filter-count",children:[n.contractId,n.fromDate,n.toDate,n.status&&n.status!=="All"?n.status:""].filter(Boolean).length})]})]}),c&&Wc.createPortal(e.jsx("div",{className:"filter-modal-overlay",onClick:()=>{o(!1),ae(null)},children:e.jsxs("div",{className:"filter-modal-content",onClick:ye=>ye.stopPropagation(),style:J?{position:"fixed",top:`${J.top}px`,left:`${J.left}px`,margin:0}:{},children:[e.jsxs("div",{className:"filter-modal-header",children:[e.jsx("h3",{className:"filter-modal-title",children:"Filters"}),e.jsxs("div",{className:"filter-modal-actions",children:[e.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{i({fromDate:"",toDate:"",contractId:"",status:"All"})},children:"Clear Filters"}),e.jsx("button",{className:"filter-modal-close-btn",onClick:()=>o(!1),title:"Close filters",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),e.jsx("div",{className:"filter-modal-body",children:e.jsxs("div",{className:"filter-modal-grid",children:[e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Agreement Date"}),e.jsxs("div",{className:"filter-date-range",children:[e.jsx("input",{type:"date",className:"filter-modal-input",value:s.fromDate||"",onChange:ye=>i(pe=>({...pe,fromDate:ye.target.value})),placeholder:"From Date"}),e.jsx("span",{className:"filter-date-separator",children:"to"}),e.jsx("input",{type:"date",className:"filter-modal-input",value:s.toDate||"",onChange:ye=>i(pe=>({...pe,toDate:ye.target.value})),placeholder:"To Date"})]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Contract"}),e.jsxs("select",{className:"filter-modal-select",value:s.contractId||"",onChange:ye=>i(pe=>({...pe,contractId:ye.target.value})),children:[e.jsx("option",{value:"",children:"Select Contract"}),l.map(ye=>e.jsx("option",{value:ye.id,children:ye.contractNum},ye.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Status"}),e.jsx("select",{className:"filter-modal-select",value:s.status||"All",onChange:ye=>i(pe=>({...pe,status:ye.target.value})),children:$.map(ye=>e.jsx("option",{value:ye.value,children:ye.label},ye.value))})]})]})}),e.jsx("div",{className:"filter-modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await we(),o(!1)},disabled:m,children:m?e.jsxs(e.Fragment,{children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:e.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),b&&e.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:b}),e.jsxs("div",{className:"results-section",ref:I,children:[e.jsx("div",{className:"table-scroll-container",children:e.jsxs("table",{className:"invoice-table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Agreement No"}),e.jsx("th",{children:"Contract No"}),e.jsx("th",{children:"Agreement Date"}),e.jsx("th",{className:"text-center",children:"Status"})]})}),e.jsx("tbody",{className:"table-body",children:m?Array.from({length:5}).map((ye,pe)=>e.jsxs("tr",{className:"table-row-skeleton",children:[e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${pe}`)):y?A.length===0?e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:4,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No agreements found"}),e.jsx("p",{className:"empty-state-text",children:d.trim()?`No agreements match "${d.trim()}". Try adjusting your search or filters.`:V()?"No agreements match the current filters. Try adjusting your filter criteria.":"No agreements available. Use the search bar or apply filters to view reports."}),(V()||d.trim())&&e.jsx("div",{className:"empty-state-action",children:e.jsx("button",{onClick:R,children:"Clear Filters"})})]})})}):A.map((ye,pe)=>e.jsxs("tr",{className:pe%2===0?"table-row-even":"table-row-odd",children:[e.jsx("td",{className:"invoice-number-cell",children:ye.agreementNum}),e.jsx("td",{children:ye.contractNum||"N/A"}),e.jsx("td",{children:q(ye.agreementDate)}),e.jsx("td",{className:"text-center",children:e.jsx("span",{className:ie(ye.status),children:ye.status})})]},ye.id)):e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:4,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No agreements found"}),e.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view agreement reports."})]})})})})]})}),e.jsxs("div",{className:"pagination-controls",children:[e.jsx("div",{className:"pagination-info",children:y&&A.length>0?`Showing ${D+1}-${ue} of ${G.totalAgreements} items`:"Showing 0 of 0 items"}),e.jsxs("div",{className:"pagination-right",children:[e.jsxs("select",{className:"rows-per-page-select",value:E,disabled:!y||A.length===0,onChange:async ye=>{a(pe=>({...pe,page:1,pageSize:Number(ye.target.value)}))},children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]}),e.jsxs("div",{className:"pagination-numbers",children:[e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ye=Math.max(1,w-1);a(pe=>({...pe,page:ye}))},disabled:w===1||!y||A.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const ye=[];let je=Math.max(1,w-Math.floor(2.5)),re=Math.min(Z,je+5-1);re-je<4&&(je=Math.max(1,re-5+1)),je>1&&(ye.push(1),je>2&&ye.push("..."));for(let he=je;he<=re;he++)ye.push(he);return re<Z&&(re<Z-1&&ye.push("..."),ye.push(Z)),ye.map((he,X)=>{if(he==="...")return e.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${X}`);const Ae=he;return e.jsx("button",{className:`pagination-page-btn ${w===Ae?"active":""}`,onClick:async()=>{a(Be=>({...Be,page:Ae}))},disabled:!y||A.length===0,children:Ae},Ae)})})(),e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ye=Math.min(Z,w+1);a(pe=>({...pe,page:ye}))},disabled:w===Z||Z===0||!y||A.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Mse=()=>{const[r,t]=C.useState({page:1,pageSize:25,createdFromDate:"",createdToDate:"",companyId:"",hcfId:"",barcodeType:"All",colorBlock:"All",searchText:"",sortBy:"createdOn",sortOrder:"DESC"}),[n,a]=C.useState({createdFromDate:"",createdToDate:"",companyId:"",hcfId:"",barcodeType:"All",colorBlock:"All"}),s=C.useCallback((f,A)=>{t(g=>({...g,[f]:A}))},[]),i=C.useCallback((f,A)=>{a(g=>({...g,[f]:A}))},[]),c=C.useCallback(()=>{t(f=>({...f,createdFromDate:n.createdFromDate||"",createdToDate:n.createdToDate||"",companyId:n.companyId||"",hcfId:n.hcfId||"",barcodeType:n.barcodeType||"All",colorBlock:n.colorBlock||"All",page:1}))},[n]),o=C.useCallback(()=>{const f={page:1,pageSize:r.pageSize||25,createdFromDate:"",createdToDate:"",companyId:"",hcfId:"",barcodeType:"All",colorBlock:"All",searchText:"",sortBy:"createdOn",sortOrder:"DESC"};t(f),a({createdFromDate:"",createdToDate:"",companyId:"",hcfId:"",barcodeType:"All",colorBlock:"All"})},[r.pageSize]),d=C.useCallback((f,A)=>{t(g=>({...g,page:f,...A!==void 0&&{pageSize:A}}))},[]),l=C.useCallback(f=>{t(A=>({...A,searchText:f,page:1}))},[]),u=C.useCallback(()=>{var f;return!!(r.createdFromDate||r.createdToDate||r.companyId||r.hcfId||r.barcodeType&&r.barcodeType!=="All"||r.colorBlock&&r.colorBlock!=="All"||(f=r.searchText)!=null&&f.trim())},[r]),h=C.useCallback(()=>{var A;const f={page:r.page,pageSize:r.pageSize,sortBy:r.sortBy,sortOrder:r.sortOrder};return r.createdFromDate&&(f.createdFromDate=r.createdFromDate),r.createdToDate&&(f.createdToDate=r.createdToDate),r.companyId&&(f.companyId=r.companyId),r.hcfId&&(f.hcfId=r.hcfId),r.barcodeType&&r.barcodeType!=="All"&&(f.barcodeType=r.barcodeType),r.colorBlock&&r.colorBlock!=="All"&&(f.colorBlock=r.colorBlock),(A=r.searchText)!=null&&A.trim()&&(f.searchText=r.searchText.trim()),f},[r]);return{filters:r,pendingFilters:n,updateFilter:s,updatePendingFilter:i,applyFilters:c,clearFilters:o,updatePagination:d,updateSearchText:l,hasFiltersApplied:u,buildApiFilters:h}},kk=()=>{const r=jn(),t=qa(),{filters:n,pendingFilters:a,updatePendingFilter:s,applyFilters:i,clearFilters:c,updatePagination:o,updateSearchText:d,hasFiltersApplied:l,buildApiFilters:u}=Mse(),[h,f]=C.useState(!1),A=n.searchText||"",[g,m]=C.useState([]),[x,y]=C.useState([]),[j,b]=C.useState([]),[S,w]=C.useState([]),[E,I]=C.useState(!1),[L,J]=C.useState(!1),[ae,G]=C.useState(null),le=n.page||1,V=n.pageSize||25,me=C.useRef(null),$=C.useRef(null),[ee,we]=C.useState(null),[R,q]=C.useState({totalBarcodes:0,barcodeCount:0,qrCodeCount:0});C.useEffect(()=>{(async()=>{try{const[Me,$e]=await Promise.all([ha.getAllCompanies(),Mi.getAllHcfs()]);m(Me),y($e)}catch(Me){console.error("Error loading master data:",Me),G(Me.message||"Failed to load master data. Please refresh the page."),m([]),y([])}})()},[]);const ie=n.companyId?x.filter(Be=>Be.companyId===n.companyId):x,Z=()=>{if(!l())return"No filters applied. Select a date range or search to view barcode usage.";const Be=[];if(n.createdFromDate&&n.createdToDate){const Me=new Date(n.createdFromDate),$e=new Date(n.createdToDate),ne=Me.toLocaleDateString("en-US",{month:"short",day:"numeric"}),Pe=$e.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});Be.push(`${ne} - ${Pe}`)}else if(n.createdFromDate||n.createdToDate){if(n.createdFromDate){const Me=new Date(n.createdFromDate);Be.push(`From ${Me.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}if(n.createdToDate){const Me=new Date(n.createdToDate);Be.push(`To ${Me.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}}if(n.companyId){const Me=g.find($e=>$e.id===n.companyId);Be.push(Me?Me.companyName:"Selected Company")}else Be.push("All Companies");if(n.hcfId){const Me=ie.find($e=>$e.id===n.hcfId);Be.push(Me?`HCF: ${Me.hcfCode}`:"Selected HCF")}return n.barcodeType&&n.barcodeType!=="All"&&Be.push(`Type: ${n.barcodeType}`),n.colorBlock&&n.colorBlock!=="All"&&Be.push(`Color: ${n.colorBlock}`),`Showing barcode usage for: ${Be.join("  ")}`},D=[{value:"All",label:"All Types"},{value:"Barcode",label:"Barcode"},{value:"QR Code",label:"QR Code"}],ue=[{value:"All",label:"All Colors"},{value:"Yellow",label:"Yellow"},{value:"Red",label:"Red"},{value:"White",label:"White"}],te=async()=>{var Be;I(!0),G(null);try{const Me=u();let $e=[];if(Me.companyId)$e=await rp.getAllBarcodeLabels(Me.companyId);else if(g.length>0)for(const et of g)try{const Le=await rp.getAllBarcodeLabels(et.id);$e.push(...Le)}catch(Le){console.warn(`Failed to load barcodes for company ${et.companyName}:`,Le)}else try{$e=await rp.getAllBarcodeLabels()}catch(et){console.warn("Failed to load barcodes without company filter:",et)}let ne=$e;if(n.createdFromDate){const et=new Date(n.createdFromDate);ne=ne.filter(Le=>new Date(Le.createdOn)>=et)}if(n.createdToDate){const et=new Date(n.createdToDate);et.setHours(23,59,59,999),ne=ne.filter(Le=>new Date(Le.createdOn)<=et)}if(n.companyId&&(ne=ne.filter(et=>et.companyId===n.companyId)),n.hcfId&&(ne=ne.filter(et=>et.hcfId===n.hcfId)),n.barcodeType&&n.barcodeType!=="All"&&(ne=ne.filter(et=>et.barcodeType===n.barcodeType)),n.colorBlock&&n.colorBlock!=="All"&&(ne=ne.filter(et=>et.colorBlock===n.colorBlock)),(Be=n.searchText)!=null&&Be.trim()){const et=n.searchText.toLowerCase().trim();ne=ne.filter(Le=>{const it=(Le.barcodeValue||"").toLowerCase(),Wt=(Le.hcfCode||"").toLowerCase(),qe=g.find(_t=>_t.id===Le.companyId),St=((qe==null?void 0:qe.companyName)||"").toLowerCase();return it.includes(et)||Wt.includes(et)||St.includes(et)||Le.sequenceNumber.toString().includes(et)})}ne.sort((et,Le)=>{const it=et[n.sortBy]||"",Wt=Le[n.sortBy]||"";return n.sortOrder==="ASC"?it>Wt?1:-1:it<Wt?1:-1});const Pe=(le-1)*V,_e=Pe+V,rt=ne.slice(Pe,_e);b(ne),w(rt),J(!0),q({totalBarcodes:ne.length,barcodeCount:ne.filter(et=>et.barcodeType==="Barcode").length,qrCodeCount:ne.filter(et=>et.barcodeType==="QR Code").length})}catch(Me){console.error("Error loading barcodes:",Me),G(Me.message||"Failed to load barcode usage data"),b([]),w([])}finally{I(!1)}},ye=async()=>{i(),f(!1),await te()},pe=async()=>{c(),f(!1),await te()};C.useEffect(()=>{var Be;if(g.length>0||l()||(Be=n.searchText)!=null&&Be.trim()){const Me=setTimeout(()=>{te()},500);return()=>clearTimeout(Me)}},[n,g]);const je=Be=>Be?new Date(Be).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",re=L&&R.totalBarcodes>0?Math.ceil(R.totalBarcodes/V):0,he=(le-1)*V,X=Math.min(he+S.length,R.totalBarcodes),Ae=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return e.jsx(Ec,{navItems:Ae,children:e.jsxs("div",{className:"invoice-report-page",children:[e.jsxs("div",{className:"report-breadcrumb",children:[e.jsxs("button",{className:"back-button",onClick:()=>t("/report"),children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M19 12H5"}),e.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Reports"}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Barcode Usage"})]}),e.jsxs("div",{className:"report-content-wrapper",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Barcode Usage Report"}),!l()&&e.jsx("div",{className:"page-context-subtitle",children:Z()}),ae&&g.length===0&&e.jsxs("div",{style:{marginTop:"12px",padding:"12px",backgroundColor:"#fef2f2",color:"#991b1b",borderRadius:"6px",fontSize:"13px",border:"1px solid #fecaca"},children:[e.jsx("strong",{children:"Warning:"})," Failed to load master data. Filter options may be limited. Please refresh the page or check your authentication."]})]}),e.jsxs("div",{className:"search-actions-row",children:[e.jsxs("div",{className:`search-container ${E?"loading":""}`,children:[e.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Barcode Value, HCF Code, Company, Sequence Number",value:A,onChange:Be=>d(Be.target.value),onKeyDown:Be=>{Be.key==="Enter"&&!E&&(Be.preventDefault(),te())},disabled:E}),A&&!E&&e.jsx("button",{className:"clear-search-btn",onClick:()=>{d(""),te()},title:"Clear search",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("button",{type:"button",ref:$,className:`btn btn-filters-toggle ${h?"active":""} ${E?"loading":""}`,onClick:()=>{if(!E){if(h||(s("companyId",n.companyId||""),s("hcfId",n.hcfId||""),s("barcodeType",n.barcodeType||"All"),s("colorBlock",n.colorBlock||"All"),s("createdFromDate",n.createdFromDate||""),s("createdToDate",n.createdToDate||"")),$.current){const Be=$.current.getBoundingClientRect();we({top:Be.bottom+8,left:Be.left})}f(!h)}},disabled:E,title:"Open filters",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[a.companyId,a.hcfId,a.barcodeType&&a.barcodeType!=="All"?a.barcodeType:"",a.colorBlock&&a.colorBlock!=="All"?a.colorBlock:"",a.createdFromDate,a.createdToDate].filter(Boolean).length>0&&e.jsx("span",{className:"filter-count",children:[a.companyId,a.hcfId,a.barcodeType&&a.barcodeType!=="All"?a.barcodeType:"",a.colorBlock&&a.colorBlock!=="All"?a.colorBlock:"",a.createdFromDate,a.createdToDate].filter(Boolean).length})]})]}),h&&Wc.createPortal(e.jsx("div",{className:"filter-modal-overlay",onClick:()=>{f(!1),we(null)},children:e.jsxs("div",{className:"filter-modal-content",onClick:Be=>Be.stopPropagation(),style:ee?{position:"fixed",top:`${ee.top}px`,left:`${ee.left}px`,margin:0}:{},children:[e.jsxs("div",{className:"filter-modal-header",children:[e.jsx("h3",{className:"filter-modal-title",children:"Filters"}),e.jsxs("div",{className:"filter-modal-actions",children:[e.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{s("companyId",""),s("hcfId",""),s("createdFromDate",""),s("createdToDate",""),s("barcodeType","All"),s("colorBlock","All")},children:"Clear Filters"}),e.jsx("button",{className:"filter-modal-close-btn",onClick:()=>f(!1),title:"Close filters",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),e.jsx("div",{className:"filter-modal-body",children:e.jsxs("div",{className:"filter-modal-grid",children:[e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Created Date"}),e.jsxs("div",{className:"filter-date-range",children:[e.jsx("input",{type:"date",className:"filter-modal-input",value:a.createdFromDate||"",onChange:Be=>s("createdFromDate",Be.target.value),placeholder:"Select Date"}),e.jsx("span",{className:"filter-date-separator",children:"to"}),e.jsx("input",{type:"date",className:"filter-modal-input",value:a.createdToDate||"",onChange:Be=>s("createdToDate",Be.target.value),placeholder:"Select Date"})]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Company Name"}),e.jsxs("select",{className:"filter-modal-select",value:a.companyId||"",onChange:Be=>{s("companyId",Be.target.value),s("hcfId","")},children:[e.jsx("option",{value:"",children:"Select Company Name"}),g.map(Be=>e.jsxs("option",{value:Be.id,children:[Be.companyCode," - ",Be.companyName]},Be.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),e.jsxs("select",{className:"filter-modal-select",value:a.hcfId||"",onChange:Be=>s("hcfId",Be.target.value),disabled:!a.companyId,children:[e.jsx("option",{value:"",children:"Select HCF Name"}),(a.companyId?x.filter(Be=>Be.companyId===a.companyId):x).map(Be=>e.jsxs("option",{value:Be.id,children:[Be.hcfCode," - ",Be.hcfName]},Be.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Barcode Type"}),e.jsx("select",{className:"filter-modal-select",value:a.barcodeType||"All",onChange:Be=>s("barcodeType",Be.target.value),children:D.map(Be=>e.jsx("option",{value:Be.value,children:Be.label},Be.value))})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Color Block"}),e.jsx("select",{className:"filter-modal-select",value:a.colorBlock||"All",onChange:Be=>s("colorBlock",Be.target.value),children:ue.map(Be=>e.jsx("option",{value:Be.value,children:Be.label},Be.value))})]})]})}),e.jsx("div",{className:"filter-modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:ye,disabled:E,children:E?e.jsxs(e.Fragment,{children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:e.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),e.jsxs("div",{className:"results-section",ref:me,children:[e.jsx("div",{className:"table-scroll-container",children:e.jsxs("table",{className:"invoice-table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Barcode Value"}),e.jsx("th",{children:"HCF Code"}),e.jsx("th",{children:"Company"}),e.jsx("th",{children:"Barcode Type"}),e.jsx("th",{children:"Color Block"}),e.jsx("th",{children:"Sequence Number"}),e.jsx("th",{children:"Created Date"})]})}),e.jsx("tbody",{className:"table-body",children:E?Array.from({length:5}).map((Be,Me)=>e.jsxs("tr",{className:"table-row-skeleton",children:[e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})})]},`skeleton-${Me}`)):L?S.length===0?e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:7,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"7",y1:"8",x2:"7",y2:"16"}),e.jsx("line",{x1:"11",y1:"8",x2:"11",y2:"16"}),e.jsx("line",{x1:"15",y1:"8",x2:"15",y2:"16"}),e.jsx("line",{x1:"19",y1:"8",x2:"19",y2:"16"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No barcodes found"}),e.jsx("p",{className:"empty-state-text",children:A.trim()?`No barcodes match "${A.trim()}". Try adjusting your search or filters.`:l()?"No barcodes match the current filters. Try adjusting your filter criteria.":"No barcodes available. Use the search bar or apply filters to view reports."}),(l()||A.trim())&&e.jsx("div",{className:"empty-state-action",children:e.jsx("button",{onClick:pe,children:"Clear Filters"})})]})})}):S.map((Be,Me)=>{const $e=g.find(ne=>ne.id===Be.companyId);return e.jsxs("tr",{className:Me%2===0?"table-row-even":"table-row-odd",children:[e.jsx("td",{className:"invoice-number-cell",children:Be.barcodeValue}),e.jsx("td",{children:Be.hcfCode||"N/A"}),e.jsx("td",{children:($e==null?void 0:$e.companyName)||"N/A"}),e.jsx("td",{children:Be.barcodeType}),e.jsx("td",{children:e.jsx("span",{className:`status-badge status-badge--${Be.colorBlock.toLowerCase()}`,children:Be.colorBlock})}),e.jsx("td",{children:Be.sequenceNumber}),e.jsx("td",{children:je(Be.createdOn)})]},Be.id)}):e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:7,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"7",y1:"8",x2:"7",y2:"16"}),e.jsx("line",{x1:"11",y1:"8",x2:"11",y2:"16"}),e.jsx("line",{x1:"15",y1:"8",x2:"15",y2:"16"}),e.jsx("line",{x1:"19",y1:"8",x2:"19",y2:"16"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No barcodes found"}),e.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view barcode usage reports"})]})})})})]})}),e.jsxs("div",{className:"pagination-controls",children:[e.jsx("div",{className:"pagination-info",children:L&&S.length>0?`Showing ${X} of ${R.totalBarcodes} items`:"Showing 0 of 0 items"}),e.jsxs("div",{className:"pagination-right",children:[e.jsxs("select",{className:"rows-per-page-select",value:V,disabled:!L||S.length===0,onChange:async Be=>{o(1,Number(Be.target.value)),await te()},children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]}),e.jsxs("div",{className:"pagination-numbers",children:[e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Be=Math.max(1,le-1);o(Be),await te()},disabled:le===1||!L||S.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const Be=[];let $e=Math.max(1,le-Math.floor(2.5)),ne=Math.min(re,$e+5-1);ne-$e<4&&($e=Math.max(1,ne-5+1)),$e>1&&(Be.push(1),$e>2&&Be.push("..."));for(let Pe=$e;Pe<=ne;Pe++)Be.push(Pe);return ne<re&&(ne<re-1&&Be.push("..."),Be.push(re)),Be.map((Pe,_e)=>{if(Pe==="...")return e.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${_e}`);const rt=Pe;return e.jsx("button",{className:`pagination-page-btn ${le===rt?"active":""}`,onClick:async()=>{o(rt),await te()},disabled:!L||S.length===0,children:rt},rt)})})(),e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Be=Math.min(re,le+1);o(Be),await te()},disabled:le===re||re===0||!L||S.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Rse=()=>{const r=jn();qa();const[t,n]=C.useState({page:1,pageSize:25,createdFromDate:"",createdToDate:"",companyId:"",roleId:"",status:"All",employmentType:"All",searchText:"",sortBy:"createdOn",sortOrder:"DESC"}),[a,s]=C.useState({createdFromDate:"",createdToDate:"",companyId:"",roleId:"",status:"All",employmentType:"All"}),[i,c]=C.useState(!1),o=t.searchText||"",[d,l]=C.useState([]),[u,h]=C.useState([]),[f,A]=C.useState([]),[g,m]=C.useState([]),[x,y]=C.useState(!1),[j,b]=C.useState(!1),[S,w]=C.useState(null),E=t.page||1,I=t.pageSize||25,L=C.useRef(null),J=C.useRef(null),[ae,G]=C.useState(null),[le,V]=C.useState({totalUsers:0,activeUsers:0,inactiveUsers:0});C.useEffect(()=>{(async()=>{try{const[$e,ne]=await Promise.all([ha.getAllCompanies(),zp.getAllRoles()]);l($e),h(ne)}catch($e){console.error("Error loading master data:",$e)}})()},[]);const me=t.companyId?u.filter(Me=>Me.companyId===t.companyId):u,$=()=>{var Me;return!!(t.createdFromDate||t.createdToDate||t.companyId||t.roleId||t.status&&t.status!=="All"||t.employmentType&&t.employmentType!=="All"||(Me=t.searchText)!=null&&Me.trim())},ee=()=>{if(!$())return"No filters applied. Select a date range or search to view users.";const Me=[];if(t.createdFromDate&&t.createdToDate){const $e=new Date(t.createdFromDate),ne=new Date(t.createdToDate),Pe=$e.toLocaleDateString("en-US",{month:"short",day:"numeric"}),_e=ne.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});Me.push(`${Pe} - ${_e}`)}else if(t.createdFromDate||t.createdToDate){if(t.createdFromDate){const $e=new Date(t.createdFromDate);Me.push(`From ${$e.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}if(t.createdToDate){const $e=new Date(t.createdToDate);Me.push(`To ${$e.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}}if(t.companyId){const $e=d.find(ne=>ne.id===t.companyId);Me.push($e?$e.companyName:"Selected Company")}else Me.push("All Companies");if(t.roleId){const $e=me.find(ne=>ne.roleId===t.roleId);Me.push($e?$e.roleName:"Selected Role")}else Me.push("All Roles");return t.status&&t.status!=="All"?Me.push(t.status):Me.push("All Status"),`Showing users for: ${Me.join("  ")}`},we=(Me,$e)=>{s(ne=>({...ne,[Me]:$e}))},R=()=>{n(Me=>({...Me,createdFromDate:a.createdFromDate||"",createdToDate:a.createdToDate||"",companyId:a.companyId||"",roleId:a.roleId||"",status:a.status||"All",employmentType:a.employmentType||"All",page:1}))},q=()=>{const Me={page:1,pageSize:t.pageSize||25,createdFromDate:"",createdToDate:"",companyId:"",roleId:"",status:"All",employmentType:"All",searchText:"",sortBy:"createdOn",sortOrder:"DESC"};n(Me),s({createdFromDate:"",createdToDate:"",companyId:"",roleId:"",status:"All",employmentType:"All"})},ie=(Me,$e)=>{n(ne=>({...ne,page:Me,...$e!==void 0&&{pageSize:$e}}))},Z=Me=>{n($e=>({...$e,searchText:Me,page:1}))},D=[{value:"All",label:"All Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"},{value:"Draft",label:"Draft"}],ue=[{value:"All",label:"All Types"},{value:"Permanent",label:"Permanent"},{value:"Contract",label:"Contract"},{value:"Part-time",label:"Part-time"}],te=async()=>{var Me;y(!0),w(null);try{let $e=[];if(t.companyId)$e=await Hc.getUsersByCompany(t.companyId);else{const et=d.length>0?d:await ha.getAllCompanies();for(const Le of et)try{const it=await Hc.getUsersByCompany(Le.id);$e.push(...it)}catch(it){console.warn(`Failed to load users for company ${Le.companyName}:`,it)}}let ne=$e;if(t.createdFromDate){const et=new Date(t.createdFromDate);ne=ne.filter(Le=>new Date(Le.createdOn)>=et)}if(t.createdToDate){const et=new Date(t.createdToDate);et.setHours(23,59,59,999),ne=ne.filter(Le=>new Date(Le.createdOn)<=et)}if(t.roleId&&(ne=ne.filter(et=>et.userRoleId===t.roleId)),t.status&&t.status!=="All"&&(ne=ne.filter(et=>et.status===t.status)),t.employmentType&&t.employmentType!=="All"&&(ne=ne.filter(et=>et.employmentType===t.employmentType)),(Me=t.searchText)!=null&&Me.trim()){const et=t.searchText.toLowerCase().trim();ne=ne.filter(Le=>{const it=(Le.userName||"").toLowerCase(),Wt=(Le.employeeCode||"").toLowerCase(),qe=(Le.emailAddress||"").toLowerCase(),St=(Le.mobileNumber||"").toLowerCase();return it.includes(et)||Wt.includes(et)||qe.includes(et)||St.includes(et)})}ne.sort((et,Le)=>{const it=et[t.sortBy]||"",Wt=Le[t.sortBy]||"";return t.sortOrder==="ASC"?it>Wt?1:-1:it<Wt?1:-1});const Pe=(E-1)*I,_e=Pe+I,rt=ne.slice(Pe,_e);A(ne),m(rt),b(!0),V({totalUsers:ne.length,activeUsers:ne.filter(et=>et.status==="Active").length,inactiveUsers:ne.filter(et=>et.status==="Inactive").length})}catch($e){console.error("Error loading users:",$e),w($e.message||"Failed to load users"),A([]),m([])}finally{y(!1)}};C.useEffect(()=>{if(d.length>0){const Me=setTimeout(()=>{te()},500);return()=>clearTimeout(Me)}},[t,d]);const ye=async()=>{R(),c(!1),await te()},pe=async()=>{q(),c(!1),await te()},je=Me=>Me?new Date(Me).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",re=Me=>{switch(Me){case"Active":return"status-badge status-badge--active";case"Inactive":return"status-badge status-badge--inactive";case"Draft":return"status-badge status-badge--draft";default:return"status-badge status-badge--active"}},he=j&&le.totalUsers>0?Math.ceil(le.totalUsers/I):0,X=(E-1)*I,Ae=Math.min(X+g.length,le.totalUsers),Be=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/master",label:"Master",icon:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return e.jsxs(Ec,{navItems:Be,children:[e.jsx(_a,{title:"User Report",subtitle:$()?void 0:ee()}),e.jsx("div",{className:"invoice-report-page",children:e.jsxs("div",{className:"report-content-wrapper",children:[e.jsxs("div",{className:"search-actions-row",children:[e.jsxs("div",{className:`search-container ${x?"loading":""}`,children:[e.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by User Name, Employee Code, Email, Mobile Number",value:o,onChange:Me=>Z(Me.target.value),onKeyDown:Me=>{Me.key==="Enter"&&!x&&(Me.preventDefault(),te())},disabled:x}),o&&!x&&e.jsx("button",{className:"clear-search-btn",onClick:()=>{Z(""),te()},title:"Clear search",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("button",{type:"button",ref:J,className:`btn btn-filters-toggle ${i?"active":""} ${x?"loading":""}`,onClick:()=>{if(!x){if(i||(we("companyId",t.companyId||""),we("roleId",t.roleId||""),we("status",t.status||"All"),we("employmentType",t.employmentType||"All"),we("createdFromDate",t.createdFromDate||""),we("createdToDate",t.createdToDate||"")),J.current){const Me=J.current.getBoundingClientRect();G({top:Me.bottom+8,left:Me.left})}c(!i)}},disabled:x,title:"Open filters",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[a.companyId,a.roleId,a.status&&a.status!=="All"?a.status:"",a.employmentType&&a.employmentType!=="All"?a.employmentType:"",a.createdFromDate,a.createdToDate].filter(Boolean).length>0&&e.jsx("span",{className:"filter-count",children:[a.companyId,a.roleId,a.status&&a.status!=="All"?a.status:"",a.employmentType&&a.employmentType!=="All"?a.employmentType:"",a.createdFromDate,a.createdToDate].filter(Boolean).length})]})]}),i&&Wc.createPortal(e.jsx("div",{className:"filter-modal-overlay",onClick:()=>{c(!1),G(null)},children:e.jsxs("div",{className:"filter-modal-content",onClick:Me=>Me.stopPropagation(),style:ae?{position:"fixed",top:`${ae.top}px`,left:`${ae.left}px`,margin:0}:{},children:[e.jsxs("div",{className:"filter-modal-header",children:[e.jsx("h3",{className:"filter-modal-title",children:"Filters"}),e.jsxs("div",{className:"filter-modal-actions",children:[e.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{we("companyId",""),we("roleId",""),we("createdFromDate",""),we("createdToDate",""),we("status","All"),we("employmentType","All")},children:"Clear Filters"}),e.jsx("button",{className:"filter-modal-close-btn",onClick:()=>c(!1),title:"Close filters",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),e.jsx("div",{className:"filter-modal-body",children:e.jsxs("div",{className:"filter-modal-grid",children:[e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Created Date"}),e.jsxs("div",{className:"filter-date-range",children:[e.jsx("input",{type:"date",className:"filter-modal-input",value:a.createdFromDate||"",onChange:Me=>we("createdFromDate",Me.target.value),placeholder:"Select Date"}),e.jsx("span",{className:"filter-date-separator",children:"to"}),e.jsx("input",{type:"date",className:"filter-modal-input",value:a.createdToDate||"",onChange:Me=>we("createdToDate",Me.target.value),placeholder:"Select Date"})]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Company Name"}),e.jsxs("select",{className:"filter-modal-select",value:a.companyId||"",onChange:Me=>{we("companyId",Me.target.value),we("roleId","")},children:[e.jsx("option",{value:"",children:"Select Company Name"}),d.map(Me=>e.jsxs("option",{value:Me.id,children:[Me.companyCode," - ",Me.companyName]},Me.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Role"}),e.jsxs("select",{className:"filter-modal-select",value:a.roleId||"",onChange:Me=>we("roleId",Me.target.value),disabled:!a.companyId,children:[e.jsx("option",{value:"",children:"Select Role"}),(a.companyId?u.filter(Me=>Me.companyId===a.companyId):u).map(Me=>e.jsx("option",{value:Me.roleId,children:Me.roleName},Me.roleId))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Status"}),e.jsx("select",{className:"filter-modal-select",value:a.status||"All",onChange:Me=>we("status",Me.target.value),children:D.map(Me=>e.jsx("option",{value:Me.value,children:Me.label},Me.value))})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Employment Type"}),e.jsx("select",{className:"filter-modal-select",value:a.employmentType||"All",onChange:Me=>we("employmentType",Me.target.value),children:ue.map(Me=>e.jsx("option",{value:Me.value,children:Me.label},Me.value))})]})]})}),e.jsx("div",{className:"filter-modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:ye,disabled:x,children:x?e.jsxs(e.Fragment,{children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:e.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),e.jsxs("div",{className:"results-section",ref:L,children:[e.jsx("div",{className:"table-scroll-container",children:e.jsxs("table",{className:"invoice-table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{children:"User Name"}),e.jsx("th",{children:"Employee Code"}),e.jsx("th",{children:"Email"}),e.jsx("th",{children:"Mobile"}),e.jsx("th",{children:"Company"}),e.jsx("th",{children:"Role"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Employment Type"}),e.jsx("th",{children:"Created Date"})]})}),e.jsx("tbody",{className:"table-body",children:x?Array.from({length:5}).map((Me,$e)=>e.jsxs("tr",{className:"table-row-skeleton",children:[e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell skeleton-badge"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})})]},`skeleton-${$e}`)):j?g.length===0?e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:9,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),e.jsx("path",{d:"M20 8v6M23 11h-6"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No users found"}),e.jsx("p",{className:"empty-state-text",children:o.trim()?`No users match "${o.trim()}". Try adjusting your search or filters.`:$()?"No users match the current filters. Try adjusting your filter criteria.":"No users available. Use the search bar or apply filters to view reports."}),($()||o.trim())&&e.jsx("div",{className:"empty-state-action",children:e.jsx("button",{onClick:pe,children:"Clear Filters"})})]})})}):g.map((Me,$e)=>{const ne=u.find(_e=>_e.roleId===Me.userRoleId),Pe=d.find(_e=>_e.id===Me.companyId);return e.jsxs("tr",{className:$e%2===0?"table-row-even":"table-row-odd",children:[e.jsx("td",{className:"invoice-number-cell",children:Me.userName}),e.jsx("td",{children:Me.employeeCode||"N/A"}),e.jsx("td",{children:Me.emailAddress||"N/A"}),e.jsx("td",{children:Me.mobileNumber}),e.jsx("td",{children:(Pe==null?void 0:Pe.companyName)||"N/A"}),e.jsx("td",{children:(ne==null?void 0:ne.roleName)||"N/A"}),e.jsx("td",{className:"text-center",children:e.jsx("span",{className:re(Me.status),children:Me.status})}),e.jsx("td",{children:Me.employmentType||"N/A"}),e.jsx("td",{children:je(Me.createdOn)})]},Me.userId)}):e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:9,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),e.jsx("path",{d:"M20 8v6M23 11h-6"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No users found"}),e.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view user reports"})]})})})})]})}),e.jsxs("div",{className:"pagination-controls",children:[e.jsx("div",{className:"pagination-info",children:j&&g.length>0?`Showing ${Ae} of ${le.totalUsers} items`:"Showing 0 of 0 items"}),e.jsxs("div",{className:"pagination-right",children:[e.jsxs("select",{className:"rows-per-page-select",value:I,disabled:!j||g.length===0,onChange:async Me=>{ie(1,Number(Me.target.value)),await te()},children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]}),e.jsxs("div",{className:"pagination-numbers",children:[e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Me=Math.max(1,E-1);ie(Me),await te()},disabled:E===1||!j||g.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const Me=[];let ne=Math.max(1,E-Math.floor(2.5)),Pe=Math.min(he,ne+5-1);Pe-ne<4&&(ne=Math.max(1,Pe-5+1)),ne>1&&(Me.push(1),ne>2&&Me.push("..."));for(let _e=ne;_e<=Pe;_e++)Me.push(_e);return Pe<he&&(Pe<he-1&&Me.push("..."),Me.push(he)),Me.map((_e,rt)=>{if(_e==="...")return e.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${rt}`);const et=_e;return e.jsx("button",{className:`pagination-page-btn ${E===et?"active":""}`,onClick:async()=>{ie(et),await te()},disabled:!j||g.length===0,children:et},et)})})(),e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Me=Math.min(he,E+1);ie(Me),await te()},disabled:E===he||he===0||!j||g.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})})]})},Lse=()=>{const r=jn(),t=qa(),[n,a]=C.useState({page:1,pageSize:25,createdFromDate:"",createdToDate:"",companyId:"",vehMake:"",status:"All",complianceStatus:"All",searchText:"",sortBy:"createdOn",sortOrder:"DESC"}),[s,i]=C.useState({createdFromDate:"",createdToDate:"",companyId:"",vehMake:"",status:"All",complianceStatus:"All"}),[c,o]=C.useState(!1),d=n.searchText||"",[l,u]=C.useState([]),[h,f]=C.useState([]),[A,g]=C.useState([]),[m,x]=C.useState(!1),[y,j]=C.useState(!1),[b,S]=C.useState(null),w=n.page||1,E=n.pageSize||25,I=C.useRef(null),L=C.useRef(null),[J,ae]=C.useState(null),[G,le]=C.useState({totalFleets:0,activeFleets:0,inactiveFleets:0});C.useEffect(()=>{(async()=>{try{const Pe=await ha.getAllCompanies();u(Pe)}catch(Pe){console.error("Error loading master data:",Pe)}})()},[]);const V=()=>{var ne;return!!(n.createdFromDate||n.createdToDate||n.companyId||n.vehMake||n.status&&n.status!=="All"||n.complianceStatus&&n.complianceStatus!=="All"||(ne=n.searchText)!=null&&ne.trim())},me=()=>{if(!V())return"No filters applied. Select a date range or search to view fleet vehicles.";const ne=[];if(n.createdFromDate&&n.createdToDate){const Pe=new Date(n.createdFromDate),_e=new Date(n.createdToDate),rt=Pe.toLocaleDateString("en-US",{month:"short",day:"numeric"}),et=_e.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});ne.push(`${rt} - ${et}`)}else if(n.createdFromDate||n.createdToDate){if(n.createdFromDate){const Pe=new Date(n.createdFromDate);ne.push(`From ${Pe.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}if(n.createdToDate){const Pe=new Date(n.createdToDate);ne.push(`To ${Pe.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}}if(n.companyId){const Pe=l.find(_e=>_e.id===n.companyId);ne.push(Pe?Pe.companyName:"Selected Company")}else ne.push("All Companies");return n.vehMake&&n.vehMake!=="All"&&ne.push(`Make: ${n.vehMake}`),n.status&&n.status!=="All"?ne.push(n.status):ne.push("All Status"),n.complianceStatus&&n.complianceStatus!=="All"&&ne.push(`Compliance: ${n.complianceStatus}`),`Showing fleet vehicles for: ${ne.join("  ")}`},$=(ne,Pe)=>{i(_e=>({..._e,[ne]:Pe}))},ee=()=>{a(ne=>({...ne,createdFromDate:s.createdFromDate||"",createdToDate:s.createdToDate||"",companyId:s.companyId||"",vehMake:s.vehMake||"",status:s.status||"All",complianceStatus:s.complianceStatus||"All",page:1}))},we=()=>{const ne={page:1,pageSize:n.pageSize||25,createdFromDate:"",createdToDate:"",companyId:"",vehMake:"",status:"All",complianceStatus:"All",searchText:"",sortBy:"createdOn",sortOrder:"DESC"};a(ne),i({createdFromDate:"",createdToDate:"",companyId:"",vehMake:"",status:"All",complianceStatus:"All"})},R=(ne,Pe)=>{a(_e=>({..._e,page:ne,...Pe!==void 0&&{pageSize:Pe}}))},q=ne=>{a(Pe=>({...Pe,searchText:ne,page:1}))},ie=[{value:"All",label:"All Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],Z=[{value:"All",label:"All"},{value:"Compliant",label:"Compliant"},{value:"Expiring Soon",label:"Expiring Soon"},{value:"Expired",label:"Expired"}],D=()=>{const ne=new Set;return h.forEach(Pe=>{Pe.vehMake&&ne.add(Pe.vehMake)}),Array.from(ne).sort()},ue=ne=>{const Pe=new Date;Pe.setHours(0,0,0,0);const _e=[ne.nextFCDate?new Date(ne.nextFCDate):null,ne.pucDateValidUpto?new Date(ne.pucDateValidUpto):null,ne.insuranceValidUpto?new Date(ne.insuranceValidUpto):null].filter(Boolean);if(_e.length===0)return"Compliant";if(_e.filter(it=>it<Pe).length>0)return"Expired";const et=new Date(Pe);return et.setDate(et.getDate()+30),_e.filter(it=>it<=et&&it>=Pe).length>0?"Expiring Soon":"Compliant"},te=async()=>{var ne;x(!0),S(null);try{let Pe=[];if(n.companyId)Pe=await Fh.getAllFleets(n.companyId);else{const it=l.length>0?l:await ha.getAllCompanies();for(const Wt of it)try{const qe=await Fh.getAllFleets(Wt.id);Pe.push(...qe)}catch(qe){console.warn(`Failed to load fleets for company ${Wt.companyName}:`,qe)}}let _e=Pe;if(n.createdFromDate){const it=new Date(n.createdFromDate);_e=_e.filter(Wt=>new Date(Wt.createdOn)>=it)}if(n.createdToDate){const it=new Date(n.createdToDate);it.setHours(23,59,59,999),_e=_e.filter(Wt=>new Date(Wt.createdOn)<=it)}if(n.companyId&&(_e=_e.filter(it=>it.companyId===n.companyId)),n.vehMake&&n.vehMake!=="All"&&(_e=_e.filter(it=>it.vehMake===n.vehMake)),n.status&&n.status!=="All"&&(_e=_e.filter(it=>it.status===n.status)),n.complianceStatus&&n.complianceStatus!=="All"&&(_e=_e.filter(it=>ue(it)===n.complianceStatus)),(ne=n.searchText)!=null&&ne.trim()){const it=n.searchText.toLowerCase().trim();_e=_e.filter(Wt=>{const qe=(Wt.vehicleNum||"").toLowerCase(),St=(Wt.vehMake||"").toLowerCase(),_t=(Wt.vehModel||"").toLowerCase(),ar=(Wt.ownerName||"").toLowerCase(),en=(Wt.ownerContact||"").toLowerCase(),Xt=(Wt.capacity||"").toLowerCase();return qe.includes(it)||St.includes(it)||_t.includes(it)||ar.includes(it)||en.includes(it)||Xt.includes(it)})}_e.sort((it,Wt)=>{const qe=it[n.sortBy]||"",St=Wt[n.sortBy]||"";return n.sortOrder==="ASC"?qe>St?1:-1:qe<St?1:-1});const rt=(w-1)*E,et=rt+E,Le=_e.slice(rt,et);f(_e),g(Le),j(!0),le({totalFleets:_e.length,activeFleets:_e.filter(it=>it.status==="Active").length,inactiveFleets:_e.filter(it=>it.status==="Inactive").length})}catch(Pe){console.error("Error loading fleets:",Pe),S(Pe.message||"Failed to load fleet vehicles"),f([]),g([])}finally{x(!1)}};C.useEffect(()=>{if(l.length>0){const ne=setTimeout(()=>{te()},500);return()=>clearTimeout(ne)}},[n,l]);const ye=async()=>{ee(),o(!1),await te()},pe=async()=>{we(),o(!1),await te()},je=ne=>ne?new Date(ne).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",re=ne=>{switch(ne){case"Active":return"status-badge status-badge--active";case"Inactive":return"status-badge status-badge--inactive";default:return"status-badge status-badge--active"}},he=ne=>{switch(ne){case"Compliant":return"status-badge status-badge--compliant";case"Expiring Soon":return"status-badge status-badge--expiring";case"Expired":return"status-badge status-badge--expired";default:return"status-badge status-badge--compliant"}},X=y&&G.totalFleets>0?Math.ceil(G.totalFleets/E):0,Ae=(w-1)*E,Be=Math.min(Ae+A.length,G.totalFleets),Me=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/master",label:"Master",icon:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}],$e=D();return e.jsx(Ec,{navItems:Me,children:e.jsxs("div",{className:"invoice-report-page",children:[e.jsxs("div",{className:"report-breadcrumb",children:[e.jsxs("button",{className:"back-button",onClick:()=>t("/report"),children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M19 12H5"}),e.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Reports"}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Fleet Master Report"})]}),e.jsxs("div",{className:"report-content-wrapper",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Fleet Master Report"}),!V()&&e.jsx("div",{className:"page-context-subtitle",children:me()})]}),e.jsxs("div",{className:"search-actions-row",children:[e.jsxs("div",{className:`search-container ${m?"loading":""}`,children:[e.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Vehicle Number, Make, Model, Owner Name, Contact, Capacity",value:d,onChange:ne=>q(ne.target.value),onKeyDown:ne=>{ne.key==="Enter"&&!m&&(ne.preventDefault(),te())},disabled:m}),d&&!m&&e.jsx("button",{className:"clear-search-btn",onClick:()=>{q(""),te()},title:"Clear search",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("button",{type:"button",ref:L,className:`btn btn-filters-toggle ${c?"active":""} ${m?"loading":""}`,onClick:()=>{if(!m){if(c||($("companyId",n.companyId||""),$("vehMake",n.vehMake||""),$("status",n.status||"All"),$("complianceStatus",n.complianceStatus||"All"),$("createdFromDate",n.createdFromDate||""),$("createdToDate",n.createdToDate||"")),L.current){const ne=L.current.getBoundingClientRect();ae({top:ne.bottom+8,left:ne.left})}o(!c)}},disabled:m,title:"Open filters",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[s.companyId,s.vehMake&&s.vehMake!=="All"?s.vehMake:"",s.status&&s.status!=="All"?s.status:"",s.complianceStatus&&s.complianceStatus!=="All"?s.complianceStatus:"",s.createdFromDate,s.createdToDate].filter(Boolean).length>0&&e.jsx("span",{className:"filter-count",children:[s.companyId,s.vehMake&&s.vehMake!=="All"?s.vehMake:"",s.status&&s.status!=="All"?s.status:"",s.complianceStatus&&s.complianceStatus!=="All"?s.complianceStatus:"",s.createdFromDate,s.createdToDate].filter(Boolean).length})]})]}),c&&Wc.createPortal(e.jsx("div",{className:"filter-modal-overlay",onClick:()=>{o(!1),ae(null)},children:e.jsxs("div",{className:"filter-modal-content",onClick:ne=>ne.stopPropagation(),style:J?{position:"fixed",top:`${J.top}px`,left:`${J.left}px`,margin:0}:{},children:[e.jsxs("div",{className:"filter-modal-header",children:[e.jsx("h3",{className:"filter-modal-title",children:"Filters"}),e.jsxs("div",{className:"filter-modal-actions",children:[e.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{$("companyId",""),$("vehMake",""),$("createdFromDate",""),$("createdToDate",""),$("status","All"),$("complianceStatus","All")},children:"Clear Filters"}),e.jsx("button",{className:"filter-modal-close-btn",onClick:()=>o(!1),title:"Close filters",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),e.jsx("div",{className:"filter-modal-body",children:e.jsxs("div",{className:"filter-modal-grid",children:[e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Created Date"}),e.jsxs("div",{className:"filter-date-range",children:[e.jsx("input",{type:"date",className:"filter-modal-input",value:s.createdFromDate||"",onChange:ne=>$("createdFromDate",ne.target.value),placeholder:"Select Date"}),e.jsx("span",{className:"filter-date-separator",children:"to"}),e.jsx("input",{type:"date",className:"filter-modal-input",value:s.createdToDate||"",onChange:ne=>$("createdToDate",ne.target.value),placeholder:"Select Date"})]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Company Name"}),e.jsxs("select",{className:"filter-modal-select",value:s.companyId||"",onChange:ne=>$("companyId",ne.target.value),children:[e.jsx("option",{value:"",children:"Select Company Name"}),l.map(ne=>e.jsxs("option",{value:ne.id,children:[ne.companyCode," - ",ne.companyName]},ne.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Vehicle Make"}),e.jsxs("select",{className:"filter-modal-select",value:s.vehMake||"All",onChange:ne=>$("vehMake",ne.target.value),children:[e.jsx("option",{value:"All",children:"All Makes"}),$e.map(ne=>e.jsx("option",{value:ne,children:ne},ne))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Status"}),e.jsx("select",{className:"filter-modal-select",value:s.status||"All",onChange:ne=>$("status",ne.target.value),children:ie.map(ne=>e.jsx("option",{value:ne.value,children:ne.label},ne.value))})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Compliance Status"}),e.jsx("select",{className:"filter-modal-select",value:s.complianceStatus||"All",onChange:ne=>$("complianceStatus",ne.target.value),children:Z.map(ne=>e.jsx("option",{value:ne.value,children:ne.label},ne.value))})]})]})}),e.jsx("div",{className:"filter-modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:ye,disabled:m,children:m?e.jsxs(e.Fragment,{children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:e.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),e.jsxs("div",{className:"results-section",ref:I,children:[e.jsx("div",{className:"table-scroll-container",children:e.jsxs("table",{className:"invoice-table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Vehicle Number"}),e.jsx("th",{children:"Company"}),e.jsx("th",{children:"Make"}),e.jsx("th",{children:"Model"}),e.jsx("th",{children:"Capacity"}),e.jsx("th",{children:"Owner Name"}),e.jsx("th",{children:"Owner Contact"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Compliance"}),e.jsx("th",{children:"Created Date"})]})}),e.jsx("tbody",{className:"table-body",children:m?Array.from({length:5}).map((ne,Pe)=>e.jsxs("tr",{className:"table-row-skeleton",children:[e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell skeleton-badge"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell skeleton-badge"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})})]},`skeleton-${Pe}`)):y?A.length===0?e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:10,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),e.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No fleet vehicles found"}),e.jsx("p",{className:"empty-state-text",children:d.trim()?`No vehicles match "${d.trim()}". Try adjusting your search or filters.`:V()?"No vehicles match the current filters. Try adjusting your filter criteria.":"No vehicles available. Use the search bar or apply filters to view reports."}),(V()||d.trim())&&e.jsx("div",{className:"empty-state-action",children:e.jsx("button",{onClick:pe,children:"Clear Filters"})})]})})}):A.map((ne,Pe)=>{const _e=l.find(et=>et.id===ne.companyId),rt=ue(ne);return e.jsxs("tr",{className:Pe%2===0?"table-row-even":"table-row-odd",children:[e.jsx("td",{className:"invoice-number-cell",children:ne.vehicleNum}),e.jsx("td",{children:(_e==null?void 0:_e.companyName)||"N/A"}),e.jsx("td",{children:ne.vehMake||"N/A"}),e.jsx("td",{children:ne.vehModel||"N/A"}),e.jsx("td",{children:ne.capacity||"N/A"}),e.jsx("td",{children:ne.ownerName||"N/A"}),e.jsx("td",{children:ne.ownerContact||"N/A"}),e.jsx("td",{className:"text-center",children:e.jsx("span",{className:re(ne.status),children:ne.status})}),e.jsx("td",{className:"text-center",children:e.jsx("span",{className:he(rt),children:rt})}),e.jsx("td",{children:je(ne.createdOn)})]},ne.id)}):e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:10,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),e.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No fleet vehicles found"}),e.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view fleet reports"})]})})})})]})}),e.jsxs("div",{className:"pagination-controls",children:[e.jsx("div",{className:"pagination-info",children:y&&A.length>0?`Showing ${Be} of ${G.totalFleets} items`:"Showing 0 of 0 items"}),e.jsxs("div",{className:"pagination-right",children:[e.jsxs("select",{className:"rows-per-page-select",value:E,disabled:!y||A.length===0,onChange:async ne=>{R(1,Number(ne.target.value)),await te()},children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]}),e.jsxs("div",{className:"pagination-numbers",children:[e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ne=Math.max(1,w-1);R(ne),await te()},disabled:w===1||!y||A.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const ne=[];let _e=Math.max(1,w-Math.floor(2.5)),rt=Math.min(X,_e+5-1);rt-_e<4&&(_e=Math.max(1,rt-5+1)),_e>1&&(ne.push(1),_e>2&&ne.push("..."));for(let et=_e;et<=rt;et++)ne.push(et);return rt<X&&(rt<X-1&&ne.push("..."),ne.push(X)),ne.map((et,Le)=>{if(et==="...")return e.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${Le}`);const it=et;return e.jsx("button",{className:`pagination-page-btn ${w===it?"active":""}`,onClick:async()=>{R(it),await te()},disabled:!y||A.length===0,children:it},it)})})(),e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ne=Math.min(X,w+1);R(ne),await te()},disabled:w===X||X===0||!y||A.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},_k=()=>{const r=jn(),t=qa(),[n,a]=C.useState({page:1,pageSize:25,fromDate:"",toDate:"",companyId:"",hcfId:"",groupBy:"Company",searchText:"",sortBy:"invoiceDate",sortOrder:"DESC"}),[s,i]=C.useState({fromDate:"",toDate:"",companyId:"",hcfId:"",groupBy:"Company"}),[c,o]=C.useState(!1),d=n.searchText||"",[l,u]=C.useState([]),[h,f]=C.useState([]),[A,g]=C.useState([]),[m,x]=C.useState([]),[y,j]=C.useState(!1),[b,S]=C.useState(!1),[w,E]=C.useState(null),I=n.page||1,L=n.pageSize||25,J=C.useRef(null),ae=C.useRef(null),[G,le]=C.useState(null),[V,me]=C.useState({totalRevenue:0,totalInvoices:0,paidAmount:0});C.useEffect(()=>{(async()=>{try{const[he,X]=await Promise.all([ha.getAllCompanies(),Mi.getAllHcfs()]);u(he),f(X)}catch(he){console.error("Error loading master data:",he)}})()},[]);const $=n.companyId?h.filter(re=>re.companyId===n.companyId):h,ee=()=>{var re;return!!(n.fromDate||n.toDate||n.companyId||n.hcfId||(re=n.searchText)!=null&&re.trim())},we=()=>{if(!ee())return"No filters applied. Select a date range or search to view revenue analysis.";const re=[];if(n.fromDate&&n.toDate){const he=new Date(n.fromDate),X=new Date(n.toDate),Ae=he.toLocaleDateString("en-US",{month:"short",day:"numeric"}),Be=X.toLocaleDateString("en-US",{month:"short",day:"numeric"});re.push(`Date: ${Ae}${Be}`)}if(n.companyId){const he=l.find(X=>X.id===n.companyId);he&&re.push(`Company: ${he.companyName}`)}if(n.hcfId){const he=$.find(X=>X.id===n.hcfId);he&&re.push(`HCF: ${he.hcfCode}`)}return n.groupBy&&re.push(`Group By: ${n.groupBy}`),re.join("  ")},R=[{value:"Company",label:"By Company"},{value:"HCF",label:"By HCF"},{value:"Month",label:"By Month"},{value:"Quarter",label:"By Quarter"},{value:"Year",label:"By Year"}],q=async()=>{var re;j(!0),E(null);try{const he={page:n.page||1,pageSize:n.pageSize||25,invoiceFromDate:n.fromDate||void 0,invoiceToDate:n.toDate||void 0,companyId:n.companyId||void 0,hcfId:n.hcfId||void 0};let Ae=((await a1(he)).data||[]).map(ne=>({invoiceId:ne.invoiceId,companyId:ne.companyId,hcfId:ne.hcfId,invoiceNumber:ne.invoiceNumber,invoiceDate:ne.invoiceDate,dueDate:ne.dueDate,billingType:ne.billingType,billingDays:null,billingOption:"Bed-wise",generationType:"Manual",bedCount:null,bedRate:null,weightInKg:null,kgRate:null,lumpsumAmount:null,taxableValue:0,igst:0,cgst:0,sgst:0,roundOff:0,invoiceValue:ne.invoiceValue,totalPaidAmount:ne.totalPaidAmount,balanceAmount:ne.balanceAmount,status:ne.status,isLocked:!1,lockedAfterDate:null,financialYear:"",sequenceNumber:0,billingPeriodStart:null,billingPeriodEnd:null,notes:null,createdBy:null,createdOn:new Date().toISOString(),modifiedBy:null,modifiedOn:new Date().toISOString(),companyName:ne.companyName,companyCode:ne.companyCode,hcfName:ne.hcfName,hcfCode:ne.hcfCode}));if((re=n.searchText)!=null&&re.trim()){const ne=n.searchText.toLowerCase().trim();Ae=Ae.filter(Pe=>{const _e=(Pe.invoiceNumber||"").toLowerCase(),rt=(Pe.companyName||"").toLowerCase(),et=(Pe.hcfCode||"").toLowerCase();return _e.includes(ne)||rt.includes(ne)||et.includes(ne)||Pe.invoiceValue.toString().includes(ne)})}Ae.sort((ne,Pe)=>{const _e=ne[n.sortBy]||"",rt=Pe[n.sortBy]||"";return n.sortOrder==="ASC"?_e>rt?1:-1:_e<rt?1:-1});const Be=(I-1)*L,Me=Be+L,$e=Ae.slice(Be,Me);g(Ae),x($e),S(!0),me({totalRevenue:Ae.reduce((ne,Pe)=>ne+(Pe.invoiceValue||0),0),totalInvoices:Ae.length,paidAmount:Ae.reduce((ne,Pe)=>ne+(Pe.totalPaidAmount||0),0)})}catch(he){console.error("Error loading revenue data:",he),E(he.message||"Failed to load revenue analysis data"),g([]),x([])}finally{j(!1)}},ie=async()=>{a(re=>({...re,fromDate:s.fromDate||"",toDate:s.toDate||"",companyId:s.companyId||"",hcfId:s.hcfId||"",groupBy:s.groupBy||"Company",page:1})),o(!1),await q()},Z=async()=>{a({page:1,pageSize:25,fromDate:"",toDate:"",companyId:"",hcfId:"",groupBy:"Company",searchText:"",sortBy:"invoiceDate",sortOrder:"DESC"}),i({fromDate:"",toDate:"",companyId:"",hcfId:"",groupBy:"Company"}),o(!1),await q()};C.useEffect(()=>{if(l.length>0||!n.companyId){const re=setTimeout(()=>{q()},500);return()=>clearTimeout(re)}},[n,l]);const D=re=>re==null?"0.00":`${re.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`,ue=re=>re?new Date(re).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",te=b&&V.totalInvoices>0?Math.ceil(V.totalInvoices/L):0,ye=(I-1)*L,pe=Math.min(ye+m.length,V.totalInvoices),je=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return e.jsx(Ec,{navItems:je,children:e.jsxs("div",{className:"invoice-report-page",children:[e.jsxs("div",{className:"report-breadcrumb",children:[e.jsxs("button",{className:"back-button",onClick:()=>t("/report"),children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M19 12H5"}),e.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Reports"}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Revenue Analysis"})]}),e.jsxs("div",{className:"report-content-wrapper",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Revenue Analysis Report"}),!ee()&&e.jsx("div",{className:"page-context-subtitle",children:we()})]}),e.jsxs("div",{className:"search-actions-row",children:[e.jsxs("div",{className:`search-container ${y?"loading":""}`,children:[e.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Invoice Number, Company, HCF, Amount",value:d,onChange:re=>a(he=>({...he,searchText:re.target.value,page:1})),onKeyDown:re=>{re.key==="Enter"&&!y&&(re.preventDefault(),q())},disabled:y}),d&&!y&&e.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(re=>({...re,searchText:"",page:1})),(b||ee())&&await q()},title:"Clear search",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("button",{type:"button",ref:ae,className:`btn btn-filters-toggle ${c?"active":""} ${y?"loading":""}`,onClick:()=>{if(!y){if(c||i({fromDate:n.fromDate||"",toDate:n.toDate||"",companyId:n.companyId||"",hcfId:n.hcfId||"",groupBy:n.groupBy||"Company"}),ae.current){const re=ae.current.getBoundingClientRect();le({top:re.bottom+8,left:re.left})}o(!c)}},disabled:y,title:"Open filters",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfId,n.fromDate,n.toDate].filter(Boolean).length>0&&e.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfId,n.fromDate,n.toDate].filter(Boolean).length})]})]}),c&&Wc.createPortal(e.jsx("div",{className:"filter-modal-overlay",onClick:()=>{o(!1),le(null)},children:e.jsxs("div",{className:"filter-modal-content",onClick:re=>re.stopPropagation(),style:G?{position:"fixed",top:`${G.top}px`,left:`${G.left}px`,margin:0}:{},children:[e.jsxs("div",{className:"filter-modal-header",children:[e.jsx("h3",{className:"filter-modal-title",children:"Filters"}),e.jsxs("div",{className:"filter-modal-actions",children:[e.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{i({fromDate:"",toDate:"",companyId:"",hcfId:"",groupBy:"Company"})},children:"Clear Filters"}),e.jsx("button",{className:"filter-modal-close-btn",onClick:()=>o(!1),title:"Close filters",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),e.jsx("div",{className:"filter-modal-body",children:e.jsxs("div",{className:"filter-modal-grid",children:[e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Date Range"}),e.jsxs("div",{className:"filter-date-range",children:[e.jsx("input",{type:"date",className:"filter-modal-input",value:s.fromDate||"",onChange:re=>i(he=>({...he,fromDate:re.target.value})),placeholder:"From Date"}),e.jsx("span",{className:"filter-date-separator",children:"to"}),e.jsx("input",{type:"date",className:"filter-modal-input",value:s.toDate||"",onChange:re=>i(he=>({...he,toDate:re.target.value})),placeholder:"To Date"})]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Company Name"}),e.jsxs("select",{className:"filter-modal-select",value:s.companyId||"",onChange:re=>{i(he=>({...he,companyId:re.target.value,hcfId:""}))},children:[e.jsx("option",{value:"",children:"Select Company Name"}),l.map(re=>e.jsxs("option",{value:re.id,children:[re.companyCode," - ",re.companyName]},re.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),e.jsxs("select",{className:"filter-modal-select",value:s.hcfId||"",onChange:re=>i(he=>({...he,hcfId:re.target.value})),disabled:!s.companyId,children:[e.jsx("option",{value:"",children:"Select HCF Name"}),(s.companyId?h.filter(re=>re.companyId===s.companyId):h).map(re=>e.jsxs("option",{value:re.id,children:[re.hcfCode," - ",re.hcfName]},re.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Group By"}),e.jsx("select",{className:"filter-modal-select",value:s.groupBy||"Company",onChange:re=>i(he=>({...he,groupBy:re.target.value})),children:R.map(re=>e.jsx("option",{value:re.value,children:re.label},re.value))})]})]})}),e.jsx("div",{className:"filter-modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await ie(),o(!1)},disabled:y,children:y?e.jsxs(e.Fragment,{children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:e.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),w&&e.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:w}),e.jsxs("div",{className:"results-section",ref:J,children:[e.jsx("div",{className:"table-scroll-container",children:e.jsxs("table",{className:"invoice-table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Invoice No"}),e.jsx("th",{children:"Company"}),e.jsx("th",{children:"HCF"}),e.jsx("th",{children:"Invoice Date"}),e.jsx("th",{className:"text-right",children:"Invoice Amount"}),e.jsx("th",{className:"text-right",children:"Paid Amount"}),e.jsx("th",{className:"text-right",children:"Revenue"})]})}),e.jsx("tbody",{className:"table-body",children:y?Array.from({length:5}).map((re,he)=>e.jsxs("tr",{className:"table-row-skeleton",children:[e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{className:"text-right",children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{className:"text-right",children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{className:"text-right",children:e.jsx("div",{className:"skeleton-cell"})})]},`skeleton-${he}`)):b?m.length===0?e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:7,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No revenue data found"}),e.jsx("p",{className:"empty-state-text",children:d.trim()?`No data match "${d.trim()}". Try adjusting your search or filters.`:ee()?"No data match the current filters. Try adjusting your filter criteria.":"No revenue data available. Use the search bar or apply filters to view reports."}),(ee()||d.trim())&&e.jsx("div",{className:"empty-state-action",children:e.jsx("button",{onClick:Z,children:"Clear Filters"})})]})})}):m.map((re,he)=>e.jsxs("tr",{className:he%2===0?"table-row-even":"table-row-odd",children:[e.jsx("td",{className:"invoice-number-cell",children:re.invoiceNumber}),e.jsx("td",{children:re.companyName||"N/A"}),e.jsx("td",{children:re.hcfCode||"N/A"}),e.jsx("td",{children:ue(re.invoiceDate)}),e.jsx("td",{className:"text-right",children:D(re.invoiceValue)}),e.jsx("td",{className:"text-right",children:D(re.totalPaidAmount)}),e.jsx("td",{className:"text-right",children:D(re.invoiceValue)})]},re.invoiceId)):e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:7,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No revenue data found"}),e.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view revenue analysis reports."})]})})})})]})}),e.jsxs("div",{className:"pagination-controls",children:[e.jsx("div",{className:"pagination-info",children:b&&m.length>0?`Showing ${ye+1}-${pe} of ${V.totalInvoices} items`:"Showing 0 of 0 items"}),e.jsxs("div",{className:"pagination-right",children:[e.jsxs("select",{className:"rows-per-page-select",value:L,disabled:!b||m.length===0,onChange:async re=>{a(he=>({...he,page:1,pageSize:Number(re.target.value)}))},children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]}),e.jsxs("div",{className:"pagination-numbers",children:[e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const re=Math.max(1,I-1);a(he=>({...he,page:re}))},disabled:I===1||!b||m.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const re=[];let X=Math.max(1,I-Math.floor(2.5)),Ae=Math.min(te,X+5-1);Ae-X<4&&(X=Math.max(1,Ae-5+1)),X>1&&(re.push(1),X>2&&re.push("..."));for(let Be=X;Be<=Ae;Be++)re.push(Be);return Ae<te&&(Ae<te-1&&re.push("..."),re.push(te)),re.map((Be,Me)=>{if(Be==="...")return e.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${Me}`);const $e=Be;return e.jsx("button",{className:`pagination-page-btn ${I===$e?"active":""}`,onClick:async()=>{a(ne=>({...ne,page:$e}))},disabled:!b||m.length===0,children:$e},$e)})})(),e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const re=Math.min(te,I+1);a(he=>({...he,page:re}))},disabled:I===te||te===0||!b||m.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Ok=()=>{const r=jn(),t=qa(),[n,a]=C.useState({page:1,pageSize:25,fromDate:"",toDate:"",companyId:"",hcfId:"",agingPeriod:"All",searchText:"",sortBy:"invoiceDate",sortOrder:"DESC"}),[s,i]=C.useState({fromDate:"",toDate:"",companyId:"",hcfId:"",agingPeriod:"All"}),[c,o]=C.useState(!1),d=n.searchText||"",[l,u]=C.useState([]),[h,f]=C.useState([]),[A,g]=C.useState([]),[m,x]=C.useState([]),[y,j]=C.useState(!1),[b,S]=C.useState(!1),[w,E]=C.useState(null),I=n.page||1,L=n.pageSize||25,J=C.useRef(null),ae=C.useRef(null),[G,le]=C.useState(null),[V,me]=C.useState({totalOutstanding:0,totalInvoices:0});C.useEffect(()=>{(async()=>{try{const[Ae,Be]=await Promise.all([ha.getAllCompanies(),Mi.getAllHcfs()]);u(Ae),f(Be)}catch(Ae){console.error("Error loading master data:",Ae)}})()},[]);const $=n.companyId?h.filter(X=>X.companyId===n.companyId):h,ee=()=>{var X;return!!(n.fromDate||n.toDate||n.companyId||n.hcfId||n.agingPeriod&&n.agingPeriod!=="All"||(X=n.searchText)!=null&&X.trim())},we=()=>{if(!ee())return"No filters applied. Select a date range or search to view outstanding payments.";const X=[];if(n.fromDate&&n.toDate){const Ae=new Date(n.fromDate),Be=new Date(n.toDate),Me=Ae.toLocaleDateString("en-US",{month:"short",day:"numeric"}),$e=Be.toLocaleDateString("en-US",{month:"short",day:"numeric"});X.push(`Date: ${Me}${$e}`)}if(n.companyId){const Ae=l.find(Be=>Be.id===n.companyId);Ae&&X.push(`Company: ${Ae.companyName}`)}if(n.hcfId){const Ae=$.find(Be=>Be.id===n.hcfId);Ae&&X.push(`HCF: ${Ae.hcfCode}`)}return n.agingPeriod&&n.agingPeriod!=="All"&&X.push(`Aging: ${n.agingPeriod}`),X.join("  ")},R=[{value:"All",label:"All Periods"},{value:"0-30",label:"0-30 Days"},{value:"31-60",label:"31-60 Days"},{value:"61-90",label:"61-90 Days"},{value:"90+",label:"90+ Days"}],q=X=>{const Ae=new Date(X),Me=Math.abs(new Date().getTime()-Ae.getTime());return Math.ceil(Me/(1e3*60*60*24))},ie=async()=>{var X;j(!0),E(null);try{const Ae={page:n.page||1,pageSize:n.pageSize||25,invoiceFromDate:n.fromDate||void 0,invoiceToDate:n.toDate||void 0,companyId:n.companyId||void 0,hcfId:n.hcfId||void 0};let Me=((await a1(Ae)).data||[]).map(_e=>({invoiceId:_e.invoiceId,companyId:_e.companyId,hcfId:_e.hcfId,invoiceNumber:_e.invoiceNumber,invoiceDate:_e.invoiceDate,dueDate:_e.dueDate,billingType:_e.billingType,billingDays:null,billingOption:"Bed-wise",generationType:"Manual",bedCount:null,bedRate:null,weightInKg:null,kgRate:null,lumpsumAmount:null,taxableValue:0,igst:0,cgst:0,sgst:0,roundOff:0,invoiceValue:_e.invoiceValue,totalPaidAmount:_e.totalPaidAmount,balanceAmount:_e.balanceAmount,status:_e.status,isLocked:!1,lockedAfterDate:null,financialYear:"",sequenceNumber:0,billingPeriodStart:null,billingPeriodEnd:null,notes:null,createdBy:null,createdOn:new Date().toISOString(),modifiedBy:null,modifiedOn:new Date().toISOString(),companyName:_e.companyName,companyCode:_e.companyCode,hcfName:_e.hcfName,hcfCode:_e.hcfCode}));if(Me=Me.filter(_e=>(_e.balanceAmount||0)>0),(X=n.searchText)!=null&&X.trim()){const _e=n.searchText.toLowerCase().trim();Me=Me.filter(rt=>{const et=(rt.invoiceNumber||"").toLowerCase(),Le=(rt.companyName||"").toLowerCase(),it=(rt.hcfCode||"").toLowerCase();return et.includes(_e)||Le.includes(_e)||it.includes(_e)||rt.balanceAmount.toString().includes(_e)})}n.agingPeriod&&n.agingPeriod!=="All"&&(Me=Me.filter(_e=>{const rt=q(_e.invoiceDate);switch(n.agingPeriod){case"0-30":return rt>=0&&rt<=30;case"31-60":return rt>=31&&rt<=60;case"61-90":return rt>=61&&rt<=90;case"90+":return rt>90;default:return!0}})),Me.sort((_e,rt)=>{const et=_e[n.sortBy]||"",Le=rt[n.sortBy]||"";return n.sortOrder==="ASC"?et>Le?1:-1:et<Le?1:-1});const $e=(I-1)*L,ne=$e+L,Pe=Me.slice($e,ne);g(Me),x(Pe),S(!0),me({totalOutstanding:Me.reduce((_e,rt)=>_e+(rt.balanceAmount||0),0),totalInvoices:Me.length})}catch(Ae){console.error("Error loading outstanding data:",Ae),E(Ae.message||"Failed to load outstanding payment data"),g([]),x([])}finally{j(!1)}},Z=async()=>{a(X=>({...X,fromDate:s.fromDate||"",toDate:s.toDate||"",companyId:s.companyId||"",hcfId:s.hcfId||"",agingPeriod:s.agingPeriod||"All",page:1})),o(!1),await ie()},D=async()=>{a({page:1,pageSize:25,fromDate:"",toDate:"",companyId:"",hcfId:"",agingPeriod:"All",searchText:"",sortBy:"invoiceDate",sortOrder:"DESC"}),i({fromDate:"",toDate:"",companyId:"",hcfId:"",agingPeriod:"All"}),o(!1),await ie()};C.useEffect(()=>{if(l.length>0||!n.companyId){const X=setTimeout(()=>{ie()},500);return()=>clearTimeout(X)}},[n,l]);const ue=X=>X==null?"0.00":`${X.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`,te=X=>X?new Date(X).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",ye=X=>{switch(X){case"Paid":return"status-badge status-badge--paid";case"Partially Paid":return"status-badge status-badge--partial";case"Generated":return"status-badge status-badge--generated";case"Draft":return"status-badge status-badge--draft";case"Cancelled":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},pe=b&&V.totalInvoices>0?Math.ceil(V.totalInvoices/L):0,je=(I-1)*L,re=Math.min(je+m.length,V.totalInvoices),he=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return e.jsx(Ec,{navItems:he,children:e.jsxs("div",{className:"invoice-report-page",children:[e.jsxs("div",{className:"report-breadcrumb",children:[e.jsxs("button",{className:"back-button",onClick:()=>t("/report"),children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M19 12H5"}),e.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Reports"}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Outstanding Payment"})]}),e.jsxs("div",{className:"report-content-wrapper",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Outstanding Payment Report"}),!ee()&&e.jsx("div",{className:"page-context-subtitle",children:we()})]}),e.jsxs("div",{className:"search-actions-row",children:[e.jsxs("div",{className:`search-container ${y?"loading":""}`,children:[e.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Invoice Number, Company, HCF, Amount",value:d,onChange:X=>a(Ae=>({...Ae,searchText:X.target.value,page:1})),onKeyDown:X=>{X.key==="Enter"&&!y&&(X.preventDefault(),ie())},disabled:y}),d&&!y&&e.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(X=>({...X,searchText:"",page:1})),(b||ee())&&await ie()},title:"Clear search",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("button",{type:"button",ref:ae,className:`btn btn-filters-toggle ${c?"active":""} ${y?"loading":""}`,onClick:()=>{if(!y){if(c||i({fromDate:n.fromDate||"",toDate:n.toDate||"",companyId:n.companyId||"",hcfId:n.hcfId||"",agingPeriod:n.agingPeriod||"All"}),ae.current){const X=ae.current.getBoundingClientRect();le({top:X.bottom+8,left:X.left})}o(!c)}},disabled:y,title:"Open filters",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfId,n.fromDate,n.toDate,n.agingPeriod&&n.agingPeriod!=="All"?n.agingPeriod:""].filter(Boolean).length>0&&e.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfId,n.fromDate,n.toDate,n.agingPeriod&&n.agingPeriod!=="All"?n.agingPeriod:""].filter(Boolean).length})]})]}),c&&Wc.createPortal(e.jsx("div",{className:"filter-modal-overlay",onClick:()=>{o(!1),le(null)},children:e.jsxs("div",{className:"filter-modal-content",onClick:X=>X.stopPropagation(),style:G?{position:"fixed",top:`${G.top}px`,left:`${G.left}px`,margin:0}:{},children:[e.jsxs("div",{className:"filter-modal-header",children:[e.jsx("h3",{className:"filter-modal-title",children:"Filters"}),e.jsxs("div",{className:"filter-modal-actions",children:[e.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{i({fromDate:"",toDate:"",companyId:"",hcfId:"",agingPeriod:"All"})},children:"Clear Filters"}),e.jsx("button",{className:"filter-modal-close-btn",onClick:()=>o(!1),title:"Close filters",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),e.jsx("div",{className:"filter-modal-body",children:e.jsxs("div",{className:"filter-modal-grid",children:[e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Invoice Date"}),e.jsxs("div",{className:"filter-date-range",children:[e.jsx("input",{type:"date",className:"filter-modal-input",value:s.fromDate||"",onChange:X=>i(Ae=>({...Ae,fromDate:X.target.value})),placeholder:"From Date"}),e.jsx("span",{className:"filter-date-separator",children:"to"}),e.jsx("input",{type:"date",className:"filter-modal-input",value:s.toDate||"",onChange:X=>i(Ae=>({...Ae,toDate:X.target.value})),placeholder:"To Date"})]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Company Name"}),e.jsxs("select",{className:"filter-modal-select",value:s.companyId||"",onChange:X=>{i(Ae=>({...Ae,companyId:X.target.value,hcfId:""}))},children:[e.jsx("option",{value:"",children:"Select Company Name"}),l.map(X=>e.jsxs("option",{value:X.id,children:[X.companyCode," - ",X.companyName]},X.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),e.jsxs("select",{className:"filter-modal-select",value:s.hcfId||"",onChange:X=>i(Ae=>({...Ae,hcfId:X.target.value})),disabled:!s.companyId,children:[e.jsx("option",{value:"",children:"Select HCF Name"}),(s.companyId?h.filter(X=>X.companyId===s.companyId):h).map(X=>e.jsxs("option",{value:X.id,children:[X.hcfCode," - ",X.hcfName]},X.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Aging Period"}),e.jsx("select",{className:"filter-modal-select",value:s.agingPeriod||"All",onChange:X=>i(Ae=>({...Ae,agingPeriod:X.target.value})),children:R.map(X=>e.jsx("option",{value:X.value,children:X.label},X.value))})]})]})}),e.jsx("div",{className:"filter-modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await Z(),o(!1)},disabled:y,children:y?e.jsxs(e.Fragment,{children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:e.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),w&&e.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:w}),e.jsxs("div",{className:"results-section",ref:J,children:[e.jsx("div",{className:"table-scroll-container",children:e.jsxs("table",{className:"invoice-table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Invoice No"}),e.jsx("th",{children:"Company"}),e.jsx("th",{children:"HCF"}),e.jsx("th",{children:"Invoice Date"}),e.jsx("th",{children:"Due Date"}),e.jsx("th",{className:"text-right",children:"Invoice Amount"}),e.jsx("th",{className:"text-right",children:"Paid Amount"}),e.jsx("th",{className:"text-right",children:"Outstanding"}),e.jsx("th",{className:"text-center",children:"Status"})]})}),e.jsx("tbody",{className:"table-body",children:y?Array.from({length:5}).map((X,Ae)=>e.jsxs("tr",{className:"table-row-skeleton",children:[e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{className:"text-right",children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{className:"text-right",children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{className:"text-right",children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${Ae}`)):b?m.length===0?e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:9,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No outstanding payments found"}),e.jsx("p",{className:"empty-state-text",children:d.trim()?`No outstanding payments match "${d.trim()}". Try adjusting your search or filters.`:ee()?"No outstanding payments match the current filters. Try adjusting your filter criteria.":"No outstanding payments available. Use the search bar or apply filters to view reports."}),(ee()||d.trim())&&e.jsx("div",{className:"empty-state-action",children:e.jsx("button",{onClick:D,children:"Clear Filters"})})]})})}):m.map((X,Ae)=>e.jsxs("tr",{className:Ae%2===0?"table-row-even":"table-row-odd",children:[e.jsx("td",{className:"invoice-number-cell",children:X.invoiceNumber}),e.jsx("td",{children:X.companyName||"N/A"}),e.jsx("td",{children:X.hcfCode||"N/A"}),e.jsx("td",{children:te(X.invoiceDate)}),e.jsx("td",{children:te(X.dueDate)}),e.jsx("td",{className:"text-right",children:ue(X.invoiceValue)}),e.jsx("td",{className:"text-right",children:ue(X.totalPaidAmount)}),e.jsx("td",{className:"text-right",children:ue(X.balanceAmount)}),e.jsx("td",{className:"text-center",children:e.jsx("span",{className:ye(X.status),children:X.status})})]},X.invoiceId)):e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:9,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No outstanding payments found"}),e.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view outstanding payment reports."})]})})})})]})}),e.jsxs("div",{className:"pagination-controls",children:[e.jsx("div",{className:"pagination-info",children:b&&m.length>0?`Showing ${je+1}-${re} of ${V.totalInvoices} items`:"Showing 0 of 0 items"}),e.jsxs("div",{className:"pagination-right",children:[e.jsxs("select",{className:"rows-per-page-select",value:L,disabled:!b||m.length===0,onChange:async X=>{a(Ae=>({...Ae,page:1,pageSize:Number(X.target.value)}))},children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]}),e.jsxs("div",{className:"pagination-numbers",children:[e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const X=Math.max(1,I-1);a(Ae=>({...Ae,page:X}))},disabled:I===1||!b||m.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const X=[];let Be=Math.max(1,I-Math.floor(2.5)),Me=Math.min(pe,Be+5-1);Me-Be<4&&(Be=Math.max(1,Me-5+1)),Be>1&&(X.push(1),Be>2&&X.push("..."));for(let $e=Be;$e<=Me;$e++)X.push($e);return Me<pe&&(Me<pe-1&&X.push("..."),X.push(pe)),X.map(($e,ne)=>{if($e==="...")return e.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${ne}`);const Pe=$e;return e.jsx("button",{className:`pagination-page-btn ${I===Pe?"active":""}`,onClick:async()=>{a(_e=>({..._e,page:Pe}))},disabled:!b||m.length===0,children:Pe},Pe)})})(),e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const X=Math.min(pe,I+1);a(Ae=>({...Ae,page:X}))},disabled:I===pe||pe===0||!b||m.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Use=()=>{const r=jn(),t=qa(),[n,a]=C.useState({page:1,pageSize:25,companyId:"",hcfId:"",daysToExpiry:"All",searchText:"",sortBy:"endDate",sortOrder:"ASC"}),[s,i]=C.useState({companyId:"",hcfId:"",daysToExpiry:"All"}),[c,o]=C.useState(!1),d=n.searchText||"",[l,u]=C.useState([]),[h,f]=C.useState([]),[A,g]=C.useState([]),[m,x]=C.useState([]),[y,j]=C.useState(!1),[b,S]=C.useState(!1),[w,E]=C.useState(null),I=n.page||1,L=n.pageSize||25,J=C.useRef(null),ae=C.useRef(null),[G,le]=C.useState(null),[V,me]=C.useState({totalContracts:0,expiringSoon:0});C.useEffect(()=>{(async()=>{try{const[Ae,Be]=await Promise.all([ha.getAllCompanies(),Mi.getAllHcfs()]);u(Ae),f(Be)}catch(Ae){console.error("Error loading master data:",Ae)}})()},[]);const $=n.companyId?h.filter(X=>X.companyId===n.companyId):h,ee=()=>{var X;return!!(n.companyId||n.hcfId||n.daysToExpiry&&n.daysToExpiry!=="All"||(X=n.searchText)!=null&&X.trim())},we=()=>{if(!ee())return"No filters applied. View contracts that are due for renewal.";const X=[];if(n.companyId){const Ae=l.find(Be=>Be.id===n.companyId);Ae&&X.push(`Company: ${Ae.companyName}`)}if(n.hcfId){const Ae=$.find(Be=>Be.id===n.hcfId);Ae&&X.push(`HCF: ${Ae.hcfCode}`)}return n.daysToExpiry&&n.daysToExpiry!=="All"&&X.push(`Expiring: ${n.daysToExpiry}`),X.join("  ")},R=[{value:"All",label:"All Contracts"},{value:"0-30",label:"Expiring in 0-30 Days"},{value:"31-60",label:"Expiring in 31-60 Days"},{value:"61-90",label:"Expiring in 61-90 Days"},{value:"90+",label:"Expiring in 90+ Days"}],q=X=>{const Ae=new Date(X),Be=new Date,Me=Ae.getTime()-Be.getTime();return Math.ceil(Me/(1e3*60*60*24))},ie=async()=>{var X;j(!0),E(null);try{const Ae={companyId:n.companyId||void 0,status:"Active"};let Be=await dA.getAllContracts(Ae.companyId,Ae.status);if(n.hcfId&&(Be=Be.filter(_e=>_e.hcfId===n.hcfId)),n.daysToExpiry&&n.daysToExpiry!=="All"&&(Be=Be.filter(_e=>{const rt=q(_e.endDate);switch(n.daysToExpiry){case"0-30":return rt>=0&&rt<=30;case"31-60":return rt>=31&&rt<=60;case"61-90":return rt>=61&&rt<=90;case"90+":return rt>90;default:return!0}})),(X=n.searchText)!=null&&X.trim()){const _e=n.searchText.toLowerCase().trim();Be=Be.filter(rt=>{const et=(rt.contractNum||"").toLowerCase(),Le=l.find(St=>St.id===rt.companyId),it=((Le==null?void 0:Le.companyName)||"").toLowerCase(),Wt=h.find(St=>St.id===rt.hcfId),qe=((Wt==null?void 0:Wt.hcfCode)||"").toLowerCase();return et.includes(_e)||it.includes(_e)||qe.includes(_e)})}Be.sort((_e,rt)=>{const et=_e[n.sortBy]||"",Le=rt[n.sortBy]||"";return n.sortOrder==="ASC"?et>Le?1:-1:et<Le?1:-1});const Me=(I-1)*L,$e=Me+L,ne=Be.slice(Me,$e);g(Be),x(ne),S(!0);const Pe=Be.filter(_e=>{const rt=q(_e.endDate);return rt>=0&&rt<=90}).length;me({totalContracts:Be.length,expiringSoon:Pe})}catch(Ae){console.error("Error loading contracts:",Ae),E(Ae.message||"Failed to load contract renewal data"),g([]),x([])}finally{j(!1)}},Z=async()=>{a(X=>({...X,companyId:s.companyId||"",hcfId:s.hcfId||"",daysToExpiry:s.daysToExpiry||"All",page:1})),o(!1),await ie()},D=async()=>{a({page:1,pageSize:25,companyId:"",hcfId:"",daysToExpiry:"All",searchText:"",sortBy:"endDate",sortOrder:"ASC"}),i({companyId:"",hcfId:"",daysToExpiry:"All"}),o(!1),await ie()};C.useEffect(()=>{if(l.length>0||!n.companyId){const X=setTimeout(()=>{ie()},500);return()=>clearTimeout(X)}},[n,l]);const ue=X=>X?new Date(X).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",te=X=>{switch(X){case"Active":return"status-badge status-badge--paid";case"Draft":return"status-badge status-badge--draft";case"Expired":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},ye=X=>X<0?"status-badge status-badge--cancelled":X<=30?"status-badge status-badge--due":X<=60?"status-badge status-badge--partial":"status-badge status-badge--generated",pe=b&&V.totalContracts>0?Math.ceil(V.totalContracts/L):0,je=(I-1)*L,re=Math.min(je+m.length,V.totalContracts),he=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return e.jsx(Ec,{navItems:he,children:e.jsxs("div",{className:"invoice-report-page",children:[e.jsxs("div",{className:"report-breadcrumb",children:[e.jsxs("button",{className:"back-button",onClick:()=>t("/report"),children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M19 12H5"}),e.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Reports"}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Contract Renewal"})]}),e.jsxs("div",{className:"report-content-wrapper",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Contract Renewal Report"}),!ee()&&e.jsx("div",{className:"page-context-subtitle",children:we()})]}),e.jsxs("div",{className:"search-actions-row",children:[e.jsxs("div",{className:`search-container ${y?"loading":""}`,children:[e.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Contract Number, Company, HCF",value:d,onChange:X=>a(Ae=>({...Ae,searchText:X.target.value,page:1})),onKeyDown:X=>{X.key==="Enter"&&!y&&(X.preventDefault(),ie())},disabled:y}),d&&!y&&e.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(X=>({...X,searchText:"",page:1})),(b||ee())&&await ie()},title:"Clear search",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("button",{type:"button",ref:ae,className:`btn btn-filters-toggle ${c?"active":""} ${y?"loading":""}`,onClick:()=>{if(!y){if(c||i({companyId:n.companyId||"",hcfId:n.hcfId||"",daysToExpiry:n.daysToExpiry||"All"}),ae.current){const X=ae.current.getBoundingClientRect();le({top:X.bottom+8,left:X.left})}o(!c)}},disabled:y,title:"Open filters",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfId,n.daysToExpiry&&n.daysToExpiry!=="All"?n.daysToExpiry:""].filter(Boolean).length>0&&e.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfId,n.daysToExpiry&&n.daysToExpiry!=="All"?n.daysToExpiry:""].filter(Boolean).length})]})]}),c&&Wc.createPortal(e.jsx("div",{className:"filter-modal-overlay",onClick:()=>{o(!1),le(null)},children:e.jsxs("div",{className:"filter-modal-content",onClick:X=>X.stopPropagation(),style:G?{position:"fixed",top:`${G.top}px`,left:`${G.left}px`,margin:0}:{},children:[e.jsxs("div",{className:"filter-modal-header",children:[e.jsx("h3",{className:"filter-modal-title",children:"Filters"}),e.jsxs("div",{className:"filter-modal-actions",children:[e.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{i({companyId:"",hcfId:"",daysToExpiry:"All"})},children:"Clear Filters"}),e.jsx("button",{className:"filter-modal-close-btn",onClick:()=>o(!1),title:"Close filters",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),e.jsx("div",{className:"filter-modal-body",children:e.jsxs("div",{className:"filter-modal-grid",children:[e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Company Name"}),e.jsxs("select",{className:"filter-modal-select",value:s.companyId||"",onChange:X=>{i(Ae=>({...Ae,companyId:X.target.value,hcfId:""}))},children:[e.jsx("option",{value:"",children:"Select Company Name"}),l.map(X=>e.jsxs("option",{value:X.id,children:[X.companyCode," - ",X.companyName]},X.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),e.jsxs("select",{className:"filter-modal-select",value:s.hcfId||"",onChange:X=>i(Ae=>({...Ae,hcfId:X.target.value})),disabled:!s.companyId,children:[e.jsx("option",{value:"",children:"Select HCF Name"}),(s.companyId?h.filter(X=>X.companyId===s.companyId):h).map(X=>e.jsxs("option",{value:X.id,children:[X.hcfCode," - ",X.hcfName]},X.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Days to Expiry"}),e.jsx("select",{className:"filter-modal-select",value:s.daysToExpiry||"All",onChange:X=>i(Ae=>({...Ae,daysToExpiry:X.target.value})),children:R.map(X=>e.jsx("option",{value:X.value,children:X.label},X.value))})]})]})}),e.jsx("div",{className:"filter-modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await Z(),o(!1)},disabled:y,children:y?e.jsxs(e.Fragment,{children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:e.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),w&&e.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:w}),e.jsxs("div",{className:"results-section",ref:J,children:[e.jsx("div",{className:"table-scroll-container",children:e.jsxs("table",{className:"invoice-table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Contract No"}),e.jsx("th",{children:"Company"}),e.jsx("th",{children:"HCF"}),e.jsx("th",{children:"Start Date"}),e.jsx("th",{children:"End Date"}),e.jsx("th",{children:"Days to Expiry"}),e.jsx("th",{children:"Billing Type"}),e.jsx("th",{className:"text-center",children:"Status"})]})}),e.jsx("tbody",{className:"table-body",children:y?Array.from({length:5}).map((X,Ae)=>e.jsxs("tr",{className:"table-row-skeleton",children:[e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${Ae}`)):b?m.length===0?e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:8,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No contracts found"}),e.jsx("p",{className:"empty-state-text",children:d.trim()?`No contracts match "${d.trim()}". Try adjusting your search or filters.`:ee()?"No contracts match the current filters. Try adjusting your filter criteria.":"No contracts available. Use the search bar or apply filters to view reports."}),(ee()||d.trim())&&e.jsx("div",{className:"empty-state-action",children:e.jsx("button",{onClick:D,children:"Clear Filters"})})]})})}):m.map((X,Ae)=>{var Me,$e;const Be=q(X.endDate);return e.jsxs("tr",{className:Ae%2===0?"table-row-even":"table-row-odd",children:[e.jsx("td",{className:"invoice-number-cell",children:X.contractNum}),e.jsx("td",{children:((Me=l.find(ne=>ne.id===X.companyId))==null?void 0:Me.companyName)||"N/A"}),e.jsx("td",{children:(($e=h.find(ne=>ne.id===X.hcfId))==null?void 0:$e.hcfCode)||"N/A"}),e.jsx("td",{children:ue(X.startDate)}),e.jsx("td",{children:ue(X.endDate)}),e.jsx("td",{children:e.jsx("span",{className:ye(Be),children:Be<0?"Expired":`${Be} days`})}),e.jsx("td",{children:X.billingType}),e.jsx("td",{className:"text-center",children:e.jsx("span",{className:te(X.status),children:X.status})})]},X.id)}):e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:8,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No contracts found"}),e.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view contract renewal reports."})]})})})})]})}),e.jsxs("div",{className:"pagination-controls",children:[e.jsx("div",{className:"pagination-info",children:b&&m.length>0?`Showing ${je+1}-${re} of ${V.totalContracts} items`:"Showing 0 of 0 items"}),e.jsxs("div",{className:"pagination-right",children:[e.jsxs("select",{className:"rows-per-page-select",value:L,disabled:!b||m.length===0,onChange:async X=>{a(Ae=>({...Ae,page:1,pageSize:Number(X.target.value)}))},children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]}),e.jsxs("div",{className:"pagination-numbers",children:[e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const X=Math.max(1,I-1);a(Ae=>({...Ae,page:X}))},disabled:I===1||!b||m.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const X=[];let Be=Math.max(1,I-Math.floor(2.5)),Me=Math.min(pe,Be+5-1);Me-Be<4&&(Be=Math.max(1,Me-5+1)),Be>1&&(X.push(1),Be>2&&X.push("..."));for(let $e=Be;$e<=Me;$e++)X.push($e);return Me<pe&&(Me<pe-1&&X.push("..."),X.push(pe)),X.map(($e,ne)=>{if($e==="...")return e.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${ne}`);const Pe=$e;return e.jsx("button",{className:`pagination-page-btn ${I===Pe?"active":""}`,onClick:async()=>{a(_e=>({..._e,page:Pe}))},disabled:!b||m.length===0,children:Pe},Pe)})})(),e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const X=Math.min(pe,I+1);a(Ae=>({...Ae,page:X}))},disabled:I===pe||pe===0||!b||m.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Hse=()=>{const r=jn(),t=qa(),[n,a]=C.useState({page:1,pageSize:25,companyId:"",status:"All",searchText:"",sortBy:"routeCode",sortOrder:"ASC"}),[s,i]=C.useState({companyId:"",status:"All"}),[c,o]=C.useState(!1),d=n.searchText||"",[l,u]=C.useState([]),[h,f]=C.useState([]),[A,g]=C.useState([]),[m,x]=C.useState(!1),[y,j]=C.useState(!1),[b,S]=C.useState(null),w=n.page||1,E=n.pageSize||25,I=C.useRef(null),L=C.useRef(null),[J,ae]=C.useState(null),[G,le]=C.useState({totalRoutes:0});C.useEffect(()=>{(async()=>{try{const ye=await ha.getAllCompanies();u(ye)}catch(ye){console.error("Error loading master data:",ye)}})()},[]);const V=()=>{var te;return!!(n.companyId||n.status&&n.status!=="All"||(te=n.searchText)!=null&&te.trim())},me=()=>{if(!V())return"No filters applied. View all routes.";const te=[];if(n.companyId){const ye=l.find(pe=>pe.id===n.companyId);ye&&te.push(`Company: ${ye.companyName}`)}return n.status&&n.status!=="All"&&te.push(`Status: ${n.status}`),te.join("  ")},$=[{value:"All",label:"All Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],ee=async()=>{var te;x(!0),S(null);try{let ye=await oA.getAllRoutes(!0);if(n.companyId&&(ye=ye.filter(he=>he.companyId===n.companyId)),n.status&&n.status!=="All"&&(ye=ye.filter(he=>he.status===n.status)),(te=n.searchText)!=null&&te.trim()){const he=n.searchText.toLowerCase().trim();ye=ye.filter(X=>{const Ae=(X.routeCode||"").toLowerCase(),Be=(X.routeName||"").toLowerCase(),Me=l.find(ne=>ne.id===X.companyId),$e=((Me==null?void 0:Me.companyName)||"").toLowerCase();return Ae.includes(he)||Be.includes(he)||$e.includes(he)})}ye.sort((he,X)=>{const Ae=he[n.sortBy]||"",Be=X[n.sortBy]||"";return n.sortOrder==="ASC"?Ae>Be?1:-1:Ae<Be?1:-1});const pe=(w-1)*E,je=pe+E,re=ye.slice(pe,je);f(ye),g(re),j(!0),le({totalRoutes:ye.length})}catch(ye){console.error("Error loading routes:",ye),S(ye.message||"Failed to load route data"),f([]),g([])}finally{x(!1)}},we=async()=>{a(te=>({...te,companyId:s.companyId||"",status:s.status||"All",page:1})),o(!1),await ee()},R=async()=>{a({page:1,pageSize:25,companyId:"",status:"All",searchText:"",sortBy:"routeCode",sortOrder:"ASC"}),i({companyId:"",status:"All"}),o(!1),await ee()};C.useEffect(()=>{if(l.length>0||!n.companyId){const te=setTimeout(()=>{ee()},500);return()=>clearTimeout(te)}},[n,l]);const q=te=>{switch(te){case"Active":return"status-badge status-badge--paid";case"Inactive":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},ie=y&&G.totalRoutes>0?Math.ceil(G.totalRoutes/E):0,Z=(w-1)*E,D=Math.min(Z+A.length,G.totalRoutes),ue=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return e.jsx(Ec,{navItems:ue,children:e.jsxs("div",{className:"invoice-report-page",children:[e.jsxs("div",{className:"report-breadcrumb",children:[e.jsxs("button",{className:"back-button",onClick:()=>t("/report"),children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M19 12H5"}),e.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Reports"}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Route"})]}),e.jsxs("div",{className:"report-content-wrapper",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Route Report"}),!V()&&e.jsx("div",{className:"page-context-subtitle",children:me()})]}),e.jsxs("div",{className:"search-actions-row",children:[e.jsxs("div",{className:`search-container ${m?"loading":""}`,children:[e.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Route Code, Route Name, Company",value:d,onChange:te=>a(ye=>({...ye,searchText:te.target.value,page:1})),onKeyDown:te=>{te.key==="Enter"&&!m&&(te.preventDefault(),ee())},disabled:m}),d&&!m&&e.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(te=>({...te,searchText:"",page:1})),(y||V())&&await ee()},title:"Clear search",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("button",{type:"button",ref:L,className:`btn btn-filters-toggle ${c?"active":""} ${m?"loading":""}`,onClick:()=>{if(!m){if(c||i({companyId:n.companyId||"",status:n.status||"All"}),L.current){const te=L.current.getBoundingClientRect();ae({top:te.bottom+8,left:te.left})}o(!c)}},disabled:m,title:"Open filters",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.status&&n.status!=="All"?n.status:""].filter(Boolean).length>0&&e.jsx("span",{className:"filter-count",children:[n.companyId,n.status&&n.status!=="All"?n.status:""].filter(Boolean).length})]})]}),c&&Wc.createPortal(e.jsx("div",{className:"filter-modal-overlay",onClick:()=>{o(!1),ae(null)},children:e.jsxs("div",{className:"filter-modal-content",onClick:te=>te.stopPropagation(),style:J?{position:"fixed",top:`${J.top}px`,left:`${J.left}px`,margin:0}:{},children:[e.jsxs("div",{className:"filter-modal-header",children:[e.jsx("h3",{className:"filter-modal-title",children:"Filters"}),e.jsxs("div",{className:"filter-modal-actions",children:[e.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{i({companyId:"",status:"All"})},children:"Clear Filters"}),e.jsx("button",{className:"filter-modal-close-btn",onClick:()=>o(!1),title:"Close filters",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),e.jsx("div",{className:"filter-modal-body",children:e.jsxs("div",{className:"filter-modal-grid",children:[e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Company Name"}),e.jsxs("select",{className:"filter-modal-select",value:s.companyId||"",onChange:te=>i(ye=>({...ye,companyId:te.target.value})),children:[e.jsx("option",{value:"",children:"Select Company Name"}),l.map(te=>e.jsxs("option",{value:te.id,children:[te.companyCode," - ",te.companyName]},te.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Status"}),e.jsx("select",{className:"filter-modal-select",value:s.status||"All",onChange:te=>i(ye=>({...ye,status:te.target.value})),children:$.map(te=>e.jsx("option",{value:te.value,children:te.label},te.value))})]})]})}),e.jsx("div",{className:"filter-modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await we(),o(!1)},disabled:m,children:m?e.jsxs(e.Fragment,{children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:e.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),b&&e.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:b}),e.jsxs("div",{className:"results-section",ref:I,children:[e.jsx("div",{className:"table-scroll-container",children:e.jsxs("table",{className:"invoice-table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Route Code"}),e.jsx("th",{children:"Route Name"}),e.jsx("th",{children:"Company"}),e.jsx("th",{className:"text-center",children:"Status"})]})}),e.jsx("tbody",{className:"table-body",children:m?Array.from({length:5}).map((te,ye)=>e.jsxs("tr",{className:"table-row-skeleton",children:[e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${ye}`)):y?A.length===0?e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:4,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No routes found"}),e.jsx("p",{className:"empty-state-text",children:d.trim()?`No routes match "${d.trim()}". Try adjusting your search or filters.`:V()?"No routes match the current filters. Try adjusting your filter criteria.":"No routes available. Use the search bar or apply filters to view reports."}),(V()||d.trim())&&e.jsx("div",{className:"empty-state-action",children:e.jsx("button",{onClick:R,children:"Clear Filters"})})]})})}):A.map((te,ye)=>{var pe;return e.jsxs("tr",{className:ye%2===0?"table-row-even":"table-row-odd",children:[e.jsx("td",{className:"invoice-number-cell",children:te.routeCode}),e.jsx("td",{children:te.routeName}),e.jsx("td",{children:((pe=l.find(je=>je.id===te.companyId))==null?void 0:pe.companyName)||"N/A"}),e.jsx("td",{className:"text-center",children:e.jsx("span",{className:q(te.status),children:te.status})})]},te.id)}):e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:4,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No routes found"}),e.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view route reports."})]})})})})]})}),e.jsxs("div",{className:"pagination-controls",children:[e.jsx("div",{className:"pagination-info",children:y&&A.length>0?`Showing ${Z+1}-${D} of ${G.totalRoutes} items`:"Showing 0 of 0 items"}),e.jsxs("div",{className:"pagination-right",children:[e.jsxs("select",{className:"rows-per-page-select",value:E,disabled:!y||A.length===0,onChange:async te=>{a(ye=>({...ye,page:1,pageSize:Number(te.target.value)}))},children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]}),e.jsxs("div",{className:"pagination-numbers",children:[e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const te=Math.max(1,w-1);a(ye=>({...ye,page:te}))},disabled:w===1||!y||A.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const te=[];let pe=Math.max(1,w-Math.floor(2.5)),je=Math.min(ie,pe+5-1);je-pe<4&&(pe=Math.max(1,je-5+1)),pe>1&&(te.push(1),pe>2&&te.push("..."));for(let re=pe;re<=je;re++)te.push(re);return je<ie&&(je<ie-1&&te.push("..."),te.push(ie)),te.map((re,he)=>{if(re==="...")return e.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${he}`);const X=re;return e.jsx("button",{className:`pagination-page-btn ${w===X?"active":""}`,onClick:async()=>{a(Ae=>({...Ae,page:X}))},disabled:!y||A.length===0,children:X},X)})})(),e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const te=Math.min(ie,w+1);a(ye=>({...ye,page:te}))},disabled:w===ie||ie===0||!y||A.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Qse=()=>{const r=jn(),t=qa(),[n,a]=C.useState({page:1,pageSize:25,collectionFromDate:"",collectionToDate:"",companyId:"",hcfId:"",wasteColor:"All",status:"All",searchText:"",sortBy:"collectionDate",sortOrder:"DESC"}),[s,i]=C.useState({collectionFromDate:"",collectionToDate:"",companyId:"",hcfId:"",wasteColor:"All",status:"All"}),[c,o]=C.useState(!1),d=n.searchText||"",[l,u]=C.useState([]),[h,f]=C.useState([]),[A,g]=C.useState([]),[m,x]=C.useState([]),[y,j]=C.useState(!1),[b,S]=C.useState(!1),[w,E]=C.useState(null),I=n.page||1,L=n.pageSize||25,J=C.useRef(null),ae=C.useRef(null),[G,le]=C.useState(null),[V,me]=C.useState({totalCollections:0,totalWeight:0});C.useEffect(()=>{(async()=>{try{const[Be,Me]=await Promise.all([ha.getAllCompanies(),Mi.getAllHcfs()]);u(Be),f(Me)}catch(Be){console.error("Error loading master data:",Be)}})()},[]);const $=n.companyId?h.filter(Ae=>Ae.companyId===n.companyId):h,ee=()=>{var Ae;return!!(n.collectionFromDate||n.collectionToDate||n.companyId||n.hcfId||n.wasteColor&&n.wasteColor!=="All"||n.status&&n.status!=="All"||(Ae=n.searchText)!=null&&Ae.trim())},we=()=>{if(!ee())return"No filters applied. Select a date range or search to view waste collection data.";const Ae=[];if(n.collectionFromDate&&n.collectionToDate){const Be=new Date(n.collectionFromDate),Me=new Date(n.collectionToDate),$e=Be.toLocaleDateString("en-US",{month:"short",day:"numeric"}),ne=Me.toLocaleDateString("en-US",{month:"short",day:"numeric"});Ae.push(`Date: ${$e}${ne}`)}if(n.companyId){const Be=l.find(Me=>Me.id===n.companyId);Be&&Ae.push(`Company: ${Be.companyName}`)}if(n.hcfId){const Be=$.find(Me=>Me.id===n.hcfId);Be&&Ae.push(`HCF: ${Be.hcfCode}`)}return n.wasteColor&&n.wasteColor!=="All"&&Ae.push(`Color: ${n.wasteColor}`),Ae.join("  ")},R=[{value:"All",label:"All Colors"},{value:"Yellow",label:"Yellow"},{value:"Red",label:"Red"},{value:"White",label:"White"}],q=[{value:"All",label:"All Status"},{value:"Pending",label:"Pending"},{value:"Collected",label:"Collected"},{value:"In Transit",label:"In Transit"},{value:"Processed",label:"Processed"},{value:"Disposed",label:"Disposed"}],ie=async()=>{var Ae;j(!0),E(null);try{let Be=[];if(n.companyId)try{Be=await Th.getAllCollections(),Be=Be.filter(Pe=>Pe.companyId===n.companyId)}catch(Pe){console.warn("Error loading collections:",Pe),Be=[]}else try{Be=await Th.getAllCollections()}catch(Pe){console.warn("Error loading collections:",Pe),Be=[]}if(n.collectionFromDate){const Pe=new Date(n.collectionFromDate);Be=Be.filter(_e=>new Date(_e.collectionDate)>=Pe)}if(n.collectionToDate){const Pe=new Date(n.collectionToDate);Pe.setHours(23,59,59,999),Be=Be.filter(_e=>new Date(_e.collectionDate)<=Pe)}if(n.hcfId&&(Be=Be.filter(Pe=>Pe.hcfId===n.hcfId)),n.wasteColor&&n.wasteColor!=="All"&&(Be=Be.filter(Pe=>Pe.wasteColor===n.wasteColor)),n.status&&n.status!=="All"&&(Be=Be.filter(Pe=>Pe.status===n.status)),(Ae=n.searchText)!=null&&Ae.trim()){const Pe=n.searchText.toLowerCase().trim();Be=Be.filter(_e=>{const rt=(_e.barcode||"").toLowerCase(),et=l.find(qe=>qe.id===_e.companyId),Le=((et==null?void 0:et.companyName)||"").toLowerCase(),it=h.find(qe=>qe.id===_e.hcfId),Wt=((it==null?void 0:it.hcfCode)||"").toLowerCase();return rt.includes(Pe)||Le.includes(Pe)||Wt.includes(Pe)||_e.weightKg&&_e.weightKg.toString().includes(Pe)})}Be.sort((Pe,_e)=>{const rt=Pe[n.sortBy]||"",et=_e[n.sortBy]||"";return n.sortOrder==="ASC"?rt>et?1:-1:rt<et?1:-1});const Me=(I-1)*L,$e=Me+L,ne=Be.slice(Me,$e);g(Be),x(ne),S(!0),me({totalCollections:Be.length,totalWeight:Be.reduce((Pe,_e)=>Pe+(_e.weightKg||0),0)})}catch(Be){console.error("Error loading waste collections:",Be),E(Be.message||"Failed to load waste collection data"),g([]),x([])}finally{j(!1)}},Z=async()=>{a(Ae=>({...Ae,collectionFromDate:s.collectionFromDate||"",collectionToDate:s.collectionToDate||"",companyId:s.companyId||"",hcfId:s.hcfId||"",wasteColor:s.wasteColor||"All",status:s.status||"All",page:1})),o(!1),await ie()},D=async()=>{a({page:1,pageSize:25,collectionFromDate:"",collectionToDate:"",companyId:"",hcfId:"",wasteColor:"All",status:"All",searchText:"",sortBy:"collectionDate",sortOrder:"DESC"}),i({collectionFromDate:"",collectionToDate:"",companyId:"",hcfId:"",wasteColor:"All",status:"All"}),o(!1),await ie()};C.useEffect(()=>{if(l.length>0||!n.companyId){const Ae=setTimeout(()=>{ie()},500);return()=>clearTimeout(Ae)}},[n,l]);const ue=Ae=>Ae?new Date(Ae).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",te=Ae=>Ae==null?"N/A":`${Ae.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})} kg`,ye=Ae=>{switch(Ae){case"Collected":return"status-badge status-badge--paid";case"Processed":return"status-badge status-badge--generated";case"Disposed":return"status-badge status-badge--paid";case"In Transit":return"status-badge status-badge--partial";case"Pending":return"status-badge status-badge--draft";default:return"status-badge status-badge--generated"}},pe=Ae=>{switch(Ae){case"Yellow":return"status-badge status-badge--partial";case"Red":return"status-badge status-badge--due";case"White":return"status-badge status-badge--generated";default:return"status-badge status-badge--generated"}},je=b&&V.totalCollections>0?Math.ceil(V.totalCollections/L):0,re=(I-1)*L,he=Math.min(re+m.length,V.totalCollections),X=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return e.jsx(Ec,{navItems:X,children:e.jsxs("div",{className:"invoice-report-page",children:[e.jsxs("div",{className:"report-breadcrumb",children:[e.jsxs("button",{className:"back-button",onClick:()=>t("/report"),children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M19 12H5"}),e.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Reports"}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Waste Collection"})]}),e.jsxs("div",{className:"report-content-wrapper",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Waste Collection Report"}),!ee()&&e.jsx("div",{className:"page-context-subtitle",children:we()})]}),e.jsxs("div",{className:"search-actions-row",children:[e.jsxs("div",{className:`search-container ${y?"loading":""}`,children:[e.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Barcode, Company, HCF, Weight",value:d,onChange:Ae=>a(Be=>({...Be,searchText:Ae.target.value,page:1})),onKeyDown:Ae=>{Ae.key==="Enter"&&!y&&(Ae.preventDefault(),ie())},disabled:y}),d&&!y&&e.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(Ae=>({...Ae,searchText:"",page:1})),(b||ee())&&await ie()},title:"Clear search",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("button",{type:"button",ref:ae,className:`btn btn-filters-toggle ${c?"active":""} ${y?"loading":""}`,onClick:()=>{if(!y){if(c||i({collectionFromDate:n.collectionFromDate||"",collectionToDate:n.collectionToDate||"",companyId:n.companyId||"",hcfId:n.hcfId||"",wasteColor:n.wasteColor||"All",status:n.status||"All"}),ae.current){const Ae=ae.current.getBoundingClientRect();le({top:Ae.bottom+8,left:Ae.left})}o(!c)}},disabled:y,title:"Open filters",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfId,n.collectionFromDate,n.collectionToDate,n.wasteColor&&n.wasteColor!=="All"?n.wasteColor:"",n.status&&n.status!=="All"?n.status:""].filter(Boolean).length>0&&e.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfId,n.collectionFromDate,n.collectionToDate,n.wasteColor&&n.wasteColor!=="All"?n.wasteColor:"",n.status&&n.status!=="All"?n.status:""].filter(Boolean).length})]})]}),c&&Wc.createPortal(e.jsx("div",{className:"filter-modal-overlay",onClick:()=>{o(!1),le(null)},children:e.jsxs("div",{className:"filter-modal-content",onClick:Ae=>Ae.stopPropagation(),style:G?{position:"fixed",top:`${G.top}px`,left:`${G.left}px`,margin:0}:{},children:[e.jsxs("div",{className:"filter-modal-header",children:[e.jsx("h3",{className:"filter-modal-title",children:"Filters"}),e.jsxs("div",{className:"filter-modal-actions",children:[e.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{i({collectionFromDate:"",collectionToDate:"",companyId:"",hcfId:"",wasteColor:"All",status:"All"})},children:"Clear Filters"}),e.jsx("button",{className:"filter-modal-close-btn",onClick:()=>o(!1),title:"Close filters",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),e.jsx("div",{className:"filter-modal-body",children:e.jsxs("div",{className:"filter-modal-grid",children:[e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Collection Date"}),e.jsxs("div",{className:"filter-date-range",children:[e.jsx("input",{type:"date",className:"filter-modal-input",value:s.collectionFromDate||"",onChange:Ae=>i(Be=>({...Be,collectionFromDate:Ae.target.value})),placeholder:"From Date"}),e.jsx("span",{className:"filter-date-separator",children:"to"}),e.jsx("input",{type:"date",className:"filter-modal-input",value:s.collectionToDate||"",onChange:Ae=>i(Be=>({...Be,collectionToDate:Ae.target.value})),placeholder:"To Date"})]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Company Name"}),e.jsxs("select",{className:"filter-modal-select",value:s.companyId||"",onChange:Ae=>{i(Be=>({...Be,companyId:Ae.target.value,hcfId:""}))},children:[e.jsx("option",{value:"",children:"Select Company Name"}),l.map(Ae=>e.jsxs("option",{value:Ae.id,children:[Ae.companyCode," - ",Ae.companyName]},Ae.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),e.jsxs("select",{className:"filter-modal-select",value:s.hcfId||"",onChange:Ae=>i(Be=>({...Be,hcfId:Ae.target.value})),disabled:!s.companyId,children:[e.jsx("option",{value:"",children:"Select HCF Name"}),(s.companyId?h.filter(Ae=>Ae.companyId===s.companyId):h).map(Ae=>e.jsxs("option",{value:Ae.id,children:[Ae.hcfCode," - ",Ae.hcfName]},Ae.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Waste Color"}),e.jsx("select",{className:"filter-modal-select",value:s.wasteColor||"All",onChange:Ae=>i(Be=>({...Be,wasteColor:Ae.target.value})),children:R.map(Ae=>e.jsx("option",{value:Ae.value,children:Ae.label},Ae.value))})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Status"}),e.jsx("select",{className:"filter-modal-select",value:s.status||"All",onChange:Ae=>i(Be=>({...Be,status:Ae.target.value})),children:q.map(Ae=>e.jsx("option",{value:Ae.value,children:Ae.label},Ae.value))})]})]})}),e.jsx("div",{className:"filter-modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await Z(),o(!1)},disabled:y,children:y?e.jsxs(e.Fragment,{children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:e.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),w&&e.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:w}),e.jsxs("div",{className:"results-section",ref:J,children:[e.jsx("div",{className:"table-scroll-container",children:e.jsxs("table",{className:"invoice-table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Barcode"}),e.jsx("th",{children:"Company"}),e.jsx("th",{children:"HCF"}),e.jsx("th",{children:"Collection Date"}),e.jsx("th",{children:"Waste Color"}),e.jsx("th",{className:"text-right",children:"Weight (kg)"}),e.jsx("th",{className:"text-center",children:"Status"})]})}),e.jsx("tbody",{className:"table-body",children:y?Array.from({length:5}).map((Ae,Be)=>e.jsxs("tr",{className:"table-row-skeleton",children:[e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{className:"text-right",children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${Be}`)):b?m.length===0?e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:7,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No waste collection data found"}),e.jsx("p",{className:"empty-state-text",children:d.trim()?`No collections match "${d.trim()}". Try adjusting your search or filters.`:ee()?"No collections match the current filters. Try adjusting your filter criteria.":"No waste collection data available. Use the search bar or apply filters to view reports."}),(ee()||d.trim())&&e.jsx("div",{className:"empty-state-action",children:e.jsx("button",{onClick:D,children:"Clear Filters"})})]})})}):m.map((Ae,Be)=>{var Me,$e;return e.jsxs("tr",{className:Be%2===0?"table-row-even":"table-row-odd",children:[e.jsx("td",{className:"invoice-number-cell",children:Ae.barcode}),e.jsx("td",{children:((Me=l.find(ne=>ne.id===Ae.companyId))==null?void 0:Me.companyName)||"N/A"}),e.jsx("td",{children:(($e=h.find(ne=>ne.id===Ae.hcfId))==null?void 0:$e.hcfCode)||"N/A"}),e.jsx("td",{children:ue(Ae.collectionDate)}),e.jsx("td",{children:e.jsx("span",{className:pe(Ae.wasteColor),children:Ae.wasteColor})}),e.jsx("td",{className:"text-right",children:te(Ae.weightKg)}),e.jsx("td",{className:"text-center",children:e.jsx("span",{className:ye(Ae.status),children:Ae.status})})]},Ae.id)}):e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:7,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No waste collection data found"}),e.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view waste collection reports."})]})})})})]})}),e.jsxs("div",{className:"pagination-controls",children:[e.jsx("div",{className:"pagination-info",children:b&&m.length>0?`Showing ${re+1}-${he} of ${V.totalCollections} items`:"Showing 0 of 0 items"}),e.jsxs("div",{className:"pagination-right",children:[e.jsxs("select",{className:"rows-per-page-select",value:L,disabled:!b||m.length===0,onChange:async Ae=>{a(Be=>({...Be,page:1,pageSize:Number(Ae.target.value)}))},children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]}),e.jsxs("div",{className:"pagination-numbers",children:[e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Ae=Math.max(1,I-1);a(Be=>({...Be,page:Ae}))},disabled:I===1||!b||m.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const Ae=[];let Me=Math.max(1,I-Math.floor(2.5)),$e=Math.min(je,Me+5-1);$e-Me<4&&(Me=Math.max(1,$e-5+1)),Me>1&&(Ae.push(1),Me>2&&Ae.push("..."));for(let ne=Me;ne<=$e;ne++)Ae.push(ne);return $e<je&&($e<je-1&&Ae.push("..."),Ae.push(je)),Ae.map((ne,Pe)=>{if(ne==="...")return e.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${Pe}`);const _e=ne;return e.jsx("button",{className:`pagination-page-btn ${I===_e?"active":""}`,onClick:async()=>{a(rt=>({...rt,page:_e}))},disabled:!b||m.length===0,children:_e},_e)})})(),e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Ae=Math.min(je,I+1);a(Be=>({...Be,page:Ae}))},disabled:I===je||je===0||!b||m.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Wse=()=>{const r=jn(),t=qa(),[n,a]=C.useState({page:1,pageSize:25,status:"All",searchText:"",sortBy:"companyCode",sortOrder:"ASC"}),[s,i]=C.useState({status:"All"}),[c,o]=C.useState(!1),d=n.searchText||"",[l,u]=C.useState([]),[h,f]=C.useState([]),[A,g]=C.useState(!1),[m,x]=C.useState(!1),[y,j]=C.useState(null),b=n.page||1,S=n.pageSize||25,w=C.useRef(null),E=C.useRef(null),[I,L]=C.useState(null),[J,ae]=C.useState({totalCompanies:0}),G=()=>{var ue;return!!(n.status&&n.status!=="All"||(ue=n.searchText)!=null&&ue.trim())},le=()=>{if(!G())return"No filters applied. View all companies.";const ue=[];return n.status&&n.status!=="All"&&ue.push(`Status: ${n.status}`),ue.join("  ")},V=[{value:"All",label:"All Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],me=async()=>{var ue;g(!0),j(null);try{let te=await ha.getAllCompanies();if(n.status&&n.status!=="All"&&(te=te.filter(re=>re.status===n.status)),(ue=n.searchText)!=null&&ue.trim()){const re=n.searchText.toLowerCase().trim();te=te.filter(he=>{const X=(he.companyCode||"").toLowerCase(),Ae=(he.companyName||"").toLowerCase();return X.includes(re)||Ae.includes(re)})}te.sort((re,he)=>{const X=re[n.sortBy]||"",Ae=he[n.sortBy]||"";return n.sortOrder==="ASC"?X>Ae?1:-1:X<Ae?1:-1});const ye=(b-1)*S,pe=ye+S,je=te.slice(ye,pe);u(te),f(je),x(!0),ae({totalCompanies:te.length})}catch(te){console.error("Error loading companies:",te),j(te.message||"Failed to load company data"),u([]),f([])}finally{g(!1)}},$=async()=>{a(ue=>({...ue,status:s.status||"All",page:1})),o(!1),await me()},ee=async()=>{a({page:1,pageSize:25,status:"All",searchText:"",sortBy:"companyCode",sortOrder:"ASC"}),i({status:"All"}),o(!1),await me()};C.useEffect(()=>{const ue=setTimeout(()=>{me()},500);return()=>clearTimeout(ue)},[n]);const we=ue=>ue?new Date(ue).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",R=ue=>{switch(ue){case"Active":return"status-badge status-badge--paid";case"Inactive":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},q=m&&J.totalCompanies>0?Math.ceil(J.totalCompanies/S):0,ie=(b-1)*S,Z=Math.min(ie+h.length,J.totalCompanies),D=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return e.jsx(Ec,{navItems:D,children:e.jsxs("div",{className:"invoice-report-page",children:[e.jsxs("div",{className:"report-breadcrumb",children:[e.jsxs("button",{className:"back-button",onClick:()=>t("/report"),children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M19 12H5"}),e.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Reports"}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Company Master"})]}),e.jsxs("div",{className:"report-content-wrapper",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Company Master Report"}),!G()&&e.jsx("div",{className:"page-context-subtitle",children:le()})]}),e.jsxs("div",{className:"search-actions-row",children:[e.jsxs("div",{className:`search-container ${A?"loading":""}`,children:[e.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Company Code, Company Name",value:d,onChange:ue=>a(te=>({...te,searchText:ue.target.value,page:1})),onKeyDown:ue=>{ue.key==="Enter"&&!A&&(ue.preventDefault(),me())},disabled:A}),d&&!A&&e.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(ue=>({...ue,searchText:"",page:1})),(m||G())&&await me()},title:"Clear search",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("button",{type:"button",ref:E,className:`btn btn-filters-toggle ${c?"active":""} ${A?"loading":""}`,onClick:()=>{if(!A){if(c||i({status:n.status||"All"}),E.current){const ue=E.current.getBoundingClientRect();L({top:ue.bottom+8,left:ue.left})}o(!c)}},disabled:A,title:"Open filters",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.status&&n.status!=="All"?n.status:""].filter(Boolean).length>0&&e.jsx("span",{className:"filter-count",children:[n.status&&n.status!=="All"?n.status:""].filter(Boolean).length})]})]}),c&&Wc.createPortal(e.jsx("div",{className:"filter-modal-overlay",onClick:()=>{o(!1),L(null)},children:e.jsxs("div",{className:"filter-modal-content",onClick:ue=>ue.stopPropagation(),style:I?{position:"fixed",top:`${I.top}px`,left:`${I.left}px`,margin:0}:{},children:[e.jsxs("div",{className:"filter-modal-header",children:[e.jsx("h3",{className:"filter-modal-title",children:"Filters"}),e.jsxs("div",{className:"filter-modal-actions",children:[e.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{i({status:"All"})},children:"Clear Filters"}),e.jsx("button",{className:"filter-modal-close-btn",onClick:()=>o(!1),title:"Close filters",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),e.jsx("div",{className:"filter-modal-body",children:e.jsx("div",{className:"filter-modal-grid",children:e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Status"}),e.jsx("select",{className:"filter-modal-select",value:s.status||"All",onChange:ue=>i(te=>({...te,status:ue.target.value})),children:V.map(ue=>e.jsx("option",{value:ue.value,children:ue.label},ue.value))})]})})}),e.jsx("div",{className:"filter-modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await $(),o(!1)},disabled:A,children:A?e.jsxs(e.Fragment,{children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:e.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),y&&e.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:y}),e.jsxs("div",{className:"results-section",ref:w,children:[e.jsx("div",{className:"table-scroll-container",children:e.jsxs("table",{className:"invoice-table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Company Code"}),e.jsx("th",{children:"Company Name"}),e.jsx("th",{children:"Created Date"}),e.jsx("th",{className:"text-center",children:"Status"})]})}),e.jsx("tbody",{className:"table-body",children:A?Array.from({length:5}).map((ue,te)=>e.jsxs("tr",{className:"table-row-skeleton",children:[e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${te}`)):m?h.length===0?e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:4,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No companies found"}),e.jsx("p",{className:"empty-state-text",children:d.trim()?`No companies match "${d.trim()}". Try adjusting your search or filters.`:G()?"No companies match the current filters. Try adjusting your filter criteria.":"No companies available. Use the search bar or apply filters to view reports."}),(G()||d.trim())&&e.jsx("div",{className:"empty-state-action",children:e.jsx("button",{onClick:ee,children:"Clear Filters"})})]})})}):h.map((ue,te)=>e.jsxs("tr",{className:te%2===0?"table-row-even":"table-row-odd",children:[e.jsx("td",{className:"invoice-number-cell",children:ue.companyCode}),e.jsx("td",{children:ue.companyName}),e.jsx("td",{children:we(ue.createdOn)}),e.jsx("td",{className:"text-center",children:e.jsx("span",{className:R(ue.status),children:ue.status})})]},ue.id)):e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:4,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No companies found"}),e.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view company reports."})]})})})})]})}),e.jsxs("div",{className:"pagination-controls",children:[e.jsx("div",{className:"pagination-info",children:m&&h.length>0?`Showing ${ie+1}-${Z} of ${J.totalCompanies} items`:"Showing 0 of 0 items"}),e.jsxs("div",{className:"pagination-right",children:[e.jsxs("select",{className:"rows-per-page-select",value:S,disabled:!m||h.length===0,onChange:async ue=>{a(te=>({...te,page:1,pageSize:Number(ue.target.value)}))},children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]}),e.jsxs("div",{className:"pagination-numbers",children:[e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ue=Math.max(1,b-1);a(te=>({...te,page:ue}))},disabled:b===1||!m||h.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const ue=[];let ye=Math.max(1,b-Math.floor(2.5)),pe=Math.min(q,ye+5-1);pe-ye<4&&(ye=Math.max(1,pe-5+1)),ye>1&&(ue.push(1),ye>2&&ue.push("..."));for(let je=ye;je<=pe;je++)ue.push(je);return pe<q&&(pe<q-1&&ue.push("..."),ue.push(q)),ue.map((je,re)=>{if(je==="...")return e.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${re}`);const he=je;return e.jsx("button",{className:`pagination-page-btn ${b===he?"active":""}`,onClick:async()=>{a(X=>({...X,page:he}))},disabled:!m||h.length===0,children:he},he)})})(),e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ue=Math.min(q,b+1);a(te=>({...te,page:ue}))},disabled:b===q||q===0||!m||h.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},$se=()=>{const r=jn(),t=qa(),[n,a]=C.useState({page:1,pageSize:25,companyId:"",hcfId:"",complianceType:"All",status:"All",searchText:"",sortBy:"lastChecked",sortOrder:"DESC"}),[s,i]=C.useState({companyId:"",hcfId:"",complianceType:"All",status:"All"}),[c,o]=C.useState(!1),d=n.searchText||"",[l,u]=C.useState([]),[h,f]=C.useState([]),[A,g]=C.useState([]),[m,x]=C.useState([]),[y,j]=C.useState(!1),[b,S]=C.useState(!1),[w,E]=C.useState(null),I=n.page||1,L=n.pageSize||25,J=C.useRef(null),ae=C.useRef(null),[G,le]=C.useState(null),[V,me]=C.useState({totalItems:0,compliant:0,nonCompliant:0});C.useEffect(()=>{(async()=>{try{const[X,Ae]=await Promise.all([ha.getAllCompanies(),Mi.getAllHcfs()]);u(X),f(Ae)}catch(X){console.error("Error loading master data:",X)}})()},[]);const $=n.companyId?h.filter(he=>he.companyId===n.companyId):h,ee=()=>{var he;return!!(n.companyId||n.hcfId||n.complianceType&&n.complianceType!=="All"||n.status&&n.status!=="All"||(he=n.searchText)!=null&&he.trim())},we=()=>{if(!ee())return"No filters applied. View all compliance statuses.";const he=[];if(n.companyId){const X=l.find(Ae=>Ae.id===n.companyId);X&&he.push(`Company: ${X.companyName}`)}if(n.hcfId){const X=$.find(Ae=>Ae.id===n.hcfId);X&&he.push(`HCF: ${X.hcfCode}`)}return n.complianceType&&n.complianceType!=="All"&&he.push(`Type: ${n.complianceType}`),n.status&&n.status!=="All"&&he.push(`Status: ${n.status}`),he.join("  ")},R=[{value:"All",label:"All Types"},{value:"License",label:"License"},{value:"Permit",label:"Permit"},{value:"Certificate",label:"Certificate"},{value:"Registration",label:"Registration"}],q=[{value:"All",label:"All Status"},{value:"Compliant",label:"Compliant"},{value:"Non-Compliant",label:"Non-Compliant"},{value:"Expiring Soon",label:"Expiring Soon"},{value:"Expired",label:"Expired"}],ie=async()=>{var he;j(!0),E(null);try{let X=[];if(n.companyId&&(X=X.filter($e=>$e.companyId===n.companyId)),n.hcfId&&(X=X.filter($e=>$e.hcfId===n.hcfId)),n.complianceType&&n.complianceType!=="All"&&(X=X.filter($e=>$e.complianceType===n.complianceType)),n.status&&n.status!=="All"&&(X=X.filter($e=>$e.status===n.status)),(he=n.searchText)!=null&&he.trim()){const $e=n.searchText.toLowerCase().trim();X=X.filter(ne=>{const Pe=l.find(Le=>Le.id===ne.companyId),_e=((Pe==null?void 0:Pe.companyName)||"").toLowerCase(),rt=h.find(Le=>Le.id===ne.hcfId),et=((rt==null?void 0:rt.hcfCode)||"").toLowerCase();return ne.complianceType.toLowerCase().includes($e)||_e.includes($e)||et.includes($e)||ne.notes&&ne.notes.toLowerCase().includes($e)})}X.sort(($e,ne)=>{const Pe=$e[n.sortBy]||"",_e=ne[n.sortBy]||"";return n.sortOrder==="ASC"?Pe>_e?1:-1:Pe<_e?1:-1});const Ae=(I-1)*L,Be=Ae+L,Me=X.slice(Ae,Be);g(X),x(Me),S(!0),me({totalItems:X.length,compliant:X.filter($e=>$e.status==="Compliant").length,nonCompliant:X.filter($e=>$e.status==="Non-Compliant"||$e.status==="Expired").length})}catch(X){console.error("Error loading compliance data:",X),E(X.message||"Failed to load compliance status data"),g([]),x([])}finally{j(!1)}},Z=async()=>{a(he=>({...he,companyId:s.companyId||"",hcfId:s.hcfId||"",complianceType:s.complianceType||"All",status:s.status||"All",page:1})),o(!1),await ie()},D=async()=>{a({page:1,pageSize:25,companyId:"",hcfId:"",complianceType:"All",status:"All",searchText:"",sortBy:"lastChecked",sortOrder:"DESC"}),i({companyId:"",hcfId:"",complianceType:"All",status:"All"}),o(!1),await ie()};C.useEffect(()=>{if(l.length>0||!n.companyId){const he=setTimeout(()=>{ie()},500);return()=>clearTimeout(he)}},[n,l]);const ue=he=>he?new Date(he).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",te=he=>{switch(he){case"Compliant":return"status-badge status-badge--paid";case"Non-Compliant":return"status-badge status-badge--due";case"Expiring Soon":return"status-badge status-badge--partial";case"Expired":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},ye=b&&V.totalItems>0?Math.ceil(V.totalItems/L):0,pe=(I-1)*L,je=Math.min(pe+m.length,V.totalItems),re=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return e.jsx(Ec,{navItems:re,children:e.jsxs("div",{className:"invoice-report-page",children:[e.jsxs("div",{className:"report-breadcrumb",children:[e.jsxs("button",{className:"back-button",onClick:()=>t("/report"),children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M19 12H5"}),e.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Reports"}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Compliance Status"})]}),e.jsxs("div",{className:"report-content-wrapper",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Compliance Status Report"}),!ee()&&e.jsx("div",{className:"page-context-subtitle",children:we()})]}),e.jsxs("div",{className:"search-actions-row",children:[e.jsxs("div",{className:`search-container ${y?"loading":""}`,children:[e.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Compliance Type, Company, HCF, Notes",value:d,onChange:he=>a(X=>({...X,searchText:he.target.value,page:1})),onKeyDown:he=>{he.key==="Enter"&&!y&&(he.preventDefault(),ie())},disabled:y}),d&&!y&&e.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(he=>({...he,searchText:"",page:1})),(b||ee())&&await ie()},title:"Clear search",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("button",{type:"button",ref:ae,className:`btn btn-filters-toggle ${c?"active":""} ${y?"loading":""}`,onClick:()=>{if(!y){if(c||i({companyId:n.companyId||"",hcfId:n.hcfId||"",complianceType:n.complianceType||"All",status:n.status||"All"}),ae.current){const he=ae.current.getBoundingClientRect();le({top:he.bottom+8,left:he.left})}o(!c)}},disabled:y,title:"Open filters",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfId,n.complianceType&&n.complianceType!=="All"?n.complianceType:"",n.status&&n.status!=="All"?n.status:""].filter(Boolean).length>0&&e.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfId,n.complianceType&&n.complianceType!=="All"?n.complianceType:"",n.status&&n.status!=="All"?n.status:""].filter(Boolean).length})]})]}),c&&Wc.createPortal(e.jsx("div",{className:"filter-modal-overlay",onClick:()=>{o(!1),le(null)},children:e.jsxs("div",{className:"filter-modal-content",onClick:he=>he.stopPropagation(),style:G?{position:"fixed",top:`${G.top}px`,left:`${G.left}px`,margin:0}:{},children:[e.jsxs("div",{className:"filter-modal-header",children:[e.jsx("h3",{className:"filter-modal-title",children:"Filters"}),e.jsxs("div",{className:"filter-modal-actions",children:[e.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{i({companyId:"",hcfId:"",complianceType:"All",status:"All"})},children:"Clear Filters"}),e.jsx("button",{className:"filter-modal-close-btn",onClick:()=>o(!1),title:"Close filters",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),e.jsx("div",{className:"filter-modal-body",children:e.jsxs("div",{className:"filter-modal-grid",children:[e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Company Name"}),e.jsxs("select",{className:"filter-modal-select",value:s.companyId||"",onChange:he=>{i(X=>({...X,companyId:he.target.value,hcfId:""}))},children:[e.jsx("option",{value:"",children:"Select Company Name"}),l.map(he=>e.jsxs("option",{value:he.id,children:[he.companyCode," - ",he.companyName]},he.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),e.jsxs("select",{className:"filter-modal-select",value:s.hcfId||"",onChange:he=>i(X=>({...X,hcfId:he.target.value})),disabled:!s.companyId,children:[e.jsx("option",{value:"",children:"Select HCF Name"}),(s.companyId?h.filter(he=>he.companyId===s.companyId):h).map(he=>e.jsxs("option",{value:he.id,children:[he.hcfCode," - ",he.hcfName]},he.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Compliance Type"}),e.jsx("select",{className:"filter-modal-select",value:s.complianceType||"All",onChange:he=>i(X=>({...X,complianceType:he.target.value})),children:R.map(he=>e.jsx("option",{value:he.value,children:he.label},he.value))})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Status"}),e.jsx("select",{className:"filter-modal-select",value:s.status||"All",onChange:he=>i(X=>({...X,status:he.target.value})),children:q.map(he=>e.jsx("option",{value:he.value,children:he.label},he.value))})]})]})}),e.jsx("div",{className:"filter-modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await Z(),o(!1)},disabled:y,children:y?e.jsxs(e.Fragment,{children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:e.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),w&&e.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:w}),e.jsxs("div",{className:"results-section",ref:J,children:[e.jsx("div",{className:"table-scroll-container",children:e.jsxs("table",{className:"invoice-table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Compliance Type"}),e.jsx("th",{children:"Company"}),e.jsx("th",{children:"HCF"}),e.jsx("th",{children:"Expiry Date"}),e.jsx("th",{children:"Last Checked"}),e.jsx("th",{className:"text-center",children:"Status"})]})}),e.jsx("tbody",{className:"table-body",children:y?Array.from({length:5}).map((he,X)=>e.jsxs("tr",{className:"table-row-skeleton",children:[e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${X}`)):b?m.length===0?e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:6,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No compliance data found"}),e.jsx("p",{className:"empty-state-text",children:d.trim()?`No compliance items match "${d.trim()}". Try adjusting your search or filters.`:ee()?"No compliance items match the current filters. Try adjusting your filter criteria.":"No compliance data available. Use the search bar or apply filters to view reports."}),(ee()||d.trim())&&e.jsx("div",{className:"empty-state-action",children:e.jsx("button",{onClick:D,children:"Clear Filters"})})]})})}):m.map((he,X)=>{var Ae,Be;return e.jsxs("tr",{className:X%2===0?"table-row-even":"table-row-odd",children:[e.jsx("td",{children:he.complianceType}),e.jsx("td",{children:((Ae=l.find(Me=>Me.id===he.companyId))==null?void 0:Ae.companyName)||"N/A"}),e.jsx("td",{children:((Be=h.find(Me=>Me.id===he.hcfId))==null?void 0:Be.hcfCode)||"N/A"}),e.jsx("td",{children:ue(he.expiryDate)}),e.jsx("td",{children:ue(he.lastChecked)}),e.jsx("td",{className:"text-center",children:e.jsx("span",{className:te(he.status),children:he.status})})]},he.id)}):e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:6,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No compliance data found"}),e.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view compliance status reports."})]})})})})]})}),e.jsxs("div",{className:"pagination-controls",children:[e.jsx("div",{className:"pagination-info",children:b&&m.length>0?`Showing ${pe+1}-${je} of ${V.totalItems} items`:"Showing 0 of 0 items"}),e.jsxs("div",{className:"pagination-right",children:[e.jsxs("select",{className:"rows-per-page-select",value:L,disabled:!b||m.length===0,onChange:async he=>{a(X=>({...X,page:1,pageSize:Number(he.target.value)}))},children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]}),e.jsxs("div",{className:"pagination-numbers",children:[e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const he=Math.max(1,I-1);a(X=>({...X,page:he}))},disabled:I===1||!b||m.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const he=[];let Ae=Math.max(1,I-Math.floor(2.5)),Be=Math.min(ye,Ae+5-1);Be-Ae<4&&(Ae=Math.max(1,Be-5+1)),Ae>1&&(he.push(1),Ae>2&&he.push("..."));for(let Me=Ae;Me<=Be;Me++)he.push(Me);return Be<ye&&(Be<ye-1&&he.push("..."),he.push(ye)),he.map((Me,$e)=>{if(Me==="...")return e.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${$e}`);const ne=Me;return e.jsx("button",{className:`pagination-page-btn ${I===ne?"active":""}`,onClick:async()=>{a(Pe=>({...Pe,page:ne}))},disabled:!b||m.length===0,children:ne},ne)})})(),e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const he=Math.min(ye,I+1);a(X=>({...X,page:he}))},disabled:I===ye||ye===0||!b||m.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Vse=()=>{const r=jn(),t=qa(),[n,a]=C.useState({page:1,pageSize:25,createdFromDate:"",createdToDate:"",companyId:"",vehMake:"",status:"All",complianceStatus:"All",searchText:"",sortBy:"createdOn",sortOrder:"DESC"}),[s,i]=C.useState({createdFromDate:"",createdToDate:"",companyId:"",vehMake:"",status:"All",complianceStatus:"All"}),[c,o]=C.useState(!1),d=n.searchText||"",[l,u]=C.useState([]),[h,f]=C.useState([]),[A,g]=C.useState([]),[m,x]=C.useState(!1),[y,j]=C.useState(!1),[b,S]=C.useState(null),w=n.page||1,E=n.pageSize||25,I=C.useRef(null),L=C.useRef(null),[J,ae]=C.useState(null),[G,le]=C.useState({totalFleets:0,activeFleets:0,inactiveFleets:0});C.useEffect(()=>{(async()=>{try{const Pe=await ha.getAllCompanies();u(Pe)}catch(Pe){console.error("Error loading master data:",Pe)}})()},[]);const V=()=>{var ne;return!!(n.createdFromDate||n.createdToDate||n.companyId||n.vehMake||n.status&&n.status!=="All"||n.complianceStatus&&n.complianceStatus!=="All"||(ne=n.searchText)!=null&&ne.trim())},me=()=>{if(!V())return"No filters applied. Select a date range or search to view fleet vehicles.";const ne=[];if(n.createdFromDate&&n.createdToDate){const Pe=new Date(n.createdFromDate),_e=new Date(n.createdToDate),rt=Pe.toLocaleDateString("en-US",{month:"short",day:"numeric"}),et=_e.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});ne.push(`${rt} - ${et}`)}else if(n.createdFromDate||n.createdToDate){if(n.createdFromDate){const Pe=new Date(n.createdFromDate);ne.push(`From ${Pe.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}if(n.createdToDate){const Pe=new Date(n.createdToDate);ne.push(`To ${Pe.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}}if(n.companyId){const Pe=l.find(_e=>_e.id===n.companyId);ne.push(Pe?Pe.companyName:"Selected Company")}else ne.push("All Companies");return n.vehMake&&n.vehMake!=="All"&&ne.push(`Make: ${n.vehMake}`),n.status&&n.status!=="All"?ne.push(n.status):ne.push("All Status"),n.complianceStatus&&n.complianceStatus!=="All"&&ne.push(`Compliance: ${n.complianceStatus}`),`Showing fleet vehicles for: ${ne.join("  ")}`},$=(ne,Pe)=>{i(_e=>({..._e,[ne]:Pe}))},ee=()=>{a(ne=>({...ne,createdFromDate:s.createdFromDate||"",createdToDate:s.createdToDate||"",companyId:s.companyId||"",vehMake:s.vehMake||"",status:s.status||"All",complianceStatus:s.complianceStatus||"All",page:1}))},we=()=>{const ne={page:1,pageSize:n.pageSize||25,createdFromDate:"",createdToDate:"",companyId:"",vehMake:"",status:"All",complianceStatus:"All",searchText:"",sortBy:"createdOn",sortOrder:"DESC"};a(ne),i({createdFromDate:"",createdToDate:"",companyId:"",vehMake:"",status:"All",complianceStatus:"All"})},R=(ne,Pe)=>{a(_e=>({..._e,page:ne,...Pe!==void 0&&{pageSize:Pe}}))},q=ne=>{a(Pe=>({...Pe,searchText:ne,page:1}))},ie=[{value:"All",label:"All Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],Z=[{value:"All",label:"All"},{value:"Compliant",label:"Compliant"},{value:"Expiring Soon",label:"Expiring Soon"},{value:"Expired",label:"Expired"}],D=()=>{const ne=new Set;return h.forEach(Pe=>{Pe.vehMake&&ne.add(Pe.vehMake)}),Array.from(ne).sort()},ue=ne=>{const Pe=new Date;Pe.setHours(0,0,0,0);const _e=[ne.nextFCDate?new Date(ne.nextFCDate):null,ne.pucDateValidUpto?new Date(ne.pucDateValidUpto):null,ne.insuranceValidUpto?new Date(ne.insuranceValidUpto):null].filter(Boolean);if(_e.length===0)return"Compliant";if(_e.filter(it=>it<Pe).length>0)return"Expired";const et=new Date(Pe);return et.setDate(et.getDate()+30),_e.filter(it=>it<=et&&it>=Pe).length>0?"Expiring Soon":"Compliant"},te=async()=>{var ne;x(!0),S(null);try{let Pe=[];if(n.companyId)Pe=await Fh.getAllFleets(n.companyId);else{const it=l.length>0?l:await ha.getAllCompanies();for(const Wt of it)try{const qe=await Fh.getAllFleets(Wt.id);Pe.push(...qe)}catch(qe){console.warn(`Failed to load fleets for company ${Wt.companyName}:`,qe)}}let _e=Pe;if(n.createdFromDate){const it=new Date(n.createdFromDate);_e=_e.filter(Wt=>new Date(Wt.createdOn)>=it)}if(n.createdToDate){const it=new Date(n.createdToDate);it.setHours(23,59,59,999),_e=_e.filter(Wt=>new Date(Wt.createdOn)<=it)}if(n.companyId&&(_e=_e.filter(it=>it.companyId===n.companyId)),n.vehMake&&n.vehMake!=="All"&&(_e=_e.filter(it=>it.vehMake===n.vehMake)),n.status&&n.status!=="All"&&(_e=_e.filter(it=>it.status===n.status)),n.complianceStatus&&n.complianceStatus!=="All"&&(_e=_e.filter(it=>ue(it)===n.complianceStatus)),(ne=n.searchText)!=null&&ne.trim()){const it=n.searchText.toLowerCase().trim();_e=_e.filter(Wt=>{const qe=(Wt.vehicleNum||"").toLowerCase(),St=(Wt.vehMake||"").toLowerCase(),_t=(Wt.vehModel||"").toLowerCase(),ar=(Wt.ownerName||"").toLowerCase(),en=(Wt.ownerContact||"").toLowerCase(),Xt=(Wt.capacity||"").toLowerCase();return qe.includes(it)||St.includes(it)||_t.includes(it)||ar.includes(it)||en.includes(it)||Xt.includes(it)})}_e.sort((it,Wt)=>{const qe=it[n.sortBy]||"",St=Wt[n.sortBy]||"";return n.sortOrder==="ASC"?qe>St?1:-1:qe<St?1:-1});const rt=(w-1)*E,et=rt+E,Le=_e.slice(rt,et);f(_e),g(Le),j(!0),le({totalFleets:_e.length,activeFleets:_e.filter(it=>it.status==="Active").length,inactiveFleets:_e.filter(it=>it.status==="Inactive").length})}catch(Pe){console.error("Error loading fleets:",Pe),S(Pe.message||"Failed to load fleet vehicles"),f([]),g([])}finally{x(!1)}};C.useEffect(()=>{if(l.length>0){const ne=setTimeout(()=>{te()},500);return()=>clearTimeout(ne)}},[n,l]);const ye=async()=>{ee(),o(!1),await te()},pe=async()=>{we(),o(!1),await te()},je=ne=>ne?new Date(ne).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",re=ne=>{switch(ne){case"Active":return"status-badge status-badge--active";case"Inactive":return"status-badge status-badge--inactive";default:return"status-badge status-badge--active"}},he=ne=>{switch(ne){case"Compliant":return"status-badge status-badge--compliant";case"Expiring Soon":return"status-badge status-badge--expiring";case"Expired":return"status-badge status-badge--expired";default:return"status-badge status-badge--compliant"}},X=y&&G.totalFleets>0?Math.ceil(G.totalFleets/E):0,Ae=(w-1)*E,Be=Math.min(Ae+A.length,G.totalFleets),Me=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/master",label:"Master",icon:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}],$e=D();return e.jsx(Ec,{navItems:Me,children:e.jsxs("div",{className:"invoice-report-page",children:[e.jsxs("div",{className:"report-breadcrumb",children:[e.jsxs("button",{className:"back-button",onClick:()=>t("/report"),children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M19 12H5"}),e.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Reports"}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Fleet Master Report"})]}),e.jsxs("div",{className:"report-content-wrapper",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Fleet Master Report"}),!V()&&e.jsx("div",{className:"page-context-subtitle",children:me()})]}),e.jsxs("div",{className:"search-actions-row",children:[e.jsxs("div",{className:`search-container ${m?"loading":""}`,children:[e.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Vehicle Number, Make, Model, Owner Name, Contact, Capacity",value:d,onChange:ne=>q(ne.target.value),onKeyDown:ne=>{ne.key==="Enter"&&!m&&(ne.preventDefault(),te())},disabled:m}),d&&!m&&e.jsx("button",{className:"clear-search-btn",onClick:()=>{q(""),te()},title:"Clear search",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("button",{type:"button",ref:L,className:`btn btn-filters-toggle ${c?"active":""} ${m?"loading":""}`,onClick:()=>{if(!m){if(c||($("companyId",n.companyId||""),$("vehMake",n.vehMake||""),$("status",n.status||"All"),$("complianceStatus",n.complianceStatus||"All"),$("createdFromDate",n.createdFromDate||""),$("createdToDate",n.createdToDate||"")),L.current){const ne=L.current.getBoundingClientRect();ae({top:ne.bottom+8,left:ne.left})}o(!c)}},disabled:m,title:"Open filters",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[s.companyId,s.vehMake&&s.vehMake!=="All"?s.vehMake:"",s.status&&s.status!=="All"?s.status:"",s.complianceStatus&&s.complianceStatus!=="All"?s.complianceStatus:"",s.createdFromDate,s.createdToDate].filter(Boolean).length>0&&e.jsx("span",{className:"filter-count",children:[s.companyId,s.vehMake&&s.vehMake!=="All"?s.vehMake:"",s.status&&s.status!=="All"?s.status:"",s.complianceStatus&&s.complianceStatus!=="All"?s.complianceStatus:"",s.createdFromDate,s.createdToDate].filter(Boolean).length})]})]}),c&&Wc.createPortal(e.jsx("div",{className:"filter-modal-overlay",onClick:()=>{o(!1),ae(null)},children:e.jsxs("div",{className:"filter-modal-content",onClick:ne=>ne.stopPropagation(),style:J?{position:"fixed",top:`${J.top}px`,left:`${J.left}px`,margin:0}:{},children:[e.jsxs("div",{className:"filter-modal-header",children:[e.jsx("h3",{className:"filter-modal-title",children:"Filters"}),e.jsxs("div",{className:"filter-modal-actions",children:[e.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{$("companyId",""),$("vehMake",""),$("createdFromDate",""),$("createdToDate",""),$("status","All"),$("complianceStatus","All")},children:"Clear Filters"}),e.jsx("button",{className:"filter-modal-close-btn",onClick:()=>o(!1),title:"Close filters",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),e.jsx("div",{className:"filter-modal-body",children:e.jsxs("div",{className:"filter-modal-grid",children:[e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Created Date"}),e.jsxs("div",{className:"filter-date-range",children:[e.jsx("input",{type:"date",className:"filter-modal-input",value:s.createdFromDate||"",onChange:ne=>$("createdFromDate",ne.target.value),placeholder:"Select Date"}),e.jsx("span",{className:"filter-date-separator",children:"to"}),e.jsx("input",{type:"date",className:"filter-modal-input",value:s.createdToDate||"",onChange:ne=>$("createdToDate",ne.target.value),placeholder:"Select Date"})]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Company Name"}),e.jsxs("select",{className:"filter-modal-select",value:s.companyId||"",onChange:ne=>$("companyId",ne.target.value),children:[e.jsx("option",{value:"",children:"Select Company Name"}),l.map(ne=>e.jsxs("option",{value:ne.id,children:[ne.companyCode," - ",ne.companyName]},ne.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Vehicle Make"}),e.jsxs("select",{className:"filter-modal-select",value:s.vehMake||"All",onChange:ne=>$("vehMake",ne.target.value),children:[e.jsx("option",{value:"All",children:"All Makes"}),$e.map(ne=>e.jsx("option",{value:ne,children:ne},ne))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Status"}),e.jsx("select",{className:"filter-modal-select",value:s.status||"All",onChange:ne=>$("status",ne.target.value),children:ie.map(ne=>e.jsx("option",{value:ne.value,children:ne.label},ne.value))})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Compliance Status"}),e.jsx("select",{className:"filter-modal-select",value:s.complianceStatus||"All",onChange:ne=>$("complianceStatus",ne.target.value),children:Z.map(ne=>e.jsx("option",{value:ne.value,children:ne.label},ne.value))})]})]})}),e.jsx("div",{className:"filter-modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:ye,disabled:m,children:m?e.jsxs(e.Fragment,{children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:e.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),e.jsxs("div",{className:"results-section",ref:I,children:[e.jsx("div",{className:"table-scroll-container",children:e.jsxs("table",{className:"invoice-table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Vehicle Number"}),e.jsx("th",{children:"Company"}),e.jsx("th",{children:"Make"}),e.jsx("th",{children:"Model"}),e.jsx("th",{children:"Capacity"}),e.jsx("th",{children:"Owner Name"}),e.jsx("th",{children:"Owner Contact"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Compliance"}),e.jsx("th",{children:"Created Date"})]})}),e.jsx("tbody",{className:"table-body",children:m?Array.from({length:5}).map((ne,Pe)=>e.jsxs("tr",{className:"table-row-skeleton",children:[e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell skeleton-badge"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell skeleton-badge"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})})]},`skeleton-${Pe}`)):y?A.length===0?e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:10,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),e.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No fleet vehicles found"}),e.jsx("p",{className:"empty-state-text",children:d.trim()?`No vehicles match "${d.trim()}". Try adjusting your search or filters.`:V()?"No vehicles match the current filters. Try adjusting your filter criteria.":"No vehicles available. Use the search bar or apply filters to view reports."}),(V()||d.trim())&&e.jsx("div",{className:"empty-state-action",children:e.jsx("button",{onClick:pe,children:"Clear Filters"})})]})})}):A.map((ne,Pe)=>{const _e=l.find(et=>et.id===ne.companyId),rt=ue(ne);return e.jsxs("tr",{className:Pe%2===0?"table-row-even":"table-row-odd",children:[e.jsx("td",{className:"invoice-number-cell",children:ne.vehicleNum}),e.jsx("td",{children:(_e==null?void 0:_e.companyName)||"N/A"}),e.jsx("td",{children:ne.vehMake||"N/A"}),e.jsx("td",{children:ne.vehModel||"N/A"}),e.jsx("td",{children:ne.capacity||"N/A"}),e.jsx("td",{children:ne.ownerName||"N/A"}),e.jsx("td",{children:ne.ownerContact||"N/A"}),e.jsx("td",{className:"text-center",children:e.jsx("span",{className:re(ne.status),children:ne.status})}),e.jsx("td",{className:"text-center",children:e.jsx("span",{className:he(rt),children:rt})}),e.jsx("td",{children:je(ne.createdOn)})]},ne.id)}):e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:10,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),e.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No fleet vehicles found"}),e.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view fleet reports"})]})})})})]})}),e.jsxs("div",{className:"pagination-controls",children:[e.jsx("div",{className:"pagination-info",children:y&&A.length>0?`Showing ${Be} of ${G.totalFleets} items`:"Showing 0 of 0 items"}),e.jsxs("div",{className:"pagination-right",children:[e.jsxs("select",{className:"rows-per-page-select",value:E,disabled:!y||A.length===0,onChange:async ne=>{R(1,Number(ne.target.value)),await te()},children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]}),e.jsxs("div",{className:"pagination-numbers",children:[e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ne=Math.max(1,w-1);R(ne),await te()},disabled:w===1||!y||A.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const ne=[];let _e=Math.max(1,w-Math.floor(2.5)),rt=Math.min(X,_e+5-1);rt-_e<4&&(_e=Math.max(1,rt-5+1)),_e>1&&(ne.push(1),_e>2&&ne.push("..."));for(let et=_e;et<=rt;et++)ne.push(et);return rt<X&&(rt<X-1&&ne.push("..."),ne.push(X)),ne.map((et,Le)=>{if(et==="...")return e.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${Le}`);const it=et;return e.jsx("button",{className:`pagination-page-btn ${w===it?"active":""}`,onClick:async()=>{R(it),await te()},disabled:!y||A.length===0,children:it},it)})})(),e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ne=Math.min(X,w+1);R(ne),await te()},disabled:w===X||X===0||!y||A.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},zse=()=>{const{login:r,verifyOTP:t,loading:n,user:a}=Yn(),s=qa(),i=jn(),[c,o]=C.useState(""),[d,l]=C.useState(""),[u,h]=C.useState(!1),[f,A]=C.useState(!1),[g,m]=C.useState(null),[x,y]=C.useState(!1),[j,b]=C.useState(""),[S,w]=C.useState(["","","","","",""]),[E,I]=C.useState(0);C.useEffect(()=>{if(E>0){const me=setTimeout(()=>I(E-1),1e3);return()=>clearTimeout(me)}},[E]);const L=me=>{if(!me||me.trim().length===0)return!1;const $=/^[a-zA-Z0-9_-]+$/,ee=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return $.test(me.trim())||ee.test(me.trim())},J=async me=>{var $,ee;if(me.preventDefault(),m(null),!L(c)){m("Please enter a valid username or email address");return}if(!d||d.trim().length===0){m("Please enter your password");return}try{const we=await r(c.trim(),d);if(we.requiresOTP&&we.email)b(we.email),y(!0),I(60);else{const R=(ee=($=i.state)==null?void 0:$.from)==null?void 0:ee.pathname;s(R||"/mobile/home",{replace:!0})}}catch(we){m(we.message||"Invalid credentials. Please check your username and password.")}},ae=(me,$)=>{if($.length>1)return;const ee=[...S];if(ee[me]=$,w(ee),$&&me<5){const we=document.getElementById(`otp-input-mobile-${me+1}`);we==null||we.focus()}},G=(me,$)=>{if($.key==="Backspace"&&!S[me]&&me>0){const ee=document.getElementById(`otp-input-mobile-${me-1}`);ee==null||ee.focus()}},le=async me=>{var ee,we,R;me.preventDefault(),m(null);const $=S.join("");if($.length!==6){m("Please enter a valid 6-digit OTP");return}try{await t(j,$);const q=(we=(ee=i.state)==null?void 0:ee.from)==null?void 0:we.pathname;s(q||"/mobile/home",{replace:!0})}catch(q){m(q.message||"Invalid OTP"),w(["","","","","",""]),(R=document.getElementById("otp-input-mobile-0"))==null||R.focus()}},V=async()=>{if(!(E>0)){m(null);try{await r(c,d),I(60),w(["","","","","",""])}catch(me){m(me.message||"Failed to resend OTP")}}};return n&&!x&&!c&&!d?e.jsxs("div",{className:"mobile-login-container",style:{justifyContent:"center",alignItems:"center"},children:[e.jsx("div",{className:"loading-spinner"}),e.jsx("p",{style:{color:"#666",fontSize:"14px",marginTop:"16px"},children:"Loading..."})]}):e.jsxs("div",{className:"mobile-login-container",children:[e.jsxs("header",{className:"login-header",children:[e.jsx("h1",{className:"header-title",children:"Medi Waste Management System"}),e.jsx("p",{className:"header-subtitle",children:"Streamlined healthcare waste tracking and compliance"})]}),e.jsx("main",{className:"login-main",children:e.jsxs("div",{className:"login-card",children:[e.jsx("h2",{className:"login-card-title",children:x?"Verify OTP":"Log in"}),x?e.jsxs("form",{className:"login-form",onSubmit:le,children:[e.jsx("div",{className:"otp-instruction-mobile",children:j.toLowerCase()==="superadmin@medi-waste.io"||j.toLowerCase()==="superadmin"?e.jsx("p",{children:"Use your configured SuperAdmin OTP."}):e.jsx("p",{children:"We've sent a 6-digit code to your email. Please enter it below."})}),e.jsx("div",{className:"otp-inputs-row-mobile",children:S.map((me,$)=>e.jsx("input",{id:`otp-input-mobile-${$}`,type:"text",inputMode:"numeric",maxLength:1,className:"otp-input-mobile",value:me,onChange:ee=>ae($,ee.target.value),onKeyDown:ee=>G($,ee),autoFocus:$===0,disabled:n},$))}),g&&e.jsx("div",{className:"error-message-mobile",children:g}),e.jsx("button",{type:"submit",className:"login-button",disabled:n||S.some(me=>!me),children:n?"Verifying...":"Verify OTP"}),e.jsx("div",{className:"otp-resend-mobile",children:e.jsxs("p",{className:"otp-resend-text-mobile",children:["Didn't receive the code?"," ",E>0?e.jsxs("span",{className:"otp-timer-mobile",children:["Resend in ",E,"s"]}):e.jsx("button",{type:"button",className:"otp-resend-link-mobile",onClick:V,children:"Resend OTP"})]})})]}):e.jsxs("form",{className:"login-form",onSubmit:J,children:[e.jsx("div",{className:"form-field",children:e.jsxs("div",{className:"input-wrapper",children:[e.jsxs("svg",{className:"input-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("input",{type:"text",className:"form-input",placeholder:"Username or Email",value:c,onChange:me=>{o(me.target.value),m(null)},autoComplete:"username",disabled:n})]})}),e.jsx("div",{className:"form-field",children:e.jsxs("div",{className:"input-wrapper",children:[e.jsxs("svg",{className:"input-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),e.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),e.jsx("input",{type:f?"text":"password",className:"form-input",placeholder:"Password",value:d,onChange:me=>{l(me.target.value),m(null)},autoComplete:"current-password",disabled:n}),e.jsx("button",{type:"button",className:"password-toggle",onClick:()=>A(!f),"aria-label":f?"Hide password":"Show password",disabled:n,children:f?e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),e.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})}),e.jsxs("div",{className:"form-options",children:[e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",className:"checkbox-input",checked:u,onChange:me=>h(me.target.checked),disabled:n}),e.jsx("span",{className:"checkbox-text",children:"Remember Me"})]}),e.jsx(Hr,{to:"/forgot-password",className:"forgot-password-link",children:"Forgot Password?"})]}),g&&e.jsx("div",{className:"error-message-mobile",children:g}),e.jsx("button",{type:"submit",className:"login-button",disabled:n,children:n?"Logging in...":"Log in"})]})]})})]})},Kse=({title:r,subtitle:t,action:n,children:a})=>e.jsxs("section",{className:"form-card",children:[e.jsxs("div",{className:"form-card__header",children:[e.jsxs("div",{children:[e.jsx("h1",{children:r}),t&&e.jsx("p",{children:t})]}),n&&e.jsx("div",{className:"form-card__action",children:n})]}),e.jsx("div",{className:"form-card__body",children:a})]}),mC=({label:r,type:t="text",error:n,hint:a,...s})=>{const[i,c]=C.useState(!1),o=t==="password",d=o&&i?"text":t;return e.jsxs("label",{className:`input-field ${n?"input-field--error":""}`,children:[e.jsx("span",{children:r}),e.jsxs("div",{className:"input-field__control",children:[e.jsx("input",{type:d,...s}),o&&e.jsx("button",{type:"button",className:"input-field__toggle",onClick:()=>c(l=>!l),"aria-label":i?"Hide password":"Show password",children:i?"Hide":"Show"})]}),n?e.jsx("small",{className:"input-field__error",children:n}):a&&e.jsx("small",{children:a})]})},Gse=({loading:r,children:t,...n})=>e.jsx("button",{className:"primary-btn",disabled:r||n.disabled,...n,children:r?"Working...":t}),qse=({role:r})=>e.jsx("span",{className:"role-pill",children:r}),Fk={manager:"Approve & oversee routes",staff:"Execute pickups",viewer:"Read-only visibility"},Xse=()=>{const{createUser:r,loading:t,user:n}=Yn(),[a,s]=C.useState({name:"",email:"",password:"",role:"staff"}),[i,c]=C.useState(null),[o,d]=C.useState(null),l=async u=>{u.preventDefault(),c(null),d(null);try{const h=await r(a);c(`Created ${h.name} (${h.roles.join(", ")})`),s({...a,name:"",email:"",password:""})}catch(h){d(h.message||"Unable to create user")}};return e.jsx(Kse,{title:"Add Field User",subtitle:"Mobile-first creation for operational leads.",action:n?e.jsx(qse,{role:n.roles[0]}):null,children:e.jsxs("form",{className:"form-grid mobile",onSubmit:l,children:[e.jsx(mC,{label:"Name",placeholder:"Jordan Blake",value:a.name,onChange:u=>s(h=>({...h,name:u.target.value}))}),e.jsx(mC,{label:"Email",type:"email",placeholder:"user@medi-waste.io",value:a.email,onChange:u=>s(h=>({...h,email:u.target.value}))}),e.jsx(mC,{label:"Password",type:"password",placeholder:"Strong password",value:a.password,onChange:u=>s(h=>({...h,password:u.target.value})),hint:"Min 8 characters"}),e.jsxs("label",{className:"input-field",children:[e.jsx("span",{children:"Role"}),e.jsx("div",{className:"role-options",children:Object.keys(Fk).map(u=>e.jsxs("button",{type:"button",className:`role-chip ${a.role===u?"role-chip--active":""}`,onClick:()=>s(h=>({...h,role:u})),children:[e.jsx("strong",{children:u}),e.jsx("small",{children:Fk[u]})]},u))})]}),o&&e.jsx("div",{className:"form-error",children:o}),i&&e.jsx("div",{className:"form-success",children:i}),e.jsx(Gse,{type:"submit",loading:t,children:"Save User"}),e.jsx("p",{className:"muted",children:"Managers can add staff on the go."})]})})},Yse=()=>{const{user:r,logout:t,permissions:n}=Yn(),a=jn();qa();const[s,i]=C.useState(!1),[c,o]=C.useState(!1),d=()=>{o(!c)},[l,u]=C.useState(null),[h,f]=C.useState(null),[A,g]=C.useState("basic"),[m,x]=C.useState(null),[y,j]=C.useState(!1),[b,S]=C.useState({emailAddress:"",emergencyContact:"",addressLine:"",area:"",city:"",district:"",pincode:""}),[w,E]=C.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[I,L]=C.useState({current:!1,new:!1,confirm:!1}),[J,ae]=C.useState({length:!1,uppercase:!1,lowercase:!1,number:!1,special:!1,match:!1});C.useEffect(()=>{r!=null&&r.id&&G()},[r]);const G=async()=>{if(r){i(!0),u(null);try{const te=r.id&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(r.id);let ye=null;if(te)try{ye=await Hc.getUserById(r.id)}catch(pe){console.log("User ID lookup failed, trying search by username:",pe)}if(!ye&&r.name)try{ye=await Hc.getUserByUsername(r.name)}catch(pe){console.log("User lookup by username failed:",pe)}if(ye)x(ye),S({emailAddress:ye.emailAddress||"",emergencyContact:ye.emergencyContact||"",addressLine:ye.addressLine||"",area:ye.area||"",city:ye.city||"",district:ye.district||"",pincode:ye.pincode||""});else{const pe={userName:r.name,emailAddress:r.email||null,status:"Active",mobileNumber:"-",employeeCode:null,userRoleId:r.roles.join(", ")||null};x(pe),u("Showing basic information from your session. Some details may be incomplete.")}}catch(te){console.error("Error loading user profile:",te),u("Unable to load complete profile data. Showing basic information from your session.")}finally{i(!1)}}},le=async()=>{if(m!=null&&m.userId){i(!0),f(null),u(null);try{await Hc.updateCompleteUser(m.userId,{emailAddress:b.emailAddress||void 0,emergencyContact:b.emergencyContact||void 0,addressLine:b.addressLine||void 0,area:b.area||void 0,city:b.city||void 0,district:b.district||void 0,pincode:b.pincode||void 0}),f("Contact information updated successfully!"),j(!1),await G()}catch(te){u(te.message||"Failed to update contact information")}finally{i(!1)}}},V=()=>{m&&S({emailAddress:m.emailAddress||"",emergencyContact:m.emergencyContact||"",addressLine:m.addressLine||"",area:m.area||"",city:m.city||"",district:m.district||"",pincode:m.pincode||""}),j(!1)},me=te=>{ae({length:te.length>=8,uppercase:/[A-Z]/.test(te),lowercase:/[a-z]/.test(te),number:/[0-9]/.test(te),special:/[!@#$%^&*(),.?":{}|<>]/.test(te),match:te===w.confirmPassword&&te.length>0})},$=(te,ye)=>{const pe={...w,[te]:ye};E(pe),te==="newPassword"?(me(ye),w.confirmPassword&&ae(je=>({...je,match:ye===w.confirmPassword&&ye.length>0}))):ae(je=>({...je,match:ye===w.newPassword&&ye.length>0}))},ee=()=>{const ye=[J.length,J.uppercase,J.lowercase,J.number,J.special].filter(Boolean).length;return ye===0?{level:0,label:"",color:""}:ye<=2?{level:1,label:"Weak",color:"#ef4444"}:ye<=4?{level:2,label:"Medium",color:"#f59e0b"}:{level:3,label:"Strong",color:"#10b981"}},we=async te=>{if(te.preventDefault(),u(null),f(null),!J.length){u("Password must be at least 8 characters long");return}if(!J.uppercase){u("Password must contain at least one uppercase letter");return}if(!J.lowercase){u("Password must contain at least one lowercase letter");return}if(!J.number){u("Password must contain at least one number");return}if(!J.special){u("Password must contain at least one special character");return}if(!J.match){u("New password and confirm password do not match");return}i(!0);try{if(!(r!=null&&r.id))throw new Error("User ID not found");await XP(r.id,{currentPassword:w.currentPassword,newPassword:w.newPassword}),f("Password changed successfully!"),E({currentPassword:"",newPassword:"",confirmPassword:""}),ae({length:!1,uppercase:!1,lowercase:!1,number:!1,special:!1,match:!1}),L({current:!1,new:!1,confirm:!1})}catch(ye){u(ye.message||"Failed to change password")}finally{i(!1)}},R=te=>{const ye=te.toLowerCase();return ye==="active"?"status-badge--active":ye==="inactive"?"status-badge--inactive":ye==="draft"?"status-badge--draft":"status-badge--active"},q=te=>{const ye=te.trim().split(" ");return ye.length>=2?(ye[0][0]+ye[ye.length-1][0]).toUpperCase():te.charAt(0).toUpperCase()},ie=(m==null?void 0:m.userName)||(r==null?void 0:r.name)||"User",Z=(m==null?void 0:m.userRoleId)||(r==null?void 0:r.roles.join(", "))||"User",D=(m==null?void 0:m.status)||"Active",ue=xs(n,a.pathname);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${c?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!c&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:d,"aria-label":c?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:ue.map(te=>e.jsx("li",{children:e.jsxs(Hr,{to:te.path,className:`nav-link ${te.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:te.icon}),!c&&e.jsx("span",{className:"nav-label",children:te.label})]})},te.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Hr,{to:"/profile",className:`sidebar-profile-btn ${a.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsx("span",{className:"nav-icon",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!c&&e.jsx("span",{className:"nav-label",children:"Profile"})]}),e.jsxs("button",{onClick:t,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!c&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(_a,{title:"Profile",subtitle:"Manage your profile and account settings"}),e.jsx("div",{className:"dashboard-content",children:e.jsxs("div",{className:"profile-page",children:[e.jsxs("div",{className:"profile-header-card profile-header-card--template",children:[e.jsxs("div",{className:"profile-header-left",children:[e.jsx("div",{className:"profile-header-avatar",children:e.jsx("div",{className:"profile-avatar-large",children:q(ie)})}),e.jsxs("div",{className:"profile-header-info",children:[e.jsxs("div",{className:"profile-header-top",children:[e.jsx("h1",{className:"profile-header-name",children:ie}),e.jsxs("div",{className:"profile-header-badges",children:[e.jsx("span",{className:"profile-role-pill",children:Z}),e.jsx("span",{className:`profile-status-pill ${R(D)}`,children:D})]})]}),e.jsxs("div",{className:"profile-header-sub",children:[e.jsx("span",{className:"profile-header-subitem",children:(m==null?void 0:m.emailAddress)||(r==null?void 0:r.email)||""}),e.jsx("span",{className:"profile-header-dot",children:""}),e.jsx("span",{className:"profile-header-subitem",children:(m==null?void 0:m.employmentType)||"Administration"})]})]})]}),e.jsx("div",{className:"profile-header-actions",children:e.jsxs("button",{type:"button",className:"profile-save-btn",onClick:le,disabled:s||A!=="contact"||!y||!(m!=null&&m.userId),title:A!=="contact"?"Switch to Contact Info to save":y?"Save contact information":"Click Edit Contact Info to make changes",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),e.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),e.jsx("polyline",{points:"7 3 7 8 15 8"})]}),"Save"]})})]}),l&&e.jsxs("div",{className:"profile-info-banner",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),e.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),e.jsx("span",{children:l})]}),h&&e.jsxs("div",{className:"profile-success-message",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),h]}),e.jsxs("div",{className:"profile-section-tabs",children:[e.jsxs("button",{className:`section-tab ${A==="basic"?"active":""}`,onClick:()=>g("basic"),children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Basic Info"]}),e.jsxs("button",{className:`section-tab ${A==="contact"?"active":""}`,onClick:()=>g("contact"),children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),e.jsx("polyline",{points:"22,6 12,13 2,6"})]}),"Contact Info"]}),e.jsxs("button",{className:`section-tab ${A==="security"?"active":""}`,onClick:()=>g("security"),children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),e.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),"Security"]})]}),e.jsx("div",{className:"profile-section-content",children:s&&!m?e.jsxs("div",{className:"profile-loading",children:[e.jsx("div",{className:"loading-spinner"}),e.jsx("p",{children:"Loading profile data..."})]}):e.jsxs(e.Fragment,{children:[A==="basic"&&e.jsxs("div",{className:"profile-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h2",{className:"section-title",children:"Basic Information"}),e.jsx("p",{className:"section-description",children:"Your account information (read-only)"})]}),e.jsxs("div",{className:"profile-cards-grid",children:[e.jsxs("div",{className:"profile-card",children:[e.jsxs("div",{className:"profile-card-header",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("span",{className:"profile-card-title",children:"User Name"})]}),e.jsx("div",{className:"profile-card-value",children:(m==null?void 0:m.userName)||(r==null?void 0:r.name)||"-"})]}),e.jsxs("div",{className:"profile-card",children:[e.jsxs("div",{className:"profile-card-header",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),e.jsx("path",{d:"M20 8v6M23 11h-6"})]}),e.jsx("span",{className:"profile-card-title",children:"Employee Code"})]}),e.jsx("div",{className:"profile-card-value",children:(m==null?void 0:m.employeeCode)||"-"})]}),e.jsxs("div",{className:"profile-card",children:[e.jsxs("div",{className:"profile-card-header",children:[e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),e.jsx("span",{className:"profile-card-title",children:"Mobile Number"})]}),e.jsx("div",{className:"profile-card-value",children:(m==null?void 0:m.mobileNumber)||"-"})]}),e.jsxs("div",{className:"profile-card",children:[e.jsxs("div",{className:"profile-card-header",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M12 6v6l4 2"})]}),e.jsx("span",{className:"profile-card-title",children:"Status"})]}),e.jsx("div",{className:"profile-card-value",children:e.jsx("span",{className:`status-badge ${R(D)}`,children:D})})]}),e.jsxs("div",{className:"profile-card",children:[e.jsxs("div",{className:"profile-card-header",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"9",cy:"7",r:"4"}),e.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),e.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),e.jsx("span",{className:"profile-card-title",children:"Role"})]}),e.jsx("div",{className:"profile-card-value",children:Z})]}),e.jsxs("div",{className:"profile-card",children:[e.jsxs("div",{className:"profile-card-header",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),e.jsx("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),e.jsx("line",{x1:"23",y1:"11",x2:"17",y2:"11"})]}),e.jsx("span",{className:"profile-card-title",children:"Employment Type"})]}),e.jsx("div",{className:"profile-card-value",children:(m==null?void 0:m.employmentType)||"-"})]})]})]}),A==="contact"&&e.jsxs("div",{className:"profile-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h2",{className:"section-title",children:"Contact Information"}),e.jsx("p",{className:"section-description",children:y?"Edit your contact details":"Update your contact details"})]}),e.jsxs("div",{className:"profile-contact-form",children:[e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"emailAddress",children:"Email Address"}),y?e.jsx("input",{type:"email",id:"emailAddress",value:b.emailAddress,onChange:te=>S({...b,emailAddress:te.target.value}),placeholder:"Enter email address",disabled:s}):e.jsx("div",{className:"form-value",children:(m==null?void 0:m.emailAddress)||"Not provided"}),e.jsx("small",{className:"form-hint",children:"Email is optional and can be updated"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"emergencyContact",children:"Emergency Contact"}),y?e.jsx("input",{type:"text",id:"emergencyContact",value:b.emergencyContact,onChange:te=>S({...b,emergencyContact:te.target.value}),placeholder:"Enter emergency contact number",disabled:s}):e.jsx("div",{className:"form-value",children:(m==null?void 0:m.emergencyContact)||"-"})]})]}),e.jsxs("div",{className:"form-group form-group--full",children:[e.jsx("label",{htmlFor:"addressLine",children:"Address Line"}),y?e.jsx("input",{type:"text",id:"addressLine",value:b.addressLine,onChange:te=>S({...b,addressLine:te.target.value}),placeholder:"Enter address line",disabled:s}):e.jsx("div",{className:"form-value",children:(m==null?void 0:m.addressLine)||"-"})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"area",children:"Area"}),y?e.jsx("input",{type:"text",id:"area",value:b.area,onChange:te=>S({...b,area:te.target.value}),placeholder:"Enter area",disabled:s}):e.jsx("div",{className:"form-value",children:(m==null?void 0:m.area)||"-"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"city",children:"City"}),y?e.jsx("input",{type:"text",id:"city",value:b.city,onChange:te=>S({...b,city:te.target.value}),placeholder:"Enter city",disabled:s}):e.jsx("div",{className:"form-value",children:(m==null?void 0:m.city)||"-"})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"district",children:"District"}),y?e.jsx("input",{type:"text",id:"district",value:b.district,onChange:te=>S({...b,district:te.target.value}),placeholder:"Enter district",disabled:s}):e.jsx("div",{className:"form-value",children:(m==null?void 0:m.district)||"-"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"pincode",children:"Pincode"}),y?e.jsx("input",{type:"text",id:"pincode",value:b.pincode,onChange:te=>S({...b,pincode:te.target.value}),placeholder:"Enter pincode",disabled:s}):e.jsx("div",{className:"form-value",children:(m==null?void 0:m.pincode)||"-"})]})]}),e.jsx("div",{className:"form-actions",children:y?e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:V,disabled:s,children:"Cancel"}),e.jsx("button",{type:"button",className:"btn btn--primary",onClick:le,disabled:s,children:s?"Saving...":"Save Changes"})]}):e.jsx("button",{type:"button",className:"btn btn--primary",onClick:()=>j(!0),children:"Edit Contact Info"})})]})]}),A==="security"&&e.jsxs("div",{className:"profile-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h2",{className:"section-title",children:"Security Settings"}),e.jsx("p",{className:"section-description",children:"Manage your password and security preferences"})]}),e.jsxs("div",{className:"security-card security-card--password",children:[e.jsx("div",{className:"security-card-header",children:e.jsxs("div",{className:"security-card-title-group",children:[e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),e.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"security-card-title",children:"Change Password"}),e.jsx("p",{className:"security-card-subtitle",children:"Update your account password to keep your account secure"})]})]})}),e.jsxs("form",{onSubmit:we,className:"password-form",children:[e.jsxs("div",{className:"form-group form-group--password",children:[e.jsxs("label",{htmlFor:"currentPassword",children:["Current Password",e.jsx("span",{className:"required-asterisk",children:"*"})]}),e.jsxs("div",{className:"password-input-wrapper",children:[e.jsx("input",{type:I.current?"text":"password",id:"currentPassword",value:w.currentPassword,onChange:te=>E({...w,currentPassword:te.target.value}),required:!0,placeholder:"Enter your current password",disabled:s,className:w.currentPassword?"has-value":""}),e.jsx("button",{type:"button",className:"password-toggle",onClick:()=>L({...I,current:!I.current}),tabIndex:-1,"aria-label":I.current?"Hide password":"Show password",children:I.current?e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),e.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),e.jsxs("div",{className:"form-group form-group--password",children:[e.jsxs("label",{htmlFor:"newPassword",children:["New Password",e.jsx("span",{className:"required-asterisk",children:"*"})]}),e.jsxs("div",{className:"password-input-wrapper",children:[e.jsx("input",{type:I.new?"text":"password",id:"newPassword",value:w.newPassword,onChange:te=>$("newPassword",te.target.value),required:!0,placeholder:"Enter new password",disabled:s,className:w.newPassword?"has-value":""}),e.jsx("button",{type:"button",className:"password-toggle",onClick:()=>L({...I,new:!I.new}),tabIndex:-1,"aria-label":I.new?"Hide password":"Show password",children:I.new?e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),e.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),w.newPassword&&e.jsxs("div",{className:"password-strength",children:[e.jsx("div",{className:"password-strength-bar",children:e.jsx("div",{className:"password-strength-fill",style:{width:`${ee().level/3*100}%`,backgroundColor:ee().color}})}),e.jsx("span",{className:"password-strength-label",style:{color:ee().color},children:ee().label||"Enter password"})]}),e.jsxs("div",{className:"password-requirements",children:[e.jsxs("div",{className:`requirement-item ${J.length?"requirement-item--valid":""}`,children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:J.length?e.jsx("path",{d:"M20 6L9 17l-5-5"}):e.jsx("circle",{cx:"12",cy:"12",r:"10"})}),e.jsx("span",{children:"At least 8 characters"})]}),e.jsxs("div",{className:`requirement-item ${J.uppercase?"requirement-item--valid":""}`,children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:J.uppercase?e.jsx("path",{d:"M20 6L9 17l-5-5"}):e.jsx("circle",{cx:"12",cy:"12",r:"10"})}),e.jsx("span",{children:"One uppercase letter"})]}),e.jsxs("div",{className:`requirement-item ${J.lowercase?"requirement-item--valid":""}`,children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:J.lowercase?e.jsx("path",{d:"M20 6L9 17l-5-5"}):e.jsx("circle",{cx:"12",cy:"12",r:"10"})}),e.jsx("span",{children:"One lowercase letter"})]}),e.jsxs("div",{className:`requirement-item ${J.number?"requirement-item--valid":""}`,children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:J.number?e.jsx("path",{d:"M20 6L9 17l-5-5"}):e.jsx("circle",{cx:"12",cy:"12",r:"10"})}),e.jsx("span",{children:"One number"})]}),e.jsxs("div",{className:`requirement-item ${J.special?"requirement-item--valid":""}`,children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:J.special?e.jsx("path",{d:"M20 6L9 17l-5-5"}):e.jsx("circle",{cx:"12",cy:"12",r:"10"})}),e.jsx("span",{children:"One special character"})]})]})]}),e.jsxs("div",{className:"form-group form-group--password",children:[e.jsxs("label",{htmlFor:"confirmPassword",children:["Confirm New Password",e.jsx("span",{className:"required-asterisk",children:"*"})]}),e.jsxs("div",{className:"password-input-wrapper",children:[e.jsx("input",{type:I.confirm?"text":"password",id:"confirmPassword",value:w.confirmPassword,onChange:te=>$("confirmPassword",te.target.value),required:!0,placeholder:"Re-enter new password",disabled:s,className:`${w.confirmPassword?"has-value":""} ${w.confirmPassword&&J.match?"password-match":w.confirmPassword&&!J.match?"password-mismatch":""}`}),e.jsx("button",{type:"button",className:"password-toggle",onClick:()=>L({...I,confirm:!I.confirm}),tabIndex:-1,"aria-label":I.confirm?"Hide password":"Show password",children:I.confirm?e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),e.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),w.confirmPassword&&e.jsxs("div",{className:`password-match-indicator ${J.match?"password-match-indicator--valid":"password-match-indicator--invalid"}`,children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:J.match?e.jsx("path",{d:"M20 6L9 17l-5-5"}):e.jsx("path",{d:"M18 6L6 18M6 6l12 12"})}),e.jsx("span",{children:J.match?"Passwords match":"Passwords do not match"})]})]}),e.jsx("div",{className:"form-actions form-actions--password",children:e.jsx("button",{type:"submit",className:"btn btn--primary btn--password",disabled:s||!J.match||!J.length||!J.uppercase||!J.lowercase||!J.number||!J.special,children:s?e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"btn-spinner",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Changing Password..."]}):e.jsxs(e.Fragment,{children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),e.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),e.jsx("polyline",{points:"7 3 7 8 15 8"})]}),"Update Password"]})})})]})]})]})]})})]})})]})]})},Jse=()=>{const r=qa(),t=jn(),{user:n,logout:a}=Yn(),[s,i]=C.useState(!1),[c,o]=C.useState(null),[d,l]=C.useState(!1);C.useEffect(()=>{(async()=>{if(n!=null&&n.token){const S=await E_(n.token);o(S)}})()},[n]);const u=[{id:"home",label:"Home",icon:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),path:"/mobile/home",permission:"HOME_VIEW"},{id:"scan",label:"Scan",icon:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 12v3a2 2 0 0 1-2 2h-3"}),e.jsx("path",{d:"M3 12V9a2 2 0 0 1 2-2h3"}),e.jsx("path",{d:"M21 12H3"}),e.jsx("path",{d:"M12 21v-9"}),e.jsx("path",{d:"M12 3v9"})]}),path:"/mobile/scan",scanButton:!0},{id:"more",label:"More",icon:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"1"}),e.jsx("circle",{cx:"12",cy:"5",r:"1"}),e.jsx("circle",{cx:"12",cy:"19",r:"1"})]}),path:"#"}],h=b=>{if(b.scanButton||b.id==="more"||b.id==="home")return!0;if(b.permission&&c){if(b.permission.includes("ROUTE_ASSIGNMENT")||b.permission.includes("WASTE_COLLECTION"))return nA(c,"transaction");if(b.permission.includes("HCF"))return nA(c,"master","hcf")}return!0},f=b=>{if(b.id==="more"){i(!s);return}b.path&&b.path!=="#"&&(r(b.path),i(!1))},A=()=>{r("/mobile/scan"),i(!1)},g=()=>{a(),r("/mobile/login"),i(!1)},m=u.filter(h),x=m.find(b=>b.id==="home"),y=m.find(b=>b.scanButton),j=m.find(b=>b.id==="more");return e.jsxs(e.Fragment,{children:[s&&e.jsx("div",{className:"mobile-more-overlay",onClick:()=>i(!1),children:e.jsxs("div",{className:"mobile-more-menu",onClick:b=>b.stopPropagation(),children:[e.jsxs("div",{className:"mobile-more-header",children:[e.jsx("h3",{children:"More Options"}),e.jsx("button",{className:"mobile-more-close",onClick:()=>i(!1),children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("div",{className:"mobile-more-content",children:[e.jsxs("button",{className:"mobile-more-item",onClick:()=>{r("/mobile/profile"),i(!1)},children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{className:"mobile-more-item mobile-more-item--logout",onClick:g,children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),e.jsx("span",{children:"Logout"})]})]})]})}),e.jsxs("nav",{className:"mobile-bottom-nav",children:[x&&e.jsxs("button",{className:`mobile-nav-item ${t.pathname===x.path?"mobile-nav-item--active":""}`,onClick:()=>f(x),"aria-label":"Home",children:[e.jsx("span",{className:"mobile-nav-icon",children:x.icon}),e.jsx("span",{className:"mobile-nav-label",children:x.label})]}),y&&e.jsxs("button",{className:"mobile-nav-item mobile-nav-item--scan",onClick:A,"aria-label":"Scan Barcode",children:[e.jsx("span",{className:"mobile-nav-icon mobile-nav-icon--scan",children:y.icon}),e.jsx("span",{className:"mobile-nav-label",children:y.label})]}),j&&e.jsxs("button",{className:`mobile-nav-item ${s?"mobile-nav-item--active":""}`,onClick:()=>f(j),"aria-label":"More",children:[e.jsx("span",{className:"mobile-nav-icon",children:j.icon}),e.jsx("span",{className:"mobile-nav-label",children:j.label})]})]})]})},Wh=({children:r,title:t,showBackButton:n=!1,onBack:a})=>e.jsxs("div",{className:"mobile-layout",children:[(t||n)&&e.jsxs("header",{className:"mobile-header",children:[n&&e.jsx("button",{className:"mobile-back-btn",onClick:a,"aria-label":"Go back",children:e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t&&e.jsx("h1",{className:"mobile-header-title",children:t}),e.jsx("div",{style:{width:n?"40px":"auto"}})]}),e.jsx("main",{className:"mobile-page-content",children:r}),e.jsx(Jse,{})]}),Zse=({isOpen:r,onClose:t})=>{const n=qa(),a=jn(),{user:s,permissions:i,logout:c}=Yn(),[o,d]=C.useState(null),[l,u]=C.useState(new Set);C.useEffect(()=>{(async()=>{if(s!=null&&s.token){const j=await E_(s.token);d(j)}})()},[s]);const h=()=>{if(s!=null&&s.name){const y=s.name.split(" ");return y.length>=2?`${y[0][0]}${y[1][0]}`.toUpperCase():s.name.substring(0,2).toUpperCase()}return"MW"},f=[{title:"Operations",items:[{id:"dashboard",label:"Home",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),path:"/mobile/home",permission:"HOME.VIEW"},{id:"waste-collection",label:"Waste Entry",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),e.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),e.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]}),path:"/mobile/waste-entry",permission:"WASTE_COLLECTION.CREATE"},{id:"waste-collections",label:"Waste Collections",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M8 6h13"}),e.jsx("path",{d:"M8 12h13"}),e.jsx("path",{d:"M8 18h13"}),e.jsx("path",{d:"M3 6h.01"}),e.jsx("path",{d:"M3 12h.01"}),e.jsx("path",{d:"M3 18h.01"})]}),path:"/mobile/waste-collections",permission:"WASTE_COLLECTION.VIEW"},{id:"route-assignment",label:"Route Assignment",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),e.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),path:"/mobile/assign-hospital",permission:"ROUTE_ASSIGNMENT.VIEW"},{id:"assigned-hcfs",label:"Assigned HCF List",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 11l3 3L22 4"}),e.jsx("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"})]}),path:"/mobile/assigned-hcfs",permission:"ROUTE_HCF.VIEW"},{id:"scan",label:"Scan Barcode",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 12v3a2 2 0 0 1-2 2h-3"}),e.jsx("path",{d:"M3 12V9a2 2 0 0 1 2-2h3"}),e.jsx("path",{d:"M21 12H3"}),e.jsx("path",{d:"M12 21v-9"}),e.jsx("path",{d:"M12 3v9"})]}),path:"/mobile/scan"},{id:"hcf-master",label:"HCF Master",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),path:"/mobile/hcf-master",permission:"HCF.VIEW"},{id:"analytics",label:"Analytics",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83"}),e.jsx("path",{d:"M22 12A10 10 0 0 0 12 2v10z"})]}),path:"/mobile/analytics",permission:"REPORT.VIEW"}]},{title:"Admin",items:[{id:"users",label:"User Management",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"9",cy:"7",r:"4"}),e.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),e.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),path:"/users",permission:"USER_VIEW"},{id:"settings",label:"Settings",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),path:"/mobile/settings"}]}],A=y=>{if(y.permission&&i&&i.length>0)return Cc(i,y.permission);if(y.permission&&o){if(y.permission.includes("ROUTE_ASSIGNMENT")||y.permission.includes("WASTE_COLLECTION"))return nA(o,"transaction");if(y.permission.includes("HCF"))return nA(o,"master","hcf");if(y.permission.includes("USER"))return nA(o,"master");if(y.permission.includes("REPORT"))return nA(o,"report")}return!0},g=y=>{if(y.children&&y.children.length>0){const j=new Set(l);j.has(y.id)?j.delete(y.id):j.add(y.id),u(j)}else y.path&&(n(y.path),t())},m=()=>{c(),n("/mobile/login"),t()},x=y=>a.pathname===y||a.pathname.startsWith(y+"/");return C.useEffect(()=>(r?(document.body.style.overflow="hidden",document.body.classList.add("drawer-open")):(document.body.style.overflow="",document.body.classList.remove("drawer-open")),()=>{document.body.style.overflow="",document.body.classList.remove("drawer-open")}),[r]),e.jsxs(e.Fragment,{children:[r&&e.jsx("div",{className:"mobile-drawer-overlay",onClick:t}),e.jsxs("div",{className:`mobile-drawer ${r?"mobile-drawer--open":""}`,children:[e.jsxs("div",{className:"mobile-drawer-header",children:[e.jsxs("div",{className:"mobile-drawer-profile",children:[e.jsx("div",{className:"mobile-drawer-avatar",children:h()}),e.jsxs("div",{className:"mobile-drawer-profile-info",children:[e.jsx("div",{className:"mobile-drawer-profile-name",children:"Medi Waste"}),e.jsx("div",{className:"mobile-drawer-profile-role",children:"Waste Management"})]})]}),e.jsx("button",{className:"mobile-drawer-close",onClick:t,"aria-label":"Close menu",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsx("div",{className:"mobile-drawer-content",children:f.map(y=>{const j=y.items.filter(A);return j.length===0?null:e.jsxs("div",{className:"mobile-drawer-group",children:[e.jsx("div",{className:"mobile-drawer-group-title",children:y.title}),j.map(b=>{const S=b.children&&b.children.length>0,w=l.has(b.id),E=x(b.path);return e.jsxs("div",{children:[e.jsxs("button",{className:`mobile-drawer-item ${E?"mobile-drawer-item--active":""}`,onClick:()=>g(b),children:[e.jsx("span",{className:"mobile-drawer-item-icon",children:b.icon}),e.jsx("span",{className:"mobile-drawer-item-label",children:b.label}),S&&e.jsx("svg",{className:`mobile-drawer-item-chevron ${w?"mobile-drawer-item-chevron--expanded":""}`,width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"9 18 15 12 9 6"})})]}),S&&w&&e.jsx("div",{className:"mobile-drawer-submenu",children:b.children.map(I=>e.jsxs("button",{className:`mobile-drawer-item mobile-drawer-item--sub ${x(I.path)?"mobile-drawer-item--active":""}`,onClick:()=>g(I),children:[e.jsx("span",{className:"mobile-drawer-item-icon",children:I.icon}),e.jsx("span",{className:"mobile-drawer-item-label",children:I.label})]},I.id))})]},b.id)})]},y.title)})}),e.jsx("div",{className:"mobile-drawer-footer",children:e.jsxs("button",{className:"mobile-drawer-item mobile-drawer-item--logout",onClick:m,children:[e.jsxs("svg",{className:"mobile-drawer-item-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),e.jsx("span",{className:"mobile-drawer-item-label",children:"Logout"})]})})]})]})},eie=()=>{const{user:r}=Yn(),[t,n]=C.useState(!1),a=()=>{if(r!=null&&r.name){const s=r.name.split(" ");return s.length>=2?`${s[0][0]}${s[1][0]}`.toUpperCase():r.name.substring(0,2).toUpperCase()}return"MW"};return e.jsxs(Wh,{children:[e.jsx(Zse,{isOpen:t,onClose:()=>n(!1)}),e.jsx("div",{className:"mobile-home-template",children:e.jsxs("div",{className:"mobile-home-profile",children:[e.jsxs("div",{className:"mobile-home-profile-left",onClick:()=>n(!0),style:{cursor:"pointer"},children:[e.jsx("div",{className:"mobile-home-avatar",children:a()}),e.jsxs("div",{className:"mobile-home-profile-info",children:[e.jsx("div",{className:"mobile-home-profile-name",children:"Medi Waste"}),e.jsx("div",{className:"mobile-home-profile-role",children:"Waste Management"})]})]}),e.jsx("button",{className:"mobile-home-menu-button",onClick:()=>n(!0),"aria-label":"Open menu",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),e.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),e.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})})]})})]})};function tie(r,t){var n=Object.setPrototypeOf;n?n(r,t):r.__proto__=t}function rie(r,t){t===void 0&&(t=r.constructor);var n=Error.captureStackTrace;n&&n(r,t)}var nie=(function(){var r=function(n,a){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(s[c]=i[c])},r(n,a)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),aie=(function(r){nie(t,r);function t(n,a){var s=this.constructor,i=r.call(this,n,a)||this;return Object.defineProperty(i,"name",{value:s.name,enumerable:!1,configurable:!0}),tie(i,s.prototype),rie(i),i}return t})(Error),sie=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Wd=(function(r){sie(t,r);function t(n){n===void 0&&(n=void 0);var a=r.call(this,n)||this;return a.message=n,a}return t.prototype.getKind=function(){var n=this.constructor;return n.kind},t.kind="Exception",t})(aie),iie=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),vl=(function(r){iie(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.kind="ArgumentException",t})(Wd),oie=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Ta=(function(r){oie(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.kind="IllegalArgumentException",t})(Wd),gD=(function(){function r(t){if(this.binarizer=t,t===null)throw new Ta("Binarizer must be non-null.")}return r.prototype.getWidth=function(){return this.binarizer.getWidth()},r.prototype.getHeight=function(){return this.binarizer.getHeight()},r.prototype.getBlackRow=function(t,n){return this.binarizer.getBlackRow(t,n)},r.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},r.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},r.prototype.crop=function(t,n,a,s){var i=this.binarizer.getLuminanceSource().crop(t,n,a,s);return new r(this.binarizer.createBinarizer(i))},r.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},r.prototype.rotateCounterClockwise=function(){var t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new r(this.binarizer.createBinarizer(t))},r.prototype.rotateCounterClockwise45=function(){var t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new r(this.binarizer.createBinarizer(t))},r.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},r})(),lie=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),kl=(function(r){lie(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.getChecksumInstance=function(){return new t},t.kind="ChecksumException",t})(Wd),cie=(function(){function r(t){this.source=t}return r.prototype.getLuminanceSource=function(){return this.source},r.prototype.getWidth=function(){return this.source.getWidth()},r.prototype.getHeight=function(){return this.source.getHeight()},r})(),lo=(function(){function r(){}return r.arraycopy=function(t,n,a,s,i){for(;i--;)a[s++]=t[n++]},r.currentTimeMillis=function(){return Date.now()},r})(),die=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),SS=(function(r){die(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.kind="IndexOutOfBoundsException",t})(Wd),uie=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Pk=(function(r){uie(t,r);function t(n,a){n===void 0&&(n=void 0),a===void 0&&(a=void 0);var s=r.call(this,a)||this;return s.index=n,s.message=a,s}return t.kind="ArrayIndexOutOfBoundsException",t})(SS),hie=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Jl=(function(){function r(){}return r.fill=function(t,n){for(var a=0,s=t.length;a<s;a++)t[a]=n},r.fillWithin=function(t,n,a,s){r.rangeCheck(t.length,n,a);for(var i=n;i<a;i++)t[i]=s},r.rangeCheck=function(t,n,a){if(n>a)throw new Ta("fromIndex("+n+") > toIndex("+a+")");if(n<0)throw new Pk(n);if(a>t)throw new Pk(a)},r.asList=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t},r.create=function(t,n,a){var s=Array.from({length:t});return s.map(function(i){return Array.from({length:n}).fill(a)})},r.createInt32Array=function(t,n,a){var s=Array.from({length:t});return s.map(function(i){return Int32Array.from({length:n}).fill(a)})},r.equals=function(t,n){if(!t||!n||!t.length||!n.length||t.length!==n.length)return!1;for(var a=0,s=t.length;a<s;a++)if(t[a]!==n[a])return!1;return!0},r.hashCode=function(t){var n,a;if(t===null)return 0;var s=1;try{for(var i=hie(t),c=i.next();!c.done;c=i.next()){var o=c.value;s=31*s+o}}catch(d){n={error:d}}finally{try{c&&!c.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}return s},r.fillUint8Array=function(t,n){for(var a=0;a!==t.length;a++)t[a]=n},r.copyOf=function(t,n){return t.slice(0,n)},r.copyOfUint8Array=function(t,n){if(t.length<=n){var a=new Uint8Array(n);return a.set(t),a}return t.slice(0,n)},r.copyOfRange=function(t,n,a){var s=a-n,i=new Int32Array(s);return lo.arraycopy(t,n,i,0,s),i},r.binarySearch=function(t,n,a){a===void 0&&(a=r.numberComparator);for(var s=0,i=t.length-1;s<=i;){var c=i+s>>1,o=a(n,t[c]);if(o>0)s=c+1;else if(o<0)i=c-1;else return c}return-s-1},r.numberComparator=function(t,n){return t-n},r})(),_s=(function(){function r(){}return r.numberOfTrailingZeros=function(t){var n;if(t===0)return 32;var a=31;return n=t<<16,n!==0&&(a-=16,t=n),n=t<<8,n!==0&&(a-=8,t=n),n=t<<4,n!==0&&(a-=4,t=n),n=t<<2,n!==0&&(a-=2,t=n),a-(t<<1>>>31)},r.numberOfLeadingZeros=function(t){if(t===0)return 32;var n=1;return t>>>16||(n+=16,t<<=16),t>>>24||(n+=8,t<<=8),t>>>28||(n+=4,t<<=4),t>>>30||(n+=2,t<<=2),n-=t>>>31,n},r.toHexString=function(t){return t.toString(16)},r.toBinaryString=function(t){return String(parseInt(String(t),2))},r.bitCount=function(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63},r.truncDivision=function(t,n){return Math.trunc(t/n)},r.parseInt=function(t,n){return n===void 0&&(n=void 0),parseInt(t,n)},r.MIN_VALUE_32_BITS=-2147483648,r.MAX_VALUE=Number.MAX_SAFE_INTEGER,r})(),Nc=(function(){function r(t,n){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,n==null?this.bits=r.makeArray(t):this.bits=n)}return r.prototype.getSize=function(){return this.size},r.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},r.prototype.ensureCapacity=function(t){if(t>this.bits.length*32){var n=r.makeArray(t);lo.arraycopy(this.bits,0,n,0,this.bits.length),this.bits=n}},r.prototype.get=function(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0},r.prototype.set=function(t){this.bits[Math.floor(t/32)]|=1<<(t&31)},r.prototype.flip=function(t){this.bits[Math.floor(t/32)]^=1<<(t&31)},r.prototype.getNextSet=function(t){var n=this.size;if(t>=n)return n;var a=this.bits,s=Math.floor(t/32),i=a[s];i&=~((1<<(t&31))-1);for(var c=a.length;i===0;){if(++s===c)return n;i=a[s]}var o=s*32+_s.numberOfTrailingZeros(i);return o>n?n:o},r.prototype.getNextUnset=function(t){var n=this.size;if(t>=n)return n;var a=this.bits,s=Math.floor(t/32),i=~a[s];i&=~((1<<(t&31))-1);for(var c=a.length;i===0;){if(++s===c)return n;i=~a[s]}var o=s*32+_s.numberOfTrailingZeros(i);return o>n?n:o},r.prototype.setBulk=function(t,n){this.bits[Math.floor(t/32)]=n},r.prototype.setRange=function(t,n){if(n<t||t<0||n>this.size)throw new Ta;if(n!==t){n--;for(var a=Math.floor(t/32),s=Math.floor(n/32),i=this.bits,c=a;c<=s;c++){var o=c>a?0:t&31,d=c<s?31:n&31,l=(2<<d)-(1<<o);i[c]|=l}}},r.prototype.clear=function(){for(var t=this.bits.length,n=this.bits,a=0;a<t;a++)n[a]=0},r.prototype.isRange=function(t,n,a){if(n<t||t<0||n>this.size)throw new Ta;if(n===t)return!0;n--;for(var s=Math.floor(t/32),i=Math.floor(n/32),c=this.bits,o=s;o<=i;o++){var d=o>s?0:t&31,l=o<i?31:n&31,u=(2<<l)-(1<<d)&4294967295;if((c[o]&u)!==(a?u:0))return!1}return!0},r.prototype.appendBit=function(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},r.prototype.appendBits=function(t,n){if(n<0||n>32)throw new Ta("Num bits must be between 0 and 32");this.ensureCapacity(this.size+n);for(var a=n;a>0;a--)this.appendBit((t>>a-1&1)===1)},r.prototype.appendBitArray=function(t){var n=t.size;this.ensureCapacity(this.size+n);for(var a=0;a<n;a++)this.appendBit(t.get(a))},r.prototype.xor=function(t){if(this.size!==t.size)throw new Ta("Sizes don't match");for(var n=this.bits,a=0,s=n.length;a<s;a++)n[a]^=t.bits[a]},r.prototype.toBytes=function(t,n,a,s){for(var i=0;i<s;i++){for(var c=0,o=0;o<8;o++)this.get(t)&&(c|=1<<7-o),t++;n[a+i]=c}},r.prototype.getBitArray=function(){return this.bits},r.prototype.reverse=function(){for(var t=new Int32Array(this.bits.length),n=Math.floor((this.size-1)/32),a=n+1,s=this.bits,i=0;i<a;i++){var c=s[i];c=c>>1&1431655765|(c&1431655765)<<1,c=c>>2&858993459|(c&858993459)<<2,c=c>>4&252645135|(c&252645135)<<4,c=c>>8&16711935|(c&16711935)<<8,c=c>>16&65535|(c&65535)<<16,t[n-i]=c}if(this.size!==a*32){for(var o=a*32-this.size,d=t[0]>>>o,i=1;i<a;i++){var l=t[i];d|=l<<32-o,t[i-1]=d,d=l>>>o}t[a-1]=d}this.bits=t},r.makeArray=function(t){return new Int32Array(Math.floor((t+31)/32))},r.prototype.equals=function(t){if(!(t instanceof r))return!1;var n=t;return this.size===n.size&&Jl.equals(this.bits,n.bits)},r.prototype.hashCode=function(){return 31*this.size+Jl.hashCode(this.bits)},r.prototype.toString=function(){for(var t="",n=0,a=this.size;n<a;n++)(n&7)===0&&(t+=" "),t+=this.get(n)?"X":".";return t},r.prototype.clone=function(){return new r(this.size,this.bits.slice())},r.prototype.toArray=function(){for(var t=[],n=0,a=this.size;n<a;n++)t.push(this.get(n));return t},r})(),t4;(function(r){r[r.OTHER=0]="OTHER",r[r.PURE_BARCODE=1]="PURE_BARCODE",r[r.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",r[r.TRY_HARDER=3]="TRY_HARDER",r[r.CHARACTER_SET=4]="CHARACTER_SET",r[r.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",r[r.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",r[r.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",r[r.ASSUME_GS1=8]="ASSUME_GS1",r[r.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",r[r.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",r[r.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(t4||(t4={}));const co=t4;var fie=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),xn=(function(r){fie(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.getFormatInstance=function(){return new t},t.kind="FormatException",t})(Wd),Aie=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Pi;(function(r){r[r.Cp437=0]="Cp437",r[r.ISO8859_1=1]="ISO8859_1",r[r.ISO8859_2=2]="ISO8859_2",r[r.ISO8859_3=3]="ISO8859_3",r[r.ISO8859_4=4]="ISO8859_4",r[r.ISO8859_5=5]="ISO8859_5",r[r.ISO8859_6=6]="ISO8859_6",r[r.ISO8859_7=7]="ISO8859_7",r[r.ISO8859_8=8]="ISO8859_8",r[r.ISO8859_9=9]="ISO8859_9",r[r.ISO8859_10=10]="ISO8859_10",r[r.ISO8859_11=11]="ISO8859_11",r[r.ISO8859_13=12]="ISO8859_13",r[r.ISO8859_14=13]="ISO8859_14",r[r.ISO8859_15=14]="ISO8859_15",r[r.ISO8859_16=15]="ISO8859_16",r[r.SJIS=16]="SJIS",r[r.Cp1250=17]="Cp1250",r[r.Cp1251=18]="Cp1251",r[r.Cp1252=19]="Cp1252",r[r.Cp1256=20]="Cp1256",r[r.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",r[r.UTF8=22]="UTF8",r[r.ASCII=23]="ASCII",r[r.Big5=24]="Big5",r[r.GB18030=25]="GB18030",r[r.EUC_KR=26]="EUC_KR"})(Pi||(Pi={}));var Xl=(function(){function r(t,n,a){for(var s,i,c=[],o=3;o<arguments.length;o++)c[o-3]=arguments[o];this.valueIdentifier=t,this.name=a,typeof n=="number"?this.values=Int32Array.from([n]):this.values=n,this.otherEncodingNames=c,r.VALUE_IDENTIFIER_TO_ECI.set(t,this),r.NAME_TO_ECI.set(a,this);for(var d=this.values,l=0,u=d.length;l!==u;l++){var h=d[l];r.VALUES_TO_ECI.set(h,this)}try{for(var f=Aie(c),A=f.next();!A.done;A=f.next()){var g=A.value;r.NAME_TO_ECI.set(g,this)}}catch(m){s={error:m}}finally{try{A&&!A.done&&(i=f.return)&&i.call(f)}finally{if(s)throw s.error}}}return r.prototype.getValueIdentifier=function(){return this.valueIdentifier},r.prototype.getName=function(){return this.name},r.prototype.getValue=function(){return this.values[0]},r.getCharacterSetECIByValue=function(t){if(t<0||t>=900)throw new xn("incorect value");var n=r.VALUES_TO_ECI.get(t);if(n===void 0)throw new xn("incorect value");return n},r.getCharacterSetECIByName=function(t){var n=r.NAME_TO_ECI.get(t);if(n===void 0)throw new xn("incorect value");return n},r.prototype.equals=function(t){if(!(t instanceof r))return!1;var n=t;return this.getName()===n.getName()},r.VALUE_IDENTIFIER_TO_ECI=new Map,r.VALUES_TO_ECI=new Map,r.NAME_TO_ECI=new Map,r.Cp437=new r(Pi.Cp437,Int32Array.from([0,2]),"Cp437"),r.ISO8859_1=new r(Pi.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),r.ISO8859_2=new r(Pi.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),r.ISO8859_3=new r(Pi.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),r.ISO8859_4=new r(Pi.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),r.ISO8859_5=new r(Pi.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),r.ISO8859_6=new r(Pi.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),r.ISO8859_7=new r(Pi.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),r.ISO8859_8=new r(Pi.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),r.ISO8859_9=new r(Pi.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),r.ISO8859_10=new r(Pi.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),r.ISO8859_11=new r(Pi.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),r.ISO8859_13=new r(Pi.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),r.ISO8859_14=new r(Pi.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),r.ISO8859_15=new r(Pi.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),r.ISO8859_16=new r(Pi.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),r.SJIS=new r(Pi.SJIS,20,"SJIS","Shift_JIS"),r.Cp1250=new r(Pi.Cp1250,21,"Cp1250","windows-1250"),r.Cp1251=new r(Pi.Cp1251,22,"Cp1251","windows-1251"),r.Cp1252=new r(Pi.Cp1252,23,"Cp1252","windows-1252"),r.Cp1256=new r(Pi.Cp1256,24,"Cp1256","windows-1256"),r.UnicodeBigUnmarked=new r(Pi.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),r.UTF8=new r(Pi.UTF8,26,"UTF8","UTF-8"),r.ASCII=new r(Pi.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),r.Big5=new r(Pi.Big5,28,"Big5"),r.GB18030=new r(Pi.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),r.EUC_KR=new r(Pi.EUC_KR,30,"EUC_KR","EUC-KR"),r})(),pie=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Tv=(function(r){pie(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.kind="UnsupportedOperationException",t})(Wd),Vu=(function(){function r(){}return r.decode=function(t,n){var a=this.encodingName(n);return this.customDecoder?this.customDecoder(t,a):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(a)?this.decodeFallback(t,a):new TextDecoder(a).decode(t)},r.shouldDecodeOnFallback=function(t){return!r.isBrowser()&&t==="ISO-8859-1"},r.encode=function(t,n){var a=this.encodingName(n);return this.customEncoder?this.customEncoder(t,a):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)},r.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},r.encodingName=function(t){return typeof t=="string"?t:t.getName()},r.encodingCharacterSet=function(t){return t instanceof Xl?t:Xl.getCharacterSetECIByName(t)},r.decodeFallback=function(t,n){var a=this.encodingCharacterSet(n);if(r.isDecodeFallbackSupported(a)){for(var s="",i=0,c=t.length;i<c;i++){var o=t[i].toString(16);o.length<2&&(o="0"+o),s+="%"+o}return decodeURIComponent(s)}if(a.equals(Xl.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new Tv("Encoding "+this.encodingName(n)+" not supported by fallback.")},r.isDecodeFallbackSupported=function(t){return t.equals(Xl.UTF8)||t.equals(Xl.ISO8859_1)||t.equals(Xl.ASCII)},r.encodeFallback=function(t){for(var n=btoa(unescape(encodeURIComponent(t))),a=n.split(""),s=[],i=0;i<a.length;i++)s.push(a[i].charCodeAt(0));return new Uint8Array(s)},r})(),ti=(function(){function r(){}return r.castAsNonUtf8Char=function(t,n){n===void 0&&(n=null);var a=n?n.getName():this.ISO88591;return Vu.decode(new Uint8Array([t]),a)},r.guessEncoding=function(t,n){if(n!=null&&n.get(co.CHARACTER_SET)!==void 0)return n.get(co.CHARACTER_SET).toString();for(var a=t.length,s=!0,i=!0,c=!0,o=0,d=0,l=0,u=0,h=0,f=0,A=0,g=0,m=0,x=0,y=0,j=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191,b=0;b<a&&(s||i||c);b++){var S=t[b]&255;c&&(o>0?(S&128)===0?c=!1:o--:(S&128)!==0&&((S&64)===0?c=!1:(o++,(S&32)===0?d++:(o++,(S&16)===0?l++:(o++,(S&8)===0?u++:c=!1))))),s&&(S>127&&S<160?s=!1:S>159&&(S<192||S===215||S===247)&&y++),i&&(h>0?S<64||S===127||S>252?i=!1:h--:S===128||S===160||S>239?i=!1:S>160&&S<224?(f++,g=0,A++,A>m&&(m=A)):S>127?(h++,A=0,g++,g>x&&(x=g)):(A=0,g=0))}return c&&o>0&&(c=!1),i&&h>0&&(i=!1),c&&(j||d+l+u>0)?r.UTF8:i&&(r.ASSUME_SHIFT_JIS||m>=3||x>=3)?r.SHIFT_JIS:s&&i?m===2&&f===2||y*10>=a?r.SHIFT_JIS:r.ISO88591:s?r.ISO88591:i?r.SHIFT_JIS:c?r.UTF8:r.PLATFORM_DEFAULT_ENCODING},r.format=function(t){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];var s=-1;function i(o,d,l,u,h,f){if(o==="%%")return"%";if(n[++s]!==void 0){o=u?parseInt(u.substr(1)):void 0;var A=h?parseInt(h.substr(1)):void 0,g;switch(f){case"s":g=n[s];break;case"c":g=n[s][0];break;case"f":g=parseFloat(n[s]).toFixed(o);break;case"p":g=parseFloat(n[s]).toPrecision(o);break;case"e":g=parseFloat(n[s]).toExponential(o);break;case"x":g=parseInt(n[s]).toString(A||16);break;case"d":g=parseFloat(parseInt(n[s],A||10).toPrecision(o)).toFixed(0);break}g=typeof g=="object"?JSON.stringify(g):(+g).toString(A);for(var m=parseInt(l),x=l&&l[0]+""=="0"?"0":" ";g.length<m;)g=d!==void 0?g+x:x+g;return g}}var c=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(c,i)},r.getBytes=function(t,n){return Vu.encode(t,n)},r.getCharCode=function(t,n){return n===void 0&&(n=0),t.charCodeAt(n)},r.getCharAt=function(t){return String.fromCharCode(t)},r.SHIFT_JIS=Xl.SJIS.getName(),r.GB2312="GB2312",r.ISO88591=Xl.ISO8859_1.getName(),r.EUC_JP="EUC_JP",r.UTF8=Xl.UTF8.getName(),r.PLATFORM_DEFAULT_ENCODING=r.UTF8,r.ASSUME_SHIFT_JIS=!1,r})(),Bs=(function(){function r(t){t===void 0&&(t=""),this.value=t}return r.prototype.enableDecoding=function(t){return this.encoding=t,this},r.prototype.append=function(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=ti.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this},r.prototype.appendChars=function(t,n,a){for(var s=n;n<n+a;s++)this.append(t[s]);return this},r.prototype.length=function(){return this.value.length},r.prototype.charAt=function(t){return this.value.charAt(t)},r.prototype.deleteCharAt=function(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)},r.prototype.setCharAt=function(t,n){this.value=this.value.substr(0,t)+n+this.value.substr(t+1)},r.prototype.substring=function(t,n){return this.value.substring(t,n)},r.prototype.setLengthToZero=function(){this.value=""},r.prototype.toString=function(){return this.value},r.prototype.insert=function(t,n){this.value=this.value.substring(0,t)+n+this.value.substring(t)},r})(),Uh=(function(){function r(t,n,a,s){if(this.width=t,this.height=n,this.rowSize=a,this.bits=s,n==null&&(n=t),this.height=n,t<1||n<1)throw new Ta("Both dimensions must be greater than 0");a==null&&(a=Math.floor((t+31)/32)),this.rowSize=a,s==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return r.parseFromBooleanArray=function(t){for(var n=t.length,a=t[0].length,s=new r(a,n),i=0;i<n;i++)for(var c=t[i],o=0;o<a;o++)c[o]&&s.set(o,i);return s},r.parseFromString=function(t,n,a){if(t===null)throw new Ta("stringRepresentation cannot be null");for(var s=new Array(t.length),i=0,c=0,o=-1,d=0,l=0;l<t.length;)if(t.charAt(l)===`
`||t.charAt(l)==="\r"){if(i>c){if(o===-1)o=i-c;else if(i-c!==o)throw new Ta("row lengths do not match");c=i,d++}l++}else if(t.substring(l,l+n.length)===n)l+=n.length,s[i]=!0,i++;else if(t.substring(l,l+a.length)===a)l+=a.length,s[i]=!1,i++;else throw new Ta("illegal character encountered: "+t.substring(l));if(i>c){if(o===-1)o=i-c;else if(i-c!==o)throw new Ta("row lengths do not match");d++}for(var u=new r(o,d),h=0;h<i;h++)s[h]&&u.set(Math.floor(h%o),Math.floor(h/o));return u},r.prototype.get=function(t,n){var a=n*this.rowSize+Math.floor(t/32);return(this.bits[a]>>>(t&31)&1)!==0},r.prototype.set=function(t,n){var a=n*this.rowSize+Math.floor(t/32);this.bits[a]|=1<<(t&31)&4294967295},r.prototype.unset=function(t,n){var a=n*this.rowSize+Math.floor(t/32);this.bits[a]&=~(1<<(t&31)&4294967295)},r.prototype.flip=function(t,n){var a=n*this.rowSize+Math.floor(t/32);this.bits[a]^=1<<(t&31)&4294967295},r.prototype.xor=function(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new Ta("input matrix dimensions do not match");for(var n=new Nc(Math.floor(this.width/32)+1),a=this.rowSize,s=this.bits,i=0,c=this.height;i<c;i++)for(var o=i*a,d=t.getRow(i,n).getBitArray(),l=0;l<a;l++)s[o+l]^=d[l]},r.prototype.clear=function(){for(var t=this.bits,n=t.length,a=0;a<n;a++)t[a]=0},r.prototype.setRegion=function(t,n,a,s){if(n<0||t<0)throw new Ta("Left and top must be nonnegative");if(s<1||a<1)throw new Ta("Height and width must be at least 1");var i=t+a,c=n+s;if(c>this.height||i>this.width)throw new Ta("The region must fit inside the matrix");for(var o=this.rowSize,d=this.bits,l=n;l<c;l++)for(var u=l*o,h=t;h<i;h++)d[u+Math.floor(h/32)]|=1<<(h&31)&4294967295},r.prototype.getRow=function(t,n){n==null||n.getSize()<this.width?n=new Nc(this.width):n.clear();for(var a=this.rowSize,s=this.bits,i=t*a,c=0;c<a;c++)n.setBulk(c*32,s[i+c]);return n},r.prototype.setRow=function(t,n){lo.arraycopy(n.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)},r.prototype.rotate180=function(){for(var t=this.getWidth(),n=this.getHeight(),a=new Nc(t),s=new Nc(t),i=0,c=Math.floor((n+1)/2);i<c;i++)a=this.getRow(i,a),s=this.getRow(n-1-i,s),a.reverse(),s.reverse(),this.setRow(i,s),this.setRow(n-1-i,a)},r.prototype.getEnclosingRectangle=function(){for(var t=this.width,n=this.height,a=this.rowSize,s=this.bits,i=t,c=n,o=-1,d=-1,l=0;l<n;l++)for(var u=0;u<a;u++){var h=s[l*a+u];if(h!==0){if(l<c&&(c=l),l>d&&(d=l),u*32<i){for(var f=0;(h<<31-f&4294967295)===0;)f++;u*32+f<i&&(i=u*32+f)}if(u*32+31>o){for(var f=31;!(h>>>f);)f--;u*32+f>o&&(o=u*32+f)}}}return o<i||d<c?null:Int32Array.from([i,c,o-i+1,d-c+1])},r.prototype.getTopLeftOnBit=function(){for(var t=this.rowSize,n=this.bits,a=0;a<n.length&&n[a]===0;)a++;if(a===n.length)return null;for(var s=a/t,i=a%t*32,c=n[a],o=0;(c<<31-o&4294967295)===0;)o++;return i+=o,Int32Array.from([i,s])},r.prototype.getBottomRightOnBit=function(){for(var t=this.rowSize,n=this.bits,a=n.length-1;a>=0&&n[a]===0;)a--;if(a<0)return null;for(var s=Math.floor(a/t),i=Math.floor(a%t)*32,c=n[a],o=31;!(c>>>o);)o--;return i+=o,Int32Array.from([i,s])},r.prototype.getWidth=function(){return this.width},r.prototype.getHeight=function(){return this.height},r.prototype.getRowSize=function(){return this.rowSize},r.prototype.equals=function(t){if(!(t instanceof r))return!1;var n=t;return this.width===n.width&&this.height===n.height&&this.rowSize===n.rowSize&&Jl.equals(this.bits,n.bits)},r.prototype.hashCode=function(){var t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+Jl.hashCode(this.bits),t},r.prototype.toString=function(t,n,a){return t===void 0&&(t="X "),n===void 0&&(n="  "),a===void 0&&(a=`
`),this.buildToString(t,n,a)},r.prototype.buildToString=function(t,n,a){for(var s=new Bs,i=0,c=this.height;i<c;i++){for(var o=0,d=this.width;o<d;o++)s.append(this.get(o,i)?t:n);s.append(a)}return s.toString()},r.prototype.clone=function(){return new r(this.width,this.height,this.rowSize,this.bits.slice())},r})(),mie=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Tr=(function(r){mie(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.getNotFoundInstance=function(){return new t},t.kind="NotFoundException",t})(Wd),gie=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),vie=(function(r){gie(t,r);function t(n){var a=r.call(this,n)||this;return a.luminances=t.EMPTY,a.buckets=new Int32Array(t.LUMINANCE_BUCKETS),a}return t.prototype.getBlackRow=function(n,a){var s=this.getLuminanceSource(),i=s.getWidth();a==null||a.getSize()<i?a=new Nc(i):a.clear(),this.initArrays(i);for(var c=s.getRow(n,this.luminances),o=this.buckets,d=0;d<i;d++)o[(c[d]&255)>>t.LUMINANCE_SHIFT]++;var l=t.estimateBlackPoint(o);if(i<3)for(var d=0;d<i;d++)(c[d]&255)<l&&a.set(d);else for(var u=c[0]&255,h=c[1]&255,d=1;d<i-1;d++){var f=c[d+1]&255;(h*4-u-f)/2<l&&a.set(d),u=h,h=f}return a},t.prototype.getBlackMatrix=function(){var n=this.getLuminanceSource(),a=n.getWidth(),s=n.getHeight(),i=new Uh(a,s);this.initArrays(a);for(var c=this.buckets,o=1;o<5;o++)for(var d=Math.floor(s*o/5),l=n.getRow(d,this.luminances),u=Math.floor(a*4/5),h=Math.floor(a/5);h<u;h++){var f=l[h]&255;c[f>>t.LUMINANCE_SHIFT]++}for(var A=t.estimateBlackPoint(c),g=n.getMatrix(),o=0;o<s;o++)for(var m=o*a,h=0;h<a;h++){var f=g[m+h]&255;f<A&&i.set(h,o)}return i},t.prototype.createBinarizer=function(n){return new t(n)},t.prototype.initArrays=function(n){this.luminances.length<n&&(this.luminances=new Uint8ClampedArray(n));for(var a=this.buckets,s=0;s<t.LUMINANCE_BUCKETS;s++)a[s]=0},t.estimateBlackPoint=function(n){for(var a=n.length,s=0,i=0,c=0,o=0;o<a;o++)n[o]>c&&(i=o,c=n[o]),n[o]>s&&(s=n[o]);for(var d=0,l=0,o=0;o<a;o++){var u=o-i,h=n[o]*u*u;h>l&&(d=o,l=h)}if(i>d){var f=i;i=d,d=f}if(d-i<=a/16)throw new Tr;for(var A=d-1,g=-1,o=d-1;o>i;o--){var m=o-i,h=m*m*(d-o)*(s-n[o]);h>g&&(A=o,g=h)}return A<<t.LUMINANCE_SHIFT},t.LUMINANCE_BITS=5,t.LUMINANCE_SHIFT=8-t.LUMINANCE_BITS,t.LUMINANCE_BUCKETS=1<<t.LUMINANCE_BITS,t.EMPTY=Uint8ClampedArray.from([0]),t})(cie),xie=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),vD=(function(r){xie(t,r);function t(n){var a=r.call(this,n)||this;return a.matrix=null,a}return t.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var n=this.getLuminanceSource(),a=n.getWidth(),s=n.getHeight();if(a>=t.MINIMUM_DIMENSION&&s>=t.MINIMUM_DIMENSION){var i=n.getMatrix(),c=a>>t.BLOCK_SIZE_POWER;(a&t.BLOCK_SIZE_MASK)!==0&&c++;var o=s>>t.BLOCK_SIZE_POWER;(s&t.BLOCK_SIZE_MASK)!==0&&o++;var d=t.calculateBlackPoints(i,c,o,a,s),l=new Uh(a,s);t.calculateThresholdForBlock(i,c,o,a,s,d,l),this.matrix=l}else this.matrix=r.prototype.getBlackMatrix.call(this);return this.matrix},t.prototype.createBinarizer=function(n){return new t(n)},t.calculateThresholdForBlock=function(n,a,s,i,c,o,d){for(var l=c-t.BLOCK_SIZE,u=i-t.BLOCK_SIZE,h=0;h<s;h++){var f=h<<t.BLOCK_SIZE_POWER;f>l&&(f=l);for(var A=t.cap(h,2,s-3),g=0;g<a;g++){var m=g<<t.BLOCK_SIZE_POWER;m>u&&(m=u);for(var x=t.cap(g,2,a-3),y=0,j=-2;j<=2;j++){var b=o[A+j];y+=b[x-2]+b[x-1]+b[x]+b[x+1]+b[x+2]}var S=y/25;t.thresholdBlock(n,m,f,S,i,d)}}},t.cap=function(n,a,s){return n<a?a:n>s?s:n},t.thresholdBlock=function(n,a,s,i,c,o){for(var d=0,l=s*c+a;d<t.BLOCK_SIZE;d++,l+=c)for(var u=0;u<t.BLOCK_SIZE;u++)(n[l+u]&255)<=i&&o.set(a+u,s+d)},t.calculateBlackPoints=function(n,a,s,i,c){for(var o=c-t.BLOCK_SIZE,d=i-t.BLOCK_SIZE,l=new Array(s),u=0;u<s;u++){l[u]=new Int32Array(a);var h=u<<t.BLOCK_SIZE_POWER;h>o&&(h=o);for(var f=0;f<a;f++){var A=f<<t.BLOCK_SIZE_POWER;A>d&&(A=d);for(var g=0,m=255,x=0,y=0,j=h*i+A;y<t.BLOCK_SIZE;y++,j+=i){for(var b=0;b<t.BLOCK_SIZE;b++){var S=n[j+b]&255;g+=S,S<m&&(m=S),S>x&&(x=S)}if(x-m>t.MIN_DYNAMIC_RANGE)for(y++,j+=i;y<t.BLOCK_SIZE;y++,j+=i)for(var b=0;b<t.BLOCK_SIZE;b++)g+=n[j+b]&255}var w=g>>t.BLOCK_SIZE_POWER*2;if(x-m<=t.MIN_DYNAMIC_RANGE&&(w=m/2,u>0&&f>0)){var E=(l[u-1][f]+2*l[u][f-1]+l[u-1][f-1])/4;m<E&&(w=E)}l[u][f]=w}}return l},t.BLOCK_SIZE_POWER=3,t.BLOCK_SIZE=1<<t.BLOCK_SIZE_POWER,t.BLOCK_SIZE_MASK=t.BLOCK_SIZE-1,t.MINIMUM_DIMENSION=t.BLOCK_SIZE*5,t.MIN_DYNAMIC_RANGE=24,t})(vie),s0=(function(){function r(t,n){this.width=t,this.height=n}return r.prototype.getWidth=function(){return this.width},r.prototype.getHeight=function(){return this.height},r.prototype.isCropSupported=function(){return!1},r.prototype.crop=function(t,n,a,s){throw new Tv("This luminance source does not support cropping.")},r.prototype.isRotateSupported=function(){return!1},r.prototype.rotateCounterClockwise=function(){throw new Tv("This luminance source does not support rotation by 90 degrees.")},r.prototype.rotateCounterClockwise45=function(){throw new Tv("This luminance source does not support rotation by 45 degrees.")},r.prototype.toString=function(){for(var t=new Uint8ClampedArray(this.width),n=new Bs,a=0;a<this.height;a++){for(var s=this.getRow(a,t),i=0;i<this.width;i++){var c=s[i]&255,o=void 0;c<64?o="#":c<128?o="+":c<192?o=".":o=" ",n.append(o)}n.append(`
`)}return n.toString()},r})(),yie=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),B2=(function(r){yie(t,r);function t(n){var a=r.call(this,n.getWidth(),n.getHeight())||this;return a.delegate=n,a}return t.prototype.getRow=function(n,a){for(var s=this.delegate.getRow(n,a),i=this.getWidth(),c=0;c<i;c++)s[c]=255-(s[c]&255);return s},t.prototype.getMatrix=function(){for(var n=this.delegate.getMatrix(),a=this.getWidth()*this.getHeight(),s=new Uint8ClampedArray(a),i=0;i<a;i++)s[i]=255-(n[i]&255);return s},t.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},t.prototype.crop=function(n,a,s,i){return new t(this.delegate.crop(n,a,s,i))},t.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},t.prototype.invert=function(){return this.delegate},t.prototype.rotateCounterClockwise=function(){return new t(this.delegate.rotateCounterClockwise())},t.prototype.rotateCounterClockwise45=function(){return new t(this.delegate.rotateCounterClockwise45())},t})(s0),jie=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),bie=(function(r){jie(t,r);function t(n,a){a===void 0&&(a=!1);var s=r.call(this,n.width,n.height)||this;return s.canvas=n,s.tempCanvasElement=null,s.buffer=t.makeBufferFromCanvasImageData(n,a),s}return t.makeBufferFromCanvasImageData=function(n,a){a===void 0&&(a=!1);var s=n.getContext("2d").getImageData(0,0,n.width,n.height);return t.toGrayscaleBuffer(s.data,n.width,n.height,a)},t.toGrayscaleBuffer=function(n,a,s,i){i===void 0&&(i=!1);var c=new Uint8ClampedArray(a*s);if(t.FRAME_INDEX=!t.FRAME_INDEX,t.FRAME_INDEX||!i)for(var o=0,d=0,l=n.length;o<l;o+=4,d++){var u=void 0,h=n[o+3];if(h===0)u=255;else{var f=n[o],A=n[o+1],g=n[o+2];u=306*f+601*A+117*g+512>>10}c[d]=u}else for(var o=0,d=0,m=n.length;o<m;o+=4,d++){var u=void 0,h=n[o+3];if(h===0)u=255;else{var f=n[o],A=n[o+1],g=n[o+2];u=306*f+601*A+117*g+512>>10}c[d]=255-u}return c},t.prototype.getRow=function(n,a){if(n<0||n>=this.getHeight())throw new Ta("Requested row is outside the image: "+n);var s=this.getWidth(),i=n*s;return a===null?a=this.buffer.slice(i,i+s):(a.length<s&&(a=new Uint8ClampedArray(s)),a.set(this.buffer.slice(i,i+s))),a},t.prototype.getMatrix=function(){return this.buffer},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(n,a,s,i){return r.prototype.crop.call(this,n,a,s,i),this},t.prototype.isRotateSupported=function(){return!0},t.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},t.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},t.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement},t.prototype.rotate=function(n){var a=this.getTempCanvasElement(),s=a.getContext("2d"),i=n*t.DEGREE_TO_RADIANS,c=this.canvas.width,o=this.canvas.height,d=Math.ceil(Math.abs(Math.cos(i))*c+Math.abs(Math.sin(i))*o),l=Math.ceil(Math.abs(Math.sin(i))*c+Math.abs(Math.cos(i))*o);return a.width=d,a.height=l,s.translate(d/2,l/2),s.rotate(i),s.drawImage(this.canvas,c/-2,o/-2),this.buffer=t.makeBufferFromCanvasImageData(a),this},t.prototype.invert=function(){return new B2(this)},t.DEGREE_TO_RADIANS=Math.PI/180,t.FRAME_INDEX=!0,t})(s0),wie=(function(){function r(t,n,a){this.deviceId=t,this.label=n,this.kind="videoinput",this.groupId=a||void 0}return r.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},r})(),yd=function(r,t,n,a){function s(i){return i instanceof n?i:new n(function(c){c(i)})}return new(n||(n=Promise))(function(i,c){function o(u){try{l(a.next(u))}catch(h){c(h)}}function d(u){try{l(a.throw(u))}catch(h){c(h)}}function l(u){u.done?i(u.value):s(u.value).then(o,d)}l((a=a.apply(r,t||[])).next())})},jd=function(r,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,s,i,c;return c={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function o(l){return function(u){return d([l,u])}}function d(l){if(a)throw new TypeError("Generator is already executing.");for(;n;)try{if(a=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(r,n)}catch(u){l=[6,u],s=0}finally{a=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},Cie=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Lm=(function(){function r(t,n,a){n===void 0&&(n=500),this.reader=t,this.timeBetweenScansMillis=n,this._hints=a,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(r.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(t){this._timeBetweenDecodingAttempts=t<0?0:t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hints",{get:function(){return this._hints},set:function(t){this._hints=t||null},enumerable:!1,configurable:!0}),r.prototype.listVideoInputDevices=function(){return yd(this,void 0,void 0,function(){var t,n,a,s,i,c,o,d,l,u,h,f;return jd(this,function(A){switch(A.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:t=A.sent(),n=[];try{for(a=Cie(t),s=a.next();!s.done;s=a.next())i=s.value,c=i.kind==="video"?"videoinput":i.kind,c==="videoinput"&&(o=i.deviceId||i.id,d=i.label||"Video device "+(n.length+1),l=i.groupId,u={deviceId:o,label:d,kind:c,groupId:l},n.push(u))}catch(g){h={error:g}}finally{try{s&&!s.done&&(f=a.return)&&f.call(a)}finally{if(h)throw h.error}}return[2,n]}})})},r.prototype.getVideoInputDevices=function(){return yd(this,void 0,void 0,function(){var t;return jd(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return t=n.sent(),[2,t.map(function(a){return new wie(a.deviceId,a.label)})]}})})},r.prototype.findDeviceById=function(t){return yd(this,void 0,void 0,function(){var n;return jd(this,function(a){switch(a.label){case 0:return[4,this.listVideoInputDevices()];case 1:return n=a.sent(),n?[2,n.find(function(s){return s.deviceId===t})]:[2,null]}})})},r.prototype.decodeFromInputVideoDevice=function(t,n){return yd(this,void 0,void 0,function(){return jd(this,function(a){switch(a.label){case 0:return[4,this.decodeOnceFromVideoDevice(t,n)];case 1:return[2,a.sent()]}})})},r.prototype.decodeOnceFromVideoDevice=function(t,n){return yd(this,void 0,void 0,function(){var a,s;return jd(this,function(i){switch(i.label){case 0:return this.reset(),t?a={deviceId:{exact:t}}:a={facingMode:"environment"},s={video:a},[4,this.decodeOnceFromConstraints(s,n)];case 1:return[2,i.sent()]}})})},r.prototype.decodeOnceFromConstraints=function(t,n){return yd(this,void 0,void 0,function(){var a;return jd(this,function(s){switch(s.label){case 0:return[4,navigator.mediaDevices.getUserMedia(t)];case 1:return a=s.sent(),[4,this.decodeOnceFromStream(a,n)];case 2:return[2,s.sent()]}})})},r.prototype.decodeOnceFromStream=function(t,n){return yd(this,void 0,void 0,function(){var a,s;return jd(this,function(i){switch(i.label){case 0:return this.reset(),[4,this.attachStreamToVideo(t,n)];case 1:return a=i.sent(),[4,this.decodeOnce(a)];case 2:return s=i.sent(),[2,s]}})})},r.prototype.decodeFromInputVideoDeviceContinuously=function(t,n,a){return yd(this,void 0,void 0,function(){return jd(this,function(s){switch(s.label){case 0:return[4,this.decodeFromVideoDevice(t,n,a)];case 1:return[2,s.sent()]}})})},r.prototype.decodeFromVideoDevice=function(t,n,a){return yd(this,void 0,void 0,function(){var s,i;return jd(this,function(c){switch(c.label){case 0:return t?s={deviceId:{exact:t}}:s={facingMode:"environment"},i={video:s},[4,this.decodeFromConstraints(i,n,a)];case 1:return[2,c.sent()]}})})},r.prototype.decodeFromConstraints=function(t,n,a){return yd(this,void 0,void 0,function(){var s;return jd(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(t)];case 1:return s=i.sent(),[4,this.decodeFromStream(s,n,a)];case 2:return[2,i.sent()]}})})},r.prototype.decodeFromStream=function(t,n,a){return yd(this,void 0,void 0,function(){var s;return jd(this,function(i){switch(i.label){case 0:return this.reset(),[4,this.attachStreamToVideo(t,n)];case 1:return s=i.sent(),[4,this.decodeContinuously(s,a)];case 2:return[2,i.sent()]}})})},r.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},r.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},r.prototype.attachStreamToVideo=function(t,n){return yd(this,void 0,void 0,function(){var a;return jd(this,function(s){switch(s.label){case 0:return a=this.prepareVideoElement(n),this.addVideoSource(a,t),this.videoElement=a,this.stream=t,[4,this.playVideoOnLoadAsync(a)];case 1:return s.sent(),[2,a]}})})},r.prototype.playVideoOnLoadAsync=function(t){var n=this;return new Promise(function(a,s){return n.playVideoOnLoad(t,function(){return a()})})},r.prototype.playVideoOnLoad=function(t,n){var a=this;this.videoEndedListener=function(){return a.stopStreams()},this.videoCanPlayListener=function(){return a.tryPlayVideo(t)},t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",n),this.tryPlayVideo(t)},r.prototype.isVideoPlaying=function(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2},r.prototype.tryPlayVideo=function(t){return yd(this,void 0,void 0,function(){return jd(this,function(n){switch(n.label){case 0:if(this.isVideoPlaying(t))return console.warn("Trying to play video that is already playing."),[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,t.play()];case 2:return n.sent(),[3,4];case 3:return n.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},r.prototype.getMediaElement=function(t,n){var a=document.getElementById(t);if(!a)throw new vl("element with id '"+t+"' not found");if(a.nodeName.toLowerCase()!==n.toLowerCase())throw new vl("element with id '"+t+"' must be an "+n+" element");return a},r.prototype.decodeFromImage=function(t,n){if(!t&&!n)throw new vl("either imageElement with a src set or an url must be provided");return n&&!t?this.decodeFromImageUrl(n):this.decodeFromImageElement(t)},r.prototype.decodeFromVideo=function(t,n){if(!t&&!n)throw new vl("Either an element with a src set or an URL must be provided");return n&&!t?this.decodeFromVideoUrl(n):this.decodeFromVideoElement(t)},r.prototype.decodeFromVideoContinuously=function(t,n,a){if(t===void 0&&n===void 0)throw new vl("Either an element with a src set or an URL must be provided");return n&&!t?this.decodeFromVideoUrlContinuously(n,a):this.decodeFromVideoElementContinuously(t,a)},r.prototype.decodeFromImageElement=function(t){if(!t)throw new vl("An image element must be provided.");this.reset();var n=this.prepareImageElement(t);this.imageElement=n;var a;return this.isImageLoaded(n)?a=this.decodeOnce(n,!1,!0):a=this._decodeOnLoadImage(n),a},r.prototype.decodeFromVideoElement=function(t){var n=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(n)},r.prototype.decodeFromVideoElementContinuously=function(t,n){var a=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(a,n)},r.prototype._decodeFromVideoElementSetup=function(t){if(!t)throw new vl("A video element must be provided.");this.reset();var n=this.prepareVideoElement(t);return this.videoElement=n,n},r.prototype.decodeFromImageUrl=function(t){if(!t)throw new vl("An URL must be provided.");this.reset();var n=this.prepareImageElement();this.imageElement=n;var a=this._decodeOnLoadImage(n);return n.src=t,a},r.prototype.decodeFromVideoUrl=function(t){if(!t)throw new vl("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),a=this.decodeFromVideoElement(n);return n.src=t,a},r.prototype.decodeFromVideoUrlContinuously=function(t,n){if(!t)throw new vl("An URL must be provided.");this.reset();var a=this.prepareVideoElement(),s=this.decodeFromVideoElementContinuously(a,n);return a.src=t,s},r.prototype._decodeOnLoadImage=function(t){var n=this;return new Promise(function(a,s){n.imageLoadedListener=function(){return n.decodeOnce(t,!1,!0).then(a,s)},t.addEventListener("load",n.imageLoadedListener)})},r.prototype._decodeOnLoadVideo=function(t){return yd(this,void 0,void 0,function(){return jd(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(t)];case 1:return n.sent(),[4,this.decodeOnce(t)];case 2:return[2,n.sent()]}})})},r.prototype._decodeOnLoadVideoContinuously=function(t,n){return yd(this,void 0,void 0,function(){return jd(this,function(a){switch(a.label){case 0:return[4,this.playVideoOnLoadAsync(t)];case 1:return a.sent(),this.decodeContinuously(t,n),[2]}})})},r.prototype.isImageLoaded=function(t){return!(!t.complete||t.naturalWidth===0)},r.prototype.prepareImageElement=function(t){var n;return typeof t>"u"&&(n=document.createElement("img"),n.width=200,n.height=200),typeof t=="string"&&(n=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(n=t),n},r.prototype.prepareVideoElement=function(t){var n;return!t&&typeof document<"u"&&(n=document.createElement("video"),n.width=200,n.height=200),typeof t=="string"&&(n=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(n=t),n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n},r.prototype.decodeOnce=function(t,n,a){var s=this;n===void 0&&(n=!0),a===void 0&&(a=!0),this._stopAsyncDecode=!1;var i=function(c,o){if(s._stopAsyncDecode){o(new Tr("Video stream has ended before any code could be detected.")),s._stopAsyncDecode=void 0;return}try{var d=s.decode(t);c(d)}catch(f){var l=n&&f instanceof Tr,u=f instanceof kl||f instanceof xn,h=u&&a;if(l||h)return setTimeout(i,s._timeBetweenDecodingAttempts,c,o);o(f)}};return new Promise(function(c,o){return i(c,o)})},r.prototype.decodeContinuously=function(t,n){var a=this;this._stopContinuousDecode=!1;var s=function(){if(a._stopContinuousDecode){a._stopContinuousDecode=void 0;return}try{var i=a.decode(t);n(i,null),setTimeout(s,a.timeBetweenScansMillis)}catch(d){n(null,d);var c=d instanceof kl||d instanceof xn,o=d instanceof Tr;(c||o)&&setTimeout(s,a._timeBetweenDecodingAttempts)}};s()},r.prototype.decode=function(t){var n=this.createBinaryBitmap(t);return this.decodeBitmap(n)},r.prototype.createBinaryBitmap=function(t){this.getCaptureCanvasContext(t);var n=!1;t instanceof HTMLVideoElement?(this.drawFrameOnCanvas(t),n=!0):this.drawImageOnCanvas(t);var a=this.getCaptureCanvas(t),s=new bie(a,n),i=new vD(s);return new gD(i)},r.prototype.getCaptureCanvasContext=function(t){if(!this.captureCanvasContext){var n=this.getCaptureCanvas(t),a=void 0;try{a=n.getContext("2d",{willReadFrequently:!0})}catch{a=n.getContext("2d")}this.captureCanvasContext=a}return this.captureCanvasContext},r.prototype.getCaptureCanvas=function(t){if(!this.captureCanvas){var n=this.createCaptureCanvas(t);this.captureCanvas=n}return this.captureCanvas},r.prototype.drawFrameOnCanvas=function(t,n,a){n===void 0&&(n={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),a===void 0&&(a=this.captureCanvasContext),a.drawImage(t,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)},r.prototype.drawImageOnCanvas=function(t,n,a){n===void 0&&(n={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),a===void 0&&(a=this.captureCanvasContext),a.drawImage(t,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)},r.prototype.decodeBitmap=function(t){return this.reader.decode(t,this._hints)},r.prototype.createCaptureCanvas=function(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var n=document.createElement("canvas"),a,s;return typeof t<"u"&&(t instanceof HTMLVideoElement?(a=t.videoWidth,s=t.videoHeight):t instanceof HTMLImageElement&&(a=t.naturalWidth||t.width,s=t.naturalHeight||t.height)),n.style.width=a+"px",n.style.height=s+"px",n.width=a,n.height=s,n},r.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(t){return t.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},r.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},r.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},r.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},r.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},r.prototype.addVideoSource=function(t,n){try{t.srcObject=n}catch{t.src=URL.createObjectURL(n)}},r.prototype.cleanVideoSource=function(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")},r})(),ad=(function(){function r(t,n,a,s,i,c){a===void 0&&(a=n==null?0:8*n.length),c===void 0&&(c=lo.currentTimeMillis()),this.text=t,this.rawBytes=n,this.numBits=a,this.resultPoints=s,this.format=i,this.timestamp=c,this.text=t,this.rawBytes=n,a==null?this.numBits=n==null?0:8*n.length:this.numBits=a,this.resultPoints=s,this.format=i,this.resultMetadata=null,c==null?this.timestamp=lo.currentTimeMillis():this.timestamp=c}return r.prototype.getText=function(){return this.text},r.prototype.getRawBytes=function(){return this.rawBytes},r.prototype.getNumBits=function(){return this.numBits},r.prototype.getResultPoints=function(){return this.resultPoints},r.prototype.getBarcodeFormat=function(){return this.format},r.prototype.getResultMetadata=function(){return this.resultMetadata},r.prototype.putMetadata=function(t,n){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,n)},r.prototype.putAllMetadata=function(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))},r.prototype.addResultPoints=function(t){var n=this.resultPoints;if(n===null)this.resultPoints=t;else if(t!==null&&t.length>0){var a=new Array(n.length+t.length);lo.arraycopy(n,0,a,0,n.length),lo.arraycopy(t,0,a,n.length,t.length),this.resultPoints=a}},r.prototype.getTimestamp=function(){return this.timestamp},r.prototype.toString=function(){return this.text},r})(),r4;(function(r){r[r.AZTEC=0]="AZTEC",r[r.CODABAR=1]="CODABAR",r[r.CODE_39=2]="CODE_39",r[r.CODE_93=3]="CODE_93",r[r.CODE_128=4]="CODE_128",r[r.DATA_MATRIX=5]="DATA_MATRIX",r[r.EAN_8=6]="EAN_8",r[r.EAN_13=7]="EAN_13",r[r.ITF=8]="ITF",r[r.MAXICODE=9]="MAXICODE",r[r.PDF_417=10]="PDF_417",r[r.QR_CODE=11]="QR_CODE",r[r.RSS_14=12]="RSS_14",r[r.RSS_EXPANDED=13]="RSS_EXPANDED",r[r.UPC_A=14]="UPC_A",r[r.UPC_E=15]="UPC_E",r[r.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(r4||(r4={}));const Ia=r4;var n4;(function(r){r[r.OTHER=0]="OTHER",r[r.ORIENTATION=1]="ORIENTATION",r[r.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",r[r.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",r[r.ISSUE_NUMBER=4]="ISSUE_NUMBER",r[r.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",r[r.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",r[r.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",r[r.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",r[r.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",r[r.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(n4||(n4={}));const Qc=n4;var I2=(function(){function r(t,n,a,s,i,c){i===void 0&&(i=-1),c===void 0&&(c=-1),this.rawBytes=t,this.text=n,this.byteSegments=a,this.ecLevel=s,this.structuredAppendSequenceNumber=i,this.structuredAppendParity=c,this.numBits=t==null?0:8*t.length}return r.prototype.getRawBytes=function(){return this.rawBytes},r.prototype.getNumBits=function(){return this.numBits},r.prototype.setNumBits=function(t){this.numBits=t},r.prototype.getText=function(){return this.text},r.prototype.getByteSegments=function(){return this.byteSegments},r.prototype.getECLevel=function(){return this.ecLevel},r.prototype.getErrorsCorrected=function(){return this.errorsCorrected},r.prototype.setErrorsCorrected=function(t){this.errorsCorrected=t},r.prototype.getErasures=function(){return this.erasures},r.prototype.setErasures=function(t){this.erasures=t},r.prototype.getOther=function(){return this.other},r.prototype.setOther=function(t){this.other=t},r.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},r.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},r.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},r})(),Gg=(function(){function r(){}return r.prototype.exp=function(t){return this.expTable[t]},r.prototype.log=function(t){if(t===0)throw new Ta;return this.logTable[t]},r.addOrSubtract=function(t,n){return t^n},r})(),uA=(function(){function r(t,n){if(n.length===0)throw new Ta;this.field=t;var a=n.length;if(a>1&&n[0]===0){for(var s=1;s<a&&n[s]===0;)s++;s===a?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(a-s),lo.arraycopy(n,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}return r.prototype.getCoefficients=function(){return this.coefficients},r.prototype.getDegree=function(){return this.coefficients.length-1},r.prototype.isZero=function(){return this.coefficients[0]===0},r.prototype.getCoefficient=function(t){return this.coefficients[this.coefficients.length-1-t]},r.prototype.evaluateAt=function(t){if(t===0)return this.getCoefficient(0);var n=this.coefficients,a;if(t===1){a=0;for(var s=0,i=n.length;s!==i;s++){var c=n[s];a=Gg.addOrSubtract(a,c)}return a}a=n[0];for(var o=n.length,d=this.field,s=1;s<o;s++)a=Gg.addOrSubtract(d.multiply(t,a),n[s]);return a},r.prototype.addOrSubtract=function(t){if(!this.field.equals(t.field))throw new Ta("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;var n=this.coefficients,a=t.coefficients;if(n.length>a.length){var s=n;n=a,a=s}var i=new Int32Array(a.length),c=a.length-n.length;lo.arraycopy(a,0,i,0,c);for(var o=c;o<a.length;o++)i[o]=Gg.addOrSubtract(n[o-c],a[o]);return new r(this.field,i)},r.prototype.multiply=function(t){if(!this.field.equals(t.field))throw new Ta("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();for(var n=this.coefficients,a=n.length,s=t.coefficients,i=s.length,c=new Int32Array(a+i-1),o=this.field,d=0;d<a;d++)for(var l=n[d],u=0;u<i;u++)c[d+u]=Gg.addOrSubtract(c[d+u],o.multiply(l,s[u]));return new r(o,c)},r.prototype.multiplyScalar=function(t){if(t===0)return this.field.getZero();if(t===1)return this;for(var n=this.coefficients.length,a=this.field,s=new Int32Array(n),i=this.coefficients,c=0;c<n;c++)s[c]=a.multiply(i[c],t);return new r(a,s)},r.prototype.multiplyByMonomial=function(t,n){if(t<0)throw new Ta;if(n===0)return this.field.getZero();for(var a=this.coefficients,s=a.length,i=new Int32Array(s+t),c=this.field,o=0;o<s;o++)i[o]=c.multiply(a[o],n);return new r(c,i)},r.prototype.divide=function(t){if(!this.field.equals(t.field))throw new Ta("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new Ta("Divide by 0");for(var n=this.field,a=n.getZero(),s=this,i=t.getCoefficient(t.getDegree()),c=n.inverse(i);s.getDegree()>=t.getDegree()&&!s.isZero();){var o=s.getDegree()-t.getDegree(),d=n.multiply(s.getCoefficient(s.getDegree()),c),l=t.multiplyByMonomial(o,d),u=n.buildMonomial(o,d);a=a.addOrSubtract(u),s=s.addOrSubtract(l)}return[a,s]},r.prototype.toString=function(){for(var t="",n=this.getDegree();n>=0;n--){var a=this.getCoefficient(n);if(a!==0){if(a<0?(t+=" - ",a=-a):t.length>0&&(t+=" + "),n===0||a!==1){var s=this.field.log(a);s===0?t+="1":s===1?t+="a":(t+="a^",t+=s)}n!==0&&(n===1?t+="x":(t+="x^",t+=n))}}return t},r})(),Nie=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),xD=(function(r){Nie(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.kind="ArithmeticException",t})(Wd),Sie=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Ud=(function(r){Sie(t,r);function t(n,a,s){var i=r.call(this)||this;i.primitive=n,i.size=a,i.generatorBase=s;for(var c=new Int32Array(a),o=1,d=0;d<a;d++)c[d]=o,o*=2,o>=a&&(o^=n,o&=a-1);i.expTable=c;for(var l=new Int32Array(a),d=0;d<a-1;d++)l[c[d]]=d;return i.logTable=l,i.zero=new uA(i,Int32Array.from([0])),i.one=new uA(i,Int32Array.from([1])),i}return t.prototype.getZero=function(){return this.zero},t.prototype.getOne=function(){return this.one},t.prototype.buildMonomial=function(n,a){if(n<0)throw new Ta;if(a===0)return this.zero;var s=new Int32Array(n+1);return s[0]=a,new uA(this,s)},t.prototype.inverse=function(n){if(n===0)throw new xD;return this.expTable[this.size-this.logTable[n]-1]},t.prototype.multiply=function(n,a){return n===0||a===0?0:this.expTable[(this.logTable[n]+this.logTable[a])%(this.size-1)]},t.prototype.getSize=function(){return this.size},t.prototype.getGeneratorBase=function(){return this.generatorBase},t.prototype.toString=function(){return"GF(0x"+_s.toHexString(this.primitive)+","+this.size+")"},t.prototype.equals=function(n){return n===this},t.AZTEC_DATA_12=new t(4201,4096,1),t.AZTEC_DATA_10=new t(1033,1024,1),t.AZTEC_DATA_6=new t(67,64,1),t.AZTEC_PARAM=new t(19,16,1),t.QR_CODE_FIELD_256=new t(285,256,0),t.DATA_MATRIX_FIELD_256=new t(301,256,1),t.AZTEC_DATA_8=t.DATA_MATRIX_FIELD_256,t.MAXICODE_FIELD_64=t.AZTEC_DATA_6,t})(Gg),Eie=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),yv=(function(r){Eie(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.kind="ReedSolomonException",t})(Wd),Bie=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),i0=(function(r){Bie(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.kind="IllegalStateException",t})(Wd),T2=(function(){function r(t){this.field=t}return r.prototype.decode=function(t,n){for(var a=this.field,s=new uA(a,t),i=new Int32Array(n),c=!0,o=0;o<n;o++){var d=s.evaluateAt(a.exp(o+a.getGeneratorBase()));i[i.length-1-o]=d,d!==0&&(c=!1)}if(!c)for(var l=new uA(a,i),u=this.runEuclideanAlgorithm(a.buildMonomial(n,1),l,n),h=u[0],f=u[1],A=this.findErrorLocations(h),g=this.findErrorMagnitudes(f,A),o=0;o<A.length;o++){var m=t.length-1-a.log(A[o]);if(m<0)throw new yv("Bad error location");t[m]=Ud.addOrSubtract(t[m],g[o])}},r.prototype.runEuclideanAlgorithm=function(t,n,a){if(t.getDegree()<n.getDegree()){var s=t;t=n,n=s}for(var i=this.field,c=t,o=n,d=i.getZero(),l=i.getOne();o.getDegree()>=(a/2|0);){var u=c,h=d;if(c=o,d=l,c.isZero())throw new yv("r_{i-1} was zero");o=u;for(var f=i.getZero(),A=c.getCoefficient(c.getDegree()),g=i.inverse(A);o.getDegree()>=c.getDegree()&&!o.isZero();){var m=o.getDegree()-c.getDegree(),x=i.multiply(o.getCoefficient(o.getDegree()),g);f=f.addOrSubtract(i.buildMonomial(m,x)),o=o.addOrSubtract(c.multiplyByMonomial(m,x))}if(l=f.multiply(d).addOrSubtract(h),o.getDegree()>=c.getDegree())throw new i0("Division algorithm failed to reduce polynomial?")}var y=l.getCoefficient(0);if(y===0)throw new yv("sigmaTilde(0) was zero");var j=i.inverse(y),b=l.multiplyScalar(j),S=o.multiplyScalar(j);return[b,S]},r.prototype.findErrorLocations=function(t){var n=t.getDegree();if(n===1)return Int32Array.from([t.getCoefficient(1)]);for(var a=new Int32Array(n),s=0,i=this.field,c=1;c<i.getSize()&&s<n;c++)t.evaluateAt(c)===0&&(a[s]=i.inverse(c),s++);if(s!==n)throw new yv("Error locator degree does not match number of roots");return a},r.prototype.findErrorMagnitudes=function(t,n){for(var a=n.length,s=new Int32Array(a),i=this.field,c=0;c<a;c++){for(var o=i.inverse(n[c]),d=1,l=0;l<a;l++)if(c!==l){var u=i.multiply(n[l],o),h=(u&1)===0?u|1:u&-2;d=i.multiply(d,h)}s[c]=i.multiply(t.evaluateAt(o),i.inverse(d)),i.getGeneratorBase()!==0&&(s[c]=i.multiply(s[c],o))}return s},r})(),Rc;(function(r){r[r.UPPER=0]="UPPER",r[r.LOWER=1]="LOWER",r[r.MIXED=2]="MIXED",r[r.DIGIT=3]="DIGIT",r[r.PUNCT=4]="PUNCT",r[r.BINARY=5]="BINARY"})(Rc||(Rc={}));var Dk=(function(){function r(){}return r.prototype.decode=function(t){this.ddata=t;var n=t.getBits(),a=this.extractBits(n),s=this.correctBits(a),i=r.convertBoolArrayToByteArray(s),c=r.getEncodedData(s),o=new I2(i,c,null,null);return o.setNumBits(s.length),o},r.highLevelDecode=function(t){return this.getEncodedData(t)},r.getEncodedData=function(t){for(var n=t.length,a=Rc.UPPER,s=Rc.UPPER,i="",c=0;c<n;)if(s===Rc.BINARY){if(n-c<5)break;var o=r.readCode(t,c,5);if(c+=5,o===0){if(n-c<11)break;o=r.readCode(t,c,11)+31,c+=11}for(var d=0;d<o;d++){if(n-c<8){c=n;break}var l=r.readCode(t,c,8);i+=ti.castAsNonUtf8Char(l),c+=8}s=a}else{var u=s===Rc.DIGIT?4:5;if(n-c<u)break;var l=r.readCode(t,c,u);c+=u;var h=r.getCharacter(s,l);h.startsWith("CTRL_")?(a=s,s=r.getTable(h.charAt(5)),h.charAt(6)==="L"&&(a=s)):(i+=h,s=a)}return i},r.getTable=function(t){switch(t){case"L":return Rc.LOWER;case"P":return Rc.PUNCT;case"M":return Rc.MIXED;case"D":return Rc.DIGIT;case"B":return Rc.BINARY;case"U":default:return Rc.UPPER}},r.getCharacter=function(t,n){switch(t){case Rc.UPPER:return r.UPPER_TABLE[n];case Rc.LOWER:return r.LOWER_TABLE[n];case Rc.MIXED:return r.MIXED_TABLE[n];case Rc.PUNCT:return r.PUNCT_TABLE[n];case Rc.DIGIT:return r.DIGIT_TABLE[n];default:throw new i0("Bad table")}},r.prototype.correctBits=function(t){var n,a;this.ddata.getNbLayers()<=2?(a=6,n=Ud.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(a=8,n=Ud.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(a=10,n=Ud.AZTEC_DATA_10):(a=12,n=Ud.AZTEC_DATA_12);var s=this.ddata.getNbDatablocks(),i=t.length/a;if(i<s)throw new xn;for(var c=t.length%a,o=new Int32Array(i),d=0;d<i;d++,c+=a)o[d]=r.readCode(t,c,a);try{var l=new T2(n);l.decode(o,i-s)}catch(x){throw new xn(x)}for(var u=(1<<a)-1,h=0,d=0;d<s;d++){var f=o[d];if(f===0||f===u)throw new xn;(f===1||f===u-1)&&h++}for(var A=new Array(s*a-h),g=0,d=0;d<s;d++){var f=o[d];if(f===1||f===u-1)A.fill(f>1,g,g+a-1),g+=a-1;else for(var m=a-1;m>=0;--m)A[g++]=(f&1<<m)!==0}return A},r.prototype.extractBits=function(t){var n=this.ddata.isCompact(),a=this.ddata.getNbLayers(),s=(n?11:14)+a*4,i=new Int32Array(s),c=new Array(this.totalBitsInLayer(a,n));if(n)for(var o=0;o<i.length;o++)i[o]=o;else for(var d=s+1+2*_s.truncDivision(_s.truncDivision(s,2)-1,15),l=s/2,u=_s.truncDivision(d,2),o=0;o<l;o++){var h=o+_s.truncDivision(o,15);i[l-o-1]=u-h-1,i[l+o]=u+h+1}for(var o=0,f=0;o<a;o++){for(var A=(a-o)*4+(n?9:12),g=o*2,m=s-1-g,x=0;x<A;x++)for(var y=x*2,j=0;j<2;j++)c[f+y+j]=t.get(i[g+j],i[g+x]),c[f+2*A+y+j]=t.get(i[g+x],i[m-j]),c[f+4*A+y+j]=t.get(i[m-j],i[m-x]),c[f+6*A+y+j]=t.get(i[m-x],i[g+j]);f+=A*8}return c},r.readCode=function(t,n,a){for(var s=0,i=n;i<n+a;i++)s<<=1,t[i]&&(s|=1);return s},r.readByte=function(t,n){var a=t.length-n;return a>=8?r.readCode(t,n,8):r.readCode(t,n,a)<<8-a},r.convertBoolArrayToByteArray=function(t){for(var n=new Uint8Array((t.length+7)/8),a=0;a<n.length;a++)n[a]=r.readByte(t,8*a);return n},r.prototype.totalBitsInLayer=function(t,n){return((n?88:112)+16*t)*t},r.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],r.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],r.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],r.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],r.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],r})(),ui=(function(){function r(){}return r.round=function(t){return isNaN(t)?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0},r.distance=function(t,n,a,s){var i=t-a,c=n-s;return Math.sqrt(i*i+c*c)},r.sum=function(t){for(var n=0,a=0,s=t.length;a!==s;a++){var i=t[a];n+=i}return n},r})(),a4=(function(){function r(){}return r.floatToIntBits=function(t){return t},r.MAX_VALUE=Number.MAX_SAFE_INTEGER,r})(),na=(function(){function r(t,n){this.x=t,this.y=n}return r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r.prototype.equals=function(t){if(t instanceof r){var n=t;return this.x===n.x&&this.y===n.y}return!1},r.prototype.hashCode=function(){return 31*a4.floatToIntBits(this.x)+a4.floatToIntBits(this.y)},r.prototype.toString=function(){return"("+this.x+","+this.y+")"},r.orderBestPatterns=function(t){var n=this.distance(t[0],t[1]),a=this.distance(t[1],t[2]),s=this.distance(t[0],t[2]),i,c,o;if(a>=n&&a>=s?(c=t[0],i=t[1],o=t[2]):s>=a&&s>=n?(c=t[1],i=t[0],o=t[2]):(c=t[2],i=t[0],o=t[1]),this.crossProductZ(i,c,o)<0){var d=i;i=o,o=d}t[0]=i,t[1]=c,t[2]=o},r.distance=function(t,n){return ui.distance(t.x,t.y,n.x,n.y)},r.crossProductZ=function(t,n,a){var s=n.x,i=n.y;return(a.x-s)*(t.y-i)-(a.y-i)*(t.x-s)},r})(),ES=(function(){function r(t,n){this.bits=t,this.points=n}return r.prototype.getBits=function(){return this.bits},r.prototype.getPoints=function(){return this.points},r})(),Iie=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Tie=(function(r){Iie(t,r);function t(n,a,s,i,c){var o=r.call(this,n,a)||this;return o.compact=s,o.nbDatablocks=i,o.nbLayers=c,o}return t.prototype.getNbLayers=function(){return this.nbLayers},t.prototype.getNbDatablocks=function(){return this.nbDatablocks},t.prototype.isCompact=function(){return this.compact},t})(ES),s4=(function(){function r(t,n,a,s){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),n==null&&(n=r.INIT_SIZE),a==null&&(a=t.getWidth()/2|0),s==null&&(s=t.getHeight()/2|0);var i=n/2|0;if(this.leftInit=a-i,this.rightInit=a+i,this.upInit=s-i,this.downInit=s+i,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Tr}return r.prototype.detect=function(){for(var t=this.leftInit,n=this.rightInit,a=this.upInit,s=this.downInit,i=!1,c=!0,o=!1,d=!1,l=!1,u=!1,h=!1,f=this.width,A=this.height;c;){c=!1;for(var g=!0;(g||!d)&&n<f;)g=this.containsBlackPoint(a,s,n,!1),g?(n++,c=!0,d=!0):d||n++;if(n>=f){i=!0;break}for(var m=!0;(m||!l)&&s<A;)m=this.containsBlackPoint(t,n,s,!0),m?(s++,c=!0,l=!0):l||s++;if(s>=A){i=!0;break}for(var x=!0;(x||!u)&&t>=0;)x=this.containsBlackPoint(a,s,t,!1),x?(t--,c=!0,u=!0):u||t--;if(t<0){i=!0;break}for(var y=!0;(y||!h)&&a>=0;)y=this.containsBlackPoint(t,n,a,!0),y?(a--,c=!0,h=!0):h||a--;if(a<0){i=!0;break}c&&(o=!0)}if(!i&&o){for(var j=n-t,b=null,S=1;b===null&&S<j;S++)b=this.getBlackPointOnSegment(t,s-S,t+S,s);if(b==null)throw new Tr;for(var w=null,S=1;w===null&&S<j;S++)w=this.getBlackPointOnSegment(t,a+S,t+S,a);if(w==null)throw new Tr;for(var E=null,S=1;E===null&&S<j;S++)E=this.getBlackPointOnSegment(n,a+S,n-S,a);if(E==null)throw new Tr;for(var I=null,S=1;I===null&&S<j;S++)I=this.getBlackPointOnSegment(n,s-S,n-S,s);if(I==null)throw new Tr;return this.centerEdges(I,b,E,w)}else throw new Tr},r.prototype.getBlackPointOnSegment=function(t,n,a,s){for(var i=ui.round(ui.distance(t,n,a,s)),c=(a-t)/i,o=(s-n)/i,d=this.image,l=0;l<i;l++){var u=ui.round(t+l*c),h=ui.round(n+l*o);if(d.get(u,h))return new na(u,h)}return null},r.prototype.centerEdges=function(t,n,a,s){var i=t.getX(),c=t.getY(),o=n.getX(),d=n.getY(),l=a.getX(),u=a.getY(),h=s.getX(),f=s.getY(),A=r.CORR;return i<this.width/2?[new na(h-A,f+A),new na(o+A,d+A),new na(l-A,u-A),new na(i+A,c-A)]:[new na(h+A,f+A),new na(o+A,d-A),new na(l-A,u+A),new na(i-A,c-A)]},r.prototype.containsBlackPoint=function(t,n,a,s){var i=this.image;if(s){for(var c=t;c<=n;c++)if(i.get(c,a))return!0}else for(var o=t;o<=n;o++)if(i.get(a,o))return!0;return!1},r.INIT_SIZE=10,r.CORR=1,r})(),Mk=(function(){function r(){}return r.checkAndNudgePoints=function(t,n){for(var a=t.getWidth(),s=t.getHeight(),i=!0,c=0;c<n.length&&i;c+=2){var o=Math.floor(n[c]),d=Math.floor(n[c+1]);if(o<-1||o>a||d<-1||d>s)throw new Tr;i=!1,o===-1?(n[c]=0,i=!0):o===a&&(n[c]=a-1,i=!0),d===-1?(n[c+1]=0,i=!0):d===s&&(n[c+1]=s-1,i=!0)}i=!0;for(var c=n.length-2;c>=0&&i;c-=2){var o=Math.floor(n[c]),d=Math.floor(n[c+1]);if(o<-1||o>a||d<-1||d>s)throw new Tr;i=!1,o===-1?(n[c]=0,i=!0):o===a&&(n[c]=a-1,i=!0),d===-1?(n[c+1]=0,i=!0):d===s&&(n[c+1]=s-1,i=!0)}},r})(),yD=(function(){function r(t,n,a,s,i,c,o,d,l){this.a11=t,this.a21=n,this.a31=a,this.a12=s,this.a22=i,this.a32=c,this.a13=o,this.a23=d,this.a33=l}return r.quadrilateralToQuadrilateral=function(t,n,a,s,i,c,o,d,l,u,h,f,A,g,m,x){var y=r.quadrilateralToSquare(t,n,a,s,i,c,o,d),j=r.squareToQuadrilateral(l,u,h,f,A,g,m,x);return j.times(y)},r.prototype.transformPoints=function(t){for(var n=t.length,a=this.a11,s=this.a12,i=this.a13,c=this.a21,o=this.a22,d=this.a23,l=this.a31,u=this.a32,h=this.a33,f=0;f<n;f+=2){var A=t[f],g=t[f+1],m=i*A+d*g+h;t[f]=(a*A+c*g+l)/m,t[f+1]=(s*A+o*g+u)/m}},r.prototype.transformPointsWithValues=function(t,n){for(var a=this.a11,s=this.a12,i=this.a13,c=this.a21,o=this.a22,d=this.a23,l=this.a31,u=this.a32,h=this.a33,f=t.length,A=0;A<f;A++){var g=t[A],m=n[A],x=i*g+d*m+h;t[A]=(a*g+c*m+l)/x,n[A]=(s*g+o*m+u)/x}},r.squareToQuadrilateral=function(t,n,a,s,i,c,o,d){var l=t-a+i-o,u=n-s+c-d;if(l===0&&u===0)return new r(a-t,i-a,t,s-n,c-s,n,0,0,1);var h=a-i,f=o-i,A=s-c,g=d-c,m=h*g-f*A,x=(l*g-f*u)/m,y=(h*u-l*A)/m;return new r(a-t+x*a,o-t+y*o,t,s-n+x*s,d-n+y*d,n,x,y,1)},r.quadrilateralToSquare=function(t,n,a,s,i,c,o,d){return r.squareToQuadrilateral(t,n,a,s,i,c,o,d).buildAdjoint()},r.prototype.buildAdjoint=function(){return new r(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},r.prototype.times=function(t){return new r(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)},r})(),kie=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),_ie=(function(r){kie(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.sampleGrid=function(n,a,s,i,c,o,d,l,u,h,f,A,g,m,x,y,j,b,S){var w=yD.quadrilateralToQuadrilateral(i,c,o,d,l,u,h,f,A,g,m,x,y,j,b,S);return this.sampleGridWithTransform(n,a,s,w)},t.prototype.sampleGridWithTransform=function(n,a,s,i){if(a<=0||s<=0)throw new Tr;for(var c=new Uh(a,s),o=new Float32Array(2*a),d=0;d<s;d++){for(var l=o.length,u=d+.5,h=0;h<l;h+=2)o[h]=h/2+.5,o[h+1]=u;i.transformPoints(o),Mk.checkAndNudgePoints(n,o);try{for(var h=0;h<l;h+=2)n.get(Math.floor(o[h]),Math.floor(o[h+1]))&&c.set(h/2,d)}catch{throw new Tr}}return c},t})(Mk),BS=(function(){function r(){}return r.setGridSampler=function(t){r.gridSampler=t},r.getInstance=function(){return r.gridSampler},r.gridSampler=new _ie,r})(),Ld=(function(){function r(t,n){this.x=t,this.y=n}return r.prototype.toResultPoint=function(){return new na(this.getX(),this.getY())},r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r})(),Oie=(function(){function r(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}return r.prototype.detect=function(){return this.detectMirror(!1)},r.prototype.detectMirror=function(t){var n=this.getMatrixCenter(),a=this.getBullsEyeCorners(n);if(t){var s=a[0];a[0]=a[2],a[2]=s}this.extractParameters(a);var i=this.sampleGrid(this.image,a[this.shift%4],a[(this.shift+1)%4],a[(this.shift+2)%4],a[(this.shift+3)%4]),c=this.getMatrixCornerPoints(a);return new Tie(i,c,this.compact,this.nbDataBlocks,this.nbLayers)},r.prototype.extractParameters=function(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new Tr;var n=2*this.nbCenterLayers,a=new Int32Array([this.sampleLine(t[0],t[1],n),this.sampleLine(t[1],t[2],n),this.sampleLine(t[2],t[3],n),this.sampleLine(t[3],t[0],n)]);this.shift=this.getRotation(a,n);for(var s=0,i=0;i<4;i++){var c=a[(this.shift+i)%4];this.compact?(s<<=7,s+=c>>1&127):(s<<=10,s+=(c>>2&992)+(c>>1&31))}var o=this.getCorrectedParameterData(s,this.compact);this.compact?(this.nbLayers=(o>>6)+1,this.nbDataBlocks=(o&63)+1):(this.nbLayers=(o>>11)+1,this.nbDataBlocks=(o&2047)+1)},r.prototype.getRotation=function(t,n){var a=0;t.forEach(function(i,c,o){var d=(i>>n-2<<1)+(i&1);a=(a<<3)+d}),a=((a&1)<<11)+(a>>1);for(var s=0;s<4;s++)if(_s.bitCount(a^this.EXPECTED_CORNER_BITS[s])<=2)return s;throw new Tr},r.prototype.getCorrectedParameterData=function(t,n){var a,s;n?(a=7,s=2):(a=10,s=4);for(var i=a-s,c=new Int32Array(a),o=a-1;o>=0;--o)c[o]=t&15,t>>=4;try{var d=new T2(Ud.AZTEC_PARAM);d.decode(c,i)}catch{throw new Tr}for(var l=0,o=0;o<s;o++)l=(l<<4)+c[o];return l},r.prototype.getBullsEyeCorners=function(t){var n=t,a=t,s=t,i=t,c=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var o=this.getFirstDifferent(n,c,1,-1),d=this.getFirstDifferent(a,c,1,1),l=this.getFirstDifferent(s,c,-1,1),u=this.getFirstDifferent(i,c,-1,-1);if(this.nbCenterLayers>2){var h=this.distancePoint(u,o)*this.nbCenterLayers/(this.distancePoint(i,n)*(this.nbCenterLayers+2));if(h<.75||h>1.25||!this.isWhiteOrBlackRectangle(o,d,l,u))break}n=o,a=d,s=l,i=u,c=!c}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Tr;this.compact=this.nbCenterLayers===5;var f=new na(n.getX()+.5,n.getY()-.5),A=new na(a.getX()+.5,a.getY()+.5),g=new na(s.getX()-.5,s.getY()+.5),m=new na(i.getX()-.5,i.getY()-.5);return this.expandSquare([f,A,g,m],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},r.prototype.getMatrixCenter=function(){var t,n,a,s;try{var i=new s4(this.image).detect();t=i[0],n=i[1],a=i[2],s=i[3]}catch{var c=this.image.getWidth()/2,o=this.image.getHeight()/2;t=this.getFirstDifferent(new Ld(c+7,o-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new Ld(c+7,o+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new Ld(c-7,o+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new Ld(c-7,o-7),!1,-1,-1).toResultPoint()}var d=ui.round((t.getX()+s.getX()+n.getX()+a.getX())/4),l=ui.round((t.getY()+s.getY()+n.getY()+a.getY())/4);try{var i=new s4(this.image,15,d,l).detect();t=i[0],n=i[1],a=i[2],s=i[3]}catch{t=this.getFirstDifferent(new Ld(d+7,l-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new Ld(d+7,l+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new Ld(d-7,l+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new Ld(d-7,l-7),!1,-1,-1).toResultPoint()}return d=ui.round((t.getX()+s.getX()+n.getX()+a.getX())/4),l=ui.round((t.getY()+s.getY()+n.getY()+a.getY())/4),new Ld(d,l)},r.prototype.getMatrixCornerPoints=function(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())},r.prototype.sampleGrid=function(t,n,a,s,i){var c=BS.getInstance(),o=this.getDimension(),d=o/2-this.nbCenterLayers,l=o/2+this.nbCenterLayers;return c.sampleGrid(t,o,o,d,d,l,d,l,l,d,l,n.getX(),n.getY(),a.getX(),a.getY(),s.getX(),s.getY(),i.getX(),i.getY())},r.prototype.sampleLine=function(t,n,a){for(var s=0,i=this.distanceResultPoint(t,n),c=i/a,o=t.getX(),d=t.getY(),l=c*(n.getX()-t.getX())/i,u=c*(n.getY()-t.getY())/i,h=0;h<a;h++)this.image.get(ui.round(o+h*l),ui.round(d+h*u))&&(s|=1<<a-h-1);return s},r.prototype.isWhiteOrBlackRectangle=function(t,n,a,s){var i=3;t=new Ld(t.getX()-i,t.getY()+i),n=new Ld(n.getX()-i,n.getY()-i),a=new Ld(a.getX()+i,a.getY()-i),s=new Ld(s.getX()+i,s.getY()+i);var c=this.getColor(s,t);if(c===0)return!1;var o=this.getColor(t,n);return o!==c||(o=this.getColor(n,a),o!==c)?!1:(o=this.getColor(a,s),o===c)},r.prototype.getColor=function(t,n){for(var a=this.distancePoint(t,n),s=(n.getX()-t.getX())/a,i=(n.getY()-t.getY())/a,c=0,o=t.getX(),d=t.getY(),l=this.image.get(t.getX(),t.getY()),u=Math.ceil(a),h=0;h<u;h++)o+=s,d+=i,this.image.get(ui.round(o),ui.round(d))!==l&&c++;var f=c/a;return f>.1&&f<.9?0:f<=.1===l?1:-1},r.prototype.getFirstDifferent=function(t,n,a,s){for(var i=t.getX()+a,c=t.getY()+s;this.isValid(i,c)&&this.image.get(i,c)===n;)i+=a,c+=s;for(i-=a,c-=s;this.isValid(i,c)&&this.image.get(i,c)===n;)i+=a;for(i-=a;this.isValid(i,c)&&this.image.get(i,c)===n;)c+=s;return c-=s,new Ld(i,c)},r.prototype.expandSquare=function(t,n,a){var s=a/(2*n),i=t[0].getX()-t[2].getX(),c=t[0].getY()-t[2].getY(),o=(t[0].getX()+t[2].getX())/2,d=(t[0].getY()+t[2].getY())/2,l=new na(o+s*i,d+s*c),u=new na(o-s*i,d-s*c);i=t[1].getX()-t[3].getX(),c=t[1].getY()-t[3].getY(),o=(t[1].getX()+t[3].getX())/2,d=(t[1].getY()+t[3].getY())/2;var h=new na(o+s*i,d+s*c),f=new na(o-s*i,d-s*c),A=[l,h,u,f];return A},r.prototype.isValid=function(t,n){return t>=0&&t<this.image.getWidth()&&n>0&&n<this.image.getHeight()},r.prototype.isValidPoint=function(t){var n=ui.round(t.getX()),a=ui.round(t.getY());return this.isValid(n,a)},r.prototype.distancePoint=function(t,n){return ui.distance(t.getX(),t.getY(),n.getX(),n.getY())},r.prototype.distanceResultPoint=function(t,n){return ui.distance(t.getX(),t.getY(),n.getX(),n.getY())},r.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(_s.truncDivision(this.nbLayers-4,8)+1)+15},r})(),Fx=(function(){function r(){}return r.prototype.decode=function(t,n){n===void 0&&(n=null);var a=null,s=new Oie(t.getBlackMatrix()),i=null,c=null;try{var o=s.detectMirror(!1);i=o.getPoints(),this.reportFoundResultPoints(n,i),c=new Dk().decode(o)}catch(h){a=h}if(c==null)try{var o=s.detectMirror(!0);i=o.getPoints(),this.reportFoundResultPoints(n,i),c=new Dk().decode(o)}catch(h){throw a??h}var d=new ad(c.getText(),c.getRawBytes(),c.getNumBits(),i,Ia.AZTEC,lo.currentTimeMillis()),l=c.getByteSegments();l!=null&&d.putMetadata(Qc.BYTE_SEGMENTS,l);var u=c.getECLevel();return u!=null&&d.putMetadata(Qc.ERROR_CORRECTION_LEVEL,u),d},r.prototype.reportFoundResultPoints=function(t,n){if(t!=null){var a=t.get(co.NEED_RESULT_POINT_CALLBACK);a!=null&&n.forEach(function(s,i,c){a.foundPossibleResultPoint(s)})}},r.prototype.reset=function(){},r})(),Fie=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){Fie(t,r);function t(n){return n===void 0&&(n=500),r.call(this,new Fx,n)||this}return t})(Lm);var ec=(function(){function r(){}return r.prototype.decode=function(t,n){try{return this.doDecode(t,n)}catch{var a=n&&n.get(co.TRY_HARDER)===!0;if(a&&t.isRotateSupported()){var s=t.rotateCounterClockwise(),i=this.doDecode(s,n),c=i.getResultMetadata(),o=270;c!==null&&c.get(Qc.ORIENTATION)===!0&&(o=o+c.get(Qc.ORIENTATION)%360),i.putMetadata(Qc.ORIENTATION,o);var d=i.getResultPoints();if(d!==null)for(var l=s.getHeight(),u=0;u<d.length;u++)d[u]=new na(l-d[u].getY()-1,d[u].getX());return i}else throw new Tr}},r.prototype.reset=function(){},r.prototype.doDecode=function(t,n){var a=t.getWidth(),s=t.getHeight(),i=new Nc(a),c=n&&n.get(co.TRY_HARDER)===!0,o=Math.max(1,s>>(c?8:5)),d;c?d=s:d=15;for(var l=Math.trunc(s/2),u=0;u<d;u++){var h=Math.trunc((u+1)/2),f=(u&1)===0,A=l+o*(f?h:-h);if(A<0||A>=s)break;try{i=t.getBlackRow(A,i)}catch{continue}for(var g=function(j){if(j===1&&(i.reverse(),n&&n.get(co.NEED_RESULT_POINT_CALLBACK)===!0)){var b=new Map;n.forEach(function(E,I){return b.set(I,E)}),b.delete(co.NEED_RESULT_POINT_CALLBACK),n=b}try{var S=m.decodeRow(A,i,n);if(j===1){S.putMetadata(Qc.ORIENTATION,180);var w=S.getResultPoints();w!==null&&(w[0]=new na(a-w[0].getX()-1,w[0].getY()),w[1]=new na(a-w[1].getX()-1,w[1].getY()))}return{value:S}}catch{}},m=this,x=0;x<2;x++){var y=g(x);if(typeof y=="object")return y.value}}throw new Tr},r.recordPattern=function(t,n,a){for(var s=a.length,i=0;i<s;i++)a[i]=0;var c=t.getSize();if(n>=c)throw new Tr;for(var o=!t.get(n),d=0,l=n;l<c;){if(t.get(l)!==o)a[d]++;else{if(++d===s)break;a[d]=1,o=!o}l++}if(!(d===s||d===s-1&&l===c))throw new Tr},r.recordPatternInReverse=function(t,n,a){for(var s=a.length,i=t.get(n);n>0&&s>=0;)t.get(--n)!==i&&(s--,i=!i);if(s>=0)throw new Tr;r.recordPattern(t,n+1,a)},r.patternMatchVariance=function(t,n,a){for(var s=t.length,i=0,c=0,o=0;o<s;o++)i+=t[o],c+=n[o];if(i<c)return Number.POSITIVE_INFINITY;var d=i/c;a*=d;for(var l=0,u=0;u<s;u++){var h=t[u],f=n[u]*d,A=h>f?h-f:f-h;if(A>a)return Number.POSITIVE_INFINITY;l+=A}return l/i},r})(),Pie=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Rk=(function(r){Pie(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.findStartPattern=function(n){for(var a=n.getSize(),s=n.getNextSet(0),i=0,c=Int32Array.from([0,0,0,0,0,0]),o=s,d=!1,l=6,u=s;u<a;u++)if(n.get(u)!==d)c[i]++;else{if(i===l-1){for(var h=t.MAX_AVG_VARIANCE,f=-1,A=t.CODE_START_A;A<=t.CODE_START_C;A++){var g=ec.patternMatchVariance(c,t.CODE_PATTERNS[A],t.MAX_INDIVIDUAL_VARIANCE);g<h&&(h=g,f=A)}if(f>=0&&n.isRange(Math.max(0,o-(u-o)/2),o,!1))return Int32Array.from([o,u,f]);o+=c[0]+c[1],c=c.slice(2,c.length),c[i-1]=0,c[i]=0,i--}else i++;c[i]=1,d=!d}throw new Tr},t.decodeCode=function(n,a,s){ec.recordPattern(n,s,a);for(var i=t.MAX_AVG_VARIANCE,c=-1,o=0;o<t.CODE_PATTERNS.length;o++){var d=t.CODE_PATTERNS[o],l=this.patternMatchVariance(a,d,t.MAX_INDIVIDUAL_VARIANCE);l<i&&(i=l,c=o)}if(c>=0)return c;throw new Tr},t.prototype.decodeRow=function(n,a,s){var i=s&&s.get(co.ASSUME_GS1)===!0,c=t.findStartPattern(a),o=c[2],d=0,l=new Uint8Array(20);l[d++]=o;var u;switch(o){case t.CODE_START_A:u=t.CODE_CODE_A;break;case t.CODE_START_B:u=t.CODE_CODE_B;break;case t.CODE_START_C:u=t.CODE_CODE_C;break;default:throw new xn}for(var h=!1,f=!1,A="",g=c[0],m=c[1],x=Int32Array.from([0,0,0,0,0,0]),y=0,j=0,b=o,S=0,w=!0,E=!1,I=!1;!h;){var L=f;switch(f=!1,y=j,j=t.decodeCode(a,x,m),l[d++]=j,j!==t.CODE_STOP&&(w=!0),j!==t.CODE_STOP&&(S++,b+=S*j),g=m,m+=x.reduce(function(we,R){return we+R},0),j){case t.CODE_START_A:case t.CODE_START_B:case t.CODE_START_C:throw new xn}switch(u){case t.CODE_CODE_A:if(j<64)I===E?A+=String.fromCharCode(32+j):A+=String.fromCharCode(32+j+128),I=!1;else if(j<96)I===E?A+=String.fromCharCode(j-64):A+=String.fromCharCode(j+64),I=!1;else switch(j!==t.CODE_STOP&&(w=!1),j){case t.CODE_FNC_1:i&&(A.length===0?A+="]C1":A+="");break;case t.CODE_FNC_2:case t.CODE_FNC_3:break;case t.CODE_FNC_4_A:!E&&I?(E=!0,I=!1):E&&I?(E=!1,I=!1):I=!0;break;case t.CODE_SHIFT:f=!0,u=t.CODE_CODE_B;break;case t.CODE_CODE_B:u=t.CODE_CODE_B;break;case t.CODE_CODE_C:u=t.CODE_CODE_C;break;case t.CODE_STOP:h=!0;break}break;case t.CODE_CODE_B:if(j<96)I===E?A+=String.fromCharCode(32+j):A+=String.fromCharCode(32+j+128),I=!1;else switch(j!==t.CODE_STOP&&(w=!1),j){case t.CODE_FNC_1:i&&(A.length===0?A+="]C1":A+="");break;case t.CODE_FNC_2:case t.CODE_FNC_3:break;case t.CODE_FNC_4_B:!E&&I?(E=!0,I=!1):E&&I?(E=!1,I=!1):I=!0;break;case t.CODE_SHIFT:f=!0,u=t.CODE_CODE_A;break;case t.CODE_CODE_A:u=t.CODE_CODE_A;break;case t.CODE_CODE_C:u=t.CODE_CODE_C;break;case t.CODE_STOP:h=!0;break}break;case t.CODE_CODE_C:if(j<100)j<10&&(A+="0"),A+=j;else switch(j!==t.CODE_STOP&&(w=!1),j){case t.CODE_FNC_1:i&&(A.length===0?A+="]C1":A+="");break;case t.CODE_CODE_A:u=t.CODE_CODE_A;break;case t.CODE_CODE_B:u=t.CODE_CODE_B;break;case t.CODE_STOP:h=!0;break}break}L&&(u=u===t.CODE_CODE_A?t.CODE_CODE_B:t.CODE_CODE_A)}var J=m-g;if(m=a.getNextUnset(m),!a.isRange(m,Math.min(a.getSize(),m+(m-g)/2),!1))throw new Tr;if(b-=S*y,b%103!==y)throw new kl;var ae=A.length;if(ae===0)throw new Tr;ae>0&&w&&(u===t.CODE_CODE_C?A=A.substring(0,ae-2):A=A.substring(0,ae-1));for(var G=(c[1]+c[0])/2,le=g+J/2,V=l.length,me=new Uint8Array(V),$=0;$<V;$++)me[$]=l[$];var ee=[new na(G,n),new na(le,n)];return new ad(A,me,0,ee,Ia.CODE_128,new Date().getTime())},t.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],t.MAX_AVG_VARIANCE=.25,t.MAX_INDIVIDUAL_VARIANCE=.7,t.CODE_SHIFT=98,t.CODE_CODE_C=99,t.CODE_CODE_B=100,t.CODE_CODE_A=101,t.CODE_FNC_1=102,t.CODE_FNC_2=97,t.CODE_FNC_3=96,t.CODE_FNC_4_A=101,t.CODE_FNC_4_B=100,t.CODE_START_A=103,t.CODE_START_B=104,t.CODE_START_C=105,t.CODE_STOP=106,t})(ec),Die=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),gC=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Lk=(function(r){Die(t,r);function t(n,a){n===void 0&&(n=!1),a===void 0&&(a=!1);var s=r.call(this)||this;return s.usingCheckDigit=n,s.extendedMode=a,s.decodeRowResult="",s.counters=new Int32Array(9),s}return t.prototype.decodeRow=function(n,a,s){var i,c,o,d,l=this.counters;l.fill(0),this.decodeRowResult="";var u=t.findAsteriskPattern(a,l),h=a.getNextSet(u[1]),f=a.getSize(),A,g;do{t.recordPattern(a,h,l);var m=t.toNarrowWidePattern(l);if(m<0)throw new Tr;A=t.patternToChar(m),this.decodeRowResult+=A,g=h;try{for(var x=(i=void 0,gC(l)),y=x.next();!y.done;y=x.next()){var j=y.value;h+=j}}catch(V){i={error:V}}finally{try{y&&!y.done&&(c=x.return)&&c.call(x)}finally{if(i)throw i.error}}h=a.getNextSet(h)}while(A!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var b=0;try{for(var S=gC(l),w=S.next();!w.done;w=S.next()){var j=w.value;b+=j}}catch(V){o={error:V}}finally{try{w&&!w.done&&(d=S.return)&&d.call(S)}finally{if(o)throw o.error}}var E=h-g-b;if(h!==f&&E*2<b)throw new Tr;if(this.usingCheckDigit){for(var I=this.decodeRowResult.length-1,L=0,J=0;J<I;J++)L+=t.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(J));if(this.decodeRowResult.charAt(I)!==t.ALPHABET_STRING.charAt(L%43))throw new kl;this.decodeRowResult=this.decodeRowResult.substring(0,I)}if(this.decodeRowResult.length===0)throw new Tr;var ae;this.extendedMode?ae=t.decodeExtended(this.decodeRowResult):ae=this.decodeRowResult;var G=(u[1]+u[0])/2,le=g+b/2;return new ad(ae,null,0,[new na(G,n),new na(le,n)],Ia.CODE_39,new Date().getTime())},t.findAsteriskPattern=function(n,a){for(var s=n.getSize(),i=n.getNextSet(0),c=0,o=i,d=!1,l=a.length,u=i;u<s;u++)if(n.get(u)!==d)a[c]++;else{if(c===l-1){if(this.toNarrowWidePattern(a)===t.ASTERISK_ENCODING&&n.isRange(Math.max(0,o-Math.floor((u-o)/2)),o,!1))return[o,u];o+=a[0]+a[1],a.copyWithin(0,2,2+c-1),a[c-1]=0,a[c]=0,c--}else c++;a[c]=1,d=!d}throw new Tr},t.toNarrowWidePattern=function(n){var a,s,i=n.length,c=0,o;do{var d=2147483647;try{for(var l=(a=void 0,gC(n)),u=l.next();!u.done;u=l.next()){var h=u.value;h<d&&h>c&&(d=h)}}catch(m){a={error:m}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}c=d,o=0;for(var f=0,A=0,g=0;g<i;g++){var h=n[g];h>c&&(A|=1<<i-1-g,o++,f+=h)}if(o===3){for(var g=0;g<i&&o>0;g++){var h=n[g];if(h>c&&(o--,h*2>=f))return-1}return A}}while(o>3);return-1},t.patternToChar=function(n){for(var a=0;a<t.CHARACTER_ENCODINGS.length;a++)if(t.CHARACTER_ENCODINGS[a]===n)return t.ALPHABET_STRING.charAt(a);if(n===t.ASTERISK_ENCODING)return"*";throw new Tr},t.decodeExtended=function(n){for(var a=n.length,s="",i=0;i<a;i++){var c=n.charAt(i);if(c==="+"||c==="$"||c==="%"||c==="/"){var o=n.charAt(i+1),d="\0";switch(c){case"+":if(o>="A"&&o<="Z")d=String.fromCharCode(o.charCodeAt(0)+32);else throw new xn;break;case"$":if(o>="A"&&o<="Z")d=String.fromCharCode(o.charCodeAt(0)-64);else throw new xn;break;case"%":if(o>="A"&&o<="E")d=String.fromCharCode(o.charCodeAt(0)-38);else if(o>="F"&&o<="J")d=String.fromCharCode(o.charCodeAt(0)-11);else if(o>="K"&&o<="O")d=String.fromCharCode(o.charCodeAt(0)+16);else if(o>="P"&&o<="T")d=String.fromCharCode(o.charCodeAt(0)+43);else if(o==="U")d="\0";else if(o==="V")d="@";else if(o==="W")d="`";else if(o==="X"||o==="Y"||o==="Z")d="";else throw new xn;break;case"/":if(o>="A"&&o<="O")d=String.fromCharCode(o.charCodeAt(0)-32);else if(o==="Z")d=":";else throw new xn;break}s+=d,i++}else s+=c}return s},t.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",t.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],t.ASTERISK_ENCODING=148,t})(ec),Mie=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),vC=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Uk=(function(r){Mie(t,r);function t(){var n=r.call(this)||this;return n.decodeRowResult="",n.counters=new Int32Array(6),n}return t.prototype.decodeRow=function(n,a,s){var i,c,o,d,l=this.findAsteriskPattern(a),u=a.getNextSet(l[1]),h=a.getSize(),f=this.counters;f.fill(0),this.decodeRowResult="";var A,g;do{t.recordPattern(a,u,f);var m=this.toPattern(f);if(m<0)throw new Tr;A=this.patternToChar(m),this.decodeRowResult+=A,g=u;try{for(var x=(i=void 0,vC(f)),y=x.next();!y.done;y=x.next()){var j=y.value;u+=j}}catch(J){i={error:J}}finally{try{y&&!y.done&&(c=x.return)&&c.call(x)}finally{if(i)throw i.error}}u=a.getNextSet(u)}while(A!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var b=0;try{for(var S=vC(f),w=S.next();!w.done;w=S.next()){var j=w.value;b+=j}}catch(J){o={error:J}}finally{try{w&&!w.done&&(d=S.return)&&d.call(S)}finally{if(o)throw o.error}}if(u===h||!a.get(u))throw new Tr;if(this.decodeRowResult.length<2)throw new Tr;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var E=this.decodeExtended(this.decodeRowResult),I=(l[1]+l[0])/2,L=g+b/2;return new ad(E,null,0,[new na(I,n),new na(L,n)],Ia.CODE_93,new Date().getTime())},t.prototype.findAsteriskPattern=function(n){var a=n.getSize(),s=n.getNextSet(0);this.counters.fill(0);for(var i=this.counters,c=s,o=!1,d=i.length,l=0,u=s;u<a;u++)if(n.get(u)!==o)i[l]++;else{if(l===d-1){if(this.toPattern(i)===t.ASTERISK_ENCODING)return new Int32Array([c,u]);c+=i[0]+i[1],i.copyWithin(0,2,2+l-1),i[l-1]=0,i[l]=0,l--}else l++;i[l]=1,o=!o}throw new Tr},t.prototype.toPattern=function(n){var a,s,i=0;try{for(var c=vC(n),o=c.next();!o.done;o=c.next()){var d=o.value;i+=d}}catch(g){a={error:g}}finally{try{o&&!o.done&&(s=c.return)&&s.call(c)}finally{if(a)throw a.error}}for(var l=0,u=n.length,h=0;h<u;h++){var f=Math.round(n[h]*9/i);if(f<1||f>4)return-1;if((h&1)===0)for(var A=0;A<f;A++)l=l<<1|1;else l<<=f}return l},t.prototype.patternToChar=function(n){for(var a=0;a<t.CHARACTER_ENCODINGS.length;a++)if(t.CHARACTER_ENCODINGS[a]===n)return t.ALPHABET_STRING.charAt(a);throw new Tr},t.prototype.decodeExtended=function(n){for(var a=n.length,s="",i=0;i<a;i++){var c=n.charAt(i);if(c>="a"&&c<="d"){if(i>=a-1)throw new xn;var o=n.charAt(i+1),d="\0";switch(c){case"d":if(o>="A"&&o<="Z")d=String.fromCharCode(o.charCodeAt(0)+32);else throw new xn;break;case"a":if(o>="A"&&o<="Z")d=String.fromCharCode(o.charCodeAt(0)-64);else throw new xn;break;case"b":if(o>="A"&&o<="E")d=String.fromCharCode(o.charCodeAt(0)-38);else if(o>="F"&&o<="J")d=String.fromCharCode(o.charCodeAt(0)-11);else if(o>="K"&&o<="O")d=String.fromCharCode(o.charCodeAt(0)+16);else if(o>="P"&&o<="T")d=String.fromCharCode(o.charCodeAt(0)+43);else if(o==="U")d="\0";else if(o==="V")d="@";else if(o==="W")d="`";else if(o>="X"&&o<="Z")d="";else throw new xn;break;case"c":if(o>="A"&&o<="O")d=String.fromCharCode(o.charCodeAt(0)-32);else if(o==="Z")d=":";else throw new xn;break}s+=d,i++}else s+=c}return s},t.prototype.checkChecksums=function(n){var a=n.length;this.checkOneChecksum(n,a-2,20),this.checkOneChecksum(n,a-1,15)},t.prototype.checkOneChecksum=function(n,a,s){for(var i=1,c=0,o=a-1;o>=0;o--)c+=i*t.ALPHABET_STRING.indexOf(n.charAt(o)),++i>s&&(i=1);if(n.charAt(a)!==t.ALPHABET_STRING[c%47])throw new kl},t.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",t.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],t.ASTERISK_ENCODING=t.CHARACTER_ENCODINGS[47],t})(ec),Rie=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Lie=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Hk=(function(r){Rie(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.narrowLineWidth=-1,n}return t.prototype.decodeRow=function(n,a,s){var i,c,o=this.decodeStart(a),d=this.decodeEnd(a),l=new Bs;t.decodeMiddle(a,o[1],d[0],l);var u=l.toString(),h=null;s!=null&&(h=s.get(co.ALLOWED_LENGTHS)),h==null&&(h=t.DEFAULT_ALLOWED_LENGTHS);var f=u.length,A=!1,g=0;try{for(var m=Lie(h),x=m.next();!x.done;x=m.next()){var y=x.value;if(f===y){A=!0;break}y>g&&(g=y)}}catch(S){i={error:S}}finally{try{x&&!x.done&&(c=m.return)&&c.call(m)}finally{if(i)throw i.error}}if(!A&&f>g&&(A=!0),!A)throw new xn;var j=[new na(o[1],n),new na(d[0],n)],b=new ad(u,null,0,j,Ia.ITF,new Date().getTime());return b},t.decodeMiddle=function(n,a,s,i){var c=new Int32Array(10),o=new Int32Array(5),d=new Int32Array(5);for(c.fill(0),o.fill(0),d.fill(0);a<s;){ec.recordPattern(n,a,c);for(var l=0;l<5;l++){var u=2*l;o[l]=c[u],d[l]=c[u+1]}var h=t.decodeDigit(o);i.append(h.toString()),h=this.decodeDigit(d),i.append(h.toString()),c.forEach(function(f){a+=f})}},t.prototype.decodeStart=function(n){var a=t.skipWhiteSpace(n),s=t.findGuardPattern(n,a,t.START_PATTERN);return this.narrowLineWidth=(s[1]-s[0])/4,this.validateQuietZone(n,s[0]),s},t.prototype.validateQuietZone=function(n,a){var s=this.narrowLineWidth*10;s=s<a?s:a;for(var i=a-1;s>0&&i>=0&&!n.get(i);i--)s--;if(s!==0)throw new Tr},t.skipWhiteSpace=function(n){var a=n.getSize(),s=n.getNextSet(0);if(s===a)throw new Tr;return s},t.prototype.decodeEnd=function(n){n.reverse();try{var a=t.skipWhiteSpace(n),s=void 0;try{s=t.findGuardPattern(n,a,t.END_PATTERN_REVERSED[0])}catch(c){c instanceof Tr&&(s=t.findGuardPattern(n,a,t.END_PATTERN_REVERSED[1]))}this.validateQuietZone(n,s[0]);var i=s[0];return s[0]=n.getSize()-s[1],s[1]=n.getSize()-i,s}finally{n.reverse()}},t.findGuardPattern=function(n,a,s){var i=s.length,c=new Int32Array(i),o=n.getSize(),d=!1,l=0,u=a;c.fill(0);for(var h=a;h<o;h++)if(n.get(h)!==d)c[l]++;else{if(l===i-1){if(ec.patternMatchVariance(c,s,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return[u,h];u+=c[0]+c[1],lo.arraycopy(c,2,c,0,l-1),c[l-1]=0,c[l]=0,l--}else l++;c[l]=1,d=!d}throw new Tr},t.decodeDigit=function(n){for(var a=t.MAX_AVG_VARIANCE,s=-1,i=t.PATTERNS.length,c=0;c<i;c++){var o=t.PATTERNS[c],d=ec.patternMatchVariance(n,o,t.MAX_INDIVIDUAL_VARIANCE);d<a?(a=d,s=c):d===a&&(s=-1)}if(s>=0)return s%10;throw new Tr},t.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],t.MAX_AVG_VARIANCE=.38,t.MAX_INDIVIDUAL_VARIANCE=.5,t.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],t.START_PATTERN=Int32Array.from([1,1,1,1]),t.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],t})(ec),Uie=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Bm=(function(r){Uie(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.decodeRowStringBuffer="",n}return t.findStartGuardPattern=function(n){for(var a=!1,s,i=0,c=Int32Array.from([0,0,0]);!a;){c=Int32Array.from([0,0,0]),s=t.findGuardPattern(n,i,!1,this.START_END_PATTERN,c);var o=s[0];i=s[1];var d=o-(i-o);d>=0&&(a=n.isRange(d,o,!1))}return s},t.checkChecksum=function(n){return t.checkStandardUPCEANChecksum(n)},t.checkStandardUPCEANChecksum=function(n){var a=n.length;if(a===0)return!1;var s=parseInt(n.charAt(a-1),10);return t.getStandardUPCEANChecksum(n.substring(0,a-1))===s},t.getStandardUPCEANChecksum=function(n){for(var a=n.length,s=0,i=a-1;i>=0;i-=2){var c=n.charAt(i).charCodeAt(0)-48;if(c<0||c>9)throw new xn;s+=c}s*=3;for(var i=a-2;i>=0;i-=2){var c=n.charAt(i).charCodeAt(0)-48;if(c<0||c>9)throw new xn;s+=c}return(1e3-s)%10},t.decodeEnd=function(n,a){return t.findGuardPattern(n,a,!1,t.START_END_PATTERN,new Int32Array(t.START_END_PATTERN.length).fill(0))},t.findGuardPatternWithoutCounters=function(n,a,s,i){return this.findGuardPattern(n,a,s,i,new Int32Array(i.length))},t.findGuardPattern=function(n,a,s,i,c){var o=n.getSize();a=s?n.getNextUnset(a):n.getNextSet(a);for(var d=0,l=a,u=i.length,h=s,f=a;f<o;f++)if(n.get(f)!==h)c[d]++;else{if(d===u-1){if(ec.patternMatchVariance(c,i,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return Int32Array.from([l,f]);l+=c[0]+c[1];for(var A=c.slice(2,c.length),g=0;g<d-1;g++)c[g]=A[g];c[d-1]=0,c[d]=0,d--}else d++;c[d]=1,h=!h}throw new Tr},t.decodeDigit=function(n,a,s,i){this.recordPattern(n,s,a);for(var c=this.MAX_AVG_VARIANCE,o=-1,d=i.length,l=0;l<d;l++){var u=i[l],h=ec.patternMatchVariance(a,u,t.MAX_INDIVIDUAL_VARIANCE);h<c&&(c=h,o=l)}if(o>=0)return o;throw new Tr},t.MAX_AVG_VARIANCE=.48,t.MAX_INDIVIDUAL_VARIANCE=.7,t.START_END_PATTERN=Int32Array.from([1,1,1]),t.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),t.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),t.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],t})(ec),Hie=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Qie=(function(){function r(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return r.prototype.decodeRow=function(t,n,a){var s=this.decodeRowStringBuffer,i=this.decodeMiddle(n,a,s),c=s.toString(),o=r.parseExtensionString(c),d=[new na((a[0]+a[1])/2,t),new na(i,t)],l=new ad(c,null,0,d,Ia.UPC_EAN_EXTENSION,new Date().getTime());return o!=null&&l.putAllMetadata(o),l},r.prototype.decodeMiddle=function(t,n,a){var s,i,c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;for(var o=t.getSize(),d=n[1],l=0,u=0;u<5&&d<o;u++){var h=Bm.decodeDigit(t,c,d,Bm.L_AND_G_PATTERNS);a+=String.fromCharCode(48+h%10);try{for(var f=(s=void 0,Hie(c)),A=f.next();!A.done;A=f.next()){var g=A.value;d+=g}}catch(x){s={error:x}}finally{try{A&&!A.done&&(i=f.return)&&i.call(f)}finally{if(s)throw s.error}}h>=10&&(l|=1<<4-u),u!==4&&(d=t.getNextSet(d),d=t.getNextUnset(d))}if(a.length!==5)throw new Tr;var m=this.determineCheckDigit(l);if(r.extensionChecksum(a.toString())!==m)throw new Tr;return d},r.extensionChecksum=function(t){for(var n=t.length,a=0,s=n-2;s>=0;s-=2)a+=t.charAt(s).charCodeAt(0)-48;a*=3;for(var s=n-1;s>=0;s-=2)a+=t.charAt(s).charCodeAt(0)-48;return a*=3,a%10},r.prototype.determineCheckDigit=function(t){for(var n=0;n<10;n++)if(t===this.CHECK_DIGIT_ENCODINGS[n])return n;throw new Tr},r.parseExtensionString=function(t){if(t.length!==5)return null;var n=r.parseExtension5String(t);return n==null?null:new Map([[Qc.SUGGESTED_PRICE,n]])},r.parseExtension5String=function(t){var n;switch(t.charAt(0)){case"0":n="";break;case"5":n="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}n="";break;default:n="";break}var a=parseInt(t.substring(1)),s=(a/100).toString(),i=a%100,c=i<10?"0"+i:i.toString();return n+s+"."+c},r})(),Wie=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},$ie=(function(){function r(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return r.prototype.decodeRow=function(t,n,a){var s=this.decodeRowStringBuffer,i=this.decodeMiddle(n,a,s),c=s.toString(),o=r.parseExtensionString(c),d=[new na((a[0]+a[1])/2,t),new na(i,t)],l=new ad(c,null,0,d,Ia.UPC_EAN_EXTENSION,new Date().getTime());return o!=null&&l.putAllMetadata(o),l},r.prototype.decodeMiddle=function(t,n,a){var s,i,c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;for(var o=t.getSize(),d=n[1],l=0,u=0;u<2&&d<o;u++){var h=Bm.decodeDigit(t,c,d,Bm.L_AND_G_PATTERNS);a+=String.fromCharCode(48+h%10);try{for(var f=(s=void 0,Wie(c)),A=f.next();!A.done;A=f.next()){var g=A.value;d+=g}}catch(m){s={error:m}}finally{try{A&&!A.done&&(i=f.return)&&i.call(f)}finally{if(s)throw s.error}}h>=10&&(l|=1<<1-u),u!==1&&(d=t.getNextSet(d),d=t.getNextUnset(d))}if(a.length!==2)throw new Tr;if(parseInt(a.toString())%4!==l)throw new Tr;return d},r.parseExtensionString=function(t){return t.length!==2?null:new Map([[Qc.ISSUE_NUMBER,parseInt(t)]])},r})(),Vie=(function(){function r(){}return r.decodeRow=function(t,n,a){var s=Bm.findGuardPattern(n,a,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var i=new Qie;return i.decodeRow(t,n,s)}catch{var c=new $ie;return c.decodeRow(t,n,s)}},r.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),r})(),zie=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),ql=(function(r){zie(t,r);function t(){var n=r.call(this)||this;n.decodeRowStringBuffer="",t.L_AND_G_PATTERNS=t.L_PATTERNS.map(function(o){return Int32Array.from(o)});for(var a=10;a<20;a++){for(var s=t.L_PATTERNS[a-10],i=new Int32Array(s.length),c=0;c<s.length;c++)i[c]=s[s.length-c-1];t.L_AND_G_PATTERNS[a]=i}return n}return t.prototype.decodeRow=function(n,a,s){var i=t.findStartGuardPattern(a),c=s==null?null:s.get(co.NEED_RESULT_POINT_CALLBACK);if(c!=null){var o=new na((i[0]+i[1])/2,n);c.foundPossibleResultPoint(o)}var d=this.decodeMiddle(a,i,this.decodeRowStringBuffer),l=d.rowOffset,u=d.resultString;if(c!=null){var h=new na(l,n);c.foundPossibleResultPoint(h)}var f=t.decodeEnd(a,l);if(c!=null){var A=new na((f[0]+f[1])/2,n);c.foundPossibleResultPoint(A)}var g=f[1],m=g+(g-f[0]);if(m>=a.getSize()||!a.isRange(g,m,!1))throw new Tr;var x=u.toString();if(x.length<8)throw new xn;if(!t.checkChecksum(x))throw new kl;var y=(i[1]+i[0])/2,j=(f[1]+f[0])/2,b=this.getBarcodeFormat(),S=[new na(y,n),new na(j,n)],w=new ad(x,null,0,S,b,new Date().getTime()),E=0;try{var I=Vie.decodeRow(n,a,f[1]);w.putMetadata(Qc.UPC_EAN_EXTENSION,I.getText()),w.putAllMetadata(I.getResultMetadata()),w.addResultPoints(I.getResultPoints()),E=I.getText().length}catch{}var L=s==null?null:s.get(co.ALLOWED_EAN_EXTENSIONS);if(L!=null){var J=!1;for(var ae in L)if(E.toString()===ae){J=!0;break}if(!J)throw new Tr}return b===Ia.EAN_13||Ia.UPC_A,w},t.checkChecksum=function(n){return t.checkStandardUPCEANChecksum(n)},t.checkStandardUPCEANChecksum=function(n){var a=n.length;if(a===0)return!1;var s=parseInt(n.charAt(a-1),10);return t.getStandardUPCEANChecksum(n.substring(0,a-1))===s},t.getStandardUPCEANChecksum=function(n){for(var a=n.length,s=0,i=a-1;i>=0;i-=2){var c=n.charAt(i).charCodeAt(0)-48;if(c<0||c>9)throw new xn;s+=c}s*=3;for(var i=a-2;i>=0;i-=2){var c=n.charAt(i).charCodeAt(0)-48;if(c<0||c>9)throw new xn;s+=c}return(1e3-s)%10},t.decodeEnd=function(n,a){return t.findGuardPattern(n,a,!1,t.START_END_PATTERN,new Int32Array(t.START_END_PATTERN.length).fill(0))},t})(Bm),Kie=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Qk=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i4=(function(r){Kie(t,r);function t(){var n=r.call(this)||this;return n.decodeMiddleCounters=Int32Array.from([0,0,0,0]),n}return t.prototype.decodeMiddle=function(n,a,s){var i,c,o,d,l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var u=n.getSize(),h=a[1],f=0,A=0;A<6&&h<u;A++){var g=ql.decodeDigit(n,l,h,ql.L_AND_G_PATTERNS);s+=String.fromCharCode(48+g%10);try{for(var m=(i=void 0,Qk(l)),x=m.next();!x.done;x=m.next()){var y=x.value;h+=y}}catch(w){i={error:w}}finally{try{x&&!x.done&&(c=m.return)&&c.call(m)}finally{if(i)throw i.error}}g>=10&&(f|=1<<5-A)}s=t.determineFirstDigit(s,f);var j=ql.findGuardPattern(n,h,!0,ql.MIDDLE_PATTERN,new Int32Array(ql.MIDDLE_PATTERN.length).fill(0));h=j[1];for(var A=0;A<6&&h<u;A++){var g=ql.decodeDigit(n,l,h,ql.L_PATTERNS);s+=String.fromCharCode(48+g);try{for(var b=(o=void 0,Qk(l)),S=b.next();!S.done;S=b.next()){var y=S.value;h+=y}}catch(I){o={error:I}}finally{try{S&&!S.done&&(d=b.return)&&d.call(b)}finally{if(o)throw o.error}}}return{rowOffset:h,resultString:s}},t.prototype.getBarcodeFormat=function(){return Ia.EAN_13},t.determineFirstDigit=function(n,a){for(var s=0;s<10;s++)if(a===this.FIRST_DIGIT_ENCODINGS[s])return n=String.fromCharCode(48+s)+n,n;throw new Tr},t.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],t})(ql),Gie=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Wk=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},$k=(function(r){Gie(t,r);function t(){var n=r.call(this)||this;return n.decodeMiddleCounters=Int32Array.from([0,0,0,0]),n}return t.prototype.decodeMiddle=function(n,a,s){var i,c,o,d,l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var u=n.getSize(),h=a[1],f=0;f<4&&h<u;f++){var A=ql.decodeDigit(n,l,h,ql.L_PATTERNS);s+=String.fromCharCode(48+A);try{for(var g=(i=void 0,Wk(l)),m=g.next();!m.done;m=g.next()){var x=m.value;h+=x}}catch(S){i={error:S}}finally{try{m&&!m.done&&(c=g.return)&&c.call(g)}finally{if(i)throw i.error}}}var y=ql.findGuardPattern(n,h,!0,ql.MIDDLE_PATTERN,new Int32Array(ql.MIDDLE_PATTERN.length).fill(0));h=y[1];for(var f=0;f<4&&h<u;f++){var A=ql.decodeDigit(n,l,h,ql.L_PATTERNS);s+=String.fromCharCode(48+A);try{for(var j=(o=void 0,Wk(l)),b=j.next();!b.done;b=j.next()){var x=b.value;h+=x}}catch(E){o={error:E}}finally{try{b&&!b.done&&(d=j.return)&&d.call(j)}finally{if(o)throw o.error}}}return{rowOffset:h,resultString:s}},t.prototype.getBarcodeFormat=function(){return Ia.EAN_8},t})(ql),qie=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Vk=(function(r){qie(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.ean13Reader=new i4,n}return t.prototype.getBarcodeFormat=function(){return Ia.UPC_A},t.prototype.decode=function(n,a){return this.maybeReturnResult(this.ean13Reader.decode(n))},t.prototype.decodeRow=function(n,a,s){return this.maybeReturnResult(this.ean13Reader.decodeRow(n,a,s))},t.prototype.decodeMiddle=function(n,a,s){return this.ean13Reader.decodeMiddle(n,a,s)},t.prototype.maybeReturnResult=function(n){var a=n.getText();if(a.charAt(0)==="0"){var s=new ad(a.substring(1),null,null,n.getResultPoints(),Ia.UPC_A);return n.getResultMetadata()!=null&&s.putAllMetadata(n.getResultMetadata()),s}else throw new Tr},t.prototype.reset=function(){this.ean13Reader.reset()},t})(ql),Xie=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Yie=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},zk=(function(r){Xie(t,r);function t(){var n=r.call(this)||this;return n.decodeMiddleCounters=new Int32Array(4),n}return t.prototype.decodeMiddle=function(n,a,s){var i,c,o=this.decodeMiddleCounters.map(function(x){return x});o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var d=n.getSize(),l=a[1],u=0,h=0;h<6&&l<d;h++){var f=t.decodeDigit(n,o,l,t.L_AND_G_PATTERNS);s+=String.fromCharCode(48+f%10);try{for(var A=(i=void 0,Yie(o)),g=A.next();!g.done;g=A.next()){var m=g.value;l+=m}}catch(x){i={error:x}}finally{try{g&&!g.done&&(c=A.return)&&c.call(A)}finally{if(i)throw i.error}}f>=10&&(u|=1<<5-h)}return t.determineNumSysAndCheckDigit(new Bs(s),u),l},t.prototype.decodeEnd=function(n,a){return t.findGuardPatternWithoutCounters(n,a,!0,t.MIDDLE_END_PATTERN)},t.prototype.checkChecksum=function(n){return ql.checkChecksum(t.convertUPCEtoUPCA(n))},t.determineNumSysAndCheckDigit=function(n,a){for(var s=0;s<=1;s++)for(var i=0;i<10;i++)if(a===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[s][i]){n.insert(0,"0"+s),n.append("0"+i);return}throw Tr.getNotFoundInstance()},t.prototype.getBarcodeFormat=function(){return Ia.UPC_E},t.convertUPCEtoUPCA=function(n){var a=n.slice(1,7).split("").map(function(c){return c.charCodeAt(0)}),s=new Bs;s.append(n.charAt(0));var i=a[5];switch(i){case 0:case 1:case 2:s.appendChars(a,0,2),s.append(i),s.append("0000"),s.appendChars(a,2,3);break;case 3:s.appendChars(a,0,3),s.append("00000"),s.appendChars(a,3,2);break;case 4:s.appendChars(a,0,4),s.append("00000"),s.append(a[4]);break;default:s.appendChars(a,0,5),s.append("0000"),s.append(i);break}return n.length>=8&&s.append(n.charAt(7)),s.toString()},t.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),t.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],t})(ql),Jie=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Kk=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},xC=(function(r){Jie(t,r);function t(n){var a=r.call(this)||this,s=n==null?null:n.get(co.POSSIBLE_FORMATS),i=[];return s!=null&&(s.indexOf(Ia.EAN_13)>-1&&i.push(new i4),s.indexOf(Ia.UPC_A)>-1&&i.push(new Vk),s.indexOf(Ia.EAN_8)>-1&&i.push(new $k),s.indexOf(Ia.UPC_E)>-1&&i.push(new zk)),i.length===0&&(i.push(new i4),i.push(new Vk),i.push(new $k),i.push(new zk)),a.readers=i,a}return t.prototype.decodeRow=function(n,a,s){var i,c;try{for(var o=Kk(this.readers),d=o.next();!d.done;d=o.next()){var l=d.value;try{var u=l.decodeRow(n,a,s),h=u.getBarcodeFormat()===Ia.EAN_13&&u.getText().charAt(0)==="0",f=s==null?null:s.get(co.POSSIBLE_FORMATS),A=f==null||f.includes(Ia.UPC_A);if(h&&A){var g=u.getRawBytes(),m=new ad(u.getText().substring(1),g,g?g.length:null,u.getResultPoints(),Ia.UPC_A);return m.putAllMetadata(u.getResultMetadata()),m}return u}catch{}}}catch(x){i={error:x}}finally{try{d&&!d.done&&(c=o.return)&&c.call(o)}finally{if(i)throw i.error}}throw new Tr},t.prototype.reset=function(){var n,a;try{for(var s=Kk(this.readers),i=s.next();!i.done;i=s.next()){var c=i.value;c.reset()}}catch(o){n={error:o}}finally{try{i&&!i.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}},t})(ec),Zie=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),eoe=(function(r){Zie(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},n}return t.prototype.decodeRow=function(n,a,s){var i=this.getValidRowData(a);if(!i)throw new Tr;var c=this.codaBarDecodeRow(i.row);if(!c)throw new Tr;return new ad(c,null,0,[new na(i.left,n),new na(i.right,n)],Ia.CODABAR,new Date().getTime())},t.prototype.getValidRowData=function(n){var a=n.toArray(),s=a.indexOf(!0);if(s===-1)return null;var i=a.lastIndexOf(!0);if(i<=s)return null;a=a.slice(s,i+1);for(var c=[],o=a[0],d=1,l=1;l<a.length;l++)a[l]===o?d++:(o=a[l],c.push(d),d=1);return c.push(d),c.length<23&&(c.length+1)%8!==0?null:{row:c,left:s,right:i}},t.prototype.codaBarDecodeRow=function(n){for(var a=[],s=Math.ceil(n.reduce(function(d,l){return(d+l)/2},0));n.length>0;){var i=n.splice(0,8).splice(0,7),c=i.map(function(d){return d<s?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[c]===void 0)return null;a.push(this.CODA_BAR_CHAR_SET[c])}var o=a.join("");return this.validCodaBarString(o)?o:null},t.prototype.validCodaBarString=function(n){var a=/^[A-D].{1,}[A-D]$/;return a.test(n)},t})(ec),toe=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),roe=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},qA=(function(r){toe(t,r);function t(){var n=r.call(this)||this;return n.decodeFinderCounters=new Int32Array(4),n.dataCharacterCounters=new Int32Array(8),n.oddRoundingErrors=new Array(4),n.evenRoundingErrors=new Array(4),n.oddCounts=new Array(n.dataCharacterCounters.length/2),n.evenCounts=new Array(n.dataCharacterCounters.length/2),n}return t.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},t.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},t.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},t.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},t.prototype.getOddCounts=function(){return this.oddCounts},t.prototype.getEvenCounts=function(){return this.evenCounts},t.prototype.parseFinderValue=function(n,a){for(var s=0;s<a.length;s++)if(ec.patternMatchVariance(n,a[s],t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return s;throw new Tr},t.count=function(n){return ui.sum(new Int32Array(n))},t.increment=function(n,a){for(var s=0,i=a[0],c=1;c<n.length;c++)a[c]>i&&(i=a[c],s=c);n[s]++},t.decrement=function(n,a){for(var s=0,i=a[0],c=1;c<n.length;c++)a[c]<i&&(i=a[c],s=c);n[s]--},t.isFinderPattern=function(n){var a,s,i=n[0]+n[1],c=i+n[2]+n[3],o=i/c;if(o>=t.MIN_FINDER_PATTERN_RATIO&&o<=t.MAX_FINDER_PATTERN_RATIO){var d=Number.MAX_SAFE_INTEGER,l=Number.MIN_SAFE_INTEGER;try{for(var u=roe(n),h=u.next();!h.done;h=u.next()){var f=h.value;f>l&&(l=f),f<d&&(d=f)}}catch(A){a={error:A}}finally{try{h&&!h.done&&(s=u.return)&&s.call(u)}finally{if(a)throw a.error}}return l<10*d}return!1},t.MAX_AVG_VARIANCE=.2,t.MAX_INDIVIDUAL_VARIANCE=.45,t.MIN_FINDER_PATTERN_RATIO=9.5/12,t.MAX_FINDER_PATTERN_RATIO=12.5/14,t})(ec),Px=(function(){function r(t,n){this.value=t,this.checksumPortion=n}return r.prototype.getValue=function(){return this.value},r.prototype.getChecksumPortion=function(){return this.checksumPortion},r.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},r.prototype.equals=function(t){if(!(t instanceof r))return!1;var n=t;return this.value===n.value&&this.checksumPortion===n.checksumPortion},r.prototype.hashCode=function(){return this.value^this.checksumPortion},r})(),jD=(function(){function r(t,n,a,s,i){this.value=t,this.startEnd=n,this.value=t,this.startEnd=n,this.resultPoints=new Array,this.resultPoints.push(new na(a,i)),this.resultPoints.push(new na(s,i))}return r.prototype.getValue=function(){return this.value},r.prototype.getStartEnd=function(){return this.startEnd},r.prototype.getResultPoints=function(){return this.resultPoints},r.prototype.equals=function(t){if(!(t instanceof r))return!1;var n=t;return this.value===n.value},r.prototype.hashCode=function(){return this.value},r})(),noe=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Gp=(function(){function r(){}return r.getRSSvalue=function(t,n,a){var s,i,c=0;try{for(var o=noe(t),d=o.next();!d.done;d=o.next()){var l=d.value;c+=l}}catch(j){s={error:j}}finally{try{d&&!d.done&&(i=o.return)&&i.call(o)}finally{if(s)throw s.error}}for(var u=0,h=0,f=t.length,A=0;A<f-1;A++){var g=void 0;for(g=1,h|=1<<A;g<t[A];g++,h&=~(1<<A)){var m=r.combins(c-g-1,f-A-2);if(a&&h===0&&c-g-(f-A-1)>=f-A-1&&(m-=r.combins(c-g-(f-A),f-A-2)),f-A-1>1){for(var x=0,y=c-g-(f-A-2);y>n;y--)x+=r.combins(c-g-y-1,f-A-3);m-=x*(f-1-A)}else c-g>n&&m--;u+=m}c-=g}return u},r.combins=function(t,n){var a,s;t-n>n?(s=n,a=t-n):(s=t-n,a=n);for(var i=1,c=1,o=t;o>a;o--)i*=o,c<=s&&(i/=c,c++);for(;c<=s;)i/=c,c++;return i},r})(),aoe=(function(){function r(){}return r.buildBitArray=function(t){var n=t.length*2-1;t[t.length-1].getRightChar()==null&&(n-=1);for(var a=12*n,s=new Nc(a),i=0,c=t[0],o=c.getRightChar().getValue(),d=11;d>=0;--d)(o&1<<d)!==0&&s.set(i),i++;for(var d=1;d<t.length;++d){for(var l=t[d],u=l.getLeftChar().getValue(),h=11;h>=0;--h)(u&1<<h)!==0&&s.set(i),i++;if(l.getRightChar()!==null)for(var f=l.getRightChar().getValue(),h=11;h>=0;--h)(f&1<<h)!==0&&s.set(i),i++}return s},r})(),VA=(function(){function r(t,n){n?this.decodedInformation=null:(this.finished=t,this.decodedInformation=n)}return r.prototype.getDecodedInformation=function(){return this.decodedInformation},r.prototype.isFinished=function(){return this.finished},r})(),IS=(function(){function r(t){this.newPosition=t}return r.prototype.getNewPosition=function(){return this.newPosition},r})(),soe=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),ch=(function(r){soe(t,r);function t(n,a){var s=r.call(this,n)||this;return s.value=a,s}return t.prototype.getValue=function(){return this.value},t.prototype.isFNC1=function(){return this.value===t.FNC1},t.FNC1="$",t})(IS),ioe=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),zA=(function(r){ioe(t,r);function t(n,a,s){var i=r.call(this,n)||this;return s?(i.remaining=!0,i.remainingValue=i.remainingValue):(i.remaining=!1,i.remainingValue=0),i.newString=a,i}return t.prototype.getNewString=function(){return this.newString},t.prototype.isRemaining=function(){return this.remaining},t.prototype.getRemainingValue=function(){return this.remainingValue},t})(IS),ooe=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Up=(function(r){ooe(t,r);function t(n,a,s){var i=r.call(this,n)||this;if(a<0||a>10||s<0||s>10)throw new xn;return i.firstDigit=a,i.secondDigit=s,i}return t.prototype.getFirstDigit=function(){return this.firstDigit},t.prototype.getSecondDigit=function(){return this.secondDigit},t.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},t.prototype.isFirstDigitFNC1=function(){return this.firstDigit===t.FNC1},t.prototype.isSecondDigitFNC1=function(){return this.secondDigit===t.FNC1},t.prototype.isAnyFNC1=function(){return this.firstDigit===t.FNC1||this.secondDigit===t.FNC1},t.FNC1=10,t})(IS),jv=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},loe=(function(){function r(){}return r.parseFieldsInGeneralPurpose=function(t){var n,a,s,i,c,o,d,l;if(!t)return null;if(t.length<2)throw new Tr;var u=t.substring(0,2);try{for(var h=jv(r.TWO_DIGIT_DATA_LENGTH),f=h.next();!f.done;f=h.next()){var A=f.value;if(A[0]===u)return A[1]===r.VARIABLE_LENGTH?r.processVariableAI(2,A[2],t):r.processFixedAI(2,A[1],t)}}catch(E){n={error:E}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(n)throw n.error}}if(t.length<3)throw new Tr;var g=t.substring(0,3);try{for(var m=jv(r.THREE_DIGIT_DATA_LENGTH),x=m.next();!x.done;x=m.next()){var A=x.value;if(A[0]===g)return A[1]===r.VARIABLE_LENGTH?r.processVariableAI(3,A[2],t):r.processFixedAI(3,A[1],t)}}catch(E){s={error:E}}finally{try{x&&!x.done&&(i=m.return)&&i.call(m)}finally{if(s)throw s.error}}try{for(var y=jv(r.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),j=y.next();!j.done;j=y.next()){var A=j.value;if(A[0]===g)return A[1]===r.VARIABLE_LENGTH?r.processVariableAI(4,A[2],t):r.processFixedAI(4,A[1],t)}}catch(E){c={error:E}}finally{try{j&&!j.done&&(o=y.return)&&o.call(y)}finally{if(c)throw c.error}}if(t.length<4)throw new Tr;var b=t.substring(0,4);try{for(var S=jv(r.FOUR_DIGIT_DATA_LENGTH),w=S.next();!w.done;w=S.next()){var A=w.value;if(A[0]===b)return A[1]===r.VARIABLE_LENGTH?r.processVariableAI(4,A[2],t):r.processFixedAI(4,A[1],t)}}catch(E){d={error:E}}finally{try{w&&!w.done&&(l=S.return)&&l.call(S)}finally{if(d)throw d.error}}throw new Tr},r.processFixedAI=function(t,n,a){if(a.length<t)throw new Tr;var s=a.substring(0,t);if(a.length<t+n)throw new Tr;var i=a.substring(t,t+n),c=a.substring(t+n),o="("+s+")"+i,d=r.parseFieldsInGeneralPurpose(c);return d==null?o:o+d},r.processVariableAI=function(t,n,a){var s=a.substring(0,t),i;a.length<t+n?i=a.length:i=t+n;var c=a.substring(t,i),o=a.substring(i),d="("+s+")"+c,l=r.parseFieldsInGeneralPurpose(o);return l==null?d:d+l},r.VARIABLE_LENGTH=[],r.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",r.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",r.VARIABLE_LENGTH,20],["22",r.VARIABLE_LENGTH,29],["30",r.VARIABLE_LENGTH,8],["37",r.VARIABLE_LENGTH,8],["90",r.VARIABLE_LENGTH,30],["91",r.VARIABLE_LENGTH,30],["92",r.VARIABLE_LENGTH,30],["93",r.VARIABLE_LENGTH,30],["94",r.VARIABLE_LENGTH,30],["95",r.VARIABLE_LENGTH,30],["96",r.VARIABLE_LENGTH,30],["97",r.VARIABLE_LENGTH,3],["98",r.VARIABLE_LENGTH,30],["99",r.VARIABLE_LENGTH,30]],r.THREE_DIGIT_DATA_LENGTH=[["240",r.VARIABLE_LENGTH,30],["241",r.VARIABLE_LENGTH,30],["242",r.VARIABLE_LENGTH,6],["250",r.VARIABLE_LENGTH,30],["251",r.VARIABLE_LENGTH,30],["253",r.VARIABLE_LENGTH,17],["254",r.VARIABLE_LENGTH,20],["400",r.VARIABLE_LENGTH,30],["401",r.VARIABLE_LENGTH,30],["402",17],["403",r.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",r.VARIABLE_LENGTH,20],["421",r.VARIABLE_LENGTH,15],["422",3],["423",r.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],r.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",r.VARIABLE_LENGTH,15],["391",r.VARIABLE_LENGTH,18],["392",r.VARIABLE_LENGTH,15],["393",r.VARIABLE_LENGTH,18],["703",r.VARIABLE_LENGTH,30]],r.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",r.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",r.VARIABLE_LENGTH,20],["8003",r.VARIABLE_LENGTH,30],["8004",r.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",r.VARIABLE_LENGTH,30],["8008",r.VARIABLE_LENGTH,12],["8018",18],["8020",r.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",r.VARIABLE_LENGTH,70],["8200",r.VARIABLE_LENGTH,70]],r})(),kv=(function(){function r(t){this.buffer=new Bs,this.information=t}return r.prototype.decodeAllCodes=function(t,n){var a=n,s=null;do{var i=this.decodeGeneralPurposeField(a,s),c=loe.parseFieldsInGeneralPurpose(i.getNewString());if(c!=null&&t.append(c),i.isRemaining()?s=""+i.getRemainingValue():s=null,a===i.getNewPosition())break;a=i.getNewPosition()}while(!0);return t.toString()},r.prototype.isStillNumeric=function(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(var n=t;n<t+3;++n)if(this.information.get(n))return!0;return this.information.get(t+3)},r.prototype.decodeNumeric=function(t){if(t+7>this.information.getSize()){var n=this.extractNumericValueFromBitArray(t,4);return n===0?new Up(this.information.getSize(),Up.FNC1,Up.FNC1):new Up(this.information.getSize(),n-1,Up.FNC1)}var a=this.extractNumericValueFromBitArray(t,7),s=(a-8)/11,i=(a-8)%11;return new Up(t+7,s,i)},r.prototype.extractNumericValueFromBitArray=function(t,n){return r.extractNumericValueFromBitArray(this.information,t,n)},r.extractNumericValueFromBitArray=function(t,n,a){for(var s=0,i=0;i<a;++i)t.get(n+i)&&(s|=1<<a-i-1);return s},r.prototype.decodeGeneralPurposeField=function(t,n){this.buffer.setLengthToZero(),n!=null&&this.buffer.append(n),this.current.setPosition(t);var a=this.parseBlocks();return a!=null&&a.isRemaining()?new zA(this.current.getPosition(),this.buffer.toString(),a.getRemainingValue()):new zA(this.current.getPosition(),this.buffer.toString())},r.prototype.parseBlocks=function(){var t,n;do{var a=this.current.getPosition();this.current.isAlpha()?(n=this.parseAlphaBlock(),t=n.isFinished()):this.current.isIsoIec646()?(n=this.parseIsoIec646Block(),t=n.isFinished()):(n=this.parseNumericBlock(),t=n.isFinished());var s=a!==this.current.getPosition();if(!s&&!t)break}while(!t);return n.getDecodedInformation()},r.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){var n=void 0;return t.isSecondDigitFNC1()?n=new zA(this.current.getPosition(),this.buffer.toString()):n=new zA(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new VA(!0,n)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){var n=new zA(this.current.getPosition(),this.buffer.toString());return new VA(!0,n)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new VA(!1)},r.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){var n=new zA(this.current.getPosition(),this.buffer.toString());return new VA(!0,n)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new VA(!1)},r.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){var n=new zA(this.current.getPosition(),this.buffer.toString());return new VA(!0,n)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new VA(!1)},r.prototype.isStillIsoIec646=function(t){if(t+5>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(t,5);if(n>=5&&n<16)return!0;if(t+7>this.information.getSize())return!1;var a=this.extractNumericValueFromBitArray(t,7);if(a>=64&&a<116)return!0;if(t+8>this.information.getSize())return!1;var s=this.extractNumericValueFromBitArray(t,8);return s>=232&&s<253},r.prototype.decodeIsoIec646=function(t){var n=this.extractNumericValueFromBitArray(t,5);if(n===15)return new ch(t+5,ch.FNC1);if(n>=5&&n<15)return new ch(t+5,"0"+(n-5));var a=this.extractNumericValueFromBitArray(t,7);if(a>=64&&a<90)return new ch(t+7,""+(a+1));if(a>=90&&a<116)return new ch(t+7,""+(a+7));var s=this.extractNumericValueFromBitArray(t,8),i;switch(s){case 232:i="!";break;case 233:i='"';break;case 234:i="%";break;case 235:i="&";break;case 236:i="'";break;case 237:i="(";break;case 238:i=")";break;case 239:i="*";break;case 240:i="+";break;case 241:i=",";break;case 242:i="-";break;case 243:i=".";break;case 244:i="/";break;case 245:i=":";break;case 246:i=";";break;case 247:i="<";break;case 248:i="=";break;case 249:i=">";break;case 250:i="?";break;case 251:i="_";break;case 252:i=" ";break;default:throw new xn}return new ch(t+8,i)},r.prototype.isStillAlpha=function(t){if(t+5>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(t,5);if(n>=5&&n<16)return!0;if(t+6>this.information.getSize())return!1;var a=this.extractNumericValueFromBitArray(t,6);return a>=16&&a<63},r.prototype.decodeAlphanumeric=function(t){var n=this.extractNumericValueFromBitArray(t,5);if(n===15)return new ch(t+5,ch.FNC1);if(n>=5&&n<15)return new ch(t+5,"0"+(n-5));var a=this.extractNumericValueFromBitArray(t,6);if(a>=32&&a<58)return new ch(t+6,""+(a+33));var s;switch(a){case 58:s="*";break;case 59:s=",";break;case 60:s="-";break;case 61:s=".";break;case 62:s="/";break;default:throw new i0("Decoding invalid alphanumeric value: "+a)}return new ch(t+6,s)},r.prototype.isAlphaTo646ToAlphaLatch=function(t){if(t+1>this.information.getSize())return!1;for(var n=0;n<5&&n+t<this.information.getSize();++n)if(n===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+n))return!1;return!0},r.prototype.isAlphaOr646ToNumericLatch=function(t){if(t+3>this.information.getSize())return!1;for(var n=t;n<t+3;++n)if(this.information.get(n))return!1;return!0},r.prototype.isNumericToAlphaNumericLatch=function(t){if(t+1>this.information.getSize())return!1;for(var n=0;n<4&&n+t<this.information.getSize();++n)if(this.information.get(t+n))return!1;return!0},r})(),bD=(function(){function r(t){this.information=t,this.generalDecoder=new kv(t)}return r.prototype.getInformation=function(){return this.information},r.prototype.getGeneralDecoder=function(){return this.generalDecoder},r})(),coe=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),fh=(function(r){coe(t,r);function t(n){return r.call(this,n)||this}return t.prototype.encodeCompressedGtin=function(n,a){n.append("(01)");var s=n.length();n.append("9"),this.encodeCompressedGtinWithoutAI(n,a,s)},t.prototype.encodeCompressedGtinWithoutAI=function(n,a,s){for(var i=0;i<4;++i){var c=this.getGeneralDecoder().extractNumericValueFromBitArray(a+10*i,10);c/100===0&&n.append("0"),c/10===0&&n.append("0"),n.append(c)}t.appendCheckDigit(n,s)},t.appendCheckDigit=function(n,a){for(var s=0,i=0;i<13;i++){var c=n.charAt(i+a).charCodeAt(0)-48;s+=(i&1)===0?3*c:c}s=10-s%10,s===10&&(s=0),n.append(s)},t.GTIN_SIZE=40,t})(bD),doe=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),uoe=(function(r){doe(t,r);function t(n){return r.call(this,n)||this}return t.prototype.parseInformation=function(){var n=new Bs;n.append("(01)");var a=n.length(),s=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE,4);return n.append(s),this.encodeCompressedGtinWithoutAI(n,t.HEADER_SIZE+4,a),this.getGeneralDecoder().decodeAllCodes(n,t.HEADER_SIZE+44)},t.HEADER_SIZE=4,t})(fh),hoe=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),foe=(function(r){hoe(t,r);function t(n){return r.call(this,n)||this}return t.prototype.parseInformation=function(){var n=new Bs;return this.getGeneralDecoder().decodeAllCodes(n,t.HEADER_SIZE)},t.HEADER_SIZE=5,t})(bD),Aoe=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),_v=(function(r){Aoe(t,r);function t(n){return r.call(this,n)||this}return t.prototype.encodeCompressedWeight=function(n,a,s){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(a,s);this.addWeightCode(n,i);for(var c=this.checkWeight(i),o=1e5,d=0;d<5;++d)c/o===0&&n.append("0"),o/=10;n.append(c)},t})(fh),poe=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),wD=(function(r){poe(t,r);function t(n){return r.call(this,n)||this}return t.prototype.parseInformation=function(){if(this.getInformation().getSize()!==t.HEADER_SIZE+_v.GTIN_SIZE+t.WEIGHT_SIZE)throw new Tr;var n=new Bs;return this.encodeCompressedGtin(n,t.HEADER_SIZE),this.encodeCompressedWeight(n,t.HEADER_SIZE+_v.GTIN_SIZE,t.WEIGHT_SIZE),n.toString()},t.HEADER_SIZE=5,t.WEIGHT_SIZE=15,t})(_v),moe=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),goe=(function(r){moe(t,r);function t(n){return r.call(this,n)||this}return t.prototype.addWeightCode=function(n,a){n.append("(3103)")},t.prototype.checkWeight=function(n){return n},t})(wD),voe=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),xoe=(function(r){voe(t,r);function t(n){return r.call(this,n)||this}return t.prototype.addWeightCode=function(n,a){a<1e4?n.append("(3202)"):n.append("(3203)")},t.prototype.checkWeight=function(n){return n<1e4?n:n-1e4},t})(wD),yoe=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),joe=(function(r){yoe(t,r);function t(n){return r.call(this,n)||this}return t.prototype.parseInformation=function(){if(this.getInformation().getSize()<t.HEADER_SIZE+fh.GTIN_SIZE)throw new Tr;var n=new Bs;this.encodeCompressedGtin(n,t.HEADER_SIZE);var a=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE+fh.GTIN_SIZE,t.LAST_DIGIT_SIZE);n.append("(392"),n.append(a),n.append(")");var s=this.getGeneralDecoder().decodeGeneralPurposeField(t.HEADER_SIZE+fh.GTIN_SIZE+t.LAST_DIGIT_SIZE,null);return n.append(s.getNewString()),n.toString()},t.HEADER_SIZE=8,t.LAST_DIGIT_SIZE=2,t})(fh),boe=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),woe=(function(r){boe(t,r);function t(n){return r.call(this,n)||this}return t.prototype.parseInformation=function(){if(this.getInformation().getSize()<t.HEADER_SIZE+fh.GTIN_SIZE)throw new Tr;var n=new Bs;this.encodeCompressedGtin(n,t.HEADER_SIZE);var a=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE+fh.GTIN_SIZE,t.LAST_DIGIT_SIZE);n.append("(393"),n.append(a),n.append(")");var s=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE+fh.GTIN_SIZE+t.LAST_DIGIT_SIZE,t.FIRST_THREE_DIGITS_SIZE);s/100===0&&n.append("0"),s/10===0&&n.append("0"),n.append(s);var i=this.getGeneralDecoder().decodeGeneralPurposeField(t.HEADER_SIZE+fh.GTIN_SIZE+t.LAST_DIGIT_SIZE+t.FIRST_THREE_DIGITS_SIZE,null);return n.append(i.getNewString()),n.toString()},t.HEADER_SIZE=8,t.LAST_DIGIT_SIZE=2,t.FIRST_THREE_DIGITS_SIZE=10,t})(fh),Coe=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Jf=(function(r){Coe(t,r);function t(n,a,s){var i=r.call(this,n)||this;return i.dateCode=s,i.firstAIdigits=a,i}return t.prototype.parseInformation=function(){if(this.getInformation().getSize()!==t.HEADER_SIZE+t.GTIN_SIZE+t.WEIGHT_SIZE+t.DATE_SIZE)throw new Tr;var n=new Bs;return this.encodeCompressedGtin(n,t.HEADER_SIZE),this.encodeCompressedWeight(n,t.HEADER_SIZE+t.GTIN_SIZE,t.WEIGHT_SIZE),this.encodeCompressedDate(n,t.HEADER_SIZE+t.GTIN_SIZE+t.WEIGHT_SIZE),n.toString()},t.prototype.encodeCompressedDate=function(n,a){var s=this.getGeneralDecoder().extractNumericValueFromBitArray(a,t.DATE_SIZE);if(s!==38400){n.append("("),n.append(this.dateCode),n.append(")");var i=s%32;s/=32;var c=s%12+1;s/=12;var o=s;o/10===0&&n.append("0"),n.append(o),c/10===0&&n.append("0"),n.append(c),i/10===0&&n.append("0"),n.append(i)}},t.prototype.addWeightCode=function(n,a){n.append("("),n.append(this.firstAIdigits),n.append(a/1e5),n.append(")")},t.prototype.checkWeight=function(n){return n%1e5},t.HEADER_SIZE=8,t.WEIGHT_SIZE=20,t.DATE_SIZE=16,t})(_v);function Noe(r){try{if(r.get(1))return new uoe(r);if(!r.get(2))return new foe(r);var t=kv.extractNumericValueFromBitArray(r,1,4);switch(t){case 4:return new goe(r);case 5:return new xoe(r)}var n=kv.extractNumericValueFromBitArray(r,1,5);switch(n){case 12:return new joe(r);case 13:return new woe(r)}var a=kv.extractNumericValueFromBitArray(r,1,7);switch(a){case 56:return new Jf(r,"310","11");case 57:return new Jf(r,"320","11");case 58:return new Jf(r,"310","13");case 59:return new Jf(r,"320","13");case 60:return new Jf(r,"310","15");case 61:return new Jf(r,"320","15");case 62:return new Jf(r,"310","17");case 63:return new Jf(r,"320","17")}}catch(s){throw console.log(s),new i0("unknown decoder: "+r)}}var Gk=(function(){function r(t,n,a,s){this.leftchar=t,this.rightchar=n,this.finderpattern=a,this.maybeLast=s}return r.prototype.mayBeLast=function(){return this.maybeLast},r.prototype.getLeftChar=function(){return this.leftchar},r.prototype.getRightChar=function(){return this.rightchar},r.prototype.getFinderPattern=function(){return this.finderpattern},r.prototype.mustBeLast=function(){return this.rightchar==null},r.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},r.equals=function(t,n){return t instanceof r?r.equalsOrNull(t.leftchar,n.leftchar)&&r.equalsOrNull(t.rightchar,n.rightchar)&&r.equalsOrNull(t.finderpattern,n.finderpattern):!1},r.equalsOrNull=function(t,n){return t===null?n===null:r.equals(t,n)},r.prototype.hashCode=function(){var t=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return t},r})(),Soe=(function(){function r(t,n,a){this.pairs=t,this.rowNumber=n,this.wasReversed=a}return r.prototype.getPairs=function(){return this.pairs},r.prototype.getRowNumber=function(){return this.rowNumber},r.prototype.isReversed=function(){return this.wasReversed},r.prototype.isEquivalent=function(t){return this.checkEqualitity(this,t)},r.prototype.toString=function(){return"{ "+this.pairs+" }"},r.prototype.equals=function(t,n){return t instanceof r?this.checkEqualitity(t,n)&&t.wasReversed===n.wasReversed:!1},r.prototype.checkEqualitity=function(t,n){if(!(!t||!n)){var a;return t.forEach(function(s,i){n.forEach(function(c){s.getLeftChar().getValue()===c.getLeftChar().getValue()&&s.getRightChar().getValue()===c.getRightChar().getValue()&&s.getFinderPatter().getValue()===c.getFinderPatter().getValue()&&(a=!0)})}),a}},r})(),Eoe=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Zf=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Boe=(function(r){Eoe(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.pairs=new Array(t.MAX_PAIRS),n.rows=new Array,n.startEnd=[2],n}return t.prototype.decodeRow=function(n,a,s){this.pairs.length=0,this.startFromEven=!1;try{return t.constructResult(this.decodeRow2pairs(n,a))}catch{}return this.pairs.length=0,this.startFromEven=!0,t.constructResult(this.decodeRow2pairs(n,a))},t.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},t.prototype.decodeRow2pairs=function(n,a){for(var s=!1;!s;)try{this.pairs.push(this.retrieveNextPair(a,this.pairs,n))}catch(o){if(o instanceof Tr){if(!this.pairs.length)throw new Tr;s=!0}}if(this.checkChecksum())return this.pairs;var i;if(this.rows.length?i=!0:i=!1,this.storeRow(n,!1),i){var c=this.checkRowsBoolean(!1);if(c!=null||(c=this.checkRowsBoolean(!0),c!=null))return c}throw new Tr},t.prototype.checkRowsBoolean=function(n){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,n&&(this.rows=this.rows.reverse());var a=null;try{a=this.checkRows(new Array,0)}catch(s){console.log(s)}return n&&(this.rows=this.rows.reverse()),a},t.prototype.checkRows=function(n,a){for(var s,i,c=a;c<this.rows.length;c++){var o=this.rows[c];this.pairs.length=0;try{for(var d=(s=void 0,Zf(n)),l=d.next();!l.done;l=d.next()){var u=l.value;this.pairs.push(u.getPairs())}}catch(f){s={error:f}}finally{try{l&&!l.done&&(i=d.return)&&i.call(d)}finally{if(s)throw s.error}}if(this.pairs.push(o.getPairs()),!!t.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var h=new Array(n);h.push(o);try{return this.checkRows(h,c+1)}catch(f){console.log(f)}}}throw new Tr},t.isValidSequence=function(n){var a,s;try{for(var i=Zf(t.FINDER_PATTERN_SEQUENCES),c=i.next();!c.done;c=i.next()){var o=c.value;if(!(n.length>o.length)){for(var d=!0,l=0;l<n.length;l++)if(n[l].getFinderPattern().getValue()!==o[l]){d=!1;break}if(d)return!0}}}catch(u){a={error:u}}finally{try{c&&!c.done&&(s=i.return)&&s.call(i)}finally{if(a)throw a.error}}return!1},t.prototype.storeRow=function(n,a){for(var s=0,i=!1,c=!1;s<this.rows.length;){var o=this.rows[s];if(o.getRowNumber()>n){c=o.isEquivalent(this.pairs);break}i=o.isEquivalent(this.pairs),s++}c||i||t.isPartialRow(this.pairs,this.rows)||(this.rows.push(s,new Soe(this.pairs,n,a)),this.removePartialRows(this.pairs,this.rows))},t.prototype.removePartialRows=function(n,a){var s,i,c,o,d,l;try{for(var u=Zf(a),h=u.next();!h.done;h=u.next()){var f=h.value;if(f.getPairs().length!==n.length){var A=!0;try{for(var g=(c=void 0,Zf(f.getPairs())),m=g.next();!m.done;m=g.next()){var x=m.value,y=!1;try{for(var j=(d=void 0,Zf(n)),b=j.next();!b.done;b=j.next()){var S=b.value;if(Gk.equals(x,S)){y=!0;break}}}catch(w){d={error:w}}finally{try{b&&!b.done&&(l=j.return)&&l.call(j)}finally{if(d)throw d.error}}y||(A=!1)}}catch(w){c={error:w}}finally{try{m&&!m.done&&(o=g.return)&&o.call(g)}finally{if(c)throw c.error}}}}}catch(w){s={error:w}}finally{try{h&&!h.done&&(i=u.return)&&i.call(u)}finally{if(s)throw s.error}}},t.isPartialRow=function(n,a){var s,i,c,o,d,l;try{for(var u=Zf(a),h=u.next();!h.done;h=u.next()){var f=h.value,A=!0;try{for(var g=(c=void 0,Zf(n)),m=g.next();!m.done;m=g.next()){var x=m.value,y=!1;try{for(var j=(d=void 0,Zf(f.getPairs())),b=j.next();!b.done;b=j.next()){var S=b.value;if(x.equals(S)){y=!0;break}}}catch(w){d={error:w}}finally{try{b&&!b.done&&(l=j.return)&&l.call(j)}finally{if(d)throw d.error}}if(!y){A=!1;break}}}catch(w){c={error:w}}finally{try{m&&!m.done&&(o=g.return)&&o.call(g)}finally{if(c)throw c.error}}if(A)return!0}}catch(w){s={error:w}}finally{try{h&&!h.done&&(i=u.return)&&i.call(u)}finally{if(s)throw s.error}}return!1},t.prototype.getRows=function(){return this.rows},t.constructResult=function(n){var a=aoe.buildBitArray(n),s=Noe(a),i=s.parseInformation(),c=n[0].getFinderPattern().getResultPoints(),o=n[n.length-1].getFinderPattern().getResultPoints(),d=[c[0],c[1],o[0],o[1]];return new ad(i,null,null,d,Ia.RSS_EXPANDED,null)},t.prototype.checkChecksum=function(){var n=this.pairs.get(0),a=n.getLeftChar(),s=n.getRightChar();if(s===null)return!1;for(var i=s.getChecksumPortion(),c=2,o=1;o<this.pairs.size();++o){var d=this.pairs.get(o);i+=d.getLeftChar().getChecksumPortion(),c++;var l=d.getRightChar();l!=null&&(i+=l.getChecksumPortion(),c++)}i%=211;var u=211*(c-4)+i;return u===a.getValue()},t.getNextSecondBar=function(n,a){var s;return n.get(a)?(s=n.getNextUnset(a),s=n.getNextSet(s)):(s=n.getNextSet(a),s=n.getNextUnset(s)),s},t.prototype.retrieveNextPair=function(n,a,s){var i=a.length%2===0;this.startFromEven&&(i=!i);var c,o=!0,d=-1;do this.findNextPair(n,a,d),c=this.parseFoundFinderPattern(n,s,i),c===null?d=t.getNextSecondBar(n,this.startEnd[0]):o=!1;while(o);var l=this.decodeDataCharacter(n,c,i,!0);if(!this.isEmptyPair(a)&&a[a.length-1].mustBeLast())throw new Tr;var u;try{u=this.decodeDataCharacter(n,c,i,!1)}catch(h){u=null,console.log(h)}return new Gk(l,u,c,!0)},t.prototype.isEmptyPair=function(n){return n.length===0},t.prototype.findNextPair=function(n,a,s){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;var c=n.getSize(),o;if(s>=0)o=s;else if(this.isEmptyPair(a))o=0;else{var d=a[a.length-1];o=d.getFinderPattern().getStartEnd()[1]}var l=a.length%2!==0;this.startFromEven&&(l=!l);for(var u=!1;o<c&&(u=!n.get(o),!!u);)o++;for(var h=0,f=o,A=o;A<c;A++)if(n.get(A)!==u)i[h]++;else{if(h===3){if(l&&t.reverseCounters(i),t.isFinderPattern(i)){this.startEnd[0]=f,this.startEnd[1]=A;return}l&&t.reverseCounters(i),f+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,h--}else h++;i[h]=1,u=!u}throw new Tr},t.reverseCounters=function(n){for(var a=n.length,s=0;s<a/2;++s){var i=n[s];n[s]=n[a-s-1],n[a-s-1]=i}},t.prototype.parseFoundFinderPattern=function(n,a,s){var i,c,o;if(s){for(var d=this.startEnd[0]-1;d>=0&&!n.get(d);)d--;d++,i=this.startEnd[0]-d,c=d,o=this.startEnd[1]}else c=this.startEnd[0],o=n.getNextUnset(this.startEnd[1]+1),i=o-this.startEnd[1];var l=this.getDecodeFinderCounters();lo.arraycopy(l,0,l,1,l.length-1),l[0]=i;var u;try{u=this.parseFinderValue(l,t.FINDER_PATTERNS)}catch{return null}return new jD(u,[c,o],c,o,a)},t.prototype.decodeDataCharacter=function(n,a,s,i){for(var c=this.getDataCharacterCounters(),o=0;o<c.length;o++)c[o]=0;if(i)t.recordPatternInReverse(n,a.getStartEnd()[0],c);else{t.recordPattern(n,a.getStartEnd()[1],c);for(var d=0,l=c.length-1;d<l;d++,l--){var u=c[d];c[d]=c[l],c[l]=u}}var h=17,f=ui.sum(new Int32Array(c))/h,A=(a.getStartEnd()[1]-a.getStartEnd()[0])/15;if(Math.abs(f-A)/A>.3)throw new Tr;for(var g=this.getOddCounts(),m=this.getEvenCounts(),x=this.getOddRoundingErrors(),y=this.getEvenRoundingErrors(),d=0;d<c.length;d++){var j=1*c[d]/f,b=j+.5;if(b<1){if(j<.3)throw new Tr;b=1}else if(b>8){if(j>8.7)throw new Tr;b=8}var S=d/2;(d&1)===0?(g[S]=b,x[S]=j-b):(m[S]=b,y[S]=j-b)}this.adjustOddEvenCounts(h);for(var w=4*a.getValue()+(s?0:2)+(i?0:1)-1,E=0,I=0,d=g.length-1;d>=0;d--){if(t.isNotA1left(a,s,i)){var L=t.WEIGHTS[w][2*d];I+=g[d]*L}E+=g[d]}for(var J=0,d=m.length-1;d>=0;d--)if(t.isNotA1left(a,s,i)){var L=t.WEIGHTS[w][2*d+1];J+=m[d]*L}var ae=I+J;if((E&1)!==0||E>13||E<4)throw new Tr;var G=(13-E)/2,le=t.SYMBOL_WIDEST[G],V=9-le,me=Gp.getRSSvalue(g,le,!0),$=Gp.getRSSvalue(m,V,!1),ee=t.EVEN_TOTAL_SUBSET[G],we=t.GSUM[G],R=me*ee+$+we;return new Px(R,ae)},t.isNotA1left=function(n,a,s){return!(n.getValue()===0&&a&&s)},t.prototype.adjustOddEvenCounts=function(n){var a=ui.sum(new Int32Array(this.getOddCounts())),s=ui.sum(new Int32Array(this.getEvenCounts())),i=!1,c=!1;a>13?c=!0:a<4&&(i=!0);var o=!1,d=!1;s>13?d=!0:s<4&&(o=!0);var l=a+s-n,u=(a&1)===1,h=(s&1)===0;if(l===1)if(u){if(h)throw new Tr;c=!0}else{if(!h)throw new Tr;d=!0}else if(l===-1)if(u){if(h)throw new Tr;i=!0}else{if(!h)throw new Tr;o=!0}else if(l===0){if(u){if(!h)throw new Tr;a<s?(i=!0,d=!0):(c=!0,o=!0)}else if(h)throw new Tr}else throw new Tr;if(i){if(c)throw new Tr;t.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&t.decrement(this.getOddCounts(),this.getOddRoundingErrors()),o){if(d)throw new Tr;t.increment(this.getEvenCounts(),this.getOddRoundingErrors())}d&&t.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},t.SYMBOL_WIDEST=[7,5,4,3,1],t.EVEN_TOTAL_SUBSET=[4,20,52,104,204],t.GSUM=[0,348,1388,2948,3988],t.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],t.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],t.FINDER_PAT_A=0,t.FINDER_PAT_B=1,t.FINDER_PAT_C=2,t.FINDER_PAT_D=3,t.FINDER_PAT_E=4,t.FINDER_PAT_F=5,t.FINDER_PATTERN_SEQUENCES=[[t.FINDER_PAT_A,t.FINDER_PAT_A],[t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B],[t.FINDER_PAT_A,t.FINDER_PAT_C,t.FINDER_PAT_B,t.FINDER_PAT_D],[t.FINDER_PAT_A,t.FINDER_PAT_E,t.FINDER_PAT_B,t.FINDER_PAT_D,t.FINDER_PAT_C],[t.FINDER_PAT_A,t.FINDER_PAT_E,t.FINDER_PAT_B,t.FINDER_PAT_D,t.FINDER_PAT_D,t.FINDER_PAT_F],[t.FINDER_PAT_A,t.FINDER_PAT_E,t.FINDER_PAT_B,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_F,t.FINDER_PAT_F],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_D],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_E],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_F,t.FINDER_PAT_F],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_E,t.FINDER_PAT_F,t.FINDER_PAT_F]],t.MAX_PAIRS=11,t})(qA),Ioe=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Toe=(function(r){Ioe(t,r);function t(n,a,s){var i=r.call(this,n,a)||this;return i.count=0,i.finderPattern=s,i}return t.prototype.getFinderPattern=function(){return this.finderPattern},t.prototype.getCount=function(){return this.count},t.prototype.incrementCount=function(){this.count++},t})(Px),koe=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),yC=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},qk=(function(r){koe(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.possibleLeftPairs=[],n.possibleRightPairs=[],n}return t.prototype.decodeRow=function(n,a,s){var i,c,o,d,l=this.decodePair(a,!1,n,s);t.addOrTally(this.possibleLeftPairs,l),a.reverse();var u=this.decodePair(a,!0,n,s);t.addOrTally(this.possibleRightPairs,u),a.reverse();try{for(var h=yC(this.possibleLeftPairs),f=h.next();!f.done;f=h.next()){var A=f.value;if(A.getCount()>1)try{for(var g=(o=void 0,yC(this.possibleRightPairs)),m=g.next();!m.done;m=g.next()){var x=m.value;if(x.getCount()>1&&t.checkChecksum(A,x))return t.constructResult(A,x)}}catch(y){o={error:y}}finally{try{m&&!m.done&&(d=g.return)&&d.call(g)}finally{if(o)throw o.error}}}}catch(y){i={error:y}}finally{try{f&&!f.done&&(c=h.return)&&c.call(h)}finally{if(i)throw i.error}}throw new Tr},t.addOrTally=function(n,a){var s,i;if(a!=null){var c=!1;try{for(var o=yC(n),d=o.next();!d.done;d=o.next()){var l=d.value;if(l.getValue()===a.getValue()){l.incrementCount(),c=!0;break}}}catch(u){s={error:u}}finally{try{d&&!d.done&&(i=o.return)&&i.call(o)}finally{if(s)throw s.error}}c||n.push(a)}},t.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},t.constructResult=function(n,a){for(var s=4537077*n.getValue()+a.getValue(),i=new String(s).toString(),c=new Bs,o=13-i.length;o>0;o--)c.append("0");c.append(i);for(var d=0,o=0;o<13;o++){var l=c.charAt(o).charCodeAt(0)-48;d+=(o&1)===0?3*l:l}d=10-d%10,d===10&&(d=0),c.append(d.toString());var u=n.getFinderPattern().getResultPoints(),h=a.getFinderPattern().getResultPoints();return new ad(c.toString(),null,0,[u[0],u[1],h[0],h[1]],Ia.RSS_14,new Date().getTime())},t.checkChecksum=function(n,a){var s=(n.getChecksumPortion()+16*a.getChecksumPortion())%79,i=9*n.getFinderPattern().getValue()+a.getFinderPattern().getValue();return i>72&&i--,i>8&&i--,s===i},t.prototype.decodePair=function(n,a,s,i){try{var c=this.findFinderPattern(n,a),o=this.parseFoundFinderPattern(n,s,a,c),d=i==null?null:i.get(co.NEED_RESULT_POINT_CALLBACK);if(d!=null){var l=(c[0]+c[1])/2;a&&(l=n.getSize()-1-l),d.foundPossibleResultPoint(new na(l,s))}var u=this.decodeDataCharacter(n,o,!0),h=this.decodeDataCharacter(n,o,!1);return new Toe(1597*u.getValue()+h.getValue(),u.getChecksumPortion()+4*h.getChecksumPortion(),o)}catch{return null}},t.prototype.decodeDataCharacter=function(n,a,s){for(var i=this.getDataCharacterCounters(),c=0;c<i.length;c++)i[c]=0;if(s)ec.recordPatternInReverse(n,a.getStartEnd()[0],i);else{ec.recordPattern(n,a.getStartEnd()[1]+1,i);for(var o=0,d=i.length-1;o<d;o++,d--){var l=i[o];i[o]=i[d],i[d]=l}}for(var u=s?16:15,h=ui.sum(new Int32Array(i))/u,f=this.getOddCounts(),A=this.getEvenCounts(),g=this.getOddRoundingErrors(),m=this.getEvenRoundingErrors(),o=0;o<i.length;o++){var x=i[o]/h,y=Math.floor(x+.5);y<1?y=1:y>8&&(y=8);var j=Math.floor(o/2);(o&1)===0?(f[j]=y,g[j]=x-y):(A[j]=y,m[j]=x-y)}this.adjustOddEvenCounts(s,u);for(var b=0,S=0,o=f.length-1;o>=0;o--)S*=9,S+=f[o],b+=f[o];for(var w=0,E=0,o=A.length-1;o>=0;o--)w*=9,w+=A[o],E+=A[o];var I=S+3*w;if(s){if((b&1)!==0||b>12||b<4)throw new Tr;var L=(12-b)/2,J=t.OUTSIDE_ODD_WIDEST[L],ae=9-J,G=Gp.getRSSvalue(f,J,!1),le=Gp.getRSSvalue(A,ae,!0),V=t.OUTSIDE_EVEN_TOTAL_SUBSET[L],me=t.OUTSIDE_GSUM[L];return new Px(G*V+le+me,I)}else{if((E&1)!==0||E>10||E<4)throw new Tr;var L=(10-E)/2,J=t.INSIDE_ODD_WIDEST[L],ae=9-J,G=Gp.getRSSvalue(f,J,!0),le=Gp.getRSSvalue(A,ae,!1),$=t.INSIDE_ODD_TOTAL_SUBSET[L],me=t.INSIDE_GSUM[L];return new Px(le*$+G+me,I)}},t.prototype.findFinderPattern=function(n,a){var s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var i=n.getSize(),c=!1,o=0;o<i&&(c=!n.get(o),a!==c);)o++;for(var d=0,l=o,u=o;u<i;u++)if(n.get(u)!==c)s[d]++;else{if(d===3){if(qA.isFinderPattern(s))return[l,u];l+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,d--}else d++;s[d]=1,c=!c}throw new Tr},t.prototype.parseFoundFinderPattern=function(n,a,s,i){for(var c=n.get(i[0]),o=i[0]-1;o>=0&&c!==n.get(o);)o--;o++;var d=i[0]-o,l=this.getDecodeFinderCounters(),u=new Int32Array(l.length);lo.arraycopy(l,0,u,1,l.length-1),u[0]=d;var h=this.parseFinderValue(u,t.FINDER_PATTERNS),f=o,A=i[1];return s&&(f=n.getSize()-1-f,A=n.getSize()-1-A),new jD(h,[o,i[1]],f,A,a)},t.prototype.adjustOddEvenCounts=function(n,a){var s=ui.sum(new Int32Array(this.getOddCounts())),i=ui.sum(new Int32Array(this.getEvenCounts())),c=!1,o=!1,d=!1,l=!1;n?(s>12?o=!0:s<4&&(c=!0),i>12?l=!0:i<4&&(d=!0)):(s>11?o=!0:s<5&&(c=!0),i>10?l=!0:i<4&&(d=!0));var u=s+i-a,h=(s&1)===(n?1:0),f=(i&1)===1;if(u===1)if(h){if(f)throw new Tr;o=!0}else{if(!f)throw new Tr;l=!0}else if(u===-1)if(h){if(f)throw new Tr;c=!0}else{if(!f)throw new Tr;d=!0}else if(u===0){if(h){if(!f)throw new Tr;s<i?(c=!0,l=!0):(o=!0,d=!0)}else if(f)throw new Tr}else throw new Tr;if(c){if(o)throw new Tr;qA.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&qA.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(l)throw new Tr;qA.increment(this.getEvenCounts(),this.getOddRoundingErrors())}l&&qA.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},t.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],t.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],t.OUTSIDE_GSUM=[0,161,961,2015,2715],t.INSIDE_GSUM=[0,336,1036,1516],t.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],t.INSIDE_ODD_WIDEST=[2,4,6,8],t.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],t})(qA),_oe=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),qp=(function(r){_oe(t,r);function t(n){var a=r.call(this)||this;a.readers=[];var s=n?n.get(co.POSSIBLE_FORMATS):null,i=n&&n.get(co.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,c=n&&n.get(co.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return s&&((s.includes(Ia.EAN_13)||s.includes(Ia.UPC_A)||s.includes(Ia.EAN_8)||s.includes(Ia.UPC_E))&&a.readers.push(new xC(n)),s.includes(Ia.CODE_39)&&a.readers.push(new Lk(i,c)),s.includes(Ia.CODE_93)&&a.readers.push(new Uk),s.includes(Ia.CODE_128)&&a.readers.push(new Rk),s.includes(Ia.ITF)&&a.readers.push(new Hk),s.includes(Ia.CODABAR)&&a.readers.push(new eoe),s.includes(Ia.RSS_14)&&a.readers.push(new qk),s.includes(Ia.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),a.readers.push(new Boe))),a.readers.length===0&&(a.readers.push(new xC(n)),a.readers.push(new Lk),a.readers.push(new Uk),a.readers.push(new xC(n)),a.readers.push(new Rk),a.readers.push(new Hk),a.readers.push(new qk)),a}return t.prototype.decodeRow=function(n,a,s){for(var i=0;i<this.readers.length;i++)try{return this.readers[i].decodeRow(n,a,s)}catch{}throw new Tr},t.prototype.reset=function(){this.readers.forEach(function(n){return n.reset()})},t})(ec),Ooe=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){Ooe(t,r);function t(n,a){return n===void 0&&(n=500),r.call(this,new qp(a),n,a)||this}return t})(Lm);var Xk=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},_i=(function(){function r(t,n,a){this.ecCodewords=t,this.ecBlocks=[n],a&&this.ecBlocks.push(a)}return r.prototype.getECCodewords=function(){return this.ecCodewords},r.prototype.getECBlocks=function(){return this.ecBlocks},r})(),ji=(function(){function r(t,n){this.count=t,this.dataCodewords=n}return r.prototype.getCount=function(){return this.count},r.prototype.getDataCodewords=function(){return this.dataCodewords},r})(),Foe=(function(){function r(t,n,a,s,i,c){var o,d;this.versionNumber=t,this.symbolSizeRows=n,this.symbolSizeColumns=a,this.dataRegionSizeRows=s,this.dataRegionSizeColumns=i,this.ecBlocks=c;var l=0,u=c.getECCodewords(),h=c.getECBlocks();try{for(var f=Xk(h),A=f.next();!A.done;A=f.next()){var g=A.value;l+=g.getCount()*(g.getDataCodewords()+u)}}catch(m){o={error:m}}finally{try{A&&!A.done&&(d=f.return)&&d.call(f)}finally{if(o)throw o.error}}this.totalCodewords=l}return r.prototype.getVersionNumber=function(){return this.versionNumber},r.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},r.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},r.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},r.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},r.prototype.getTotalCodewords=function(){return this.totalCodewords},r.prototype.getECBlocks=function(){return this.ecBlocks},r.getVersionForDimensions=function(t,n){var a,s;if((t&1)!==0||(n&1)!==0)throw new xn;try{for(var i=Xk(r.VERSIONS),c=i.next();!c.done;c=i.next()){var o=c.value;if(o.symbolSizeRows===t&&o.symbolSizeColumns===n)return o}}catch(d){a={error:d}}finally{try{c&&!c.done&&(s=i.return)&&s.call(i)}finally{if(a)throw a.error}}throw new xn},r.prototype.toString=function(){return""+this.versionNumber},r.buildVersions=function(){return[new r(1,10,10,8,8,new _i(5,new ji(1,3))),new r(2,12,12,10,10,new _i(7,new ji(1,5))),new r(3,14,14,12,12,new _i(10,new ji(1,8))),new r(4,16,16,14,14,new _i(12,new ji(1,12))),new r(5,18,18,16,16,new _i(14,new ji(1,18))),new r(6,20,20,18,18,new _i(18,new ji(1,22))),new r(7,22,22,20,20,new _i(20,new ji(1,30))),new r(8,24,24,22,22,new _i(24,new ji(1,36))),new r(9,26,26,24,24,new _i(28,new ji(1,44))),new r(10,32,32,14,14,new _i(36,new ji(1,62))),new r(11,36,36,16,16,new _i(42,new ji(1,86))),new r(12,40,40,18,18,new _i(48,new ji(1,114))),new r(13,44,44,20,20,new _i(56,new ji(1,144))),new r(14,48,48,22,22,new _i(68,new ji(1,174))),new r(15,52,52,24,24,new _i(42,new ji(2,102))),new r(16,64,64,14,14,new _i(56,new ji(2,140))),new r(17,72,72,16,16,new _i(36,new ji(4,92))),new r(18,80,80,18,18,new _i(48,new ji(4,114))),new r(19,88,88,20,20,new _i(56,new ji(4,144))),new r(20,96,96,22,22,new _i(68,new ji(4,174))),new r(21,104,104,24,24,new _i(56,new ji(6,136))),new r(22,120,120,18,18,new _i(68,new ji(6,175))),new r(23,132,132,20,20,new _i(62,new ji(8,163))),new r(24,144,144,22,22,new _i(62,new ji(8,156),new ji(2,155))),new r(25,8,18,6,16,new _i(7,new ji(1,5))),new r(26,8,32,6,14,new _i(11,new ji(1,10))),new r(27,12,26,10,24,new _i(14,new ji(1,16))),new r(28,12,36,10,16,new _i(18,new ji(1,22))),new r(29,16,36,14,16,new _i(24,new ji(1,32))),new r(30,16,48,14,22,new _i(28,new ji(1,49)))]},r.VERSIONS=r.buildVersions(),r})(),Poe=(function(){function r(t){var n=t.getHeight();if(n<8||n>144||(n&1)!==0)throw new xn;this.version=r.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new Uh(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return r.prototype.getVersion=function(){return this.version},r.readVersion=function(t){var n=t.getHeight(),a=t.getWidth();return Foe.getVersionForDimensions(n,a)},r.prototype.readCodewords=function(){var t=new Int8Array(this.version.getTotalCodewords()),n=0,a=4,s=0,i=this.mappingBitMatrix.getHeight(),c=this.mappingBitMatrix.getWidth(),o=!1,d=!1,l=!1,u=!1;do if(a===i&&s===0&&!o)t[n++]=this.readCorner1(i,c)&255,a-=2,s+=2,o=!0;else if(a===i-2&&s===0&&(c&3)!==0&&!d)t[n++]=this.readCorner2(i,c)&255,a-=2,s+=2,d=!0;else if(a===i+4&&s===2&&(c&7)===0&&!l)t[n++]=this.readCorner3(i,c)&255,a-=2,s+=2,l=!0;else if(a===i-2&&s===0&&(c&7)===4&&!u)t[n++]=this.readCorner4(i,c)&255,a-=2,s+=2,u=!0;else{do a<i&&s>=0&&!this.readMappingMatrix.get(s,a)&&(t[n++]=this.readUtah(a,s,i,c)&255),a-=2,s+=2;while(a>=0&&s<c);a+=1,s+=3;do a>=0&&s<c&&!this.readMappingMatrix.get(s,a)&&(t[n++]=this.readUtah(a,s,i,c)&255),a+=2,s-=2;while(a<i&&s>=0);a+=3,s+=1}while(a<i||s<c);if(n!==this.version.getTotalCodewords())throw new xn;return t},r.prototype.readModule=function(t,n,a,s){return t<0&&(t+=a,n+=4-(a+4&7)),n<0&&(n+=s,t+=4-(s+4&7)),this.readMappingMatrix.set(n,t),this.mappingBitMatrix.get(n,t)},r.prototype.readUtah=function(t,n,a,s){var i=0;return this.readModule(t-2,n-2,a,s)&&(i|=1),i<<=1,this.readModule(t-2,n-1,a,s)&&(i|=1),i<<=1,this.readModule(t-1,n-2,a,s)&&(i|=1),i<<=1,this.readModule(t-1,n-1,a,s)&&(i|=1),i<<=1,this.readModule(t-1,n,a,s)&&(i|=1),i<<=1,this.readModule(t,n-2,a,s)&&(i|=1),i<<=1,this.readModule(t,n-1,a,s)&&(i|=1),i<<=1,this.readModule(t,n,a,s)&&(i|=1),i},r.prototype.readCorner1=function(t,n){var a=0;return this.readModule(t-1,0,t,n)&&(a|=1),a<<=1,this.readModule(t-1,1,t,n)&&(a|=1),a<<=1,this.readModule(t-1,2,t,n)&&(a|=1),a<<=1,this.readModule(0,n-2,t,n)&&(a|=1),a<<=1,this.readModule(0,n-1,t,n)&&(a|=1),a<<=1,this.readModule(1,n-1,t,n)&&(a|=1),a<<=1,this.readModule(2,n-1,t,n)&&(a|=1),a<<=1,this.readModule(3,n-1,t,n)&&(a|=1),a},r.prototype.readCorner2=function(t,n){var a=0;return this.readModule(t-3,0,t,n)&&(a|=1),a<<=1,this.readModule(t-2,0,t,n)&&(a|=1),a<<=1,this.readModule(t-1,0,t,n)&&(a|=1),a<<=1,this.readModule(0,n-4,t,n)&&(a|=1),a<<=1,this.readModule(0,n-3,t,n)&&(a|=1),a<<=1,this.readModule(0,n-2,t,n)&&(a|=1),a<<=1,this.readModule(0,n-1,t,n)&&(a|=1),a<<=1,this.readModule(1,n-1,t,n)&&(a|=1),a},r.prototype.readCorner3=function(t,n){var a=0;return this.readModule(t-1,0,t,n)&&(a|=1),a<<=1,this.readModule(t-1,n-1,t,n)&&(a|=1),a<<=1,this.readModule(0,n-3,t,n)&&(a|=1),a<<=1,this.readModule(0,n-2,t,n)&&(a|=1),a<<=1,this.readModule(0,n-1,t,n)&&(a|=1),a<<=1,this.readModule(1,n-3,t,n)&&(a|=1),a<<=1,this.readModule(1,n-2,t,n)&&(a|=1),a<<=1,this.readModule(1,n-1,t,n)&&(a|=1),a},r.prototype.readCorner4=function(t,n){var a=0;return this.readModule(t-3,0,t,n)&&(a|=1),a<<=1,this.readModule(t-2,0,t,n)&&(a|=1),a<<=1,this.readModule(t-1,0,t,n)&&(a|=1),a<<=1,this.readModule(0,n-2,t,n)&&(a|=1),a<<=1,this.readModule(0,n-1,t,n)&&(a|=1),a<<=1,this.readModule(1,n-1,t,n)&&(a|=1),a<<=1,this.readModule(2,n-1,t,n)&&(a|=1),a<<=1,this.readModule(3,n-1,t,n)&&(a|=1),a},r.prototype.extractDataRegion=function(t){var n=this.version.getSymbolSizeRows(),a=this.version.getSymbolSizeColumns();if(t.getHeight()!==n)throw new Ta("Dimension of bitMatrix must match the version size");for(var s=this.version.getDataRegionSizeRows(),i=this.version.getDataRegionSizeColumns(),c=n/s|0,o=a/i|0,d=c*s,l=o*i,u=new Uh(l,d),h=0;h<c;++h)for(var f=h*s,A=0;A<o;++A)for(var g=A*i,m=0;m<s;++m)for(var x=h*(s+2)+1+m,y=f+m,j=0;j<i;++j){var b=A*(i+2)+1+j;if(t.get(b,x)){var S=g+j;u.set(S,y)}}return u},r})(),Yk=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Doe=(function(){function r(t,n){this.numDataCodewords=t,this.codewords=n}return r.getDataBlocks=function(t,n){var a,s,i,c,o=n.getECBlocks(),d=0,l=o.getECBlocks();try{for(var u=Yk(l),h=u.next();!h.done;h=u.next()){var f=h.value;d+=f.getCount()}}catch(me){a={error:me}}finally{try{h&&!h.done&&(s=u.return)&&s.call(u)}finally{if(a)throw a.error}}var A=new Array(d),g=0;try{for(var m=Yk(l),x=m.next();!x.done;x=m.next())for(var f=x.value,y=0;y<f.getCount();y++){var j=f.getDataCodewords(),b=o.getECCodewords()+j;A[g++]=new r(j,new Uint8Array(b))}}catch(me){i={error:me}}finally{try{x&&!x.done&&(c=m.return)&&c.call(m)}finally{if(i)throw i.error}}for(var S=A[0].codewords.length,w=S-o.getECCodewords(),E=w-1,I=0,y=0;y<E;y++)for(var L=0;L<g;L++)A[L].codewords[y]=t[I++];for(var J=n.getVersionNumber()===24,ae=J?8:g,L=0;L<ae;L++)A[L].codewords[w-1]=t[I++];for(var G=A[0].codewords.length,y=w;y<G;y++)for(var L=0;L<g;L++){var le=J?(L+8)%g:L,V=J&&le>7?y-1:y;A[le].codewords[V]=t[I++]}if(I!==t.length)throw new Ta;return A},r.prototype.getNumDataCodewords=function(){return this.numDataCodewords},r.prototype.getCodewords=function(){return this.codewords},r})(),CD=(function(){function r(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}return r.prototype.getBitOffset=function(){return this.bitOffset},r.prototype.getByteOffset=function(){return this.byteOffset},r.prototype.readBits=function(t){if(t<1||t>32||t>this.available())throw new Ta(""+t);var n=0,a=this.bitOffset,s=this.byteOffset,i=this.bytes;if(a>0){var c=8-a,o=t<c?t:c,d=c-o,l=255>>8-o<<d;n=(i[s]&l)>>d,t-=o,a+=o,a===8&&(a=0,s++)}if(t>0){for(;t>=8;)n=n<<8|i[s]&255,s++,t-=8;if(t>0){var d=8-t,l=255>>d<<d;n=n<<t|(i[s]&l)>>d,a+=t}}return this.bitOffset=a,this.byteOffset=s,n},r.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},r})(),Kl;(function(r){r[r.PAD_ENCODE=0]="PAD_ENCODE",r[r.ASCII_ENCODE=1]="ASCII_ENCODE",r[r.C40_ENCODE=2]="C40_ENCODE",r[r.TEXT_ENCODE=3]="TEXT_ENCODE",r[r.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",r[r.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",r[r.BASE256_ENCODE=6]="BASE256_ENCODE"})(Kl||(Kl={}));var Moe=(function(){function r(){}return r.decode=function(t){var n=new CD(t),a=new Bs,s=new Bs,i=new Array,c=Kl.ASCII_ENCODE;do if(c===Kl.ASCII_ENCODE)c=this.decodeAsciiSegment(n,a,s);else{switch(c){case Kl.C40_ENCODE:this.decodeC40Segment(n,a);break;case Kl.TEXT_ENCODE:this.decodeTextSegment(n,a);break;case Kl.ANSIX12_ENCODE:this.decodeAnsiX12Segment(n,a);break;case Kl.EDIFACT_ENCODE:this.decodeEdifactSegment(n,a);break;case Kl.BASE256_ENCODE:this.decodeBase256Segment(n,a,i);break;default:throw new xn}c=Kl.ASCII_ENCODE}while(c!==Kl.PAD_ENCODE&&n.available()>0);return s.length()>0&&a.append(s.toString()),new I2(t,a.toString(),i.length===0?null:i,null)},r.decodeAsciiSegment=function(t,n,a){var s=!1;do{var i=t.readBits(8);if(i===0)throw new xn;if(i<=128)return s&&(i+=128),n.append(String.fromCharCode(i-1)),Kl.ASCII_ENCODE;if(i===129)return Kl.PAD_ENCODE;if(i<=229){var c=i-130;c<10&&n.append("0"),n.append(""+c)}else switch(i){case 230:return Kl.C40_ENCODE;case 231:return Kl.BASE256_ENCODE;case 232:n.append("");break;case 233:case 234:break;case 235:s=!0;break;case 236:n.append("[)>05"),a.insert(0,"");break;case 237:n.append("[)>06"),a.insert(0,"");break;case 238:return Kl.ANSIX12_ENCODE;case 239:return Kl.TEXT_ENCODE;case 240:return Kl.EDIFACT_ENCODE;case 241:break;default:if(i!==254||t.available()!==0)throw new xn;break}}while(t.available()>0);return Kl.ASCII_ENCODE},r.decodeC40Segment=function(t,n){var a=!1,s=[],i=0;do{if(t.available()===8)return;var c=t.readBits(8);if(c===254)return;this.parseTwoBytes(c,t.readBits(8),s);for(var o=0;o<3;o++){var d=s[o];switch(i){case 0:if(d<3)i=d+1;else if(d<this.C40_BASIC_SET_CHARS.length){var l=this.C40_BASIC_SET_CHARS[d];a?(n.append(String.fromCharCode(l.charCodeAt(0)+128)),a=!1):n.append(l)}else throw new xn;break;case 1:a?(n.append(String.fromCharCode(d+128)),a=!1):n.append(String.fromCharCode(d)),i=0;break;case 2:if(d<this.C40_SHIFT2_SET_CHARS.length){var l=this.C40_SHIFT2_SET_CHARS[d];a?(n.append(String.fromCharCode(l.charCodeAt(0)+128)),a=!1):n.append(l)}else switch(d){case 27:n.append("");break;case 30:a=!0;break;default:throw new xn}i=0;break;case 3:a?(n.append(String.fromCharCode(d+224)),a=!1):n.append(String.fromCharCode(d+96)),i=0;break;default:throw new xn}}}while(t.available()>0)},r.decodeTextSegment=function(t,n){var a=!1,s=[],i=0;do{if(t.available()===8)return;var c=t.readBits(8);if(c===254)return;this.parseTwoBytes(c,t.readBits(8),s);for(var o=0;o<3;o++){var d=s[o];switch(i){case 0:if(d<3)i=d+1;else if(d<this.TEXT_BASIC_SET_CHARS.length){var l=this.TEXT_BASIC_SET_CHARS[d];a?(n.append(String.fromCharCode(l.charCodeAt(0)+128)),a=!1):n.append(l)}else throw new xn;break;case 1:a?(n.append(String.fromCharCode(d+128)),a=!1):n.append(String.fromCharCode(d)),i=0;break;case 2:if(d<this.TEXT_SHIFT2_SET_CHARS.length){var l=this.TEXT_SHIFT2_SET_CHARS[d];a?(n.append(String.fromCharCode(l.charCodeAt(0)+128)),a=!1):n.append(l)}else switch(d){case 27:n.append("");break;case 30:a=!0;break;default:throw new xn}i=0;break;case 3:if(d<this.TEXT_SHIFT3_SET_CHARS.length){var l=this.TEXT_SHIFT3_SET_CHARS[d];a?(n.append(String.fromCharCode(l.charCodeAt(0)+128)),a=!1):n.append(l),i=0}else throw new xn;break;default:throw new xn}}}while(t.available()>0)},r.decodeAnsiX12Segment=function(t,n){var a=[];do{if(t.available()===8)return;var s=t.readBits(8);if(s===254)return;this.parseTwoBytes(s,t.readBits(8),a);for(var i=0;i<3;i++){var c=a[i];switch(c){case 0:n.append("\r");break;case 1:n.append("*");break;case 2:n.append(">");break;case 3:n.append(" ");break;default:if(c<14)n.append(String.fromCharCode(c+44));else if(c<40)n.append(String.fromCharCode(c+51));else throw new xn;break}}}while(t.available()>0)},r.parseTwoBytes=function(t,n,a){var s=(t<<8)+n-1,i=Math.floor(s/1600);a[0]=i,s-=i*1600,i=Math.floor(s/40),a[1]=i,a[2]=s-i*40},r.decodeEdifactSegment=function(t,n){do{if(t.available()<=16)return;for(var a=0;a<4;a++){var s=t.readBits(6);if(s===31){var i=8-t.getBitOffset();i!==8&&t.readBits(i);return}(s&32)===0&&(s|=64),n.append(String.fromCharCode(s))}}while(t.available()>0)},r.decodeBase256Segment=function(t,n,a){var s=1+t.getByteOffset(),i=this.unrandomize255State(t.readBits(8),s++),c;if(i===0?c=t.available()/8|0:i<250?c=i:c=250*(i-249)+this.unrandomize255State(t.readBits(8),s++),c<0)throw new xn;for(var o=new Uint8Array(c),d=0;d<c;d++){if(t.available()<8)throw new xn;o[d]=this.unrandomize255State(t.readBits(8),s++)}a.push(o);try{n.append(Vu.decode(o,ti.ISO88591))}catch(l){throw new i0("Platform does not support required encoding: "+l.message)}},r.unrandomize255State=function(t,n){var a=149*n%255+1,s=t-a;return s>=0?s:s+256},r.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],r.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],r.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],r.TEXT_SHIFT2_SET_CHARS=r.C40_SHIFT2_SET_CHARS,r.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],r})(),Roe=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Loe=(function(){function r(){this.rsDecoder=new T2(Ud.DATA_MATRIX_FIELD_256)}return r.prototype.decode=function(t){var n,a,s=new Poe(t),i=s.getVersion(),c=s.readCodewords(),o=Doe.getDataBlocks(c,i),d=0;try{for(var l=Roe(o),u=l.next();!u.done;u=l.next()){var h=u.value;d+=h.getNumDataCodewords()}}catch(b){n={error:b}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(n)throw n.error}}for(var f=new Uint8Array(d),A=o.length,g=0;g<A;g++){var m=o[g],x=m.getCodewords(),y=m.getNumDataCodewords();this.correctErrors(x,y);for(var j=0;j<y;j++)f[j*A+g]=x[j]}return Moe.decode(f)},r.prototype.correctErrors=function(t,n){var a=new Int32Array(t);try{this.rsDecoder.decode(a,t.length-n)}catch{throw new kl}for(var s=0;s<n;s++)t[s]=a[s]},r})(),Uoe=(function(){function r(t){this.image=t,this.rectangleDetector=new s4(this.image)}return r.prototype.detect=function(){var t=this.rectangleDetector.detect(),n=this.detectSolid1(t);if(n=this.detectSolid2(n),n[3]=this.correctTopRight(n),!n[3])throw new Tr;n=this.shiftToModuleCenter(n);var a=n[0],s=n[1],i=n[2],c=n[3],o=this.transitionsBetween(a,c)+1,d=this.transitionsBetween(i,c)+1;(o&1)===1&&(o+=1),(d&1)===1&&(d+=1),4*o<7*d&&4*d<7*o&&(o=d=Math.max(o,d));var l=r.sampleGrid(this.image,a,s,i,c,o,d);return new ES(l,[a,s,i,c])},r.shiftPoint=function(t,n,a){var s=(n.getX()-t.getX())/(a+1),i=(n.getY()-t.getY())/(a+1);return new na(t.getX()+s,t.getY()+i)},r.moveAway=function(t,n,a){var s=t.getX(),i=t.getY();return s<n?s-=1:s+=1,i<a?i-=1:i+=1,new na(s,i)},r.prototype.detectSolid1=function(t){var n=t[0],a=t[1],s=t[3],i=t[2],c=this.transitionsBetween(n,a),o=this.transitionsBetween(a,s),d=this.transitionsBetween(s,i),l=this.transitionsBetween(i,n),u=c,h=[i,n,a,s];return u>o&&(u=o,h[0]=n,h[1]=a,h[2]=s,h[3]=i),u>d&&(u=d,h[0]=a,h[1]=s,h[2]=i,h[3]=n),u>l&&(h[0]=s,h[1]=i,h[2]=n,h[3]=a),h},r.prototype.detectSolid2=function(t){var n=t[0],a=t[1],s=t[2],i=t[3],c=this.transitionsBetween(n,i),o=r.shiftPoint(a,s,(c+1)*4),d=r.shiftPoint(s,a,(c+1)*4),l=this.transitionsBetween(o,n),u=this.transitionsBetween(d,i);return l<u?(t[0]=n,t[1]=a,t[2]=s,t[3]=i):(t[0]=a,t[1]=s,t[2]=i,t[3]=n),t},r.prototype.correctTopRight=function(t){var n=t[0],a=t[1],s=t[2],i=t[3],c=this.transitionsBetween(n,i),o=this.transitionsBetween(a,i),d=r.shiftPoint(n,a,(o+1)*4),l=r.shiftPoint(s,a,(c+1)*4);c=this.transitionsBetween(d,i),o=this.transitionsBetween(l,i);var u=new na(i.getX()+(s.getX()-a.getX())/(c+1),i.getY()+(s.getY()-a.getY())/(c+1)),h=new na(i.getX()+(n.getX()-a.getX())/(o+1),i.getY()+(n.getY()-a.getY())/(o+1));if(!this.isValid(u))return this.isValid(h)?h:null;if(!this.isValid(h))return u;var f=this.transitionsBetween(d,u)+this.transitionsBetween(l,u),A=this.transitionsBetween(d,h)+this.transitionsBetween(l,h);return f>A?u:h},r.prototype.shiftToModuleCenter=function(t){var n=t[0],a=t[1],s=t[2],i=t[3],c=this.transitionsBetween(n,i)+1,o=this.transitionsBetween(s,i)+1,d=r.shiftPoint(n,a,o*4),l=r.shiftPoint(s,a,c*4);c=this.transitionsBetween(d,i)+1,o=this.transitionsBetween(l,i)+1,(c&1)===1&&(c+=1),(o&1)===1&&(o+=1);var u=(n.getX()+a.getX()+s.getX()+i.getX())/4,h=(n.getY()+a.getY()+s.getY()+i.getY())/4;n=r.moveAway(n,u,h),a=r.moveAway(a,u,h),s=r.moveAway(s,u,h),i=r.moveAway(i,u,h);var f,A;return d=r.shiftPoint(n,a,o*4),d=r.shiftPoint(d,i,c*4),f=r.shiftPoint(a,n,o*4),f=r.shiftPoint(f,s,c*4),l=r.shiftPoint(s,i,o*4),l=r.shiftPoint(l,a,c*4),A=r.shiftPoint(i,s,o*4),A=r.shiftPoint(A,n,c*4),[d,f,l,A]},r.prototype.isValid=function(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()},r.sampleGrid=function(t,n,a,s,i,c,o){var d=BS.getInstance();return d.sampleGrid(t,c,o,.5,.5,c-.5,.5,c-.5,o-.5,.5,o-.5,n.getX(),n.getY(),i.getX(),i.getY(),s.getX(),s.getY(),a.getX(),a.getY())},r.prototype.transitionsBetween=function(t,n){var a=Math.trunc(t.getX()),s=Math.trunc(t.getY()),i=Math.trunc(n.getX()),c=Math.trunc(n.getY()),o=Math.abs(c-s)>Math.abs(i-a);if(o){var d=a;a=s,s=d,d=i,i=c,c=d}for(var l=Math.abs(i-a),u=Math.abs(c-s),h=-l/2,f=s<c?1:-1,A=a<i?1:-1,g=0,m=this.image.get(o?s:a,o?a:s),x=a,y=s;x!==i;x+=A){var j=this.image.get(o?y:x,o?x:y);if(j!==m&&(g++,m=j),h+=u,h>0){if(y===c)break;y+=f,h-=l}}return g},r})(),Dx=(function(){function r(){this.decoder=new Loe}return r.prototype.decode=function(t,n){n===void 0&&(n=null);var a,s;if(n!=null&&n.has(co.PURE_BARCODE)){var i=r.extractPureBits(t.getBlackMatrix());a=this.decoder.decode(i),s=r.NO_POINTS}else{var c=new Uoe(t.getBlackMatrix()).detect();a=this.decoder.decode(c.getBits()),s=c.getPoints()}var o=a.getRawBytes(),d=new ad(a.getText(),o,8*o.length,s,Ia.DATA_MATRIX,lo.currentTimeMillis()),l=a.getByteSegments();l!=null&&d.putMetadata(Qc.BYTE_SEGMENTS,l);var u=a.getECLevel();return u!=null&&d.putMetadata(Qc.ERROR_CORRECTION_LEVEL,u),d},r.prototype.reset=function(){},r.extractPureBits=function(t){var n=t.getTopLeftOnBit(),a=t.getBottomRightOnBit();if(n==null||a==null)throw new Tr;var s=this.moduleSize(n,t),i=n[1],c=a[1],o=n[0],d=a[0],l=(d-o+1)/s,u=(c-i+1)/s;if(l<=0||u<=0)throw new Tr;var h=s/2;i+=h,o+=h;for(var f=new Uh(l,u),A=0;A<u;A++)for(var g=i+A*s,m=0;m<l;m++)t.get(o+m*s,g)&&f.set(m,A);return f},r.moduleSize=function(t,n){for(var a=n.getWidth(),s=t[0],i=t[1];s<a&&n.get(s,i);)s++;if(s===a)throw new Tr;var c=s-t[0];if(c===0)throw new Tr;return c},r.NO_POINTS=[],r})(),Hoe=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){Hoe(t,r);function t(n){return n===void 0&&(n=500),r.call(this,new Dx,n)||this}return t})(Lm);var Xp;(function(r){r[r.L=0]="L",r[r.M=1]="M",r[r.Q=2]="Q",r[r.H=3]="H"})(Xp||(Xp={}));var Qoe=(function(){function r(t,n,a){this.value=t,this.stringValue=n,this.bits=a,r.FOR_BITS.set(a,this),r.FOR_VALUE.set(t,this)}return r.prototype.getValue=function(){return this.value},r.prototype.getBits=function(){return this.bits},r.fromString=function(t){switch(t){case"L":return r.L;case"M":return r.M;case"Q":return r.Q;case"H":return r.H;default:throw new vl(t+"not available")}},r.prototype.toString=function(){return this.stringValue},r.prototype.equals=function(t){if(!(t instanceof r))return!1;var n=t;return this.value===n.value},r.forBits=function(t){if(t<0||t>=r.FOR_BITS.size)throw new Ta;return r.FOR_BITS.get(t)},r.FOR_BITS=new Map,r.FOR_VALUE=new Map,r.L=new r(Xp.L,"L",1),r.M=new r(Xp.M,"M",0),r.Q=new r(Xp.Q,"Q",3),r.H=new r(Xp.H,"H",2),r})(),Woe=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ND=(function(){function r(t){this.errorCorrectionLevel=Qoe.forBits(t>>3&3),this.dataMask=t&7}return r.numBitsDiffering=function(t,n){return _s.bitCount(t^n)},r.decodeFormatInformation=function(t,n){var a=r.doDecodeFormatInformation(t,n);return a!==null?a:r.doDecodeFormatInformation(t^r.FORMAT_INFO_MASK_QR,n^r.FORMAT_INFO_MASK_QR)},r.doDecodeFormatInformation=function(t,n){var a,s,i=Number.MAX_SAFE_INTEGER,c=0;try{for(var o=Woe(r.FORMAT_INFO_DECODE_LOOKUP),d=o.next();!d.done;d=o.next()){var l=d.value,u=l[0];if(u===t||u===n)return new r(l[1]);var h=r.numBitsDiffering(t,u);h<i&&(c=l[1],i=h),t!==n&&(h=r.numBitsDiffering(n,u),h<i&&(c=l[1],i=h))}}catch(f){a={error:f}}finally{try{d&&!d.done&&(s=o.return)&&s.call(o)}finally{if(a)throw a.error}}return i<=3?new r(c):null},r.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},r.prototype.getDataMask=function(){return this.dataMask},r.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},r.prototype.equals=function(t){if(!(t instanceof r))return!1;var n=t;return this.errorCorrectionLevel===n.errorCorrectionLevel&&this.dataMask===n.dataMask},r.FORMAT_INFO_MASK_QR=21522,r.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],r})(),$oe=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},gr=(function(){function r(t){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];this.ecCodewordsPerBlock=t,this.ecBlocks=n}return r.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},r.prototype.getNumBlocks=function(){var t,n,a=0,s=this.ecBlocks;try{for(var i=$oe(s),c=i.next();!c.done;c=i.next()){var o=c.value;a+=o.getCount()}}catch(d){t={error:d}}finally{try{c&&!c.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return a},r.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},r.prototype.getECBlocks=function(){return this.ecBlocks},r})(),xt=(function(){function r(t,n){this.count=t,this.dataCodewords=n}return r.prototype.getCount=function(){return this.count},r.prototype.getDataCodewords=function(){return this.dataCodewords},r})(),Voe=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},lp=(function(){function r(t,n){for(var a,s,i=[],c=2;c<arguments.length;c++)i[c-2]=arguments[c];this.versionNumber=t,this.alignmentPatternCenters=n,this.ecBlocks=i;var o=0,d=i[0].getECCodewordsPerBlock(),l=i[0].getECBlocks();try{for(var u=Voe(l),h=u.next();!h.done;h=u.next()){var f=h.value;o+=f.getCount()*(f.getDataCodewords()+d)}}catch(A){a={error:A}}finally{try{h&&!h.done&&(s=u.return)&&s.call(u)}finally{if(a)throw a.error}}this.totalCodewords=o}return r.prototype.getVersionNumber=function(){return this.versionNumber},r.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},r.prototype.getTotalCodewords=function(){return this.totalCodewords},r.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},r.prototype.getECBlocksForLevel=function(t){return this.ecBlocks[t.getValue()]},r.getProvisionalVersionForDimension=function(t){if(t%4!==1)throw new xn;try{return this.getVersionForNumber((t-17)/4)}catch{throw new xn}},r.getVersionForNumber=function(t){if(t<1||t>40)throw new Ta;return r.VERSIONS[t-1]},r.decodeVersionInformation=function(t){for(var n=Number.MAX_SAFE_INTEGER,a=0,s=0;s<r.VERSION_DECODE_INFO.length;s++){var i=r.VERSION_DECODE_INFO[s];if(i===t)return r.getVersionForNumber(s+7);var c=ND.numBitsDiffering(t,i);c<n&&(a=s+7,n=c)}return n<=3?r.getVersionForNumber(a):null},r.prototype.buildFunctionPattern=function(){var t=this.getDimensionForVersion(),n=new Uh(t);n.setRegion(0,0,9,9),n.setRegion(t-8,0,8,9),n.setRegion(0,t-8,9,8);for(var a=this.alignmentPatternCenters.length,s=0;s<a;s++)for(var i=this.alignmentPatternCenters[s]-2,c=0;c<a;c++)s===0&&(c===0||c===a-1)||s===a-1&&c===0||n.setRegion(this.alignmentPatternCenters[c]-2,i,5,5);return n.setRegion(6,9,1,t-17),n.setRegion(9,6,t-17,1),this.versionNumber>6&&(n.setRegion(t-11,0,3,6),n.setRegion(0,t-11,6,3)),n},r.prototype.toString=function(){return""+this.versionNumber},r.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),r.VERSIONS=[new r(1,new Int32Array(0),new gr(7,new xt(1,19)),new gr(10,new xt(1,16)),new gr(13,new xt(1,13)),new gr(17,new xt(1,9))),new r(2,Int32Array.from([6,18]),new gr(10,new xt(1,34)),new gr(16,new xt(1,28)),new gr(22,new xt(1,22)),new gr(28,new xt(1,16))),new r(3,Int32Array.from([6,22]),new gr(15,new xt(1,55)),new gr(26,new xt(1,44)),new gr(18,new xt(2,17)),new gr(22,new xt(2,13))),new r(4,Int32Array.from([6,26]),new gr(20,new xt(1,80)),new gr(18,new xt(2,32)),new gr(26,new xt(2,24)),new gr(16,new xt(4,9))),new r(5,Int32Array.from([6,30]),new gr(26,new xt(1,108)),new gr(24,new xt(2,43)),new gr(18,new xt(2,15),new xt(2,16)),new gr(22,new xt(2,11),new xt(2,12))),new r(6,Int32Array.from([6,34]),new gr(18,new xt(2,68)),new gr(16,new xt(4,27)),new gr(24,new xt(4,19)),new gr(28,new xt(4,15))),new r(7,Int32Array.from([6,22,38]),new gr(20,new xt(2,78)),new gr(18,new xt(4,31)),new gr(18,new xt(2,14),new xt(4,15)),new gr(26,new xt(4,13),new xt(1,14))),new r(8,Int32Array.from([6,24,42]),new gr(24,new xt(2,97)),new gr(22,new xt(2,38),new xt(2,39)),new gr(22,new xt(4,18),new xt(2,19)),new gr(26,new xt(4,14),new xt(2,15))),new r(9,Int32Array.from([6,26,46]),new gr(30,new xt(2,116)),new gr(22,new xt(3,36),new xt(2,37)),new gr(20,new xt(4,16),new xt(4,17)),new gr(24,new xt(4,12),new xt(4,13))),new r(10,Int32Array.from([6,28,50]),new gr(18,new xt(2,68),new xt(2,69)),new gr(26,new xt(4,43),new xt(1,44)),new gr(24,new xt(6,19),new xt(2,20)),new gr(28,new xt(6,15),new xt(2,16))),new r(11,Int32Array.from([6,30,54]),new gr(20,new xt(4,81)),new gr(30,new xt(1,50),new xt(4,51)),new gr(28,new xt(4,22),new xt(4,23)),new gr(24,new xt(3,12),new xt(8,13))),new r(12,Int32Array.from([6,32,58]),new gr(24,new xt(2,92),new xt(2,93)),new gr(22,new xt(6,36),new xt(2,37)),new gr(26,new xt(4,20),new xt(6,21)),new gr(28,new xt(7,14),new xt(4,15))),new r(13,Int32Array.from([6,34,62]),new gr(26,new xt(4,107)),new gr(22,new xt(8,37),new xt(1,38)),new gr(24,new xt(8,20),new xt(4,21)),new gr(22,new xt(12,11),new xt(4,12))),new r(14,Int32Array.from([6,26,46,66]),new gr(30,new xt(3,115),new xt(1,116)),new gr(24,new xt(4,40),new xt(5,41)),new gr(20,new xt(11,16),new xt(5,17)),new gr(24,new xt(11,12),new xt(5,13))),new r(15,Int32Array.from([6,26,48,70]),new gr(22,new xt(5,87),new xt(1,88)),new gr(24,new xt(5,41),new xt(5,42)),new gr(30,new xt(5,24),new xt(7,25)),new gr(24,new xt(11,12),new xt(7,13))),new r(16,Int32Array.from([6,26,50,74]),new gr(24,new xt(5,98),new xt(1,99)),new gr(28,new xt(7,45),new xt(3,46)),new gr(24,new xt(15,19),new xt(2,20)),new gr(30,new xt(3,15),new xt(13,16))),new r(17,Int32Array.from([6,30,54,78]),new gr(28,new xt(1,107),new xt(5,108)),new gr(28,new xt(10,46),new xt(1,47)),new gr(28,new xt(1,22),new xt(15,23)),new gr(28,new xt(2,14),new xt(17,15))),new r(18,Int32Array.from([6,30,56,82]),new gr(30,new xt(5,120),new xt(1,121)),new gr(26,new xt(9,43),new xt(4,44)),new gr(28,new xt(17,22),new xt(1,23)),new gr(28,new xt(2,14),new xt(19,15))),new r(19,Int32Array.from([6,30,58,86]),new gr(28,new xt(3,113),new xt(4,114)),new gr(26,new xt(3,44),new xt(11,45)),new gr(26,new xt(17,21),new xt(4,22)),new gr(26,new xt(9,13),new xt(16,14))),new r(20,Int32Array.from([6,34,62,90]),new gr(28,new xt(3,107),new xt(5,108)),new gr(26,new xt(3,41),new xt(13,42)),new gr(30,new xt(15,24),new xt(5,25)),new gr(28,new xt(15,15),new xt(10,16))),new r(21,Int32Array.from([6,28,50,72,94]),new gr(28,new xt(4,116),new xt(4,117)),new gr(26,new xt(17,42)),new gr(28,new xt(17,22),new xt(6,23)),new gr(30,new xt(19,16),new xt(6,17))),new r(22,Int32Array.from([6,26,50,74,98]),new gr(28,new xt(2,111),new xt(7,112)),new gr(28,new xt(17,46)),new gr(30,new xt(7,24),new xt(16,25)),new gr(24,new xt(34,13))),new r(23,Int32Array.from([6,30,54,78,102]),new gr(30,new xt(4,121),new xt(5,122)),new gr(28,new xt(4,47),new xt(14,48)),new gr(30,new xt(11,24),new xt(14,25)),new gr(30,new xt(16,15),new xt(14,16))),new r(24,Int32Array.from([6,28,54,80,106]),new gr(30,new xt(6,117),new xt(4,118)),new gr(28,new xt(6,45),new xt(14,46)),new gr(30,new xt(11,24),new xt(16,25)),new gr(30,new xt(30,16),new xt(2,17))),new r(25,Int32Array.from([6,32,58,84,110]),new gr(26,new xt(8,106),new xt(4,107)),new gr(28,new xt(8,47),new xt(13,48)),new gr(30,new xt(7,24),new xt(22,25)),new gr(30,new xt(22,15),new xt(13,16))),new r(26,Int32Array.from([6,30,58,86,114]),new gr(28,new xt(10,114),new xt(2,115)),new gr(28,new xt(19,46),new xt(4,47)),new gr(28,new xt(28,22),new xt(6,23)),new gr(30,new xt(33,16),new xt(4,17))),new r(27,Int32Array.from([6,34,62,90,118]),new gr(30,new xt(8,122),new xt(4,123)),new gr(28,new xt(22,45),new xt(3,46)),new gr(30,new xt(8,23),new xt(26,24)),new gr(30,new xt(12,15),new xt(28,16))),new r(28,Int32Array.from([6,26,50,74,98,122]),new gr(30,new xt(3,117),new xt(10,118)),new gr(28,new xt(3,45),new xt(23,46)),new gr(30,new xt(4,24),new xt(31,25)),new gr(30,new xt(11,15),new xt(31,16))),new r(29,Int32Array.from([6,30,54,78,102,126]),new gr(30,new xt(7,116),new xt(7,117)),new gr(28,new xt(21,45),new xt(7,46)),new gr(30,new xt(1,23),new xt(37,24)),new gr(30,new xt(19,15),new xt(26,16))),new r(30,Int32Array.from([6,26,52,78,104,130]),new gr(30,new xt(5,115),new xt(10,116)),new gr(28,new xt(19,47),new xt(10,48)),new gr(30,new xt(15,24),new xt(25,25)),new gr(30,new xt(23,15),new xt(25,16))),new r(31,Int32Array.from([6,30,56,82,108,134]),new gr(30,new xt(13,115),new xt(3,116)),new gr(28,new xt(2,46),new xt(29,47)),new gr(30,new xt(42,24),new xt(1,25)),new gr(30,new xt(23,15),new xt(28,16))),new r(32,Int32Array.from([6,34,60,86,112,138]),new gr(30,new xt(17,115)),new gr(28,new xt(10,46),new xt(23,47)),new gr(30,new xt(10,24),new xt(35,25)),new gr(30,new xt(19,15),new xt(35,16))),new r(33,Int32Array.from([6,30,58,86,114,142]),new gr(30,new xt(17,115),new xt(1,116)),new gr(28,new xt(14,46),new xt(21,47)),new gr(30,new xt(29,24),new xt(19,25)),new gr(30,new xt(11,15),new xt(46,16))),new r(34,Int32Array.from([6,34,62,90,118,146]),new gr(30,new xt(13,115),new xt(6,116)),new gr(28,new xt(14,46),new xt(23,47)),new gr(30,new xt(44,24),new xt(7,25)),new gr(30,new xt(59,16),new xt(1,17))),new r(35,Int32Array.from([6,30,54,78,102,126,150]),new gr(30,new xt(12,121),new xt(7,122)),new gr(28,new xt(12,47),new xt(26,48)),new gr(30,new xt(39,24),new xt(14,25)),new gr(30,new xt(22,15),new xt(41,16))),new r(36,Int32Array.from([6,24,50,76,102,128,154]),new gr(30,new xt(6,121),new xt(14,122)),new gr(28,new xt(6,47),new xt(34,48)),new gr(30,new xt(46,24),new xt(10,25)),new gr(30,new xt(2,15),new xt(64,16))),new r(37,Int32Array.from([6,28,54,80,106,132,158]),new gr(30,new xt(17,122),new xt(4,123)),new gr(28,new xt(29,46),new xt(14,47)),new gr(30,new xt(49,24),new xt(10,25)),new gr(30,new xt(24,15),new xt(46,16))),new r(38,Int32Array.from([6,32,58,84,110,136,162]),new gr(30,new xt(4,122),new xt(18,123)),new gr(28,new xt(13,46),new xt(32,47)),new gr(30,new xt(48,24),new xt(14,25)),new gr(30,new xt(42,15),new xt(32,16))),new r(39,Int32Array.from([6,26,54,82,110,138,166]),new gr(30,new xt(20,117),new xt(4,118)),new gr(28,new xt(40,47),new xt(7,48)),new gr(30,new xt(43,24),new xt(22,25)),new gr(30,new xt(10,15),new xt(67,16))),new r(40,Int32Array.from([6,30,58,86,114,142,170]),new gr(30,new xt(19,118),new xt(6,119)),new gr(28,new xt(18,47),new xt(31,48)),new gr(30,new xt(34,24),new xt(34,25)),new gr(30,new xt(20,15),new xt(61,16)))],r})(),yc;(function(r){r[r.DATA_MASK_000=0]="DATA_MASK_000",r[r.DATA_MASK_001=1]="DATA_MASK_001",r[r.DATA_MASK_010=2]="DATA_MASK_010",r[r.DATA_MASK_011=3]="DATA_MASK_011",r[r.DATA_MASK_100=4]="DATA_MASK_100",r[r.DATA_MASK_101=5]="DATA_MASK_101",r[r.DATA_MASK_110=6]="DATA_MASK_110",r[r.DATA_MASK_111=7]="DATA_MASK_111"})(yc||(yc={}));var Jk=(function(){function r(t,n){this.value=t,this.isMasked=n}return r.prototype.unmaskBitMatrix=function(t,n){for(var a=0;a<n;a++)for(var s=0;s<n;s++)this.isMasked(a,s)&&t.flip(s,a)},r.values=new Map([[yc.DATA_MASK_000,new r(yc.DATA_MASK_000,function(t,n){return(t+n&1)===0})],[yc.DATA_MASK_001,new r(yc.DATA_MASK_001,function(t,n){return(t&1)===0})],[yc.DATA_MASK_010,new r(yc.DATA_MASK_010,function(t,n){return n%3===0})],[yc.DATA_MASK_011,new r(yc.DATA_MASK_011,function(t,n){return(t+n)%3===0})],[yc.DATA_MASK_100,new r(yc.DATA_MASK_100,function(t,n){return(Math.floor(t/2)+Math.floor(n/3)&1)===0})],[yc.DATA_MASK_101,new r(yc.DATA_MASK_101,function(t,n){return t*n%6===0})],[yc.DATA_MASK_110,new r(yc.DATA_MASK_110,function(t,n){return t*n%6<3})],[yc.DATA_MASK_111,new r(yc.DATA_MASK_111,function(t,n){return(t+n+t*n%3&1)===0})]]),r})(),zoe=(function(){function r(t){var n=t.getHeight();if(n<21||(n&3)!==1)throw new xn;this.bitMatrix=t}return r.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var t=0,n=0;n<6;n++)t=this.copyBit(n,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(var a=5;a>=0;a--)t=this.copyBit(8,a,t);for(var s=this.bitMatrix.getHeight(),i=0,c=s-7,a=s-1;a>=c;a--)i=this.copyBit(8,a,i);for(var n=s-8;n<s;n++)i=this.copyBit(n,8,i);if(this.parsedFormatInfo=ND.decodeFormatInformation(t,i),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new xn},r.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var t=this.bitMatrix.getHeight(),n=Math.floor((t-17)/4);if(n<=6)return lp.getVersionForNumber(n);for(var a=0,s=t-11,i=5;i>=0;i--)for(var c=t-9;c>=s;c--)a=this.copyBit(c,i,a);var o=lp.decodeVersionInformation(a);if(o!==null&&o.getDimensionForVersion()===t)return this.parsedVersion=o,o;a=0;for(var c=5;c>=0;c--)for(var i=t-9;i>=s;i--)a=this.copyBit(c,i,a);if(o=lp.decodeVersionInformation(a),o!==null&&o.getDimensionForVersion()===t)return this.parsedVersion=o,o;throw new xn},r.prototype.copyBit=function(t,n,a){var s=this.isMirror?this.bitMatrix.get(n,t):this.bitMatrix.get(t,n);return s?a<<1|1:a<<1},r.prototype.readCodewords=function(){var t=this.readFormatInformation(),n=this.readVersion(),a=Jk.values.get(t.getDataMask()),s=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,s);for(var i=n.buildFunctionPattern(),c=!0,o=new Uint8Array(n.getTotalCodewords()),d=0,l=0,u=0,h=s-1;h>0;h-=2){h===6&&h--;for(var f=0;f<s;f++)for(var A=c?s-1-f:f,g=0;g<2;g++)i.get(h-g,A)||(u++,l<<=1,this.bitMatrix.get(h-g,A)&&(l|=1),u===8&&(o[d++]=l,u=0,l=0));c=!c}if(d!==n.getTotalCodewords())throw new xn;return o},r.prototype.remask=function(){if(this.parsedFormatInfo!==null){var t=Jk.values.get(this.parsedFormatInfo.getDataMask()),n=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,n)}},r.prototype.setMirror=function(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t},r.prototype.mirror=function(){for(var t=this.bitMatrix,n=0,a=t.getWidth();n<a;n++)for(var s=n+1,i=t.getHeight();s<i;s++)t.get(n,s)!==t.get(s,n)&&(t.flip(s,n),t.flip(n,s))},r})(),Zk=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Koe=(function(){function r(t,n){this.numDataCodewords=t,this.codewords=n}return r.getDataBlocks=function(t,n,a){var s,i,c,o;if(t.length!==n.getTotalCodewords())throw new Ta;var d=n.getECBlocksForLevel(a),l=0,u=d.getECBlocks();try{for(var h=Zk(u),f=h.next();!f.done;f=h.next()){var A=f.value;l+=A.getCount()}}catch(V){s={error:V}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(s)throw s.error}}var g=new Array(l),m=0;try{for(var x=Zk(u),y=x.next();!y.done;y=x.next())for(var A=y.value,j=0;j<A.getCount();j++){var b=A.getDataCodewords(),S=d.getECCodewordsPerBlock()+b;g[m++]=new r(b,new Uint8Array(S))}}catch(V){c={error:V}}finally{try{y&&!y.done&&(o=x.return)&&o.call(x)}finally{if(c)throw c.error}}for(var w=g[0].codewords.length,E=g.length-1;E>=0;){var I=g[E].codewords.length;if(I===w)break;E--}E++;for(var L=w-d.getECCodewordsPerBlock(),J=0,j=0;j<L;j++)for(var ae=0;ae<m;ae++)g[ae].codewords[j]=t[J++];for(var ae=E;ae<m;ae++)g[ae].codewords[L]=t[J++];for(var G=g[0].codewords.length,j=L;j<G;j++)for(var ae=0;ae<m;ae++){var le=ae<E?j:j+1;g[ae].codewords[le]=t[J++]}return g},r.prototype.getNumDataCodewords=function(){return this.numDataCodewords},r.prototype.getCodewords=function(){return this.codewords},r})(),Hu;(function(r){r[r.TERMINATOR=0]="TERMINATOR",r[r.NUMERIC=1]="NUMERIC",r[r.ALPHANUMERIC=2]="ALPHANUMERIC",r[r.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",r[r.BYTE=4]="BYTE",r[r.ECI=5]="ECI",r[r.KANJI=6]="KANJI",r[r.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",r[r.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",r[r.HANZI=9]="HANZI"})(Hu||(Hu={}));var xo=(function(){function r(t,n,a,s){this.value=t,this.stringValue=n,this.characterCountBitsForVersions=a,this.bits=s,r.FOR_BITS.set(s,this),r.FOR_VALUE.set(t,this)}return r.forBits=function(t){var n=r.FOR_BITS.get(t);if(n===void 0)throw new Ta;return n},r.prototype.getCharacterCountBits=function(t){var n=t.getVersionNumber(),a;return n<=9?a=0:n<=26?a=1:a=2,this.characterCountBitsForVersions[a]},r.prototype.getValue=function(){return this.value},r.prototype.getBits=function(){return this.bits},r.prototype.equals=function(t){if(!(t instanceof r))return!1;var n=t;return this.value===n.value},r.prototype.toString=function(){return this.stringValue},r.FOR_BITS=new Map,r.FOR_VALUE=new Map,r.TERMINATOR=new r(Hu.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),r.NUMERIC=new r(Hu.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),r.ALPHANUMERIC=new r(Hu.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),r.STRUCTURED_APPEND=new r(Hu.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),r.BYTE=new r(Hu.BYTE,"BYTE",Int32Array.from([8,16,16]),4),r.ECI=new r(Hu.ECI,"ECI",Int32Array.from([0,0,0]),7),r.KANJI=new r(Hu.KANJI,"KANJI",Int32Array.from([8,10,12]),8),r.FNC1_FIRST_POSITION=new r(Hu.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),r.FNC1_SECOND_POSITION=new r(Hu.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),r.HANZI=new r(Hu.HANZI,"HANZI",Int32Array.from([8,10,12]),13),r})(),Goe=(function(){function r(){}return r.decode=function(t,n,a,s){var i=new CD(t),c=new Bs,o=new Array,d=-1,l=-1;try{var u=null,h=!1,f=void 0;do{if(i.available()<4)f=xo.TERMINATOR;else{var A=i.readBits(4);f=xo.forBits(A)}switch(f){case xo.TERMINATOR:break;case xo.FNC1_FIRST_POSITION:case xo.FNC1_SECOND_POSITION:h=!0;break;case xo.STRUCTURED_APPEND:if(i.available()<16)throw new xn;d=i.readBits(8),l=i.readBits(8);break;case xo.ECI:var g=r.parseECIValue(i);if(u=Xl.getCharacterSetECIByValue(g),u===null)throw new xn;break;case xo.HANZI:var m=i.readBits(4),x=i.readBits(f.getCharacterCountBits(n));m===r.GB2312_SUBSET&&r.decodeHanziSegment(i,c,x);break;default:var y=i.readBits(f.getCharacterCountBits(n));switch(f){case xo.NUMERIC:r.decodeNumericSegment(i,c,y);break;case xo.ALPHANUMERIC:r.decodeAlphanumericSegment(i,c,y,h);break;case xo.BYTE:r.decodeByteSegment(i,c,y,u,o,s);break;case xo.KANJI:r.decodeKanjiSegment(i,c,y);break;default:throw new xn}break}}while(f!==xo.TERMINATOR)}catch{throw new xn}return new I2(t,c.toString(),o.length===0?null:o,a===null?null:a.toString(),d,l)},r.decodeHanziSegment=function(t,n,a){if(a*13>t.available())throw new xn;for(var s=new Uint8Array(2*a),i=0;a>0;){var c=t.readBits(13),o=c/96<<8&4294967295|c%96;o<959?o+=41377:o+=42657,s[i]=o>>8&255,s[i+1]=o&255,i+=2,a--}try{n.append(Vu.decode(s,ti.GB2312))}catch(d){throw new xn(d)}},r.decodeKanjiSegment=function(t,n,a){if(a*13>t.available())throw new xn;for(var s=new Uint8Array(2*a),i=0;a>0;){var c=t.readBits(13),o=c/192<<8&4294967295|c%192;o<7936?o+=33088:o+=49472,s[i]=o>>8,s[i+1]=o,i+=2,a--}try{n.append(Vu.decode(s,ti.SHIFT_JIS))}catch(d){throw new xn(d)}},r.decodeByteSegment=function(t,n,a,s,i,c){if(8*a>t.available())throw new xn;for(var o=new Uint8Array(a),d=0;d<a;d++)o[d]=t.readBits(8);var l;s===null?l=ti.guessEncoding(o,c):l=s.getName();try{n.append(Vu.decode(o,l))}catch(u){throw new xn(u)}i.push(o)},r.toAlphaNumericChar=function(t){if(t>=r.ALPHANUMERIC_CHARS.length)throw new xn;return r.ALPHANUMERIC_CHARS[t]},r.decodeAlphanumericSegment=function(t,n,a,s){for(var i=n.length();a>1;){if(t.available()<11)throw new xn;var c=t.readBits(11);n.append(r.toAlphaNumericChar(Math.floor(c/45))),n.append(r.toAlphaNumericChar(c%45)),a-=2}if(a===1){if(t.available()<6)throw new xn;n.append(r.toAlphaNumericChar(t.readBits(6)))}if(s)for(var o=i;o<n.length();o++)n.charAt(o)==="%"&&(o<n.length()-1&&n.charAt(o+1)==="%"?n.deleteCharAt(o+1):n.setCharAt(o,""))},r.decodeNumericSegment=function(t,n,a){for(;a>=3;){if(t.available()<10)throw new xn;var s=t.readBits(10);if(s>=1e3)throw new xn;n.append(r.toAlphaNumericChar(Math.floor(s/100))),n.append(r.toAlphaNumericChar(Math.floor(s/10)%10)),n.append(r.toAlphaNumericChar(s%10)),a-=3}if(a===2){if(t.available()<7)throw new xn;var i=t.readBits(7);if(i>=100)throw new xn;n.append(r.toAlphaNumericChar(Math.floor(i/10))),n.append(r.toAlphaNumericChar(i%10))}else if(a===1){if(t.available()<4)throw new xn;var c=t.readBits(4);if(c>=10)throw new xn;n.append(r.toAlphaNumericChar(c))}},r.parseECIValue=function(t){var n=t.readBits(8);if((n&128)===0)return n&127;if((n&192)===128){var a=t.readBits(8);return(n&63)<<8&4294967295|a}if((n&224)===192){var s=t.readBits(16);return(n&31)<<16&4294967295|s}throw new xn},r.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",r.GB2312_SUBSET=1,r})(),SD=(function(){function r(t){this.mirrored=t}return r.prototype.isMirrored=function(){return this.mirrored},r.prototype.applyMirroredCorrection=function(t){if(!(!this.mirrored||t===null||t.length<3)){var n=t[0];t[0]=t[2],t[2]=n}},r})(),e_=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},qoe=(function(){function r(){this.rsDecoder=new T2(Ud.QR_CODE_FIELD_256)}return r.prototype.decodeBooleanArray=function(t,n){return this.decodeBitMatrix(Uh.parseFromBooleanArray(t),n)},r.prototype.decodeBitMatrix=function(t,n){var a=new zoe(t),s=null;try{return this.decodeBitMatrixParser(a,n)}catch(c){s=c}try{a.remask(),a.setMirror(!0),a.readVersion(),a.readFormatInformation(),a.mirror();var i=this.decodeBitMatrixParser(a,n);return i.setOther(new SD(!0)),i}catch(c){throw s!==null?s:c}},r.prototype.decodeBitMatrixParser=function(t,n){var a,s,i,c,o=t.readVersion(),d=t.readFormatInformation().getErrorCorrectionLevel(),l=t.readCodewords(),u=Koe.getDataBlocks(l,o,d),h=0;try{for(var f=e_(u),A=f.next();!A.done;A=f.next()){var g=A.value;h+=g.getNumDataCodewords()}}catch(E){a={error:E}}finally{try{A&&!A.done&&(s=f.return)&&s.call(f)}finally{if(a)throw a.error}}var m=new Uint8Array(h),x=0;try{for(var y=e_(u),j=y.next();!j.done;j=y.next()){var g=j.value,b=g.getCodewords(),S=g.getNumDataCodewords();this.correctErrors(b,S);for(var w=0;w<S;w++)m[x++]=b[w]}}catch(E){i={error:E}}finally{try{j&&!j.done&&(c=y.return)&&c.call(y)}finally{if(i)throw i.error}}return Goe.decode(m,o,d,n)},r.prototype.correctErrors=function(t,n){var a=new Int32Array(t);try{this.rsDecoder.decode(a,t.length-n)}catch{throw new kl}for(var s=0;s<n;s++)t[s]=a[s]},r})(),Xoe=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Yoe=(function(r){Xoe(t,r);function t(n,a,s){var i=r.call(this,n,a)||this;return i.estimatedModuleSize=s,i}return t.prototype.aboutEquals=function(n,a,s){if(Math.abs(a-this.getY())<=n&&Math.abs(s-this.getX())<=n){var i=Math.abs(n-this.estimatedModuleSize);return i<=1||i<=this.estimatedModuleSize}return!1},t.prototype.combineEstimate=function(n,a,s){var i=(this.getX()+a)/2,c=(this.getY()+n)/2,o=(this.estimatedModuleSize+s)/2;return new t(i,c,o)},t})(na),Joe=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Zoe=(function(){function r(t,n,a,s,i,c,o){this.image=t,this.startX=n,this.startY=a,this.width=s,this.height=i,this.moduleSize=c,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return r.prototype.find=function(){for(var t=this.startX,n=this.height,a=this.width,s=t+a,i=this.startY+n/2,c=new Int32Array(3),o=this.image,d=0;d<n;d++){var l=i+((d&1)===0?Math.floor((d+1)/2):-Math.floor((d+1)/2));c[0]=0,c[1]=0,c[2]=0;for(var u=t;u<s&&!o.get(u,l);)u++;for(var h=0;u<s;){if(o.get(u,l))if(h===1)c[1]++;else if(h===2){if(this.foundPatternCross(c)){var f=this.handlePossibleCenter(c,l,u);if(f!==null)return f}c[0]=c[2],c[1]=1,c[2]=0,h=1}else c[++h]++;else h===1&&h++,c[h]++;u++}if(this.foundPatternCross(c)){var f=this.handlePossibleCenter(c,l,s);if(f!==null)return f}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Tr},r.centerFromEnd=function(t,n){return n-t[2]-t[1]/2},r.prototype.foundPatternCross=function(t){for(var n=this.moduleSize,a=n/2,s=0;s<3;s++)if(Math.abs(n-t[s])>=a)return!1;return!0},r.prototype.crossCheckVertical=function(t,n,a,s){var i=this.image,c=i.getHeight(),o=this.crossCheckStateCount;o[0]=0,o[1]=0,o[2]=0;for(var d=t;d>=0&&i.get(n,d)&&o[1]<=a;)o[1]++,d--;if(d<0||o[1]>a)return NaN;for(;d>=0&&!i.get(n,d)&&o[0]<=a;)o[0]++,d--;if(o[0]>a)return NaN;for(d=t+1;d<c&&i.get(n,d)&&o[1]<=a;)o[1]++,d++;if(d===c||o[1]>a)return NaN;for(;d<c&&!i.get(n,d)&&o[2]<=a;)o[2]++,d++;if(o[2]>a)return NaN;var l=o[0]+o[1]+o[2];return 5*Math.abs(l-s)>=2*s?NaN:this.foundPatternCross(o)?r.centerFromEnd(o,d):NaN},r.prototype.handlePossibleCenter=function(t,n,a){var s,i,c=t[0]+t[1]+t[2],o=r.centerFromEnd(t,a),d=this.crossCheckVertical(n,o,2*t[1],c);if(!isNaN(d)){var l=(t[0]+t[1]+t[2])/3;try{for(var u=Joe(this.possibleCenters),h=u.next();!h.done;h=u.next()){var f=h.value;if(f.aboutEquals(l,d,o))return f.combineEstimate(d,o,l)}}catch(g){s={error:g}}finally{try{h&&!h.done&&(i=u.return)&&i.call(u)}finally{if(s)throw s.error}}var A=new Yoe(o,d,l);this.possibleCenters.push(A),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(A)}return null},r})(),ele=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),tle=(function(r){ele(t,r);function t(n,a,s,i){var c=r.call(this,n,a)||this;return c.estimatedModuleSize=s,c.count=i,i===void 0&&(c.count=1),c}return t.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},t.prototype.getCount=function(){return this.count},t.prototype.aboutEquals=function(n,a,s){if(Math.abs(a-this.getY())<=n&&Math.abs(s-this.getX())<=n){var i=Math.abs(n-this.estimatedModuleSize);return i<=1||i<=this.estimatedModuleSize}return!1},t.prototype.combineEstimate=function(n,a,s){var i=this.count+1,c=(this.count*this.getX()+a)/i,o=(this.count*this.getY()+n)/i,d=(this.count*this.estimatedModuleSize+s)/i;return new t(c,o,d,i)},t})(na),rle=(function(){function r(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}return r.prototype.getBottomLeft=function(){return this.bottomLeft},r.prototype.getTopLeft=function(){return this.topLeft},r.prototype.getTopRight=function(){return this.topRight},r})(),Dg=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},nle=(function(){function r(t,n){this.image=t,this.resultPointCallback=n,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=n}return r.prototype.getImage=function(){return this.image},r.prototype.getPossibleCenters=function(){return this.possibleCenters},r.prototype.find=function(t){var n=t!=null&&t.get(co.TRY_HARDER)!==void 0,a=t!=null&&t.get(co.PURE_BARCODE)!==void 0,s=this.image,i=s.getHeight(),c=s.getWidth(),o=Math.floor(3*i/(4*r.MAX_MODULES));(o<r.MIN_SKIP||n)&&(o=r.MIN_SKIP);for(var d=!1,l=new Int32Array(5),u=o-1;u<i&&!d;u+=o){l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0;for(var h=0,f=0;f<c;f++)if(s.get(f,u))(h&1)===1&&h++,l[h]++;else if((h&1)===0)if(h===4)if(r.foundPatternCross(l)){var A=this.handlePossibleCenter(l,u,f,a);if(A===!0)if(o=2,this.hasSkipped===!0)d=this.haveMultiplyConfirmedCenters();else{var g=this.findRowSkip();g>l[2]&&(u+=g-l[2]-o,f=c-1)}else{l[0]=l[2],l[1]=l[3],l[2]=l[4],l[3]=1,l[4]=0,h=3;continue}h=0,l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0}else l[0]=l[2],l[1]=l[3],l[2]=l[4],l[3]=1,l[4]=0,h=3;else l[++h]++;else l[h]++;if(r.foundPatternCross(l)){var A=this.handlePossibleCenter(l,u,c,a);A===!0&&(o=l[0],this.hasSkipped&&(d=this.haveMultiplyConfirmedCenters()))}}var m=this.selectBestPatterns();return na.orderBestPatterns(m),new rle(m)},r.centerFromEnd=function(t,n){return n-t[4]-t[3]-t[2]/2},r.foundPatternCross=function(t){for(var n=0,a=0;a<5;a++){var s=t[a];if(s===0)return!1;n+=s}if(n<7)return!1;var i=n/7,c=i/2;return Math.abs(i-t[0])<c&&Math.abs(i-t[1])<c&&Math.abs(3*i-t[2])<3*c&&Math.abs(i-t[3])<c&&Math.abs(i-t[4])<c},r.prototype.getCrossCheckStateCount=function(){var t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t},r.prototype.crossCheckDiagonal=function(t,n,a,s){for(var i=this.getCrossCheckStateCount(),c=0,o=this.image;t>=c&&n>=c&&o.get(n-c,t-c);)i[2]++,c++;if(t<c||n<c)return!1;for(;t>=c&&n>=c&&!o.get(n-c,t-c)&&i[1]<=a;)i[1]++,c++;if(t<c||n<c||i[1]>a)return!1;for(;t>=c&&n>=c&&o.get(n-c,t-c)&&i[0]<=a;)i[0]++,c++;if(i[0]>a)return!1;var d=o.getHeight(),l=o.getWidth();for(c=1;t+c<d&&n+c<l&&o.get(n+c,t+c);)i[2]++,c++;if(t+c>=d||n+c>=l)return!1;for(;t+c<d&&n+c<l&&!o.get(n+c,t+c)&&i[3]<a;)i[3]++,c++;if(t+c>=d||n+c>=l||i[3]>=a)return!1;for(;t+c<d&&n+c<l&&o.get(n+c,t+c)&&i[4]<a;)i[4]++,c++;if(i[4]>=a)return!1;var u=i[0]+i[1]+i[2]+i[3]+i[4];return Math.abs(u-s)<2*s&&r.foundPatternCross(i)},r.prototype.crossCheckVertical=function(t,n,a,s){for(var i=this.image,c=i.getHeight(),o=this.getCrossCheckStateCount(),d=t;d>=0&&i.get(n,d);)o[2]++,d--;if(d<0)return NaN;for(;d>=0&&!i.get(n,d)&&o[1]<=a;)o[1]++,d--;if(d<0||o[1]>a)return NaN;for(;d>=0&&i.get(n,d)&&o[0]<=a;)o[0]++,d--;if(o[0]>a)return NaN;for(d=t+1;d<c&&i.get(n,d);)o[2]++,d++;if(d===c)return NaN;for(;d<c&&!i.get(n,d)&&o[3]<a;)o[3]++,d++;if(d===c||o[3]>=a)return NaN;for(;d<c&&i.get(n,d)&&o[4]<a;)o[4]++,d++;if(o[4]>=a)return NaN;var l=o[0]+o[1]+o[2]+o[3]+o[4];return 5*Math.abs(l-s)>=2*s?NaN:r.foundPatternCross(o)?r.centerFromEnd(o,d):NaN},r.prototype.crossCheckHorizontal=function(t,n,a,s){for(var i=this.image,c=i.getWidth(),o=this.getCrossCheckStateCount(),d=t;d>=0&&i.get(d,n);)o[2]++,d--;if(d<0)return NaN;for(;d>=0&&!i.get(d,n)&&o[1]<=a;)o[1]++,d--;if(d<0||o[1]>a)return NaN;for(;d>=0&&i.get(d,n)&&o[0]<=a;)o[0]++,d--;if(o[0]>a)return NaN;for(d=t+1;d<c&&i.get(d,n);)o[2]++,d++;if(d===c)return NaN;for(;d<c&&!i.get(d,n)&&o[3]<a;)o[3]++,d++;if(d===c||o[3]>=a)return NaN;for(;d<c&&i.get(d,n)&&o[4]<a;)o[4]++,d++;if(o[4]>=a)return NaN;var l=o[0]+o[1]+o[2]+o[3]+o[4];return 5*Math.abs(l-s)>=s?NaN:r.foundPatternCross(o)?r.centerFromEnd(o,d):NaN},r.prototype.handlePossibleCenter=function(t,n,a,s){var i=t[0]+t[1]+t[2]+t[3]+t[4],c=r.centerFromEnd(t,a),o=this.crossCheckVertical(n,Math.floor(c),t[2],i);if(!isNaN(o)&&(c=this.crossCheckHorizontal(Math.floor(c),Math.floor(o),t[2],i),!isNaN(c)&&(!s||this.crossCheckDiagonal(Math.floor(o),Math.floor(c),t[2],i)))){for(var d=i/7,l=!1,u=this.possibleCenters,h=0,f=u.length;h<f;h++){var A=u[h];if(A.aboutEquals(d,o,c)){u[h]=A.combineEstimate(o,c,d),l=!0;break}}if(!l){var g=new tle(c,o,d);u.push(g),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(g)}return!0}return!1},r.prototype.findRowSkip=function(){var t,n,a=this.possibleCenters.length;if(a<=1)return 0;var s=null;try{for(var i=Dg(this.possibleCenters),c=i.next();!c.done;c=i.next()){var o=c.value;if(o.getCount()>=r.CENTER_QUORUM)if(s==null)s=o;else return this.hasSkipped=!0,Math.floor((Math.abs(s.getX()-o.getX())-Math.abs(s.getY()-o.getY()))/2)}}catch(d){t={error:d}}finally{try{c&&!c.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return 0},r.prototype.haveMultiplyConfirmedCenters=function(){var t,n,a,s,i=0,c=0,o=this.possibleCenters.length;try{for(var d=Dg(this.possibleCenters),l=d.next();!l.done;l=d.next()){var u=l.value;u.getCount()>=r.CENTER_QUORUM&&(i++,c+=u.getEstimatedModuleSize())}}catch(m){t={error:m}}finally{try{l&&!l.done&&(n=d.return)&&n.call(d)}finally{if(t)throw t.error}}if(i<3)return!1;var h=c/o,f=0;try{for(var A=Dg(this.possibleCenters),g=A.next();!g.done;g=A.next()){var u=g.value;f+=Math.abs(u.getEstimatedModuleSize()-h)}}catch(m){a={error:m}}finally{try{g&&!g.done&&(s=A.return)&&s.call(A)}finally{if(a)throw a.error}}return f<=.05*c},r.prototype.selectBestPatterns=function(){var t,n,a,s,i=this.possibleCenters.length;if(i<3)throw new Tr;var c=this.possibleCenters,o;if(i>3){var d=0,l=0;try{for(var u=Dg(this.possibleCenters),h=u.next();!h.done;h=u.next()){var f=h.value,A=f.getEstimatedModuleSize();d+=A,l+=A*A}}catch(w){t={error:w}}finally{try{h&&!h.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}o=d/i;var g=Math.sqrt(l/i-o*o);c.sort(function(w,E){var I=Math.abs(E.getEstimatedModuleSize()-o),L=Math.abs(w.getEstimatedModuleSize()-o);return I<L?-1:I>L?1:0});for(var m=Math.max(.2*o,g),x=0;x<c.length&&c.length>3;x++){var y=c[x];Math.abs(y.getEstimatedModuleSize()-o)>m&&(c.splice(x,1),x--)}}if(c.length>3){var d=0;try{for(var j=Dg(c),b=j.next();!b.done;b=j.next()){var S=b.value;d+=S.getEstimatedModuleSize()}}catch(E){a={error:E}}finally{try{b&&!b.done&&(s=j.return)&&s.call(j)}finally{if(a)throw a.error}}o=d/c.length,c.sort(function(E,I){if(I.getCount()===E.getCount()){var L=Math.abs(I.getEstimatedModuleSize()-o),J=Math.abs(E.getEstimatedModuleSize()-o);return L<J?1:L>J?-1:0}else return I.getCount()-E.getCount()}),c.splice(3)}return[c[0],c[1],c[2]]},r.CENTER_QUORUM=2,r.MIN_SKIP=3,r.MAX_MODULES=57,r})(),ale=(function(){function r(t){this.image=t}return r.prototype.getImage=function(){return this.image},r.prototype.getResultPointCallback=function(){return this.resultPointCallback},r.prototype.detect=function(t){this.resultPointCallback=t==null?null:t.get(co.NEED_RESULT_POINT_CALLBACK);var n=new nle(this.image,this.resultPointCallback),a=n.find(t);return this.processFinderPatternInfo(a)},r.prototype.processFinderPatternInfo=function(t){var n=t.getTopLeft(),a=t.getTopRight(),s=t.getBottomLeft(),i=this.calculateModuleSize(n,a,s);if(i<1)throw new Tr("No pattern found in proccess finder.");var c=r.computeDimension(n,a,s,i),o=lp.getProvisionalVersionForDimension(c),d=o.getDimensionForVersion()-7,l=null;if(o.getAlignmentPatternCenters().length>0)for(var u=a.getX()-n.getX()+s.getX(),h=a.getY()-n.getY()+s.getY(),f=1-3/d,A=Math.floor(n.getX()+f*(u-n.getX())),g=Math.floor(n.getY()+f*(h-n.getY())),m=4;m<=16;m<<=1)try{l=this.findAlignmentInRegion(i,A,g,m);break}catch(b){if(!(b instanceof Tr))throw b}var x=r.createTransform(n,a,s,l,c),y=r.sampleGrid(this.image,x,c),j;return l===null?j=[s,n,a]:j=[s,n,a,l],new ES(y,j)},r.createTransform=function(t,n,a,s,i){var c=i-3.5,o,d,l,u;return s!==null?(o=s.getX(),d=s.getY(),l=c-3,u=l):(o=n.getX()-t.getX()+a.getX(),d=n.getY()-t.getY()+a.getY(),l=c,u=c),yD.quadrilateralToQuadrilateral(3.5,3.5,c,3.5,l,u,3.5,c,t.getX(),t.getY(),n.getX(),n.getY(),o,d,a.getX(),a.getY())},r.sampleGrid=function(t,n,a){var s=BS.getInstance();return s.sampleGridWithTransform(t,a,a,n)},r.computeDimension=function(t,n,a,s){var i=ui.round(na.distance(t,n)/s),c=ui.round(na.distance(t,a)/s),o=Math.floor((i+c)/2)+7;switch(o&3){case 0:o++;break;case 2:o--;break;case 3:throw new Tr("Dimensions could be not found.")}return o},r.prototype.calculateModuleSize=function(t,n,a){return(this.calculateModuleSizeOneWay(t,n)+this.calculateModuleSizeOneWay(t,a))/2},r.prototype.calculateModuleSizeOneWay=function(t,n){var a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(n.getX()),Math.floor(n.getY())),s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(a)?s/7:isNaN(s)?a/7:(a+s)/14},r.prototype.sizeOfBlackWhiteBlackRunBothWays=function(t,n,a,s){var i=this.sizeOfBlackWhiteBlackRun(t,n,a,s),c=1,o=t-(a-t);o<0?(c=t/(t-o),o=0):o>=this.image.getWidth()&&(c=(this.image.getWidth()-1-t)/(o-t),o=this.image.getWidth()-1);var d=Math.floor(n-(s-n)*c);return c=1,d<0?(c=n/(n-d),d=0):d>=this.image.getHeight()&&(c=(this.image.getHeight()-1-n)/(d-n),d=this.image.getHeight()-1),o=Math.floor(t+(o-t)*c),i+=this.sizeOfBlackWhiteBlackRun(t,n,o,d),i-1},r.prototype.sizeOfBlackWhiteBlackRun=function(t,n,a,s){var i=Math.abs(s-n)>Math.abs(a-t);if(i){var c=t;t=n,n=c,c=a,a=s,s=c}for(var o=Math.abs(a-t),d=Math.abs(s-n),l=-o/2,u=t<a?1:-1,h=n<s?1:-1,f=0,A=a+u,g=t,m=n;g!==A;g+=u){var x=i?m:g,y=i?g:m;if(f===1===this.image.get(x,y)){if(f===2)return ui.distance(g,m,t,n);f++}if(l+=d,l>0){if(m===s)break;m+=h,l-=o}}return f===2?ui.distance(a+u,s,t,n):NaN},r.prototype.findAlignmentInRegion=function(t,n,a,s){var i=Math.floor(s*t),c=Math.max(0,n-i),o=Math.min(this.image.getWidth()-1,n+i);if(o-c<t*3)throw new Tr("Alignment top exceeds estimated module size.");var d=Math.max(0,a-i),l=Math.min(this.image.getHeight()-1,a+i);if(l-d<t*3)throw new Tr("Alignment bottom exceeds estimated module size.");var u=new Zoe(this.image,c,d,o-c,l-d,t,this.resultPointCallback);return u.find()},r})(),Mx=(function(){function r(){this.decoder=new qoe}return r.prototype.getDecoder=function(){return this.decoder},r.prototype.decode=function(t,n){var a,s;if(n!=null&&n.get(co.PURE_BARCODE)!==void 0){var i=r.extractPureBits(t.getBlackMatrix());a=this.decoder.decodeBitMatrix(i,n),s=r.NO_POINTS}else{var c=new ale(t.getBlackMatrix()).detect(n);a=this.decoder.decodeBitMatrix(c.getBits(),n),s=c.getPoints()}a.getOther()instanceof SD&&a.getOther().applyMirroredCorrection(s);var o=new ad(a.getText(),a.getRawBytes(),void 0,s,Ia.QR_CODE,void 0),d=a.getByteSegments();d!==null&&o.putMetadata(Qc.BYTE_SEGMENTS,d);var l=a.getECLevel();return l!==null&&o.putMetadata(Qc.ERROR_CORRECTION_LEVEL,l),a.hasStructuredAppend()&&(o.putMetadata(Qc.STRUCTURED_APPEND_SEQUENCE,a.getStructuredAppendSequenceNumber()),o.putMetadata(Qc.STRUCTURED_APPEND_PARITY,a.getStructuredAppendParity())),o},r.prototype.reset=function(){},r.extractPureBits=function(t){var n=t.getTopLeftOnBit(),a=t.getBottomRightOnBit();if(n===null||a===null)throw new Tr;var s=this.moduleSize(n,t),i=n[1],c=a[1],o=n[0],d=a[0];if(o>=d||i>=c)throw new Tr;if(c-i!==d-o&&(d=o+(c-i),d>=t.getWidth()))throw new Tr;var l=Math.round((d-o+1)/s),u=Math.round((c-i+1)/s);if(l<=0||u<=0)throw new Tr;if(u!==l)throw new Tr;var h=Math.floor(s/2);i+=h,o+=h;var f=o+Math.floor((l-1)*s)-d;if(f>0){if(f>h)throw new Tr;o-=f}var A=i+Math.floor((u-1)*s)-c;if(A>0){if(A>h)throw new Tr;i-=A}for(var g=new Uh(l,u),m=0;m<u;m++)for(var x=i+Math.floor(m*s),y=0;y<l;y++)t.get(o+Math.floor(y*s),x)&&g.set(y,m);return g},r.moduleSize=function(t,n){for(var a=n.getHeight(),s=n.getWidth(),i=t[0],c=t[1],o=!0,d=0;i<s&&c<a;){if(o!==n.get(i,c)){if(++d===5)break;o=!o}i++,c++}if(i===s||c===a)throw new Tr;return(i-t[0])/7},r.NO_POINTS=new Array,r})(),sle=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ai=(function(){function r(){}return r.prototype.PDF417Common=function(){},r.getBitCountSum=function(t){return ui.sum(t)},r.toIntArray=function(t){var n,a;if(t==null||!t.length)return r.EMPTY_INT_ARRAY;var s=new Int32Array(t.length),i=0;try{for(var c=sle(t),o=c.next();!o.done;o=c.next()){var d=o.value;s[i++]=d}}catch(l){n={error:l}}finally{try{o&&!o.done&&(a=c.return)&&a.call(c)}finally{if(n)throw n.error}}return s},r.getCodeword=function(t){var n=Jl.binarySearch(r.SYMBOL_TABLE,t&262143);return n<0?-1:(r.CODEWORD_TABLE[n]-1)%r.NUMBER_OF_CODEWORDS},r.NUMBER_OF_CODEWORDS=929,r.MAX_CODEWORDS_IN_BARCODE=r.NUMBER_OF_CODEWORDS-1,r.MIN_ROWS_IN_BARCODE=3,r.MAX_ROWS_IN_BARCODE=90,r.MODULES_IN_CODEWORD=17,r.MODULES_IN_STOP_PATTERN=18,r.BARS_IN_MODULE=8,r.EMPTY_INT_ARRAY=new Int32Array([]),r.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),r.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),r})(),ile=(function(){function r(t,n){this.bits=t,this.points=n}return r.prototype.getBits=function(){return this.bits},r.prototype.getPoints=function(){return this.points},r})(),ole=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},lle=(function(){function r(){}return r.detectMultiple=function(t,n,a){var s=t.getBlackMatrix(),i=r.detect(a,s);return i.length||(s=s.clone(),s.rotate180(),i=r.detect(a,s)),new ile(s,i)},r.detect=function(t,n){for(var a,s,i=new Array,c=0,o=0,d=!1;c<n.getHeight();){var l=r.findVertices(n,c,o);if(l[0]==null&&l[3]==null){if(!d)break;d=!1,o=0;try{for(var u=(a=void 0,ole(i)),h=u.next();!h.done;h=u.next()){var f=h.value;f[1]!=null&&(c=Math.trunc(Math.max(c,f[1].getY()))),f[3]!=null&&(c=Math.max(c,Math.trunc(f[3].getY())))}}catch(A){a={error:A}}finally{try{h&&!h.done&&(s=u.return)&&s.call(u)}finally{if(a)throw a.error}}c+=r.ROW_STEP;continue}if(d=!0,i.push(l),!t)break;l[2]!=null?(o=Math.trunc(l[2].getX()),c=Math.trunc(l[2].getY())):(o=Math.trunc(l[4].getX()),c=Math.trunc(l[4].getY()))}return i},r.findVertices=function(t,n,a){var s=t.getHeight(),i=t.getWidth(),c=new Array(8);return r.copyToResult(c,r.findRowsWithPattern(t,s,i,n,a,r.START_PATTERN),r.INDEXES_START_PATTERN),c[4]!=null&&(a=Math.trunc(c[4].getX()),n=Math.trunc(c[4].getY())),r.copyToResult(c,r.findRowsWithPattern(t,s,i,n,a,r.STOP_PATTERN),r.INDEXES_STOP_PATTERN),c},r.copyToResult=function(t,n,a){for(var s=0;s<a.length;s++)t[a[s]]=n[s]},r.findRowsWithPattern=function(t,n,a,s,i,c){for(var o=new Array(4),d=!1,l=new Int32Array(c.length);s<n;s+=r.ROW_STEP){var u=r.findGuardPattern(t,i,s,a,!1,c,l);if(u!=null){for(;s>0;){var h=r.findGuardPattern(t,i,--s,a,!1,c,l);if(h!=null)u=h;else{s++;break}}o[0]=new na(u[0],s),o[1]=new na(u[1],s),d=!0;break}}var f=s+1;if(d){for(var A=0,h=Int32Array.from([Math.trunc(o[0].getX()),Math.trunc(o[1].getX())]);f<n;f++){var u=r.findGuardPattern(t,h[0],f,a,!1,c,l);if(u!=null&&Math.abs(h[0]-u[0])<r.MAX_PATTERN_DRIFT&&Math.abs(h[1]-u[1])<r.MAX_PATTERN_DRIFT)h=u,A=0;else{if(A>r.SKIPPED_ROW_COUNT_MAX)break;A++}}f-=A+1,o[2]=new na(h[0],f),o[3]=new na(h[1],f)}return f-s<r.BARCODE_MIN_HEIGHT&&Jl.fill(o,null),o},r.findGuardPattern=function(t,n,a,s,i,c,o){Jl.fillWithin(o,0,o.length,0);for(var d=n,l=0;t.get(d,a)&&d>0&&l++<r.MAX_PIXEL_DRIFT;)d--;for(var u=d,h=0,f=c.length,A=i;u<s;u++){var g=t.get(u,a);if(g!==A)o[h]++;else{if(h===f-1){if(r.patternMatchVariance(o,c,r.MAX_INDIVIDUAL_VARIANCE)<r.MAX_AVG_VARIANCE)return new Int32Array([d,u]);d+=o[0]+o[1],lo.arraycopy(o,2,o,0,h-1),o[h-1]=0,o[h]=0,h--}else h++;o[h]=1,A=!A}}return h===f-1&&r.patternMatchVariance(o,c,r.MAX_INDIVIDUAL_VARIANCE)<r.MAX_AVG_VARIANCE?new Int32Array([d,u-1]):null},r.patternMatchVariance=function(t,n,a){for(var s=t.length,i=0,c=0,o=0;o<s;o++)i+=t[o],c+=n[o];if(i<c)return 1/0;var d=i/c;a*=d;for(var l=0,u=0;u<s;u++){var h=t[u],f=n[u]*d,A=h>f?h-f:f-h;if(A>a)return 1/0;l+=A}return l/i},r.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),r.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),r.MAX_AVG_VARIANCE=.42,r.MAX_INDIVIDUAL_VARIANCE=.8,r.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),r.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),r.MAX_PIXEL_DRIFT=3,r.MAX_PATTERN_DRIFT=5,r.SKIPPED_ROW_COUNT_MAX=25,r.ROW_STEP=5,r.BARCODE_MIN_HEIGHT=10,r})(),cle=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},np=(function(){function r(t,n){if(n.length===0)throw new Ta;this.field=t;var a=n.length;if(a>1&&n[0]===0){for(var s=1;s<a&&n[s]===0;)s++;s===a?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(a-s),lo.arraycopy(n,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}return r.prototype.getCoefficients=function(){return this.coefficients},r.prototype.getDegree=function(){return this.coefficients.length-1},r.prototype.isZero=function(){return this.coefficients[0]===0},r.prototype.getCoefficient=function(t){return this.coefficients[this.coefficients.length-1-t]},r.prototype.evaluateAt=function(t){var n,a;if(t===0)return this.getCoefficient(0);if(t===1){var s=0;try{for(var i=cle(this.coefficients),c=i.next();!c.done;c=i.next()){var o=c.value;s=this.field.add(s,o)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}return s}for(var d=this.coefficients[0],l=this.coefficients.length,u=1;u<l;u++)d=this.field.add(this.field.multiply(t,d),this.coefficients[u]);return d},r.prototype.add=function(t){if(!this.field.equals(t.field))throw new Ta("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;var n=this.coefficients,a=t.coefficients;if(n.length>a.length){var s=n;n=a,a=s}var i=new Int32Array(a.length),c=a.length-n.length;lo.arraycopy(a,0,i,0,c);for(var o=c;o<a.length;o++)i[o]=this.field.add(n[o-c],a[o]);return new r(this.field,i)},r.prototype.subtract=function(t){if(!this.field.equals(t.field))throw new Ta("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())},r.prototype.multiply=function(t){return t instanceof r?this.multiplyOther(t):this.multiplyScalar(t)},r.prototype.multiplyOther=function(t){if(!this.field.equals(t.field))throw new Ta("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new r(this.field,new Int32Array([0]));for(var n=this.coefficients,a=n.length,s=t.coefficients,i=s.length,c=new Int32Array(a+i-1),o=0;o<a;o++)for(var d=n[o],l=0;l<i;l++)c[o+l]=this.field.add(c[o+l],this.field.multiply(d,s[l]));return new r(this.field,c)},r.prototype.negative=function(){for(var t=this.coefficients.length,n=new Int32Array(t),a=0;a<t;a++)n[a]=this.field.subtract(0,this.coefficients[a]);return new r(this.field,n)},r.prototype.multiplyScalar=function(t){if(t===0)return new r(this.field,new Int32Array([0]));if(t===1)return this;for(var n=this.coefficients.length,a=new Int32Array(n),s=0;s<n;s++)a[s]=this.field.multiply(this.coefficients[s],t);return new r(this.field,a)},r.prototype.multiplyByMonomial=function(t,n){if(t<0)throw new Ta;if(n===0)return new r(this.field,new Int32Array([0]));for(var a=this.coefficients.length,s=new Int32Array(a+t),i=0;i<a;i++)s[i]=this.field.multiply(this.coefficients[i],n);return new r(this.field,s)},r.prototype.toString=function(){for(var t=new Bs,n=this.getDegree();n>=0;n--){var a=this.getCoefficient(n);a!==0&&(a<0?(t.append(" - "),a=-a):t.length()>0&&t.append(" + "),(n===0||a!==1)&&t.append(a),n!==0&&(n===1?t.append("x"):(t.append("x^"),t.append(n))))}return t.toString()},r})(),dle=(function(){function r(){}return r.prototype.add=function(t,n){return(t+n)%this.modulus},r.prototype.subtract=function(t,n){return(this.modulus+t-n)%this.modulus},r.prototype.exp=function(t){return this.expTable[t]},r.prototype.log=function(t){if(t===0)throw new Ta;return this.logTable[t]},r.prototype.inverse=function(t){if(t===0)throw new xD;return this.expTable[this.modulus-this.logTable[t]-1]},r.prototype.multiply=function(t,n){return t===0||n===0?0:this.expTable[(this.logTable[t]+this.logTable[n])%(this.modulus-1)]},r.prototype.getSize=function(){return this.modulus},r.prototype.equals=function(t){return t===this},r})(),ule=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),hle=(function(r){ule(t,r);function t(n,a){var s=r.call(this)||this;s.modulus=n,s.expTable=new Int32Array(n),s.logTable=new Int32Array(n);for(var i=1,c=0;c<n;c++)s.expTable[c]=i,i=i*a%n;for(var c=0;c<n-1;c++)s.logTable[s.expTable[c]]=c;return s.zero=new np(s,new Int32Array([0])),s.one=new np(s,new Int32Array([1])),s}return t.prototype.getZero=function(){return this.zero},t.prototype.getOne=function(){return this.one},t.prototype.buildMonomial=function(n,a){if(n<0)throw new Ta;if(a===0)return this.zero;var s=new Int32Array(n+1);return s[0]=a,new np(this,s)},t.PDF417_GF=new t(ai.NUMBER_OF_CODEWORDS,3),t})(dle),fle=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ale=(function(){function r(){this.field=hle.PDF417_GF}return r.prototype.decode=function(t,n,a){for(var s,i,c=new np(this.field,t),o=new Int32Array(n),d=!1,l=n;l>0;l--){var u=c.evaluateAt(this.field.exp(l));o[n-l]=u,u!==0&&(d=!0)}if(!d)return 0;var h=this.field.getOne();if(a!=null)try{for(var f=fle(a),A=f.next();!A.done;A=f.next()){var g=A.value,m=this.field.exp(t.length-1-g),x=new np(this.field,new Int32Array([this.field.subtract(0,m),1]));h=h.multiply(x)}}catch(L){s={error:L}}finally{try{A&&!A.done&&(i=f.return)&&i.call(f)}finally{if(s)throw s.error}}for(var y=new np(this.field,o),j=this.runEuclideanAlgorithm(this.field.buildMonomial(n,1),y,n),b=j[0],S=j[1],w=this.findErrorLocations(b),E=this.findErrorMagnitudes(S,b,w),l=0;l<w.length;l++){var I=t.length-1-this.field.log(w[l]);if(I<0)throw kl.getChecksumInstance();t[I]=this.field.subtract(t[I],E[l])}return w.length},r.prototype.runEuclideanAlgorithm=function(t,n,a){if(t.getDegree()<n.getDegree()){var s=t;t=n,n=s}for(var i=t,c=n,o=this.field.getZero(),d=this.field.getOne();c.getDegree()>=Math.round(a/2);){var l=i,u=o;if(i=c,o=d,i.isZero())throw kl.getChecksumInstance();c=l;for(var h=this.field.getZero(),f=i.getCoefficient(i.getDegree()),A=this.field.inverse(f);c.getDegree()>=i.getDegree()&&!c.isZero();){var g=c.getDegree()-i.getDegree(),m=this.field.multiply(c.getCoefficient(c.getDegree()),A);h=h.add(this.field.buildMonomial(g,m)),c=c.subtract(i.multiplyByMonomial(g,m))}d=h.multiply(o).subtract(u).negative()}var x=d.getCoefficient(0);if(x===0)throw kl.getChecksumInstance();var y=this.field.inverse(x),j=d.multiply(y),b=c.multiply(y);return[j,b]},r.prototype.findErrorLocations=function(t){for(var n=t.getDegree(),a=new Int32Array(n),s=0,i=1;i<this.field.getSize()&&s<n;i++)t.evaluateAt(i)===0&&(a[s]=this.field.inverse(i),s++);if(s!==n)throw kl.getChecksumInstance();return a},r.prototype.findErrorMagnitudes=function(t,n,a){for(var s=n.getDegree(),i=new Int32Array(s),c=1;c<=s;c++)i[s-c]=this.field.multiply(c,n.getCoefficient(c));for(var o=new np(this.field,i),d=a.length,l=new Int32Array(d),c=0;c<d;c++){var u=this.field.inverse(a[c]),h=this.field.subtract(0,t.evaluateAt(u)),f=this.field.inverse(o.evaluateAt(u));l[c]=this.field.multiply(h,f)}return l},r})(),o4=(function(){function r(t,n,a,s,i){t instanceof r?this.constructor_2(t):this.constructor_1(t,n,a,s,i)}return r.prototype.constructor_1=function(t,n,a,s,i){var c=n==null||a==null,o=s==null||i==null;if(c&&o)throw new Tr;c?(n=new na(0,s.getY()),a=new na(0,i.getY())):o&&(s=new na(t.getWidth()-1,n.getY()),i=new na(t.getWidth()-1,a.getY())),this.image=t,this.topLeft=n,this.bottomLeft=a,this.topRight=s,this.bottomRight=i,this.minX=Math.trunc(Math.min(n.getX(),a.getX())),this.maxX=Math.trunc(Math.max(s.getX(),i.getX())),this.minY=Math.trunc(Math.min(n.getY(),s.getY())),this.maxY=Math.trunc(Math.max(a.getY(),i.getY()))},r.prototype.constructor_2=function(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()},r.merge=function(t,n){return t==null?n:n==null?t:new r(t.image,t.topLeft,t.bottomLeft,n.topRight,n.bottomRight)},r.prototype.addMissingRows=function(t,n,a){var s=this.topLeft,i=this.bottomLeft,c=this.topRight,o=this.bottomRight;if(t>0){var d=a?this.topLeft:this.topRight,l=Math.trunc(d.getY()-t);l<0&&(l=0);var u=new na(d.getX(),l);a?s=u:c=u}if(n>0){var h=a?this.bottomLeft:this.bottomRight,f=Math.trunc(h.getY()+n);f>=this.image.getHeight()&&(f=this.image.getHeight()-1);var A=new na(h.getX(),f);a?i=A:o=A}return new r(this.image,s,i,c,o)},r.prototype.getMinX=function(){return this.minX},r.prototype.getMaxX=function(){return this.maxX},r.prototype.getMinY=function(){return this.minY},r.prototype.getMaxY=function(){return this.maxY},r.prototype.getTopLeft=function(){return this.topLeft},r.prototype.getTopRight=function(){return this.topRight},r.prototype.getBottomLeft=function(){return this.bottomLeft},r.prototype.getBottomRight=function(){return this.bottomRight},r})(),ple=(function(){function r(t,n,a,s){this.columnCount=t,this.errorCorrectionLevel=s,this.rowCountUpperPart=n,this.rowCountLowerPart=a,this.rowCount=n+a}return r.prototype.getColumnCount=function(){return this.columnCount},r.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},r.prototype.getRowCount=function(){return this.rowCount},r.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},r.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},r})(),TS=(function(){function r(){this.buffer=""}return r.form=function(t,n){var a=-1;function s(c,o,d,l,u,h){if(c==="%%")return"%";if(n[++a]!==void 0){c=l?parseInt(l.substr(1)):void 0;var f=u?parseInt(u.substr(1)):void 0,A;switch(h){case"s":A=n[a];break;case"c":A=n[a][0];break;case"f":A=parseFloat(n[a]).toFixed(c);break;case"p":A=parseFloat(n[a]).toPrecision(c);break;case"e":A=parseFloat(n[a]).toExponential(c);break;case"x":A=parseInt(n[a]).toString(f||16);break;case"d":A=parseFloat(parseInt(n[a],f||10).toPrecision(c)).toFixed(0);break}A=typeof A=="object"?JSON.stringify(A):(+A).toString(f);for(var g=parseInt(d),m=d&&d[0]+""=="0"?"0":" ";A.length<g;)A=o!==void 0?A+m:m+A;return A}}var i=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(i,s)},r.prototype.format=function(t){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];this.buffer+=r.form(t,n)},r.prototype.toString=function(){return this.buffer},r})(),mle=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ED=(function(){function r(t){this.boundingBox=new o4(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}return r.prototype.getCodewordNearby=function(t){var n=this.getCodeword(t);if(n!=null)return n;for(var a=1;a<r.MAX_NEARBY_DISTANCE;a++){var s=this.imageRowToCodewordIndex(t)-a;if(s>=0&&(n=this.codewords[s],n!=null)||(s=this.imageRowToCodewordIndex(t)+a,s<this.codewords.length&&(n=this.codewords[s],n!=null)))return n}return null},r.prototype.imageRowToCodewordIndex=function(t){return t-this.boundingBox.getMinY()},r.prototype.setCodeword=function(t,n){this.codewords[this.imageRowToCodewordIndex(t)]=n},r.prototype.getCodeword=function(t){return this.codewords[this.imageRowToCodewordIndex(t)]},r.prototype.getBoundingBox=function(){return this.boundingBox},r.prototype.getCodewords=function(){return this.codewords},r.prototype.toString=function(){var t,n,a=new TS,s=0;try{for(var i=mle(this.codewords),c=i.next();!c.done;c=i.next()){var o=c.value;if(o==null){a.format("%3d:    |   %n",s++);continue}a.format("%3d: %3d|%3d%n",s++,o.getRowNumber(),o.getValue())}}catch(d){t={error:d}}finally{try{c&&!c.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return a.toString()},r.MAX_NEARBY_DISTANCE=5,r})(),gle=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},vle=function(r,t){var n=typeof Symbol=="function"&&r[Symbol.iterator];if(!n)return r;var a=n.call(r),s,i=[],c;try{for(;(t===void 0||t-- >0)&&!(s=a.next()).done;)i.push(s.value)}catch(o){c={error:o}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(c)throw c.error}}return i},qg=(function(){function r(){this.values=new Map}return r.prototype.setValue=function(t){t=Math.trunc(t);var n=this.values.get(t);n==null&&(n=0),n++,this.values.set(t,n)},r.prototype.getValue=function(){var t,n,a=-1,s=new Array,i=function(h,f){var A={getKey:function(){return h},getValue:function(){return f}};A.getValue()>a?(a=A.getValue(),s=[],s.push(A.getKey())):A.getValue()===a&&s.push(A.getKey())};try{for(var c=gle(this.values.entries()),o=c.next();!o.done;o=c.next()){var d=vle(o.value,2),l=d[0],u=d[1];i(l,u)}}catch(h){t={error:h}}finally{try{o&&!o.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return ai.toIntArray(s)},r.prototype.getConfidence=function(t){return this.values.get(t)},r})(),xle=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),jC=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},t_=(function(r){xle(t,r);function t(n,a){var s=r.call(this,n)||this;return s._isLeft=a,s}return t.prototype.setRowNumbers=function(){var n,a;try{for(var s=jC(this.getCodewords()),i=s.next();!i.done;i=s.next()){var c=i.value;c!=null&&c.setRowNumberAsRowIndicatorColumn()}}catch(o){n={error:o}}finally{try{i&&!i.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}},t.prototype.adjustCompleteIndicatorColumnRowNumbers=function(n){var a=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(a,n);for(var s=this.getBoundingBox(),i=this._isLeft?s.getTopLeft():s.getTopRight(),c=this._isLeft?s.getBottomLeft():s.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(i.getY())),d=this.imageRowToCodewordIndex(Math.trunc(c.getY())),l=-1,u=1,h=0,f=o;f<d;f++)if(a[f]!=null){var A=a[f],g=A.getRowNumber()-l;if(g===0)h++;else if(g===1)u=Math.max(u,h),h=1,l=A.getRowNumber();else if(g<0||A.getRowNumber()>=n.getRowCount()||g>f)a[f]=null;else{var m=void 0;u>2?m=(u-2)*g:m=g;for(var x=m>=f,y=1;y<=m&&!x;y++)x=a[f-y]!=null;x?a[f]=null:(l=A.getRowNumber(),h=1)}}},t.prototype.getRowHeights=function(){var n,a,s=this.getBarcodeMetadata();if(s==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(s);var i=new Int32Array(s.getRowCount());try{for(var c=jC(this.getCodewords()),o=c.next();!o.done;o=c.next()){var d=o.value;if(d!=null){var l=d.getRowNumber();if(l>=i.length)continue;i[l]++}}}catch(u){n={error:u}}finally{try{o&&!o.done&&(a=c.return)&&a.call(c)}finally{if(n)throw n.error}}return i},t.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(n){for(var a=this.getBoundingBox(),s=this._isLeft?a.getTopLeft():a.getTopRight(),i=this._isLeft?a.getBottomLeft():a.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(s.getY())),o=this.imageRowToCodewordIndex(Math.trunc(i.getY())),d=this.getCodewords(),l=-1,u=c;u<o;u++)if(d[u]!=null){var h=d[u];h.setRowNumberAsRowIndicatorColumn();var f=h.getRowNumber()-l;f===0||(f===1?l=h.getRowNumber():h.getRowNumber()>=n.getRowCount()?d[u]=null:l=h.getRowNumber())}},t.prototype.getBarcodeMetadata=function(){var n,a,s=this.getCodewords(),i=new qg,c=new qg,o=new qg,d=new qg;try{for(var l=jC(s),u=l.next();!u.done;u=l.next()){var h=u.value;if(h!=null){h.setRowNumberAsRowIndicatorColumn();var f=h.getValue()%30,A=h.getRowNumber();switch(this._isLeft||(A+=2),A%3){case 0:c.setValue(f*3+1);break;case 1:d.setValue(f/3),o.setValue(f%3);break;case 2:i.setValue(f+1);break}}}}catch(m){n={error:m}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(n)throw n.error}}if(i.getValue().length===0||c.getValue().length===0||o.getValue().length===0||d.getValue().length===0||i.getValue()[0]<1||c.getValue()[0]+o.getValue()[0]<ai.MIN_ROWS_IN_BARCODE||c.getValue()[0]+o.getValue()[0]>ai.MAX_ROWS_IN_BARCODE)return null;var g=new ple(i.getValue()[0],c.getValue()[0],o.getValue()[0],d.getValue()[0]);return this.removeIncorrectCodewords(s,g),g},t.prototype.removeIncorrectCodewords=function(n,a){for(var s=0;s<n.length;s++){var i=n[s];if(n[s]!=null){var c=i.getValue()%30,o=i.getRowNumber();if(o>a.getRowCount()){n[s]=null;continue}switch(this._isLeft||(o+=2),o%3){case 0:c*3+1!==a.getRowCountUpperPart()&&(n[s]=null);break;case 1:(Math.trunc(c/3)!==a.getErrorCorrectionLevel()||c%3!==a.getRowCountLowerPart())&&(n[s]=null);break;case 2:c+1!==a.getColumnCount()&&(n[s]=null);break}}}},t.prototype.isLeft=function(){return this._isLeft},t.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+r.prototype.toString.call(this)},t})(ED),yle=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},jle=(function(){function r(t,n){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=n,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return r.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var t=ai.MAX_CODEWORDS_IN_BARCODE,n;do n=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<n);return this.detectionResultColumns},r.prototype.adjustIndicatorColumnRowNumbers=function(t){t!=null&&t.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},r.prototype.adjustRowNumbersAndGetCount=function(){var t=this.adjustRowNumbersByRow();if(t===0)return 0;for(var n=1;n<this.barcodeColumnCount+1;n++)for(var a=this.detectionResultColumns[n].getCodewords(),s=0;s<a.length;s++)a[s]!=null&&(a[s].hasValidRowNumber()||this.adjustRowNumbers(n,s,a));return t},r.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var t=this.adjustRowNumbersFromLRI();return t+this.adjustRowNumbersFromRRI()},r.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var t=this.detectionResultColumns[0].getCodewords(),n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),a=0;a<t.length;a++)if(t[a]!=null&&n[a]!=null&&t[a].getRowNumber()===n[a].getRowNumber())for(var s=1;s<=this.barcodeColumnCount;s++){var i=this.detectionResultColumns[s].getCodewords()[a];i!=null&&(i.setRowNumber(t[a].getRowNumber()),i.hasValidRowNumber()||(this.detectionResultColumns[s].getCodewords()[a]=null))}}},r.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var t=0,n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),a=0;a<n.length;a++)if(n[a]!=null)for(var s=n[a].getRowNumber(),i=0,c=this.barcodeColumnCount+1;c>0&&i<this.ADJUST_ROW_NUMBER_SKIP;c--){var o=this.detectionResultColumns[c].getCodewords()[a];o!=null&&(i=r.adjustRowNumberIfValid(s,i,o),o.hasValidRowNumber()||t++)}return t},r.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var t=0,n=this.detectionResultColumns[0].getCodewords(),a=0;a<n.length;a++)if(n[a]!=null)for(var s=n[a].getRowNumber(),i=0,c=1;c<this.barcodeColumnCount+1&&i<this.ADJUST_ROW_NUMBER_SKIP;c++){var o=this.detectionResultColumns[c].getCodewords()[a];o!=null&&(i=r.adjustRowNumberIfValid(s,i,o),o.hasValidRowNumber()||t++)}return t},r.adjustRowNumberIfValid=function(t,n,a){return a==null||a.hasValidRowNumber()||(a.isValidRowNumber(t)?(a.setRowNumber(t),n=0):++n),n},r.prototype.adjustRowNumbers=function(t,n,a){var s,i;if(this.detectionResultColumns[t-1]!=null){var c=a[n],o=this.detectionResultColumns[t-1].getCodewords(),d=o;this.detectionResultColumns[t+1]!=null&&(d=this.detectionResultColumns[t+1].getCodewords());var l=new Array(14);l[2]=o[n],l[3]=d[n],n>0&&(l[0]=a[n-1],l[4]=o[n-1],l[5]=d[n-1]),n>1&&(l[8]=a[n-2],l[10]=o[n-2],l[11]=d[n-2]),n<a.length-1&&(l[1]=a[n+1],l[6]=o[n+1],l[7]=d[n+1]),n<a.length-2&&(l[9]=a[n+2],l[12]=o[n+2],l[13]=d[n+2]);try{for(var u=yle(l),h=u.next();!h.done;h=u.next()){var f=h.value;if(r.adjustRowNumber(c,f))return}}catch(A){s={error:A}}finally{try{h&&!h.done&&(i=u.return)&&i.call(u)}finally{if(s)throw s.error}}}},r.adjustRowNumber=function(t,n){return n==null?!1:n.hasValidRowNumber()&&n.getBucket()===t.getBucket()?(t.setRowNumber(n.getRowNumber()),!0):!1},r.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},r.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},r.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},r.prototype.setBoundingBox=function(t){this.boundingBox=t},r.prototype.getBoundingBox=function(){return this.boundingBox},r.prototype.setDetectionResultColumn=function(t,n){this.detectionResultColumns[t]=n},r.prototype.getDetectionResultColumn=function(t){return this.detectionResultColumns[t]},r.prototype.toString=function(){var t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var n=new TS,a=0;a<t.getCodewords().length;a++){n.format("CW %3d:",a);for(var s=0;s<this.barcodeColumnCount+2;s++){if(this.detectionResultColumns[s]==null){n.format("    |   ");continue}var i=this.detectionResultColumns[s].getCodewords()[a];if(i==null){n.format("    |   ");continue}n.format(" %3d|%3d",i.getRowNumber(),i.getValue())}n.format("%n")}return n.toString()},r})(),ble=(function(){function r(t,n,a,s){this.rowNumber=r.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(n),this.bucket=Math.trunc(a),this.value=Math.trunc(s)}return r.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},r.prototype.isValidRowNumber=function(t){return t!==r.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3},r.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},r.prototype.getWidth=function(){return this.endX-this.startX},r.prototype.getStartX=function(){return this.startX},r.prototype.getEndX=function(){return this.endX},r.prototype.getBucket=function(){return this.bucket},r.prototype.getValue=function(){return this.value},r.prototype.getRowNumber=function(){return this.rowNumber},r.prototype.setRowNumber=function(t){this.rowNumber=t},r.prototype.toString=function(){return this.rowNumber+"|"+this.value},r.BARCODE_ROW_UNKNOWN=-1,r})(),wle=(function(){function r(){}return r.initialize=function(){for(var t=0;t<ai.SYMBOL_TABLE.length;t++)for(var n=ai.SYMBOL_TABLE[t],a=n&1,s=0;s<ai.BARS_IN_MODULE;s++){for(var i=0;(n&1)===a;)i+=1,n>>=1;a=n&1,r.RATIOS_TABLE[t]||(r.RATIOS_TABLE[t]=new Array(ai.BARS_IN_MODULE)),r.RATIOS_TABLE[t][ai.BARS_IN_MODULE-s-1]=Math.fround(i/ai.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},r.getDecodedValue=function(t){var n=r.getDecodedCodewordValue(r.sampleBitCounts(t));return n!==-1?n:r.getClosestDecodedValue(t)},r.sampleBitCounts=function(t){for(var n=ui.sum(t),a=new Int32Array(ai.BARS_IN_MODULE),s=0,i=0,c=0;c<ai.MODULES_IN_CODEWORD;c++){var o=n/(2*ai.MODULES_IN_CODEWORD)+c*n/ai.MODULES_IN_CODEWORD;i+t[s]<=o&&(i+=t[s],s++),a[s]++}return a},r.getDecodedCodewordValue=function(t){var n=r.getBitValue(t);return ai.getCodeword(n)===-1?-1:n},r.getBitValue=function(t){for(var n=0,a=0;a<t.length;a++)for(var s=0;s<t[a];s++)n=n<<1|(a%2===0?1:0);return Math.trunc(n)},r.getClosestDecodedValue=function(t){var n=ui.sum(t),a=new Array(ai.BARS_IN_MODULE);if(n>1)for(var s=0;s<a.length;s++)a[s]=Math.fround(t[s]/n);var i=a4.MAX_VALUE,c=-1;this.bSymbolTableReady||r.initialize();for(var o=0;o<r.RATIOS_TABLE.length;o++){for(var d=0,l=r.RATIOS_TABLE[o],u=0;u<ai.BARS_IN_MODULE;u++){var h=Math.fround(l[u]-a[u]);if(d+=Math.fround(h*h),d>=i)break}d<i&&(i=d,c=ai.SYMBOL_TABLE[o])}return c},r.bSymbolTableReady=!1,r.RATIOS_TABLE=new Array(ai.SYMBOL_TABLE.length).map(function(t){return new Array(ai.BARS_IN_MODULE)}),r})(),Cle=(function(){function r(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return r.prototype.getSegmentIndex=function(){return this.segmentIndex},r.prototype.setSegmentIndex=function(t){this.segmentIndex=t},r.prototype.getFileId=function(){return this.fileId},r.prototype.setFileId=function(t){this.fileId=t},r.prototype.getOptionalData=function(){return this.optionalData},r.prototype.setOptionalData=function(t){this.optionalData=t},r.prototype.isLastSegment=function(){return this.lastSegment},r.prototype.setLastSegment=function(t){this.lastSegment=t},r.prototype.getSegmentCount=function(){return this.segmentCount},r.prototype.setSegmentCount=function(t){this.segmentCount=t},r.prototype.getSender=function(){return this.sender||null},r.prototype.setSender=function(t){this.sender=t},r.prototype.getAddressee=function(){return this.addressee||null},r.prototype.setAddressee=function(t){this.addressee=t},r.prototype.getFileName=function(){return this.fileName},r.prototype.setFileName=function(t){this.fileName=t},r.prototype.getFileSize=function(){return this.fileSize},r.prototype.setFileSize=function(t){this.fileSize=t},r.prototype.getChecksum=function(){return this.checksum},r.prototype.setChecksum=function(t){this.checksum=t},r.prototype.getTimestamp=function(){return this.timestamp},r.prototype.setTimestamp=function(t){this.timestamp=t},r})(),r_=(function(){function r(){}return r.parseLong=function(t,n){return n===void 0&&(n=void 0),parseInt(t,n)},r})(),Nle=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Sle=(function(r){Nle(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.kind="NullPointerException",t})(Wd),Ele=(function(){function r(){}return r.prototype.writeBytes=function(t){this.writeBytesOffset(t,0,t.length)},r.prototype.writeBytesOffset=function(t,n,a){if(t==null)throw new Sle;if(n<0||n>t.length||a<0||n+a>t.length||n+a<0)throw new SS;if(a===0)return;for(var s=0;s<a;s++)this.write(t[n+s])},r.prototype.flush=function(){},r.prototype.close=function(){},r})(),Ble=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Ile=(function(r){Ble(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t})(Wd),Tle=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),kle=(function(r){Tle(t,r);function t(n){n===void 0&&(n=32);var a=r.call(this)||this;if(a.count=0,n<0)throw new Ta("Negative initial size: "+n);return a.buf=new Uint8Array(n),a}return t.prototype.ensureCapacity=function(n){n-this.buf.length>0&&this.grow(n)},t.prototype.grow=function(n){var a=this.buf.length,s=a<<1;if(s-n<0&&(s=n),s<0){if(n<0)throw new Ile;s=_s.MAX_VALUE}this.buf=Jl.copyOfUint8Array(this.buf,s)},t.prototype.write=function(n){this.ensureCapacity(this.count+1),this.buf[this.count]=n,this.count+=1},t.prototype.writeBytesOffset=function(n,a,s){if(a<0||a>n.length||s<0||a+s-n.length>0)throw new SS;this.ensureCapacity(this.count+s),lo.arraycopy(n,a,this.buf,this.count,s),this.count+=s},t.prototype.writeTo=function(n){n.writeBytesOffset(this.buf,0,this.count)},t.prototype.reset=function(){this.count=0},t.prototype.toByteArray=function(){return Jl.copyOfUint8Array(this.buf,this.count)},t.prototype.size=function(){return this.count},t.prototype.toString=function(n){return n?typeof n=="string"?this.toString_string(n):this.toString_number(n):this.toString_void()},t.prototype.toString_void=function(){return new String(this.buf).toString()},t.prototype.toString_string=function(n){return new String(this.buf).toString()},t.prototype.toString_number=function(n){return new String(this.buf).toString()},t.prototype.close=function(){},t})(Ele),$i;(function(r){r[r.ALPHA=0]="ALPHA",r[r.LOWER=1]="LOWER",r[r.MIXED=2]="MIXED",r[r.PUNCT=3]="PUNCT",r[r.ALPHA_SHIFT=4]="ALPHA_SHIFT",r[r.PUNCT_SHIFT=5]="PUNCT_SHIFT"})($i||($i={}));function BD(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var bv;function rA(r){if(typeof bv>"u"&&(bv=BD()),bv===null)throw new Error("BigInt is not supported!");return bv(r)}function _le(){var r=[];r[0]=rA(1);var t=rA(900);r[1]=t;for(var n=2;n<16;n++)r[n]=r[n-1]*t;return r}var Ole=(function(){function r(){}return r.decode=function(t,n){var a=new Bs(""),s=Xl.ISO8859_1;a.enableDecoding(s);for(var i=1,c=t[i++],o=new Cle;i<t[0];){switch(c){case r.TEXT_COMPACTION_MODE_LATCH:i=r.textCompaction(t,i,a);break;case r.BYTE_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:i=r.byteCompaction(c,t,s,i,a);break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(t[i++]);break;case r.NUMERIC_COMPACTION_MODE_LATCH:i=r.numericCompaction(t,i,a);break;case r.ECI_CHARSET:Xl.getCharacterSetECIByValue(t[i++]);break;case r.ECI_GENERAL_PURPOSE:i+=2;break;case r.ECI_USER_DEFINED:i++;break;case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:i=r.decodeMacroBlock(t,i,o);break;case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:throw new xn;default:i--,i=r.textCompaction(t,i,a);break}if(i<t.length)c=t[i++];else throw xn.getFormatInstance()}if(a.length()===0)throw xn.getFormatInstance();var d=new I2(null,a.toString(),null,n);return d.setOther(o),d},r.decodeMacroBlock=function(t,n,a){if(n+r.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw xn.getFormatInstance();for(var s=new Int32Array(r.NUMBER_OF_SEQUENCE_CODEWORDS),i=0;i<r.NUMBER_OF_SEQUENCE_CODEWORDS;i++,n++)s[i]=t[n];a.setSegmentIndex(_s.parseInt(r.decodeBase900toBase10(s,r.NUMBER_OF_SEQUENCE_CODEWORDS)));var c=new Bs;n=r.textCompaction(t,n,c),a.setFileId(c.toString());var o=-1;for(t[n]===r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(o=n+1);n<t[0];)switch(t[n]){case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(n++,t[n]){case r.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var d=new Bs;n=r.textCompaction(t,n+1,d),a.setFileName(d.toString());break;case r.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var l=new Bs;n=r.textCompaction(t,n+1,l),a.setSender(l.toString());break;case r.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var u=new Bs;n=r.textCompaction(t,n+1,u),a.setAddressee(u.toString());break;case r.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var h=new Bs;n=r.numericCompaction(t,n+1,h),a.setSegmentCount(_s.parseInt(h.toString()));break;case r.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var f=new Bs;n=r.numericCompaction(t,n+1,f),a.setTimestamp(r_.parseLong(f.toString()));break;case r.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var A=new Bs;n=r.numericCompaction(t,n+1,A),a.setChecksum(_s.parseInt(A.toString()));break;case r.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var g=new Bs;n=r.numericCompaction(t,n+1,g),a.setFileSize(r_.parseLong(g.toString()));break;default:throw xn.getFormatInstance()}break;case r.MACRO_PDF417_TERMINATOR:n++,a.setLastSegment(!0);break;default:throw xn.getFormatInstance()}if(o!==-1){var m=n-o;a.isLastSegment()&&m--,a.setOptionalData(Jl.copyOfRange(t,o,o+m))}return n},r.textCompaction=function(t,n,a){for(var s=new Int32Array((t[0]-n)*2),i=new Int32Array((t[0]-n)*2),c=0,o=!1;n<t[0]&&!o;){var d=t[n++];if(d<r.TEXT_COMPACTION_MODE_LATCH)s[c]=d/30,s[c+1]=d%30,c+=2;else switch(d){case r.TEXT_COMPACTION_MODE_LATCH:s[c++]=r.TEXT_COMPACTION_MODE_LATCH;break;case r.BYTE_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.NUMERIC_COMPACTION_MODE_LATCH:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:n--,o=!0;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s[c]=r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,d=t[n++],i[c]=d,c++;break}}return r.decodeTextCompaction(s,i,c,a),n},r.decodeTextCompaction=function(t,n,a,s){for(var i=$i.ALPHA,c=$i.ALPHA,o=0;o<a;){var d=t[o],l="";switch(i){case $i.ALPHA:if(d<26)l=String.fromCharCode(65+d);else switch(d){case 26:l=" ";break;case r.LL:i=$i.LOWER;break;case r.ML:i=$i.MIXED;break;case r.PS:c=i,i=$i.PUNCT_SHIFT;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[o]);break;case r.TEXT_COMPACTION_MODE_LATCH:i=$i.ALPHA;break}break;case $i.LOWER:if(d<26)l=String.fromCharCode(97+d);else switch(d){case 26:l=" ";break;case r.AS:c=i,i=$i.ALPHA_SHIFT;break;case r.ML:i=$i.MIXED;break;case r.PS:c=i,i=$i.PUNCT_SHIFT;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[o]);break;case r.TEXT_COMPACTION_MODE_LATCH:i=$i.ALPHA;break}break;case $i.MIXED:if(d<r.PL)l=r.MIXED_CHARS[d];else switch(d){case r.PL:i=$i.PUNCT;break;case 26:l=" ";break;case r.LL:i=$i.LOWER;break;case r.AL:i=$i.ALPHA;break;case r.PS:c=i,i=$i.PUNCT_SHIFT;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[o]);break;case r.TEXT_COMPACTION_MODE_LATCH:i=$i.ALPHA;break}break;case $i.PUNCT:if(d<r.PAL)l=r.PUNCT_CHARS[d];else switch(d){case r.PAL:i=$i.ALPHA;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[o]);break;case r.TEXT_COMPACTION_MODE_LATCH:i=$i.ALPHA;break}break;case $i.ALPHA_SHIFT:if(i=c,d<26)l=String.fromCharCode(65+d);else switch(d){case 26:l=" ";break;case r.TEXT_COMPACTION_MODE_LATCH:i=$i.ALPHA;break}break;case $i.PUNCT_SHIFT:if(i=c,d<r.PAL)l=r.PUNCT_CHARS[d];else switch(d){case r.PAL:i=$i.ALPHA;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[o]);break;case r.TEXT_COMPACTION_MODE_LATCH:i=$i.ALPHA;break}break}l!==""&&s.append(l),o++}},r.byteCompaction=function(t,n,a,s,i){var c=new kle,o=0,d=0,l=!1;switch(t){case r.BYTE_COMPACTION_MODE_LATCH:for(var u=new Int32Array(6),h=n[s++];s<n[0]&&!l;)switch(u[o++]=h,d=900*d+h,h=n[s++],h){case r.TEXT_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH:case r.NUMERIC_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:s--,l=!0;break;default:if(o%5===0&&o>0){for(var f=0;f<6;++f)c.write(Number(rA(d)>>rA(8*(5-f))));d=0,o=0}break}s===n[0]&&h<r.TEXT_COMPACTION_MODE_LATCH&&(u[o++]=h);for(var A=0;A<o;A++)c.write(u[A]);break;case r.BYTE_COMPACTION_MODE_LATCH_6:for(;s<n[0]&&!l;){var g=n[s++];if(g<r.TEXT_COMPACTION_MODE_LATCH)o++,d=900*d+g;else switch(g){case r.TEXT_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH:case r.NUMERIC_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:s--,l=!0;break}if(o%5===0&&o>0){for(var f=0;f<6;++f)c.write(Number(rA(d)>>rA(8*(5-f))));d=0,o=0}}break}return i.append(Vu.decode(c.toByteArray(),a)),s},r.numericCompaction=function(t,n,a){for(var s=0,i=!1,c=new Int32Array(r.MAX_NUMERIC_CODEWORDS);n<t[0]&&!i;){var o=t[n++];if(n===t[0]&&(i=!0),o<r.TEXT_COMPACTION_MODE_LATCH)c[s]=o,s++;else switch(o){case r.TEXT_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:n--,i=!0;break}(s%r.MAX_NUMERIC_CODEWORDS===0||o===r.NUMERIC_COMPACTION_MODE_LATCH||i)&&s>0&&(a.append(r.decodeBase900toBase10(c,s)),s=0)}return n},r.decodeBase900toBase10=function(t,n){for(var a=rA(0),s=0;s<n;s++)a+=r.EXP900[n-s-1]*rA(t[s]);var i=a.toString();if(i.charAt(0)!=="1")throw new xn;return i.substring(1)},r.TEXT_COMPACTION_MODE_LATCH=900,r.BYTE_COMPACTION_MODE_LATCH=901,r.NUMERIC_COMPACTION_MODE_LATCH=902,r.BYTE_COMPACTION_MODE_LATCH_6=924,r.ECI_USER_DEFINED=925,r.ECI_GENERAL_PURPOSE=926,r.ECI_CHARSET=927,r.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,r.MACRO_PDF417_TERMINATOR=922,r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,r.MAX_NUMERIC_CODEWORDS=15,r.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,r.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,r.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,r.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,r.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,r.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,r.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,r.PL=25,r.LL=27,r.AS=27,r.ML=28,r.AL=28,r.PS=29,r.PAL=29,r.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,r.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",r.EXP900=BD()?_le():[],r.NUMBER_OF_SEQUENCE_CODEWORDS=2,r})(),Mg=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Fle=(function(){function r(){}return r.decode=function(t,n,a,s,i,c,o){for(var d=new o4(t,n,a,s,i),l=null,u=null,h,f=!0;;f=!1){if(n!=null&&(l=r.getRowIndicatorColumn(t,d,n,!0,c,o)),s!=null&&(u=r.getRowIndicatorColumn(t,d,s,!1,c,o)),h=r.merge(l,u),h==null)throw Tr.getNotFoundInstance();var A=h.getBoundingBox();if(f&&A!=null&&(A.getMinY()<d.getMinY()||A.getMaxY()>d.getMaxY()))d=A;else break}h.setBoundingBox(d);var g=h.getBarcodeColumnCount()+1;h.setDetectionResultColumn(0,l),h.setDetectionResultColumn(g,u);for(var m=l!=null,x=1;x<=g;x++){var y=m?x:g-x;if(h.getDetectionResultColumn(y)===void 0){var j=void 0;y===0||y===g?j=new t_(d,y===0):j=new ED(d),h.setDetectionResultColumn(y,j);for(var b=-1,S=b,w=d.getMinY();w<=d.getMaxY();w++){if(b=r.getStartColumn(h,y,w,m),b<0||b>d.getMaxX()){if(S===-1)continue;b=S}var E=r.detectCodeword(t,d.getMinX(),d.getMaxX(),m,b,w,c,o);E!=null&&(j.setCodeword(w,E),S=b,c=Math.min(c,E.getWidth()),o=Math.max(o,E.getWidth()))}}}return r.createDecoderResult(h)},r.merge=function(t,n){if(t==null&&n==null)return null;var a=r.getBarcodeMetadata(t,n);if(a==null)return null;var s=o4.merge(r.adjustBoundingBox(t),r.adjustBoundingBox(n));return new jle(a,s)},r.adjustBoundingBox=function(t){var n,a;if(t==null)return null;var s=t.getRowHeights();if(s==null)return null;var i=r.getMax(s),c=0;try{for(var o=Mg(s),d=o.next();!d.done;d=o.next()){var l=d.value;if(c+=i-l,l>0)break}}catch(A){n={error:A}}finally{try{d&&!d.done&&(a=o.return)&&a.call(o)}finally{if(n)throw n.error}}for(var u=t.getCodewords(),h=0;c>0&&u[h]==null;h++)c--;for(var f=0,h=s.length-1;h>=0&&(f+=i-s[h],!(s[h]>0));h--);for(var h=u.length-1;f>0&&u[h]==null;h--)f--;return t.getBoundingBox().addMissingRows(c,f,t.isLeft())},r.getMax=function(t){var n,a,s=-1;try{for(var i=Mg(t),c=i.next();!c.done;c=i.next()){var o=c.value;s=Math.max(s,o)}}catch(d){n={error:d}}finally{try{c&&!c.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}return s},r.getBarcodeMetadata=function(t,n){var a;if(t==null||(a=t.getBarcodeMetadata())==null)return n==null?null:n.getBarcodeMetadata();var s;return n==null||(s=n.getBarcodeMetadata())==null?a:a.getColumnCount()!==s.getColumnCount()&&a.getErrorCorrectionLevel()!==s.getErrorCorrectionLevel()&&a.getRowCount()!==s.getRowCount()?null:a},r.getRowIndicatorColumn=function(t,n,a,s,i,c){for(var o=new t_(n,s),d=0;d<2;d++)for(var l=d===0?1:-1,u=Math.trunc(Math.trunc(a.getX())),h=Math.trunc(Math.trunc(a.getY()));h<=n.getMaxY()&&h>=n.getMinY();h+=l){var f=r.detectCodeword(t,0,t.getWidth(),s,u,h,i,c);f!=null&&(o.setCodeword(h,f),s?u=f.getStartX():u=f.getEndX())}return o},r.adjustCodewordCount=function(t,n){var a=n[0][1],s=a.getValue(),i=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-r.getNumberOfECCodeWords(t.getBarcodeECLevel());if(s.length===0){if(i<1||i>ai.MAX_CODEWORDS_IN_BARCODE)throw Tr.getNotFoundInstance();a.setValue(i)}else s[0]!==i&&a.setValue(i)},r.createDecoderResult=function(t){var n=r.createBarcodeMatrix(t);r.adjustCodewordCount(t,n);for(var a=new Array,s=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),i=[],c=new Array,o=0;o<t.getBarcodeRowCount();o++)for(var d=0;d<t.getBarcodeColumnCount();d++){var l=n[o][d+1].getValue(),u=o*t.getBarcodeColumnCount()+d;l.length===0?a.push(u):l.length===1?s[u]=l[0]:(c.push(u),i.push(l))}for(var h=new Array(i.length),f=0;f<h.length;f++)h[f]=i[f];return r.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),s,ai.toIntArray(a),ai.toIntArray(c),h)},r.createDecoderResultFromAmbiguousValues=function(t,n,a,s,i){for(var c=new Int32Array(s.length),o=100;o-- >0;){for(var d=0;d<c.length;d++)n[s[d]]=i[d][c[d]];try{return r.decodeCodewords(n,t,a)}catch(u){var l=u instanceof kl;if(!l)throw u}if(c.length===0)throw kl.getChecksumInstance();for(var d=0;d<c.length;d++)if(c[d]<i[d].length-1){c[d]++;break}else if(c[d]=0,d===c.length-1)throw kl.getChecksumInstance()}throw kl.getChecksumInstance()},r.createBarcodeMatrix=function(t){for(var n,a,s,i,c=Array.from({length:t.getBarcodeRowCount()},function(){return new Array(t.getBarcodeColumnCount()+2)}),o=0;o<c.length;o++)for(var d=0;d<c[o].length;d++)c[o][d]=new qg;var l=0;try{for(var u=Mg(t.getDetectionResultColumns()),h=u.next();!h.done;h=u.next()){var f=h.value;if(f!=null)try{for(var A=(s=void 0,Mg(f.getCodewords())),g=A.next();!g.done;g=A.next()){var m=g.value;if(m!=null){var x=m.getRowNumber();if(x>=0){if(x>=c.length)continue;c[x][l].setValue(m.getValue())}}}}catch(y){s={error:y}}finally{try{g&&!g.done&&(i=A.return)&&i.call(A)}finally{if(s)throw s.error}}l++}}catch(y){n={error:y}}finally{try{h&&!h.done&&(a=u.return)&&a.call(u)}finally{if(n)throw n.error}}return c},r.isValidBarcodeColumn=function(t,n){return n>=0&&n<=t.getBarcodeColumnCount()+1},r.getStartColumn=function(t,n,a,s){var i,c,o=s?1:-1,d=null;if(r.isValidBarcodeColumn(t,n-o)&&(d=t.getDetectionResultColumn(n-o).getCodeword(a)),d!=null)return s?d.getEndX():d.getStartX();if(d=t.getDetectionResultColumn(n).getCodewordNearby(a),d!=null)return s?d.getStartX():d.getEndX();if(r.isValidBarcodeColumn(t,n-o)&&(d=t.getDetectionResultColumn(n-o).getCodewordNearby(a)),d!=null)return s?d.getEndX():d.getStartX();for(var l=0;r.isValidBarcodeColumn(t,n-o);){n-=o;try{for(var u=(i=void 0,Mg(t.getDetectionResultColumn(n).getCodewords())),h=u.next();!h.done;h=u.next()){var f=h.value;if(f!=null)return(s?f.getEndX():f.getStartX())+o*l*(f.getEndX()-f.getStartX())}}catch(A){i={error:A}}finally{try{h&&!h.done&&(c=u.return)&&c.call(u)}finally{if(i)throw i.error}}l++}return s?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()},r.detectCodeword=function(t,n,a,s,i,c,o,d){i=r.adjustCodewordStartColumn(t,n,a,s,i,c);var l=r.getModuleBitCount(t,n,a,s,i,c);if(l==null)return null;var u,h=ui.sum(l);if(s)u=i+h;else{for(var f=0;f<l.length/2;f++){var A=l[f];l[f]=l[l.length-1-f],l[l.length-1-f]=A}u=i,i=u-h}if(!r.checkCodewordSkew(h,o,d))return null;var g=wle.getDecodedValue(l),m=ai.getCodeword(g);return m===-1?null:new ble(i,u,r.getCodewordBucketNumber(g),m)},r.getModuleBitCount=function(t,n,a,s,i,c){for(var o=i,d=new Int32Array(8),l=0,u=s?1:-1,h=s;(s?o<a:o>=n)&&l<d.length;)t.get(o,c)===h?(d[l]++,o+=u):(l++,h=!h);return l===d.length||o===(s?a:n)&&l===d.length-1?d:null},r.getNumberOfECCodeWords=function(t){return 2<<t},r.adjustCodewordStartColumn=function(t,n,a,s,i,c){for(var o=i,d=s?-1:1,l=0;l<2;l++){for(;(s?o>=n:o<a)&&s===t.get(o,c);){if(Math.abs(i-o)>r.CODEWORD_SKEW_SIZE)return i;o+=d}d=-d,s=!s}return o},r.checkCodewordSkew=function(t,n,a){return n-r.CODEWORD_SKEW_SIZE<=t&&t<=a+r.CODEWORD_SKEW_SIZE},r.decodeCodewords=function(t,n,a){if(t.length===0)throw xn.getFormatInstance();var s=1<<n+1,i=r.correctErrors(t,a,s);r.verifyCodewordCount(t,s);var c=Ole.decode(t,""+n);return c.setErrorsCorrected(i),c.setErasures(a.length),c},r.correctErrors=function(t,n,a){if(n!=null&&n.length>a/2+r.MAX_ERRORS||a<0||a>r.MAX_EC_CODEWORDS)throw kl.getChecksumInstance();return r.errorCorrection.decode(t,a,n)},r.verifyCodewordCount=function(t,n){if(t.length<4)throw xn.getFormatInstance();var a=t[0];if(a>t.length)throw xn.getFormatInstance();if(a===0)if(n<t.length)t[0]=t.length-n;else throw xn.getFormatInstance()},r.getBitCountForCodeword=function(t){for(var n=new Int32Array(8),a=0,s=n.length-1;!((t&1)!==a&&(a=t&1,s--,s<0));)n[s]++,t>>=1;return n},r.getCodewordBucketNumber=function(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)},r.getCodewordBucketNumber_number=function(t){return r.getCodewordBucketNumber(r.getBitCountForCodeword(t))},r.getCodewordBucketNumber_Int32Array=function(t){return(t[0]-t[2]+t[4]-t[6]+9)%9},r.toString=function(t){for(var n=new TS,a=0;a<t.length;a++){n.format("Row %2d: ",a);for(var s=0;s<t[a].length;s++){var i=t[a][s];i.getValue().length===0?n.format("        ",null):n.format("%4d(%2d)",i.getValue()[0],i.getConfidence(i.getValue()[0]))}n.format("%n")}return n.toString()},r.CODEWORD_SKEW_SIZE=2,r.MAX_ERRORS=3,r.MAX_EC_CODEWORDS=512,r.errorCorrection=new Ale,r})(),Ple=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Rx=(function(){function r(){}return r.prototype.decode=function(t,n){n===void 0&&(n=null);var a=r.decode(t,n,!1);if(a==null||a.length===0||a[0]==null)throw Tr.getNotFoundInstance();return a[0]},r.prototype.decodeMultiple=function(t,n){n===void 0&&(n=null);try{return r.decode(t,n,!0)}catch(a){throw a instanceof xn||a instanceof kl?Tr.getNotFoundInstance():a}},r.decode=function(t,n,a){var s,i,c=new Array,o=lle.detectMultiple(t,n,a);try{for(var d=Ple(o.getPoints()),l=d.next();!l.done;l=d.next()){var u=l.value,h=Fle.decode(o.getBits(),u[4],u[5],u[6],u[7],r.getMinCodewordWidth(u),r.getMaxCodewordWidth(u)),f=new ad(h.getText(),h.getRawBytes(),void 0,u,Ia.PDF_417);f.putMetadata(Qc.ERROR_CORRECTION_LEVEL,h.getECLevel());var A=h.getOther();A!=null&&f.putMetadata(Qc.PDF417_EXTRA_METADATA,A),c.push(f)}}catch(g){s={error:g}}finally{try{l&&!l.done&&(i=d.return)&&i.call(d)}finally{if(s)throw s.error}}return c.map(function(g){return g})},r.getMaxWidth=function(t,n){return t==null||n==null?0:Math.trunc(Math.abs(t.getX()-n.getX()))},r.getMinWidth=function(t,n){return t==null||n==null?_s.MAX_VALUE:Math.trunc(Math.abs(t.getX()-n.getX()))},r.getMaxCodewordWidth=function(t){return Math.floor(Math.max(Math.max(r.getMaxWidth(t[0],t[4]),r.getMaxWidth(t[6],t[2])*ai.MODULES_IN_CODEWORD/ai.MODULES_IN_STOP_PATTERN),Math.max(r.getMaxWidth(t[1],t[5]),r.getMaxWidth(t[7],t[3])*ai.MODULES_IN_CODEWORD/ai.MODULES_IN_STOP_PATTERN)))},r.getMinCodewordWidth=function(t){return Math.floor(Math.min(Math.min(r.getMinWidth(t[0],t[4]),r.getMinWidth(t[6],t[2])*ai.MODULES_IN_CODEWORD/ai.MODULES_IN_STOP_PATTERN),Math.min(r.getMinWidth(t[1],t[5]),r.getMinWidth(t[7],t[3])*ai.MODULES_IN_CODEWORD/ai.MODULES_IN_STOP_PATTERN)))},r.prototype.reset=function(){},r})(),Dle=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),n_=(function(r){Dle(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.kind="ReaderException",t})(Wd),a_=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ID=(function(){function r(){}return r.prototype.decode=function(t,n){return this.setHints(n),this.decodeInternal(t)},r.prototype.decodeWithState=function(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)},r.prototype.setHints=function(t){this.hints=t;var n=t!=null&&t.get(co.TRY_HARDER)!==void 0,a=t==null?null:t.get(co.POSSIBLE_FORMATS),s=new Array;if(a!=null){var i=a.some(function(c){return c===Ia.UPC_A||c===Ia.UPC_E||c===Ia.EAN_13||c===Ia.EAN_8||c===Ia.CODABAR||c===Ia.CODE_39||c===Ia.CODE_93||c===Ia.CODE_128||c===Ia.ITF||c===Ia.RSS_14||c===Ia.RSS_EXPANDED});i&&!n&&s.push(new qp(t)),a.includes(Ia.QR_CODE)&&s.push(new Mx),a.includes(Ia.DATA_MATRIX)&&s.push(new Dx),a.includes(Ia.AZTEC)&&s.push(new Fx),a.includes(Ia.PDF_417)&&s.push(new Rx),i&&n&&s.push(new qp(t))}s.length===0&&(n||s.push(new qp(t)),s.push(new Mx),s.push(new Dx),s.push(new Fx),s.push(new Rx),n&&s.push(new qp(t))),this.readers=s},r.prototype.reset=function(){var t,n;if(this.readers!==null)try{for(var a=a_(this.readers),s=a.next();!s.done;s=a.next()){var i=s.value;i.reset()}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},r.prototype.decodeInternal=function(t){var n,a;if(this.readers===null)throw new n_("No readers where selected, nothing can be read.");try{for(var s=a_(this.readers),i=s.next();!i.done;i=s.next()){var c=i.value;try{return c.decode(t,this.hints)}catch(o){if(o instanceof n_)continue}}}catch(o){n={error:o}}finally{try{i&&!i.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}throw new Tr("No MultiFormat Readers were able to detect the code.")},r})(),Mle=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){Mle(t,r);function t(n,a){n===void 0&&(n=null),a===void 0&&(a=500);var s=this,i=new ID;return i.setHints(n),s=r.call(this,i,a)||this,s}return t.prototype.decodeBitmap=function(n){return this.reader.decodeWithState(n)},t})(Lm);var Rle=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){Rle(t,r);function t(n){return n===void 0&&(n=500),r.call(this,new Rx,n)||this}return t})(Lm);var Lle=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){Lle(t,r);function t(n){return n===void 0&&(n=500),r.call(this,new Mx,n)||this}return t})(Lm);var l4;(function(r){r[r.ERROR_CORRECTION=0]="ERROR_CORRECTION",r[r.CHARACTER_SET=1]="CHARACTER_SET",r[r.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",r[r.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",r[r.MIN_SIZE=4]="MIN_SIZE",r[r.MAX_SIZE=5]="MAX_SIZE",r[r.MARGIN=6]="MARGIN",r[r.PDF417_COMPACT=7]="PDF417_COMPACT",r[r.PDF417_COMPACTION=8]="PDF417_COMPACTION",r[r.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",r[r.AZTEC_LAYERS=10]="AZTEC_LAYERS",r[r.QR_VERSION=11]="QR_VERSION",r[r.GS1_FORMAT=12]="GS1_FORMAT",r[r.FORCE_C40=13]="FORCE_C40"})(l4||(l4={}));const wv=l4;var TD=(function(){function r(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new uA(t,Int32Array.from([1])))}return r.prototype.buildGenerator=function(t){var n=this.cachedGenerators;if(t>=n.length)for(var a=n[n.length-1],s=this.field,i=n.length;i<=t;i++){var c=a.multiply(new uA(s,Int32Array.from([1,s.exp(i-1+s.getGeneratorBase())])));n.push(c),a=c}return n[t]},r.prototype.encode=function(t,n){if(n===0)throw new Ta("No error correction bytes");var a=t.length-n;if(a<=0)throw new Ta("No data bytes provided");var s=this.buildGenerator(n),i=new Int32Array(a);lo.arraycopy(t,0,i,0,a);var c=new uA(this.field,i);c=c.multiplyByMonomial(n,1);for(var o=c.divide(s)[1],d=o.getCoefficients(),l=n-d.length,u=0;u<l;u++)t[a+u]=0;lo.arraycopy(d,0,t,a+l,d.length)},r})(),Xg=(function(){function r(){}return r.applyMaskPenaltyRule1=function(t){return r.applyMaskPenaltyRule1Internal(t,!0)+r.applyMaskPenaltyRule1Internal(t,!1)},r.applyMaskPenaltyRule2=function(t){for(var n=0,a=t.getArray(),s=t.getWidth(),i=t.getHeight(),c=0;c<i-1;c++)for(var o=a[c],d=0;d<s-1;d++){var l=o[d];l===o[d+1]&&l===a[c+1][d]&&l===a[c+1][d+1]&&n++}return r.N2*n},r.applyMaskPenaltyRule3=function(t){for(var n=0,a=t.getArray(),s=t.getWidth(),i=t.getHeight(),c=0;c<i;c++)for(var o=0;o<s;o++){var d=a[c];o+6<s&&d[o]===1&&d[o+1]===0&&d[o+2]===1&&d[o+3]===1&&d[o+4]===1&&d[o+5]===0&&d[o+6]===1&&(r.isWhiteHorizontal(d,o-4,o)||r.isWhiteHorizontal(d,o+7,o+11))&&n++,c+6<i&&a[c][o]===1&&a[c+1][o]===0&&a[c+2][o]===1&&a[c+3][o]===1&&a[c+4][o]===1&&a[c+5][o]===0&&a[c+6][o]===1&&(r.isWhiteVertical(a,o,c-4,c)||r.isWhiteVertical(a,o,c+7,c+11))&&n++}return n*r.N3},r.isWhiteHorizontal=function(t,n,a){n=Math.max(n,0),a=Math.min(a,t.length);for(var s=n;s<a;s++)if(t[s]===1)return!1;return!0},r.isWhiteVertical=function(t,n,a,s){a=Math.max(a,0),s=Math.min(s,t.length);for(var i=a;i<s;i++)if(t[i][n]===1)return!1;return!0},r.applyMaskPenaltyRule4=function(t){for(var n=0,a=t.getArray(),s=t.getWidth(),i=t.getHeight(),c=0;c<i;c++)for(var o=a[c],d=0;d<s;d++)o[d]===1&&n++;var l=t.getHeight()*t.getWidth(),u=Math.floor(Math.abs(n*2-l)*10/l);return u*r.N4},r.getDataMaskBit=function(t,n,a){var s,i;switch(t){case 0:s=a+n&1;break;case 1:s=a&1;break;case 2:s=n%3;break;case 3:s=(a+n)%3;break;case 4:s=Math.floor(a/2)+Math.floor(n/3)&1;break;case 5:i=a*n,s=(i&1)+i%3;break;case 6:i=a*n,s=(i&1)+i%3&1;break;case 7:i=a*n,s=i%3+(a+n&1)&1;break;default:throw new Ta("Invalid mask pattern: "+t)}return s===0},r.applyMaskPenaltyRule1Internal=function(t,n){for(var a=0,s=n?t.getHeight():t.getWidth(),i=n?t.getWidth():t.getHeight(),c=t.getArray(),o=0;o<s;o++){for(var d=0,l=-1,u=0;u<i;u++){var h=n?c[o][u]:c[u][o];h===l?d++:(d>=5&&(a+=r.N1+(d-5)),d=1,l=h)}d>=5&&(a+=r.N1+(d-5))}return a},r.N1=3,r.N2=3,r.N3=40,r.N4=10,r})(),Ule=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Hle=(function(){function r(t,n){this.width=t,this.height=n;for(var a=new Array(n),s=0;s!==n;s++)a[s]=new Uint8Array(t);this.bytes=a}return r.prototype.getHeight=function(){return this.height},r.prototype.getWidth=function(){return this.width},r.prototype.get=function(t,n){return this.bytes[n][t]},r.prototype.getArray=function(){return this.bytes},r.prototype.setNumber=function(t,n,a){this.bytes[n][t]=a},r.prototype.setBoolean=function(t,n,a){this.bytes[n][t]=a?1:0},r.prototype.clear=function(t){var n,a;try{for(var s=Ule(this.bytes),i=s.next();!i.done;i=s.next()){var c=i.value;Jl.fill(c,t)}}catch(o){n={error:o}}finally{try{i&&!i.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}},r.prototype.equals=function(t){if(!(t instanceof r))return!1;var n=t;if(this.width!==n.width||this.height!==n.height)return!1;for(var a=0,s=this.height;a<s;++a)for(var i=this.bytes[a],c=n.bytes[a],o=0,d=this.width;o<d;++o)if(i[o]!==c[o])return!1;return!0},r.prototype.toString=function(){for(var t=new Bs,n=0,a=this.height;n<a;++n){for(var s=this.bytes[n],i=0,c=this.width;i<c;++i)switch(s[i]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()},r})(),c4=(function(){function r(){this.maskPattern=-1}return r.prototype.getMode=function(){return this.mode},r.prototype.getECLevel=function(){return this.ecLevel},r.prototype.getVersion=function(){return this.version},r.prototype.getMaskPattern=function(){return this.maskPattern},r.prototype.getMatrix=function(){return this.matrix},r.prototype.toString=function(){var t=new Bs;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()},r.prototype.setMode=function(t){this.mode=t},r.prototype.setECLevel=function(t){this.ecLevel=t},r.prototype.setVersion=function(t){this.version=t},r.prototype.setMaskPattern=function(t){this.maskPattern=t},r.prototype.setMatrix=function(t){this.matrix=t},r.isValidMaskPattern=function(t){return t>=0&&t<r.NUM_MASK_PATTERNS},r.NUM_MASK_PATTERNS=8,r})(),Qle=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),vo=(function(r){Qle(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.kind="WriterException",t})(Wd),s_=(function(){function r(){}return r.clearMatrix=function(t){t.clear(255)},r.buildMatrix=function(t,n,a,s,i){r.clearMatrix(i),r.embedBasicPatterns(a,i),r.embedTypeInfo(n,s,i),r.maybeEmbedVersionInfo(a,i),r.embedDataBits(t,s,i)},r.embedBasicPatterns=function(t,n){r.embedPositionDetectionPatternsAndSeparators(n),r.embedDarkDotAtLeftBottomCorner(n),r.maybeEmbedPositionAdjustmentPatterns(t,n),r.embedTimingPatterns(n)},r.embedTypeInfo=function(t,n,a){var s=new Nc;r.makeTypeInfoBits(t,n,s);for(var i=0,c=s.getSize();i<c;++i){var o=s.get(s.getSize()-1-i),d=r.TYPE_INFO_COORDINATES[i],l=d[0],u=d[1];if(a.setBoolean(l,u,o),i<8){var h=a.getWidth()-i-1,f=8;a.setBoolean(h,f,o)}else{var h=8,f=a.getHeight()-7+(i-8);a.setBoolean(h,f,o)}}},r.maybeEmbedVersionInfo=function(t,n){if(!(t.getVersionNumber()<7)){var a=new Nc;r.makeVersionInfoBits(t,a);for(var s=17,i=0;i<6;++i)for(var c=0;c<3;++c){var o=a.get(s);s--,n.setBoolean(i,n.getHeight()-11+c,o),n.setBoolean(n.getHeight()-11+c,i,o)}}},r.embedDataBits=function(t,n,a){for(var s=0,i=-1,c=a.getWidth()-1,o=a.getHeight()-1;c>0;){for(c===6&&(c-=1);o>=0&&o<a.getHeight();){for(var d=0;d<2;++d){var l=c-d;if(r.isEmpty(a.get(l,o))){var u=void 0;s<t.getSize()?(u=t.get(s),++s):u=!1,n!==255&&Xg.getDataMaskBit(n,l,o)&&(u=!u),a.setBoolean(l,o,u)}}o+=i}i=-i,o+=i,c-=2}if(s!==t.getSize())throw new vo("Not all bits consumed: "+s+"/"+t.getSize())},r.findMSBSet=function(t){return 32-_s.numberOfLeadingZeros(t)},r.calculateBCHCode=function(t,n){if(n===0)throw new Ta("0 polynomial");var a=r.findMSBSet(n);for(t<<=a-1;r.findMSBSet(t)>=a;)t^=n<<r.findMSBSet(t)-a;return t},r.makeTypeInfoBits=function(t,n,a){if(!c4.isValidMaskPattern(n))throw new vo("Invalid mask pattern");var s=t.getBits()<<3|n;a.appendBits(s,5);var i=r.calculateBCHCode(s,r.TYPE_INFO_POLY);a.appendBits(i,10);var c=new Nc;if(c.appendBits(r.TYPE_INFO_MASK_PATTERN,15),a.xor(c),a.getSize()!==15)throw new vo("should not happen but we got: "+a.getSize())},r.makeVersionInfoBits=function(t,n){n.appendBits(t.getVersionNumber(),6);var a=r.calculateBCHCode(t.getVersionNumber(),r.VERSION_INFO_POLY);if(n.appendBits(a,12),n.getSize()!==18)throw new vo("should not happen but we got: "+n.getSize())},r.isEmpty=function(t){return t===255},r.embedTimingPatterns=function(t){for(var n=8;n<t.getWidth()-8;++n){var a=(n+1)%2;r.isEmpty(t.get(n,6))&&t.setNumber(n,6,a),r.isEmpty(t.get(6,n))&&t.setNumber(6,n,a)}},r.embedDarkDotAtLeftBottomCorner=function(t){if(t.get(8,t.getHeight()-8)===0)throw new vo;t.setNumber(8,t.getHeight()-8,1)},r.embedHorizontalSeparationPattern=function(t,n,a){for(var s=0;s<8;++s){if(!r.isEmpty(a.get(t+s,n)))throw new vo;a.setNumber(t+s,n,0)}},r.embedVerticalSeparationPattern=function(t,n,a){for(var s=0;s<7;++s){if(!r.isEmpty(a.get(t,n+s)))throw new vo;a.setNumber(t,n+s,0)}},r.embedPositionAdjustmentPattern=function(t,n,a){for(var s=0;s<5;++s)for(var i=r.POSITION_ADJUSTMENT_PATTERN[s],c=0;c<5;++c)a.setNumber(t+c,n+s,i[c])},r.embedPositionDetectionPattern=function(t,n,a){for(var s=0;s<7;++s)for(var i=r.POSITION_DETECTION_PATTERN[s],c=0;c<7;++c)a.setNumber(t+c,n+s,i[c])},r.embedPositionDetectionPatternsAndSeparators=function(t){var n=r.POSITION_DETECTION_PATTERN[0].length;r.embedPositionDetectionPattern(0,0,t),r.embedPositionDetectionPattern(t.getWidth()-n,0,t),r.embedPositionDetectionPattern(0,t.getWidth()-n,t);var a=8;r.embedHorizontalSeparationPattern(0,a-1,t),r.embedHorizontalSeparationPattern(t.getWidth()-a,a-1,t),r.embedHorizontalSeparationPattern(0,t.getWidth()-a,t);var s=7;r.embedVerticalSeparationPattern(s,0,t),r.embedVerticalSeparationPattern(t.getHeight()-s-1,0,t),r.embedVerticalSeparationPattern(s,t.getHeight()-s,t)},r.maybeEmbedPositionAdjustmentPatterns=function(t,n){if(!(t.getVersionNumber()<2))for(var a=t.getVersionNumber()-1,s=r.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[a],i=0,c=s.length;i!==c;i++){var o=s[i];if(o>=0)for(var d=0;d!==c;d++){var l=s[d];l>=0&&r.isEmpty(n.get(l,o))&&r.embedPositionAdjustmentPattern(l-2,o-2,n)}}},r.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),r.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),r.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),r.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),r.VERSION_INFO_POLY=7973,r.TYPE_INFO_POLY=1335,r.TYPE_INFO_MASK_PATTERN=21522,r})(),Wle=(function(){function r(t,n){this.dataBytes=t,this.errorCorrectionBytes=n}return r.prototype.getDataBytes=function(){return this.dataBytes},r.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},r})(),i_=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function r(){}return r.calculateMaskPenalty=function(t){return Xg.applyMaskPenaltyRule1(t)+Xg.applyMaskPenaltyRule2(t)+Xg.applyMaskPenaltyRule3(t)+Xg.applyMaskPenaltyRule4(t)},r.encode=function(t,n,a){a===void 0&&(a=null);var s=r.DEFAULT_BYTE_MODE_ENCODING,i=a!==null&&a.get(wv.CHARACTER_SET)!==void 0;i&&(s=a.get(wv.CHARACTER_SET).toString());var c=this.chooseMode(t,s),o=new Nc;if(c===xo.BYTE&&(i||r.DEFAULT_BYTE_MODE_ENCODING!==s)){var d=Xl.getCharacterSetECIByName(s);d!==void 0&&this.appendECI(d,o)}this.appendModeInfo(c,o);var l=new Nc;this.appendBytes(t,c,l,s);var u;if(a!==null&&a.get(wv.QR_VERSION)!==void 0){var h=Number.parseInt(a.get(wv.QR_VERSION).toString(),10);u=lp.getVersionForNumber(h);var f=this.calculateBitsNeeded(c,o,l,u);if(!this.willFit(f,u,n))throw new vo("Data too big for requested version")}else u=this.recommendVersion(n,c,o,l);var A=new Nc;A.appendBitArray(o);var g=c===xo.BYTE?l.getSizeInBytes():t.length;this.appendLengthInfo(g,u,c,A),A.appendBitArray(l);var m=u.getECBlocksForLevel(n),x=u.getTotalCodewords()-m.getTotalECCodewords();this.terminateBits(x,A);var y=this.interleaveWithECBytes(A,u.getTotalCodewords(),x,m.getNumBlocks()),j=new c4;j.setECLevel(n),j.setMode(c),j.setVersion(u);var b=u.getDimensionForVersion(),S=new Hle(b,b),w=this.chooseMaskPattern(y,n,u,S);return j.setMaskPattern(w),s_.buildMatrix(y,n,u,w,S),j.setMatrix(S),j},r.recommendVersion=function(t,n,a,s){var i=this.calculateBitsNeeded(n,a,s,lp.getVersionForNumber(1)),c=this.chooseVersion(i,t),o=this.calculateBitsNeeded(n,a,s,c);return this.chooseVersion(o,t)},r.calculateBitsNeeded=function(t,n,a,s){return n.getSize()+t.getCharacterCountBits(s)+a.getSize()},r.getAlphanumericCode=function(t){return t<r.ALPHANUMERIC_TABLE.length?r.ALPHANUMERIC_TABLE[t]:-1},r.chooseMode=function(t,n){if(n===void 0&&(n=null),Xl.SJIS.getName()===n&&this.isOnlyDoubleByteKanji(t))return xo.KANJI;for(var a=!1,s=!1,i=0,c=t.length;i<c;++i){var o=t.charAt(i);if(r.isDigit(o))a=!0;else if(this.getAlphanumericCode(o.charCodeAt(0))!==-1)s=!0;else return xo.BYTE}return s?xo.ALPHANUMERIC:a?xo.NUMERIC:xo.BYTE},r.isOnlyDoubleByteKanji=function(t){var n;try{n=Vu.encode(t,Xl.SJIS)}catch{return!1}var a=n.length;if(a%2!==0)return!1;for(var s=0;s<a;s+=2){var i=n[s]&255;if((i<129||i>159)&&(i<224||i>235))return!1}return!0},r.chooseMaskPattern=function(t,n,a,s){for(var i=Number.MAX_SAFE_INTEGER,c=-1,o=0;o<c4.NUM_MASK_PATTERNS;o++){s_.buildMatrix(t,n,a,o,s);var d=this.calculateMaskPenalty(s);d<i&&(i=d,c=o)}return c},r.chooseVersion=function(t,n){for(var a=1;a<=40;a++){var s=lp.getVersionForNumber(a);if(r.willFit(t,s,n))return s}throw new vo("Data too big")},r.willFit=function(t,n,a){var s=n.getTotalCodewords(),i=n.getECBlocksForLevel(a),c=i.getTotalECCodewords(),o=s-c,d=(t+7)/8;return o>=d},r.terminateBits=function(t,n){var a=t*8;if(n.getSize()>a)throw new vo("data bits cannot fit in the QR Code"+n.getSize()+" > "+a);for(var s=0;s<4&&n.getSize()<a;++s)n.appendBit(!1);var i=n.getSize()&7;if(i>0)for(var s=i;s<8;s++)n.appendBit(!1);for(var c=t-n.getSizeInBytes(),s=0;s<c;++s)n.appendBits((s&1)===0?236:17,8);if(n.getSize()!==a)throw new vo("Bits size does not equal capacity")},r.getNumDataBytesAndNumECBytesForBlockID=function(t,n,a,s,i,c){if(s>=a)throw new vo("Block ID too large");var o=t%a,d=a-o,l=Math.floor(t/a),u=l+1,h=Math.floor(n/a),f=h+1,A=l-h,g=u-f;if(A!==g)throw new vo("EC bytes mismatch");if(a!==d+o)throw new vo("RS blocks mismatch");if(t!==(h+A)*d+(f+g)*o)throw new vo("Total bytes mismatch");s<d?(i[0]=h,c[0]=A):(i[0]=f,c[0]=g)},r.interleaveWithECBytes=function(t,n,a,s){var i,c,o,d;if(t.getSizeInBytes()!==a)throw new vo("Number of bits and data bytes does not match");for(var l=0,u=0,h=0,f=new Array,A=0;A<s;++A){var g=new Int32Array(1),m=new Int32Array(1);r.getNumDataBytesAndNumECBytesForBlockID(n,a,s,A,g,m);var x=g[0],y=new Uint8Array(x);t.toBytes(8*l,y,0,x);var j=r.generateECBytes(y,m[0]);f.push(new Wle(y,j)),u=Math.max(u,x),h=Math.max(h,j.length),l+=g[0]}if(a!==l)throw new vo("Data bytes does not match offset");for(var b=new Nc,A=0;A<u;++A)try{for(var S=(i=void 0,i_(f)),w=S.next();!w.done;w=S.next()){var E=w.value,y=E.getDataBytes();A<y.length&&b.appendBits(y[A],8)}}catch(ae){i={error:ae}}finally{try{w&&!w.done&&(c=S.return)&&c.call(S)}finally{if(i)throw i.error}}for(var A=0;A<h;++A)try{for(var I=(o=void 0,i_(f)),L=I.next();!L.done;L=I.next()){var E=L.value,j=E.getErrorCorrectionBytes();A<j.length&&b.appendBits(j[A],8)}}catch(ae){o={error:ae}}finally{try{L&&!L.done&&(d=I.return)&&d.call(I)}finally{if(o)throw o.error}}if(n!==b.getSizeInBytes())throw new vo("Interleaving error: "+n+" and "+b.getSizeInBytes()+" differ.");return b},r.generateECBytes=function(t,n){for(var a=t.length,s=new Int32Array(a+n),i=0;i<a;i++)s[i]=t[i]&255;new TD(Ud.QR_CODE_FIELD_256).encode(s,n);for(var c=new Uint8Array(n),i=0;i<n;i++)c[i]=s[a+i];return c},r.appendModeInfo=function(t,n){n.appendBits(t.getBits(),4)},r.appendLengthInfo=function(t,n,a,s){var i=a.getCharacterCountBits(n);if(t>=1<<i)throw new vo(t+" is bigger than "+((1<<i)-1));s.appendBits(t,i)},r.appendBytes=function(t,n,a,s){switch(n){case xo.NUMERIC:r.appendNumericBytes(t,a);break;case xo.ALPHANUMERIC:r.appendAlphanumericBytes(t,a);break;case xo.BYTE:r.append8BitBytes(t,a,s);break;case xo.KANJI:r.appendKanjiBytes(t,a);break;default:throw new vo("Invalid mode: "+n)}},r.getDigit=function(t){return t.charCodeAt(0)-48},r.isDigit=function(t){var n=r.getDigit(t);return n>=0&&n<=9},r.appendNumericBytes=function(t,n){for(var a=t.length,s=0;s<a;){var i=r.getDigit(t.charAt(s));if(s+2<a){var c=r.getDigit(t.charAt(s+1)),o=r.getDigit(t.charAt(s+2));n.appendBits(i*100+c*10+o,10),s+=3}else if(s+1<a){var c=r.getDigit(t.charAt(s+1));n.appendBits(i*10+c,7),s+=2}else n.appendBits(i,4),s++}},r.appendAlphanumericBytes=function(t,n){for(var a=t.length,s=0;s<a;){var i=r.getAlphanumericCode(t.charCodeAt(s));if(i===-1)throw new vo;if(s+1<a){var c=r.getAlphanumericCode(t.charCodeAt(s+1));if(c===-1)throw new vo;n.appendBits(i*45+c,11),s+=2}else n.appendBits(i,6),s++}},r.append8BitBytes=function(t,n,a){var s;try{s=Vu.encode(t,a)}catch(d){throw new vo(d)}for(var i=0,c=s.length;i!==c;i++){var o=s[i];n.appendBits(o,8)}},r.appendKanjiBytes=function(t,n){var a;try{a=Vu.encode(t,Xl.SJIS)}catch(h){throw new vo(h)}for(var s=a.length,i=0;i<s;i+=2){var c=a[i]&255,o=a[i+1]&255,d=c<<8&4294967295|o,l=-1;if(d>=33088&&d<=40956?l=d-33088:d>=57408&&d<=60351&&(l=d-49472),l===-1)throw new vo("Invalid byte sequence");var u=(l>>8)*192+(l&255);n.appendBits(u,13)}},r.appendECI=function(t,n){n.appendBits(xo.ECI.getBits(),4),n.appendBits(t.getValue(),8)},r.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),r.DEFAULT_BYTE_MODE_ENCODING=Xl.UTF8.getName(),r})();var $le=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){$le(t,r);function t(n,a,s,i,c,o,d,l){var u=r.call(this,o,d)||this;if(u.yuvData=n,u.dataWidth=a,u.dataHeight=s,u.left=i,u.top=c,i+o>a||c+d>s)throw new Ta("Crop rectangle does not fit within image data.");return l&&u.reverseHorizontal(o,d),u}return t.prototype.getRow=function(n,a){if(n<0||n>=this.getHeight())throw new Ta("Requested row is outside the image: "+n);var s=this.getWidth();(a==null||a.length<s)&&(a=new Uint8ClampedArray(s));var i=(n+this.top)*this.dataWidth+this.left;return lo.arraycopy(this.yuvData,i,a,0,s),a},t.prototype.getMatrix=function(){var n=this.getWidth(),a=this.getHeight();if(n===this.dataWidth&&a===this.dataHeight)return this.yuvData;var s=n*a,i=new Uint8ClampedArray(s),c=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return lo.arraycopy(this.yuvData,c,i,0,s),i;for(var o=0;o<a;o++){var d=o*n;lo.arraycopy(this.yuvData,c,i,d,n),c+=this.dataWidth}return i},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(n,a,s,i){return new t(this.yuvData,this.dataWidth,this.dataHeight,this.left+n,this.top+a,s,i,!1)},t.prototype.renderThumbnail=function(){for(var n=this.getWidth()/t.THUMBNAIL_SCALE_FACTOR,a=this.getHeight()/t.THUMBNAIL_SCALE_FACTOR,s=new Int32Array(n*a),i=this.yuvData,c=this.top*this.dataWidth+this.left,o=0;o<a;o++){for(var d=o*n,l=0;l<n;l++){var u=i[c+l*t.THUMBNAIL_SCALE_FACTOR]&255;s[d+l]=4278190080|u*65793}c+=this.dataWidth*t.THUMBNAIL_SCALE_FACTOR}return s},t.prototype.getThumbnailWidth=function(){return this.getWidth()/t.THUMBNAIL_SCALE_FACTOR},t.prototype.getThumbnailHeight=function(){return this.getHeight()/t.THUMBNAIL_SCALE_FACTOR},t.prototype.reverseHorizontal=function(n,a){for(var s=this.yuvData,i=0,c=this.top*this.dataWidth+this.left;i<a;i++,c+=this.dataWidth)for(var o=c+n/2,d=c,l=c+n-1;d<o;d++,l--){var u=s[d];s[d]=s[l],s[l]=u}},t.prototype.invert=function(){return new B2(this)},t.THUMBNAIL_SCALE_FACTOR=2,t})(s0);var Vle=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){Vle(t,r);function t(n,a,s,i,c,o,d){var l=r.call(this,a,s)||this;if(l.dataWidth=i,l.dataHeight=c,l.left=o,l.top=d,n.BYTES_PER_ELEMENT===4){for(var u=a*s,h=new Uint8ClampedArray(u),f=0;f<u;f++){var A=n[f],g=A>>16&255,m=A>>7&510,x=A&255;h[f]=(g+m+x)/4&255}l.luminances=h}else l.luminances=n;if(i===void 0&&(l.dataWidth=a),c===void 0&&(l.dataHeight=s),o===void 0&&(l.left=0),d===void 0&&(l.top=0),l.left+a>l.dataWidth||l.top+s>l.dataHeight)throw new Ta("Crop rectangle does not fit within image data.");return l}return t.prototype.getRow=function(n,a){if(n<0||n>=this.getHeight())throw new Ta("Requested row is outside the image: "+n);var s=this.getWidth();(a==null||a.length<s)&&(a=new Uint8ClampedArray(s));var i=(n+this.top)*this.dataWidth+this.left;return lo.arraycopy(this.luminances,i,a,0,s),a},t.prototype.getMatrix=function(){var n=this.getWidth(),a=this.getHeight();if(n===this.dataWidth&&a===this.dataHeight)return this.luminances;var s=n*a,i=new Uint8ClampedArray(s),c=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return lo.arraycopy(this.luminances,c,i,0,s),i;for(var o=0;o<a;o++){var d=o*n;lo.arraycopy(this.luminances,c,i,d,n),c+=this.dataWidth}return i},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(n,a,s,i){return new t(this.luminances,s,i,this.dataWidth,this.dataHeight,this.left+n,this.top+a)},t.prototype.invert=function(){return new B2(this)},t})(s0);var zle=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Kle=(function(r){zle(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.forName=function(n){return this.getCharacterSetECIByName(n)},t})(Xl),Gle=(function(){function r(){}return r.ISO_8859_1=Xl.ISO8859_1,r})(),d4,qle=301,Xle=function(r,t){for(var n=1,a=0;a<255;a++)t[a]=n,r[n]=a,n*=2,n>=256&&(n^=qle);return{LOG:r,ALOG:t}};d4=Xle([],[]),d4.LOG;d4.ALOG;var o_;(function(r){r[r.FORCE_NONE=0]="FORCE_NONE",r[r.FORCE_SQUARE=1]="FORCE_SQUARE",r[r.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(o_||(o_={}));var l_=129,kD=230,Yle=231,Jle=235,Zle=236,ece=237,tce=238,rce=239,nce=240,bC=254,ace=254,c_="[)>05",d_="[)>06",u_="",Di=0,Lc=1,bd=2,Gl=3,jc=4,td=5,sce=(function(){function r(){}return r.prototype.getEncodingMode=function(){return Di},r.prototype.encode=function(t){var n=Ah.determineConsecutiveDigitCount(t.getMessage(),t.pos);if(n>=2)t.writeCodeword(this.encodeASCIIDigits(t.getMessage().charCodeAt(t.pos),t.getMessage().charCodeAt(t.pos+1))),t.pos+=2;else{var a=t.getCurrentChar(),s=Ah.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(s!==this.getEncodingMode())switch(s){case td:t.writeCodeword(Yle),t.signalEncoderChange(td);return;case Lc:t.writeCodeword(kD),t.signalEncoderChange(Lc);return;case Gl:t.writeCodeword(tce),t.signalEncoderChange(Gl);break;case bd:t.writeCodeword(rce),t.signalEncoderChange(bd);break;case jc:t.writeCodeword(nce),t.signalEncoderChange(jc);break;default:throw new Error("Illegal mode: "+s)}else Ah.isExtendedASCII(a)?(t.writeCodeword(Jle),t.writeCodeword(a-128+1),t.pos++):(t.writeCodeword(a+1),t.pos++)}},r.prototype.encodeASCIIDigits=function(t,n){if(Ah.isDigit(t)&&Ah.isDigit(n)){var a=(t-48)*10+(n-48);return a+130}throw new Error("not digits: "+t+n)},r})(),ice=(function(){function r(){}return r.prototype.getEncodingMode=function(){return td},r.prototype.encode=function(t){var n=new Bs;for(n.append(0);t.hasMoreCharacters();){var a=t.getCurrentChar();n.append(a),t.pos++;var s=Ah.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(s!==this.getEncodingMode()){t.signalEncoderChange(Di);break}}var i=n.length()-1,c=1,o=t.getCodewordCount()+i+c;t.updateSymbolInfo(o);var d=t.getSymbolInfo().getDataCapacity()-o>0;if(t.hasMoreCharacters()||d)if(i<=249)n.setCharAt(0,ti.getCharAt(i));else if(i<=1555)n.setCharAt(0,ti.getCharAt(Math.floor(i/250)+249)),n.insert(1,ti.getCharAt(i%250));else throw new Error("Message length not in valid ranges: "+i);for(var l=0,a=n.length();l<a;l++)t.writeCodeword(this.randomize255State(n.charAt(l).charCodeAt(0),t.getCodewordCount()+1))},r.prototype.randomize255State=function(t,n){var a=149*n%255+1,s=t+a;return s<=255?s:s-256},r})(),kS=(function(){function r(){}return r.prototype.getEncodingMode=function(){return Lc},r.prototype.encodeMaximal=function(t){for(var n=new Bs,a=0,s=t.pos,i=0;t.hasMoreCharacters();){var c=t.getCurrentChar();t.pos++,a=this.encodeChar(c,n),n.length()%3===0&&(s=t.pos,i=n.length())}if(i!==n.length()){var o=Math.floor(n.length()/3*2),d=Math.floor(t.getCodewordCount()+o+1);t.updateSymbolInfo(d);var l=t.getSymbolInfo().getDataCapacity()-d,u=Math.floor(n.length()%3);(u===2&&l!==2||u===1&&(a>3||l!==1))&&(t.pos=s)}n.length()>0&&t.writeCodeword(kD),this.handleEOD(t,n)},r.prototype.encode=function(t){for(var n=new Bs;t.hasMoreCharacters();){var a=t.getCurrentChar();t.pos++;var s=this.encodeChar(a,n),i=Math.floor(n.length()/3)*2,c=t.getCodewordCount()+i;t.updateSymbolInfo(c);var o=t.getSymbolInfo().getDataCapacity()-c;if(!t.hasMoreCharacters()){var d=new Bs;for(n.length()%3===2&&o!==2&&(s=this.backtrackOneCharacter(t,n,d,s));n.length()%3===1&&(s>3||o!==1);)s=this.backtrackOneCharacter(t,n,d,s);break}var l=n.length();if(l%3===0){var u=Ah.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(u!==this.getEncodingMode()){t.signalEncoderChange(Di);break}}}this.handleEOD(t,n)},r.prototype.backtrackOneCharacter=function(t,n,a,s){var i=n.length(),c=n.toString().substring(0,i-s);n.setLengthToZero(),n.append(c),t.pos--;var o=t.getCurrentChar();return s=this.encodeChar(o,a),t.resetSymbolInfo(),s},r.prototype.writeNextTriplet=function(t,n){t.writeCodewords(this.encodeToCodewords(n.toString()));var a=n.toString().substring(3);n.setLengthToZero(),n.append(a)},r.prototype.handleEOD=function(t,n){var a=Math.floor(n.length()/3*2),s=n.length()%3,i=t.getCodewordCount()+a;t.updateSymbolInfo(i);var c=t.getSymbolInfo().getDataCapacity()-i;if(s===2){for(n.append("\0");n.length()>=3;)this.writeNextTriplet(t,n);t.hasMoreCharacters()&&t.writeCodeword(bC)}else if(c===1&&s===1){for(;n.length()>=3;)this.writeNextTriplet(t,n);t.hasMoreCharacters()&&t.writeCodeword(bC),t.pos--}else if(s===0){for(;n.length()>=3;)this.writeNextTriplet(t,n);(c>0||t.hasMoreCharacters())&&t.writeCodeword(bC)}else throw new Error("Unexpected case. Please report!");t.signalEncoderChange(Di)},r.prototype.encodeChar=function(t,n){if(t===32)return n.append(3),1;if(t>=48&&t<=57)return n.append(t-48+4),1;if(t>=65&&t<=90)return n.append(t-65+14),1;if(t<32)return n.append(0),n.append(t),2;if(t<=47)return n.append(1),n.append(t-33),2;if(t<=64)return n.append(1),n.append(t-58+15),2;if(t<=95)return n.append(1),n.append(t-91+22),2;if(t<=127)return n.append(2),n.append(t-96),2;n.append("1");var a=2;return a+=this.encodeChar(t-128,n),a},r.prototype.encodeToCodewords=function(t){var n=1600*t.charCodeAt(0)+40*t.charCodeAt(1)+t.charCodeAt(2)+1,a=n/256,s=n%256,i=new Bs;return i.append(a),i.append(s),i.toString()},r})(),oce=(function(){function r(){}return r.prototype.getEncodingMode=function(){return jc},r.prototype.encode=function(t){for(var n=new Bs;t.hasMoreCharacters();){var a=t.getCurrentChar();this.encodeChar(a,n),t.pos++;var s=n.length();if(s>=4){t.writeCodewords(this.encodeToCodewords(n.toString()));var i=n.toString().substring(4);n.setLengthToZero(),n.append(i);var c=Ah.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(c!==this.getEncodingMode()){t.signalEncoderChange(Di);break}}}n.append(ti.getCharAt(31)),this.handleEOD(t,n)},r.prototype.handleEOD=function(t,n){try{var a=n.length();if(a===0)return;if(a===1){t.updateSymbolInfo();var s=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount(),i=t.getRemainingCharacters();if(i>s&&(t.updateSymbolInfo(t.getCodewordCount()+1),s=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount()),i<=s&&s<=2)return}if(a>4)throw new Error("Count must not exceed 4");var c=a-1,o=this.encodeToCodewords(n.toString()),d=!t.hasMoreCharacters(),l=d&&c<=2;if(c<=2){t.updateSymbolInfo(t.getCodewordCount()+c);var s=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount();s>=3&&(l=!1,t.updateSymbolInfo(t.getCodewordCount()+o.length))}l?(t.resetSymbolInfo(),t.pos-=c):t.writeCodewords(o)}finally{t.signalEncoderChange(Di)}},r.prototype.encodeChar=function(t,n){t>=32&&t<=63?n.append(t):t>=64&&t<=94?n.append(ti.getCharAt(t-64)):Ah.illegalCharacter(ti.getCharAt(t))},r.prototype.encodeToCodewords=function(t){var n=t.length;if(n===0)throw new Error("StringBuilder must not be empty");var a=t.charAt(0).charCodeAt(0),s=n>=2?t.charAt(1).charCodeAt(0):0,i=n>=3?t.charAt(2).charCodeAt(0):0,c=n>=4?t.charAt(3).charCodeAt(0):0,o=(a<<18)+(s<<12)+(i<<6)+c,d=o>>16&255,l=o>>8&255,u=o&255,h=new Bs;return h.append(d),n>=2&&h.append(l),n>=3&&h.append(u),h.toString()},r})(),lce=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),cce=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},bi=(function(){function r(t,n,a,s,i,c,o,d){o===void 0&&(o=0),d===void 0&&(d=0),this.rectangular=t,this.dataCapacity=n,this.errorCodewords=a,this.matrixWidth=s,this.matrixHeight=i,this.dataRegions=c,this.rsBlockData=o,this.rsBlockError=d}return r.lookup=function(t,n,a,s,i){var c,o;n===void 0&&(n=0),a===void 0&&(a=null),s===void 0&&(s=null),i===void 0&&(i=!0);try{for(var d=cce(uce),l=d.next();!l.done;l=d.next()){var u=l.value;if(!(n===1&&u.rectangular)&&!(n===2&&!u.rectangular)&&!(a!=null&&(u.getSymbolWidth()<a.getWidth()||u.getSymbolHeight()<a.getHeight()))&&!(s!=null&&(u.getSymbolWidth()>s.getWidth()||u.getSymbolHeight()>s.getHeight()))&&t<=u.dataCapacity)return u}}catch(h){c={error:h}}finally{try{l&&!l.done&&(o=d.return)&&o.call(d)}finally{if(c)throw c.error}}if(i)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+t);return null},r.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},r.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},r.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},r.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},r.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},r.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},r.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},r.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},r.prototype.getDataCapacity=function(){return this.dataCapacity},r.prototype.getErrorCodewords=function(){return this.errorCodewords},r.prototype.getDataLengthForInterleavedBlock=function(t){return this.rsBlockData},r.prototype.getErrorLengthForInterleavedBlock=function(t){return this.rsBlockError},r})(),dce=(function(r){lce(t,r);function t(){return r.call(this,!1,1558,620,22,22,36,-1,62)||this}return t.prototype.getInterleavedBlockCount=function(){return 10},t.prototype.getDataLengthForInterleavedBlock=function(n){return n<=8?156:155},t})(bi),uce=[new bi(!1,3,5,8,8,1),new bi(!1,5,7,10,10,1),new bi(!0,5,7,16,6,1),new bi(!1,8,10,12,12,1),new bi(!0,10,11,14,6,2),new bi(!1,12,12,14,14,1),new bi(!0,16,14,24,10,1),new bi(!1,18,14,16,16,1),new bi(!1,22,18,18,18,1),new bi(!0,22,18,16,10,2),new bi(!1,30,20,20,20,1),new bi(!0,32,24,16,14,2),new bi(!1,36,24,22,22,1),new bi(!1,44,28,24,24,1),new bi(!0,49,28,22,14,2),new bi(!1,62,36,14,14,4),new bi(!1,86,42,16,16,4),new bi(!1,114,48,18,18,4),new bi(!1,144,56,20,20,4),new bi(!1,174,68,22,22,4),new bi(!1,204,84,24,24,4,102,42),new bi(!1,280,112,14,14,16,140,56),new bi(!1,368,144,16,16,16,92,36),new bi(!1,456,192,18,18,16,114,48),new bi(!1,576,224,20,20,16,144,56),new bi(!1,696,272,22,22,16,174,68),new bi(!1,816,336,24,24,16,136,56),new bi(!1,1050,408,18,18,36,175,68),new bi(!1,1304,496,20,20,36,163,62),new dce],hce=(function(){function r(t){this.msg=t,this.pos=0,this.skipAtEnd=0;for(var n=t.split("").map(function(o){return o.charCodeAt(0)}),a=new Bs,s=0,i=n.length;s<i;s++){var c=String.fromCharCode(n[s]&255);if(c==="?"&&t.charAt(s)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");a.append(c)}this.msg=a.toString(),this.shape=0,this.codewords=new Bs,this.newEncoding=-1}return r.prototype.setSymbolShape=function(t){this.shape=t},r.prototype.setSizeConstraints=function(t,n){this.minSize=t,this.maxSize=n},r.prototype.getMessage=function(){return this.msg},r.prototype.setSkipAtEnd=function(t){this.skipAtEnd=t},r.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},r.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},r.prototype.getCodewords=function(){return this.codewords},r.prototype.writeCodewords=function(t){this.codewords.append(t)},r.prototype.writeCodeword=function(t){this.codewords.append(t)},r.prototype.getCodewordCount=function(){return this.codewords.length()},r.prototype.getNewEncoding=function(){return this.newEncoding},r.prototype.signalEncoderChange=function(t){this.newEncoding=t},r.prototype.resetEncoderSignal=function(){this.newEncoding=-1},r.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},r.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},r.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},r.prototype.getSymbolInfo=function(){return this.symbolInfo},r.prototype.updateSymbolInfo=function(t){t===void 0&&(t=this.getCodewordCount()),(this.symbolInfo==null||t>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=bi.lookup(t,this.shape,this.minSize,this.maxSize,!0))},r.prototype.resetSymbolInfo=function(){this.symbolInfo=null},r})(),fce=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Ace=(function(r){fce(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getEncodingMode=function(){return Gl},t.prototype.encode=function(n){for(var a=new Bs;n.hasMoreCharacters();){var s=n.getCurrentChar();n.pos++,this.encodeChar(s,a);var i=a.length();if(i%3===0){this.writeNextTriplet(n,a);var c=Ah.lookAheadTest(n.getMessage(),n.pos,this.getEncodingMode());if(c!==this.getEncodingMode()){n.signalEncoderChange(Di);break}}}this.handleEOD(n,a)},t.prototype.encodeChar=function(n,a){switch(n){case 13:a.append(0);break;case 42:a.append(1);break;case 62:a.append(2);break;case 32:a.append(3);break;default:n>=48&&n<=57?a.append(n-48+4):n>=65&&n<=90?a.append(n-65+14):Ah.illegalCharacter(ti.getCharAt(n));break}return 1},t.prototype.handleEOD=function(n,a){n.updateSymbolInfo();var s=n.getSymbolInfo().getDataCapacity()-n.getCodewordCount(),i=a.length();n.pos-=i,(n.getRemainingCharacters()>1||s>1||n.getRemainingCharacters()!==s)&&n.writeCodeword(ace),n.getNewEncoding()<0&&n.signalEncoderChange(Di)},t})(kS),pce=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),mce=(function(r){pce(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getEncodingMode=function(){return bd},t.prototype.encodeChar=function(n,a){if(n===32)return a.append(3),1;if(n>=48&&n<=57)return a.append(n-48+4),1;if(n>=97&&n<=122)return a.append(n-97+14),1;if(n<32)return a.append(0),a.append(n),2;if(n<=47)return a.append(1),a.append(n-33),2;if(n<=64)return a.append(1),a.append(n-58+15),2;if(n>=91&&n<=95)return a.append(1),a.append(n-91+22),2;if(n===96)return a.append(2),a.append(0),2;if(n<=90)return a.append(2),a.append(n-65+1),2;if(n<=127)return a.append(2),a.append(n-123+27),2;a.append("1");var s=2;return s+=this.encodeChar(n-128,a),s},t})(kS),Ah=(function(){function r(){}return r.randomize253State=function(t){var n=149*t%253+1,a=l_+n;return a<=254?a:a-254},r.encodeHighLevel=function(t,n,a,s,i){n===void 0&&(n=0),a===void 0&&(a=null),s===void 0&&(s=null),i===void 0&&(i=!1);var c=new kS,o=[new sce,c,new mce,new Ace,new oce,new ice],d=new hce(t);d.setSymbolShape(n),d.setSizeConstraints(a,s),t.startsWith(c_)&&t.endsWith(u_)?(d.writeCodeword(Zle),d.setSkipAtEnd(2),d.pos+=c_.length):t.startsWith(d_)&&t.endsWith(u_)&&(d.writeCodeword(ece),d.setSkipAtEnd(2),d.pos+=d_.length);var l=Di;for(i&&(c.encodeMaximal(d),l=d.getNewEncoding(),d.resetEncoderSignal());d.hasMoreCharacters();)o[l].encode(d),d.getNewEncoding()>=0&&(l=d.getNewEncoding(),d.resetEncoderSignal());var u=d.getCodewordCount();d.updateSymbolInfo();var h=d.getSymbolInfo().getDataCapacity();u<h&&l!==Di&&l!==td&&l!==jc&&d.writeCodeword("");var f=d.getCodewords();for(f.length()<h&&f.append(l_);f.length()<h;)f.append(this.randomize253State(f.length()+1));return d.getCodewords().toString()},r.lookAheadTest=function(t,n,a){var s=this.lookAheadTestIntern(t,n,a);if(a===Gl&&s===Gl){for(var i=Math.min(n+3,t.length),c=n;c<i;c++)if(!this.isNativeX12(t.charCodeAt(c)))return Di}else if(a===jc&&s===jc){for(var i=Math.min(n+4,t.length),c=n;c<i;c++)if(!this.isNativeEDIFACT(t.charCodeAt(c)))return Di}return s},r.lookAheadTestIntern=function(t,n,a){if(n>=t.length)return a;var s;a===Di?s=[0,1,1,1,1,1.25]:(s=[1,2,2,2,2,2.25],s[a]=0);for(var i=0,c=new Uint8Array(6),o=[];;){if(n+i===t.length){Jl.fill(c,0),Jl.fill(o,0);var d=this.findMinimums(s,o,_s.MAX_VALUE,c),l=this.getMinimumCount(c);if(o[Di]===d)return Di;if(l===1){if(c[td]>0)return td;if(c[jc]>0)return jc;if(c[bd]>0)return bd;if(c[Gl]>0)return Gl}return Lc}var u=t.charCodeAt(n+i);if(i++,this.isDigit(u)?s[Di]+=.5:this.isExtendedASCII(u)?(s[Di]=Math.ceil(s[Di]),s[Di]+=2):(s[Di]=Math.ceil(s[Di]),s[Di]++),this.isNativeC40(u)?s[Lc]+=2/3:this.isExtendedASCII(u)?s[Lc]+=8/3:s[Lc]+=4/3,this.isNativeText(u)?s[bd]+=2/3:this.isExtendedASCII(u)?s[bd]+=8/3:s[bd]+=4/3,this.isNativeX12(u)?s[Gl]+=2/3:this.isExtendedASCII(u)?s[Gl]+=13/3:s[Gl]+=10/3,this.isNativeEDIFACT(u)?s[jc]+=3/4:this.isExtendedASCII(u)?s[jc]+=17/4:s[jc]+=13/4,this.isSpecialB256(u)?s[td]+=4:s[td]++,i>=4){if(Jl.fill(c,0),Jl.fill(o,0),this.findMinimums(s,o,_s.MAX_VALUE,c),o[Di]<this.min(o[td],o[Lc],o[bd],o[Gl],o[jc]))return Di;if(o[td]<o[Di]||o[td]+1<this.min(o[Lc],o[bd],o[Gl],o[jc]))return td;if(o[jc]+1<this.min(o[td],o[Lc],o[bd],o[Gl],o[Di]))return jc;if(o[bd]+1<this.min(o[td],o[Lc],o[jc],o[Gl],o[Di]))return bd;if(o[Gl]+1<this.min(o[td],o[Lc],o[jc],o[bd],o[Di]))return Gl;if(o[Lc]+1<this.min(o[Di],o[td],o[jc],o[bd])){if(o[Lc]<o[Gl])return Lc;if(o[Lc]===o[Gl]){for(var h=n+i+1;h<t.length;){var f=t.charCodeAt(h);if(this.isX12TermSep(f))return Gl;if(!this.isNativeX12(f))break;h++}return Lc}}}}},r.min=function(t,n,a,s,i){var c=Math.min(t,Math.min(n,Math.min(a,s)));return i===void 0?c:Math.min(c,i)},r.findMinimums=function(t,n,a,s){for(var i=0;i<6;i++){var c=n[i]=Math.ceil(t[i]);a>c&&(a=c,Jl.fill(s,0)),a===c&&(s[i]=s[i]+1)}return a},r.getMinimumCount=function(t){for(var n=0,a=0;a<6;a++)n+=t[a];return n||0},r.isDigit=function(t){return t>=48&&t<=57},r.isExtendedASCII=function(t){return t>=128&&t<=255},r.isNativeC40=function(t){return t===32||t>=48&&t<=57||t>=65&&t<=90},r.isNativeText=function(t){return t===32||t>=48&&t<=57||t>=97&&t<=122},r.isNativeX12=function(t){return this.isX12TermSep(t)||t===32||t>=48&&t<=57||t>=65&&t<=90},r.isX12TermSep=function(t){return t===13||t===42||t===62},r.isNativeEDIFACT=function(t){return t>=32&&t<=94},r.isSpecialB256=function(t){return!1},r.determineConsecutiveDigitCount=function(t,n){n===void 0&&(n=0);for(var a=t.length,s=n;s<a&&this.isDigit(t.charCodeAt(s));)s++;return s-n},r.illegalCharacter=function(t){var n=_s.toHexString(t.charCodeAt(0));throw n="0000".substring(0,4-n.length)+n,new Error("Illegal character: "+t+" (0x"+n+")")},r})(),wC=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},h_=(function(){function r(t){this.charset=t,this.name=t.name}return r.prototype.canEncode=function(t){try{return Vu.encode(t,this.charset)!=null}catch{return!1}},r})(),gce=(function(){function r(t,n,a){var s,i,c,o,d,l;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(J){return new h_(Kle.forName(J))}),this.encoders=[];var u=[];u.push(new h_(Gle.ISO_8859_1));for(var h=n!=null&&n.name.startsWith("UTF"),f=0;f<t.length;f++){var A=!1;try{for(var g=(s=void 0,wC(u)),m=g.next();!m.done;m=g.next()){var x=m.value,y=t.charAt(f),j=y.charCodeAt(0);if(j===a||x.canEncode(y)){A=!0;break}}}catch(J){s={error:J}}finally{try{m&&!m.done&&(i=g.return)&&i.call(g)}finally{if(s)throw s.error}}if(!A)try{for(var b=(c=void 0,wC(this.ENCODERS)),S=b.next();!S.done;S=b.next()){var x=S.value;if(x.canEncode(t.charAt(f))){u.push(x),A=!0;break}}}catch(J){c={error:J}}finally{try{S&&!S.done&&(o=b.return)&&o.call(b)}finally{if(c)throw c.error}}A||(h=!0)}if(u.length===1&&!h)this.encoders=[u[0]];else{this.encoders=[];var w=0;try{for(var E=wC(u),I=E.next();!I.done;I=E.next()){var x=I.value;this.encoders[w++]=x}}catch(J){d={error:J}}finally{try{I&&!I.done&&(l=E.return)&&l.call(E)}finally{if(d)throw d.error}}}var L=-1;if(n!=null){for(var f=0;f<this.encoders.length;f++)if(this.encoders[f]!=null&&n.name===this.encoders[f].name){L=f;break}}this.priorityEncoderIndex=L}return r.prototype.length=function(){return this.encoders.length},r.prototype.getCharsetName=function(t){if(!(t<this.length()))throw new Error("index must be less than length");return this.encoders[t].name},r.prototype.getCharset=function(t){if(!(t<this.length()))throw new Error("index must be less than length");return this.encoders[t].charset},r.prototype.getECIValue=function(t){return this.encoders[t].charset.getValueIdentifier()},r.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},r.prototype.canEncode=function(t,n){if(!(n<this.length()))throw new Error("index must be less than length");return!0},r.prototype.encode=function(t,n){if(!(n<this.length()))throw new Error("index must be less than length");return Vu.encode(ti.getCharAt(t),this.encoders[n].name)},r})(),vce=3,xce=(function(){function r(t,n,a){this.fnc1=a;var s=new gce(t,n,a);if(s.length()===1)for(var i=0;i<this.bytes.length;i++){var c=t.charAt(i).charCodeAt(0);this.bytes[i]=c===a?1e3:c}else this.bytes=this.encodeMinimally(t,s,a)}return r.prototype.getFNC1Character=function(){return this.fnc1},r.prototype.length=function(){return this.bytes.length},r.prototype.haveNCharacters=function(t,n){if(t+n-1>=this.bytes.length)return!1;for(var a=0;a<n;a++)if(this.isECI(t+a))return!1;return!0},r.prototype.charAt=function(t){if(t<0||t>=this.length())throw new Error(""+t);if(this.isECI(t))throw new Error("value at "+t+" is not a character but an ECI");return this.isFNC1(t)?this.fnc1:this.bytes[t]},r.prototype.subSequence=function(t,n){if(t<0||t>n||n>this.length())throw new Error(""+t);for(var a=new Bs,s=t;s<n;s++){if(this.isECI(s))throw new Error("value at "+s+" is not a character but an ECI");a.append(this.charAt(s))}return a.toString()},r.prototype.isECI=function(t){if(t<0||t>=this.length())throw new Error(""+t);return this.bytes[t]>255&&this.bytes[t]<=999},r.prototype.isFNC1=function(t){if(t<0||t>=this.length())throw new Error(""+t);return this.bytes[t]===1e3},r.prototype.getECIValue=function(t){if(t<0||t>=this.length())throw new Error(""+t);if(!this.isECI(t))throw new Error("value at "+t+" is not an ECI but a character");return this.bytes[t]-256},r.prototype.addEdge=function(t,n,a){(t[n][a.encoderIndex]==null||t[n][a.encoderIndex].cachedTotalSize>a.cachedTotalSize)&&(t[n][a.encoderIndex]=a)},r.prototype.addEdges=function(t,n,a,s,i,c){var o=t.charAt(s).charCodeAt(0),d=0,l=n.length();n.getPriorityEncoderIndex()>=0&&(o===c||n.canEncode(o,n.getPriorityEncoderIndex()))&&(d=n.getPriorityEncoderIndex(),l=d+1);for(var u=d;u<l;u++)(o===c||n.canEncode(o,u))&&this.addEdge(a,s+1,new f_(o,n,u,i,c))},r.prototype.encodeMinimally=function(t,n,a){var s=t.length,i=new f_[s+1][n.length()];this.addEdges(t,n,i,0,null,a);for(var c=1;c<=s;c++){for(var o=0;o<n.length();o++)i[c][o]!=null&&c<s&&this.addEdges(t,n,i,c,i[c][o],a);for(var o=0;o<n.length();o++)i[c-1][o]=null}for(var d=-1,l=_s.MAX_VALUE,o=0;o<n.length();o++)if(i[s][o]!=null){var u=i[s][o];u.cachedTotalSize<l&&(l=u.cachedTotalSize,d=o)}if(d<0)throw new Error('Failed to encode "'+t+'"');for(var h=[],f=i[s][d];f!=null;){if(f.isFNC1())h.unshift(1e3);else for(var A=n.encode(f.c,f.encoderIndex),c=A.length-1;c>=0;c--)h.unshift(A[c]&255);var g=f.previous===null?0:f.previous.encoderIndex;g!==f.encoderIndex&&h.unshift(256+n.getECIValue(f.encoderIndex)),f=f.previous}for(var m=[],c=0;c<m.length;c++)m[c]=h[c];return m},r})(),f_=(function(){function r(t,n,a,s,i){this.c=t,this.encoderSet=n,this.encoderIndex=a,this.previous=s,this.fnc1=i,this.c=t===i?1e3:t;var c=this.isFNC1()?1:n.encode(t,a).length,o=s===null?0:s.encoderIndex;o!==a&&(c+=vce),s!=null&&(c+=s.cachedTotalSize),this.cachedTotalSize=c}return r.prototype.isFNC1=function(){return this.c===1e3},r})(),yce=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();var A_;(function(r){r[r.ASCII=0]="ASCII",r[r.C40=1]="C40",r[r.TEXT=2]="TEXT",r[r.X12=3]="X12",r[r.EDF=4]="EDF",r[r.B256=5]="B256"})(A_||(A_={}));(function(r){yce(t,r);function t(n,a,s,i,c){var o=r.call(this,n,a,s)||this;return o.shape=i,o.macroId=c,o}return t.prototype.getMacroId=function(){return this.macroId},t.prototype.getShapeHint=function(){return this.shape},t})(xce);var jce=(function(){function r(){}return r.prototype.isCompact=function(){return this.compact},r.prototype.setCompact=function(t){this.compact=t},r.prototype.getSize=function(){return this.size},r.prototype.setSize=function(t){this.size=t},r.prototype.getLayers=function(){return this.layers},r.prototype.setLayers=function(t){this.layers=t},r.prototype.getCodeWords=function(){return this.codeWords},r.prototype.setCodeWords=function(t){this.codeWords=t},r.prototype.getMatrix=function(){return this.matrix},r.prototype.setMatrix=function(t){this.matrix=t},r})(),p_=(function(){function r(){}return r.singletonList=function(t){return[t]},r.min=function(t,n){return t.sort(n)[0]},r})(),bce=(function(){function r(t){this.previous=t}return r.prototype.getPrevious=function(){return this.previous},r})(),wce=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),_S=(function(r){wce(t,r);function t(n,a,s){var i=r.call(this,n)||this;return i.value=a,i.bitCount=s,i}return t.prototype.appendTo=function(n,a){n.appendBits(this.value,this.bitCount)},t.prototype.add=function(n,a){return new t(this,n,a)},t.prototype.addBinaryShift=function(n,a){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new t(this,n,a)},t.prototype.toString=function(){var n=this.value&(1<<this.bitCount)-1;return n|=1<<this.bitCount,"<"+_s.toBinaryString(n|1<<this.bitCount).substring(1)+">"},t})(bce),Cce=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Nce=(function(r){Cce(t,r);function t(n,a,s){var i=r.call(this,n,0,0)||this;return i.binaryShiftStart=a,i.binaryShiftByteCount=s,i}return t.prototype.appendTo=function(n,a){for(var s=0;s<this.binaryShiftByteCount;s++)(s===0||s===31&&this.binaryShiftByteCount<=62)&&(n.appendBits(31,5),this.binaryShiftByteCount>62?n.appendBits(this.binaryShiftByteCount-31,16):s===0?n.appendBits(Math.min(this.binaryShiftByteCount,31),5):n.appendBits(this.binaryShiftByteCount-31,5)),n.appendBits(a[this.binaryShiftStart+s],8)},t.prototype.addBinaryShift=function(n,a){return new t(this,n,a)},t.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},t})(_S);function Sce(r,t,n){return new Nce(r,t,n)}function Rg(r,t,n){return new _S(r,t,n)}var Ece=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],hA=0,Lx=1,$u=2,_D=3,Ph=4,Bce=new _S(null,0,0),CC=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],Ice=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function Tce(r){var t,n;try{for(var a=Ice(r),s=a.next();!s.done;s=a.next()){var i=s.value;Jl.fill(i,-1)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return r[hA][Ph]=0,r[Lx][Ph]=0,r[Lx][hA]=28,r[_D][Ph]=0,r[$u][Ph]=0,r[$u][hA]=15,r}var OD=Tce(Jl.createInt32Array(6,6)),kce=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},_ce=(function(){function r(t,n,a,s){this.token=t,this.mode=n,this.binaryShiftByteCount=a,this.bitCount=s}return r.prototype.getMode=function(){return this.mode},r.prototype.getToken=function(){return this.token},r.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},r.prototype.getBitCount=function(){return this.bitCount},r.prototype.latchAndAppend=function(t,n){var a=this.bitCount,s=this.token;if(t!==this.mode){var i=CC[this.mode][t];s=Rg(s,i&65535,i>>16),a+=i>>16}var c=t===$u?4:5;return s=Rg(s,n,c),new r(s,t,0,a+c)},r.prototype.shiftAndAppend=function(t,n){var a=this.token,s=this.mode===$u?4:5;return a=Rg(a,OD[this.mode][t],s),a=Rg(a,n,5),new r(a,this.mode,0,this.bitCount+s+5)},r.prototype.addBinaryShiftChar=function(t){var n=this.token,a=this.mode,s=this.bitCount;if(this.mode===Ph||this.mode===$u){var i=CC[a][hA];n=Rg(n,i&65535,i>>16),s+=i>>16,a=hA}var c=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,o=new r(n,a,this.binaryShiftByteCount+1,s+c);return o.binaryShiftByteCount===2078&&(o=o.endBinaryShift(t+1)),o},r.prototype.endBinaryShift=function(t){if(this.binaryShiftByteCount===0)return this;var n=this.token;return n=Sce(n,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new r(n,this.mode,0,this.bitCount)},r.prototype.isBetterThanOrEqualTo=function(t){var n=this.bitCount+(CC[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?n+=r.calculateBinaryShiftCost(t)-r.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(n+=10),n<=t.bitCount},r.prototype.toBitArray=function(t){for(var n,a,s=[],i=this.endBinaryShift(t.length).token;i!==null;i=i.getPrevious())s.unshift(i);var c=new Nc;try{for(var o=kce(s),d=o.next();!d.done;d=o.next()){var l=d.value;l.appendTo(c,t)}}catch(u){n={error:u}}finally{try{d&&!d.done&&(a=o.return)&&a.call(o)}finally{if(n)throw n.error}}return c},r.prototype.toString=function(){return ti.format("%s bits=%d bytes=%d",Ece[this.mode],this.bitCount,this.binaryShiftByteCount)},r.calculateBinaryShiftCost=function(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0},r.INITIAL_STATE=new r(Bce,hA,0,0),r})();function Oce(r){var t=ti.getCharCode(" "),n=ti.getCharCode("."),a=ti.getCharCode(",");r[hA][t]=1;for(var s=ti.getCharCode("Z"),i=ti.getCharCode("A"),c=i;c<=s;c++)r[hA][c]=c-i+2;r[Lx][t]=1;for(var o=ti.getCharCode("z"),d=ti.getCharCode("a"),c=d;c<=o;c++)r[Lx][c]=c-d+2;r[$u][t]=1;for(var l=ti.getCharCode("9"),u=ti.getCharCode("0"),c=u;c<=l;c++)r[$u][c]=c-u+2;r[$u][a]=12,r[$u][n]=13;for(var h=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],f=0;f<h.length;f++)r[_D][ti.getCharCode(h[f])]=f;for(var A=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],f=0;f<A.length;f++)ti.getCharCode(A[f])>0&&(r[Ph][ti.getCharCode(A[f])]=f);return r}var NC=Oce(Jl.createInt32Array(5,256)),Cv=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Fce=(function(){function r(t){this.text=t}return r.prototype.encode=function(){for(var t=ti.getCharCode(" "),n=ti.getCharCode(`
`),a=p_.singletonList(_ce.INITIAL_STATE),s=0;s<this.text.length;s++){var i=void 0,c=s+1<this.text.length?this.text[s+1]:0;switch(this.text[s]){case ti.getCharCode("\r"):i=c===n?2:0;break;case ti.getCharCode("."):i=c===t?3:0;break;case ti.getCharCode(","):i=c===t?4:0;break;case ti.getCharCode(":"):i=c===t?5:0;break;default:i=0}i>0?(a=r.updateStateListForPair(a,s,i),s++):a=this.updateStateListForChar(a,s)}var o=p_.min(a,function(d,l){return d.getBitCount()-l.getBitCount()});return o.toBitArray(this.text)},r.prototype.updateStateListForChar=function(t,n){var a,s,i=[];try{for(var c=Cv(t),o=c.next();!o.done;o=c.next()){var d=o.value;this.updateStateForChar(d,n,i)}}catch(l){a={error:l}}finally{try{o&&!o.done&&(s=c.return)&&s.call(c)}finally{if(a)throw a.error}}return r.simplifyStates(i)},r.prototype.updateStateForChar=function(t,n,a){for(var s=this.text[n]&255,i=NC[t.getMode()][s]>0,c=null,o=0;o<=Ph;o++){var d=NC[o][s];if(d>0){if(c==null&&(c=t.endBinaryShift(n)),!i||o===t.getMode()||o===$u){var l=c.latchAndAppend(o,d);a.push(l)}if(!i&&OD[t.getMode()][o]>=0){var u=c.shiftAndAppend(o,d);a.push(u)}}}if(t.getBinaryShiftByteCount()>0||NC[t.getMode()][s]===0){var h=t.addBinaryShiftChar(n);a.push(h)}},r.updateStateListForPair=function(t,n,a){var s,i,c=[];try{for(var o=Cv(t),d=o.next();!d.done;d=o.next()){var l=d.value;this.updateStateForPair(l,n,a,c)}}catch(u){s={error:u}}finally{try{d&&!d.done&&(i=o.return)&&i.call(o)}finally{if(s)throw s.error}}return this.simplifyStates(c)},r.updateStateForPair=function(t,n,a,s){var i=t.endBinaryShift(n);if(s.push(i.latchAndAppend(Ph,a)),t.getMode()!==Ph&&s.push(i.shiftAndAppend(Ph,a)),a===3||a===4){var c=i.latchAndAppend($u,16-a).latchAndAppend($u,1);s.push(c)}if(t.getBinaryShiftByteCount()>0){var o=t.addBinaryShiftChar(n).addBinaryShiftChar(n+1);s.push(o)}},r.simplifyStates=function(t){var n,a,s,i,c=[];try{for(var o=Cv(t),d=o.next();!d.done;d=o.next()){var l=d.value,u=!0,h=function(x){if(x.isBetterThanOrEqualTo(l))return u=!1,"break";l.isBetterThanOrEqualTo(x)&&(c=c.filter(function(y){return y!==x}))};try{for(var f=(s=void 0,Cv(c)),A=f.next();!A.done;A=f.next()){var g=A.value,m=h(g);if(m==="break")break}}catch(x){s={error:x}}finally{try{A&&!A.done&&(i=f.return)&&i.call(f)}finally{if(s)throw s.error}}u&&c.push(l)}}catch(x){n={error:x}}finally{try{d&&!d.done&&(a=o.return)&&a.call(o)}finally{if(n)throw n.error}}return c},r})(),Pce=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function r(){}return r.encodeBytes=function(t){return r.encode(t,r.DEFAULT_EC_PERCENT,r.DEFAULT_AZTEC_LAYERS)},r.encode=function(t,n,a){var s=new Fce(t).encode(),i=_s.truncDivision(s.getSize()*n,100)+11,c=s.getSize()+i,o,d,l,u,h;if(a!==r.DEFAULT_AZTEC_LAYERS){if(o=a<0,d=Math.abs(a),d>(o?r.MAX_NB_BITS_COMPACT:r.MAX_NB_BITS))throw new Ta(ti.format("Illegal value %s for layers",a));l=r.totalBitsInLayer(d,o),u=r.WORD_SIZE[d];var f=l-l%u;if(h=r.stuffBits(s,u),h.getSize()+i>f)throw new Ta("Data to large for user specified layer");if(o&&h.getSize()>u*64)throw new Ta("Data to large for user specified layer")}else{u=0,h=null;for(var A=0;;A++){if(A>r.MAX_NB_BITS)throw new Ta("Data too large for an Aztec code");if(o=A<=3,d=o?A+1:A,l=r.totalBitsInLayer(d,o),!(c>l)){(h==null||u!==r.WORD_SIZE[d])&&(u=r.WORD_SIZE[d],h=r.stuffBits(s,u));var f=l-l%u;if(!(o&&h.getSize()>u*64)&&h.getSize()+i<=f)break}}}var g=r.generateCheckWords(h,l,u),m=h.getSize()/u,x=r.generateModeMessage(o,d,m),y=(o?11:14)+d*4,j=new Int32Array(y),b;if(o){b=y;for(var A=0;A<j.length;A++)j[A]=A}else{b=y+1+2*_s.truncDivision(_s.truncDivision(y,2)-1,15);for(var S=_s.truncDivision(y,2),w=_s.truncDivision(b,2),A=0;A<S;A++){var E=A+_s.truncDivision(A,15);j[S-A-1]=w-E-1,j[S+A]=w+E+1}}for(var I=new Uh(b),A=0,L=0;A<d;A++){for(var J=(d-A)*4+(o?9:12),ae=0;ae<J;ae++)for(var G=ae*2,le=0;le<2;le++)g.get(L+G+le)&&I.set(j[A*2+le],j[A*2+ae]),g.get(L+J*2+G+le)&&I.set(j[A*2+ae],j[y-1-A*2-le]),g.get(L+J*4+G+le)&&I.set(j[y-1-A*2-le],j[y-1-A*2-ae]),g.get(L+J*6+G+le)&&I.set(j[y-1-A*2-ae],j[A*2+le]);L+=J*8}if(r.drawModeMessage(I,o,b,x),o)r.drawBullsEye(I,_s.truncDivision(b,2),5);else{r.drawBullsEye(I,_s.truncDivision(b,2),7);for(var A=0,ae=0;A<_s.truncDivision(y,2)-1;A+=15,ae+=16)for(var le=_s.truncDivision(b,2)&1;le<b;le+=2)I.set(_s.truncDivision(b,2)-ae,le),I.set(_s.truncDivision(b,2)+ae,le),I.set(le,_s.truncDivision(b,2)-ae),I.set(le,_s.truncDivision(b,2)+ae)}var V=new jce;return V.setCompact(o),V.setSize(b),V.setLayers(d),V.setCodeWords(m),V.setMatrix(I),V},r.drawBullsEye=function(t,n,a){for(var s=0;s<a;s+=2)for(var i=n-s;i<=n+s;i++)t.set(i,n-s),t.set(i,n+s),t.set(n-s,i),t.set(n+s,i);t.set(n-a,n-a),t.set(n-a+1,n-a),t.set(n-a,n-a+1),t.set(n+a,n-a),t.set(n+a,n-a+1),t.set(n+a,n+a-1)},r.generateModeMessage=function(t,n,a){var s=new Nc;return t?(s.appendBits(n-1,2),s.appendBits(a-1,6),s=r.generateCheckWords(s,28,4)):(s.appendBits(n-1,5),s.appendBits(a-1,11),s=r.generateCheckWords(s,40,4)),s},r.drawModeMessage=function(t,n,a,s){var i=_s.truncDivision(a,2);if(n)for(var c=0;c<7;c++){var o=i-3+c;s.get(c)&&t.set(o,i-5),s.get(c+7)&&t.set(i+5,o),s.get(20-c)&&t.set(o,i+5),s.get(27-c)&&t.set(i-5,o)}else for(var c=0;c<10;c++){var o=i-5+c+_s.truncDivision(c,5);s.get(c)&&t.set(o,i-7),s.get(c+10)&&t.set(i+7,o),s.get(29-c)&&t.set(o,i+7),s.get(39-c)&&t.set(i-7,o)}},r.generateCheckWords=function(t,n,a){var s,i,c=t.getSize()/a,o=new TD(r.getGF(a)),d=_s.truncDivision(n,a),l=r.bitsToWords(t,a,d);o.encode(l,d-c);var u=n%a,h=new Nc;h.appendBits(0,u);try{for(var f=Pce(Array.from(l)),A=f.next();!A.done;A=f.next()){var g=A.value;h.appendBits(g,a)}}catch(m){s={error:m}}finally{try{A&&!A.done&&(i=f.return)&&i.call(f)}finally{if(s)throw s.error}}return h},r.bitsToWords=function(t,n,a){var s=new Int32Array(a),i,c;for(i=0,c=t.getSize()/n;i<c;i++){for(var o=0,d=0;d<n;d++)o|=t.get(i*n+d)?1<<n-d-1:0;s[i]=o}return s},r.getGF=function(t){switch(t){case 4:return Ud.AZTEC_PARAM;case 6:return Ud.AZTEC_DATA_6;case 8:return Ud.AZTEC_DATA_8;case 10:return Ud.AZTEC_DATA_10;case 12:return Ud.AZTEC_DATA_12;default:throw new Ta("Unsupported word size "+t)}},r.stuffBits=function(t,n){for(var a=new Nc,s=t.getSize(),i=(1<<n)-2,c=0;c<s;c+=n){for(var o=0,d=0;d<n;d++)(c+d>=s||t.get(c+d))&&(o|=1<<n-1-d);(o&i)===i?(a.appendBits(o&i,n),c--):(o&i)===0?(a.appendBits(o|1,n),c--):a.appendBits(o,n)}return a},r.totalBitsInLayer=function(t,n){return((n?88:112)+16*t)*t},r.DEFAULT_EC_PERCENT=33,r.DEFAULT_AZTEC_LAYERS=0,r.MAX_NB_BITS=32,r.MAX_NB_BITS_COMPACT=4,r.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),r})();var Dce=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(a[i]=s[i])},r(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Mce=(function(r){Dce(t,r);function t(n){var a=r.call(this,n.width,n.height)||this;return a.canvas=n,a.tempCanvasElement=null,a.buffer=t.makeBufferFromCanvasImageData(n),a}return t.makeBufferFromCanvasImageData=function(n){var a;try{a=n.getContext("2d",{willReadFrequently:!0})}catch{a=n.getContext("2d")}if(!a)throw new Error("Couldn't get canvas context.");var s=a.getImageData(0,0,n.width,n.height);return t.toGrayscaleBuffer(s.data,n.width,n.height)},t.toGrayscaleBuffer=function(n,a,s){for(var i=new Uint8ClampedArray(a*s),c=0,o=0,d=n.length;c<d;c+=4,o++){var l=void 0,u=n[c+3];if(u===0)l=255;else{var h=n[c],f=n[c+1],A=n[c+2];l=306*h+601*f+117*A+512>>10}i[o]=l}return i},t.prototype.getRow=function(n,a){if(n<0||n>=this.getHeight())throw new Ta("Requested row is outside the image: "+n);var s=this.getWidth(),i=n*s;return a===null?a=this.buffer.slice(i,i+s):(a.length<s&&(a=new Uint8ClampedArray(s)),a.set(this.buffer.slice(i,i+s))),a},t.prototype.getMatrix=function(){return this.buffer},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(n,a,s,i){return r.prototype.crop.call(this,n,a,s,i),this},t.prototype.isRotateSupported=function(){return!0},t.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},t.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},t.prototype.invert=function(){return new B2(this)},t.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement},t.prototype.rotate=function(n){var a=this.getTempCanvasElement();if(!a)throw new Error("Could not create a Canvas element.");var s=n*t.DEGREE_TO_RADIANS,i=this.canvas.width,c=this.canvas.height,o=Math.ceil(Math.abs(Math.cos(s))*i+Math.abs(Math.sin(s))*c),d=Math.ceil(Math.abs(Math.sin(s))*i+Math.abs(Math.cos(s))*c);a.width=o,a.height=d;var l=a.getContext("2d");if(!l)throw new Error("Could not create a Canvas Context element.");return l.translate(o/2,d/2),l.rotate(s),l.drawImage(this.canvas,i/-2,c/-2),this.buffer=t.makeBufferFromCanvasImageData(a),this},t.DEGREE_TO_RADIANS=Math.PI/180,t})(s0);function FD(){return typeof navigator<"u"}function Rce(){return FD()&&!!navigator.mediaDevices}function Lce(){return!!(Rce()&&navigator.mediaDevices.enumerateDevices)}var Yp=function(){return Yp=Object.assign||function(r){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},Yp.apply(this,arguments)},Ko=function(r,t,n,a){function s(i){return i instanceof n?i:new n(function(c){c(i)})}return new(n||(n=Promise))(function(i,c){function o(u){try{l(a.next(u))}catch(h){c(h)}}function d(u){try{l(a.throw(u))}catch(h){c(h)}}function l(u){u.done?i(u.value):s(u.value).then(o,d)}l((a=a.apply(r,t||[])).next())})},Go=function(r,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,s,i,c;return c={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function o(l){return function(u){return d([l,u])}}function d(l){if(a)throw new TypeError("Generator is already executing.");for(;n;)try{if(a=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(r,n)}catch(u){l=[6,u],s=0}finally{a=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},SC=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Uce={delayBetweenScanAttempts:500,delayBetweenScanSuccess:500,tryPlayVideoTimeout:5e3},Um=(function(){function r(t,n,a){n===void 0&&(n=new Map),a===void 0&&(a={}),this.reader=t,this.hints=n,this.options=Yp(Yp({},Uce),a)}return Object.defineProperty(r.prototype,"possibleFormats",{set:function(t){this.hints.set(co.POSSIBLE_FORMATS,t)},enumerable:!1,configurable:!0}),r.addVideoSource=function(t,n){try{t.srcObject=n}catch{console.error("got interrupted by new loading request")}},r.mediaStreamSetTorch=function(t,n){return Ko(this,void 0,void 0,function(){return Go(this,function(a){switch(a.label){case 0:return[4,t.applyConstraints({advanced:[{fillLightMode:n?"flash":"off",torch:!!n}]})];case 1:return a.sent(),[2]}})})},r.mediaStreamIsTorchCompatible=function(t){var n,a,s=t.getVideoTracks();try{for(var i=SC(s),c=i.next();!c.done;c=i.next()){var o=c.value;if(r.mediaStreamIsTorchCompatibleTrack(o))return!0}}catch(d){n={error:d}}finally{try{c&&!c.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}return!1},r.mediaStreamIsTorchCompatibleTrack=function(t){try{var n=t.getCapabilities();return"torch"in n}catch(a){return console.error(a),console.warn("Your browser may be not fully compatible with WebRTC and/or ImageCapture specs. Torch will not be available."),!1}},r.isVideoPlaying=function(t){return t.currentTime>0&&!t.paused&&t.readyState>2},r.getMediaElement=function(t,n){var a=document.getElementById(t);if(!a)throw new vl("element with id '".concat(t,"' not found"));if(a.nodeName.toLowerCase()!==n.toLowerCase())throw new vl("element with id '".concat(t,"' must be an ").concat(n," element"));return a},r.createVideoElement=function(t){if(t instanceof HTMLVideoElement)return t;if(typeof t=="string")return r.getMediaElement(t,"video");if(!t&&typeof document<"u"){var n=document.createElement("video");return n.width=200,n.height=200,n}throw new Error("Couldn't get videoElement from videoSource!")},r.prepareImageElement=function(t){if(t instanceof HTMLImageElement)return t;if(typeof t=="string")return r.getMediaElement(t,"img");if(typeof t>"u"){var n=document.createElement("img");return n.width=200,n.height=200,n}throw new Error("Couldn't get imageElement from imageSource!")},r.prepareVideoElement=function(t){var n=r.createVideoElement(t);return n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n},r.isImageLoaded=function(t){return!(!t.complete||t.naturalWidth===0)},r.createBinaryBitmapFromCanvas=function(t){var n=new Mce(t),a=new vD(n);return new gD(a)},r.drawImageOnCanvas=function(t,n){t.drawImage(n,0,0)},r.getMediaElementDimensions=function(t){if(t instanceof HTMLVideoElement)return{height:t.videoHeight,width:t.videoWidth};if(t instanceof HTMLImageElement)return{height:t.naturalHeight||t.height,width:t.naturalWidth||t.width};throw new Error("Couldn't find the Source's dimensions!")},r.createCaptureCanvas=function(t){if(!t)throw new vl("Cannot create a capture canvas without a media element.");if(typeof document>"u")throw new Error(`The page "Document" is undefined, make sure you're running in a browser.`);var n=document.createElement("canvas"),a=r.getMediaElementDimensions(t),s=a.width,i=a.height;return n.style.width=s+"px",n.style.height=i+"px",n.width=s,n.height=i,n},r.tryPlayVideo=function(t){return Ko(this,void 0,void 0,function(){var n;return Go(this,function(a){switch(a.label){case 0:if(t!=null&&t.ended)return console.error("Trying to play video that has ended."),[2,!1];if(r.isVideoPlaying(t))return console.warn("Trying to play video that is already playing."),[2,!0];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,t.play()];case 2:return a.sent(),[2,!0];case 3:return n=a.sent(),console.warn("It was not possible to play the video.",n),[2,!1];case 4:return[2]}})})},r.createCanvasFromMediaElement=function(t){var n=r.createCaptureCanvas(t),a=n.getContext("2d");if(!a)throw new Error("Couldn't find Canvas 2D Context.");return r.drawImageOnCanvas(a,t),n},r.createBinaryBitmapFromMediaElem=function(t){var n=r.createCanvasFromMediaElement(t);return r.createBinaryBitmapFromCanvas(n)},r.destroyImageElement=function(t){t.src="",t.removeAttribute("src"),t=void 0},r.listVideoInputDevices=function(){return Ko(this,void 0,void 0,function(){var t,n,a,s,i,c,o,d,l,u,h,f;return Go(this,function(A){switch(A.label){case 0:if(!FD())throw new Error("Can't enumerate devices, navigator is not present.");if(!Lce())throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:t=A.sent(),n=[];try{for(a=SC(t),s=a.next();!s.done;s=a.next())i=s.value,c=i.kind==="video"?"videoinput":i.kind,c==="videoinput"&&(o=i.deviceId||i.id,d=i.label||"Video device ".concat(n.length+1),l=i.groupId,u={deviceId:o,label:d,kind:c,groupId:l},n.push(u))}catch(g){h={error:g}}finally{try{s&&!s.done&&(f=a.return)&&f.call(a)}finally{if(h)throw h.error}}return[2,n]}})})},r.findDeviceById=function(t){return Ko(this,void 0,void 0,function(){var n;return Go(this,function(a){switch(a.label){case 0:return[4,r.listVideoInputDevices()];case 1:return n=a.sent(),n?[2,n.find(function(s){return s.deviceId===t})]:[2]}})})},r.cleanVideoSource=function(t){if(t){try{t.srcObject=null}catch{t.src=""}t&&t.removeAttribute("src")}},r.releaseAllStreams=function(){r.streamTracker.length!==0&&r.streamTracker.forEach(function(t){t.getTracks().forEach(function(n){return n.stop()})}),r.streamTracker=[]},r.playVideoOnLoadAsync=function(t,n){return Ko(this,void 0,void 0,function(){var a;return Go(this,function(s){switch(s.label){case 0:return[4,r.tryPlayVideo(t)];case 1:return a=s.sent(),a?[2,!0]:[2,new Promise(function(i,c){var o=setTimeout(function(){r.isVideoPlaying(t)||(c(!1),t.removeEventListener("canplay",d))},n),d=function(){r.tryPlayVideo(t).then(function(l){clearTimeout(o),t.removeEventListener("canplay",d),i(l)})};t.addEventListener("canplay",d)})]}})})},r.attachStreamToVideo=function(t,n,a){return a===void 0&&(a=5e3),Ko(this,void 0,void 0,function(){var s;return Go(this,function(i){switch(i.label){case 0:return s=r.prepareVideoElement(n),r.addVideoSource(s,t),[4,r.playVideoOnLoadAsync(s,a)];case 1:return i.sent(),[2,s]}})})},r._waitImageLoad=function(t){return new Promise(function(n,a){var s=1e4,i=setTimeout(function(){r.isImageLoaded(t)||(t.removeEventListener("load",c),a())},s),c=function(){clearTimeout(i),t.removeEventListener("load",c),n()};t.addEventListener("load",c)})},r.checkCallbackFnOrThrow=function(t){if(!t)throw new vl("`callbackFn` is a required parameter, you cannot capture results without it.")},r.disposeMediaStream=function(t){t.getVideoTracks().forEach(function(n){return n.stop()}),t=void 0},r.prototype.decode=function(t){var n=r.createCanvasFromMediaElement(t);return this.decodeFromCanvas(n)},r.prototype.decodeBitmap=function(t){return this.reader.decode(t,this.hints)},r.prototype.decodeFromCanvas=function(t){var n=r.createBinaryBitmapFromCanvas(t);return this.decodeBitmap(n)},r.prototype.decodeFromImageElement=function(t){return Ko(this,void 0,void 0,function(){var n;return Go(this,function(a){switch(a.label){case 0:if(!t)throw new vl("An image element must be provided.");return n=r.prepareImageElement(t),[4,this._decodeOnLoadImage(n)];case 1:return[2,a.sent()]}})})},r.prototype.decodeFromImageUrl=function(t){return Ko(this,void 0,void 0,function(){var n;return Go(this,function(a){switch(a.label){case 0:if(!t)throw new vl("An URL must be provided.");n=r.prepareImageElement(),n.src=t,a.label=1;case 1:return a.trys.push([1,,3,4]),[4,this.decodeFromImageElement(n)];case 2:return[2,a.sent()];case 3:return r.destroyImageElement(n),[7];case 4:return[2]}})})},r.prototype.decodeFromConstraints=function(t,n,a){return Ko(this,void 0,void 0,function(){var s,i;return Go(this,function(c){switch(c.label){case 0:return r.checkCallbackFnOrThrow(a),[4,this.getUserMedia(t)];case 1:s=c.sent(),c.label=2;case 2:return c.trys.push([2,4,,5]),[4,this.decodeFromStream(s,n,a)];case 3:return[2,c.sent()];case 4:throw i=c.sent(),r.disposeMediaStream(s),i;case 5:return[2]}})})},r.prototype.decodeFromStream=function(t,n,a){return Ko(this,void 0,void 0,function(){var s,i,c,o,d,l,u,h,f,A=this;return Go(this,function(g){switch(g.label){case 0:return r.checkCallbackFnOrThrow(a),s=this.options.tryPlayVideoTimeout,[4,r.attachStreamToVideo(t,n,s)];case 1:return i=g.sent(),c=function(){r.disposeMediaStream(t),r.cleanVideoSource(i)},o=this.scan(i,a,c),d=t.getVideoTracks(),l=Yp(Yp({},o),{stop:function(){o.stop()},streamVideoConstraintsApply:function(m,x){return Ko(this,void 0,void 0,function(){var y,j,b,S,w,E,I;return Go(this,function(L){switch(L.label){case 0:y=x?d.filter(x):d,L.label=1;case 1:L.trys.push([1,6,7,8]),j=SC(y),b=j.next(),L.label=2;case 2:return b.done?[3,5]:(S=b.value,[4,S.applyConstraints(m)]);case 3:L.sent(),L.label=4;case 4:return b=j.next(),[3,2];case 5:return[3,8];case 6:return w=L.sent(),E={error:w},[3,8];case 7:try{b&&!b.done&&(I=j.return)&&I.call(j)}finally{if(E)throw E.error}return[7];case 8:return[2]}})})},streamVideoConstraintsGet:function(m){return d.find(m).getConstraints()},streamVideoSettingsGet:function(m){return d.find(m).getSettings()},streamVideoCapabilitiesGet:function(m){return d.find(m).getCapabilities()}}),u=r.mediaStreamIsTorchCompatible(t),u&&(h=d==null?void 0:d.find(function(m){return r.mediaStreamIsTorchCompatibleTrack(m)}),f=function(m){return Ko(A,void 0,void 0,function(){return Go(this,function(x){switch(x.label){case 0:return[4,r.mediaStreamSetTorch(h,m)];case 1:return x.sent(),[2]}})})},l.switchTorch=f,l.stop=function(){return Ko(A,void 0,void 0,function(){return Go(this,function(m){switch(m.label){case 0:return o.stop(),[4,f(!1)];case 1:return m.sent(),[2]}})})}),[2,l]}})})},r.prototype.decodeFromVideoDevice=function(t,n,a){return Ko(this,void 0,void 0,function(){var s,i;return Go(this,function(c){switch(c.label){case 0:return r.checkCallbackFnOrThrow(a),t?s={deviceId:{exact:t}}:s={facingMode:"environment"},i={video:s},[4,this.decodeFromConstraints(i,n,a)];case 1:return[2,c.sent()]}})})},r.prototype.decodeFromVideoElement=function(t,n){return Ko(this,void 0,void 0,function(){var a,s;return Go(this,function(i){switch(i.label){case 0:if(r.checkCallbackFnOrThrow(n),!t)throw new vl("A video element must be provided.");return a=r.prepareVideoElement(t),s=this.options.tryPlayVideoTimeout,[4,r.playVideoOnLoadAsync(a,s)];case 1:return i.sent(),[2,this.scan(a,n)]}})})},r.prototype.decodeFromVideoUrl=function(t,n){return Ko(this,void 0,void 0,function(){var a,s,i,c;return Go(this,function(o){switch(o.label){case 0:if(r.checkCallbackFnOrThrow(n),!t)throw new vl("An URL must be provided.");return a=r.prepareVideoElement(),a.src=t,s=function(){r.cleanVideoSource(a)},i=this.options.tryPlayVideoTimeout,[4,r.playVideoOnLoadAsync(a,i)];case 1:return o.sent(),c=this.scan(a,n,s),[2,c]}})})},r.prototype.decodeOnceFromConstraints=function(t,n){return Ko(this,void 0,void 0,function(){var a;return Go(this,function(s){switch(s.label){case 0:return[4,this.getUserMedia(t)];case 1:return a=s.sent(),[4,this.decodeOnceFromStream(a,n)];case 2:return[2,s.sent()]}})})},r.prototype.decodeOnceFromStream=function(t,n){return Ko(this,void 0,void 0,function(){var a,s,i;return Go(this,function(c){switch(c.label){case 0:return a=!!n,[4,r.attachStreamToVideo(t,n)];case 1:s=c.sent(),c.label=2;case 2:return c.trys.push([2,,4,5]),[4,this.scanOneResult(s)];case 3:return i=c.sent(),[2,i];case 4:return a||r.cleanVideoSource(s),[7];case 5:return[2]}})})},r.prototype.decodeOnceFromVideoDevice=function(t,n){return Ko(this,void 0,void 0,function(){var a,s;return Go(this,function(i){switch(i.label){case 0:return t?a={deviceId:{exact:t}}:a={facingMode:"environment"},s={video:a},[4,this.decodeOnceFromConstraints(s,n)];case 1:return[2,i.sent()]}})})},r.prototype.decodeOnceFromVideoElement=function(t){return Ko(this,void 0,void 0,function(){var n,a;return Go(this,function(s){switch(s.label){case 0:if(!t)throw new vl("A video element must be provided.");return n=r.prepareVideoElement(t),a=this.options.tryPlayVideoTimeout,[4,r.playVideoOnLoadAsync(n,a)];case 1:return s.sent(),[4,this.scanOneResult(n)];case 2:return[2,s.sent()]}})})},r.prototype.decodeOnceFromVideoUrl=function(t){return Ko(this,void 0,void 0,function(){var n,a;return Go(this,function(s){switch(s.label){case 0:if(!t)throw new vl("An URL must be provided.");n=r.prepareVideoElement(),n.src=t,a=this.decodeOnceFromVideoElement(n),s.label=1;case 1:return s.trys.push([1,,3,4]),[4,a];case 2:return[2,s.sent()];case 3:return r.cleanVideoSource(n),[7];case 4:return[2]}})})},r.prototype.scanOneResult=function(t,n,a,s){var i=this;return n===void 0&&(n=!0),a===void 0&&(a=!0),s===void 0&&(s=!0),new Promise(function(c,o){i.scan(t,function(d,l,u){if(d){c(d),u.stop();return}if(l){if(l instanceof Tr&&n||l instanceof kl&&a||l instanceof xn&&s)return;u.stop(),o(l)}})})},r.prototype.scan=function(t,n,a){var s=this;r.checkCallbackFnOrThrow(n);var i=r.createCaptureCanvas(t),c;try{c=i.getContext("2d",{willReadFrequently:!0})}catch{c=i.getContext("2d")}if(!c)throw new Error("Couldn't create canvas for visual element scan.");var o=function(){c=void 0,i=void 0},d=!1,l,u=function(){d=!0,clearTimeout(l),o(),a&&a()},h={stop:u},f=function(){if(!d)try{r.drawImageOnCanvas(c,t);var A=s.decodeFromCanvas(i);n(A,void 0,h),l=setTimeout(f,s.options.delayBetweenScanSuccess)}catch(y){n(void 0,y,h);var g=y instanceof kl,m=y instanceof xn,x=y instanceof Tr;if(g||m||x){l=setTimeout(f,s.options.delayBetweenScanAttempts);return}o(),a&&a(y)}};return f(),h},r.prototype._decodeOnLoadImage=function(t){return Ko(this,void 0,void 0,function(){var n;return Go(this,function(a){switch(a.label){case 0:return n=r.isImageLoaded(t),n?[3,2]:[4,r._waitImageLoad(t)];case 1:a.sent(),a.label=2;case 2:return[2,this.decode(t)]}})})},r.prototype.getUserMedia=function(t){return Ko(this,void 0,void 0,function(){var n;return Go(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(t)];case 1:return n=a.sent(),r.streamTracker.push(n),[2,n]}})})},r.streamTracker=[],r})(),Hce=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(a[i]=s[i])},r(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){Hce(t,r);function t(n,a){return r.call(this,new Fx,n,a)||this}return t})(Um);var Qce=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(a[i]=s[i])},r(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){Qce(t,r);function t(n,a){return r.call(this,new qp(n),n,a)||this}return t})(Um);var Wce=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(a[i]=s[i])},r(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){Wce(t,r);function t(n,a){return r.call(this,new Dx,n,a)||this}return t})(Um);var $ce=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(a[i]=s[i])},r(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Vce=(function(r){$ce(t,r);function t(n,a){var s=this,i=new ID;return i.setHints(n),s=r.call(this,i,n,a)||this,s.reader=i,s}return Object.defineProperty(t.prototype,"possibleFormats",{set:function(n){this.hints.set(co.POSSIBLE_FORMATS,n),this.reader.setHints(this.hints)},enumerable:!1,configurable:!0}),t.prototype.decodeBitmap=function(n){return this.reader.decodeWithState(n)},t.prototype.setHints=function(n){this.hints=n,this.reader.setHints(this.hints)},t})(Um),zce=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(a[i]=s[i])},r(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){zce(t,r);function t(n,a){return r.call(this,new Rx,n,a)||this}return t})(Um);var Kce=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(a[i]=s[i])},r(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){Kce(t,r);function t(n,a){return r.call(this,new Mx,n,a)||this}return t})(Um);const Gce=()=>{const r=qa(),[t,n]=C.useState(""),[a,s]=C.useState(null),[i,c]=C.useState(!1),[o,d]=C.useState(null),l=C.useRef(null),u=C.useRef(null),h=C.useRef(null),[f,A]=C.useState(!1);C.useEffect(()=>{l.current&&l.current.focus()},[]);const g=C.useCallback(()=>{var b;try{(b=h.current)==null||b.reset()}catch{}finally{h.current=null,A(!1)}},[]);C.useEffect(()=>()=>{g()},[g]);const m=async b=>{if(!b||b.length<5){d("Please enter a valid barcode (at least 5 characters)");return}c(!0),d(null),s(null);try{const S=await Th.lookupBarcode(b);s(S),n("")}catch(S){const w=(S==null?void 0:S.message)||"Barcode not found";d(w),s(null)}finally{c(!1)}},x=C.useCallback(async()=>{if(d(null),s(null),!u.current){d("Camera preview not available");return}g();const b=new Vce;h.current=b,A(!0);try{await b.decodeFromConstraints({video:{facingMode:{ideal:"environment"}}},u.current,(S,w)=>{var E;if(S){const I=(E=S.getText())==null?void 0:E.trim();I&&(g(),m(I))}})}catch(S){g();const w=(S==null?void 0:S.name)==="NotAllowedError"?"Camera permission denied. Please allow camera access and try again.":(S==null?void 0:S.name)==="NotFoundError"?"No camera found on this device.":(S==null?void 0:S.message)||"Failed to start camera scanner";d(w)}},[g]),y=b=>{b.preventDefault(),t.trim()&&m(t.trim())},j=()=>{a&&r("/mobile/waste-entry",{state:{barcode:a.barcode,companyId:a.companyId,hcfId:a.hcfId,wasteColor:a.wasteColor}})};return e.jsx(Wh,{title:"Scan Barcode",showBackButton:!0,onBack:()=>r("/mobile/home"),children:e.jsxs("div",{className:"mobile-scan",children:[e.jsxs("div",{className:"mobile-scan-camera-section",children:[e.jsx("div",{className:"mobile-scan-camera-actions",children:f?e.jsx("button",{type:"button",className:"mobile-scan-camera-btn stop",onClick:g,children:"Stop Camera"}):e.jsx("button",{type:"button",className:"mobile-scan-camera-btn",onClick:x,disabled:i,children:"Start Camera Scan"})}),f&&e.jsxs("div",{className:"mobile-scan-camera-preview",children:[e.jsx("video",{ref:u,className:"mobile-scan-video",muted:!0,playsInline:!0}),e.jsx("div",{className:"mobile-scan-overlay","aria-hidden":"true"}),e.jsx("div",{className:"mobile-scan-hint",children:"Align barcode/QR inside the frame"})]})]}),e.jsxs("div",{className:"mobile-scan-input-section",children:[e.jsx("form",{onSubmit:y,className:"mobile-scan-form",children:e.jsxs("div",{className:"mobile-scan-input-wrapper",children:[e.jsx("input",{ref:l,type:"text",value:t,onChange:b=>n(b.target.value),placeholder:"Enter or scan barcode",className:"mobile-scan-input",autoFocus:!0,autoComplete:"off"}),e.jsx("button",{type:"submit",className:"mobile-scan-submit-btn",disabled:i||!t.trim(),children:i?"...":""})]})}),o&&e.jsxs("div",{className:"mobile-scan-error",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),e.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),e.jsx("span",{children:o})]})]}),a&&e.jsxs("div",{className:"mobile-scan-result",children:[e.jsxs("div",{className:"mobile-scan-result-header",children:[e.jsx("h3",{children:"Barcode Found"}),e.jsx("div",{className:"mobile-scan-result-badge","data-color":a.wasteColor,children:a.wasteColor})]}),e.jsxs("div",{className:"mobile-scan-result-details",children:[e.jsxs("div",{className:"mobile-scan-result-item",children:[e.jsx("span",{className:"mobile-scan-result-label",children:"Barcode:"}),e.jsx("span",{className:"mobile-scan-result-value",children:a.barcode})]}),e.jsxs("div",{className:"mobile-scan-result-item",children:[e.jsx("span",{className:"mobile-scan-result-label",children:"Company:"}),e.jsx("span",{className:"mobile-scan-result-value",children:a.companyName})]}),e.jsxs("div",{className:"mobile-scan-result-item",children:[e.jsx("span",{className:"mobile-scan-result-label",children:"HCF:"}),e.jsx("span",{className:"mobile-scan-result-value",children:a.hcfName})]}),e.jsxs("div",{className:"mobile-scan-result-item",children:[e.jsx("span",{className:"mobile-scan-result-label",children:"HCF Code:"}),e.jsx("span",{className:"mobile-scan-result-value",children:a.hcfCode})]})]}),e.jsx("button",{className:"mobile-scan-proceed-btn",onClick:j,children:"Proceed to Waste Entry"})]}),!a&&!o&&e.jsxs("div",{className:"mobile-scan-instructions",children:[e.jsx("h4",{children:"How to scan:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Enter the barcode manually in the input field above"}),e.jsx("li",{children:"Or tap Start Camera Scan to scan using your device camera"}),e.jsx("li",{children:"Barcode must be at least 5 characters long"})]})]})]})})},qce=()=>{const r=qa(),t=jn(),[n,a]=C.useState(""),[s,i]=C.useState(""),[c,o]=C.useState(""),[d,l]=C.useState(!1),[u,h]=C.useState(null),[f,A]=C.useState(!1);C.useEffect(()=>{if(t.state){const{barcode:m}=t.state;m&&a(m)}},[t.state]);const g=async m=>{if(m.preventDefault(),h(null),A(!1),!n||n.length<5){h("Please enter a valid barcode");return}if(!s||parseFloat(s)<=0){h("Please enter a valid weight");return}l(!0);try{await Th.createWasteCollection({barcode:n.trim(),weightKg:parseFloat(s),notes:c.trim()||void 0}),A(!0),a(""),i(""),o(""),setTimeout(()=>{r("/mobile/home")},2e3)}catch(x){h((x==null?void 0:x.message)||"Failed to save waste entry")}finally{l(!1)}};return e.jsx(Wh,{title:"Waste Entry",showBackButton:!0,onBack:()=>r("/mobile/home"),children:e.jsxs("div",{className:"mobile-waste-entry",children:[f&&e.jsxs("div",{className:"mobile-waste-entry-success",children:[e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"20 6 9 17 4 12"})}),e.jsx("span",{children:"Waste entry saved successfully!"})]}),u&&e.jsxs("div",{className:"mobile-waste-entry-error",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),e.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),e.jsx("span",{children:u})]}),e.jsxs("form",{onSubmit:g,className:"mobile-waste-entry-form",children:[e.jsxs("div",{className:"mobile-waste-entry-field",children:[e.jsx("label",{htmlFor:"barcode",children:"Barcode *"}),e.jsx("input",{id:"barcode",type:"text",value:n,onChange:m=>a(m.target.value),placeholder:"Enter barcode",required:!0,disabled:d})]}),e.jsxs("div",{className:"mobile-waste-entry-field",children:[e.jsx("label",{htmlFor:"weight",children:"Weight (Kg) *"}),e.jsx("input",{id:"weight",type:"number",step:"0.01",min:"0",value:s,onChange:m=>i(m.target.value),placeholder:"0.00",required:!0,disabled:d})]}),e.jsxs("div",{className:"mobile-waste-entry-field",children:[e.jsx("label",{htmlFor:"notes",children:"Notes (Optional)"}),e.jsx("textarea",{id:"notes",value:c,onChange:m=>o(m.target.value),placeholder:"Add any additional notes...",rows:4,disabled:d})]}),e.jsx("button",{type:"submit",className:"mobile-waste-entry-submit",disabled:d||f,children:d?"Saving...":f?"Saved!":"Save Entry"})]})]})})},Xce=()=>{const r=qa();return e.jsx(Wh,{title:"Route Assignment",showBackButton:!0,onBack:()=>r("/mobile/home"),children:e.jsx("div",{className:"mobile-assign-hospital",children:e.jsxs("div",{className:"mobile-assign-hospital-info",children:[e.jsx("p",{children:"Route assignment functionality will be available here."}),e.jsx("button",{className:"mobile-assign-hospital-btn",onClick:()=>r("/transaction/route-assignment"),children:"Open Full View"})]})})})},PD=({label:r="Company",placeholder:t="Select Company",value:n,options:a,onChange:s})=>{const[i,c]=C.useState(!1),[o,d]=C.useState(""),l=C.useMemo(()=>a.find(h=>h.id===n),[a,n]),u=C.useMemo(()=>{const h=o.trim().toLowerCase();return h?a.filter(f=>f.name.toLowerCase().includes(h)):a},[a,o]);return e.jsxs("div",{className:"company-picker",children:[r&&e.jsx("div",{className:"company-picker-label",children:r}),e.jsxs("button",{type:"button",className:"company-picker-button",onClick:()=>c(!0),children:[e.jsx("span",{className:"company-picker-button-text",children:l?l.name:t}),e.jsx("span",{className:"company-picker-chevron","aria-hidden":"true",children:""})]}),i&&e.jsx("div",{className:"company-picker-overlay",onClick:()=>c(!1),children:e.jsxs("div",{className:"company-picker-sheet",onClick:h=>h.stopPropagation(),children:[e.jsxs("div",{className:"company-picker-sheet-header",children:[e.jsx("div",{className:"company-picker-sheet-title",children:t}),e.jsx("button",{type:"button",className:"company-picker-close",onClick:()=>c(!1),"aria-label":"Close",children:""})]}),e.jsx("div",{className:"company-picker-search",children:e.jsx("input",{value:o,onChange:h=>d(h.target.value),placeholder:"Search company..."})}),e.jsx("div",{className:"company-picker-list",children:u.length===0?e.jsx("div",{className:"company-picker-empty",children:"No companies found."}):u.map(h=>e.jsx("button",{type:"button",className:`company-picker-item ${h.id===n?"active":""}`,onClick:()=>{s(h.id),c(!1)},children:h.name},h.id))})]})})]})},Yce=()=>{const r=qa(),[t,n]=C.useState([]),[a,s]=C.useState(""),[i,c]=C.useState([]),[o,d]=C.useState(!1),[l,u]=C.useState(null),[h,f]=C.useState("");C.useEffect(()=>{(async()=>{try{const m=await ha.getAllCompanies(!0);n(m),m.length===1&&s(m[0].id)}catch(m){u((m==null?void 0:m.message)||"Failed to load companies")}})()},[]),C.useEffect(()=>{(async()=>{if(!a){c([]);return}d(!0),u(null);try{const m=await Mi.getAllHcfs(a,!0);c(Array.isArray(m)?m:[])}catch(m){u((m==null?void 0:m.message)||"Failed to load HCF list")}finally{d(!1)}})()},[a]);const A=C.useMemo(()=>{const g=h.trim().toLowerCase();return g?i.filter(m=>(m.hcfCode||"").toLowerCase().includes(g)||(m.hcfName||"").toLowerCase().includes(g)||(m.district||"").toLowerCase().includes(g)||(m.pincode||"").toLowerCase().includes(g)):i},[i,h]);return e.jsx(Wh,{title:"HCF Master",showBackButton:!0,onBack:()=>r("/mobile/home"),children:e.jsxs("div",{className:"mobile-hcf-master",children:[e.jsxs("div",{className:"mobile-hcf-toolbar",children:[e.jsx(PD,{placeholder:"Select Company",value:a,options:t.map(g=>({id:g.id,name:g.companyName})),onChange:s}),e.jsx("input",{className:"mobile-hcf-search",value:h,onChange:g=>f(g.target.value),placeholder:"Search HCF code / name / area / pincode"})]}),l&&e.jsx("div",{className:"mobile-hcf-empty",children:l}),e.jsx("div",{className:"mobile-hcf-table",children:o?e.jsx("div",{className:"mobile-hcf-empty",children:"Loading..."}):A.length===0?e.jsx("div",{className:"mobile-hcf-empty",children:"No HCFs found."}):e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"HCF Code"}),e.jsx("th",{children:"HCF Name"}),e.jsx("th",{children:"Area"}),e.jsx("th",{children:"PinCode"})]})}),e.jsx("tbody",{children:A.map(g=>e.jsxs("tr",{children:[e.jsx("td",{children:g.hcfCode}),e.jsx("td",{children:g.hcfName}),e.jsx("td",{children:g.district||g.areaId||"-"}),e.jsx("td",{children:g.pincode||"-"})]},g.id))})]})})]})})},DD="mw-mobile-settings",Jce=()=>{try{const r=localStorage.getItem(DD);if(!r)return{darkMode:!1,notifications:!0};const t=JSON.parse(r);return{darkMode:!!t.darkMode,notifications:t.notifications!==!1}}catch{return{darkMode:!1,notifications:!0}}},Zce=r=>{try{localStorage.setItem(DD,JSON.stringify(r))}catch{}},ede=()=>{const r=qa(),{user:t,logout:n}=Yn(),[a,s]=C.useState(()=>Jce()),i=C.useMemo(()=>t?t.name||t.email||"User":"Guest",[t]);C.useEffect(()=>{a.darkMode?document.body.classList.add("mw-dark"):document.body.classList.remove("mw-dark"),Zce(a)},[a]);const c=d=>{s(l=>({...l,[d]:!l[d]}))},o=()=>{try{localStorage.removeItem("mw-auth-user")}catch{}n(),r("/mobile/login",{replace:!0})};return e.jsx(Wh,{title:"Settings",showBackButton:!0,onBack:()=>r(-1),children:e.jsxs("div",{className:"mobile-settings",children:[e.jsxs("div",{className:"mobile-settings-card",children:[e.jsx("div",{className:"mobile-settings-title",children:"Account"}),e.jsx("div",{className:"mobile-settings-row",children:e.jsxs("div",{className:"mobile-settings-row-main",children:[e.jsx("div",{className:"mobile-settings-label",children:"Signed in as"}),e.jsx("div",{className:"mobile-settings-value",children:i})]})})]}),e.jsxs("div",{className:"mobile-settings-card",children:[e.jsx("div",{className:"mobile-settings-title",children:"Preferences"}),e.jsxs("button",{className:"mobile-settings-row button",onClick:()=>c("darkMode"),children:[e.jsxs("div",{className:"mobile-settings-row-main",children:[e.jsx("div",{className:"mobile-settings-label",children:"Dark mode"}),e.jsx("div",{className:"mobile-settings-sub",children:"Applies a dark theme on this device"})]}),e.jsx("div",{className:`mobile-settings-toggle ${a.darkMode?"on":""}`,"aria-hidden":"true"})]}),e.jsxs("button",{className:"mobile-settings-row button",onClick:()=>c("notifications"),children:[e.jsxs("div",{className:"mobile-settings-row-main",children:[e.jsx("div",{className:"mobile-settings-label",children:"Notifications"}),e.jsx("div",{className:"mobile-settings-sub",children:"Enable in-app reminders (placeholder)"})]}),e.jsx("div",{className:`mobile-settings-toggle ${a.notifications?"on":""}`,"aria-hidden":"true"})]})]}),e.jsxs("div",{className:"mobile-settings-card",children:[e.jsx("div",{className:"mobile-settings-title",children:"Security"}),e.jsx("button",{className:"mobile-settings-row danger",onClick:o,children:e.jsxs("div",{className:"mobile-settings-row-main",children:[e.jsx("div",{className:"mobile-settings-label",children:"Logout"}),e.jsx("div",{className:"mobile-settings-sub",children:"Sign out from this device"})]})})]}),e.jsx("div",{className:"mobile-settings-footer",children:e.jsx("div",{className:"mobile-settings-footer-text",children:"Medi Waste Management (Mobile)"})})]})})},EC=r=>!!r&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(r),tde=()=>{const r=qa(),{user:t,logout:n}=Yn(),[a,s]=C.useState(!1),[i,c]=C.useState(null),[o,d]=C.useState(null),[l,u]=C.useState(null),[h,f]=C.useState(!1),[A,g]=C.useState({emailAddress:"",emergencyContact:"",addressLine:"",city:"",district:"",pincode:""}),[m,x]=C.useState({currentPassword:"",newPassword:"",confirmPassword:""}),y=C.useMemo(()=>t?(t.roles||[]).join(", "):"",[t]);C.useEffect(()=>{(async()=>{if(t!=null&&t.id){s(!0),c(null);try{if(EC(t.id)){const E=await Hc.getUserById(t.id);u(E),g({emailAddress:E.emailAddress||"",emergencyContact:E.emergencyContact||"",addressLine:E.addressLine||"",city:E.city||"",district:E.district||"",pincode:E.pincode||""})}else c("Showing basic profile from session.")}catch(E){c((E==null?void 0:E.message)||"Failed to load profile.")}finally{s(!1)}}})()},[t==null?void 0:t.id]);const j=async()=>{if(!(t!=null&&t.id)||!EC(t.id)){c("Cannot update profile: user id missing.");return}s(!0),c(null),d(null);try{if(await Hc.updateCompleteUser(t.id,{companyId:(l==null?void 0:l.companyId)||"",userName:(l==null?void 0:l.userName)||t.name||"",mobileNumber:(l==null?void 0:l.mobileNumber)||"-",userRoleId:(l==null?void 0:l.userRoleId)||void 0,emailAddress:A.emailAddress||void 0,emergencyContact:A.emergencyContact||void 0,addressLine:A.addressLine||void 0,city:A.city||void 0,district:A.district||void 0,pincode:A.pincode||void 0}),d("Profile updated successfully."),f(!1),EC(t.id)){const w=await Hc.getUserById(t.id);u(w)}}catch(w){c((w==null?void 0:w.message)||"Failed to update profile.")}finally{s(!1)}},b=async()=>{if(c(null),d(null),!(t!=null&&t.id)){c("Unable to identify user for password change.");return}if(!m.currentPassword||!m.newPassword){c("Please fill current password and new password.");return}if(m.newPassword!==m.confirmPassword){c("New password and confirm password do not match.");return}s(!0);try{await XP(t.id,{currentPassword:m.currentPassword,newPassword:m.newPassword}),d("Password changed successfully."),x({currentPassword:"",newPassword:"",confirmPassword:""})}catch(w){c((w==null?void 0:w.message)||"Failed to change password.")}finally{s(!1)}},S=()=>{n(),r("/mobile/login",{replace:!0})};return e.jsx(Wh,{title:"Profile",showBackButton:!0,onBack:()=>r(-1),children:e.jsxs("div",{className:"mobile-profile",children:[(i||o)&&e.jsx("div",{className:`mobile-profile-banner ${o?"success":"info"}`,children:o||i}),e.jsxs("div",{className:"mobile-profile-card",children:[e.jsx("div",{className:"mobile-profile-section-title",children:"Account"}),e.jsxs("div",{className:"mobile-profile-row",children:[e.jsx("div",{className:"label",children:"Name"}),e.jsx("div",{className:"value",children:(t==null?void 0:t.name)||"-"})]}),e.jsxs("div",{className:"mobile-profile-row",children:[e.jsx("div",{className:"label",children:"Email"}),e.jsx("div",{className:"value",children:(t==null?void 0:t.email)||(l==null?void 0:l.emailAddress)||"-"})]}),e.jsxs("div",{className:"mobile-profile-row",children:[e.jsx("div",{className:"label",children:"Role"}),e.jsx("div",{className:"value",children:y||(l==null?void 0:l.userRoleId)||"-"})]})]}),e.jsxs("div",{className:"mobile-profile-card",children:[e.jsxs("div",{className:"mobile-profile-section-title",children:["Contact Info",e.jsx("button",{className:"mobile-profile-link",onClick:()=>{d(null),c(null),f(w=>!w)},disabled:a,type:"button",children:h?"Cancel":"Edit"})]}),e.jsxs("div",{className:"mobile-profile-form",children:[e.jsxs("label",{children:["Email",e.jsx("input",{value:h?A.emailAddress:(l==null?void 0:l.emailAddress)||(t==null?void 0:t.email)||"",onChange:w=>g(E=>({...E,emailAddress:w.target.value})),disabled:!h||a,placeholder:"Email address"})]}),e.jsxs("label",{children:["Emergency Contact",e.jsx("input",{value:A.emergencyContact,onChange:w=>g(E=>({...E,emergencyContact:w.target.value})),disabled:!h||a,placeholder:"Emergency contact"})]}),e.jsxs("label",{children:["Address",e.jsx("input",{value:A.addressLine,onChange:w=>g(E=>({...E,addressLine:w.target.value})),disabled:!h||a,placeholder:"Address line"})]}),e.jsxs("div",{className:"two-col",children:[e.jsxs("label",{children:["City",e.jsx("input",{value:A.city,onChange:w=>g(E=>({...E,city:w.target.value})),disabled:!h||a,placeholder:"City"})]}),e.jsxs("label",{children:["Pincode",e.jsx("input",{value:A.pincode,onChange:w=>g(E=>({...E,pincode:w.target.value})),disabled:!h||a,placeholder:"Pincode"})]})]}),e.jsxs("label",{children:["District",e.jsx("input",{value:A.district,onChange:w=>g(E=>({...E,district:w.target.value})),disabled:!h||a,placeholder:"District"})]}),h&&e.jsx("button",{className:"mobile-profile-btn",onClick:j,disabled:a,type:"button",children:a?"Saving...":"Save"})]})]}),e.jsxs("div",{className:"mobile-profile-card",children:[e.jsx("div",{className:"mobile-profile-section-title",children:"Security"}),e.jsxs("div",{className:"mobile-profile-form",children:[e.jsxs("label",{children:["Current Password",e.jsx("input",{type:"password",value:m.currentPassword,onChange:w=>x(E=>({...E,currentPassword:w.target.value})),disabled:a})]}),e.jsxs("label",{children:["New Password",e.jsx("input",{type:"password",value:m.newPassword,onChange:w=>x(E=>({...E,newPassword:w.target.value})),disabled:a})]}),e.jsxs("label",{children:["Confirm Password",e.jsx("input",{type:"password",value:m.confirmPassword,onChange:w=>x(E=>({...E,confirmPassword:w.target.value})),disabled:a})]}),e.jsx("button",{className:"mobile-profile-btn",onClick:b,disabled:a,type:"button",children:a?"Updating...":"Change Password"})]})]}),e.jsx("button",{className:"mobile-profile-btn danger",onClick:S,type:"button",children:"Logout"})]})})},rde=r=>{if(!r)return"-";const t=new Date(r);return Number.isNaN(t.getTime())?r:t.toLocaleString()},nde=()=>{const r=qa(),[t,n]=C.useState([]),[a,s]=C.useState(!1),[i,c]=C.useState(null),[o,d]=C.useState(""),l=C.useMemo(()=>{const h=o.trim().toLowerCase();return h?t.filter(f=>(f.barcode||"").toLowerCase().includes(h)||(f.status||"").toLowerCase().includes(h)||(f.wasteColor||"").toLowerCase().includes(h)):t},[t,o]),u=async()=>{s(!0),c(null);try{const h=await Th.getAllWasteCollections();n(Array.isArray(h)?h:[])}catch(h){c((h==null?void 0:h.message)||"Failed to load waste collections")}finally{s(!1)}};return C.useEffect(()=>{u()},[]),e.jsx(Wh,{title:"Waste Collections",showBackButton:!0,onBack:()=>r(-1),children:e.jsxs("div",{className:"mobile-wc",children:[e.jsxs("div",{className:"mobile-wc-toolbar",children:[e.jsx("input",{className:"mobile-wc-search",placeholder:"Search by barcode / status / color",value:o,onChange:h=>d(h.target.value)}),e.jsx("button",{className:"mobile-wc-refresh",onClick:u,disabled:a,type:"button",children:a?"...":""})]}),i&&e.jsx("div",{className:"mobile-wc-banner error",children:i}),e.jsxs("div",{className:"mobile-wc-actions",children:[e.jsx("button",{className:"mobile-wc-primary",type:"button",onClick:()=>r("/mobile/scan"),children:"New Collection (Scan)"}),e.jsx("button",{className:"mobile-wc-secondary",type:"button",onClick:()=>r("/mobile/waste-entry"),children:"Manual Waste Entry"})]}),e.jsx("div",{className:"mobile-wc-list",children:a&&t.length===0?e.jsx("div",{className:"mobile-wc-empty",children:"Loading..."}):l.length===0?e.jsx("div",{className:"mobile-wc-empty",children:"No waste collections found."}):l.map(h=>e.jsxs("div",{className:"mobile-wc-item",children:[e.jsxs("div",{className:"mobile-wc-item-top",children:[e.jsx("div",{className:"mobile-wc-barcode",children:h.barcode}),e.jsx("div",{className:`mobile-wc-badge ${String(h.status||"").toLowerCase().replace(/\s+/g,"-")}`,children:h.status})]}),e.jsxs("div",{className:"mobile-wc-meta",children:[e.jsxs("div",{className:"mobile-wc-meta-row",children:[e.jsx("span",{className:"k",children:"Color"}),e.jsx("span",{className:"v",children:h.wasteColor})]}),e.jsxs("div",{className:"mobile-wc-meta-row",children:[e.jsx("span",{className:"k",children:"Weight"}),e.jsx("span",{className:"v",children:h.weightKg??"-"})]}),e.jsxs("div",{className:"mobile-wc-meta-row",children:[e.jsx("span",{className:"k",children:"Created"}),e.jsx("span",{className:"v",children:rde(h.createdOn)})]})]})]},h.id))})]})})},ade=()=>{const r=qa(),[t,n]=C.useState([]),[a,s]=C.useState(""),[i,c]=C.useState(""),[o,d]=C.useState(!1),[l,u]=C.useState(null),[h,f]=C.useState([]);C.useEffect(()=>{(async()=>{try{const m=await ha.getAllCompanies(!0);n(m),m.length===1&&s(m[0].id)}catch(m){u((m==null?void 0:m.message)||"Failed to load companies")}})()},[]),C.useEffect(()=>{(async()=>{if(!a){f([]);return}d(!0),u(null);try{const[m,x]=await Promise.all([Kg.getAllRouteHcfMappings(void 0,void 0,a,!0),Mi.getAllHcfs(a,!0)]),y=new Map;(m||[]).forEach(S=>{const w=y.get(S.hcfId)||new Set;w.add(S.routeId),y.set(S.hcfId,w)});const j=new Set(Array.from(y.keys())),b=(x||[]).filter(S=>j.has(S.id)).map(S=>{var w;return{hcfId:S.id,hcfCode:S.hcfCode,hcfName:S.hcfName,area:S.district||S.areaId||"-",pincode:S.pincode||"-",routesCount:((w=y.get(S.id))==null?void 0:w.size)||0}});f(b)}catch(m){u((m==null?void 0:m.message)||"Failed to load assigned HCF list")}finally{d(!1)}})()},[a]);const A=C.useMemo(()=>{const g=i.trim().toLowerCase();return g?h.filter(m=>m.hcfCode.toLowerCase().includes(g)||m.hcfName.toLowerCase().includes(g)||m.area.toLowerCase().includes(g)||m.pincode.toLowerCase().includes(g)):h},[h,i]);return e.jsx(Wh,{title:"Assigned HCF List",showBackButton:!0,onBack:()=>r(-1),children:e.jsxs("div",{className:"mobile-ahcf",children:[e.jsxs("div",{className:"mobile-ahcf-toolbar",children:[e.jsx(PD,{placeholder:"Select Company",value:a,options:t.map(g=>({id:g.id,name:g.companyName})),onChange:s}),e.jsx("input",{className:"mobile-ahcf-search",value:i,onChange:g=>c(g.target.value),placeholder:"Search HCF code / name / area / pincode"})]}),l&&e.jsx("div",{className:"mobile-ahcf-banner",children:l}),e.jsx("div",{className:"mobile-ahcf-table",children:o?e.jsx("div",{className:"mobile-ahcf-empty",children:"Loading..."}):A.length===0?e.jsx("div",{className:"mobile-ahcf-empty",children:"No assigned HCFs found."}):e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"HCF Code"}),e.jsx("th",{children:"HCF Name"}),e.jsx("th",{children:"Area"}),e.jsx("th",{children:"PinCode"}),e.jsx("th",{children:"Routes"})]})}),e.jsx("tbody",{children:A.map(g=>e.jsxs("tr",{children:[e.jsx("td",{children:g.hcfCode}),e.jsx("td",{children:g.hcfName}),e.jsx("td",{children:g.area}),e.jsx("td",{children:g.pincode}),e.jsx("td",{children:g.routesCount})]},g.hcfId))})]})})]})})},sde=()=>{const r=qa();return e.jsx(Wh,{title:"Analytics",showBackButton:!0,onBack:()=>r("/mobile/home"),children:e.jsx("div",{className:"mobile-analytics",children:e.jsxs("div",{className:"mobile-analytics-card",children:[e.jsx("div",{className:"mobile-analytics-title",children:"Analytics"}),e.jsx("div",{className:"mobile-analytics-sub",children:"Mobile analytics screen. Use the buttons below to open full reports."}),e.jsx("button",{className:"mobile-analytics-btn",type:"button",onClick:()=>r("/report"),children:"Open Reports (Full)"}),e.jsx("button",{className:"mobile-analytics-btn secondary",type:"button",onClick:()=>r("/dashboard"),children:"Open Dashboard (Full)"})]})})})};function is({anyOf:r,children:t}){const{permissions:n}=Yn(),a=jn(),s=Array.isArray(n)?n:[];return s.includes("*")?e.jsx(e.Fragment,{children:t}):r.some(c=>Cc(s,c))?e.jsx(e.Fragment,{children:t}):e.jsx(Jp,{to:"/not-authorized",replace:!0,state:{from:a.pathname}})}const ide=()=>{const{user:r}=I_();return e.jsx(cR,{user:r,children:e.jsxs(WM,{children:[e.jsx(cn,{path:"/",element:e.jsx(Jp,{to:"/login",replace:!0})}),e.jsx(cn,{path:"/login",element:e.jsx(dR,{})}),e.jsx(cn,{path:"/verify-otp",element:e.jsx(uR,{})}),e.jsx(cn,{path:"/mobile/login",element:e.jsx(zse,{})}),e.jsx(cn,{path:"/mobile/home",element:e.jsx(An,{children:e.jsx(eie,{})})}),e.jsx(cn,{path:"/mobile/scan",element:e.jsx(An,{children:e.jsx(Gce,{})})}),e.jsx(cn,{path:"/mobile/waste-entry",element:e.jsx(An,{children:e.jsx(qce,{})})}),e.jsx(cn,{path:"/mobile/waste-collections",element:e.jsx(An,{children:e.jsx(nde,{})})}),e.jsx(cn,{path:"/mobile/assign-hospital",element:e.jsx(An,{children:e.jsx(Xce,{})})}),e.jsx(cn,{path:"/mobile/assigned-hcfs",element:e.jsx(An,{children:e.jsx(ade,{})})}),e.jsx(cn,{path:"/mobile/analytics",element:e.jsx(An,{children:e.jsx(sde,{})})}),e.jsx(cn,{path:"/mobile/hcf-master",element:e.jsx(An,{children:e.jsx(Yce,{})})}),e.jsx(cn,{path:"/mobile/profile",element:e.jsx(An,{children:e.jsx(tde,{})})}),e.jsx(cn,{path:"/mobile/settings",element:e.jsx(An,{children:e.jsx(ede,{})})}),e.jsx(cn,{path:"/dashboard",element:e.jsx(An,{children:e.jsx(fee,{})})}),e.jsx(cn,{path:"/not-authorized",element:e.jsx(An,{children:e.jsx(See,{})})}),e.jsx(cn,{path:"/admin/dashboard-configuration",element:e.jsx(An,{children:e.jsx(is,{anyOf:["DASHBOARD_CONFIG_UPDATE","DASHBOARD_CONFIG.UPDATE"],children:e.jsx(vee,{})})})}),e.jsx(cn,{path:"/admin/permission-configuration",element:e.jsx(An,{children:e.jsx(is,{anyOf:["ROLE_PERMISSIONS_MANAGE","ROLE_PERMISSIONS.MANAGE"],children:e.jsx(Nee,{})})})}),e.jsx(cn,{path:"/profile",element:e.jsx(An,{children:e.jsx(Yse,{})})}),e.jsx(cn,{path:"/transaction",element:e.jsx(An,{children:e.jsx(is,{anyOf:["MENU_TRANSACTION_VIEW","MENU_TRANSACTION.VIEW"],children:e.jsx(Eee,{})})})}),e.jsx(cn,{path:"/transaction/barcode-generation",element:e.jsx(An,{children:e.jsx(is,{anyOf:["BARCODE_LABEL_VIEW","BARCODE_LABEL_CREATE","BARCODE_LABEL_DELETE"],children:e.jsx(Xae,{})})})}),e.jsx(cn,{path:"/transaction/route-assignment",element:e.jsx(An,{children:e.jsx(is,{anyOf:["ROUTE_ASSIGNMENT_VIEW","ROUTE_ASSIGNMENT_CREATE","ROUTE_ASSIGNMENT_EDIT"],children:e.jsx(Jte,{})})})}),e.jsx(cn,{path:"/transaction/incident-register",element:e.jsx(An,{children:e.jsx(is,{anyOf:["INCIDENT_REGISTER_VIEW","INCIDENT_REGISTER_CREATE","INCIDENT_REGISTER_EDIT"],children:e.jsx(nre,{})})})}),e.jsx(cn,{path:"/transaction/incineration-register",element:e.jsx(An,{children:e.jsx(is,{anyOf:["INCINERATION_REGISTER_VIEW","INCINERATION_REGISTER_CREATE","INCINERATION_REGISTER_EDIT"],children:e.jsx(lre,{})})})}),e.jsx(cn,{path:"/transaction/autoclave-register",element:e.jsx(An,{children:e.jsx(is,{anyOf:["AUTOCLAVE_REGISTER_VIEW","AUTOCLAVE_REGISTER_CREATE","AUTOCLAVE_REGISTER_EDIT"],children:e.jsx(fre,{})})})}),e.jsx(cn,{path:"/transaction/shredder-register",element:e.jsx(An,{children:e.jsx(is,{anyOf:["SHREDDER_REGISTER_VIEW","SHREDDER_REGISTER_CREATE","SHREDDER_REGISTER_EDIT"],children:e.jsx(vre,{})})})}),e.jsx(cn,{path:"/transaction/disposal-register",element:e.jsx(An,{children:e.jsx(is,{anyOf:["DISPOSAL_REGISTER_VIEW","DISPOSAL_REGISTER_CREATE","DISPOSAL_REGISTER_EDIT"],children:e.jsx(wre,{})})})}),e.jsx(cn,{path:"/transaction/emission-register",element:e.jsx(An,{children:e.jsx(is,{anyOf:["EMISSION_REGISTER_VIEW","EMISSION_REGISTER_CREATE","EMISSION_REGISTER_EDIT"],children:e.jsx(Bre,{})})})}),e.jsx(cn,{path:"/transaction/etp-register",element:e.jsx(An,{children:e.jsx(is,{anyOf:["ETP_REGISTER_VIEW","ETP_REGISTER_CREATE","ETP_REGISTER_EDIT"],children:e.jsx(Ore,{})})})}),e.jsx(cn,{path:"/transaction/downtime-register",element:e.jsx(An,{children:e.jsx(is,{anyOf:["DOWNTIME_REGISTER_VIEW","DOWNTIME_REGISTER_CREATE","DOWNTIME_REGISTER_EDIT"],children:e.jsx(Rre,{})})})}),e.jsx(cn,{path:"/transaction/waste-collection",element:e.jsx(An,{children:e.jsx(is,{anyOf:["WASTE_COLLECTION_VIEW","WASTE_COLLECTION_CREATE","WASTE_COLLECTION_EDIT"],children:e.jsx(Qre,{})})})}),e.jsx(cn,{path:"/transaction/waste-transaction-data",element:e.jsx(An,{children:e.jsx(is,{anyOf:["WASTE_TRANSACTION_VIEW","WASTE_TRANSACTION_CREATE","WASTE_TRANSACTION_EDIT","WASTE_TRANSACTION_VERIFY"],children:e.jsx(Xre,{})})})}),e.jsx(cn,{path:"/transaction/vehicle-wise-waste-collection",element:e.jsx(An,{children:e.jsx(is,{anyOf:["VEHICLE_WASTE_COLLECTION_VIEW","VEHICLE_WASTE_COLLECTION_CREATE","VEHICLE_WASTE_COLLECTION_EDIT","VEHICLE_WASTE_COLLECTION_VERIFY"],children:e.jsx(ene,{})})})}),e.jsx(cn,{path:"/transaction/waste-processing",element:e.jsx(An,{children:e.jsx(is,{anyOf:["WASTE_PROCESS_VIEW","WASTE_PROCESS_CREATE","WASTE_PROCESS_EDIT","WASTE_PROCESS_VERIFY","WASTE_PROCESS_CLOSE"],children:e.jsx(ane,{})})})}),e.jsx(cn,{path:"/finance",element:e.jsx(An,{children:e.jsx(is,{anyOf:["MENU_FINANCE_VIEW","MENU_FINANCE.VIEW","FINANCE_VIEW","FINANCE.VIEW"],children:e.jsx(Bee,{})})})}),e.jsx(cn,{path:"/commercial-agreements",element:e.jsx(An,{children:e.jsx(is,{anyOf:["MENU_COMMERCIAL_VIEW","MENU_COMMERCIAL.VIEW"],children:e.jsx(Iee,{})})})}),e.jsx(cn,{path:"/commercial-agreements/contract-master",element:e.jsx(An,{children:e.jsx(is,{anyOf:["CONTRACT_VIEW","CONTRACT_CREATE","CONTRACT_EDIT","CONTRACT_DELETE"],children:e.jsx(lse,{})})})}),e.jsx(cn,{path:"/commercial-agreements/agreement",element:e.jsx(An,{children:e.jsx(is,{anyOf:["AGREEMENT_VIEW","AGREEMENT_CREATE","AGREEMENT_EDIT","AGREEMENT_DELETE"],children:e.jsx(vse,{})})})}),e.jsx(cn,{path:"/commercial-agreements/agreement-clause",element:e.jsx(An,{children:e.jsx(is,{anyOf:["AGREEMENT_CLAUSE_VIEW","AGREEMENT_CLAUSE_CREATE","AGREEMENT_CLAUSE_EDIT","AGREEMENT_CLAUSE_DELETE"],children:e.jsx(wse,{})})})}),e.jsx(cn,{path:"/compliance-training",element:e.jsx(An,{children:e.jsx(is,{anyOf:["MENU_COMPLIANCE_VIEW","MENU_COMPLIANCE.VIEW"],children:e.jsx(Tee,{})})})}),e.jsx(cn,{path:"/compliance-training/training-certificate-management",element:e.jsx(An,{children:e.jsx(is,{anyOf:["TRAINING_CERTIFICATE_VIEW","TRAINING_CERTIFICATE_CREATE","TRAINING_CERTIFICATE_EDIT","TRAINING_CERTIFICATE_DELETE"],children:e.jsx(rse,{})})})}),e.jsx(cn,{path:"/master",element:e.jsx(An,{children:e.jsx(is,{anyOf:["MENU_MASTER_VIEW","MENU_MASTER.VIEW","MASTERS_VIEW","MASTERS.VIEW","MASTER_VIEW","MASTER.VIEW"],children:e.jsx(kee,{})})})}),e.jsx(cn,{path:"/master/company",element:e.jsx(An,{children:e.jsx(is,{anyOf:["COMPANY_VIEW","COMPANY_CREATE","COMPANY_EDIT","COMPANY_DELETE"],children:e.jsx(_ee,{})})})}),e.jsx(cn,{path:"/master/state",element:e.jsx(An,{children:e.jsx(is,{anyOf:["STATE_VIEW","STATE_CREATE","STATE_EDIT","STATE_DELETE"],children:e.jsx(Mee,{})})})}),e.jsx(cn,{path:"/master/area",element:e.jsx(An,{children:e.jsx(is,{anyOf:["AREA_VIEW","AREA_CREATE","AREA_EDIT","AREA_DELETE"],children:e.jsx(Qee,{})})})}),e.jsx(cn,{path:"/master/category",element:e.jsx(An,{children:e.jsx(is,{anyOf:["CATEGORY_VIEW","CATEGORY_CREATE","CATEGORY_EDIT","CATEGORY_DELETE"],children:e.jsx(Kee,{})})})}),e.jsx(cn,{path:"/master/pcb-zone",element:e.jsx(An,{children:e.jsx(is,{anyOf:["PCB_ZONE_VIEW","PCB_ZONE_CREATE","PCB_ZONE_EDIT","PCB_ZONE_DELETE"],children:e.jsx(Jee,{})})})}),e.jsx(cn,{path:"/master/route",element:e.jsx(An,{children:e.jsx(is,{anyOf:["ROUTE_VIEW","ROUTE_CREATE","ROUTE_EDIT","ROUTE_DELETE"],children:e.jsx(ste,{})})})}),e.jsx(cn,{path:"/master/color-code",element:e.jsx(An,{children:e.jsx(is,{anyOf:["COLOR_VIEW","COLOR_CREATE","COLOR_EDIT","COLOR_DELETE"],children:e.jsx(dte,{})})})}),e.jsx(cn,{path:"/master/user-management",element:e.jsx(An,{children:e.jsx(is,{anyOf:["USER_VIEW","USER_CREATE","USER_EDIT","USER_DELETE","USER_ACTIVATE","USER_DEACTIVATE"],children:e.jsx(xte,{})})})}),e.jsx(cn,{path:"/master/roles-permissions",element:e.jsx(An,{children:e.jsx(is,{anyOf:["ROLE_VIEW","ROLE_CREATE","ROLE_EDIT","ROLE_DELETE","ROLE_PERMISSIONS_MANAGE"],children:e.jsx(wte,{})})})}),e.jsx(cn,{path:"/master/hcf-master",element:e.jsx(An,{children:e.jsx(is,{anyOf:["HCF_VIEW","HCF_CREATE","HCF_EDIT","HCF_DELETE"],children:e.jsx(Ete,{})})})}),e.jsx(cn,{path:"/master/hcf-amendments",element:e.jsx(An,{children:e.jsx(is,{anyOf:["HCF_AMENDMENT_VIEW","HCF_AMENDMENT_CREATE","HCF_AMENDMENT_EDIT","HCF_AMENDMENT_DELETE"],children:e.jsx(_te,{})})})}),e.jsx(cn,{path:"/master/hcf-type",element:e.jsx(An,{children:e.jsx(is,{anyOf:["HCF_TYPE_VIEW","HCF_TYPE_CREATE","HCF_TYPE_EDIT","HCF_TYPE_DELETE"],children:e.jsx(Pte,{})})})}),e.jsx(cn,{path:"/master/fleet-management",element:e.jsx(An,{children:e.jsx(is,{anyOf:["FLEET_VIEW","FLEET_CREATE","FLEET_EDIT","FLEET_DELETE"],children:e.jsx(Ute,{})})})}),e.jsx(cn,{path:"/master/route-hcf-mapping",element:e.jsx(An,{children:e.jsx(is,{anyOf:["ROUTE_HCF_VIEW","ROUTE_HCF_CREATE","ROUTE_HCF_EDIT","ROUTE_HCF_DELETE"],children:e.jsx($te,{})})})}),e.jsx(cn,{path:"/master/frequency",element:e.jsx(An,{children:e.jsx(is,{anyOf:["FREQUENCY_VIEW","FREQUENCY_CREATE","FREQUENCY_EDIT","FREQUENCY_DELETE"],children:e.jsx(Kte,{})})})}),e.jsx(cn,{path:"/finance/invoice-management",element:e.jsx(An,{children:e.jsx(is,{anyOf:["INVOICE_VIEW","INVOICE_CREATE","INVOICE_UPDATE","INVOICE_DELETE"],children:e.jsx(xne,{})})})}),e.jsx(cn,{path:"/finance/payment",element:e.jsx(An,{children:e.jsx(is,{anyOf:["INVOICE_VIEW","INVOICE_CREATE"],children:e.jsx(Ine,{})})})}),e.jsx(cn,{path:"/finance/payment-success",element:e.jsx(An,{children:e.jsx(Tne,{})})}),e.jsx(cn,{path:"/finance/receipt-management",element:e.jsx(An,{children:e.jsx(is,{anyOf:["INVOICE_VIEW","INVOICE_CREATE"],children:e.jsx(kne,{})})})}),e.jsx(cn,{path:"/finance/financial-balance-summary",element:e.jsx(An,{children:e.jsx(is,{anyOf:["INVOICE_VIEW","INVOICE_CREATE"],children:e.jsx(Lne,{})})})}),e.jsx(cn,{path:"/report",element:e.jsx(An,{children:e.jsx(is,{anyOf:["MENU_REPORTS_VIEW","MENU_REPORTS.VIEW","REPORTS_VIEW","REPORTS.VIEW"],children:e.jsx(Bse,{})})})}),e.jsx(cn,{path:"/report/invoice",element:e.jsx(An,{children:e.jsx(pC,{})})}),e.jsx(cn,{path:"/report/contract",element:e.jsx(An,{children:e.jsx(Ose,{})})}),e.jsx(cn,{path:"/report/hcf",element:e.jsx(An,{children:e.jsx(Fse,{})})}),e.jsx(cn,{path:"/report/training-certificate",element:e.jsx(An,{children:e.jsx(Pse,{})})}),e.jsx(cn,{path:"/report/payment",element:e.jsx(An,{children:e.jsx(Tk,{})})}),e.jsx(cn,{path:"/report/agreement",element:e.jsx(An,{children:e.jsx(Dse,{})})}),e.jsx(cn,{path:"/report/barcode",element:e.jsx(An,{children:e.jsx(kk,{})})}),e.jsx(cn,{path:"/report/barcode-usage",element:e.jsx(An,{children:e.jsx(kk,{})})}),e.jsx(cn,{path:"/report/user",element:e.jsx(An,{children:e.jsx(Rse,{})})}),e.jsx(cn,{path:"/report/fleet",element:e.jsx(An,{children:e.jsx(Lse,{})})}),e.jsx(cn,{path:"/report/revenue",element:e.jsx(An,{children:e.jsx(_k,{})})}),e.jsx(cn,{path:"/report/outstanding",element:e.jsx(An,{children:e.jsx(Ok,{})})}),e.jsx(cn,{path:"/report/contract-renewal",element:e.jsx(An,{children:e.jsx(Use,{})})}),e.jsx(cn,{path:"/report/route",element:e.jsx(An,{children:e.jsx(Hse,{})})}),e.jsx(cn,{path:"/report/collection",element:e.jsx(An,{children:e.jsx(Qse,{})})}),e.jsx(cn,{path:"/report/company",element:e.jsx(An,{children:e.jsx(Wse,{})})}),e.jsx(cn,{path:"/report/compliance",element:e.jsx(An,{children:e.jsx($se,{})})}),e.jsx(cn,{path:"/report/fleet-master",element:e.jsx(An,{children:e.jsx(Vse,{})})}),e.jsx(cn,{path:"/report/billing-finance",element:e.jsx(An,{children:e.jsx(Ise,{})})}),e.jsx(cn,{path:"/report/billing-finance/invoice-generation",element:e.jsx(An,{children:e.jsx(pC,{})})}),e.jsx(cn,{path:"/report/billing-finance/unbilled-services",element:e.jsx(An,{children:e.jsx(pC,{})})}),e.jsx(cn,{path:"/report/billing-finance/outstanding-payments",element:e.jsx(An,{children:e.jsx(Ok,{})})}),e.jsx(cn,{path:"/report/billing-finance/pending-payments",element:e.jsx(An,{children:e.jsx(Tk,{})})}),e.jsx(cn,{path:"/report/billing-finance/cost-revenue-analysis",element:e.jsx(An,{children:e.jsx(_k,{})})}),e.jsx(cn,{path:"/report/operations-logistics",element:e.jsx(An,{children:e.jsx(Tse,{})})}),e.jsx(cn,{path:"/report/hcf-compliance",element:e.jsx(An,{children:e.jsx(kse,{})})}),e.jsx(cn,{path:"/users/new",element:e.jsx(YS,{children:e.jsx(An,{roles:["admin"],children:e.jsx(Sse,{})})})}),e.jsx(cn,{path:"/mobile/users/new",element:e.jsx(YS,{children:e.jsx(An,{roles:["admin","manager"],children:e.jsx(Xse,{})})})})]})})},ode=()=>e.jsx(oR,{children:e.jsx(ide,{})});class lde extends C.Component{constructor(){super(...arguments);ei(this,"state",{hasError:!1,error:null})}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,a){console.error("Uncaught error:",n,a)}render(){return this.state.hasError?e.jsxs("div",{style:{padding:"20px",fontFamily:"Arial, sans-serif"},children:[e.jsx("h2",{style:{color:"#dc2626"},children:"Something went wrong"}),e.jsx("p",{children:"Please check the browser console for details."}),e.jsxs("details",{style:{marginTop:"10px"},children:[e.jsx("summary",{style:{cursor:"pointer",color:"#3b82f6"},children:"Error Details"}),e.jsxs("pre",{style:{background:"#f3f4f6",padding:"10px",borderRadius:"4px",overflow:"auto",marginTop:"10px"},children:[this.state.error&&this.state.error.toString(),this.state.error&&this.state.error.stack]})]}),e.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:"10px",padding:"8px 16px",background:"#3b82f6",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Reload Page"})]}):this.props.children}}const MD=document.getElementById("root");if(!MD)throw new Error("Root element #root not found. Make sure index.html mounts it.");YD.createRoot(MD).render(e.jsx(Ct.StrictMode,{children:e.jsx(lde,{children:e.jsx(YM,{children:e.jsx(ode,{})})})}));
